---
title: soluzioni aaaStorage per le macchine virtuali Linux in Azure | Documenti Microsoft
description: Informazioni su hello progettazione e implementazione di linee guida fondamentali per la distribuzione di soluzioni di archiviazione in servizi di infrastruttura di Azure.
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 3c368f07-189b-4520-bbe2-f4080253bbf2
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: d270c4786d7b55b18b011aa345063b6816a80876
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-infrastructure-guidelines-for-linux-vms"></a><span data-ttu-id="85f1a-103">Linee guida per l'infrastruttura di archiviazione di Azure per macchine virtuali Linux</span><span class="sxs-lookup"><span data-stu-id="85f1a-103">Azure storage infrastructure guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="85f1a-104">Questo articolo è incentrato sulla comprensione delle esigenze di archiviazione e sulle considerazioni di progettazione per il raggiungimento di livelli di prestazioni ottimali delle macchine virtuali (VM).</span><span class="sxs-lookup"><span data-stu-id="85f1a-104">This article focuses on understanding storage needs and design considerations for achieving optimum virtual machine (VM) performance.</span></span>

## <a name="implementation-guidelines-for-storage"></a><span data-ttu-id="85f1a-105">Linee guida di implementazione per l'archiviazione</span><span class="sxs-lookup"><span data-stu-id="85f1a-105">Implementation guidelines for storage</span></span>
<span data-ttu-id="85f1a-106">Decisioni:</span><span class="sxs-lookup"><span data-stu-id="85f1a-106">Decisions:</span></span>

* <span data-ttu-id="85f1a-107">Verranno toouse dischi gestiti di Azure o i dischi non gestiti?</span><span class="sxs-lookup"><span data-stu-id="85f1a-107">Are you going toouse Azure Managed Disks or unmanaged disks?</span></span>
* <span data-ttu-id="85f1a-108">È necessario spazio di archiviazione toouse Standard o Premium per il carico di lavoro?</span><span class="sxs-lookup"><span data-stu-id="85f1a-108">Do you need toouse Standard or Premium storage for your workload?</span></span>
* <span data-ttu-id="85f1a-109">È necessario dischi toocreate lo striping di disco più di 4TB?</span><span class="sxs-lookup"><span data-stu-id="85f1a-109">Do you need disk striping toocreate disks larger than 4TB?</span></span>
* <span data-ttu-id="85f1a-110">È necessario lo striping tooachieve ottimale i/o del disco per il carico di lavoro?</span><span class="sxs-lookup"><span data-stu-id="85f1a-110">Do you need disk striping tooachieve optimal I/O performance for your workload?</span></span>
* <span data-ttu-id="85f1a-111">Il set di account di archiviazione è necessario toohost l'infrastruttura o il carico di lavoro IT?</span><span class="sxs-lookup"><span data-stu-id="85f1a-111">What set of storage accounts do you need toohost your IT workload or infrastructure?</span></span>

<span data-ttu-id="85f1a-112">Attività:</span><span class="sxs-lookup"><span data-stu-id="85f1a-112">Tasks:</span></span>

* <span data-ttu-id="85f1a-113">Rivedere le richieste dei / o delle applicazioni di hello si distribuiscono e si prevede di tipo di account di archiviazione e il numero appropriato di hello.</span><span class="sxs-lookup"><span data-stu-id="85f1a-113">Review I/O demands of hello applications you are deploying and plan hello appropriate number and type of storage accounts.</span></span>
* <span data-ttu-id="85f1a-114">Creare set di hello di account di archiviazione usando la convenzione di denominazione.</span><span class="sxs-lookup"><span data-stu-id="85f1a-114">Create hello set of storage accounts using your naming convention.</span></span> <span data-ttu-id="85f1a-115">È possibile utilizzare il portale di Azure CLI o hello hello.</span><span class="sxs-lookup"><span data-stu-id="85f1a-115">You can use hello Azure CLI or hello portal.</span></span>

## <a name="storage"></a><span data-ttu-id="85f1a-116">Archiviazione</span><span class="sxs-lookup"><span data-stu-id="85f1a-116">Storage</span></span>
<span data-ttu-id="85f1a-117">Archiviazione di Azure è una parte fondamentale della distribuzione e della gestione di applicazioni e macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="85f1a-117">Azure Storage is a key part of deploying and managing virtual machines (VMs) and applications.</span></span> <span data-ttu-id="85f1a-118">Archiviazione di Azure fornisce servizi per l'archiviazione dei dati dei file, dati non strutturati e i messaggi e fa anche parte dell'infrastruttura di hello che supporta le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="85f1a-118">Azure Storage provides services for storing file data, unstructured data, and messages, and it is also part of hello infrastructure supporting VMs.</span></span>

<span data-ttu-id="85f1a-119">[I dischi di Azure gestiti](../../storage/storage-managed-disks-overview.md) gestisce l'archiviazione dei background hello.</span><span class="sxs-lookup"><span data-stu-id="85f1a-119">[Azure Managed Disks](../../storage/storage-managed-disks-overview.md) handles storage for you behind hello scenes.</span></span> <span data-ttu-id="85f1a-120">Con i dischi non gestiti, per creare gli account di archiviazione dischi hello toohold (file VHD) per le macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="85f1a-120">With unmanaged disks, you create storage accounts toohold hello disks (VHD files) for your Azure VMs.</span></span> <span data-ttu-id="85f1a-121">La scalabilità, è necessario assicurarsi creato gli account di archiviazione aggiuntivo in modo da non superare il limite di IOPS hello per l'archiviazione con uno qualsiasi dei dischi.</span><span class="sxs-lookup"><span data-stu-id="85f1a-121">When scaling up, you must make sure you created additional storage accounts so you don’t exceed hello IOPS limit for storage with any of your disks.</span></span> <span data-ttu-id="85f1a-122">Con dischi gestiti gestione archiviazione, non è limitato da hello limiti dell'account di archiviazione (ad esempio 20.000 IOPS / account).</span><span class="sxs-lookup"><span data-stu-id="85f1a-122">With Managed Disks handling storage, you are no longer limited by hello storage account limits (such as 20,000 IOPS / account).</span></span> <span data-ttu-id="85f1a-123">Inoltre non è più necessario toocopy gli account di archiviazione toomultiple immagini personalizzate (file VHD).</span><span class="sxs-lookup"><span data-stu-id="85f1a-123">You also no longer have toocopy your custom images (VHD files) toomultiple storage accounts.</span></span> <span data-ttu-id="85f1a-124">È possibile gestirli in una posizione centrale: un account di archiviazione per ogni area di Azure e usarli toocreate centinaia di macchine virtuali in una sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="85f1a-124">You can manage them in a central location – one storage account per Azure region – and use them toocreate hundreds of VMs in a subscription.</span></span> <span data-ttu-id="85f1a-125">È consigliabile usare Managed Disks per le nuove distribuzioni.</span><span class="sxs-lookup"><span data-stu-id="85f1a-125">We recommend you use Managed Disks for new deployments.</span></span>

<span data-ttu-id="85f1a-126">Per il supporto delle macchine virtuali sono disponibili due tipi di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="85f1a-126">There are two types of storage accounts available for supporting VMs:</span></span>

* <span data-ttu-id="85f1a-127">Consentono di account di archiviazione standard accedere archiviazione tooblob (utilizzato per l'archiviazione dei dischi di macchina virtuale di Azure), archiviazione, l'archiviazione delle code, tabelle e file di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="85f1a-127">Standard storage accounts give you access tooblob storage (used for storing Azure VM disks), table storage, queue storage, and file storage.</span></span>
* <span data-ttu-id="85f1a-128">[Archiviazione Premium](../../storage/storage-premium-storage.md) offre prestazioni elevate e supporto per dischi a bassa latenza per carichi di lavoro con uso intensivo di I/O, ad esempio cluster condivisi MongoDB.</span><span class="sxs-lookup"><span data-stu-id="85f1a-128">[Premium storage](../../storage/storage-premium-storage.md) accounts deliver high-performance, low-latency disk support for I/O intensive workloads, such as MongoDB Sharded cluster.</span></span> <span data-ttu-id="85f1a-129">Attualmente l'archiviazione Premium di Azure supporta solo i dischi di VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="85f1a-129">Premium storage currently supports Azure VM disks only.</span></span>

<span data-ttu-id="85f1a-130">Azure consente di creare macchine virtuali con un disco del sistema operativo, un disco temporaneo e nessuno o più dischi dati facoltativi.</span><span class="sxs-lookup"><span data-stu-id="85f1a-130">Azure creates VMs with an operating system disk, a temporary disk, and zero or more optional data disks.</span></span> <span data-ttu-id="85f1a-131">disco del sistema operativo Hello e i dischi dati sono BLOB di pagine di Azure, mentre il disco temporaneo hello archiviato localmente nel nodo hello in cui risiede la macchina hello.</span><span class="sxs-lookup"><span data-stu-id="85f1a-131">hello operating system disk and data disks are Azure page blobs, whereas hello temporary disk is stored locally on hello node where hello machine lives.</span></span> <span data-ttu-id="85f1a-132">Prestare attenzione quando si progettano applicazioni tooonly utilizzano il disco temporaneo per i dati non persistenti come hello VM può eseguire la migrazione tra host durante un evento di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="85f1a-132">Take care when designing applications tooonly use this temporary disk for non-persistent data as hello VM may be migrated between hosts during a maintenance event.</span></span> <span data-ttu-id="85f1a-133">Tutti i dati archiviati su disco temporaneo hello potrebbero essere persi.</span><span class="sxs-lookup"><span data-stu-id="85f1a-133">Any data stored on hello temporary disk would be lost.</span></span>

<span data-ttu-id="85f1a-134">Durabilità e disponibilità elevata viene fornito da hello sottostante tooensure ambiente di archiviazione di Azure che i dati rimangono protetti in caso di errori hardware o di manutenzione non pianificata.</span><span class="sxs-lookup"><span data-stu-id="85f1a-134">Durability and high availability is provided by hello underlying Azure Storage environment tooensure that your data remains protected against unplanned maintenance or hardware failures.</span></span> <span data-ttu-id="85f1a-135">Quando si progetta l'ambiente di archiviazione di Azure, è possibile scegliere l'archiviazione macchina virtuale tooreplicate:</span><span class="sxs-lookup"><span data-stu-id="85f1a-135">As you design your Azure Storage environment, you can choose tooreplicate VM storage:</span></span>

* <span data-ttu-id="85f1a-136">in locale all'interno di un data center di Azure</span><span class="sxs-lookup"><span data-stu-id="85f1a-136">locally within a given Azure datacenter</span></span>
* <span data-ttu-id="85f1a-137">nei vari data center di Azure all'interno di una determinata area;</span><span class="sxs-lookup"><span data-stu-id="85f1a-137">across Azure datacenters within a given region</span></span>
* <span data-ttu-id="85f1a-138">nei vari data center di Azure all'interno di aree diverse.</span><span class="sxs-lookup"><span data-stu-id="85f1a-138">across Azure datacenters across different regions.</span></span>

<span data-ttu-id="85f1a-139">È possibile leggere [ulteriori informazioni sulle opzioni di replica hello per la disponibilità elevata](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span><span class="sxs-lookup"><span data-stu-id="85f1a-139">You can read [more about hello replication options for high availability](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span></span>

<span data-ttu-id="85f1a-140">I dischi dati e del sistema operativo hanno una dimensione massima di 4TB.</span><span class="sxs-lookup"><span data-stu-id="85f1a-140">Operating system disks and data disks have a maximum size of 4TB.</span></span> <span data-ttu-id="85f1a-141">È possibile utilizzare questo limite logico Volume Manager (LVM) toosurpass dal pool di dischi toopresent logico volumi di dati maggiori di 1023GB tooyour VM insieme.</span><span class="sxs-lookup"><span data-stu-id="85f1a-141">You can use Logical Volume Manager (LVM) toosurpass this limit by pooling together data disks toopresent logical volumes larger than 1023GB tooyour VM.</span></span>

<span data-ttu-id="85f1a-142">Quando si progettano le distribuzioni di Archiviazione di Azure, esistono alcuni limiti di scalabilità. Per altre informazioni, vedere [Sottoscrizione di Azure e limiti, quote e vincoli dei servizi](../../azure-subscription-service-limits.md#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="85f1a-142">There are some scalability limits when designing your Azure Storage deployments - for more information, see [Microsoft Azure subscription and service limits, quotas, and constraints](../../azure-subscription-service-limits.md#storage-limits).</span></span> <span data-ttu-id="85f1a-143">Vedere anche [Obiettivi di scalabilità e prestazioni per Archiviazione di Azure](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="85f1a-143">Also see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

<span data-ttu-id="85f1a-144">Quanto all'archiviazione delle applicazioni, è possibile archiviare dati oggetto non strutturati, ad esempio documenti, immagini, backup, dati di configurazione, log e così via</span><span class="sxs-lookup"><span data-stu-id="85f1a-144">For application storage, you can store unstructured object data such as documents, images, backups, configuration data, logs, etc.</span></span> <span data-ttu-id="85f1a-145">usando l'archiviazione BLOB.</span><span class="sxs-lookup"><span data-stu-id="85f1a-145">using blob storage.</span></span> <span data-ttu-id="85f1a-146">Anziché l'applicazione scrittura tooa disco virtuale collegato toohello VM, un'applicazione hello possibile scrivere direttamente nell'archiviazione blob tooAzure.</span><span class="sxs-lookup"><span data-stu-id="85f1a-146">Rather than your application writing tooa virtual disk attached toohello VM, hello application can write directly tooAzure blob storage.</span></span> <span data-ttu-id="85f1a-147">Archiviazione BLOB offre inoltre l'opzione di hello di [a caldo e interessanti livelli di archiviazione](../../storage/storage-blob-storage-tiers.md) in base alle esigenze di disponibilità e i vincoli di costo.</span><span class="sxs-lookup"><span data-stu-id="85f1a-147">Blob storage also provides hello option of [hot and cool storage tiers](../../storage/storage-blob-storage-tiers.md) depending on your availability needs and cost constraints.</span></span>

## <a name="striped-disks"></a><span data-ttu-id="85f1a-148">Dischi con striping</span><span class="sxs-lookup"><span data-stu-id="85f1a-148">Striped disks</span></span>
<span data-ttu-id="85f1a-149">Oltre a consentire dischi toocreate maggiore di 1023 GB, in molti casi, utilizzare lo striping dei dischi dati migliora le prestazioni, consentendo più BLOB di archiviazione hello tooback per un singolo volume.</span><span class="sxs-lookup"><span data-stu-id="85f1a-149">Besides allowing you toocreate disks larger than 1023 GB, in many instances, using striping for data disks enhances performance by allowing multiple blobs tooback hello storage for a single volume.</span></span> <span data-ttu-id="85f1a-150">Con lo striping hello i/o necessari toowrite e lettura dei dati da un singolo disco logico consente di passare in parallelo.</span><span class="sxs-lookup"><span data-stu-id="85f1a-150">With striping, hello I/O required toowrite and read data from a single logical disk proceeds in parallel.</span></span>

<span data-ttu-id="85f1a-151">Azure impone limiti sul numero hello di dischi dati e la quantità di larghezza di banda disponibile, a seconda delle dimensioni della macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="85f1a-151">Azure imposes limits on hello number of data disks and amount of bandwidth available, depending on hello VM size.</span></span> <span data-ttu-id="85f1a-152">Per informazioni dettagliate, vedere [Dimensioni delle macchine virtuali](sizes.md)</span><span class="sxs-lookup"><span data-stu-id="85f1a-152">For details, see [Sizes for virtual machines](sizes.md)</span></span>

<span data-ttu-id="85f1a-153">Se si utilizza lo striping del disco per i dischi di dati di Azure, è consigliabile hello alle linee guida:</span><span class="sxs-lookup"><span data-stu-id="85f1a-153">If you are using disk striping for Azure data disks, consider hello following guidelines:</span></span>

* <span data-ttu-id="85f1a-154">Collegare i dischi di dati massimo hello consentiti per hello dimensioni della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="85f1a-154">Attach hello maximum data disks allowed for hello VM size.</span></span>
* <span data-ttu-id="85f1a-155">Usare la gestione dei volumi logici (LVM).</span><span class="sxs-lookup"><span data-stu-id="85f1a-155">Use LVM.</span></span>
* <span data-ttu-id="85f1a-156">Evitare di usare le opzioni di memorizzazione nella cache del disco di dati di Azure (criterio di memorizzazione nella cache = Nessuno).</span><span class="sxs-lookup"><span data-stu-id="85f1a-156">Avoid using Azure data disk caching options (caching policy = None).</span></span>

<span data-ttu-id="85f1a-157">Per ulteriori informazioni, vedere [Configurare LVM in una macchina virtuale Linux](configure-lvm.md).</span><span class="sxs-lookup"><span data-stu-id="85f1a-157">For more information, see [Configuring LVM on a Linux VM](configure-lvm.md).</span></span>

## <a name="multiple-storage-accounts"></a><span data-ttu-id="85f1a-158">Account di archiviazione multipli</span><span class="sxs-lookup"><span data-stu-id="85f1a-158">Multiple storage accounts</span></span>
<span data-ttu-id="85f1a-159">In questa sezione non si applica troppo[dischi gestiti di Azure](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), come non creare gli account di archiviazione separata.</span><span class="sxs-lookup"><span data-stu-id="85f1a-159">This section does not apply too[Azure Managed Disks](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), as you do not create separate storage accounts.</span></span> 

<span data-ttu-id="85f1a-160">Quando si progetta l'ambiente di archiviazione di Azure per i dischi non gestiti, è possibile utilizzare più account di archiviazione come il numero di hello di macchine virtuali distribuiti aumenta.</span><span class="sxs-lookup"><span data-stu-id="85f1a-160">When designing your Azure Storage environment for unmanaged disks, you can use multiple storage accounts as hello number of VMs you deploy increases.</span></span> <span data-ttu-id="85f1a-161">Questo approccio consente di distribuire out hello i/o tra hello sottostante servizio di archiviazione Azure infrastruttura toomaintain prestazioni ottimali per le macchine virtuali e applicazioni.</span><span class="sxs-lookup"><span data-stu-id="85f1a-161">This approach helps distribute out hello I/O across hello underlying Azure Storage infrastructure toomaintain optimum performance for your VMs and applications.</span></span> <span data-ttu-id="85f1a-162">Durante la Progettazione applicazioni hello che si desidera distribuire, considerare i requisiti dei / o hello che ogni macchina virtuale dispone e saldo out tali macchine virtuali tra account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="85f1a-162">As you design hello applications that you are deploying, consider hello I/O requirements each VM has and balance out those VMs across Azure Storage accounts.</span></span> <span data-ttu-id="85f1a-163">Provare a tooavoid raggruppamento tutti hello i/o richiedono le macchine virtuali negli account di archiviazione toojust uno o due.</span><span class="sxs-lookup"><span data-stu-id="85f1a-163">Try tooavoid grouping all hello high I/O demanding VMs in toojust one or two storage accounts.</span></span>

<span data-ttu-id="85f1a-164">Per ulteriori informazioni sulle funzionalità dei / o hello le diverse opzioni di archiviazione di Azure hello e per consigliare valori massimi, vedere [obiettivi di scalabilità e prestazioni di archiviazione di Azure](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="85f1a-164">For more information about hello I/O capabilities of hello different Azure Storage options and some recommend maximums, see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="85f1a-165">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="85f1a-165">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

