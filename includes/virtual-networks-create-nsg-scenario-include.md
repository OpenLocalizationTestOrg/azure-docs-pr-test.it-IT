## <a name="scenario"></a><span data-ttu-id="32cf4-101">Scenario</span><span class="sxs-lookup"><span data-stu-id="32cf4-101">Scenario</span></span>
<span data-ttu-id="32cf4-102">Per illustrare meglio come creare un NSG, in questo documento verrà utilizzato lo scenario seguente.</span><span class="sxs-lookup"><span data-stu-id="32cf4-102">To better illustrate how to create NSGs, this document will use the scenario below.</span></span>

![Scenario di una rete virtuale](./media/virtual-networks-create-nsg-scenario-include/figure1.png)

<span data-ttu-id="32cf4-104">In questo scenario si creerà un NSG per ogni subnet nella rete virtuale **TestVNet** , come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="32cf4-104">In this scenario you will create an NSG for each subnet in the **TestVNet** virtual network, as described below:</span></span> 

* <span data-ttu-id="32cf4-105">**NSG-FrontEnd**.</span><span class="sxs-lookup"><span data-stu-id="32cf4-105">**NSG-FrontEnd**.</span></span> <span data-ttu-id="32cf4-106">Il front-end NSG verrà applicato per il subnet *front-end* , e contiene due regole:</span><span class="sxs-lookup"><span data-stu-id="32cf4-106">The front end NSG will be applied to the *FrontEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="32cf4-107">**regola-rdp**.</span><span class="sxs-lookup"><span data-stu-id="32cf4-107">**rdp-rule**.</span></span> <span data-ttu-id="32cf4-108">Questa regola consente il traffico RDP verso il subnet *front-end* .</span><span class="sxs-lookup"><span data-stu-id="32cf4-108">This rule will allow RDP traffic to the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="32cf4-109">**regola-web**.</span><span class="sxs-lookup"><span data-stu-id="32cf4-109">**web-rule**.</span></span> <span data-ttu-id="32cf4-110">Questa regola consente il traffico HTTP verso il subnet *front-end* .</span><span class="sxs-lookup"><span data-stu-id="32cf4-110">This rule will allow HTTP traffic to the *FrontEnd* subnet.</span></span>
* <span data-ttu-id="32cf4-111">**Back-end di NSG**.</span><span class="sxs-lookup"><span data-stu-id="32cf4-111">**NSG-BackEnd**.</span></span> <span data-ttu-id="32cf4-112">Il back-end NSG verrà applicato per il subnet *back-end* , e contiene due regole:</span><span class="sxs-lookup"><span data-stu-id="32cf4-112">The back end NSG will be applied to the *BackEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="32cf4-113">**regola sql**.</span><span class="sxs-lookup"><span data-stu-id="32cf4-113">**sql-rule**.</span></span> <span data-ttu-id="32cf4-114">Questa regola consente il traffico SQL solo dal subnet *front-end* .</span><span class="sxs-lookup"><span data-stu-id="32cf4-114">This rule allows SQL traffic only from the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="32cf4-115">**regola-web**.</span><span class="sxs-lookup"><span data-stu-id="32cf4-115">**web-rule**.</span></span> <span data-ttu-id="32cf4-116">Questa regola nega tutto il traffico associato ad internet proveniente dal subnet *back-end* .</span><span class="sxs-lookup"><span data-stu-id="32cf4-116">This rule denies all internet bound traffic from the *BackEnd* subnet.</span></span>

<span data-ttu-id="32cf4-117">La combinazione di queste regole crea uno scenario simile alla rete perimetrale, dove la subnet di back-end può solo ricevere traffico in ingresso per SQL dalla subnet front-end e non dispone dell'accesso a Internet, mentre la subnet front-end può comunicare con Internet e ricevere solo le richieste HTTP in ingresso.</span><span class="sxs-lookup"><span data-stu-id="32cf4-117">The combination of these rules create a DMZ-like scenario, where the back end subnet can only receive incoming traffic for SQL from the front end subnet, and has no access to the Internet, while the front end subnet can communicate with the Internet, and receive incoming HTTP requests only.</span></span>

