---
title: Inoltrare i dati dei report di Automation DSC per Azure a Log Analytics di OMS | Microsoft Docs
description: "Questo articolo illustra come inviare i dati di report di configurazione dello stato desiderato (DSC, Desired State Configuration) a Log Analytics di Microsoft Operations Management Suite per fornire informazioni e funzionalità di gestione aggiuntive."
services: automation
documentationcenter: 
author: eslesar
manager: carmonm
editor: tysonn
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/24/2017
ms.author: eslesar
ms.openlocfilehash: 316031c5297a0201c8db4a9e177298c78962c673
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="forward-azure-automation-dsc-reporting-data-to-oms-log-analytics"></a><span data-ttu-id="ac017-103">Inoltrare i dati dei report di Automation DSC per Azure a Log Analytics di OMS</span><span class="sxs-lookup"><span data-stu-id="ac017-103">Forward Azure Automation DSC reporting data to OMS Log Analytics</span></span>

<span data-ttu-id="ac017-104">Automazione può inviare i dati sullo stato dei nodi DSC all'area di lavoro Log Analytics di Microsoft Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="ac017-104">Automation can send DSC node status data to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  
<span data-ttu-id="ac017-105">Lo stato della conformità è visibile nel portale di Azure o tramite PowerShell per i nodi e per le singole risorse DSC nelle configurazioni dei nodi.</span><span class="sxs-lookup"><span data-stu-id="ac017-105">Compliance status is visible in the Azure portal, or with PowerShell, for nodes and for individual DSC resources in node configurations.</span></span> <span data-ttu-id="ac017-106">Con Log Analytics è possibile:</span><span class="sxs-lookup"><span data-stu-id="ac017-106">With Log Analytics you can:</span></span>

* <span data-ttu-id="ac017-107">Ottenere le informazioni sulla conformità per i nodi gestiti e le singole risorse</span><span class="sxs-lookup"><span data-stu-id="ac017-107">Get compliance information for managed nodes and individual resources</span></span>
* <span data-ttu-id="ac017-108">Attivare un messaggio di posta elettronica o un avviso in base allo stato della conformità</span><span class="sxs-lookup"><span data-stu-id="ac017-108">Trigger an email or alert based on compliance status</span></span>
* <span data-ttu-id="ac017-109">Scrivere query avanzate nei nodi gestiti</span><span class="sxs-lookup"><span data-stu-id="ac017-109">Write advanced queries across your managed nodes</span></span>
* <span data-ttu-id="ac017-110">Correlare lo stato della conformità negli account di Automazione</span><span class="sxs-lookup"><span data-stu-id="ac017-110">Correlate compliance status across Automation accounts</span></span>
* <span data-ttu-id="ac017-111">Visualizzare la cronologia della conformità dei nodi nel tempo</span><span class="sxs-lookup"><span data-stu-id="ac017-111">Visualize your node compliance history over time</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ac017-112">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="ac017-112">Prerequisites</span></span>

<span data-ttu-id="ac017-113">Per iniziare a inviare i report di Automation DSC a Log Analytics, sono necessari gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="ac017-113">To start sending your Automation DSC reports to Log Analytics, you need:</span></span>

* <span data-ttu-id="ac017-114">La versione di novembre 2016 o versioni successive di [Azure PowerShell](/powershell/azure/overview) (v 2.3.0).</span><span class="sxs-lookup"><span data-stu-id="ac017-114">The November 2016 or later release of [Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span></span>
* <span data-ttu-id="ac017-115">Un account di automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-115">An Azure Automation account.</span></span> <span data-ttu-id="ac017-116">Per altre informazioni, vedere [Introduzione ad Automazione di Azure](automation-offering-get-started.md)</span><span class="sxs-lookup"><span data-stu-id="ac017-116">For more information, see [Getting Started with Azure Automation](automation-offering-get-started.md)</span></span>
* <span data-ttu-id="ac017-117">Un'area di lavoro di Log Analytics con un'offerta di servizio **Automazione e controllo**.</span><span class="sxs-lookup"><span data-stu-id="ac017-117">A Log Analytics workspace with an **Automation & Control** service offering.</span></span> <span data-ttu-id="ac017-118">Per altre informazioni, vedere [Introduzione a Log Analytics](../log-analytics/log-analytics-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="ac017-118">For more information, see [Get started with Log Analytics](../log-analytics/log-analytics-get-started.md).</span></span>
* <span data-ttu-id="ac017-119">Almeno un nodo di Automation DSC per Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-119">At least one Azure Automation DSC node.</span></span> <span data-ttu-id="ac017-120">Per altre informazioni, vedere [Caricamento di computer per la gestione con Automation DSC per Azure](automation-dsc-onboarding.md)</span><span class="sxs-lookup"><span data-stu-id="ac017-120">For more information, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md)</span></span> 

## <a name="set-up-integration-with-log-analytics"></a><span data-ttu-id="ac017-121">Configurare l'integrazione con Log Analytics</span><span class="sxs-lookup"><span data-stu-id="ac017-121">Set up integration with Log Analytics</span></span>

<span data-ttu-id="ac017-122">Per iniziare a importare i dati da Automation DSC per Azure in Log Analytics, seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="ac017-122">To begin importing data from Azure Automation DSC into Log Analytics, complete the following steps:</span></span>

1. <span data-ttu-id="ac017-123">Accedere all'account Azure in PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ac017-123">Log in to your Azure account in PowerShell.</span></span> <span data-ttu-id="ac017-124">Vedere [Log in with Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0) (Accedere con Azure PowerShell)</span><span class="sxs-lookup"><span data-stu-id="ac017-124">See [Log in with Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)</span></span>
1. <span data-ttu-id="ac017-125">Ottenere il valore _ResourceId_ dell'account di Automazione eseguendo questo comando di PowerShell. Se sono presenti più account di Automazione, scegliere il valore _ResourceID_ per l'account da configurare.</span><span class="sxs-lookup"><span data-stu-id="ac017-125">Get the _ResourceId_ of your automation account by running the following PowerShell command: (if you have more than one automation account, choose the _ResourceID_ for the account you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Automation Account
  Find-AzureRmResource -ResourceType "Microsoft.Automation/automationAccounts"
  ```
1. <span data-ttu-id="ac017-126">Ottenere il valore _ResourceId_ dell'area di lavoro di Log Analytics eseguendo questo comando di PowerShell. Se sono presenti più aree di lavoro, scegliere il valore _ResourceID_ per l'area di lavoro da configurare.</span><span class="sxs-lookup"><span data-stu-id="ac017-126">Get the _ResourceId_ of your Log Analytics workspace by running the following PowerShell command: (if you have more than one workspace, choose the _ResourceID_ for the workspace you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Log Analytics workspace
  Find-AzureRmResource -ResourceType "Microsoft.OperationalInsights/workspaces"
  ```
1. <span data-ttu-id="ac017-127">Eseguire questo comando di PowerShell, sostituendo `<AutomationResourceId>` e `<WorkspaceResourceId>` con i valori _ResourceId_ ottenuti nei passaggi precedenti:</span><span class="sxs-lookup"><span data-stu-id="ac017-127">Run the following PowerShell command, replacing `<AutomationResourceId>` and `<WorkspaceResourceId>` with the _ResourceId_ values from each of the previous steps:</span></span>

  ```powershell
  Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $true -Categories "DscNodeStatus"
  ```

<span data-ttu-id="ac017-128">Se si vuole interrompere l'importazione dei dati da Automation DSC per Azure in Log Analytics, eseguire questo comando di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ac017-128">If you want to stop importing data from Azure Automation DSC into Log Analytics, run the following PowerShell command.</span></span>

```powershell
Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $false -Categories "DscNodeStatus"
```

## <a name="view-the-dsc-logs"></a><span data-ttu-id="ac017-129">Visualizzare i log di DSC</span><span class="sxs-lookup"><span data-stu-id="ac017-129">View the DSC logs</span></span>

<span data-ttu-id="ac017-130">Dopo la configurazione dell'integrazione con Log Analytics per i dati di Automation DSC, un pulsante **Ricerca log** verrà visualizzato nel pannello **Nodi DSC** dell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-130">After you set up integration with Log Analytics for your Automation DSC data, a **Log search** button will appear on the **DSC Nodes** blade of your automation account.</span></span> <span data-ttu-id="ac017-131">Fare clic sul pulsante **Ricerca log** per visualizzare i log per i dati dei nodi DSC.</span><span class="sxs-lookup"><span data-stu-id="ac017-131">Click the **Log Search** button to view the logs for DSC node data.</span></span>

![Pulsante Ricerca log](media/automation-dsc-diagnostics/log-search-button.png)

<span data-ttu-id="ac017-133">Viene visualizzato il pannello **Ricerca log**, che include un'operazione **DscNodeStatusData** per ogni nodo DSC e un'operazione **DscResourceStatusData** per ogni [risorsa DSC](https://msdn.microsoft.com/powershell/dsc/resources) chiamata nella configurazione del nodo applicata a tale nodo.</span><span class="sxs-lookup"><span data-stu-id="ac017-133">The **Log Search** blade opens, and you see a **DscNodeStatusData** operation for each DSC node, and a **DscResourceStatusData** operation for each [DSC resource](https://msdn.microsoft.com/powershell/dsc/resources) called in the Node configuration applied to that node.</span></span>

<span data-ttu-id="ac017-134">L'operazione **DscResourceStatusData** contiene informazioni sugli errori per qualsiasi risorsa DSC per cui si sono verificati errori.</span><span class="sxs-lookup"><span data-stu-id="ac017-134">The **DscResourceStatusData** operation contains error information for any DSC resources that failed.</span></span>

<span data-ttu-id="ac017-135">Fare clic su ogni operazione nell'elenco per visualizzare i dati per tale operazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-135">Click each operation in the list to see the data for that operation.</span></span>

<span data-ttu-id="ac017-136">È anche possibile visualizzare i log [eseguendo ricerche in Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="ac017-136">You can also view the logs by [searching in Log Analytics.</span></span> <span data-ttu-id="ac017-137">Vedere [Trovare dati tramite ricerche nei log](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="ac017-137">See [Find data using log searches](../log-analytics/log-analytics-log-searches.md).</span></span>
<span data-ttu-id="ac017-138">Digitare la query seguente per trovare i log DSC: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span><span class="sxs-lookup"><span data-stu-id="ac017-138">Type the following query to find your DSC logs: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span></span>

<span data-ttu-id="ac017-139">È anche possibile perfezionare la query in base al nome dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-139">You can also narrow the query by the operation name.</span></span> <span data-ttu-id="ac017-140">Ad esempio: 'Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span><span class="sxs-lookup"><span data-stu-id="ac017-140">For example: \`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span></span>

### <a name="send-an-email-when-a-dsc-compliance-check-fails"></a><span data-ttu-id="ac017-141">Inviare un messaggio di posta elettronica in caso di errore di un controllo della conformità DSC</span><span class="sxs-lookup"><span data-stu-id="ac017-141">Send an email when a DSC compliance check fails</span></span>

<span data-ttu-id="ac017-142">Uno dei clienti più importanti chiede di poter inviare un messaggio di posta elettronica o un SMS quando si verificano problemi con una configurazione DSC.</span><span class="sxs-lookup"><span data-stu-id="ac017-142">One of our top customer requests is for the ability to send an email or a text when something goes wrong with a DSC configuration.</span></span>   

<span data-ttu-id="ac017-143">Per creare una regola di avviso, è necessario creare prima di tutto una ricerca nei log per i record del report DSC che dovranno richiamare l'avviso.</span><span class="sxs-lookup"><span data-stu-id="ac017-143">To create an alert rule, you start by creating a log search for the DSC report records that should invoke the alert.</span></span>  <span data-ttu-id="ac017-144">Fare clic su pulsante **Avviso** per creare e configurare la regola di avviso.</span><span class="sxs-lookup"><span data-stu-id="ac017-144">Click the **Alert** button to create and configure the alert rule.</span></span>

1. <span data-ttu-id="ac017-145">Dalla pagina della panoramica di Log Analytics fare clic su **Ricerca log**.</span><span class="sxs-lookup"><span data-stu-id="ac017-145">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="ac017-146">Creare una query di ricerca dei log per l'avviso digitando i criteri di ricerca seguenti nel campo query: `Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="ac017-146">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span></span>

  <span data-ttu-id="ac017-147">Se sono stati configurati log da più account di Automazione o sottoscrizioni nell'area di lavoro, è possibile raggruppare gli avvisi per sottoscrizione o account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-147">If you have set up logs from more than one Automation account or subscription to your workspace, you can group your alerts by subscription and Automation account.</span></span>  
  <span data-ttu-id="ac017-148">Il nome dell'account di Automazione può essere derivato dal campo Risorsa nella ricerca di DscNodeStatusData.</span><span class="sxs-lookup"><span data-stu-id="ac017-148">Automation account name can be derived from the Resource field in the search of DscNodeStatusData.</span></span>  
1. <span data-ttu-id="ac017-149">Per aprire la schermata **Aggiungi regola di avviso** fare clic su **Avviso** nella parte superiore della pagina.</span><span class="sxs-lookup"><span data-stu-id="ac017-149">To open the **Add Alert Rule** screen, click **Alert** at the top of the page.</span></span> <span data-ttu-id="ac017-150">Per altre informazioni sulle opzioni per la configurazione dell'avviso, vedere [Avvisi in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span><span class="sxs-lookup"><span data-stu-id="ac017-150">For more information on the options to configure the alert, see [Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span></span>

### <a name="find-failed-dsc-resources-across-all-nodes"></a><span data-ttu-id="ac017-151">Trovare le risorse DSC con errori in tutti i nodi</span><span class="sxs-lookup"><span data-stu-id="ac017-151">Find failed DSC resources across all nodes</span></span>

<span data-ttu-id="ac017-152">Un vantaggio dell'uso di Log Analytics consiste nella possibilità di cercare controlli con errori nei nodi.</span><span class="sxs-lookup"><span data-stu-id="ac017-152">One advantage of using Log Analytics is that you can search for failed checks across nodes.</span></span>
<span data-ttu-id="ac017-153">Per trovare tutte le istanze di risorse DSC per cui si sono verificati errori:</span><span class="sxs-lookup"><span data-stu-id="ac017-153">To find all instances of DSC resources that failed.</span></span>

1. <span data-ttu-id="ac017-154">Dalla pagina della panoramica di Log Analytics fare clic su **Ricerca log**.</span><span class="sxs-lookup"><span data-stu-id="ac017-154">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="ac017-155">Creare una query di ricerca dei log per l'avviso digitando i criteri di ricerca seguenti nel campo query: `Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="ac017-155">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span></span>

### <a name="view-historical-dsc-node-status"></a><span data-ttu-id="ac017-156">Visualizzare lo stato cronologico dei nodi DSC</span><span class="sxs-lookup"><span data-stu-id="ac017-156">View historical DSC node status</span></span>

<span data-ttu-id="ac017-157">È infine consigliabile visualizzare la cronologia dello stato dei nodi DSC nel tempo.</span><span class="sxs-lookup"><span data-stu-id="ac017-157">Finally, you may want to visualize your DSC node status history over time.</span></span>  
<span data-ttu-id="ac017-158">È possibile usare questa query per cercare lo stato dei nodi DSC nel tempo.</span><span class="sxs-lookup"><span data-stu-id="ac017-158">You can use this query to search for the status of your DSC node status over time.</span></span>

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=DscNodeStatus NOT(ResultType="started") | measure Count() by ResultType interval 1hour`  

<span data-ttu-id="ac017-159">Verrà visualizzato un grafico dello stato dei nodi nel tempo.</span><span class="sxs-lookup"><span data-stu-id="ac017-159">This will display a chart of the node status over time.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="ac017-160">Record di Log Analytics</span><span class="sxs-lookup"><span data-stu-id="ac017-160">Log Analytics records</span></span>

<span data-ttu-id="ac017-161">La diagnostica di Automazione di Azure crea due categorie di record in Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="ac017-161">Diagnostics from Azure Automation creates two categories of records in Log Analytics.</span></span>

### <a name="dscnodestatusdata"></a><span data-ttu-id="ac017-162">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="ac017-162">DscNodeStatusData</span></span>

| <span data-ttu-id="ac017-163">Proprietà</span><span class="sxs-lookup"><span data-stu-id="ac017-163">Property</span></span> | <span data-ttu-id="ac017-164">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ac017-164">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ac017-165">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="ac017-165">TimeGenerated</span></span> |<span data-ttu-id="ac017-166">Data e ora dell'esecuzione del controllo della conformità.</span><span class="sxs-lookup"><span data-stu-id="ac017-166">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="ac017-167">OperationName</span><span class="sxs-lookup"><span data-stu-id="ac017-167">OperationName</span></span> |<span data-ttu-id="ac017-168">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="ac017-168">DscNodeStatusData</span></span> |
| <span data-ttu-id="ac017-169">ResultType</span><span class="sxs-lookup"><span data-stu-id="ac017-169">ResultType</span></span> |<span data-ttu-id="ac017-170">Indica se il nodo è conforme.</span><span class="sxs-lookup"><span data-stu-id="ac017-170">Whether the node is compliant.</span></span> |
| <span data-ttu-id="ac017-171">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="ac017-171">NodeName_s</span></span> |<span data-ttu-id="ac017-172">Nome del nodo gestito.</span><span class="sxs-lookup"><span data-stu-id="ac017-172">The name of the managed node.</span></span> |
| <span data-ttu-id="ac017-173">NodeComplianceStatus_s</span><span class="sxs-lookup"><span data-stu-id="ac017-173">NodeComplianceStatus_s</span></span> |<span data-ttu-id="ac017-174">Indica se il nodo è conforme.</span><span class="sxs-lookup"><span data-stu-id="ac017-174">Whether the node is compliant.</span></span> |
| <span data-ttu-id="ac017-175">DscReportStatus</span><span class="sxs-lookup"><span data-stu-id="ac017-175">DscReportStatus</span></span> |<span data-ttu-id="ac017-176">Indica se il controllo della conformità è stato eseguito correttamente.</span><span class="sxs-lookup"><span data-stu-id="ac017-176">Whether the compliance check ran successfully.</span></span> |
| <span data-ttu-id="ac017-177">ConfigurationMode</span><span class="sxs-lookup"><span data-stu-id="ac017-177">ConfigurationMode</span></span> | <span data-ttu-id="ac017-178">Indica la modalità di applicazione della configurazione al nodo.</span><span class="sxs-lookup"><span data-stu-id="ac017-178">How the configuration is applied to the node.</span></span> <span data-ttu-id="ac017-179">I valori possibili sono __"ApplyOnly"__,__"ApplyandMonitior"__ e __"ApplyandAutoCorrect"__.</span><span class="sxs-lookup"><span data-stu-id="ac017-179">Possible values are __"ApplyOnly"__,__"ApplyandMonitior"__, and __"ApplyandAutoCorrect"__.</span></span> <ul><li><span data-ttu-id="ac017-180">__ApplyOnly__: DSC applica la configurazione e non esegue altre operazioni, a meno che non venga eseguito il push di una nuova configurazione nel nodo di destinazione o in caso di pull di una nuova configurazione da un server.</span><span class="sxs-lookup"><span data-stu-id="ac017-180">__ApplyOnly__: DSC applies the configuration and does nothing further unless a new configuration is pushed to the target node or when a new configuration is pulled from a server.</span></span> <span data-ttu-id="ac017-181">Dopo l'applicazione iniziale di una nuova configurazione, DSC non verifica la deviazione da uno stato configurato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="ac017-181">After initial application of a new configuration, DSC does not check for drift from a previously configured state.</span></span> <span data-ttu-id="ac017-182">DSC prova ad applicare la configurazione fino a quando non viene raggiunto un esito positivo, prima che venga applicata la modalità __ApplyOnly__.</span><span class="sxs-lookup"><span data-stu-id="ac017-182">DSC attempts to apply the configuration until it is successful before __ApplyOnly__ takes effect.</span></span> </li><li> <span data-ttu-id="ac017-183">__ApplyAndMonitor__: valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="ac017-183">__ApplyAndMonitor__: This is the default value.</span></span> <span data-ttu-id="ac017-184">Gestione configurazione locale applica qualsiasi nuova configurazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-184">The LCM applies any new configurations.</span></span> <span data-ttu-id="ac017-185">Dopo l'applicazione iniziale di una nuova configurazione, in caso di deviazione del nodo di destinazione rispetto allo stato desiderato, DSC segnala la discrepanza nei log.</span><span class="sxs-lookup"><span data-stu-id="ac017-185">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="ac017-186">DSC prova ad applicare la configurazione fino a quando non viene raggiunto un esito positivo, prima che venga applicata la modalità __ApplyAndMonitor__.</span><span class="sxs-lookup"><span data-stu-id="ac017-186">DSC attempts to apply the configuration until it is successful before __ApplyAndMonitor__ takes effect.</span></span></li><li><span data-ttu-id="ac017-187">__ApplyAndAutoCorrect__: DSC applica qualsiasi nuova configurazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-187">__ApplyAndAutoCorrect__: DSC applies any new configurations.</span></span> <span data-ttu-id="ac017-188">Dopo l'applicazione iniziale di una nuova configurazione, in caso di deviazione del nodo di destinazione rispetto allo stato desiderato, DSC segnala la discrepanza nei log e quindi applica di nuovo la configurazione corrente.</span><span class="sxs-lookup"><span data-stu-id="ac017-188">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs, and then reapplies the current configuration.</span></span></li></ul> |
| <span data-ttu-id="ac017-189">HostName_s</span><span class="sxs-lookup"><span data-stu-id="ac017-189">HostName_s</span></span> | <span data-ttu-id="ac017-190">Nome del nodo gestito.</span><span class="sxs-lookup"><span data-stu-id="ac017-190">The name of the managed node.</span></span> |
| <span data-ttu-id="ac017-191">IPAddress</span><span class="sxs-lookup"><span data-stu-id="ac017-191">IPAddress</span></span> | <span data-ttu-id="ac017-192">Indirizzo IPv4 del nodo gestito.</span><span class="sxs-lookup"><span data-stu-id="ac017-192">The IPv4 address of the managed node.</span></span> |
| <span data-ttu-id="ac017-193">Categoria</span><span class="sxs-lookup"><span data-stu-id="ac017-193">Category</span></span> | <span data-ttu-id="ac017-194">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="ac017-194">DscNodeStatus</span></span> |
| <span data-ttu-id="ac017-195">Risorsa</span><span class="sxs-lookup"><span data-stu-id="ac017-195">Resource</span></span> | <span data-ttu-id="ac017-196">Nome dell'account di Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-196">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="ac017-197">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="ac017-197">Tenant_g</span></span> | <span data-ttu-id="ac017-198">GUID che identifica il tenant del chiamante.</span><span class="sxs-lookup"><span data-stu-id="ac017-198">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="ac017-199">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="ac017-199">NodeId_g</span></span> |<span data-ttu-id="ac017-200">GUID che identifica il nodo gestito.</span><span class="sxs-lookup"><span data-stu-id="ac017-200">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="ac017-201">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="ac017-201">DscReportId_g</span></span> |<span data-ttu-id="ac017-202">GUID che identifica il report.</span><span class="sxs-lookup"><span data-stu-id="ac017-202">GUID that identifies the report.</span></span> |
| <span data-ttu-id="ac017-203">LastSeenTime_t</span><span class="sxs-lookup"><span data-stu-id="ac017-203">LastSeenTime_t</span></span> |<span data-ttu-id="ac017-204">Data e ora dell'ultima visualizzazione del report.</span><span class="sxs-lookup"><span data-stu-id="ac017-204">Date and time when the report was last viewed.</span></span> |
| <span data-ttu-id="ac017-205">ReportStartTime_t</span><span class="sxs-lookup"><span data-stu-id="ac017-205">ReportStartTime_t</span></span> |<span data-ttu-id="ac017-206">Data e ora dell'avvio del report.</span><span class="sxs-lookup"><span data-stu-id="ac017-206">Date and time when the report was started.</span></span> |
| <span data-ttu-id="ac017-207">ReportEndTime_t</span><span class="sxs-lookup"><span data-stu-id="ac017-207">ReportEndTime_t</span></span> |<span data-ttu-id="ac017-208">Data e ora del completamento del report.</span><span class="sxs-lookup"><span data-stu-id="ac017-208">Date and time when the report completed.</span></span> |
| <span data-ttu-id="ac017-209">NumberOfResources_d</span><span class="sxs-lookup"><span data-stu-id="ac017-209">NumberOfResources_d</span></span> |<span data-ttu-id="ac017-210">Numero di risorse DSC chiamate nella configurazione applicata al nodo.</span><span class="sxs-lookup"><span data-stu-id="ac017-210">The number of DSC resources called in the configuration applied to the node.</span></span> |
| <span data-ttu-id="ac017-211">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="ac017-211">SourceSystem</span></span> | <span data-ttu-id="ac017-212">Modo in cui Log Analytics ha raccolto i dati.</span><span class="sxs-lookup"><span data-stu-id="ac017-212">How Log Analytics collected the data.</span></span> <span data-ttu-id="ac017-213">È sempre *Azure* per la diagnostica di Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-213">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="ac017-214">ResourceId</span><span class="sxs-lookup"><span data-stu-id="ac017-214">ResourceId</span></span> |<span data-ttu-id="ac017-215">Specifica l'account di Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-215">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="ac017-216">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="ac017-216">ResultDescription</span></span> | <span data-ttu-id="ac017-217">Descrizione per questa operazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-217">The description for this operation.</span></span> |
| <span data-ttu-id="ac017-218">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="ac017-218">SubscriptionId</span></span> | <span data-ttu-id="ac017-219">ID della sottoscrizione di Azure (GUID) per l'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-219">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="ac017-220">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="ac017-220">ResourceGroup</span></span> | <span data-ttu-id="ac017-221">Nome del gruppo di risorse dell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-221">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="ac017-222">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="ac017-222">ResourceProvider</span></span> | <span data-ttu-id="ac017-223">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="ac017-223">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="ac017-224">ResourceType</span><span class="sxs-lookup"><span data-stu-id="ac017-224">ResourceType</span></span> | <span data-ttu-id="ac017-225">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="ac017-225">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="ac017-226">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="ac017-226">CorrelationId</span></span> |<span data-ttu-id="ac017-227">GUID che rappresenta l'ID di correlazione del report di conformità.</span><span class="sxs-lookup"><span data-stu-id="ac017-227">GUID that is the Correlation Id of the compliance report.</span></span> |

### <a name="dscresourcestatusdata"></a><span data-ttu-id="ac017-228">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="ac017-228">DscResourceStatusData</span></span>

| <span data-ttu-id="ac017-229">Proprietà</span><span class="sxs-lookup"><span data-stu-id="ac017-229">Property</span></span> | <span data-ttu-id="ac017-230">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ac017-230">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ac017-231">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="ac017-231">TimeGenerated</span></span> |<span data-ttu-id="ac017-232">Data e ora dell'esecuzione del controllo della conformità.</span><span class="sxs-lookup"><span data-stu-id="ac017-232">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="ac017-233">OperationName</span><span class="sxs-lookup"><span data-stu-id="ac017-233">OperationName</span></span> |<span data-ttu-id="ac017-234">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="ac017-234">DscResourceStatusData</span></span>|
| <span data-ttu-id="ac017-235">ResultType</span><span class="sxs-lookup"><span data-stu-id="ac017-235">ResultType</span></span> |<span data-ttu-id="ac017-236">Indica se la risorsa è conforme.</span><span class="sxs-lookup"><span data-stu-id="ac017-236">Whether the resource is compliant.</span></span> |
| <span data-ttu-id="ac017-237">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="ac017-237">NodeName_s</span></span> |<span data-ttu-id="ac017-238">Nome del nodo gestito.</span><span class="sxs-lookup"><span data-stu-id="ac017-238">The name of the managed node.</span></span> |
| <span data-ttu-id="ac017-239">Categoria</span><span class="sxs-lookup"><span data-stu-id="ac017-239">Category</span></span> | <span data-ttu-id="ac017-240">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="ac017-240">DscNodeStatus</span></span> |
| <span data-ttu-id="ac017-241">Risorsa</span><span class="sxs-lookup"><span data-stu-id="ac017-241">Resource</span></span> | <span data-ttu-id="ac017-242">Nome dell'account di Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-242">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="ac017-243">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="ac017-243">Tenant_g</span></span> | <span data-ttu-id="ac017-244">GUID che identifica il tenant del chiamante.</span><span class="sxs-lookup"><span data-stu-id="ac017-244">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="ac017-245">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="ac017-245">NodeId_g</span></span> |<span data-ttu-id="ac017-246">GUID che identifica il nodo gestito.</span><span class="sxs-lookup"><span data-stu-id="ac017-246">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="ac017-247">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="ac017-247">DscReportId_g</span></span> |<span data-ttu-id="ac017-248">GUID che identifica il report.</span><span class="sxs-lookup"><span data-stu-id="ac017-248">GUID that identifies the report.</span></span> |
| <span data-ttu-id="ac017-249">DscResourceId_s</span><span class="sxs-lookup"><span data-stu-id="ac017-249">DscResourceId_s</span></span> |<span data-ttu-id="ac017-250">Nome dell'istanza della risorsa DSC.</span><span class="sxs-lookup"><span data-stu-id="ac017-250">The name of the DSC resource instance.</span></span> |
| <span data-ttu-id="ac017-251">DscResourceName_s</span><span class="sxs-lookup"><span data-stu-id="ac017-251">DscResourceName_s</span></span> |<span data-ttu-id="ac017-252">Nome della risorsa DSC.</span><span class="sxs-lookup"><span data-stu-id="ac017-252">The name of the DSC resource.</span></span> |
| <span data-ttu-id="ac017-253">DscResourceStatus_s</span><span class="sxs-lookup"><span data-stu-id="ac017-253">DscResourceStatus_s</span></span> |<span data-ttu-id="ac017-254">Indica se la risorsa DSC è conforme.</span><span class="sxs-lookup"><span data-stu-id="ac017-254">Whether the DSC resource is in compliance.</span></span> |
| <span data-ttu-id="ac017-255">DscModuleName_s</span><span class="sxs-lookup"><span data-stu-id="ac017-255">DscModuleName_s</span></span> |<span data-ttu-id="ac017-256">Nome del modulo di PowerShell che include la risorsa DSC.</span><span class="sxs-lookup"><span data-stu-id="ac017-256">The name of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="ac017-257">DscModuleVersion_s</span><span class="sxs-lookup"><span data-stu-id="ac017-257">DscModuleVersion_s</span></span> |<span data-ttu-id="ac017-258">Versione del modulo di PowerShell che include la risorsa DSC.</span><span class="sxs-lookup"><span data-stu-id="ac017-258">The version of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="ac017-259">DscConfigurationName_s</span><span class="sxs-lookup"><span data-stu-id="ac017-259">DscConfigurationName_s</span></span> |<span data-ttu-id="ac017-260">Nome della configurazione applicata al nodo.</span><span class="sxs-lookup"><span data-stu-id="ac017-260">The name of the configuration applied to the node.</span></span> |
| <span data-ttu-id="ac017-261">ErrorCode_s</span><span class="sxs-lookup"><span data-stu-id="ac017-261">ErrorCode_s</span></span> | <span data-ttu-id="ac017-262">Codice errore in caso di esito negativo della risorsa.</span><span class="sxs-lookup"><span data-stu-id="ac017-262">The error code if the resource failed.</span></span> |
| <span data-ttu-id="ac017-263">ErrorMessage_s</span><span class="sxs-lookup"><span data-stu-id="ac017-263">ErrorMessage_s</span></span> |<span data-ttu-id="ac017-264">Messaggio di errore in caso di esito negativo della risorsa.</span><span class="sxs-lookup"><span data-stu-id="ac017-264">The error message if the resource failed.</span></span> |
| <span data-ttu-id="ac017-265">DscResourceDuration_d</span><span class="sxs-lookup"><span data-stu-id="ac017-265">DscResourceDuration_d</span></span> |<span data-ttu-id="ac017-266">Durata, in secondi, dell'esecuzione della risorsa DSC.</span><span class="sxs-lookup"><span data-stu-id="ac017-266">The time, in seconds, that the DSC resource ran.</span></span> |
| <span data-ttu-id="ac017-267">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="ac017-267">SourceSystem</span></span> | <span data-ttu-id="ac017-268">Modo in cui Log Analytics ha raccolto i dati.</span><span class="sxs-lookup"><span data-stu-id="ac017-268">How Log Analytics collected the data.</span></span> <span data-ttu-id="ac017-269">È sempre *Azure* per la diagnostica di Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-269">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="ac017-270">ResourceId</span><span class="sxs-lookup"><span data-stu-id="ac017-270">ResourceId</span></span> |<span data-ttu-id="ac017-271">Specifica l'account di Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ac017-271">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="ac017-272">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="ac017-272">ResultDescription</span></span> | <span data-ttu-id="ac017-273">Descrizione per questa operazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-273">The description for this operation.</span></span> |
| <span data-ttu-id="ac017-274">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="ac017-274">SubscriptionId</span></span> | <span data-ttu-id="ac017-275">ID della sottoscrizione di Azure (GUID) per l'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-275">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="ac017-276">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="ac017-276">ResourceGroup</span></span> | <span data-ttu-id="ac017-277">Nome del gruppo di risorse dell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ac017-277">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="ac017-278">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="ac017-278">ResourceProvider</span></span> | <span data-ttu-id="ac017-279">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="ac017-279">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="ac017-280">ResourceType</span><span class="sxs-lookup"><span data-stu-id="ac017-280">ResourceType</span></span> | <span data-ttu-id="ac017-281">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="ac017-281">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="ac017-282">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="ac017-282">CorrelationId</span></span> |<span data-ttu-id="ac017-283">GUID che rappresenta l'ID di correlazione del report di conformità.</span><span class="sxs-lookup"><span data-stu-id="ac017-283">GUID that is the Correlation Id of the compliance report.</span></span> |

## <a name="summary"></a><span data-ttu-id="ac017-284">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="ac017-284">Summary</span></span>

<span data-ttu-id="ac017-285">L'invio dei dati di Automation DSC a Log Analytics consente di ottenere informazioni dettagliate migliori sullo stato dei nodi di Automation DSC tramite queste operazioni:</span><span class="sxs-lookup"><span data-stu-id="ac017-285">By sending your Automation DSC data to Log Analytics, you can get better insight into the status of your Automation DSC nodes by:</span></span>

* <span data-ttu-id="ac017-286">Configurando avvisi che segnalino la presenza di un problema</span><span class="sxs-lookup"><span data-stu-id="ac017-286">Setting up alerts to notify you when there is an issue</span></span>
* <span data-ttu-id="ac017-287">Usando viste personalizzate e query di ricerca per visualizzare i risultati del runbook, lo stato dei processi del runbook e altri indicatori chiave o metriche correlati.</span><span class="sxs-lookup"><span data-stu-id="ac017-287">Using custom views and search queries to visualize your runbook results, runbook job status, and other related key indicators or metrics.</span></span>  

<span data-ttu-id="ac017-288">Log Analytics offre una maggiore visibilità operativa dei dati di Automation DSC e può consentire di risolvere più rapidamente gli eventi imprevisti.</span><span class="sxs-lookup"><span data-stu-id="ac017-288">Log Analytics provides greater operational visibility to your Automation DSC data and can help address incidents more quickly.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="ac017-289">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="ac017-289">Next steps</span></span>

* <span data-ttu-id="ac017-290">Per altre informazioni su come creare query di ricerca diverse ed esaminare i log di Automation DSC con Log Analytics, vedere [Ricerche nei log in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span><span class="sxs-lookup"><span data-stu-id="ac017-290">To learn more about how to construct different search queries and review the Automation DSC logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
* <span data-ttu-id="ac017-291">Per altre informazioni sull'uso di Automation DSC per Azure, vedere [Introduzione ad Automation DSC per Azure](automation-dsc-getting-started.md)</span><span class="sxs-lookup"><span data-stu-id="ac017-291">To learn more about using Azure Automation DSC, see [Getting started with Azure Automation DSC](automation-dsc-getting-started.md)</span></span>
* <span data-ttu-id="ac017-292">Per altre informazioni su Log Analytics di OMS e sulle origini di raccolta dati, vedere la [panoramica della raccolta dati di Archiviazione di Azure in Log Analytics](../log-analytics/log-analytics-azure-storage.md)</span><span class="sxs-lookup"><span data-stu-id="ac017-292">To learn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>

