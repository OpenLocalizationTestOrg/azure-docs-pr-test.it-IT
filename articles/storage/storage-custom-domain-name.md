---
title: Configurare un nome di dominio personalizzato per l'endpoint dell'archiviazione BLOB di Azure | Documentazione Microsoft
description: Usare il portale di Azure per eseguire il mapping del proprio nome canonico (CNAME) all'endpoint di archiviazione BLOB in un account di archiviazione di Azure.
services: storage
documentationcenter: 
author: mmacy
manager: timlt
editor: tysonn
ms.assetid: aaafd8c5-eacb-49dc-8c8b-3f7011ad5e92
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: marsma
ms.openlocfilehash: 69e0713ab4221c51b89ec0f1ffedba8b6deea88c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="configure-a-custom-domain-name-for-your-blob-storage-endpoint"></a><span data-ttu-id="8784c-103">Configurare un nome di dominio personalizzato per l'endpoint di archiviazione BLOB</span><span class="sxs-lookup"><span data-stu-id="8784c-103">Configure a custom domain name for your Blob storage endpoint</span></span>

<span data-ttu-id="8784c-104">È possibile configurare un nome di dominio personalizzato per l'accesso ai dati BLOB nell'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="8784c-104">You can configure a custom domain for accessing blob data in your Azure storage account.</span></span> <span data-ttu-id="8784c-105">L'endpoint predefinito per l'archiviazione BLOB è `<storage-account-name>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="8784c-105">The default endpoint for Blob storage is `<storage-account-name>.blob.core.windows.net`.</span></span> <span data-ttu-id="8784c-106">Se si esegue il mapping di un dominio personalizzato e di un sottodominio come **www.contoso.com** all'endpoint BLOB per l'account di archiviazione, anche gli utenti potranno accedere ai dati BLOB dell'account di archiviazione usando tale dominio.</span><span class="sxs-lookup"><span data-stu-id="8784c-106">If you map a custom domain and subdomain like **www.contoso.com** to the blob endpoint for your storage account, your users can then access blob data in your storage account using that domain.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8784c-107">Archiviazione di Azure non supporta ancora in modo nativo HTTPS con domini personalizzati.</span><span class="sxs-lookup"><span data-stu-id="8784c-107">Azure Storage does not yet natively support HTTPS with custom domains.</span></span> <span data-ttu-id="8784c-108">Attualmente è possibile [Usare la rete CDN di Azure per accedere ai BLOB con domini personalizzati tramite HTTPS](./storage-https-custom-domain-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="8784c-108">You can currently [Use the Azure CDN to access blobs with custom domains over HTTPS](./storage-https-custom-domain-cdn.md).</span></span>
>

<span data-ttu-id="8784c-109">La tabella seguente riporta gli URL di esempio per i dati BLOB presenti in un account di archiviazione denominato **mystorageaccount**.</span><span class="sxs-lookup"><span data-stu-id="8784c-109">The following table shows a few sample URLs for blob data located in a storage account named **mystorageaccount**.</span></span> <span data-ttu-id="8784c-110">Il dominio personalizzato registrato per l'account di archiviazione è **www.contoso.com**:</span><span class="sxs-lookup"><span data-stu-id="8784c-110">The custom domain registered for the storage account is **www.contoso.com**:</span></span>

| <span data-ttu-id="8784c-111">Tipo di risorsa</span><span class="sxs-lookup"><span data-stu-id="8784c-111">Resource Type</span></span> | <span data-ttu-id="8784c-112">URL predefinito</span><span class="sxs-lookup"><span data-stu-id="8784c-112">Default URL</span></span> | <span data-ttu-id="8784c-113">URL di dominio personalizzato</span><span class="sxs-lookup"><span data-stu-id="8784c-113">Custom domain URL</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8784c-114">Account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="8784c-114">Storage account</span></span> | <span data-ttu-id="8784c-115">http://mystorageaccount.blob.core.windows.net</span><span class="sxs-lookup"><span data-stu-id="8784c-115">http://mystorageaccount.blob.core.windows.net</span></span> | <span data-ttu-id="8784c-116">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="8784c-116">http://www.contoso.com</span></span> |
| <span data-ttu-id="8784c-117">BLOB</span><span class="sxs-lookup"><span data-stu-id="8784c-117">Blob</span></span> |<span data-ttu-id="8784c-118">http://mystorageaccount.blob.core.windows.net/mycontainer/myblob</span><span class="sxs-lookup"><span data-stu-id="8784c-118">http://mystorageaccount.blob.core.windows.net/mycontainer/myblob</span></span> | <span data-ttu-id="8784c-119">http://www.contoso.com/mycontainer/myblob</span><span class="sxs-lookup"><span data-stu-id="8784c-119">http://www.contoso.com/mycontainer/myblob</span></span> |
| <span data-ttu-id="8784c-120">Contenitore radice</span><span class="sxs-lookup"><span data-stu-id="8784c-120">Root container</span></span> | <span data-ttu-id="8784c-121">http://mystorageaccount.blob.core.windows.net/myblob or http://mystorageaccount.blob.core.windows.net/$root/myblob</span><span class="sxs-lookup"><span data-stu-id="8784c-121">http://mystorageaccount.blob.core.windows.net/myblob or http://mystorageaccount.blob.core.windows.net/$root/myblob</span></span>| <span data-ttu-id="8784c-122">http://www.contoso.com/myblob or http://www.contoso.com/$root/myblob</span><span class="sxs-lookup"><span data-stu-id="8784c-122">http://www.contoso.com/myblob or http://www.contoso.com/$root/myblob</span></span> |

## <a name="direct-vs-intermediary-domain-mapping"></a><span data-ttu-id="8784c-123">Mapping di dominio diretto e con sottodominio intermedio</span><span class="sxs-lookup"><span data-stu-id="8784c-123">Direct vs. intermediary domain mapping</span></span>

<span data-ttu-id="8784c-124">Esistono due modi per puntare il dominio personalizzato all'endpoint BLOB per l'account di archiviazione: mapping CNAME diretto e utilizzo del sottodominio intermedio *asverify*.</span><span class="sxs-lookup"><span data-stu-id="8784c-124">There are two ways to point your custom domain to the blob endpoint for your storage account: direct CNAME mapping, and using the *asverify* intermediary subdomain.</span></span>

### <a name="direct-cname-mapping"></a><span data-ttu-id="8784c-125">Mapping diretto del record CNAME</span><span class="sxs-lookup"><span data-stu-id="8784c-125">Direct CNAME mapping</span></span>

<span data-ttu-id="8784c-126">Il primo e più semplice metodo consiste nel creare un record di nome canonico (CNAME) che esegue il mapping del dominio personalizzato e del sottodominio direttamente all'endpoint BLOB.</span><span class="sxs-lookup"><span data-stu-id="8784c-126">The first, and simplest, method is to create a canonical name (CNAME) record that maps your custom domain and subdomain directly to the blob endpoint.</span></span> <span data-ttu-id="8784c-127">Un record CNAME è una funzionalità Domain Name System (DNS) tramite cui viene eseguito il mapping di un dominio di origine a uno di destinazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-127">A CNAME record is a domain name system (DNS) feature that maps a source domain to a destination domain.</span></span> <span data-ttu-id="8784c-128">In questo caso il dominio di origine è il proprio dominio personalizzato e sottodominio, ad esempio *www.contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="8784c-128">In this case, the source domain is your own custom domain and subdomain, for example *www.contoso.com*.</span></span> <span data-ttu-id="8784c-129">Il dominio di destinazione è l'endpoint del servizio BLOB, ad esempio *mystorageaccount.blob.core.windows.net*.</span><span class="sxs-lookup"><span data-stu-id="8784c-129">The destination domain is your Blob service endpoint, for example *mystorageaccount.blob.core.windows.net*.</span></span>

<span data-ttu-id="8784c-130">Il metodo diretto è descritto in [Registrare un dominio personalizzato](#register-a-custom-domain).</span><span class="sxs-lookup"><span data-stu-id="8784c-130">The direct method is covered in [Register a custom domain](#register-a-custom-domain).</span></span>

### <a name="intermediary-mapping-with-asverify"></a><span data-ttu-id="8784c-131">Mapping intermedio con *asverify*</span><span class="sxs-lookup"><span data-stu-id="8784c-131">Intermediary mapping with *asverify*</span></span>

<span data-ttu-id="8784c-132">Anche il secondo metodo usa record CNAME ma prima impiega un sottodominio speciale riconosciuto da Azure per evitare tempi di inattività: **asverify**.</span><span class="sxs-lookup"><span data-stu-id="8784c-132">The second method also uses CNAME records, but first employs a special subdomain recognized by Azure to avoid downtime: **asverify**.</span></span>

<span data-ttu-id="8784c-133">Il processo di mapping del dominio personalizzato a un endpoint di BLOB può tuttavia comportare un breve periodo di inattività del dominio durante la relativa registrazione nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8784c-133">The process of mapping your custom domain to a blob endpoint can result in a brief period of downtime for the domain while you are registering it in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="8784c-134">Se il dominio personalizzato supporta attualmente un'applicazione con un contratto di servizio in base al quale non sono consentiti tempi di inattività, è possibile usare il sottodominio *asverify* di Azure per fornire un passaggio di registrazione intermedio.</span><span class="sxs-lookup"><span data-stu-id="8784c-134">If your custom domain is currently supporting an application with a service-level agreement (SLA) that requires zero downtime, then you can use the Azure *asverify* subdomain as an intermediate registration step.</span></span> <span data-ttu-id="8784c-135">Questo passaggio intermedio assicura che gli utenti possano accedere al dominio durante l'applicazione del mapping DNS.</span><span class="sxs-lookup"><span data-stu-id="8784c-135">This intermediate step ensures users are able to access your domain while the DNS mapping takes place.</span></span>

<span data-ttu-id="8784c-136">Il metodo del sottodominio intermedio è trattato in [Registrare un dominio personalizzato usando il sottodominio *asverify*](#register-a-custom-domain-using-the-asverify-subdomain).</span><span class="sxs-lookup"><span data-stu-id="8784c-136">The intermediary method is covered in [Register a custom domain using the *asverify* subdomain](#register-a-custom-domain-using-the-asverify-subdomain).</span></span>

## <a name="register-a-custom-domain"></a><span data-ttu-id="8784c-137">Registrare un dominio personalizzato</span><span class="sxs-lookup"><span data-stu-id="8784c-137">Register a custom domain</span></span>
<span data-ttu-id="8784c-138">Eseguire questa procedura per registrare il dominio personalizzato se il fatto che il dominio sia temporaneamente non disponibile per gli utenti non costituisce un problema oppure se il dominio personalizzato al momento non ospita un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-138">Use this procedure to register your custom domain if you have no concerns about the domain being briefly unavailable to your users, or if your custom domain is not currently hosting an application.</span></span>

<span data-ttu-id="8784c-139">Se invece il dominio personalizzato supporta un'applicazione per cui non sono consentiti tempi di inattività, eseguire la procedura descritta in [Registrare un dominio personalizzato usando il sottodominio *asverify*](#register-a-custom-domain-using-the-asverify-subdomain).</span><span class="sxs-lookup"><span data-stu-id="8784c-139">If your custom domain is currently supporting an application that cannot have any downtime, follow the procedure outlined in [Register a custom domain using the *asverify* subdomain](#register-a-custom-domain-using-the-asverify-subdomain).</span></span>

<span data-ttu-id="8784c-140">Per configurare un nome di dominio personalizzato, è necessario creare un nuovo record CNAME nel DNS.</span><span class="sxs-lookup"><span data-stu-id="8784c-140">To configure a custom domain name, you must create a new CNAME record in DNS.</span></span> <span data-ttu-id="8784c-141">Il record CNAME specifica un alias per un nome di dominio.</span><span class="sxs-lookup"><span data-stu-id="8784c-141">The CNAME record specifies an alias for a domain name.</span></span> <span data-ttu-id="8784c-142">In questo caso viene usato per eseguire il mapping dell'indirizzo del dominio personalizzato all'endpoint dell'archiviazione BLOB per l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-142">In this case, it maps the address of your custom domain to the Blob storage endpoint for your storage account.</span></span>

<span data-ttu-id="8784c-143">In genere è possibile gestire le impostazioni DNS del dominio sul sito Web del registrar del dominio.</span><span class="sxs-lookup"><span data-stu-id="8784c-143">Typically, you can manage your domain's DNS settings on your domain registrar's website.</span></span> <span data-ttu-id="8784c-144">Ogni registrar prevede un metodo simile ma leggermente diverso per specificare un record CNAME. Il concetto di base è tuttavia identico.</span><span class="sxs-lookup"><span data-stu-id="8784c-144">Each registrar has a similar but slightly different method of specifying a CNAME record, but the concept is the same.</span></span> <span data-ttu-id="8784c-145">Alcuni pacchetti di base di registrazione dei domini non offrono la configurazione dei DNS, quindi può essere necessario aggiornare il pacchetto prima di creare il record CNAME.</span><span class="sxs-lookup"><span data-stu-id="8784c-145">Some basic domain registration packages do not offer DNS configuration, so you may need to upgrade your domain registration package before you can create the CNAME record.</span></span>

1. <span data-ttu-id="8784c-146">Passare all'account di archiviazione nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8784c-146">Navigate to your storage account in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="8784c-147">In **SERVIZIO BLOB** nel pannello menu selezionare **Dominio personalizzato** per aprire il pannello *Dominio personalizzato*.</span><span class="sxs-lookup"><span data-stu-id="8784c-147">Under **BLOB SERVICE** on the menu blade, select **Custom domain** to open the *Custom domain* blade.</span></span>
1. <span data-ttu-id="8784c-148">Accedere al sito Web del registrar di dominio e passare alla pagina di gestione dei DNS.</span><span class="sxs-lookup"><span data-stu-id="8784c-148">Log on to your domain registrar's website and go to the page for managing DNS.</span></span> <span data-ttu-id="8784c-149">Queste informazioni possono essere disponibili in una sezione come **Domain Name**, **DNS** o **Name Server Management**.</span><span class="sxs-lookup"><span data-stu-id="8784c-149">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span></span>
1. <span data-ttu-id="8784c-150">Individuare la sezione per la gestione dei record CNAME.</span><span class="sxs-lookup"><span data-stu-id="8784c-150">Find the section for managing CNAMEs.</span></span> <span data-ttu-id="8784c-151">Potrebbe essere necessario passare a una pagina di impostazioni avanzate e cercare le parole **CNAME**, **Alias** o **Subdomains**.</span><span class="sxs-lookup"><span data-stu-id="8784c-151">You may have to go to an advanced settings page and look for the words **CNAME**, **Alias**, or **Subdomains**.</span></span>
1. <span data-ttu-id="8784c-152">Creare un nuovo record CNAME e specificare un alias di sottodominio, ad esempio **www** o **photos**.</span><span class="sxs-lookup"><span data-stu-id="8784c-152">Create a new CNAME record and provide a subdomain alias such as **www** or **photos**.</span></span> <span data-ttu-id="8784c-153">Specificare quindi un nome host, che corrisponde all'endpoint di servizio BLOB, nel formato **mystorageaccount.blob.core.windows.net**, dove *mystorageaccount* è il nome dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-153">Then provide a host name, which is your Blob service endpoint, in the format **mystorageaccount.blob.core.windows.net** (where *mystorageaccount* is the name of your storage account).</span></span> <span data-ttu-id="8784c-154">Il nome host da usare nell'elemento #1 è visualizzato del pannello *Dominio personalizzato* nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8784c-154">The host name to use appears in item #1 of the *Custom domain* blade in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="8784c-155">Nella casella di testo del pannello *Dominio personalizzato* del [portale di Azure](https://portal.azure.com) immettere il nome del dominio personalizzato, incluso il sottodominio.</span><span class="sxs-lookup"><span data-stu-id="8784c-155">In the text box on the *Custom domain* blade in the [Azure portal](https://portal.azure.com), enter the name of your custom domain, including the subdomain.</span></span> <span data-ttu-id="8784c-156">Ad esempio, se il dominio è **contoso.com** e l'alias di sottodominio è **www**, immettere **www.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="8784c-156">For example, if your domain is **contoso.com** and your subdomain alias is **www**, enter **www.contoso.com**.</span></span> <span data-ttu-id="8784c-157">Se il sottodominio è **photos** immettere **photos.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="8784c-157">If your subdomain is **photos**, enter **photos.contoso.com**.</span></span> <span data-ttu-id="8784c-158">Il sottodominio è *obbligatorio*.</span><span class="sxs-lookup"><span data-stu-id="8784c-158">The subdomain is *required*.</span></span>
1. <span data-ttu-id="8784c-159">Selezionare **Salva** nel pannello *Dominio personalizzato* per registrare il dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8784c-159">Select **Save** on the *Custom domain* blade to register your custom domain.</span></span> <span data-ttu-id="8784c-160">Se la registrazione ha esito positivo verrà visualizzata una notifica nel portale che informa che l'account di archiviazione è stato aggiornato correttamente.</span><span class="sxs-lookup"><span data-stu-id="8784c-160">If the registration is successful, you will see a portal notification that your storage account was successfully updated.</span></span>

<span data-ttu-id="8784c-161">Dopo che il nuovo record CNAME è stato propagato tramite DNS, gli utenti possono visualizzare i dati BLOB usando il dominio personalizzato, purché dispongano delle autorizzazioni appropriate.</span><span class="sxs-lookup"><span data-stu-id="8784c-161">Once your new CNAME record has propagated through DNS, your users can view blob data by using your custom domain, so long as they have the appropriate permissions.</span></span>

## <a name="register-a-custom-domain-using-the-asverify-subdomain"></a><span data-ttu-id="8784c-162">Registrare un dominio personalizzato usando il sottodominio *asverify*</span><span class="sxs-lookup"><span data-stu-id="8784c-162">Register a custom domain using the *asverify* subdomain</span></span>
<span data-ttu-id="8784c-163">Usare questa procedura per registrare un dominio personalizzato che attualmente supporta un'applicazione con un contratto di servizio in base al quale non sono consentiti tempi di inattività.</span><span class="sxs-lookup"><span data-stu-id="8784c-163">Use this procedure to register your custom domain if your custom domain is currently supporting an application with an SLA that requires that there be no downtime.</span></span> <span data-ttu-id="8784c-164">Creando un record CNAME che punti da `asverify.<subdomain>.<customdomain>` a `asverify.<storageaccount>.blob.core.windows.net` è possibile preregistrare il dominio con Azure.</span><span class="sxs-lookup"><span data-stu-id="8784c-164">By creating a CNAME that points from `asverify.<subdomain>.<customdomain>` to `asverify.<storageaccount>.blob.core.windows.net`, you can pre-register your domain with Azure.</span></span> <span data-ttu-id="8784c-165">È quindi possibile creare un secondo record CNAME che punta da `<subdomain>.<customdomain>` a `<storageaccount>.blob.core.windows.net`. A questo punto il traffico diretto al dominio personalizzato verrà indirizzato all'endpoint BLOB.</span><span class="sxs-lookup"><span data-stu-id="8784c-165">You can then create a second CNAME that points from `<subdomain>.<customdomain>` to `<storageaccount>.blob.core.windows.net`, at which point traffic to your custom domain will be directed to your blob endpoint.</span></span>

<span data-ttu-id="8784c-166">Il sottodominio **asverify** è un sottodominio speciale riconosciuto da Azure.</span><span class="sxs-lookup"><span data-stu-id="8784c-166">The **asverify** subdomain is a special subdomain recognized by Azure.</span></span> <span data-ttu-id="8784c-167">Anteponendo `asverify` al proprio sottodominio, si consente ad Azure di riconoscere il dominio personalizzato senza modificare il relativo record DNS.</span><span class="sxs-lookup"><span data-stu-id="8784c-167">By prepending `asverify` to your own subdomain, you permit Azure to recognize your custom domain without modifying the DNS record for the domain.</span></span> <span data-ttu-id="8784c-168">Quando si modifica il record DNS per il dominio, verrà eseguito il mapping all'endpoint BLOB senza tempi di inattività.</span><span class="sxs-lookup"><span data-stu-id="8784c-168">When you do modify the DNS record for the domain, it will be mapped to the blob endpoint with no downtime.</span></span>

1. <span data-ttu-id="8784c-169">Passare all'account di archiviazione nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8784c-169">Navigate to your storage account in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="8784c-170">In **SERVIZIO BLOB** nel pannello menu selezionare **Dominio personalizzato** per aprire il pannello *Dominio personalizzato*.</span><span class="sxs-lookup"><span data-stu-id="8784c-170">Under **BLOB SERVICE** on the menu blade, select **Custom domain** to open the *Custom domain* blade.</span></span>
1. <span data-ttu-id="8784c-171">Accedere al sito Web del provider DNS e passare alla pagina di gestione dei DNS.</span><span class="sxs-lookup"><span data-stu-id="8784c-171">Log on to your DNS provider's website and go to the page for managing DNS.</span></span> <span data-ttu-id="8784c-172">Queste informazioni possono essere disponibili in una sezione come **Domain Name**, **DNS** o **Name Server Management**.</span><span class="sxs-lookup"><span data-stu-id="8784c-172">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span></span>
1. <span data-ttu-id="8784c-173">Individuare la sezione per la gestione dei record CNAME.</span><span class="sxs-lookup"><span data-stu-id="8784c-173">Find the section for managing CNAMEs.</span></span> <span data-ttu-id="8784c-174">Potrebbe essere necessario passare a una pagina di impostazioni avanzate e cercare le parole **CNAME**, **Alias** o **Subdomains**.</span><span class="sxs-lookup"><span data-stu-id="8784c-174">You may have to go to an advanced settings page and look for the words **CNAME**, **Alias**, or **Subdomains**.</span></span>
1. <span data-ttu-id="8784c-175">Creare un nuovo record CNAME e fornire un alias di sottodominio che include il sottodominio *asverify*.</span><span class="sxs-lookup"><span data-stu-id="8784c-175">Create a new CNAME record, and provide a subdomain alias that includes the *asverify* subdomain.</span></span> <span data-ttu-id="8784c-176">Ad esempio **asverify.www** o **asverify.photos**.</span><span class="sxs-lookup"><span data-stu-id="8784c-176">For example, **asverify.www** or **asverify.photos**.</span></span> <span data-ttu-id="8784c-177">Specificare quindi un nome host, che corrisponde all'endpoint di servizio BLOB, nel formato **asverify.mystorageaccount.blob.core.windows.net**, dove **mystorageaccount** è il nome dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-177">Then provide a host name, which is your Blob service endpoint, in the format **asverify.mystorageaccount.blob.core.windows.net** (where **mystorageaccount** is the name of your storage account).</span></span> <span data-ttu-id="8784c-178">Il nome host da usare viene visualizzato nell'elemento #2 del pannello *Dominio personalizzato* nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8784c-178">The host name to use appears in item #2 of the *Custom domain* blade in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="8784c-179">Nella casella di testo del pannello *Dominio personalizzato* del [portale di Azure](https://portal.azure.com) immettere il nome del dominio personalizzato, incluso il sottodominio.</span><span class="sxs-lookup"><span data-stu-id="8784c-179">In the text box on the *Custom domain* blade in the [Azure portal](https://portal.azure.com), enter the name of your custom domain, including the subdomain.</span></span> <span data-ttu-id="8784c-180">Non includere *asverify*.</span><span class="sxs-lookup"><span data-stu-id="8784c-180">Do not include *asverify*.</span></span> <span data-ttu-id="8784c-181">Ad esempio, se il dominio è **contoso.com** e l'alias di sottodominio è **www**, immettere **www.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="8784c-181">For example, if your domain is **contoso.com** and your subdomain alias is **www**, enter **www.contoso.com**.</span></span> <span data-ttu-id="8784c-182">Se il sottodominio è **photos** immettere **photos.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="8784c-182">If your subdomain is **photos**, enter **photos.contoso.com**.</span></span> <span data-ttu-id="8784c-183">Il sottodominio è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="8784c-183">The subdomain is required.</span></span>
1. <span data-ttu-id="8784c-184">Selezionare la casella di controllo **Usa convalida CNAME indiretta**.</span><span class="sxs-lookup"><span data-stu-id="8784c-184">Select the **Use indirect CNAME validation** checkbox.</span></span>
1. <span data-ttu-id="8784c-185">Selezionare **Salva** nel pannello *Dominio personalizzato* per registrare il dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8784c-185">Select **Save** on the *Custom domain* blade to register your custom domain.</span></span> <span data-ttu-id="8784c-186">Se la registrazione ha esito positivo verrà visualizzata una notifica nel portale che informa che l'account di archiviazione è stato aggiornato correttamente.</span><span class="sxs-lookup"><span data-stu-id="8784c-186">If the registration is successful, you will see a portal notification stating that your storage account was successfully updated.</span></span> <span data-ttu-id="8784c-187">A questo punto, il dominio personalizzato è stato verificato da Azure, ma il traffico verso il dominio non è ancora instradato all'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-187">At this point, your custom domain has been verified by Azure, but traffic to your domain is not yet being routed to your storage account.</span></span>
1. <span data-ttu-id="8784c-188">Tornare al sito Web del provider DNS e creare un altro record CNAME tramite cui eseguire il mapping del sottodominio all'endpoint del servizio BLOB.</span><span class="sxs-lookup"><span data-stu-id="8784c-188">Return to your DNS provider's website, and create another CNAME record that maps your subdomain to your Blob service endpoint.</span></span> <span data-ttu-id="8784c-189">Specificare ad esempio il sottodominio **www** o **photos** (senza *asverify*) e il nome host **mystorageaccount.blob.core.windows.net**, dove **mystorageaccount** è il nome dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-189">For example, specify the subdomain as **www** or **photos** (without the *asverify*), and the hostname as **mystorageaccount.blob.core.windows.net** (where **mystorageaccount** is the name of your storage account).</span></span> <span data-ttu-id="8784c-190">Con questo passaggio viene completata la registrazione del dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8784c-190">With this step, the registration of your custom domain is complete.</span></span>
1. <span data-ttu-id="8784c-191">Infine è possibile eliminare il record CNAME creato contenente il sottodominio **asverify**, poiché è stato necessario solo come passaggio intermedio.</span><span class="sxs-lookup"><span data-stu-id="8784c-191">Finally, you can delete the CNAME record you created containing the **asverify** subdomain, as it was necessary only as an intermediary step.</span></span>

<span data-ttu-id="8784c-192">Dopo che il nuovo record CNAME è stato propagato tramite DNS, gli utenti possono visualizzare i dati BLOB usando il dominio personalizzato, purché dispongano delle autorizzazioni appropriate.</span><span class="sxs-lookup"><span data-stu-id="8784c-192">Once your new CNAME record has propagated through DNS, your users can view blob data by using your custom domain, so long as they have the appropriate permissions.</span></span>

## <a name="test-your-custom-domain"></a><span data-ttu-id="8784c-193">Testare un dominio personalizzato</span><span class="sxs-lookup"><span data-stu-id="8784c-193">Test your custom domain</span></span>

<span data-ttu-id="8784c-194">Per verificare che il mapping del dominio personalizzato all'endpoint del servizio BLOB sia stato effettivamente eseguito, creare un BLOB in un contenitore pubblico all'interno dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="8784c-194">To confirm your custom domain is indeed mapped to your Blob service endpoint, create a blob in a public container within your storage account.</span></span> <span data-ttu-id="8784c-195">Quindi, in un Web browser utilizzare un URI nel formato seguente per accedere al BLOB:</span><span class="sxs-lookup"><span data-stu-id="8784c-195">Then, in a web browser, use a URI in the following format to access the blob:</span></span>

`http://<subdomain.customdomain>/<mycontainer>/<myblob>`

<span data-ttu-id="8784c-196">È possibile ad esempio usare l'URI seguente per accedere a un Web Form nel contenitore **myforms** nel sottodominio personalizzato **photos.contoso.com**:</span><span class="sxs-lookup"><span data-stu-id="8784c-196">For example, you might use the following URI to access a web form in the **myforms** container in the **photos.contoso.com** custom subdomain:</span></span>

`http://photos.contoso.com/myforms/applicationform.htm`

## <a name="deregister-a-custom-domain"></a><span data-ttu-id="8784c-197">Annullare la registrazione di un dominio personalizzato</span><span class="sxs-lookup"><span data-stu-id="8784c-197">Deregister a custom domain</span></span>

<span data-ttu-id="8784c-198">Per annullare la registrazione di un dominio personalizzato per l'endpoint di archiviazione BLOB, usare una delle seguenti procedure.</span><span class="sxs-lookup"><span data-stu-id="8784c-198">To deregister a custom domain for your Blob storage endpoint, use one of the following procedures.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="8784c-199">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="8784c-199">Azure portal</span></span>

<span data-ttu-id="8784c-200">Per rimuovere l'impostazione di dominio personalizzato eseguire le operazioni seguenti nel portale di Azure:</span><span class="sxs-lookup"><span data-stu-id="8784c-200">Perform the following in the Azure portal to remove the custom domain setting:</span></span>

1. <span data-ttu-id="8784c-201">Passare all'account di archiviazione nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8784c-201">Navigate to your storage account in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="8784c-202">In **SERVIZIO BLOB** nel pannello menu selezionare **Dominio personalizzato** per aprire il pannello *Dominio personalizzato*.</span><span class="sxs-lookup"><span data-stu-id="8784c-202">Under **BLOB SERVICE** on the menu blade, select **Custom domain** to open the *Custom domain* blade.</span></span>
1. <span data-ttu-id="8784c-203">Cancellare il contenuto della casella di testo contenente il nome di dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8784c-203">Clear the contents of the text box containing your custom domain name.</span></span>
1. <span data-ttu-id="8784c-204">Fare clic sul pulsante **Salva**.</span><span class="sxs-lookup"><span data-stu-id="8784c-204">Select the **Save** button.</span></span>

<span data-ttu-id="8784c-205">Dopo aver rimosso correttamente il dominio personalizzato, verrà visualizzata una notifica nel portale che informa che l'account di archiviazione è stato aggiornato correttamente.</span><span class="sxs-lookup"><span data-stu-id="8784c-205">When the custom domain has been removed successfully, you will see a portal notification stating that your storage account was successfully updated.</span></span>

### <a name="azure-cli-20"></a><span data-ttu-id="8784c-206">Interfaccia della riga di comando di Azure 2.0</span><span class="sxs-lookup"><span data-stu-id="8784c-206">Azure CLI 2.0</span></span>

<span data-ttu-id="8784c-207">Usare il comando [az storage account update](https://docs.microsoft.com/cli/azure/storage/account#update) dell'interfaccia della riga di comando e specificare una stringa vuota (`""`) per il valore dell'argomento `--custom-domain` per rimuovere la registrazione di un dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8784c-207">Use the [az storage account update](https://docs.microsoft.com/cli/azure/storage/account#update) CLI command and specify an empty string (`""`) for the `--custom-domain` argument value to remove a custom domain registration.</span></span>

* <span data-ttu-id="8784c-208">Formato del comando:</span><span class="sxs-lookup"><span data-stu-id="8784c-208">Command format:</span></span>

  ```azurecli
  az storage account update \
      --name <storage-account-name> \
      --resource-group <resource-group-name> \
      --custom-domain ""
  ```

* <span data-ttu-id="8784c-209">Esempio del comando:</span><span class="sxs-lookup"><span data-stu-id="8784c-209">Command example:</span></span>

  ```azurecli
  az storage account update \
      --name mystorageaccount \
      --resource-group myresourcegroup \
      --custom-domain ""
  ```

### <a name="powershell"></a><span data-ttu-id="8784c-210">PowerShell</span><span class="sxs-lookup"><span data-stu-id="8784c-210">PowerShell</span></span>

<span data-ttu-id="8784c-211">Usare il cmdlet di PowerShell [Set-AzureRmStorageAccount](/powershell/module/azurerm.storage/set-azurermstorageaccount) e specificare una stringa vuota (`""`) per il valore dell'argomento `-CustomDomainName` per rimuovere la registrazione di un dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8784c-211">Use the [Set-AzureRmStorageAccount](/powershell/module/azurerm.storage/set-azurermstorageaccount) PowerShell cmdlet and specify an empty string (`""`) for the `-CustomDomainName` argument value to remove a custom domain registration.</span></span>

* <span data-ttu-id="8784c-212">Formato del comando:</span><span class="sxs-lookup"><span data-stu-id="8784c-212">Command format:</span></span>

  ```powershell
  Set-AzureRmStorageAccount `
      -ResourceGroupName "<resource-group-name>" `
      -AccountName "<storage-account-name>" `
      -CustomDomainName ""
  ```

* <span data-ttu-id="8784c-213">Esempio del comando:</span><span class="sxs-lookup"><span data-stu-id="8784c-213">Command example:</span></span>

  ```powershell
  Set-AzureRmStorageAccount `
      -ResourceGroupName "myresourcegroup" `
      -AccountName "mystorageaccount" `
      -CustomDomainName ""
  ```

## <a name="next-steps"></a><span data-ttu-id="8784c-214">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="8784c-214">Next steps</span></span>
* [<span data-ttu-id="8784c-215">Eseguire il mapping di un dominio personalizzato a un endpoint della rete per la distribuzione di contenuti (rete CDN) di Azure</span><span class="sxs-lookup"><span data-stu-id="8784c-215">Map a custom domain to an Azure Content Delivery Network (CDN) endpoint</span></span>](../cdn/cdn-map-content-to-custom-domain.md)
* [<span data-ttu-id="8784c-216">Usare la rete CDN di Azure per accedere ai BLOB con domini personalizzati tramite HTTPS</span><span class="sxs-lookup"><span data-stu-id="8784c-216">Using the Azure CDN to access blobs with custom domains over HTTPS</span></span>](./storage-https-custom-domain-cdn.md)
