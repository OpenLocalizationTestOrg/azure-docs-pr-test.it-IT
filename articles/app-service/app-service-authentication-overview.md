---
title: Autenticazione e autorizzazione nel servizio app di Azure | Documentazione Microsoft
description: "Riferimento concettuale e panoramica della funzionalità di Autenticazione/Autorizzazione per il servizio app di Azure"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: b7151b57-09e5-4c77-a10c-375a262f17e5
ms.service: app-service
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 08/29/2016
ms.author: mahender
ms.openlocfilehash: e89ba5613c615c41af93e8f63b3703da8395095c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="authentication-and-authorization-in-azure-app-service"></a><span data-ttu-id="90343-103">Autenticazione e autorizzazione nel servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="90343-103">Authentication and authorization in Azure App Service</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="90343-104">Informazioni sull’autenticazione / autorizzazione di servizio app</span><span class="sxs-lookup"><span data-stu-id="90343-104">What is App Service Authentication / Authorization?</span></span>
<span data-ttu-id="90343-105">L'autenticazione/autorizzazione del servizio app è una funzionalità che consente all'applicazione di eseguire la procedura di accesso degli utenti in modo che non sia necessario modificare il codice nel back-end dell'app.</span><span class="sxs-lookup"><span data-stu-id="90343-105">App Service Authentication / Authorization is a feature that provides a way for your application to sign in users so that you don't have to change code on the app backend.</span></span> <span data-ttu-id="90343-106">Fornisce un modo semplice per proteggere l'applicazione e utilizzare dati per-utente.</span><span class="sxs-lookup"><span data-stu-id="90343-106">It provides an easy way to protect your application and work with per-user data.</span></span>

<span data-ttu-id="90343-107">Il servizio app usa identità federate, in cui un provider di identità di terze parti archivia gli account e autentica gli utenti.</span><span class="sxs-lookup"><span data-stu-id="90343-107">App Service uses federated identity, in which a third-party identity provider stores accounts and authenticates users.</span></span> <span data-ttu-id="90343-108">L'applicazione si basa sulle informazioni di identità del provider in modo da non doverle archiviare.</span><span class="sxs-lookup"><span data-stu-id="90343-108">The application relies on the provider's identity information so that the app doesn't have to store that information itself.</span></span> <span data-ttu-id="90343-109">Il servizio app supporta cinque provider di identità predefiniti: Azure Active Directory, Facebook, Google, Account Microsoft e Twitter.</span><span class="sxs-lookup"><span data-stu-id="90343-109">App Service supports five identity providers out of the box: Azure Active Directory, Facebook, Google, Microsoft Account, and Twitter.</span></span> <span data-ttu-id="90343-110">L'app può usare un numero qualsiasi di questi provider di identità per offrire agli utenti diverse opzioni di accesso.</span><span class="sxs-lookup"><span data-stu-id="90343-110">Your app can use any number of these identity providers to provide your users with options for how they sign in.</span></span> <span data-ttu-id="90343-111">Per espandere il supporto predefinito, è possibile integrare un altro provider di identità o [la soluzione di gestione delle identità personalizzata][custom-auth].</span><span class="sxs-lookup"><span data-stu-id="90343-111">To expand the built-in support, you can integrate another identity provider or [your own custom identity solution][custom-auth].</span></span>

<span data-ttu-id="90343-112">Se si vuole iniziare subito, vedere una delle esercitazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="90343-112">If you want to get started right away, see one of the following tutorials:</span></span>

* <span data-ttu-id="90343-113">[Aggiungere l'autenticazione all'app iOS][iOS] (o [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms] o [Cordova])</span><span class="sxs-lookup"><span data-stu-id="90343-113">[Add authentication to your iOS app][iOS] (or [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms], or [Cordova])</span></span>
* <span data-ttu-id="90343-114">[Autenticazione utente per le app per le API nel servizio app di Azure][apia-user]</span><span class="sxs-lookup"><span data-stu-id="90343-114">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="90343-115">[Introduzione a Servizio app di Azure: parte 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="90343-115">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

## <a name="how-authentication-works-in-app-service"></a><span data-ttu-id="90343-116">Funzionamento dell'autenticazione nel servizio app</span><span class="sxs-lookup"><span data-stu-id="90343-116">How authentication works in App Service</span></span>
<span data-ttu-id="90343-117">Per eseguire l'autenticazione con uno dei provider di identità, è prima necessario configurare il provider di identità per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-117">In order to authenticate by using one of the identity providers, you first need to configure the identity provider to know about your application.</span></span> <span data-ttu-id="90343-118">Il provider di identità fornirà quindi gli ID e i segreti da includere nel servizio app.</span><span class="sxs-lookup"><span data-stu-id="90343-118">The identity provider will then provide IDs and secrets that you provide to App Service.</span></span> <span data-ttu-id="90343-119">Questo completa la relazione di trust e consente al servizio app di convalidare le asserzioni utente dal provider di identità, ad esempio i token di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="90343-119">This completes the trust relationship so that App Service can validate user assertions, such as authentication tokens, from the identity provider.</span></span>

<span data-ttu-id="90343-120">Per consentire a un utente di accedere tramite uno di questi provider, è necessario che l'utente sia reindirizzato a un apposito endpoint per tale provider.</span><span class="sxs-lookup"><span data-stu-id="90343-120">To sign in a user by using one of these providers, the user must be redirected to an endpoint that signs in users for that provider.</span></span> <span data-ttu-id="90343-121">Se i clienti usano un Web browser, è possibile configurare il servizio app in modo che indirizzi automaticamente tutti gli utenti non autenticati all'endpoint che esegue la procedura di accesso degli utenti.</span><span class="sxs-lookup"><span data-stu-id="90343-121">If customers are using a web browser, you can have App Service automatically direct all unauthenticated users to the endpoint that signs in users.</span></span> <span data-ttu-id="90343-122">In caso contrario, sarà necessario indirizzare i clienti a `{your App Service base URL}/.auth/login/<provider>`, dove `<provider>` è uno dei valori seguenti: aad, facebook, google, microsoft o twitter.</span><span class="sxs-lookup"><span data-stu-id="90343-122">Otherwise, you will need to direct your customers to `{your App Service base URL}/.auth/login/<provider>`, where `<provider>` is one of the following values: aad, facebook, google, microsoft, or twitter.</span></span> <span data-ttu-id="90343-123">Gli scenari relativi alle API e ai dispositivi mobili sono illustrati nelle sezioni successive di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="90343-123">Mobile and API scenarios are explained in sections later in this article.</span></span>

<span data-ttu-id="90343-124">Gli utenti che interagiscono con l'applicazione tramite un Web browser avranno un cookie impostato in modo da rimanere autenticati mentre esplorano l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-124">Users who interact with your application through a web browser will have a cookie set so that they can remain authenticated as they browse your application.</span></span> <span data-ttu-id="90343-125">Per altri tipi di client, ad esempio quelli per dispositivi mobili, verrà rilasciato un token Web JSON (JWT), che dovrà essere presentato nell'intestazione `X-ZUMO-AUTH` .</span><span class="sxs-lookup"><span data-stu-id="90343-125">For other client types, such as mobile, a JSON web token (JWT), which should be presented in the `X-ZUMO-AUTH` header, will be issued to the client.</span></span> <span data-ttu-id="90343-126">Gli SDK client delle app per dispositivi mobili gestiranno questa operazione automaticamente.</span><span class="sxs-lookup"><span data-stu-id="90343-126">The Mobile Apps client SDKs will handle this for you.</span></span> <span data-ttu-id="90343-127">In alternativa, un token di identità di Azure Active Directory o un token di accesso può essere incluso direttamente nell'intestazione `Authorization` come [token di connessione](https://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="90343-127">Alternatively, an Azure Active Directory identity token or access token may be directly included in the `Authorization` header as a [bearer token](https://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="90343-128">Il servizio app convaliderà qualsiasi cookie o token rilasciato dall'applicazione per l'autenticazione degli utenti.</span><span class="sxs-lookup"><span data-stu-id="90343-128">App Service will validate any cookie or token that your application issues to authenticate users.</span></span> <span data-ttu-id="90343-129">Per limitare l'accesso all'applicazione, vedere la sezione sul [funzionamento dell'autorizzazione](#authorization) più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="90343-129">To restrict who can access your application, see the [Authorization](#authorization) section later in this article.</span></span>

### <a name="mobile-authentication-with-a-provider-sdk"></a><span data-ttu-id="90343-130">Autenticazione per dispositivi mobili con un SDK del provider</span><span class="sxs-lookup"><span data-stu-id="90343-130">Mobile authentication with a provider SDK</span></span>
<span data-ttu-id="90343-131">Dopo aver completato tutte le configurazioni nel back-end, è possibile modificare i client per dispositivi mobili per l'accesso con il servizio app.</span><span class="sxs-lookup"><span data-stu-id="90343-131">After everything is configured on the backend, you can modify mobile clients to sign in with App Service.</span></span> <span data-ttu-id="90343-132">Di seguito, sono disponibili due approcci:</span><span class="sxs-lookup"><span data-stu-id="90343-132">There are two approaches here:</span></span>

* <span data-ttu-id="90343-133">Uso di un SDK pubblicato da un determinato provider di identità per stabilire l'identità e quindi accedere al servizio app.</span><span class="sxs-lookup"><span data-stu-id="90343-133">Use an SDK that a given identity provider publishes to establish identity and then gain access to App Service.</span></span>
* <span data-ttu-id="90343-134">Uso di una singola riga di codice per consentire all'SDK client delle app per dispositivi mobili di eseguire la procedura di accesso degli utenti.</span><span class="sxs-lookup"><span data-stu-id="90343-134">Use a single line of code so that the Mobile Apps client SDK can sign in users.</span></span>

> [!TIP]
> <span data-ttu-id="90343-135">La maggior parte delle applicazioni deve usare un SDK del provider per offrire agli utenti un'esperienza di accesso più coerente e per usufruire del supporto dell'aggiornamento e di altri vantaggi specificati dal provider.</span><span class="sxs-lookup"><span data-stu-id="90343-135">Most applications should use a provider SDK to get a more consistent experience when users sign in, to use refresh support, and to get other benefits that the provider specifies.</span></span>
> 
> 

<span data-ttu-id="90343-136">Quando si usa un SDK del provider, gli utenti possono accedere a un'esperienza più integrata con il sistema operativo in cui viene eseguita l'app.</span><span class="sxs-lookup"><span data-stu-id="90343-136">When you use a provider SDK, users can sign in to an experience that integrates more tightly with the operating system that the app is running on.</span></span> <span data-ttu-id="90343-137">Inoltre, offre un token del provider e alcune informazioni utente sul client, che rende molto più semplice utilizzare le API Graph e personalizzare l'esperienza utente.</span><span class="sxs-lookup"><span data-stu-id="90343-137">This also gives you a provider token and some user information on the client, which makes it much easier to consume graph APIs and customize the user experience.</span></span> <span data-ttu-id="90343-138">In blog e forum si trova talvolta la definizione "flusso client" o "flusso verso il client", perché il codice sul client esegue la procedura di accesso degli utenti e il codice client ha accesso a un token del provider.</span><span class="sxs-lookup"><span data-stu-id="90343-138">Occasionally on blogs and forums, you will see this referred to as the "client flow" or "client-directed flow" because code on the client signs in users, and the client code has access to a provider token.</span></span>

<span data-ttu-id="90343-139">Dopo che è stato ottenuto un token del provider, questo deve essere inviato al servizio app per la convalida.</span><span class="sxs-lookup"><span data-stu-id="90343-139">After a provider token is obtained, it needs to be sent to App Service for validation.</span></span> <span data-ttu-id="90343-140">Dopo che il servizio app ha convalidato il token, crea un nuovo token del servizio app che viene restituito al client.</span><span class="sxs-lookup"><span data-stu-id="90343-140">After App Service validates the token, App Service creates a new App Service token that is returned to the client.</span></span> <span data-ttu-id="90343-141">L'SDK client delle app per dispositivi mobili include metodi helper per la gestione di questo scambio e l'associazione automatica del token a tutte le richieste per il back-end dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-141">The Mobile Apps client SDK has helper methods to manage this exchange and automatically attach the token to all requests to the application backend.</span></span> <span data-ttu-id="90343-142">Facoltativamente, gli sviluppatori possono anche mantenere un riferimento al token del provider.</span><span class="sxs-lookup"><span data-stu-id="90343-142">Developers can also keep a reference to the provider token if they so choose.</span></span>

### <a name="mobile-authentication-without-a-provider-sdk"></a><span data-ttu-id="90343-143">Autenticazione per dispositivi mobili senza un SDK del provider</span><span class="sxs-lookup"><span data-stu-id="90343-143">Mobile authentication without a provider SDK</span></span>
<span data-ttu-id="90343-144">Se non si vuole configurare un SDK del provider, è possibile consentire alla funzionalità App per dispositivi mobili del servizio app di Azure di eseguire la procedura di accesso per conto dell'utente.</span><span class="sxs-lookup"><span data-stu-id="90343-144">If you do not want to set up a provider SDK, you can allow the Mobile Apps feature of Azure App Service to sign in for you.</span></span> <span data-ttu-id="90343-145">L'SDK client delle app per dispositivi mobili aprirà una visualizzazione Web per il provider scelto e completerà l'accesso dell'utente.</span><span class="sxs-lookup"><span data-stu-id="90343-145">The Mobile Apps client SDK will open a web view to the provider of your choosing and sign in the user.</span></span> <span data-ttu-id="90343-146">In blog e forum si trova talvolta la definizione "flusso server" o "flusso verso il server", perché il server gestisce il processo di accesso degli utenti e l'SDK client non riceve mai il token del provider.</span><span class="sxs-lookup"><span data-stu-id="90343-146">Occasionally on blogs and forums, you will see this referred to as the "server flow" or "server-directed flow" because the server manages the process that signs in users, and the client SDK never receives the provider token.</span></span>

<span data-ttu-id="90343-147">Il codice necessario per avviare questo flusso è incluso nell'esercitazione sull'autenticazione per ogni piattaforma.</span><span class="sxs-lookup"><span data-stu-id="90343-147">Code to start this flow is included in the authentication tutorial for each platform.</span></span> <span data-ttu-id="90343-148">Alla fine del flusso, l'SDK del client ha un token del servizio app che viene associato automaticamente a tutte le richieste per il back-end dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-148">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the application backend.</span></span>

### <a name="service-to-service-authentication"></a><span data-ttu-id="90343-149">Autenticazione da servizio a servizio</span><span class="sxs-lookup"><span data-stu-id="90343-149">Service-to-service authentication</span></span>
<span data-ttu-id="90343-150">Pur potendo concedere agli utenti l'accesso all'applicazione, è anche possibile considerare attendibile un'altra applicazione per la chiamata all'API.</span><span class="sxs-lookup"><span data-stu-id="90343-150">Although you can give users access to your application, you can also trust another application to call your own API.</span></span> <span data-ttu-id="90343-151">È ad esempio possibile che un'app Web chiami un'API in un'altra app Web.</span><span class="sxs-lookup"><span data-stu-id="90343-151">For example, you could have one web app call an API in another web app.</span></span> <span data-ttu-id="90343-152">In questo scenario, per ottenere un token si usano le credenziali di un account del servizio invece di credenziali utente.</span><span class="sxs-lookup"><span data-stu-id="90343-152">In this scenario, you use credentials for a service account instead of user credentials to get a token.</span></span> <span data-ttu-id="90343-153">Un account del servizio è noto anche come *entità servizio* in Azure Active Directory, mentre l'autenticazione che usa un account di questo tipo è nota anche come scenario da servizio a servizio.</span><span class="sxs-lookup"><span data-stu-id="90343-153">A service account is also known as a *service principal* in Azure Active Directory parlance, and authentication that uses such an account is also known as a service-to-service scenario.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="90343-154">Dato che le app per dispositivi mobili vengono eseguite su dispositivi del cliente, tali applicazioni *non* sono considerate applicazioni attendibili e non devono usare un flusso dell'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="90343-154">Because mobile apps run on customer devices, mobile applications do *not* count as trusted applications and should not use a service principal flow.</span></span> <span data-ttu-id="90343-155">È invece necessario usare un flusso utente descritto sopra.</span><span class="sxs-lookup"><span data-stu-id="90343-155">Instead, they should use a user flow that was detailed earlier.</span></span>
> 
> 

<span data-ttu-id="90343-156">Per gli scenari da servizio a servizio, il servizio app può proteggere l'applicazione con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="90343-156">For service-to-service scenarios, App Service can protect your application by using Azure Active Directory.</span></span> <span data-ttu-id="90343-157">L'applicazione chiamante deve solo fornire un token di autorizzazione dell'entità servizio di Azure Active Directory ottenuto fornendo l'ID client e il segreto client da Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="90343-157">The calling application just needs to provide an Azure Active Directory service principal authorization token that is obtained by providing the client ID and client secret from Azure Active Directory.</span></span> <span data-ttu-id="90343-158">Un esempio di questo scenario che usa le app per le API ASP.NET è illustrato nell'esercitazione [Autenticazione dell'entità servizio per app per le API][apia-service].</span><span class="sxs-lookup"><span data-stu-id="90343-158">An example of this scenario that uses ASP.NET API apps is explained by the tutorial, [Service principal authentication for API Apps][apia-service].</span></span>

<span data-ttu-id="90343-159">Per gestire uno scenario da servizio a servizio con l'autenticazione del servizio app, è possibile usare i certificati client o l'autenticazione di base.</span><span class="sxs-lookup"><span data-stu-id="90343-159">If you want to use App Service authentication to handle a service-to-service scenario, you can use client certificates or basic authentication.</span></span> <span data-ttu-id="90343-160">Per informazioni sui certificati client in Azure, vedere [Come configurare l'autenticazione reciproca TLS per un'app Web](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span><span class="sxs-lookup"><span data-stu-id="90343-160">For information about client certificates in Azure, see [How To Configure TLS Mutual Authentication for Web Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span></span> <span data-ttu-id="90343-161">Per informazioni sull'autenticazione di base in ASP.NET, vedere il blog sui [filtri di autenticazione nell'API Web 2 ASP.NET](http://www.asp.net/web-api/overview/security/authentication-filters).</span><span class="sxs-lookup"><span data-stu-id="90343-161">For information about basic authentication in ASP.NET, see [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span></span>

<span data-ttu-id="90343-162">L'autenticazione dell'account del servizio da un'app per la logica del servizio app a un'app per le API è un caso speciale ed è illustrata nell'articolo [Uso dell'API personalizzata ospitata nel servizio app con App per la logica](../logic-apps/logic-apps-custom-hosted-api.md).</span><span class="sxs-lookup"><span data-stu-id="90343-162">Service account authentication from an App Service logic app to an API app is a special case that is detailed in [Using your custom API hosted on App Service with Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span></span>

## <span data-ttu-id="90343-163"><a name="authorization"></a>Funzionamento dell'autorizzazione nel servizio app</span><span class="sxs-lookup"><span data-stu-id="90343-163"><a name="authorization"></a>How authorization works in App Service</span></span>
<span data-ttu-id="90343-164">Si ha il controllo completo sulle richieste che possono accedere all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-164">You have full control over the requests that can access your application.</span></span> <span data-ttu-id="90343-165">Autenticazione servizio app/L'autorizzazione può essere configurata con uno qualsiasi dei comportamenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="90343-165">App Service Authentication / Authorization can be configured with any of the following behaviors:</span></span>

* <span data-ttu-id="90343-166">Consentire solo alle richieste autenticate di raggiungere l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-166">Allow only authenticated requests to reach your application.</span></span>
  
    <span data-ttu-id="90343-167">Se un browser riceve una richiesta anonima, il servizio app la reindirizzerà a una pagina del provider di identità scelto per consentire l'accesso degli utenti.</span><span class="sxs-lookup"><span data-stu-id="90343-167">If a browser receives an anonymous request, App Service will redirect to a page for the identity provider that you choose so that users can sign in.</span></span> <span data-ttu-id="90343-168">Se la richiesta proviene da un dispositivo mobile, verrà restituita una risposta HTTP *401 Non autorizzato*.</span><span class="sxs-lookup"><span data-stu-id="90343-168">If the request comes from a mobile device, the returned response is an HTTP *401 Unauthorized* response.</span></span>
  
    <span data-ttu-id="90343-169">Con questa opzione non è necessario scrivere alcun codice di autenticazione nell'app.</span><span class="sxs-lookup"><span data-stu-id="90343-169">With this option, you don't need to write any authentication code at all in your app.</span></span> <span data-ttu-id="90343-170">Se è necessaria un'autorizzazione più specifica, le informazioni sull'utente sono disponibili nel codice.</span><span class="sxs-lookup"><span data-stu-id="90343-170">If you need finer authorization, information about the user is available to your code.</span></span>
* <span data-ttu-id="90343-171">Consentire alle richieste di raggiungere l'applicazione, ma convalidare le richieste autenticate e passare le informazioni di autenticazione nelle intestazioni HTTP.</span><span class="sxs-lookup"><span data-stu-id="90343-171">Allow all requests to reach your application, but validate authenticated requests, and pass along authentication information in the HTTP headers.</span></span>
  
    <span data-ttu-id="90343-172">Questa opzione rinvia le decisioni di autorizzazione al codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-172">This option defers authorization decisions to your application code.</span></span> <span data-ttu-id="90343-173">Offre maggiore flessibilità nella gestione delle richieste anonime, ma è necessario scrivere codice.</span><span class="sxs-lookup"><span data-stu-id="90343-173">It provides more flexibility in handling anonymous requests, but you have to write code.</span></span>
* <span data-ttu-id="90343-174">Consentire a tutte le richieste di raggiungere l'applicazione e non eseguire alcuna azione sulle informazioni di autenticazione nelle richieste.</span><span class="sxs-lookup"><span data-stu-id="90343-174">Allow all requests to reach your application, and take no action on authentication information in the requests.</span></span>
  
    <span data-ttu-id="90343-175">In questo caso la funzionalità Autenticazione/Autorizzazione è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="90343-175">In this case, the Authentication / Authorization feature is off.</span></span> <span data-ttu-id="90343-176">Le attività di autenticazione e autorizzazione dipendono interamente dal codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-176">The tasks of authentication and authorization are entirely up to your application code.</span></span>

<span data-ttu-id="90343-177">I comportamenti precedenti sono controllati dall'opzione **Azione da eseguire quando la richiesta non è autenticata** nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="90343-177">The previous behaviors are controlled by the **Action to take when request is not authenticated** option in the Azure portal.</span></span> <span data-ttu-id="90343-178">Se si sceglie **Accedi con *nome provider* **, tutte le richieste devono essere autenticate.</span><span class="sxs-lookup"><span data-stu-id="90343-178">If you choose **Log in with *provider name* **, all requests have to be authenticated.</span></span> <span data-ttu-id="90343-179">**Consenti richiesta (nessuna azione)** rinvia la decisione di autorizzazione al codice, ma fornisce comunque informazioni di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="90343-179">**Allow request (no action)** defers the authorization decision to your code, but it still provides authentication information.</span></span> <span data-ttu-id="90343-180">Se si vuole che il codice gestisca tutti gli elementi, è possibile disabilitare la funzionalità Autenticazione/Autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="90343-180">If you want to have your code handle everything, you can disable the Authentication / Authorization feature.</span></span>

## <a name="working-with-user-identities-in-your-application"></a><span data-ttu-id="90343-181">Utilizzo delle identità utente nell'applicazione</span><span class="sxs-lookup"><span data-stu-id="90343-181">Working with user identities in your application</span></span>
<span data-ttu-id="90343-182">Il servizio app passa alcune informazioni utente all'applicazione usando intestazioni speciali.</span><span class="sxs-lookup"><span data-stu-id="90343-182">App Service passes some user information to your application by using special headers.</span></span> <span data-ttu-id="90343-183">Le richieste esterne non consentono queste intestazioni e saranno presenti solo se impostate dall'autenticazione/autorizzazione del servizio app.</span><span class="sxs-lookup"><span data-stu-id="90343-183">External requests prohibit these headers and will only be present if set by App Service Authentication / Authorization.</span></span> <span data-ttu-id="90343-184">Ecco alcune intestazioni di esempio:</span><span class="sxs-lookup"><span data-stu-id="90343-184">Some example headers include:</span></span>

* <span data-ttu-id="90343-185">X-MS-CLIENT-PRINCIPAL-NAME</span><span class="sxs-lookup"><span data-stu-id="90343-185">X-MS-CLIENT-PRINCIPAL-NAME</span></span>
* <span data-ttu-id="90343-186">X-MS-CLIENT-PRINCIPAL-ID</span><span class="sxs-lookup"><span data-stu-id="90343-186">X-MS-CLIENT-PRINCIPAL-ID</span></span>
* <span data-ttu-id="90343-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span><span class="sxs-lookup"><span data-stu-id="90343-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span></span>
* <span data-ttu-id="90343-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span><span class="sxs-lookup"><span data-stu-id="90343-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span></span>

<span data-ttu-id="90343-189">Il codice scritto in qualsiasi linguaggio o framework può ottenere le informazioni necessarie da queste intestazioni.</span><span class="sxs-lookup"><span data-stu-id="90343-189">Code that is written in any language or framework can get the information that it needs from these headers.</span></span> <span data-ttu-id="90343-190">Per le app ASP.NET 4.6, i valori appropriati per **ClaimsPrincipal** vengono impostati automaticamente.</span><span class="sxs-lookup"><span data-stu-id="90343-190">For ASP.NET 4.6 apps, the **ClaimsPrincipal** is automatically set with the appropriate values.</span></span>

<span data-ttu-id="90343-191">L'applicazione può anche ottenere altri dettagli sull'utente tramite una richiesta HTTP GET sull'endpoint `/.auth/me` dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="90343-191">Your application can also obtain additional user details through an HTTP GET on the `/.auth/me` endpoint of your application.</span></span> <span data-ttu-id="90343-192">Un token valido incluso nella richiesta restituirà un payload JSON con informazioni dettagliate sul provider in uso, il token del provider sottostante e altre informazioni utente.</span><span class="sxs-lookup"><span data-stu-id="90343-192">A valid token that's included with the request will return a JSON payload with details about the provider that's being used, the underlying provider token, and some other user information.</span></span> <span data-ttu-id="90343-193">Gli SDK server delle app per dispositivi mobili forniscono metodi di supporto per l'uso di questi dati.</span><span class="sxs-lookup"><span data-stu-id="90343-193">The Mobile Apps server SDKs provide helper methods to work with this data.</span></span> <span data-ttu-id="90343-194">Per altre informazioni, vedere [Come usare Node.js SDK per le app per dispositivi mobili di Azure](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity) e [Usare l'SDK del server back-end .NET per le app per dispositivi mobili di Azure](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span><span class="sxs-lookup"><span data-stu-id="90343-194">For more information, see [How to use the Azure Mobile Apps Node.js SDK](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), and [Work with the .NET backend server SDK for Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span></span>

## <a name="documentation-and-additional-resources"></a><span data-ttu-id="90343-195">Documentazione e risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="90343-195">Documentation and additional resources</span></span>
### <a name="identity-providers"></a><span data-ttu-id="90343-196">Provider di identità</span><span class="sxs-lookup"><span data-stu-id="90343-196">Identity providers</span></span>
<span data-ttu-id="90343-197">Le esercitazioni seguenti illustrano come configurare il servizio app per usare diversi provider di autenticazione:</span><span class="sxs-lookup"><span data-stu-id="90343-197">The following tutorials show how to configure App Service to use different authentication providers:</span></span>

* <span data-ttu-id="90343-198">[Come configurare un'applicazione per usare l'account di accesso di Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="90343-198">[How to configure your app to use Azure Active Directory login][AAD]</span></span>
* <span data-ttu-id="90343-199">[Come configurare un'applicazione per usare l'account di accesso di Facebook][Facebook]</span><span class="sxs-lookup"><span data-stu-id="90343-199">[How to configure your app to use Facebook login][Facebook]</span></span>
* <span data-ttu-id="90343-200">[Come configurare un'applicazione per usare l'account di accesso di Google][Google]</span><span class="sxs-lookup"><span data-stu-id="90343-200">[How to configure your app to use Google login][Google]</span></span>
* <span data-ttu-id="90343-201">[Come configurare un'applicazione per usare l'account di accesso Microsoft][MSA]</span><span class="sxs-lookup"><span data-stu-id="90343-201">[How to configure your app to use Microsoft Account login][MSA]</span></span>
* <span data-ttu-id="90343-202">[Come configurare un'applicazione per usare l'account di accesso di Twitter][Twitter]</span><span class="sxs-lookup"><span data-stu-id="90343-202">[How to configure your app to use Twitter login][Twitter]</span></span>

<span data-ttu-id="90343-203">Per usare un sistema di gestione delle identità diverso da quelli qui forniti, è anche possibile sfruttare l'[anteprima del supporto per l'autenticazione personalizzata dell'SDK del server .NET per app per dispositivi mobili][custom-auth], che può essere usato in app Web, app per dispositivi mobili o app per le API.</span><span class="sxs-lookup"><span data-stu-id="90343-203">If you want to use an identity system other than the ones provided here, you can also use the [preview custom authentication support in the Mobile Apps .NET server SDK][custom-auth], which can be used in web apps, mobile apps, or API apps.</span></span>

### <a name="web-applications"></a><span data-ttu-id="90343-204">Applicazioni Web</span><span class="sxs-lookup"><span data-stu-id="90343-204">Web applications</span></span>
<span data-ttu-id="90343-205">Le esercitazioni seguenti illustrano come aggiungere l'autenticazione a un'applicazione Web:</span><span class="sxs-lookup"><span data-stu-id="90343-205">The following tutorials show how to add authentication to a web application:</span></span>

* <span data-ttu-id="90343-206">[Introduzione a Servizio app di Azure: parte 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="90343-206">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

### <a name="mobile-applications"></a><span data-ttu-id="90343-207">Applicazioni per dispositivi mobili</span><span class="sxs-lookup"><span data-stu-id="90343-207">Mobile applications</span></span>
<span data-ttu-id="90343-208">Le esercitazioni seguenti illustrano come aggiungere l'autenticazione ai client per dispositivi mobili usando il flusso verso il server:</span><span class="sxs-lookup"><span data-stu-id="90343-208">The following tutorials show how to add authentication to your mobile clients by using the server-directed flow:</span></span>

* <span data-ttu-id="90343-209">[Aggiungere l'autenticazione all'app iOS][iOS]</span><span class="sxs-lookup"><span data-stu-id="90343-209">[Add authentication to your iOS app][iOS]</span></span>
* <span data-ttu-id="90343-210">[Aggiungere l'autenticazione all'app Android][Android]</span><span class="sxs-lookup"><span data-stu-id="90343-210">[Add Authentication to your Android app][Android]</span></span>
* <span data-ttu-id="90343-211">[Aggiungere l'autenticazione all'app Windows][Windows]</span><span class="sxs-lookup"><span data-stu-id="90343-211">[Add Authentication to your Windows app][Windows]</span></span>
* <span data-ttu-id="90343-212">[Aggiungere l'autenticazione all'app Xamarin.iOS][Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="90343-212">[Add authentication to your Xamarin.iOS app][Xamarin.iOS]</span></span>
* <span data-ttu-id="90343-213">[Aggiungere l'autenticazione all'app Xamarin.Android][Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="90343-213">[Add authentication to your Xamarin.Android app][Xamarin.Android]</span></span>
* <span data-ttu-id="90343-214">[Aggiungere l'autenticazione all'app Xamarin.Forms][Xamarin.Forms]</span><span class="sxs-lookup"><span data-stu-id="90343-214">[Add authentication to your Xamarin.Forms app][Xamarin.Forms]</span></span>
* <span data-ttu-id="90343-215">[Aggiungere l'autenticazione all'app Cordova][Cordova]</span><span class="sxs-lookup"><span data-stu-id="90343-215">[Add Authentication to your Cordova app][Cordova]</span></span>

<span data-ttu-id="90343-216">Se si vuole usare il flusso verso il client per Azure Active Directory, consultare le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="90343-216">Use the following resources if you want to use the client-directed flow for Azure Active Directory:</span></span>

* <span data-ttu-id="90343-217">[Usare Active Directory Authentication Library per iOS][ADAL-iOS]</span><span class="sxs-lookup"><span data-stu-id="90343-217">[Use the Active Directory Authentication Library for iOS][ADAL-iOS]</span></span>
* <span data-ttu-id="90343-218">[Usare Active Directory Authentication Library per Android][ADAL-Android]</span><span class="sxs-lookup"><span data-stu-id="90343-218">[Use the Active Directory Authentication Library for Android][ADAL-Android]</span></span>
* <span data-ttu-id="90343-219">[Usare Active Directory Authentication Library per Windows e Xamarin][ADAL-dotnet]</span><span class="sxs-lookup"><span data-stu-id="90343-219">[Use the Active Directory Authentication Library for Windows and Xamarin][ADAL-dotnet]</span></span>

<span data-ttu-id="90343-220">Se si vuole usare il flusso verso il client per Facebook, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="90343-220">Use the following resources if you want to use the client-directed flow for Facebook:</span></span>

* [<span data-ttu-id="90343-221">Usare Facebook SDK for iOS</span><span class="sxs-lookup"><span data-stu-id="90343-221">Use the Facebook SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#facebook-sdk)

<span data-ttu-id="90343-222">Se si vuole usare il flusso verso il client per Twitter, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="90343-222">Use the following resources if you want to use the client-directed flow for Twitter:</span></span>

* [<span data-ttu-id="90343-223">Usare Twitter Fabric for iOS</span><span class="sxs-lookup"><span data-stu-id="90343-223">Use Twitter Fabric for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#twitter-fabric)

<span data-ttu-id="90343-224">Se si vuole usare il flusso verso il client per Google, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="90343-224">Use the following resources if you want to use the client-directed flow for Google:</span></span>

* [<span data-ttu-id="90343-225">Usare Google Sign-In SDK for iOS</span><span class="sxs-lookup"><span data-stu-id="90343-225">Use the Google Sign-In SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#google-sdk)

### <a name="api-applications"></a><span data-ttu-id="90343-226">Applicazioni per le API</span><span class="sxs-lookup"><span data-stu-id="90343-226">API applications</span></span>
<span data-ttu-id="90343-227">Le esercitazioni seguenti illustrano come proteggere le app per le API:</span><span class="sxs-lookup"><span data-stu-id="90343-227">The following tutorials show how to protect your API apps:</span></span>

* <span data-ttu-id="90343-228">[Autenticazione utente per le app per le API nel servizio app di Azure][apia-user]</span><span class="sxs-lookup"><span data-stu-id="90343-228">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="90343-229">[Autenticazione dell'entità servizio per app per le API nel servizio app di Azure][apia-service]</span><span class="sxs-lookup"><span data-stu-id="90343-229">[Service principal authentication for API Apps in Azure App Service][apia-service]</span></span>

[apia-user]: ../app-service-api/app-service-api-dotnet-user-principal-auth.md
[apia-service]: ../app-service-api/app-service-api-dotnet-service-principal-auth.md

[web-getstarted]: ../app-service-web/app-service-web-get-started-2.md#authenticate-your-users

[iOS]: ../app-service-mobile/app-service-mobile-ios-get-started-users.md
<span data-ttu-id="90343-230">[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="90343-230">[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md</span></span>
<span data-ttu-id="90343-231">[Xamarin.iOS]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="90343-231">[Xamarin.iOS]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md</span></span>
<span data-ttu-id="90343-232">[Xamarin.Android]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="90343-232">[Xamarin.Android]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md</span></span>
<span data-ttu-id="90343-233">[Xamarin.Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="90343-233">[Xamarin.Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md</span></span>
<span data-ttu-id="90343-234">[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="90343-234">[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md</span></span>
<span data-ttu-id="90343-235">[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="90343-235">[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md</span></span>

[AAD]: ../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md
[Facebook]: ../app-service-mobile/app-service-mobile-how-to-configure-facebook-authentication.md
[Google]: ../app-service-mobile/app-service-mobile-how-to-configure-google-authentication.md
[MSA]: ../app-service-mobile/app-service-mobile-how-to-configure-microsoft-authentication.md
[Twitter]: ../app-service-mobile/app-service-mobile-how-to-configure-twitter-authentication.md

[custom-auth]: ../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth

[ADAL-Android]: ../app-service-mobile/app-service-mobile-android-how-to-use-client-library.md#adal
[ADAL-iOS]: ../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#adal
[ADAL-dotnet]: ../app-service-mobile/app-service-mobile-dotnet-how-to-use-client-library.md#adal
