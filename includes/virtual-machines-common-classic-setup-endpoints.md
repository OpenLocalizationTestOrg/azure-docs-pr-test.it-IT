
<span data-ttu-id="17900-101">Ogni endpoint ha una *porta pubblica* e una *porta privata*:</span><span class="sxs-lookup"><span data-stu-id="17900-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="17900-102">porta pubblica Hello viene utilizzata da toolisten di bilanciamento carico di Azure hello per macchina di virtuale toohello traffico in ingresso da hello Internet.</span><span class="sxs-lookup"><span data-stu-id="17900-102">hello public port is used by hello Azure load balancer toolisten for incoming traffic toohello virtual machine from hello Internet.</span></span>
* <span data-ttu-id="17900-103">porta privata Hello viene utilizzata da hello toolisten di macchina virtuale per il traffico in ingresso, applicazione tooan destinati in genere o il servizio in esecuzione nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="17900-103">hello private port is used by hello virtual machine toolisten for incoming traffic, typically destined tooan application or service running on hello virtual machine.</span></span>

<span data-ttu-id="17900-104">I valori predefiniti per hello protocollo IP e porte TCP o UDP per i protocolli di rete noti vengono fornite quando si crea l'endpoint con hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="17900-104">Default values for hello IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with hello Azure portal.</span></span> <span data-ttu-id="17900-105">Per gli endpoint personalizzati, è necessario toospecify hello corretto indirizzo IP (TCP o UDP) e porte pubbliche e private hello.</span><span class="sxs-lookup"><span data-stu-id="17900-105">For custom endpoints, you'll need toospecify hello correct IP protocol (TCP or UDP) and hello public and private ports.</span></span> <span data-ttu-id="17900-106">toodistribute il traffico in ingresso in modo casuale tra più macchine virtuali, è necessario toocreate un set con carico bilanciato costituito da più endpoint.</span><span class="sxs-lookup"><span data-stu-id="17900-106">toodistribute incoming traffic randomly across multiple virtual machines, you'll need toocreate a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="17900-107">Dopo aver creato un endpoint, è possibile utilizzare un accesso (ACL) elenco toodefine regole di controllo di cui consentono o negare il traffico in ingresso hello toohello porta pubblica dell'endpoint hello in base al relativo indirizzo IP di origine.</span><span class="sxs-lookup"><span data-stu-id="17900-107">After you create an endpoint, you can use an access control list (ACL) toodefine rules that permit or deny hello incoming traffic toohello public port of hello endpoint based on its source IP address.</span></span> <span data-ttu-id="17900-108">Tuttavia, se macchina virtuale hello è in una rete virtuale di Azure, è necessario utilizzare gruppi di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="17900-108">However, if hello virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="17900-109">Per altre informazioni, vedere [Informazioni sui gruppi di sicurezza di rete](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="17900-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="17900-110">La configurazione del firewall per le macchine virtuali di Azure viene eseguita automaticamente per le porte associate agli endpoint di connettività remota configurati automaticamente da Azure.</span><span class="sxs-lookup"><span data-stu-id="17900-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="17900-111">Per le porte specificate per tutti gli altri endpoint, viene eseguita alcuna configurazione automaticamente toohello firewall della macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="17900-111">For ports specified for all other endpoints, no configuration is done automatically toohello firewall of hello virtual machine.</span></span> <span data-ttu-id="17900-112">Quando si crea un endpoint per la macchina virtuale hello, sarà necessario tooensure che hello firewall della macchina virtuale hello consente anche il traffico di hello per protocollo hello e configurazione di endpoint toohello corrispondente porta privata.</span><span class="sxs-lookup"><span data-stu-id="17900-112">When you create an endpoint for hello virtual machine, you'll need tooensure that hello firewall of hello virtual machine also allows hello traffic for hello protocol and private port corresponding toohello endpoint configuration.</span></span> <span data-ttu-id="17900-113">tooconfigure hello firewall, vedere la documentazione di hello o la Guida in linea per sistema operativo hello in esecuzione nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="17900-113">tooconfigure hello firewall, see hello documentation or on-line help for hello operating system running on hello virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="17900-114">Creare un endpoint</span><span class="sxs-lookup"><span data-stu-id="17900-114">Create an endpoint</span></span>
1. <span data-ttu-id="17900-115">Se non già stato fatto, accedere toohello [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="17900-115">If you haven't already done so, sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="17900-116">Fare clic su **macchine virtuali**, quindi fare clic su nome hello della macchina virtuale hello che si desidera tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="17900-116">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="17900-117">Fare clic su **endpoint** in hello **impostazioni** gruppo.</span><span class="sxs-lookup"><span data-stu-id="17900-117">Click **Endpoints** in hello **Settings** group.</span></span> <span data-ttu-id="17900-118">Hello **endpoint** pagina vengono elencati tutti gli endpoint corrente di hello per la macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="17900-118">hello **Endpoints** page lists all hello current endpoints for hello virtual machine.</span></span> <span data-ttu-id="17900-119">Questo esempio è relativo a una VM Windows.</span><span class="sxs-lookup"><span data-stu-id="17900-119">(This example is a Windows VM.</span></span> <span data-ttu-id="17900-120">Una macchina virtuale Linux mostrerà per impostazione predefinita un endpoint per SSH.</span><span class="sxs-lookup"><span data-stu-id="17900-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Endpoint](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="17900-122">Nella barra dei comandi hello sopra le voci di endpoint hello, fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="17900-122">In hello command bar above hello endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="17900-123">In hello **aggiungere endpoint** , digitare un nome per l'endpoint hello **nome**.</span><span class="sxs-lookup"><span data-stu-id="17900-123">On hello **Add endpoint** page, type a name for hello endpoint in **Name**.</span></span>
6. <span data-ttu-id="17900-124">In **Protocollo** scegliere **TCP** o **UDP**.</span><span class="sxs-lookup"><span data-stu-id="17900-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="17900-125">In **porta pubblica**, digitare il numero di porta hello hello il traffico in ingresso da Internet hello.</span><span class="sxs-lookup"><span data-stu-id="17900-125">In **Public Port**, type hello port number for hello incoming traffic from hello Internet.</span></span> <span data-ttu-id="17900-126">In **porta privata**, digitare il numero di porta hello su quale hello macchina virtuale è in ascolto.</span><span class="sxs-lookup"><span data-stu-id="17900-126">In **Private Port**, type hello port number on which hello virtual machine is listening.</span></span> <span data-ttu-id="17900-127">Questi numeri di porta possono essere diversi.</span><span class="sxs-lookup"><span data-stu-id="17900-127">These port numbers can be different.</span></span> <span data-ttu-id="17900-128">Verificare che hello firewall nella macchina virtuale hello è stato configurato tooallow hello traffico toohello protocollo corrispondente (nel passaggio 6) e porta privata.</span><span class="sxs-lookup"><span data-stu-id="17900-128">Ensure that hello firewall on hello virtual machine has been configured tooallow hello traffic corresponding toohello protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="17900-129">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="17900-129">Click **Ok**.</span></span>

<span data-ttu-id="17900-130">nuovo endpoint Hello verrà elencata nella hello **endpoint** pagina.</span><span class="sxs-lookup"><span data-stu-id="17900-130">hello new endpoint will be listed on hello **Endpoints** page.</span></span>

![Creazione dell'endpoint completata](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-hello-acl-on-an-endpoint"></a><span data-ttu-id="17900-132">Gestire hello ACL su un endpoint</span><span class="sxs-lookup"><span data-stu-id="17900-132">Manage hello ACL on an endpoint</span></span>
<span data-ttu-id="17900-133">set di hello toodefine dei computer in cui può inviare il traffico, hello ACL su un endpoint può limitare il traffico in base all'indirizzo IP di origine.</span><span class="sxs-lookup"><span data-stu-id="17900-133">toodefine hello set of computers that can send traffic, hello ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="17900-134">Seguire questi passaggi tooadd, modificare o rimuovere un ACL per un endpoint.</span><span class="sxs-lookup"><span data-stu-id="17900-134">Follow these steps tooadd, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="17900-135">Se l'endpoint di hello fa parte di un set con carico bilanciato, le modifiche apportate toohello ACL sull'endpoint vengono applicati tooall endpoint nel set di hello.</span><span class="sxs-lookup"><span data-stu-id="17900-135">If hello endpoint is part of a load-balanced set, any changes you make toohello ACL on an endpoint are applied tooall endpoints in hello set.</span></span>
>
>

<span data-ttu-id="17900-136">Se hello virtuale è in una rete virtuale di Azure, si consiglia di gruppi di sicurezza di rete anziché gli ACL.</span><span class="sxs-lookup"><span data-stu-id="17900-136">If hello virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="17900-137">Per altre informazioni, vedere [Informazioni sui gruppi di sicurezza di rete](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="17900-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="17900-138">Se non già stato fatto, accedere toohello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="17900-138">If you haven't already done so, sign in toohello Azure portal.</span></span>
2. <span data-ttu-id="17900-139">Fare clic su **macchine virtuali**, quindi fare clic su nome hello della macchina virtuale hello che si desidera tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="17900-139">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="17900-140">Fare clic su **Endpoint**.</span><span class="sxs-lookup"><span data-stu-id="17900-140">Click **Endpoints**.</span></span> <span data-ttu-id="17900-141">Dall'elenco di hello, selezionare l'endpoint appropriato hello.</span><span class="sxs-lookup"><span data-stu-id="17900-141">From hello list, select hello appropriate endpoint.</span></span> <span data-ttu-id="17900-142">l'elenco ACL Hello è nella parte inferiore di hello della pagina hello.</span><span class="sxs-lookup"><span data-stu-id="17900-142">hello ACL list is at hello bottom of hello page.</span></span>

   ![specificare i dettagli di ACL](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="17900-144">Utilizzare le righe in hello elenco tooadd, eliminazione o Modifica regole per un ACL e modificarne l'ordine.</span><span class="sxs-lookup"><span data-stu-id="17900-144">Use rows in hello list tooadd, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="17900-145">Hello **Subnet remota** valore è un intervallo di indirizzi IP per il traffico in ingresso da hello Internet hello toopermit di utilizza Bilanciamento carico di Azure o negare il traffico di hello in base al relativo indirizzo IP di origine.</span><span class="sxs-lookup"><span data-stu-id="17900-145">hello **Remote Subnet** value is an IP address range for incoming traffic from hello Internet that hello Azure load balancer uses toopermit or deny hello traffic based on its source IP address.</span></span> <span data-ttu-id="17900-146">Impossibile verificare toospecify hello intervallo di indirizzi IP in formato CIDR, noto anche come formato di prefisso di indirizzo.</span><span class="sxs-lookup"><span data-stu-id="17900-146">Be sure toospecify hello IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="17900-147">Un esempio è `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="17900-147">An example is `10.1.0.0/8`.</span></span>

 ![Nuova voce ACL](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="17900-149">È possibile utilizzare le regole tooallow solo il traffico da computer specifici corrispondente tooyour computer il traffico Internet o toodeny hello da intervalli di indirizzi specifici e noti.</span><span class="sxs-lookup"><span data-stu-id="17900-149">You can use rules tooallow only traffic from specific computers corresponding tooyour computers on hello Internet or toodeny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="17900-150">Hello regole vengono valutate nell'ordine a partire dalla prima regola hello e che termina con l'ultima regola hello.</span><span class="sxs-lookup"><span data-stu-id="17900-150">hello rules are evaluated in order starting with hello first rule and ending with hello last rule.</span></span> <span data-ttu-id="17900-151">Ciò significa che le regole devono essere ordinate da toomost meno restrittivo restrittivo.</span><span class="sxs-lookup"><span data-stu-id="17900-151">This means that rules should be ordered from least restrictive toomost restrictive.</span></span> <span data-ttu-id="17900-152">Per alcuni esempi e altre informazioni, vedere [Informazioni sugli elenchi di controllo di accesso di rete (ACL)](../articles/virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="17900-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
