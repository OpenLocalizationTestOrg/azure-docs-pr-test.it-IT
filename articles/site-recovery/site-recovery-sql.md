---
title: le applicazioni con SQL Server e Azure Site Recovery aaaReplicate | Documenti Microsoft
description: "Questo articolo viene descritto come tooreplicate SQL Server con Azure Site Recovery per le funzionalità di emergenza di SQL Server."
services: site-recovery
documentationcenter: 
author: prateek9us
manager: gauravd
editor: 
ms.assetid: 9126f5e8-e9ed-4c31-b6b4-bf969c12c184
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: pratshar
ms.openlocfilehash: 99755f2cd2f7e924071f1e230ac4a0bda88f0a39
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="protect-sql-server-using-sql-server-disaster-recovery-and-azure-site-recovery"></a><span data-ttu-id="9be6a-103">Proteggere SQL Server con il ripristino di emergenza di SQL Server e Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="9be6a-103">Protect SQL Server using SQL Server disaster recovery and Azure Site Recovery</span></span>

<span data-ttu-id="9be6a-104">In questo articolo viene descritto come tooprotect hello Server SQL back-end di un'applicazione utilizzando una combinazione di continuità aziendale di SQL Server e tecnologie di ripristino di emergenza, e [Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9be6a-104">This article describes how tooprotect hello SQL Server back end of an application using a combination of SQL Server business continuity and disaster recovery (BCDR) technologies, and [Azure Site Recovery](site-recovery-overview.md).</span></span>

<span data-ttu-id="9be6a-105">Prima di iniziare, acquisire familiarità con le funzionalità di ripristino di emergenza di SQL Server, come il clustering di failover, i gruppi di disponibilità AlwaysOn, il mirroring del database e il log shipping.</span><span class="sxs-lookup"><span data-stu-id="9be6a-105">Before you start, make sure you understand SQL Server disaster recovery capabilities, including failover clustering, Always On availability groups, database mirroring, and log shipping.</span></span>


## <a name="sql-server-deployments"></a><span data-ttu-id="9be6a-106">Distribuzioni di SQL Server</span><span class="sxs-lookup"><span data-stu-id="9be6a-106">SQL Server deployments</span></span>

<span data-ttu-id="9be6a-107">Molti carichi di lavoro utilizzare SQL Server come base, e può essere integrato con applicazioni quali SAP, i servizi dati tooimplement, Dynamics e SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9be6a-107">Many workloads use SQL Server as a foundation, and it can be integrated with apps such as SharePoint, Dynamics, and SAP, tooimplement data services.</span></span>  <span data-ttu-id="9be6a-108">È possibile distribuire SQL Server in diversi modi.</span><span class="sxs-lookup"><span data-stu-id="9be6a-108">SQL Server can be deployed in a number of ways:</span></span>

* <span data-ttu-id="9be6a-109">**SQL Server autonomo**: SQL Server e tutti i database sono ospitati in un singolo computer (fisico o una macchina virtuale).</span><span class="sxs-lookup"><span data-stu-id="9be6a-109">**Standalone SQL Server**: SQL Server and all databases are hosted on a single machine (physical or a virtual).</span></span> <span data-ttu-id="9be6a-110">Se è virtualizzato, il clustering dell'host viene usato per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="9be6a-110">When virtualized, host clustering is used for local high availability.</span></span> <span data-ttu-id="9be6a-111">La disponibilità elevata a livello di guest non viene implementata.</span><span class="sxs-lookup"><span data-stu-id="9be6a-111">Guest-level high availability isn't implemented.</span></span>
* <span data-ttu-id="9be6a-112">**Istanze di clustering di failover di SQL Server (AlwaysOn)**: due o più nodi che eseguono istanze di SQL Server con dischi condivisi vengono configurati in un cluster di failover di Windows.</span><span class="sxs-lookup"><span data-stu-id="9be6a-112">**SQL Server Failover Clustering Instances (Always On FCI)**: Two or more nodes running SQL Server instanced with shared disks are configured in a Windows Failover cluster.</span></span> <span data-ttu-id="9be6a-113">Se un nodo è attivo, il cluster hello il failover SQL Server tooanother istanza.</span><span class="sxs-lookup"><span data-stu-id="9be6a-113">If a node is down, hello cluster can fail SQL Server over tooanother instance.</span></span> <span data-ttu-id="9be6a-114">Il programma di installazione è in genere utilizzate tooimplement la disponibilità elevata in un sito primario.</span><span class="sxs-lookup"><span data-stu-id="9be6a-114">This setup is typically used tooimplement high availability at a primary site.</span></span> <span data-ttu-id="9be6a-115">Questa distribuzione non protegge da un'interruzione nel livello di archiviazione condivisa hello o un errore.</span><span class="sxs-lookup"><span data-stu-id="9be6a-115">This deployment doesn't protect against failure or outage in hello shared storage layer.</span></span> <span data-ttu-id="9be6a-116">Un disco condiviso può essere implementato con iSCSI, Fibre Channel o VHDX condiviso.</span><span class="sxs-lookup"><span data-stu-id="9be6a-116">A shared disk can be implemented using iSCSI, fiber channel or shared vhdx.</span></span>
* <span data-ttu-id="9be6a-117">**Gruppi di disponibilità SQL AlwaysOn**: due o più nodi vengono configurati in un cluster non condiviso con i database SQL Server configurati in un gruppo di disponibilità con replica sincrona e failover automatico.</span><span class="sxs-lookup"><span data-stu-id="9be6a-117">**SQL Always On Availability Groups**: Two or more nodes are set up in a shared nothing cluster, with SQL Server databases configured in an availability group, with synchronous replication and automatic failover.</span></span>

 <span data-ttu-id="9be6a-118">In questo articolo si avvale di hello native tecnologie di ripristino di emergenza SQL per il ripristino del sito remoto tooa di database seguenti:</span><span class="sxs-lookup"><span data-stu-id="9be6a-118">This article leverages hello following native SQL disaster recovery technologies for recovering databases tooa remote site:</span></span>

* <span data-ttu-id="9be6a-119">SQL gruppi di disponibilità AlwaysOn, tooprovide per il ripristino di emergenza per SQL Server 2012 o 2014 Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="9be6a-119">SQL Always On Availability Groups, tooprovide for disaster recovery for SQL Server 2012 or 2014 Enterprise editions.</span></span>
* <span data-ttu-id="9be6a-120">Mirroring del database SQL in modalità protezione elevata, per SQL Server Standard Edition (qualsiasi versione) o SQL Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="9be6a-120">SQL database mirroring in high safety mode, for SQL Server Standard edition (any version), or for SQL Server 2008 R2.</span></span>

## <a name="site-recovery-support"></a><span data-ttu-id="9be6a-121">Supporto di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="9be6a-121">Site Recovery support</span></span>

### <a name="supported-scenarios"></a><span data-ttu-id="9be6a-122">Scenari supportati</span><span class="sxs-lookup"><span data-stu-id="9be6a-122">Supported scenarios</span></span>
<span data-ttu-id="9be6a-123">Site Recovery può proteggere SQL Server, come riepilogato nella tabella hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-123">Site Recovery can protect SQL Server as summarized in hello table.</span></span>

<span data-ttu-id="9be6a-124">**Scenario**</span><span class="sxs-lookup"><span data-stu-id="9be6a-124">**Scenario**</span></span> | <span data-ttu-id="9be6a-125">**sito secondario tooa**</span><span class="sxs-lookup"><span data-stu-id="9be6a-125">**tooa secondary site**</span></span> | <span data-ttu-id="9be6a-126">**tooAzure**</span><span class="sxs-lookup"><span data-stu-id="9be6a-126">**tooAzure**</span></span>
--- | --- | ---
<span data-ttu-id="9be6a-127">**Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="9be6a-127">**Hyper-V**</span></span> | <span data-ttu-id="9be6a-128">Sì</span><span class="sxs-lookup"><span data-stu-id="9be6a-128">Yes</span></span> | <span data-ttu-id="9be6a-129">Sì</span><span class="sxs-lookup"><span data-stu-id="9be6a-129">Yes</span></span>
<span data-ttu-id="9be6a-130">**VMware**</span><span class="sxs-lookup"><span data-stu-id="9be6a-130">**VMware**</span></span> | <span data-ttu-id="9be6a-131">Sì</span><span class="sxs-lookup"><span data-stu-id="9be6a-131">Yes</span></span> | <span data-ttu-id="9be6a-132">Sì</span><span class="sxs-lookup"><span data-stu-id="9be6a-132">Yes</span></span>
<span data-ttu-id="9be6a-133">**Server fisico**</span><span class="sxs-lookup"><span data-stu-id="9be6a-133">**Physical server**</span></span> | <span data-ttu-id="9be6a-134">Sì</span><span class="sxs-lookup"><span data-stu-id="9be6a-134">Yes</span></span> | <span data-ttu-id="9be6a-135">Sì</span><span class="sxs-lookup"><span data-stu-id="9be6a-135">Yes</span></span>

### <a name="supported-sql-server-versions"></a><span data-ttu-id="9be6a-136">Versioni di SQL Server supportate</span><span class="sxs-lookup"><span data-stu-id="9be6a-136">Supported SQL Server versions</span></span>
<span data-ttu-id="9be6a-137">Queste versioni di SQL Server sono supportate, per gli scenari di hello è supportato:</span><span class="sxs-lookup"><span data-stu-id="9be6a-137">These SQL Server versions are supported, for hello supported scenarios:</span></span>

* <span data-ttu-id="9be6a-138">SQL Server 2016 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-138">SQL Server 2016 Enterprise and Standard</span></span>
* <span data-ttu-id="9be6a-139">SQL Server 2014 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-139">SQL Server 2014 Enterprise and Standard</span></span>
* <span data-ttu-id="9be6a-140">SQL Server 2012 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-140">SQL Server 2012 Enterprise and Standard</span></span>
* <span data-ttu-id="9be6a-141">SQL Server 2008 R2 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-141">SQL Server 2008 R2 Enterprise and Standard</span></span>

### <a name="supported-sql-server-integration"></a><span data-ttu-id="9be6a-142">Supporto dell'integrazione con SQL Server</span><span class="sxs-lookup"><span data-stu-id="9be6a-142">Supported SQL Server integration</span></span>

<span data-ttu-id="9be6a-143">Il ripristino del sito può essere integrato con le tecnologie di SQL Server BCDR native riepilogate nella tabella hello tooprovide una soluzione di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="9be6a-143">Site Recovery can be integrated with native SQL Server BCDR technologies summarized in hello table, tooprovide a disaster recovery solution.</span></span>

<span data-ttu-id="9be6a-144">**Funzionalità**</span><span class="sxs-lookup"><span data-stu-id="9be6a-144">**Feature**</span></span> | <span data-ttu-id="9be6a-145">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="9be6a-145">**Details**</span></span> | <span data-ttu-id="9be6a-146">**SQL Server**</span><span class="sxs-lookup"><span data-stu-id="9be6a-146">**SQL Server**</span></span> |
--- | --- | ---
<span data-ttu-id="9be6a-147">**Gruppo di disponibilità AlwaysOn**</span><span class="sxs-lookup"><span data-stu-id="9be6a-147">**Always On availability group**</span></span> | <span data-ttu-id="9be6a-148">Ognuna delle istanze autonome multiple di SQL Server viene eseguita in un cluster di failover con più nodi.</span><span class="sxs-lookup"><span data-stu-id="9be6a-148">Multiple standalone instances of SQL Server each run in a failover cluster that has multiple nodes.</span></span><br/><br/><span data-ttu-id="9be6a-149">I database possono essere raggruppati in gruppi di failover che possono essere copiati (con mirroring) in istanze di SQL Server in modo che non sia necessaria alcuna archiviazione condivisa.</span><span class="sxs-lookup"><span data-stu-id="9be6a-149">Databases can be grouped into failover groups that can be copied (mirrored) on SQL Server instances so that no shared storage is needed.</span></span><br/><br/><span data-ttu-id="9be6a-150">Fornisce il ripristino di emergenza tra un sito primario e uno o più siti secondari.</span><span class="sxs-lookup"><span data-stu-id="9be6a-150">Provides disaster recovery between a primary site and one or more secondary sites.</span></span> <span data-ttu-id="9be6a-151">Due nodi possono essere configurati in un cluster non condiviso con i database di SQL Server configurati in un gruppo di disponibilità con replica sincrona e failover automatico.</span><span class="sxs-lookup"><span data-stu-id="9be6a-151">Two nodes can be set up in a shared nothing cluster with SQL Server databases configured in an availability group with synchronous replication and automatic failover.</span></span> | <span data-ttu-id="9be6a-152">SQL Server 2014 e 2012 Enterprise</span><span class="sxs-lookup"><span data-stu-id="9be6a-152">SQL Server 2014 & 2012 Enterprise edition</span></span>
<span data-ttu-id="9be6a-153">**Clustering di failover (istanza del cluster di failover AlwaysOn)**</span><span class="sxs-lookup"><span data-stu-id="9be6a-153">**Failover clustering (Always On FCI)**</span></span> | <span data-ttu-id="9be6a-154">SQL Server usa il clustering di failover di Windows per l'elevata disponibilità dei carichi di lavoro SQL Server locali.</span><span class="sxs-lookup"><span data-stu-id="9be6a-154">SQL Server leverages Windows failover clustering for high availability of on-premises SQL Server workloads.</span></span><br/><br/><span data-ttu-id="9be6a-155">I nodi che eseguono le istanze di SQL Server con dischi condivisi sono configurati in un cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="9be6a-155">Nodes running instances of SQL Server with shared disks are configured in a failover cluster.</span></span> <span data-ttu-id="9be6a-156">Caso un'istanza cluster hello failover toodifferent uno.</span><span class="sxs-lookup"><span data-stu-id="9be6a-156">If an instance is down hello cluster fails over toodifferent one.</span></span><br/><br/><span data-ttu-id="9be6a-157">cluster Hello non proteggono da errori o interruzioni del servizio nel servizio di archiviazione condivisa.</span><span class="sxs-lookup"><span data-stu-id="9be6a-157">hello cluster doesn't protect against failure or outages in shared storage.</span></span> <span data-ttu-id="9be6a-158">disco condiviso Hello può essere implementato con iSCSI, fibre channel, oppure Vhdx condiviso.</span><span class="sxs-lookup"><span data-stu-id="9be6a-158">hello shared disk can be implemented with iSCSI, fiber channel, or shared VHDXs.</span></span> | <span data-ttu-id="9be6a-159">Edizioni SQL Server Enterprise</span><span class="sxs-lookup"><span data-stu-id="9be6a-159">SQL Server Enterprise editions</span></span><br/><br/><span data-ttu-id="9be6a-160">SQL Server Standard edition (solo nodi tootwo limitato)</span><span class="sxs-lookup"><span data-stu-id="9be6a-160">SQL Server Standard edition (limited tootwo nodes only)</span></span>
<span data-ttu-id="9be6a-161">**Mirroring del database (modalità di protezione elevata)**</span><span class="sxs-lookup"><span data-stu-id="9be6a-161">**Database mirroring (high safety mode)**</span></span> | <span data-ttu-id="9be6a-162">Consente di proteggere una copia del database singola tooa singolo secondario.</span><span class="sxs-lookup"><span data-stu-id="9be6a-162">Protects a single database tooa single secondary copy.</span></span> <span data-ttu-id="9be6a-163">Disponibile nelle modalità di replica a protezione elevata (sincrona) e a prestazione elevata (asincrona).</span><span class="sxs-lookup"><span data-stu-id="9be6a-163">Available in both high safety (synchronous) and high performance (asynchronous) replication modes.</span></span> <span data-ttu-id="9be6a-164">Non richiede un cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="9be6a-164">Doesn’t require a failover cluster.</span></span> | <span data-ttu-id="9be6a-165">SQL Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="9be6a-165">SQL Server 2008 R2</span></span><br/><br/><span data-ttu-id="9be6a-166">Tutte le edizioni di SQL Server Enterprise</span><span class="sxs-lookup"><span data-stu-id="9be6a-166">SQL Server Enterprise all editions</span></span>
<span data-ttu-id="9be6a-167">**SQL Server autonomo**</span><span class="sxs-lookup"><span data-stu-id="9be6a-167">**Standalone SQL Server**</span></span> | <span data-ttu-id="9be6a-168">Hello SQL Server e database sono ospitati in un server singolo (fisico o virtuale).</span><span class="sxs-lookup"><span data-stu-id="9be6a-168">hello SQL Server and database are hosted on a single server (physical or virtual).</span></span> <span data-ttu-id="9be6a-169">Clustering degli host viene utilizzato per la disponibilità elevata se virtual server hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-169">Host clustering is used for high availability if hello server is virtual.</span></span> <span data-ttu-id="9be6a-170">Nessuna disponibilità elevata a livello di guest.</span><span class="sxs-lookup"><span data-stu-id="9be6a-170">No guest-level high availability.</span></span> | <span data-ttu-id="9be6a-171">Edizione Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-171">Enterprise or Standard edition</span></span>

## <a name="deployment-recommendations"></a><span data-ttu-id="9be6a-172">Indicazioni di distribuzione</span><span class="sxs-lookup"><span data-stu-id="9be6a-172">Deployment recommendations</span></span>

<span data-ttu-id="9be6a-173">Nella tabella seguente vengono riepilogate le indicazioni per l'integrazione delle tecnologie di continuità aziendale e ripristino di emergenza (BCDR) di SQL Server con Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="9be6a-173">This table summarizes our recommendations for integrating SQL Server BCDR technologies with Site Recovery.</span></span>

| <span data-ttu-id="9be6a-174">**Versione**</span><span class="sxs-lookup"><span data-stu-id="9be6a-174">**Version**</span></span> | <span data-ttu-id="9be6a-175">**Edizione**</span><span class="sxs-lookup"><span data-stu-id="9be6a-175">**Edition**</span></span> | <span data-ttu-id="9be6a-176">**Distribuzione**</span><span class="sxs-lookup"><span data-stu-id="9be6a-176">**Deployment**</span></span> | <span data-ttu-id="9be6a-177">**Locale tooon locale**</span><span class="sxs-lookup"><span data-stu-id="9be6a-177">**On-prem tooon-prem**</span></span> | <span data-ttu-id="9be6a-178">**TooAzure locale**</span><span class="sxs-lookup"><span data-stu-id="9be6a-178">**On-prem tooAzure**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="9be6a-179">SQL Server 2014 o 2012</span><span class="sxs-lookup"><span data-stu-id="9be6a-179">SQL Server 2014 or 2012</span></span> |<span data-ttu-id="9be6a-180">Enterprise</span><span class="sxs-lookup"><span data-stu-id="9be6a-180">Enterprise</span></span> |<span data-ttu-id="9be6a-181">Istanza del cluster di failover</span><span class="sxs-lookup"><span data-stu-id="9be6a-181">Failover cluster instance</span></span> |<span data-ttu-id="9be6a-182">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="9be6a-182">Always On availability groups</span></span> |<span data-ttu-id="9be6a-183">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="9be6a-183">Always On availability groups</span></span> |
|| <span data-ttu-id="9be6a-184">Enterprise</span><span class="sxs-lookup"><span data-stu-id="9be6a-184">Enterprise</span></span> |<span data-ttu-id="9be6a-185">Gruppo di disponibilità AlwaysOn per la disponibilità elevata</span><span class="sxs-lookup"><span data-stu-id="9be6a-185">Always On availability groups for high availability</span></span> |<span data-ttu-id="9be6a-186">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="9be6a-186">Always On availability groups</span></span> |<span data-ttu-id="9be6a-187">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="9be6a-187">Always On availability groups</span></span> | |
|| <span data-ttu-id="9be6a-188">Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-188">Standard</span></span> |<span data-ttu-id="9be6a-189">Istanza del cluster di failover (FCI)</span><span class="sxs-lookup"><span data-stu-id="9be6a-189">Failover cluster instance (FCI)</span></span> |<span data-ttu-id="9be6a-190">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="9be6a-190">Site Recovery replication with local mirror</span></span> |<span data-ttu-id="9be6a-191">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="9be6a-191">Site Recovery replication with local mirror</span></span> | |
|| <span data-ttu-id="9be6a-192">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-192">Enterprise or Standard</span></span> |<span data-ttu-id="9be6a-193">Autonoma</span><span class="sxs-lookup"><span data-stu-id="9be6a-193">Standalone</span></span> |<span data-ttu-id="9be6a-194">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="9be6a-194">Site Recovery replication</span></span> |<span data-ttu-id="9be6a-195">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="9be6a-195">Site Recovery replication</span></span> | |
| <span data-ttu-id="9be6a-196">SQL Server 2008 R2 o 2008</span><span class="sxs-lookup"><span data-stu-id="9be6a-196">SQL Server 2008 R2 or 2008</span></span> |<span data-ttu-id="9be6a-197">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-197">Enterprise or Standard</span></span> |<span data-ttu-id="9be6a-198">Istanza del cluster di failover (FCI)</span><span class="sxs-lookup"><span data-stu-id="9be6a-198">Failover cluster instance (FCI)</span></span> |<span data-ttu-id="9be6a-199">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="9be6a-199">Site Recovery replication with local mirror</span></span> |<span data-ttu-id="9be6a-200">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="9be6a-200">Site Recovery replication with local mirror</span></span> |
|| <span data-ttu-id="9be6a-201">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-201">Enterprise or Standard</span></span> |<span data-ttu-id="9be6a-202">Autonoma</span><span class="sxs-lookup"><span data-stu-id="9be6a-202">Standalone</span></span> |<span data-ttu-id="9be6a-203">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="9be6a-203">Site Recovery replication</span></span> |<span data-ttu-id="9be6a-204">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="9be6a-204">Site Recovery replication</span></span> | |
| <span data-ttu-id="9be6a-205">SQL Server (qualsiasi versione)</span><span class="sxs-lookup"><span data-stu-id="9be6a-205">SQL Server (Any version)</span></span> |<span data-ttu-id="9be6a-206">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="9be6a-206">Enterprise or Standard</span></span> |<span data-ttu-id="9be6a-207">Istanza del cluster di failover: applicazione DTC</span><span class="sxs-lookup"><span data-stu-id="9be6a-207">Failover cluster instance - DTC application</span></span> |<span data-ttu-id="9be6a-208">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="9be6a-208">Site Recovery replication</span></span> |<span data-ttu-id="9be6a-209">Non supportato</span><span class="sxs-lookup"><span data-stu-id="9be6a-209">Not Supported</span></span> |

## <a name="deployment-prerequisites"></a><span data-ttu-id="9be6a-210">Prerequisiti di distribuzione</span><span class="sxs-lookup"><span data-stu-id="9be6a-210">Deployment prerequisites</span></span>

* <span data-ttu-id="9be6a-211">Distribuzione di SQL Server locale che esegue una versione supportata di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9be6a-211">An on-premises SQL Server deployment, running a supported SQL Server version.</span></span> <span data-ttu-id="9be6a-212">In genere è necessario anche Active Directory per il server SQL.</span><span class="sxs-lookup"><span data-stu-id="9be6a-212">Typically, you also need Active Directory for your SQL server.</span></span>
* <span data-ttu-id="9be6a-213">requisiti di Hello per hello scenario si desidera toodeploy.</span><span class="sxs-lookup"><span data-stu-id="9be6a-213">hello requirements for hello scenario you want toodeploy.</span></span> <span data-ttu-id="9be6a-214">Ulteriori informazioni sui requisiti di supporto per [replica tooAzure](site-recovery-support-matrix-to-azure.md) e [locale](site-recovery-support-matrix.md), e [prerequisiti di distribuzione](site-recovery-prereq.md).</span><span class="sxs-lookup"><span data-stu-id="9be6a-214">Learn more about support requirements for [replication tooAzure](site-recovery-support-matrix-to-azure.md) and [on-premises](site-recovery-support-matrix.md), and [deployment prerequisites](site-recovery-prereq.md).</span></span>
* <span data-ttu-id="9be6a-215">tooset il ripristino in Azure, hello esecuzione [valutazione della macchina virtuale Azure](http://www.microsoft.com/download/details.aspx?id=40898) strumento nelle macchine virtuali di SQL Server, toomake che sono sia compatibile con Azure e il ripristino del sito.</span><span class="sxs-lookup"><span data-stu-id="9be6a-215">tooset up recovery in Azure, run hello [Azure Virtual Machine Readiness Assessment](http://www.microsoft.com/download/details.aspx?id=40898) tool on your SQL Server virtual machines, toomake sure they're compatible with Azure and Site Recovery.</span></span>

## <a name="set-up-active-directory"></a><span data-ttu-id="9be6a-216">Configurare Active Directory</span><span class="sxs-lookup"><span data-stu-id="9be6a-216">Set up Active Directory</span></span>

<span data-ttu-id="9be6a-217">Configurare Active Directory, nel sito di ripristino secondario, hello toorun di SQL Server in modo corretto.</span><span class="sxs-lookup"><span data-stu-id="9be6a-217">Set up Active Directory, in hello secondary recovery site, for SQL Server toorun properly.</span></span>

* <span data-ttu-id="9be6a-218">**Aziende di piccole dimensioni**, con un numero limitato di applicazioni e un singolo controller di dominio per il sito locale hello, se si desidera toofail sulla hello dell'intero sito, è consigliabile usare Site Recovery replica tooreplicate hello controller di dominio Data Center secondario toohello o tooAzure.</span><span class="sxs-lookup"><span data-stu-id="9be6a-218">**Small enterprise**—With a small number of applications, and single domain controller for hello on-premises site, if you want toofail over hello entire site, we recommend you use Site Recovery replication tooreplicate hello domain controller toohello secondary datacenter, or tooAzure.</span></span>
* <span data-ttu-id="9be6a-219">**Enterprise toolarge Medium**: se si dispone di un numero elevato di applicazioni, una foresta di Active Directory, e si desidera toofail base al carico di lavoro o all'applicazione, è consigliabile impostare un controller di dominio aggiuntivo in Data Center secondario hello o in Azure.</span><span class="sxs-lookup"><span data-stu-id="9be6a-219">**Medium toolarge enterprise**—If you have a large number of applications, an Active Directory forest, and you want toofail over by application or workload, we recommend you set up an additional domain controller in hello secondary datacenter, or in Azure.</span></span> <span data-ttu-id="9be6a-220">Se si usa Always On disponibilità gruppi toorecover tooa del sito remoto, è consigliabile che impostare un altro controller di dominio aggiuntivo nel sito secondario hello o in Azure, toouse hello recuperato istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9be6a-220">If you're using Always On availability groups toorecover tooa remote site, we recommend you set up another additional domain controller on hello secondary site or in Azure, toouse for hello recovered SQL Server instance.</span></span>

<span data-ttu-id="9be6a-221">istruzioni di Hello in questo articolo presuppongono che un controller di dominio è disponibile nel percorso secondario hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-221">hello instructions in this article presume that a domain controller is available in hello secondary location.</span></span> <span data-ttu-id="9be6a-222">[Altre informazioni](site-recovery-active-directory.md) sulla protezione di Active Directory con Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="9be6a-222">[Read more](site-recovery-active-directory.md) about protecting Active Directory with Site Recovery.</span></span>


## <a name="integrate-with-sql-server-always-on-for-replication-tooazure"></a><span data-ttu-id="9be6a-223">Integrazione con SQL Server AlwaysOn per la replica tooAzure</span><span class="sxs-lookup"><span data-stu-id="9be6a-223">Integrate with SQL Server Always On for replication tooAzure</span></span>

<span data-ttu-id="9be6a-224">Ecco cosa occorre toodo:</span><span class="sxs-lookup"><span data-stu-id="9be6a-224">Here's what you need toodo:</span></span>

1. <span data-ttu-id="9be6a-225">Importare gli script nell'account di Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9be6a-225">Import scripts into your Azure Automation account.</span></span> <span data-ttu-id="9be6a-226">Questo file contiene hello script toofailover gruppo di disponibilità SQL in un [macchina virtuale di gestione risorse](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAG.ps1) e un [macchina virtuale classica](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAGClassic.ps1).</span><span class="sxs-lookup"><span data-stu-id="9be6a-226">This contains hello scripts toofailover SQL Availability Group in a [Resource Manager virtual machine](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAG.ps1) and a [Classic virtual machine](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAGClassic.ps1).</span></span>

    <span data-ttu-id="9be6a-227">[![Distribuire tooAzure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span><span class="sxs-lookup"><span data-stu-id="9be6a-227">[![Deploy tooAzure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span></span>


1. <span data-ttu-id="9be6a-228">Aggiungere ASR-SQL-FailoverAG come azione pre del primo gruppo di hello hello del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="9be6a-228">Add ASR-SQL-FailoverAG as a pre action of hello first group of hello recovery plan.</span></span>

1. <span data-ttu-id="9be6a-229">Seguire le istruzioni di hello disponibili in hello script toocreate un nome di hello tooprovide variabile di automazione hello dei gruppi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9be6a-229">Follow hello instructions available in hello script toocreate an automation variable tooprovide hello name of hello availability groups.</span></span>

### <a name="steps-toodo-a-test-failover"></a><span data-ttu-id="9be6a-230">Passaggi toodo un failover di test</span><span class="sxs-lookup"><span data-stu-id="9be6a-230">Steps toodo a test failover</span></span>

<span data-ttu-id="9be6a-231">SQL AlwaysOn non supporta il failover di test in modo nativo.</span><span class="sxs-lookup"><span data-stu-id="9be6a-231">SQL Always On doesn’t natively support test failover.</span></span> <span data-ttu-id="9be6a-232">È pertanto consigliabile seguente hello:</span><span class="sxs-lookup"><span data-stu-id="9be6a-232">Therefore, we recommend hello following:</span></span>

1. <span data-ttu-id="9be6a-233">Impostare [Azure Backup](../backup/backup-azure-vms.md) nella macchina virtuale hello che ospita una replica del gruppo di disponibilità hello in Azure.</span><span class="sxs-lookup"><span data-stu-id="9be6a-233">Set up [Azure Backup](../backup/backup-azure-vms.md) on hello virtual machine that hosts hello availability group replica in Azure.</span></span>

1. <span data-ttu-id="9be6a-234">Prima di attivare il failover di test hello del piano di ripristino, ripristinare macchina virtuale hello da backup hello creato nel passaggio precedente hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-234">Before triggering test failover of hello recovery plan, recover hello virtual machine from hello backup taken in hello previous step.</span></span>

    ![<span data-ttu-id="9be6a-235">Eseguire il ripristino da Backup di Azure</span><span class="sxs-lookup"><span data-stu-id="9be6a-235">Restore from Azure Backup</span></span> ](./media/site-recovery-sql/restore-from-backup.png)

1. <span data-ttu-id="9be6a-236">[Forzare un quorum](https://docs.microsoft.com/sql/sql-server/failover-clusters/windows/force-a-wsfc-cluster-to-start-without-a-quorum#PowerShellProcedure) nella macchina virtuale hello ripristinato dal backup.</span><span class="sxs-lookup"><span data-stu-id="9be6a-236">[Force a quorum](https://docs.microsoft.com/sql/sql-server/failover-clusters/windows/force-a-wsfc-cluster-to-start-without-a-quorum#PowerShellProcedure) in hello virtual machine restored from backup.</span></span>

1. <span data-ttu-id="9be6a-237">Aggiornare l'indirizzo IP di hello listener tooan IP disponibile in rete di failover di test hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-237">Update IP of hello listener tooan IP available in hello test failover network.</span></span>

    ![Aggiornare l'indirizzo IP del listener](./media/site-recovery-sql/update-listener-ip.png)

1. <span data-ttu-id="9be6a-239">Portare online il listener.</span><span class="sxs-lookup"><span data-stu-id="9be6a-239">Bring listener online.</span></span>

    ![Portare online il listener](./media/site-recovery-sql/bring-listener-online.png)

1. <span data-ttu-id="9be6a-241">Creare un servizio di bilanciamento del carico con un IP creati nel server front-end IP pool corrispondente tooeach listener gruppo di disponibilità e con la macchina virtuale SQL hello aggiunto nel pool back-end hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-241">Create a load balancer with one IP created under frontend IP pool corresponding tooeach availability group listener and with hello SQL virtual machine added in hello backend pool.</span></span>

     ![<span data-ttu-id="9be6a-242">Creazione del servizio di bilanciamento del carico - Pool di indirizzi front-end</span><span class="sxs-lookup"><span data-stu-id="9be6a-242">Create Load Balancer - Frontend IP pool</span></span> ](./media/site-recovery-sql/create-load-balancer1.png)

    ![<span data-ttu-id="9be6a-243">Creazione del servizio di bilanciamento del carico - Pool back-end</span><span class="sxs-lookup"><span data-stu-id="9be6a-243">Create Load Balancer - Backend pool</span></span> ](./media/site-recovery-sql/create-load-balancer2.png)

1. <span data-ttu-id="9be6a-244">Eseguire un failover di test hello del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="9be6a-244">Do a test failover of hello recovery plan.</span></span>

### <a name="steps-toodo-a-failover"></a><span data-ttu-id="9be6a-245">Passaggi toodo un failover</span><span class="sxs-lookup"><span data-stu-id="9be6a-245">Steps toodo a failover</span></span>

<span data-ttu-id="9be6a-246">Dopo aver aggiunto script hello nel piano di ripristino hello e piano di ripristino hello convalidato eseguendo un failover di test, è possibile eseguire failover hello del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="9be6a-246">Once you have added hello script in hello recovery plan and validated hello recovery plan by doing a test failover, you can do failover of hello recovery plan.</span></span>


## <a name="integrate-with-sql-server-always-on-for-replication-tooa-secondary-on-premises-site"></a><span data-ttu-id="9be6a-247">Integrazione con SQL Server AlwaysOn per la replica tooa secondario nel sito locale</span><span class="sxs-lookup"><span data-stu-id="9be6a-247">Integrate with SQL Server Always On for replication tooa secondary on-premises site</span></span>

<span data-ttu-id="9be6a-248">Se hello SQL Server utilizza i gruppi di disponibilità per la disponibilità elevata (o un'istanza FCI), è consigliabile utilizzare gruppi di disponibilità nel sito di ripristino hello anche.</span><span class="sxs-lookup"><span data-stu-id="9be6a-248">If hello SQL Server is using availability groups for high availability (or an FCI), we recommend using availability groups on hello recovery site as well.</span></span> <span data-ttu-id="9be6a-249">Si noti che questo si applica tooapps che non utilizzano transazioni distribuite.</span><span class="sxs-lookup"><span data-stu-id="9be6a-249">Note that this applies tooapps that don't use distributed transactions.</span></span>

1. <span data-ttu-id="9be6a-250">[Configurare i database](https://msdn.microsoft.com/library/hh213078.aspx) in gruppi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9be6a-250">[Configure databases](https://msdn.microsoft.com/library/hh213078.aspx) into availability groups.</span></span>
1. <span data-ttu-id="9be6a-251">Creare una rete virtuale nel sito secondario hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-251">Create a virtual network on hello secondary site.</span></span>
1. <span data-ttu-id="9be6a-252">Consente di impostare una connessione VPN da sito a sito tra la rete virtuale hello e sito primario di hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-252">Set up a site-to-site VPN connection between hello virtual network, and hello primary site.</span></span>
1. <span data-ttu-id="9be6a-253">Creare una macchina virtuale nel sito di ripristino hello e installare SQL Server su di esso.</span><span class="sxs-lookup"><span data-stu-id="9be6a-253">Create a virtual machine on hello recovery site, and install SQL Server on it.</span></span>
1. <span data-ttu-id="9be6a-254">Estendere hello esistente Always On disponibilità gruppi toohello nuova VM SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9be6a-254">Extend hello existing Always On availability groups toohello new SQL Server VM.</span></span> <span data-ttu-id="9be6a-255">Configurare l'istanza di SQL Server come una copia di replica asincrona.</span><span class="sxs-lookup"><span data-stu-id="9be6a-255">Configure this SQL Server instance as an asynchronous replica copy.</span></span>
1. <span data-ttu-id="9be6a-256">Creare un listener del gruppo di disponibilità o aggiornamento hello esistente listener tooinclude hello replica asincrona virtual machine.</span><span class="sxs-lookup"><span data-stu-id="9be6a-256">Create an availability group listener, or update hello existing listener tooinclude hello asynchronous replica virtual machine.</span></span>
1. <span data-ttu-id="9be6a-257">Assicurarsi che la farm di applicazione hello è impostata il utilizza hello listener.</span><span class="sxs-lookup"><span data-stu-id="9be6a-257">Make sure that hello application farm is set up using hello listener.</span></span> <span data-ttu-id="9be6a-258">Se il programma di installazione utilizzando nome server di database hello, aggiornarlo listener hello toouse, pertanto non è necessario tooreconfigure dopo il failover hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-258">If it's setup up using hello database server name, update it toouse hello listener, so you don't need tooreconfigure it after hello failover.</span></span>

<span data-ttu-id="9be6a-259">Per le applicazioni che usano transazioni distribuite, è consigliabile distribuire Site Recovery con la [replica da sito a sito di VM VMware/server fisici](site-recovery-vmware-to-vmware.md).</span><span class="sxs-lookup"><span data-stu-id="9be6a-259">For applications that use distributed transactions, we recommend you deploy Site Recovery with [VMware/physical server site-to-site replication](site-recovery-vmware-to-vmware.md).</span></span>

### <a name="recovery-plan-considerations"></a><span data-ttu-id="9be6a-260">Considerazioni sul piano di ripristino</span><span class="sxs-lookup"><span data-stu-id="9be6a-260">Recovery plan considerations</span></span>
1. <span data-ttu-id="9be6a-261">Aggiungere questa libreria VMM toohello script di esempio, in siti primari e secondari hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-261">Add this sample script toohello VMM library, on hello primary and secondary sites.</span></span>

        Param(
        [string]$SQLAvailabilityGroupPath
        )
        import-module sqlps
        Switch-SqlAvailabilityGroup -Path $SQLAvailabilityGroupPath -AllowDataLoss -force

1. <span data-ttu-id="9be6a-262">Quando si crea un piano di ripristino per un'applicazione hello, aggiungere un pre-1 tooGroup tramite script passaggio dell'azione, che richiama hello script toofail sui gruppi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9be6a-262">When you create a recovery plan for hello application, add a pre action tooGroup-1 scripted step, that invokes hello script toofail over availability groups.</span></span>

## <a name="protect-a-standalone-sql-server"></a><span data-ttu-id="9be6a-263">Proteggere un'istanza di SQL Server autonoma</span><span class="sxs-lookup"><span data-stu-id="9be6a-263">Protect a standalone SQL Server</span></span>

<span data-ttu-id="9be6a-264">In questo scenario, è consigliabile utilizzare computer SQL Server di ripristino del sito replica tooprotect hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-264">In this scenario, we recommend that you use Site Recovery replication tooprotect hello SQL Server machine.</span></span> <span data-ttu-id="9be6a-265">la procedura esatta Hello variano se SQL Server è una macchina virtuale o un server fisico e se si desidera tooreplicate tooAzure o un database secondario locale del sito.</span><span class="sxs-lookup"><span data-stu-id="9be6a-265">hello exact steps will depend whether SQL Server is a VM or a physical server, and whether you want tooreplicate tooAzure or a secondary on-premises site.</span></span> <span data-ttu-id="9be6a-266">Vedere l'articolo relativo agli [scenari di Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9be6a-266">Learn about [Site Recovery scenarios](site-recovery-overview.md).</span></span>

## <a name="protect-a-sql-server-cluster-standard-editionwindows-server-2008-r2"></a><span data-ttu-id="9be6a-267">Proteggere un cluster SQL Server (Standard Edition/Windows Server 2008 R2)</span><span class="sxs-lookup"><span data-stu-id="9be6a-267">Protect a SQL Server cluster (standard edition/Windows Server 2008 R2)</span></span>

<span data-ttu-id="9be6a-268">Per un cluster che esegue SQL Server Standard edition o SQL Server 2008 R2, è consigliabile che utilizzare il ripristino del sito replica tooprotect SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9be6a-268">For a cluster running SQL Server Standard edition, or SQL Server 2008 R2, we recommend you use Site Recovery replication tooprotect SQL Server.</span></span>

### <a name="on-premises-tooon-premises"></a><span data-ttu-id="9be6a-269">Tooon tra più sedi locali</span><span class="sxs-lookup"><span data-stu-id="9be6a-269">On-premises tooon-premises</span></span>

* <span data-ttu-id="9be6a-270">Se l'applicazione hello utilizza transazioni distribuite, è consigliabile distribuire [Site Recovery con replica SAN](site-recovery-vmm-san.md) per un ambiente Hyper-V, o [tooVMware server VMware/fisici](site-recovery-vmware-to-vmware.md) per un ambiente VMware.</span><span class="sxs-lookup"><span data-stu-id="9be6a-270">If hello app uses distributed transactions we recommend you deploy [Site Recovery with SAN replication](site-recovery-vmm-san.md) for a Hyper-V environment, or [VMware/physical server tooVMware](site-recovery-vmware-to-vmware.md) for a VMware environment.</span></span>
* <span data-ttu-id="9be6a-271">Per le applicazioni non DTC, utilizzare hello di sopra del cluster di approccio toorecover hello come server autonomo, mediante l'utilizzo di una database mirror di una protezione elevata locale.</span><span class="sxs-lookup"><span data-stu-id="9be6a-271">For non-DTC applications, use hello above approach toorecover hello cluster as a standalone server, by leveraging a local high safety DB mirror.</span></span>

### <a name="on-premises-tooazure"></a><span data-ttu-id="9be6a-272">TooAzure locale</span><span class="sxs-lookup"><span data-stu-id="9be6a-272">On-premises tooAzure</span></span>

<span data-ttu-id="9be6a-273">Il ripristino del sito non fornisce guest quando si replicano tooAzure supporto dei cluster.</span><span class="sxs-lookup"><span data-stu-id="9be6a-273">Site Recovery doesn't provide guest cluster support when replicating tooAzure.</span></span> <span data-ttu-id="9be6a-274">Inoltre, SQL Server non fornisce una soluzione di ripristino di emergenza a costo contenuto per l'edizione Standard.</span><span class="sxs-lookup"><span data-stu-id="9be6a-274">SQL Server also doesn't provide a low-cost disaster recovery solution for Standard edition.</span></span> <span data-ttu-id="9be6a-275">In questo scenario, è consigliabile proteggere hello on-premise SQL Server cluster tooa computer SQL Server autonomo e ripristinarlo in Azure.</span><span class="sxs-lookup"><span data-stu-id="9be6a-275">In this scenario, we recommend you protect hello on-premises SQL Server cluster tooa standalone SQL Server, and recover it in Azure.</span></span>

1. <span data-ttu-id="9be6a-276">Configurare un'istanza di SQL Server autonomi aggiuntivi nel sito locale hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-276">Configure an additional standalone SQL Server instance on hello on-premises site.</span></span>
1. <span data-ttu-id="9be6a-277">Configurare hello istanza tooserve come mirror di hello i database si desidera tooprotect.</span><span class="sxs-lookup"><span data-stu-id="9be6a-277">Configure hello instance tooserve as a mirror for hello databases you want tooprotect.</span></span> <span data-ttu-id="9be6a-278">Configurare il mirroring in modalità protezione elevata.</span><span class="sxs-lookup"><span data-stu-id="9be6a-278">Configure mirroring in high safety mode.</span></span>
1. <span data-ttu-id="9be6a-279">Configurare il ripristino del sito nel sito locale hello, per ([Hyper-V](site-recovery-hyper-v-site-to-azure.md) o [server macchine virtuali VMware/fisici)](site-recovery-vmware-to-azure-classic.md).</span><span class="sxs-lookup"><span data-stu-id="9be6a-279">Configure Site Recovery on hello on-premises site, for ([Hyper-V](site-recovery-hyper-v-site-to-azure.md) or [VMware VMs/physical servers)](site-recovery-vmware-to-azure-classic.md).</span></span>
1. <span data-ttu-id="9be6a-280">Utilizzare il ripristino del sito replica tooreplicate hello nuovo SQL Server istanza tooAzure.</span><span class="sxs-lookup"><span data-stu-id="9be6a-280">Use Site Recovery replication tooreplicate hello new SQL Server instance tooAzure.</span></span> <span data-ttu-id="9be6a-281">Poiché si tratta di una copia speculare protezione elevata, tale elemento verrà sincronizzato con cluster primario hello, ma sarà tooAzure replicati tramite replica di Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="9be6a-281">Since it's a high safety mirror copy, it will be synchronized with hello primary cluster, but it will be replicated tooAzure using Site Recovery replication.</span></span>


![Cluster standard](./media/site-recovery-sql/standalone-cluster-local.png)

### <a name="failback-considerations"></a><span data-ttu-id="9be6a-283">Considerazioni sul failback</span><span class="sxs-lookup"><span data-stu-id="9be6a-283">Failback considerations</span></span>

<span data-ttu-id="9be6a-284">Per i cluster di SQL Server Standard, eseguire il failback dopo un failover non pianificato richiede un backup di SQL server e il ripristino, da hello mirror istanza toohello cluster originale, con i ripristino del saldo dei mirror hello.</span><span class="sxs-lookup"><span data-stu-id="9be6a-284">For SQL Server Standard clusters, failback after an unplanned failover requires a SQL server backup and restore, from hello mirror instance toohello original cluster, with reestablishment of hello mirror.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9be6a-285">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="9be6a-285">Next steps</span></span>
<span data-ttu-id="9be6a-286">[Altre informazioni](site-recovery-components.md) sull'architettura di Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="9be6a-286">[Learn more](site-recovery-components.md) about Site Recovery architecture.</span></span>
