---
title: aaaConfigure secure Azure Service Fabric connessioni cluster | Documenti Microsoft
description: Informazioni su come usare toouse Visual Studio tooconfigure proteggere le connessioni che sono supportate dal cluster di Azure Service Fabric hello.
services: service-fabric
documentationcenter: na
author: cawaMS
manager: paulyuk
editor: tglee
ms.assetid: 80501867-dd7a-4648-8bd6-d4f26b68402d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/04/2017
ms.author: cawa
ms.openlocfilehash: ed3e5043264cf026f74e24ca09b40ccc70086cf2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="configure-secure-connections-tooa-service-fabric-cluster-from-visual-studio"></a><span data-ttu-id="3fc2e-103">Configurare i cluster di Service Fabric tooa connessioni protette da Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3fc2e-103">Configure secure connections tooa Service Fabric cluster from Visual Studio</span></span>
<span data-ttu-id="3fc2e-104">Informazioni su come toouse Visual Studio toosecurely accedere a un cluster di Azure Service Fabric con i criteri di controllo di accesso configurati.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-104">Learn how toouse Visual Studio toosecurely access an Azure Service Fabric cluster with access control policies configured.</span></span>

## <a name="cluster-connection-types"></a><span data-ttu-id="3fc2e-105">Tipi di connessione del cluster</span><span class="sxs-lookup"><span data-stu-id="3fc2e-105">Cluster connection types</span></span>
<span data-ttu-id="3fc2e-106">Sono supportati due tipi di connessioni per il cluster di Azure Service Fabric hello: **non sicure** connessioni e **basata sui certificati x509** connessioni protette.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-106">Two types of connections are supported by hello Azure Service Fabric cluster: **non-secure** connections and **x509 certificate-based** secure connections.</span></span> <span data-ttu-id="3fc2e-107">Per i cluster di Service Fabric ospitati in locale, sono supportate anche le autenticazioni **Windows** e **dSTS**. È il tipo di connessione tooconfigure hello cluster quando viene creato il cluster hello.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-107">(For Service Fabric clusters hosted on-premises, **Windows** and **dSTS** authentications are also supported.) You have tooconfigure hello cluster connection type when hello cluster is being created.</span></span> <span data-ttu-id="3fc2e-108">Dopo averla creata, non è possibile modificare il tipo di connessione hello.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-108">Once it's created, hello connection type can’t be changed.</span></span>

<span data-ttu-id="3fc2e-109">strumenti di Visual Studio Service Fabric Hello supportano tutti i tipi di autenticazione per la connessione tooa cluster per la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-109">hello Visual Studio Service Fabric tools support all authentication types for connecting tooa cluster for publishing.</span></span> <span data-ttu-id="3fc2e-110">Vedere [impostazione di un cluster di Service Fabric dal portale di Azure hello](service-fabric-cluster-creation-via-portal.md) per istruzioni su come tooset di un cluster di Service Fabric sicura.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-110">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for instructions on how tooset up a secure Service Fabric cluster.</span></span>

## <a name="configure-cluster-connections-in-publish-profiles"></a><span data-ttu-id="3fc2e-111">Configurare le connessioni del cluster in profili di pubblicazione</span><span class="sxs-lookup"><span data-stu-id="3fc2e-111">Configure cluster connections in publish profiles</span></span>
<span data-ttu-id="3fc2e-112">Se si pubblica un progetto di infrastruttura di servizio da Visual Studio, usare hello **pubblicare l'applicazione di Service Fabric** della finestra di dialogo toochoose un cluster di Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-112">If you publish a Service Fabric project from Visual Studio, use hello **Publish Service Fabric Application** dialog box toochoose an Azure Service Fabric cluster.</span></span> <span data-ttu-id="3fc2e-113">In **Endpoint connessione** selezionare un cluster esistente nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-113">Under **Connection endpoint**, select an existing cluster under your subscription.</span></span>

![Hello * * la finestra di dialogo Pubblica servizio Fabric applicazione * * è tooconfigure utilizzata una connessione di Service Fabric.][publishdialog]

<span data-ttu-id="3fc2e-115">Hello **pubblicare l'applicazione di Service Fabric** la finestra di dialogo connessione cluster hello viene convalidato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-115">hello **Publish Service Fabric Application** dialog box automatically validates hello cluster connection.</span></span> <span data-ttu-id="3fc2e-116">Se richiesto, accedere tooyour account Azure.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-116">If prompted, sign in tooyour Azure account.</span></span> <span data-ttu-id="3fc2e-117">Se la convalida viene eseguita, significa che il sistema disponga di hello corretto tooconnect toohello cluster installati in modo sicuro i certificati o il cluster è non sicure.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-117">If validation passes, it means that your system has hello correct certificates installed tooconnect toohello cluster securely, or your cluster is non-secure.</span></span> <span data-ttu-id="3fc2e-118">Errori di convalida possono essere causati da problemi di rete o senza che sia il cluster protetto di tooconnect tooa sistema configurato correttamente.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-118">Validation failures can be caused by network issues or by not having your system correctly configured tooconnect tooa secure cluster.</span></span>

![Hello * * pubblicare servizi dell'infrastruttura dell'applicazione * * la finestra di dialogo Convalida un oggetto esistente, configurato correttamente la connessione di cluster Service Fabric.][selectsfcluster]

### <a name="tooconnect-tooa-secure-cluster"></a><span data-ttu-id="3fc2e-120">tooconnect tooa sicura cluster</span><span class="sxs-lookup"><span data-stu-id="3fc2e-120">tooconnect tooa secure cluster</span></span>
1. <span data-ttu-id="3fc2e-121">Verificare che sia possibile accedere a uno dei certificati client hello hello trust tra cluster di destinazione.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-121">Make sure you can access one of hello client certificates that hello destination cluster trusts.</span></span> <span data-ttu-id="3fc2e-122">certificato di Hello in genere viene condiviso un file di scambio di informazioni personali (PFX).</span><span class="sxs-lookup"><span data-stu-id="3fc2e-122">hello certificate is usually shared as a Personal Information Exchange (.pfx) file.</span></span> <span data-ttu-id="3fc2e-123">Vedere [impostazione di un cluster di Service Fabric dal portale di Azure hello](service-fabric-cluster-creation-via-portal.md) per la modalità di accesso client tooa tooconfigure hello server toogrant.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-123">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for how tooconfigure hello server toogrant access tooa client.</span></span>
2. <span data-ttu-id="3fc2e-124">Installare il certificato attendibile di hello.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-124">Install hello trusted certificate.</span></span> <span data-ttu-id="3fc2e-125">toodo, fare doppio clic sul file con estensione pfx hello o utilizzare hello PowerShell script Import-PfxCertificate tooimport hello certificati.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-125">toodo this, double-click hello .pfx file, or use hello PowerShell script Import-PfxCertificate tooimport hello certificates.</span></span> <span data-ttu-id="3fc2e-126">Installare il certificato di hello troppo**Cert: \LocalMachine\My**.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-126">Install hello certificate too**Cert:\LocalMachine\My**.</span></span> <span data-ttu-id="3fc2e-127">È OK tooaccept tutte le impostazioni predefinite durante l'importazione del certificato hello.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-127">It's OK tooaccept all default settings while importing hello certificate.</span></span>
3. <span data-ttu-id="3fc2e-128">Scegliere hello **pubblica...**  comando dal menu di scelta rapida hello di hello di hello progetto tooopen **pubblica l'applicazione Azure** la finestra di dialogo e i cluster di destinazione selezionare hello.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-128">Choose hello **Publish...** command on hello shortcut menu of hello project tooopen hello **Publish Azure Application** dialog box and then select hello target cluster.</span></span> <span data-ttu-id="3fc2e-129">strumento Hello automaticamente risolve connessione hello e Salva i parametri in hello pubblicano la connessione sicura hello profilo.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-129">hello tool automatically resolves hello connection and saves hello secure connection parameters in hello publish profile.</span></span>
4. <span data-ttu-id="3fc2e-130">Facoltativo: È possibile modificare hello pubblicare profilo toospecify una connessione protetta del cluster.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-130">Optional: You can edit hello publish profile toospecify a secure cluster connection.</span></span>
   
   <span data-ttu-id="3fc2e-131">Poiché si sta modificando manualmente le informazioni di certificato hello toospecify file XML del profilo di pubblicazione hello, nome dell'archivio certificati toonote hello assicurarsi, archiviare, posizione e identificazione personale del certificato.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-131">Since you're manually editing hello Publish Profile XML file toospecify hello certificate information, be sure toonote hello certificate store name, store location, and certificate thumbprint.</span></span> <span data-ttu-id="3fc2e-132">È necessario tooprovide questi valori per l'archivio del certificato hello nome e percorso dell'archivio.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-132">You'll need tooprovide these values for hello certificate's store name and store location.</span></span> <span data-ttu-id="3fc2e-133">Vedere [procedura: recuperare hello identificazione personale del certificato](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-133">See [How to: Retrieve hello Thumbprint of a Certificate](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) for more information.</span></span>
   
   <span data-ttu-id="3fc2e-134">È possibile utilizzare hello *ClusterConnectionParameters* parametri toospecify hello PowerShell parametri toouse quando ci si connette il cluster di Service Fabric toohello.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-134">You can use hello *ClusterConnectionParameters* parameters toospecify hello PowerShell parameters toouse when connecting toohello Service Fabric cluster.</span></span> <span data-ttu-id="3fc2e-135">I parametri validi sono quelli che sono accettati dal cmdlet Connect-ServiceFabricCluster hello.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-135">Valid parameters are any that are accepted by hello Connect-ServiceFabricCluster cmdlet.</span></span> <span data-ttu-id="3fc2e-136">Per un elenco dei parametri disponibili, vedere [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) .</span><span class="sxs-lookup"><span data-stu-id="3fc2e-136">See [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) for a list of available parameters.</span></span>
   
   <span data-ttu-id="3fc2e-137">Se si pubblica tooa remota del cluster, è necessario parametri di toospecify hello appropriati per tale cluster specifico.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-137">If you’re publishing tooa remote cluster, you need toospecify hello appropriate parameters for that specific cluster.</span></span> <span data-ttu-id="3fc2e-138">Hello Ecco un esempio di connessione tooa non sicure cluster:</span><span class="sxs-lookup"><span data-stu-id="3fc2e-138">hello following is an example of connecting tooa non-secure cluster:</span></span>
   
   `<ClusterConnectionParameters ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000" />`
   
   <span data-ttu-id="3fc2e-139">Di seguito è riportato un esempio di connessione tooan x509 basata sui certificati cluster sicuro:</span><span class="sxs-lookup"><span data-stu-id="3fc2e-139">Here’s an example for connecting tooan x509 certificate-based secure cluster:</span></span>
   
   ```xml
   <ClusterConnectionParameters
   ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000"
   X509Credential="true"
   ServerCertThumbprint="0123456789012345678901234567890123456789"
   FindType="FindByThumbprint"
   FindValue="9876543210987654321098765432109876543210"
   StoreLocation="CurrentUser"
   StoreName="My" />
   ```
5. <span data-ttu-id="3fc2e-140">Modificare altre impostazioni necessarie, ad esempio i parametri di aggiornamento e il percorso di file di parametro dell'applicazione e quindi pubblicare l'applicazione da hello **pubblicare l'applicazione di Service Fabric** nella finestra di dialogo di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3fc2e-140">Edit any other necessary settings, such as upgrade parameters and Application Parameter file location, and then publish your application from hello **Publish Service Fabric Application** dialog box in Visual Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3fc2e-141">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="3fc2e-141">Next steps</span></span>
<span data-ttu-id="3fc2e-142">Per ulteriori informazioni sull'accesso ai cluster di Infrastruttura di servizi, vedere l'articolo relativo a come [visualizzare il cluster con Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="3fc2e-142">For more information about accessing Service Fabric clusters, see [Visualizing your cluster by using Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span></span>

<!--Image references-->
[publishdialog]:./media/service-fabric-visualstudio-configure-secure-connections/publishdialog.png
[selectsfcluster]:./media/service-fabric-visualstudio-configure-secure-connections/selectsfcluster.png
