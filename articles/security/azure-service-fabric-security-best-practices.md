---
title: Procedure consigliate per la sicurezza di Azure Service Fabric| Microsoft Docs
description: Questo articolo offre un set di procedure consigliate per la sicurezza di Azure Service Fabric.
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 3132e42aac72c0132c7526ac56d80bc5eec269e7
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="b1c9e-103">Procedure consigliate per la sicurezza di Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b1c9e-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="b1c9e-104">Distribuire un'applicazione in Azure è veloce, semplice ed economico.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="b1c9e-105">Prima di distribuire l'applicazione cloud nell'ambiente di produzione è utile seguire una procedura consigliata per agevolare la valutazione dell'applicazione in base a un elenco di procedure consigliate essenziali.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-105">Before deploying cloud application in production useful to have a best practice to assist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="b1c9e-106">Azure Service Fabric è una piattaforma di sistemi distribuiti che semplifica la creazione di pacchetti, la distribuzione e la gestione di microservizi scalabili e affidabili.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-106">Azure Service Fabric is a distributed systems platform that makes it easy to package, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="b1c9e-107">Service Fabric fa fronte anche alle principali problematiche correlate allo sviluppo e alla gestione delle applicazioni cloud.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-107">Service Fabric also addresses the significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="b1c9e-108">Gli sviluppatori e gli amministratori non devono più occuparsi di risolvere complessi problemi di infrastruttura e possono concentrarsi sull'implementazione di carichi di lavoro cruciali e impegnativi, con la certezza di assicurare scalabilità, affidabilità e gestibilità.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="b1c9e-109">Per ogni procedura consigliata verrà illustrato:</span><span class="sxs-lookup"><span data-stu-id="b1c9e-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="b1c9e-110">Qual è la procedura consigliata</span><span class="sxs-lookup"><span data-stu-id="b1c9e-110">What the best practice is</span></span>
-   <span data-ttu-id="b1c9e-111">Il motivo per cui si vuole abilitare tale procedura consigliata</span><span class="sxs-lookup"><span data-stu-id="b1c9e-111">Why you want to enable that best practice</span></span>
-   <span data-ttu-id="b1c9e-112">Quale potrebbe essere il risultato se non fosse possibile abilitare la procedura consigliata</span><span class="sxs-lookup"><span data-stu-id="b1c9e-112">What might be the result if you fail to enable the best practice</span></span>
-   <span data-ttu-id="b1c9e-113">Come imparare ad abilitare la procedura consigliata</span><span class="sxs-lookup"><span data-stu-id="b1c9e-113">How you can learn to enable the best practice</span></span>

<span data-ttu-id="b1c9e-114">Sono al momento disponibili le seguenti procedure consigliate per Azure Service Fabric:</span><span class="sxs-lookup"><span data-stu-id="b1c9e-114">We currently have the following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="b1c9e-115">Usare il modello di Azure Resource Manager(ARM) e il modulo Azure PowerShell di Service Fabric per creare un cluster sicuro</span><span class="sxs-lookup"><span data-stu-id="b1c9e-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module to create secure cluster</span></span>
-   <span data-ttu-id="b1c9e-116">Usare certificati X.509</span><span class="sxs-lookup"><span data-stu-id="b1c9e-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="b1c9e-117">Configurare criteri di sicurezza</span><span class="sxs-lookup"><span data-stu-id="b1c9e-117">Configure security policies</span></span>
-   <span data-ttu-id="b1c9e-118">Configurazione della sicurezza in Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="b1c9e-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="b1c9e-119">Configurare l'autenticazione SSL per Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b1c9e-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="b1c9e-120">Isolamento/sicurezza di rete con Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b1c9e-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="b1c9e-121">Configurare un insieme di credenziali delle chiavi per la sicurezza</span><span class="sxs-lookup"><span data-stu-id="b1c9e-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="b1c9e-122">Assegnare utenti ai ruoli</span><span class="sxs-lookup"><span data-stu-id="b1c9e-122">Assign users to roles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="b1c9e-123">Procedure consigliate per proteggere il cluster</span><span class="sxs-lookup"><span data-stu-id="b1c9e-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="b1c9e-124">**Quadro generale**</span><span class="sxs-lookup"><span data-stu-id="b1c9e-124">**Big Picture**</span></span>

<span data-ttu-id="b1c9e-125">Usare sempre un cluster sicuro</span><span class="sxs-lookup"><span data-stu-id="b1c9e-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="b1c9e-126">Sicurezza del cluster: usare i certificati</span><span class="sxs-lookup"><span data-stu-id="b1c9e-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="b1c9e-127">Accesso client (Admin e sola lettura): usare AAD</span><span class="sxs-lookup"><span data-stu-id="b1c9e-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="b1c9e-128">Usare distribuzioni automatiche</span><span class="sxs-lookup"><span data-stu-id="b1c9e-128">Use automated deployments</span></span>
-   <span data-ttu-id="b1c9e-129">Usare script per generare, installare e distribuire segreti</span><span class="sxs-lookup"><span data-stu-id="b1c9e-129">Use scripts to generate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="b1c9e-130">Conservare i segreti nell'insieme di credenziali delle chiavi, usare AD per tutti gli altri accessi client</span><span class="sxs-lookup"><span data-stu-id="b1c9e-130">Keep the secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="b1c9e-131">Nessun utente dovrebbe potervi accedere senza autenticazione.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-131">No human should have access to them without authentication.</span></span>

<span data-ttu-id="b1c9e-132">Valutare anche gli aspetti seguenti:</span><span class="sxs-lookup"><span data-stu-id="b1c9e-132">Additionally, consider the following:</span></span>
-   <span data-ttu-id="b1c9e-133">Creare reti perimetrali usando gruppi di sicurezza di rete (NSG)</span><span class="sxs-lookup"><span data-stu-id="b1c9e-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="b1c9e-134">Usare server di collegamento a RDP nelle VM del cluster o per gestire il cluster</span><span class="sxs-lookup"><span data-stu-id="b1c9e-134">Use Jump servers to RDP into cluster VMs or to manage your cluster</span></span>

<span data-ttu-id="b1c9e-135">Per impedire a utenti non autorizzati di connettersi ai cluster, è necessario proteggerli, in particolare quando sono in esecuzione carichi di lavoro di produzione.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-135">Clusters must be secured to prevent unauthorized users from connecting to your cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="b1c9e-136">La creazione di cluster non protetti, anche se possibile, consente a utenti anonimi di connettersi a un cluster che espone gli endpoint di gestione a Internet pubblico.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-136">Although it is possible to create an unsecured cluster, doing so allows anonymous users to connect to it, if it exposes management endpoints to the public Internet.</span></span>

<span data-ttu-id="b1c9e-137">Tecnologie usate per implementare tali scenari.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-137">Technologies used to implement those scenarios.</span></span> <span data-ttu-id="b1c9e-138">Gli [scenari di sicurezza del cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) sono:</span><span class="sxs-lookup"><span data-stu-id="b1c9e-138">The [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="b1c9e-139">Sicurezza da nodo a nodo: protegge la comunicazione tra le macchine virtuali e i computer nel cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-139">Node-to-node security- This secures communication between the VMs and computers in the cluster.</span></span> <span data-ttu-id="b1c9e-140">Assicura che solo i computer autorizzati a connettersi al cluster possono partecipare all'hosting di applicazioni e servizi nel cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-140">This ensures that only computers that are authorized to join the cluster can participate in hosting applications and services in the cluster.</span></span>
<span data-ttu-id="b1c9e-141">I cluster eseguiti in Azure o i cluster autonomi eseguiti in Windows possono usare la [sicurezza basata su certificati](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) o la [sicurezza di Windows](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) per computer Windows Server.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="b1c9e-142">Sicurezza da client a nodo: protegge la comunicazione tra un client Service Fabric e i singoli nodi nel cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in the cluster.</span></span>
-   <span data-ttu-id="b1c9e-143">Controllo degli accessi in base al ruolo (RBAC): al momento della creazione del cluster si specificano i ruoli di amministrazione e di utente nel client specificando identità separate (certificati, AAD e così via) per ognuno.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-143">Role-based access control (RBAC) - You specify the administrator and user client roles at the time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="b1c9e-144">Raccomandazioni per la sicurezza: per i cluster di Azure è consigliabile usare la sicurezza di AAD per autenticare i client e i certificati per la sicurezza da nodo a nodo.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security to authenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="b1c9e-145">Per configurare il cluster Windows autonomo, vedere [Impostazioni di configurazione per un cluster autonomo in Windows](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-145">To configure the standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="b1c9e-146">Usare il modello di Azure Resource Manager e il modulo Azure PowerShell di Service Fabric per creare un cluster sicuro.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module to create secure cluster.</span></span>
<span data-ttu-id="b1c9e-147">Le istruzioni per configurare un cluster sicuro di Azure Service Fabric in Azure tramite Azure Resource Manager sono disponibili [qui](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="b1c9e-148">Usare il modello di Azure Resource Manager per personalizzare il cluster</span><span class="sxs-lookup"><span data-stu-id="b1c9e-148">Use the Azure Resource Manager template to customize your cluster</span></span>
-   <span data-ttu-id="b1c9e-149">Archiviazione gestita tramite il programma di installazione per i dischi rigidi virtuali delle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="b1c9e-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="b1c9e-150">Usare il modello di Azure Resource Manager per apportare modifiche al gruppo di risorse</span><span class="sxs-lookup"><span data-stu-id="b1c9e-150">Use the Azure Resource Manager template to drive changes to your Resource Group</span></span>
-   <span data-ttu-id="b1c9e-151">Gestione facilitata della configurazione</span><span class="sxs-lookup"><span data-stu-id="b1c9e-151">Easy configuration management</span></span>
-   <span data-ttu-id="b1c9e-152">Controllo</span><span class="sxs-lookup"><span data-stu-id="b1c9e-152">Auditing</span></span>

<span data-ttu-id="b1c9e-153">Gestire la configurazione del cluster come codice</span><span class="sxs-lookup"><span data-stu-id="b1c9e-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="b1c9e-154">Controllare approfonditamente le distribuzioni che si desidera distribuire</span><span class="sxs-lookup"><span data-stu-id="b1c9e-154">Be thorough in checking the configurations you choose to deploy</span></span>
-   <span data-ttu-id="b1c9e-155">Evitare di usare comandi impliciti per modificare direttamente le risorse</span><span class="sxs-lookup"><span data-stu-id="b1c9e-155">Avoid using implicit commands to tweak your resources directly</span></span>

<span data-ttu-id="b1c9e-156">È possibile automatizzare numerosi aspetti del [ciclo di vita dell'applicazione Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) .</span><span class="sxs-lookup"><span data-stu-id="b1c9e-156">Many aspects of the [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="b1c9e-157">Il [modulo Azure PowerShell di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatizza le attività di uso più comune per la distribuzione, l'aggiornamento, la rimozione e il test delle applicazioni di Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="b1c9e-158">Sono disponibili anche API gestite e HTTP per la gestione delle app.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="b1c9e-159">Usare certificati X.509</span><span class="sxs-lookup"><span data-stu-id="b1c9e-159">Use X.509 certificates</span></span>
<span data-ttu-id="b1c9e-160">I cluster devono sempre essere protetti con certificati x.509 o la sicurezza di Windows.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="b1c9e-161">La sicurezza viene configurata solo in fase di creazione del cluster e non è possibile abilitare la sicurezza dopo la creazione del cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-161">Security is only configured at cluster creation time and it is not possible to enable security after the cluster is created.</span></span>

<span data-ttu-id="b1c9e-162">Se si specifica un [certificato di cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), impostare il valore di ClusterCredentialType su X509.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set the value of ClusterCredentialType to X509.</span></span> <span data-ttu-id="b1c9e-163">Se si specifica un certificato del server per le connessioni esterne, impostare il valore di ServerCredentialType su X509.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-163">If you are specifying server certificate for outside connections, set the ServerCredentialType to X509.</span></span>

-   <span data-ttu-id="b1c9e-164">È consigliabile creare i certificati usati nei cluster che eseguono carichi di lavoro di produzione con un servizio certificati di Windows Server configurato correttamente oppure ottenerli da un'Autorità di certificazione (CA) approvata.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="b1c9e-165">Non usare mai in fase di produzione certificati temporanei o di test creati con strumenti come MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="b1c9e-166">È possibile usare un certificato autofirmato, ma lo si deve fare solo per i cluster di test e non nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="b1c9e-167">Se il cluster è senza protezione.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-167">If the cluster is unsecure.</span></span> <span data-ttu-id="b1c9e-168">Chiunque si può connettere in modo anonimo ed eseguire operazioni di gestione. È quindi necessario proteggere sempre i cluster di produzione usando certificati X.509 o la sicurezza di Windows.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="b1c9e-169">Per altre informazioni su come abilitare i certificati nel cluster Service Fabric, vedere [Aggiungere o rimuovere certificati per un cluster Service Fabric in Azure](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-169">To learn more how to enable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="b1c9e-170">Configurare criteri di sicurezza</span><span class="sxs-lookup"><span data-stu-id="b1c9e-170">Configure security policies</span></span>
<span data-ttu-id="b1c9e-171">Service Fabric permette anche di proteggere le risorse usate dalle applicazioni in fase di distribuzione con l'account utente, ad esempio file, directory e certificati.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-171">Service Fabric also helps secure the resources that are used by applications at the time of deployment under the user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="b1c9e-172">In questo modo le applicazioni in esecuzione, anche in un ambiente ospitato condiviso, sono reciprocamente protette.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="b1c9e-173">Usare un utente o un gruppo di dominio Active Directory: è possibile eseguire il servizio con le credenziali per un account utente o un gruppo di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-173">Use an Active Directory domain group or user: You can run the service under the credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="b1c9e-174">Si tratta di Active Directory locale nel dominio e non di Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="b1c9e-175">Usando un utente o un gruppo del dominio, sarà quindi possibile accedere ad altre risorse del dominio (ad esempio, condivisioni file) a cui sono state concesse le autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-175">By using a domain user or group, you can then access other resources in the domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="b1c9e-176">Assegnare i criteri di accesso di sicurezza per gli endpoint HTTP e HTTPS: se si applicano criteri RunAs a un servizio e il manifesto del servizio dichiara le risorse dell'endpoint con il protocollo HTTP, è necessario specificare un elemento SecurityAccessPolicy per garantire che le porte allocate a questi endpoint siano correttamente inserite nell'elenco di controllo di accesso per l'account utente RunAs con cui viene eseguito il servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy to a service and the service manifest declares endpoint resources with the HTTP protocol, you must specify a SecurityAccessPolicy to ensure that ports allocated to these endpoints are correctly access-controlled listed for the RunAs user account that the service runs under.</span></span> <span data-ttu-id="b1c9e-177">In caso contrario, http.sys non ha accesso al servizio e le chiamate del client hanno esito negativo.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-177">Otherwise, http.sys does not have access to the service, and you get failures with calls from the client.</span></span>
<span data-ttu-id="b1c9e-178">Per altre informazioni su come abilitare i criteri di sicurezza in Service Fabric, vedere [Configurare i criteri di sicurezza per l'applicazione](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-178">To learn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="b1c9e-179">Configurazione della sicurezza in Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="b1c9e-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="b1c9e-180">Service Fabric Reliable Actors è un'implementazione dello schema progettuale dell'attore.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-180">Service Fabric Reliable Actors is an implementation of the actor design pattern.</span></span> <span data-ttu-id="b1c9e-181">Come per gli altri schemi progettuali del software, la scelta di usare un criterio specifico dipende dalla capacità di un problema di progettazione software di seguire lo schema.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-181">As with any software design pattern, the decision whether to use a specific pattern is made based on whether or not a software design problem fits the pattern.</span></span>

<span data-ttu-id="b1c9e-182">In generale conviene prendere in considerazione il criterio dell'attore per modellare il problema o lo scenario nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="b1c9e-182">As general guidance, consider the actor pattern to model your problem or scenario if:</span></span>
-   <span data-ttu-id="b1c9e-183">Il problema riguarda un gran numero (migliaia o più) di piccole unità indipendenti e isolate di stato e logica.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="b1c9e-184">Si desidera usare oggetti a thread singolo che non richiedono un'interazione significativa con componenti esterni, incluse query dello stato tra un insieme di attori.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-184">You want to work with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="b1c9e-185">Le istanze degli attori non bloccano i chiamanti con ritardi imprevedibili eseguendo operazioni I/O.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="b1c9e-186">In Service Fabric gli attori sono implementati nel framework Reliable Actors: un framework di applicazioni imperniato sul criterio attore e basato su [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-186">In Service Fabric, actors are implemented in the Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="b1c9e-187">Ogni servizio di tipo Reliable Actor che viene scritto è di fatto un servizio Reliable partizionato con stato.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="b1c9e-188">Ogni attore è definito come un'istanza di un tipo di attore, come un oggetto .NET è un'istanza di un tipo .NET.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-188">Every actor is defined as an instance of an actor type, identical to the way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="b1c9e-189">Ad esempio, può essere definito un tipo di attore che implementa la funzionalità di una calcolatrice e possono esistere molti attori di quel tipo distribuiti su vari nodi di un cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-189">For example, there may be an actor type that implements the functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="b1c9e-190">Ciascuno di questi attori è identificato in modo univoco da un ID.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="b1c9e-191">Le [configurazioni di sicurezza del replicatore](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) consentono di proteggere il canale di comunicazione usato durante la replica.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used to secure the communication channel that is used during replication.</span></span> <span data-ttu-id="b1c9e-192">Questo significa che i servizi non potranno visualizzare l'uno il traffico di replica dell'altro, garantendo la sicurezza dei dati a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-192">This means that services cannot see each other's replication traffic, ensuring that the data that is made highly available is also secure.</span></span> <span data-ttu-id="b1c9e-193">Per impostazione predefinita, una sezione di configurazione della sicurezza vuota non abilita la sicurezza della replica.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="b1c9e-194">Le configurazioni del replicatore riguardano il replicatore responsabile di garantire l'elevata affidabilità dello stato del provider di stato degli attori.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-194">Replicator configurations configure the replicator that is responsible for making the Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="b1c9e-195">Configurare l'autenticazione SSL per Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b1c9e-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="b1c9e-196">Autenticazione del server: [autentica](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) gli endpoint di gestione del cluster in un client di gestione, in modo che il client di gestione sappia con certezza di comunicare con il cluster reale.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) the cluster management endpoints to a management client, so that the management client knows it is talking to the real cluster.</span></span> <span data-ttu-id="b1c9e-197">Questo certificato fornisce anche un certificato [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) per l'API di gestione HTTPS e per Service Fabric Explorer tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for the HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="b1c9e-198">È necessario ottenere un nome di dominio personalizzato per il cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="b1c9e-199">Quando si richiede un certificato da una CA, il nome del soggetto del certificato deve corrispondere al nome di dominio personalizzato usato per il cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-199">When you request a certificate from a CA, the certificate's subject name must match the custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="b1c9e-200">Per configurare SSL per un'applicazione, è necessario prima ottenere un certificato SSL che sia stato firmato da un'Autorità di certificazione (CA), ovvero un ente di terze parti attendibile che rilascia certificati per questo scopo.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-200">To configure SSL for an application, you first need to get an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="b1c9e-201">Se non se ne dispone già, è necessario ottenerne uno da un rivenditore di certificati SSL.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-201">If you do not already have one, you need to obtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="b1c9e-202">Il certificato deve soddisfare i requisiti seguenti per i certificati SSL in Azure:</span><span class="sxs-lookup"><span data-stu-id="b1c9e-202">The certificate must meet the following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="b1c9e-203">Il certificato deve includere una chiave privata.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-203">The certificate must contain a private key.</span></span>
-   <span data-ttu-id="b1c9e-204">Il certificato deve essere stato creato per lo scambio di chiave, esportabile in un file con estensione pfx (Personal Information Exchange).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-204">The certificate must be created for key exchange, exportable to a Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="b1c9e-205">Il nome del soggetto del certificato deve corrispondere al dominio usato per accedere al servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-205">The certificate's subject name must match the domain used to access the cloud service.</span></span> <span data-ttu-id="b1c9e-206">Non è possibile ottenere un certificato SSL da un'Autorità di certificazione (CA) per il dominio cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-206">You cannot obtain an SSL certificate from a certificate authority (CA) for the cloudapp.net domain.</span></span> <span data-ttu-id="b1c9e-207">È necessario acquistare un nome di dominio personalizzato da utilizzare per accedere al servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-207">You must acquire a custom domain name to use when access your service.</span></span> <span data-ttu-id="b1c9e-208">Quando si richiede un certificato da una CA, il nome del soggetto del certificato deve corrispondere al nome di dominio personalizzato utilizzato per accedere all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-208">When you request a certificate from a CA, the certificate's subject name must match the custom domain name used to access your application.</span></span> <span data-ttu-id="b1c9e-209">Se ad esempio il nome di dominio personalizzato è contoso.com, occorre richiedere alla CA un certificato per **.contoso.com** o **www.contoso.com.**</span><span class="sxs-lookup"><span data-stu-id="b1c9e-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="b1c9e-210">Per il certificato deve essere usata una crittografia di almeno 2048 bit.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-210">The certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="b1c9e-211">Il protocollo HTTP non è protetto ed è soggetto ad attacchi di intercettazione poiché i dati trasferiti dal Web browser al server Web o tra altri endpoint viene trasmesso in testo non crittografato.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-211">HTTP is insecure and is subject to eavesdropping attacks because the data being transferred from the web browser to the web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="b1c9e-212">Ciò significa che gli utenti malintenzionati possono intercettare e visualizzare i dati sensibili, ad esempio i dati della carta di credito e gli account di accesso.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="b1c9e-213">Quando i dati vengono inviati o pubblicati tramite un browser che usa il protocollo HTTPS, l'autenticazione SSL assicura che tali informazioni siano crittografate e protette da intercettazione.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="b1c9e-214">Per altre informazioni, vedere [Configurazione di SSL per un'applicazione in Azure](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-214">To learn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="b1c9e-215">Isolamento/sicurezza di rete con Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b1c9e-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="b1c9e-216">Usare il [modello di Azure Resource Manager (ARM)](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) come esempio per la configurazione di un cluster protetto a tre tipi di nodo e per controllare il traffico di rete in ingresso e in uscita tramite gruppi di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and to control the inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="b1c9e-217">Il modello dispone di un gruppo di sicurezza di rete per ogni set di scalabilità di macchine virtuali per controllare il traffico da e verso tali set.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-217">The template has a Network Security Group for each of the virtual machine scale set(VMSS) to control the traffic in and out of the VMSS.</span></span> <span data-ttu-id="b1c9e-218">Per impostazione predefinita, le regole vengono configurate per consentire tutto il traffico richiesto dai servizi di sistema e dalle porte delle applicazioni specificate nel modello.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-218">As a default, the rules are set up to allow all the traffic needed by the system services and the application ports specified in the template.</span></span> <span data-ttu-id="b1c9e-219">Rivedere tali regole e modificarle in base alle proprie esigenze, inclusa l'aggiunta di nuove regole per le applicazioni in uso.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-219">Review those rules and make changes to fit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="b1c9e-220">Per altre informazioni, vedere [Azure Service Fabric: Modelli di rete di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="b1c9e-221">Configurare un insieme di credenziali delle chiavi per la sicurezza</span><span class="sxs-lookup"><span data-stu-id="b1c9e-221">Set up a key vault for security</span></span>
<span data-ttu-id="b1c9e-222">I certificati vengono usati in Service Fabric per fornire l'autenticazione e la crittografia e proteggere i vari aspetti di un cluster e delle sue applicazioni.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-222">Certificates are used in Service Fabric to provide authentication and encryption to secure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="b1c9e-223">Service Fabric usa certificati X.509 per proteggere un cluster e fornire le funzionalità di sicurezza dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-223">Service Fabric uses X.509 certificates to secure a cluster and provide application security features.</span></span> <span data-ttu-id="b1c9e-224">Si usa Key Vault per [gestire i certificati](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) dei cluster di Service Fabric in Azure.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-224">You use Key Vault to [manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="b1c9e-225">Quando viene distribuito un cluster in Azure, il provider di risorse di Azure responsabile della creazione di cluster Service Fabric estrae i certificati da Key Vault e li installa nelle macchine virtuali del cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-225">When a cluster is deployed in Azure, the Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on the cluster VMs.</span></span>

<span data-ttu-id="b1c9e-226">La relazione tra [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), un cluster di Service Fabric e il provider di risorse di Azure che usa i certificati archiviati in un insieme di credenziali delle chiavi durante la creazione di un cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-226">The relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and the Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="b1c9e-227">**Creare un gruppo di risorse** Il primo passaggio consiste nel creare un gruppo di risorse specifico per l'insieme di credenziali delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-227">**Create a resource group** The first step is to create a resource group specifically for your key vault.</span></span> <span data-ttu-id="b1c9e-228">È consigliabile inserire l'insieme di credenziali delle chiavi in un proprio gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-228">We recommend that you put the key vault into its own resource group.</span></span> <span data-ttu-id="b1c9e-229">Questa azione consente di rimuovere i gruppi di risorse di calcolo e di archiviazione, incluso il gruppo di risorse contenente il cluster di Service Fabric, senza perdere le chiavi e i segreti.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-229">This action lets you remove the compute and storage resource groups, including the resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="b1c9e-230">Il gruppo di risorse che contiene l'insieme di credenziali delle chiavi deve essere situato nella stessa area del cluster che lo usa.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-230">The resource group that contains your key vault must be in the same region as the cluster that is using it.</span></span>

<span data-ttu-id="b1c9e-231">**Creare un insieme di credenziali delle chiavi nel nuovo gruppo di risorse** L'insieme di credenziali delle chiavi deve essere abilitato per la distribuzione per consentire al provider di risorse di calcolo di ottenere i certificati e installarli nelle istanze delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-231">**Create a key vault in the new resource group** The key vault must be enabled for deployment to allow the compute resource provider to get certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="b1c9e-232">Per altre informazioni su come configurare l'insieme di credenziali delle chiavi di Azure, vedere [Introduzione all'insieme di credenziali delle chiavi di Azure](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-232">To learn more how to set up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="b1c9e-233">Assegnare utenti ai ruoli</span><span class="sxs-lookup"><span data-stu-id="b1c9e-233">Assign users roles</span></span>
<span data-ttu-id="b1c9e-234">Dopo aver creato le applicazioni per rappresentare il cluster, assegnare gli utenti ai ruoli supportati da Service Fabric: sola lettura e amministratore. È possibile assegnare i ruoli usando il portale di Azure classico.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-234">After you have created the applications to represent your cluster, assign your users to the roles supported by Service Fabric: read-only and admin. You can assign the roles by using the Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="b1c9e-235">Per altre informazioni sui ruoli in Service Fabric, vedere [Controllo degli accessi in base al ruolo per i client di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="b1c9e-236">Azure Service Fabric supporta due tipi di controllo di accesso diversi per i client che sono connessi a un [cluster di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): amministratore e utente.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-236">Azure Service Fabric supports two different access control types for clients that are connected to a [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="b1c9e-237">Il Controllo di accesso consente all'amministratore del cluster di limitare l'accesso a determinate operazioni del cluster per diversi gruppi di utenti, rendendo più sicuro il cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c9e-237">Access control allows the cluster administrator to limit access to certain cluster operations for different groups of users, making the cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b1c9e-238">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="b1c9e-238">Next steps</span></span>
- <span data-ttu-id="b1c9e-239">Configurazione dell'[ambiente di sviluppo di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="b1c9e-240">Informazioni sulle [opzioni di supporto di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="b1c9e-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

