---
title: Versioni e cronologia degli schemi di configurazione dell'estensione di Diagnostica di Azure | Microsoft Docs
description: "Pertinenti per la raccolta di contatori delle prestazioni in Macchine virtuali, set di scalabilità di macchine virtuali di Microsoft Azur, Service Fabric e Servizi cloud di Azure."
services: monitoring-and-diagnostics
documentationcenter: .net
author: rboucher
manager: carmonm
editor: 
ms.assetid: 
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/16/2017
ms.author: robb
ms.openlocfilehash: 119e8a237f24cdc80a1ab8e376f2b308c9eada05
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="azure-diagnostics-extention-configuration-schema-versions-and-history"></a><span data-ttu-id="08976-103">Versioni e cronologia degli schemi di configurazione dell'estensione di Diagnostica di Azure</span><span class="sxs-lookup"><span data-stu-id="08976-103">Azure Diagnostics extention configuration schema versions and history</span></span>
<span data-ttu-id="08976-104">Questa pagina rappresenta l'indice delle versioni degli schemi di estensione di Diagnostica di Azure forniti con Microsoft Azure SDK.</span><span class="sxs-lookup"><span data-stu-id="08976-104">This page indexes Azure Diagnostics extension schema versions shipped as part of the Microsoft Azure SDK.</span></span>  

> [!NOTE]
> <span data-ttu-id="08976-105">Il componente estensione di Diagnostica di Azure viene usato per raccogliere i contatori delle prestazioni e altre statistiche da:</span><span class="sxs-lookup"><span data-stu-id="08976-105">The Azure Diagnostics extension is the component used to collect performance counters and other statistics from:</span></span>
> - <span data-ttu-id="08976-106">Macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="08976-106">Azure Virtual Machines</span></span> 
> - <span data-ttu-id="08976-107">Set di scalabilità di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="08976-107">Virtual Machine Scale Sets</span></span>
> - <span data-ttu-id="08976-108">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="08976-108">Service Fabric</span></span> 
> - <span data-ttu-id="08976-109">Servizi cloud</span><span class="sxs-lookup"><span data-stu-id="08976-109">Cloud Services</span></span> 
> - <span data-ttu-id="08976-110">Gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="08976-110">Network Security Groups</span></span>
> 
> <span data-ttu-id="08976-111">Questa pagina è utile solo se si usa uno di questi servizi.</span><span class="sxs-lookup"><span data-stu-id="08976-111">This page is only relevant if you are using one of these services.</span></span>

<span data-ttu-id="08976-112">L'estensione di Diagnostica di Azure viene usata con altri prodotti di diagnostica Microsoft, come Monitoraggio di Azure, Application Insights e Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="08976-112">The Azure Diagnostics extension is used with other Microsoft diagnostics products like Azure Monitor, Application Insights, and Log Analytics.</span></span> <span data-ttu-id="08976-113">Per altre informazioni vedere [Panoramica degli strumenti di monitoraggio Microsoft](monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="08976-113">For more information see [Microsoft Monitoring Tools Overview](monitoring-overview.md).</span></span>

## <a name="azure-sdk-and-diagnostics-versions-shipping-chart"></a><span data-ttu-id="08976-114">Grafico delle versioni fornite per Azure SDK e Diagnostica</span><span class="sxs-lookup"><span data-stu-id="08976-114">Azure SDK and diagnostics versions shipping chart</span></span>  

|<span data-ttu-id="08976-115">Versione di Azure SDK</span><span class="sxs-lookup"><span data-stu-id="08976-115">Azure SDK version</span></span> | <span data-ttu-id="08976-116">Versione dell'estensione di Diagnostica</span><span class="sxs-lookup"><span data-stu-id="08976-116">Diagnostics extension version</span></span> | <span data-ttu-id="08976-117">Modello</span><span class="sxs-lookup"><span data-stu-id="08976-117">Model</span></span>|  
|------------------|-------------------------------|------|  
|<span data-ttu-id="08976-118">1.x</span><span class="sxs-lookup"><span data-stu-id="08976-118">1.x</span></span>               |<span data-ttu-id="08976-119">1.0</span><span class="sxs-lookup"><span data-stu-id="08976-119">1.0</span></span>                            |<span data-ttu-id="08976-120">plug-in</span><span class="sxs-lookup"><span data-stu-id="08976-120">plug-in</span></span>|  
|<span data-ttu-id="08976-121">2.0 - 2.4</span><span class="sxs-lookup"><span data-stu-id="08976-121">2.0 - 2.4</span></span>         |<span data-ttu-id="08976-122">1.0</span><span class="sxs-lookup"><span data-stu-id="08976-122">1.0</span></span>                            |<span data-ttu-id="08976-123">plug-in</span><span class="sxs-lookup"><span data-stu-id="08976-123">plug-in</span></span>|  
|<span data-ttu-id="08976-124">2.5</span><span class="sxs-lookup"><span data-stu-id="08976-124">2.5</span></span>               |<span data-ttu-id="08976-125">1.2</span><span class="sxs-lookup"><span data-stu-id="08976-125">1.2</span></span>                            |<span data-ttu-id="08976-126">estensione</span><span class="sxs-lookup"><span data-stu-id="08976-126">extension</span></span>|  
|<span data-ttu-id="08976-127">2.6</span><span class="sxs-lookup"><span data-stu-id="08976-127">2.6</span></span>               |<span data-ttu-id="08976-128">1.3</span><span class="sxs-lookup"><span data-stu-id="08976-128">1.3</span></span>                            |<span data-ttu-id="08976-129">"</span><span class="sxs-lookup"><span data-stu-id="08976-129">"</span></span>|  
|<span data-ttu-id="08976-130">2.7</span><span class="sxs-lookup"><span data-stu-id="08976-130">2.7</span></span>               |<span data-ttu-id="08976-131">1.4</span><span class="sxs-lookup"><span data-stu-id="08976-131">1.4</span></span>                            |<span data-ttu-id="08976-132">"</span><span class="sxs-lookup"><span data-stu-id="08976-132">"</span></span>|  
|<span data-ttu-id="08976-133">2.8</span><span class="sxs-lookup"><span data-stu-id="08976-133">2.8</span></span>               |<span data-ttu-id="08976-134">1,5</span><span class="sxs-lookup"><span data-stu-id="08976-134">1.5</span></span>                            |<span data-ttu-id="08976-135">"</span><span class="sxs-lookup"><span data-stu-id="08976-135">"</span></span>|  
|<span data-ttu-id="08976-136">2,9</span><span class="sxs-lookup"><span data-stu-id="08976-136">2.9</span></span>               |<span data-ttu-id="08976-137">1.6</span><span class="sxs-lookup"><span data-stu-id="08976-137">1.6</span></span>                            |<span data-ttu-id="08976-138">"</span><span class="sxs-lookup"><span data-stu-id="08976-138">"</span></span>|
|<span data-ttu-id="08976-139">2.96</span><span class="sxs-lookup"><span data-stu-id="08976-139">2.96</span></span>              |<span data-ttu-id="08976-140">1.7</span><span class="sxs-lookup"><span data-stu-id="08976-140">1.7</span></span>                            |<span data-ttu-id="08976-141">"</span><span class="sxs-lookup"><span data-stu-id="08976-141">"</span></span>|
|<span data-ttu-id="08976-142">2.96</span><span class="sxs-lookup"><span data-stu-id="08976-142">2.96</span></span>              |<span data-ttu-id="08976-143">1.8</span><span class="sxs-lookup"><span data-stu-id="08976-143">1.8</span></span>                            |<span data-ttu-id="08976-144">"</span><span class="sxs-lookup"><span data-stu-id="08976-144">"</span></span>|
|<span data-ttu-id="08976-145">2.96</span><span class="sxs-lookup"><span data-stu-id="08976-145">2.96</span></span>              |<span data-ttu-id="08976-146">1.8.1</span><span class="sxs-lookup"><span data-stu-id="08976-146">1.8.1</span></span>                          |<span data-ttu-id="08976-147">"</span><span class="sxs-lookup"><span data-stu-id="08976-147">"</span></span>|
|<span data-ttu-id="08976-148">2.96</span><span class="sxs-lookup"><span data-stu-id="08976-148">2.96</span></span>              |<span data-ttu-id="08976-149">1.9</span><span class="sxs-lookup"><span data-stu-id="08976-149">1.9</span></span>                            |<span data-ttu-id="08976-150">"</span><span class="sxs-lookup"><span data-stu-id="08976-150">"</span></span>|



 <span data-ttu-id="08976-151">Diagnostica di Azure versione 1.0 era inizialmente disponibile in un modello plug-in, vale a dire che con l'installazione del pacchetto Azure SDK si otteneva la versione di Diagnostica di Azure disponibile al suo interno.</span><span class="sxs-lookup"><span data-stu-id="08976-151">Azure Diagnostics version 1.0 first shipped in a plug-in model -- meaning that when you installed the Azure SDK, you got the version of Azure diagnostics shipped with it.</span></span>  

 <span data-ttu-id="08976-152">A partire dall'SDK 2.5 (diagnostica versione 1.2) lo strumento Diagnostica di Azure è passata a un modello di estensione.</span><span class="sxs-lookup"><span data-stu-id="08976-152">Starting with SDK 2.5 (diagnostics version 1.2), Azure diagnostics went to an extension model.</span></span> <span data-ttu-id="08976-153">Gli strumenti per usare le nuove funzionalità erano disponibili solo nei pacchetti Azure SDK più recenti, ma qualsiasi servizio che usava Diagnostica di Azure prelevava la versione più recente direttamente da Azure.</span><span class="sxs-lookup"><span data-stu-id="08976-153">The tools to utilize new features were only available in newer Azure SDKs, but any service using Azure diagnostics would pick up the latest shipping version directly from Azure.</span></span> <span data-ttu-id="08976-154">Gli utenti che ancora usano SDK 2.5 caricano la versione più recente indicata nella tabella precedente, a prescindere dalla circostanza che usino o meno le funzionalità più recenti.</span><span class="sxs-lookup"><span data-stu-id="08976-154">For example, anyone still using SDK 2.5 would be loading the latest version shown in the previous table, regardless if they are using the newer features.</span></span>  

## <a name="schemas-index"></a><span data-ttu-id="08976-155">Indice degli schemi</span><span class="sxs-lookup"><span data-stu-id="08976-155">Schemas index</span></span>  
<span data-ttu-id="08976-156">Versioni diverse di Diagnostica di Azure usano schemi di configurazione diversi.</span><span class="sxs-lookup"><span data-stu-id="08976-156">Different versions of Azure diagnostics use different configuration schemas.</span></span> 

[<span data-ttu-id="08976-157">Schema di configurazione di Diagnostica 1.0</span><span class="sxs-lookup"><span data-stu-id="08976-157">Diagnostics 1.0 Configuration Schema</span></span>](azure-diagnostics-schema-1dot0.md)  

[<span data-ttu-id="08976-158">Schema di configurazione di Diagnostica 1.2</span><span class="sxs-lookup"><span data-stu-id="08976-158">Diagnostics 1.2 Configuration Schema</span></span>](azure-diagnostics-schema-1dot2.md)  

[<span data-ttu-id="08976-159">Schema di configurazione di Diagnostica 1.3 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="08976-159">Diagnostics 1.3 and later Configuration Schema</span></span>](azure-diagnostics-schema-1dot3-and-later.md)  

## <a name="version-history"></a><span data-ttu-id="08976-160">Cronologia delle versioni</span><span class="sxs-lookup"><span data-stu-id="08976-160">Version history</span></span>


### <a name="diagnostics-extension-19"></a><span data-ttu-id="08976-161">Estensione di Diagnostica 1.9</span><span class="sxs-lookup"><span data-stu-id="08976-161">Diagnostics extension 1.9</span></span> 
<span data-ttu-id="08976-162">Aggiunta del supporto Docker.</span><span class="sxs-lookup"><span data-stu-id="08976-162">Added Docker support.</span></span>


### <a name="diagnostics-extension-181"></a><span data-ttu-id="08976-163">Estensione di Diagnostica 1.8.1</span><span class="sxs-lookup"><span data-stu-id="08976-163">Diagnostics extension 1.8.1</span></span> 
<span data-ttu-id="08976-164">Possibilità di specificare un token di firma di accesso condiviso anziché una chiave dell'account di archiviazione in PrivateConfig.</span><span class="sxs-lookup"><span data-stu-id="08976-164">Can specify a SAS token instead of a storage account key in the private config.</span></span> <span data-ttu-id="08976-165">Se viene fornito un token di firma di accesso condiviso, la chiave dell'account di archiviazione viene ignorata.</span><span class="sxs-lookup"><span data-stu-id="08976-165">If a SAS token is provided, the storage account key is ignored.</span></span>


```json
{
    "storageAccountName": "diagstorageaccount",
    "storageAccountEndPoint": "https://core.windows.net",
    "storageAccountSasToken": "{sas token}",
    "SecondaryStorageAccounts": {
        "StorageAccount": [
            {
                "name": "secondarydiagstorageaccount",
                "endpoint": "https://core.windows.net",
                "sasToken": "{sas token}"
            }
        ]
    }
}
```

```xml
<PrivateConfig>
    <StorageAccount name="diagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    <SecondaryStorageAccounts>
        <StorageAccount name="secondarydiagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    </SecondaryStorageAccounts>
</PrivateConfig>
```


### <a name="diagnostics-extension-18"></a><span data-ttu-id="08976-166">Estensione di Diagnostica 1.8</span><span class="sxs-lookup"><span data-stu-id="08976-166">Diagnostics extension 1.8</span></span> 
<span data-ttu-id="08976-167">Aggiunta del tipo di archiviazione in PublicConfig.</span><span class="sxs-lookup"><span data-stu-id="08976-167">Added Storage Type to PublicConfig.</span></span> <span data-ttu-id="08976-168">Il tipo di archiviazione può essere *Table*, *Blob* e *TableAndBlob*.</span><span class="sxs-lookup"><span data-stu-id="08976-168">StorageType can be *Table*, *Blob*, *TableAndBlob*.</span></span> <span data-ttu-id="08976-169">*Table* è l'impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="08976-169">*Table* is the default.</span></span>


```json
{
    "WadCfg": {
    },
    "StorageAccount": "diagstorageaccount",
    "StorageType": "TableAndBlob"
}
```

```xml
<PublicConfig>
    <WadCfg />
    <StorageAccount>diagstorageaccount</StorageAccount>
    <StorageType>TableAndBlob</StorageType>
</PublicConfig>
```


### <a name="diagnostics-extension-17"></a><span data-ttu-id="08976-170">Estensione di Diagnostica 1.7</span><span class="sxs-lookup"><span data-stu-id="08976-170">Diagnostics extension 1.7</span></span> 
<span data-ttu-id="08976-171">Aggiunta della possibilità di eseguire l'indirizzamento a EventHub.</span><span class="sxs-lookup"><span data-stu-id="08976-171">Added the ability to route to EventHub.</span></span>

### <a name="diagnostics-extension-15"></a><span data-ttu-id="08976-172">Estensione di Diagnostica 1.5</span><span class="sxs-lookup"><span data-stu-id="08976-172">Diagnostics extension 1.5</span></span>
<span data-ttu-id="08976-173">L'aggiunta dell'elemento sink e la possibilità di inviare dati di diagnostica ad [Application Insights](../application-insights/app-insights-cloudservices.md) semplificano la diagnosi dei problemi nell'intera applicazione, a livello di sistema e infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="08976-173">Added the sinks element and the ability to send diagnostics data to [Application Insights](../application-insights/app-insights-cloudservices.md) making it easier to diagnose issues across your application as well as the system and infrastructure level.</span></span>

### <a name="azure-sdk-26-and-diagnostics-extension-13"></a><span data-ttu-id="08976-174">Azure SDK 2.6 ed estensione di Diagnostica 1.3</span><span class="sxs-lookup"><span data-stu-id="08976-174">Azure SDK 2.6 and diagnostics extension 1.3</span></span> 
<span data-ttu-id="08976-175">Sono state apportate le modifiche seguenti ai progetti dei servizi cloud in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="08976-175">For Cloud Service projects in Visual Studio, the following changes were made.</span></span> <span data-ttu-id="08976-176">Queste modifiche sono applicabili anche alle versioni successive di Azure SDK.</span><span class="sxs-lookup"><span data-stu-id="08976-176">(These changes also apply to later versions of Azure SDK.)</span></span>

* <span data-ttu-id="08976-177">L'emulatore locale supporta ora la diagnostica.</span><span class="sxs-lookup"><span data-stu-id="08976-177">The local emulator now supports diagnostics.</span></span> <span data-ttu-id="08976-178">È quindi possibile raccogliere dati di diagnostica e assicurare che l'applicazione crei le tracce corrette durante lo sviluppo e il testing in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="08976-178">This means you can collect diagnostics data and ensure your application is creating the right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="08976-179">La stringa di connessione `UseDevelopmentStorage=true` abilita la raccolta di dati di diagnostica durante l'esecuzione del progetto servizio cloud in Visual Studio mediante l'emulatore di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="08976-179">The connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using the Azure storage emulator.</span></span> <span data-ttu-id="08976-180">Tutti i dati di diagnostica vengono raccolti nell'account di archiviazione (archivio di sviluppo).</span><span class="sxs-lookup"><span data-stu-id="08976-180">All diagnostics data is collected in the (Development Storage) storage account.</span></span>
* <span data-ttu-id="08976-181">La stringa di connessione dell'account di archiviazione di diagnostica (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) viene archiviata ancora una volta nel file di configurazione (.cscfg) del servizio.</span><span class="sxs-lookup"><span data-stu-id="08976-181">The diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in the service configuration (.cscfg) file.</span></span> <span data-ttu-id="08976-182">In Azure SDK 2.5 l'account di archiviazione di diagnostica viene specificato nel file diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="08976-182">In Azure SDK 2.5 the diagnostics storage account was specified in the diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="08976-183">Il funzionamento della stringa di connessione presenta alcune differenze sostanziali tra Azure SDK 2.4 e versioni precedenti e Azure SDK 2.6 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="08976-183">There are some notable differences between how the connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="08976-184">In Azure SDK 2.4 e versioni precedenti la stringa di connessione viene usata come runtime dal plug-in di diagnostica per ottenere le informazioni sull'account di archiviazione per il trasferimento dei log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="08976-184">In Azure SDK 2.4 and earlier, the connection string was used as a runtime by the diagnostics plugin to get the storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="08976-185">In Azure SDK 2.6 e versioni successive la stringa di connessione di diagnostica viene usata da Visual Studio per configurare l'estensione di diagnostica con le informazioni appropriate sull'account di archiviazione durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="08976-185">In Azure SDK 2.6 and later, the diagnostics connection string is used by Visual Studio to configure the diagnostics extension with the appropriate storage account information during publishing.</span></span> <span data-ttu-id="08976-186">La stringa di connessione consente di definire diversi account di archiviazione per diverse configurazioni del servizio, che verranno usate da Visual Studio durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="08976-186">The connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="08976-187">Poiché, tuttavia, il plug-in di diagnostica non è più disponibile (dopo Azure SDK 2.5), il solo file .cscfg non è in grado di abilitare l'estensione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="08976-187">However, because the diagnostics plugin is no longer available (after Azure SDK 2.5), the .cscfg file by itself can't enable the Diagnostics Extension.</span></span> <span data-ttu-id="08976-188">È necessario abilitare l'estensione separatamente tramite strumenti quali Visual Studio o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="08976-188">You have to enable the extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="08976-189">Per semplificare il processo di configurazione dell'estensione di diagnostica con PowerShell, l'output del pacchetto da Visual Studio contiene anche il codice XML di configurazione pubblica per l'estensione di diagnostica per ogni ruolo.</span><span class="sxs-lookup"><span data-stu-id="08976-189">To simplify the process of configuring the diagnostics extension with PowerShell, the package output from Visual Studio also contains the public configuration XML for the diagnostics extension for each role.</span></span> <span data-ttu-id="08976-190">Visual Studio usa la stringa di connessione di diagnostica per popolare le informazioni sull'account di archiviazione presenti nella configurazione pubblica.</span><span class="sxs-lookup"><span data-stu-id="08976-190">Visual Studio uses the diagnostics connection string to populate the storage account information present in the public configuration.</span></span> <span data-ttu-id="08976-191">I file di configurazione pubblica vengono creati nella cartella Extensions e seguono il modello PaaSDiagnostics<RoleName>.PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="08976-191">The public config files are created in the Extensions folder and follow the pattern PaaSDiagnostics.<RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="08976-192">Eventuali distribuzioni basate su PowerShell possono usare questo modello per il mapping di ogni configurazione a un ruolo.</span><span class="sxs-lookup"><span data-stu-id="08976-192">Any PowerShell based deployments can use this pattern to map each configuration to a Role.</span></span>
* <span data-ttu-id="08976-193">La stringa di connessione nel file .cscfg viene usata anche dal portale di Azure per accedere ai dati di diagnostica, per consentirne la visualizzazione nella scheda **Monitoraggio** .</span><span class="sxs-lookup"><span data-stu-id="08976-193">The connection string in the .cscfg file is also used by the Azure portal to access the diagnostics data so it can appear in the **Monitoring** tab.</span></span> <span data-ttu-id="08976-194">La stringa di connessione è necessaria per configurare il servizio, in modo da visualizzare i dati dettagliati del monitoraggio nel portale.</span><span class="sxs-lookup"><span data-stu-id="08976-194">The connection string is needed to configure the service to show verbose monitoring data in the portal.</span></span>

#### <a name="migrating-projects-to-azure-sdk-26-and-later"></a><span data-ttu-id="08976-195">Migrazione di progetti in Azure SDK 2.6 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="08976-195">Migrating projects to Azure SDK 2.6 and later</span></span>
<span data-ttu-id="08976-196">Quando si esegue la migrazione da Azure SDK 2.5 ad Azure SDK 2.6 o versioni successivi, eventuali account di archiviazione di diagnostica specificati nel file con estensione wadcfgx rimarranno in tale posizione.</span><span class="sxs-lookup"><span data-stu-id="08976-196">When migrating from Azure SDK 2.5 to Azure SDK 2.6 or later, if you had a diagnostics storage account specified in the .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="08976-197">Per sfruttare la flessibilità di utilizzo di account di archiviazione diversi per configurazioni di archiviazione diverse, è necessario aggiungere manualmente la stringa di connessione al progetto.</span><span class="sxs-lookup"><span data-stu-id="08976-197">To take advantage of the flexibility of using different storage accounts for different storage configurations, you'll have to manually add the connection string to your project.</span></span> <span data-ttu-id="08976-198">Se si sta eseguendo la migrazione di un progetto da Azure SDK 2.4 o versioni precedenti ad Azure SDK 2.6, le stringhe di connessione di diagnostica vengono mantenute.</span><span class="sxs-lookup"><span data-stu-id="08976-198">If you're migrating a project from Azure SDK 2.4 or earlier to Azure SDK 2.6, then the diagnostics connection strings are preserved.</span></span> <span data-ttu-id="08976-199">Occorre tuttavia notare le modifiche relative al modo in cui le stringhe di connessione vengono gestite in Azure SDK 2.6, come illustrato nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="08976-199">However, please note the changes in how connection strings are treated in Azure SDK 2.6 as specified in the previous section.</span></span>

#### <a name="how-visual-studio-determines-the-diagnostics-storage-account"></a><span data-ttu-id="08976-200">Modalità di determinazione dell'account di archiviazione di diagnostica da parte di Visual Studio</span><span class="sxs-lookup"><span data-stu-id="08976-200">How Visual Studio determines the diagnostics storage account</span></span>
* <span data-ttu-id="08976-201">Se nel file .cscfg viene specificata una stringa di connessione di diagnostica, Visual Studio la userà per configurare l'estensione di diagnostica durante la pubblicazione e durante la generazione dei file XML di configurazione pubblica nel corso della creazione dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="08976-201">If a diagnostics connection string is specified in the .cscfg file, Visual Studio uses it to configure the diagnostics extension when publishing, and when generating the public configuration xml files during packaging.</span></span>
* <span data-ttu-id="08976-202">Se nel file .cscfg non viene specificata alcuna stringa di connessione di diagnostica, Visual Studio userà di nuovo l'account di archiviazione specificato nel file con estensione wadcfgx per configurare l'estensione di diagnostica durante la pubblicazione e durante la generazione dei file XML di configurazione pubblica nel corso della creazione dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="08976-202">If no diagnostics connection string is specified in the .cscfg file, then Visual Studio falls back to using the storage account specified in the .wadcfgx file to configure the diagnostics extension when publishing, and generating the public configuration xml files when packaging.</span></span>
* <span data-ttu-id="08976-203">La stringa di connessione di diagnostica nel file .cscfg ha la priorità rispetto all'account di archiviazione specificato nel file con estensione wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="08976-203">The diagnostics connection string in the .cscfg file takes precedence over the storage account in the .wadcfgx file.</span></span> <span data-ttu-id="08976-204">Se nel file .cscfg viene specificata una stringa di connessione di diagnostica, Visual Studio userà tale stringa e ignorerà l'account di archiviazione specificato nel file con estensione wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="08976-204">If a diagnostics connection string is specified in the .cscfg file, then Visual Studio uses that and ignores the storage account in .wadcfgx.</span></span>

#### <a name="what-does-the-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="08976-205">Funzione della casella di controllo "Aggiorna le stringhe di connessione dell'archivio di sviluppo</span><span class="sxs-lookup"><span data-stu-id="08976-205">What does the "Update development storage connection strings…"</span></span> <span data-ttu-id="08976-206">…"</span><span class="sxs-lookup"><span data-stu-id="08976-206">checkbox do?</span></span>
<span data-ttu-id="08976-207">La casella di controllo **Aggiorna le stringhe di connessione dell'archivio di sviluppo per la diagnostica e la memorizzazione nella cache con le credenziali dell'account di archiviazione di Microsoft Azure quando si esegue la pubblicazione in Microsoft Azure** offre un modo semplice per aggiornare eventuali stringhe di connessione dell'account di archiviazione con l'account di archiviazione di Azure specificato durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="08976-207">The checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing to Microsoft Azure** gives you a convenient way to update any development storage account connection strings with the Azure storage account specified during publishing.</span></span>

<span data-ttu-id="08976-208">Ad esempio, si supponga di selezionare questa casella di controllo e che la stringa di connessione di diagnostica specifichi `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="08976-208">For example, suppose you select this checkbox and the diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="08976-209">Quando si pubblica il progetto in Azure, Visual Studio aggiornerà automaticamente la stringa di connessione di diagnostica con l'account di archiviazione specificato nella Pubblicazione guidata.</span><span class="sxs-lookup"><span data-stu-id="08976-209">When you publish the project to Azure, Visual Studio will automatically update the diagnostics connection string with the storage account you specified in the Publish wizard.</span></span> <span data-ttu-id="08976-210">Se, tuttavia, un account di archiviazione effettivo è stato specificato come stringa di connessione di diagnostica, verrà usato invece tale account.</span><span class="sxs-lookup"><span data-stu-id="08976-210">However, if a real storage account was specified as the diagnostics connection string, then that account is used instead.</span></span>

### <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="08976-211">Differenze della funzionalità di diagnostica tra Azure SDK 2.4 e versioni precedenti e Azure SDK 2.5 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="08976-211">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="08976-212">Se si aggiorna il progetto da Azure SDK 2.4 ad Azure SDK 2.5 o versioni successive, è consigliabile ricordare le differenze seguenti a livello di funzionalità di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="08976-212">If you're upgrading your project from Azure SDK 2.4 to Azure SDK 2.5 or later, you should bear in mind the following diagnostics functionality differences.</span></span>

* <span data-ttu-id="08976-213">**Le API di configurazione sono deprecate** : la configurazione a livello di codice della diagnostica è disponibile in Azure SDK 2.4 o versioni precedenti, ma è deprecata in Azure SDK 2.5 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="08976-213">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="08976-214">Se la configurazione di diagnostica è attualmente definita nel codice, sarà necessario riconfigurare completamente tali impostazioni nel progetto sottoposto a migrazione, in modo da mantenere il funzionamento della diagnostica.</span><span class="sxs-lookup"><span data-stu-id="08976-214">If your diagnostics configuration is currently defined in code, you'll need to reconfigure those settings from scratch in the migrated project in order for diagnostics to keep working.</span></span> <span data-ttu-id="08976-215">Il file di configurazione della diagnostica per Azure SDK 2.4 è diagnostics.wadcfg, mentre è diagnostics.wadcfgx per Azure SDK 2.5 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="08976-215">The diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="08976-216">**La diagnostica per le applicazioni del servizio cloud può essere configurata solo a livello di ruolo, non a livello di istanza.**</span><span class="sxs-lookup"><span data-stu-id="08976-216">**Diagnostics for cloud service applications can only be configured at the role level, not at the instance level.**</span></span>
* <span data-ttu-id="08976-217">**Ogni volta che si distribuisce l'app, le configurazioni di diagnostica vengono aggiornate** : ciò può provocare problemi di parità se si modifica la configurazione di diagnostica da Esplora server e quindi si ridistribuisce l'app.</span><span class="sxs-lookup"><span data-stu-id="08976-217">**Every time you deploy your app, the diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="08976-218">**In Azure SDK 2.5 e versioni successive i dump di arresto anomalo del sistema sono configurati nel file di configurazione, non nel codice** : se i dump di arresto anomalo del sistema sono configurati nel codice, sarà necessario trasferire manualmente la configurazione dal codice al file di configurazione, perché i dump di arresto anomalo del sistema non vengono trasferiti durante la migrazione in Azure SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="08976-218">**In Azure SDK 2.5 and later, crash dumps are configured in the diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have to manually transfer the configuration from code to the configuration file, because the crash dumps aren't transferred during the migration to Azure SDK 2.6.</span></span>

