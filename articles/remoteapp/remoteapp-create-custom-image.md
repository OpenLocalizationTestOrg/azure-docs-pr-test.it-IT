---
title: aaaHow toocreate un'immagine modello personalizzato per Azure RemoteApp | Documenti Microsoft
description: "Informazioni su come l'immagine toocreate un modello personalizzato per Azure RemoteApp. È possibile usare questo modello con una raccolta ibrida o cloud."
services: remoteapp
documentationcenter: 
author: msmbaldwin
manager: mbaldwin
editor: 
ms.assetid: b9ec5b51-f7cd-470b-8545-d0fd714c5982
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: 9e3a0b2d3cc56177ea51406e6cecfe19ff235340
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="how-toocreate-a-custom-template-image-for-azure-remoteapp"></a><span data-ttu-id="8ea31-104">Come l'immagine toocreate un modello personalizzato per Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="8ea31-104">How toocreate a custom template image for Azure RemoteApp</span></span>
> [!IMPORTANT]
> <span data-ttu-id="8ea31-105">Azure RemoteApp verrà sospeso a partire dal 31 agosto 2017.</span><span class="sxs-lookup"><span data-stu-id="8ea31-105">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="8ea31-106">Hello lettura [annuncio](https://go.microsoft.com/fwlink/?linkid=821148) per informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="8ea31-106">Read hello [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="8ea31-107">Azure RemoteApp utilizza un toohost immagine modello di Windows Server 2012 R2 tutti i programmi di hello che si desidera tooshare con gli utenti.</span><span class="sxs-lookup"><span data-stu-id="8ea31-107">Azure RemoteApp uses a Windows Server 2012 R2 template image toohost all hello programs that you want tooshare with your users.</span></span> <span data-ttu-id="8ea31-108">toocreate un'immagine modello RemoteApp personalizzata, è possibile iniziare con un'immagine esistente o crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="8ea31-108">toocreate a custom RemoteApp template image, you can start with an existing image or create a new one.</span></span> 

> [!TIP]
> <span data-ttu-id="8ea31-109">E’ possibile creare un'immagine da una macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="8ea31-109">Did you know you can create an image from an Azure VM?</span></span> <span data-ttu-id="8ea31-110">Storia true e consente di durata massima di hello e accetta tooimport hello immagine.</span><span class="sxs-lookup"><span data-stu-id="8ea31-110">True story, and it cuts down on hello amount of time it takes tooimport hello image.</span></span> <span data-ttu-id="8ea31-111">Controllare i passaggi di hello [qui](remoteapp-image-on-azurevm.md).</span><span class="sxs-lookup"><span data-stu-id="8ea31-111">Check out hello steps [here](remoteapp-image-on-azurevm.md).</span></span>
> 
> 

<span data-ttu-id="8ea31-112">i requisiti per l'immagine di hello che può essere caricato per l'utilizzo con Azure RemoteApp Hello sono:</span><span class="sxs-lookup"><span data-stu-id="8ea31-112">hello requirements for hello image that can be uploaded for use with Azure RemoteApp are:</span></span>

* <span data-ttu-id="8ea31-113">dimensioni dell'immagine Hello devono essere un multiplo del numero di MB.</span><span class="sxs-lookup"><span data-stu-id="8ea31-113">hello image size should be a multiple of MBs.</span></span> <span data-ttu-id="8ea31-114">Se si tenta di tooupload un'immagine che non è un multiplo esatto, caricamento hello avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="8ea31-114">If you try tooupload an image that is not an exact multiple, hello upload will fail.</span></span>
* <span data-ttu-id="8ea31-115">dimensioni dell'immagine Hello devono essere 127 GB o più piccoli.</span><span class="sxs-lookup"><span data-stu-id="8ea31-115">hello image size must be 127 GB or smaller.</span></span>
* <span data-ttu-id="8ea31-116">Deve essere inclusa in un file VHD (i file VHDX [dischi rigidi virtuali Hyper-V] non sono attualmente supportati).</span><span class="sxs-lookup"><span data-stu-id="8ea31-116">It must be on a VHD file (VHDX files [Hyper-V virtual hard drives] are not currently supported).</span></span>
* <span data-ttu-id="8ea31-117">Hello disco rigido virtuale non deve essere una macchina virtuale di generazione 2.</span><span class="sxs-lookup"><span data-stu-id="8ea31-117">hello VHD must not be a generation 2 virtual machine.</span></span>
* <span data-ttu-id="8ea31-118">è possibile Hello disco rigido virtuale a dimensione fissa o ad espansione dinamica.</span><span class="sxs-lookup"><span data-stu-id="8ea31-118">hello VHD can be either fixed-size or dynamically expanding.</span></span> <span data-ttu-id="8ea31-119">Un disco rigido virtuale ad espansione dinamica è consigliato perché richiede meno tooAzure tooupload tempo rispetto a un file di disco rigido virtuale a dimensione fissa.</span><span class="sxs-lookup"><span data-stu-id="8ea31-119">A dynamically expanding VHD is recommended because it takes less time tooupload tooAzure than a fixed-size VHD file.</span></span>
* <span data-ttu-id="8ea31-120">Hello disco deve essere inizializzato con stile di partizionamento hello il record di avvio principale (MBR, Master Boot Record).</span><span class="sxs-lookup"><span data-stu-id="8ea31-120">hello disk must be initialized using hello Master Boot Record (MBR) partitioning style.</span></span> <span data-ttu-id="8ea31-121">Hello stile di partizione GUID partizione GPT (tabella) non è supportata.</span><span class="sxs-lookup"><span data-stu-id="8ea31-121">hello GUID partition table (GPT) partition style is not supported.</span></span>
* <span data-ttu-id="8ea31-122">Hello VHD deve contenere una singola installazione di Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="8ea31-122">hello VHD must contain a single installation of Windows Server 2012 R2.</span></span> <span data-ttu-id="8ea31-123">Può contenere più volumi, ma solo uno che contiene un'installazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="8ea31-123">It can contain multiple volumes, but only one that contains an installation of Windows.</span></span>
* <span data-ttu-id="8ea31-124">ruolo di Hello sessione Desktop remoto Host () e funzionalità esperienza Desktop hello devono essere installati.</span><span class="sxs-lookup"><span data-stu-id="8ea31-124">hello Remote Desktop Session Host (RDSH) role and hello Desktop Experience feature must be installed.</span></span>
* <span data-ttu-id="8ea31-125">ruolo Gestore connessione Desktop remoto Hello deve *non* installato.</span><span class="sxs-lookup"><span data-stu-id="8ea31-125">hello Remote Desktop Connection Broker role must *not* be installed.</span></span>
* <span data-ttu-id="8ea31-126">Hello Encrypting File System (EFS) deve essere disabilitato.</span><span class="sxs-lookup"><span data-stu-id="8ea31-126">hello Encrypting File System (EFS) must be disabled.</span></span>
* <span data-ttu-id="8ea31-127">Hello immagine deve essere preparata con Sysprep utilizzando parametri hello **/oobe /generalize /shutdown** (non utilizzare hello **/mode: VM** parametro).</span><span class="sxs-lookup"><span data-stu-id="8ea31-127">hello image must be SYSPREPed using hello parameters **/oobe /generalize /shutdown** (DO NOT use hello **/mode:vm** parameter).</span></span>
* <span data-ttu-id="8ea31-128">Il caricamento del disco VHD da una catena di snapshot non è supportato.</span><span class="sxs-lookup"><span data-stu-id="8ea31-128">Uploading your VHD from a snapshot chain is not supported.</span></span>

<span data-ttu-id="8ea31-129">**Prima di iniziare**</span><span class="sxs-lookup"><span data-stu-id="8ea31-129">**Before you begin**</span></span>

<span data-ttu-id="8ea31-130">È necessario seguente hello toodo prima di creare il servizio hello:</span><span class="sxs-lookup"><span data-stu-id="8ea31-130">You need toodo hello following before creating hello service:</span></span>

* <span data-ttu-id="8ea31-131">[Iscriversi](https://azure.microsoft.com/services/remoteapp/) a RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8ea31-131">[Sign up](https://azure.microsoft.com/services/remoteapp/) for RemoteApp.</span></span>
* <span data-ttu-id="8ea31-132">Creare un account utente in Active Directory toouse come account del servizio RemoteApp hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-132">Create a user account in Active Directory toouse as hello RemoteApp service account.</span></span> <span data-ttu-id="8ea31-133">Limitare le autorizzazioni di hello per questo account in modo che questo può associarsi solo dominio toohello macchine.</span><span class="sxs-lookup"><span data-stu-id="8ea31-133">Restrict hello permissions for this account so that it can only join machines toohello domain.</span></span> <span data-ttu-id="8ea31-134">Per altre informazioni, vedere [Configurare Azure Active Directory per RemoteApp](remoteapp-ad.md) .</span><span class="sxs-lookup"><span data-stu-id="8ea31-134">See [Configure Azure Active Directory for RemoteApp](remoteapp-ad.md) for more information.</span></span>
* <span data-ttu-id="8ea31-135">Raccogliere informazioni sulla rete locale: informazioni sull'indirizzo IP e dettagli sul dispositivo VPN.</span><span class="sxs-lookup"><span data-stu-id="8ea31-135">Gather information about your on-premises network: IP address information and VPN device details.</span></span>
* <span data-ttu-id="8ea31-136">Installare hello [Azure PowerShell](/powershell/azure/overview) modulo.</span><span class="sxs-lookup"><span data-stu-id="8ea31-136">Install hello [Azure PowerShell](/powershell/azure/overview) module.</span></span>
* <span data-ttu-id="8ea31-137">Raccogliere informazioni sugli utenti hello che si desidera accedere toogrant a.</span><span class="sxs-lookup"><span data-stu-id="8ea31-137">Gather information about hello users that you want toogrant access to.</span></span> <span data-ttu-id="8ea31-138">Le informazioni possono essere relative all'account Microsoft o all'account di lavoro Active Directory per gli utenti.</span><span class="sxs-lookup"><span data-stu-id="8ea31-138">This can be either Microsoft account information or Active Directory work account information for users.</span></span>

## <a name="create-a-template-image"></a><span data-ttu-id="8ea31-139">Creazione di un'immagine modello</span><span class="sxs-lookup"><span data-stu-id="8ea31-139">Create a template image</span></span>
<span data-ttu-id="8ea31-140">Di seguito vengono hello passaggi di alto livello toocreate una nuova immagine modello da zero.</span><span class="sxs-lookup"><span data-stu-id="8ea31-140">These are hello high level steps toocreate a new template image from scratch:</span></span>

1. <span data-ttu-id="8ea31-141">Procurarsi un DVD o un'immagine ISO di Windows Server 2012 R2 Update.</span><span class="sxs-lookup"><span data-stu-id="8ea31-141">Locate a Windows Server 2012 R2 Update DVD or ISO image.</span></span>
2. <span data-ttu-id="8ea31-142">Creare un file VHD.</span><span class="sxs-lookup"><span data-stu-id="8ea31-142">Create a VHD file.</span></span>
3. <span data-ttu-id="8ea31-143">Installare Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="8ea31-143">Install Windows Server 2012 R2.</span></span>
4. <span data-ttu-id="8ea31-144">Installare il ruolo di sessione Desktop remoto Host () hello e la funzionalità esperienza Desktop hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-144">Install hello Remote Desktop Session Host (RDSH) role and hello Desktop Experience feature.</span></span>
5. <span data-ttu-id="8ea31-145">Installare funzionalità aggiuntive richieste dalle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="8ea31-145">Install additional features required by your applications.</span></span>
6. <span data-ttu-id="8ea31-146">Installare e configurare le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="8ea31-146">Install and configure your applications.</span></span> <span data-ttu-id="8ea31-147">app di condivisione toomake più semplice, aggiungere le app o i programmi che si desidera tooshare toohello **avviare** menu dell'immagine di hello, in particolare in **%systemdrive%\ProgramData\Microsoft\Windows\Start Avvio\Programmi.</span><span class="sxs-lookup"><span data-stu-id="8ea31-147">toomake sharing apps easier, add any apps or programs that you want tooshare toohello **Start** menu of hello image, specifically in **%systemdrive%\ProgramData\Microsoft\Windows\Start Menu\Programs.</span></span>
7. <span data-ttu-id="8ea31-148">Eseguire eventuali configurazioni aggiuntive di Windows richieste dalle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="8ea31-148">Perform any additional Windows configurations required by your applications.</span></span>
8. <span data-ttu-id="8ea31-149">Disabilitare hello Encrypting File System (EFS).</span><span class="sxs-lookup"><span data-stu-id="8ea31-149">Disable hello Encrypting File System (EFS).</span></span>
9. <span data-ttu-id="8ea31-150">**REQUIRED:** andare tooWindows Update e installare tutti gli aggiornamenti importanti.</span><span class="sxs-lookup"><span data-stu-id="8ea31-150">**REQUIRED:** Go tooWindows Update and install all important updates.</span></span>
10. <span data-ttu-id="8ea31-151">Immagine SYSPREP hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-151">SYSPREP hello image.</span></span>

<span data-ttu-id="8ea31-152">Hello sono procedure dettagliate per la creazione di una nuova immagine:</span><span class="sxs-lookup"><span data-stu-id="8ea31-152">hello detailed steps for creating a new image are:</span></span>

1. <span data-ttu-id="8ea31-153">Procurarsi un DVD o un'immagine ISO di Windows Server 2012 R2 Update.</span><span class="sxs-lookup"><span data-stu-id="8ea31-153">Locate a Windows Server 2012 R2 Update DVD or ISO image.</span></span>
2. <span data-ttu-id="8ea31-154">Creare un disco VHD usando Gestione disco.</span><span class="sxs-lookup"><span data-stu-id="8ea31-154">Create a VHD file by using Disk Management.</span></span>
   
   1. <span data-ttu-id="8ea31-155">Avviare Gestione disco (diskmgmt.msc).</span><span class="sxs-lookup"><span data-stu-id="8ea31-155">Launch Disk Management (diskmgmt.msc).</span></span>
   2. <span data-ttu-id="8ea31-156">Creare un file VHD a espansione dinamica di dimensioni non inferiori a 40 GB.</span><span class="sxs-lookup"><span data-stu-id="8ea31-156">Create a dynamically expanding VHD of 40 GB or more in size.</span></span> <span data-ttu-id="8ea31-157">(Stimare hello di spazio necessaria per Windows, le applicazioni e le personalizzazioni.</span><span class="sxs-lookup"><span data-stu-id="8ea31-157">(Estimate hello amount of space needed for Windows, your applications, and customizations.</span></span> <span data-ttu-id="8ea31-158">Windows Server con il ruolo di host sessione Desktop remoto hello e installata la funzionalità esperienza Desktop richiederà circa 10 GB di spazio).</span><span class="sxs-lookup"><span data-stu-id="8ea31-158">Windows Server with hello RDSH role and Desktop Experience feature installed will require about 10 GB of space).</span></span>
      
      1. <span data-ttu-id="8ea31-159">Fare clic su **Azione > Crea file VHD**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-159">Click **Action > Create VHD**.</span></span>
      2. <span data-ttu-id="8ea31-160">Specificare il percorso di hello, dimensioni e il formato di disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="8ea31-160">Specify hello location, size, and VHD format.</span></span> <span data-ttu-id="8ea31-161">Selezionare **A espansione dinamica**, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-161">Select **Dynamically expanding**, and then click **OK**.</span></span>
      
      <span data-ttu-id="8ea31-162">L'operazione dura alcuni secondi.</span><span class="sxs-lookup"><span data-stu-id="8ea31-162">This will run for several seconds.</span></span> <span data-ttu-id="8ea31-163">Una volta completato hello creazione del disco rigido virtuale, verrà visualizzato un nuovo disco senza qualsiasi lettera di unità e nello stato "Non inizializzato" nella console Gestione disco hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-163">When hello VHD creation is complete, you should see a new disk without any drive letter and in “Not initialized" state in hello Disk Management console.</span></span>
      
      * <span data-ttu-id="8ea31-164">Fare doppio clic su disco hello (non lo spazio non allocato hello) e quindi fare clic su **Inizializza disco**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-164">Right-click hello disk (not hello unallocated space), and then click **Initialize Disk**.</span></span> <span data-ttu-id="8ea31-165">Selezionare **MBR** (Master Boot Record) come stile di partizione hello e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-165">Select **MBR** (Master Boot Record) as hello partition style, and then click **OK**.</span></span>
      * <span data-ttu-id="8ea31-166">Creare un nuovo volume: destro hello spazio non allocato e quindi fare clic su **nuovo Volume semplice**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-166">Create a new volume: right-click hello unallocated space, and then click **New Simple Volume**.</span></span> <span data-ttu-id="8ea31-167">È possibile accettare le impostazioni predefinite nella procedura guidata hello hello, ma assicurarsi di assegnare un potenziali problemi tooavoid lettera unità quando si carica l'immagine modello hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-167">You can accept hello defaults in hello wizard, but make sure you assign a drive letter tooavoid potential problems when you upload hello template image.</span></span>
      * <span data-ttu-id="8ea31-168">Fare doppio clic su disco hello e quindi fare clic su **Scollega file VHD**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-168">Right-click hello disk, and then click **Detach VHD**.</span></span>
3. <span data-ttu-id="8ea31-169">Installare Windows Server 2012 R2:</span><span class="sxs-lookup"><span data-stu-id="8ea31-169">Install Windows Server 2012 R2:</span></span>
   
   1. <span data-ttu-id="8ea31-170">Creare una nuova macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="8ea31-170">Create a new virtual machine.</span></span> <span data-ttu-id="8ea31-171">Utilizzare Creazione guidata macchina virtuale in Hyper-V Manager o Client Hyper-V hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-171">Use hello New Virtual Machine Wizard in Hyper-V Manager or Client Hyper-V.</span></span>
      1. <span data-ttu-id="8ea31-172">Nella pagina Impostazione generazione hello scegliere **generazione 1**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-172">On hello Specify Generation page, choose  **Generation 1**.</span></span>
      2. <span data-ttu-id="8ea31-173">Nella pagina Connessione disco rigido virtuale hello selezionare **utilizzare un disco rigido virtuale esistente**e passare toohello disco rigido virtuale creato nel passaggio precedente hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-173">On hello Connect Virtual Hard Disk page, select **Use an existing virtual hard disk**, and browse toohello VHD you created in hello previous step.</span></span>
      3. <span data-ttu-id="8ea31-174">Nella pagina Opzioni di installazione hello selezionare **installa un sistema operativo da un CD/DVD_ROM**, quindi selezionare il percorso di hello del supporto di installazione di Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="8ea31-174">On hello Installation Options page, select **Install an operating system from a boot CD/DVD_ROM**, and then select hello location of your Windows Server 2012 R2 installation media.</span></span>
      4. <span data-ttu-id="8ea31-175">Scegliere altre opzioni di hello guidata necessarie tooinstall Windows e le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="8ea31-175">Choose other options in hello wizard necessary tooinstall Windows and your applications.</span></span> <span data-ttu-id="8ea31-176">Completare la procedura guidata hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-176">Finish hello wizard.</span></span>
   2. <span data-ttu-id="8ea31-177">Al termine della procedura guidata hello, modificare le impostazioni di hello della macchina virtuale hello e apportare altre modifiche necessarie tooinstall Windows e i programmi, ad esempio il numero di hello di processori virtuali e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-177">After hello wizard finishes, edit hello settings of hello virtual machine and make any other changes necessary tooinstall Windows and your programs, such as hello number of virtual processors, and then click **OK**.</span></span>
   3. <span data-ttu-id="8ea31-178">Connettere la macchina virtuale di toohello e installare Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="8ea31-178">Connect toohello virtual machine and install Windows Server 2012 R2.</span></span>
4. <span data-ttu-id="8ea31-179">Installare il ruolo di sessione Desktop remoto Host () hello e funzionalità esperienza Desktop hello:</span><span class="sxs-lookup"><span data-stu-id="8ea31-179">Install hello Remote Desktop Session Host (RDSH) role and hello Desktop Experience feature:</span></span>
   1. <span data-ttu-id="8ea31-180">Avviare Server Manager.</span><span class="sxs-lookup"><span data-stu-id="8ea31-180">Launch Server Manager.</span></span>
   2. <span data-ttu-id="8ea31-181">Fare clic su **Aggiungi ruoli e funzionalità** nella schermata iniziale di hello o da hello **Gestisci** menu.</span><span class="sxs-lookup"><span data-stu-id="8ea31-181">Click **Add Roles and features** on hello Welcome screen or from hello **Manage** menu.</span></span>
   3. <span data-ttu-id="8ea31-182">Fare clic su **Avanti** nella pagina prima di iniziare hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-182">Click **Next** on hello Before You Begin page.</span></span>
   4. <span data-ttu-id="8ea31-183">Selezionare **Installazione basata su ruoli o basata su funzionalità**, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-183">Select **Role-based or feature-based installation**, and then click **Next**.</span></span>
   5. <span data-ttu-id="8ea31-184">Selezionare macchina locale hello hello elenco e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-184">Select hello local machine from hello list, and then click **Next**.</span></span>
   6. <span data-ttu-id="8ea31-185">Selezionare **Servizi Desktop remoto** e fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-185">Select **Remote Desktop Services**, and then click **Next**.</span></span>
   7. <span data-ttu-id="8ea31-186">Espandere **Interfacce utente e infrastruttura** e selezionare **Esperienza desktop**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-186">Expand **User Interfaces and Infrastructure** and select **Desktop Experience**.</span></span>
   8. <span data-ttu-id="8ea31-187">Fare clic su **Aggiungi funzionalità** e quindi su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-187">Click **Add Features**, and then click **Next**.</span></span>
   9. <span data-ttu-id="8ea31-188">Nella pagina di hello Servizi Desktop remoto, fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-188">On hello Remote Desktop Services page, click **Next**.</span></span>
   10. <span data-ttu-id="8ea31-189">Fare clic su **Host sessione Desktop remoto**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-189">Click **Remote Desktop Session Host**.</span></span>
   11. <span data-ttu-id="8ea31-190">Fare clic su **Aggiungi funzionalità** e quindi su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-190">Click **Add Features**, and then click **Next**.</span></span>
   12. <span data-ttu-id="8ea31-191">Nella pagina hello Conferma selezioni per l'installazione, selezionare **riavvio del server di destinazione hello automaticamente se necessario**, quindi fare clic su **Sì** hello riavvio avviso.</span><span class="sxs-lookup"><span data-stu-id="8ea31-191">On hello Confirm installation selections page, select **Restart hello destination server automatically if required**, and then click **Yes** on hello restart warning.</span></span>
   13. <span data-ttu-id="8ea31-192">Fare clic su **Installa**.</span><span class="sxs-lookup"><span data-stu-id="8ea31-192">Click **Install**.</span></span> <span data-ttu-id="8ea31-193">Hello computer verrà riavviato.</span><span class="sxs-lookup"><span data-stu-id="8ea31-193">hello computer will restart.</span></span>
5. <span data-ttu-id="8ea31-194">Installare funzionalità aggiuntive richieste dalle applicazioni, ad esempio hello .NET Framework 3.5.</span><span class="sxs-lookup"><span data-stu-id="8ea31-194">Install additional features required by your applications, such as hello .NET Framework 3.5.</span></span> <span data-ttu-id="8ea31-195">funzionalità di hello tooinstall, eseguire hello Aggiunta guidata ruoli e funzionalità.</span><span class="sxs-lookup"><span data-stu-id="8ea31-195">tooinstall hello features, run hello Add Roles and Features Wizard.</span></span>
6. <span data-ttu-id="8ea31-196">Installare e configurare i programmi hello e applicazioni da toopublish tramite RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8ea31-196">Install and configure hello programs and applications you want toopublish through RemoteApp.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8ea31-197">Installare il ruolo di host sessione Desktop remoto hello prima di installare applicazioni tooensure che vengano rilevati problemi relativi alla compatibilità delle applicazioni prima immagine hello è caricato tooRemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8ea31-197">Install hello RDSH role before installing applications tooensure that any issues with application compatibility are discovered before hello image is uploaded tooRemoteApp.</span></span>
> 
> <span data-ttu-id="8ea31-198">Verificare che un'applicazione tooyour di scelta rapida (**lnk** file) viene visualizzata in hello **avviare** menu per tutti gli utenti (%systemdrive%\ProgramData\Microsoft\Windows\Start Avvio\Programmi).</span><span class="sxs-lookup"><span data-stu-id="8ea31-198">Make sure a shortcut tooyour application (**.lnk** file) appears in hello **Start** menu for all users (%systemdrive%\ProgramData\Microsoft\Windows\Start Menu\Programs).</span></span> <span data-ttu-id="8ea31-199">Verificare inoltre che icona hello viene visualizzato in hello **avviare** menu sia quella desiderata toosee gli utenti.</span><span class="sxs-lookup"><span data-stu-id="8ea31-199">Also ensure that hello icon you see in hello **Start** menu is what you want users toosee.</span></span> <span data-ttu-id="8ea31-200">In caso contrario, modificarla</span><span class="sxs-lookup"><span data-stu-id="8ea31-200">If not, change it.</span></span> <span data-ttu-id="8ea31-201">(Non *hanno* menu Start di tooadd hello applicazione toohello, ma rende di molto più semplice applicazione hello toopublish in RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8ea31-201">(You do not *have* tooadd hello application toohello Start menu, but it makes it much easier toopublish hello application in RemoteApp.</span></span> <span data-ttu-id="8ea31-202">In caso contrario, è tooprovide hello percorso di installazione hello applicazione quando si pubblica l'applicazione hello.)</span><span class="sxs-lookup"><span data-stu-id="8ea31-202">Otherwise, you have tooprovide hello installation path for hello application when you publish hello app.)</span></span>
> 
> 

1. <span data-ttu-id="8ea31-203">Eseguire eventuali configurazioni aggiuntive di Windows richieste dalle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="8ea31-203">Perform any additional Windows configurations required by your applications.</span></span>
2. <span data-ttu-id="8ea31-204">Disabilitare hello Encrypting File System (EFS).</span><span class="sxs-lookup"><span data-stu-id="8ea31-204">Disable hello Encrypting File System (EFS).</span></span> <span data-ttu-id="8ea31-205">Eseguire hello seguente comando in una finestra di comando con privilegi elevati:</span><span class="sxs-lookup"><span data-stu-id="8ea31-205">Run hello following command at an elevated command window:</span></span>
   
     <span data-ttu-id="8ea31-206">Fsutil behavior set disableencryption 1</span><span class="sxs-lookup"><span data-stu-id="8ea31-206">Fsutil behavior set disableencryption 1</span></span>
   
   <span data-ttu-id="8ea31-207">In alternativa, è possibile impostare o aggiungere hello il valore DWORD nel Registro di sistema hello seguente:</span><span class="sxs-lookup"><span data-stu-id="8ea31-207">Alternatively, you can set or add hello following DWORD value in hello registry:</span></span>
   
     <span data-ttu-id="8ea31-208">HKLM\System\CurrentControlSet\Control\FileSystem\NtfsDisableEncryption = 1</span><span class="sxs-lookup"><span data-stu-id="8ea31-208">HKLM\System\CurrentControlSet\Control\FileSystem\NtfsDisableEncryption = 1</span></span>
3. <span data-ttu-id="8ea31-209">Se si compila l'immagine all'interno di una macchina virtuale di Azure, rinominare hello  **\%windir%\Panther\Unattend.xml** file script di caricamento hello utilizzato in un secondo momento da in corso verrà bloccata.</span><span class="sxs-lookup"><span data-stu-id="8ea31-209">If you are building your image inside an Azure virtual machine, rename hello **\%windir%\Panther\Unattend.xml** file, as this will block hello upload script used later from working.</span></span> <span data-ttu-id="8ea31-210">Modificare il nome di hello del tooUnattend.old file in modo che il file hello sarà comunque necessario nel caso in cui è necessario toorevert la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="8ea31-210">Change hello name of this file tooUnattend.old so that you will still have hello file in case you need toorevert your deployment.</span></span>
4. <span data-ttu-id="8ea31-211">Andare tooWindows Update e installare tutti gli aggiornamenti importanti.</span><span class="sxs-lookup"><span data-stu-id="8ea31-211">Go tooWindows Update and install all important updates.</span></span> <span data-ttu-id="8ea31-212">Potrebbe essere necessario toorun Windows Update più volte tooget tutti gli aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="8ea31-212">You might need toorun Windows Update multiple times tooget all updates.</span></span> <span data-ttu-id="8ea31-213">(a volte un aggiornamento installato richiede a sua volta un aggiornamento).</span><span class="sxs-lookup"><span data-stu-id="8ea31-213">(Sometimes you install an update, and that update itself requires an update.)</span></span>
5. <span data-ttu-id="8ea31-214">Immagine SYSPREP hello.</span><span class="sxs-lookup"><span data-stu-id="8ea31-214">SYSPREP hello image.</span></span> <span data-ttu-id="8ea31-215">Al prompt dei comandi con privilegi elevati eseguire hello comando seguente:</span><span class="sxs-lookup"><span data-stu-id="8ea31-215">At an elevated command prompt, run hello following command:</span></span>
   
   <span data-ttu-id="8ea31-216">**C:\Windows\System32\sysprep\sysprep.exe /generalize /oobe /shutdown**</span><span class="sxs-lookup"><span data-stu-id="8ea31-216">**C:\Windows\System32\sysprep\sysprep.exe /generalize /oobe /shutdown**</span></span>
   
   <span data-ttu-id="8ea31-217">**Nota:** non utilizzano hello **/mode: VM** commutatore di hello SYSPREP comando anche se si tratta di una macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="8ea31-217">**Note:** Do not use hello **/mode:vm** switch of hello SYSPREP command even though this is a virtual machine.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8ea31-218">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="8ea31-218">Next steps</span></span>
<span data-ttu-id="8ea31-219">Dopo aver creato l'immagine modello personalizzato, è necessario tooupload che tooyour immagine raccolta RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8ea31-219">Now that you have your custom template image, you need tooupload that image tooyour RemoteApp collection.</span></span> <span data-ttu-id="8ea31-220">La raccolta di, utilizzare informazioni hello in hello toocreate gli articoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="8ea31-220">Use hello information in hello following articles toocreate your collection:</span></span>

* [<span data-ttu-id="8ea31-221">Come toocreate una raccolta ibrida di RemoteApp</span><span class="sxs-lookup"><span data-stu-id="8ea31-221">How toocreate a hybrid collection of RemoteApp</span></span>](remoteapp-create-hybrid-deployment.md)
* [<span data-ttu-id="8ea31-222">Come toocreate una raccolta di cloud di RemoteApp</span><span class="sxs-lookup"><span data-stu-id="8ea31-222">How toocreate a cloud collection of RemoteApp</span></span>](remoteapp-create-cloud-deployment.md)

