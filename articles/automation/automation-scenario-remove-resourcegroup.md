---
title: aaaAutomate la rimozione di gruppi di risorse | Documenti Microsoft
description: Versione del flusso di lavoro di PowerShell di uno scenario di automazione di Azure, inclusi i runbook tooremove gruppi di tutte le risorse nella sottoscrizione.
services: automation
documentationcenter: 
author: MGoedtel
manager: jwhit
editor: 
ms.assetid: b848e345-fd5d-4b9d-bc57-3fe41d2ddb5c
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 09/26/2016
ms.author: magoedte
ms.openlocfilehash: d7ff8064842385d57b0eebdf7b263150c958255f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automate-removal-of-resource-groups"></a><span data-ttu-id="30935-103">Scenario di Automazione di Azure: automatizzare la rimozione di gruppi di risorse</span><span class="sxs-lookup"><span data-stu-id="30935-103">Azure Automation scenario - automate removal of resource groups</span></span>
<span data-ttu-id="30935-104">Molti clienti creano più gruppi di risorse.</span><span class="sxs-lookup"><span data-stu-id="30935-104">Many customers create more than one resource group.</span></span> <span data-ttu-id="30935-105">Alcuni potrebbero essere usati per gestire applicazioni di produzione e altri come ambienti di sviluppo, test e staging.</span><span class="sxs-lookup"><span data-stu-id="30935-105">Some might be used for managing production applications, and others might be used as development, testing, and staging environments.</span></span> <span data-ttu-id="30935-106">L'automatizzazione della distribuzione hello di queste risorse è un aspetto, ma la toodecommission in grado di un gruppo di risorse con un clic del pulsante hello è un altro.</span><span class="sxs-lookup"><span data-stu-id="30935-106">Automating hello deployment of these resources is one thing, but being able toodecommission a resource group with a click of hello button is another.</span></span> <span data-ttu-id="30935-107">È possibile semplificare questa comune attività di gestione con Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="30935-107">You can streamline this common management task by using Azure Automation.</span></span> <span data-ttu-id="30935-108">Questo è utile se si lavora con una sottoscrizione di Azure che ha un limite di spesa tramite un'offerta di membro come MSDN o il programma Microsoft Partner Network Cloud Essentials hello.</span><span class="sxs-lookup"><span data-stu-id="30935-108">This is helpful if you are working with an Azure subscription that has a spending limit through a member offer like MSDN or hello Microsoft Partner Network Cloud Essentials program.</span></span>

<span data-ttu-id="30935-109">Questo scenario è basato su un runbook PowerShell ed è progettato tooremove uno o più gruppi di risorse specificato dalla sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="30935-109">This scenario is based on a PowerShell runbook and is designed tooremove one or more resource groups that you specify from your subscription.</span></span> <span data-ttu-id="30935-110">impostazione predefinita Hello runbook hello è tootest prima di procedere.</span><span class="sxs-lookup"><span data-stu-id="30935-110">hello default setting of hello runbook is tootest before proceeding.</span></span> <span data-ttu-id="30935-111">In questo modo si garantisce che non eliminate accidentalmente il gruppo di risorse hello prima si è pronti toocomplete questa procedura.</span><span class="sxs-lookup"><span data-stu-id="30935-111">This ensures that you don't accidentally delete hello resource group before you're ready toocomplete this procedure.</span></span>   

## <a name="getting-hello-scenario"></a><span data-ttu-id="30935-112">Scenario di recupero hello</span><span class="sxs-lookup"><span data-stu-id="30935-112">Getting hello scenario</span></span>
<span data-ttu-id="30935-113">Questo scenario è costituito da un runbook di PowerShell che è possibile scaricare da hello [PowerShell Gallery](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span><span class="sxs-lookup"><span data-stu-id="30935-113">This scenario consists of a PowerShell runbook that you can download from hello [PowerShell Gallery](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span></span> <span data-ttu-id="30935-114">È possibile anche importare direttamente da hello [raccolta Runbook](automation-runbook-gallery.md) in hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="30935-114">You can also import it directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal.</span></span><br><br>

| <span data-ttu-id="30935-115">Runbook</span><span class="sxs-lookup"><span data-stu-id="30935-115">Runbook</span></span> | <span data-ttu-id="30935-116">Descrizione</span><span class="sxs-lookup"><span data-stu-id="30935-116">Description</span></span> |
| --- | --- |
| <span data-ttu-id="30935-117">Remove-ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="30935-117">Remove-ResourceGroup</span></span> |<span data-ttu-id="30935-118">Rimuove uno o più gruppi di risorse di Azure e le risorse associate dalla sottoscrizione hello.</span><span class="sxs-lookup"><span data-stu-id="30935-118">Removes one or more Azure resource groups and associated resources from hello subscription.</span></span> |

<br>
<span data-ttu-id="30935-119">Hello seguenti parametri di input definito per questo runbook:</span><span class="sxs-lookup"><span data-stu-id="30935-119">hello following input parameters are defined for this runbook:</span></span>

| <span data-ttu-id="30935-120">.</span><span class="sxs-lookup"><span data-stu-id="30935-120">Parameter</span></span> | <span data-ttu-id="30935-121">Descrizione</span><span class="sxs-lookup"><span data-stu-id="30935-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="30935-122">NameFilter (obbligatorio)</span><span class="sxs-lookup"><span data-stu-id="30935-122">NameFilter (Required)</span></span> |<span data-ttu-id="30935-123">Specifica un nome filtro toolimit hello gruppi di risorse che si prevede l'eliminazione.</span><span class="sxs-lookup"><span data-stu-id="30935-123">Specifies a name filter toolimit hello resource groups that you intend on deleting.</span></span> <span data-ttu-id="30935-124">È possibile passare più valori usando un elenco delimitato da virgole.</span><span class="sxs-lookup"><span data-stu-id="30935-124">You can pass multiple values using a comma-separated list.</span></span><br><span data-ttu-id="30935-125">filtro di Hello non è tra maiuscole e minuscole e corrisponderà a qualsiasi gruppo di risorse che contiene la stringa hello.</span><span class="sxs-lookup"><span data-stu-id="30935-125">hello filter is not case-sensitive and will match any resource group that contains hello string.</span></span> |
| <span data-ttu-id="30935-126">PreviewMode (facoltativo)</span><span class="sxs-lookup"><span data-stu-id="30935-126">PreviewMode (Optional)</span></span> |<span data-ttu-id="30935-127">Esegue hello runbook toosee quali gruppi di risorse verranno eliminati, ma non esegue alcuna azione.</span><span class="sxs-lookup"><span data-stu-id="30935-127">Executes hello runbook toosee which resource groups would be deleted, but takes no action.</span></span><br><span data-ttu-id="30935-128">valore predefinito di Hello è **true** toohelp evitare l'eliminazione accidentale di uno o più gruppi di risorse passato toohello runbook.</span><span class="sxs-lookup"><span data-stu-id="30935-128">hello default is **true** toohelp avoid accidental deletion of one or more resource groups passed toohello runbook.</span></span> |

## <a name="install-and-configure-this-scenario"></a><span data-ttu-id="30935-129">Installare e configurare lo scenario</span><span class="sxs-lookup"><span data-stu-id="30935-129">Install and configure this scenario</span></span>
### <a name="prerequisites"></a><span data-ttu-id="30935-130">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="30935-130">Prerequisites</span></span>
<span data-ttu-id="30935-131">Questo runbook viene autenticato mediante hello [account RunAs di Azure](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="30935-131">This runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span>    

### <a name="install-and-publish-hello-runbooks"></a><span data-ttu-id="30935-132">Installare e pubblicare i runbook hello</span><span class="sxs-lookup"><span data-stu-id="30935-132">Install and publish hello runbooks</span></span>
<span data-ttu-id="30935-133">Dopo aver scaricato hello runbook, è possibile importare tramite la procedura hello in [l'importazione di runbook procedure](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span><span class="sxs-lookup"><span data-stu-id="30935-133">After you download hello runbook, you can import it by using hello procedure in [Importing runbook procedures](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span></span> <span data-ttu-id="30935-134">Pubblicare il runbook hello dopo essere stato importato correttamente nell'account di automazione.</span><span class="sxs-lookup"><span data-stu-id="30935-134">Publish hello runbook after it has been successfully imported into your Automation account.</span></span>

## <a name="using-hello-runbook"></a><span data-ttu-id="30935-135">Utilizzo di runbook hello</span><span class="sxs-lookup"><span data-stu-id="30935-135">Using hello runbook</span></span>
<span data-ttu-id="30935-136">Hello passaggi seguenti verranno illustrati esecuzione hello di questo runbook e la Guida che è acquisire familiarità con il funzionamento.</span><span class="sxs-lookup"><span data-stu-id="30935-136">hello following steps will walk you through hello execution of this runbook and help you become familiar with how it works.</span></span> <span data-ttu-id="30935-137">Si verrà solo test hello runbook in questo esempio, non effettivamente eliminazione gruppo di risorse hello.</span><span class="sxs-lookup"><span data-stu-id="30935-137">You will only be testing hello runbook in this example, not actually deleting hello resource group.</span></span>  

1. <span data-ttu-id="30935-138">Hello portale di Azure, aprire l'account di automazione e fare clic su **runbook**.</span><span class="sxs-lookup"><span data-stu-id="30935-138">From hello Azure portal, open your Automation account and click **Runbooks**.</span></span>
2. <span data-ttu-id="30935-139">Seleziona hello **Rimuovi gruppo di risorse** runbook e fare clic su **avviare**.</span><span class="sxs-lookup"><span data-stu-id="30935-139">Select hello **Remove-ResourceGroup** runbook and click **Start**.</span></span>
3. <span data-ttu-id="30935-140">Quando si avvia runbook hello, hello **avvia Runbook** pannello viene aperto ed è possibile configurare i parametri di hello.</span><span class="sxs-lookup"><span data-stu-id="30935-140">When you start hello runbook, hello **Start Runbook** blade opens and you can configure hello parameters.</span></span> <span data-ttu-id="30935-141">Immettere i nomi di hello di gruppi di risorse nella sottoscrizione che è possibile utilizzare per il testing e non genererà causa problemi se accidentalmente eliminato.</span><span class="sxs-lookup"><span data-stu-id="30935-141">Enter hello names of resource groups in your subscription that you can use for testing and will cause no harm if accidentally deleted.</span></span><br> <span data-ttu-id="30935-142">![Parametri di Remove-ResouceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span><span class="sxs-lookup"><span data-stu-id="30935-142">![Remove-ResouceGroup parameters](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span></span>

   > [!NOTE]
   > <span data-ttu-id="30935-143">Assicurarsi che **Previewmode** è troppo**true** tooavoid eliminazione hello selezionato di gruppi di risorse.</span><span class="sxs-lookup"><span data-stu-id="30935-143">Make sure **Previewmode** is set too**true** tooavoid deleting hello selected resource groups.</span></span>  <span data-ttu-id="30935-144">**Nota** questo runbook non rimuoverà i gruppo di risorse hello che contiene account di automazione hello che è in esecuzione il runbook.</span><span class="sxs-lookup"><span data-stu-id="30935-144">**Note** that this runbook will not remove hello resource group that contains hello Automation account that is running this runbook.</span></span>  
   >
   >
4. <span data-ttu-id="30935-145">Dopo aver configurato tutti i valori di parametro hello, fare clic su **OK**, e hello runbook verranno accodate per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="30935-145">After you have configured all hello parameter values, click **OK**, and hello runbook will be queued for execution.</span></span>  

<span data-ttu-id="30935-146">dettagli di hello tooview di hello **Rimuovi gruppo di risorse** processo del runbook nel portale di Azure selezionare hello **processi** hello runbook.</span><span class="sxs-lookup"><span data-stu-id="30935-146">tooview hello details of hello **Remove-ResourceGroup** runbook job in hello Azure portal, select **Jobs** in hello runbook.</span></span> <span data-ttu-id="30935-147">flusso inoltre Hello processo Visualizza riepilogo hello i parametri di input e output di hello toogeneral informazioni processo hello e tutte le eccezioni che si è verificato.</span><span class="sxs-lookup"><span data-stu-id="30935-147">hello job summary displays hello input parameters and hello output stream in addition toogeneral information about hello job and any exceptions that occurred.</span></span><br> <span data-ttu-id="30935-148">![Stato del processo del runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png)</span><span class="sxs-lookup"><span data-stu-id="30935-148">![Remove-ResourceGroup runbook job status](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span></span>

<span data-ttu-id="30935-149">Hello **riepilogo** include i messaggi da flussi di errore, avviso e di output di hello.</span><span class="sxs-lookup"><span data-stu-id="30935-149">hello **Job Summary** includes messages from hello output, warning, and error streams.</span></span> <span data-ttu-id="30935-150">Selezionare **Output** tooview dettagliate dei risultati dell'esecuzione di runbook hello.</span><span class="sxs-lookup"><span data-stu-id="30935-150">Select **Output** tooview detailed results from hello runbook execution.</span></span><br> <span data-ttu-id="30935-151">![Risultati di output del runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="30935-151">![Remove-ResourceGroup runbook output results](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span></span>

## <a name="next-steps"></a><span data-ttu-id="30935-152">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="30935-152">Next steps</span></span>
* <span data-ttu-id="30935-153">tooget cominciare a creare runbook, vedere [creazione o importazione di un runbook in automazione di Azure](automation-creating-importing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="30935-153">tooget started creating your own runbook, see [Creating or importing a runbook in Azure Automation](automation-creating-importing-runbook.md).</span></span>
* <span data-ttu-id="30935-154">tooget avviato con runbook del flusso di lavoro di PowerShell, vedere [il runbook del flusso di lavoro di PowerShell prima](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="30935-154">tooget started with PowerShell Workflow runbooks, see [My first PowerShell Workflow runbook](automation-first-runbook-textual.md).</span></span>
