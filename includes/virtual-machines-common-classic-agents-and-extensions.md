

<span data-ttu-id="b3094-101">Con le estensioni VM è possibile:</span><span class="sxs-lookup"><span data-stu-id="b3094-101">VM extensions can help you:</span></span>

* <span data-ttu-id="b3094-102">Modificare le funzionalità di sicurezza e identità, ad esempio la reimpostazione dei valori dell'account e l'uso di soluzioni antimalware.</span><span class="sxs-lookup"><span data-stu-id="b3094-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="b3094-103">Avviare, arrestare o configurare il monitoraggio e la diagnostica.</span><span class="sxs-lookup"><span data-stu-id="b3094-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="b3094-104">Reimpostare o installare funzionalità di connettività, ad esempio RDP e SSH.</span><span class="sxs-lookup"><span data-stu-id="b3094-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="b3094-105">Eseguire la diagnosi, il monitoraggio e la gestione delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="b3094-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="b3094-106">Sono disponibili anche molte altre funzionalità.</span><span class="sxs-lookup"><span data-stu-id="b3094-106">There are many other features as well.</span></span> <span data-ttu-id="b3094-107">Periodicamente vengono rilasciate nuove funzionalità delle estensioni VM.</span><span class="sxs-lookup"><span data-stu-id="b3094-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="b3094-108">Questo articolo descrive hello Azure VM agenti per Windows e Linux e modalità con cui supportano funzionalità di estensione della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3094-108">This article describes hello Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="b3094-109">Per un elenco di estensioni VM raggruppate per categoria di funzionalità, vedere [Estensioni e funzionalità delle macchine virtuali](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3094-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="b3094-110">Agenti VM di Azure per Windows e Linux</span><span class="sxs-lookup"><span data-stu-id="b3094-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="b3094-111">Hello agente di macchine virtuali di Azure (agente VM) è un processo protetto e leggero che installa, configura e rimuove estensioni VM su istanze di macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="b3094-111">hello Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="b3094-112">Agente VM Hello funge da servizio di controllo locale sicuro hello per la macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="b3094-112">hello VM Agent acts as hello secure local control service for your Azure VM.</span></span> <span data-ttu-id="b3094-113">estensioni Hello hello agente carica forniscono funzionalità specifiche tooincrease la produttività istanza hello.</span><span class="sxs-lookup"><span data-stu-id="b3094-113">hello extensions that hello agent loads provide specific features tooincrease your productivity using hello instance.</span></span>

<span data-ttu-id="b3094-114">Esistono due agenti VM di Azure, rispettivamente per le macchine virtuali Windows e Linux.</span><span class="sxs-lookup"><span data-stu-id="b3094-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="b3094-115">Se si desidera un toouse di istanza di macchina virtuale di una o più estensioni di macchina virtuale, istanza di hello deve essere un agente VM installato.</span><span class="sxs-lookup"><span data-stu-id="b3094-115">If you want a virtual machine instance toouse one or more VM extensions, hello instance must have an installed VM Agent.</span></span> <span data-ttu-id="b3094-116">Un'immagine di macchina virtuale creata utilizzando hello portale di Azure e un'immagine da hello **Marketplace** installa automaticamente un agente di macchine Virtuali nel processo di creazione hello.</span><span class="sxs-lookup"><span data-stu-id="b3094-116">A virtual machine image created by using hello Azure portal and an image from hello **Marketplace** automatically installs a VM Agent in hello creation process.</span></span> <span data-ttu-id="b3094-117">Se un'istanza di macchina virtuale non dispone di un agente di macchine Virtuali, è possibile installare hello agente VM dopo la creazione di istanza di macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="b3094-117">If a virtual machine instance lacks a VM Agent, you can install hello VM Agent after hello virtual machine instance is created.</span></span> <span data-ttu-id="b3094-118">In alternativa, è possibile installare l'agente di hello in un'immagine di macchina virtuale personalizzata da caricare.</span><span class="sxs-lookup"><span data-stu-id="b3094-118">Or, you can install hello agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b3094-119">Gli agenti VM sono servizi con requisiti di risorse limitati che consentono l'amministrazione protetta delle istanze di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="b3094-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="b3094-120">Ci sono casi in cui si desidera hello agente della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3094-120">There might be cases in which you do not want hello VM Agent.</span></span> <span data-ttu-id="b3094-121">In tal caso, in macchine virtuali di toocreate assicurarsi che non dispongono di hello agente VM installato con hello CLI di Azure o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b3094-121">If so, be sure toocreate VMs that do not have hello VM Agent installed using hello Azure CLI or PowerShell.</span></span> <span data-ttu-id="b3094-122">Sebbene hello agente della macchina virtuale può essere rimosso fisicamente, comportamento di hello delle estensioni VM nell'istanza di hello è definito.</span><span class="sxs-lookup"><span data-stu-id="b3094-122">Although hello VM Agent can be removed physically, hello behavior of VM Extensions on hello instance is undefined.</span></span> <span data-ttu-id="b3094-123">Di conseguenza, la rimozione di un agente VM installato non è supportata.</span><span class="sxs-lookup"><span data-stu-id="b3094-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="b3094-124">Hello agente della macchina virtuale è abilitata nella hello seguenti situazioni:</span><span class="sxs-lookup"><span data-stu-id="b3094-124">hello VM Agent is enabled in hello following situations:</span></span>

* <span data-ttu-id="b3094-125">Quando si crea un'istanza di una macchina virtuale utilizzando hello portale di Azure e selezionando un'immagine hello **Marketplace**,</span><span class="sxs-lookup"><span data-stu-id="b3094-125">When you create an instance of a VM by using hello Azure portal and selecting an image from hello **Marketplace**,</span></span>
* <span data-ttu-id="b3094-126">Quando si crea un'istanza di una macchina virtuale utilizzando hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) o hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b3094-126">When you create an instance of a VM by using hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="b3094-127">È possibile creare una macchina virtuale senza un agente di macchine Virtuali tramite l'aggiunta di hello **– DisableGuestAgent** parametro toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span><span class="sxs-lookup"><span data-stu-id="b3094-127">You can create a VM without a VM Agent by adding hello **–DisableGuestAgent** parameter toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="b3094-128">Quando si manualmente scaricare e installare hello agente della macchina virtuale in un'istanza di macchina virtuale esistente e impostare hello **ProvisionGuestAgent** valore troppo**true**.</span><span class="sxs-lookup"><span data-stu-id="b3094-128">When you manually download and install hello VM Agent on an existing VM instance, and set hello **ProvisionGuestAgent** value too**true**.</span></span> <span data-ttu-id="b3094-129">È possibile usare questa tecnica per gli agenti Windows e Linux tramite un comando di PowerShell o una chiamata REST.</span><span class="sxs-lookup"><span data-stu-id="b3094-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="b3094-130">(Se non si imposta hello **ProvisionGuestAgent** valore dopo l'installazione manuale agente VM, aggiunta di hello di hello agente della macchina virtuale non viene rilevata correttamente hello.) hello seguente esempio di codice viene illustrato come toodo questo utilizzo di PowerShell in cui hello `$svc` e `$name` sono già stati determinati argomenti:</span><span class="sxs-lookup"><span data-stu-id="b3094-130">(If you do not set hello **ProvisionGuestAgent** value after manually installing hello VM Agent, hello addition of hello VM Agent is not detected properly.) hello following code example shows how toodo this using PowerShell where hello `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="b3094-131">Quando si crea un'immagine di macchina virtuale che include un agente VM installato.</span><span class="sxs-lookup"><span data-stu-id="b3094-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="b3094-132">Una volta reso disponibile immagine hello con hello agente della macchina virtuale, è possibile caricare tale tooAzure immagine.</span><span class="sxs-lookup"><span data-stu-id="b3094-132">Once hello image with hello VM Agent exists, you can upload that image tooAzure.</span></span> <span data-ttu-id="b3094-133">Per una macchina virtuale di Windows, scaricare hello [file con estensione msi dell'agente VM di Windows](http://go.microsoft.com/fwlink/?LinkID=394789) e installare l'agente VM hello.</span><span class="sxs-lookup"><span data-stu-id="b3094-133">For a Windows VM, download hello [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install hello VM Agent.</span></span> <span data-ttu-id="b3094-134">Per una VM Linux, installare hello all'agente della macchina virtuale dal repository GitHub hello <https://github.com/Azure/WALinuxAgent>.</span><span class="sxs-lookup"><span data-stu-id="b3094-134">For a Linux VM, install hello VM Agent from hello GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="b3094-135">Per ulteriori informazioni su come tooinstall hello agente VM in Linux, vedere hello [Guida dell'utente dell'agente VM Linux Azure](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3094-135">For more information on how tooinstall hello VM Agent on Linux, see hello [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="b3094-136">Nelle soluzioni PaaS hello agente VM è denominato **WindowsAzureGuestAgent**ed è sempre disponibile sul Web e macchine virtuali di ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="b3094-136">In PaaS, hello VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="b3094-137">(Per ulteriori informazioni, vedere [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello agente della macchina virtuale per le macchine virtuali ruolo può ora aggiungere estensioni toohello cloud servizio macchine virtuali nel hello stesso modo in cui avviene per le macchine virtuali persistenti.</span><span class="sxs-lookup"><span data-stu-id="b3094-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello VM Agent for Role VMs can now add extensions toohello cloud service VMs in hello same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="b3094-138">Hello differenza principale tra le estensioni di macchina virtuale nel ruolo di macchine virtuali e macchine virtuali persistenti è quando vengono aggiunti le estensioni VM hello.</span><span class="sxs-lookup"><span data-stu-id="b3094-138">hello biggest difference between VM Extensions on role VMs and persistent VMs is when hello VM extensions are added.</span></span> <span data-ttu-id="b3094-139">Con ruolo di macchine virtuali, le estensioni vengono aggiunte primo servizio cloud toohello, quindi toohello distribuzioni all'interno di tale servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="b3094-139">With role VMs, extensions are added first toohello cloud service, then toohello deployments within that cloud service.</span></span>
>
> <span data-ttu-id="b3094-140">Utilizzare il [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) toolist cmdlet tutte le estensioni VM di ruolo disponibili.</span><span class="sxs-lookup"><span data-stu-id="b3094-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="b3094-141">Trovare, aggiungere, aggiornare e rimuovere estensioni VM</span><span class="sxs-lookup"><span data-stu-id="b3094-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="b3094-142">Per informazioni dettagliate sulle attività, vedere come [aggiungere, trovare, aggiornare e rimuovere estensioni di VM di Azure](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3094-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
