---
title: Linee guida per l'ottimizzazione delle prestazioni di MapReduce in Azure Data Lake Store | Microsoft Docs
description: Linee guida per l'ottimizzazione delle prestazioni di MapReduce in Azure Data Lake Store
services: data-lake-store
documentationcenter: 
author: stewu
manager: amitkul
editor: stewu
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 12/19/2016
ms.author: stewu
ms.openlocfilehash: 9528148792f083cb0e48d356e61cf61762ee954f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="performance-tuning-guidance-for-mapreduce-on-hdinsight-and-azure-data-lake-store"></a><span data-ttu-id="a98fd-103">Linee guida per l'ottimizzazione delle prestazioni di MapReduce in HDInsight e in Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="a98fd-103">Performance tuning guidance for MapReduce on HDInsight and Azure Data Lake Store</span></span>


## <a name="prerequisites"></a><span data-ttu-id="a98fd-104">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="a98fd-104">Prerequisites</span></span>

* <span data-ttu-id="a98fd-105">**Una sottoscrizione di Azure**.</span><span class="sxs-lookup"><span data-stu-id="a98fd-105">**An Azure subscription**.</span></span> <span data-ttu-id="a98fd-106">Vedere [Ottenere una versione di valutazione gratuita di Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="a98fd-106">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="a98fd-107">**Un account di Archivio Data Lake di Azure**.</span><span class="sxs-lookup"><span data-stu-id="a98fd-107">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="a98fd-108">Per istruzioni su come crearne uno, vedere [Introduzione ad Archivio Data Lake di Azure](data-lake-store-get-started-portal.md)</span><span class="sxs-lookup"><span data-stu-id="a98fd-108">For instructions on how to create one, see [Get started with Azure Data Lake Store](data-lake-store-get-started-portal.md)</span></span>
* <span data-ttu-id="a98fd-109">**Cluster Azure HDInsight** con accesso a un account di Archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="a98fd-109">**Azure HDInsight cluster** with access to a Data Lake Store account.</span></span> <span data-ttu-id="a98fd-110">Vedere [Creare un cluster HDInsight con Data Lake Store tramite il portale di Azure](data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="a98fd-110">See [Create an HDInsight cluster with Data Lake Store](data-lake-store-hdinsight-hadoop-use-portal.md).</span></span> <span data-ttu-id="a98fd-111">Assicurarsi di abilitare il Desktop remoto per il cluster.</span><span class="sxs-lookup"><span data-stu-id="a98fd-111">Make sure you enable Remote Desktop for the cluster.</span></span>
* <span data-ttu-id="a98fd-112">**Uso di MapReduce in HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="a98fd-112">**Using MapReduce on HDInsight**.</span></span>  <span data-ttu-id="a98fd-113">Per ulteriori informazioni, vedere [Usare MapReduce in Hadoop su HDInsight](https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-use-mapreduce)</span><span class="sxs-lookup"><span data-stu-id="a98fd-113">For more information, see [Use MapReduce in Hadoop on HDInsight](https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-use-mapreduce)</span></span>  
* <span data-ttu-id="a98fd-114">**Linee guida per l'ottimizzazione delle prestazioni in ADLS**.</span><span class="sxs-lookup"><span data-stu-id="a98fd-114">**Performance tuning guidelines on ADLS**.</span></span>  <span data-ttu-id="a98fd-115">Per i concetti generali relativi alle prestazioni, vedere [Linee guida per l'ottimizzazione delle prestazioni in Data Lake Store](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-performance-tuning-guidance)</span><span class="sxs-lookup"><span data-stu-id="a98fd-115">For general performance concepts, see [Data Lake Store Performance Tuning Guidance](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-performance-tuning-guidance)</span></span>  

## <a name="parameters"></a><span data-ttu-id="a98fd-116">parameters</span><span class="sxs-lookup"><span data-stu-id="a98fd-116">Parameters</span></span>

<span data-ttu-id="a98fd-117">Vengono ora illustrati i parametri più importanti da configurare per aumentare le prestazioni in ADLS durante l'esecuzione di processi MapReduce:</span><span class="sxs-lookup"><span data-stu-id="a98fd-117">When running MapReduce jobs, here are the most important parameters that you can configure to increase performance on ADLS:</span></span>

* <span data-ttu-id="a98fd-118">**Mapreduce.map.memory.mb**: la quantità di memoria da allocare a ciascun mapper</span><span class="sxs-lookup"><span data-stu-id="a98fd-118">**Mapreduce.map.memory.mb** – The amount of memory to allocate to each mapper</span></span>
* <span data-ttu-id="a98fd-119">**Mapreduce.job.maps**: il numero di attività di mapping per processo</span><span class="sxs-lookup"><span data-stu-id="a98fd-119">**Mapreduce.job.maps** – The number of map tasks per job</span></span>
* <span data-ttu-id="a98fd-120">**Mapreduce.reduce.memory.mb**: la quantità di memoria da allocare a ciascun riduttore</span><span class="sxs-lookup"><span data-stu-id="a98fd-120">**Mapreduce.reduce.memory.mb** – The amount of memory to allocate to each reducer</span></span>
* <span data-ttu-id="a98fd-121">**Mapreduce.job.reduces**: il numero di attività di riduzione per processo</span><span class="sxs-lookup"><span data-stu-id="a98fd-121">**Mapreduce.job.reduces** – The number of reduce tasks per job</span></span>

<span data-ttu-id="a98fd-122">**Mapreduce.map.memory / Mapreduce.reduce.memory**: numero da regolare in base alla quantità di memoria necessaria per le operazioni di mapping e/o riduzione.</span><span class="sxs-lookup"><span data-stu-id="a98fd-122">**Mapreduce.map.memory / Mapreduce.reduce.memory** This number should be adjusted based on how much memory is needed for the map and/or reduce task.</span></span>  <span data-ttu-id="a98fd-123">È possibile visualizzare i valori predefiniti di mapreduce.map.memory e mapreduce.reduce.memory in Ambari tramite la configurazione Yarn.</span><span class="sxs-lookup"><span data-stu-id="a98fd-123">The default values of mapreduce.map.memory and mapreduce.reduce.memory can be viewed in Ambari via the Yarn configuration.</span></span>  <span data-ttu-id="a98fd-124">In Ambari passare a YARN e visualizzare la scheda Configs (Configurazioni).</span><span class="sxs-lookup"><span data-stu-id="a98fd-124">In Ambari, navigate to YARN and view the Configs tab.</span></span>  <span data-ttu-id="a98fd-125">Viene visualizzata la memoria YARN.</span><span class="sxs-lookup"><span data-stu-id="a98fd-125">The YARN memory will be displayed.</span></span>  

<span data-ttu-id="a98fd-126">**Mapreduce.job.maps / Mapreduce.job.reduces** Ciò determinerà il numero massimo di mapper o riduttori da creare.</span><span class="sxs-lookup"><span data-stu-id="a98fd-126">**Mapreduce.job.maps / Mapreduce.job.reduces** This will determine the maximum number of mappers or reducers to be created.</span></span>  <span data-ttu-id="a98fd-127">Il numero di suddivisioni determinerà la quantità di mapper creati per il processo MapReduce.</span><span class="sxs-lookup"><span data-stu-id="a98fd-127">The number of splits will determine how many mappers will be created for the MapReduce job.</span></span>  <span data-ttu-id="a98fd-128">Pertanto, se ci sono meno suddivisioni rispetto ai mapper richiesti, si potrebbero ottenere meno mapper.</span><span class="sxs-lookup"><span data-stu-id="a98fd-128">Therefore, you may get less mappers than you requested if there are less splits than the number of mappers requested.</span></span>       

## <a name="guidance"></a><span data-ttu-id="a98fd-129">Indicazioni</span><span class="sxs-lookup"><span data-stu-id="a98fd-129">Guidance</span></span>

<span data-ttu-id="a98fd-130">**Passaggio 1: determinare il numero di processi in esecuzione.** Per impostazione predefinita, MapReduce userà l'intero cluster per il processo.</span><span class="sxs-lookup"><span data-stu-id="a98fd-130">**Step 1: Determine number of jobs running** - By default, MapReduce will use the entire cluster for your job.</span></span>  <span data-ttu-id="a98fd-131">È possibile usare solo parte del cluster usando un numero di mapper inferiore a quello dei contenitori disponibili.</span><span class="sxs-lookup"><span data-stu-id="a98fd-131">You can use less of the cluster by using less mappers than there are available containers.</span></span>  <span data-ttu-id="a98fd-132">Le indicazioni fornite in questo documento presuppongono che l'applicazione sia l'unica in esecuzione nel cluster.</span><span class="sxs-lookup"><span data-stu-id="a98fd-132">The guidance in this document assumes that your application is the only application running on your cluster.</span></span>      

<span data-ttu-id="a98fd-133">**Passaggio 2: impostare mapreduce.map.memory/mapreduce.reduce.memory**. Le dimensioni della memoria per le attività di mapping e riduzione dipenderanno dal processo specifico.</span><span class="sxs-lookup"><span data-stu-id="a98fd-133">**Step 2: Set mapreduce.map.memory/mapreduce.reduce.memory** –  The size of the memory for map and reduce tasks will be dependent on your specific job.</span></span>  <span data-ttu-id="a98fd-134">Se si desidera aumentare la concorrenza, è possibile ridurre le dimensioni della memoria.</span><span class="sxs-lookup"><span data-stu-id="a98fd-134">You can reduce the memory size if you want to increase concurrency.</span></span>  <span data-ttu-id="a98fd-135">Il numero di attività in esecuzione contemporaneamente dipende dal numero di contenitori.</span><span class="sxs-lookup"><span data-stu-id="a98fd-135">The number of concurrently running tasks depends on the number of containers.</span></span>  <span data-ttu-id="a98fd-136">Riducendo la quantità di memoria per ogni mapper o riduttore, verranno creati più contenitori, che permetteranno l'esecuzione simultanea di più mapper o riduttori.</span><span class="sxs-lookup"><span data-stu-id="a98fd-136">By decreasing the amount of memory per mapper or reducer, more containers can be created, which enable more mappers or reducers to run concurrently.</span></span>  <span data-ttu-id="a98fd-137">Riducendo eccessivamente la quantità di memoria, potranno verificarsi degli errori di memoria insufficiente per alcuni procesis.</span><span class="sxs-lookup"><span data-stu-id="a98fd-137">Decreasing the amount of memory too much may cause some processes to run out of memory.</span></span>  <span data-ttu-id="a98fd-138">Se si verifica un errore di heap durante l'esecuzione del processo, è necessario aumentare la memoria per ogni mapper o riduttore.</span><span class="sxs-lookup"><span data-stu-id="a98fd-138">If you get a heap error when running your job, you should increase the memory per mapper or reducer.</span></span>  <span data-ttu-id="a98fd-139">Si noti che l'aggiunta di contenitori può comportare un carico extra per ciascuno di questi ultimi, con una potenziale diminuzione delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a98fd-139">You should consider that adding more containers will add extra overhead for each additional container, which can potentially degrade performance.</span></span>  <span data-ttu-id="a98fd-140">In alternativa è possibile ottenere una maggiore quantità di memoria usando un cluster con maggiore memoria oppure aumentando il numero di nodi nel cluster.</span><span class="sxs-lookup"><span data-stu-id="a98fd-140">Another alternative is to get more memory by using a cluster that has higher amounts of memory or increasing the number of nodes in your cluster.</span></span>  <span data-ttu-id="a98fd-141">Una maggiore quantità di memoria consentirà di usare più contenitori, ottenendo così più concorrenza.</span><span class="sxs-lookup"><span data-stu-id="a98fd-141">More memory will enable more containers to be used, which means more concurrency.</span></span>  

<span data-ttu-id="a98fd-142">**Passaggio 3: determinare la memoria totale di YARN**. Per ottimizzare mapreduce.job.maps/mapreduce.job.reduces è necessario tenere presente la quantità di memoria totale di YARN disponibile all'uso.</span><span class="sxs-lookup"><span data-stu-id="a98fd-142">**Step 3: Determine Total YARN memory** - To tune mapreduce.job.maps/mapreduce.job.reduces, you should consider the amount of total YARN memory available for use.</span></span>  <span data-ttu-id="a98fd-143">Le informazioni sono disponibili in Ambari.</span><span class="sxs-lookup"><span data-stu-id="a98fd-143">This information is available in Ambari.</span></span>  <span data-ttu-id="a98fd-144">Passare a YARN e visualizzare la scheda Configs (Configurazioni).</span><span class="sxs-lookup"><span data-stu-id="a98fd-144">Navigate to YARN and view the Configs tab.</span></span>  <span data-ttu-id="a98fd-145">La memoria YARN è visualizzata in questa finestra.</span><span class="sxs-lookup"><span data-stu-id="a98fd-145">The YARN memory is displayed in this window.</span></span>  <span data-ttu-id="a98fd-146">Per ottenere la memoria totale di YARN, moltiplicare la memoria di YARN per il numero di nodi nel cluster.</span><span class="sxs-lookup"><span data-stu-id="a98fd-146">You should multiply the YARN memory with the number of nodes in your cluster to get the total YARN memory.</span></span>

    Total YARN memory = nodes * YARN memory per node
<span data-ttu-id="a98fd-147">Se si usa un cluster vuoto, la memoria può corrispondere alla memoria totale di YARN per il cluster.</span><span class="sxs-lookup"><span data-stu-id="a98fd-147">If you are using an empty cluster, then memory can be the total YARN memory for your cluster.</span></span>  <span data-ttu-id="a98fd-148">Se altre applicazioni stanno usando memoria, è possibile scegliere di usare solo parte della memoria del cluster, riducendo e portando il numero dei mapper o riduttori al numero di contenitori da usare.</span><span class="sxs-lookup"><span data-stu-id="a98fd-148">If other applications are using memory, then you can choose to only use a portion of your cluster’s memory by reducing the number of mappers or reducers to the number of containers you want to use.</span></span>  

<span data-ttu-id="a98fd-149">**Passaggio 4: calcolare il numero di contenitori YARN**. I contenitori YARN indicano la quantità di concorrenza disponibile per il processo.</span><span class="sxs-lookup"><span data-stu-id="a98fd-149">**Step 4: Calculate number of YARN containers** – YARN containers dictate the amount of concurrency available for the job.</span></span>  <span data-ttu-id="a98fd-150">Prendere il valore della memoria totale di YARN e dividerlo per mapreduce.map.memory.</span><span class="sxs-lookup"><span data-stu-id="a98fd-150">Take total YARN memory and divide that by mapreduce.map.memory.</span></span>  

    # of YARN containers = total YARN memory / mapreduce.map.memory

<span data-ttu-id="a98fd-151">**Passaggio 5: configurare mapreduce.job.maps/mapreduce.job.reduces** Configurare mapreduce.job.maps/mapreduce.job.reduces come minimo in base al numero di contenitori disponibili.</span><span class="sxs-lookup"><span data-stu-id="a98fd-151">**Step 5: Set mapreduce.job.maps/mapreduce.job.reduces** Set mapreduce.job.maps/mapreduce.job.reduces to at least the number of available containers.</span></span>  <span data-ttu-id="a98fd-152">È possibile sperimentare ulteriormente aumentando il numero di mapper e riduttori e verificare se così facendo si ottengono prestazioni migliori.</span><span class="sxs-lookup"><span data-stu-id="a98fd-152">You can experiment further by increasing the number of mappers and reducers to see if you get better performance.</span></span>  <span data-ttu-id="a98fd-153">Tenere presente comunque che l'aggiunta di mapper comporterà un carico extra. Un numero eccessivo di mapper potrà causare una diminuzione nelle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a98fd-153">Keep in mind that more mappers will have additional overhead so having too many mappers may degrade performance.</span></span>  

<span data-ttu-id="a98fd-154">La pianificazione e l'isolamento della CPU sono disattivate per impostazione predefinita, pertanto il numero di contenitori YARN è limitato dalla memoria.</span><span class="sxs-lookup"><span data-stu-id="a98fd-154">CPU scheduling and CPU isolation are turned off by default so the number of YARN containers is constrained by memory.</span></span>

## <a name="example-calculation"></a><span data-ttu-id="a98fd-155">Calcolo di esempio</span><span class="sxs-lookup"><span data-stu-id="a98fd-155">Example Calculation</span></span>

<span data-ttu-id="a98fd-156">Si supponga di disporre di un cluster costituito da 8 nodi D14 e di voler eseguire un processo con attività di I/O intensive.</span><span class="sxs-lookup"><span data-stu-id="a98fd-156">Let’s say you currently have a cluster composed of 8 D14 nodes and you want to run an I/O intensive job.</span></span>  <span data-ttu-id="a98fd-157">Di seguito sono riportati i calcoli che è necessario eseguire:</span><span class="sxs-lookup"><span data-stu-id="a98fd-157">Here are the calculations you should do:</span></span>

<span data-ttu-id="a98fd-158">**Passaggio 1: determinare il numero di processi in esecuzione**. Nell'esempio riportato si presuppone che il processo sia l'unico in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="a98fd-158">**Step 1: Determine number of jobs running** - for our example, we assume that our job is the only one running.</span></span>  

<span data-ttu-id="a98fd-159">**Passaggio 2: configurare mapreduce.map.memory/mapreduce.reduce.memory**. Nell'esempio riportato si esegue un processo con attività di I/O intensive e si decide che sono sufficienti 3 GB di memoria per le attività di mapping.</span><span class="sxs-lookup"><span data-stu-id="a98fd-159">**Step 2: Set mapreduce.map.memory/mapreduce.reduce.memory** – for our example, you are running an I/O intensive job and decide that 3GB of memory for map tasks will be sufficient.</span></span>

    mapreduce.map.memory = 3GB
<span data-ttu-id="a98fd-160">**Passaggio 3: determinare la memoria totale di YARN**</span><span class="sxs-lookup"><span data-stu-id="a98fd-160">**Step 3: Determine Total YARN memory**</span></span>

    total memory from the cluster is 8 nodes * 96GB of YARN memory for a D14 = 768GB
<span data-ttu-id="a98fd-161">**Passaggio 4: calcolare il numero dei contenitori YARN**</span><span class="sxs-lookup"><span data-stu-id="a98fd-161">**Step 4: Calculate # of YARN containers**</span></span>

    # of YARN containers = 768GB of available memory / 3 GB of memory =   256

<span data-ttu-id="a98fd-162">**Passaggio 5: configurare mapreduce.job.maps/mapreduce.job.reduces**</span><span class="sxs-lookup"><span data-stu-id="a98fd-162">**Step 5: Set mapreduce.job.maps/mapreduce.job.reduces**</span></span>

    mapreduce.map.jobs = 256

## <a name="limitations"></a><span data-ttu-id="a98fd-163">Limitazioni</span><span class="sxs-lookup"><span data-stu-id="a98fd-163">Limitations</span></span>

<span data-ttu-id="a98fd-164">**Limitazione ADLS**</span><span class="sxs-lookup"><span data-stu-id="a98fd-164">**ADLS throttling**</span></span>

<span data-ttu-id="a98fd-165">In quanto servizio multi-tenant, ADLS imposta dei limiti di larghezza di banda a livello di account.</span><span class="sxs-lookup"><span data-stu-id="a98fd-165">As a multi-tenant service, ADLS sets account level bandwidth limits.</span></span>  <span data-ttu-id="a98fd-166">Se si raggiungono tali limiti, si inizieranno a riscontrare esiti negativi nelle attività.</span><span class="sxs-lookup"><span data-stu-id="a98fd-166">If you hit these limits, you will start to see task failures.</span></span> <span data-ttu-id="a98fd-167">Ciò può essere constatato verificando la presenza di errori di limitazione nei log delle attività.</span><span class="sxs-lookup"><span data-stu-id="a98fd-167">This can be identified by observing throttling errors in task logs.</span></span>  <span data-ttu-id="a98fd-168">Se occorre ulteriore larghezza di banda per il processo, contattare Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a98fd-168">If you need more bandwidth for your job, please contact us.</span></span>   

<span data-ttu-id="a98fd-169">Per verificare la presenza di limitazioni, è necessario abilitare la registrazione di debug sul lato client.</span><span class="sxs-lookup"><span data-stu-id="a98fd-169">To check if you are getting throttled, you need to enable the debug logging on the client side.</span></span> <span data-ttu-id="a98fd-170">Di seguito viene indicato come procedere:</span><span class="sxs-lookup"><span data-stu-id="a98fd-170">Here’s how you can do that:</span></span>

1. <span data-ttu-id="a98fd-171">Inserire la seguente proprietà nelle proprietà log4j in Ambari > YARN > Config (Configurazione) > Advanced yarn log4j (YARN log4j avanzate): log4j.logger.com.microsoft.azure.datalake.store=DEBUG</span><span class="sxs-lookup"><span data-stu-id="a98fd-171">Put the following property in the log4j properties in Ambari > YARN > Config > Advanced yarn-log4j: log4j.logger.com.microsoft.azure.datalake.store=DEBUG</span></span>

2. <span data-ttu-id="a98fd-172">Riavviare tutti i nodi o servizi per rendere effettiva la nuova configurazione.</span><span class="sxs-lookup"><span data-stu-id="a98fd-172">Restart all the nodes/service for the config to take effect.</span></span>

3. <span data-ttu-id="a98fd-173">In caso di limitazioni, verrà visualizzato il codice di errore HTTP 429 nel file di log di YARN.</span><span class="sxs-lookup"><span data-stu-id="a98fd-173">If you are getting throttled, you’ll see the HTTP 429 error code in the YARN log file.</span></span> <span data-ttu-id="a98fd-174">Il file di log di YARN si trova nel percorso /tmp/&lt;user&gt;/yarn.log</span><span class="sxs-lookup"><span data-stu-id="a98fd-174">The YARN log file is in /tmp/&lt;user&gt;/yarn.log</span></span>

## <a name="examples-to-run"></a><span data-ttu-id="a98fd-175">Esempi di esecuzione</span><span class="sxs-lookup"><span data-stu-id="a98fd-175">Examples to Run</span></span>

<span data-ttu-id="a98fd-176">Per illustrare la modalità di esecuzione di MapReduce su Azure Data Lake Store, di seguito viene riportato un codice di esempio eseguito in un cluster con le seguenti impostazioni:</span><span class="sxs-lookup"><span data-stu-id="a98fd-176">To demonstrate how MapReduce runs on Azure Data Lake Store, below is some sample code that was run on a cluster with the following settings:</span></span>

* <span data-ttu-id="a98fd-177">D14v2 a 16 nodi</span><span class="sxs-lookup"><span data-stu-id="a98fd-177">16 node D14v2</span></span>
* <span data-ttu-id="a98fd-178">Cluster Hadoop con HDI 3.6 in esecuzione</span><span class="sxs-lookup"><span data-stu-id="a98fd-178">Hadoop cluster running HDI 3.6</span></span>

<span data-ttu-id="a98fd-179">Per iniziare, ecco alcuni comandi di esempio per eseguire MapReduce Teragen, Terasort e Teravalidate.</span><span class="sxs-lookup"><span data-stu-id="a98fd-179">For a starting point, here are some example commands to run MapReduce Teragen, Terasort, and Teravalidate.</span></span>  <span data-ttu-id="a98fd-180">È possibile modificare questi comandi in base alle risorse.</span><span class="sxs-lookup"><span data-stu-id="a98fd-180">You can adjust these commands based on your resources.</span></span>

<span data-ttu-id="a98fd-181">**Teragen**</span><span class="sxs-lookup"><span data-stu-id="a98fd-181">**Teragen**</span></span>

    yarn jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar teragen -Dmapreduce.job.maps=2048 -Dmapreduce.map.memory.mb=3072 10000000000 adl://example/data/1TB-sort-input

<span data-ttu-id="a98fd-182">**Terasort**</span><span class="sxs-lookup"><span data-stu-id="a98fd-182">**Terasort**</span></span>

    yarn jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar terasort -Dmapreduce.job.maps=2048 -Dmapreduce.map.memory.mb=3072 -Dmapreduce.job.reduces=512 -Dmapreduce.reduce.memory.mb=3072 adl://example/data/1TB-sort-input adl://example/data/1TB-sort-output

<span data-ttu-id="a98fd-183">**Teravalidate**</span><span class="sxs-lookup"><span data-stu-id="a98fd-183">**Teravalidate**</span></span>

    yarn jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar teravalidate -Dmapreduce.job.maps=512 -Dmapreduce.map.memory.mb=3072 adl://example/data/1TB-sort-output adl://example/data/1TB-sort-validate
