---
title: una soluzione IoT tramite flusso Analitica aaaBuild | Documenti Microsoft
description: Guida introduttiva di esercitazione per hello soluzione IoT Analitica di flusso di uno scenario casello
keywords: soluzione IOT, funzioni finestra
documentationcenter: 
services: stream-analytics
author: samacha
manager: jhubbard
editor: cgronlun
ms.assetid: a473ea0a-3eaa-4e5b-aaa1-fec7e9069f20
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 03/28/2017
ms.author: samacha
ms.openlocfilehash: e37fc5b56c4ffc4a2d7b820afe0c17631e577ea0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="build-an-iot-solution-by-using-stream-analytics"></a><span data-ttu-id="ef3f1-104">Compilare una soluzione IoT con Analisi di flusso</span><span class="sxs-lookup"><span data-stu-id="ef3f1-104">Build an IoT solution by using Stream Analytics</span></span>
## <a name="introduction"></a><span data-ttu-id="ef3f1-105">Introduzione</span><span class="sxs-lookup"><span data-stu-id="ef3f1-105">Introduction</span></span>
<span data-ttu-id="ef3f1-106">In questa esercitazione si apprenderà come informazioni in tempo reale toouse Azure flusso Analitica tooget dai dati.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-106">In this tutorial, you will learn how toouse Azure Stream Analytics tooget real-time insights from your data.</span></span> <span data-ttu-id="ef3f1-107">Gli sviluppatori possono combinare facilmente flussi di dati, ad esempio fare clic su flussi, registri e gli eventi generati dal dispositivo, con record cronologici o ottenere informazioni aziendali accurate tooderive dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-107">Developers can easily combine streams of data, such as click-streams, logs, and device-generated events, with historical records or reference data tooderive business insights.</span></span> <span data-ttu-id="ef3f1-108">Come un servizio di calcolo di flusso in tempo reale completamente gestito che è ospitato in Microsoft Azure, Azure flusso Analitica fornisce resilienza predefinita, bassa latenza e la scalabilità tooget operativi in pochi minuti.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-108">As a fully managed, real-time stream computation service that's hosted in Microsoft Azure, Azure Stream Analytics provides built-in resiliency, low latency, and scalability tooget you up and running in minutes.</span></span>

<span data-ttu-id="ef3f1-109">Dopo aver completato questa esercitazione, si sarà in grado di:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-109">After completing this tutorial, you will be able to:</span></span>

* <span data-ttu-id="ef3f1-110">Acquisire familiarità con il portale di Azure flusso Analitica hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-110">Familiarize yourself with hello Azure Stream Analytics portal.</span></span>
* <span data-ttu-id="ef3f1-111">Configurare e distribuire un processo di flusso.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-111">Configure and deploy a streaming job.</span></span>
* <span data-ttu-id="ef3f1-112">Esprimere i reali problemi e risolverli utilizzando il linguaggio di query di hello Analitica di flusso.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-112">Articulate real-world problems and solve them by using hello Stream Analytics query language.</span></span>
* <span data-ttu-id="ef3f1-113">Sviluppare in tutta sicurezza soluzioni di streaming per i clienti usando Analisi di flusso.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-113">Develop streaming solutions for your customers by using Stream Analytics with confidence.</span></span>
* <span data-ttu-id="ef3f1-114">Utilizzare hello monitoraggio e registrazione esperienza tootroubleshoot problemi.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-114">Use hello monitoring and logging experience tootroubleshoot issues.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ef3f1-115">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="ef3f1-115">Prerequisites</span></span>
<span data-ttu-id="ef3f1-116">Si sarà necessario hello seguenti prerequisiti toocomplete questa esercitazione:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-116">You will need hello following prerequisites toocomplete this tutorial:</span></span>

* <span data-ttu-id="ef3f1-117">versione più recente di Hello di [Azure PowerShell](/powershell/azure/overview)</span><span class="sxs-lookup"><span data-stu-id="ef3f1-117">hello latest version of [Azure PowerShell](/powershell/azure/overview)</span></span>
* <span data-ttu-id="ef3f1-118">Visual Studio 2017, 2015, o libera hello [Community di Visual Studio](https://www.visualstudio.com/products/visual-studio-community-vs.aspx)</span><span class="sxs-lookup"><span data-stu-id="ef3f1-118">Visual Studio 2017, 2015, or hello free [Visual Studio Community](https://www.visualstudio.com/products/visual-studio-community-vs.aspx)</span></span>
* <span data-ttu-id="ef3f1-119">Una [sottoscrizione di Azure](https://azure.microsoft.com/pricing/free-trial/)</span><span class="sxs-lookup"><span data-stu-id="ef3f1-119">An [Azure subscription](https://azure.microsoft.com/pricing/free-trial/)</span></span>
* <span data-ttu-id="ef3f1-120">Privilegi amministrativi nel computer di hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-120">Administrative privileges on hello computer</span></span>
* <span data-ttu-id="ef3f1-121">Il download di [TollApp.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) da Microsoft Download Center hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-121">Download of [TollApp.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) from hello Microsoft Download Center</span></span>
* <span data-ttu-id="ef3f1-122">Facoltativo: Codice sorgente per generazione di eventi TollApp hello in [GitHub](https://aka.ms/azure-stream-analytics-toll-source)</span><span class="sxs-lookup"><span data-stu-id="ef3f1-122">Optional: Source code for hello TollApp event generator in [GitHub](https://aka.ms/azure-stream-analytics-toll-source)</span></span>

## <a name="scenario-introduction-hello-toll"></a><span data-ttu-id="ef3f1-123">Presentazione dello scenario: il casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-123">Scenario introduction: “Hello, Toll!”</span></span>
<span data-ttu-id="ef3f1-124">Un casello rappresenta una situazione piuttosto comune.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-124">A toll station is a common phenomenon.</span></span> <span data-ttu-id="ef3f1-125">Si verificano tali in molte autostrade, ponti e tunnel tra HelloWorld.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-125">You encounter them on many expressways, bridges, and tunnels across hello world.</span></span> <span data-ttu-id="ef3f1-126">Ogni barriera è costituita da più caselli.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-126">Each toll station has multiple toll booths.</span></span> <span data-ttu-id="ef3f1-127">In stand manuale, non è arrestare toopay hello casello tooan supervisore.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-127">At manual booths, you stop toopay hello toll tooan attendant.</span></span> <span data-ttu-id="ef3f1-128">In stand automatizzati, un sensore all'inizio di ogni tipo analizza una scheda RFID che viene apposta toohello parabrezza del veicolo di quello passato casello hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-128">At automated booths, a sensor on top of each booth scans an RFID card that's affixed toohello windshield of your vehicle as you pass hello toll booth.</span></span> <span data-ttu-id="ef3f1-129">È facile toovisualize passaggio di hello dei veicoli attraverso il casello come un flusso di eventi su cui è possibile eseguire operazioni interessanti.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-129">It is easy toovisualize hello passage of vehicles through these toll stations as an event stream over which interesting operations can be performed.</span></span>

![Immagine di automobili ai caselli](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image1.jpg)

## <a name="incoming-data"></a><span data-ttu-id="ef3f1-131">Dati di ingresso</span><span class="sxs-lookup"><span data-stu-id="ef3f1-131">Incoming data</span></span>
<span data-ttu-id="ef3f1-132">Questa esercitazione utilizza due flussi di dati.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-132">This tutorial works with two streams of data.</span></span> <span data-ttu-id="ef3f1-133">Sensori installato in entrata hello e uscita di casello hello produrre primo flusso hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-133">Sensors installed in hello entrance and exit of hello toll stations produce hello first stream.</span></span> <span data-ttu-id="ef3f1-134">secondo flusso Hello è un set di dati statici della ricerca con i dati di registrazione veicolo.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-134">hello second stream is a static lookup dataset that has vehicle registration data.</span></span>

### <a name="entry-data-stream"></a><span data-ttu-id="ef3f1-135">Flusso di dati di ingresso</span><span class="sxs-lookup"><span data-stu-id="ef3f1-135">Entry data stream</span></span>
<span data-ttu-id="ef3f1-136">flusso di dati di Hello voce contiene informazioni su automobili in arrivo casello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-136">hello entry data stream contains information about cars as they enter toll stations.</span></span>

| <span data-ttu-id="ef3f1-137">ID casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-137">TollID</span></span> | <span data-ttu-id="ef3f1-138">Tempo ingresso</span><span class="sxs-lookup"><span data-stu-id="ef3f1-138">EntryTime</span></span> | <span data-ttu-id="ef3f1-139">Targa</span><span class="sxs-lookup"><span data-stu-id="ef3f1-139">LicensePlate</span></span> | <span data-ttu-id="ef3f1-140">Stato</span><span class="sxs-lookup"><span data-stu-id="ef3f1-140">State</span></span> | <span data-ttu-id="ef3f1-141">Casa automobilistica</span><span class="sxs-lookup"><span data-stu-id="ef3f1-141">Make</span></span> | <span data-ttu-id="ef3f1-142">Modello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-142">Model</span></span> | <span data-ttu-id="ef3f1-143">Tipo veicolo</span><span class="sxs-lookup"><span data-stu-id="ef3f1-143">VehicleType</span></span> | <span data-ttu-id="ef3f1-144">Peso veicolo</span><span class="sxs-lookup"><span data-stu-id="ef3f1-144">VehicleWeight</span></span> | <span data-ttu-id="ef3f1-145">Casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-145">Toll</span></span> | <span data-ttu-id="ef3f1-146">Tag</span><span class="sxs-lookup"><span data-stu-id="ef3f1-146">Tag</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="ef3f1-147">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-147">1</span></span> |<span data-ttu-id="ef3f1-148">2014-09-10 12:01:00.000</span><span class="sxs-lookup"><span data-stu-id="ef3f1-148">2014-09-10 12:01:00.000</span></span> |<span data-ttu-id="ef3f1-149">JNB 7001</span><span class="sxs-lookup"><span data-stu-id="ef3f1-149">JNB 7001</span></span> |<span data-ttu-id="ef3f1-150">NY</span><span class="sxs-lookup"><span data-stu-id="ef3f1-150">NY</span></span> |<span data-ttu-id="ef3f1-151">Honda</span><span class="sxs-lookup"><span data-stu-id="ef3f1-151">Honda</span></span> |<span data-ttu-id="ef3f1-152">CRV</span><span class="sxs-lookup"><span data-stu-id="ef3f1-152">CRV</span></span> |<span data-ttu-id="ef3f1-153">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-153">1</span></span> |<span data-ttu-id="ef3f1-154">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-154">0</span></span> |<span data-ttu-id="ef3f1-155">7</span><span class="sxs-lookup"><span data-stu-id="ef3f1-155">7</span></span> | |
| <span data-ttu-id="ef3f1-156">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-156">1</span></span> |<span data-ttu-id="ef3f1-157">2014-09-10 12:02:00.000</span><span class="sxs-lookup"><span data-stu-id="ef3f1-157">2014-09-10 12:02:00.000</span></span> |<span data-ttu-id="ef3f1-158">YXZ 1001</span><span class="sxs-lookup"><span data-stu-id="ef3f1-158">YXZ 1001</span></span> |<span data-ttu-id="ef3f1-159">NY</span><span class="sxs-lookup"><span data-stu-id="ef3f1-159">NY</span></span> |<span data-ttu-id="ef3f1-160">Toyota</span><span class="sxs-lookup"><span data-stu-id="ef3f1-160">Toyota</span></span> |<span data-ttu-id="ef3f1-161">Camry</span><span class="sxs-lookup"><span data-stu-id="ef3f1-161">Camry</span></span> |<span data-ttu-id="ef3f1-162">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-162">1</span></span> |<span data-ttu-id="ef3f1-163">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-163">0</span></span> |<span data-ttu-id="ef3f1-164">4</span><span class="sxs-lookup"><span data-stu-id="ef3f1-164">4</span></span> |<span data-ttu-id="ef3f1-165">123456789</span><span class="sxs-lookup"><span data-stu-id="ef3f1-165">123456789</span></span> |
| <span data-ttu-id="ef3f1-166">3</span><span class="sxs-lookup"><span data-stu-id="ef3f1-166">3</span></span> |<span data-ttu-id="ef3f1-167">2014-09-10 12:02:00.000</span><span class="sxs-lookup"><span data-stu-id="ef3f1-167">2014-09-10 12:02:00.000</span></span> |<span data-ttu-id="ef3f1-168">ABC 1004</span><span class="sxs-lookup"><span data-stu-id="ef3f1-168">ABC 1004</span></span> |<span data-ttu-id="ef3f1-169">CT</span><span class="sxs-lookup"><span data-stu-id="ef3f1-169">CT</span></span> |<span data-ttu-id="ef3f1-170">Ford</span><span class="sxs-lookup"><span data-stu-id="ef3f1-170">Ford</span></span> |<span data-ttu-id="ef3f1-171">Taurus</span><span class="sxs-lookup"><span data-stu-id="ef3f1-171">Taurus</span></span> |<span data-ttu-id="ef3f1-172">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-172">1</span></span> |<span data-ttu-id="ef3f1-173">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-173">0</span></span> |<span data-ttu-id="ef3f1-174">5</span><span class="sxs-lookup"><span data-stu-id="ef3f1-174">5</span></span> |<span data-ttu-id="ef3f1-175">456789123</span><span class="sxs-lookup"><span data-stu-id="ef3f1-175">456789123</span></span> |
| <span data-ttu-id="ef3f1-176">2</span><span class="sxs-lookup"><span data-stu-id="ef3f1-176">2</span></span> |<span data-ttu-id="ef3f1-177">2014-09-10 12:03:00.000</span><span class="sxs-lookup"><span data-stu-id="ef3f1-177">2014-09-10 12:03:00.000</span></span> |<span data-ttu-id="ef3f1-178">XYZ 1003</span><span class="sxs-lookup"><span data-stu-id="ef3f1-178">XYZ 1003</span></span> |<span data-ttu-id="ef3f1-179">CT</span><span class="sxs-lookup"><span data-stu-id="ef3f1-179">CT</span></span> |<span data-ttu-id="ef3f1-180">Toyota</span><span class="sxs-lookup"><span data-stu-id="ef3f1-180">Toyota</span></span> |<span data-ttu-id="ef3f1-181">Corolla</span><span class="sxs-lookup"><span data-stu-id="ef3f1-181">Corolla</span></span> |<span data-ttu-id="ef3f1-182">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-182">1</span></span> |<span data-ttu-id="ef3f1-183">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-183">0</span></span> |<span data-ttu-id="ef3f1-184">4</span><span class="sxs-lookup"><span data-stu-id="ef3f1-184">4</span></span> | |
| <span data-ttu-id="ef3f1-185">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-185">1</span></span> |<span data-ttu-id="ef3f1-186">2014-09-10 12:03:00.000</span><span class="sxs-lookup"><span data-stu-id="ef3f1-186">2014-09-10 12:03:00.000</span></span> |<span data-ttu-id="ef3f1-187">BNJ 1007</span><span class="sxs-lookup"><span data-stu-id="ef3f1-187">BNJ 1007</span></span> |<span data-ttu-id="ef3f1-188">NY</span><span class="sxs-lookup"><span data-stu-id="ef3f1-188">NY</span></span> |<span data-ttu-id="ef3f1-189">Honda</span><span class="sxs-lookup"><span data-stu-id="ef3f1-189">Honda</span></span> |<span data-ttu-id="ef3f1-190">CRV</span><span class="sxs-lookup"><span data-stu-id="ef3f1-190">CRV</span></span> |<span data-ttu-id="ef3f1-191">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-191">1</span></span> |<span data-ttu-id="ef3f1-192">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-192">0</span></span> |<span data-ttu-id="ef3f1-193">5</span><span class="sxs-lookup"><span data-stu-id="ef3f1-193">5</span></span> |<span data-ttu-id="ef3f1-194">789123456</span><span class="sxs-lookup"><span data-stu-id="ef3f1-194">789123456</span></span> |
| <span data-ttu-id="ef3f1-195">2</span><span class="sxs-lookup"><span data-stu-id="ef3f1-195">2</span></span> |<span data-ttu-id="ef3f1-196">2014-09-10 12:05:00.000</span><span class="sxs-lookup"><span data-stu-id="ef3f1-196">2014-09-10 12:05:00.000</span></span> |<span data-ttu-id="ef3f1-197">CDE 1007</span><span class="sxs-lookup"><span data-stu-id="ef3f1-197">CDE 1007</span></span> |<span data-ttu-id="ef3f1-198">NJ</span><span class="sxs-lookup"><span data-stu-id="ef3f1-198">NJ</span></span> |<span data-ttu-id="ef3f1-199">Toyota</span><span class="sxs-lookup"><span data-stu-id="ef3f1-199">Toyota</span></span> |<span data-ttu-id="ef3f1-200">4x4</span><span class="sxs-lookup"><span data-stu-id="ef3f1-200">4x4</span></span> |<span data-ttu-id="ef3f1-201">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-201">1</span></span> |<span data-ttu-id="ef3f1-202">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-202">0</span></span> |<span data-ttu-id="ef3f1-203">6</span><span class="sxs-lookup"><span data-stu-id="ef3f1-203">6</span></span> |<span data-ttu-id="ef3f1-204">321987654</span><span class="sxs-lookup"><span data-stu-id="ef3f1-204">321987654</span></span> |

<span data-ttu-id="ef3f1-205">Di seguito è riportata una breve descrizione delle colonne di hello:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-205">Here is a short description of hello columns:</span></span>

| <span data-ttu-id="ef3f1-206">Colonna</span><span class="sxs-lookup"><span data-stu-id="ef3f1-206">Column</span></span> | <span data-ttu-id="ef3f1-207">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef3f1-207">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ef3f1-208">ID casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-208">TollID</span></span> |<span data-ttu-id="ef3f1-209">Hello casello stand ID che identifica in modo univoco un casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-209">hello toll booth ID that uniquely identifies a toll booth</span></span> |
| <span data-ttu-id="ef3f1-210">Tempo ingresso</span><span class="sxs-lookup"><span data-stu-id="ef3f1-210">EntryTime</span></span> |<span data-ttu-id="ef3f1-211">Hello data e ora della voce di hello veicolo toohello casello in formato UTC</span><span class="sxs-lookup"><span data-stu-id="ef3f1-211">hello date and time of entry of hello vehicle toohello toll booth in UTC</span></span> |
| <span data-ttu-id="ef3f1-212">Targa</span><span class="sxs-lookup"><span data-stu-id="ef3f1-212">LicensePlate</span></span> |<span data-ttu-id="ef3f1-213">numero di targa Hello del veicolo hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-213">hello license plate number of hello vehicle</span></span> |
| <span data-ttu-id="ef3f1-214">Stato</span><span class="sxs-lookup"><span data-stu-id="ef3f1-214">State</span></span> |<span data-ttu-id="ef3f1-215">Stato degli Stati Uniti</span><span class="sxs-lookup"><span data-stu-id="ef3f1-215">A state in United States</span></span> |
| <span data-ttu-id="ef3f1-216">Casa automobilistica</span><span class="sxs-lookup"><span data-stu-id="ef3f1-216">Make</span></span> |<span data-ttu-id="ef3f1-217">produttore Hello dell'automobile hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-217">hello manufacturer of hello automobile</span></span> |
| <span data-ttu-id="ef3f1-218">Modello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-218">Model</span></span> |<span data-ttu-id="ef3f1-219">numero di automobili hello modello Hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-219">hello model number of hello automobile</span></span> |
| <span data-ttu-id="ef3f1-220">Tipo veicolo</span><span class="sxs-lookup"><span data-stu-id="ef3f1-220">VehicleType</span></span> |<span data-ttu-id="ef3f1-221">1 per autovetture o 2 per veicoli commerciali</span><span class="sxs-lookup"><span data-stu-id="ef3f1-221">Either 1 for passenger vehicles or 2 for commercial vehicles</span></span> |
| <span data-ttu-id="ef3f1-222">Peso veicolo</span><span class="sxs-lookup"><span data-stu-id="ef3f1-222">WeightType</span></span> |<span data-ttu-id="ef3f1-223">Peso del veicolo in tonnellate, 0 per veicoli passeggeri</span><span class="sxs-lookup"><span data-stu-id="ef3f1-223">Vehicle weight in tons; 0 for passenger vehicles</span></span> |
| <span data-ttu-id="ef3f1-224">Casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-224">Toll</span></span> |<span data-ttu-id="ef3f1-225">valore casello Hello in dollari USA</span><span class="sxs-lookup"><span data-stu-id="ef3f1-225">hello toll value in USD</span></span> |
| <span data-ttu-id="ef3f1-226">Tag</span><span class="sxs-lookup"><span data-stu-id="ef3f1-226">Tag</span></span> |<span data-ttu-id="ef3f1-227">Hello e-Tag su automobile hello che automatizza il pagamento; spazio vuoto in cui il pagamento hello è stato eseguito manualmente</span><span class="sxs-lookup"><span data-stu-id="ef3f1-227">hello e-Tag on hello automobile that automates payment; blank where hello payment was done manually</span></span> |

### <a name="exit-data-stream"></a><span data-ttu-id="ef3f1-228">Flusso di dati di uscita</span><span class="sxs-lookup"><span data-stu-id="ef3f1-228">Exit data stream</span></span>
<span data-ttu-id="ef3f1-229">flusso di dati di uscita Hello contiene informazioni su automobili lasciando casello hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-229">hello exit data stream contains information about cars leaving hello toll station.</span></span>

| <span data-ttu-id="ef3f1-230">**ID casello**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-230">**TollId**</span></span> | <span data-ttu-id="ef3f1-231">**Tempo ingresso**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-231">**ExitTime**</span></span> | <span data-ttu-id="ef3f1-232">**Targa**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-232">**LicensePlate**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ef3f1-233">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-233">1</span></span> |<span data-ttu-id="ef3f1-234">2014-09-10T12:03:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="ef3f1-234">2014-09-10T12:03:00.0000000Z</span></span> |<span data-ttu-id="ef3f1-235">JNB 7001</span><span class="sxs-lookup"><span data-stu-id="ef3f1-235">JNB 7001</span></span> |
| <span data-ttu-id="ef3f1-236">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-236">1</span></span> |<span data-ttu-id="ef3f1-237">2014-09-10T12:03:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="ef3f1-237">2014-09-10T12:03:00.0000000Z</span></span> |<span data-ttu-id="ef3f1-238">YXZ 1001</span><span class="sxs-lookup"><span data-stu-id="ef3f1-238">YXZ 1001</span></span> |
| <span data-ttu-id="ef3f1-239">3</span><span class="sxs-lookup"><span data-stu-id="ef3f1-239">3</span></span> |<span data-ttu-id="ef3f1-240">2014-09-10T12:04:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="ef3f1-240">2014-09-10T12:04:00.0000000Z</span></span> |<span data-ttu-id="ef3f1-241">ABC 1004</span><span class="sxs-lookup"><span data-stu-id="ef3f1-241">ABC 1004</span></span> |
| <span data-ttu-id="ef3f1-242">2</span><span class="sxs-lookup"><span data-stu-id="ef3f1-242">2</span></span> |<span data-ttu-id="ef3f1-243">2014-09-10T12:07:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="ef3f1-243">2014-09-10T12:07:00.0000000Z</span></span> |<span data-ttu-id="ef3f1-244">XYZ 1003</span><span class="sxs-lookup"><span data-stu-id="ef3f1-244">XYZ 1003</span></span> |
| <span data-ttu-id="ef3f1-245">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-245">1</span></span> |<span data-ttu-id="ef3f1-246">2014-09-10T12:08:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="ef3f1-246">2014-09-10T12:08:00.0000000Z</span></span> |<span data-ttu-id="ef3f1-247">BNJ 1007</span><span class="sxs-lookup"><span data-stu-id="ef3f1-247">BNJ 1007</span></span> |
| <span data-ttu-id="ef3f1-248">2</span><span class="sxs-lookup"><span data-stu-id="ef3f1-248">2</span></span> |<span data-ttu-id="ef3f1-249">2014-09-10T12:07:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="ef3f1-249">2014-09-10T12:07:00.0000000Z</span></span> |<span data-ttu-id="ef3f1-250">CDE 1007</span><span class="sxs-lookup"><span data-stu-id="ef3f1-250">CDE 1007</span></span> |

<span data-ttu-id="ef3f1-251">Di seguito è riportata una breve descrizione delle colonne di hello:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-251">Here is a short description of hello columns:</span></span>

| <span data-ttu-id="ef3f1-252">Colonna</span><span class="sxs-lookup"><span data-stu-id="ef3f1-252">Column</span></span> | <span data-ttu-id="ef3f1-253">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef3f1-253">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ef3f1-254">ID casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-254">TollID</span></span> |<span data-ttu-id="ef3f1-255">Hello casello stand ID che identifica in modo univoco un casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-255">hello toll booth ID that uniquely identifies a toll booth</span></span> |
| <span data-ttu-id="ef3f1-256">Tempo ingresso</span><span class="sxs-lookup"><span data-stu-id="ef3f1-256">ExitTime</span></span> |<span data-ttu-id="ef3f1-257">Hello data e ora di uscita del veicolo hello da casello in formato UTC</span><span class="sxs-lookup"><span data-stu-id="ef3f1-257">hello date and time of exit of hello vehicle from toll booth in UTC</span></span> |
| <span data-ttu-id="ef3f1-258">Targa</span><span class="sxs-lookup"><span data-stu-id="ef3f1-258">LicensePlate</span></span> |<span data-ttu-id="ef3f1-259">numero di targa Hello del veicolo hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-259">hello license plate number of hello vehicle</span></span> |

### <a name="commercial-vehicle-registration-data"></a><span data-ttu-id="ef3f1-260">Dati di registrazione di veicoli commerciali</span><span class="sxs-lookup"><span data-stu-id="ef3f1-260">Commercial vehicle registration data</span></span>
<span data-ttu-id="ef3f1-261">esercitazione Hello utilizza uno snapshot statico di un database di registrazione del veicolo commerciale.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-261">hello tutorial uses a static snapshot of a commercial vehicle registration database.</span></span>

| <span data-ttu-id="ef3f1-262">Targa</span><span class="sxs-lookup"><span data-stu-id="ef3f1-262">LicensePlate</span></span> | <span data-ttu-id="ef3f1-263">ID registrazione</span><span class="sxs-lookup"><span data-stu-id="ef3f1-263">RegistrationId</span></span> | <span data-ttu-id="ef3f1-264">Scaduto</span><span class="sxs-lookup"><span data-stu-id="ef3f1-264">Expired</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ef3f1-265">SVT 6023</span><span class="sxs-lookup"><span data-stu-id="ef3f1-265">SVT 6023</span></span> |<span data-ttu-id="ef3f1-266">285429838</span><span class="sxs-lookup"><span data-stu-id="ef3f1-266">285429838</span></span> |<span data-ttu-id="ef3f1-267">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-267">1</span></span> |
| <span data-ttu-id="ef3f1-268">XLZ 3463</span><span class="sxs-lookup"><span data-stu-id="ef3f1-268">XLZ 3463</span></span> |<span data-ttu-id="ef3f1-269">362715656</span><span class="sxs-lookup"><span data-stu-id="ef3f1-269">362715656</span></span> |<span data-ttu-id="ef3f1-270">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-270">0</span></span> |
| <span data-ttu-id="ef3f1-271">BAC 1005</span><span class="sxs-lookup"><span data-stu-id="ef3f1-271">BAC 1005</span></span> |<span data-ttu-id="ef3f1-272">876133137</span><span class="sxs-lookup"><span data-stu-id="ef3f1-272">876133137</span></span> |<span data-ttu-id="ef3f1-273">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-273">1</span></span> |
| <span data-ttu-id="ef3f1-274">RIV 8632</span><span class="sxs-lookup"><span data-stu-id="ef3f1-274">RIV 8632</span></span> |<span data-ttu-id="ef3f1-275">992711956</span><span class="sxs-lookup"><span data-stu-id="ef3f1-275">992711956</span></span> |<span data-ttu-id="ef3f1-276">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-276">0</span></span> |
| <span data-ttu-id="ef3f1-277">SNY 7188</span><span class="sxs-lookup"><span data-stu-id="ef3f1-277">SNY 7188</span></span> |<span data-ttu-id="ef3f1-278">592133890</span><span class="sxs-lookup"><span data-stu-id="ef3f1-278">592133890</span></span> |<span data-ttu-id="ef3f1-279">0</span><span class="sxs-lookup"><span data-stu-id="ef3f1-279">0</span></span> |
| <span data-ttu-id="ef3f1-280">ELH 9896</span><span class="sxs-lookup"><span data-stu-id="ef3f1-280">ELH 9896</span></span> |<span data-ttu-id="ef3f1-281">678427724</span><span class="sxs-lookup"><span data-stu-id="ef3f1-281">678427724</span></span> |<span data-ttu-id="ef3f1-282">1</span><span class="sxs-lookup"><span data-stu-id="ef3f1-282">1</span></span> |

<span data-ttu-id="ef3f1-283">Di seguito è riportata una breve descrizione delle colonne di hello:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-283">Here is a short description of hello columns:</span></span>

| <span data-ttu-id="ef3f1-284">Colonna</span><span class="sxs-lookup"><span data-stu-id="ef3f1-284">Column</span></span> | <span data-ttu-id="ef3f1-285">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef3f1-285">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ef3f1-286">Targa</span><span class="sxs-lookup"><span data-stu-id="ef3f1-286">LicensePlate</span></span> |<span data-ttu-id="ef3f1-287">numero di targa Hello del veicolo hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-287">hello license plate number of hello vehicle</span></span> |
| <span data-ttu-id="ef3f1-288">ID registrazione</span><span class="sxs-lookup"><span data-stu-id="ef3f1-288">RegistrationId</span></span> |<span data-ttu-id="ef3f1-289">ID di registrazione del veicolo Hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-289">hello vehicle's registration ID</span></span> |
| <span data-ttu-id="ef3f1-290">Scaduto</span><span class="sxs-lookup"><span data-stu-id="ef3f1-290">Expired</span></span> |<span data-ttu-id="ef3f1-291">lo stato della registrazione del veicolo hello Hello: 0 se la registrazione di veicolo è attiva, 1 se la registrazione è scaduta</span><span class="sxs-lookup"><span data-stu-id="ef3f1-291">hello registration status of hello vehicle: 0 if vehicle registration is active, 1 if registration is expired</span></span> |

## <a name="set-up-hello-environment-for-azure-stream-analytics"></a><span data-ttu-id="ef3f1-292">Configurare l'ambiente hello per Analitica di flusso di Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-292">Set up hello environment for Azure Stream Analytics</span></span>
<span data-ttu-id="ef3f1-293">toocomplete questa esercitazione, è necessaria una sottoscrizione di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-293">toocomplete this tutorial, you need a Microsoft Azure subscription.</span></span> <span data-ttu-id="ef3f1-294">Microsoft offre la possibilità di scegliere una versione di valutazione gratuita per i servizi Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-294">Microsoft offers free trial for Microsoft Azure services.</span></span>

<span data-ttu-id="ef3f1-295">Se non si ha un account Azure, è possibile [richiedere una versione di valutazione gratuita](http://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-295">If you do not have an Azure account, you can [request a free trial version](http://azure.microsoft.com/pricing/free-trial/).</span></span>

> [!NOTE]
> <span data-ttu-id="ef3f1-296">toosign iscrizione a una versione di valutazione gratuita, è necessario un dispositivo mobile in grado di ricevere messaggi di testo e una carta di credito valida.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-296">toosign up for a free trial, you need a mobile device that can receive text messages and a valid credit card.</span></span>
> 
> 

<span data-ttu-id="ef3f1-297">Assicurarsi di hello toofollow i passaggi nella sezione "Pulire l'account di Azure" hello alla fine di hello di questo articolo in modo che è possibile usare hello meglio il credito Azure.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-297">Be sure toofollow hello steps in hello “Clean up your Azure account” section at hello end of this article so that you can make hello best use of your Azure credit.</span></span>

## <a name="provision-azure-resources-required-for-hello-tutorial"></a><span data-ttu-id="ef3f1-298">Eseguire il provisioning di risorse di Azure necessari per hello esercitazione</span><span class="sxs-lookup"><span data-stu-id="ef3f1-298">Provision Azure resources required for hello tutorial</span></span>
<span data-ttu-id="ef3f1-299">Questa esercitazione richiede due eventi hub tooreceive *voce* e *uscire* flussi di dati.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-299">This tutorial requires two event hubs tooreceive *entry* and *exit* data streams.</span></span> <span data-ttu-id="ef3f1-300">Database SQL di Azure genera risultati hello dei processi di flusso Analitica hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-300">Azure SQL Database outputs hello results of hello Stream Analytics jobs.</span></span> <span data-ttu-id="ef3f1-301">In Archiviazione di Azure vengono memorizzati i dati di riferimento di registrazione dei veicoli.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-301">Azure Storage stores reference data about vehicle registrations.</span></span>

<span data-ttu-id="ef3f1-302">È possibile utilizzare hello Setup.ps1 script nella cartella TollApp hello in GitHub toocreate tutte le risorse necessarie.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-302">You can use hello Setup.ps1 script in hello TollApp folder on GitHub toocreate all required resources.</span></span> <span data-ttu-id="ef3f1-303">Interesse hello di tempo, è consigliabile che viene eseguito.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-303">In hello interest of time, we recommend that you run it.</span></span> <span data-ttu-id="ef3f1-304">Se si desidera toolearn ulteriori informazioni sulla modalità tooconfigure alle risorse nel portale di Azure hello fare riferimento toohello appendice di "Configurazione delle risorse di esercitazione nel portale di Azure".</span><span class="sxs-lookup"><span data-stu-id="ef3f1-304">If you would like toolearn more about how tooconfigure these resources in hello Azure portal, refer toohello “Configuring tutorial resources in Azure portal” appendix.</span></span>

<span data-ttu-id="ef3f1-305">Scaricare e salvare hello supporto [TollApp](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) cartella e file.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-305">Download and save hello supporting [TollApp](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) folder and files.</span></span>

<span data-ttu-id="ef3f1-306">Aprire una finestra di **Microsoft Azure PowerShell***come amministratore*.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-306">Open a **Microsoft Azure PowerShell** window *as an administrator*.</span></span> <span data-ttu-id="ef3f1-307">Se non si dispone ancora di Azure PowerShell, seguire le istruzioni hello [installare e configurare Azure PowerShell](/powershell/azure/overview) tooinstall è.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-307">If you do not yet have Azure PowerShell, follow hello instructions in [Install and configure Azure PowerShell](/powershell/azure/overview) tooinstall it.</span></span>

<span data-ttu-id="ef3f1-308">Poiché Windows blocca automaticamente con estensione ps1,. dll e file .exe, criteri di esecuzione tooset hello è necessario prima di eseguire script hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-308">Because Windows automatically blocks .ps1, .dll, and .exe files, you need tooset hello execution policy before you run hello script.</span></span> <span data-ttu-id="ef3f1-309">Assicurarsi che la finestra di Azure PowerShell hello è in esecuzione *come amministratore*.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-309">Make sure hello Azure PowerShell window is running *as an administrator*.</span></span> <span data-ttu-id="ef3f1-310">Eseguire **Set-ExecutionPolicy unrestricted**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-310">Run **Set-ExecutionPolicy unrestricted**.</span></span> <span data-ttu-id="ef3f1-311">Quando richiesto, digitare **Y**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-311">When prompted, type **Y**.</span></span>

![Screenshot di "Set-ExecutionPolicy unrestricted" in esecuzione nella finestra di Azure PowerShell](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image2.png)

<span data-ttu-id="ef3f1-313">Eseguire **Get-ExecutionPolicy** toomake assicurarsi che il comando hello sia stato risolto.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-313">Run **Get-ExecutionPolicy** toomake sure that hello command worked.</span></span>

![Screenshot di "Get-ExecutionPolicy" in esecuzione nella finestra di Azure PowerShell](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image3.png)

<span data-ttu-id="ef3f1-315">Passare toohello directory con gli script hello e applicazione del generatore.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-315">Go toohello directory that has hello scripts and generator application.</span></span>

![Schermata di "cd .\TollApp\TollApp" in esecuzione nella finestra di Azure PowerShell hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image4.png)

<span data-ttu-id="ef3f1-317">Tipo **.\\ Setup.ps1** tooset un account di Azure, creare e configurare tutte le risorse necessarie e avviare gli eventi toogenerate.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-317">Type **.\\Setup.ps1** tooset up your Azure account, create and configure all required resources, and start toogenerate events.</span></span> <span data-ttu-id="ef3f1-318">script Hello preleva in modo casuale dalla toocreate una regione di risorse.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-318">hello script randomly picks up a region toocreate your resources.</span></span> <span data-ttu-id="ef3f1-319">tooexplicitly specificare un'area, è possibile passare hello **-percorso** parametro come hello di esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-319">tooexplicitly specify a region, you can pass hello **-location** parameter as in hello following example:</span></span>

<span data-ttu-id="ef3f1-320">**.\\Setup.ps1 -location "Stati Uniti centrali"**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-320">**.\\Setup.ps1 -location “Central US”**</span></span>

![Schermata della pagina hello Accedi Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image5.png)

<span data-ttu-id="ef3f1-322">script Hello apre hello **Accedi** pagina per Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-322">hello script opens hello **Sign In** page for Microsoft Azure.</span></span> <span data-ttu-id="ef3f1-323">Immettere le credenziali dell'account.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-323">Enter your account credentials.</span></span>

> [!NOTE]
> <span data-ttu-id="ef3f1-324">Se l'account ha accesso toomultiple sottoscrizioni, sarà nome della sottoscrizione hello tooenter frequenti che si desidera toouse per esercitazione hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-324">If your account has access toomultiple subscriptions, you will be asked tooenter hello subscription name that you want toouse for hello tutorial.</span></span>
> 
> 

<span data-ttu-id="ef3f1-325">script Hello può richiedere diversi minuti toorun.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-325">hello script can take several minutes toorun.</span></span> <span data-ttu-id="ef3f1-326">Dopo il suo completamento, output di hello dovrebbe essere simile hello seguente schermata.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-326">After it finishes, hello output should look like hello following screenshot.</span></span>

![Schermata di output dello script hello nella finestra di Azure PowerShell hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image6.PNG)

<span data-ttu-id="ef3f1-328">Si verifica anche un'altra finestra che è simile toohello seguente schermata.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-328">You will also see another window that's similar toohello following screenshot.</span></span> <span data-ttu-id="ef3f1-329">Questa applicazione è l'invio di eventi tooAzure hub eventi, ovvero esercitazione hello toorun obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-329">This application is sending events tooAzure Event Hubs, which is required toorun hello tutorial.</span></span> <span data-ttu-id="ef3f1-330">In tal caso, non arrestare l'applicazione hello o chiudere questa finestra finché non viene completata l'esercitazione hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-330">So, do not stop hello application or close this window until you finish hello tutorial.</span></span>

![Screenshot dell'invio dei dati dell'hub eventi](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image7.png)

<span data-ttu-id="ef3f1-332">Si deve essere in grado di toosee le risorse nel portale di Azure a questo punto.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-332">You should be able toosee your resources in Azure portal now.</span></span> <span data-ttu-id="ef3f1-333">Andare troppo<https://portal.azure.com>e accedere con le credenziali dell'account.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-333">Go too<https://portal.azure.com>, and sign in with your account credentials.</span></span> <span data-ttu-id="ef3f1-334">Si noti che attualmente alcune funzionalità utilizza portale classico hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-334">Note that currently some functionality utilizes hello classic portal.</span></span> <span data-ttu-id="ef3f1-335">Questi passaggi saranno indicati con chiarezza.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-335">These steps will be clearly indicated.</span></span>

### <a name="azure-event-hubs"></a><span data-ttu-id="ef3f1-336">Hub eventi di Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-336">Azure Event Hubs</span></span>
<span data-ttu-id="ef3f1-337">Nel portale di Azure hello, fare clic su **più servizi** nella parte inferiore di hello del riquadro sinistro di gestione di hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-337">In hello Azure portal, click **More services** on hello bottom of hello left management pane.</span></span> <span data-ttu-id="ef3f1-338">Tipo **hub eventi** in hello campo fornito e fare clic su **hub eventi**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-338">Type **Event hubs** in hello field provided and click **Event hubs**.</span></span> <span data-ttu-id="ef3f1-339">Verrà avviata un nuova hello di toodisplay finestra browser **BUS di servizio** area hello **portale classico**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-339">This launches a new browser window toodisplay hello **SERVICE BUS** area in hello **classic portal**.</span></span> <span data-ttu-id="ef3f1-340">Qui è possibile visualizzare hello Hub eventi creati da hello Setup.ps1 script.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-340">Here you can see hello Event Hub created by hello Setup.ps1 script.</span></span>

![Bus di servizio](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image8.png)

<span data-ttu-id="ef3f1-342">Fare clic su hello che inizia con *tolldata*.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-342">Click hello one that starts with *tolldata*.</span></span> <span data-ttu-id="ef3f1-343">Fare clic su hello **hub eventi** scheda. Vengono visualizzati due Hub eventi denominati *entry* ed *exit* creati in questo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-343">Click hello **EVENT HUBS** tab. You will see two event hubs named *entry* and *exit* created in this namespace.</span></span>

![Scheda di hub di eventi nel portale classico hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image9.png)

### <a name="azure-storage-container"></a><span data-ttu-id="ef3f1-345">Contenitore Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-345">Azure Storage container</span></span>
1. <span data-ttu-id="ef3f1-346">Tornare toohello scheda nel portale di tooAzure aprire browser.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-346">Go back toohello tab in your browser open tooAzure portal.</span></span> <span data-ttu-id="ef3f1-347">Fare clic su **archiviazione** sul lato sinistro di hello toosee portale Azure hello Azure contenitore di archiviazione utilizzato nell'esercitazione hello hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-347">Click **STORAGE** on hello left side of hello Azure portal toosee hello Azure Storage container that's used in hello tutorial.</span></span>
   
    ![Voce di menu Archiviazione](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image11.png)
2. <span data-ttu-id="ef3f1-349">Fare clic su hello uno che iniziano con *tolldata*.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-349">Click hello one that start with *tolldata*.</span></span> <span data-ttu-id="ef3f1-350">Fare clic su hello **contenitori** contenitore hello creato toosee di scheda.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-350">Click hello **CONTAINERS** tab toosee hello created container.</span></span>
   
    ![Scheda contenitori hello portale di Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image10.png)
3. <span data-ttu-id="ef3f1-352">Fare clic su hello **tolldata** hello toosee contenitore caricato il file JSON che contiene i dati di registrazione vehicle.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-352">Click hello **tolldata** container toosee hello uploaded JSON file that has vehicle registration data.</span></span>
   
    ![Schermata del file di registration.json hello nel contenitore di hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image12.png)

### <a name="azure-sql-database"></a><span data-ttu-id="ef3f1-354">Database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-354">Azure SQL Database</span></span>
1. <span data-ttu-id="ef3f1-355">Nella scheda prima hello, che è stato aperto nel browser hello tornare indietro toohello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-355">Go back toohello Azure portal on hello first tab that was opened in hello browser.</span></span> <span data-ttu-id="ef3f1-356">Fare clic su **database SQL** sul lato sinistro di hello toosee portale Azure hello database SQL a cui verrà utilizzato nell'esercitazione hello e fare clic su hello **tolldatadb**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-356">Click **SQL DATABASES** on hello left side of hello Azure portal toosee hello SQL database that will be used in hello tutorial and click **tolldatadb**.</span></span>
   
    ![Schermata di hello creato il database SQL](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15.png)
2. <span data-ttu-id="ef3f1-358">Nome del server hello copia senza numero di porta hello (*servername*. database.windows.net, ad esempio).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-358">Copy hello server name without hello port number (*servername*.database.windows.net, for example).</span></span>
    <span data-ttu-id="ef3f1-359">![Schermata di hello creato il database di database SQL](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15a.png)</span><span class="sxs-lookup"><span data-stu-id="ef3f1-359">![Screenshot of hello created SQL database db](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15a.png)</span></span>

## <a name="connect-toohello-database-from-visual-studio"></a><span data-ttu-id="ef3f1-360">La connessione a database toohello da Visual Studio</span><span class="sxs-lookup"><span data-stu-id="ef3f1-360">Connect toohello database from Visual Studio</span></span>
<span data-ttu-id="ef3f1-361">Utilizzare Visual Studio tooaccess risultati della query nel database di output di hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-361">Use Visual Studio tooaccess query results in hello output database.</span></span>

<span data-ttu-id="ef3f1-362">La connessione a database SQL di toohello (destinazione hello) da Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-362">Connect toohello SQL database (hello destination) from Visual Studio:</span></span>

1. <span data-ttu-id="ef3f1-363">Aprire Visual Studio e quindi fare clic su **strumenti** > **connettersi tooDatabase**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-363">Open Visual Studio, and then click **Tools** > **Connect tooDatabase**.</span></span>
2. <span data-ttu-id="ef3f1-364">Se richiesto, selezionare **Microsoft SQL Server** come origine dati.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-364">If asked, click **Microsoft SQL Server** as a data source.</span></span>
   
    ![Finestra di dialogo Modifica origine dati](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image16.png)
3. <span data-ttu-id="ef3f1-366">In hello **nome Server** campo, incollare il nome hello copiato nella sezione precedente hello dal portale di Azure hello (vale a dire *servername*. database.windows.net).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-366">In hello **Server name** field, paste hello name that you copied in hello previous section from hello Azure portal (that is, *servername*.database.windows.net).</span></span>
4. <span data-ttu-id="ef3f1-367">Selezionare **Usa autenticazione di SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-367">Click **Use SQL Server Authentication**.</span></span>
5. <span data-ttu-id="ef3f1-368">Immettere **tolladmin** in hello **nome utente** campo e **123toll!**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-368">Enter **tolladmin** in hello **User name** field and **123toll!**</span></span> <span data-ttu-id="ef3f1-369">in hello **Password** campo.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-369">in hello **Password** field.</span></span>
6. <span data-ttu-id="ef3f1-370">Fare clic su **selezionare o immettere un nome di database**e selezionare **TollDataDB** come database hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-370">Click **Select or enter a database name**, and select **TollDataDB** as hello database.</span></span>
   
    ![Finestra di dialogo Aggiungi connessione](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image17.jpg)
7. <span data-ttu-id="ef3f1-372">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-372">Click **OK**.</span></span>
8. <span data-ttu-id="ef3f1-373">Aprire Esplora server.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-373">Open Server Explorer.</span></span>
   
    ![Esplora server](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image18.png)
9. <span data-ttu-id="ef3f1-375">Vedere quattro tabelle nel database TollDataDB hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-375">See four tables in hello TollDataDB database.</span></span>
   
    ![Tabelle nel database TollDataDB hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image19.jpg)

## <a name="event-generator-tollapp-sample-project"></a><span data-ttu-id="ef3f1-377">Generatore di eventi: progetto di esempio TollApp</span><span class="sxs-lookup"><span data-stu-id="ef3f1-377">Event generator: TollApp sample project</span></span>
<span data-ttu-id="ef3f1-378">Hello script di PowerShell viene avviato automaticamente toosend eventi utilizzando programma dell'applicazione di esempio TollApp hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-378">hello PowerShell script automatically starts toosend events by using hello TollApp sample application program.</span></span> <span data-ttu-id="ef3f1-379">Non è necessario tooperform eventuali passaggi aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-379">You don’t need tooperform any additional steps.</span></span>

<span data-ttu-id="ef3f1-380">Tuttavia, se si è interessati nei dettagli di implementazione, è possibile trovare il codice sorgente hello di hello applicazione TollApp in GitHub [esempi/TollApp](https://aka.ms/azure-stream-analytics-toll-source).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-380">However, if you are interested in implementation details, you can find hello source code of hello TollApp application in GitHub [samples/TollApp](https://aka.ms/azure-stream-analytics-toll-source).</span></span>

![Screenshot del codice di esempio visualizzato in Visual Studio](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image20.png)

## <a name="create-a-stream-analytics-job"></a><span data-ttu-id="ef3f1-382">Creare un processo di Analisi di flusso.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-382">Create a Stream Analytics job</span></span>
1. <span data-ttu-id="ef3f1-383">Nel portale di Azure hello, fare clic su hello segno verde nell'angolo superiore sinistro hello di hello pagina toocreate un nuovo processo di flusso Analitica.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-383">In hello Azure portal, click hello green plus sign in hello top-left corner of hello page toocreate a new Stream Analytics job.</span></span> <span data-ttu-id="ef3f1-384">Selezionare **Intelligence e analisi** e quindi fare clic su **Processo di Analisi di flusso**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-384">Select **Intelligence + Analytics** and then click **Stream Analytics job**.</span></span>
   
    ![New button](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image21.png)
2. <span data-ttu-id="ef3f1-386">Specificare un nome di processo, convalidare la sottoscrizione di hello sia corretto e quindi creare un nuovo gruppo di risorse in hello stessa area hello archiviazione hub di eventi (valore predefinito è Stati Uniti del centro per script hello).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-386">Provide a job name, validate hello subscription is correct and then create a new Resource group in hello same region as hello Event hub storage (default is South Central US for hello script).</span></span>
3. <span data-ttu-id="ef3f1-387">Fare clic su **Pin toodashboard** e quindi **crea** nella parte inferiore di hello della pagina hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-387">Click **Pin toodashboard** and then **CREATE** at hello bottom of hello page.</span></span>
   
    ![Opzione Crea processo di Analisi di flusso](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image22.png)

## <a name="define-input-sources"></a><span data-ttu-id="ef3f1-389">Definire le origini di input</span><span class="sxs-lookup"><span data-stu-id="ef3f1-389">Define input sources</span></span>
1. <span data-ttu-id="ef3f1-390">processo Hello creare e aprire una pagina di hello del processo.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-390">hello job will create and open hello job page.</span></span> <span data-ttu-id="ef3f1-391">In alternativa, è possibile scegliere hello processo analitica nel dashboard del portale hello creato.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-391">Or you can click hello created analytics job on hello portal dashboard.</span></span>

2. <span data-ttu-id="ef3f1-392">Fare clic su hello **input** scheda toodefine hello origine dati.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-392">Click hello **INPUTS** tab toodefine hello source data.</span></span>
   
    ![scheda input Hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image24.png)
3. <span data-ttu-id="ef3f1-394">Fare clic su **AGGIUNGERE UN INPUT**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-394">Click **ADD AN INPUT**.</span></span>
   
    ![Aggiungi un'opzione di Input Hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image25.png)
4. <span data-ttu-id="ef3f1-396">Immettere **EntryStream** come **ALIAS DI INPUT**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-396">Enter **EntryStream** as **INPUT ALIAS**.</span></span>
5. <span data-ttu-id="ef3f1-397">Il tipo di origine è **flusso di dati**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-397">Source Type is **Data Stream**</span></span>
6. <span data-ttu-id="ef3f1-398">L'origine è **hub eventi**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-398">Source is **Event hub**.</span></span>
7. <span data-ttu-id="ef3f1-399">**Spazio dei nomi di Service bus** deve essere hello TollData hello elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-399">**Service bus namespace** should be hello TollData one in hello drop down.</span></span>
8. <span data-ttu-id="ef3f1-400">**Nome dell'hub eventi** deve essere impostato troppo**voce**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-400">**Event hub name** should be set too**entry**.</span></span>
9. <span data-ttu-id="ef3f1-401">**Nome criterio hub eventi*è **RootManageSharedAccessKey** (valore predefinito di hello).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-401">**Event hub policy name*is **RootManageSharedAccessKey**  (hello default value).</span></span>
10. <span data-ttu-id="ef3f1-402">Selezionare **JSON** per **FORMATO DI SERIALIZZAZIONE EVENTI** e **UTF8** per **CODIFICA**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-402">Select **JSON** for **EVENT SERIALIZATION FORMAT** and **UTF8** for **ENCODING**.</span></span>
   
    <span data-ttu-id="ef3f1-403">Le impostazioni vengono visualizzate in questo modo:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-403">Your settings will look like:</span></span>
   
    ![Impostazioni dell'hub eventi](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image28.png)

10. <span data-ttu-id="ef3f1-405">Fare clic su **crea** nella parte inferiore di hello della creazione guidata hello pagina toofinish hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-405">Click **Create** at hello bottom of hello page toofinish hello wizard.</span></span>
    
    <span data-ttu-id="ef3f1-406">Una volta creato il flusso di voce hello, si seguirà hello stesso flusso di uscita hello di toocreate passaggi.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-406">Now that you've created hello entry stream, you will follow hello same steps toocreate hello exit stream.</span></span> <span data-ttu-id="ef3f1-407">Essere valori tooenter che come nella seguente schermata hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-407">Be sure tooenter values as on hello following screenshot.</span></span>
    
    ![Impostazioni per il flusso di uscita hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image31.png)
    
    <span data-ttu-id="ef3f1-409">Sono stati definiti due flussi di input:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-409">You have defined two input streams:</span></span>
    
    ![Flussi di input definiti in hello portale di Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image32.png)
    
    <span data-ttu-id="ef3f1-411">Si aggiungeranno quindi input di dati di riferimento per i file blob hello che contiene dati di registrazione dell'automobile.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-411">Next, you will add reference data input for hello blob file that contains car registration data.</span></span>
11. <span data-ttu-id="ef3f1-412">Fare clic su **aggiungere**, quindi seguire hello stesso processo per gli input flusso hello, ma si seleziona **dati di riferimento** anziché **flusso di dati** hello e **Alias di Input**  è **registrazione**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-412">Click **ADD**, and then follow hello same process for hello stream inputs but select **REFERENCE DATA** instead of **Data Stream** and hello **Input Alias** is **Registration**.</span></span>

12. <span data-ttu-id="ef3f1-413">account di archiviazione che inizia con **tolldata**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-413">storage account that starts with **tolldata**.</span></span> <span data-ttu-id="ef3f1-414">nome del contenitore Hello debba essere **tolldata**, hello e **il modello del percorso** deve essere **registration.json**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-414">hello container name should be **tolldata**, and hello **PATH PATTERN** should be **registration.json**.</span></span> <span data-ttu-id="ef3f1-415">Il nome file fa distinzione tra maiuscole e minuscole e deve contenere solo **lettere minuscole**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-415">This file name is case sensitive and should be **lowercase**.</span></span>
    
    ![Impostazioni dell'archivio BLOB](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image34.png)
13. <span data-ttu-id="ef3f1-417">Fare clic su **crea** guidata hello toofinish.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-417">Click **Create** toofinish hello wizard.</span></span>

<span data-ttu-id="ef3f1-418">Ora sono definiti tutti gli input.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-418">Now all inputs are defined.</span></span>

## <a name="define-output"></a><span data-ttu-id="ef3f1-419">Definire l'output</span><span class="sxs-lookup"><span data-stu-id="ef3f1-419">Define output</span></span>
1. <span data-ttu-id="ef3f1-420">Nel riquadro Panoramica processo flusso Analitica hello selezionare **output**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-420">On hello Stream Analytics job overview pane, select **OUTPUTS**.</span></span>
   
    ![scheda Output di Hello e l'opzione "Aggiungere un output"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image37.png)
2. <span data-ttu-id="ef3f1-422">Fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-422">Click **Add**.</span></span>
3. <span data-ttu-id="ef3f1-423">Set hello **alias di Output** too'output' e quindi **Sink** troppo**database SQL**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-423">Set hello **Output alias** too'output' and then **Sink** too**SQL database**.</span></span>
3. <span data-ttu-id="ef3f1-424">Selezionare Nome hello del server che è stato utilizzato nella sezione "Connect tooDatabase da Visual Studio" dell'articolo hello hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-424">Select hello server name that was used in hello “Connect tooDatabase from Visual Studio” section of hello article.</span></span> <span data-ttu-id="ef3f1-425">nome del database Hello **TollDataDB**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-425">hello database name is **TollDataDB**.</span></span>
4. <span data-ttu-id="ef3f1-426">Immettere **tolladmin** in hello **USERNAME** campo **123toll!**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-426">Enter **tolladmin** in hello **USERNAME** field, **123toll!**</span></span> <span data-ttu-id="ef3f1-427">in hello **PASSWORD** , campo e **TollDataRefJoin** in hello **tabella** campo.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-427">in hello **PASSWORD** field, and **TollDataRefJoin** in hello **TABLE** field.</span></span>
   
    ![Impostazioni del database SQL](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image38.png)
5. <span data-ttu-id="ef3f1-429">Fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-429">Click **Create**.</span></span>

## <a name="azure-stream-analytics-query"></a><span data-ttu-id="ef3f1-430">Query di analisi di flusso di Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-430">Azure Stream analytics query</span></span>
<span data-ttu-id="ef3f1-431">Hello **QUERY** scheda contiene una query SQL che trasformazioni hello dati in arrivo.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-431">hello **QUERY** tab contains a SQL query that transforms hello incoming data.</span></span>

![Aggiunta di una query scheda Query toohello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image39.png)

<span data-ttu-id="ef3f1-433">In questa esercitazione tenta tooanswer diverse domande aziendali che sono correlate dati tootoll e costrutti Analitica flusso esegue una query che possono essere usate in Azure flusso Analitica tooprovide una risposta pertinente.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-433">This tutorial attempts tooanswer several business questions that are related tootoll data and constructs Stream Analytics queries that can be used in Azure Stream Analytics tooprovide a relevant answer.</span></span>

<span data-ttu-id="ef3f1-434">Prima di iniziare il primo processo di flusso Analitica, vediamo alcuni scenari e la sintassi di query hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-434">Before you start your first Stream Analytics job, let’s explore a few scenarios and hello query syntax.</span></span>

## <a name="introduction-tooazure-stream-analytics-query-language"></a><span data-ttu-id="ef3f1-435">Introduzione tooAzure linguaggio di query Analitica di flusso</span><span class="sxs-lookup"><span data-stu-id="ef3f1-435">Introduction tooAzure Stream Analytics query language</span></span>
- - -
<span data-ttu-id="ef3f1-436">Si supponga che è necessario numero hello toocount dei veicoli che immette un casello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-436">Let’s say that you need toocount hello number of vehicles that enter a toll booth.</span></span> <span data-ttu-id="ef3f1-437">Poiché si tratta di un flusso continuo di eventi, occorre toodefine un "periodo di tempo."</span><span class="sxs-lookup"><span data-stu-id="ef3f1-437">Because this is a continuous stream of events, you have toodefine a “period of time.”</span></span> <span data-ttu-id="ef3f1-438">È opportuno modificare toobe domanda hello "quanti veicoli immettere un casello ogni tre minuti?".</span><span class="sxs-lookup"><span data-stu-id="ef3f1-438">Let's modify hello question toobe “How many vehicles enter a toll booth every three minutes?”.</span></span> <span data-ttu-id="ef3f1-439">Si tratta di hello tooas comunemente noti a cascata di conteggio.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-439">This is commonly referred tooas hello tumbling count.</span></span>

<span data-ttu-id="ef3f1-440">Diamo un'occhiata query Azure flusso Analitica hello che risponda a questa domanda:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-440">Let’s look at hello Azure Stream Analytics query that answers this question:</span></span>

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*) AS Count
    FROM EntryStream TIMESTAMP BY EntryTime
    GROUP BY TUMBLINGWINDOW(minute, 3), TollId

<span data-ttu-id="ef3f1-441">Come si può notare, Analitica di flusso di Azure Usa un linguaggio di query che è simile a SQL e aggiunge alcune estensioni toospecify ora aspetti delle query hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-441">As you can see, Azure Stream Analytics uses a query language that's like SQL and adds a few extensions toospecify time-related aspects of hello query.</span></span>

<span data-ttu-id="ef3f1-442">Per ulteriori dettagli, fare riferimento a [gestione del tempo](https://msdn.microsoft.com/library/azure/mt582045.aspx) e [Windowing](https://msdn.microsoft.com/library/azure/dn835019.aspx) costrutti utilizzati nella query hello da MSDN.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-442">For more details, read about [Time Management](https://msdn.microsoft.com/library/azure/mt582045.aspx) and [Windowing](https://msdn.microsoft.com/library/azure/dn835019.aspx) constructs used in hello query from MSDN.</span></span>

## <a name="testing-azure-stream-analytics-queries"></a><span data-ttu-id="ef3f1-443">Eseguire i test delle query di analisi di flusso di Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-443">Testing Azure Stream Analytics queries</span></span>
<span data-ttu-id="ef3f1-444">Ora che è stato scritto della prima query Analitica di flusso di Azure, è possibile tootest ora utilizzando i file di dati di esempio che si trovano nella cartella TollApp nel seguente percorso hello:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-444">Now that you have written your first Azure Stream Analytics query, it is time tootest it by using sample data files located in your TollApp folder in hello following path:</span></span>

<span data-ttu-id="ef3f1-445">**..\\TollApp\\TollApp\\Data**</span><span class="sxs-lookup"><span data-stu-id="ef3f1-445">**..\\TollApp\\TollApp\\Data**</span></span>

<span data-ttu-id="ef3f1-446">Questa cartella contiene i seguenti file hello:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-446">This folder contains hello following files:</span></span>

* <span data-ttu-id="ef3f1-447">Entry.json</span><span class="sxs-lookup"><span data-stu-id="ef3f1-447">Entry.json</span></span>
* <span data-ttu-id="ef3f1-448">Exit.json</span><span class="sxs-lookup"><span data-stu-id="ef3f1-448">Exit.json</span></span>
* <span data-ttu-id="ef3f1-449">registration.json</span><span class="sxs-lookup"><span data-stu-id="ef3f1-449">Registration.json</span></span>

## <a name="question-1-number-of-vehicles-entering-a-toll-booth"></a><span data-ttu-id="ef3f1-450">Domanda 1: Numero di veicoli che entrano in un casello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-450">Question 1: Number of vehicles entering a toll booth</span></span>
1. <span data-ttu-id="ef3f1-451">Aprire hello portale di Azure e processo Analitica di flusso di Azure andare tooyour creato.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-451">Open hello Azure portal and go tooyour created Azure Stream Analytics job.</span></span> <span data-ttu-id="ef3f1-452">Fare clic su hello **QUERY** scheda e incollare query dalla sezione precedente hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-452">Click hello **QUERY** tab and paste query from hello previous section.</span></span>

2. <span data-ttu-id="ef3f1-453">toovalidate questa query nei dati di esempio, caricare i dati in input EntryStream facendo hello hello hello... simbolo e selezionando **caricare i dati di esempio dal file**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-453">toovalidate this query against sample data, upload hello data into hello EntryStream input by clicking hello ... symbol and selecting **Upload sample data from file**.</span></span>

    ![Schermata del file Entry.json hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image41.png)
3. <span data-ttu-id="ef3f1-455">Nel riquadro di hello che viene visualizzato il file hello selezionare (Entry.json) nel computer locale e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-455">In hello pane that appears select hello file (Entry.json) on your local machine and click **OK**.</span></span> <span data-ttu-id="ef3f1-456">Hello **Test** icona verrà accende ed essere selezionabile.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-456">hello **Test** icon will now illuminate and be clickable.</span></span>
   
    ![Schermata del file Entry.json hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image42.png)
3. <span data-ttu-id="ef3f1-458">Verificare che l'output di hello di query hello è come previsto:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-458">Validate that hello output of hello query is as expected:</span></span>
   
    ![Risultati del test di hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image43.png)

## <a name="question-2-report-total-time-for-each-car-toopass-through-hello-toll-booth"></a><span data-ttu-id="ef3f1-460">Domanda 2: Tempo totale di Report per ogni toopass car tramite casello hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-460">Question 2: Report total time for each car toopass through hello toll booth</span></span>
<span data-ttu-id="ef3f1-461">tempo medio di Hello necessaria per un toopass car tramite casello hello consente l'efficienza di hello tooassess del processo di hello e analisi utilizzo software hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-461">hello average time that's required for a car toopass through hello toll helps tooassess hello efficiency of hello process and hello customer experience.</span></span>

<span data-ttu-id="ef3f1-462">tempo totale di hello toofind, è necessario toojoin hello EntryTime flusso flusso ExitTime hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-462">toofind hello total time, you need toojoin hello EntryTime stream with hello ExitTime stream.</span></span> <span data-ttu-id="ef3f1-463">Verrà aggiunta flussi hello in colonne TollId e LicencePlate.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-463">You will join hello streams on TollId and LicencePlate columns.</span></span> <span data-ttu-id="ef3f1-464">Hello **JOIN** operatore richiede flessibilità temporale toospecify che descrive il tempo accettabile di hello differenza tra hello unita in join gli eventi.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-464">hello **JOIN** operator requires you toospecify temporal leeway that describes hello acceptable time difference between hello joined events.</span></span> <span data-ttu-id="ef3f1-465">Si utilizzerà **DATEDIFF** funzione toospecify che gli eventi devono essere non più di 15 minuti da altra.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-465">You will use **DATEDIFF** function toospecify that events should be no more than 15 minutes from each other.</span></span> <span data-ttu-id="ef3f1-466">Verrà inoltre applicato hello **DATEDIFF** tooexit funzione e la voce volte toocompute hello tempo effettivo di un'automobile trascorre nella hello verde stazione.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-466">You will also apply hello **DATEDIFF** function tooexit and entry times toocompute hello actual time that a car spends in hello toll station.</span></span> <span data-ttu-id="ef3f1-467">Si noti la differenza hello dell'utilizzo di hello del **DATEDIFF** quando viene usato un **selezionare** istruzione piuttosto che un **JOIN** condizione.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-467">Note hello difference of hello use of **DATEDIFF** when it's used in a **SELECT** statement rather than a **JOIN** condition.</span></span>

    SELECT EntryStream.TollId, EntryStream.EntryTime, ExitStream.ExitTime, EntryStream.LicensePlate, DATEDIFF (minute , EntryStream.EntryTime, ExitStream.ExitTime) AS DurationInMinutes
    FROM EntryStream TIMESTAMP BY EntryTime
    JOIN ExitStream TIMESTAMP BY ExitTime
    ON (EntryStream.TollId= ExitStream.TollId AND EntryStream.LicensePlate = ExitStream.LicensePlate)
    AND DATEDIFF (minute, EntryStream, ExitStream ) BETWEEN 0 AND 15

1. <span data-ttu-id="ef3f1-468">tootest questa query, query di aggiornamento hello in hello **QUERY** per processo hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-468">tootest this query, update hello query on hello **QUERY** for hello job.</span></span> <span data-ttu-id="ef3f1-469">Aggiungere il file di test hello per **ExitStream** come **EntryStream** è stato immesso in precedenza.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-469">Add hello test file for **ExitStream** just like **EntryStream** was entered above.</span></span>
   
2. <span data-ttu-id="ef3f1-470">Fare clic su **Test**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-470">Click **Test**.</span></span>

3. <span data-ttu-id="ef3f1-471">Selezionare una casella di controllo tootest hello query e visualizzare hello output di hello:</span><span class="sxs-lookup"><span data-stu-id="ef3f1-471">Select hello check box tootest hello query and view hello output:</span></span>
   
    ![Output del test di hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image45.png)

## <a name="question-3-report-all-commercial-vehicles-with-expired-registration"></a><span data-ttu-id="ef3f1-473">Domanda 3: Report di tutti i veicoli commerciali con registrazione scaduta</span><span class="sxs-lookup"><span data-stu-id="ef3f1-473">Question 3: Report all commercial vehicles with expired registration</span></span>
<span data-ttu-id="ef3f1-474">Analitica di flusso di Azure è possibile utilizzare snapshot statici dei dati toojoin con flussi di dati temporali.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-474">Azure Stream Analytics can use static snapshots of data toojoin with temporal data streams.</span></span> <span data-ttu-id="ef3f1-475">toodemonstrate questa funzionalità, utilizzare hello domanda di esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-475">toodemonstrate this capability, use hello following sample question.</span></span>

<span data-ttu-id="ef3f1-476">Se un veicolo commerciale è registrato con società toll hello, può passare attraverso casello hello senza essere fermato per l'ispezione.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-476">If a commercial vehicle is registered with hello toll company, it can pass through hello toll booth without being stopped for inspection.</span></span> <span data-ttu-id="ef3f1-477">Utilizzare tutti i veicoli commerciali scaduti registrazioni tooidentify tabella di ricerca registrazione veicolo commerciale.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-477">You will use Commercial Vehicle Registration lookup table tooidentify all commercial vehicles that have expired registrations.</span></span>

```
SELECT EntryStream.EntryTime, EntryStream.LicensePlate, EntryStream.TollId, Registration.RegistrationId
FROM EntryStream TIMESTAMP BY EntryTime
JOIN Registration
ON EntryStream.LicensePlate = Registration.LicensePlate
WHERE Registration.Expired = '1'
```

<span data-ttu-id="ef3f1-478">tootest una query utilizzando i dati di riferimento, è necessario toodefine un'origine di input per i dati di riferimento hello, che è già stata eseguita.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-478">tootest a query by using reference data, you need toodefine an input source for hello reference data, which you have done already.</span></span>

<span data-ttu-id="ef3f1-479">tootest questa query, query hello Incolla in hello **QUERY** scheda, fare clic su **Test**e specificare le origini di input hello due registrazione hello dati di esempio e fare clic su **Test**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-479">tootest this query, paste hello query into hello **QUERY** tab, click **Test**, and specify hello two input sources and hello registration sample data and click **Test**.</span></span>  
   
![Output del test di hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image46.png)

## <a name="start-hello-stream-analytics-job"></a><span data-ttu-id="ef3f1-481">Avviare il processo di flusso Analitica hello</span><span class="sxs-lookup"><span data-stu-id="ef3f1-481">Start hello Stream Analytics job</span></span>
<span data-ttu-id="ef3f1-482">È ora toofinish hello configurazione e avvio hello processo timer.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-482">Now it's time toofinish hello configuration and start hello job.</span></span> <span data-ttu-id="ef3f1-483">Salvare la query hello dalla domanda 3, che viene prodotto un output che corrispondenze hello dello schema di hello **TollDataRefJoin** tabella di output.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-483">Save hello query from Question 3, which will produce output that matches hello schema of hello **TollDataRefJoin** output table.</span></span>

<span data-ttu-id="ef3f1-484">Processo passare toohello **DASHBOARD**, fare clic su **avviare**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-484">Go toohello job **DASHBOARD**, and click **START**.</span></span>

![Schermata del pulsante Start hello in dashboard processo hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image48.png)

<span data-ttu-id="ef3f1-486">In hello finestra di dialogo che consente di aprire, modificare hello **avviare OUTPUT** troppo tempo**ora personalizzato**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-486">In hello dialog box that opens, change hello **START OUTPUT** time too**CUSTOM TIME**.</span></span> <span data-ttu-id="ef3f1-487">Modifica hello ora tooone ora prima hello ora corrente.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-487">Change hello hour tooone hour before hello current time.</span></span> <span data-ttu-id="ef3f1-488">Questa modifica assicura che tutti gli eventi provenienti dall'hub di eventi hello vengono elaborati dopo l'avvio di eventi di hello toogenerate all'inizio di hello di esercitazione hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-488">This change ensures that all events from hello event hub are processed since you started toogenerate hello events at hello beginning of hello tutorial.</span></span> <span data-ttu-id="ef3f1-489">Fare clic su hello **avviare** processo hello toostart di pulsante.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-489">Now click hello **Start** button toostart hello job.</span></span>

![Selezione dell'ora personalizzata](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image49.png)

<span data-ttu-id="ef3f1-491">Avvio del processo di hello può richiedere alcuni minuti.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-491">Starting hello job can take a few minutes.</span></span> <span data-ttu-id="ef3f1-492">È possibile visualizzare lo stato di hello nella pagina di primo livello hello per Analitica di flusso.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-492">You can see hello status on hello top-level page for Stream Analytics.</span></span>

![Schermata di stato hello del processo di hello](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image50.png)

## <a name="check-results-in-visual-studio"></a><span data-ttu-id="ef3f1-494">Controllare i risultati in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="ef3f1-494">Check results in Visual Studio</span></span>
1. <span data-ttu-id="ef3f1-495">Aprire Esplora Server Visual Studio e fare doppio clic su hello **TollDataRefJoin** tabella.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-495">Open Visual Studio Server Explorer, and right-click hello **TollDataRefJoin** table.</span></span>
2. <span data-ttu-id="ef3f1-496">Fare clic su **Mostra dati tabella** toosee output di hello del processo.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-496">Click **Show Table Data** toosee hello output of your job.</span></span>
   
    ![Selezione di "Mostra dati tabella" in Esplora server](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image51.jpg)

## <a name="scale-out-azure-stream-analytics-jobs"></a><span data-ttu-id="ef3f1-498">Scalabilità orizzontale dei processi di Analisi di flusso di Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-498">Scale out Azure Stream Analytics jobs</span></span>
<span data-ttu-id="ef3f1-499">È progettato Azure Analitica flusso tooelastically ridimensionare in modo che possa gestire una grande quantità di dati.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-499">Azure Stream Analytics is designed tooelastically scale so that it can handle a lot of data.</span></span> <span data-ttu-id="ef3f1-500">query di Hello Analitica di flusso di Azure è possibile utilizzare un **PARTITION BY** sistema di hello tootell clausola che questo passaggio verrà scalabilità orizzontale. **PartitionId** è una colonna speciale che hello sistema aggiunge l'ID di partizione hello toomatch dell'input hello (hub di eventi).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-500">hello Azure Stream Analytics query can use a **PARTITION BY** clause tootell hello system that this step will scale out. **PartitionId** is a special column that hello system adds toomatch hello partition ID of hello input (event hub).</span></span>

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*)AS Count
    FROM EntryStream TIMESTAMP BY EntryTime PARTITION BY PartitionId
    GROUP BY TUMBLINGWINDOW(minute,3), TollId, PartitionId

1. <span data-ttu-id="ef3f1-501">Interruzione processo corrente di hello, query di aggiornamento hello in hello **QUERY** scheda e aprire hello **impostazioni** ingranaggio in dashboard processo hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-501">Stop hello current job, update hello query in hello **QUERY** tab, and open hello **Settings** gear in hello job dashboard.</span></span> <span data-ttu-id="ef3f1-502">Fare clic su **Scale**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-502">Click **Scale**.</span></span>
   
    <span data-ttu-id="ef3f1-503">**UNITÀ di STREAMING** definire quantità hello di potenza di calcolo che hello processo può ricevere.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-503">**STREAMING UNITS** define hello amount of compute power that hello job can receive.</span></span>
2. <span data-ttu-id="ef3f1-504">Modifica hello elenco a discesa da 1 da 6.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-504">Change hello drop down from 1 from 6.</span></span>
   
    ![Screenshot della selezione di sei unità di streaming](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image52.png)
3. <span data-ttu-id="ef3f1-506">Passare toohello **output** scheda e modificare il nome di hello della tabella SQL hello troppo**TollDataTumblingCountPartitioned**.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-506">Go toohello **OUTPUTS** tab and change hello name of hello SQL table too**TollDataTumblingCountPartitioned**.</span></span>

<span data-ttu-id="ef3f1-507">Se si avvia il processo di hello a questo punto, Azure flusso Analitica può distribuire il lavoro su più risorse di calcolo e migliorare la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-507">If you start hello job now, Azure Stream Analytics can distribute work across more compute resources and achieve better throughput.</span></span> <span data-ttu-id="ef3f1-508">Si noti che TollApp applicazione hello è anche l'invio di eventi partizionati in base al TollId.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-508">Please note that hello TollApp application is also sending events partitioned by TollId.</span></span>

## <a name="monitor"></a><span data-ttu-id="ef3f1-509">Monitorare</span><span class="sxs-lookup"><span data-stu-id="ef3f1-509">Monitor</span></span>
<span data-ttu-id="ef3f1-510">Hello **monitoraggio** area contenente le statistiche sull'esecuzione del processo hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-510">hello **MONITOR** area contains statistics about hello running job.</span></span> <span data-ttu-id="ef3f1-511">Prima volta che la configurazione è necessaria l'account di archiviazione toouse hello in hello stessa regione (nome casello come hello resto di questo documento).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-511">First time configuration is needed toouse hello storage account in hello same region (name toll like hello rest of this document).</span></span>   

![Screenshot di monitoraggio](media/stream-analytics-build-an-iot-solution-using-stream-analytics/monitoring.png)

<span data-ttu-id="ef3f1-513">È possibile accedere a **log attività** dal dashboard processo hello **impostazioni** nonché l'area.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-513">You can access **Activity Logs** from hello job dashboard **Settings** area as well.</span></span>


## <a name="conclusion"></a><span data-ttu-id="ef3f1-514">Conclusioni</span><span class="sxs-lookup"><span data-stu-id="ef3f1-514">Conclusion</span></span>
<span data-ttu-id="ef3f1-515">In questa esercitazione, è stato introdotto il servizio di Analitica di flusso di Azure toohello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-515">This tutorial introduced you toohello Azure Stream Analytics service.</span></span> <span data-ttu-id="ef3f1-516">Illustrato come tooconfigure input e output per hello processo flusso Analitica.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-516">It demonstrated how tooconfigure inputs and outputs for hello Stream Analytics job.</span></span> <span data-ttu-id="ef3f1-517">Uno scenario casello dati hello esercitazione hello illustrati tipi comuni di problemi che si verificano nello spazio di hello dei dati in movimento e come può essere risolto con query SQL semplice in Azure flusso Analitica.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-517">Using hello Toll Data scenario, hello tutorial explained common types of problems that arise in hello space of data in motion and how they can be solved with simple SQL-like queries in Azure Stream Analytics.</span></span> <span data-ttu-id="ef3f1-518">esercitazione Hello descritto SQL costrutti di estensione per l'utilizzo di dati temporali.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-518">hello tutorial described SQL extension constructs for working with temporal data.</span></span> <span data-ttu-id="ef3f1-519">È stato illustrato come flussi di dati toojoin, come flusso di dati di hello tooenrich con dati di riferimento statici e come tooscale out una velocità effettiva superiore tooachieve query.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-519">It showed how toojoin data streams, how tooenrich hello data stream with static reference data, and how tooscale out a query tooachieve higher throughput.</span></span>

<span data-ttu-id="ef3f1-520">Anche se questa esercitazione offre una buona introduzione, non può ritenersi completa.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-520">Although this tutorial provides a good introduction, it is not complete by any means.</span></span> <span data-ttu-id="ef3f1-521">È possibile trovare ulteriori modelli di query utilizzando linguaggio SAQL hello [esempi per modelli di utilizzo comune flusso Analitica Query](stream-analytics-stream-analytics-query-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="ef3f1-521">You can find more query patterns using hello SAQL language at [Query examples for common Stream Analytics usage patterns](stream-analytics-stream-analytics-query-patterns.md).</span></span>
<span data-ttu-id="ef3f1-522">Fare riferimento toohello [documentazione in linea](https://azure.microsoft.com/documentation/services/stream-analytics/) toolearn ulteriori informazioni sulla Analitica di flusso di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-522">Refer toohello [online documentation](https://azure.microsoft.com/documentation/services/stream-analytics/) toolearn more about Azure Stream Analytics.</span></span>

## <a name="clean-up-your-azure-account"></a><span data-ttu-id="ef3f1-523">Eseguire la pulizia dell'account Azure</span><span class="sxs-lookup"><span data-stu-id="ef3f1-523">Clean up your Azure account</span></span>
1. <span data-ttu-id="ef3f1-524">Arrestare il processo di flusso Analitica hello in hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-524">Stop hello Stream Analytics job in hello Azure portal.</span></span>
   
    <span data-ttu-id="ef3f1-525">Hello Setup.ps1 script crea due hub di eventi e un database SQL.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-525">hello Setup.ps1 script creates two event hubs and a SQL database.</span></span> <span data-ttu-id="ef3f1-526">Hello seguendo la Guida di istruzioni che pulire le risorse al fine di hello dell'esercitazione hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-526">hello following instructions help you clean up resources at hello end of hello tutorial.</span></span>
2. <span data-ttu-id="ef3f1-527">In una finestra di PowerShell, digitare **.\\ Cleanup.ps1** script hello toostart che elimina le risorse utilizzate nell'esercitazione hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-527">In a PowerShell window, type **.\\Cleanup.ps1** toostart hello script that deletes resources used in hello tutorial.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="ef3f1-528">Le risorse sono identificate in base al nome hello.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-528">Resources are identified by hello name.</span></span> <span data-ttu-id="ef3f1-529">Assicurarsi di controllare attentamente ogni elemento prima di confermarne la rimozione.</span><span class="sxs-lookup"><span data-stu-id="ef3f1-529">Make sure you carefully review each item before confirming removal.</span></span>
   > 
   > 


