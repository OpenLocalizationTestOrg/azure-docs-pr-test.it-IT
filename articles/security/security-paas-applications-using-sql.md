---
title: Protezione di database PaaS in Azure | Microsoft Docs
description: " Informazioni sulle procedure consigliate per la protezione delle applicazioni Web e per dispositivi mobili in PaaS tramite il database SQL di Azure e SQL Data Warehouse. "
services: security
documentationcenter: na
author: techlake
manager: MBaldwin
editor: 
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/11/2017
ms.author: terrylan
ms.openlocfilehash: 18509b3fc3a73118f67583a0b087c58f0e51993c
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="securing-paas-databases-in-azure"></a><span data-ttu-id="8580a-103">Protezione di database PaaS in Azure</span><span class="sxs-lookup"><span data-stu-id="8580a-103">Securing PaaS databases in Azure</span></span>

<span data-ttu-id="8580a-104">In questo articolo vengono illustrate varie procedure consigliate per la protezione delle applicazioni Web e per dispositivi mobili in PaaS mediante il [database SQL di Azure](https://azure.microsoft.com/services/sql-database/) e [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="8580a-104">In this article, we discuss a collection of [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) and [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/) security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="8580a-105">Le procedure consigliate si basano sull'esperienza di tecnici e clienti con Azure.</span><span class="sxs-lookup"><span data-stu-id="8580a-105">These best practices are derived from our experience with Azure and the experiences of customers like yourself.</span></span>

## <a name="azure-sql-database-and-sql-data-warehouse"></a><span data-ttu-id="8580a-106">Database SQL di Azure e SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="8580a-106">Azure SQL Database and SQL Data Warehouse</span></span>
<span data-ttu-id="8580a-107">Il [database SQL di Azure](../sql-database/sql-database-technical-overview.md) e [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) forniscono un servizio di database relazionale per le applicazioni basate su Internet.</span><span class="sxs-lookup"><span data-stu-id="8580a-107">[Azure SQL Database](../sql-database/sql-database-technical-overview.md) and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) provide a relational database service for your Internet-based applications.</span></span> <span data-ttu-id="8580a-108">Verranno ora illustrati i servizi che aiutano a proteggere applicazioni e dati quando si usano il database SQL di Azure e SQL Data Warehouse in una distribuzione PaaS:</span><span class="sxs-lookup"><span data-stu-id="8580a-108">Let’s look at services that help protect your applications and data when using Azure SQL Database and SQL Data Warehouse in a PaaS deployment:</span></span>

- <span data-ttu-id="8580a-109">Autenticazione di Azure Active Directory (invece di autenticazione di SQL Server)</span><span class="sxs-lookup"><span data-stu-id="8580a-109">Azure Active Directory authentication (instead of SQL Server authentication)</span></span>
- <span data-ttu-id="8580a-110">Firewall SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="8580a-110">Azure SQL firewall</span></span>
- <span data-ttu-id="8580a-111">Transparent data encryption (TDE)</span><span class="sxs-lookup"><span data-stu-id="8580a-111">Transparent Data Encryption (TDE)</span></span>

## <a name="best-practices"></a><span data-ttu-id="8580a-112">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="8580a-112">Best practices</span></span>

### <a name="use-a-centralized-identity-repository-for-authentication-and-authorization"></a><span data-ttu-id="8580a-113">Usare un repository di identità centralizzato per autenticazione e autorizzazione</span><span class="sxs-lookup"><span data-stu-id="8580a-113">Use a centralized identity repository for authentication and authorization</span></span>

<span data-ttu-id="8580a-114">È possibile configurare i database SQL affinché usino uno tra due tipi di autenticazione:</span><span class="sxs-lookup"><span data-stu-id="8580a-114">Azure SQL databases can be configured to use one of two types of authentication:</span></span>

- <span data-ttu-id="8580a-115">**Autenticazione SQL** usa nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="8580a-115">**SQL Authentication** uses a username and password.</span></span> <span data-ttu-id="8580a-116">Durante la creazione del server logico per il database, è stato specificato un account di accesso "amministratore del server" con un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="8580a-116">When you created the logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="8580a-117">Usando queste credenziali, è possibile essere autenticati in qualsiasi database di tale server in qualità di proprietario del database.</span><span class="sxs-lookup"><span data-stu-id="8580a-117">Using these credentials, you can authenticate to any database on that server as the database owner.</span></span>

- <span data-ttu-id="8580a-118">**Autenticazione di Azure Active Directory** usa identità gestite da Azure Active Directory ed è supportata per domini gestiti e integrati.</span><span class="sxs-lookup"><span data-stu-id="8580a-118">**Azure Active Directory Authentication** uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="8580a-119">Per usare l'autenticazione di Azure Active Directory, è necessario creare un altro amministratore del server denominato "admin Azure AD," che è autorizzato ad amministrare utenti e gruppi di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8580a-119">To use Azure Active Directory Authentication, you must create another server admin called the "Azure AD admin," which is allowed to administer Azure AD users and groups.</span></span> <span data-ttu-id="8580a-120">Questo amministratore può inoltre eseguire tutte le operazioni che un amministratore del server regolare può fare.</span><span class="sxs-lookup"><span data-stu-id="8580a-120">This admin can also perform all operations that a regular server admin can.</span></span>

<span data-ttu-id="8580a-121">L'[autenticazione di Azure Active Directory](../active-directory/develop/active-directory-authentication-scenarios.md) è un meccanismo di connessione al database SQL di Azure e a SQL Data Warehouse tramite le identità di Azure Active Directory (AD).</span><span class="sxs-lookup"><span data-stu-id="8580a-121">[Azure Active Directory authentication](../active-directory/develop/active-directory-authentication-scenarios.md) is a mechanism of connecting to Azure SQL Database and SQL Data Warehouse by using identities in Azure Active Directory (AD).</span></span> <span data-ttu-id="8580a-122">Azure AD rappresenta un'alternativa all'autenticazione di SQL Server, anche per evitare la proliferazione di identità utente in più server di database.</span><span class="sxs-lookup"><span data-stu-id="8580a-122">Azure AD provides an alternative to SQL Server authentication so you can stop the proliferation of user identities across database servers.</span></span> <span data-ttu-id="8580a-123">Con l'autenticazione di Azure AD è possibile gestire centralmente le identità degli utenti del database e di altri servizi Microsoft.</span><span class="sxs-lookup"><span data-stu-id="8580a-123">Azure AD authentication enables you to centrally manage the identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="8580a-124">La gestione centrale degli ID consente di gestire gli utenti del database da un unico punto e semplifica la gestione delle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="8580a-124">Central ID management provides a single place to manage database users and simplifies permission management.</span></span>  

<span data-ttu-id="8580a-125">Vantaggi dell'uso dell'autenticazione di Azure AD al posto dell'autenticazione SQL:</span><span class="sxs-lookup"><span data-stu-id="8580a-125">Benefits of using Azure AD authentication instead of SQL authentication include:</span></span>

- <span data-ttu-id="8580a-126">Consente la rotazione delle password in un'unica posizione.</span><span class="sxs-lookup"><span data-stu-id="8580a-126">Allows password rotation in a single place.</span></span>
- <span data-ttu-id="8580a-127">Consente di gestire le autorizzazioni del database tramite gruppi Azure AD esterni.</span><span class="sxs-lookup"><span data-stu-id="8580a-127">Manages database permissions using external Azure AD groups.</span></span>
- <span data-ttu-id="8580a-128">Consente di eliminare l'archiviazione delle password abilitando l'autenticazione integrata di Windows e altre forme di autenticazione supportate da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8580a-128">Eliminates storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure AD.</span></span>
- <span data-ttu-id="8580a-129">Usa gli utenti di database indipendente per autenticare le identità a livello di database.</span><span class="sxs-lookup"><span data-stu-id="8580a-129">Uses contained database users to authenticate identities at the database level.</span></span>
- <span data-ttu-id="8580a-130">Supporta l'autenticazione basata su token per le applicazioni che si connettono al database SQL.</span><span class="sxs-lookup"><span data-stu-id="8580a-130">Supports token-based authentication for applications connecting to SQL Database.</span></span>
- <span data-ttu-id="8580a-131">Supporta la federazione dei domini di AD FS o l'autenticazione utente/password nativa per un'istanza locale di Azure AD senza la sincronizzazione del dominio.</span><span class="sxs-lookup"><span data-stu-id="8580a-131">Supports ADFS (domain federation) or native user/password authentication for a local Azure AD without domain synchronization.</span></span>
- <span data-ttu-id="8580a-132">Supporta le connessioni da SQL Server Management Studio che utilizzano l'autenticazione universale di Active Directory, che include l'autenticazione [MFA (Multi-Factor Authentication)](../multi-factor-authentication/multi-factor-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="8580a-132">Supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes [Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md).</span></span> <span data-ttu-id="8580a-133">L'MFA include funzionalità avanzate di autenticazione con una serie di semplici opzioni di verifica, tra cui: chiamata telefonica, SMS, smart card con pin o notifica tramite app per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="8580a-133">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="8580a-134">Per altre informazioni [Supporto di SQL Server Management Studio (SSMS) per l'autenticazione MFA di Azure AD con il database SQL e SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="8580a-134">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span></span>

<span data-ttu-id="8580a-135">Per altre informazioni sull'autenticazione di Azure AD, vedere:</span><span class="sxs-lookup"><span data-stu-id="8580a-135">To learn more about Azure AD authentication, see:</span></span>

- [<span data-ttu-id="8580a-136">Connessione al database SQL oppure a SQL Data Warehouse con l'autenticazione di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="8580a-136">Connecting to SQL Database or SQL Data Warehouse By Using Azure Active Directory Authentication</span></span>](../sql-database/sql-database-aad-authentication.md)
- [<span data-ttu-id="8580a-137">Autenticazione in Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="8580a-137">Authentication to Azure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-authentication.md)
- [<span data-ttu-id="8580a-138">Supporto per l'autenticazione basata su token per il database di SQL Azure mediante l'autenticazione di Azure AD</span><span class="sxs-lookup"><span data-stu-id="8580a-138">Token-based authentication support for Azure SQL DB using Azure AD authentication</span></span>](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/)

> [!NOTE]
> <span data-ttu-id="8580a-139">Per assicurarsi che Azure Active Directory sia ideale per l'ambiente di riferimento, vedere [le funzionalità e le limitazioni di Azure AD](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), in particolare le considerazioni aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="8580a-139">To ensure that Azure Active Directory is a good fit for your environment, see [Azure AD features and limitations](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), specifically the additional considerations.</span></span>
>
>

### <a name="restrict-access-based-on-ip-address"></a><span data-ttu-id="8580a-140">Limitare l'accesso in base all'indirizzo IP</span><span class="sxs-lookup"><span data-stu-id="8580a-140">Restrict Access based on IP Address</span></span>
<span data-ttu-id="8580a-141">È possibile creare regole del firewall che specificano gli intervalli di indirizzi IP accettabili.</span><span class="sxs-lookup"><span data-stu-id="8580a-141">You can create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="8580a-142">Queste regole possono essere destinate a livello di server e database.</span><span class="sxs-lookup"><span data-stu-id="8580a-142">These rules can be targeted at both the server and database levels.</span></span> <span data-ttu-id="8580a-143">È consigliabile usare le regole del firewall a livello di database quando è possibile, allo scopo di migliorare la sicurezza e la portabilità del database.</span><span class="sxs-lookup"><span data-stu-id="8580a-143">We recommend using database-level firewall rules whenever possible to enhance security and to make your database more portable.</span></span> <span data-ttu-id="8580a-144">Le regole del firewall a livello di server sono utili per gli amministratori e in presenza di molti molti database che presentano gli stessi requisiti di accesso ma non si vuole dedicare tempo alla configurazione di ogni singolo database.</span><span class="sxs-lookup"><span data-stu-id="8580a-144">Server-level firewall rules are best used for administrators and when you have many databases that have the same access requirements but you don't want to spend time configuring each database individually.</span></span>

<span data-ttu-id="8580a-145">Le restrizioni predefinite agli indirizzi IP di origine del database SQL consentono l'accesso da qualsiasi indirizzo di Azure, inclusi altri tenant e sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="8580a-145">SQL Database’s default source IP address restrictions allow access from any Azure address (including other subscriptions and tenants).</span></span> <span data-ttu-id="8580a-146">È possibile modificare le restrizioni per consentire l'accesso all'istanza solo ai propri indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="8580a-146">You can restrict this to only allow your IP addresses to access the instance.</span></span> <span data-ttu-id="8580a-147">Anche in presenza del firewall SQL e delle restrizioni per gli indirizzi IP, è comunque necessaria un'autenticazione avanzata.</span><span class="sxs-lookup"><span data-stu-id="8580a-147">Even with your SQL firewall and IP address restrictions, strong authentication is still needed.</span></span> <span data-ttu-id="8580a-148">Vedere le indicazioni riportate in precedenza in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="8580a-148">See the recommendations made earlier in this article.</span></span>

<span data-ttu-id="8580a-149">Per altre informazioni sul firewall SQL di Azure e sulle restrizioni per gli indirizzi IP, vedere:</span><span class="sxs-lookup"><span data-stu-id="8580a-149">To learn more about Azure SQL Firewall and IP restrictions, see:</span></span>

- [<span data-ttu-id="8580a-150">Controllo dell'accesso al database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="8580a-150">Azure SQL Database access control</span></span>](../sql-database/sql-database-control-access.md)
- [<span data-ttu-id="8580a-151">Configurare le regole del firewall per il database SQL di Azure - Panoramica</span><span class="sxs-lookup"><span data-stu-id="8580a-151">Configure Azure SQL Database firewall rules - overview</span></span>](../sql-database/sql-database-firewall-configure.md)
- [<span data-ttu-id="8580a-152">Configurare una regola firewall a livello di server per il database SQL di Azure tramite il portale di Azure</span><span class="sxs-lookup"><span data-stu-id="8580a-152">Configure an Azure SQL Database server-level firewall rule using the Azure portal</span></span>](../sql-database/sql-database-configure-firewall-settings.md)

### <a name="encryption-of-data-at-rest"></a><span data-ttu-id="8580a-153">Crittografia dei dati inattivi</span><span class="sxs-lookup"><span data-stu-id="8580a-153">Encryption of data at rest</span></span>
<span data-ttu-id="8580a-154">La funzionalità [Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/azure/bb934049) è abilitata per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="8580a-154">[Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/azure/bb934049) is enabled by default.</span></span> <span data-ttu-id="8580a-155">Crittografa in modo trasparente i file di log e dati di SQL Server, del database SQL di Azure e Microsoft Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="8580a-155">TDE transparently encrypts SQL Server, Azure SQL Database, and Azure SQL Data Warehouse data and log files.</span></span> <span data-ttu-id="8580a-156">Questa crittografia consente di proteggere da una violazione di accesso diretto ai file o ai backup.</span><span class="sxs-lookup"><span data-stu-id="8580a-156">TDE protects against a compromise of direct access to the files or their backup.</span></span> <span data-ttu-id="8580a-157">Ciò consente di crittografare i dati inattivi senza modificare le applicazioni esistenti.</span><span class="sxs-lookup"><span data-stu-id="8580a-157">This enables you to encrypt data at rest without changing existing applications.</span></span> <span data-ttu-id="8580a-158">La funzionalità Transparent Data Encryption deve essere sempre attivata; un malintenzionato potrà comunque eseguire un attacco tramite il percorso di accesso normale.</span><span class="sxs-lookup"><span data-stu-id="8580a-158">TDE should always stay enabled; however, this will not stop an attacker using the normal access path.</span></span> <span data-ttu-id="8580a-159">Offre inoltre la possibilità di conformarsi a diverse leggi, normative e linee guida stabilite in vari settori.</span><span class="sxs-lookup"><span data-stu-id="8580a-159">TDE provides the ability to comply with many laws, regulations, and guidelines established in various industries.</span></span>

<span data-ttu-id="8580a-160">Azure SQL gestisce i principali problemi correlati per TDE.</span><span class="sxs-lookup"><span data-stu-id="8580a-160">Azure SQL manages key related issues for TDE.</span></span> <span data-ttu-id="8580a-161">Come con TDE, è necessario prestare particolare attenzione al livello locale per garantire la recuperabilità e lo spostamento di database.</span><span class="sxs-lookup"><span data-stu-id="8580a-161">As with TDE, on premise special care must be taken to ensure recoverability and when moving databases.</span></span> <span data-ttu-id="8580a-162">In scenari più sofisticati, le chiavi possono essere gestite in modo esplicito in Azure Key Vault tramite Extensible Key Management (vedere [Abilitare TDE in SQL Server con EKM](/security/encryption/enable-tde-on-sql-server-using-ekm)).</span><span class="sxs-lookup"><span data-stu-id="8580a-162">In more sophisticated scenarios, the keys can be explicitly managed in Azure Key Vault through extensible key management (see [Enable TDE on SQL Server Using EKM](/security/encryption/enable-tde-on-sql-server-using-ekm)).</span></span> <span data-ttu-id="8580a-163">Ciò consente anche l'uso di Bring Your Own Key (BYOK) tramite la capacità BYOK di Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="8580a-163">This also allows for Bring Your Own Key (BYOK) through Azure Key Vaults BYOK capability.</span></span>

<span data-ttu-id="8580a-164">Azure SQL fornisce la crittografia per le colonne tramite [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span><span class="sxs-lookup"><span data-stu-id="8580a-164">Azure SQL provides encryption for columns through [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span></span> <span data-ttu-id="8580a-165">Questa crittografia consente solo alle applicazioni autorizzate l'accesso alle colonne sensibili.</span><span class="sxs-lookup"><span data-stu-id="8580a-165">This allows only authorized applications access to sensitive columns.</span></span> <span data-ttu-id="8580a-166">L'uso di questo tipo di crittografia limita le query SQL per le colonne crittografate a valori basati sull'uguaglianza.</span><span class="sxs-lookup"><span data-stu-id="8580a-166">Using this kind of encryption limits SQL queries for encrypted columns to equality-based values.</span></span>

<span data-ttu-id="8580a-167">La crittografia a livello di applicazione deve essere usata anche per dati selettivi.</span><span class="sxs-lookup"><span data-stu-id="8580a-167">Application level encryption should also be used for selective data.</span></span> <span data-ttu-id="8580a-168">È possibile talvolta limitare le problematiche legate alla sovranità dei dati crittografandoli con una chiave da conservare nel paese appropriato.</span><span class="sxs-lookup"><span data-stu-id="8580a-168">Data sovereignty concerns can sometimes be mitigated by encrypting data with a key that is kept in the correct country.</span></span> <span data-ttu-id="8580a-169">In questo modo si impedisce anche che un trasferimento accidentale dei dati possa rappresentare un problema, perché è comunque impossibile decrittografarli senza la chiave, presupponendo che venga usato un algoritmo avanzato come AES 256.</span><span class="sxs-lookup"><span data-stu-id="8580a-169">This prevents even accidental data transfer from causing an issue since it is impossible to decrypt the data without the key, assuming a strong algorithm is used (such as AES 256).</span></span>

<span data-ttu-id="8580a-170">È possibile usare diverse precauzioni per proteggere il database, ad esempio la progettazione di un sistema sicuro, la crittografia di risorse riservate e la creazione di un firewall che protegga i server di database.</span><span class="sxs-lookup"><span data-stu-id="8580a-170">You can use additional precautions to help secure the database such as designing a secure system, encrypting confidential assets, and building a firewall around the database servers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8580a-171">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="8580a-171">Next steps</span></span>
<span data-ttu-id="8580a-172">In questo articolo sono state illustrate varie procedure consigliate per la protezione delle applicazioni Web e per dispositivi mobili in PaaS mediante il database SQL e SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="8580a-172">This article introduced you to a collection of SQL Database and SQL Data Warehouse security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="8580a-173">Per altre informazioni sulla protezione delle distribuzioni PaaS, vedere:</span><span class="sxs-lookup"><span data-stu-id="8580a-173">To learn more about securing your PaaS deployments, see:</span></span>

- [<span data-ttu-id="8580a-174">Protezione delle distribuzioni PaaS</span><span class="sxs-lookup"><span data-stu-id="8580a-174">Securing PaaS deployments</span></span>](security-paas-deployments.md)
- [<span data-ttu-id="8580a-175">Protezione delle applicazioni Web e per dispositivi mobili in PaaS mediante i Servizi app di Azure</span><span class="sxs-lookup"><span data-stu-id="8580a-175">Securing PaaS web and mobile applications using Azure App Services</span></span>](security-paas-applications-using-app-services.md)
