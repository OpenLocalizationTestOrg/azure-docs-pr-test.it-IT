---
title: le impostazioni di KVSActorStateProvider aaaChange in Azure microservizi | Documenti Microsoft
description: Informazioni sulla configurazione di attori con stato di tipo KVSActorStateProvider in Service Fabric di Azure.
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: e003512678556e68a8926b1b9c6c28d9ae3979d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="5b4ce-103">Configurare KVSActorStateProvider di Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="5b4ce-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="5b4ce-104">È possibile modificare configurazione predefinita di hello di KVSActorStateProvider modificando hello Settings file che viene generato nella directory principale del pacchetto di Microsoft Visual Studio hello nella cartella Config hello per attore specificato hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-104">You can modify hello default configuration of KVSActorStateProvider by changing hello settings.xml file that is generated in hello Microsoft Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="5b4ce-105">Hello Azure Service Fabric runtime cerca i nomi di sezione predefinita nel file Settings hello e utilizza i valori di configurazione hello durante la creazione di componenti di runtime sottostante hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="5b4ce-106">Eseguire **non** eliminare o modificare i nomi di sezione hello di hello seguendo le configurazioni nel file Settings hello che viene generato in hello soluzione di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="5b4ce-107">Configurazione della sicurezza del replicatore</span><span class="sxs-lookup"><span data-stu-id="5b4ce-107">Replicator security configuration</span></span>
<span data-ttu-id="5b4ce-108">Le configurazioni di sicurezza Replicator sono canale di comunicazione utilizzati toosecure hello utilizzato durante la replica.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-108">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="5b4ce-109">Ciò significa che i servizi non è possibile vedere di altro traffico di replica, assicurandosi che i dati hello resi altamente disponibili anche siano sicuri.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-109">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="5b4ce-110">Per impostazione predefinita, una sezione di configurazione della sicurezza vuota non abilita la sicurezza della replica.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="5b4ce-111">Nome della sezione</span><span class="sxs-lookup"><span data-stu-id="5b4ce-111">Section name</span></span>
<span data-ttu-id="5b4ce-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="5b4ce-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="5b4ce-113">Configurazione del replicatore</span><span class="sxs-lookup"><span data-stu-id="5b4ce-113">Replicator configuration</span></span>
<span data-ttu-id="5b4ce-114">Le configurazioni di Replicator configurare replicator hello che è responsabile di garantire lo stato del Provider di stato attore hello altamente affidabile.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-114">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="5b4ce-115">configurazione predefinita di Hello viene generato dal modello di Visual Studio hello e dovrebbe essere sufficiente.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-115">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="5b4ce-116">In questa sezione si indica ulteriori configurazioni replicator hello tootune disponibili.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-116">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="5b4ce-117">Nome della sezione</span><span class="sxs-lookup"><span data-stu-id="5b4ce-117">Section name</span></span>
<span data-ttu-id="5b4ce-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="5b4ce-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="5b4ce-119">Nomi delle configurazioni</span><span class="sxs-lookup"><span data-stu-id="5b4ce-119">Configuration names</span></span>
| <span data-ttu-id="5b4ce-120">Nome</span><span class="sxs-lookup"><span data-stu-id="5b4ce-120">Name</span></span> | <span data-ttu-id="5b4ce-121">Unità</span><span class="sxs-lookup"><span data-stu-id="5b4ce-121">Unit</span></span> | <span data-ttu-id="5b4ce-122">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="5b4ce-122">Default value</span></span> | <span data-ttu-id="5b4ce-123">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="5b4ce-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="5b4ce-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="5b4ce-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="5b4ce-125">Secondi</span><span class="sxs-lookup"><span data-stu-id="5b4ce-125">Seconds</span></span> |<span data-ttu-id="5b4ce-126">0,015</span><span class="sxs-lookup"><span data-stu-id="5b4ce-126">0.015</span></span> |<span data-ttu-id="5b4ce-127">Periodo di tempo per cui replicator hello in attese secondario di hello dopo la ricezione di un'operazione prima di inviare nuovamente un toohello acknowledgement primario.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-127">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="5b4ce-128">Altri toobe acknowledgement inviato per le operazioni di elaborazione all'interno dell'intervallo vengono inviati come una risposta.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-128">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="5b4ce-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="5b4ce-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="5b4ce-130">N/D</span><span class="sxs-lookup"><span data-stu-id="5b4ce-130">N/A</span></span> |<span data-ttu-id="5b4ce-131">Nessun valore predefinito: parametro obbligatorio</span><span class="sxs-lookup"><span data-stu-id="5b4ce-131">No default--required parameter</span></span> |<span data-ttu-id="5b4ce-132">Indirizzo IP e porta hello primario o secondario. replicator utilizzerà toocommunicate con altri i servizi di replica nel set di repliche hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-132">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="5b4ce-133">Si deve fare riferimento a un endpoint TCP risorse di manifesto del servizio hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-133">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="5b4ce-134">Fare riferimento troppo[risorse manifesto del servizio](service-fabric-service-manifest-resources.md) tooread ulteriori informazioni sulla definizione delle risorse di endpoint nel manifesto del servizio hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-134">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in hello service manifest.</span></span> |
| <span data-ttu-id="5b4ce-135">RetryInterval</span><span class="sxs-lookup"><span data-stu-id="5b4ce-135">RetryInterval</span></span> |<span data-ttu-id="5b4ce-136">Secondi</span><span class="sxs-lookup"><span data-stu-id="5b4ce-136">Seconds</span></span> |<span data-ttu-id="5b4ce-137">5</span><span class="sxs-lookup"><span data-stu-id="5b4ce-137">5</span></span> |<span data-ttu-id="5b4ce-138">Periodo di tempo dopo replicator quali hello nuovamente trasmette un messaggio se non viene ricevuto un acknowledgement per un'operazione.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-138">Time period after which hello replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="5b4ce-139">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="5b4ce-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="5b4ce-140">Byte</span><span class="sxs-lookup"><span data-stu-id="5b4ce-140">Bytes</span></span> |<span data-ttu-id="5b4ce-141">50 MB</span><span class="sxs-lookup"><span data-stu-id="5b4ce-141">50 MB</span></span> |<span data-ttu-id="5b4ce-142">Dimensione massima dei dati di replica che è possibile trasmettere in un singolo messaggio.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="5b4ce-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="5b4ce-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="5b4ce-144">Numero di operazioni</span><span class="sxs-lookup"><span data-stu-id="5b4ce-144">Number of operations</span></span> |<span data-ttu-id="5b4ce-145">1024</span><span class="sxs-lookup"><span data-stu-id="5b4ce-145">1024</span></span> |<span data-ttu-id="5b4ce-146">Numero massimo di operazioni in coda primaria hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-146">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="5b4ce-147">Un'operazione viene liberata dopo la replica primaria hello riceverà un acknowledgement da tutti i Replicator secondario hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-147">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="5b4ce-148">Questo valore deve essere maggiore di 64 ed essere una potenza di 2.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="5b4ce-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="5b4ce-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="5b4ce-150">Numero di operazioni</span><span class="sxs-lookup"><span data-stu-id="5b4ce-150">Number of operations</span></span> |<span data-ttu-id="5b4ce-151">2048</span><span class="sxs-lookup"><span data-stu-id="5b4ce-151">2048</span></span> |<span data-ttu-id="5b4ce-152">Numero massimo di operazioni nella coda secondaria hello.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-152">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="5b4ce-153">Un'operazione viene liberata quando il relativo stato viene reso altamente disponibile tramite persistenza.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="5b4ce-154">Questo valore deve essere maggiore di 64 ed essere una potenza di 2.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="5b4ce-155">Configurazione dell'archivio</span><span class="sxs-lookup"><span data-stu-id="5b4ce-155">Store configuration</span></span>
<span data-ttu-id="5b4ce-156">Le configurazioni di archivio sono utilizzati tooconfigure hello archivio locale che è stato hello toopersist utilizzati che viene replicato.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-156">Store configurations are used tooconfigure hello local store that is used toopersist hello state that is being replicated.</span></span>
<span data-ttu-id="5b4ce-157">configurazione predefinita di Hello viene generato dal modello di Visual Studio hello e dovrebbe essere sufficiente.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-157">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="5b4ce-158">In questa sezione si indica ulteriori configurazioni archivio locale di hello tootune disponibili.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-158">This section talks about additional configurations that are available tootune hello local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="5b4ce-159">Nome della sezione</span><span class="sxs-lookup"><span data-stu-id="5b4ce-159">Section name</span></span>
<span data-ttu-id="5b4ce-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="5b4ce-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="5b4ce-161">Nomi delle configurazioni</span><span class="sxs-lookup"><span data-stu-id="5b4ce-161">Configuration names</span></span>
| <span data-ttu-id="5b4ce-162">Nome</span><span class="sxs-lookup"><span data-stu-id="5b4ce-162">Name</span></span> | <span data-ttu-id="5b4ce-163">Unità</span><span class="sxs-lookup"><span data-stu-id="5b4ce-163">Unit</span></span> | <span data-ttu-id="5b4ce-164">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="5b4ce-164">Default value</span></span> | <span data-ttu-id="5b4ce-165">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="5b4ce-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="5b4ce-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="5b4ce-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="5b4ce-167">Millisecondi</span><span class="sxs-lookup"><span data-stu-id="5b4ce-167">Milliseconds</span></span> |<span data-ttu-id="5b4ce-168">200</span><span class="sxs-lookup"><span data-stu-id="5b4ce-168">200</span></span> |<span data-ttu-id="5b4ce-169">Imposta massimo hello intervallo per l'archivio locale durevole commit di batch.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-169">Sets hello maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="5b4ce-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="5b4ce-170">MaxVerPages</span></span> |<span data-ttu-id="5b4ce-171">Numero di pagine</span><span class="sxs-lookup"><span data-stu-id="5b4ce-171">Number of pages</span></span> |<span data-ttu-id="5b4ce-172">16384</span><span class="sxs-lookup"><span data-stu-id="5b4ce-172">16384</span></span> |<span data-ttu-id="5b4ce-173">numero massimo di Hello di pagine della versione di hello locale archiviazione i database.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-173">hello maximum number of version pages in hello local store database.</span></span> <span data-ttu-id="5b4ce-174">Determina il numero massimo di hello di transazioni in sospeso.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-174">It determines hello maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="5b4ce-175">File di configurazione di esempio</span><span class="sxs-lookup"><span data-stu-id="5b4ce-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="5b4ce-176">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="5b4ce-176">Remarks</span></span>
<span data-ttu-id="5b4ce-177">parametro BatchAcknowledgementInterval Hello controlla la latenza di replica.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-177">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="5b4ce-178">Il valore '0' comporterà hello latenza più bassa possibile, al costo di hello di velocità effettiva (come ulteriori messaggi di riconoscimento devono essere inviati e l'elaborazione, ognuno dei quali contiene un numero inferiore di riconoscimenti).</span><span class="sxs-lookup"><span data-stu-id="5b4ce-178">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="5b4ce-179">Hello valore più grande di hello per BatchAcknowledgementInterval, hello hello superiore complessiva velocità effettiva della replica, al costo di hello di latenza più elevata di operazione.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-179">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="5b4ce-180">Questo si traduce direttamente toohello latenza del commit delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="5b4ce-180">This directly translates toohello latency of transaction commits.</span></span>

