---
title: Rete virtuale (VNet) aaaAzure piano e Guida alla progettazione | Documenti Microsoft
description: "Informazioni su come tooplan e progettare le reti virtuali in Azure in base ai requisiti di isolamento, la connettività e posizione."
services: virtual-network
documentationcenter: na
author: jimdial
manager: carmonm
editor: tysonn
ms.assetid: 3a4a9aea-7608-4d2e-bb3c-40de2e537200
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/08/2016
ms.author: jdial
ms.openlocfilehash: f3ffadf8cf254f64b1f86b44f90315d2bc679f63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="plan-and-design-azure-virtual-networks"></a><span data-ttu-id="4e627-103">Pianificare e progettare reti virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="4e627-103">Plan and design Azure Virtual Networks</span></span>
<span data-ttu-id="4e627-104">Tooexperiment una rete virtuale con la creazione è abbastanza semplice, ma è possibile che si distribuire più reti virtuali su tempo toosupport hello esigenze della propria organizzazione.</span><span class="sxs-lookup"><span data-stu-id="4e627-104">Creating a VNet tooexperiment with is easy enough, but chances are, you will deploy multiple VNets over time toosupport hello production needs of your organization.</span></span> <span data-ttu-id="4e627-105">Con una pianificazione e progettazione, si verrà toodeploy in grado di reti virtuali e connettere le risorse di hello che è necessario in modo più efficace.</span><span class="sxs-lookup"><span data-stu-id="4e627-105">With some planning and design, you will be able toodeploy VNets and connect hello resources you need more effectively.</span></span> <span data-ttu-id="4e627-106">Se non si ha familiarità con le reti virtuali, è consigliabile si [informazioni sulle reti virtuali](virtual-networks-overview.md) e [come toodeploy](virtual-networks-create-vnet-arm-pportal.md) uno prima di procedere.</span><span class="sxs-lookup"><span data-stu-id="4e627-106">If you are not familiar with VNets, it's recommended that you [learn about VNets](virtual-networks-overview.md) and [how toodeploy](virtual-networks-create-vnet-arm-pportal.md) one before proceeding.</span></span>

## <a name="plan"></a><span data-ttu-id="4e627-107">Pianificazione</span><span class="sxs-lookup"><span data-stu-id="4e627-107">Plan</span></span>
<span data-ttu-id="4e627-108">Per ottenere buoni risultati, è fondamentale una conoscenza approfondita delle sottoscrizioni, delle aree e delle risorse di rete di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-108">A thorough understanding of Azure subscriptions, regions, and network resources is critical for success.</span></span> <span data-ttu-id="4e627-109">È possibile utilizzare l'elenco di hello considerazioni seguito come un punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="4e627-109">You can use hello list of considerations below as a starting point.</span></span> <span data-ttu-id="4e627-110">Dopo aver appreso tali considerazioni, è possibile definire requisiti hello per la progettazione della rete.</span><span class="sxs-lookup"><span data-stu-id="4e627-110">Once you understand those considerations, you can define hello requirements for your network design.</span></span>

### <a name="considerations"></a><span data-ttu-id="4e627-111">Considerazioni</span><span class="sxs-lookup"><span data-stu-id="4e627-111">Considerations</span></span>
<span data-ttu-id="4e627-112">Prima di rispondere alle seguenti domande di pianificazione hello, prendere in considerazione i seguenti hello:</span><span class="sxs-lookup"><span data-stu-id="4e627-112">Before answering hello planning questions below, consider hello following:</span></span>

* <span data-ttu-id="4e627-113">Tutti gli oggetti creati in Azure sono composti da una o più risorse.</span><span class="sxs-lookup"><span data-stu-id="4e627-113">Everything you create in Azure is composed of one or more resources.</span></span> <span data-ttu-id="4e627-114">Una macchina virtuale (VM) è una risorsa hello scheda di rete (NIC) utilizzata da una macchina virtuale è una risorsa, indirizzo IP pubblico hello utilizzato da una scheda di rete è una risorsa, hello di rete virtuale hello NIC connessa toois una risorsa.</span><span class="sxs-lookup"><span data-stu-id="4e627-114">A virtual machine (VM) is a resource, hello network adapter interface (NIC) used by a VM is a resource, hello public IP address used by a NIC is a resource, hello VNet hello NIC is connected toois a resource.</span></span>
* <span data-ttu-id="4e627-115">Le risorse vengono create all'interno di un' [area](https://azure.microsoft.com/regions/#services) e una sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-115">You create resources within an [Azure region](https://azure.microsoft.com/regions/#services) and subscription.</span></span> <span data-ttu-id="4e627-116">Risorse possono essere solo tooa connesso rete virtuale presente in hello stessa risorsa di hello regione e sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="4e627-116">Resources can only be connected tooa virtual network that exists in hello same region and subscription hello resource is in.</span></span>
* <span data-ttu-id="4e627-117">È possibile connettersi tooeach altre reti virtuali utilizzando:</span><span class="sxs-lookup"><span data-stu-id="4e627-117">You can connect virtual networks tooeach other by using:</span></span>
    * <span data-ttu-id="4e627-118">**[Rete virtuale peering](virtual-network-peering-overview.md)**: le reti virtuali hello devono esistere in hello stessa regione di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-118">**[Virtual network peering](virtual-network-peering-overview.md)**: hello virtual networks must exist in hello same Azure region.</span></span> <span data-ttu-id="4e627-119">Larghezza di banda tra risorse nel peering reti virtuali è hello stesso come se le risorse di hello erano connesso toohello stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="4e627-119">Bandwidth between resources in peered virtual networks is hello same as if hello resources were connected toohello same virtual network.</span></span>
    * <span data-ttu-id="4e627-120">**Un Azure [Gateway VPN](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: le reti virtuali hello possono esistere in hello stesso, o diverse aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-120">**An Azure [VPN Gateway](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello virtual networks can exist in hello same, or different Azure regions.</span></span> <span data-ttu-id="4e627-121">Larghezza di banda tra le risorse in reti virtuali connesse tramite un Gateway VPN è limitata dalla larghezza di banda hello di hello Gateway VPN.</span><span class="sxs-lookup"><span data-stu-id="4e627-121">Bandwidth between resources in virtual networks connected through a VPN Gateway is limited by hello bandwidth of hello VPN Gateway.</span></span>
* <span data-ttu-id="4e627-122">È possibile connettersi rete locale di reti virtuali tooyour utilizzando uno dei hello [opzioni di connettività](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) disponibili in Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-122">You can connect VNets tooyour on-premises network by using one of hello [connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) available in Azure.</span></span>
* <span data-ttu-id="4e627-123">Risorse diverse possono essere raggruppate in [gruppi di risorse](../azure-resource-manager/resource-group-overview.md#resource-groups), rendendo più semplice risorse di hello toomanage come unità.</span><span class="sxs-lookup"><span data-stu-id="4e627-123">Different resources can be grouped together in [resource groups](../azure-resource-manager/resource-group-overview.md#resource-groups), making it easier toomanage hello resource as a unit.</span></span> <span data-ttu-id="4e627-124">Un gruppo di risorse può contenere risorse da più aree, come risorse di hello appartenere toohello stessa sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="4e627-124">A resource group can contain resources from multiple regions, as long as hello resources belong toohello same subscription.</span></span>

### <a name="define-requirements"></a><span data-ttu-id="4e627-125">Definire i requisiti</span><span class="sxs-lookup"><span data-stu-id="4e627-125">Define requirements</span></span>
<span data-ttu-id="4e627-126">Usare domande hello seguito come un punto di partenza per la progettazione della rete di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-126">Use hello questions below as a starting point for your Azure network design.</span></span>    

1. <span data-ttu-id="4e627-127">Le posizioni di Azure saranno necessario utilizzare toohost reti virtuali?</span><span class="sxs-lookup"><span data-stu-id="4e627-127">What Azure locations will you use toohost VNets?</span></span>
2. <span data-ttu-id="4e627-128">È necessario tooprovide comunicazione tra questi percorsi di Azure?</span><span class="sxs-lookup"><span data-stu-id="4e627-128">Do you need tooprovide communication between these Azure locations?</span></span>
3. <span data-ttu-id="4e627-129">È necessario tooprovide comunicazione tra il VNet(s) di Azure e il data center locale?</span><span class="sxs-lookup"><span data-stu-id="4e627-129">Do you need tooprovide communication between your Azure VNet(s) and your on-premises datacenter(s)?</span></span>
4. <span data-ttu-id="4e627-130">Quante VM IaaS (Infrastructure as a Service), ruoli dei servizi cloud e app Web sono necessari per la soluzione?</span><span class="sxs-lookup"><span data-stu-id="4e627-130">How many Infrastructure as a Service (IaaS) VMs, cloud services roles, and web apps do you need for your solution?</span></span>
5. <span data-ttu-id="4e627-131">È necessario tooisolate il traffico in base ai gruppi di macchine virtuali (i server web, ovvero front-end e server di database back-end)?</span><span class="sxs-lookup"><span data-stu-id="4e627-131">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>
6. <span data-ttu-id="4e627-132">È necessario che il flusso del traffico toocontrol utilizzando Appliance virtuali?</span><span class="sxs-lookup"><span data-stu-id="4e627-132">Do you need toocontrol traffic flow using virtual appliances?</span></span>
7. <span data-ttu-id="4e627-133">Fare gli utenti necessità diversi set di autorizzazioni toodifferent risorse di Azure?</span><span class="sxs-lookup"><span data-stu-id="4e627-133">Do users need different sets of permissions toodifferent Azure resources?</span></span>

### <a name="understand-vnet-and-subnet-properties"></a><span data-ttu-id="4e627-134">Comprendere le proprietà della rete virtuale e della subnet</span><span class="sxs-lookup"><span data-stu-id="4e627-134">Understand VNet and subnet properties</span></span>
<span data-ttu-id="4e627-135">Le risorse della rete virtuale e della subnet consentono di definire un limite di sicurezza per i carichi di lavoro in esecuzione in Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-135">VNet and subnets resources help define a security boundary for workloads running in Azure.</span></span> <span data-ttu-id="4e627-136">Una rete virtuale è caratterizzata da una raccolta di spazi di indirizzi, definiti come blocchi CIDR.</span><span class="sxs-lookup"><span data-stu-id="4e627-136">A VNet is characterized by a collection of address spaces, defined as CIDR blocks.</span></span>

> [!NOTE]
> <span data-ttu-id="4e627-137">Gli amministratori di rete hanno familiarità con la notazione CIDR.</span><span class="sxs-lookup"><span data-stu-id="4e627-137">Network administrators are familiar with CIDR notation.</span></span> <span data-ttu-id="4e627-138">Se non si ha familiarità con CIDR, è possibile [ottenere maggiori informazioni](http://whatismyipaddress.com/cidr).</span><span class="sxs-lookup"><span data-stu-id="4e627-138">If you are not familiar with CIDR, [learn more about it](http://whatismyipaddress.com/cidr).</span></span>
>
>

<span data-ttu-id="4e627-139">Le reti virtuali contengono hello le proprietà seguenti.</span><span class="sxs-lookup"><span data-stu-id="4e627-139">VNets contain hello following properties.</span></span>

| <span data-ttu-id="4e627-140">Proprietà</span><span class="sxs-lookup"><span data-stu-id="4e627-140">Property</span></span> | <span data-ttu-id="4e627-141">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4e627-141">Description</span></span> | <span data-ttu-id="4e627-142">Vincoli</span><span class="sxs-lookup"><span data-stu-id="4e627-142">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4e627-143">**nome**</span><span class="sxs-lookup"><span data-stu-id="4e627-143">**name**</span></span> |<span data-ttu-id="4e627-144">Nome della rete virtuale</span><span class="sxs-lookup"><span data-stu-id="4e627-144">VNet name</span></span> |<span data-ttu-id="4e627-145">Stringa di caratteri too80.</span><span class="sxs-lookup"><span data-stu-id="4e627-145">String of up too80 characters.</span></span> <span data-ttu-id="4e627-146">Può contenere lettere, numeri, caratteri di sottolineatura, punti o trattini.</span><span class="sxs-lookup"><span data-stu-id="4e627-146">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="4e627-147">Deve iniziare con una lettera o un numero.</span><span class="sxs-lookup"><span data-stu-id="4e627-147">Must start with a letter or number.</span></span> <span data-ttu-id="4e627-148">Deve terminare con una lettera, un numero o un carattere di sottolineatura.</span><span class="sxs-lookup"><span data-stu-id="4e627-148">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="4e627-149">Può contenere lettere maiuscole o minuscole.</span><span class="sxs-lookup"><span data-stu-id="4e627-149">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="4e627-150">**location**</span><span class="sxs-lookup"><span data-stu-id="4e627-150">**location**</span></span> |<span data-ttu-id="4e627-151">Località di Azure (anche tooas cui regione).</span><span class="sxs-lookup"><span data-stu-id="4e627-151">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="4e627-152">Deve essere uno dei hello posizioni di Azure validi.</span><span class="sxs-lookup"><span data-stu-id="4e627-152">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="4e627-153">**addressSpace**</span><span class="sxs-lookup"><span data-stu-id="4e627-153">**addressSpace**</span></span> |<span data-ttu-id="4e627-154">Raccolta di prefissi di indirizzo che costituiscono hello rete virtuale nella notazione CIDR.</span><span class="sxs-lookup"><span data-stu-id="4e627-154">Collection of address prefixes that make up hello VNet in CIDR notation.</span></span> |<span data-ttu-id="4e627-155">Deve essere una matrice di blocchi di indirizzi CIDR validi, inclusi intervalli di indirizzi IP pubblici.</span><span class="sxs-lookup"><span data-stu-id="4e627-155">Must be an array of valid CIDR address blocks, including public IP address ranges.</span></span> |
| <span data-ttu-id="4e627-156">**subnet**</span><span class="sxs-lookup"><span data-stu-id="4e627-156">**subnets**</span></span> |<span data-ttu-id="4e627-157">Raccolta di subnet che costituiscono hello rete virtuale</span><span class="sxs-lookup"><span data-stu-id="4e627-157">Collection of subnets that make up hello VNet</span></span> |<span data-ttu-id="4e627-158">vedere la tabella di proprietà subnet hello seguente.</span><span class="sxs-lookup"><span data-stu-id="4e627-158">see hello subnet properties table below.</span></span> |
| <span data-ttu-id="4e627-159">**dhcpOptions**</span><span class="sxs-lookup"><span data-stu-id="4e627-159">**dhcpOptions**</span></span> |<span data-ttu-id="4e627-160">Oggetto che contiene un'unica proprietà obbligatoria denominata **dnsServers**.</span><span class="sxs-lookup"><span data-stu-id="4e627-160">Object that contains a single required property named **dnsServers**.</span></span> | |
| <span data-ttu-id="4e627-161">**dnsServers**</span><span class="sxs-lookup"><span data-stu-id="4e627-161">**dnsServers**</span></span> |<span data-ttu-id="4e627-162">Matrice di server DNS utilizzati dal hello rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="4e627-162">Array of DNS servers used by hello VNet.</span></span> <span data-ttu-id="4e627-163">Se non si specifica alcun server, viene usata la risoluzione dei nomi interna di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-163">If no server is specified, Azure internal name resolution is used.</span></span> |<span data-ttu-id="4e627-164">Deve essere una matrice di backup dei server DNS too10, utilizzando un indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="4e627-164">Must be an array of up too10 DNS servers, by IP address.</span></span> |

<span data-ttu-id="4e627-165">Una subnet è una risorsa figlio di una rete virtuale e consente di definire i segmenti degli spazi di indirizzi all'interno di un blocco CIDR, usando i prefissi degli indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="4e627-165">A subnet is a child resource of a VNet, and helps define segments of address spaces within a CIDR block, using IP address prefixes.</span></span> <span data-ttu-id="4e627-166">Schede di rete possono essere aggiunte toosubnets e tooVMs connesso, fornisce la connettività per diversi carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="4e627-166">NICs can be added toosubnets, and connected tooVMs, providing connectivity for various workloads.</span></span>

<span data-ttu-id="4e627-167">Subnet contengono hello le proprietà seguenti.</span><span class="sxs-lookup"><span data-stu-id="4e627-167">Subnets contain hello following properties.</span></span>

| <span data-ttu-id="4e627-168">Proprietà</span><span class="sxs-lookup"><span data-stu-id="4e627-168">Property</span></span> | <span data-ttu-id="4e627-169">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4e627-169">Description</span></span> | <span data-ttu-id="4e627-170">Vincoli</span><span class="sxs-lookup"><span data-stu-id="4e627-170">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4e627-171">**nome**</span><span class="sxs-lookup"><span data-stu-id="4e627-171">**name**</span></span> |<span data-ttu-id="4e627-172">Nome della subnet</span><span class="sxs-lookup"><span data-stu-id="4e627-172">Subnet name</span></span> |<span data-ttu-id="4e627-173">Stringa di caratteri too80.</span><span class="sxs-lookup"><span data-stu-id="4e627-173">String of up too80 characters.</span></span> <span data-ttu-id="4e627-174">Può contenere lettere, numeri, caratteri di sottolineatura, punti o trattini.</span><span class="sxs-lookup"><span data-stu-id="4e627-174">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="4e627-175">Deve iniziare con una lettera o un numero.</span><span class="sxs-lookup"><span data-stu-id="4e627-175">Must start with a letter or number.</span></span> <span data-ttu-id="4e627-176">Deve terminare con una lettera, un numero o un carattere di sottolineatura.</span><span class="sxs-lookup"><span data-stu-id="4e627-176">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="4e627-177">Può contenere lettere maiuscole o minuscole.</span><span class="sxs-lookup"><span data-stu-id="4e627-177">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="4e627-178">**location**</span><span class="sxs-lookup"><span data-stu-id="4e627-178">**location**</span></span> |<span data-ttu-id="4e627-179">Località di Azure (anche tooas cui regione).</span><span class="sxs-lookup"><span data-stu-id="4e627-179">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="4e627-180">Deve essere uno dei hello posizioni di Azure validi.</span><span class="sxs-lookup"><span data-stu-id="4e627-180">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="4e627-181">**addressPrefix**</span><span class="sxs-lookup"><span data-stu-id="4e627-181">**addressPrefix**</span></span> |<span data-ttu-id="4e627-182">Singolo prefisso di indirizzo di subnet hello in notazione CIDR</span><span class="sxs-lookup"><span data-stu-id="4e627-182">Single address prefix that make up hello subnet in CIDR notation</span></span> |<span data-ttu-id="4e627-183">Deve essere un singolo blocco CIDR che fa parte di uno degli spazi di indirizzi della rete virtuale di hello.</span><span class="sxs-lookup"><span data-stu-id="4e627-183">Must be a single CIDR block that is part of one of hello VNet's address spaces.</span></span> |
| <span data-ttu-id="4e627-184">**networkSecurityGroup**</span><span class="sxs-lookup"><span data-stu-id="4e627-184">**networkSecurityGroup**</span></span> |<span data-ttu-id="4e627-185">Subnet toohello NSG applicato</span><span class="sxs-lookup"><span data-stu-id="4e627-185">NSG applied toohello subnet</span></span> | |
| <span data-ttu-id="4e627-186">**routeTable**</span><span class="sxs-lookup"><span data-stu-id="4e627-186">**routeTable**</span></span> |<span data-ttu-id="4e627-187">Tabella di route applicato toohello subnet</span><span class="sxs-lookup"><span data-stu-id="4e627-187">Route table applied toohello subnet</span></span> | |
| <span data-ttu-id="4e627-188">**ipConfigurations**</span><span class="sxs-lookup"><span data-stu-id="4e627-188">**ipConfigurations**</span></span> |<span data-ttu-id="4e627-189">Raccolta di oggetti di configurazione IP usati da schede di rete connessa toohello subnet</span><span class="sxs-lookup"><span data-stu-id="4e627-189">Collection of IP configuration objects used by NICs connected toohello subnet</span></span> | |

### <a name="name-resolution"></a><span data-ttu-id="4e627-190">Risoluzione dei nomi</span><span class="sxs-lookup"><span data-stu-id="4e627-190">Name resolution</span></span>
<span data-ttu-id="4e627-191">Per impostazione predefinita, utilizza la rete virtuale [la risoluzione dei nomi fornita da Azure](virtual-networks-name-resolution-for-vms-and-role-instances.md) hello di tooresolve nomi all'interno di hello rete virtuale e nella rete Internet pubblica.</span><span class="sxs-lookup"><span data-stu-id="4e627-191">By default, your VNet uses [Azure-provided name resolution](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names inside hello VNet, and on hello public Internet.</span></span> <span data-ttu-id="4e627-192">Tuttavia, se ci si connette i data center locale tooyour di reti virtuali, è necessario tooprovide [il proprio server DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve nomi tra le reti.</span><span class="sxs-lookup"><span data-stu-id="4e627-192">However, if you connect your VNets tooyour on-premises data centers, you need tooprovide [your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names between your networks.</span></span>  

### <a name="limits"></a><span data-ttu-id="4e627-193">Limiti</span><span class="sxs-lookup"><span data-stu-id="4e627-193">Limits</span></span>
<span data-ttu-id="4e627-194">Esaminare i limiti di rete hello in hello [Azure limita](../azure-subscription-service-limits.md#networking-limits) tooensure articolo che non sia in conflitto con i limiti di hello la progettazione.</span><span class="sxs-lookup"><span data-stu-id="4e627-194">Review hello networking limits in hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article tooensure that your design doesn't conflict with any of hello limits.</span></span> <span data-ttu-id="4e627-195">Alcun limiti possono essere aumentati aprendo un ticket di supporto.</span><span class="sxs-lookup"><span data-stu-id="4e627-195">Some limits can be increased by opening a support ticket.</span></span>

### <a name="role-based-access-control-rbac"></a><span data-ttu-id="4e627-196">Controllo degli accessi in base al ruolo</span><span class="sxs-lookup"><span data-stu-id="4e627-196">Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="4e627-197">È possibile utilizzare [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) livello hello toocontrol di utenti diversi di accesso potrebbe disporre di risorse toodifferent in Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-197">You can use [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello level of access different users may have toodifferent resources in Azure.</span></span> <span data-ttu-id="4e627-198">In questo modo è possibile isolare il lavoro hello eseguita dal team in base alle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="4e627-198">That way you can segregate hello work done by your team based on their needs.</span></span>

<span data-ttu-id="4e627-199">Come quanto riguarda le reti virtuali sono interessati, gli utenti di hello **rete collaboratore** ruolo dispongono del controllo completo sulle risorse di rete virtuale di Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4e627-199">As far as virtual networks are concerned, users in hello **Network Contributor** role have full control over Azure Resource Manager virtual network resources.</span></span> <span data-ttu-id="4e627-200">Analogamente, gli utenti di hello **classico rete collaboratore** ruolo dispongono del controllo completo sulle risorse di rete virtuale classica.</span><span class="sxs-lookup"><span data-stu-id="4e627-200">Similarly, users in hello **Classic Network Contributor** role have full control over classic virtual network resources.</span></span>

> [!NOTE]
> <span data-ttu-id="4e627-201">È anche possibile [creare propri ruoli](../active-directory/role-based-access-control-configure.md) tooseparate esigenze amministrative.</span><span class="sxs-lookup"><span data-stu-id="4e627-201">You can also [create your own roles](../active-directory/role-based-access-control-configure.md) tooseparate your administrative needs.</span></span>
>
>

## <a name="design"></a><span data-ttu-id="4e627-202">Progettazione</span><span class="sxs-lookup"><span data-stu-id="4e627-202">Design</span></span>
<span data-ttu-id="4e627-203">Dopo avere stabilito le risposte hello domande toohello hello [pianificare](#Plan) sezione, esaminare hello seguenti prima di definire le reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="4e627-203">Once you know hello answers toohello questions in hello [Plan](#Plan) section, review hello following before defining your VNets.</span></span>

### <a name="number-of-subscriptions-and-vnets"></a><span data-ttu-id="4e627-204">Numero di sottoscrizioni e reti virtuali</span><span class="sxs-lookup"><span data-stu-id="4e627-204">Number of subscriptions and VNets</span></span>
<span data-ttu-id="4e627-205">È necessario considerare la creazione di più reti virtuali in hello seguenti scenari:</span><span class="sxs-lookup"><span data-stu-id="4e627-205">You should consider creating multiple VNets in hello following scenarios:</span></span>

* <span data-ttu-id="4e627-206">**Macchine virtuali che devono toobe posizionate in diverse posizioni Azure**.</span><span class="sxs-lookup"><span data-stu-id="4e627-206">**VMs that need toobe placed in different Azure locations**.</span></span> <span data-ttu-id="4e627-207">Le reti virtuali in Azure fanno riferimento a un'area geografica e</span><span class="sxs-lookup"><span data-stu-id="4e627-207">VNets in Azure are regional.</span></span> <span data-ttu-id="4e627-208">non possono estendersi a più località.</span><span class="sxs-lookup"><span data-stu-id="4e627-208">They cannot span locations.</span></span> <span data-ttu-id="4e627-209">Pertanto, è necessario almeno una rete virtuale per ogni località di Azure da macchine virtuali toohost nel.</span><span class="sxs-lookup"><span data-stu-id="4e627-209">Therefore you need at least one VNet for each Azure location you want toohost VMs in.</span></span>
* <span data-ttu-id="4e627-210">**I carichi di lavoro che richiedono toobe completamente isolato dagli altri**.</span><span class="sxs-lookup"><span data-stu-id="4e627-210">**Workloads that need toobe completely isolated from one another**.</span></span> <span data-ttu-id="4e627-211">È possibile creare reti virtuali separate, tale hello anche usare spazi di indirizzi IP stesso, tooisolate carichi di lavoro diversi uno da altro.</span><span class="sxs-lookup"><span data-stu-id="4e627-211">You can create separate VNets, that even use hello same IP address spaces, tooisolate different workloads from one another.</span></span>

<span data-ttu-id="4e627-212">Tenere presente che vengono visualizzati sopra i limiti di hello per area, per ogni sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="4e627-212">Keep in mind that hello limits you see above are per region, per subscription.</span></span> <span data-ttu-id="4e627-213">Pertanto, che è possibile utilizzare più limite di hello tooincrease le sottoscrizioni di risorse che è possibile gestire in Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-213">That means you can use multiple subscriptions tooincrease hello limit of resources you can maintain in Azure.</span></span> <span data-ttu-id="4e627-214">È possibile utilizzare una VPN site-to-site, o un circuito ExpressRoute, tooconnect reti virtuali in diverse sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="4e627-214">You can use a site-to-site VPN, or an ExpressRoute circuit, tooconnect VNets in different subscriptions.</span></span>

### <a name="subscription-and-vnet-design-patterns"></a><span data-ttu-id="4e627-215">Modelli di progettazione per sottoscrizioni e reti virtuali</span><span class="sxs-lookup"><span data-stu-id="4e627-215">Subscription and VNet design patterns</span></span>
<span data-ttu-id="4e627-216">tabella di Hello seguente illustra alcuni modelli di progettazione comuni per l'utilizzo di sottoscrizioni e le reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="4e627-216">hello table below shows some common design patterns for using subscriptions and VNets.</span></span>

| <span data-ttu-id="4e627-217">Scenario</span><span class="sxs-lookup"><span data-stu-id="4e627-217">Scenario</span></span> | <span data-ttu-id="4e627-218">Diagramma</span><span class="sxs-lookup"><span data-stu-id="4e627-218">Diagram</span></span> | <span data-ttu-id="4e627-219">Vantaggi</span><span class="sxs-lookup"><span data-stu-id="4e627-219">Pros</span></span> | <span data-ttu-id="4e627-220">Svantaggi</span><span class="sxs-lookup"><span data-stu-id="4e627-220">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="4e627-221">Singola sottoscrizione, due reti virtuali per app</span><span class="sxs-lookup"><span data-stu-id="4e627-221">Single subscription, two VNets per app</span></span> |![Singola sottoscrizione](./media/virtual-network-vnet-plan-design-arm/figure1.png) |<span data-ttu-id="4e627-223">Toomanage una sola sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="4e627-223">Only one subscription toomanage.</span></span> |<span data-ttu-id="4e627-224">Numero massimo di reti virtuali per area di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-224">Maximum number of VNets per Azure region.</span></span> <span data-ttu-id="4e627-225">Oltre questo limite, sono necessarie ulteriori sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="4e627-225">You need more subscriptions after that.</span></span> <span data-ttu-id="4e627-226">Hello revisione [Azure limita](../azure-subscription-service-limits.md#networking-limits) articolo per informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="4e627-226">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="4e627-227">Una sottoscrizione per app, due reti virtuali per app</span><span class="sxs-lookup"><span data-stu-id="4e627-227">One subscription per app, two VNets per app</span></span> |![Singola sottoscrizione](./media/virtual-network-vnet-plan-design-arm/figure2.png) |<span data-ttu-id="4e627-229">Usa solo due reti virtuali per sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="4e627-229">Uses only two VNets per subscription.</span></span> |<span data-ttu-id="4e627-230">Più difficile toomanage quando sono presenti troppe app.</span><span class="sxs-lookup"><span data-stu-id="4e627-230">Harder toomanage when there are too many apps.</span></span> |
| <span data-ttu-id="4e627-231">Una sottoscrizione per business unit, due reti virtuali per app.</span><span class="sxs-lookup"><span data-stu-id="4e627-231">One subscription per business unit, two VNets per app.</span></span> |![Singola sottoscrizione](./media/virtual-network-vnet-plan-design-arm/figure3.png) |<span data-ttu-id="4e627-233">Equilibrio tra numero di sottoscrizioni e reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="4e627-233">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="4e627-234">Numero massimo di reti virtuali per business unit (sottoscrizione).</span><span class="sxs-lookup"><span data-stu-id="4e627-234">Maximum number of VNets per business unit (subscription).</span></span> <span data-ttu-id="4e627-235">Hello revisione [Azure limita](../azure-subscription-service-limits.md#networking-limits) articolo per informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="4e627-235">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="4e627-236">Una sottoscrizione per business unit, due reti virtuali per gruppo di app.</span><span class="sxs-lookup"><span data-stu-id="4e627-236">One subscription per business unit, two VNets per group of apps.</span></span> |![Singola sottoscrizione](./media/virtual-network-vnet-plan-design-arm/figure4.png) |<span data-ttu-id="4e627-238">Equilibrio tra numero di sottoscrizioni e reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="4e627-238">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="4e627-239">Le app devono essere isolate usando subnet e gruppi di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="4e627-239">Apps must be isolated by using subnets and NSGs.</span></span> |

### <a name="number-of-subnets"></a><span data-ttu-id="4e627-240">Numero di subnet</span><span class="sxs-lookup"><span data-stu-id="4e627-240">Number of subnets</span></span>
<span data-ttu-id="4e627-241">È necessario considerare più subnet in una rete virtuale in hello seguenti scenari:</span><span class="sxs-lookup"><span data-stu-id="4e627-241">You should consider multiple subnets in a VNet in hello following scenarios:</span></span>

* <span data-ttu-id="4e627-242">**Numero insufficiente di indirizzi IP privati per tutte le schede di interfaccia di rete in una subnet**.</span><span class="sxs-lookup"><span data-stu-id="4e627-242">**Not enough private IP addresses for all NICs in a subnet**.</span></span> <span data-ttu-id="4e627-243">Se lo spazio degli indirizzi di subnet non contiene il numero sufficiente di indirizzi IP per il numero di hello di schede di rete nella subnet hello, è necessario toocreate più subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-243">If your subnet address space does not contain enough IP addresses for hello number of NICs in hello subnet, you need toocreate multiple subnets.</span></span> <span data-ttu-id="4e627-244">Tenere presente che Azure riserva 5 indirizzi IP privati da ogni subnet che non possono essere utilizzati: hello prima e ultima indirizzi di hello spazio di indirizzi (indirizzo di subnet hello e multicast) e 3 indirizzi toobe utilizzato internamente (per scopi DNS e DHCP).</span><span class="sxs-lookup"><span data-stu-id="4e627-244">Keep in mind that Azure reserves 5 private IP addresses from each subnet that cannot be used: hello first and last addresses of hello address space (for hello subnet address, and multicast) and 3 addresses toobe used internally (for DHCP and DNS purposes).</span></span>
* <span data-ttu-id="4e627-245">**Sicurezza**.</span><span class="sxs-lookup"><span data-stu-id="4e627-245">**Security**.</span></span> <span data-ttu-id="4e627-246">È possibile utilizzare gruppi di tooseparate di subnet di macchine virtuali rispetto a altro per i carichi di lavoro che dispone di un multi-livello struttura e applicare diverse [rete sicurezza gruppi](virtual-networks-nsg.md#subnets) per queste subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-246">You can use subnets tooseparate groups of VMs from one another for workloads that have a multi-layer structure, and apply different [network security groups (NSGs)](virtual-networks-nsg.md#subnets) for those subnets.</span></span>
* <span data-ttu-id="4e627-247">**Connettività ibrida**.</span><span class="sxs-lookup"><span data-stu-id="4e627-247">**Hybrid connectivity**.</span></span> <span data-ttu-id="4e627-248">È possibile utilizzare anche gateway VPN e circuiti ExpressRoute[connettersi](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) tooone le reti virtuali in un altro tooyour locali e nel data center.</span><span class="sxs-lookup"><span data-stu-id="4e627-248">You can use VPN gateways and ExpressRoute circuits too[connect](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) your VNets tooone another, and tooyour on-premises data center(s).</span></span> <span data-ttu-id="4e627-249">Gateway VPN e circuiti ExpressRoute richiedono una subnet di propri toobe creato.</span><span class="sxs-lookup"><span data-stu-id="4e627-249">VPN gateways and ExpressRoute circuits require a subnet of their own toobe created.</span></span>
* <span data-ttu-id="4e627-250">**Appliance virtuali**.</span><span class="sxs-lookup"><span data-stu-id="4e627-250">**Virtual appliances**.</span></span> <span data-ttu-id="4e627-251">È possibile usare un'appliance virtuale, ad esempio un firewall, un acceleratore WAN o un gateway VPN in una rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-251">You can use a virtual appliance, such as a firewall, WAN accelerator, or VPN gateway in an Azure VNet.</span></span> <span data-ttu-id="4e627-252">Quando si esegue questa operazione, è necessario troppo[instradare il traffico](virtual-networks-udr-overview.md) toothose accessori e isolarli nella propria subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-252">When you do so, you need too[route traffic](virtual-networks-udr-overview.md) toothose appliances and isolate them in their own subnet.</span></span>

### <a name="subnet-and-nsg-design-patterns"></a><span data-ttu-id="4e627-253">Modelli di progettazione di subnet e gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="4e627-253">Subnet and NSG design patterns</span></span>
<span data-ttu-id="4e627-254">tabella di Hello seguente illustra alcuni modelli di progettazione comuni per l'utilizzo di subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-254">hello table below shows some common design patterns for using subnets.</span></span>

| <span data-ttu-id="4e627-255">Scenario</span><span class="sxs-lookup"><span data-stu-id="4e627-255">Scenario</span></span> | <span data-ttu-id="4e627-256">Diagramma</span><span class="sxs-lookup"><span data-stu-id="4e627-256">Diagram</span></span> | <span data-ttu-id="4e627-257">Vantaggi</span><span class="sxs-lookup"><span data-stu-id="4e627-257">Pros</span></span> | <span data-ttu-id="4e627-258">Svantaggi</span><span class="sxs-lookup"><span data-stu-id="4e627-258">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="4e627-259">Singola subnet, gruppi di sicurezza di rete per livello dell'applicazione, per applicazione</span><span class="sxs-lookup"><span data-stu-id="4e627-259">Single subnet, NSGs per application layer, per app</span></span> |![Singola subnet](./media/virtual-network-vnet-plan-design-arm/figure5.png) |<span data-ttu-id="4e627-261">Solo una subnet toomanage.</span><span class="sxs-lookup"><span data-stu-id="4e627-261">Only one subnet toomanage.</span></span> |<span data-ttu-id="4e627-262">Più tooisolate necessarie di NSGs ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="4e627-262">Multiple NSGs necessary tooisolate each application.</span></span> |
| <span data-ttu-id="4e627-263">Una subnet per app, gruppi di sicurezza di rete per livello dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4e627-263">One subnet per app, NSGs per application layer</span></span> |![Subnet per app](./media/virtual-network-vnet-plan-design-arm/figure6.png) |<span data-ttu-id="4e627-265">Toomanage NSGs meno.</span><span class="sxs-lookup"><span data-stu-id="4e627-265">Fewer NSGs toomanage.</span></span> |<span data-ttu-id="4e627-266">Più subnet toomanage.</span><span class="sxs-lookup"><span data-stu-id="4e627-266">Multiple subnets toomanage.</span></span> |
| <span data-ttu-id="4e627-267">Una subnet per livello dell'applicazione, gruppi di sicurezza di rete per app.</span><span class="sxs-lookup"><span data-stu-id="4e627-267">One subnet per application layer, NSGs per app.</span></span> |![Subnet per livello](./media/virtual-network-vnet-plan-design-arm/figure7.png) |<span data-ttu-id="4e627-269">Equilibrio tra numero di subnet e gruppi di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="4e627-269">Balance between number of subnets and NSGs.</span></span> |<span data-ttu-id="4e627-270">Numero massimo di NSG per sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="4e627-270">Maximum number of NSGs per subscription.</span></span> <span data-ttu-id="4e627-271">Hello revisione [Azure limita](../azure-subscription-service-limits.md#networking-limits) articolo per informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="4e627-271">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="4e627-272">Una subnet per livello dell'applicazione, per app, gruppi di sicurezza di rete per subnet</span><span class="sxs-lookup"><span data-stu-id="4e627-272">One subnet per application layer, per app, NSGs per subnet</span></span> |![Subnet per livello per app](./media/virtual-network-vnet-plan-design-arm/figure8.png) |<span data-ttu-id="4e627-274">Probabile numero inferiore di gruppi di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="4e627-274">Possibly smaller number of NSGs.</span></span> |<span data-ttu-id="4e627-275">Più subnet toomanage.</span><span class="sxs-lookup"><span data-stu-id="4e627-275">Multiple subnets toomanage.</span></span> |

## <a name="sample-design"></a><span data-ttu-id="4e627-276">Progettazione di esempio</span><span class="sxs-lookup"><span data-stu-id="4e627-276">Sample design</span></span>
<span data-ttu-id="4e627-277">un'applicazione hello tooillustrate delle informazioni di hello in questo articolo, prendere in considerazione hello seguente scenario.</span><span class="sxs-lookup"><span data-stu-id="4e627-277">tooillustrate hello application of hello information in this article, consider hello following scenario.</span></span>

<span data-ttu-id="4e627-278">Si lavora per un'azienda con 2 data center in America del Nord e due data center in Europa.</span><span class="sxs-lookup"><span data-stu-id="4e627-278">You work for a company that has 2 data centers in North America, and two data centers Europe.</span></span> <span data-ttu-id="4e627-279">Identificato 6 cliente diverso applicazioni gestite da 2 diverse unità aziendali che si desidera tooAzure toomigrate come un progetto pilota.</span><span class="sxs-lookup"><span data-stu-id="4e627-279">You identified 6 different customer facing applications maintained by 2 different business units that you want toomigrate tooAzure as a pilot.</span></span> <span data-ttu-id="4e627-280">architettura di base per le applicazioni di hello Hello sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="4e627-280">hello basic architecture for hello applications are as follows:</span></span>

* <span data-ttu-id="4e627-281">App1, App2, App3 e App4 sono applicazioni Web ospitate su server Linux con Ubuntu in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="4e627-281">App1, App2, App3, and App4 are web applications hosted on Linux servers running Ubuntu.</span></span> <span data-ttu-id="4e627-282">Ogni applicazione si connette il server di applicazione separata tooa che ospita servizi RESTful nei server Linux.</span><span class="sxs-lookup"><span data-stu-id="4e627-282">Each application connects tooa separate application server that hosts RESTful services on Linux servers.</span></span> <span data-ttu-id="4e627-283">servizi RESTful Hello connettono database di MySQL tooa back-end.</span><span class="sxs-lookup"><span data-stu-id="4e627-283">hello RESTful services connect tooa back end MySQL database.</span></span>
* <span data-ttu-id="4e627-284">App5 e App6 sono applicazioni Web ospitate in Windows Server con Windows Server 2012 R2 in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="4e627-284">App5 and App6 are web applications hosted on Windows servers running Windows Server 2012 R2.</span></span> <span data-ttu-id="4e627-285">Ogni applicazione si connette tooa database di SQL Server back-end.</span><span class="sxs-lookup"><span data-stu-id="4e627-285">Each application connects tooa back end SQL Server database.</span></span>
* <span data-ttu-id="4e627-286">Tutte le app sono attualmente ospitate in uno dei centri dati della società hello in Nord America.</span><span class="sxs-lookup"><span data-stu-id="4e627-286">All apps are currently hosted in one of hello company's data centers in North America.</span></span>
* <span data-ttu-id="4e627-287">data center locale di Hello utilizzare lo spazio degli indirizzi di 10.0.0.0/8 hello.</span><span class="sxs-lookup"><span data-stu-id="4e627-287">hello on-premises data centers use hello 10.0.0.0/8 address space.</span></span>

<span data-ttu-id="4e627-288">È necessario disporre di una soluzione di rete virtuale che soddisfi i seguenti requisiti hello toodesign:</span><span class="sxs-lookup"><span data-stu-id="4e627-288">You need toodesign a virtual network solution that meets hello following requirements:</span></span>

* <span data-ttu-id="4e627-289">Ogni business unit non deve dipendere dal consumo di risorse di altre business unit.</span><span class="sxs-lookup"><span data-stu-id="4e627-289">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="4e627-290">È necessario ridurre la quantità hello di reti virtuali e subnet gestione toomake più semplice.</span><span class="sxs-lookup"><span data-stu-id="4e627-290">You should minimize hello amount of VNets and subnets toomake management easier.</span></span>
* <span data-ttu-id="4e627-291">Ogni business unit deve avere una singola rete virtuale di test/sviluppo usata per tutte le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="4e627-291">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="4e627-292">Ogni applicazione è ospitata in 2 diversi data center di Azure per continente (America del Nord ed Europa).</span><span class="sxs-lookup"><span data-stu-id="4e627-292">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>
* <span data-ttu-id="4e627-293">Le applicazioni sono completamente isolate l'una dall'altra.</span><span class="sxs-lookup"><span data-stu-id="4e627-293">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="4e627-294">Ogni applicazione può essere usato dai clienti in hello Internet tramite HTTP.</span><span class="sxs-lookup"><span data-stu-id="4e627-294">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="4e627-295">Ogni applicazione è accessibile per gli utenti connessi toohello locale data Center tramite un tunnel crittografato.</span><span class="sxs-lookup"><span data-stu-id="4e627-295">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="4e627-296">Connessione locale tooon data Center deve utilizzare i dispositivi VPN esistenti.</span><span class="sxs-lookup"><span data-stu-id="4e627-296">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="4e627-297">Hello gruppo rete della società deve avere il controllo completo sulla configurazione della rete virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="4e627-297">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="4e627-298">Sviluppatori in ogni business unit devono essere in grado di toodeploy macchine virtuali tooexisting subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-298">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>
* <span data-ttu-id="4e627-299">Tutte le applicazioni verranno migrate come se fossero tooAzure (sollevamento e spostamento).</span><span class="sxs-lookup"><span data-stu-id="4e627-299">All applications will be migrated as they are tooAzure (lift-and-shift).</span></span>
* <span data-ttu-id="4e627-300">database Hello in ogni posizione devono essere replicati tooother Azure posizioni una volta al giorno.</span><span class="sxs-lookup"><span data-stu-id="4e627-300">hello databases in each location should replicate tooother Azure locations once a day.</span></span>
* <span data-ttu-id="4e627-301">Ogni applicazione deve usare 5 server Web front-end, 2 server applicazioni (se necessario) e 2 server database.</span><span class="sxs-lookup"><span data-stu-id="4e627-301">Each application should use 5 front end web servers, 2 application servers (when necessary), and 2 database servers.</span></span>

### <a name="plan"></a><span data-ttu-id="4e627-302">Pianificazione</span><span class="sxs-lookup"><span data-stu-id="4e627-302">Plan</span></span>
<span data-ttu-id="4e627-303">È consigliabile iniziare la progettazione della pianificazione per rispondere alle domande hello in hello [definiscono i requisiti](#Define-requirements) sezione come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="4e627-303">You should start your design planning by answering hello question in hello [Define requirements](#Define-requirements) section as shown below.</span></span>

1. <span data-ttu-id="4e627-304">Le posizioni di Azure saranno necessario utilizzare toohost reti virtuali?</span><span class="sxs-lookup"><span data-stu-id="4e627-304">What Azure locations will you use toohost VNets?</span></span>

    <span data-ttu-id="4e627-305">2 località in America del Nord e 2 località in Europa.</span><span class="sxs-lookup"><span data-stu-id="4e627-305">2 locations in North America, and 2 locations in Europe.</span></span> <span data-ttu-id="4e627-306">È consigliabile scegliere basati sulla posizione fisica di hello del data center locale esistente.</span><span class="sxs-lookup"><span data-stu-id="4e627-306">You should pick those based on hello physical location of your existing on-premises data centers.</span></span> <span data-ttu-id="4e627-307">In questo modo la connessione da tooAzure le posizioni fisiche avrà una migliore latenza.</span><span class="sxs-lookup"><span data-stu-id="4e627-307">That way your connection from your physical locations tooAzure will have a better latency.</span></span>
2. <span data-ttu-id="4e627-308">È necessario tooprovide comunicazione tra questi percorsi di Azure?</span><span class="sxs-lookup"><span data-stu-id="4e627-308">Do you need tooprovide communication between these Azure locations?</span></span>

    <span data-ttu-id="4e627-309">Sì.</span><span class="sxs-lookup"><span data-stu-id="4e627-309">Yes.</span></span> <span data-ttu-id="4e627-310">Poiché i database di hello devono essere replicati tooall percorsi.</span><span class="sxs-lookup"><span data-stu-id="4e627-310">Since hello databases must be replicated tooall locations.</span></span>
3. <span data-ttu-id="4e627-311">È necessario tooprovide comunicazione tra il VNet(s) di Azure e il data center locale?</span><span class="sxs-lookup"><span data-stu-id="4e627-311">Do you need tooprovide communication between your Azure VNet(s) and your on-premises data center(s)?</span></span>

    <span data-ttu-id="4e627-312">Sì.</span><span class="sxs-lookup"><span data-stu-id="4e627-312">Yes.</span></span> <span data-ttu-id="4e627-313">Poiché gli utenti connessi toohello locale data Center deve essere applicazioni hello in grado di tooaccess attraverso un tunnel crittografato.</span><span class="sxs-lookup"><span data-stu-id="4e627-313">Since users connected toohello on-premises data centers must be able tooaccess hello applications through an encrypted tunnel.</span></span>
4. <span data-ttu-id="4e627-314">Quante VM IaaS sono necessarie per la soluzione?</span><span class="sxs-lookup"><span data-stu-id="4e627-314">How many IaaS VMs do you need for your solution?</span></span>

    <span data-ttu-id="4e627-315">200 VM IaaS.</span><span class="sxs-lookup"><span data-stu-id="4e627-315">200 IaaS VMs.</span></span> <span data-ttu-id="4e627-316">App1, App2, App3 e App4 richiedono 5 server Web, 2 server applicazioni e 2 server database per ognuna.</span><span class="sxs-lookup"><span data-stu-id="4e627-316">App1, App2, App3, and App4 require 5 web servers each, 2 applications servers each, and 2 database servers each.</span></span> <span data-ttu-id="4e627-317">Questo equivale a un totale di 9 VM IaaS per applicazione o 36 VM IaaS.</span><span class="sxs-lookup"><span data-stu-id="4e627-317">That's a total of 9 IaaS VMs per application, or 36 IaaS VMs.</span></span> <span data-ttu-id="4e627-318">App5 e App6 richiedono 5 server Web e 2 server database.</span><span class="sxs-lookup"><span data-stu-id="4e627-318">App5 and App6 require 5 web servers and 2 database servers each.</span></span> <span data-ttu-id="4e627-319">Questo equivale a un totale di 7 VM IaaS per applicazione o 14 VM IaaS.</span><span class="sxs-lookup"><span data-stu-id="4e627-319">That's a total of 7 IaaS VMs per application, or 14 IaaS VMs.</span></span> <span data-ttu-id="4e627-320">Per questo motivo, sono necessarie 50 VM IaaS per tutte le applicazioni in ogni area di Azure.</span><span class="sxs-lookup"><span data-stu-id="4e627-320">Therefore, you need 50 IaaS VMs for all applications in each Azure region.</span></span> <span data-ttu-id="4e627-321">Poiché è necessario aree toouse 4, saranno presenti 200 macchine virtuali IaaS.</span><span class="sxs-lookup"><span data-stu-id="4e627-321">Since we need toouse 4 regions, there will be 200 IaaS VMs.</span></span>

    <span data-ttu-id="4e627-322">I server DNS tooprovide in ogni rete virtuale o il nome di tooresolve centri dati in locale, è necessario anche tra le macchine virtuali IaaS di Azure e la rete locale.</span><span class="sxs-lookup"><span data-stu-id="4e627-322">You will also need tooprovide DNS servers in each VNet, or in your on-premises data centers tooresolve name between your Azure IaaS VMs and your on-premises network.</span></span>
5. <span data-ttu-id="4e627-323">È necessario tooisolate il traffico in base ai gruppi di macchine virtuali (i server web, ovvero front-end e server di database back-end)?</span><span class="sxs-lookup"><span data-stu-id="4e627-323">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>

    <span data-ttu-id="4e627-324">Sì.</span><span class="sxs-lookup"><span data-stu-id="4e627-324">Yes.</span></span> <span data-ttu-id="4e627-325">Le applicazioni devono essere completamente isolate l'una dall'altra e anche ogni livello dell'applicazione deve essere isolato.</span><span class="sxs-lookup"><span data-stu-id="4e627-325">Each application should be completely isolated from each other, and each application layer should also be isolated.</span></span>
6. <span data-ttu-id="4e627-326">È necessario che il flusso del traffico toocontrol utilizzando Appliance virtuali?</span><span class="sxs-lookup"><span data-stu-id="4e627-326">Do you need toocontrol traffic flow using virtual appliances?</span></span>

    <span data-ttu-id="4e627-327">No.</span><span class="sxs-lookup"><span data-stu-id="4e627-327">No.</span></span> <span data-ttu-id="4e627-328">Dispositivi di rete può essere utilizzato tooprovide maggiore controllo del flusso del traffico, tra cui registrazione più dettagliata di piano dati.</span><span class="sxs-lookup"><span data-stu-id="4e627-328">Virtual appliances can be used tooprovide more control over traffic flow, including more detailed data plane logging.</span></span>
7. <span data-ttu-id="4e627-329">Fare gli utenti necessità diversi set di autorizzazioni toodifferent risorse di Azure?</span><span class="sxs-lookup"><span data-stu-id="4e627-329">Do users need different sets of permissions toodifferent Azure resources?</span></span>

    <span data-ttu-id="4e627-330">Sì.</span><span class="sxs-lookup"><span data-stu-id="4e627-330">Yes.</span></span> <span data-ttu-id="4e627-331">Hello rete team deve controllo completo sulle impostazioni di rete virtuale di hello, mentre gli sviluppatori devono essere solo in grado di toodeploy le subnet esistente toopre macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="4e627-331">hello networking team needs full control on hello virtual networking settings, while developers should only be able toodeploy their VMs toopre-existing subnets.</span></span>

### <a name="design"></a><span data-ttu-id="4e627-332">Progettazione</span><span class="sxs-lookup"><span data-stu-id="4e627-332">Design</span></span>
<span data-ttu-id="4e627-333">È consigliabile seguire progettazione hello specificando le sottoscrizioni, le reti virtuali, subnet e NSGs.</span><span class="sxs-lookup"><span data-stu-id="4e627-333">You should follow hello design specifying subscriptions, VNets, subnets, and NSGs.</span></span> <span data-ttu-id="4e627-334">I gruppi di sicurezza di rete verranno discussi qui, ma è consigliabile acquisire altre informazioni sui [gruppi di sicurezza di rete](virtual-networks-nsg.md) prima di completare la progettazione.</span><span class="sxs-lookup"><span data-stu-id="4e627-334">We will discuss NSGs here, but you should learn more about [NSGs](virtual-networks-nsg.md) before finishing your design.</span></span>

<span data-ttu-id="4e627-335">**Numero di sottoscrizioni e reti virtuali**</span><span class="sxs-lookup"><span data-stu-id="4e627-335">**Number of subscriptions and VNets**</span></span>

<span data-ttu-id="4e627-336">Hello seguenti requisiti è toosubscriptions correlati e le reti virtuali:</span><span class="sxs-lookup"><span data-stu-id="4e627-336">hello following requirements are related toosubscriptions and VNets:</span></span>

* <span data-ttu-id="4e627-337">Ogni business unit non deve dipendere dal consumo di risorse di altre business unit.</span><span class="sxs-lookup"><span data-stu-id="4e627-337">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="4e627-338">È necessario ridurre la quantità hello di reti virtuali e subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-338">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="4e627-339">Ogni business unit deve avere una singola rete virtuale di test/sviluppo usata per tutte le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="4e627-339">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="4e627-340">Ogni applicazione è ospitata in 2 diversi data center di Azure per continente (America del Nord ed Europa).</span><span class="sxs-lookup"><span data-stu-id="4e627-340">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>

<span data-ttu-id="4e627-341">In base a tali requisiti, è necessaria una sottoscrizione per ogni business unit.</span><span class="sxs-lookup"><span data-stu-id="4e627-341">Based on those requirements, you need a subscription for each business unit.</span></span> <span data-ttu-id="4e627-342">In questo modo, il consumo di risorse di una business unit non influirà sui limiti per le altre business unit.</span><span class="sxs-lookup"><span data-stu-id="4e627-342">That way, consumption of resources from a business unit will not count towards limits for other business units.</span></span> <span data-ttu-id="4e627-343">Poiché si desidera toominimize hello numero di reti virtuali, è consigliabile utilizzare hello **una sottoscrizione per ogni business unit, due reti virtuali per ogni gruppo di applicazioni** di schema come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="4e627-343">And since you want toominimize hello number of VNets, you should consider using hello **one subscription per business unit, two VNets per group of apps** pattern as seen below.</span></span>

![Singola sottoscrizione](./media/virtual-network-vnet-plan-design-arm/figure9.png)

<span data-ttu-id="4e627-345">È inoltre necessario spazio di indirizzi hello toospecify per ogni rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="4e627-345">You also need toospecify hello address space for each VNet.</span></span> <span data-ttu-id="4e627-346">Poiché è necessaria la connettività tra hello centri dati in locale e hello aree di Azure, spazio degli indirizzi di hello utilizzato per le reti virtuali di Azure non può essere in conflitto con la rete locale hello e spazio di indirizzo hello utilizzato da ogni rete virtuale non deve essere in conflitto con altre reti virtuali esistenti.</span><span class="sxs-lookup"><span data-stu-id="4e627-346">Since you need connectivity between hello on-premises data centers and hello Azure regions, hello address space used for Azure VNets cannot clash with hello on-premises network, and hello address space used by each VNet should not clash with other existing VNets.</span></span> <span data-ttu-id="4e627-347">È possibile utilizzare gli spazi degli indirizzi hello nella tabella hello sotto toosatisfy questi requisiti.</span><span class="sxs-lookup"><span data-stu-id="4e627-347">You could use hello address spaces in hello table below toosatisfy these requirements.</span></span>  

| <span data-ttu-id="4e627-348">**Sottoscrizione**</span><span class="sxs-lookup"><span data-stu-id="4e627-348">**Subscription**</span></span> | <span data-ttu-id="4e627-349">**Rete virtuale**</span><span class="sxs-lookup"><span data-stu-id="4e627-349">**VNet**</span></span> | <span data-ttu-id="4e627-350">**Area di Azure**</span><span class="sxs-lookup"><span data-stu-id="4e627-350">**Azure region**</span></span> | <span data-ttu-id="4e627-351">**Spazio degli indirizzi**</span><span class="sxs-lookup"><span data-stu-id="4e627-351">**Address space**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="4e627-352">BU1</span><span class="sxs-lookup"><span data-stu-id="4e627-352">BU1</span></span> |<span data-ttu-id="4e627-353">ProdBU1US1</span><span class="sxs-lookup"><span data-stu-id="4e627-353">ProdBU1US1</span></span> |<span data-ttu-id="4e627-354">Stati Uniti occidentali</span><span class="sxs-lookup"><span data-stu-id="4e627-354">West US</span></span> |<span data-ttu-id="4e627-355">172.16.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-355">172.16.0.0/16</span></span> |
| <span data-ttu-id="4e627-356">BU1</span><span class="sxs-lookup"><span data-stu-id="4e627-356">BU1</span></span> |<span data-ttu-id="4e627-357">ProdBU1US2</span><span class="sxs-lookup"><span data-stu-id="4e627-357">ProdBU1US2</span></span> |<span data-ttu-id="4e627-358">Stati Uniti orientali</span><span class="sxs-lookup"><span data-stu-id="4e627-358">East US</span></span> |<span data-ttu-id="4e627-359">172.17.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-359">172.17.0.0/16</span></span> |
| <span data-ttu-id="4e627-360">BU1</span><span class="sxs-lookup"><span data-stu-id="4e627-360">BU1</span></span> |<span data-ttu-id="4e627-361">ProdBU1EU1</span><span class="sxs-lookup"><span data-stu-id="4e627-361">ProdBU1EU1</span></span> |<span data-ttu-id="4e627-362">Europa settentrionale</span><span class="sxs-lookup"><span data-stu-id="4e627-362">North Europe</span></span> |<span data-ttu-id="4e627-363">172.18.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-363">172.18.0.0/16</span></span> |
| <span data-ttu-id="4e627-364">BU1</span><span class="sxs-lookup"><span data-stu-id="4e627-364">BU1</span></span> |<span data-ttu-id="4e627-365">ProdBU1EU2</span><span class="sxs-lookup"><span data-stu-id="4e627-365">ProdBU1EU2</span></span> |<span data-ttu-id="4e627-366">Europa occidentale</span><span class="sxs-lookup"><span data-stu-id="4e627-366">West Europe</span></span> |<span data-ttu-id="4e627-367">172.19.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-367">172.19.0.0/16</span></span> |
| <span data-ttu-id="4e627-368">BU1</span><span class="sxs-lookup"><span data-stu-id="4e627-368">BU1</span></span> |<span data-ttu-id="4e627-369">TestDevBU1</span><span class="sxs-lookup"><span data-stu-id="4e627-369">TestDevBU1</span></span> |<span data-ttu-id="4e627-370">Stati Uniti occidentali</span><span class="sxs-lookup"><span data-stu-id="4e627-370">West US</span></span> |<span data-ttu-id="4e627-371">172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-371">172.20.0.0/16</span></span> |
| <span data-ttu-id="4e627-372">BU2</span><span class="sxs-lookup"><span data-stu-id="4e627-372">BU2</span></span> |<span data-ttu-id="4e627-373">TestDevBU2</span><span class="sxs-lookup"><span data-stu-id="4e627-373">TestDevBU2</span></span> |<span data-ttu-id="4e627-374">Stati Uniti occidentali</span><span class="sxs-lookup"><span data-stu-id="4e627-374">West US</span></span> |<span data-ttu-id="4e627-375">172.21.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-375">172.21.0.0/16</span></span> |
| <span data-ttu-id="4e627-376">BU2</span><span class="sxs-lookup"><span data-stu-id="4e627-376">BU2</span></span> |<span data-ttu-id="4e627-377">ProdBU2US1</span><span class="sxs-lookup"><span data-stu-id="4e627-377">ProdBU2US1</span></span> |<span data-ttu-id="4e627-378">Stati Uniti occidentali</span><span class="sxs-lookup"><span data-stu-id="4e627-378">West US</span></span> |<span data-ttu-id="4e627-379">172.22.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-379">172.22.0.0/16</span></span> |
| <span data-ttu-id="4e627-380">BU2</span><span class="sxs-lookup"><span data-stu-id="4e627-380">BU2</span></span> |<span data-ttu-id="4e627-381">ProdBU2US2</span><span class="sxs-lookup"><span data-stu-id="4e627-381">ProdBU2US2</span></span> |<span data-ttu-id="4e627-382">Stati Uniti orientali</span><span class="sxs-lookup"><span data-stu-id="4e627-382">East US</span></span> |<span data-ttu-id="4e627-383">172.23.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-383">172.23.0.0/16</span></span> |
| <span data-ttu-id="4e627-384">BU2</span><span class="sxs-lookup"><span data-stu-id="4e627-384">BU2</span></span> |<span data-ttu-id="4e627-385">ProdBU2EU1</span><span class="sxs-lookup"><span data-stu-id="4e627-385">ProdBU2EU1</span></span> |<span data-ttu-id="4e627-386">Europa settentrionale</span><span class="sxs-lookup"><span data-stu-id="4e627-386">North Europe</span></span> |<span data-ttu-id="4e627-387">172.24.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-387">172.24.0.0/16</span></span> |
| <span data-ttu-id="4e627-388">BU2</span><span class="sxs-lookup"><span data-stu-id="4e627-388">BU2</span></span> |<span data-ttu-id="4e627-389">ProdBU2EU2</span><span class="sxs-lookup"><span data-stu-id="4e627-389">ProdBU2EU2</span></span> |<span data-ttu-id="4e627-390">Europa occidentale</span><span class="sxs-lookup"><span data-stu-id="4e627-390">West Europe</span></span> |<span data-ttu-id="4e627-391">172.25.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4e627-391">172.25.0.0/16</span></span> |

<span data-ttu-id="4e627-392">**Numero di subnet e gruppi di sicurezza di rete**</span><span class="sxs-lookup"><span data-stu-id="4e627-392">**Number of subnets and NSGs**</span></span>

<span data-ttu-id="4e627-393">Hello seguenti requisiti è correlati toosubnets e NSGs:</span><span class="sxs-lookup"><span data-stu-id="4e627-393">hello following requirements are related toosubnets and NSGs:</span></span>

* <span data-ttu-id="4e627-394">È necessario ridurre la quantità hello di reti virtuali e subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-394">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="4e627-395">Le applicazioni sono completamente isolate l'una dall'altra.</span><span class="sxs-lookup"><span data-stu-id="4e627-395">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="4e627-396">Ogni applicazione può essere usato dai clienti in hello Internet tramite HTTP.</span><span class="sxs-lookup"><span data-stu-id="4e627-396">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="4e627-397">Ogni applicazione è accessibile per gli utenti connessi toohello locale data Center tramite un tunnel crittografato.</span><span class="sxs-lookup"><span data-stu-id="4e627-397">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="4e627-398">Connessione locale tooon data Center deve utilizzare i dispositivi VPN esistenti.</span><span class="sxs-lookup"><span data-stu-id="4e627-398">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="4e627-399">database Hello in ogni posizione devono essere replicati tooother Azure posizioni una volta al giorno.</span><span class="sxs-lookup"><span data-stu-id="4e627-399">hello databases in each location should replicate tooother Azure locations once a day.</span></span>

<span data-ttu-id="4e627-400">In base a tali requisiti, è possibile utilizzare una subnet per ogni livello di applicazione e traffico toofilter NSGs per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="4e627-400">Based on those requirements, you could use one subnet per application layer, and use NSGs toofilter traffic per application.</span></span> <span data-ttu-id="4e627-401">In questo modo, sono sufficienti 3 subnet in ogni rete virtuale (front-end, livello dell'applicazione e livello dati) e un gruppo di sicurezza di rete per applicazione per ogni subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-401">That way, you only have 3 subnets in each VNet (front end, application layer, and data layer) and one NSG per application per subnet.</span></span> <span data-ttu-id="4e627-402">In questo caso, è necessario ricorrere hello **una subnet per ogni livello di applicazione, NSGs per ogni app** modello di progettazione.</span><span class="sxs-lookup"><span data-stu-id="4e627-402">In this case, you should consider using hello **one subnet per application layer, NSGs per app** design pattern.</span></span> <span data-ttu-id="4e627-403">Figura che segue Hello di seguito viene illustrato l'utilizzo di hello del modello di struttura hello che rappresenta hello **ProdBU1US1** rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="4e627-403">hello figure below shows hello use of hello design pattern representing hello **ProdBU1US1** VNet.</span></span>

![Una subnet per livello, un gruppo di sicurezza di rete per applicazione per livello](./media/virtual-network-vnet-plan-design-arm/figure11.png)

<span data-ttu-id="4e627-405">Tuttavia, è necessario anche toocreate una subnet aggiuntiva per la connettività VPN hello tra hello reti virtuali e i data center locale.</span><span class="sxs-lookup"><span data-stu-id="4e627-405">However, you also need toocreate an extra subnet for hello VPN connectivity between hello VNets, and your on-premises data centers.</span></span> <span data-ttu-id="4e627-406">Ed è necessario spazio di indirizzi hello toospecify per ogni subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-406">And you need toospecify hello address space for each subnet.</span></span> <span data-ttu-id="4e627-407">Hello figura seguente mostra una soluzione di esempio per **ProdBU1US1** rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="4e627-407">hello figure below shows a sample solution for **ProdBU1US1** VNet.</span></span> <span data-ttu-id="4e627-408">È necessario replicare questo scenario per ogni rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="4e627-408">You would replicate this scenario for each VNet.</span></span> <span data-ttu-id="4e627-409">Ogni colore rappresenta un'applicazione diversa.</span><span class="sxs-lookup"><span data-stu-id="4e627-409">Each color represents a different application.</span></span>

![Rete virtuale di esempio](./media/virtual-network-vnet-plan-design-arm/figure10.png)

<span data-ttu-id="4e627-411">**Controllo dell’accesso**</span><span class="sxs-lookup"><span data-stu-id="4e627-411">**Access Control**</span></span>

<span data-ttu-id="4e627-412">Salve, i seguenti requisiti correlati tooaccess controllo:</span><span class="sxs-lookup"><span data-stu-id="4e627-412">hello following requirements are related tooaccess control:</span></span>

* <span data-ttu-id="4e627-413">Hello gruppo rete della società deve avere il controllo completo sulla configurazione della rete virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="4e627-413">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="4e627-414">Sviluppatori in ogni business unit devono essere in grado di toodeploy macchine virtuali tooexisting subnet.</span><span class="sxs-lookup"><span data-stu-id="4e627-414">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>

<span data-ttu-id="4e627-415">In base a tali requisiti, è possibile aggiungere utenti da hello rete toohello team predefinito **rete collaboratore** ruolo in ogni sottoscrizione; e creare un ruolo personalizzato per hello gli sviluppatori di applicazioni nell'assegnazione di ogni sottoscrizione subnet tooexisting macchine virtuali di loro diritti tooadd.</span><span class="sxs-lookup"><span data-stu-id="4e627-415">Based on those requirements, you could add users from hello networking team toohello built-in **Network Contributor** role in each subscription; and create a custom role for hello application developers in each subscription giving them rights tooadd VMs tooexisting subnets.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4e627-416">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="4e627-416">Next steps</span></span>
* <span data-ttu-id="4e627-417">[Distribuire una rete virtuale](virtual-networks-create-vnet-arm-template-click.md) in base a uno scenario.</span><span class="sxs-lookup"><span data-stu-id="4e627-417">[Deploy a virtual network](virtual-networks-create-vnet-arm-template-click.md) based on a scenario.</span></span>
* <span data-ttu-id="4e627-418">Comprendere come troppo[il bilanciamento del carico](../load-balancer/load-balancer-overview.md) le macchine virtuali IaaS e [gestire il routing tramite più aree di Azure](../traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4e627-418">Understand how too[load balance](../load-balancer/load-balancer-overview.md) IaaS VMs and [manage routing over multiple Azure regions](../traffic-manager/traffic-manager-overview.md).</span></span>
* <span data-ttu-id="4e627-419">Altre informazioni, vedere [NSGs e come tooplan e progettazione](virtual-networks-nsg.md) una soluzione di gruppo.</span><span class="sxs-lookup"><span data-stu-id="4e627-419">Learn more about [NSGs and how tooplan and design](virtual-networks-nsg.md) an NSG solution.</span></span>
* <span data-ttu-id="4e627-420">Altre informazioni sulle [opzioni di connettività cross-premise e della rete virtuale](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span><span class="sxs-lookup"><span data-stu-id="4e627-420">Learn more about your [cross-premises and VNet connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span></span>
