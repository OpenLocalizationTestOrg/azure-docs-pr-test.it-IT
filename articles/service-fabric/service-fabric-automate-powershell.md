---
title: gestione delle applicazioni Azure Service Fabric aaaAutomate | Documenti Microsoft
description: Distribuire, aggiornare, testare e rimuovere le applicazioni di Service Fabric tramite PowerShell.
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: f03f4294-571d-4262-8a77-cc8b481b959d
ms.service: service-fabric
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/16/2017
ms.author: ryanwi
redirect_url: /azure/service-fabric/service-fabric-deploy-remove-applications
ms.openlocfilehash: a64a39dbee26be8ac15fee767a90fd06bfe4b896
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="automate-hello-application-lifecycle-using-powershell"></a><span data-ttu-id="7c62d-103">Automatizzare hello ciclo di vita delle applicazioni tramite PowerShell</span><span class="sxs-lookup"><span data-stu-id="7c62d-103">Automate hello application lifecycle using PowerShell</span></span>
<span data-ttu-id="7c62d-104">Molti aspetti di hello [ciclo di vita dell'applicazione Service Fabric](service-fabric-application-lifecycle.md) possono essere automatizzate.</span><span class="sxs-lookup"><span data-stu-id="7c62d-104">Many aspects of hello [Service Fabric application lifecycle](service-fabric-application-lifecycle.md) can be automated.</span></span>  <span data-ttu-id="7c62d-105">Questo articolo illustra come toouse PowerShell tooautomate comuni attività di distribuzione, l'aggiornamento, la rimozione e testing delle applicazioni Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="7c62d-105">This article shows how toouse PowerShell tooautomate common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span>  <span data-ttu-id="7c62d-106">Sono disponibili anche API gestite e HTTP per la gestione delle app.</span><span class="sxs-lookup"><span data-stu-id="7c62d-106">Managed and HTTP APIs for app management are also available.</span></span> <span data-ttu-id="7c62d-107">Per altre informazioni, vedere la pagina sul [ciclo di vita delle app](service-fabric-application-lifecycle.md) .</span><span class="sxs-lookup"><span data-stu-id="7c62d-107">See [app lifecycle](service-fabric-application-lifecycle.md) for more information.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="7c62d-108">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="7c62d-108">Prerequisites</span></span>
<span data-ttu-id="7c62d-109">Prima di passare attività toohello nell'articolo hello, assicurarsi di:</span><span class="sxs-lookup"><span data-stu-id="7c62d-109">Before you move on toohello tasks in hello article, be sure to:</span></span>

* <span data-ttu-id="7c62d-110">Acquisire familiarità con i concetti di Service Fabric hello descritti in [Panoramica tecnica di Service Fabric](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7c62d-110">Get familiar with hello Service Fabric concepts described in [Technical overview of Service Fabric](service-fabric-technical-overview.md).</span></span>
* <span data-ttu-id="7c62d-111">[Installare il runtime di hello, SDK e strumenti](service-fabric-get-started.md), che viene installato anche hello **ServiceFabric** modulo di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7c62d-111">[Install hello runtime, SDK, and tools](service-fabric-get-started.md), which also installs hello **ServiceFabric** PowerShell module.</span></span>
* <span data-ttu-id="7c62d-112">[Consentire l'esecuzione di script di PowerShell](service-fabric-get-started.md#enable-powershell-script-execution).</span><span class="sxs-lookup"><span data-stu-id="7c62d-112">[Enable PowerShell script execution](service-fabric-get-started.md#enable-powershell-script-execution).</span></span>
* <span data-ttu-id="7c62d-113">Avviare un cluster locale.</span><span class="sxs-lookup"><span data-stu-id="7c62d-113">Start a local cluster.</span></span>  <span data-ttu-id="7c62d-114">Avviare una nuova finestra di PowerShell come amministratore, quindi eseguire lo script di installazione di cluster hello dalla cartella SDK hello:`& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span><span class="sxs-lookup"><span data-stu-id="7c62d-114">Launch a new PowerShell window as an administrator and then run hello cluster setup script from hello SDK folder: `& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span></span>
* <span data-ttu-id="7c62d-115">Prima di eseguire qualsiasi comando di PowerShell in questo articolo, prima di tutto connettersi toohello cluster di Service Fabric locale tramite [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps):`Connect-ServiceFabricCluster localhost:19000`</span><span class="sxs-lookup"><span data-stu-id="7c62d-115">Before you run any PowerShell commands in this article, first connect toohello local Service Fabric cluster by using [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps): `Connect-ServiceFabricCluster localhost:19000`</span></span>
* <span data-ttu-id="7c62d-116">Hello seguenti attività richiede una toodeploy pacchetto di applicazione v1 e v2 un pacchetto dell'applicazione per l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="7c62d-116">hello following tasks require a v1 application package toodeploy and a v2 application package for upgrade.</span></span> <span data-ttu-id="7c62d-117">Scaricare hello [ **WordCount** applicazione di esempio](http://aka.ms/servicefabricsamples) (all'interno di esempi di introduzione hello).</span><span class="sxs-lookup"><span data-stu-id="7c62d-117">Download hello [**WordCount** sample application](http://aka.ms/servicefabricsamples) (located in hello Getting Started samples).</span></span> <span data-ttu-id="7c62d-118">Compilare e distribuire un'applicazione hello in Visual Studio (fare clic su **WordCount** in Esplora soluzioni e selezionare **pacchetto**).</span><span class="sxs-lookup"><span data-stu-id="7c62d-118">Build and package hello application in Visual Studio (right-click on **WordCount** in Solution Explorer and select **Package**).</span></span> <span data-ttu-id="7c62d-119">Pacchetto di v1 copia hello in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` troppo`C:\Temp\WordCount`.</span><span class="sxs-lookup"><span data-stu-id="7c62d-119">Copy hello v1 package in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` too`C:\Temp\WordCount`.</span></span> <span data-ttu-id="7c62d-120">Copia `C:\Temp\WordCount` troppo`C:\Temp\WordCountV2`, creazione pacchetto di applicazione hello v2 per l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="7c62d-120">Copy `C:\Temp\WordCount` too`C:\Temp\WordCountV2`, creating hello v2 application package for upgrade.</span></span> <span data-ttu-id="7c62d-121">Aprire `C:\Temp\WordCountV2\ApplicationManifest.xml` in un editor di testo.</span><span class="sxs-lookup"><span data-stu-id="7c62d-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in a text editor.</span></span> <span data-ttu-id="7c62d-122">In hello **ApplicationManifest** elemento, modifica hello **ApplicationTypeVersion** troppo dell'attributo da "1.0.0" "2.0.0" numero di versione tooupdate hello app.</span><span class="sxs-lookup"><span data-stu-id="7c62d-122">In hello **ApplicationManifest** element, change hello **ApplicationTypeVersion** attribute from "1.0.0" too"2.0.0" tooupdate hello app version number.</span></span> <span data-ttu-id="7c62d-123">Salvare file ApplicationManifest XML hello modificato.</span><span class="sxs-lookup"><span data-stu-id="7c62d-123">Save hello changed ApplicationManifest.xml file.</span></span>

## <a name="task-deploy-a-service-fabric-application"></a><span data-ttu-id="7c62d-124">Attività: Distribuire un'applicazione di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7c62d-124">Task: Deploy a Service Fabric application</span></span>
<span data-ttu-id="7c62d-125">Dopo aver compilato e incluso nel pacchetto di applicazione hello (o scaricare il pacchetto di applicazione hello), è possibile distribuire un'applicazione hello in un cluster di Service Fabric locale.</span><span class="sxs-lookup"><span data-stu-id="7c62d-125">After you've built and packaged hello application (or downloaded hello application package), you can deploy hello application into a local Service Fabric cluster.</span></span> <span data-ttu-id="7c62d-126">Distribuzione coinvolge il caricamento del pacchetto di applicazione hello, registrazione del tipo di applicazione hello e la creazione di istanza dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-126">Deployment involves uploading hello application package, registering hello application type, and creating hello application instance.</span></span> <span data-ttu-id="7c62d-127">Utilizzare istruzioni hello in questa toodeploy sezione un nuovo cluster tooa dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7c62d-127">Use hello instructions in this section toodeploy a new application tooa cluster.</span></span>

### <a name="step-1-upload-hello-application-package"></a><span data-ttu-id="7c62d-128">Passaggio 1: Caricare il pacchetto dell'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-128">Step 1: Upload hello application package</span></span>
<span data-ttu-id="7c62d-129">Caricamento toohello pacchetto di applicazione hello archivio immagini inserisce nei componenti di Service Fabric toointernal accessibile percorso.</span><span class="sxs-lookup"><span data-stu-id="7c62d-129">Uploading hello application package toohello image store puts it in a location accessible toointernal Service Fabric components.</span></span>  <span data-ttu-id="7c62d-130">pacchetto di applicazione Hello contiene hello manifesto dell'applicazione, i manifesti del servizio e il codice di configurazione necessarie e l'applicazione hello toocreate i pacchetti di dati e le istanze del servizio.</span><span class="sxs-lookup"><span data-stu-id="7c62d-130">hello application package contains hello necessary application manifest, service manifests, and code, configuration, and data package(s) toocreate hello application and service instances.</span></span> <span data-ttu-id="7c62d-131">Se si desidera localmente pacchetto dell'applicazione hello tooverify, utilizzare hello [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="7c62d-131">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span>  <span data-ttu-id="7c62d-132">Hello [copia ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) comando caricamenti hello pacchetto.</span><span class="sxs-lookup"><span data-stu-id="7c62d-132">hello [Copy-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) command uploads hello package.</span></span> <span data-ttu-id="7c62d-133">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="7c62d-133">For example:</span></span>

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCount\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

### <a name="step-2-register-hello-application-type"></a><span data-ttu-id="7c62d-134">Passaggio 2: Registrare il tipo di applicazione hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-134">Step 2: Register hello application type</span></span>
<span data-ttu-id="7c62d-135">Pacchetto di applicazione hello registrazione rende il tipo di applicazione hello e versione dichiarato nel manifesto dell'applicazione hello disponibile per l'uso.</span><span class="sxs-lookup"><span data-stu-id="7c62d-135">Registering hello application package makes hello application type and version declared in hello application manifest available for use.</span></span> <span data-ttu-id="7c62d-136">sistema Hello legge pacchetto hello caricato nel passaggio hello 1, verificare il pacchetto di hello (equivalente toorunning [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) in locale), l'elaborazione di contenuto del pacchetto hello e copiare tooan pacchetto hello elaborato percorso di sistema interno.</span><span class="sxs-lookup"><span data-stu-id="7c62d-136">hello system reads hello package uploaded in hello step 1, verify hello package (equivalent toorunning [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) locally), process hello package contents, and copy hello processed package tooan internal system location.</span></span>  <span data-ttu-id="7c62d-137">Eseguire hello [registro ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="7c62d-137">Run hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCount
```
<span data-ttu-id="7c62d-138">tutti i tipi di applicazione hello registrati nel cluster di hello, eseguire hello toosee [Get ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="7c62d-138">toosee all hello application types registered in hello cluster, run hello [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationType
```

### <a name="step-3-create-hello-application-instance"></a><span data-ttu-id="7c62d-139">Passaggio 3: Creare l'istanza dell'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-139">Step 3: Create hello application instance</span></span>
<span data-ttu-id="7c62d-140">È possibile creare istanze di un'applicazione utilizzando la versione di qualsiasi tipo di applicazione che è stato registrato correttamente tramite hello [New ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) comando.</span><span class="sxs-lookup"><span data-stu-id="7c62d-140">An application can be instantiated by using any application type version that has been registered successfully by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) command.</span></span> <span data-ttu-id="7c62d-141">nome Hello di ogni applicazione è dichiarata in fase di distribuzione e deve iniziare con hello **fabric:** dello schema e di essere univoco per ogni istanza dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7c62d-141">hello name of each application is declared at deploy time and must start with hello **fabric:** scheme and be unique for each application instance.</span></span> <span data-ttu-id="7c62d-142">Hello nome tipo e la versione di tipo di applicazione vengono dichiarati in hello **ApplicationManifest.xml** file del pacchetto di applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-142">hello application type name and application type version are declared in hello **ApplicationManifest.xml** file of hello application package.</span></span> <span data-ttu-id="7c62d-143">Se servizi predefiniti sono stati definiti nel manifesto dell'applicazione hello del tipo di applicazione di destinazione hello, quelli vengono creati in questo momento.</span><span class="sxs-lookup"><span data-stu-id="7c62d-143">If any default services were defined in hello application manifest of hello target application type, then those are created at this time.</span></span>

```powershell
New-ServiceFabricApplication fabric:/WordCount WordCount 1.0.0
```

<span data-ttu-id="7c62d-144">Hello [Get ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) comando Elenca tutte le istanze di applicazione che sono state create, insieme al relativo stato generale.</span><span class="sxs-lookup"><span data-stu-id="7c62d-144">hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) command lists all application instances that were successfully created, along with their overall status.</span></span> <span data-ttu-id="7c62d-145">Hello [Get ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) comando Elenca tutte le istanze del servizio hello che sono state create all'interno di un'istanza dell'applicazione specificato.</span><span class="sxs-lookup"><span data-stu-id="7c62d-145">hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) command lists all of hello service instances that were successfully created within a given application instance.</span></span> <span data-ttu-id="7c62d-146">Vengono elencati anche gli eventuali servizi predefiniti.</span><span class="sxs-lookup"><span data-stu-id="7c62d-146">Default services (if any) are listed.</span></span>

```powershell
Get-ServiceFabricApplication

Get-ServiceFabricApplication | Get-ServiceFabricService
```

## <a name="task-upgrade-a-service-fabric-application"></a><span data-ttu-id="7c62d-147">Attività: Aggiornare un'applicazione di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7c62d-147">Task: Upgrade a Service Fabric application</span></span>
<span data-ttu-id="7c62d-148">È possibile aggiornare un'applicazione di Service Fabric distribuita in precedenza con un pacchetto dell'applicazione aggiornato.</span><span class="sxs-lookup"><span data-stu-id="7c62d-148">You can upgrade a previously deployed Service Fabric application with an updated application package.</span></span> <span data-ttu-id="7c62d-149">Questa attività consente di aggiornare un'applicazione WordCount hello che è stata distribuita in "attività: distribuire un'applicazione di Service Fabric."</span><span class="sxs-lookup"><span data-stu-id="7c62d-149">This task upgrades hello WordCount application that was deployed in "Task: Deploy a Service Fabric application."</span></span> <span data-ttu-id="7c62d-150">Per altre informazioni, vedere [Aggiornamento di un'applicazione di Service Fabric](service-fabric-application-upgrade.md) .</span><span class="sxs-lookup"><span data-stu-id="7c62d-150">Read through [Service Fabric application upgrade](service-fabric-application-upgrade.md) for more information.</span></span>

<span data-ttu-id="7c62d-151">tookeep le cose semplici per questo esempio, un solo numero di versione dell'applicazione hello è stata aggiornata nel pacchetto di applicazione hello WordCountV2 creato nei prerequisiti hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-151">tookeep things simple for this example, only hello application version number was updated in hello WordCountV2 application package created in hello prerequisites.</span></span> <span data-ttu-id="7c62d-152">Uno scenario più realistico implica l'aggiornamento del file di codice, configurazione o dati del servizio e la ricompilazione e assemblaggio applicazione hello con numeri di versione aggiornati.</span><span class="sxs-lookup"><span data-stu-id="7c62d-152">A more realistic scenario would involve updating your service code, configuration, or data files and then rebuilding and packaging hello application with updated version numbers.</span></span>  

### <a name="step-1-upload-hello-updated-application-package"></a><span data-ttu-id="7c62d-153">Passaggio 1: Caricare il pacchetto di applicazione aggiornata hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-153">Step 1: Upload hello updated application package</span></span>
<span data-ttu-id="7c62d-154">Hello WordCount v1 applicazione è pronta toobe aggiornato.</span><span class="sxs-lookup"><span data-stu-id="7c62d-154">hello WordCount v1 application is ready toobe upgraded.</span></span> <span data-ttu-id="7c62d-155">Se si apre una finestra di PowerShell come amministratore e digitare [ **Get ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), vedrai che la versione 1.0.0 del tipo di applicazione WordCount hello viene distribuita.</span><span class="sxs-lookup"><span data-stu-id="7c62d-155">If you open up a PowerShell window as administrator and type [**Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), you see that version 1.0.0 of hello WordCount application type is deployed.</span></span>  

<span data-ttu-id="7c62d-156">Ora hello copia aggiornata archivio applicazioni pacchetto toohello Service Fabric immagine (in cui i pacchetti di applicazione hello sono archiviati dall'infrastruttura di servizio).</span><span class="sxs-lookup"><span data-stu-id="7c62d-156">Now copy hello updated application package toohello Service Fabric image store (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="7c62d-157">parametro Hello **ApplicationPackagePathInImageStore** informa Service Fabric in cui è possibile trovare il pacchetto di applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-157">hello parameter **ApplicationPackagePathInImageStore** informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="7c62d-158">Hello comando copie hello pacchetto di applicazione troppo seguente**WordCountV2** nell'archivio immagini hello:</span><span class="sxs-lookup"><span data-stu-id="7c62d-158">hello following command copies hello application package too**WordCountV2** in hello image store:</span></span>  

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCountV2\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCountV2

```
### <a name="step-2-register-hello-updated-application-type"></a><span data-ttu-id="7c62d-159">Passaggio 2: Registrare hello aggiornato il tipo di applicazione</span><span class="sxs-lookup"><span data-stu-id="7c62d-159">Step 2: Register hello updated application type</span></span>
<span data-ttu-id="7c62d-160">passaggio successivo Hello è tooregister hello nuova versione dell'applicazione hello con Service Fabric, che può essere eseguita tramite hello [registro ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="7c62d-160">hello next step is tooregister hello new version of hello application with Service Fabric, which can be performed by using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCountV2
```

### <a name="step-3-start-hello-upgrade"></a><span data-ttu-id="7c62d-161">Passaggio 3: Avviare l'aggiornamento di hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-161">Step 3: Start hello upgrade</span></span>
<span data-ttu-id="7c62d-162">Vari parametri di aggiornamento, timeout e criteri di integrità possono essere applicati tooapplication aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="7c62d-162">Various upgrade parameters, timeouts, and health criteria can be applied tooapplication upgrades.</span></span> <span data-ttu-id="7c62d-163">Leggere hello [parametri di aggiornamento dell'applicazione](service-fabric-application-upgrade-parameters.md) e [processo di aggiornamento](service-fabric-application-upgrade.md) toolearn più documenti.</span><span class="sxs-lookup"><span data-stu-id="7c62d-163">Read through hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and [upgrade process](service-fabric-application-upgrade.md) documents toolearn more.</span></span> <span data-ttu-id="7c62d-164">Tutti i servizi e le istanze devono essere *integro* dopo l'aggiornamento di hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-164">All services and instances should be *healthy* after hello upgrade.</span></span>  <span data-ttu-id="7c62d-165">Set hello **HealthCheckStableDuration** too60 secondi (in modo che i servizi di hello siano integri per dominio di aggiornamento successivo almeno 20 secondi prima di avviare l'aggiornamento di hello toohello).</span><span class="sxs-lookup"><span data-stu-id="7c62d-165">Set hello **HealthCheckStableDuration** too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next upgrade domain).</span></span>  <span data-ttu-id="7c62d-166">Anche set hello **UpgradeDomainTimeout** too1200 secondi e hello **UpgradeTimeout** too3000 secondi.</span><span class="sxs-lookup"><span data-stu-id="7c62d-166">Also set hello **UpgradeDomainTimeout** too1200 seconds and hello **UpgradeTimeout** too3000 seconds.</span></span> <span data-ttu-id="7c62d-167">Infine, impostare hello **UpgradeFailureAction** troppo**rollback**, che le richieste di cui eseguire il rollback di Service Fabric hello toohello versione precedente dell'applicazione se si verificano errori durante l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="7c62d-167">Finally, set hello **UpgradeFailureAction** too**rollback**, which requests that Service Fabric rolls back hello application toohello previous version if failures are encountered during upgrade.</span></span>

<span data-ttu-id="7c62d-168">È ora possibile avviare l'aggiornamento dell'applicazione hello utilizzando hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="7c62d-168">You can now start hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/WordCount -ApplicationTypeVersion 2.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000  -FailureAction Rollback -Monitored
```

<span data-ttu-id="7c62d-169">Si noti che il nome dell'applicazione hello è hello stesso come hello distribuito in precedenza nome applicazione versione 1.0.0 (fabric: / WordCount).</span><span class="sxs-lookup"><span data-stu-id="7c62d-169">Note that hello application name is hello same as hello previously deployed v1.0.0 application name (fabric:/WordCount).</span></span> <span data-ttu-id="7c62d-170">Service Fabric utilizza tooidentify questo nome è aggiornamento l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7c62d-170">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="7c62d-171">Se si imposta hello toobe di timeout troppo breve, un messaggio di errore di timeout che stati hello problema potrebbero verificarsi.</span><span class="sxs-lookup"><span data-stu-id="7c62d-171">If you set hello time-outs toobe too short, you might encounter a time-out failure message that states hello problem.</span></span> <span data-ttu-id="7c62d-172">Fare riferimento troppo[risolvere gli aggiornamenti dell'applicazione](service-fabric-application-upgrade-troubleshooting.md), o aumentare il timeout di hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-172">Refer too[Troubleshoot application upgrades](service-fabric-application-upgrade-troubleshooting.md), or increase hello time-outs.</span></span>

### <a name="step-4-check-upgrade-progress"></a><span data-ttu-id="7c62d-173">Passaggio 4: Verificare lo stato dell'aggiornamento</span><span class="sxs-lookup"><span data-stu-id="7c62d-173">Step 4: Check upgrade progress</span></span>
<span data-ttu-id="7c62d-174">È possibile monitorare lo stato dell'aggiornamento dell'applicazione utilizzando [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), oppure utilizzando hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="7c62d-174">You can monitor application upgrade progress by using [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/WordCount
```

<span data-ttu-id="7c62d-175">In pochi minuti, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) indica che sono stati aggiornati tutti i domini di aggiornamento (completato).</span><span class="sxs-lookup"><span data-stu-id="7c62d-175">In a few minutes, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet shows that all upgrade domains were upgraded (completed).</span></span>

## <a name="task-test-a-service-fabric-application"></a><span data-ttu-id="7c62d-176">Attività: Testare un'applicazione di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7c62d-176">Task: Test a Service Fabric application</span></span>
<span data-ttu-id="7c62d-177">servizi di alta qualità toowrite, gli sviluppatori devono toobe tooinduce in grado di infrastruttura inaffidabili errori tootest hello la stabilità dei servizi.</span><span class="sxs-lookup"><span data-stu-id="7c62d-177">toowrite high-quality services, developers need toobe able tooinduce unreliable infrastructure faults tootest hello stability of their services.</span></span> <span data-ttu-id="7c62d-178">Service Fabric offre agli sviluppatori di azioni di errore tooinduce possibilità hello e testare i servizi in presenza di hello di errori tramite hello chaos e failover scenari di test.</span><span class="sxs-lookup"><span data-stu-id="7c62d-178">Service Fabric gives developers hello ability tooinduce fault actions and test services in hello presence of failures by using hello chaos and failover test scenarios.</span></span>  <span data-ttu-id="7c62d-179">Leggere [toohello introduzione errore Analysis Service](service-fabric-testability-overview.md) per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="7c62d-179">Read through [Introduction toohello Fault Analysis Service](service-fabric-testability-overview.md) for additional information.</span></span>

### <a name="step-1-run-hello-chaos-test-scenario"></a><span data-ttu-id="7c62d-180">Passaggio 1: Eseguire uno scenario di test chaos hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-180">Step 1: Run hello chaos test scenario</span></span>
<span data-ttu-id="7c62d-181">scenario di test chaos Hello genera errori nel cluster di Service Fabric intera hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-181">hello chaos test scenario generates faults across hello entire Service Fabric cluster.</span></span> <span data-ttu-id="7c62d-182">scenario di Hello comprime gli errori rilevati in genere in mesi o anni tooa alcune ore.</span><span class="sxs-lookup"><span data-stu-id="7c62d-182">hello scenario compresses faults generally seen over months or years tooa few hours.</span></span> <span data-ttu-id="7c62d-183">combinazione di Hello di interfoliazione errori con una frequenza elevata di errori consente di trovare casi estremi che potrebbero altrimenti non essere rilevati.</span><span class="sxs-lookup"><span data-stu-id="7c62d-183">hello combination of interleaved faults with a high fault rate finds corner cases that would otherwise be missed.</span></span> <span data-ttu-id="7c62d-184">Hello seguente esempio viene eseguito uno scenario di test chaos hello per 60 minuti.</span><span class="sxs-lookup"><span data-stu-id="7c62d-184">hello following example runs hello chaos test scenario for 60 minutes.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$concurrentFaults = 3
$waitTimeBetweenIterationsSec = 60

Invoke-ServiceFabricChaosTestScenario -TimeToRunMinute $timeToRun -MaxClusterStabilizationTimeoutSec $maxStabilizationTimeSecs -MaxConcurrentFaults $concurrentFaults -EnableMoveReplicaFaults -WaitTimeBetweenIterationsSec $waitTimeBetweenIterationsSec
```

### <a name="step-2-run-hello-failover-test-scenario"></a><span data-ttu-id="7c62d-185">Passaggio 2: Eseguire uno scenario di test di failover hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-185">Step 2: Run hello failover test scenario</span></span>
<span data-ttu-id="7c62d-186">failover Hello una partizione di servizio specifico anziché l'intero cluster hello destinazioni di uno scenario di test e altri servizi lascia interessato.</span><span class="sxs-lookup"><span data-stu-id="7c62d-186">hello failover test scenario targets a specific service partition instead of hello entire cluster, and it leaves other services unaffected.</span></span> <span data-ttu-id="7c62d-187">scenario Hello iterazione di una sequenza di errori simulati in convalida del servizio durante l'esecuzione della regola business.</span><span class="sxs-lookup"><span data-stu-id="7c62d-187">hello scenario iterates through a sequence of simulated faults in service validation while your business logic runs.</span></span> <span data-ttu-id="7c62d-188">Un errore nella convalida del servizio indica un problema necessita di ulteriore analisi.</span><span class="sxs-lookup"><span data-stu-id="7c62d-188">A failure in service validation indicates an issue that needs further investigation.</span></span> <span data-ttu-id="7c62d-189">test failover Hello provoca l'errore solo una alla volta, come toohello anziché chaos uno scenario di test, che può provocare errori più.</span><span class="sxs-lookup"><span data-stu-id="7c62d-189">hello failover test induces only one fault at a time, as opposed toohello chaos test scenario, which can induce multiple faults.</span></span> <span data-ttu-id="7c62d-190">Hello esempio seguente viene eseguito il test failover hello per 60 minuti rispetto dell'infrastruttura di hello: WordCount/servizio WordCountService.</span><span class="sxs-lookup"><span data-stu-id="7c62d-190">hello following example runs hello failover test for 60 minutes against hello fabric:/WordCount/WordCountService service.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$waitTimeBetweenFaultsSec = 10
$serviceName = "fabric:/WordCount/WordCountService"

Invoke-ServiceFabricFailoverTestScenario -TimeToRunMinute $timeToRun -MaxServiceStabilizationTimeoutSec $maxStabilizationTimeSecs -WaitTimeBetweenFaultsSec $waitTimeBetweenFaultsSec -ServiceName $serviceName -PartitionKindUniformInt64 -PartitionKey 1
```

## <a name="task-remove-a-service-fabric-application"></a><span data-ttu-id="7c62d-191">Attività: Rimuovere un'applicazione di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7c62d-191">Task: Remove a Service Fabric application</span></span>
<span data-ttu-id="7c62d-192">È possibile eliminare un'istanza di un'applicazione distribuita, rimuovere il tipo di applicazione hello provisioning dal cluster hello e rimuovere il pacchetto di applicazione hello da hello ImageStore.</span><span class="sxs-lookup"><span data-stu-id="7c62d-192">You can delete an instance of a deployed application, remove hello provisioned application type from hello cluster, and remove hello application package from hello ImageStore.</span></span>

### <a name="step-1-remove-an-application-instance"></a><span data-ttu-id="7c62d-193">Passaggio 1: Rimuovere un'istanza dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="7c62d-193">Step 1: Remove an application instance</span></span>
<span data-ttu-id="7c62d-194">Quando un'istanza di applicazione non è più necessario, è possibile rimuoverlo in modo permanente tramite hello [Remove ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="7c62d-194">When an application instance is no longer needed, you can permanently remove it by using hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="7c62d-195">Questa operazione rimuove automaticamente anche tutti i servizi appartenenti toohello applicazione, in modo permanente la rimozione di tutti gli stati di servizio.</span><span class="sxs-lookup"><span data-stu-id="7c62d-195">This also automatically removes all services belonging toohello application, permanently removing all service state.</span></span> <span data-ttu-id="7c62d-196">Tale operazione non può essere annullata e lo stato dell'applicazione non può essere recuperato.</span><span class="sxs-lookup"><span data-stu-id="7c62d-196">This operation cannot be reversed and application state cannot be recovered.</span></span>

```powershell
Remove-ServiceFabricApplication fabric:/WordCount
```

### <a name="step-2-unregister-hello-application-type"></a><span data-ttu-id="7c62d-197">Passaggio 2: Annullare la registrazione del tipo di applicazione hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-197">Step 2: Unregister hello application type</span></span>
<span data-ttu-id="7c62d-198">Quando non è più necessario una particolare versione di un tipo di applicazione, annullare la registrazione tramite hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="7c62d-198">When you no longer need a particular version of an application type, unregister it by using hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="7c62d-199">Annullamento della registrazione tipi inutilizzati versioni spazio di archiviazione utilizzato dal pacchetto di applicazione hello in archivio immagini hello.</span><span class="sxs-lookup"><span data-stu-id="7c62d-199">Unregistering unused types releases storage space used by hello application package in hello image store.</span></span> <span data-ttu-id="7c62d-200">È possibile annullare la registrazione di un tipo di applicazione solo se non sono state create istanze di applicazioni basate su di esso o non vi sono aggiornamenti di applicazioni in sospeso che vi fanno riferimento.</span><span class="sxs-lookup"><span data-stu-id="7c62d-200">An application type can be unregistered as long as there are no applications instantiated against it or pending application upgrades referencing it.</span></span>

```powershell
Unregister-ServiceFabricApplicationType WordCount 1.0.0
```

### <a name="step-3-remove-hello-application-package"></a><span data-ttu-id="7c62d-201">Passaggio 3: Rimuovere il pacchetto di applicazione hello</span><span class="sxs-lookup"><span data-stu-id="7c62d-201">Step 3: Remove hello application package</span></span>
<span data-ttu-id="7c62d-202">Una volta annullata la registrazione, il tipo di applicazione hello pacchetto dell'applicazione hello può essere rimosse dall'archivio immagini hello con hello [Remove ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="7c62d-202">After hello application type is unregistered, hello application package can be removed from hello image store by using hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span></span>

```powershell
Remove-ServiceFabricApplicationPackage -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

## <a name="next-steps"></a><span data-ttu-id="7c62d-203">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="7c62d-203">Next steps</span></span>
[<span data-ttu-id="7c62d-204">Ciclo di vita dell'applicazione Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7c62d-204">Service Fabric application lifecycle</span></span>](service-fabric-application-lifecycle.md)

[<span data-ttu-id="7c62d-205">Distribuire un'applicazione</span><span class="sxs-lookup"><span data-stu-id="7c62d-205">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)

[<span data-ttu-id="7c62d-206">Aggiornamento dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="7c62d-206">Application upgrade</span></span>](service-fabric-application-upgrade.md)

[<span data-ttu-id="7c62d-207">Cmdlet di Service Fabric di Azure</span><span class="sxs-lookup"><span data-stu-id="7c62d-207">Azure Service Fabric cmdlets</span></span>](/powershell/azure/overview?view=azureservicefabricps)

