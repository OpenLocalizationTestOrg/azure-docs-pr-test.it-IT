---
title: Monitorare, diagnosticare e risolvere i problemi correlati ad Archiviazione di Microsoft Azure | Documentazione Microsoft
description: "Usare funzionalità quali l'analisi dell'archiviazione, la registrazione lato client e altri strumenti di terze parti per identificare, diagnosticare e risolvere i problemi correlati ad Archiviazione di Azure."
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: d1e87d98-c763-4caa-ba20-2cf85f853303
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2017
ms.author: fhryo-msft
ms.openlocfilehash: 12db22d1444dc07a45db430c01407f9398e13bad
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="f0aab-103">Monitorare, diagnosticare e risolvere i problemi dell'Archiviazione di Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="f0aab-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="f0aab-104">Overview</span><span class="sxs-lookup"><span data-stu-id="f0aab-104">Overview</span></span>
<span data-ttu-id="f0aab-105">La diagnosi e la risoluzione dei problemi in un'applicazione distribuita ospitata in un ambiente cloud possono essere più complesse rispetto agli ambienti tradizionali.</span><span class="sxs-lookup"><span data-stu-id="f0aab-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="f0aab-106">Le applicazioni possono essere distribuite in un'infrastruttura PaaS o IaaS, in locale, su un dispositivo mobile o in una combinazione di questi tipi di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="f0aab-107">In genere, il traffico in rete dell'applicazione può passare su reti pubbliche e private e l'applicazione può usare più tecnologie di archiviazione, ad esempio tabelle, BLOB, code o file di Microsoft Azure oltre ad altri archivi di dati come i database relazionali e di documenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition to other data stores such as relational and document databases.</span></span>

<span data-ttu-id="f0aab-108">Per gestire in modo efficace queste applicazioni, è necessario monitorarle attivamente e capire in che modo diagnosticare e risolvere i problemi correlati a tutti gli aspetti delle applicazioni e delle tecnologie dipendenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-108">To manage such applications successfully you should monitor them proactively and understand how to diagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="f0aab-109">L'utente dei servizi di archiviazione di Azure deve monitorare continuamente i servizi di archiviazione usati dall'applicazione per riscontrare eventuali cambiamenti inattesi nel comportamento, ad esempio tempi di risposta insolitamente lenti, e deve usare la registrazione per raccogliere dati più dettagliati e analizzare i problemi più in profondità.</span><span class="sxs-lookup"><span data-stu-id="f0aab-109">As a user of Azure Storage services, you should continuously monitor the Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging to collect more detailed data and to analyze a problem in depth.</span></span> <span data-ttu-id="f0aab-110">Le informazioni di diagnostica ottenute dal monitoraggio e dalla registrazione consentiranno di determinare la causa principale del problema riscontrato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-110">The diagnostics information you obtain from both monitoring and logging will help you to determine the root cause of the issue your application encountered.</span></span> <span data-ttu-id="f0aab-111">Sarà quindi possibile identificare il problema e determinare le misure appropriate per risolverlo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-111">Then you can troubleshoot the issue and determine the appropriate steps you can take to remediate it.</span></span> <span data-ttu-id="f0aab-112">L'Archiviazione di Azure è uno dei principali servizi di Azure ed è un componente importante della maggior parte delle soluzioni distribuite dai client nell'infrastruttura Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-112">Azure Storage is a core Azure service, and forms an important part of the majority of solutions that customers deploy to the Azure infrastructure.</span></span> <span data-ttu-id="f0aab-113">Include funzionalità che consentono di semplificare le attività di monitoraggio, diagnostica e risoluzione dei problemi di archiviazione nelle applicazioni basate su cloud.</span><span class="sxs-lookup"><span data-stu-id="f0aab-113">Azure Storage includes capabilities to simplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-114">Archiviazione file di Azure attualmente non supporta la registrazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-114">The Azure File storage does not support logging at this time.</span></span>
> 

<span data-ttu-id="f0aab-115">Per una guida interattiva alla risoluzione dei problemi end-to-end in applicazioni di Archiviazione di Azure, vedere la pagina relativa alla [risoluzione dei problemi end-to-end usando Metriche e Registrazione di Archiviazione di Azure, AzCopy e Analizzatore messaggi](../storage-e2e-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="f0aab-115">For a hands-on guide to end-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](../storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="f0aab-116">[Introduzione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-116">[Introduction]</span></span>
  * <span data-ttu-id="f0aab-117">[Organizzazione di questa guida]</span><span class="sxs-lookup"><span data-stu-id="f0aab-117">[How this guide is organized]</span></span>
* <span data-ttu-id="f0aab-118">[Monitoraggio del servizio di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="f0aab-119">[Monitoraggio dello stato del servizio]</span><span class="sxs-lookup"><span data-stu-id="f0aab-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="f0aab-120">[Monitoraggio della capacità]</span><span class="sxs-lookup"><span data-stu-id="f0aab-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="f0aab-121">[Monitoraggio della disponibilità]</span><span class="sxs-lookup"><span data-stu-id="f0aab-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="f0aab-122">[Monitoraggio delle prestazioni]</span><span class="sxs-lookup"><span data-stu-id="f0aab-122">[Monitoring performance]</span></span>
* <span data-ttu-id="f0aab-123">[Diagnosi dei problemi di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="f0aab-124">[Problemi di stato del servizio]</span><span class="sxs-lookup"><span data-stu-id="f0aab-124">[Service health issues]</span></span>
  * <span data-ttu-id="f0aab-125">[Problemi di prestazioni]</span><span class="sxs-lookup"><span data-stu-id="f0aab-125">[Performance issues]</span></span>
  * <span data-ttu-id="f0aab-126">[Diagnostica degli errori]</span><span class="sxs-lookup"><span data-stu-id="f0aab-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="f0aab-127">[Problemi dell'emulatore di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="f0aab-128">[Strumenti di registrazione dell'archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="f0aab-129">[Uso degli strumenti di registrazione in rete]</span><span class="sxs-lookup"><span data-stu-id="f0aab-129">[Using network logging tools]</span></span>
* <span data-ttu-id="f0aab-130">[Traccia end-to-end]</span><span class="sxs-lookup"><span data-stu-id="f0aab-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="f0aab-131">[Correlazione dei dati di log]</span><span class="sxs-lookup"><span data-stu-id="f0aab-131">[Correlating log data]</span></span>
  * <span data-ttu-id="f0aab-132">[ID richiesta client]</span><span class="sxs-lookup"><span data-stu-id="f0aab-132">[Client request ID]</span></span>
  * <span data-ttu-id="f0aab-133">[ID richiesta server]</span><span class="sxs-lookup"><span data-stu-id="f0aab-133">[Server request ID]</span></span>
  * <span data-ttu-id="f0aab-134">[Timestamp]</span><span class="sxs-lookup"><span data-stu-id="f0aab-134">[Timestamps]</span></span>
* <span data-ttu-id="f0aab-135">[Guida alla risoluzione dei problemi]</span><span class="sxs-lookup"><span data-stu-id="f0aab-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="f0aab-136">[Le metriche indicano un valore AverageE2ELatency alto e un valore AverageServerLatency basso]</span><span class="sxs-lookup"><span data-stu-id="f0aab-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="f0aab-137">[Le metriche indicano un valore AverageE2ELatency basso e un valore AverageServerLatency basso, ma il client riscontra una latenza elevata]</span><span class="sxs-lookup"><span data-stu-id="f0aab-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
  * <span data-ttu-id="f0aab-138">[Le metriche indicano un valore AverageServerLatency alto]</span><span class="sxs-lookup"><span data-stu-id="f0aab-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="f0aab-139">[Si stanno verificando ritardi imprevisti nel recapito dei messaggi di una coda]</span><span class="sxs-lookup"><span data-stu-id="f0aab-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="f0aab-140">[Le metriche indicano un aumento di PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="f0aab-141">[Le metriche indicano un aumento di PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="f0aab-142">[Le metriche indicano un aumento di PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="f0aab-143">[Il client sta ricevendo messaggi HTTP 403 (Accesso negato)]</span><span class="sxs-lookup"><span data-stu-id="f0aab-143">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="f0aab-144">[Il client sta ricevendo messaggi HTTP 404 (Non trovato)]</span><span class="sxs-lookup"><span data-stu-id="f0aab-144">[The client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="f0aab-145">[Il client sta ricevendo messaggi HTTP 409 (Conflitto)]</span><span class="sxs-lookup"><span data-stu-id="f0aab-145">[The client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="f0aab-146">[Le metriche indicano un valore PercentSuccess basso o le voci del log di analisi contengono operazioni con stato della transazione ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="f0aab-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="f0aab-147">[Le metriche della capacità indicano un aumento imprevisto dell'uso della capacità di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="f0aab-148">[Si stanno verificando riavvii imprevisti delle macchine virtuali con un numero elevato di VHD allegati]</span><span class="sxs-lookup"><span data-stu-id="f0aab-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="f0aab-149">[Il problema è dovuto all'uso dell'emulatore di archiviazione per attività di sviluppo o test]</span><span class="sxs-lookup"><span data-stu-id="f0aab-149">[Your issue arises from using the storage emulator for development or test]</span></span>
  * <span data-ttu-id="f0aab-150">[Si stanno verificando problemi di installazione di Azure SDK per .NET]</span><span class="sxs-lookup"><span data-stu-id="f0aab-150">[You are encountering problems installing the Azure SDK for .NET]</span></span>
  * <span data-ttu-id="f0aab-151">[Si è verificato un problema diverso con un servizio di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-151">[You have a different issue with a storage service]</span></span>
  * [<span data-ttu-id="f0aab-152">Risoluzione dei problemi di archiviazione file di Azure in Windows</span><span class="sxs-lookup"><span data-stu-id="f0aab-152">Troubleshooting Azure File storage issues with Windows</span></span>](../files/storage-troubleshoot-windows-file-connection-problems.md)   
  * [<span data-ttu-id="f0aab-153">Risoluzione dei problemi di archiviazione file di Azure in Linux</span><span class="sxs-lookup"><span data-stu-id="f0aab-153">Troubleshooting Azure File storage issues with Linux</span></span>](../files/storage-troubleshoot-linux-file-connection-problems.md)
* <span data-ttu-id="f0aab-154">[Appendici]</span><span class="sxs-lookup"><span data-stu-id="f0aab-154">[Appendices]</span></span>
  * <span data-ttu-id="f0aab-155">[Appendice 1: Uso di Fiddler per l'acquisizione del traffico HTTP e HTTPS]</span><span class="sxs-lookup"><span data-stu-id="f0aab-155">[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="f0aab-156">[Appendice 2: Uso di Wireshark per l'acquisizione del traffico di rete]</span><span class="sxs-lookup"><span data-stu-id="f0aab-156">[Appendix 2: Using Wireshark to capture network traffic]</span></span>
  * <span data-ttu-id="f0aab-157">[Appendice 3: Uso di Microsoft Message Analyzer per l'acquisizione del traffico di rete]</span><span class="sxs-lookup"><span data-stu-id="f0aab-157">[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]</span></span>
  * <span data-ttu-id="f0aab-158">[Appendice 4: Uso di Excel per la visualizzazione di metriche e dati di log]</span><span class="sxs-lookup"><span data-stu-id="f0aab-158">[Appendix 4: Using Excel to view metrics and log data]</span></span>
  * <span data-ttu-id="f0aab-159">[Appendice 5: Monitoraggio con Application Insights per Visual Studio Team Services]</span><span class="sxs-lookup"><span data-stu-id="f0aab-159">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="f0aab-160"><a name="introduction"></a>Introduzione</span><span class="sxs-lookup"><span data-stu-id="f0aab-160"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="f0aab-161">Questa guida spiega come usare funzionalità quali l'analisi dell'archiviazione di Azure, la registrazione lato client nella libreria client di archiviazione di Azure e altri strumenti di terze parti per identificare, diagnosticare e risolvere i problemi correlati al servizio di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-161">This guide shows you how to use features such as Azure Storage Analytics, client-side logging in the Azure Storage Client Library, and other third-party tools to identify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="f0aab-162">La guida è destinata in particolare agli sviluppatori dei servizi online che usano i servizi di archiviazione di Azure e ai professionisti IT responsabili della gestione di tali servizi online.</span><span class="sxs-lookup"><span data-stu-id="f0aab-162">This guide is intended to be read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="f0aab-163">Gli obiettivi della guida sono:</span><span class="sxs-lookup"><span data-stu-id="f0aab-163">The goals of this guide are:</span></span>

* <span data-ttu-id="f0aab-164">Consentire all'utente di mantenere l'integrità e le prestazioni degli account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-164">To help you maintain the health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="f0aab-165">Fornire all'utente le procedure e gli strumenti necessari per decidere se un problema riscontrato in un'applicazione è correlato all'Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-165">To provide you with the necessary processes and tools to help you decide if an issue or problem in an application relates to Azure Storage.</span></span>
* <span data-ttu-id="f0aab-166">Fornire all'utente indicazioni pratiche per la risoluzione dei problemi correlati all'Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-166">To provide you with actionable guidance for resolving problems related to Azure Storage.</span></span>

### <span data-ttu-id="f0aab-167"><a name="how-this-guide-is-organized"></a>Organizzazione di questa guida</span><span class="sxs-lookup"><span data-stu-id="f0aab-167"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="f0aab-168">La sezione "[Monitoraggio del servizio di archiviazione]" descrive le modalità di controllo dell'integrità e delle prestazioni dei servizi di archiviazione Azure tramite le metriche di Analisi archiviazione di Azure (metriche di archiviazione).</span><span class="sxs-lookup"><span data-stu-id="f0aab-168">The section "[Monitoring your storage service]" describes how to monitor the health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="f0aab-169">La sezione "[Diagnosi dei problemi di archiviazione]" descrive in che modo vengono diagnosticati i problemi utilizzando la funzione di registrazione di Analisi archiviazione di Azure (registrazione dell'archiviazione).</span><span class="sxs-lookup"><span data-stu-id="f0aab-169">The section "[Diagnosing storage issues]" describes how to diagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="f0aab-170">Descrive anche in che modo si abilita la registrazione lato client usando gli strumenti di una libreria client come la libreria client di archiviazione per .NET o Azure SDK per Java.</span><span class="sxs-lookup"><span data-stu-id="f0aab-170">It also describes how to enable client-side logging using the facilities in one of the client libraries such as the Storage Client Library for .NET or the Azure SDK for Java.</span></span>

<span data-ttu-id="f0aab-171">La sezione "[Traccia end-to-end]" descrive come si possono correlare le informazioni contenute in vari file di log e dati delle metriche.</span><span class="sxs-lookup"><span data-stu-id="f0aab-171">The section "[End-to-end tracing]" describes how you can correlate the information contained in various log files and metrics data.</span></span>

<span data-ttu-id="f0aab-172">La sezione "[Guida alla risoluzione dei problemi]" fornisce indicazioni utili per identificare alcuni dei problemi relativi all'archiviazione che si riscontrano più di frequente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-172">The section "[Troubleshooting guidance]" provides troubleshooting guidance for some of the common storage-related issues you might encounter.</span></span>

<span data-ttu-id="f0aab-173">La sezione "[Appendici]" include informazioni sull'utilizzo di altri strumenti quali Wireshark e Netmon per l'analisi dei dati dei pacchetti di rete, Fiddler per l'analisi dei messaggi HTTP/HTTPS e Microsoft Message Analyzer per la correlazione dei dati di log.</span><span class="sxs-lookup"><span data-stu-id="f0aab-173">The "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="f0aab-174"><a name="monitoring-your-storage-service"></a>Monitoraggio del servizio di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-174"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="f0aab-175">Per chi ha familiarità con il monitoraggio delle prestazioni di Windows, le metriche di archiviazione di Azure corrispondono ai contatori di Windows Performance Monitor.</span><span class="sxs-lookup"><span data-stu-id="f0aab-175">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="f0aab-176">Metriche di archiviazione comprende un set completo di metriche (contatori nella terminologia di Performance Monitor di Windows), tra cui la disponibilità del servizio, il numero totale di richieste al servizio e la percentuale di richieste eseguite correttamente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-176">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests to service, or percentage of successful requests to service.</span></span> <span data-ttu-id="f0aab-177">Per l'elenco completo delle metriche disponibili, vedere [Schema di tabella della metrica di Analisi di archiviazione](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-177">For a full list of the available metrics, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span> <span data-ttu-id="f0aab-178">È possibile specificare se si vuole che il servizio di archiviazione raccolga e aggreghi le metriche ogni ora o ogni minuto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-178">You can specify whether you want the storage service to collect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="f0aab-179">Per altre informazioni sulle modalità di abilitazione delle metriche e sul monitoraggio degli account di archiviazione, vedere [Abilitazione di Metriche di archiviazione e visualizzazione dei dati di metrica](http://go.microsoft.com/fwlink/?LinkId=510865).</span><span class="sxs-lookup"><span data-stu-id="f0aab-179">For more information about how to enable metrics and monitor your storage accounts, see [Enabling storage metrics and viewing metrics data](http://go.microsoft.com/fwlink/?LinkId=510865).</span></span>

<span data-ttu-id="f0aab-180">È possibile scegliere quali metriche orarie visualizzare nel [portale di Azure](https://portal.azure.com) e configurare le regole che inviano una notifica agli amministratori ogni volta che una metrica oraria supera una soglia particolare.</span><span class="sxs-lookup"><span data-stu-id="f0aab-180">You can choose which hourly metrics you want to display in the [Azure portal](https://portal.azure.com) and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold.</span></span> <span data-ttu-id="f0aab-181">Per altre informazioni, vedere [Ricevere notifiche di avviso](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md).</span><span class="sxs-lookup"><span data-stu-id="f0aab-181">For more information, see [Receive Alert Notifications](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md).</span></span> 

<span data-ttu-id="f0aab-182">Il servizio di archiviazione raccoglie le metriche usando la procedura migliore, ma potrebbe non registrare tutte le operazioni di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-182">The storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="f0aab-183">Nel portale di Azure sono visualizzate metriche come la disponibilità, le richieste totali e i numeri di latenza media per un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-183">In the Azure portal, you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="f0aab-184">È stata configurata anche una regola di notifica per avvisare un amministratore se la disponibilità scende al di sotto di un determinato livello.</span><span class="sxs-lookup"><span data-stu-id="f0aab-184">A notification rule has also been set up to alert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="f0aab-185">Dalla visualizzazione di questi dati, un'area di analisi possibile è la percentuale di successo dei servizi della tabella che risulta inferiore al 100% (per ulteriori informazioni, vedere la sezione "[Le metriche indicano un valore PercentSuccess basso o le voci del log di analisi contengono operazioni con stato della transazione ClientOtherErrors]").</span><span class="sxs-lookup"><span data-stu-id="f0aab-185">From viewing this data, one possible area for investigation is the table service success percentage being below 100% (for more information, see the section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

<span data-ttu-id="f0aab-186">È necessario monitorare continuamente le applicazioni Azure per assicurarsi che siano integre e funzionino come previsto, eseguendo queste operazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-186">You should continuously monitor your Azure applications to ensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="f0aab-187">Stabilire alcune metriche di base per le applicazioni che consentano di confrontare i dati correnti e identificare eventuali modifiche significative del comportamento dell'Archiviazione di Azure e dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-187">Establishing some baseline metrics for application that will enable you to compare current data and identify any significant changes in the behavior of Azure storage and your application.</span></span> <span data-ttu-id="f0aab-188">I valori delle metriche di base in molti casi saranno specifici per ogni singola applicazione e dovranno essere definiti quando si testano le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-188">The values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="f0aab-189">Registrare metriche al minuto e usarle per monitorare attivamente eventuali anomalie ed errori imprevisti, ad esempio picchi dei conteggi degli errori o della frequenza delle richieste.</span><span class="sxs-lookup"><span data-stu-id="f0aab-189">Recording minute metrics and using them to monitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="f0aab-190">Registrare metriche orarie e usarle per monitorare valori medi, come la media dei conteggi degli errori e della frequenza delle richieste.</span><span class="sxs-lookup"><span data-stu-id="f0aab-190">Recording hourly metrics and using them to monitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="f0aab-191">Esaminare i potenziali problemi utilizzando gli strumenti di diagnostica descritti più avanti nella sezione "[Diagnosi dei problemi di archiviazione]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-191">Investigating potential issues using diagnostics tools as discussed later in the section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="f0aab-192">I grafici della figura seguente illustrano in che modo il calcolo della media delle metriche orarie può nascondere picchi di attività.</span><span class="sxs-lookup"><span data-stu-id="f0aab-192">The charts in the following image illustrate how the averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="f0aab-193">Le metriche orarie sembrano indicare una frequenza costante delle richieste, mentre le metriche al minuto rivelano le fluttuazioni che si verificano effettivamente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-193">The hourly metrics appear to show a steady rate of requests, while the minute metrics reveal the fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="f0aab-194">La parte rimanente di questa sezione descrive le metriche che è necessario monitorare e perché.</span><span class="sxs-lookup"><span data-stu-id="f0aab-194">The remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="f0aab-195"><a name="monitoring-service-health"></a>Monitoraggio dello stato del servizio</span><span class="sxs-lookup"><span data-stu-id="f0aab-195"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="f0aab-196">Usare il [portale di Azure](https://portal.azure.com) per visualizzare lo stato del servizio di archiviazione (e altri servizi di Azure) in tutte le aree Azure del mondo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-196">You can use the [Azure portal](https://portal.azure.com) to view the health of the Storage service (and other Azure services) in all the Azure regions around the world.</span></span> <span data-ttu-id="f0aab-197">Ciò consente di vedere immediatamente se un problema al di fuori del proprio controllo incide sul servizio di archiviazione nell'area in uso per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-197">This enables you to see immediately if an issue outside of your control is affecting the Storage service in the region you use for your application.</span></span>

<span data-ttu-id="f0aab-198">Il [portale di Azure](https://portal.azure.com) può anche fornire notifiche sugli incidenti che influiscono sui vari servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-198">The [Azure portal](https://portal.azure.com) can also provide notifications of incidents that affect the various Azure services.</span></span>
<span data-ttu-id="f0aab-199">Nota: queste informazioni in precedenza erano disponibili, insieme ai dati cronologici, sul [dashboard dei servizi di Azure](http://status.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f0aab-199">Note: This information was previously available, along with historical data, on the [Azure Service Dashboard](http://status.azure.com).</span></span>

<span data-ttu-id="f0aab-200">Benché il [portale di Azure](https://portal.azure.com) raccolga le informazioni sullo stato dall'interno dei data center di Azure (monitoraggio da interno a esterno), si può anche considerare l'adozione di un approccio da esterno a interno per generare transazioni sintetiche che accedano periodicamente all'applicazione Web in hosting su Azure da più posizioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-200">While the [Azure portal](https://portal.azure.com) collects health information from inside the Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach to generate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="f0aab-201">I servizi offerti da [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) e Application Insights per Visual Studio Team Services sono esempi di tale approccio da esterno a interno.</span><span class="sxs-lookup"><span data-stu-id="f0aab-201">The services offered by [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="f0aab-202">Per altre informazioni su Application Insights per Visual Studio Team Services, vedere la sezione "[Appendice 5: monitoraggio con Application Insights per Visual Studio Team Services](#appendix-5)".</span><span class="sxs-lookup"><span data-stu-id="f0aab-202">For more information about Application Insights for Visual Studio Team Services, see the appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services](#appendix-5)."</span></span>

### <span data-ttu-id="f0aab-203"><a name="monitoring-capacity"></a>Monitoraggio della capacità</span><span class="sxs-lookup"><span data-stu-id="f0aab-203"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="f0aab-204">Lo strumento Metriche di archiviazione memorizza solo le metriche di capacità per il servizio BLOB poiché gli oggetti BLOB normalmente raccolgono la proporzione maggiore di dati archiviati. Attualmente non è possibile usare Metriche di archiviazione per monitorare la capacità di tabelle e code.</span><span class="sxs-lookup"><span data-stu-id="f0aab-204">Storage Metrics only stores capacity metrics for the blob service because blobs typically account for the largest proportion of stored data (at the time of writing, it is not possible to use Storage Metrics to monitor the capacity of your tables and queues).</span></span> <span data-ttu-id="f0aab-205">È possibile trovare questi dati nella tabella **$MetricsCapacityBlob** se è stato attivato il monitoraggio per il servizio BLOB.</span><span class="sxs-lookup"><span data-stu-id="f0aab-205">You can find this data in the **$MetricsCapacityBlob** table if you have enabled monitoring for the Blob service.</span></span> <span data-ttu-id="f0aab-206">Le metriche di archiviazione registrano i dati una volta al giorno ed è possibile usare il valore di **RowKey** per determinare se la riga contiene un'entità che fa riferimento ai dati utente (valore **data**) o dati analitici (valore **analytics**).</span><span class="sxs-lookup"><span data-stu-id="f0aab-206">Storage Metrics records this data once per day, and you can use the value of the **RowKey** to determine whether the row contains an entity that relates to user data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="f0aab-207">Ogni entità archiviata contiene informazioni sulla quantità di spazio di archiviazione usato (valore **Capacity** in byte) e il numero attuale di contenitori (**ContainerCount**) e oggetti BLOB (**ObjectCount**) usati nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-207">Each stored entity contains information about the amount of storage used (**Capacity** measured in bytes) and the current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in the storage account.</span></span> <span data-ttu-id="f0aab-208">Per ulteriori informazioni sulle metriche di capacità archiviate nella tabella **$MetricsCapacityBlob**, vedere [Schema di tabella della metrica di Analisi di archiviazione](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-208">For more information about the capacity metrics stored in the **$MetricsCapacityBlob** table, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-209">È necessario monitorare questi valori per essere avvisati tempestivamente quando si stanno raggiungendo i limiti di capacità dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-209">You should monitor these values for an early warning that you are approaching the capacity limits of your storage account.</span></span> <span data-ttu-id="f0aab-210">Nel portale di Azure è possibile aggiungere regole di avviso per ricevere una notifica nel caso in cui l'archiviazione degli aggregati superi o sia inferiore alle soglie specificate.</span><span class="sxs-lookup"><span data-stu-id="f0aab-210">In the Azure portal, you can add alert rules to notify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="f0aab-211">Per sapere come stimare le dimensioni dei vari oggetti di archiviazione, ad esempio gli oggetti BLOB, vedere il post del blog [Informazioni sulla fatturazione di Archiviazione di Azure - Larghezza di banda, transazioni e capacità](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-211">For help estimating the size of various storage objects such as blobs, see the blog post [Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

### <span data-ttu-id="f0aab-212"><a name="monitoring-availability"></a>Monitoraggio della disponibilità</span><span class="sxs-lookup"><span data-stu-id="f0aab-212"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="f0aab-213">Per verificare la disponibilità dei servizi di archiviazione nell'account di archiviazione, è necessario monitorare il valore della colonna della **disponibilità** nelle tabelle delle metriche orarie o al minuto: **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-213">You should monitor the availability of the storage services in your storage account by monitoring the value in the **Availability** column in the hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="f0aab-214">La colonna della **disponibilità** contiene un valore percentuale che indica la disponibilità del servizio o dell'operazione API rappresentata dalla riga (il valore **RowKey** indica se la riga contiene metriche per il servizio completo o per un'operazione API specifica).</span><span class="sxs-lookup"><span data-stu-id="f0aab-214">The **Availability** column contains a percentage value that indicates the availability of the service or the API operation represented by the row (the **RowKey** shows if the row contains metrics for the service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="f0aab-215">Eventuali valori inferiori al 100% indicano che alcune richieste di archiviazione hanno esito negativo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-215">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="f0aab-216">È possibile vedere per quale motivo le richieste hanno esito negativo esaminando le altre colonne di dati della metrica che indicano il numero di richieste con tipi diversi di errore, ad esempio **ServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-216">You can see why they are failing by examining the other columns in the metrics data that show the numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="f0aab-217">La **disponibilità** può scendere momentaneamente al di sotto del 100% per diversi motivi, ad esempio per timeout temporanei del server mentre il servizio sposta le partizioni per bilanciare meglio il carico della richiesta. La logica ripetizione dell'applicazione client dovrebbe gestire tali condizioni intermittenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-217">You should expect to see **Availability** fall temporarily below 100% for reasons such as transient server timeouts while the service moves partitions to better load-balance request; the retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="f0aab-218">Nell'articolo [Operazioni registrate di Analisi di archiviazione e messaggi di stato](http://msdn.microsoft.com/library/azure/hh343260.aspx) sono elencati i tipi di transazione inclusi dalle metriche di archiviazione nel calcolo della **disponibilità**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-218">The article [Storage Analytics Logged Operations and Status Messages](http://msdn.microsoft.com/library/azure/hh343260.aspx) lists the transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="f0aab-219">Nel [portale di Azure](https://portal.azure.com) è possibile aggiungere regole di avviso per ricevere una notifica nel caso in cui la **disponibilità** di un servizio cada al di sotto di una soglia specificata.</span><span class="sxs-lookup"><span data-stu-id="f0aab-219">In the [Azure portal](https://portal.azure.com), you can add alert rules to notify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="f0aab-220">La sezione "[Guida alla risoluzione dei problemi]" di questa guida descrive alcuni dei problemi di disponibilità che si riscontrano più di frequente nel servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-220">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to availability.</span></span>

### <span data-ttu-id="f0aab-221"><a name="monitoring-performance"></a>Monitoraggio delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-221"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="f0aab-222">Per monitorare le prestazioni dei servizi di archiviazione è possibile usare le seguenti metriche estratte dalle tabelle delle metriche orarie e al minuto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-222">To monitor the performance of the storage services, you can use the following metrics from the hourly and minute metrics tables.</span></span>

* <span data-ttu-id="f0aab-223">I valori nelle colonne **AverageE2ELatency** e **AverageServerLatency** indicano il tempo medio impiegato dal servizio di archiviazione o dal tipo di operazione API per elaborare le richieste.</span><span class="sxs-lookup"><span data-stu-id="f0aab-223">The values in the **AverageE2ELatency** and **AverageServerLatency** columns show the average time the storage service or API operation type is taking to process requests.</span></span> <span data-ttu-id="f0aab-224">**AverageE2ELatency** è una misura della latenza end-to-end che include il tempo impiegato per leggere la richiesta e inviare la risposta sommato al tempo impiegato per elaborare la richiesta (di conseguenza include la latenza di rete quando la richiesta raggiunge il servizio di archiviazione); **AverageServerLatency** è una misura del tempo di elaborazione ed esclude quindi qualsiasi latenza di rete relativa alla comunicazione con il client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-224">**AverageE2ELatency** is a measure of end-to-end latency that includes the time taken to read the request and send the response in addition to the time taken to process the request (therefore includes network latency once the request reaches the storage service); **AverageServerLatency** is a measure of just the processing time and therefore excludes any network latency related to communicating with the client.</span></span> <span data-ttu-id="f0aab-225">Vedere la sezione "[Le metriche indicano un valore AverageE2ELatency alto e un valore AverageServerLatency basso]" più avanti in questa guida per sapere perché esiste una differenza significativa tra i due valori.</span><span class="sxs-lookup"><span data-stu-id="f0aab-225">See the section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="f0aab-226">I valori nelle colonne **TotalIngress** e **TotalEgress** indicano il volume totale dei dati, in byte, in entrata e in uscita dal servizio di archiviazione o attraverso un tipo specifico di operazione API.</span><span class="sxs-lookup"><span data-stu-id="f0aab-226">The values in the **TotalIngress** and **TotalEgress** columns show the total amount of data, in bytes, coming in to and going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="f0aab-227">I valori presenti nella colonna **TotalRequests** indicano il numero totale di richieste ricevute dal servizio di archiviazione o dall'operazione API.</span><span class="sxs-lookup"><span data-stu-id="f0aab-227">The values in the **TotalRequests** column show the total number of requests that the storage service of API operation is receiving.</span></span> <span data-ttu-id="f0aab-228">**TotalRequests** è il numero totale di richieste ricevute dal servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-228">**TotalRequests** is the total number of requests that the storage service receives.</span></span>

<span data-ttu-id="f0aab-229">In genere, questi valori vengono monitorati per verificare la presenza di eventuali cambiamenti imprevisti che possono indicare l'esistenza di problemi da sottoporre ad analisi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-229">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="f0aab-230">Nel [portale di Azure](https://portal.azure.com) è possibile aggiungere regole di avviso per ricevere una notifica nel caso in cui una delle metriche di prestazione del servizio sia inferiore o superiore a una soglia specificata.</span><span class="sxs-lookup"><span data-stu-id="f0aab-230">In the [Azure portal](https://portal.azure.com), you can add alert rules to notify you if any of the performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="f0aab-231">La sezione "[Guida alla risoluzione dei problemi]" di questa guida descrive alcuni dei problemi che si riscontrano più di frequente nel servizio di archiviazione in relazione alle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-231">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to performance.</span></span>

## <span data-ttu-id="f0aab-232"><a name="diagnosing-storage-issues"></a>Diagnosi dei problemi di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-232"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="f0aab-233">Esistono alcuni sintomi che indicano la presenza di un problema dell'applicazione, tra cui:</span><span class="sxs-lookup"><span data-stu-id="f0aab-233">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="f0aab-234">Un errore grave che causa l'arresto anomalo o interrompe l'esecuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-234">A major failure that causes the application to crash or to stop working.</span></span>
* <span data-ttu-id="f0aab-235">cambiamenti significativi dei valori di base delle metriche monitorate come descritto nella sezione precedente, "[Monitoraggio del servizio di archiviazione]"</span><span class="sxs-lookup"><span data-stu-id="f0aab-235">Significant changes from baseline values in the metrics you are monitoring as described in the previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="f0aab-236">Segnalazione da parte degli utenti dell'applicazione in merito al fatto che una determinata operazione non viene completata come previsto o che non è possibile usare una funzionalità.</span><span class="sxs-lookup"><span data-stu-id="f0aab-236">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="f0aab-237">Errori generati all'interno dell'applicazione che appaiono nei file di log o vengono segnalati con altri metodi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-237">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="f0aab-238">Normalmente i problemi correlati ai servizio di archiviazione di Azure rientrano in una delle seguenti quattro grandi categorie:</span><span class="sxs-lookup"><span data-stu-id="f0aab-238">Typically, issues related to Azure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="f0aab-239">L'applicazione presenta un problema di prestazioni, segnalato dagli utenti o rivelato da modifiche nelle metriche delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-239">Your application has a performance issue, either reported by your users, or revealed by changes in the performance metrics.</span></span>
* <span data-ttu-id="f0aab-240">Si è verificato un problema con l'infrastruttura dell'Archiviazione di Azure in una o più aree.</span><span class="sxs-lookup"><span data-stu-id="f0aab-240">There is a problem with the Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="f0aab-241">L'applicazione ha riscontrato un errore, segnalato dagli utenti o rivelato dall'aumento delle metriche di conteggio degli errori monitorate.</span><span class="sxs-lookup"><span data-stu-id="f0aab-241">Your application is encountering an error, either reported by your users, or revealed by an increase in one of the error count metrics you monitor.</span></span>
* <span data-ttu-id="f0aab-242">Durante lo sviluppo e i test può essere usato l'emulatore di archiviazione locale. È possibile che si verifichino alcuni problemi connessi specificamente all'uso dell'emulatore.</span><span class="sxs-lookup"><span data-stu-id="f0aab-242">During development and test, you may be using the local storage emulator; you may encounter some issues that relate specifically to usage of the storage emulator.</span></span>

<span data-ttu-id="f0aab-243">Le sezioni seguenti illustrano le procedure da adottare per la diagnosi e la risoluzione dei problemi in ciascuna delle quattro categorie.</span><span class="sxs-lookup"><span data-stu-id="f0aab-243">The following sections outline the steps you should follow to diagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="f0aab-244">La sezione "[Guida alla risoluzione dei problemi]" più avanti in questa guida fornisce maggiori dettagli su alcuni dei problemi che si possono verificare più di frequente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-244">The section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="f0aab-245"><a name="service-health-issues"></a>Problemi di stato del servizio</span><span class="sxs-lookup"><span data-stu-id="f0aab-245"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="f0aab-246">I problemi di stato del servizio di solito sono al di fuori del controllo dell'utente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-246">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="f0aab-247">Il [portale di Azure](https://portal.azure.com) fornisce informazioni sui problemi che si possono verificare usando i servizi Azure, inclusi i servizi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-247">The [Azure portal](https://portal.azure.com) provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="f0aab-248">Se si è scelta un'archiviazione con accesso in lettura e ridondanza geografica durante la creazione dell'account, nel caso in cui i dati non siano disponibili nella posizione primaria, l'applicazione può passare temporaneamente alla copia di sola lettura nella posizione secondaria.</span><span class="sxs-lookup"><span data-stu-id="f0aab-248">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in the event of your data being unavailable in the primary location, your application could switch temporarily to the read-only copy in the secondary location.</span></span> <span data-ttu-id="f0aab-249">Per fare ciò, l'applicazione deve essere in grado di passare dalla posizione primaria a quella secondaria e viceversa nonché di gestire i dati di sola lettura in una modalità con funzionalità ridotta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-249">To do this, your application must be able to switch between using the primary and secondary storage locations, and be able to work in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="f0aab-250">Le librerie client del servizio di archiviazione Azure consentono di definire criteri di ripetizione per leggere i dati da un'archiviazione secondaria nel caso in cui quella primaria non funzioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-250">The Azure Storage Client libraries allow you to define a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="f0aab-251">L'applicazione deve inoltre essere in grado di stabilire se i dati nella posizione secondaria risultano coerenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-251">Your application also needs to be aware that the data in the secondary location is eventually consistent.</span></span> <span data-ttu-id="f0aab-252">Per altre informazioni, vedere il post del blog [Opzioni di ridondanza di Archiviazione di Azure e Archiviazione con ridondanza geografica e accesso in lettura](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="f0aab-252">For more information, see the blog post [Azure Storage Redundancy Options and Read Access Geo Redundant Storage](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

### <span data-ttu-id="f0aab-253"><a name="performance-issues"></a>Problemi di prestazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-253"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="f0aab-254">Le prestazioni di un'applicazione possono essere soggettive, soprattutto dal punto di vista dell'utente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-254">The performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="f0aab-255">È quindi importante avere a disposizione metriche di base che consentano di localizzare e identificare i problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-255">Therefore, it is important to have baseline metrics available to help you identify where there might be a performance issue.</span></span> <span data-ttu-id="f0aab-256">Sono molti i fattori che possono influire sulle prestazioni di un servizio di archiviazione Azure dal punto di vista dell'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-256">Many factors might affect the performance of an Azure storage service from the client application perspective.</span></span> <span data-ttu-id="f0aab-257">Tali fattori possono agire nel servizio di archiviazione, nel client o nell'infrastruttura di rete, quindi è importante disporre di una strategia in grado di identificare l'origine del problema di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-257">These factors might operate in the storage service, in the client, or in the network infrastructure; therefore it is important to have a strategy for identifying the origin of the performance issue.</span></span>

<span data-ttu-id="f0aab-258">Dopo aver identificato l'origine probabile della causa del problema in base alle metriche, è possibile utilizzare i file di log per trovare informazioni dettagliate che consentano di diagnosticare e risolvere meglio il problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-258">After you have identified the likely location of the cause of the performance issue from the metrics, you can then use the log files to find detailed information to diagnose and troubleshoot the problem further.</span></span>

<span data-ttu-id="f0aab-259">La sezione "[Guida alla risoluzione dei problemi]" più avanti in questa guida fornisce ulteriori informazioni su alcuni dei problemi che si possono verificare più di frequente in relazione alle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-259">The section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="f0aab-260"><a name="diagnosing-errors"></a>Diagnostica degli errori</span><span class="sxs-lookup"><span data-stu-id="f0aab-260"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="f0aab-261">Gli utenti dell'applicazione possono notificare gli errori segnalati dall'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-261">Users of your application may notify you of errors reported by the client application.</span></span> <span data-ttu-id="f0aab-262">Le metriche di archiviazione registrano anche i conteggi dei diversi tipi di errore riscontrati dai servizi di archiviazione, quali **NetworkError**, **ClientTimeoutError** o **AuthorizationError**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-262">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="f0aab-263">Benché Metriche di archiviazione registrino solo i conteggi dei diversi tipi di errore, è possibile ottenere più dettagli sulle singole richieste esaminando i file di log di lato server, lato client e rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-263">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="f0aab-264">In genere, il codice di stato HTTP restituito dal servizio di archiviazione fornisce un'indicazione del motivo dell'esito negativo della richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-264">Typically, the HTTP status code returned by the storage service will give an indication of why the request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-265">Tenere presente che si possono verificare alcuni errori intermittenti: ad esempio, errori dovuti a condizioni temporanee della rete o a errori dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-265">Remember that you should expect to see some intermittent errors: for example, errors due to transient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="f0aab-266">Le seguenti risorse sono utili per l'interpretazione dei codici di errore e di stato correlati all'archiviazione:</span><span class="sxs-lookup"><span data-stu-id="f0aab-266">The following resources are useful for understanding storage-related status and error codes:</span></span>

* [<span data-ttu-id="f0aab-267">Codici di errore comuni dell'API REST</span><span class="sxs-lookup"><span data-stu-id="f0aab-267">Common REST API Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179357.aspx)
* [<span data-ttu-id="f0aab-268">Codici di errore del servizio BLOB</span><span class="sxs-lookup"><span data-stu-id="f0aab-268">Blob Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179439.aspx)
* [<span data-ttu-id="f0aab-269">Codici di errore del servizio di accodamento</span><span class="sxs-lookup"><span data-stu-id="f0aab-269">Queue Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179446.aspx)
* [<span data-ttu-id="f0aab-270">Codici di errore del servizio tabelle</span><span class="sxs-lookup"><span data-stu-id="f0aab-270">Table Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179438.aspx)
* [<span data-ttu-id="f0aab-271">Codici di errore del servizio file</span><span class="sxs-lookup"><span data-stu-id="f0aab-271">File Service Error Codes</span></span>](https://msdn.microsoft.com/library/azure/dn690119.aspx)

### <span data-ttu-id="f0aab-272"><a name="storage-emulator-issues"></a>Problemi dell'emulatore di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-272"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="f0aab-273">L'SDK di Azure include un emulatore di archiviazione che può essere eseguito su una workstation di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-273">The Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="f0aab-274">L'emulatore simula la maggior parte delle attività dei servizi di archiviazione Azure ed è utile in fase di sviluppo e test, poiché consente di eseguire le applicazioni che usano i servizi di archiviazione Azure senza che siano necessari una sottoscrizione di Azure e un account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-274">This emulator simulates most of the behavior of the Azure storage services and is useful during development and test, enabling you to run applications that use Azure storage services without the need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="f0aab-275">La sezione "[Guida alla risoluzione dei problemi]" di questa guida descrive alcuni dei problemi che si riscontrano più di frequente utilizzando l'emulatore di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-275">The "[Troubleshooting guidance]" section of this guide describes some common issues encountered using the storage emulator.</span></span>

### <span data-ttu-id="f0aab-276"><a name="storage-logging-tools"></a>Strumenti di registrazione dell'archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-276"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="f0aab-277">La registrazione dell'archiviazione consente di registrare sul lato server le richieste di archiviazione presenti nell'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-277">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="f0aab-278">Per altre informazioni sulle modalità di abilitazione della registrazione lato server e dell'accesso ai dati registrati, vedere [Abilitazione di Registrazione archiviazione e accesso ai dati di log](http://go.microsoft.com/fwlink/?LinkId=510867).</span><span class="sxs-lookup"><span data-stu-id="f0aab-278">For more information about how to enable server-side logging and access the log data, see [Enabling Storage Logging and Accessing Log Data](http://go.microsoft.com/fwlink/?LinkId=510867).</span></span>

<span data-ttu-id="f0aab-279">Storage Client Library per .NET consente di raccogliere i dati della registrazione lato client correlati alle operazioni di archiviazione eseguite dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-279">The Storage Client Library for .NET enables you to collect client-side log data that relates to storage operations performed by your application.</span></span> <span data-ttu-id="f0aab-280">Per altre informazioni, vedere [Registrazione lato client con la libreria client di archiviazione .NET](http://go.microsoft.com/fwlink/?LinkId=510868).</span><span class="sxs-lookup"><span data-stu-id="f0aab-280">For more information, see [Client-side Logging with the .NET Storage Client Library](http://go.microsoft.com/fwlink/?LinkId=510868).</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-281">In alcune circostanze, ad esempio in caso di mancata autorizzazione della firma di accesso condiviso, un utente può segnalare un errore per il quale non sono reperibili i dati della richiesta nei file di log dell'archiviazione lato server.</span><span class="sxs-lookup"><span data-stu-id="f0aab-281">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in the server-side Storage logs.</span></span> <span data-ttu-id="f0aab-282">È possibile utilizzare le funzionalità di registrazione di Storage Client Library per verificare se la causa del problema è sul client o utilizzare gli strumenti di monitoraggio della rete per esaminare la rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-282">You can use the logging capabilities of the Storage Client Library to investigate if the cause of the issue is on the client or use network monitoring tools to investigate the network.</span></span>
> 
> 

### <span data-ttu-id="f0aab-283"><a name="using-network-logging-tools"></a>Uso degli strumenti di registrazione in rete</span><span class="sxs-lookup"><span data-stu-id="f0aab-283"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="f0aab-284">È possibile acquisire il traffico tra client e server per fornire informazioni dettagliate sui dati scambiati da client e server e sulle condizione della rete sottostante.</span><span class="sxs-lookup"><span data-stu-id="f0aab-284">You can capture the traffic between the client and server to provide detailed information about the data the client and server are exchanging and the underlying network conditions.</span></span> <span data-ttu-id="f0aab-285">Sono disponibili alcuni strumenti utili per la registrazione in rete:</span><span class="sxs-lookup"><span data-stu-id="f0aab-285">Useful network logging tools include:</span></span>

* <span data-ttu-id="f0aab-286">[Fiddler](http://www.telerik.com/fiddler) è un proxy di debug Web gratuito che consente di esaminare le intestazioni e i dati di payload dei messaggi HTTP e HTTPS di richiesta e risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-286">[Fiddler](http://www.telerik.com/fiddler) is a free web debugging proxy that enables you to examine the headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="f0aab-287">Per ulteriori informazioni, vedere [Appendice 1: Uso di Fiddler per l'acquisizione del traffico HTTP e HTTPS](#appendix-1).</span><span class="sxs-lookup"><span data-stu-id="f0aab-287">For more information, see [Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic](#appendix-1).</span></span>
* <span data-ttu-id="f0aab-288">[Microsoft Network Monitor (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) e [Wireshark](http://www.wireshark.org/) sono strumenti gratuiti per l'analisi dei protocolli di rete che consentono di visualizzare informazioni dettagliate sui pacchetti per un'ampia gamma di protocolli di rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-288">[Microsoft Network Monitor (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) and [Wireshark](http://www.wireshark.org/) are free network protocol analyzers that enable you to view detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="f0aab-289">Per ulteriori informazioni su Wireshark, vedere "[Appendice 2: Uso di Wireshark per l'acquisizione del traffico di rete](#appendix-2)".</span><span class="sxs-lookup"><span data-stu-id="f0aab-289">For more information about Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic](#appendix-2)".</span></span>
* <span data-ttu-id="f0aab-290">Microsoft Message Analyzer è uno strumento di Microsoft che sostituisce Netmon e che, oltre ad acquisire i dati dei pacchetti di rete, consente di visualizzare e analizzare i dati di log acquisiti da altri strumenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-290">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition to capturing network packet data, helps you to view and analyze the log data captured from other tools.</span></span> <span data-ttu-id="f0aab-291">Per ulteriori informazioni, vedere "[Appendice 3: Uso di Microsoft Message Analyzer per l'acquisizione del traffico di rete](#appendix-3)".</span><span class="sxs-lookup"><span data-stu-id="f0aab-291">For more information, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic](#appendix-3)".</span></span>
* <span data-ttu-id="f0aab-292">Per eseguire un test di base delle connessioni per verificare che il computer client sia in grado di connettersi al servizio di archiviazione Azure in rete, non è possibile utilizzare il normale strumento **ping** sul client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-292">If you want to perform a basic connectivity test to check that your client machine can connect to the Azure storage service over the network, you cannot do this using the standard **ping** tool on the client.</span></span> <span data-ttu-id="f0aab-293">[Tuttavia, è possibile usare lo strumento **tcping**](http://www.elifulkerson.com/projects/tcping.php) per verificare la connettività.</span><span class="sxs-lookup"><span data-stu-id="f0aab-293">However, you can use the [**tcping** tool](http://www.elifulkerson.com/projects/tcping.php) to check connectivity.</span></span>

<span data-ttu-id="f0aab-294">In molti casi, i dati di log provenienti dalla registrazione dell'archiviazione e da Storage Client Library saranno sufficienti per diagnosticare un problema, ma in alcune situazione può essere necessario disporre di informazioni più dettagliate rispetto a quelle fornite da questi strumenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-294">In many cases, the log data from Storage Logging and the Storage Client Library will be sufficient to diagnose an issue, but in some scenarios, you may need the more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="f0aab-295">Ad esempio, l'utilizzo di Fiddler per visualizzare i messaggi HTTP e HTTPS consente di visualizzare i dati di intestazione e di payload inviati e ricevuti dai servizi di archiviazione e quindi di esaminare il modo in cui un'applicazione client ritenti le operazioni di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-295">For example, using Fiddler to view HTTP and HTTPS messages enables you to view header and payload data sent to and from the storage services, which would enable you to examine how a client application retries storage operations.</span></span> <span data-ttu-id="f0aab-296">Gli strumenti di analisi dei protocolli, come Wireshark, funzionano a livello di pacchetto e consentono di visualizzare i dati TCP, quindi di risolvere i problemi dovuti alla perdita di pacchetti e a errori di connessione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-296">Protocol analyzers such as Wireshark operate at the packet level enabling you to view TCP data, which would enable you to troubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="f0aab-297">Message Analyzer è in grado di funzionare sia sul livello HTTP che sul livello TCP.</span><span class="sxs-lookup"><span data-stu-id="f0aab-297">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="f0aab-298"><a name="end-to-end-tracing"></a>Traccia end-to-end</span><span class="sxs-lookup"><span data-stu-id="f0aab-298"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="f0aab-299">La funzionalità di traccia end-to-end basata sull'utilizzo di una varietà di file di log è una tecnica utile per l'analisi dei potenziali problemi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-299">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="f0aab-300">È possibile usare le informazioni su data e ora estratte dai dati delle metriche come indicazione del punto da cui deve partire la ricerca nei file di log dei dettagli necessari per la risoluzione del problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-300">You can use the date/time information from your metrics data as an indication of where to start looking in the log files for the detailed information that will help you troubleshoot the issue.</span></span>

### <span data-ttu-id="f0aab-301"><a name="correlating-log-data"></a>Correlazione dei dati di log</span><span class="sxs-lookup"><span data-stu-id="f0aab-301"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="f0aab-302">Quando si visualizzano i file di log delle applicazioni client, le tracce di rete e la registrazione dell'archiviazione lato server, è essenziale poter creare una correlazione delle richieste in tutti i file di log.</span><span class="sxs-lookup"><span data-stu-id="f0aab-302">When viewing logs from client applications, network traces, and server-side storage logging it is critical to be able to correlate requests across the different log files.</span></span> <span data-ttu-id="f0aab-303">I file di log includono diversi campi che possono essere utili come identificatori di correlazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-303">The log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="f0aab-304">Il campo dell'ID richiesta client è il più utile ai fini della correlazione delle voci nei diversi file di log.</span><span class="sxs-lookup"><span data-stu-id="f0aab-304">The client request id is the most useful field to use to correlate entries in the different logs.</span></span> <span data-ttu-id="f0aab-305">Tuttavia, in alcuni casi può essere utile utilizzare l'ID richiesta server o i timestamp.</span><span class="sxs-lookup"><span data-stu-id="f0aab-305">However sometimes, it can be useful to use either the server request id or timestamps.</span></span> <span data-ttu-id="f0aab-306">Le sezioni che seguono forniscono ulteriori dettagli su queste opzioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-306">The following sections provide more details about these options.</span></span>

### <span data-ttu-id="f0aab-307"><a name="client-request-id"></a>ID richiesta client</span><span class="sxs-lookup"><span data-stu-id="f0aab-307"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="f0aab-308">Storage Client Library genera automaticamente un ID richiesta client univoco per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-308">The Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="f0aab-309">Nel file di log lato client creato da Storage Client Library, tale ID appare nel campo dell' **ID richiesta client** di ogni voce del file log correlato alla richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-309">In the client-side log that the Storage Client Library creates, the client request id appears in the **Client Request ID** field of every log entry relating to the request.</span></span>
* <span data-ttu-id="f0aab-310">In una traccia di rete, ad esempio quella acquisita con Fiddler, l'ID richiesta client è visibile nei messaggi di richiesta come valore dell'intestazione HTTP **x-ms-client-request-id** .</span><span class="sxs-lookup"><span data-stu-id="f0aab-310">In a network trace such as one captured by Fiddler, the client request id is visible in request messages as the **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="f0aab-311">Nel log di registrazione dell'archiviazione lato server, l'ID richiesta client appare nella colonna relativa a tale ID.</span><span class="sxs-lookup"><span data-stu-id="f0aab-311">In the server-side Storage Logging log, the client request id appears in the Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-312">È possibile che più richieste condividano lo stesso ID richiesta client poiché il client può assegnare questo valore (benché Storage Client Library assegni automaticamente un nuovo valore).</span><span class="sxs-lookup"><span data-stu-id="f0aab-312">It is possible for multiple requests to share the same client request id because the client can assign this value (although the Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="f0aab-313">Nel caso di nuovi tentativi del client, tutti i tentativi condividono lo stesso id di richiesta del client. Nel caso di un batch inviato dal client, il batch ha un singolo id di richiesta del client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-313">In the case of retries from the client, all attempts share the same client request id. In the case of a batch sent from the client, the batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="f0aab-314"><a name="server-request-id"></a>ID richiesta server</span><span class="sxs-lookup"><span data-stu-id="f0aab-314"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="f0aab-315">Il servizio di archiviazione genera automaticamente gli ID richiesta server.</span><span class="sxs-lookup"><span data-stu-id="f0aab-315">The storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="f0aab-316">Nel log di registrazione dell'archiviazione lato server, l'ID richiesta server appare nella colonna dell' **intestazione dell'ID richiesta** .</span><span class="sxs-lookup"><span data-stu-id="f0aab-316">In the server-side Storage Logging log, the server request id appears the **Request ID header** column.</span></span>
* <span data-ttu-id="f0aab-317">In una traccia di rete, ad esempio quella acquisita con Fiddler, l'ID richiesta server appare nei messaggi di risposta come valore dell'intestazione HTTP **x-ms-request-id** .</span><span class="sxs-lookup"><span data-stu-id="f0aab-317">In a network trace such as one captured by Fiddler, the server request id appears in response messages as the **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="f0aab-318">Nel log lato client creato da Storage Client Library, l'ID richiesta server appare nella colonna del **testo dell'operazione** per la voce del log che mostra i dettagli della risposta del server.</span><span class="sxs-lookup"><span data-stu-id="f0aab-318">In the client-side log that the Storage Client Library creates, the server request id appears in the **Operation Text** column for the log entry showing details of the server response.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-319">Il servizio di archiviazione assegna sempre un ID richiesta server univoco a ogni richiesta che riceve, quindi ogni tentativo ripetuto dal client e ogni operazione inclusa in un batch hanno un ID richiesta server univoco.</span><span class="sxs-lookup"><span data-stu-id="f0aab-319">The storage service always assigns a unique server request id to every request it receives, so every retry attempt from the client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="f0aab-320">Se la libreria client di archiviazione genera un'eccezione **StorageException** nel client, la proprietà **RequestInformation** contiene un oggetto **RequestResult** che include una proprietà **ServiceRequestID**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-320">If the Storage Client Library throws a **StorageException** in the client, the **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="f0aab-321">È anche possibile accedere a un oggetto **RequestResult** da un'istanza **OperationContext**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-321">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="f0aab-322">L'esempio di codice seguente illustra come impostare un valore **ClientRequestId** personalizzato allegando un oggetto **OperationContext** alla richiesta del servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-322">The code sample below demonstrates how to set a custom **ClientRequestId** value by attaching an **OperationContext** object the request to the storage service.</span></span> <span data-ttu-id="f0aab-323">Mostra inoltre come recuperare il valore **ServerRequestId** dal messaggio di risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-323">It also shows how to retrieve the **ServerRequestId** value from the response message.</span></span>

```csharp
//Parse the connection string for the storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within the application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded to file: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due to client side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="f0aab-324"><a name="timestamps"></a>Timestamp</span><span class="sxs-lookup"><span data-stu-id="f0aab-324"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="f0aab-325">È possibile utilizzare i timestamp per individuare le voci di log correlate, ma è importante fare attenzione a eventuali sfasamenti di orario tra il client e il server.</span><span class="sxs-lookup"><span data-stu-id="f0aab-325">You can also use timestamps to locate related log entries, but be careful of any clock skew between the client and server that may exist.</span></span> <span data-ttu-id="f0aab-326">Eseguire la ricerca delle voci corrispondenti sul lato server con 15 minuti in più o in meno in base al timestamp sul client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-326">You should search plus or minus 15 minutes for matching server-side entries based on the timestamp on the client.</span></span> <span data-ttu-id="f0aab-327">Ricordare che i metadati BLOB per gli oggetti BLOB contenenti metriche indicano l'intervallo di tempo per le metriche memorizzate nell'oggetto BLOB e questo è utile se si usano molti oggetti BLOB di metriche per lo stesso minuto o la stessa ora.</span><span class="sxs-lookup"><span data-stu-id="f0aab-327">Remember that the blob metadata for the blobs containing metrics indicates the time range for the metrics stored in the blob; this is useful if you have many metrics blobs for the same minute or hour.</span></span>

## <span data-ttu-id="f0aab-328"><a name="troubleshooting-guidance"></a>Guida alla risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="f0aab-328"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="f0aab-329">Questa sezione fornisce un supporto per la diagnosi e la risoluzione di alcuni dei problemi più comuni che si possono verificare nell'applicazione usando i servizi di archiviazione Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-329">This section will help you with the diagnosis and troubleshooting of some of the common issues your application may encounter when using the Azure storage services.</span></span> <span data-ttu-id="f0aab-330">Usare l'elenco che segue per individuare le informazioni pertinenti a un problema specifico.</span><span class="sxs-lookup"><span data-stu-id="f0aab-330">Use the list below to locate the information relevant to your specific issue.</span></span>

<span data-ttu-id="f0aab-331">**Albero delle decisioni per la risoluzione dei problemi**</span><span class="sxs-lookup"><span data-stu-id="f0aab-331">**Troubleshooting Decision Tree**</span></span>

---
<span data-ttu-id="f0aab-332">Il problema riguarda le prestazioni di uno dei servizi di archiviazione?</span><span class="sxs-lookup"><span data-stu-id="f0aab-332">Does your issue relate to the performance of one of the storage services?</span></span>

* <span data-ttu-id="f0aab-333">[Le metriche indicano un valore AverageE2ELatency alto e un valore AverageServerLatency basso]</span><span class="sxs-lookup"><span data-stu-id="f0aab-333">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="f0aab-334">[Le metriche indicano un valore AverageE2ELatency basso e un valore AverageServerLatency basso, ma il client riscontra una latenza elevata]</span><span class="sxs-lookup"><span data-stu-id="f0aab-334">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
* <span data-ttu-id="f0aab-335">[Le metriche indicano un valore AverageServerLatency alto]</span><span class="sxs-lookup"><span data-stu-id="f0aab-335">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="f0aab-336">[Si stanno verificando ritardi imprevisti nel recapito dei messaggi di una coda]</span><span class="sxs-lookup"><span data-stu-id="f0aab-336">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

---
<span data-ttu-id="f0aab-337">Il problema riguarda la disponibilità di uno dei servizi di archiviazione?</span><span class="sxs-lookup"><span data-stu-id="f0aab-337">Does your issue relate to the availability of one of the storage services?</span></span>

* <span data-ttu-id="f0aab-338">[Le metriche indicano un aumento di PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-338">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="f0aab-339">[Le metriche indicano un aumento di PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-339">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="f0aab-340">[Le metriche indicano un aumento di PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-340">[Metrics show an increase in PercentNetworkError]</span></span>

---
 <span data-ttu-id="f0aab-341">L'applicazione client riceve una risposta HTTP 4XX (ad esempio 404) da un servizio di archiviazione?</span><span class="sxs-lookup"><span data-stu-id="f0aab-341">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="f0aab-342">[Il client sta ricevendo messaggi HTTP 403 (Accesso negato)]</span><span class="sxs-lookup"><span data-stu-id="f0aab-342">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="f0aab-343">[Il client sta ricevendo messaggi HTTP 404 (Non trovato)]</span><span class="sxs-lookup"><span data-stu-id="f0aab-343">[The client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="f0aab-344">[Il client sta ricevendo messaggi HTTP 409 (Conflitto)]</span><span class="sxs-lookup"><span data-stu-id="f0aab-344">[The client is receiving HTTP 409 (Conflict) messages]</span></span>

---
<span data-ttu-id="f0aab-345">[Le metriche indicano un valore PercentSuccess basso o le voci del log di analisi contengono operazioni con stato della transazione ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="f0aab-345">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

---
<span data-ttu-id="f0aab-346">[Le metriche della capacità indicano un aumento imprevisto dell'uso della capacità di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-346">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

---
<span data-ttu-id="f0aab-347">[Si stanno verificando riavvii imprevisti delle macchine virtuali con un numero elevato di VHD allegati]</span><span class="sxs-lookup"><span data-stu-id="f0aab-347">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

---
<span data-ttu-id="f0aab-348">[Il problema è dovuto all'uso dell'emulatore di archiviazione per attività di sviluppo o test]</span><span class="sxs-lookup"><span data-stu-id="f0aab-348">[Your issue arises from using the storage emulator for development or test]</span></span>

---
<span data-ttu-id="f0aab-349">[Si stanno verificando problemi di installazione di Azure SDK per .NET]</span><span class="sxs-lookup"><span data-stu-id="f0aab-349">[You are encountering problems installing the Azure SDK for .NET]</span></span>

---
<span data-ttu-id="f0aab-350">[Si è verificato un problema diverso con un servizio di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-350">[You have a different issue with a storage service]</span></span>

---
### <span data-ttu-id="f0aab-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Le metriche indicano un valore AverageE2ELatency alto e un valore AverageServerLatency basso</span><span class="sxs-lookup"><span data-stu-id="f0aab-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="f0aab-352">L'illustrazione dello strumento di monitoraggio del [portale di Azure](https://portal.azure.com) mostra un esempio in cui il valore **AverageE2ELatency** è notevolmente superiore al valore **AverageServerLatency**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-352">The illustration below from the [Azure portal](https://portal.azure.com) monitoring tool shows an example where the **AverageE2ELatency** is significantly higher than the **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="f0aab-353">Si noti che il servizio di archiviazione calcola solo la metrica **AverageE2ELatency** per le richieste eseguite correttamente e, a differenza di **AverageServerLatency**, include il tempo impiegato dal client per inviare i dati e ricevere una conferma dal servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-353">Note that the storage service only calculates the metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes the time the client takes to send the data and receive acknowledgement from the storage service.</span></span> <span data-ttu-id="f0aab-354">Di conseguenza, una differenza tra **AverageE2ELatency** e **AverageServerLatency** potrebbe essere dovuta al fatto che l'applicazione è lenta a rispondere oppure alle condizioni della rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-354">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due to the client application being slow to respond, or due to conditions on the network.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-355">È anche possibile visualizzare i valori **E2ELatency** e **ServerLatency** per le singole operazioni di archiviazione nei dati del log della registrazione dell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-355">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in the Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="f0aab-356">Analisi dei problemi di prestazioni del client</span><span class="sxs-lookup"><span data-stu-id="f0aab-356">Investigating client performance issues</span></span>
<span data-ttu-id="f0aab-357">I motivi possibili per cui il client risponde lentamente includono la quantità limitata di connessioni o thread disponibili oppure la limitata disponibilità di risorse quali CPU, memoria o larghezza di banda della rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-357">Possible reasons for the client responding slowly include having a limited number of available connections or threads, or being low on resources such as CPU, memory or network bandwidth.</span></span> <span data-ttu-id="f0aab-358">Il problema può essere risolto modificando il codice del client in modo che sia più efficiente (ad esempio usando chiamate asincrone al servizio di archiviazione) o usando una macchina virtuale più grande (con più core e più memoria).</span><span class="sxs-lookup"><span data-stu-id="f0aab-358">You may be able to resolve the issue by modifying the client code to be more efficient (for example by using asynchronous calls to the storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="f0aab-359">Per i servizi di tabelle e accodamento, l'algoritmo Nagle può inoltre causare la presenza di un valore **AverageE2ELatency** elevato rispetto al valore **AverageServerLatency**: per altre informazioni, vedere il post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx) (Comportamento dell'algoritmo Nagle con richieste di piccole dimensioni).</span><span class="sxs-lookup"><span data-stu-id="f0aab-359">For the table and queue services, the Nagle algorithm can also cause high **AverageE2ELatency** as compared to **AverageServerLatency**: for more information see the post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx).</span></span> <span data-ttu-id="f0aab-360">È possibile disabilitare l'algoritmo Nagle nel codice tramite la classe **ServicePointManager** nello spazio dei nomi **System.Net**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-360">You can disable the Nagle algorithm in code by using the **ServicePointManager** class in the **System.Net** namespace.</span></span> <span data-ttu-id="f0aab-361">Eseguire questa operazione prima di effettuare chiamate ai servizi di tabelle o accodamento nell'applicazione poiché non ha effetto sulle connessioni già aperte.</span><span class="sxs-lookup"><span data-stu-id="f0aab-361">You should do this before you make any calls to the table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="f0aab-362">L'esempio seguente proviene dal metodo **Application_Start** in un ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="f0aab-362">The following example comes from the **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="f0aab-363">Controllare i file di log lato client per vedere quante richieste vengono inviate dall'applicazione client e verificare se sono presenti colli di bottiglia delle prestazioni generali di .NET, tra cui CPU, garbage collection, uso della rete o memoria.</span><span class="sxs-lookup"><span data-stu-id="f0aab-363">You should check the client-side logs to see how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory.</span></span> <span data-ttu-id="f0aab-364">Come punto di partenza per la risoluzione dei problemi nelle applicazioni client .NET, vedere [Debug, traccia e profilatura](http://msdn.microsoft.com/library/7fe0dd2y).</span><span class="sxs-lookup"><span data-stu-id="f0aab-364">As a starting point for troubleshooting .NET client applications, see [Debugging, Tracing, and Profiling](http://msdn.microsoft.com/library/7fe0dd2y).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="f0aab-365">Analisi dei problemi di latenza di rete</span><span class="sxs-lookup"><span data-stu-id="f0aab-365">Investigating network latency issues</span></span>
<span data-ttu-id="f0aab-366">In genere la latenza end-to-end elevata causata dalla rete è dovuta a condizioni temporanee.</span><span class="sxs-lookup"><span data-stu-id="f0aab-366">Typically, high end-to-end latency caused by the network is due to transient conditions.</span></span> <span data-ttu-id="f0aab-367">Per l'analisi dei problemi transitori e persistenti della rete, ad esempio le interruzioni della trasmissione dei pacchetti, sono disponibili strumenti come Wireshark o Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="f0aab-367">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="f0aab-368">Per ulteriori informazioni sull'utilizzo di Wireshark per risolvere i problemi di rete, vedere "[Appendice 2: Uso di Wireshark per l'acquisizione del traffico di rete]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-368">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="f0aab-369">Per ulteriori informazioni sull'utilizzo di Microsoft Message Analyzer per risolvere i problemi di rete, vedere "[Appendice 3: Uso di Microsoft Message Analyzer per l'acquisizione del traffico di rete]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-369">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="f0aab-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Le metriche indicano un valore AverageE2ELatency basso e un valore AverageServerLatency basso, ma il client riscontra una latenza elevata</span><span class="sxs-lookup"><span data-stu-id="f0aab-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency</span></span>
<span data-ttu-id="f0aab-371">In questo scenario, la causa più probabile è un ritardo nelle richieste di archiviazione che arrivano al servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-371">In this scenario, the most likely cause is a delay in the storage requests reaching the storage service.</span></span> <span data-ttu-id="f0aab-372">È necessario verificare perché le richieste del client non riescono a passare attraverso il servizio BLOB.</span><span class="sxs-lookup"><span data-stu-id="f0aab-372">You should investigate why requests from the client are not making it through to the blob service.</span></span>

<span data-ttu-id="f0aab-373">Un motivo possibile per cui il client ritarda l'invio delle richieste riguarda il numero limitato di connessioni o thread disponibili.</span><span class="sxs-lookup"><span data-stu-id="f0aab-373">One possible reason for the client delaying sending requests is that there are a limited number of available connections or threads.</span></span>

<span data-ttu-id="f0aab-374">È inoltre necessario verificare se il client sta effettuando più tentativi e in tal caso esaminarne il motivo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-374">You should also check whether the client is performing multiple retries, and investigate the reason if this is the case.</span></span> <span data-ttu-id="f0aab-375">Per determinare se il client sta effettuando più tentativi, è possibile:</span><span class="sxs-lookup"><span data-stu-id="f0aab-375">To determine whether the client is performing multiple retries, you can:</span></span>

* <span data-ttu-id="f0aab-376">Esaminare i log dell'analisi dell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-376">Examine the Storage Analytics logs.</span></span> <span data-ttu-id="f0aab-377">Se si stanno verificando più tentativi, verranno visualizzate più operazioni con lo stesso ID richiesta client, ma con ID richiesta server diversi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-377">If multiple retries are happening, you will see multiple operations with the same client request ID but with different server request IDs.</span></span>
* <span data-ttu-id="f0aab-378">Esaminare i log del client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-378">Examine the client logs.</span></span> <span data-ttu-id="f0aab-379">I log dettagliati indicheranno che si è verificato un nuovo tentativo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-379">Verbose logging will indicate that a retry has occurred.</span></span>
* <span data-ttu-id="f0aab-380">Eseguire il debug del codice e controllare le proprietà dell'oggetto **OperationContext** associato alla richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-380">Debug your code, and check the properties of the **OperationContext** object associated with the request.</span></span> <span data-ttu-id="f0aab-381">Se si ritenta l'operazione, la proprietà **RequestResults** includerà più ID richiesta server univoci.</span><span class="sxs-lookup"><span data-stu-id="f0aab-381">If the operation has retried, the **RequestResults** property will include multiple unique server request IDs.</span></span> <span data-ttu-id="f0aab-382">È inoltre possibile controllare l'ora di inizio e fine di ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-382">You can also check the start and end times for each request.</span></span> <span data-ttu-id="f0aab-383">Per altre informazioni, vedere l'esempio di codice nella sezione [ID richiesta server].</span><span class="sxs-lookup"><span data-stu-id="f0aab-383">For more information, see the code sample in the section [Server request ID].</span></span>

<span data-ttu-id="f0aab-384">Se non si riscontrano problemi nel client, occorre verificare la presenza di potenziali problemi della rete, ad esempio la perdita di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-384">If there are no issues in the client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="f0aab-385">Per esaminare i possibili problemi della rete, sono disponibili strumenti come Wireshark o Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="f0aab-385">You can use tools such as Wireshark or Microsoft Message Analyzer to investigate network issues.</span></span>

<span data-ttu-id="f0aab-386">Per ulteriori informazioni sull'utilizzo di Wireshark per risolvere i problemi di rete, vedere "[Appendice 2: Uso di Wireshark per l'acquisizione del traffico di rete]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-386">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="f0aab-387">Per ulteriori informazioni sull'utilizzo di Microsoft Message Analyzer per risolvere i problemi di rete, vedere "[Appendice 3: Uso di Microsoft Message Analyzer per l'acquisizione del traffico di rete]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-387">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="f0aab-388"><a name="metrics-show-high-AverageServerLatency"></a>Le metriche indicano un valore AverageServerLatency alto</span><span class="sxs-lookup"><span data-stu-id="f0aab-388"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="f0aab-389">Nel caso in cui il valore **AverageServerLatency** sia elevato per le richieste di download di BLOB, è necessario utilizzare il file di log della registrazione dell'archiviazione per verificare se esistono richieste ripetute per lo stesso oggetto BLOB (o insieme di oggetti BLOB).</span><span class="sxs-lookup"><span data-stu-id="f0aab-389">In the case of high **AverageServerLatency** for blob download requests, you should use the Storage Logging logs to see if there are repeated requests for the same blob (or set of blobs).</span></span> <span data-ttu-id="f0aab-390">Per le richieste di caricamento di BLOB, è necessario verificare le dimensioni dei blocchi usate dal client (ad esempio, i blocchi inferiori a 64 Kb possono causare sovraccarichi a mano che anche le letture non vengano eseguite su blocchi inferiori a 64 Kb) e se più client stanno caricando blocchi nello stesso BLOB parallelo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-390">For blob upload requests, you should investigate what block size the client is using (for example, blocks less than 64K in size can result in overheads unless the reads are also in less than 64K chunks), and if multiple clients are uploading blocks to the same blob in parallel.</span></span> <span data-ttu-id="f0aab-391">Verificare anche le metriche al minuto per i picchi del numero di richieste che determinano il superamento degli obiettivi di scalabilità al secondo: vedere anche "[Le metriche indicano un aumento di PercentTimeoutError]".</span><span class="sxs-lookup"><span data-stu-id="f0aab-391">You should also check the per-minute metrics for spikes in the number of requests that result in exceeding the per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="f0aab-392">Se si riscontra un valore **AverageServerLatency** elevato per le richieste di download di BLOB quando sono presenti ripetute richieste allo stesso BLOB o insieme di BLOB, è necessario considerare la possibilità di memorizzare nella cache gli oggetti BLOB utilizzando il servizio cache di Azure o la rete per la distribuzione di contenuti di Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-392">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests the same blob or set of blobs, then you should consider caching these blobs using Azure Cache or the Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="f0aab-393">Per le richieste di caricamento, è possibile ottimizzare la velocità utilizzando blocchi di dimensioni maggiori.</span><span class="sxs-lookup"><span data-stu-id="f0aab-393">For upload requests, you can improve the throughput by using a larger block size.</span></span> <span data-ttu-id="f0aab-394">Per le query sulle tabelle, è anche possibile implementare la memorizzazione nella cache lato client sui client che eseguono le stesse operazioni di query e i cui dati non cambiano di frequente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-394">For queries to tables, it is also possible to implement client-side caching on clients that perform the same query operations and where the data doesn't change frequently.</span></span>

<span data-ttu-id="f0aab-395">I valori elevati di **AverageServerLatency** possono essere anche sintomo della presenza di tabelle o query progettate in modo non corretto, che causano operazioni di scansione o seguono l'antipattern append/prepend.</span><span class="sxs-lookup"><span data-stu-id="f0aab-395">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow the append/prepend anti-pattern.</span></span> <span data-ttu-id="f0aab-396">Per ulteriori informazioni, vedere "[Le metriche indicano un aumento di PercentThrottlingError]".</span><span class="sxs-lookup"><span data-stu-id="f0aab-396">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-397">Un elenco di controllo completo delle prestazioni è disponibile qui: [Elenco di controllo di prestazioni e scalabilità per Archiviazione di Microsoft Azure](storage-performance-checklist.md).</span><span class="sxs-lookup"><span data-stu-id="f0aab-397">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="f0aab-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>Si stanno verificando ritardi imprevisti nel recapito dei messaggi di una coda</span><span class="sxs-lookup"><span data-stu-id="f0aab-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="f0aab-399">Se si riscontra un ritardo tra l'orario in cui un'applicazione aggiunge un messaggio a una coda e l'orario in cui il messaggio diventa disponibile per la lettura dalla coda, è necessario prendere in considerazione la procedura che segue per diagnosticare il problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-399">If you are experiencing a delay between the time an application adds a message to a queue and the time it becomes available to read from the queue, then you should take the following steps to diagnose the issue:</span></span>

* <span data-ttu-id="f0aab-400">Verificare che l'applicazione aggiunga correttamente il messaggio alla coda.</span><span class="sxs-lookup"><span data-stu-id="f0aab-400">Verify the application is successfully adding the messages to the queue.</span></span> <span data-ttu-id="f0aab-401">Verificare che l'applicazione non ripeta il metodo **AddMessage** più volte prima di ottenere l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-401">Check that the application is not retrying the **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="f0aab-402">I file di log di Storage Client Library mostrano tutti i tentativi ripetuti delle operazioni di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-402">The Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="f0aab-403">Verificare che non siano sfasamenti di orario tra il ruolo di lavoro che aggiunge il messaggio alla coda e il ruolo di lavoro che legge il messaggio dalla coda e che determina un apparente ritardo dell'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-403">Verify there is no clock skew between the worker role that adds the message to the queue and the worker role that reads the message from the queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="f0aab-404">Verificare se il ruolo di lavoro che legge i messaggi dalla coda presenta degli errori.</span><span class="sxs-lookup"><span data-stu-id="f0aab-404">Check if the worker role that reads the messages from the queue is failing.</span></span> <span data-ttu-id="f0aab-405">Se un client di accodamento chiama il metodo **GetMessage** ma non risponde con una conferma, il messaggio resterà invisibile nella coda fino alla scadenza del periodo **invisibilityTimeout**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-405">If a queue client calls the **GetMessage** method but fails to respond with an acknowledgement, the message will remain invisible on the queue until the **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="f0aab-406">A questo punto, il messaggio diventa di nuovo disponibile per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-406">At this point, the message becomes available for processing again.</span></span>
* <span data-ttu-id="f0aab-407">Verificare se la lunghezza della coda aumenta con il tempo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-407">Check if the queue length is growing over time.</span></span> <span data-ttu-id="f0aab-408">Ciò si può verificare se non sono disponibili ruoli di lavoro sufficienti per elaborare tutti i messaggi che altri ruoli di lavoro inseriscono nella coda.</span><span class="sxs-lookup"><span data-stu-id="f0aab-408">This can occur if you do not have sufficient workers available to process all of the messages that other workers are placing on the queue.</span></span> <span data-ttu-id="f0aab-409">È inoltre necessario controllare le metriche, per verificare se le richieste di eliminazione hanno esito negativo, e il conteggio dei messaggi da rimuovere dalla coda, che potrebbe indicare l'esistenza di ripetuti tentativi non riusciti di eliminare il messaggio.</span><span class="sxs-lookup"><span data-stu-id="f0aab-409">You should also check the metrics to see if delete requests are failing and the dequeue count on messages, which might indicate repeated failed attempts to delete the message.</span></span>
* <span data-ttu-id="f0aab-410">Esaminare i file di log della registrazione dell'archiviazione per verificare se esistono operazioni di accodamento con valori **E2ELatency** e **ServerLatency** su un periodo di tempo più lungo del normale.</span><span class="sxs-lookup"><span data-stu-id="f0aab-410">Examine the Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="f0aab-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Le metriche indicano un aumento di PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="f0aab-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="f0aab-412">Gli errori di limitazione si verificano quando si superano gli obiettivi di scalabilità di un servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-412">Throttling errors occur when you exceed the scalability targets of a storage service.</span></span> <span data-ttu-id="f0aab-413">In questo modo il servizio di archiviazione assicura che nessun client o tenant possa utilizzare il servizio a spese di altri.</span><span class="sxs-lookup"><span data-stu-id="f0aab-413">The storage service does this to ensure that no single client or tenant can use the service at the expense of others.</span></span> <span data-ttu-id="f0aab-414">Vedere [Obiettivi di scalabilità e prestazioni di Azure](storage-scalability-targets.md) per maggiori dettagli sugli obiettivi di scalabilità per gli account di archiviazione e gli obiettivi di prestazioni per le partizioni all'interno degli account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-414">For more information, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="f0aab-415">Se la metrica **PercentThrottlingError** indica un aumento della percentuale di richieste non riuscite con errore di limitazione, è necessario esaminare una di queste condizioni:</span><span class="sxs-lookup"><span data-stu-id="f0aab-415">If the **PercentThrottlingError** metric show an increase in the percentage of requests that are failing with a throttling error, you need to investigate one of two scenarios:</span></span>

* <span data-ttu-id="f0aab-416">[Aumento temporaneo di PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-416">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="f0aab-417">[Aumento permanente di PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="f0aab-417">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="f0aab-418">Un aumento di **PercentThrottlingError** spesso si verifica contemporaneamente a un aumento del numero di richieste di archiviazione o quando si esegue un test di carico iniziale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-418">An increase in **PercentThrottlingError** often occurs at the same time as an increase in the number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="f0aab-419">L'aumento si può manifestare anche nel client come messaggio di stato HTTP "503 Server Busy" o "500 Operation Timeout" delle operazioni di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-419">This may also manifest itself in the client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="f0aab-420"><a name="transient-increase-in-PercentThrottlingError"></a>Aumento temporaneo di PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="f0aab-420"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="f0aab-421">Se si notano picchi del valore di **PercentThrottlingError** che coincidono con periodi di intensa attività dell'applicazione, è necessario implementare una strategia di interruzione esponenziale (non lineare) per le ripetizioni dei tentativi nel client:questa operazione ridurrà il carico immediato sulla partizione e consentirà all'applicazione di contenere i picchi di traffico.</span><span class="sxs-lookup"><span data-stu-id="f0aab-421">If you are seeing spikes in the value of **PercentThrottlingError** that coincide with periods of high activity for the application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce the immediate load on the partition and help your application to smooth out spikes in traffic.</span></span> <span data-ttu-id="f0aab-422">Per altre informazioni sulle modalità di implementazione dei criteri di ripetizione con la libreria del client di archiviazione, vedere la sezione relativa allo [spazio dei nomi Microsoft.WindowsAzure.Storage.RetryPolicies](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-422">For more information about how to implement retry policies using the Storage Client Library, see [Microsoft.WindowsAzure.Storage.RetryPolicies Namespace](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-423">Si possono verificare anche picchi del valore di **PercentThrottlingError** che non coincidono con periodi di attività intensa dell'applicazione: la causa più probabile è che il servizio di archiviazione sposti le partizioni in modo da migliorare il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="f0aab-423">You may also see spikes in the value of **PercentThrottlingError** that do not coincide with periods of high activity for the application: the most likely cause here is the storage service moving partitions to improve load balancing.</span></span>
> 
> 

#### <span data-ttu-id="f0aab-424"><a name="permanent-increase-in-PercentThrottlingError"></a>Aumento permanente di PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="f0aab-424"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="f0aab-425">Se si nota un valore costantemente elevato di **PercentThrottlingError** seguito da un aumento permanente dei volumi delle transazioni oppure se si eseguono i test iniziali del carico per l'applicazione, è necessario valutare in che modo l'applicazione usa le partizioni di archiviazione e se sta raggiungendo gli obiettivi di scalabilità per un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-425">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need to evaluate how your application is using storage partitions and whether it is approaching the scalability targets for a storage account.</span></span> <span data-ttu-id="f0aab-426">Ad esempio, se si riscontrano errori di limitazione su una coda (che viene considerata come singola partizione), è opportuno prendere in considerazione l'utilizzo di code aggiuntive per suddividere le transazioni in più partizioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-426">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues to spread the transactions across multiple partitions.</span></span> <span data-ttu-id="f0aab-427">Se gli errori di limitazione si verificano su una tabella, può essere utile usare uno schema di partizionamento diverso per suddividere le transazioni in più partizioni, usando una gamma più ampia di valori delle chiavi di partizione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-427">If you are seeing throttling errors on a table, you need to consider using a different partitioning scheme to spread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="f0aab-428">Una causa comune di questo problema è l'antipattern prepend/append in cui la data viene selezionata come chiave di partizione e quindi tutti i dati relativi a un determinato giorno vengono scritti su una sola partizione:</span><span class="sxs-lookup"><span data-stu-id="f0aab-428">One common cause of this issue is the prepend/append anti-pattern where you select the date as the partition key and then all data on a particular day is written to one partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="f0aab-429">Può essere opportuno prendere in considerazione una progettazione diversa della partizione o valutare se l'utilizzo dell'archiviazione BLOB non sia una soluzione migliore.</span><span class="sxs-lookup"><span data-stu-id="f0aab-429">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="f0aab-430">È inoltre necessario verificare se la limitazione avviene come risultato di picchi del traffico e in che modo adeguare il modello di richiesta in uso.</span><span class="sxs-lookup"><span data-stu-id="f0aab-430">You should also check if the throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="f0aab-431">Se si distribuiscono le transazioni in più partizioni, tenere presenti i limiti di scalabilità impostati per l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-431">If you distribute your transactions across multiple partitions, you must still be aware of the scalability limits set for the storage account.</span></span> <span data-ttu-id="f0aab-432">Ad esempio, se sono state utilizzate dieci code che elaborano ciascuna un massimo di 2.000 messaggi da 1 KB al secondo, si raggiungerà il limite complessivo di 20.000 messaggi al secondo per l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-432">For example, if you used ten queues each processing the maximum of 2,000 1KB messages per second, you will be at the overall limit of 20,000 messages per second for the storage account.</span></span> <span data-ttu-id="f0aab-433">Se è necessario elaborare più di 20.000 entità al secondo, è consigliabile usare più account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-433">If you need to process more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="f0aab-434">Tenere presente inoltre che le dimensioni delle richieste e delle entità influiscono sul momento in cui il servizio di archiviazione limita i client: più grandi sono le richieste e le entità, prima avviene la limitazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-434">You should also bear in mind that the size of your requests and entities has an impact on when the storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="f0aab-435">Anche una progettazione insufficiente delle query può causare il raggiungimento dei limiti di scalabillità per le partizioni delle tabelle.</span><span class="sxs-lookup"><span data-stu-id="f0aab-435">Inefficient query design can also cause you to hit the scalability limits for table partitions.</span></span> <span data-ttu-id="f0aab-436">Ad esempio, una query con un filtro che seleziona solo l'uno per cento delle entità di una partizione ma esegue la scansione di tutte le entità della partizione dovrà accedere a ogni entità.</span><span class="sxs-lookup"><span data-stu-id="f0aab-436">For example, a query with a filter that only selects one percent of the entities in a partition but that scans all the entities in a partition will need to access each entity.</span></span> <span data-ttu-id="f0aab-437">Ogni lettura di entità viene aggiunta al calcolo del numero totale delle transazioni di quella partizione, quindi si possono raggiungere facilmente gli obiettivi di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="f0aab-437">Every entity read will count towards the total number of transactions in that partition; therefore, you can easily reach the scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-438">I test delle prestazioni dovrebbero rivelare eventuali progettazioni inefficaci delle query nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-438">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="f0aab-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Le metriche indicano un aumento di PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="f0aab-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="f0aab-440">Le metriche indicano un aumento di **PercentTimeoutError** per uno dei servizi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-440">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="f0aab-441">Allo stesso tempo, il client riceve una grande quantità di messaggi di stato HTTP "500 Operation Timeout" dalle operazioni di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-441">At the same time, the client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-442">È possibile che vengano temporaneamente visualizzati errori di timeout perché il servizio di archiviazione bilancia il carico delle richieste spostando una partizione su un nuovo server.</span><span class="sxs-lookup"><span data-stu-id="f0aab-442">You may see timeout errors temporarily as the storage service load balances requests by moving a partition to a new server.</span></span>
> 
> 

<span data-ttu-id="f0aab-443">La metrica **PercentTimeoutError** è una combinazione delle metriche seguenti: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError** e **SASServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-443">The **PercentTimeoutError** metric is an aggregation of the following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="f0aab-444">I timeout del server sono causati da un errore del server.</span><span class="sxs-lookup"><span data-stu-id="f0aab-444">The server timeouts are caused by an error on the server.</span></span> <span data-ttu-id="f0aab-445">I timeout del client si verificano perché un'operazione eseguita sul server ha superato il timeout specificato dal client. Ad esempio, un client che usa la libreria client di archiviazione può impostare un timeout per un'operazione tramite la proprietà **ServerTimeout** della classe **QueueRequestOptions**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-445">The client timeouts happen because an operation on the server has exceeded the timeout specified by the client; for example, a client using the Storage Client Library can set a timeout for an operation by using the **ServerTimeout** property of the **QueueRequestOptions** class.</span></span>

<span data-ttu-id="f0aab-446">I timeout del server indicano un problema con il servizio di archiviazione che deve essere esaminato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-446">Server timeouts indicate a problem with the storage service that requires further investigation.</span></span> <span data-ttu-id="f0aab-447">È possibile utilizzare le metriche per verificare se si raggiungono i limiti di scalabilità del servizio e identificare eventuali picchi di traffico che possono causare il problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-447">You can use metrics to see if you are hitting the scalability limits for the service and to identify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="f0aab-448">Se il problema è intermittente, può essere dovuto all'attività di bilanciamento del carico nel servizio.</span><span class="sxs-lookup"><span data-stu-id="f0aab-448">If the problem is intermittent, it may be due to load-balancing activity in the service.</span></span> <span data-ttu-id="f0aab-449">Se il problema è persistente e non è causato dal fatto che l'applicazione raggiunge i limiti di scalabilità del servizio, sarà necessario rivolgersi all'assistenza.</span><span class="sxs-lookup"><span data-stu-id="f0aab-449">If the problem is persistent and is not caused by your application hitting the scalability limits of the service, you should raise a support issue.</span></span> <span data-ttu-id="f0aab-450">Per i timeout del client, è necessario decidere se il timeout è impostato su un valore appropriato nel client e modificare il valore del timeout impostato nel client o valutare in che modo è possibile migliorare le prestazioni delle operazioni nel servizio di archiviazione, ad esempio ottimizzando le query sulle tabelle o riducendo le dimensioni dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-450">For client timeouts, you must decide if the timeout is set to an appropriate value in the client and either change the timeout value set in the client or investigate how you can improve the performance of the operations in the storage service, for example by optimizing your table queries or reducing the size of your messages.</span></span>

### <span data-ttu-id="f0aab-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Le metriche indicano un aumento di PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="f0aab-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="f0aab-452">Le metriche indicano un aumento di **PercentNetworkError** per uno dei servizi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-452">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="f0aab-453">La metrica **PercentNetworkError** è una combinazione delle metriche seguenti: **NetworkError**, **AnonymousNetworkError** e **SASNetworkError**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-453">The **PercentNetworkError** metric is an aggregation of the following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="f0aab-454">L'errore si verifica se il servizio di archiviazione rileva un errore della rete quando il client esegue una richiesta di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-454">These occur when the storage service detects a network error when the client makes a storage request.</span></span>

<span data-ttu-id="f0aab-455">La causa più comune dell'errore è la disconnessione del client prima della scadenza del timeout nel servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-455">The most common cause of this error is a client disconnecting before a timeout expires in the storage service.</span></span> <span data-ttu-id="f0aab-456">È necessario esaminare il codice nel client per capire perché e quando il client si disconnette dal servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-456">You should investigate the code in your client to understand why and when the client disconnects from the storage service.</span></span> <span data-ttu-id="f0aab-457">Per esaminare i problemi di connessione dal client, è possibile utilizzare anche Wireshark, Microsoft Message Analyzer o Tcping.</span><span class="sxs-lookup"><span data-stu-id="f0aab-457">You can also use Wireshark, Microsoft Message Analyzer, or Tcping to investigate network connectivity issues from the client.</span></span> <span data-ttu-id="f0aab-458">Questi strumenti sono descritti nelle [Appendici].</span><span class="sxs-lookup"><span data-stu-id="f0aab-458">These tools are described in the [Appendices].</span></span>

### <span data-ttu-id="f0aab-459"><a name="the-client-is-receiving-403-messages"></a>Il client sta ricevendo messaggi HTTP 403 (Accesso negato)</span><span class="sxs-lookup"><span data-stu-id="f0aab-459"><a name="the-client-is-receiving-403-messages"></a>The client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="f0aab-460">Se l'applicazione client genera errori HTTP 403 (Accesso negato), probabilmente il client sta utilizzando una firma di accesso condiviso (SAS, Shared Access Signature) scaduta per inviare una richiesta di archiviazione (benché esistano altre cause possibili, come sfasamento di orario, chiavi non valide e intestazioni vuote).</span><span class="sxs-lookup"><span data-stu-id="f0aab-460">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that the client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="f0aab-461">Se la causa è una chiave SAS scaduta, non si vedrà alcuna voce nei dati di log della registrazione dell'archiviazione lato server.</span><span class="sxs-lookup"><span data-stu-id="f0aab-461">If an expired SAS key is the cause, you will not see any entries in the server-side Storage Logging log data.</span></span> <span data-ttu-id="f0aab-462">La tabella che segue mostra un esempio del file di log lato client generato da Storage Client Library in cui è illustrato il problema in corso:</span><span class="sxs-lookup"><span data-stu-id="f0aab-462">The following table shows a sample from the client-side log generated by the Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="f0aab-463">Sorgente</span><span class="sxs-lookup"><span data-stu-id="f0aab-463">Source</span></span> | <span data-ttu-id="f0aab-464">Livello di dettaglio</span><span class="sxs-lookup"><span data-stu-id="f0aab-464">Verbosity</span></span> | <span data-ttu-id="f0aab-465">Livello di dettaglio</span><span class="sxs-lookup"><span data-stu-id="f0aab-465">Verbosity</span></span> | <span data-ttu-id="f0aab-466">ID richiesta client</span><span class="sxs-lookup"><span data-stu-id="f0aab-466">Client request id</span></span> | <span data-ttu-id="f0aab-467">testo dell'operazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-467">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="f0aab-468">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-468">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-469">Informazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-469">Information</span></span> |<span data-ttu-id="f0aab-470">3</span><span class="sxs-lookup"><span data-stu-id="f0aab-470">3</span></span> |<span data-ttu-id="f0aab-471">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-471">85d077ab-…</span></span> |<span data-ttu-id="f0aab-472">Avvio operazione con posizione primaria in base alla modalità di posizionamento PrimaryOnly.</span><span class="sxs-lookup"><span data-stu-id="f0aab-472">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="f0aab-473">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-473">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-474">Informazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-474">Information</span></span> |<span data-ttu-id="f0aab-475">3</span><span class="sxs-lookup"><span data-stu-id="f0aab-475">3</span></span> |<span data-ttu-id="f0aab-476">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-476">85d077ab -…</span></span> |<span data-ttu-id="f0aab-477">Avvio richiesta sincrona a https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span><span class="sxs-lookup"><span data-stu-id="f0aab-477">Starting synchronous request to https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="f0aab-478">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-478">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-479">Informazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-479">Information</span></span> |<span data-ttu-id="f0aab-480">3</span><span class="sxs-lookup"><span data-stu-id="f0aab-480">3</span></span> |<span data-ttu-id="f0aab-481">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-481">85d077ab -…</span></span> |<span data-ttu-id="f0aab-482">In attesa di risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-482">Waiting for response.</span></span> |
| <span data-ttu-id="f0aab-483">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-483">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-484">Avviso</span><span class="sxs-lookup"><span data-stu-id="f0aab-484">Warning</span></span> |<span data-ttu-id="f0aab-485">2</span><span class="sxs-lookup"><span data-stu-id="f0aab-485">2</span></span> |<span data-ttu-id="f0aab-486">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-486">85d077ab -…</span></span> |<span data-ttu-id="f0aab-487">Eccezione generata in attesa di risposta: il server remoto ha restituito un errore: (403) Accesso negato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-487">Exception thrown while waiting for response: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="f0aab-488">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-488">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-489">Informazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-489">Information</span></span> |<span data-ttu-id="f0aab-490">3</span><span class="sxs-lookup"><span data-stu-id="f0aab-490">3</span></span> |<span data-ttu-id="f0aab-491">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-491">85d077ab -…</span></span> |<span data-ttu-id="f0aab-492">Risposta ricevuta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-492">Response received.</span></span> <span data-ttu-id="f0aab-493">Codice stato = 403, ID richiesta = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span><span class="sxs-lookup"><span data-stu-id="f0aab-493">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f0aab-494">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-494">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-495">Avviso</span><span class="sxs-lookup"><span data-stu-id="f0aab-495">Warning</span></span> |<span data-ttu-id="f0aab-496">2</span><span class="sxs-lookup"><span data-stu-id="f0aab-496">2</span></span> |<span data-ttu-id="f0aab-497">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-497">85d077ab -…</span></span> |<span data-ttu-id="f0aab-498">Eccezione generata durante l'operazione: il server remoto ha restituito un errore: (403) Accesso negato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-498">Exception thrown during the operation: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="f0aab-499">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-499">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-500">Informazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-500">Information</span></span> |<span data-ttu-id="f0aab-501">3</span><span class="sxs-lookup"><span data-stu-id="f0aab-501">3</span></span> |<span data-ttu-id="f0aab-502">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-502">85d077ab -…</span></span> |<span data-ttu-id="f0aab-503">Verifica se l'operazione deve essere ritentata.</span><span class="sxs-lookup"><span data-stu-id="f0aab-503">Checking if the operation should be retried.</span></span> <span data-ttu-id="f0aab-504">Conteggio tentativi = 0, codice di stato HTTP = 403, Eccezione = il server remoto ha restituito un errore: (403) Accesso negato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-504">Retry count = 0, HTTP status code = 403, Exception = The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="f0aab-505">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-505">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-506">Informazioni</span><span class="sxs-lookup"><span data-stu-id="f0aab-506">Information</span></span> |<span data-ttu-id="f0aab-507">3</span><span class="sxs-lookup"><span data-stu-id="f0aab-507">3</span></span> |<span data-ttu-id="f0aab-508">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-508">85d077ab -…</span></span> |<span data-ttu-id="f0aab-509">La posizione successiva è stata impostata come primaria, in base alla modalità di posizionamento.</span><span class="sxs-lookup"><span data-stu-id="f0aab-509">The next location has been set to Primary, based on the location mode.</span></span> |
| <span data-ttu-id="f0aab-510">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f0aab-510">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f0aab-511">Tipi di errore</span><span class="sxs-lookup"><span data-stu-id="f0aab-511">Error</span></span> |<span data-ttu-id="f0aab-512">1</span><span class="sxs-lookup"><span data-stu-id="f0aab-512">1</span></span> |<span data-ttu-id="f0aab-513">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-513">85d077ab -…</span></span> |<span data-ttu-id="f0aab-514">Il criterio di ripetizione non ha consentito un nuovo tentativo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-514">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="f0aab-515">Errore con server remoto che ha restituito un errore: (403) Accesso negato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-515">Failing with The remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="f0aab-516">In questo scenario, è necessario verificare perché il token SAS scade prima che il client invii il token al server:</span><span class="sxs-lookup"><span data-stu-id="f0aab-516">In this scenario, you should investigate why the SAS token is expiring before the client sends the token to the server:</span></span>

* <span data-ttu-id="f0aab-517">Di solito non è consigliabile impostare un orario di inizio quando si crea una SAS che un client deve utilizzare immediatamente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-517">Typically, you should not set a start time when you create a SAS for a client to use immediately.</span></span> <span data-ttu-id="f0aab-518">Se esistono piccoli sfasamenti di orario tra l'host che genera la SAS utilizzando l'ora attuale e il servizio di archiviazione, è possibile che il servizio di archiviazione riceva una SAS non ancora valida.</span><span class="sxs-lookup"><span data-stu-id="f0aab-518">If there are small clock differences between the host generating the SAS using the current time and the storage service, then it is possible for the storage service to receive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="f0aab-519">Non impostare tempi troppo brevi per la scadenza di una SAS.</span><span class="sxs-lookup"><span data-stu-id="f0aab-519">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="f0aab-520">Come già detto, eventuali piccole differenze di orario tra l'host che genera la SAS e il servizio di archiviazione possono causa un'apparente scadenza della SAS prima del tempo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-520">Again, small clock differences between the host generating the SAS and the storage service can lead to a SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="f0aab-521">Il parametro della versione nella chiave di firma di accesso condiviso (ad esempio **sv=2015-04-05**) deve corrispondere alla versione di Storage Client Library in uso?</span><span class="sxs-lookup"><span data-stu-id="f0aab-521">Does the version parameter in the SAS key (for example **sv=2015-04-05**) match the version of the Storage Client Library you are using?</span></span> <span data-ttu-id="f0aab-522">Si consiglia di usare sempre la versione più recente di [Storage Client Library](https://www.nuget.org/packages/WindowsAzure.Storage/).</span><span class="sxs-lookup"><span data-stu-id="f0aab-522">We recommend that you always use the latest version of the [Storage Client Library](https://www.nuget.org/packages/WindowsAzure.Storage/).</span></span>
* <span data-ttu-id="f0aab-523">Se si rigenerano le chiavi di accesso di archiviazione, questa operazione può invalidare tutti i token della firma di accesso condiviso esistenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-523">If you regenerate your storage access keys, this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="f0aab-524">Questo può essere un problema se si generano token SAS con tempo di scadenza lungo per le applicazioni client da memorizzare nella cache.</span><span class="sxs-lookup"><span data-stu-id="f0aab-524">This may be an issue if you generate SAS tokens with a long expiry time for client applications to cache.</span></span>

<span data-ttu-id="f0aab-525">Se si utilizza Storage Client Library per generare i token SAS, sarà semplice creare un token valido.</span><span class="sxs-lookup"><span data-stu-id="f0aab-525">If you are using the Storage Client Library to generate SAS tokens, then it is easy to build a valid token.</span></span> <span data-ttu-id="f0aab-526">Se invece si usa l'API REST di archiviazione e si creano i token della firma di accesso condiviso manualmente, è consigliabile leggere con attenzione l'argomento [Delega dell'accesso con una firma di accesso condiviso](http://msdn.microsoft.com/library/azure/ee395415.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-526">However, if you are using the Storage REST API and constructing the SAS tokens by hand you should carefully read the topic [Delegating Access with a Shared Access Signature](http://msdn.microsoft.com/library/azure/ee395415.aspx).</span></span>

### <span data-ttu-id="f0aab-527"><a name="the-client-is-receiving-404-messages"></a>Il client sta ricevendo messaggi HTTP 404 (Non trovato)</span><span class="sxs-lookup"><span data-stu-id="f0aab-527"><a name="the-client-is-receiving-404-messages"></a>The client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="f0aab-528">Se l'applicazione client riceve un messaggio HTTP 404 (Non trovato) dal server, significa che l'oggetto che il client sta tentando di usare (ad esempio un oggetto entità, tabella, BLOB, contenitore o coda) non esiste nel servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-528">If the client application receives an HTTP 404 (Not found) message from the server, this implies that the object the client was attempting to use (such as an entity, table, blob, container, or queue) does not exist in the storage service.</span></span> <span data-ttu-id="f0aab-529">I motivi possono essere diversi, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="f0aab-529">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="f0aab-530">[Il client o un altro processo ha eliminato in precedenza l'oggetto]</span><span class="sxs-lookup"><span data-stu-id="f0aab-530">[The client or another process previously deleted the object]</span></span>
* <span data-ttu-id="f0aab-531">[Si è verificato un problema di autenticazione della firma di accesso condiviso]</span><span class="sxs-lookup"><span data-stu-id="f0aab-531">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="f0aab-532">[Il codice JavaScript lato client non è autorizzato ad accedere all'oggetto]</span><span class="sxs-lookup"><span data-stu-id="f0aab-532">[Client-side JavaScript code does not have permission to access the object]</span></span>
* <span data-ttu-id="f0aab-533">[Errore della rete]</span><span class="sxs-lookup"><span data-stu-id="f0aab-533">[Network failure]</span></span>

#### <span data-ttu-id="f0aab-534"><a name="client-previously-deleted-the-object"></a>Il client o un altro processo ha eliminato in precedenza l'oggetto</span><span class="sxs-lookup"><span data-stu-id="f0aab-534"><a name="client-previously-deleted-the-object"></a>The client or another process previously deleted the object</span></span>
<span data-ttu-id="f0aab-535">Negli scenari in cui il client tenta di leggere, aggiornare o eliminare i dati in un servizio di archiviazione, normalmente è facile identificare nei file di log lato server un'operazione precedente che ha eliminato l'oggetto in questione dal servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-535">In scenarios where the client is attempting to read, update, or delete data in a storage service it is usually easy to identify in the server-side logs a previous operation that deleted the object in question from the storage service.</span></span> <span data-ttu-id="f0aab-536">Molto spesso i dati del log indicano che un altro utente o processo ha eliminato l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-536">Very often, the log data shows that another user or process deleted the object.</span></span> <span data-ttu-id="f0aab-537">Nel file di log della registrazione dell'archiviazione sul lato server, le colonne del tipo di operazione e della chiave dell'oggetto richiesto indicano quando un client ha eliminato un oggetto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-537">In the server-side Storage Logging log, the operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="f0aab-538">Nello scenario in cui un client tenta di inserire un oggetto può non essere subito evidente il motivo per cui si riceve una risposta HTTP 404 (Non trovato) se il client sta creando un nuovo oggetto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-538">In the scenario where a client is attempting to insert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that the client is creating a new object.</span></span> <span data-ttu-id="f0aab-539">Tuttavia, se il client sta creando un oggetto BLOB deve essere in grado di trovare il relativo contenitore, se sta creando un messaggio deve essere in grado di trovare una coda e se sta aggiungendo una riga deve essere in grado di trovare la tabella.</span><span class="sxs-lookup"><span data-stu-id="f0aab-539">However, if the client is creating a blob it must be able to find the blob container, if the client is creating a message it must be able to find a queue, and if the client is adding a row it must be able to find the table.</span></span>

<span data-ttu-id="f0aab-540">Utilizzare il log lato client generato da Storage Client Library per avere maggiori dettagli sul momento in cui il client invia richieste specifiche al servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-540">You can use the client-side log from the Storage Client Library to gain a more detailed understanding of when the client sends specific requests to the storage service.</span></span>

<span data-ttu-id="f0aab-541">Il seguente file di log lato client generato da Storage Client Library illustra il problema che si verifica quando il client non è in grado di trovare il contenitore per il BLOB che sta creando.</span><span class="sxs-lookup"><span data-stu-id="f0aab-541">The following client-side log generated by the Storage Client library illustrates the problem when the client cannot find the container for the blob it is creating.</span></span> <span data-ttu-id="f0aab-542">Il file di log include dettagli relativi alle seguenti operazioni di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="f0aab-542">This log includes details of the following storage operations:</span></span>

| <span data-ttu-id="f0aab-543">ID richiesta</span><span class="sxs-lookup"><span data-stu-id="f0aab-543">Request ID</span></span> | <span data-ttu-id="f0aab-544">Operazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-544">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="f0aab-545">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-545">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-546">**DeleteIfExists** per eliminare il contenitore BLOB.</span><span class="sxs-lookup"><span data-stu-id="f0aab-546">**DeleteIfExists** method to delete the blob container.</span></span> <span data-ttu-id="f0aab-547">Notare che questa operazione include una richiesta **HEAD** per verificare l'esistenza del contenitore.</span><span class="sxs-lookup"><span data-stu-id="f0aab-547">Note that this operation includes a **HEAD** request to check for the existence of the container.</span></span> |
| <span data-ttu-id="f0aab-548">e2d06d78…</span><span class="sxs-lookup"><span data-stu-id="f0aab-548">e2d06d78…</span></span> |<span data-ttu-id="f0aab-549">**CreateIfNotExists** per creare il contenitore BLOB.</span><span class="sxs-lookup"><span data-stu-id="f0aab-549">**CreateIfNotExists** method to create the blob container.</span></span> <span data-ttu-id="f0aab-550">Si noti che questa operazione include una richiesta **HEAD** che verifica l'esistenza del contenitore.</span><span class="sxs-lookup"><span data-stu-id="f0aab-550">Note that this operation includes a **HEAD** request that checks for the existence of the container.</span></span> <span data-ttu-id="f0aab-551">**HEAD** restituisce un messaggio 404, ma continua l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-551">The **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="f0aab-552">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-552">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-553">**UploadFromStream** per creare l'oggetto BLOB.</span><span class="sxs-lookup"><span data-stu-id="f0aab-553">**UploadFromStream** method to create the blob.</span></span> <span data-ttu-id="f0aab-554">La richiesta **PUT** ha esito negativo con messaggio 404.</span><span class="sxs-lookup"><span data-stu-id="f0aab-554">The **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="f0aab-555">Voci del log:</span><span class="sxs-lookup"><span data-stu-id="f0aab-555">Log entries:</span></span>

| <span data-ttu-id="f0aab-556">ID richiesta</span><span class="sxs-lookup"><span data-stu-id="f0aab-556">Request ID</span></span> | <span data-ttu-id="f0aab-557">testo dell'operazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-557">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="f0aab-558">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-558">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-559">Avvio richiesta sincrona a https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="f0aab-559">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="f0aab-560">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-560">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-561">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f0aab-561">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f0aab-562">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-562">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-563">In attesa di risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-563">Waiting for response.</span></span> |
| <span data-ttu-id="f0aab-564">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-564">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-565">Risposta ricevuta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-565">Response received.</span></span> <span data-ttu-id="f0aab-566">Codice stato = 200, ID richiesta = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span><span class="sxs-lookup"><span data-stu-id="f0aab-566">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="f0aab-567">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-567">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-568">Intestazioni della risposta elaborate correttamente, si procede con il resto dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-568">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="f0aab-569">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-569">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-570">Download del corpo della risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-570">Downloading response body.</span></span> |
| <span data-ttu-id="f0aab-571">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-571">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-572">Operazione completata correttamente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-572">Operation completed successfully.</span></span> |
| <span data-ttu-id="f0aab-573">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-573">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-574">Avvio richiesta sincrona a https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="f0aab-574">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="f0aab-575">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-575">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-576">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f0aab-576">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f0aab-577">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-577">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-578">In attesa di risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-578">Waiting for response.</span></span> |
| <span data-ttu-id="f0aab-579">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-579">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-580">Risposta ricevuta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-580">Response received.</span></span> <span data-ttu-id="f0aab-581">Codice stato = 202, ID richiesta = 6ab2a4cf-..., Content-MD5 = , ETag =.</span><span class="sxs-lookup"><span data-stu-id="f0aab-581">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f0aab-582">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-582">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-583">Intestazioni della risposta elaborate correttamente, si procede con il resto dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-583">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="f0aab-584">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-584">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-585">Download del corpo della risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-585">Downloading response body.</span></span> |
| <span data-ttu-id="f0aab-586">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-586">07b26a5d-...</span></span> |<span data-ttu-id="f0aab-587">Operazione completata correttamente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-587">Operation completed successfully.</span></span> |
| <span data-ttu-id="f0aab-588">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-588">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-589">Avvio richiesta asincrona a https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="f0aab-589">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="f0aab-590">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-590">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-591">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f0aab-591">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f0aab-592">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-592">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-593">In attesa di risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-593">Waiting for response.</span></span> |
| <span data-ttu-id="f0aab-594">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-594">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-595">Avvio richiesta sincrona a https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="f0aab-595">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="f0aab-596">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-596">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-597">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="f0aab-597">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="f0aab-598">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-598">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-599">Preparazione della scrittura dei dati della richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-599">Preparing to write request data.</span></span> |
| <span data-ttu-id="f0aab-600">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-600">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-601">Eccezione generata in attesa di risposta: il server remoto ha restituito un errore: (404) Non trovato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-601">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f0aab-602">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-602">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-603">Risposta ricevuta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-603">Response received.</span></span> <span data-ttu-id="f0aab-604">Codice stato = 404, ID richiesta = 353ae3bc-..., Content-MD5 = , ETag =.</span><span class="sxs-lookup"><span data-stu-id="f0aab-604">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f0aab-605">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-605">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-606">Intestazioni della risposta elaborate correttamente, si procede con il resto dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-606">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="f0aab-607">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-607">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-608">Download del corpo della risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-608">Downloading response body.</span></span> |
| <span data-ttu-id="f0aab-609">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-609">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-610">Operazione completata correttamente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-610">Operation completed successfully.</span></span> |
| <span data-ttu-id="f0aab-611">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-611">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-612">Avvio richiesta asincrona a https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="f0aab-612">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="f0aab-613">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-613">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-614">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f0aab-614">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f0aab-615">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-615">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-616">In attesa di risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-616">Waiting for response.</span></span> |
| <span data-ttu-id="f0aab-617">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-617">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-618">Scrittura dei dati della richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-618">Writing request data.</span></span> |
| <span data-ttu-id="f0aab-619">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-619">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-620">In attesa di risposta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-620">Waiting for response.</span></span> |
| <span data-ttu-id="f0aab-621">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-621">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-622">Eccezione generata in attesa di risposta: il server remoto ha restituito un errore: (409) Conflitto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-622">Exception thrown while waiting for response: The remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="f0aab-623">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-623">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-624">Risposta ricevuta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-624">Response received.</span></span> <span data-ttu-id="f0aab-625">Codice stato = 409, ID richiesta = c27da20e-..., Content-MD5 = , ETag =.</span><span class="sxs-lookup"><span data-stu-id="f0aab-625">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f0aab-626">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-626">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-627">Download del corpo della risposta con errore.</span><span class="sxs-lookup"><span data-stu-id="f0aab-627">Downloading error response body.</span></span> |
| <span data-ttu-id="f0aab-628">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-628">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-629">Eccezione generata in attesa di risposta: il server remoto ha restituito un errore: (404) Non trovato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-629">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f0aab-630">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-630">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-631">Risposta ricevuta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-631">Response received.</span></span> <span data-ttu-id="f0aab-632">Codice stato = 404, ID richiesta = 0eaeab3e-..., Content-MD5 = , ETag =.</span><span class="sxs-lookup"><span data-stu-id="f0aab-632">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f0aab-633">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-633">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-634">Eccezione generata durante l'operazione: il server remoto ha restituito un errore: (404) Non trovato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-634">Exception thrown during the operation: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f0aab-635">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-635">de8b1c3c-...</span></span> |<span data-ttu-id="f0aab-636">Il criterio di ripetizione non ha consentito un nuovo tentativo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-636">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="f0aab-637">Errore con server remoto che ha restituito un errore: (404) Non trovato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-637">Failing with The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f0aab-638">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f0aab-638">e2d06d78-...</span></span> |<span data-ttu-id="f0aab-639">Il criterio di ripetizione non ha consentito un nuovo tentativo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-639">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="f0aab-640">Errore con server remoto che ha restituito un errore: (409) Conflitto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-640">Failing with The remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="f0aab-641">In questo esempio, il log indica che il client sta eseguendo un'interfoliazione delle richieste del metodo **CreateIfNotExists** (ID richiesta e2d06d78…) con le richieste del metodo **UploadFromStream** (de8b1c3c-...); ciò si verifica perché l'applicazione client sta chiamando questi metodi in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="f0aab-641">In this example, the log shows that the client is interleaving requests from the **CreateIfNotExists** method (request id e2d06d78…) with the requests from the **UploadFromStream** method (de8b1c3c-...); this is happening because the client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="f0aab-642">È necessario modificare il codice asincrono nel client per assicurarsi che crei il contenitore prima di tentare di caricare dati in un BLOB in tale contenitore.</span><span class="sxs-lookup"><span data-stu-id="f0aab-642">You should modify the asynchronous code in the client to ensure that it creates the container before attempting to upload any data to a blob in that container.</span></span> <span data-ttu-id="f0aab-643">La soluzione migliore sarebbe creare prima tutti i contenitori.</span><span class="sxs-lookup"><span data-stu-id="f0aab-643">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="f0aab-644"><a name="SAS-authorization-issue"></a>Si è verificato un problema di autenticazione della firma di accesso condiviso</span><span class="sxs-lookup"><span data-stu-id="f0aab-644"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="f0aab-645">Se l'applicazione client tenta di usare una chiave SAS che non include le autorizzazioni necessarie per l'operazione, il servizio di archiviazione restituisce un messaggio HTTP 404 (Non trovato) al client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-645">If the client application attempts to use a SAS key that does not include the necessary permissions for the operation, the storage service returns an HTTP 404 (Not found) message to the client.</span></span> <span data-ttu-id="f0aab-646">Allo stesso tempo, verrà visualizzato in valore diverso da zero per **SASAuthorizationError** nelle metriche.</span><span class="sxs-lookup"><span data-stu-id="f0aab-646">At the same time, you will also see a non-zero value for **SASAuthorizationError** in the metrics.</span></span>

<span data-ttu-id="f0aab-647">La tabella che segue mostra un esempio di messaggio del log lato server generato dal file di log della registrazione dell'archiviazione:</span><span class="sxs-lookup"><span data-stu-id="f0aab-647">The following table shows a sample server-side log message from the Storage Logging log file:</span></span>

| <span data-ttu-id="f0aab-648">Nome</span><span class="sxs-lookup"><span data-stu-id="f0aab-648">Name</span></span> | <span data-ttu-id="f0aab-649">Valore</span><span class="sxs-lookup"><span data-stu-id="f0aab-649">Value</span></span> |
| --- | --- |
| <span data-ttu-id="f0aab-650">Orario di inizio richiesta</span><span class="sxs-lookup"><span data-stu-id="f0aab-650">Request start time</span></span> | <span data-ttu-id="f0aab-651">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="f0aab-651">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="f0aab-652">Tipo di operazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-652">Operation type</span></span>     | <span data-ttu-id="f0aab-653">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="f0aab-653">GetBlobProperties</span></span>            |
| <span data-ttu-id="f0aab-654">Stato della richiesta</span><span class="sxs-lookup"><span data-stu-id="f0aab-654">Request status</span></span>     | <span data-ttu-id="f0aab-655">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="f0aab-655">SASAuthorizationError</span></span>        |
| <span data-ttu-id="f0aab-656">Stato codice HTTP</span><span class="sxs-lookup"><span data-stu-id="f0aab-656">HTTP status code</span></span>   | <span data-ttu-id="f0aab-657">404</span><span class="sxs-lookup"><span data-stu-id="f0aab-657">404</span></span>                          |
| <span data-ttu-id="f0aab-658">Tipo di autenticazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-658">Authentication type</span></span>| <span data-ttu-id="f0aab-659">Sas</span><span class="sxs-lookup"><span data-stu-id="f0aab-659">Sas</span></span>                          |
| <span data-ttu-id="f0aab-660">Tipo di servizio</span><span class="sxs-lookup"><span data-stu-id="f0aab-660">Service type</span></span>       | <span data-ttu-id="f0aab-661">BLOB</span><span class="sxs-lookup"><span data-stu-id="f0aab-661">Blob</span></span>                         |
| <span data-ttu-id="f0aab-662">URL richiesta</span><span class="sxs-lookup"><span data-stu-id="f0aab-662">Request URL</span></span>        | <span data-ttu-id="f0aab-663">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="f0aab-663">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="f0aab-664">nbsp;</span><span class="sxs-lookup"><span data-stu-id="f0aab-664">nbsp;</span></span>              |   <span data-ttu-id="f0aab-665">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span><span class="sxs-lookup"><span data-stu-id="f0aab-665">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="f0aab-666">intestazione dell'ID richiesta</span><span class="sxs-lookup"><span data-stu-id="f0aab-666">Request id header</span></span>  | <span data-ttu-id="f0aab-667">a1f348d5-8032-4912-93ef-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="f0aab-667">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="f0aab-668">ID richiesta client</span><span class="sxs-lookup"><span data-stu-id="f0aab-668">Client request ID</span></span>  | <span data-ttu-id="f0aab-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="f0aab-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |


<span data-ttu-id="f0aab-670">È necessario verificare perché l'applicazione client sta tentando di eseguire un'operazione per la quale non dispone di autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="f0aab-670">You should investigate why your client application is attempting to perform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="f0aab-671"><a name="JavaScript-code-does-not-have-permission"></a>Il codice JavaScript lato client non è autorizzato ad accedere all'oggetto</span><span class="sxs-lookup"><span data-stu-id="f0aab-671"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission to access the object</span></span>
<span data-ttu-id="f0aab-672">Se si usa un client JavaScript e il servizio di archiviazione restituisce messaggi HTTP 404, verificare la presenza dei seguenti errori JavaScript nel browser:</span><span class="sxs-lookup"><span data-stu-id="f0aab-672">If you are using a JavaScript client and the storage service is returning HTTP 404 messages, you check for the following JavaScript errors in the browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="f0aab-673">È possibile usare gli strumenti di sviluppo F-12 in Internet Explorer per tracciare i messaggi scambiati dal browser e dal servizio di archiviazione quando si individuano e risolvono i problemi di JavaScript sul lato client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-673">You can use the F12 Developer Tools in Internet Explorer to trace the messages exchanged between the browser and the storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="f0aab-674">Tali errori si verificano poiché il Web browser implementa come restrizione di sicurezza il [criterio della stessa origine](http://www.w3.org/Security/wiki/Same_Origin_Policy) che impedisce che una pagina Web esegua una chiamata a un'API in un dominio diverso da quello da cui proviene la pagina.</span><span class="sxs-lookup"><span data-stu-id="f0aab-674">These errors occur because the web browser implements the [same origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) security restriction that prevents a web page from calling an API in a different domain from the domain the page comes from.</span></span>

<span data-ttu-id="f0aab-675">Per evitare il problema di JavaScript, è possibile configurare il servizio CORS (Cross Origin Resource Sharing) per il servizio di archiviazione a cui accede il client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-675">To work around the JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for the storage service the client is accessing.</span></span> <span data-ttu-id="f0aab-676">Per altre informazioni, vedere [Supporto della condivisione delle risorse tra le origini (CORS) per i servizi di archiviazione Azure](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-676">For more information, see [Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>

<span data-ttu-id="f0aab-677">L'esempio di codice che segue indica come configurare il servizio BLOB per consentire l'esecuzione di JavaScript nel dominio Contoso in modo da poter accedere a un BLOB nel servizio di archiviazione BLOB:</span><span class="sxs-lookup"><span data-stu-id="f0aab-677">The following code sample shows how to configure your blob service to allow JavaScript running in the Contoso domain to access a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set the service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="f0aab-678"><a name="network-failure"></a>Errore della rete</span><span class="sxs-lookup"><span data-stu-id="f0aab-678"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="f0aab-679">In alcune circostanze, la perdita di pacchetti di rete può causare la restituzione da parte del servizio di archiviazione di messaggi HTTP 404 per il client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-679">In some circumstances, lost network packets can lead to the storage service returning HTTP 404 messages to the client.</span></span> <span data-ttu-id="f0aab-680">Ad esempio, quando l'applicazione client elimina un'entità dal servizio tabelle, il client genera un'eccezione di archiviazione segnalando un messaggio di stato "HTTP 404 (Non trovato)" ricevuto dal servizio tabelle.</span><span class="sxs-lookup"><span data-stu-id="f0aab-680">For example, when your client application is deleting an entity from the table service you see the client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from the table service.</span></span> <span data-ttu-id="f0aab-681">Quando si esamina la tabella nel servizio di archiviazione tabelle, si può notare che il servizio ha eliminato l'entità come richiesto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-681">When you investigate the table in the table storage service, you see that the service did delete the entity as requested.</span></span>

<span data-ttu-id="f0aab-682">I dettagli dell'eccezione nel client includono l'ID richiesta (7e84f12d…) assegnato dal servizio tabelle per la richiesta. È possibile usare queste informazioni per individuare i dettagli della richiesta nei log di archiviazione sul lato server, eseguendo una ricerca nella colonna **request-id-header** del file di log.</span><span class="sxs-lookup"><span data-stu-id="f0aab-682">The exception details in the client include the request id (7e84f12d…) assigned by the table service for the request: you can use this information to locate the request details in the server-side storage logs by searching in the **request-id-header** column in the log file.</span></span> <span data-ttu-id="f0aab-683">È inoltre possibile usare le metriche per identificare il momento in cui si verificano errori come questo e quindi eseguire una ricerca nei file di log in base all'orario in cui le metriche hanno registrato l'errore.</span><span class="sxs-lookup"><span data-stu-id="f0aab-683">You could also use the metrics to identify when failures such as this occur and then search the log files based on the time the metrics recorded this error.</span></span> <span data-ttu-id="f0aab-684">Questa voce del file di log indica che l'eliminazione non è riuscita con messaggio di stato HTTP 404 (altro errore del client).</span><span class="sxs-lookup"><span data-stu-id="f0aab-684">This log entry shows that the delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="f0aab-685">La stessa voce del log include anche l'ID richiesta generato dal client nella colonna **client-request-id** (813ea74f…).</span><span class="sxs-lookup"><span data-stu-id="f0aab-685">The same log entry also includes the request id generated by the client in the **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="f0aab-686">Il log sul lato server contiene anche un'altra voce con lo stesso valore **client-request-id** (813ea74f…) in modo che venga eseguita correttamente l'eliminazione della stessa entità e dallo stesso client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-686">The server-side log also includes another entry with the same **client-request-id** value (813ea74f…) for a successful delete operation for the same entity, and from the same client.</span></span> <span data-ttu-id="f0aab-687">L'operazione di eliminazione corretta viene eseguita poco prima della richiesta di eliminazione non riuscita.</span><span class="sxs-lookup"><span data-stu-id="f0aab-687">This successful delete operation took place very shortly before the failed delete request.</span></span>

<span data-ttu-id="f0aab-688">La causa più probabile di tale situazione è il fatto che il client ha inviato correttamente al servizio tabelle una richiesta di eliminazione per l'entità, ma non ha ricevuto alcuna conferma da parte del server (forse per un problema temporaneo della rete).</span><span class="sxs-lookup"><span data-stu-id="f0aab-688">The most likely cause of this scenario is that the client sent a delete request for the entity to the table service, which succeeded, but did not receive an acknowledgement from the server (perhaps due to a temporary network issue).</span></span> <span data-ttu-id="f0aab-689">Il client ha quindi ritentato l'operazione (utilizzando lo stesso valore **client-request-id**) e il nuovo tentativo non è riuscito perché l'entità è già stata eliminata.</span><span class="sxs-lookup"><span data-stu-id="f0aab-689">The client then automatically retried the operation (using the same **client-request-id**), and this retry failed because the entity had already been deleted.</span></span>

<span data-ttu-id="f0aab-690">Se questo problema si verifica di frequente, è necessario capire perché il client non riesce a ricevere le risposte di conferma dal servizio tabelle.</span><span class="sxs-lookup"><span data-stu-id="f0aab-690">If this problem occurs frequently, you should investigate why the client is failing to receive acknowledgements from the table service.</span></span> <span data-ttu-id="f0aab-691">Se il problema è intermittente, occorre bloccare l'errore "HTTP (404) Non trovato" e registrarlo nel log del client, ma consentire al client di continuare.</span><span class="sxs-lookup"><span data-stu-id="f0aab-691">If the problem is intermittent, you should trap the "HTTP (404) Not Found" error and log it in the client, but allow the client to continue.</span></span>

### <span data-ttu-id="f0aab-692"><a name="the-client-is-receiving-409-messages"></a>Il client sta ricevendo messaggi HTTP 409 (Conflitto)</span><span class="sxs-lookup"><span data-stu-id="f0aab-692"><a name="the-client-is-receiving-409-messages"></a>The client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="f0aab-693">La tabella seguente illustra un estratto del log sul lato server per due operazioni client: **DeleteIfExists** seguita immediatamente da **CreateIfNotExists** usando lo stesso nome di contenitore BLOB.</span><span class="sxs-lookup"><span data-stu-id="f0aab-693">The following table shows an extract from the server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using the same blob container name.</span></span> <span data-ttu-id="f0aab-694">Si noti che ogni operazione del client determina l'invio di due richieste al server, prima una richiesta **GetContainerProperties** per verificare se il contenitore esiste e successivamente una richiesta **DeleteContainer** o **CreateContainer**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-694">Note that each client operation results in two requests sent to the server, first a **GetContainerProperties** request to check if the container exists, followed by the **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="f0aab-695">Timestamp</span><span class="sxs-lookup"><span data-stu-id="f0aab-695">Timestamp</span></span> | <span data-ttu-id="f0aab-696">Operazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-696">Operation</span></span> | <span data-ttu-id="f0aab-697">Risultato</span><span class="sxs-lookup"><span data-stu-id="f0aab-697">Result</span></span> | <span data-ttu-id="f0aab-698">Nome contenitore</span><span class="sxs-lookup"><span data-stu-id="f0aab-698">Container name</span></span> | <span data-ttu-id="f0aab-699">ID richiesta client</span><span class="sxs-lookup"><span data-stu-id="f0aab-699">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="f0aab-700">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="f0aab-700">05:10:13.7167225</span></span> |<span data-ttu-id="f0aab-701">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="f0aab-701">GetContainerProperties</span></span> |<span data-ttu-id="f0aab-702">200</span><span class="sxs-lookup"><span data-stu-id="f0aab-702">200</span></span> |<span data-ttu-id="f0aab-703">mmcont</span><span class="sxs-lookup"><span data-stu-id="f0aab-703">mmcont</span></span> |<span data-ttu-id="f0aab-704">c9f52c89-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-704">c9f52c89-…</span></span> |
| <span data-ttu-id="f0aab-705">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="f0aab-705">05:10:13.8167325</span></span> |<span data-ttu-id="f0aab-706">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="f0aab-706">DeleteContainer</span></span> |<span data-ttu-id="f0aab-707">202</span><span class="sxs-lookup"><span data-stu-id="f0aab-707">202</span></span> |<span data-ttu-id="f0aab-708">mmcont</span><span class="sxs-lookup"><span data-stu-id="f0aab-708">mmcont</span></span> |<span data-ttu-id="f0aab-709">c9f52c89-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-709">c9f52c89-…</span></span> |
| <span data-ttu-id="f0aab-710">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="f0aab-710">05:10:13.8987407</span></span> |<span data-ttu-id="f0aab-711">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="f0aab-711">GetContainerProperties</span></span> |<span data-ttu-id="f0aab-712">404</span><span class="sxs-lookup"><span data-stu-id="f0aab-712">404</span></span> |<span data-ttu-id="f0aab-713">mmcont</span><span class="sxs-lookup"><span data-stu-id="f0aab-713">mmcont</span></span> |<span data-ttu-id="f0aab-714">bc881924-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-714">bc881924-…</span></span> |
| <span data-ttu-id="f0aab-715">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="f0aab-715">05:10:14.2147723</span></span> |<span data-ttu-id="f0aab-716">CreateContainer</span><span class="sxs-lookup"><span data-stu-id="f0aab-716">CreateContainer</span></span> |<span data-ttu-id="f0aab-717">409</span><span class="sxs-lookup"><span data-stu-id="f0aab-717">409</span></span> |<span data-ttu-id="f0aab-718">mmcont</span><span class="sxs-lookup"><span data-stu-id="f0aab-718">mmcont</span></span> |<span data-ttu-id="f0aab-719">bc881924-…</span><span class="sxs-lookup"><span data-stu-id="f0aab-719">bc881924-…</span></span> |

<span data-ttu-id="f0aab-720">Il codice nell'applicazione client elimina e ricrea immediatamente un contenitore BLOB usando lo stesso nome. Il metodo **CreateIfNotExists** (ID richiesta client bc881924-…) potrebbe avere esito negativo con errore HTTP 409 (Conflitto).</span><span class="sxs-lookup"><span data-stu-id="f0aab-720">The code in the client application deletes and then immediately recreates a blob container using the same name: the **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with the HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="f0aab-721">Quando un client elimina contenitori BLOB, tabelle o code, trascorre un breve periodo di tempo prima che il nome sia di nuovo disponibile.</span><span class="sxs-lookup"><span data-stu-id="f0aab-721">When a client deletes blob containers, tables, or queues there is a brief period before the name becomes available again.</span></span>

<span data-ttu-id="f0aab-722">L'applicazione client deve utilizzare nomi univoci per i contenitori ogni volta che crea nuovi contenitori se il pattern delete/recreate è comune.</span><span class="sxs-lookup"><span data-stu-id="f0aab-722">The client application should use unique container names whenever it creates new containers if the delete/recreate pattern is common.</span></span>

### <span data-ttu-id="f0aab-723"><a name="metrics-show-low-percent-success"></a>Le metriche indicano un valore PercentSuccess basso o le voci del log di analisi contengono operazioni con stato della transazione ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="f0aab-723"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="f0aab-724">La metrica **PercentSuccess** acquisisce la percentuale di operazioni eseguite correttamente in base al relativo codice di stato HTTP.</span><span class="sxs-lookup"><span data-stu-id="f0aab-724">The **PercentSuccess** metric captures the percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="f0aab-725">Le operazioni con codici di stato 2XX hanno avuto esito positivo, mentre le operazioni con codici 3XX, 4XX e 5XX hanno avuto esito negativo e riducono il valore della metrica **PercentSucess** .</span><span class="sxs-lookup"><span data-stu-id="f0aab-725">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower the **PercentSucess** metric value.</span></span> <span data-ttu-id="f0aab-726">Nei file di log dell'archiviazione sul lato server, queste operazioni vengono registrate con stato della transazione **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-726">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="f0aab-727">È importante notare che queste operazioni sono state completate correttamente e quindi non influiscono sulle altre metriche, ad esempio la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f0aab-727">It is important to note that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="f0aab-728">Alcuni esempi di operazioni eseguite correttamente ma che possono restituire codici di stato HTTP negativi sono:</span><span class="sxs-lookup"><span data-stu-id="f0aab-728">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="f0aab-729">**ResourceNotFound** (Non trovato 404), ad esempio da una richiesta GET a un oggetto BLOB che non esiste.</span><span class="sxs-lookup"><span data-stu-id="f0aab-729">**ResourceNotFound** (Not Found 404), for example from a GET request to a blob that does not exist.</span></span>
* <span data-ttu-id="f0aab-730">**ResouceAlreadyExists** (Conflitto 409), ad esempio da un'operazione **CreateIfNotExist** quando la risorsa esiste già.</span><span class="sxs-lookup"><span data-stu-id="f0aab-730">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where the resource already exists.</span></span>
* <span data-ttu-id="f0aab-731">**ConditionNotMet** (304 non modificato), ad esempio da un'operazione condizionale quando un client invia un valore **ETag** e un'intestazione HTTP **If-None-Match** per richiedere un'immagine solo se è stata aggiornata dall'ultima operazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-731">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header to request an image only if it has been updated since the last operation.</span></span>

<span data-ttu-id="f0aab-732">Per l'elenco dei codici di errore API REST che i servizi di archiviazione restituiscono più di frequente, vedere la pagina [Codici di errore comuni dell'API REST](http://msdn.microsoft.com/library/azure/dd179357.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-732">You can find a list of common REST API error codes that the storage services return on the page [Common REST API Error Codes](http://msdn.microsoft.com/library/azure/dd179357.aspx).</span></span>

### <span data-ttu-id="f0aab-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>Le metriche della capacità indicano un aumento imprevisto dell'uso della capacità di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="f0aab-734">Se si riscontrano cambiamenti improvvisi e imprevisti dell'utilizzo della capacità nel proprio account di archiviazione, per scoprire quali sono le cause per prima cosa analizzare le metriche di disponibilità. Ad esempio, un aumento del numero di richieste di eliminazione non riuscite può determinare un aumento dell'archiviazione BLOB in uso perché le operazioni di pulizia specifiche dell'applicazione, che avrebbero dovuto liberare spazio, non funzionano come previsto (ad esempio perché i token SAS utilizzare per liberare spazio sono scaduti).</span><span class="sxs-lookup"><span data-stu-id="f0aab-734">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate the reasons by first looking at your availability metrics; for example, an increase in the number of failed delete requests might lead to an increase in the amount of blob storage you are using as application specific cleanup operations you might have expected to be freeing up space may not be working as expected (for example, because the SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="f0aab-735"><a name="you-are-experiencing-unexpected-reboots"></a>Si stanno verificando riavvii imprevisti delle macchine virtuali di Azure con un numero elevato di VHD allegati</span><span class="sxs-lookup"><span data-stu-id="f0aab-735"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="f0aab-736">Se una macchina virtuale di Azure contiene numerosi dischi rigidi virtuali (VHD, Virtual Hard Disk) allegati nello stesso account di archiviazione, è possibile che vengano superati gli obiettivi di scalabilità dell'account di archiviazione determinando un errore della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="f0aab-736">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in the same storage account, you could exceed the scalability targets for an individual storage account causing the VM to fail.</span></span> <span data-ttu-id="f0aab-737">È consigliabile controllare le metriche al minuto per l'account di archiviazione (**TotalRequests**/**TotalIngress**/**TotalEgress**) per verificare se esistono picchi che superano gli obiettivi di scalabilità per un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-737">You should check the minute metrics for the storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed the scalability targets for a storage account.</span></span> <span data-ttu-id="f0aab-738">Vedere la sezione "[Le metriche indicano un aumento di PercentThrottlingError]" per sapere come si stabilisce se si è verificata una limitazione nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-738">See the section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="f0aab-739">In generale, ogni singola operazione di input o output eseguita su un disco rigido virtuale di una macchina virtuale viene trasformata in operazione **Get Page** o **Put Page** nel BLOB di pagine sottostante.</span><span class="sxs-lookup"><span data-stu-id="f0aab-739">In general, each individual input or output operation on a VHD from a Virtual Machine translates to **Get Page** or **Put Page** operations on the underlying page blob.</span></span> <span data-ttu-id="f0aab-740">Di conseguenza, è possibile utilizzare le IOPS previste per l'ambiente per stabilire quanti VHD si possono avere in un singolo account di archiviazione in base al comportamento specifico dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-740">Therefore, you can use the estimated IOPS for your environment to tune how many VHDs you can have in a single storage account based on the specific behavior of your application.</span></span> <span data-ttu-id="f0aab-741">Non è consigliabile usare più di 40 dischi virtuali in un unico account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-741">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="f0aab-742">Vedere [Obiettivi di scalabilità e prestazioni di Azure](storage-scalability-targets.md) per i dettagli relativi agli attuali obiettivi di scalabilità per gli account di archiviazione, in particolare la velocità totale delle richieste e la larghezza di banda totale per il tipo di account di archiviazione in uso.</span><span class="sxs-lookup"><span data-stu-id="f0aab-742">See [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details of the current scalability targets for storage accounts, in particular the total request rate and total bandwidth for the type of storage account you are using.</span></span>
<span data-ttu-id="f0aab-743">Se si superano gli obiettivi di scalabilità per il proprio account di archiviazione, sarà necessario inserire i VHD in più account diversi per ridurre l'attività in ogni singolo account.</span><span class="sxs-lookup"><span data-stu-id="f0aab-743">If you are exceeding the scalability targets for your storage account, you should place your VHDs in multiple different storage accounts to reduce the activity in each individual account.</span></span>

### <span data-ttu-id="f0aab-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Il problema è dovuto all'uso dell'emulatore di archiviazione per attività di sviluppo o test</span><span class="sxs-lookup"><span data-stu-id="f0aab-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using the storage emulator for development or test</span></span>
<span data-ttu-id="f0aab-745">L'emulatore di archiviazione normalmente si utilizza durante lo sviluppo e i test per evitare i requisiti di un account di archiviazione Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-745">You typically use the storage emulator during development and test to avoid the requirement for an Azure storage account.</span></span> <span data-ttu-id="f0aab-746">I problemi che si riscontrano più di frequente usando l'emulatore di archiviazione sono:</span><span class="sxs-lookup"><span data-stu-id="f0aab-746">The common issues that can occur when you are using the storage emulator are:</span></span>

* <span data-ttu-id="f0aab-747">[La funzionalità "X" non funziona nell'emulatore di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-747">[Feature "X" is not working in the storage emulator]</span></span>
* <span data-ttu-id="f0aab-748">[Un messaggio indica che il valore di una delle intestazioni HTTP non è nel formato corretto quando si usa l'emulatore di archiviazione]</span><span class="sxs-lookup"><span data-stu-id="f0aab-748">[Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator]</span></span>
* <span data-ttu-id="f0aab-749">[L'esecuzione dell'emulatore di archiviazione richiede privilegi amministrativi]</span><span class="sxs-lookup"><span data-stu-id="f0aab-749">[Running the storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="f0aab-750"><a name="feature-X-is-not-working"></a>La funzionalità "X" non funziona nell'emulatore di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-750"><a name="feature-X-is-not-working"></a>Feature "X" is not working in the storage emulator</span></span>
<span data-ttu-id="f0aab-751">L'emulatore di archiviazione non supporta tutte le funzioni dei servizi di archiviazione Azure, ad esempio il servizio file.</span><span class="sxs-lookup"><span data-stu-id="f0aab-751">The storage emulator does not support all of the features of the Azure storage services such as the file service.</span></span> <span data-ttu-id="f0aab-752">Per altre informazioni, vedere [Usare l'emulatore di archiviazione di Azure per sviluppo e test](storage-use-emulator.md).</span><span class="sxs-lookup"><span data-stu-id="f0aab-752">For more information, see [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span>

<span data-ttu-id="f0aab-753">Per le funzioni non supportate dall'emulatore di archiviazione, usare il servizio di archiviazione Azure nel cloud.</span><span class="sxs-lookup"><span data-stu-id="f0aab-753">For those features that the storage emulator does not support, use the Azure storage service in the cloud.</span></span>

#### <span data-ttu-id="f0aab-754"><a name="error-HTTP-header-not-correct-format"></a>Un messaggio indica che il valore di una delle intestazioni HTTP non è nel formato corretto quando si usa l'emulatore di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-754"><a name="error-HTTP-header-not-correct-format"></a>Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator</span></span>
<span data-ttu-id="f0aab-755">Si sta testando l'applicazione che utilizza Storage Client Library con l'emulatore di archiviazione locale e chiamate del metodo come **CreateIfNotExists** hanno esito negativo restituendo un errore dovuto al formato errato di una delle intestazioni HTTP.</span><span class="sxs-lookup"><span data-stu-id="f0aab-755">You are testing your application that use the Storage Client Library against the local storage emulator and method calls such as **CreateIfNotExists** fail with the error message "The value for one of the HTTP headers is not in the correct format."</span></span> <span data-ttu-id="f0aab-756">Ciò indica che la versione dell'emulatore di archiviazione non supporta la versione di Storage Client Library in uso.</span><span class="sxs-lookup"><span data-stu-id="f0aab-756">This indicates that the version of the storage emulator you are using does not support the version of the storage client library you are using.</span></span> <span data-ttu-id="f0aab-757">Storage Client Library aggiunge l'intestazione **x-ms-version** a tutte le richieste che effettua.</span><span class="sxs-lookup"><span data-stu-id="f0aab-757">The Storage Client Library adds the header **x-ms-version** to all the requests it makes.</span></span> <span data-ttu-id="f0aab-758">Se l'emulatore di archiviazione non riconosce il valore nell'intestazione **x-ms-version** , rifiuta la richiesta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-758">If the storage emulator does not recognize the value in the **x-ms-version** header, it rejects the request.</span></span>

<span data-ttu-id="f0aab-759">Utilizzare i log di Storage Library Client per visualizzare il valore di **x-ms-version header** inviato.</span><span class="sxs-lookup"><span data-stu-id="f0aab-759">You can use the Storage Library Client logs to see the value of the **x-ms-version header** it is sending.</span></span> <span data-ttu-id="f0aab-760">È inoltre possibile visualizzare il valore di **x-ms-version header** se si utilizza Fiddler per la traccia delle richieste provenienti dall'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="f0aab-760">You can also see the value of the **x-ms-version header** if you use Fiddler to trace the requests from your client application.</span></span>

<span data-ttu-id="f0aab-761">Questa situazione di solito si verifica quando si installa e si usa la versione più recente di Storage Client Library senza aggiornare l'emulatore di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-761">This scenario typically occurs if you install and use the latest version of the Storage Client Library without updating the storage emulator.</span></span> <span data-ttu-id="f0aab-762">È necessario installare la versione più recente dell'emulatore di archiviazione o usare l'archiviazione cloud anziché l'emulatore per lo sviluppo e i test.</span><span class="sxs-lookup"><span data-stu-id="f0aab-762">You should either install the latest version of the storage emulator, or use cloud storage instead of the emulator for development and test.</span></span>

#### <span data-ttu-id="f0aab-763"><a name="storage-emulator-requires-administrative-privileges"></a>L'esecuzione dell'emulatore di archiviazione richiede privilegi amministrativi</span><span class="sxs-lookup"><span data-stu-id="f0aab-763"><a name="storage-emulator-requires-administrative-privileges"></a>Running the storage emulator requires administrative privileges</span></span>
<span data-ttu-id="f0aab-764">Vengono richieste le credenziali di amministratore quando si esegue l'emulatore di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-764">You are prompted for administrator credentials when you run the storage emulator.</span></span> <span data-ttu-id="f0aab-765">Questo si verifica solo quando si inizializza l'emulatore di archiviazione per la prima volta.</span><span class="sxs-lookup"><span data-stu-id="f0aab-765">This only occurs when you are initializing the storage emulator for the first time.</span></span> <span data-ttu-id="f0aab-766">Una volta inizializzato l'emulatore di archiviazione, non saranno necessari privilegi amministrativi per eseguirlo di nuovo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-766">After you have initialized the storage emulator, you do not need administrative privileges to run it again.</span></span>

<span data-ttu-id="f0aab-767">Per altre informazioni, vedere [Usare l'emulatore di archiviazione di Azure per sviluppo e test](storage-use-emulator.md).</span><span class="sxs-lookup"><span data-stu-id="f0aab-767">For more information, see [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span> <span data-ttu-id="f0aab-768">Tenere presente che è anche possibile inizializzare l'emulatore di archiviazione in Visual Studio, che richiede anche privilegi amministrativi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-768">Note that you can also initialize the storage emulator in Visual Studio, which will also require administrative privileges.</span></span>

### <span data-ttu-id="f0aab-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>Si stanno verificando problemi di installazione di Azure SDK per .NET</span><span class="sxs-lookup"><span data-stu-id="f0aab-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing the Azure SDK for .NET</span></span>
<span data-ttu-id="f0aab-770">Quando si installa l'SDK, si verifica un errore se si tenta di installare l'emulatore di archiviazione sul computer locale.</span><span class="sxs-lookup"><span data-stu-id="f0aab-770">When you try to install the SDK, it fails trying to install the storage emulator on your local machine.</span></span> <span data-ttu-id="f0aab-771">Il log di installazione contiene uno dei seguenti messaggi:</span><span class="sxs-lookup"><span data-stu-id="f0aab-771">The installation log contains one of the following messages:</span></span>

* <span data-ttu-id="f0aab-772">CAQuietExec:  Error: Unable to access SQL instance</span><span class="sxs-lookup"><span data-stu-id="f0aab-772">CAQuietExec:  Error: Unable to access SQL instance</span></span>
* <span data-ttu-id="f0aab-773">CAQuietExec: Error: Unable to create database</span><span class="sxs-lookup"><span data-stu-id="f0aab-773">CAQuietExec:  Error: Unable to create database</span></span>

<span data-ttu-id="f0aab-774">La causa è un problema nell'installazione LocalDB già esistente.</span><span class="sxs-lookup"><span data-stu-id="f0aab-774">The cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="f0aab-775">Per impostazione predefinita, l'emulatore di archiviazione utilizza LocalDB per mantenere persistenti i dati quando simula i servizio di archiviazione Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-775">By default, the storage emulator uses LocalDB to persist data when it simulates the Azure storage services.</span></span> <span data-ttu-id="f0aab-776">Per reimpostare l'istanza LocalDB, eseguire i comandi indicati di seguito in una finestra del prompt dei comandi prima di provare a installare l'SDK.</span><span class="sxs-lookup"><span data-stu-id="f0aab-776">You can reset your LocalDB instance by running the following commands in a command-prompt window before trying to install the SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="f0aab-777">Il comando **delete** rimuove tutti i vecchi file di database dalle installazioni precedenti dell'emulatore di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-777">The **delete** command removes any old database files from previous installations of the storage emulator.</span></span>

### <span data-ttu-id="f0aab-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>Si è verificato un problema diverso con un servizio di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f0aab-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="f0aab-779">Se le sezioni precedenti non includono il problema riscontrato con un servizio di archiviazione, attenersi alla seguente procedura per diagnosticare e risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-779">If the previous troubleshooting sections do not include the issue you are having with a storage service, you should adopt the following approach to diagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="f0aab-780">Controllare le metriche per verificare se sono presenti variazioni del normale comportamento di base.</span><span class="sxs-lookup"><span data-stu-id="f0aab-780">Check your metrics to see if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="f0aab-781">Dalle metriche è possibile determinare se il problema è transitorio o permanente e quali operazioni di archiviazione sono interessate dal problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-781">From the metrics, you may be able to determine whether the issue is transient or permanent, and which storage operations the issue is affecting.</span></span>
* <span data-ttu-id="f0aab-782">Utilizzare le informazioni delle metriche per cercare nei dati dei log lato server informazioni più dettagliate su eventuali errori riscontrati.</span><span class="sxs-lookup"><span data-stu-id="f0aab-782">You can use the metrics information to help you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="f0aab-783">Queste informazioni possono essere utili per diagnosticare e risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-783">This information may help you troubleshoot and resolve the issue.</span></span>
* <span data-ttu-id="f0aab-784">Se le informazioni dei log lato server non sono sufficienti per risolvere efficacemente il problema, utilizzare i log lato client di Storage Client Library per esaminare il comportamento dell'applicazione client e strumenti come Fiddler, Wireshark e Microsoft Message Analyzer per esaminare la rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-784">If the information in the server-side logs is not sufficient to troubleshoot the issue successfully, you can use the Storage Client Library client-side logs to investigate the behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer to investigate your network.</span></span>

<span data-ttu-id="f0aab-785">Per ulteriori informazioni sull'utilizzo Fiddler, vedere "[Appendice 1: Uso di Fiddler per l'acquisizione del traffico HTTP e HTTPS]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-785">For more information about using Fiddler, see "[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="f0aab-786">Per ulteriori informazioni sull'utilizzo di Wireshark, vedere "[Appendice 2: Uso di Wireshark per l'acquisizione del traffico di rete]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-786">For more information about using Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="f0aab-787">Per ulteriori informazioni sull'utilizzo di Microsoft Message Analyzer, vedere "[Appendice 3: Uso di Microsoft Message Analyzer per l'acquisizione del traffico di rete]."</span><span class="sxs-lookup"><span data-stu-id="f0aab-787">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

## <span data-ttu-id="f0aab-788"><a name="appendices"></a>Appendici</span><span class="sxs-lookup"><span data-stu-id="f0aab-788"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="f0aab-789">Le appendici descrivono alcuni strumenti che possono risultare utili per la diagnosi e la risoluzione dei problemi del servizio di archiviazione Azure (e di altri servizi).</span><span class="sxs-lookup"><span data-stu-id="f0aab-789">The appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="f0aab-790">Tali strumenti non fanno parte del servizio di archiviazione Azure e alcuni sono prodotti di terze parti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-790">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="f0aab-791">Quindi, gli strumenti descritti nelle appendici non sono coperti da eventuali contratti di assistenza stipulati per Microsoft Azure o il servizio di archiviazione Azure ed è necessario che l'utente, come parte del proprio processo di valutazione, esamini le opzioni di licenza e di assistenza disponibili presso i fornitori degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-791">As such, the tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine the licensing and support options available from the providers of these tools.</span></span>

### <span data-ttu-id="f0aab-792"><a name="appendix-1"></a>Appendice 1: Uso di Fiddler per l'acquisizione del traffico HTTP e HTTPS</span><span class="sxs-lookup"><span data-stu-id="f0aab-792"><a name="appendix-1"></a>Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="f0aab-793">[Fiddler](http://www.telerik.com/fiddler) è uno strumento utile per l'analisi del traffico HTTP e HTTPS tra l'applicazione cliente e il servizio di archiviazione di Azure in uso.</span><span class="sxs-lookup"><span data-stu-id="f0aab-793">[Fiddler](http://www.telerik.com/fiddler) is a useful tool for analyzing the HTTP and HTTPS traffic between your client application and the Azure storage service you are using.</span></span>

> [!NOTE]
> <span data-ttu-id="f0aab-794">Fiddler è in grado di decodificare il traffico HTTPS. È consigliabile leggere attentamente la documentazione di Fiddler per capire in che modo esegue questa operazione e quali sono le implicazioni in termini di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="f0aab-794">Fiddler can decode HTTPS traffic; you should read the Fiddler documentation carefully to understand how it does this, and to understand the security implications.</span></span>
> 
> 

<span data-ttu-id="f0aab-795">Questa appendice descrive brevemente la procedura di configurazione di Fiddler per l'acquisizione del traffico tra il computer locale in cui è installato Fiddler e i servizi di archiviazione Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-795">This appendix provides a brief walkthrough of how to configure Fiddler to capture traffic between the local machine where you have installed Fiddler and the Azure storage services.</span></span>

<span data-ttu-id="f0aab-796">Dopo l'avvio, Fiddler inizia ad acquisire il traffico HTTP e HTTPS sul computer locale.</span><span class="sxs-lookup"><span data-stu-id="f0aab-796">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="f0aab-797">Di seguito sono riportati alcuni comandi utili per il controllo di Fiddler:</span><span class="sxs-lookup"><span data-stu-id="f0aab-797">The following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="f0aab-798">Interruzione e avvio dell'acquisizione del traffico.</span><span class="sxs-lookup"><span data-stu-id="f0aab-798">Stop and start capturing traffic.</span></span> <span data-ttu-id="f0aab-799">Nel menu principale aprire **File** e fare clic su **Capture Traffic** per attivare e disattivare l'acquisizione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-799">On the main menu, go to **File** and then click **Capture Traffic** to toggle capturing on and off.</span></span>
* <span data-ttu-id="f0aab-800">Salvare i dati del traffico acquisiti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-800">Save captured traffic data.</span></span> <span data-ttu-id="f0aab-801">Nel menu principale aprire **File**, fare clic su **Save** e scegliere **All Sessions**. Ciò consente di salvare il traffico in un file di archivio sessione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-801">On the main menu, go to **File**, click **Save**, and then click **All Sessions**: this enables you to save the traffic in a Session Archive file.</span></span> <span data-ttu-id="f0aab-802">Tale file potrà essere ricaricato successivamente per l'analisi o inviato al Supporto Microsoft, se richiesto.</span><span class="sxs-lookup"><span data-stu-id="f0aab-802">You can reload a Session Archive later for analysis, or send it if requested to Microsoft support.</span></span>

<span data-ttu-id="f0aab-803">Per limitare il volume del traffico acquisito da Fiddler, utilizzare i filtri configurabili nella scheda **Filters** . La schermata che segue mostra un esempio di filtro che acquisisce solo il traffico inviato all'endpoint di archiviazione **contosoemaildist.table.core.windows.net** :</span><span class="sxs-lookup"><span data-stu-id="f0aab-803">To limit the amount of traffic that Fiddler captures, you can use filters that you configure in the **Filters** tab. The following screenshot shows a filter that captures only traffic sent to the **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="f0aab-804"><a name="appendix-2"></a>Appendice 2: Uso di Wireshark per l'acquisizione del traffico di rete</span><span class="sxs-lookup"><span data-stu-id="f0aab-804"><a name="appendix-2"></a>Appendix 2: Using Wireshark to capture network traffic</span></span>
<span data-ttu-id="f0aab-805">[Wireshark](http://www.wireshark.org/) è uno strumento di analisi dei protocolli di rete che consente di visualizzare informazioni dettagliate sui pacchetti per un'ampia gamma di protocolli di rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-805">[Wireshark](http://www.wireshark.org/) is a network protocol analyzer that enables you to view detailed packet information for a wide range of network protocols.</span></span>

<span data-ttu-id="f0aab-806">La procedura che segue indica come acquisire informazioni dettagliate sui pacchetti per il traffico dal computer locale su cui è installato Wireshark al servizio tabelle nell'account di archiviazione Azure.</span><span class="sxs-lookup"><span data-stu-id="f0aab-806">The following procedure shows you how to capture detailed packet information for traffic from the local machine where you installed Wireshark to the table service in your Azure storage account.</span></span>

1. <span data-ttu-id="f0aab-807">Avviare Wireshark sul computer locale.</span><span class="sxs-lookup"><span data-stu-id="f0aab-807">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="f0aab-808">Nella sezione **Start** , selezionare l'interfaccia (o le interfacce) di rete locale connessa a Internet.</span><span class="sxs-lookup"><span data-stu-id="f0aab-808">In the **Start** section, select the local network interface or interfaces that are connected to the internet.</span></span>
3. <span data-ttu-id="f0aab-809">Fare clic su **Capture Options**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-809">Click **Capture Options**.</span></span>
4. <span data-ttu-id="f0aab-810">Aggiungere un filtro nella casella di testo **Capture Filter** .</span><span class="sxs-lookup"><span data-stu-id="f0aab-810">Add a filter to the **Capture Filter** textbox.</span></span> <span data-ttu-id="f0aab-811">Ad esempio, **host contosoemaildist.table.core.windows.net** configura Wireshark per acquisire solo i pacchetti inviati o ricevuti dall'endpoint del servizio tabelle nell'account di archiviazione **contosoemaildist**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-811">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark to capture only packets sent to or from the table service endpoint in the **contosoemaildist** storage account.</span></span> <span data-ttu-id="f0aab-812">Vedere l' [elenco completo dei filtri di acquisizione](http://wiki.wireshark.org/CaptureFilters).</span><span class="sxs-lookup"><span data-stu-id="f0aab-812">Check out the [complete list of Capture Filters](http://wiki.wireshark.org/CaptureFilters).</span></span>
   
   ![][6]
5. <span data-ttu-id="f0aab-813">Fare clic su **Avvia**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-813">Click **Start**.</span></span> <span data-ttu-id="f0aab-814">Wireshark acquisirà tutti i pacchetti inviati a o dall'endpoint del servizio tabelle non appena l'applicazione client viene utilizzata sul computer locale.</span><span class="sxs-lookup"><span data-stu-id="f0aab-814">Wireshark will now capture all the packets send to or from the table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="f0aab-815">Al termine, fare clic su **Capture** nel menu principale e su **Stop**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-815">When you have finished, on the main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="f0aab-816">Per salvare i dati acquisiti in un file di acquisizione di Wireshark, fare clic su **File** nel menu principale e scegliere **Save**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-816">To save the captured data in a Wireshark Capture File, on the main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="f0aab-817">WireShark evidenzia tutti gli errori presenti nella finestra **packetlist** .</span><span class="sxs-lookup"><span data-stu-id="f0aab-817">WireShark will highlight any errors that exist in the **packetlist** window.</span></span> <span data-ttu-id="f0aab-818">È possibile anche usare la finestra **Expert Info** (fare clic su **Analyze** e su **Expert Info**) per visualizzare un riepilogo di errori e avvisi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-818">You can also use the **Expert Info** window (click **Analyze**, then **Expert Info**) to view a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="f0aab-819">È anche possibile scegliere di visualizzare i dati TCP appena il livello dell'applicazione li vede, facendo clic con il pulsante destro del mouse sui dati TCP e selezionando **Follow TCP Stream**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-819">You can also chose to view the TCP data as the application layer sees it by right-clicking on the TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="f0aab-820">Ciò è particolarmente utile se si acquisisce il dump senza un filtro di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="f0aab-820">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="f0aab-821">Per altre informazioni, vedere [Seguire i flussi TCP](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).</span><span class="sxs-lookup"><span data-stu-id="f0aab-821">For more information, see [Following TCP Streams](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="f0aab-822">Per ulteriori informazioni sull'uso di Wireshark, vedere la [guida dell'utente di Wireshark](http://www.wireshark.org/docs/wsug_html_chunked).</span><span class="sxs-lookup"><span data-stu-id="f0aab-822">For more information about using Wireshark, see the [Wireshark Users Guide](http://www.wireshark.org/docs/wsug_html_chunked).</span></span>
> 
> 

### <span data-ttu-id="f0aab-823"><a name="appendix-3"></a>Appendice 3: Uso di Microsoft Message Analyzer per l'acquisizione del traffico di rete</span><span class="sxs-lookup"><span data-stu-id="f0aab-823"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer to capture network traffic</span></span>
<span data-ttu-id="f0aab-824">Microsoft Message Analyzer può essere usato per l'acquisizione del traffico HTTP e HTTPS in modo analogo a Fiddler e per l'acquisizione del traffico di rete in modo analogo a Wireshark.</span><span class="sxs-lookup"><span data-stu-id="f0aab-824">You can use Microsoft Message Analyzer to capture HTTP and HTTPS traffic in a similar way to Fiddler, and capture network traffic in a similar way to Wireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="f0aab-825">Configurazione di una sessione di traccia Web tramite Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="f0aab-825">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="f0aab-826">Per configurare una sessione di traccia Web per il traffico HTTP e HTTPS tramite Microsoft Message Analyzer, eseguire l'applicazione Microsoft Message Analyzer e nel menu **File** fare clic su **Capture/Trace**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-826">To configure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run the Microsoft Message Analyzer application and then on the **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="f0aab-827">Nell'elenco degli scenari di traccia disponibili, selezionare **Web Proxy**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-827">In the list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="f0aab-828">Quindi, nel riquadro **Trace Scenario Configuration**, nella casella di testo **HostnameFilter** aggiungere i nomi degli endpoint di archiviazione individuati nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f0aab-828">Then in the **Trace Scenario Configuration** panel, in the **HostnameFilter** textbox, add the names of your storage endpoints (you can look up these names in the [Azure portal](https://portal.azure.com)).</span></span> <span data-ttu-id="f0aab-829">Ad esempio, se il nome dell'account di archiviazione Azure è **contosodata**, aggiungere quanto segue alla casella di testo **HostnameFilter**:</span><span class="sxs-lookup"><span data-stu-id="f0aab-829">For example, if the name of your Azure storage account is **contosodata**, you should add the following to the **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="f0aab-830">I nomi host sono separati da uno spazio.</span><span class="sxs-lookup"><span data-stu-id="f0aab-830">A space character separates the hostnames.</span></span>
> 
> 

<span data-ttu-id="f0aab-831">Quando si è pronti a iniziare a raccogliere i dati di traccia, fare clic sul pulsante **Start With** .</span><span class="sxs-lookup"><span data-stu-id="f0aab-831">When you are ready to start collecting trace data, click the **Start With** button.</span></span>

<span data-ttu-id="f0aab-832">Per altre informazioni sulla traccia di **Web Proxy** di Microsoft Message Analyzer, vedere [Microsoft-PEF-WebProxy Provider](http://technet.microsoft.com/library/jj674814.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-832">For more information about the Microsoft Message Analyzer **Web Proxy** trace, see [Microsoft-PEF-WebProxy Provider](http://technet.microsoft.com/library/jj674814.aspx).</span></span>

<span data-ttu-id="f0aab-833">La traccia **Web Proxy** integrata in Microsoft Message Analyzer è basata su Fiddler; è in grado di acquisire il traffico HTTPS lato client e di visualizzare i messaggi HTTPS non crittografati.</span><span class="sxs-lookup"><span data-stu-id="f0aab-833">The built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="f0aab-834">**Web Proxy** funziona mediante la configurazione di un proxy locale per tutto il traffico HTTP e HTTPS che fornisce l'accesso ai messaggi non crittografati.</span><span class="sxs-lookup"><span data-stu-id="f0aab-834">The **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access to unencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="f0aab-835">Diagnosi dei problemi di rete con Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="f0aab-835">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="f0aab-836">Oltre a usare la traccia **Web Proxy** di Microsoft Message Analyzer per acquisire i dettagli del traffico HTTP/HTTP tra l'applicazione client e il servizio di archiviazione, è anche possibile usare la traccia **Local Link Layer** integrata per acquisire le informazioni sui pacchetti di rete.</span><span class="sxs-lookup"><span data-stu-id="f0aab-836">In addition to using the Microsoft Message Analyzer **Web Proxy** trace to capture details of the HTTP/HTTPs traffic between the client application and the storage service, you can also use the built-in **Local Link Layer** trace to capture network packet information.</span></span> <span data-ttu-id="f0aab-837">Ciò consente di acquisire dati simili a quelli acquisiti con Wireshark e di diagnosticare eventuali problemi della rete, ad esempio i pacchetti interrotti.</span><span class="sxs-lookup"><span data-stu-id="f0aab-837">This enables you to capture data similar to that which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="f0aab-838">La schermata seguente illustra un esempio della traccia **Local Link Layer** con alcuni messaggi **informativi** nella colonna **DiagnosisTypes**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-838">The following screenshot shows an example **Local Link Layer** trace with some **informational** messages in the **DiagnosisTypes** column.</span></span> <span data-ttu-id="f0aab-839">Facendo clic su un'icona nella colonna **DiagnosisTypes** verranno visualizzati i dettagli del messaggio.</span><span class="sxs-lookup"><span data-stu-id="f0aab-839">Clicking on an icon in the **DiagnosisTypes** column shows the details of the message.</span></span> <span data-ttu-id="f0aab-840">In questo esempio, il server ha ritrasmesso il messaggio #305 perché non riceveva una conferma dal client:</span><span class="sxs-lookup"><span data-stu-id="f0aab-840">In this example, the server retransmitted message #305 because it did not receive an acknowledgement from the client:</span></span>

![][9]

<span data-ttu-id="f0aab-841">Quando si crea la sessione di traccia in Microsoft Message Analyzer, è possibile specificare dei filtri per ridurre la quantità di disturbi nella traccia.</span><span class="sxs-lookup"><span data-stu-id="f0aab-841">When you create the trace session in Microsoft Message Analyzer, you can specify filters to reduce the amount of noise in the trace.</span></span> <span data-ttu-id="f0aab-842">Nella pagina **Capture / Trace** in cui si definisce la traccia, fare clic sul collegamento **Configure** accanto a **Microsoft-Windows-NDIS-PacketCapture**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-842">On the **Capture / Trace** page where you define the trace, click on the **Configure** link next to **Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="f0aab-843">La schermata che segue mostra una configurazione in cui il traffico TCP viene filtrato per gli indirizzi IP di tre servizi di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="f0aab-843">The following screenshot shows a configuration that filters TCP traffic for the IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="f0aab-844">Per altre informazioni sulla traccia di Local Link Layer di Microsoft Message Analyzer, vedere [Microsoft-PEF-NDIS-PacketCapture Provider](http://technet.microsoft.com/library/jj659264.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-844">For more information about the Microsoft Message Analyzer Local Link Layer trace, see [Microsoft-PEF-NDIS-PacketCapture Provider](http://technet.microsoft.com/library/jj659264.aspx).</span></span>

### <span data-ttu-id="f0aab-845"><a name="appendix-4"></a>Appendice 4: Uso di Excel per la visualizzazione di metriche e dati di log</span><span class="sxs-lookup"><span data-stu-id="f0aab-845"><a name="appendix-4"></a>Appendix 4: Using Excel to view metrics and log data</span></span>
<span data-ttu-id="f0aab-846">Molti strumenti consentono di scaricare i dati di Metriche di archiviazione dalle tabelle di archiviazione di Azure in un formato delimitato che semplifica il caricamento dei dati in Excel per la visualizzazione e l'analisi.</span><span class="sxs-lookup"><span data-stu-id="f0aab-846">Many tools enable you to download the Storage Metrics data from Azure table storage in a delimited format that makes it easy to load the data into Excel for viewing and analysis.</span></span> <span data-ttu-id="f0aab-847">I dati della registrazione dell'archiviazione provenienti dai BLOB di Azure sono già in un formato delimitato che può essere caricato in Excel.</span><span class="sxs-lookup"><span data-stu-id="f0aab-847">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="f0aab-848">Tuttavia, sarà necessario aggiungere le intestazioni di colonna appropriate in base alle informazioni disponibili in [Formato del log di Analisi archiviazione](http://msdn.microsoft.com/library/azure/hh343259.aspx) e [Schema di tabella della metrica di Analisi archiviazione](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0aab-848">However, you will need to add appropriate column headings based in the information at [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) and [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

<span data-ttu-id="f0aab-849">Per importare i dati della registrazione dell'archiviazione in Excel dopo il download dall'archiviazione BLOB:</span><span class="sxs-lookup"><span data-stu-id="f0aab-849">To import your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="f0aab-850">Nel menu **Dati** fare clic su **Da testo**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-850">On the **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="f0aab-851">Sfogliare fino al file di log da visualizzare e scegliere **Importa**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-851">Browse to the log file you want to view and click **Import**.</span></span>
* <span data-ttu-id="f0aab-852">Nel passaggio 1 dell'**Importazione guidata testo**, selezionare **Delimitato**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-852">On step 1 of the **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="f0aab-853">Nel passaggio 1 dell'**Importazione guidata testo**, selezionare **Punto e virgola** come delimitatore unico e scegliere le virgolette doppie come **Qualificatore di testo**.</span><span class="sxs-lookup"><span data-stu-id="f0aab-853">On step 1 of the **Text Import Wizard**, select **Semicolon** as the only delimiter and choose double-quote as the **Text qualifier**.</span></span> <span data-ttu-id="f0aab-854">Fare clic su **Fine** e scegliere il punto in cui inserire i dati nella cartella di lavoro.</span><span class="sxs-lookup"><span data-stu-id="f0aab-854">Then click **Finish** and choose where to place the data in your workbook.</span></span>

### <span data-ttu-id="f0aab-855"><a name="appendix-5"></a>Appendice 5: Monitoraggio con Application Insights per Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="f0aab-855"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="f0aab-856">È possibile usare la funzionalità Application Insights per Visual Studio Team Services come parte del monitoraggio delle prestazioni e della disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f0aab-856">You can also use the Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="f0aab-857">Questo strumento consente di:</span><span class="sxs-lookup"><span data-stu-id="f0aab-857">This tool can:</span></span>

* <span data-ttu-id="f0aab-858">Assicurarsi che il servizio Web sia disponibile e reattivo.</span><span class="sxs-lookup"><span data-stu-id="f0aab-858">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="f0aab-859">Indipendentemente dal fatto che l'applicazione sia un sito Web o un'app per dispositivo che usa un servizio Web, può testare l'URL a intervalli di pochi minuti da località di tutto il mondo e indicare se è presente un problema.</span><span class="sxs-lookup"><span data-stu-id="f0aab-859">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around the world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="f0aab-860">Diagnosticare rapidamente eventuali problemi di prestazioni o eccezioni del servizio Web.</span><span class="sxs-lookup"><span data-stu-id="f0aab-860">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="f0aab-861">Sapere se la CPU o altre risorse vengono estese, ricavare analisi dello stack dalle eccezioni ed eseguire facilmente la ricerca delle tracce nei log.</span><span class="sxs-lookup"><span data-stu-id="f0aab-861">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="f0aab-862">Se le prestazioni dell'app scendono al di sotto di limiti accettabili, verrà inviato un messaggio di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="f0aab-862">If the app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="f0aab-863">L'utente può monitorare i servizi Web sia .NET che Java.</span><span class="sxs-lookup"><span data-stu-id="f0aab-863">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="f0aab-864">Ulteriori informazioni sono disponibili in [Informazioni su Azure Application Insights](../../application-insights/app-insights-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f0aab-864">You can find more information at [What is Application Insights?](../../application-insights/app-insights-overview.md).</span></span>

<!--Anchors-->
[Introduzione]: #introduction
[Organizzazione di questa guida]: #how-this-guide-is-organized

[Monitoraggio del servizio di archiviazione]: #monitoring-your-storage-service
[Monitoraggio dello stato del servizio]: #monitoring-service-health
[Monitoraggio della capacità]: #monitoring-capacity
[Monitoraggio della disponibilità]: #monitoring-availability
[Monitoraggio delle prestazioni]: #monitoring-performance

[Diagnosi dei problemi di archiviazione]: #diagnosing-storage-issues
[Problemi di stato del servizio]: #service-health-issues
[Problemi di prestazioni]: #performance-issues
[Diagnostica degli errori]: #diagnosing-errors
[Problemi dell'emulatore di archiviazione]: #storage-emulator-issues
[Strumenti di registrazione dell'archiviazione]: #storage-logging-tools
[Uso degli strumenti di registrazione in rete]: #using-network-logging-tools

[Traccia end-to-end]: #end-to-end-tracing
[Correlazione dei dati di log]: #correlating-log-data
[ID richiesta client]: #client-request-id
[ID richiesta server]: #server-request-id
[Timestamp]: #timestamps

[Guida alla risoluzione dei problemi]: #troubleshooting-guidance
[Le metriche indicano un valore AverageE2ELatency alto e un valore AverageServerLatency basso]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency
[Le metriche indicano un valore AverageE2ELatency basso e un valore AverageServerLatency basso, ma il client riscontra una latenza elevata]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency
[Le metriche indicano un valore AverageServerLatency alto]: #metrics-show-high-AverageServerLatency
[Si stanno verificando ritardi imprevisti nel recapito dei messaggi di una coda]: #you-are-experiencing-unexpected-delays-in-message-delivery

[Le metriche indicano un aumento di PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError
[Aumento temporaneo di PercentThrottlingError]: #transient-increase-in-PercentThrottlingError
[Aumento permanente di PercentThrottlingError]: #permanent-increase-in-PercentThrottlingError
[Le metriche indicano un aumento di PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError
[Le metriche indicano un aumento di PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError

[Il client sta ricevendo messaggi HTTP 403 (Accesso negato)]: #the-client-is-receiving-403-messages
[Il client sta ricevendo messaggi HTTP 404 (Non trovato)]: #the-client-is-receiving-404-messages
[Il client o un altro processo ha eliminato in precedenza l'oggetto]: #client-previously-deleted-the-object
[Si è verificato un problema di autenticazione della firma di accesso condiviso]: #SAS-authorization-issue
[Il codice JavaScript lato client non è autorizzato ad accedere all'oggetto]: #JavaScript-code-does-not-have-permission
[Errore della rete]: #network-failure
[Il client sta ricevendo messaggi HTTP 409 (Conflitto)]: #the-client-is-receiving-409-messages

[Le metriche indicano un valore PercentSuccess basso o le voci del log di analisi contengono operazioni con stato della transazione ClientOtherErrors]: #metrics-show-low-percent-success
[Le metriche della capacità indicano un aumento imprevisto dell'uso della capacità di archiviazione]: #capacity-metrics-show-an-unexpected-increase
[Si stanno verificando riavvii imprevisti delle macchine virtuali con un numero elevato di VHD allegati]: #you-are-experiencing-unexpected-reboots
[Il problema è dovuto all'uso dell'emulatore di archiviazione per attività di sviluppo o test]: #your-issue-arises-from-using-the-storage-emulator
[La funzionalità "X" non funziona nell'emulatore di archiviazione]: #feature-X-is-not-working
[Un messaggio indica che il valore di una delle intestazioni HTTP non è nel formato corretto quando si usa l'emulatore di archiviazione]: #error-HTTP-header-not-correct-format
[L'esecuzione dell'emulatore di archiviazione richiede privilegi amministrativi]: #storage-emulator-requires-administrative-privileges
[Si stanno verificando problemi di installazione di Azure SDK per .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK
[Si è verificato un problema diverso con un servizio di archiviazione]: #you-have-a-different-issue-with-a-storage-service

[Appendici]: #appendices
[Appendice 1: Uso di Fiddler per l'acquisizione del traffico HTTP e HTTPS]: #appendix-1
[Appendice 2: Uso di Wireshark per l'acquisizione del traffico di rete]: #appendix-2
[Appendice 3: Uso di Microsoft Message Analyzer per l'acquisizione del traffico di rete]: #appendix-3
[Appendice 4: Uso di Excel per la visualizzazione di metriche e dati di log]: #appendix-4
[Appendice 5: Monitoraggio con Application Insights per Visual Studio Team Services]: #appendix-5

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting/overview.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-2.png
