---
title: Regole firewall per Database di Azure per il server PostgreSQL | Microsoft Docs
description: Descrive le regole firewall per il Database di Azure per il server PostgreSQL.
services: postgresql
author: jasonwhowell
ms.author: jasonh
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 1d46a4434c483c3612a9a7b4cdef718d6dc3e765
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-for-postgresql-server-firewall-rules"></a><span data-ttu-id="8125a-103">Regole firewall per Database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="8125a-103">Azure Database for PostgreSQL Server firewall rules</span></span>
<span data-ttu-id="8125a-104">I firewall impediscono tutti i server di database di access tooyour finché non si specifica quali computer dispongono di autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="8125a-104">Firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="8125a-105">firewall Hello concede server toohello accesso in base a hello provenienti dall'indirizzo IP di ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="8125a-105">hello firewall grants access toohello server based on hello originating IP address of each request.</span></span>
<span data-ttu-id="8125a-106">tooconfigure il firewall, creare regole del firewall che specificano intervalli di indirizzi IP accettabili.</span><span class="sxs-lookup"><span data-stu-id="8125a-106">tooconfigure your firewall, you create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="8125a-107">È possibile creare regole del firewall a livello di server hello.</span><span class="sxs-lookup"><span data-stu-id="8125a-107">You can create firewall rules at hello server level.</span></span>

<span data-ttu-id="8125a-108">**Regole del firewall:** queste regole abilitare tooaccess client l'intero Database di Azure per PostgreSQL Server, vale a dire tutti i database all'interno di hello hello stesso server logico.</span><span class="sxs-lookup"><span data-stu-id="8125a-108">**Firewall rules:** These rules enable clients tooaccess your entire Azure Database for PostgreSQL Server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="8125a-109">Regole del firewall a livello di server possono essere configurate usando hello portale di Azure o i comandi CLI di Azure.</span><span class="sxs-lookup"><span data-stu-id="8125a-109">Server-level firewall rules can be configured by using hello Azure portal or using Azure CLI commands.</span></span> <span data-ttu-id="8125a-110">le regole firewall di livello server toocreate, è necessario essere proprietario della sottoscrizione hello o un collaboratore alla sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="8125a-110">toocreate server-level firewall rules, you must be hello subscription owner or a subscription contributor.</span></span>

## <a name="firewall-overview"></a><span data-ttu-id="8125a-111">Panoramica del firewall</span><span class="sxs-lookup"><span data-stu-id="8125a-111">Firewall overview</span></span>
<span data-ttu-id="8125a-112">Per impostazione predefinita, tutti i database access tooyour Database di Azure per server PostgreSQL è bloccato dal firewall hello.</span><span class="sxs-lookup"><span data-stu-id="8125a-112">All database access tooyour Azure Database for PostgreSQL server is blocked by hello firewall by default.</span></span> <span data-ttu-id="8125a-113">toobegin utilizzando il server da un altro computer, è necessario toospecify uno o più a livello di server firewall regole tooenable accesso tooyour server.</span><span class="sxs-lookup"><span data-stu-id="8125a-113">toobegin using your server from another computer, you need toospecify one or more server-level firewall rules tooenable access tooyour server.</span></span> <span data-ttu-id="8125a-114">Utilizzare toospecify di regole firewall hello quale indirizzo IP compreso tra tooallow Internet hello.</span><span class="sxs-lookup"><span data-stu-id="8125a-114">Use hello firewall rules toospecify which IP address ranges from hello Internet tooallow.</span></span> <span data-ttu-id="8125a-115">Accesso toohello sito Web del portale Azure stesso non è interessata da regole del firewall hello.</span><span class="sxs-lookup"><span data-stu-id="8125a-115">Access toohello Azure portal website itself is not impacted by hello firewall rules.</span></span>
<span data-ttu-id="8125a-116">Hello di tentativi di connessione da Internet e Azure deve superare il firewall hello prima di poter raggiungere il PostgreSQL Database, come illustrato nel seguente diagramma hello:</span><span class="sxs-lookup"><span data-stu-id="8125a-116">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your PostgreSQL Database, as shown in hello following diagram:</span></span>

![Flusso di esempio del funzionamento di firewall hello](media/concepts-firewall-rules/1-firewall-concept.png)

## <a name="connecting-from-hello-internet"></a><span data-ttu-id="8125a-118">Connessione da Internet hello</span><span class="sxs-lookup"><span data-stu-id="8125a-118">Connecting from hello Internet</span></span>
<span data-ttu-id="8125a-119">Le regole del firewall a livello di server applicano tooall database hello Azure Database per server PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="8125a-119">Server-level firewall rules apply tooall databases on hello Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="8125a-120">Se l'indirizzo IP hello della richiesta di hello è in uno degli intervalli di hello specificati nelle regole del firewall a livello di server hello, connessione hello viene concessa.</span><span class="sxs-lookup"><span data-stu-id="8125a-120">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span>
<span data-ttu-id="8125a-121">Se l'indirizzo IP hello della richiesta di hello non è presente all'interno di intervalli hello specificata in una delle hello a livello di database o delle regole del firewall a livello di server, hello richiesta di connessione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="8125a-121">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>
<span data-ttu-id="8125a-122">Ad esempio, se l'applicazione si connette con il driver JDBC per PostgreSQL, è possibile riscontrare questo errore durante il tentativo di tooconnect quando hello firewall blocchi la connessione hello.</span><span class="sxs-lookup"><span data-stu-id="8125a-122">For example, if your application connects with JDBC driver for PostgreSQL, you may encounter this error attempting tooconnect when hello firewall is blocking hello connection.</span></span>
> <span data-ttu-id="8125a-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: nessuna voce pg\_hba.conf per l'host "123.45.67.890", utente "adminuser", database "postgresql", SSL</span><span class="sxs-lookup"><span data-stu-id="8125a-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: no pg\_hba.conf entry for host "123.45.67.890", user "adminuser", database "postgresql", SSL</span></span>

## <a name="programmatically-managing-firewall-rules"></a><span data-ttu-id="8125a-124">Gestione di regole del firewall a livello di programmazione</span><span class="sxs-lookup"><span data-stu-id="8125a-124">Programmatically managing firewall rules</span></span>
<span data-ttu-id="8125a-125">Inoltre toohello portale di Azure, firewall, le regole possono essere gestiti a livello di programmazione utilizzando CLI di Azure.</span><span class="sxs-lookup"><span data-stu-id="8125a-125">In addition toohello Azure portal, firewall rules can be managed programmatically using Azure CLI.</span></span>
<span data-ttu-id="8125a-126">Vedere anche [Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md) (Creare e gestire regole firewall per il Database di Azure per PostgreSQL tramite l'interfaccia della riga di comando di Azure)</span><span class="sxs-lookup"><span data-stu-id="8125a-126">See also [Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md)</span></span>

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="8125a-127">Risoluzione dei problemi di firewall del database hello</span><span class="sxs-lookup"><span data-stu-id="8125a-127">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="8125a-128">Considerare i seguenti punti di accesso toohello Database di Microsoft Azure per il servizio PostgreSQL Server non comportarsi come previsto hello:</span><span class="sxs-lookup"><span data-stu-id="8125a-128">Consider hello following points when access toohello Microsoft Azure Database for PostgreSQL Server service does not behave as you expect:</span></span>

* <span data-ttu-id="8125a-129">**Elenco Consenti toohello le modifiche non sono state applicate ancora:** potrebbero essere presenti in quanto un ritardo di cinque minuti per la modifica toohello Database di Azure per effetto di tootake configurazione firewall PostgreSQL Server.</span><span class="sxs-lookup"><span data-stu-id="8125a-129">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure Database for PostgreSQL Server firewall configuration tootake effect.</span></span>

* <span data-ttu-id="8125a-130">**account di accesso Hello non è autorizzato o è stata utilizzata una password errata:** se un account di accesso non dispone di autorizzazioni sul Database Azure hello per PostgreSQL server o hello password utilizzata non è corretta, hello toohello connessione Database di Azure per server PostgreSQL è negato.</span><span class="sxs-lookup"><span data-stu-id="8125a-130">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure Database for PostgreSQL server or hello password used is incorrect, hello connection toohello Azure Database for PostgreSQL server is denied.</span></span> <span data-ttu-id="8125a-131">Creazione di un'impostazione del firewall fornisce solo i client con un'opportunità tooattempt connessione server tooyour; ogni client dovrà fornire le credenziali di sicurezza necessarie hello.</span><span class="sxs-lookup"><span data-stu-id="8125a-131">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span>

<span data-ttu-id="8125a-132">Ad esempio, un client di JDBC hello il seguente errore ammesso.</span><span class="sxs-lookup"><span data-stu-id="8125a-132">For example, using a JDBC client, hello following error may appear.</span></span>
> <span data-ttu-id="8125a-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: autenticazione della password non riuscita per l'utente "yourusername"</span><span class="sxs-lookup"><span data-stu-id="8125a-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "yourusername"</span></span>

* <span data-ttu-id="8125a-134">**Indirizzo IP dinamico:** se si dispone di una connessione Internet con impostazione di indirizzi IP dinamici e si verificano problemi di comunicazione attraverso il firewall hello, è possibile provare una delle seguenti soluzioni hello:</span><span class="sxs-lookup"><span data-stu-id="8125a-134">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>

* <span data-ttu-id="8125a-135">Richiedere il Provider di servizi Internet (ISP) per l'intervallo di indirizzi IP hello assegnato tooyour i computer client che hello di accesso ai Database di Azure per PostgreSQL Server e quindi aggiungere l'intervallo di indirizzi IP hello come una regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="8125a-135">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure Database for PostgreSQL Server, and then add hello IP address range as a firewall rule.</span></span>

* <span data-ttu-id="8125a-136">Ottenere indirizzi IP statici per i computer client e quindi aggiungere gli indirizzi IP hello come regole del firewall.</span><span class="sxs-lookup"><span data-stu-id="8125a-136">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8125a-137">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="8125a-137">Next steps</span></span>
<span data-ttu-id="8125a-138">Per informazioni sulla creazione di regole del firewall a livello di server e di database, vedere:</span><span class="sxs-lookup"><span data-stu-id="8125a-138">For articles on creating server-level and database-level firewall rules, see:</span></span>
* [<span data-ttu-id="8125a-139">Creare e gestire i Database di Azure per le regole firewall PostgreSQL utilizzando hello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="8125a-139">Create and manage Azure Database for PostgreSQL firewall rules using hello Azure portal</span></span>](howto-manage-firewall-using-portal.md)
* <span data-ttu-id="8125a-140">[Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md) (Creare e gestire regole firewall del Database di Azure per PostgreSQL tramite l'interfaccia della riga di comando di Azure)</span><span class="sxs-lookup"><span data-stu-id="8125a-140">[Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md)</span></span>