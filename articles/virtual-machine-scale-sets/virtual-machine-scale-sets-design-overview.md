---
title: "Considerazioni per il set di scalabilità macchina virtuale di Azure aaaDesign | Documenti Microsoft"
description: "Considerazioni sulla progettazione per i set di scalabilità di macchine virtuali di Azure"
keywords: "macchina virtuale linux,set di scalabilità macchine virtuali"
services: virtual-machine-scale-sets
documentationcenter: 
author: gatneil
manager: madhana
editor: tysonn
tags: azure-resource-manager
ms.assetid: c27c6a59-a0ab-4117-a01b-42b049464ca1
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/01/2017
ms.author: negat
ms.openlocfilehash: f8644d36fe5903bd4b74df26dca5dc3211ee3516
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="design-considerations-for-scale-sets"></a><span data-ttu-id="d633c-104">Considerazioni sulla progettazione per i set di scalabilità</span><span class="sxs-lookup"><span data-stu-id="d633c-104">Design Considerations For Scale Sets</span></span>
<span data-ttu-id="d633c-105">Questo argomento descrive una serie di considerazioni di progettazione per i set di scalabilità di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d633c-105">This topic discusses design considerations for Virtual Machine Scale Sets.</span></span> <span data-ttu-id="d633c-106">Per informazioni sui set di scalabilità di macchine virtuali, vedere troppo[Panoramica set di scalabilità della macchina virtuale](virtual-machine-scale-sets-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d633c-106">For information about what Virtual Machine Scale Sets are, refer too[Virtual Machine Scale Sets Overview](virtual-machine-scale-sets-overview.md).</span></span>

## <a name="when-toouse-scale-sets-instead-of-virtual-machines"></a><span data-ttu-id="d633c-107">Quando la scala toouse imposta anziché le macchine virtuali?</span><span class="sxs-lookup"><span data-stu-id="d633c-107">When toouse scale sets instead of virtual machines?</span></span>
<span data-ttu-id="d633c-108">I set di scalabilità sono in genere utili per distribuire un'infrastruttura a disponibilità elevata che include un set di computer con una configurazione simile.</span><span class="sxs-lookup"><span data-stu-id="d633c-108">Generally, scale sets are useful for deploying highly available infrastructure where a set of machines have similar configuration.</span></span> <span data-ttu-id="d633c-109">Tuttavia, alcune funzionalità sono disponibili soltanto nei set di scalabilità, mentre altre sono disponibili solo nelle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d633c-109">However, some features are only available in scale sets while other features are only available in VMs.</span></span> <span data-ttu-id="d633c-110">Ordinare toomake una decisione consapevole su quando toouse ogni tecnologia, occorre prima verranno descritte alcune delle funzionalità di hello comunemente utilizzato che sono disponibili in set di scalabilità ma non le macchine virtuali:</span><span class="sxs-lookup"><span data-stu-id="d633c-110">In order toomake an informed decision about when toouse each technology, we should first take a look at some of hello commonly used features that are available in scale sets but not VMs:</span></span>

### <a name="scale-set-specific-features"></a><span data-ttu-id="d633c-111">Funzionalità specifiche dei set di scalabilità</span><span class="sxs-lookup"><span data-stu-id="d633c-111">Scale set-specific features</span></span>

- <span data-ttu-id="d633c-112">Dopo aver specificato una configurazione di set di scalabilità hello, è possibile limitarsi ad aggiornare hello "capacità" proprietà toodeploy più macchine virtuali in parallelo.</span><span class="sxs-lookup"><span data-stu-id="d633c-112">Once you specify hello scale set configuration, you can simply update hello "capacity" property toodeploy more VMs in parallel.</span></span> <span data-ttu-id="d633c-113">Questo è molto più semplice rispetto alla scrittura di un tooorchestrate script distribuzione molti singole macchine virtuali in parallelo.</span><span class="sxs-lookup"><span data-stu-id="d633c-113">This is much simpler than writing a script tooorchestrate deploying many individual VMs in parallel.</span></span>
- <span data-ttu-id="d633c-114">È possibile [tooautomatically di scalabilità automatica di Azure usare ridimensionare un set di scalabilità](./virtual-machine-scale-sets-autoscale-overview.md) ma non per le singole macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d633c-114">You can [use Azure Autoscale tooautomatically scale a scale set](./virtual-machine-scale-sets-autoscale-overview.md) but not individual VMs.</span></span>
- <span data-ttu-id="d633c-115">È possibile [ricreare l'immagine delle macchine virtuali del set di scalabilità](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) ma [non delle singole macchine virtuali](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span><span class="sxs-lookup"><span data-stu-id="d633c-115">You can [reimage scale set VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) but [not individual VMs](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span></span>
- <span data-ttu-id="d633c-116">È possibile [eseguire il provisioning eccessivo](./virtual-machine-scale-sets-design-overview.md) delle macchine virtuali del set di scalabilità per una maggiore affidabilità e tempi di distribuzione più rapidi.</span><span class="sxs-lookup"><span data-stu-id="d633c-116">You can [overprovision](./virtual-machine-scale-sets-design-overview.md) scale set VMs for increased reliability and quicker deployment times.</span></span> <span data-ttu-id="d633c-117">Non è possibile farlo con singole macchine virtuali, a meno che non si scrive codice personalizzato toodo questo.</span><span class="sxs-lookup"><span data-stu-id="d633c-117">You cannot do this with individual VMs unless you write custom code toodo this.</span></span>
- <span data-ttu-id="d633c-118">È possibile specificare un [l'aggiornamento di criteri](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake è facile tooroll di aggiornamenti tra le macchine virtuali nel set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="d633c-118">You can specify an [upgrade policy](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake it easy tooroll out upgrades across VMs in your scale set.</span></span> <span data-ttu-id="d633c-119">Con le singole macchine virtuali, è necessario orchestrare gli aggiornamenti manualmente.</span><span class="sxs-lookup"><span data-stu-id="d633c-119">With individual VMs, you must orchestrate updates yourself.</span></span>

### <a name="vm-specific-features"></a><span data-ttu-id="d633c-120">Funzionalità specifiche delle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="d633c-120">VM-specific features</span></span>

<span data-ttu-id="d633c-121">In hello invece, alcune funzionalità sono disponibili solo in macchine virtuali (almeno per hello momento):</span><span class="sxs-lookup"><span data-stu-id="d633c-121">On hello other hand, some features are only available in VMs (at least for hello time being):</span></span>

- <span data-ttu-id="d633c-122">È possibile collegare dati dischi toospecific singole macchine virtuali, ma i dischi dati collegati sono configurati per tutte le macchine virtuali in un set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="d633c-122">You can attach data disks toospecific individual VMs, but attached data disks are configured for all VMs in a scale set.</span></span>
- <span data-ttu-id="d633c-123">È possibile collegare i dischi di dati non vuoto tooindividual macchine virtuali ma non le macchine virtuali in un set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="d633c-123">You can attach non-empty data disks tooindividual VMs but not VMs in a scale set.</span></span>
- <span data-ttu-id="d633c-124">È possibile acquisire uno snapshot di una singola macchina virtuale, ma non di una macchina virtuale in un set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="d633c-124">You can snapshot an individual VM but not a VM in a scale set.</span></span>
- <span data-ttu-id="d633c-125">È possibile acquisire un'immagine da una singola macchina virtuale, ma non da una macchina virtuale in un set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="d633c-125">You can capture an image from an individual VM but not from a VM in a scale set.</span></span>
- <span data-ttu-id="d633c-126">È possibile eseguire la migrazione di una macchina virtuale di singoli dai dischi toomanaged dischi nativi, ma non per le macchine virtuali in un set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="d633c-126">You can migrate an individual VM from native disks toomanaged disks, but you cannot do this for VMs in a scale set.</span></span>
- <span data-ttu-id="d633c-127">È possibile assegnare gli indirizzi IP pubblici IPv6 NIC VM tooindividual ma non è possibile farlo per le macchine virtuali in un set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="d633c-127">You can assign IPv6 public IP addresses tooindividual VM nics but cannot do so for VMs in a scale set.</span></span> <span data-ttu-id="d633c-128">Si noti che è possibile assegnare gli indirizzi IP pubblici IPv6 bilanciamento del carico tooload davanti entrambe singole macchine virtuali o set di scalabilità di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d633c-128">Note that you can assign IPv6 public IP addresses tooload balancers in front of either individual VMs or scale set VMs.</span></span>

## <a name="storage"></a><span data-ttu-id="d633c-129">Archiviazione</span><span class="sxs-lookup"><span data-stu-id="d633c-129">Storage</span></span>

### <a name="scale-sets-with-azure-managed-disks"></a><span data-ttu-id="d633c-130">Set di scalabilità con Azure Managed Disks</span><span class="sxs-lookup"><span data-stu-id="d633c-130">Scale sets with Azure Managed Disks</span></span>
<span data-ttu-id="d633c-131">Invece che con i tradizionali account di archiviazione di Azure, i set di scalabilità possono essere creati con [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d633c-131">Scale sets can be created with [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md) instead of traditional Azure storage accounts.</span></span> <span data-ttu-id="d633c-132">I dischi gestiti forniscono hello seguenti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="d633c-132">Managed Disks provide hello following benefits:</span></span>
- <span data-ttu-id="d633c-133">Non è toopre-creare un set di account di archiviazione di Azure per le macchine virtuali del set di scalabilità di hello.</span><span class="sxs-lookup"><span data-stu-id="d633c-133">You do not have toopre-create a set of Azure storage accounts for hello scale set VMs.</span></span>
- <span data-ttu-id="d633c-134">È possibile definire [i dischi dati collegati](virtual-machine-scale-sets-attached-disks.md) impostato per la scala Ciao macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d633c-134">You can define [attached data disks](virtual-machine-scale-sets-attached-disks.md) for hello VMs in your scale set.</span></span>
- <span data-ttu-id="d633c-135">Set di scalabilità può essere configurato troppo[supportano backup too1, 000 macchine virtuali in un set di](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="d633c-135">Scale sets can be configured too[support up too1,000 VMs in a set](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="d633c-136">Se si dispone di un modello esistente, è anche possibile [aggiornare hello modello toouse dischi gestiti](virtual-machine-scale-sets-convert-template-to-md.md).</span><span class="sxs-lookup"><span data-stu-id="d633c-136">If you have an existing template, you can also [update hello template toouse Managed Disks](virtual-machine-scale-sets-convert-template-to-md.md).</span></span>

### <a name="user-managed-storage"></a><span data-ttu-id="d633c-137">Archiviazione gestita dall'utente</span><span class="sxs-lookup"><span data-stu-id="d633c-137">User-managed Storage</span></span>
<span data-ttu-id="d633c-138">Un set di scalabilità non è definito con dischi gestiti di Azure si basa sui dischi del sistema operativo hello delle toostore di account di archiviazione creati dall'utente di hello macchine virtuali nel set di hello.</span><span class="sxs-lookup"><span data-stu-id="d633c-138">A scale set that is not defined with Azure Managed Disks relies on user-created storage accounts toostore hello OS disks of hello VMs in hello set.</span></span> <span data-ttu-id="d633c-139">È consigliabile un rapporto di 20 macchine virtuali per ogni account di archiviazione o meno i/o massimo tooachieve nonché sfruttare _overprovisioning_ (vedere sotto).</span><span class="sxs-lookup"><span data-stu-id="d633c-139">A ratio of 20 VMs per storage account or less is recommended tooachieve maximum IO and also take advantage of _overprovisioning_ (see below).</span></span> <span data-ttu-id="d633c-140">È inoltre consigliabile che la distribuzione caratteri inizio hello di nomi di account di archiviazione hello tra alfabeto hello.</span><span class="sxs-lookup"><span data-stu-id="d633c-140">It is also recommended that you spread hello beginning characters of hello storage account names across hello alphabet.</span></span> <span data-ttu-id="d633c-141">Questo consente di suddividere il carico tra diversi sistemi interni.</span><span class="sxs-lookup"><span data-stu-id="d633c-141">Doing so helps spread load across different internal systems.</span></span> 


## <a name="overprovisioning"></a><span data-ttu-id="d633c-142">Provisioning eccessivo</span><span class="sxs-lookup"><span data-stu-id="d633c-142">Overprovisioning</span></span>
<span data-ttu-id="d633c-143">Attualmente scala imposta predefinito troppo "overprovisioning" le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d633c-143">Scale sets currently default too"overprovisioning" VMs.</span></span> <span data-ttu-id="d633c-144">Con provisioning eccessivo attivata, scala hello effettivamente rotazioni di più macchine virtuali che è richiesto per imposta, quindi Elimina hello ulteriori macchine virtuali, una volta hello richiesto numero di macchine virtuali sono correttamente il provisioning.</span><span class="sxs-lookup"><span data-stu-id="d633c-144">With overprovisioning turned on, hello scale set actually spins up more VMs than you asked for, then deletes hello extra VMs once hello requested number of VMs are successfully provisioned.</span></span> <span data-ttu-id="d633c-145">Il provisioning eccessivo migliora le percentuali di riuscita del provisioning e riduce i tempi di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d633c-145">Overprovisioning improves provisioning success rates and reduces deployment time.</span></span> <span data-ttu-id="d633c-146">La fatturazione per hello ulteriori macchine virtuali e non vengono conteggiati per i limiti di quota.</span><span class="sxs-lookup"><span data-stu-id="d633c-146">You are not billed for hello extra VMs, and they do not count toward your quota limits.</span></span>

<span data-ttu-id="d633c-147">L'overprovisioning migliorare provisioning percentuali di successo, può causare confusione per un'applicazione che viene progettato non toohandle ulteriori macchine virtuali visualizzato e quindi scomparire.</span><span class="sxs-lookup"><span data-stu-id="d633c-147">While overprovisioning does improve provisioning success rates, it can cause confusing behavior for an application that is not designed toohandle extra VMs appearing and then disappearing.</span></span> <span data-ttu-id="d633c-148">tooturn overprovisioning off, verificare di aver hello successivi nel modello di stringa: `"overprovision": "false"`.</span><span class="sxs-lookup"><span data-stu-id="d633c-148">tooturn overprovisioning off, ensure you have hello following string in your template: `"overprovision": "false"`.</span></span> <span data-ttu-id="d633c-149">Ulteriori informazioni, vedere hello [documentazione dell'API REST di impostare la scala](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span><span class="sxs-lookup"><span data-stu-id="d633c-149">More details can be found in hello [Scale Set REST API documentation](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span></span>

<span data-ttu-id="d633c-150">Se il set di scalabilità utilizza l'archiviazione gestita dall'utente, e si disattiva overprovisioning, è possibile avere più di 20 macchine virtuali per ogni account di archiviazione, ma non è consigliabile toogo sopra 40 per motivi di prestazioni dei / o.</span><span class="sxs-lookup"><span data-stu-id="d633c-150">If your scale set uses user-managed storage, and you turn off overprovisioning, you can have more than 20 VMs per storage account, but it is not recommended toogo above 40 for IO performance reasons.</span></span> 

## <a name="limits"></a><span data-ttu-id="d633c-151">Limiti</span><span class="sxs-lookup"><span data-stu-id="d633c-151">Limits</span></span>
<span data-ttu-id="d633c-152">Un set di scalabilità basata su un'immagine del Marketplace (noto anche come un'immagine della piattaforma) e configurato toouse che dischi gestiti di Azure supporta una capacità di backup too1, 000 macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d633c-152">A scale set built on a Marketplace image (also known as a platform image) and configured toouse Azure Managed Disks supports a capacity of up too1,000 VMs.</span></span> <span data-ttu-id="d633c-153">Se si configurano il toosupport di set di scalabilità di macchine virtuali di più di 100, non tutte le operazioni scenari hello stesso (ad esempio il bilanciamento del carico).</span><span class="sxs-lookup"><span data-stu-id="d633c-153">If you configure your scale set toosupport more than 100 VMs, not all scenarios work hello same (for example load balancing).</span></span> <span data-ttu-id="d633c-154">Per altre informazioni, vedere [Uso di set di scalabilità di macchine virtuali di grandi dimensioni](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="d633c-154">For more information, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="d633c-155">Una scala imposta configurata con account di archiviazione gestita dall'utente è attualmente limitata too100 VM e 5 account di archiviazione sono consigliate per la scala.</span><span class="sxs-lookup"><span data-stu-id="d633c-155">A scale set configured with user-managed storage accounts is currently limited too100 VMs (and 5 storage accounts are recommended for this scale).</span></span>

<span data-ttu-id="d633c-156">Un set di scalabilità basato su un'immagine personalizzata (uno creato dall'utente) può avere una capacità di backup di macchine virtuali too100 quando configurate con dischi gestito di Azure.</span><span class="sxs-lookup"><span data-stu-id="d633c-156">A scale set built on a custom image (one built by you) can have a capacity of up too100 VMs when configured with Azure Managed disks.</span></span> <span data-ttu-id="d633c-157">Se il set di scalabilità di hello è configurato con account di archiviazione gestita dall'utente, è necessario creare tutti i file VHD di dischi del sistema operativo all'interno di un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="d633c-157">If hello scale set is configured with user-managed storage accounts, it must create all OS disk VHDs within one storage account.</span></span> <span data-ttu-id="d633c-158">Di conseguenza, massimo hello numero consigliato di macchine virtuali in un set di scalabilità basato su un'immagine personalizzata e l'archiviazione gestita dall'utente è 20.</span><span class="sxs-lookup"><span data-stu-id="d633c-158">As a result, hello maximum recommended number of VMs in a scale set built on a custom image and user-managed storage is 20.</span></span> <span data-ttu-id="d633c-159">Se si disattiva overprovisioning, è possibile passare i too40.</span><span class="sxs-lookup"><span data-stu-id="d633c-159">If you turn off overprovisioning, you can go up too40.</span></span>

<span data-ttu-id="d633c-160">Per altre macchine virtuali superiore a quello consentono questi limiti, è necessario toodeploy scala più imposta come illustrato nella [questo modello](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span><span class="sxs-lookup"><span data-stu-id="d633c-160">For more VMs than these limits allow, you need toodeploy multiple scale sets as shown in [this template](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span></span>

