---
title: Monitoraggio livello di servizio dell'infrastruttura della piattaforma aaaAzure | Documenti Microsoft
description: Informazioni su eventi a livello di piattaforma e log utilizzato toomonitor e diagnosticare i cluster di Azure Service Fabric.
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/24/2017
ms.author: dekapur
ms.openlocfilehash: f8fb1c8b546e05c517ae12c91906acc04cd6eaa6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="platform-level-event-and-log-generation"></a><span data-ttu-id="fcba2-103">Generazione di eventi e log a livello piattaforma</span><span class="sxs-lookup"><span data-stu-id="fcba2-103">Platform level event and log generation</span></span>

## <a name="monitoring-hello-cluster"></a><span data-ttu-id="fcba2-104">Monitoraggio cluster hello</span><span class="sxs-lookup"><span data-stu-id="fcba2-104">Monitoring hello cluster</span></span>

<span data-ttu-id="fcba2-105">È importante toomonitor al livello toodetermine piattaforma hello o meno l'hardware e il cluster si comportino nel modo previsto.</span><span class="sxs-lookup"><span data-stu-id="fcba2-105">It is important toomonitor at hello platform level toodetermine whether or not your hardware and cluster are behaving as expected.</span></span> <span data-ttu-id="fcba2-106">Anche se Service Fabric è possibile mantenere le applicazioni in esecuzione durante un errore hardware, ma è comunque necessario toodiagnose se si verifica un errore in un'applicazione o nell'infrastruttura sottostante hello.</span><span class="sxs-lookup"><span data-stu-id="fcba2-106">Though Service Fabric can keep applications running during a hardware failure, but you still need toodiagnose whether an error is occurring in an application or in hello underlying infrastructure.</span></span> <span data-ttu-id="fcba2-107">È anche necessario monitorare il piano toobetter cluster per la capacità, contribuendo nelle decisioni sull'aggiunta o rimozione di hardware.</span><span class="sxs-lookup"><span data-stu-id="fcba2-107">You also should monitor your clusters toobetter plan for capacity, helping in decisions about adding or removing hardware.</span></span>

<span data-ttu-id="fcba2-108">Service Fabric fornisce cinque log diverso canali out-of-the-box che generano hello seguenti eventi:</span><span class="sxs-lookup"><span data-stu-id="fcba2-108">Service Fabric provides five different log channels out-of-the-box that generate hello following events:</span></span>

* <span data-ttu-id="fcba2-109">Canale operativo: operazioni di alto livello dell'infrastruttura di servizio e cluster hello, inclusi gli eventi per un nodo a presentarsi, una nuova applicazione distribuita, o un SF aggiornare rollback e così via.</span><span class="sxs-lookup"><span data-stu-id="fcba2-109">Operational channel: high-level operations performed by Service Fabric and hello cluster, including events for a node coming up, a new application being deployed, or a SF upgrade rollback, etc.</span></span>
* <span data-ttu-id="fcba2-110">Canale di informazioni operativo: report di integrità e decisioni di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="fcba2-110">Operational channel - detailed: health reports and load balancing decisions</span></span>
* <span data-ttu-id="fcba2-111">Canale messaggistica & dati: log critici e gli eventi generati messaggistica (attualmente solo hello ReverseProxy) e il percorso dei dati (modelli di servizi affidabili)</span><span class="sxs-lookup"><span data-stu-id="fcba2-111">Data & Messaging channel: critical logs and events generated in our messaging (currently only hello ReverseProxy) and data path (reliable services models)</span></span>
* <span data-ttu-id="fcba2-112">Canale messaggistica & dati - dettagliate: canale dettagliato che contiene tutti i registri non critici hello dai dati e di messaggistica in cluster hello (questo canale è un volume molto elevato di eventi)</span><span class="sxs-lookup"><span data-stu-id="fcba2-112">Data & Messaging channel - detailed: verbose channel that contains all hello non-critical logs from data and messaging in hello cluster (this channel has a very high volume of events)</span></span>   
* <span data-ttu-id="fcba2-113">[Eventi di Reliable Services](service-fabric-reliable-services-diagnostics.md): eventi specifici del modello di programmazione</span><span class="sxs-lookup"><span data-stu-id="fcba2-113">[Reliable Services events](service-fabric-reliable-services-diagnostics.md): programming model specific events</span></span>
* <span data-ttu-id="fcba2-114">[Eventi di Reliable Actors](service-fabric-reliable-actors-diagnostics.md): eventi e contatori delle prestazioni specifici del modello di programmazione</span><span class="sxs-lookup"><span data-stu-id="fcba2-114">[Reliable Actors events](service-fabric-reliable-actors-diagnostics.md): programming model specific events and performance counters</span></span>
* <span data-ttu-id="fcba2-115">Supporta i log: i registri di sistema generati da toobe solo di Service Fabric utilizzato da Microsoft, quando viene fornito supporto</span><span class="sxs-lookup"><span data-stu-id="fcba2-115">Support logs: system logs generated by Service Fabric only toobe used by us when providing support</span></span>

<span data-ttu-id="fcba2-116">Questi vari canali coprono la maggior parte delle hello piattaforma registrazione a livello di cui è consigliata.</span><span class="sxs-lookup"><span data-stu-id="fcba2-116">These various channels cover most of hello platform level logging that is recommended.</span></span> <span data-ttu-id="fcba2-117">livello piattaforma tooimprove registrazione, è consigliabile investire in una migliore comprensione hello modello di integrità e aggiungere i rapporti di stato personalizzati e aggiunta personalizzato **i contatori delle prestazioni** toobuild una conoscenza di hello in tempo reale impatto di i servizi e applicazioni in cluster hello.</span><span class="sxs-lookup"><span data-stu-id="fcba2-117">tooimprove platform level logging, consider investing in better understanding hello health model and adding custom health reports, and adding custom **Performance Counters** toobuild a real-time understanding of hello impact of your services and applications on hello cluster.</span></span>

### <a name="azure-service-fabric-health-and-load-reporting"></a><span data-ttu-id="fcba2-118">Creazione di report su integrità e carico di Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="fcba2-118">Azure Service Fabric health and load reporting</span></span>

<span data-ttu-id="fcba2-119">Service Fabric offre un modello di integrità specifico, descritto in dettaglio in questi articoli:</span><span class="sxs-lookup"><span data-stu-id="fcba2-119">Service Fabric has its own health model, which is described in detail in these articles:</span></span>
- [<span data-ttu-id="fcba2-120">Il monitoraggio dello stato dell'infrastruttura di introduzione tooService</span><span class="sxs-lookup"><span data-stu-id="fcba2-120">Introduction tooService Fabric health monitoring</span></span>](service-fabric-health-introduction.md)
- [<span data-ttu-id="fcba2-121">Creare report e verificare l'integrità dei servizi</span><span class="sxs-lookup"><span data-stu-id="fcba2-121">Report and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)
- [<span data-ttu-id="fcba2-122">Aggiungere report sull'integrità di Service Fabric personalizzati</span><span class="sxs-lookup"><span data-stu-id="fcba2-122">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)
- [<span data-ttu-id="fcba2-123">Come visualizzare i report sull'integrità di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="fcba2-123">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

<span data-ttu-id="fcba2-124">Il monitoraggio dello stato è critico toomultiple aspetti dell'esecuzione di un servizio.</span><span class="sxs-lookup"><span data-stu-id="fcba2-124">Health monitoring is critical toomultiple aspects of operating a service.</span></span> <span data-ttu-id="fcba2-125">Il monitoraggio dell'integrità è particolarmente importante quando Service Fabric esegue l'aggiornamento di un'applicazione denominata.</span><span class="sxs-lookup"><span data-stu-id="fcba2-125">Health monitoring is especially important when Service Fabric performs a named application upgrade.</span></span> <span data-ttu-id="fcba2-126">Dopo ogni dominio di aggiornamento del servizio hello è aggiornata e non è disponibile tooyour clienti, dominio di aggiornamento hello deve superare controlli di integrità prima distribuzione hello Sposta toohello dominio di aggiornamento successivo.</span><span class="sxs-lookup"><span data-stu-id="fcba2-126">After each upgrade domain of hello service is upgraded and is available tooyour customers, hello upgrade domain must pass health checks before hello deployment moves toohello next upgrade domain.</span></span> <span data-ttu-id="fcba2-127">Se non è possibile ottenere lo stato di integrità buono, distribuzione hello viene eseguito il rollback, in modo che un'applicazione hello è in uno stato valido noto.</span><span class="sxs-lookup"><span data-stu-id="fcba2-127">If good health status cannot be achieved, hello deployment is rolled back, so that hello application is in a known, good state.</span></span> <span data-ttu-id="fcba2-128">Anche se alcuni clienti possono essere influenzati prima di eseguire il rollback servizi hello, la maggior parte dei clienti non riscontrare un problema.</span><span class="sxs-lookup"><span data-stu-id="fcba2-128">Although some customers might be affected before hello services are rolled back, most customers won't experience an issue.</span></span> <span data-ttu-id="fcba2-129">Una risoluzione viene eseguita anche relativamente rapidamente e senza toowait per l'azione da un operatore umano.</span><span class="sxs-lookup"><span data-stu-id="fcba2-129">Also, a resolution occurs relatively quickly, and without having toowait for action from a human operator.</span></span> <span data-ttu-id="fcba2-130">Hello ulteriori controlli di integrità che sono incorporati nel codice, hello più flessibile, che il servizio è toodeployment problemi.</span><span class="sxs-lookup"><span data-stu-id="fcba2-130">hello more health checks that are incorporated into your code, hello more resilient your service is toodeployment issues.</span></span>

<span data-ttu-id="fcba2-131">Le metriche dal servizio hello segnala un altro aspetto dell'integrità del servizio.</span><span class="sxs-lookup"><span data-stu-id="fcba2-131">Another aspect of service health is reporting metrics from hello service.</span></span> <span data-ttu-id="fcba2-132">Le metriche sono importanti nell'infrastruttura del servizio poiché si tratta dell'utilizzo delle risorse toobalance utilizzato.</span><span class="sxs-lookup"><span data-stu-id="fcba2-132">Metrics are important in Service Fabric because they are used toobalance resource usage.</span></span> <span data-ttu-id="fcba2-133">Possono anche essere usate come un indicatore dell'integrità del sistema.</span><span class="sxs-lookup"><span data-stu-id="fcba2-133">Metrics also can be an indicator of system health.</span></span> <span data-ttu-id="fcba2-134">È ad esempio possibile che sia presente un'applicazione con molti servizi e che ogni istanza segnali una metrica relativa alle richieste al secondo.</span><span class="sxs-lookup"><span data-stu-id="fcba2-134">For example, you might have an application that has many services, and each instance reports a requests per second (RPS) metric.</span></span> <span data-ttu-id="fcba2-135">Se un servizio utilizza più risorse rispetto a un altro servizio, Service Fabric sposta le istanze del servizio cluster hello, l'utilizzo delle risorse anche toomaintain tootry.</span><span class="sxs-lookup"><span data-stu-id="fcba2-135">If one service is using more resources than another service, Service Fabric moves service instances around hello cluster, tootry toomaintain even resource utilization.</span></span> <span data-ttu-id="fcba2-136">Per una spiegazione più dettagliata del funzionamento dell'utilizzo delle risorse, vedere [Gestione dell'utilizzo delle risorse e del carico in Service Fabric con le metriche](service-fabric-cluster-resource-manager-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="fcba2-136">For a more detailed explanation of how resource utilization works, see [Manage resource consumption and load in Service Fabric with metrics](service-fabric-cluster-resource-manager-metrics.md).</span></span>

<span data-ttu-id="fcba2-137">Le metriche consentono anche di ottenere informazioni approfondite sulle prestazioni del servizio.</span><span class="sxs-lookup"><span data-stu-id="fcba2-137">Metrics also can help give you insight into how your service is performing.</span></span> <span data-ttu-id="fcba2-138">Nel corso del tempo, è possibile utilizzare toocheck metriche che servizio hello sta operando all'interno di parametri previsti.</span><span class="sxs-lookup"><span data-stu-id="fcba2-138">Over time, you can use metrics toocheck that hello service is operating within expected parameters.</span></span> <span data-ttu-id="fcba2-139">Se, ad esempio, le tendenze mostrano che alle 9.00 su hello lunedì mattina medio RPS è 1.000, quindi è possibile impostare un rapporto di stato che genera avvisi se hello RPS è inferiore a 500 o superiore 1.500.</span><span class="sxs-lookup"><span data-stu-id="fcba2-139">For example, if trends show that at 9 AM on Monday morning hello average RPS is 1,000, then you might set up a health report that alerts you if hello RPS is below 500 or above 1,500.</span></span> <span data-ttu-id="fcba2-140">Tutto ciò che potrebbe essere perfettamente correttamente, ma potrebbe essere utile toobe un aspetto assicurarsi che i clienti possano ottenere un'esperienza ottimale.</span><span class="sxs-lookup"><span data-stu-id="fcba2-140">Everything might be perfectly fine, but it might be worth a look toobe sure that your customers are having a great experience.</span></span> <span data-ttu-id="fcba2-141">Il servizio è possibile definire un set di metriche che possono essere restituiti per scopi di controllo di integrità, ma che non influiscono sul hello bilanciamento delle risorse del cluster di hello.</span><span class="sxs-lookup"><span data-stu-id="fcba2-141">Your service can define a set of metrics that can be reported for health check purposes, but that don't affect hello resource balancing of hello cluster.</span></span> <span data-ttu-id="fcba2-142">toodo toozero di peso metrico hello, questo set.</span><span class="sxs-lookup"><span data-stu-id="fcba2-142">toodo this, set hello metric weight toozero.</span></span> <span data-ttu-id="fcba2-143">È consigliabile iniziare tutte le metriche con un peso pari a zero e non aumenta il peso di hello fino a quando non si è certi di aver compreso ponderazione metriche hello influenza bilanciamento delle risorse per il cluster.</span><span class="sxs-lookup"><span data-stu-id="fcba2-143">We recommend that you start all metrics with a weight of zero, and not increase hello weight  until you are sure that you understand how weighting hello metrics affects resource balancing for your cluster.</span></span>

> [!TIP]
> <span data-ttu-id="fcba2-144">Non usare un numero eccessivo di metriche ponderate.</span><span class="sxs-lookup"><span data-stu-id="fcba2-144">Don't use too many weighted metrics.</span></span> <span data-ttu-id="fcba2-145">Può essere difficile toounderstand perché le istanze del servizio devono essere spostate per bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="fcba2-145">It can be difficult toounderstand why service instances are being moved around for balancing.</span></span> <span data-ttu-id="fcba2-146">Anche un numero ridotto di metriche può essere molto utile.</span><span class="sxs-lookup"><span data-stu-id="fcba2-146">A few metrics can go a long way!</span></span>

<span data-ttu-id="fcba2-147">Le informazioni che possono indicare hello integrità e le prestazioni dell'applicazione sono un candidato per i report di metrica e l'integrità.</span><span class="sxs-lookup"><span data-stu-id="fcba2-147">Any information that can indicate hello health and performance of your application is a candidate for metrics and health reports.</span></span> <span data-ttu-id="fcba2-148">Un contatore delle prestazioni della CPU può indicare l'uso di un nodo ma non consente di capire se un servizio specifico sia integro, poiché su quel nodo potrebbero essere in esecuzione più servizi.</span><span class="sxs-lookup"><span data-stu-id="fcba2-148">A CPU performance counter can tell you how your node is utilized, but it doesn't tell you whether a particular service is healthy, because multiple services might be running on a single node.</span></span> <span data-ttu-id="fcba2-149">Ma, metriche come RPS, gli elementi elaborati, e latenza richiesta tutti possa indicare l'integrità di hello di un servizio specifico.</span><span class="sxs-lookup"><span data-stu-id="fcba2-149">But, metrics like RPS, items processed, and request latency all can indicate hello health of a specific service.</span></span>

<span data-ttu-id="fcba2-150">integrità tooreport, utilizzare codice simile toothis:</span><span class="sxs-lookup"><span data-stu-id="fcba2-150">tooreport health, use code similar toothis:</span></span>

  ```csharp
    if (!result.HasValue)
    {
        HealthInformation healthInformation = new HealthInformation("ServiceCode", "StateDictionary", HealthState.Error);
        this.Partition.ReportInstanceHealth(healthInformation);
    }
  ```

<span data-ttu-id="fcba2-151">tooreport una metrica, usare codice simile toothis:</span><span class="sxs-lookup"><span data-stu-id="fcba2-151">tooreport a metric, use code similar toothis:</span></span>

  ```csharp
    this.Partition.ReportLoad(new List<LoadMetric> { new LoadMetric("MemoryInMb", 1234), new LoadMetric("metric1", 42) });
  ```

### <a name="service-fabric-support-logs"></a><span data-ttu-id="fcba2-152">Log di supporto di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="fcba2-152">Service Fabric support logs</span></span>

<span data-ttu-id="fcba2-153">Se è necessario toocontact supporto tecnico Microsoft per assistenza con il cluster di Azure Service Fabric, registri di supporto sono quasi sempre necessari.</span><span class="sxs-lookup"><span data-stu-id="fcba2-153">If you need toocontact Microsoft support for help with your Azure Service Fabric cluster, support logs are almost always required.</span></span> <span data-ttu-id="fcba2-154">Se il cluster è ospitato in Azure, questi log vengono automaticamente configurati e raccolti in fase di creazione di un cluster.</span><span class="sxs-lookup"><span data-stu-id="fcba2-154">If your cluster is hosted in Azure, support logs are automatically configured and collected as part of creating a cluster.</span></span> <span data-ttu-id="fcba2-155">Hello log vengono archiviati in un account di archiviazione dedicati in gruppo di risorse del cluster.</span><span class="sxs-lookup"><span data-stu-id="fcba2-155">hello logs are stored in a dedicated storage account in your cluster's resource group.</span></span> <span data-ttu-id="fcba2-156">account di archiviazione Hello non è un nome predefinito, ma nell'account hello, vedrai contenitori blob e tabelle con nomi che iniziano con *infrastruttura*.</span><span class="sxs-lookup"><span data-stu-id="fcba2-156">hello storage account doesn't have a fixed name, but in hello account, you see blob containers and tables with names that start with *fabric*.</span></span> <span data-ttu-id="fcba2-157">Per informazioni sulla configurazione di raccolte di log per un cluster autonomo, vedere [Creare un cluster autonomo di Azure Service Fabric](service-fabric-cluster-creation-for-windows-server.md) e [Impostazioni di configurazione per un cluster autonomo in Windows](service-fabric-cluster-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="fcba2-157">For information about setting up log collections for a standalone cluster, see [Create and manage a standalone Azure Service Fabric cluster](service-fabric-cluster-creation-for-windows-server.md) and [Configuration settings for a standalone Windows cluster](service-fabric-cluster-manifest.md).</span></span> <span data-ttu-id="fcba2-158">Per le istanze di Service Fabric autonomo, hello log deve essere inviato tooa condivisione di file locale.</span><span class="sxs-lookup"><span data-stu-id="fcba2-158">For standalone Service Fabric instances, hello logs should be sent tooa local file share.</span></span> <span data-ttu-id="fcba2-159">Si è **obbligatorio** toohave questi log per il supporto, ma non sono previsti toobe utilizzabile da chiunque all'esterno di team di supporto tecnico clienti Microsoft hello.</span><span class="sxs-lookup"><span data-stu-id="fcba2-159">You are **required** toohave these logs for support, but they are not intended toobe usable by anyone outside of hello Microsoft customer support team.</span></span>

## <a name="enabling-diagnostics-for-a-cluster"></a><span data-ttu-id="fcba2-160">Abilitazione della diagnostica per un cluster</span><span class="sxs-lookup"><span data-stu-id="fcba2-160">Enabling Diagnostics for a cluster</span></span>

<span data-ttu-id="fcba2-161">In ordine tootake sfruttare questi registri, si consiglia che durante la creazione del cluster, "Diagnostics" sia abilitata.</span><span class="sxs-lookup"><span data-stu-id="fcba2-161">In order tootake advantage of these logs, it is highly recommended that during cluster creation, "Diagnostics" is enabled.</span></span> <span data-ttu-id="fcba2-162">Attivando la diagnostica, durante la distribuzione hello, diagnostica Windows Azure è in grado di tooacknowledge hello Operational servizi affidabili e canali Reliable actors e archiviare i dati hello come illustrato in maggiore dettaglio nel [aggregare gli eventi con Diagnostica di Azure](service-fabric-diagnostics-event-aggregation-wad.md).</span><span class="sxs-lookup"><span data-stu-id="fcba2-162">By turning on diagnostics, when hello cluster is deployed, Windows Azure Diagnostics is able tooacknowledge hello Operational, Reliable Services, and Reliable actors channels, and store hello data as explained further in [Aggregate events with Azure Diagnostics](service-fabric-diagnostics-event-aggregation-wad.md).</span></span>

<span data-ttu-id="fcba2-163">Nell'esempio precedente, è inoltre disponibile un tooadd campo facoltativo, una chiave di strumentazione di Application Insights (AI).</span><span class="sxs-lookup"><span data-stu-id="fcba2-163">As seen above, there is also an optional field tooadd an Application Insights (AI) instrumentation key.</span></span> <span data-ttu-id="fcba2-164">Se si sceglie toouse per qualsiasi analisi eventi (ulteriori informazioni in [analisi degli eventi con Application Insights](service-fabric-diagnostics-event-analysis-appinsights.md)), includere risorse manualmente instrumentationKey (GUID) di hello AppInsights qui.</span><span class="sxs-lookup"><span data-stu-id="fcba2-164">If you choose toouse AI for any event analysis (read more about this in [Event Analysis with Application Insights](service-fabric-diagnostics-event-analysis-appinsights.md)), include hello AppInsights resource instrumentationKey (GUID) here.</span></span>


<span data-ttu-id="fcba2-165">Se si prevede di cluster di tooyour toodeploy contenitori, abilitare toopick WAD le statistiche di docker, aggiungere questo tooyour "WadCfg > DiagnosticMonitorConfiguration":</span><span class="sxs-lookup"><span data-stu-id="fcba2-165">If you are going toodeploy containers tooyour cluster, enable WAD toopick up docker stats by adding this tooyour "WadCfg > DiagnosticMonitorConfiguration":</span></span>

```json
"DockerSources": {
    "Stats": {
        "enabled": true,
        "sampleRate": "PT1M"
    }
},

```

## <a name="measuring-performance"></a><span data-ttu-id="fcba2-166">Misurazione delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="fcba2-166">Measuring performance</span></span>

<span data-ttu-id="fcba2-167">Misurazione delle prestazioni del cluster aiuta a comprendere come è decisioni di carico e delle unità toohandle in grado di sulla scalabilità del cluster (ulteriori informazioni sulla scalabilità di un cluster [in Azure](service-fabric-cluster-scale-up-down.md), o [locale](service-fabric-cluster-windows-server-add-remove-nodes.md)).</span><span class="sxs-lookup"><span data-stu-id="fcba2-167">Measure performance of your cluster will help you understand how it is able toohandle load and drive decisions around scaling your cluster (see more about scaling a cluster [on Azure](service-fabric-cluster-scale-up-down.md), or [on-premises](service-fabric-cluster-windows-server-add-remove-nodes.md)).</span></span> <span data-ttu-id="fcba2-168">I dati sulle prestazioni sono inoltre utile quando confrontati tooactions si o le applicazioni e servizi potrebbero avere preso, durante l'analisi del log di hello future.</span><span class="sxs-lookup"><span data-stu-id="fcba2-168">Performance data is also useful when compared tooactions you or your applications and services may have taken, when analyzing logs in hello future.</span></span> 

<span data-ttu-id="fcba2-169">Per un elenco di toocollect di contatori delle prestazioni quando si usa Service Fabric, vedere [i contatori delle prestazioni nell'infrastruttura di servizio](service-fabric-diagnostics-event-generation-perf.md)</span><span class="sxs-lookup"><span data-stu-id="fcba2-169">For a list of performance counters toocollect when using Service Fabric, see [Performance Counters in Service Fabric](service-fabric-diagnostics-event-generation-perf.md)</span></span>

<span data-ttu-id="fcba2-170">Di seguito sono illustrati due modi comuni disponibili per configurare la raccolta dei dati sulle prestazioni del cluster.</span><span class="sxs-lookup"><span data-stu-id="fcba2-170">Here are two common ways in which you can set up collecting performance data for your cluster:</span></span>

* <span data-ttu-id="fcba2-171">Utilizzo di un agente: questo è il metodo hello preferito per la raccolta delle prestazioni da un computer, poiché gli agenti hanno in genere un elenco delle metriche di prestazioni che possono essere raccolti, e è una metrica di un processo relativamente semplice toochoose hello desidera toocollect o modificarli .</span><span class="sxs-lookup"><span data-stu-id="fcba2-171">Using an agent: this is hello preferred way of collecting performance from a machine, since agents usually have a list of possible performance metrics that can be collected, and it is a relatively easy process toochoose hello metrics you want toocollect or change them.</span></span> <span data-ttu-id="fcba2-172">Conoscenza [come tooconfigure hello OMS per Service Fabric](service-fabric-diagnostics-event-analysis-oms.md) e [impostazione OMS dell'agente di Windows hello](../log-analytics/log-analytics-windows-agents.md) toolearn articoli ulteriori informazioni sull'agente OMS hello, ovvero un tale agente monitoraggio è in grado di toopick dati sulle prestazioni per macchine virtuali del cluster e i contenitori distribuiti.</span><span class="sxs-lookup"><span data-stu-id="fcba2-172">Read about [how tooconfigure hello OMS for Service Fabric](service-fabric-diagnostics-event-analysis-oms.md) and [Setting up hello OMS Windows Agent](../log-analytics/log-analytics-windows-agents.md) articles toolearn more about hello OMS agent, which is one such monitoring agent that is able toopick up performance data for cluster VMs and deployed containers.</span></span>

* <span data-ttu-id="fcba2-173">Configurazione di diagnostica toowrite prestazioni contatori tabella tooa: per i cluster in Azure, pertanto modifica toopick di configurazione di diagnostica Azure hello dei contatori di prestazioni appropriati hello da hello macchine virtuali del cluster e abilitarlo toopick backup statistiche di docker se si distribuiscono tutti i contenitori.</span><span class="sxs-lookup"><span data-stu-id="fcba2-173">Configuring diagnostics toowrite performance counters tooa table: for clusters on Azure, this means changing hello Azure Diagnostics configuration toopick up hello appropriate performance counters from hello VMs in your cluster, and enabling it toopick up docker stats if you will be deploying any containers.</span></span> <span data-ttu-id="fcba2-174">Informazioni di configurazione [contatori delle prestazioni in WAD](service-fabric-diagnostics-event-aggregation-wad.md) in tooset Service Fabric di raccolta contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="fcba2-174">Read about configuring [Performance Counters in WAD](service-fabric-diagnostics-event-aggregation-wad.md) in Service Fabric tooset up performance counter collection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fcba2-175">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="fcba2-175">Next steps</span></span>

<span data-ttu-id="fcba2-176">Il log ed eventi necessitano toobe aggregati prima di inviarli tooany piattaforma di analisi.</span><span class="sxs-lookup"><span data-stu-id="fcba2-176">Your logs and events need toobe aggregated before they can be sent tooany analysis platform.</span></span> <span data-ttu-id="fcba2-177">Conoscenza [EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md) e [WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter comprendere alcuni dei hello opzioni consigliata.</span><span class="sxs-lookup"><span data-stu-id="fcba2-177">Read about [EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md) and [WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter understand some of hello recommended options.</span></span>
