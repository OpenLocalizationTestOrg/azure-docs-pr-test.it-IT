---
title: Procedure consigliate per Azure SQL Data Warehouse | Microsoft Docs
description: Indicazioni e procedure consigliate da conoscere per lo sviluppo di soluzioni per Azure SQL Data Warehouse. Queste indicazioni aiuteranno a svolgere al meglio il lavoro.
services: sql-data-warehouse
documentationcenter: NA
author: shivaniguptamsft
manager: jhubbard
editor: 
ms.assetid: 7b698cad-b152-4d33-97f5-5155dfa60f79
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: get-started-article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: performance
ms.date: 10/31/2016
ms.author: shigu;barbkess
ms.openlocfilehash: c1fb0d8790d8c97ac45db02ac76403e7a80fae5d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="best-practices-for-azure-sql-data-warehouse"></a><span data-ttu-id="55f27-104">Procedure consigliate per Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="55f27-104">Best practices for Azure SQL Data Warehouse</span></span>
<span data-ttu-id="55f27-105">Questo articolo è una raccolta di numerose procedure consigliate che consentono di ottenere prestazioni ottimali da Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="55f27-105">This article is a collection of many best practices that will help you to achieve optimal performance from your Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="55f27-106">Alcuni concetti in questo articolo sono basilari e facili da spiegare, mentre altri sono più avanzati e verranno solo analizzati brevemente.</span><span class="sxs-lookup"><span data-stu-id="55f27-106">Some of the concepts in this article are basic and easy to explain, other concepts are more advanced and we just scratch the surface in this article.</span></span>  <span data-ttu-id="55f27-107">Lo scopo dell'articolo è quello di offrire alcune indicazioni di base e di far capire quali sono gli aspetti importanti su cui focalizzarsi per la creazione di un data warehouse.</span><span class="sxs-lookup"><span data-stu-id="55f27-107">The purpose of this article is to give you some basic guidance and to raise awareness of important areas to focus as you build your data warehouse.</span></span>  <span data-ttu-id="55f27-108">Ogni sezione presenta un concetto e rimanda ad articoli più dettagliati che analizzano il concetto in modo più approfondito.</span><span class="sxs-lookup"><span data-stu-id="55f27-108">Each section introduces you to a concept and then point you to more detailed articles which cover the concept in more depth.</span></span>

<span data-ttu-id="55f27-109">Chi è alle prime armi con Azure SQL Data Warehouse non deve farsi spaventare dall'articolo.</span><span class="sxs-lookup"><span data-stu-id="55f27-109">If you are just getting started with Azure SQL Data Warehouse, do not let this article overwhelm you.</span></span>  <span data-ttu-id="55f27-110">La sequenza degli argomenti indica fondamentalmente l'ordine di importanza.</span><span class="sxs-lookup"><span data-stu-id="55f27-110">The sequence of the topics is mostly in the order of importance.</span></span>  <span data-ttu-id="55f27-111">L'approccio migliore è quello di iniziare focalizzandosi sui pochi concetti iniziali.</span><span class="sxs-lookup"><span data-stu-id="55f27-111">If you start by focusing on the first few concepts, you'll be in good shape.</span></span>  <span data-ttu-id="55f27-112">Man mano che si acquisisce maggiore familiarità e si diventa più esperti nell'uso di SQL Data Warehouse, rivedere l'articolo ed esaminare altri concetti.</span><span class="sxs-lookup"><span data-stu-id="55f27-112">As you get more familiar and comfortable with using SQL Date Warehouse, come back and look at a few more concepts.</span></span>  <span data-ttu-id="55f27-113">Non ci vorrà molto tempo per arrivare a capire tutto.</span><span class="sxs-lookup"><span data-stu-id="55f27-113">It won't take long for everything to make sense.</span></span>

## <a name="reduce-cost-with-pause-and-scale"></a><span data-ttu-id="55f27-114">Ridurre i costi con sospensione e scalabilità</span><span class="sxs-lookup"><span data-stu-id="55f27-114">Reduce cost with pause and scale</span></span>
<span data-ttu-id="55f27-115">Una funzionalità chiave di SQL Data Warehouse è la possibilità di sospendere il servizio quando non è in uso, interrompendo così la fatturazione delle risorse di calcolo.</span><span class="sxs-lookup"><span data-stu-id="55f27-115">A key feature of SQL Data Warehouse is the ability to pause when you are not using it, which stops the billing of compute resources.</span></span>  <span data-ttu-id="55f27-116">Un'altra funzionalità fondamentale è la possibilità di ridimensionare le risorse.</span><span class="sxs-lookup"><span data-stu-id="55f27-116">Another key feature is the ability to scale resources.</span></span>  <span data-ttu-id="55f27-117">È possibile sospendere e ridimensionare il servizio dal portale di Azure o usando i comandi di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="55f27-117">Pausing and Scaling can be done via the Azure portal or through PowerShell commands.</span></span>  <span data-ttu-id="55f27-118">Acquisire familiarità con queste funzionalità, perché possono ridurre notevolmente il costo del data warehouse quando non è in uso.</span><span class="sxs-lookup"><span data-stu-id="55f27-118">Become familiar with these features as they can greatly reduce the cost of your data warehouse when it is not in use.</span></span>  <span data-ttu-id="55f27-119">Se si vuole che il data warehouse sia sempre accessibile, è preferibile ridurlo fino alle dimensioni minime, DW100, invece che sospenderlo.</span><span class="sxs-lookup"><span data-stu-id="55f27-119">If you always want your data warehouse accessible, you may want to consider scaling it down to the smallest size, a DW100 rather than pausing.</span></span>

<span data-ttu-id="55f27-120">Vedere anche [Sospendere le risorse di calcolo][Pause compute resources], [Riavviare le risorse di calcolo][Resume compute resources] e [Ridimensionare le risorse di calcolo].</span><span class="sxs-lookup"><span data-stu-id="55f27-120">See also [Pause compute resources][Pause compute resources], [Resume compute resources][Resume compute resources], [Scale compute resources].</span></span>

## <a name="drain-transactions-before-pausing-or-scaling"></a><span data-ttu-id="55f27-121">Scaricare le transazioni prima della sospensione o del ridimensionamento</span><span class="sxs-lookup"><span data-stu-id="55f27-121">Drain transactions before pausing or scaling</span></span>
<span data-ttu-id="55f27-122">Quando si sospende o ridimensiona SQL Data Warehouse, dietro le quinte le query vengono annullate all'avvio di tale richiesta.</span><span class="sxs-lookup"><span data-stu-id="55f27-122">When you pause or scale your SQL Data Warehouse, behind the scenes your queries are canceled when you initiate the pause or scale request.</span></span>  <span data-ttu-id="55f27-123">L'annullamento di una semplice query SELECT è un'operazione rapida senza quasi alcun impatto sul tempo necessario per sospendere o ridimensionare l'istanza.</span><span class="sxs-lookup"><span data-stu-id="55f27-123">Canceling a simple SELECT query is a quick operation and has almost no impact to the time it takes to pause or scale your instance.</span></span>  <span data-ttu-id="55f27-124">Le query transazionali, che modificano i dati o la struttura dei dati, potrebbero tuttavia richiedere più tempo per l'arresto.</span><span class="sxs-lookup"><span data-stu-id="55f27-124">However, transactional queries, which modify your data or the structure of the data, may not be able to stop quickly.</span></span>  <span data-ttu-id="55f27-125">**Le query transazionali, per definizione, devono essere completate interamente oppure è necessario il rollback delle modifiche.**</span><span class="sxs-lookup"><span data-stu-id="55f27-125">**Transactional queries, by definition, must either complete in their entirety or rollback their changes.**</span></span>  <span data-ttu-id="55f27-126">Il rollback del lavoro svolto da una query transazionale può richiedere la stessa quantità di tempo, o anche maggiore, della modifica originale applicata dalla query.</span><span class="sxs-lookup"><span data-stu-id="55f27-126">Rolling back the work completed by a transactional query can take as long, or even longer, than the original change the query was applying.</span></span>  <span data-ttu-id="55f27-127">Se, ad esempio, si annulla una query che sta eliminando righe e che è in esecuzione già da un'ora, potrebbe essere necessaria un'ora affinché il sistema inserisca di nuovo le righe che sono state eliminate.</span><span class="sxs-lookup"><span data-stu-id="55f27-127">For example, if you cancel a query which was deleting rows and has already been running for an hour, it could take the system an hour to insert back the rows which were deleted.</span></span>  <span data-ttu-id="55f27-128">Se si sospende o si ridimensiona il servizio mentre sono in corso transazioni, potrebbe sembrare che l'operazione richieda molto tempo perché per la sospensione o il ridimensionamento è necessario attendere il completamento del rollback.</span><span class="sxs-lookup"><span data-stu-id="55f27-128">If you run pause or scaling while transactions are in flight, your pause or scaling may seem to take a long time because pausing and scaling has to wait for the rollback to complete before it can proceed.</span></span>

<span data-ttu-id="55f27-129">Vedere anche [Informazioni sulle transazioni][Understanding transactions] e [Ottimizzazione delle transazioni][Optimizing transactions]</span><span class="sxs-lookup"><span data-stu-id="55f27-129">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions]</span></span>

## <a name="maintain-statistics"></a><span data-ttu-id="55f27-130">Gestire le statistiche</span><span class="sxs-lookup"><span data-stu-id="55f27-130">Maintain statistics</span></span>
<span data-ttu-id="55f27-131">A differenza di SQL Server, che rileva e crea o aggiorna automaticamente le statistiche sulle colonne, SQL Data Warehouse richiede la manutenzione manuale delle statistiche.</span><span class="sxs-lookup"><span data-stu-id="55f27-131">Unlike SQL Server, which automatically detects and creates or updates statistics on columns, SQL Data Warehouse requires manual maintenance of statistics.</span></span>  <span data-ttu-id="55f27-132">Anche se per il futuro è prevista la modifica di questo comportamento, per il momento è consigliabile gestire le statistiche per garantire l'ottimizzazione dei piani di SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="55f27-132">While we do plan to change this in the future, for now you will want to maintain your statistics to ensure that the SQL Data Warehouse plans are optimized.</span></span>  <span data-ttu-id="55f27-133">La qualità dei piani creati dall'utilità di ottimizzazione dipende dalla qualità delle statistiche disponibili.</span><span class="sxs-lookup"><span data-stu-id="55f27-133">The plans created by the optimizer are only as good as the available statistics.</span></span>  <span data-ttu-id="55f27-134">**La creazione di statistiche campionate su ogni colonna è un modo semplice per iniziare a usare le statistiche.**</span><span class="sxs-lookup"><span data-stu-id="55f27-134">**Creating sampled statistics on every column is an easy way to get started with statistics.**</span></span>  <span data-ttu-id="55f27-135">È altrettanto importante aggiornare le statistiche quando vengono apportate modifiche significative ai dati.</span><span class="sxs-lookup"><span data-stu-id="55f27-135">It's equally important to update statistics as significant changes happen to your data.</span></span>  <span data-ttu-id="55f27-136">Un approccio conservativo consiste nell'aggiornare le statistiche ogni giorno o dopo ogni operazione di caricamento.</span><span class="sxs-lookup"><span data-stu-id="55f27-136">A conservative approach may be to update your statistics daily or after each load.</span></span>  <span data-ttu-id="55f27-137">Sono sempre necessari compromessi tra le prestazioni e il costo di creazione e aggiornamento delle statistiche.</span><span class="sxs-lookup"><span data-stu-id="55f27-137">There are always trade-offs between performance and the cost to create and update statistics.</span></span> <span data-ttu-id="55f27-138">Se si ritiene che la gestione di tutte le statistiche richieda troppo tempo, è consigliabile provare a scegliere in modo più selettivo le colonne con le statistiche o quelle che richiedono aggiornamenti frequenti.</span><span class="sxs-lookup"><span data-stu-id="55f27-138">If you find it is taking too long to maintain all of your statistics, you may want to try to be more selective about which columns have statistics or which columns need frequent updating.</span></span>  <span data-ttu-id="55f27-139">Potrebbe ad esempio essere consigliabile aggiornare le colonne di data, in cui potrebbero venire aggiunti nuovi valori ogni giorno.</span><span class="sxs-lookup"><span data-stu-id="55f27-139">For example, you might want to update date columns, where new values may be added, daily.</span></span> <span data-ttu-id="55f27-140">**Il massimo vantaggio è offerto dalle statistiche su colonne usate nei join, colonne usate nella clausola WHERE e colonne presenti in GROUP BY.**</span><span class="sxs-lookup"><span data-stu-id="55f27-140">**You will gain the most benefit by having statistics on columns involved in joins, columns used in the WHERE clause and columns found in GROUP BY.**</span></span>

<span data-ttu-id="55f27-141">Vedere anche [Gestire le statistiche delle tabelle][Manage table statistics], [CREATE STATISTICS][CREATE STATISTICS] e [UPDATE STATISTICS][UPDATE STATISTICS]</span><span class="sxs-lookup"><span data-stu-id="55f27-141">See also [Manage table statistics][Manage table statistics], [CREATE STATISTICS][CREATE STATISTICS], [UPDATE STATISTICS][UPDATE STATISTICS]</span></span>

## <a name="group-insert-statements-into-batches"></a><span data-ttu-id="55f27-142">Raggruppare le istruzioni INSERT in batch</span><span class="sxs-lookup"><span data-stu-id="55f27-142">Group INSERT statements into batches</span></span>
<span data-ttu-id="55f27-143">Una singola operazione di caricamento in una tabella di piccole dimensioni con un'istruzione INSERT o anche un ricaricamento periodico di una ricerca può essere appropriato per soddisfare le esigenze nel caso di un'istruzione come `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span><span class="sxs-lookup"><span data-stu-id="55f27-143">A one-time load to a small table with an INSERT statement or even a periodic reload of a look-up may perform just fine for your needs with a statement like `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span></span>  <span data-ttu-id="55f27-144">Se tuttavia è necessario caricare migliaia o milioni di righe nel corso della giornata, singole operazioni INSERT potrebbero non essere adeguate.</span><span class="sxs-lookup"><span data-stu-id="55f27-144">However, if you need to load thousands or millions of rows throughout the day, you might find that singleton INSERTS just can't keep up.</span></span>  <span data-ttu-id="55f27-145">Sviluppare invece i processi in modo che scrivano in un file, mentre un altro processo subentra periodicamente e carica il file.</span><span class="sxs-lookup"><span data-stu-id="55f27-145">Instead, develop your processes so that they write to a file and another process periodically comes along and loads this file.</span></span>

<span data-ttu-id="55f27-146">Vedere anche [INSERT][INSERT]</span><span class="sxs-lookup"><span data-stu-id="55f27-146">See also [INSERT][INSERT]</span></span>

## <a name="use-polybase-to-load-and-export-data-quickly"></a><span data-ttu-id="55f27-147">Utilizzare PolyBase per caricare ed esportare rapidamente i dati</span><span class="sxs-lookup"><span data-stu-id="55f27-147">Use PolyBase to load and export data quickly</span></span>
<span data-ttu-id="55f27-148">SQL Data Warehouse supporta il caricamento e l'esportazione dei dati attraverso diversi strumenti, tra cui Azure Data Factory, PolyBase e BCP.</span><span class="sxs-lookup"><span data-stu-id="55f27-148">SQL Data Warehouse supports loading and exporting data through several tools including Azure Data Factory, PolyBase, and BCP.</span></span>  <span data-ttu-id="55f27-149">Per piccole quantità di dati in cui le prestazioni non sono fondamentali, qualsiasi strumento può essere adeguato per soddisfare le esigenze.</span><span class="sxs-lookup"><span data-stu-id="55f27-149">For small amounts of data where performance isn't critical, any tool may be sufficient for your needs.</span></span>  <span data-ttu-id="55f27-150">Quando tuttavia si caricano o si esportano grandi volumi di dati oppure sono necessarie prestazioni elevate, PolyBase è la scelta migliore.</span><span class="sxs-lookup"><span data-stu-id="55f27-150">However, when you are loading or exporting large volumes of data or fast performance is needed, PolyBase is the best choice.</span></span>  <span data-ttu-id="55f27-151">PolyBase è progettato per sfruttare l'architettura MPP (Massively Parallel Processing, elaborazione parallela massiva) di SQL Data Warehouse ed è quindi in grado di caricare ed esportare grandi volumi di dati più velocemente di qualsiasi altro strumento.</span><span class="sxs-lookup"><span data-stu-id="55f27-151">PolyBase is designed to leverage the MPP (Massively Parallel Processing) architecture of SQL Data Warehouse and will therefore load and export data magnitudes faster than any other tool.</span></span>  <span data-ttu-id="55f27-152">Le operazioni di caricamento di PolyBase possono essere eseguite usando CTAS o INSERT INTO.</span><span class="sxs-lookup"><span data-stu-id="55f27-152">PolyBase loads can be run using CTAS or INSERT INTO.</span></span>  <span data-ttu-id="55f27-153">**L'uso di CTAS riduce al minimo la registrazione delle transazioni e rappresenta il modo più rapido per caricare i dati.**</span><span class="sxs-lookup"><span data-stu-id="55f27-153">**Using CTAS will minimize transaction logging and the fastest way to load your data.**</span></span>  <span data-ttu-id="55f27-154">Azure Data Factory supporta anche le operazioni di caricamento di PolyBase.</span><span class="sxs-lookup"><span data-stu-id="55f27-154">Azure Data Factory also supports PolyBase loads.</span></span>  <span data-ttu-id="55f27-155">PolyBase supporta una vasta gamma di formati di file, inclusi i file GZIP.</span><span class="sxs-lookup"><span data-stu-id="55f27-155">PolyBase supports a variety of file formats including Gzip files.</span></span>  <span data-ttu-id="55f27-156">**Per aumentare al massimo la velocità effettiva quando si usano file di testo GZIP, suddividere i file in 60 o più file per ottimizzare il parallelismo del caricamento.**</span><span class="sxs-lookup"><span data-stu-id="55f27-156">**To maximize throughput when using gzip text files, break files up into 60 or more files to maximize parallelism of your load.**</span></span>  <span data-ttu-id="55f27-157">Per una velocità effettiva totale maggiore, prendere in considerazione il caricamento simultaneo dei dati.</span><span class="sxs-lookup"><span data-stu-id="55f27-157">For faster total throughput, consider loading data concurrently.</span></span>

<span data-ttu-id="55f27-158">Vedere anche [Caricare i dati][Load data], [Guida per l'uso di PolyBase][Guide for using PolyBase], [Strategie e modelli di caricamento di Azure SQL Data Warehouse][Azure SQL Data Warehouse loading patterns and strategies], [Caricare dati con Azure Data Factory][Load Data with Azure Data Factory], [Spostare dati con Azure Data Factory][Move data with Azure Data Factory], [CREATE EXTERNAL FILE FORMAT][CREATE EXTERNAL FILE FORMAT] e [Create Table As Select (CTAS)][Create table as select (CTAS)]</span><span class="sxs-lookup"><span data-stu-id="55f27-158">See also [Load data][Load data], [Guide for using PolyBase][Guide for using PolyBase], [Azure SQL Data Warehouse loading patterns and strategies][Azure SQL Data Warehouse loading patterns and strategies], [Load Data with Azure Data Factory][Load Data with Azure Data Factory], [Move data with Azure Data Factory][Move data with Azure Data Factory], [CREATE EXTERNAL FILE FORMAT][CREATE EXTERNAL FILE FORMAT], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="load-then-query-external-tables"></a><span data-ttu-id="55f27-159">Caricare ed eseguire query su tabelle esterne</span><span class="sxs-lookup"><span data-stu-id="55f27-159">Load then query external tables</span></span>
<span data-ttu-id="55f27-160">PolyBase, tecnologia nota anche per le tabelle esterne, può rappresentare il modo più rapido per caricare i dati, ma non il migliore per eseguire query.</span><span class="sxs-lookup"><span data-stu-id="55f27-160">While Polybase, also known as external tables, can be the fastest way to load data, it is not optimal for queries.</span></span> <span data-ttu-id="55f27-161">Le tabelle Polybase di SQL Data Warehouse attualmente supportano solo file BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="55f27-161">SQL Data Warehouse Polybase tables currently only support Azure blob files.</span></span> <span data-ttu-id="55f27-162">Questi file non sono supportati da alcuna risorsa di calcolo.</span><span class="sxs-lookup"><span data-stu-id="55f27-162">These files do not have any compute resources backing them.</span></span>  <span data-ttu-id="55f27-163">Di conseguenza, SQL Data Warehouse non può ripartire il lavoro e pertanto deve leggere l'intero file, caricandolo su tempdb per leggere i dati.</span><span class="sxs-lookup"><span data-stu-id="55f27-163">As a result, SQL Data Warehouse cannot offload this work and therefore must read the entire file by loading it to tempdb in order to read the data.</span></span>  <span data-ttu-id="55f27-164">Pertanto, in presenza di numerose query relative a questi dati, è consigliabile caricare i dati una volta ed eseguire le query tramite la tabella locale.</span><span class="sxs-lookup"><span data-stu-id="55f27-164">Therefore, if you have several queries that will be querying this data, it is better to load this data once and have queries use the local table.</span></span>

<span data-ttu-id="55f27-165">Vedere anche [Guida per l'uso di PolyBase][Guide for using PolyBase]</span><span class="sxs-lookup"><span data-stu-id="55f27-165">See also [Guide for using PolyBase][Guide for using PolyBase]</span></span>

## <a name="hash-distribute-large-tables"></a><span data-ttu-id="55f27-166">Utilizzare la distribuzione hash per le tabelle di grandi dimensioni</span><span class="sxs-lookup"><span data-stu-id="55f27-166">Hash distribute large tables</span></span>
<span data-ttu-id="55f27-167">Per impostazione predefinita, per le tabelle viene usata la distribuzione round robin.</span><span class="sxs-lookup"><span data-stu-id="55f27-167">By default, tables are Round Robin distributed.</span></span>  <span data-ttu-id="55f27-168">In questo modo, gli utenti possono iniziare a creare le tabelle in modo semplice senza dover decidere come devono essere distribuite.</span><span class="sxs-lookup"><span data-stu-id="55f27-168">This makes it easy for users to get started creating tables without having to decide how their tables should be distributed.</span></span>  <span data-ttu-id="55f27-169">Le tabelle round robin possono funzionare bene per alcuni carichi di lavoro, ma spesso la selezione di una colonna di distribuzione offre prestazioni notevolmente migliori.</span><span class="sxs-lookup"><span data-stu-id="55f27-169">Round Robin tables may perform sufficiently for some workloads, but in most cases selecting a distribution column will perform much better.</span></span>  <span data-ttu-id="55f27-170">L'unione in join di due tabelle dei fatti di grandi dimensioni è l'esempio più comune di come una tabella distribuita in base a una colonna possa offrire prestazioni migliori rispetto a una tabella round robin.</span><span class="sxs-lookup"><span data-stu-id="55f27-170">The most common example of when a table distributed by a column will far outperform a Round Robin table is when two large fact tables are joined.</span></span>  <span data-ttu-id="55f27-171">Se, ad esempio, sono presenti una tabella degli ordini, distribuita in base a id_ordine, e una tabella delle transazioni, anch'essa distribuita in base a id_ordine, quando si uniscono in join le due tabelle in base a id_ordine, la query diventa una query pass-through, il che significa che si eliminano le operazioni di spostamento dei dati.</span><span class="sxs-lookup"><span data-stu-id="55f27-171">For example, if you have an orders table, which is distributed by order_id, and a transactions table, which is also distributed by order_id, when you join your orders table to your transactions table on order_id, this query becomes a pass-through query, which means we eliminate data movement operations.</span></span>  <span data-ttu-id="55f27-172">Un numero inferiore di passaggi consente una maggiore velocità di esecuzione delle query.</span><span class="sxs-lookup"><span data-stu-id="55f27-172">Fewer steps mean a faster query.</span></span>  <span data-ttu-id="55f27-173">Anche un numero inferiore di operazioni di spostamento consente query più veloci.</span><span class="sxs-lookup"><span data-stu-id="55f27-173">Less data movement also makes for faster queries.</span></span>  <span data-ttu-id="55f27-174">Questa spiegazione è molto generica.</span><span class="sxs-lookup"><span data-stu-id="55f27-174">This explanation just scratches the surface.</span></span> <span data-ttu-id="55f27-175">Durante il caricamento di una tabella distribuita, assicurarsi che i dati in entrata non siano ordinati nella chiave di distribuzione, perché questo rallenterebbe il caricamento.</span><span class="sxs-lookup"><span data-stu-id="55f27-175">When loading a distributed table, be sure that your incoming data is not sorted on the distribution key as this will slow down your loads.</span></span>  <span data-ttu-id="55f27-176">Vedere i collegamenti seguenti per informazioni più dettagliate su come la selezione di una colonna di distribuzione possa migliorare le prestazioni e su come definire una tabella distribuita nella clausola WITH dell'istruzione CREATE TABLES.</span><span class="sxs-lookup"><span data-stu-id="55f27-176">See the below links for much more details on how selecting a distribution column can improve performance as well as how to define a distributed table in the WITH clause of your CREATE TABLES statement.</span></span>

<span data-ttu-id="55f27-177">Vedere anche [Panoramica sulle tabelle][Table overview], [Distribuzione delle tabelle][Table distribution], [Selecting table distribution][Selecting table distribution] (Selezione della distribuzione delle tabelle), [CREATE TABLE][CREATE TABLE] e [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span><span class="sxs-lookup"><span data-stu-id="55f27-177">See also [Table overview][Table overview], [Table distribution][Table distribution], [Selecting table distribution][Selecting table distribution], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="do-not-over-partition"></a><span data-ttu-id="55f27-178">Non creare un numero eccessivo di partizioni</span><span class="sxs-lookup"><span data-stu-id="55f27-178">Do not over-partition</span></span>
<span data-ttu-id="55f27-179">Anche se il partizionamento dei dati può essere molto efficace per la gestione dei dati tramite il cambio di partizione o l'ottimizzazione delle analisi con l'eliminazione delle partizioni, un numero eccessivo di partizioni può rallentare le query.</span><span class="sxs-lookup"><span data-stu-id="55f27-179">While partitioning data can be very effective for maintaining your data through partition switching or optimizing scans by with partition elimination, having too many partitions can slow down your queries.</span></span>  <span data-ttu-id="55f27-180">Spesso una strategia di partizionamento che prevede una granularità molto elevata, che potrebbe funzionare bene in SQL Server, potrebbe non essere ideale in SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="55f27-180">Often a high granularity partitioning strategy which may work well on SQL Server may not work well on SQL Data Warehouse.</span></span>  <span data-ttu-id="55f27-181">Un numero eccessivo di partizioni può anche ridurre l'efficacia degli indici columnstore cluster se ogni partizione contiene meno di 1 milione di righe.</span><span class="sxs-lookup"><span data-stu-id="55f27-181">Having too many partitions can also reduce the effectiveness of clustered columnstore indexes if each partition has fewer than 1 million rows.</span></span>  <span data-ttu-id="55f27-182">Tenere presente che in background SQL Data Warehouse partiziona automaticamente i dati in 60 database, quindi se si crea una tabella con 100 partizioni, in realtà si formano 6000 partizioni.</span><span class="sxs-lookup"><span data-stu-id="55f27-182">Keep in mind that behind the scenes, SQL Data Warehouse partitions your data for you into 60 databases, so if you create a table with 100 partitions, this actually results in 6000 partitions.</span></span>  <span data-ttu-id="55f27-183">Ogni carico di lavoro è diverso, quindi la cosa migliore da fare è sperimentare diversi tipi di partizionamento per capire qual è la soluzione migliore per il carico di lavoro specifico.</span><span class="sxs-lookup"><span data-stu-id="55f27-183">Each workload is different so the best advice is to experiment with partitioning to see what works best for your workload.</span></span>  <span data-ttu-id="55f27-184">Prendere in considerazione una granularità inferiore rispetto a quella considerata appropriata in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="55f27-184">Consider lower granularity than what may have worked for you in SQL Server.</span></span>  <span data-ttu-id="55f27-185">Prendere ad esempio in considerazione l'uso di partizioni settimanali o mensili invece che giornaliere.</span><span class="sxs-lookup"><span data-stu-id="55f27-185">For example, consider using weekly or monthly partitions rather than daily partitions.</span></span>

<span data-ttu-id="55f27-186">Vedere anche [Partizionamento delle tabelle][Table partitioning]</span><span class="sxs-lookup"><span data-stu-id="55f27-186">See also [Table partitioning][Table partitioning]</span></span>

## <a name="minimize-transaction-sizes"></a><span data-ttu-id="55f27-187">Ridurre al minimo le dimensioni delle transazioni</span><span class="sxs-lookup"><span data-stu-id="55f27-187">Minimize transaction sizes</span></span>
<span data-ttu-id="55f27-188">Le istruzioni INSERT, UPDATE e DELETE vengono eseguite in una transazione e quando si verifica un errore è necessario eseguire il rollback.</span><span class="sxs-lookup"><span data-stu-id="55f27-188">INSERT, UPDATE, and DELETE statements run in a transaction and when they fail they must be rolled back.</span></span>  <span data-ttu-id="55f27-189">Per ridurre al minimo il rischio di un rollback lungo, ridurre al minimo le dimensioni delle transazioni, quando possibile.</span><span class="sxs-lookup"><span data-stu-id="55f27-189">To minimize the potential for a long rollback, minimize transaction sizes whenever possible.</span></span>  <span data-ttu-id="55f27-190">A tale scopo, è possibile suddividere in parti le istruzioni INSERT, UPDATE e DELETE.</span><span class="sxs-lookup"><span data-stu-id="55f27-190">This can be done by dividing INSERT, UPDATE, and DELETE statements into parts.</span></span>  <span data-ttu-id="55f27-191">Se, ad esempio, è presente un'istruzione INSERT che si prevede richieda 1 ora, se possibile suddividerla in 4 parti, ognuna delle quali verrà eseguita in 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="55f27-191">For example, if you have an INSERT which you expect to take 1 hour, if possible, break the INSERT up into 4 parts, which will each run in 15 minutes.</span></span>  <span data-ttu-id="55f27-192">Sfruttare i casi speciali di registrazione minima, ad esempio CTAS, TRUNCATE, DROP TABLE o INSERT in tabelle vuote, in modo da ridurre il rischio di rollback.</span><span class="sxs-lookup"><span data-stu-id="55f27-192">Leverage special Minimal Logging cases, like CTAS, TRUNCATE, DROP TABLE or INSERT to empty tables, to reduce rollback risk.</span></span>  <span data-ttu-id="55f27-193">Un altro modo per eliminare i rollback consiste nell'usare operazioni solo sui metadati come il cambio di partizione per la gestione dati.</span><span class="sxs-lookup"><span data-stu-id="55f27-193">Another way to eliminate rollbacks is to use Metadata Only operations like partition switching for data management.</span></span>  <span data-ttu-id="55f27-194">Ad esempio, invece di eseguire un'istruzione DELETE per eliminare tutte le righe in una tabella in cui data_ordine corrisponde a ottobre 2001, è possibile creare una partizione mensile dei dati e quindi scambiare la partizione con i dati con una partizione vuota di un'altra tabella (vedere gli esempi relativi ad ALTER TABLE).</span><span class="sxs-lookup"><span data-stu-id="55f27-194">For example, rather than execute a DELETE statement to delete all rows in a table where the order_date was in October of 2001, you could partition your data monthly and then switch out the partition with data for an empty partition from another table (see ALTER TABLE examples).</span></span>  <span data-ttu-id="55f27-195">Per le tabelle non partizionate, prendere in considerazione l'uso di CTAS per scrivere i dati da mantenere in una tabella, invece di usare DELETE.</span><span class="sxs-lookup"><span data-stu-id="55f27-195">For unpartitioned tables consider using a CTAS to write the data you want to keep in a table rather than using DELETE.</span></span>  <span data-ttu-id="55f27-196">Se un'operazione CTAS richiede la stessa quantità di tempo, è molto più sicura da eseguire perché prevede una registrazione delle transazioni minima e può essere annullata rapidamente, se necessario.</span><span class="sxs-lookup"><span data-stu-id="55f27-196">If a CTAS takes the same amount of time, it is a much safer operation to run as it has very minimal transaction logging and can be canceled quickly if needed.</span></span>

<span data-ttu-id="55f27-197">Vedere anche [Informazioni sulle transazioni][Understanding transactions], [Ottimizzazione delle transazioni][Optimizing transactions], [Partizionamento delle tabelle][Table partitioning], [TRUNCATE TABLE][TRUNCATE TABLE], [ALTER TABLE][ALTER TABLE] e [Create table as select (CTAS)][Create table as select (CTAS)]</span><span class="sxs-lookup"><span data-stu-id="55f27-197">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions], [Table partitioning][Table partitioning], [TRUNCATE TABLE][TRUNCATE TABLE], [ALTER TABLE][ALTER TABLE], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="use-the-smallest-possible-column-size"></a><span data-ttu-id="55f27-198">Utilizzare colonne con dimensioni il più piccole possibili</span><span class="sxs-lookup"><span data-stu-id="55f27-198">Use the smallest possible column size</span></span>
<span data-ttu-id="55f27-199">Quando si definisce il codice DDL, per migliorare le prestazioni di query usare il più piccolo tipo di dati in grado di supportare i dati.</span><span class="sxs-lookup"><span data-stu-id="55f27-199">When defining your DDL, using the smallest data type which will support your data will improve query performance.</span></span>  <span data-ttu-id="55f27-200">Questo aspetto è particolarmente importante per le colonne CHAR e VARCHAR.</span><span class="sxs-lookup"><span data-stu-id="55f27-200">This is especially important for CHAR and VARCHAR columns.</span></span>  <span data-ttu-id="55f27-201">Se il valore più lungo in una colonna è di 25 caratteri, definire la colonna come VARCHAR(25).</span><span class="sxs-lookup"><span data-stu-id="55f27-201">If the longest value in a column is 25 characters, then define your column as VARCHAR(25).</span></span>  <span data-ttu-id="55f27-202">Evitare di definire tutte le colonne di tipo carattere impostando una lunghezza predefinita elevata.</span><span class="sxs-lookup"><span data-stu-id="55f27-202">Avoid defining all character columns to a large default length.</span></span>  <span data-ttu-id="55f27-203">Definire inoltre le colonne come VARCHAR quando è sufficiente, invece di usare NVARCHAR.</span><span class="sxs-lookup"><span data-stu-id="55f27-203">In addition, define columns as VARCHAR when that is all that is needed rather than use NVARCHAR.</span></span>

<span data-ttu-id="55f27-204">Vedere anche [Panoramica sulle tabelle][Table overview], [Tipi di dati per le tabelle][Table data types] e [CREATE TABLE][CREATE TABLE]</span><span class="sxs-lookup"><span data-stu-id="55f27-204">See also [Table overview][Table overview], [Table data types][Table data types], [CREATE TABLE][CREATE TABLE]</span></span>

## <a name="use-temporary-heap-tables-for-transient-data"></a><span data-ttu-id="55f27-205">Utilizzare tabelle heap temporanee per i dati temporanei</span><span class="sxs-lookup"><span data-stu-id="55f27-205">Use temporary heap tables for transient data</span></span>
<span data-ttu-id="55f27-206">Quando si inseriscono temporaneamente i dati in SQL Data Warehouse, una tabella heap potrebbe rendere più veloce il processo complessivo.</span><span class="sxs-lookup"><span data-stu-id="55f27-206">When you are temporarily landing data on SQL Data Warehouse, you may find that using a heap table will make the overall process faster.</span></span>  <span data-ttu-id="55f27-207">Se si caricano i dati solo per inserirli temporaneamente prima di eseguire altre trasformazioni, il caricamento della tabella in una tabella heap sarà molto più rapido del caricamento dei dati in una tabella columnstore cluster.</span><span class="sxs-lookup"><span data-stu-id="55f27-207">If you are loading data only to stage it before running more transformations, loading the table to heap table will be much faster than loading the data to a clustered columnstore table.</span></span>  <span data-ttu-id="55f27-208">Inoltre, il caricamento dei dati in una tabella temporanea sarà molto più veloce del caricamento di una tabella in un archivio permanente.</span><span class="sxs-lookup"><span data-stu-id="55f27-208">In addition, loading data to a temp table will also load much faster than loading a table to permanent storage.</span></span>  <span data-ttu-id="55f27-209">Le tabelle temporanee iniziano con "#" e sono accessibili solo dalla sessione in cui sono state create, quindi potrebbero non funzionare in alcuni scenari.</span><span class="sxs-lookup"><span data-stu-id="55f27-209">Temporary tables start with a "#" and are only accessible by the session which created it, so they may only work in limited scenarios.</span></span>   <span data-ttu-id="55f27-210">Le tabelle heap sono definite nella clausola WITH di CREATE TABLE.</span><span class="sxs-lookup"><span data-stu-id="55f27-210">Heap tables are defined in the WITH clause of a CREATE TABLE.</span></span>  <span data-ttu-id="55f27-211">Se si usa una tabella temporanea, ricordarsi di creare le statistiche anche su tale tabella temporanea.</span><span class="sxs-lookup"><span data-stu-id="55f27-211">If you do use a temporary table, remember to create statistics on that temporary table too.</span></span>

<span data-ttu-id="55f27-212">Vedere anche [Tabelle temporanee][Temporary tables], [CREATE TABLE][CREATE TABLE] e [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span><span class="sxs-lookup"><span data-stu-id="55f27-212">See also [Temporary tables][Temporary tables], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="optimize-clustered-columnstore-tables"></a><span data-ttu-id="55f27-213">Ottimizzare le tabelle columnstore cluster</span><span class="sxs-lookup"><span data-stu-id="55f27-213">Optimize clustered columnstore tables</span></span>
<span data-ttu-id="55f27-214">Gli indici columnstore cluster rappresentano uno dei modi più efficienti per archiviare i dati in Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="55f27-214">Clustered columnstore indexes are one of the most efficient ways you can store your data in Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="55f27-215">Per impostazione predefinita, le tabelle in SQL Data Warehouse vengono create come tabelle columnstore cluster.</span><span class="sxs-lookup"><span data-stu-id="55f27-215">By default, tables in SQL Data Warehouse are created as Clustered ColumnStore.</span></span>  <span data-ttu-id="55f27-216">Per ottenere prestazioni ottimali per le query sulle tabelle columnstore è importante che la qualità dei segmenti sia buona.</span><span class="sxs-lookup"><span data-stu-id="55f27-216">To get the best performance for queries on columnstore tables, having good segment quality is important.</span></span>  <span data-ttu-id="55f27-217">Quando le righe vengono scritte nelle tabelle columnstore in condizioni di utilizzo elevato di memoria, la qualità dei segmenti columnstore potrebbe risentirne.</span><span class="sxs-lookup"><span data-stu-id="55f27-217">When rows are written to columnstore tables under memory pressure, columnstore segment quality may suffer.</span></span>  <span data-ttu-id="55f27-218">La qualità del segmento può essere misurata in base al numero di righe in un gruppo di righe compresso.</span><span class="sxs-lookup"><span data-stu-id="55f27-218">Segment quality can be measured by number of rows in a compressed Row Group.</span></span>  <span data-ttu-id="55f27-219">Per istruzioni dettagliate su come rilevare e migliorare la qualità dei segmenti per le tabelle columnstore cluster, vedere la sezione [Possibili cause di una qualità scadente dell'indice columnstore][Causes of poor columnstore index quality] nell'articolo [Indicizzazione delle tabelle][Table indexes].</span><span class="sxs-lookup"><span data-stu-id="55f27-219">See the [Causes of poor columnstore index quality][Causes of poor columnstore index quality] in the [Table indexes][Table indexes] article for step by step instructions on detecting and improving segment quality for clustered columnstore tables.</span></span>  <span data-ttu-id="55f27-220">Poiché l'elevata qualità dei segmenti columnstore è importante, è consigliabile usare ID di utenti della classe di risorse media o grande per caricare i dati.</span><span class="sxs-lookup"><span data-stu-id="55f27-220">Because high quality columnstore segments is important, it's a good idea to use users ids which are in the medium or large resource class for loading data.</span></span>  <span data-ttu-id="55f27-221">Minore è il numero di unità DWU usate, maggiori saranno le dimensioni della classe di risorse da assegnare all'utente incaricato del caricamento.</span><span class="sxs-lookup"><span data-stu-id="55f27-221">The fewer DWUs you use, the larger the resource class you will want to assign to your loading user.</span></span>

<span data-ttu-id="55f27-222">Poiché le tabelle columnstore in genere non effettuano il push dei dati in un segmento columnstore compresso fino a quando non sono presenti più di 1 milione di righe per tabella e ogni tabella di SQL Data Warehouse è suddivisa in 60 tabelle, come regola generale le tabelle columnstore non risultano vantaggiose per una query a meno che non contengano più di 60 milioni di righe.</span><span class="sxs-lookup"><span data-stu-id="55f27-222">Since columnstore tables generally won't push data into a compressed columnstore segment until there are more than 1 million rows per table and each SQL Data Warehouse table is partitioned into 60 tables, as a rule of thumb, columnstore tables won't benefit a query unless the table has more than 60 million rows.</span></span>  <span data-ttu-id="55f27-223">Per le tabelle con meno di 60 milioni di righe, l'uso di un indice columnstore potrebbe non essere utile,</span><span class="sxs-lookup"><span data-stu-id="55f27-223">For table with less than 60 million rows, it may not make any sense to have a columnstore index.</span></span>  <span data-ttu-id="55f27-224">ma potrebbe anche non avere effetti negativi.</span><span class="sxs-lookup"><span data-stu-id="55f27-224">It also may not hurt.</span></span>  <span data-ttu-id="55f27-225">Inoltre, se si partizionano i dati, tenere presente che ogni partizione dovrà contenere 1 milione di righe per trarre vantaggio da un indice columnstore cluster.</span><span class="sxs-lookup"><span data-stu-id="55f27-225">Furthermore, if you partition your data, then you will want to consider that each partition will need to have 1 million rows to benefit from a clustered columnstore index.</span></span>  <span data-ttu-id="55f27-226">Se una tabella ha 100 partizioni, dovrà contenere almeno 6 miliardi di righe per trarre vantaggio da un archivio colonne cluster (60 distribuzioni * 100 partizioni * 1 milione di righe).</span><span class="sxs-lookup"><span data-stu-id="55f27-226">If a table has 100 partitions, then it will need to have at least 6 billion rows to benefit from a clustered columns store (60 distributions * 100 partitions * 1 million rows).</span></span>  <span data-ttu-id="55f27-227">Se la tabella non contiene 6 miliardi di righe come in questo esempio, ridurre il numero di partizioni o prendere in considerazione l'utilizzo di una tabella heap.</span><span class="sxs-lookup"><span data-stu-id="55f27-227">If your table does not have 6 billion rows in this example, either reduce the number of partitions or consider using a heap table instead.</span></span>  <span data-ttu-id="55f27-228">Potrebbe anche essere utile fare delle prove per verificare se è possibile ottenere prestazioni migliori con una tabella heap con indici secondari al posto di una tabella columnstore.</span><span class="sxs-lookup"><span data-stu-id="55f27-228">It also may be worth experimenting to see if better performance can be gained with a heap table with secondary indexes rather than a columnstore table.</span></span>  <span data-ttu-id="55f27-229">Le tabelle columnstore al momento non supportano gli indici secondari.</span><span class="sxs-lookup"><span data-stu-id="55f27-229">Columnstore tables do not yet support secondary indexes.</span></span>

<span data-ttu-id="55f27-230">Quando si esegue una query su una tabella columnstore, l'esecuzione sarà più rapida se si selezionano solo le colonne necessarie.</span><span class="sxs-lookup"><span data-stu-id="55f27-230">When querying a columnstore table, queries will run faster if you select only the columns you need.</span></span>  

<span data-ttu-id="55f27-231">Vedere anche [Indicizzazione delle tabelle][Table indexes], [Guida agli indici columnstore][Columnstore indexes guide] e [Ricompilazione degli indici columnstore][Rebuilding columnstore indexes]</span><span class="sxs-lookup"><span data-stu-id="55f27-231">See also [Table indexes][Table indexes], [Columnstore indexes guide][Columnstore indexes guide], [Rebuilding columnstore indexes][Rebuilding columnstore indexes]</span></span>

## <a name="use-larger-resource-class-to-improve-query-performance"></a><span data-ttu-id="55f27-232">Utilizzare una classe di risorse più grande per migliorare le prestazioni delle query</span><span class="sxs-lookup"><span data-stu-id="55f27-232">Use larger resource class to improve query performance</span></span>
<span data-ttu-id="55f27-233">SQL Data Warehouse usa i gruppi di risorse per allocare la memoria per le query.</span><span class="sxs-lookup"><span data-stu-id="55f27-233">SQL Data Warehouse uses resource groups as a way to allocate memory to queries.</span></span>  <span data-ttu-id="55f27-234">Per impostazione predefinita, tutti gli utenti vengono assegnati alla classe di risorse piccola, che garantisce 100 MB di memoria per distribuzione.</span><span class="sxs-lookup"><span data-stu-id="55f27-234">Out of the box, all users are assigned to the small resource class which grants 100 MB of memory per distribution.</span></span>  <span data-ttu-id="55f27-235">Poiché ci sono sempre 60 distribuzioni e a ogni distribuzione viene assegnato un minimo di 100 MB, l'allocazione di memoria totale a livello di sistema è di 6.000 MB o poco meno di 6 GB.</span><span class="sxs-lookup"><span data-stu-id="55f27-235">Since there are always 60 distributions and each distribution is given a minimum of 100 MB, system wide the total memory allocation is 6,000 MB, or just under 6 GB.</span></span>  <span data-ttu-id="55f27-236">Alcune query, ad esempio i join di grandi dimensioni oppure le operazioni di caricamento in tabelle columnstore cluster, risultano avvantaggiate da allocazioni di una quantità maggiore di memoria.</span><span class="sxs-lookup"><span data-stu-id="55f27-236">Certain queries, like large joins or loads to clustered columnstore tables, will benefit from larger memory allocations.</span></span>  <span data-ttu-id="55f27-237">Alcune query, come le operazioni di sola analisi, non traggono alcun vantaggio.</span><span class="sxs-lookup"><span data-stu-id="55f27-237">Some queries, like pure scans, will see no benefit.</span></span>  <span data-ttu-id="55f27-238">D'altra parte, l'uso di classi di risorse più grandi influisce sulla concorrenza, quindi sarà necessario tenere in considerazione questo aspetto prima di spostare tutti gli utenti in una classe di risorse di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="55f27-238">On the flip side, utilizing larger resource classes impacts concurrency, so you will want to take this into consideration before moving all of your users to a large resource class.</span></span>

<span data-ttu-id="55f27-239">Vedere anche [Gestione della concorrenza e del carico di lavoro][Concurrency and workload management]</span><span class="sxs-lookup"><span data-stu-id="55f27-239">See also [Concurrency and workload management][Concurrency and workload management]</span></span>

## <a name="use-smaller-resource-class-to-increase-concurrency"></a><span data-ttu-id="55f27-240">Usare una classe di risorse più piccola per aumentare la concorrenza</span><span class="sxs-lookup"><span data-stu-id="55f27-240">Use Smaller Resource Class to Increase Concurrency</span></span>
<span data-ttu-id="55f27-241">Se si nota che le query utente sembrano avere un lungo ritardo, è possibile che gli utenti siano in esecuzione in classi di risorse più grandi e stiano utilizzando molti slot di concorrenza, con il conseguente inserimento in coda di altre query.</span><span class="sxs-lookup"><span data-stu-id="55f27-241">If you are noticing that user queries seem to have a long delay, it could be that your users are running in larger resource classes and are consuming a lot of concurrency slots causing other queries to queue up.</span></span>  <span data-ttu-id="55f27-242">Per vedere se le query degli utenti vengono inserite in coda, eseguire `SELECT * FROM sys.dm_pdw_waits` per verificare se vengono restituite righe.</span><span class="sxs-lookup"><span data-stu-id="55f27-242">To see if users queries are queued, run `SELECT * FROM sys.dm_pdw_waits` to see if any rows are returned.</span></span>

<span data-ttu-id="55f27-243">Vedere anche [Gestione della concorrenza e del carico di lavoro][Concurrency and workload management] e [sys.dm_pdw_waits][sys.dm_pdw_waits]</span><span class="sxs-lookup"><span data-stu-id="55f27-243">See also [Concurrency and workload management][Concurrency and workload management], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="use-dmvs-to-monitor-and-optimize-your-queries"></a><span data-ttu-id="55f27-244">Utilizzare DMV per monitorare e ottimizzare le query</span><span class="sxs-lookup"><span data-stu-id="55f27-244">Use DMVs to monitor and optimize your queries</span></span>
<span data-ttu-id="55f27-245">SQL Data Warehouse offre diverse viste a gestione dinamica che è possibile usare per monitorare l'esecuzione delle query.</span><span class="sxs-lookup"><span data-stu-id="55f27-245">SQL Data Warehouse has several DMVs which can be used to monitor query execution.</span></span>  <span data-ttu-id="55f27-246">L'articolo relativo al monitoraggio indicato di seguito fornisce istruzioni dettagliate su come esaminare i dati di una query in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="55f27-246">The monitoring article below walks through step-by-step instructions on how to look at the details of an executing query.</span></span>  <span data-ttu-id="55f27-247">Per trovare rapidamente le query in queste DMV, può essere utile usare l'opzione LABEL con le query.</span><span class="sxs-lookup"><span data-stu-id="55f27-247">To quickly find queries in these DMVs, using the LABEL option with your queries can help.</span></span>

<span data-ttu-id="55f27-248">Vedere anche [Monitoraggio del carico di lavoro mediante DMV][Monitor your workload using DMVs], [LABEL][LABEL], [OPTION][OPTION], [sys.dm_exec_sessions][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_sql_requests][sys.dm_pdw_sql_requests], [sys.dm_pdw_dms_workers], [DBCC PDW_SHOWEXECUTIONPLAN][DBCC PDW_SHOWEXECUTIONPLAN] e [sys.dm_pdw_waits][sys.dm_pdw_waits]</span><span class="sxs-lookup"><span data-stu-id="55f27-248">See also [Monitor your workload using DMVs][Monitor your workload using DMVs], [LABEL][LABEL], [OPTION][OPTION], [sys.dm_exec_sessions][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_sql_requests][sys.dm_pdw_sql_requests], [sys.dm_pdw_dms_workers], [DBCC PDW_SHOWEXECUTIONPLAN][DBCC PDW_SHOWEXECUTIONPLAN], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="other-resources"></a><span data-ttu-id="55f27-249">Altre risorse:</span><span class="sxs-lookup"><span data-stu-id="55f27-249">Other resources</span></span>
<span data-ttu-id="55f27-250">Vedere anche l'articolo sulla [risoluzione dei problemi][Troubleshooting] per informazioni sui problemi più comuni e le relative soluzioni.</span><span class="sxs-lookup"><span data-stu-id="55f27-250">Also see our [Troubleshooting][Troubleshooting] article for common issues and solutions.</span></span>

<span data-ttu-id="55f27-251">Se questo articolo non contiene le informazioni necessarie, provare a usare la funzione "Search for docs" (Cerca documenti) sul lato sinistro della pagina per cercare in tutti i documenti relativi ad Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="55f27-251">If you didn't find what you were looking for in this article, try using the "Search for docs" on the left side of this page to search all of the Azure SQL Data Warehouse documents.</span></span>  <span data-ttu-id="55f27-252">Il [forum di MSDN su Azure SQL Data Warehouse][Azure SQL Data Warehouse MSDN Forum] è stato creato per offrire un posto in cui porre domande ad altri utenti e al team che si occupa di SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="55f27-252">The [Azure SQL Data Warehouse MSDN Forum][Azure SQL Data Warehouse MSDN Forum] was create as a place for you to ask questions to other users and to the SQL Data Warehouse Product Group.</span></span>  <span data-ttu-id="55f27-253">Questo forum viene monitorato attivamente per garantire che venga fornita una risposta a tutte le domande, da un altro utente o da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="55f27-253">We actively monitor this forum to ensure that your questions are answered either by another user or one of us.</span></span>  <span data-ttu-id="55f27-254">Se si preferisce porre domande in Stack Overflow, è disponibile anche un [forum di Stack Overflow su Azure SQL Data Warehouse][Azure SQL Data Warehouse Stack Overflow Forum].</span><span class="sxs-lookup"><span data-stu-id="55f27-254">If you prefer to ask your questions on Stack Overflow, we also have an [Azure SQL Data Warehouse Stack Overflow Forum][Azure SQL Data Warehouse Stack Overflow Forum].</span></span>

<span data-ttu-id="55f27-255">Per inviare richieste di funzionalità è possibile usare la pagina dei [commenti e suggerimenti su Azure SQL Data Warehouse][Azure SQL Data Warehouse Feedback].</span><span class="sxs-lookup"><span data-stu-id="55f27-255">Finally, please do use the [Azure SQL Data Warehouse Feedback][Azure SQL Data Warehouse Feedback] page to make feature requests.</span></span>  <span data-ttu-id="55f27-256">Le richieste aggiunte o i voti per altre richieste sono utili per definire le priorità per le funzionalità.</span><span class="sxs-lookup"><span data-stu-id="55f27-256">Adding your requests or up-voting other requests really helps us prioritize features.</span></span>

<!--Image references-->

<!--Article references-->
[Create a support ticket]: ./sql-data-warehouse-get-started-create-support-ticket.md
[Concurrency and workload management]: ./sql-data-warehouse-develop-concurrency.md
[Create table as select (CTAS)]: ./sql-data-warehouse-develop-ctas.md
[Table overview]: ./sql-data-warehouse-tables-overview.md
[Table data types]: ./sql-data-warehouse-tables-data-types.md
[Table distribution]: ./sql-data-warehouse-tables-distribute.md
[Table indexes]: ./sql-data-warehouse-tables-index.md
[Causes of poor columnstore index quality]: ./sql-data-warehouse-tables-index.md#causes-of-poor-columnstore-index-quality
[Rebuilding columnstore indexes]: ./sql-data-warehouse-tables-index.md#rebuilding-indexes-to-improve-segment-quality
[Table partitioning]: ./sql-data-warehouse-tables-partition.md
[Manage table statistics]: ./sql-data-warehouse-tables-statistics.md
[Temporary tables]: ./sql-data-warehouse-tables-temporary.md
[Guide for using PolyBase]: ./sql-data-warehouse-load-polybase-guide.md
[Load data]: ./sql-data-warehouse-overview-load.md
[Move data with Azure Data Factory]: ../data-factory/data-factory-azure-sql-data-warehouse-connector.md
[Load data with Azure Data Factory]: ./sql-data-warehouse-get-started-load-with-azure-data-factory.md
[Load data with bcp]: ./sql-data-warehouse-load-with-bcp.md
[Load data with PolyBase]: ./sql-data-warehouse-get-started-load-with-polybase.md
[Monitor your workload using DMVs]: ./sql-data-warehouse-manage-monitor.md
[Pause compute resources]: ./sql-data-warehouse-manage-compute-overview.md#pause-compute-bk
[Resume compute resources]: ./sql-data-warehouse-manage-compute-overview.md#resume-compute-bk
<span data-ttu-id="55f27-257">[Ridimensionare le risorse di calcolo]: ./sql-data-warehouse-manage-compute-overview.md#scale-compute</span><span class="sxs-lookup"><span data-stu-id="55f27-257">[Scale compute resources]: ./sql-data-warehouse-manage-compute-overview.md#scale-compute</span></span>
[Understanding transactions]: ./sql-data-warehouse-develop-transactions.md
[Optimizing transactions]: ./sql-data-warehouse-develop-best-practices-transactions.md
[Troubleshooting]: ./sql-data-warehouse-troubleshoot.md
[LABEL]: ./sql-data-warehouse-develop-label.md

<!--MSDN references-->
[ALTER TABLE]: https://msdn.microsoft.com/library/ms190273.aspx
[CREATE EXTERNAL FILE FORMAT]: https://msdn.microsoft.com/library/dn935026.aspx
[CREATE STATISTICS]: https://msdn.microsoft.com/library/ms188038.aspx
[CREATE TABLE]: https://msdn.microsoft.com/library/mt203953.aspx
[CREATE TABLE AS SELECT]: https://msdn.microsoft.com/library/mt204041.aspx
[DBCC PDW_SHOWEXECUTIONPLAN]: https://msdn.microsoft.com/library/mt204017.aspx
[INSERT]: https://msdn.microsoft.com/library/ms174335.aspx
[OPTION]: https://msdn.microsoft.com/library/ms190322.aspx
[TRUNCATE TABLE]: https://msdn.microsoft.com/library/ms177570.aspx
[UPDATE STATISTICS]: https://msdn.microsoft.com/library/ms187348.aspx
[sys.dm_exec_sessions]: https://msdn.microsoft.com/library/ms176013.aspx
[sys.dm_pdw_exec_requests]: https://msdn.microsoft.com/library/mt203887.aspx
[sys.dm_pdw_request_steps]: https://msdn.microsoft.com/library/mt203913.aspx
[sys.dm_pdw_sql_requests]: https://msdn.microsoft.com/library/mt203889.aspx
<span data-ttu-id="55f27-258">[sys.dm_pdw_dms_workers]: https://msdn.microsoft.com/library/mt203878.aspx</span><span class="sxs-lookup"><span data-stu-id="55f27-258">[sys.dm_pdw_dms_workers]: https://msdn.microsoft.com/library/mt203878.aspx</span></span>
[sys.dm_pdw_waits]: https://msdn.microsoft.com/library/mt203893.aspx
[Columnstore indexes guide]: https://msdn.microsoft.com/library/gg492088.aspx

<!--Other Web references-->
[Selecting table distribution]: https://blogs.msdn.microsoft.com/sqlcat/2015/08/11/choosing-hash-distributed-table-vs-round-robin-distributed-table-in-azure-sql-dw-service/
[Azure SQL Data Warehouse Feedback]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[Azure SQL Data Warehouse MSDN Forum]: https://social.msdn.microsoft.com/Forums/sqlserver/home?forum=AzureSQLDataWarehouse
[Azure SQL Data Warehouse Stack Overflow Forum]:  http://stackoverflow.com/questions/tagged/azure-sqldw
[Azure SQL Data Warehouse loading patterns and strategies]: https://blogs.msdn.microsoft.com/sqlcat/2016/02/06/azure-sql-data-warehouse-loading-patterns-and-strategies
