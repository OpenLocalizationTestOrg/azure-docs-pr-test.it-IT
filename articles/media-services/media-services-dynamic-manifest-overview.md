---
title: Filtri e manifesti dinamici | Microsoft Docs
description: "Questo argomento descrive come creare filtri che il client può usare per trasmettere in streaming sezioni specifiche di un flusso. Servizi multimediali crea manifesti dinamici per archiviare questo streaming selettivo."
services: media-services
documentationcenter: 
author: cenkdin
manager: cfowler
editor: 
ms.assetid: ff102765-8cee-4c08-a6da-b603db9e2054
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/29/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 4034fd0aa64627c107a43208dcca766f7f44d5d4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="eaaa0-104">Filtri e manifesti dinamici</span><span class="sxs-lookup"><span data-stu-id="eaaa0-104">Filters and dynamic manifests</span></span>
<span data-ttu-id="eaaa0-105">A partire dalla versione 2.11, Servizi multimediali consente di definire filtri per i propri asset.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-105">Starting with 2.11 release, Media Services enables you to define filters for your assets.</span></span> <span data-ttu-id="eaaa0-106">I filtri sono costituiti da regole lato server che consentono ai clienti di eseguire operazioni particolari, come riprodurre solo una sezione di un video (anziché il video intero) oppure specificare solo un sottoinsieme di rendering audio e video, in modo che possa essere gestito dal dispositivo del cliente (anziché tutti i rendering associati all'asset).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-106">These filters are server side rules that will allow your customers to choose to do things like: playback only a section of a video (instead of playing the whole video), or specify only a subset of audio and video renditions that your customer's device can handle (instead of all the renditions that are associated with the asset).</span></span> <span data-ttu-id="eaaa0-107">Il filtro degli asset viene archiviato attraverso **manifesti dinamici**creati su richiesta del cliente per trasmettere un video in streaming in base ai filtri specificati.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-107">This filtering of your assets is archived through **Dynamic Manifest**s that are created upon your customer's request to stream a video based on specified filter(s).</span></span>

<span data-ttu-id="eaaa0-108">Questo argomento illustra alcuni scenari comuni in cui l'uso dei filtri può essere particolarmente vantaggioso e contiene collegamenti ad altri argomenti che illustrano come creare filtri a livello di codice. È attualmente possibile creare filtri solo con le API REST.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-108">This topics discusses common scenarios in which using filters would be very beneficial to your customers and links to topics that demonstrate how to create filters programmatically (currently, you can create filters with REST APIs only).</span></span>

## <a name="overview"></a><span data-ttu-id="eaaa0-109">Panoramica</span><span class="sxs-lookup"><span data-stu-id="eaaa0-109">Overview</span></span>
<span data-ttu-id="eaaa0-110">Quando si distribuiscono contenuti ai clienti (eventi in live streaming o video on demand), l'obiettivo è riuscire a trasmettere video di alta qualità a vari tipi di dispositivi in diverse condizioni di rete.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-110">When delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="eaaa0-111">Per raggiungere questo obiettivo, eseguire queste operazioni:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-111">To achieve this goal do the following:</span></span>

* <span data-ttu-id="eaaa0-112">Codificare il flusso video a più velocità in bit ([velocità in bit adattiva](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)), garantendo in questo modo la qualità e le condizioni di rete</span><span class="sxs-lookup"><span data-stu-id="eaaa0-112">encode your stream to multi-bitrate ([adaptive bitrate](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video stream (this will take care of quality and network conditions) and</span></span> 
* <span data-ttu-id="eaaa0-113">Usare la funzione di [creazione dinamica dei pacchetti](media-services-dynamic-packaging-overview.md) di Servizi multimediali per riorganizzare dinamicamente il flusso in nuovi pacchetti creati con protocolli diversi, garantendo in questo modo la trasmissione a diversi tipi di dispositivi.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-113">use Media Services [Dynamic Packaging](media-services-dynamic-packaging-overview.md) to dynamically re-package your stream into different protocols (this will take care of streaming on different devices).</span></span> <span data-ttu-id="eaaa0-114">Servizi multimediali supporta le tecnologie di streaming a bitrate adattivo seguenti: HTTP Live Streaming (HLS), Smooth Streaming e MPEG-DASH.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-114">Media Services supports delivery of the following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG DASH.</span></span> 

### <a name="manifest-files"></a><span data-ttu-id="eaaa0-115">File manifesto</span><span class="sxs-lookup"><span data-stu-id="eaaa0-115">Manifest files</span></span>
<span data-ttu-id="eaaa0-116">Quando si codifica un asset per lo streaming a velocità in bit adattiva, viene creato un file (playlist) **manifesto** , ovvero un file basato su testo o XML.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-116">When you encode an asset for adaptive bitrate streaming, a **manifest** (playlist) file is created (the file is text-based or XML-based).</span></span> <span data-ttu-id="eaaa0-117">Il file **manifesto** include alcuni metadati di streaming, tra cui il tipo di traccia (audio, video o testo), il nome della traccia, l'ora di inizio e di fine, la velocità in bit (qualità), le lingue della traccia, la finestra di presentazione (finestra scorrevole di durata fissa) e un codec video (FourCC).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-117">The **manifest** file includes streaming metadata such as: track type (audio, video, or text), track name, start and end time, bitrate (qualities), track languages, presentation window (sliding window of fixed duration), video codec (FourCC).</span></span> <span data-ttu-id="eaaa0-118">Indica inoltre al lettore come recuperare il frammento successivo fornendo informazioni sui successivi frammenti video riproducibili disponibili e il relativo percorso.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-118">It also instructs the player to retrieve the next fragment by providing information about the next playable video fragments available and their location.</span></span> <span data-ttu-id="eaaa0-119">I frammenti (o segmenti) sono i "blocchi" effettivi di un contenuto video.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-119">Fragments (or segments) are the actual “chunks” of a video content.</span></span>

<span data-ttu-id="eaaa0-120">Di seguito è riportato un esempio di file manifesto:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-120">Here is an example of a manifest file:</span></span> 

    <?xml version="1.0" encoding="UTF-8"?>    
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="330187755" TimeScale="10000000">

    <StreamIndex Chunks="17" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="8">
    <QualityLevel Index="0" Bitrate="5860941" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931300016E360000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="1" Bitrate="4602724" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931100011EDC00002CD29FF8C7076850A45800000000168E9093525" />
    <QualityLevel Index="2" Bitrate="3319311" FourCC="H264" MaxWidth="1280" MaxHeight="720" CodecPrivateData="000000016764001FAC2CA5014016EC054808080A00000300020000030064C0800067C28000103667F8C7076850A4580000000168E9093525" />
    <QualityLevel Index="3" Bitrate="2195119" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C1000044AA0000ABA9FE31C1DA14291600000000168E9093525" />
    <QualityLevel Index="4" Bitrate="1469881" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C04000B71A0000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="5" Bitrate="978815" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C08001E8480004C4B7F8C7076850A45800000000168E9093525" />
    <QualityLevel Index="6" Bitrate="638374" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C080013D60000C65DFE31C1DA1429160000000168E9093525" />
    <QualityLevel Index="7" Bitrate="388851" FourCC="H264" MaxWidth="320" MaxHeight="180" CodecPrivateData="000000016764000DAC2CA505067E7C054830303200000300020000030064C040030D40003D093F8C7076850A45800000000168E9093525" />

    <c t="0" d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="9600000"/>
    </StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_128kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_128kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="125658" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_56kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_56kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="53655" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>

    </SmoothStreamingMedia>

### <a name="dynamic-manifests"></a><span data-ttu-id="eaaa0-121">Manifesti dinamici</span><span class="sxs-lookup"><span data-stu-id="eaaa0-121">Dynamic manifests</span></span>
<span data-ttu-id="eaaa0-122">Esistono [scenari](media-services-dynamic-manifest-overview.md#scenarios) in cui il client deve poter disporre di una flessibilità maggiore rispetto a quanto descritto nel file manifesto predefinito dell'asset.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-122">There are [scenarios](media-services-dynamic-manifest-overview.md#scenarios) when your client needs more flexibility than what's described in the default asset's manifest file.</span></span> <span data-ttu-id="eaaa0-123">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-123">For example:</span></span>

* <span data-ttu-id="eaaa0-124">Per il dispositivo: distribuire solo i rendering specificati e/o le tracce di lingua specificate, se supportate dal dispositivo usato per la riproduzione dei contenuti ("filtro di rendering").</span><span class="sxs-lookup"><span data-stu-id="eaaa0-124">Device specific: deliver only the specified renditions and\or specified language tracks that are supported by the device that is used to playback the content ("rendition filtering").</span></span> 
* <span data-ttu-id="eaaa0-125">Ridurre il manifesto in modo da mostrare solo una sottoclip di un evento live ("filtro di sottoclip").</span><span class="sxs-lookup"><span data-stu-id="eaaa0-125">Reduce the manifest to show a sub-clip of a live event ("sub-clip filtering").</span></span>
* <span data-ttu-id="eaaa0-126">Tagliare l'inizio di un video ("trimming di un video").</span><span class="sxs-lookup"><span data-stu-id="eaaa0-126">Trim the start of a video ("trimming a video").</span></span>
* <span data-ttu-id="eaaa0-127">Regolare la finestra di presentazione (DVR) in modo da ottenere una lunghezza limitata della finestra nel lettore ("regolazione finestra presentazione").</span><span class="sxs-lookup"><span data-stu-id="eaaa0-127">Adjust Presentation Window (DVR) in order to provide a limited length of the DVR window in the player ("adjusting presentation window") .</span></span>

<span data-ttu-id="eaaa0-128">Per ottenere questa flessibilità, Servizi multimediali offre **manifesti dinamici** basati su [filtri](media-services-dynamic-manifest-overview.md#filters)predefiniti.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-128">To achieve this flexibility, Media Services offers **Dynamic Manifests** based on pre-defined [filters](media-services-dynamic-manifest-overview.md#filters).</span></span>  <span data-ttu-id="eaaa0-129">Dopo aver definito i filtri, è possibile usarli per trasmettere solo un determinato rendering o specifici sottoclip di un video.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-129">Once you define the filters, your clients could use them to stream a specific rendition or sub-clips of your video.</span></span> <span data-ttu-id="eaaa0-130">I filtri desiderati dovranno essere specificati nell'URL di streaming.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-130">They would specify filter(s) in the streaming URL.</span></span> <span data-ttu-id="eaaa0-131">È possibile applicare filtri ai protocolli di streaming a bitrate adattivo supportati dalla funzione di [creazione dinamica dei pacchetti](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH e Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-131">Filters could be applied to adaptive bitrate streaming protocols supported by [Dynamic Packaging](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH, and Smooth Streaming.</span></span> <span data-ttu-id="eaaa0-132">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-132">For example:</span></span>

<span data-ttu-id="eaaa0-133">URL MPEG DASH con filtro</span><span class="sxs-lookup"><span data-stu-id="eaaa0-133">MPEG DASH URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf,filter=MyLocalFilter)

<span data-ttu-id="eaaa0-134">URL Smooth Streaming con filtro</span><span class="sxs-lookup"><span data-stu-id="eaaa0-134">Smooth Streaming URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(filter=MyLocalFilter)


<span data-ttu-id="eaaa0-135">Per altre informazioni su come distribuire i contenuti e gli URL di streaming di compilazione, vedere [Informazioni generali sulla distribuzione di contenuti](media-services-deliver-content-overview.md).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-135">For more information about how to deliver your content and build streaming URLs, see [Delivering content overview](media-services-deliver-content-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="eaaa0-136">Tenere presente che i manifesti dinamici non modificano l'asset e il relativo manifesto predefinito.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-136">Note that Dynamic Manifests do not change the asset and the default manifest for that asset.</span></span> <span data-ttu-id="eaaa0-137">È possibile decidere di richiedere un flusso con o senza filtri.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-137">Your client can choose to request a stream with or without filters.</span></span> 
> 
> 

### <span data-ttu-id="eaaa0-138"><a id="filters"></a>Filtri</span><span class="sxs-lookup"><span data-stu-id="eaaa0-138"><a id="filters"></a>Filters</span></span>
<span data-ttu-id="eaaa0-139">Sono disponibili due tipi di filtri di asset:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-139">There are two types of asset filters:</span></span> 

* <span data-ttu-id="eaaa0-140">Filtri globali (possono essere applicati a qualsiasi asset nell'account di Servizi multimediali di Azure e hanno una durata equivalente a quella dell'account).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-140">Global filters (can be applied to any asset in the Azure Media Services account, have a lifetime of the account) and</span></span> 
* <span data-ttu-id="eaaa0-141">Filtri locali (possono essere applicati a uno degli asset a cui è stato associato il filtro in fase di creazione e hanno una durata equivalente a quella dell'asset).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-141">Local filters (can only be applied to an asset with which the filter was associated upon creation, have a lifetime of the asset).</span></span> 

<span data-ttu-id="eaaa0-142">I filtri globali e i filtri locali presentano esattamente le stesse proprietà</span><span class="sxs-lookup"><span data-stu-id="eaaa0-142">Global and local filter types have exactly the same properties.</span></span> <span data-ttu-id="eaaa0-143">e si differenziano solo per il tipo di scenario in cui sono più appropriati.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-143">The main difference between the two is for which scenarios what type of a filer is more suitable.</span></span> <span data-ttu-id="eaaa0-144">I filtri globali, in genere, sono più adatti per i profili di dispositivo (filtro di rendering), mentre i filtri locali possono essere usati per tagliare un asset specifico.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-144">Global filters are generally suitable for device profiles (rendition filtering) where local filters could be used to trim a specific asset.</span></span>

## <span data-ttu-id="eaaa0-145"><a id="scenarios"></a>Scenari comuni</span><span class="sxs-lookup"><span data-stu-id="eaaa0-145"><a id="scenarios"></a>Common scenarios</span></span>
<span data-ttu-id="eaaa0-146">Come accennato in precedenza, quando si distribuiscono contenuti ai clienti (eventi in live streaming o video on demand), l'obiettivo è riuscire a trasmettere video di alta qualità a vari tipi di dispositivi in diverse condizioni di rete.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-146">As was mentioned before, when delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="eaaa0-147">Possono tuttavia verificarsi anche altre situazioni in cui è opportuno applicare filtri agli asset e usare **manifesti dinamici**.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-147">In addition, your might have other requirements that involve filtering your assets and using of **Dynamic Manifest**s.</span></span> <span data-ttu-id="eaaa0-148">Le sezioni seguenti forniscono una breve panoramica di diversi scenari di filtro.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-148">The following sections give a short overview of different filtering scenarios.</span></span>

* <span data-ttu-id="eaaa0-149">Definizione di un solo sottoinsieme di rendering audio e video che possa essere gestito da determinati dispositivi (anziché tutti i rendering associati all'asset).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-149">Specify only a subset of audio and video renditions that certain devices can handle (instead of all the renditions that are associated with the asset).</span></span> 
* <span data-ttu-id="eaaa0-150">Riproduzione di una sola sezione di un video (anziché del video intero).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-150">Playing back only a section of a video (instead of playing the whole video).</span></span>
* <span data-ttu-id="eaaa0-151">Regolazione della finestra di presentazione DVR</span><span class="sxs-lookup"><span data-stu-id="eaaa0-151">Adjust DVR presentation window.</span></span>

## <a name="rendition-filtering"></a><span data-ttu-id="eaaa0-152">Filtro di rendering</span><span class="sxs-lookup"><span data-stu-id="eaaa0-152">Rendition filtering</span></span>
<span data-ttu-id="eaaa0-153">È possibile scegliere di codificare un asset con più profili di codifica (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) e più velocità in bit di qualità.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-153">You may choose to encode your asset to multiple encoding profiles (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) and multiple quality bitrates.</span></span> <span data-ttu-id="eaaa0-154">Non tutti i dispositivi, tuttavia, supportano tutti i profili e le velocità in bit dell'asset.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-154">However, not all client devices will support all your asset's profiles and bitrates.</span></span> <span data-ttu-id="eaaa0-155">Solo i dispositivi Android di precedente generazione, ad esempio, supportano il profilo H.264 Baseline+AACL.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-155">For example, older Android devices only supports H.264 Baseline+AACL.</span></span> <span data-ttu-id="eaaa0-156">La trasmissione di contenuti a un dispositivo con una velocità in bit superiore di cui non può trarre vantaggio, inoltre, comporta uno spreco di larghezza di banda e di capacità di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-156">Sending higher bitrates to a device which cannot get the benefits, wastes bandwidth and device computation.</span></span> <span data-ttu-id="eaaa0-157">Per poter visualizzare i contenuti trasmessi, infatti, il dispositivo deve decodificare e ridimensionare tutte le informazioni trasmesse.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-157">Such device must decode all the given information, only to scale it down for display.</span></span>

<span data-ttu-id="eaaa0-158">Con il manifesto dinamico, è possibile creare profili di dispositivo, ad esempio mobile, console, HD/SD e così via, e includere le tracce e la qualità desiderate per ogni profilo.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-158">With Dynamic Manifest, you can create device profiles such as mobile, console, HD/SD, etc. and include the tracks and qualities which you want to be a part of each profile.</span></span>

![Esempio di filtro di rendering][renditions2]

<span data-ttu-id="eaaa0-160">Nell'esempio seguente si usa un codificatore per codificare un asset in formato intermedio in sette rendering video ISO MP4 (da 180p a 1080p).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-160">In the following example, an encoder was used to encode a mezzanine asset into seven ISO MP4s video renditions (from 180p to 1080p).</span></span> <span data-ttu-id="eaaa0-161">L'asset così codificato può essere quindi riorganizzato dinamicamente in pacchetti creati con uno dei protocolli di streaming seguenti: HLS, Smooth e MPEG-DASH.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-161">The encoded asset can be dynamically packaged into any of the following streaming protocols: HLS, Smooth, and MPEG DASH.</span></span>  <span data-ttu-id="eaaa0-162">Nella parte superiore del diagramma è riportato il manifesto HLS per l'asset senza filtri (contiene tutti i sette rendering),</span><span class="sxs-lookup"><span data-stu-id="eaaa0-162">At the top of the diagram, the HLS manifest for the asset with no filters is shown (it contains all seven renditions).</span></span>  <span data-ttu-id="eaaa0-163">mentre in basso a sinistra è riportato il manifesto HLS con applicato un filtro denominato "ott".</span><span class="sxs-lookup"><span data-stu-id="eaaa0-163">In the bottom left, the HLS manifest to which a filter named "ott" was applied is shown.</span></span> <span data-ttu-id="eaaa0-164">Il filtro "ott" indica che devono essere rimosse tutte le velocità in bit inferiori a 1 Mbps. L'applicazione di questo filtro ha generato i due livelli di qualità inferiori rimossi nella risposta.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-164">The "ott" filter specifies to remove all bitrates below 1Mbps, which resulted in the bottom two quality levels being stripped off in the response.</span></span>  <span data-ttu-id="eaaa0-165">In basso a destra è riportato invece il manifesto HLS con applicato un filtro denominato "mobile".</span><span class="sxs-lookup"><span data-stu-id="eaaa0-165">In the bottom right,   the HLS manifest to which a filter named "mobile" was applied is shown.</span></span> <span data-ttu-id="eaaa0-166">Il filtro "mobile" indica che devono essere rimossi tutti i rendering con risoluzione superiore a 720p. L'applicazione di questo filtro ha generato i due rendering 1080p rimossi.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-166">The "mobile" filter specifies to remove renditions where the resolution is larger than 720p, which resulted in the two 1080p renditions being stripped off.</span></span>

![Filtro di rendering][renditions1]

## <a name="removing-language-tracks"></a><span data-ttu-id="eaaa0-168">Rimozione delle tracce di lingua</span><span class="sxs-lookup"><span data-stu-id="eaaa0-168">Removing language tracks</span></span>
<span data-ttu-id="eaaa0-169">Gli asset possono includere più lingue audio, ad esempio inglese, spagnolo, francese e così via. In genere, è l'SDK del lettore a gestire la selezione della traccia audio predefinita e delle tracce audio disponibili per ciascuna selezione utente.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-169">Your assets might include multiple audio languages such as English, Spanish, French, etc. Usually, the Player SDK managers default audio track selection and available audio tracks per user selection.</span></span> <span data-ttu-id="eaaa0-170">Sviluppare questo tipo di SDK, tuttavia, è particolarmente difficile poiché richiede diverse implementazioni nel Player Framework specifico di ogni dispositivo.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-170">It is challenging to develop such Player SDKs, it requires different implementations across device-specific player-frameworks.</span></span> <span data-ttu-id="eaaa0-171">In alcune piattaforme, inoltre, le API del lettore offrono funzionalità limitate (ad esempio non includono funzioni di selezione audio) e non consentono quindi agli utenti di selezionare o modificare la traccia audio predefinita. Con i filtri di asset, è possibile controllare il comportamento mediante la creazione di filtri che includono solo le lingue audio desiderate.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-171">Also, on some platforms, Player APIs are limited and do not include audio selection feature where users cannot select or change the default audio track. With asset filters, you can control the behavior by creating filters that only include desired audio languages.</span></span>

![Filtro delle tracce di lingua][language_filter]

## <a name="trimming-start-of-an-asset"></a><span data-ttu-id="eaaa0-173">Trimming della parte iniziale di un asset</span><span class="sxs-lookup"><span data-stu-id="eaaa0-173">Trimming start of an asset</span></span>
<span data-ttu-id="eaaa0-174">Nella maggior parte degli eventi in live streaming, gli operatori eseguono alcuni test prima dell'evento effettivo.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-174">In most live streaming events, operators run some tests before the actual event.</span></span> <span data-ttu-id="eaaa0-175">Prima dell'inizio dell'evento, ad esempio, possono includere uno slate di questo tipo: "Il programma sta per iniziare".</span><span class="sxs-lookup"><span data-stu-id="eaaa0-175">For example, they might include a slate like this before the start of the event: "Program will begin momentarily".</span></span> <span data-ttu-id="eaaa0-176">Se il programma prevede l'archiviazione, vengono archiviati e inclusi nella presentazione anche i dati del test e dello slate.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-176">If the program is archiving, the test and slate data are also archived and will be included in the presentation.</span></span> <span data-ttu-id="eaaa0-177">Queste informazioni, tuttavia, non risultano visibili ai client.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-177">However, this information should not be shown to the clients.</span></span> <span data-ttu-id="eaaa0-178">Con il manifesto dinamico, è possibile creare un filtro di ora di inizio e rimuovere dal manifesto tutti i dati non desiderati.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-178">With Dynamic Manifest, you can create a start time filter and remove the unwanted data from the manifest.</span></span>

![Trimming della parte iniziale][trim_filter]

## <a name="creating-sub-clips-views-from-a-live-archive"></a><span data-ttu-id="eaaa0-180">Creazione di sottoclip (visualizzazioni) da un archivio live</span><span class="sxs-lookup"><span data-stu-id="eaaa0-180">Creating sub-clips (views) from a live archive</span></span>
<span data-ttu-id="eaaa0-181">Molti eventi live hanno una durata molto lunga ed è possibile quindi che un archivio live includa più eventi.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-181">Many live events are long running and live archive might include multiple events.</span></span> <span data-ttu-id="eaaa0-182">Al termine dell'evento live, ad esempio, gli emittenti possono decidere di suddividere l'archivio live in sequenze logiche di avvio e arresto del programma.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-182">After the live event ends broadcasters may want to break up the live archive into logical program start and stop sequences.</span></span> <span data-ttu-id="eaaa0-183">Possono quindi pubblicare separatamente questi programmi virtuali, senza dover post-elaborare l'archivio live e creare asset distinti (che non trarrebbero vantaggio dei frammenti presenti nella cache in caso di reti CDN).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-183">Then, publish these virtual programs separately without post processing the live archive and not creating separate assets (which will not get benefit of the existing cached fragments in the CDNs).</span></span> <span data-ttu-id="eaaa0-184">Esempi di programmi virtuali (sottoclip) possono essere, ad esempio, i tempi di una partita di calcio o di basket, gli inning del baseball o eventi individuali di un pomeriggio di programma olimpico.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-184">Examples of such virtual programs (sub-clips) are the quarters of a football or basketball game, the innings in baseball, or individual events of an afternoon of Olympics program.</span></span>

<span data-ttu-id="eaaa0-185">Con il manifesto dinamico, è possibile creare filtri basati sulle ore di inizio/fine e creare visualizzazioni virtuali all'inizio dell'archivio live.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-185">With Dynamic Manifest, you can create filters using start/end times and create virtual views over the top of your live archive.</span></span> 

![Filtro di sottoclip][subclip_filter]

<span data-ttu-id="eaaa0-187">Asset filtrato:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-187">Filtered Asset:</span></span>

![Sci][skiing]

## <a name="adjusting-presentation-window-dvr"></a><span data-ttu-id="eaaa0-189">Regolazione della finestra di presentazione (DVR)</span><span class="sxs-lookup"><span data-stu-id="eaaa0-189">Adjusting Presentation Window (DVR)</span></span>
<span data-ttu-id="eaaa0-190">Attualmente, Servizi multimediali di Azure offre un archivio circolare la cui durata può essere configurata tra 5 minuti e 25 ore.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-190">Currently, Azure Media Services offers circular archive where the duration can be configured between 5 minutes - 25 hours.</span></span> <span data-ttu-id="eaaa0-191">Usando i filtri del file manifesto, è possibile creare una finestra DVR in sequenza all'inizio dell'archivio, senza dover eliminare alcun contenuto.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-191">Manifest filtering can be used to create a rolling DVR window over the top of the archive, without deleting media.</span></span> <span data-ttu-id="eaaa0-192">Sono molti i casi in cui per un emittente può essere utile creare una finestra DVR limitata, in grado di spostarsi con il margine live, e al tempo stesso mantenere una finestra di archiviazione più grande.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-192">There are many scenarios where broadcasters want to provide a limited DVR window which moves with the live edge and at the same time keep a bigger archiving window.</span></span> <span data-ttu-id="eaaa0-193">Un emittente, ad esempio, può decidere di usare i dati esterni alla finestra DVR per evidenziare clip oppure fornire finestre DVR diverse per dispositivi diversi.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-193">A broadcaster may want to use the data that is out of the DVR window to highlight clips, or he\she may want to provide different DVR windows for different devices.</span></span> <span data-ttu-id="eaaa0-194">La maggior parte dei dispositivi mobili, inoltre, non è in grado di gestire finestre DVR di grandi dimensioni (è possibile usufruire di una finestra DVR di due minuti per i dispositivi mobile e di un'ora per i client desktop).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-194">For example, most of the mobile devices don’t handle big DVR windows (you can have a 2 minute DVR window for mobile devices and 1 hour for desktop clients).</span></span>

![Finestra DVR][dvr_filter]

## <a name="adjusting-livebackoff-live-position"></a><span data-ttu-id="eaaa0-196">Regolazione LiveBackoff (posizione live)</span><span class="sxs-lookup"><span data-stu-id="eaaa0-196">Adjusting LiveBackoff (live position)</span></span>
<span data-ttu-id="eaaa0-197">È possibile usare i filtri del file manifesto anche per rimuovere alcuni secondi dal margine live di un programma live.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-197">Manifest filtering can be used to remove several seconds from the live edge of a live program.</span></span> <span data-ttu-id="eaaa0-198">In questo modo, gli emittenti possono guardare la presentazione nel punto di pubblicazione di anteprima e creare punti di inserimento di annunci prima che i destinatari ricevano il flusso (in genere ritardato di 30 secondi).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-198">This allows broadcasters to watch the presentation on the preview publication point and create advertisement insertion points before the viewers receive the stream (usually backed-off by 30 seconds).</span></span> <span data-ttu-id="eaaa0-199">Gli emittenti possono quindi inserire questi annunci nel proprio Framework Client in tempo per poter ricevere ed elaborare le informazioni prima dell'opportunità di annuncio.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-199">Broadcasters can then push these advertisements to their client frameworks in time for them to received and process the information before the advertisement opportunity.</span></span>

<span data-ttu-id="eaaa0-200">Oltre a fornire il supporto per gli annunci pubblicitari, LiveBackoff consente anche di regolare la posizione di download live del client in modo che, nel momento in cui i client deviano e raggiungono il margine live, possono comunque ottenere dal server i frammenti desiderati, anziché gli errori HTTP 404 o 412.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-200">In addition to the advertisement support, LiveBackoff can be used for adjusting client live download position so that when clients drift and hit the live edge they can still get fragments from server instead of getting 404 or 412 HTTP errors.</span></span>

![livebackoff_filter][livebackoff_filter]

## <a name="combining-multiple-rules-in-a-single-filter"></a><span data-ttu-id="eaaa0-202">Combinazione di più regole in un unico filtro</span><span class="sxs-lookup"><span data-stu-id="eaaa0-202">Combining multiple rules in a single filter</span></span>
<span data-ttu-id="eaaa0-203">È possibile combinare più regole di filtro in un unico filtro.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-203">You can combine multiple filtering rules in a single filter.</span></span> <span data-ttu-id="eaaa0-204">Ad esempio, è possibile definire una regola di intervallo per rimuovere lo slate da un archivio live e applicare un filtro alle velocità in bit disponibili.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-204">As an example you can define a range rule to remove slate from a live archive and also filter available bitrates.</span></span> <span data-ttu-id="eaaa0-205">In caso di più regole di filtro, il risultato finale è la composizione (solo intersezione) di queste regole.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-205">For multiple filtering rules the end result is the composition (intersection only) of these rules.</span></span>

![multiple-rules][multiple-rules]

## <a name="create-filters-programmatically"></a><span data-ttu-id="eaaa0-207">Creare filtri a livello di codice</span><span class="sxs-lookup"><span data-stu-id="eaaa0-207">Create filters programmatically</span></span>
<span data-ttu-id="eaaa0-208">L'argomento seguente descrive le entità di Servizi multimediali correlate ai filtri.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-208">The following topic discusses Media Services entities that are related to filters.</span></span> <span data-ttu-id="eaaa0-209">Illustra anche la procedura per creare filtri a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-209">The topic also shows how to programmatically create filters.</span></span>  

<span data-ttu-id="eaaa0-210">[Creare filtri con le API REST](media-services-rest-dynamic-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-210">[Create filters with REST APIs](media-services-rest-dynamic-manifest.md).</span></span>

## <a name="combining-multiple-filters-filter-composition"></a><span data-ttu-id="eaaa0-211">Combinazione di più filtri (filtro composizione)</span><span class="sxs-lookup"><span data-stu-id="eaaa0-211">Combining multiple filters (filter composition)</span></span>
<span data-ttu-id="eaaa0-212">È inoltre possibile combinare più filtri in un singolo URL.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-212">You can also combine multiple filters in a single URL.</span></span> 

<span data-ttu-id="eaaa0-213">Lo scenario seguente illustra il motivo per cui è possibile combinare filtri:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-213">The following scenario demonstrates why you might want to combine filters:</span></span>

1. <span data-ttu-id="eaaa0-214">È necessario filtrare le qualità video per dispositivi mobili, come ad esempio  Android o iPad (per limitare le qualità video).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-214">You need to filter your video qualities for mobile devices such as Android or iPAD (in order to limit video qualities).</span></span> <span data-ttu-id="eaaa0-215">Per rimuovere le qualità indesiderate, creare un filtro globale adatto per i profili del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-215">To remove the unwanted qualities, you would create a global filter which is suitable for device profiles.</span></span> <span data-ttu-id="eaaa0-216">Come indicato in precedenza, i filtri globali possono essere utilizzati per tutte le attività con lo stesso account di servizi multimediali senza altre associazioni.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-216">As mentioned above, global filters can be used for all your assets under the same media services account without any further association.</span></span> 
2. <span data-ttu-id="eaaa0-217">Inoltre si desidera tagliare l'ora di inizio e fine di un asset.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-217">You also want to trim the start and end time of an asset.</span></span> <span data-ttu-id="eaaa0-218">A tale scopo, è necessario creare un filtro locale, impostare l'ora di inizio e fine.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-218">To achieve this, you would create a local filter and set the start/end time.</span></span> 
3. <span data-ttu-id="eaaa0-219">Si desidera combinare entrambi questi filtri (senza combinazione sarebbe necessario aggiungere il filtro qualità al filtro di taglio, il che rende difficile l'utilizzo del filtro).</span><span class="sxs-lookup"><span data-stu-id="eaaa0-219">You want to combine both of these filters (without combination you would need to add quality filtering to the trimming filter which will make filter usage difficult).</span></span>

<span data-ttu-id="eaaa0-220">Per combinare i filtri, è necessario impostare i nomi dei filtri per il manifesto/playlist URL delimitati dal punto e virgola.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-220">To combine filters, you need to set the filter names to the manifest/playlist URL with semicolon delimited.</span></span> <span data-ttu-id="eaaa0-221">Si supponga di disporre di un filtro denominato *MyMobileDevice* che filtra le qualità e di un altro filtro denominato *MyStartTime* per impostare una specifica ora di inizio.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-221">Let’s assume you have a filter named *MyMobileDevice* that filters qualities and you have another named *MyStartTime* to set a specific start time.</span></span> <span data-ttu-id="eaaa0-222">È possibile combinarli nel seguente modo:</span><span class="sxs-lookup"><span data-stu-id="eaaa0-222">You can combine them like this:</span></span>

    http://teststreaming.streaming.mediaservices.windows.net/3d56a4d-b71d-489b-854f-1d67c0596966/64ff1f89-b430-43f8-87dd-56c87b7bd9e2.ism/Manifest(filter=MyMobileDevice;MyStartTime)

<span data-ttu-id="eaaa0-223">È possibile combinare fino a 3 filtri.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-223">You can combine up to 3 filters.</span></span> 

<span data-ttu-id="eaaa0-224">Per altre informazioni, vedere [questo blog](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) .</span><span class="sxs-lookup"><span data-stu-id="eaaa0-224">For more information see [this](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span></span>

## <a name="know-issues-and-limitations"></a><span data-ttu-id="eaaa0-225">Problemi noti e limitazioni</span><span class="sxs-lookup"><span data-stu-id="eaaa0-225">Know issues and limitations</span></span>
* <span data-ttu-id="eaaa0-226">Il manifesto dinamico opera nei limiti dell'intervallo GOP (fotogrammi chiave) e, pertanto, il trimming eredita la precisione del GOP.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-226">Dynamic manifest operates in GOP boundaries (Key Frames) hence trimming has GOP accuracy.</span></span> 
* <span data-ttu-id="eaaa0-227">È possibile usare lo stesso nome di filtro per i filtri globali e locali.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-227">You can use same filter name for local and global filters.</span></span> <span data-ttu-id="eaaa0-228">I filtri locali, tuttavia, hanno la precedenza e sovrascrivono quindi i filtri globali.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-228">Note that local filter have higher precedence and will override global filters.</span></span>
* <span data-ttu-id="eaaa0-229">Se si aggiorna un filtro, l'endpoint di streaming può impiegare fino a due minuti per aggiornare le regole.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-229">If you update a filter, it can take up to 2 minutes for streaming endpoint to refresh the rules.</span></span> <span data-ttu-id="eaaa0-230">Se il contenuto è stato trasmesso usando dei filtri (e memorizzato nelle cache dei proxy e delle reti CDN), l'aggiornamento dei filtri può determinare un errore del lettore.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-230">If the content was served using some filters (and cached in proxies and CDN caches), updating these filters can result in player failures.</span></span> <span data-ttu-id="eaaa0-231">È consigliabile quindi cancellare la cache dopo aver aggiornato il filtro.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-231">It is recommend to clear the cache after updating the filter.</span></span> <span data-ttu-id="eaaa0-232">Se questa operazione non è consentita, prendere in considerazione la possibilità di usare un filtro diverso.</span><span class="sxs-lookup"><span data-stu-id="eaaa0-232">If this option is not possible, consider using a different filter.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="eaaa0-233">Percorsi di apprendimento di Servizi multimediali</span><span class="sxs-lookup"><span data-stu-id="eaaa0-233">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="eaaa0-234">Fornire commenti e suggerimenti</span><span class="sxs-lookup"><span data-stu-id="eaaa0-234">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="eaaa0-235">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="eaaa0-235">See Also</span></span>
[<span data-ttu-id="eaaa0-236">Informazioni generali sulla distribuzione di contenuti ai clienti</span><span class="sxs-lookup"><span data-stu-id="eaaa0-236">Delivering Content to Customers Overview</span></span>](media-services-deliver-content-overview.md)

[renditions1]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter.png
[renditions2]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter2.png

[rendered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[timeline_trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[timeline_trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png

[multiple-rules]:./media/media-services-dynamic-manifest-overview/media-services-multiple-rules-filters.png

[subclip_filter]: ./media/media-services-dynamic-manifest-overview/media-services-subclips-filter.png
[trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png
[trim_filter]: ./media/media-services-dynamic-manifest-overview/media-services-trim-filter.png
[redered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[livebackoff_filter]: ./media/media-services-dynamic-manifest-overview/media-services-livebackoff-filter.png
[language_filter]: ./media/media-services-dynamic-manifest-overview/media-services-language-filter.png
[dvr_filter]: ./media/media-services-dynamic-manifest-overview/media-services-dvr-filter.png
[skiing]: ./media/media-services-dynamic-manifest-overview/media-services-skiing.png
