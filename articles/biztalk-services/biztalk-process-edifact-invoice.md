---
title: 'Esercitazione: Elaborare fatture EDIFACT con Servizi BizTalk di Azure | Documentazione Microsoft'
description: Come toocreate e configurare app casella connettore o l'API di hello e utilizzarlo in un'app di logica nel servizio App di Azure
services: biztalk-services
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: 
ms.assetid: 7e0b93fa-3e2b-4a9c-89ef-abf1d3aa8fa9
ms.service: biztalk-services
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 05/31/2016
ms.author: deonhe
ms.openlocfilehash: 4ca021c9084b9b6540c93ef15fc3d44be0966970
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="tutorial-process-edifact-invoices-using-azure-biztalk-services"></a><span data-ttu-id="5b42c-103">Esercitazione: Elaborare fatture EDIFACT con Servizi BizTalk di Azure</span><span class="sxs-lookup"><span data-stu-id="5b42c-103">Tutorial: Process EDIFACT invoices using Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="5b42c-104">È possibile utilizzare tooconfigure portale dei servizi BizTalk di hello e distribuire accordi X12 ed EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="5b42c-104">You can use hello BizTalk Services Portal tooconfigure and deploy X12 and EDIFACT agreements.</span></span> <span data-ttu-id="5b42c-105">In questa esercitazione, verranno esaminate come toocreate un accordo EDIFACT per lo scambio di fatture tra partner commerciali.</span><span class="sxs-lookup"><span data-stu-id="5b42c-105">In this tutorial, we look at how toocreate an EDIFACT agreement for exchanging invoices between trading partners.</span></span> <span data-ttu-id="5b42c-106">L'esercitazione è relativa a una soluzione aziendale end-to-end che coinvolge due partner commerciali, Northwind e Contoso, che si scambiano messaggi EDIFAC.</span><span class="sxs-lookup"><span data-stu-id="5b42c-106">This tutorial is written around an end-to-end business solution involving two trading partners, Northwind and Contoso that exchange EDIFACT messages.</span></span>  

## <a name="sample-based-on-this-tutorial"></a><span data-ttu-id="5b42c-107">Esempio basato su questa esercitazione</span><span class="sxs-lookup"><span data-stu-id="5b42c-107">Sample based on this tutorial</span></span>
<span data-ttu-id="5b42c-108">Questa esercitazione è stata scritta su un esempio, **invio EDIFACT fatture mediante servizi BizTalk**, ovvero toodownload disponibile da hello [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span><span class="sxs-lookup"><span data-stu-id="5b42c-108">This tutorial is written around a sample, **Sending EDIFACT Invoices Using BizTalk Services**, which is available toodownload from hello [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span></span> <span data-ttu-id="5b42c-109">È possibile utilizzare l'esempio hello e scorrere questa esercitazione toounderstand come hello è stato creato.</span><span class="sxs-lookup"><span data-stu-id="5b42c-109">You could use hello sample and go through this tutorial toounderstand how hello sample was built.</span></span> <span data-ttu-id="5b42c-110">O, è possibile usare questa esercitazione toocreate soluzione zero.</span><span class="sxs-lookup"><span data-stu-id="5b42c-110">Or, you could use this tutorial toocreate your own solution ground-up.</span></span> <span data-ttu-id="5b42c-111">In questa esercitazione è mirata secondo approccio hello in modo da comprendere come è stata compilata la soluzione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-111">This tutorial is targeted towards hello second approach so that you understand how this solution was built.</span></span> <span data-ttu-id="5b42c-112">Inoltre, per quanto possibile, hello esercitazione è coerente con l'esempio hello e utilizza hello stessi nomi di elementi (ad esempio, schemi, trasformazioni) usati nell'esempio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-112">Also, as much as possible, hello tutorial is consistent with hello sample and uses hello same names for artifacts (for example, schemas, transforms) as used in hello sample.</span></span>  

> [!NOTE]
> <span data-ttu-id="5b42c-113">Poiché questa soluzione prevede l'invio di un messaggio da un bridge EDI tooan bridge EAI, Riutilizza hello [esempio di concatenamento di Bridge di servizi di BizTalk](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) esempio.</span><span class="sxs-lookup"><span data-stu-id="5b42c-113">Because this solution involves sending a message from an EAI bridge tooan EDI bridge, it reuses hello [BizTalk Services Bridge chaining sample](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) sample.</span></span>  
> 
> 

## <a name="what-does-hello-solution-do"></a><span data-ttu-id="5b42c-114">Qual è la soluzione hello?</span><span class="sxs-lookup"><span data-stu-id="5b42c-114">What does hello solution do?</span></span>
<span data-ttu-id="5b42c-115">In questa soluzione Northwind riceve da Contoso fatture EDIFACT</span><span class="sxs-lookup"><span data-stu-id="5b42c-115">In this solution, Northwind receives EDIFACT invoices from Contoso.</span></span> <span data-ttu-id="5b42c-116">che non sono in un formato EDI standard.</span><span class="sxs-lookup"><span data-stu-id="5b42c-116">These invoices are not in a standard EDI format.</span></span> <span data-ttu-id="5b42c-117">In tal caso, prima di inviare hello fattura tooNorthwind, deve essere trasformato tooan EDIFACT (nota anche come INVOIC) fattura.</span><span class="sxs-lookup"><span data-stu-id="5b42c-117">So, before sending hello invoice tooNorthwind, it must be transformed tooan EDIFACT invoice (also called INVOIC) document.</span></span> <span data-ttu-id="5b42c-118">Al momento della ricezione, Northwind deve elaborare una fattura EDIFACT hello e restituire un tooContoso di messaggi (noto anche come CONTRL) del controllo.</span><span class="sxs-lookup"><span data-stu-id="5b42c-118">On receipt, Northwind must process hello EDIFACT invoice, and return a control message (also called CONTRL) tooContoso.</span></span>

![][1]  

<span data-ttu-id="5b42c-119">tooachieve in questo scenario di business, Contoso Usa le funzionalità di hello fornite con i servizi BizTalk di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="5b42c-119">tooachieve this business scenario, Contoso uses hello features provided with Microsoft Azure BizTalk Services.</span></span>

* <span data-ttu-id="5b42c-120">Contoso utilizza EAI Bridge tootransform hello originale fattura tooEDIFACT INVOIC.</span><span class="sxs-lookup"><span data-stu-id="5b42c-120">Contoso uses EAI bridges tootransform hello original invoice tooEDIFACT INVOIC.</span></span>
* <span data-ttu-id="5b42c-121">bridge EAI Hello invia quindi tooan messaggio hello di trasmissione EDI bridge distribuito come parte di un accordo configurato nel portale dei servizi BizTalk di hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-121">hello EAI bridge then sends hello message tooan EDI send bridge deployed as part of an agreement configured in hello BizTalk Services Portal.</span></span>
* <span data-ttu-id="5b42c-122">bridge di trasmissione EDI Hello elabora hello INVOIC EDIFACT e lo indirizza tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-122">hello EDI send bridge processes hello EDIFACT INVOIC and routes it tooNorthwind.</span></span>
* <span data-ttu-id="5b42c-123">Dopo aver ricevuto la fattura hello, Northwind restituisce un toohello messaggio CONTRL di ricezione EDI distribuito come parte dell'accordo hello bridge.</span><span class="sxs-lookup"><span data-stu-id="5b42c-123">After receiving hello invoice, Northwind returns a CONTRL message toohello EDI receive bridge deployed as part of hello agreement.</span></span>  

> [!NOTE]
> <span data-ttu-id="5b42c-124">Facoltativamente, questa soluzione illustra anche come toouse batch toosend hello fatture in batch, anziché inviare separatamente ogni fattura.</span><span class="sxs-lookup"><span data-stu-id="5b42c-124">Optionally, this solution also demonstrates how toouse batching toosend hello invoices in batches, instead of sending each invoice separately.</span></span>  
> 
> 

<span data-ttu-id="5b42c-125">scenario di hello toocomplete, utilizziamo code del Bus di servizio toosend fattura da Contoso tooNorthwind o ricevere un acknowledgement da Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-125">toocomplete hello scenario, we use Service Bus queues toosend invoice from Contoso tooNorthwind or receive acknowledgement from Northwind.</span></span> <span data-ttu-id="5b42c-126">Queste code possono essere create utilizzando un'applicazione client, che è disponibile come download ed è inclusa nel pacchetto di esempio hello che è disponibile come parte di questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-126">These queues can be created using a client application, which is available as a download and is included in hello sample package that is available as part of this tutorial.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="5b42c-127">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="5b42c-127">Prerequisites</span></span>
* <span data-ttu-id="5b42c-128">È necessario disporre di uno spazio dei nomi di bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="5b42c-128">You must have a Service Bus namespace.</span></span> <span data-ttu-id="5b42c-129">Per istruzioni sulla creazione di uno spazio dei nomi, vedere [Procedura: Creare o modificare uno spazio dei nomi del servizio del bus di servizio](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span><span class="sxs-lookup"><span data-stu-id="5b42c-129">For instructions on creating a namespace, see [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span></span> <span data-ttu-id="5b42c-130">Si supponga di aver già effettuato il provisioning di uno spazio dei nomi di bus di servizio, denominato **edifactbts**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-130">Let us assume that you already have a Service Bus namespace provisioned, called **edifactbts**.</span></span>
* <span data-ttu-id="5b42c-131">È necessario disporre di una sottoscrizione a Servizi BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5b42c-131">You must have a BizTalk Services subscription.</span></span> <span data-ttu-id="5b42c-132">Per le istruzioni, vedere [Creazione di servizi BizTalk tramite il portale di Azure](http://go.microsoft.com/fwlink/?LinkID=302280).</span><span class="sxs-lookup"><span data-stu-id="5b42c-132">For instructions, see [Create a BizTalk Service using Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=302280).</span></span> <span data-ttu-id="5b42c-133">Per questa esercitazione, si supponga di avere una sottoscrizione a Servizi BizTalk, denominata **contosowabs**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-133">For this tutorial, let us assume you have a BizTalk Services subscription, called **contosowabs**.</span></span>
* <span data-ttu-id="5b42c-134">Registrare la sottoscrizione di servizi BizTalk nel portale dei servizi BizTalk di hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-134">Register your BizTalk Services subscription on hello BizTalk Services Portal.</span></span> <span data-ttu-id="5b42c-135">Per istruzioni, vedere [la registrazione di una distribuzione del servizio BizTalk nel portale dei servizi BizTalk di hello](https://msdn.microsoft.com/library/hh689837.aspx)</span><span class="sxs-lookup"><span data-stu-id="5b42c-135">For instructions, see [Registering a BizTalk Service Deployment on hello BizTalk Services Portal](https://msdn.microsoft.com/library/hh689837.aspx)</span></span>
* <span data-ttu-id="5b42c-136">È necessario aver installato Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5b42c-136">You must have Visual Studio installed.</span></span>
* <span data-ttu-id="5b42c-137">È necessario aver installato BizTalk Services SDK.</span><span class="sxs-lookup"><span data-stu-id="5b42c-137">You must have BizTalk Services SDK installed.</span></span> <span data-ttu-id="5b42c-138">È possibile scaricare hello SDK da [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span><span class="sxs-lookup"><span data-stu-id="5b42c-138">You can download hello SDK from [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span></span>  

## <a name="step-1-create-hello-service-bus-queues"></a><span data-ttu-id="5b42c-139">Passaggio 1: Creare hello code del Bus di servizio</span><span class="sxs-lookup"><span data-stu-id="5b42c-139">Step 1: Create hello Service Bus queues</span></span>
<span data-ttu-id="5b42c-140">Questa soluzione Usa il Bus di servizio accoda tooexchange i messaggi tra partner commerciali.</span><span class="sxs-lookup"><span data-stu-id="5b42c-140">This solution uses Service Bus queues tooexchange messages between trading partners.</span></span> <span data-ttu-id="5b42c-141">Contoso e Northwind inviano messaggi toohello code da dove i bridge EAI e/o EDI hello li utilizzano.</span><span class="sxs-lookup"><span data-stu-id="5b42c-141">Contoso and Northwind send messages toohello queues from where hello EAI and/or EDI bridges consume them.</span></span> <span data-ttu-id="5b42c-142">Per questa soluzione, sono necessarie tre code del bus di servizio:</span><span class="sxs-lookup"><span data-stu-id="5b42c-142">For this solution, you need three Service Bus queues:</span></span>

* <span data-ttu-id="5b42c-143">**northwindreceive** : Northwind riceve la fattura hello da Contoso tramite questa coda.</span><span class="sxs-lookup"><span data-stu-id="5b42c-143">**northwindreceive** – Northwind receives hello invoice from Contoso over this queue.</span></span>
* <span data-ttu-id="5b42c-144">**ContosoReceive** : Contoso riceve l'acknowledgement hello da Northwind tramite questa coda.</span><span class="sxs-lookup"><span data-stu-id="5b42c-144">**contosoreceive** – Contoso receives hello acknowledgement from Northwind over this queue.</span></span>
* <span data-ttu-id="5b42c-145">**sospeso** – tutti i messaggi sospesi vengono indirizzati toothis coda.</span><span class="sxs-lookup"><span data-stu-id="5b42c-145">**suspended** – All suspended messages are routed toothis queue.</span></span> <span data-ttu-id="5b42c-146">I messaggi vengono sospesi se presentano errori durante l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-146">Messages are suspended if they fail during processing.</span></span>

<span data-ttu-id="5b42c-147">È possibile creare le code del Bus di servizio tramite un'applicazione client inclusa nel pacchetto di esempio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-147">You can create these Service Bus queues by using a client application included in hello sample package.</span></span>  

1. <span data-ttu-id="5b42c-148">Dal percorso di hello in cui è stato scaricato l'esempio hello, aprire **esercitazione l'invio di fatture utilizzando BizTalk Services EDI Bridges.sln**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-148">From hello location where you downloaded hello sample, open **Tutorial Sending Invoices Using BizTalk Services EDI Bridges.sln**.</span></span>
2. <span data-ttu-id="5b42c-149">Premere **F5** toobuild e avviare hello **Tutorial Client** dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-149">Press **F5** toobuild and start hello **Tutorial Client** application.</span></span>
3. <span data-ttu-id="5b42c-150">Nella schermata di hello, immettere lo spazio dei nomi ACS di Bus di servizio di hello, nome dell'autorità emittente e chiave dell'autorità emittente.</span><span class="sxs-lookup"><span data-stu-id="5b42c-150">In hello screen, enter hello Service Bus ACS namespace, issuer name, and issuer key.</span></span>
   
   ![][2]  
4. <span data-ttu-id="5b42c-151">Un messaggio informa che verranno create tre code nello spazio dei nomi del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="5b42c-151">A message box prompts that three queues will be created in your Service Bus namespace.</span></span> <span data-ttu-id="5b42c-152">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-152">Click **OK**.</span></span>
5. <span data-ttu-id="5b42c-153">Lasciare hello Tutorial Client è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-153">Leave hello Tutorial Client running.</span></span> <span data-ttu-id="5b42c-154">Aprire hello, fare clic su **Bus di servizio** > ***lo spazio dei nomi del Bus di servizio*** > **code**e verificare che hello tre code siano state create.</span><span class="sxs-lookup"><span data-stu-id="5b42c-154">Open hello , click **Service Bus** > ***your Service Bus namespace*** > **Queues**, and verify that hello three queues are created.</span></span>  

## <a name="step-2-create-and-deploy-trading-partner-agreement"></a><span data-ttu-id="5b42c-155">Passaggio 2: creare e distribuire un contratto tra partner commerciali</span><span class="sxs-lookup"><span data-stu-id="5b42c-155">Step 2: Create and deploy trading partner agreement</span></span>
<span data-ttu-id="5b42c-156">Creare un accordo tra partner commerciali tra Contoso e Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-156">Create a trading partner agreement between Contoso and Northwind.</span></span> <span data-ttu-id="5b42c-157">Un accordo tra partner commerciali definisce un contratto commerciale tra partner commerciali hello due, ad esempio quali toouse dello schema di messaggio, quali la messaggistica protocollo toouse e così via. Un accordo tra partner commerciali include due Bridge EDI, uno toosend messaggi tootrading partner (chiamato hello **bridge di invio EDI**) e uno tooreceive messaggi dai partner commerciali (denominato hello **bridge di ricezione EDI**).</span><span class="sxs-lookup"><span data-stu-id="5b42c-157">A trading partner agreement defines a trade contract between hello two business partners, such as which message schema toouse, which messaging protocol toouse, etc. A trading partner agreement includes two EDI bridges, one toosend messages tootrading partners (called hello **EDI Send bridge**) and one tooreceive messages from trading partners (called hello **EDI Receive bridge**).</span></span>

<span data-ttu-id="5b42c-158">Nel contesto di hello di questa soluzione, il bridge di trasmissione EDI hello corrisponde toohello lato invio dell'accordo hello e toosend utilizzati hello EDIFACT fattura da Contoso tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-158">In hello context of this solution, hello EDI send bridge corresponds toohello send-side of hello agreement and is used toosend hello EDIFACT invoice from Contoso tooNorthwind.</span></span> <span data-ttu-id="5b42c-159">Analogamente, bridge di ricezione EDI hello corrisponde toohello sul lato di ricezione dell'accordo hello e viene utilizzato tooreceive acknowledgement da Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-159">Similarly, hello EDI receive bridge corresponds toohello receive-side of hello agreement and is used tooreceive acknowledgements from Northwind.</span></span>  

### <a name="create-hello-trading-partners"></a><span data-ttu-id="5b42c-160">Creare i partner commerciali hello</span><span class="sxs-lookup"><span data-stu-id="5b42c-160">Create hello trading partners</span></span>
<span data-ttu-id="5b42c-161">toostart, creare i partner commerciali per Contoso e Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-161">toostart with, create trading partners for Contoso and Northwind.</span></span>  

1. <span data-ttu-id="5b42c-162">Nel portale dei servizi BizTalk, di hello in hello **partner** scheda, fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-162">In hello BizTalk Services Portal, on hello **Partners** tab, click **Add**.</span></span>
2. <span data-ttu-id="5b42c-163">In hello pagina nuovo partner immettere **Contoso** come nome del partner e quindi fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-163">In hello New partner page, enter **Contoso** as a partner name, and then click **Save**.</span></span>
3. <span data-ttu-id="5b42c-164">Hello ripetere il passaggio toocreate hello secondo partner, **Northwind**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-164">Repeat hello step toocreate hello second partner, **Northwind**.</span></span>  

### <a name="create-hello-agreement"></a><span data-ttu-id="5b42c-165">Creare il contratto di hello</span><span class="sxs-lookup"><span data-stu-id="5b42c-165">Create hello agreement</span></span>
<span data-ttu-id="5b42c-166">Gli accordi tra partner commerciali vengono creati tra i profili di business dei partner coinvolti.</span><span class="sxs-lookup"><span data-stu-id="5b42c-166">Trading partner agreements are created between business profiles of trading partners.</span></span> <span data-ttu-id="5b42c-167">Questa soluzione Usa i profili di partner hello predefiniti che vengono creati automaticamente quando abbiamo creato i partner hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-167">This solution uses hello default partner profiles that are automatically created when we created hello partners.</span></span>  

1. <span data-ttu-id="5b42c-168">Nel portale dei servizi BizTalk di hello, fare clic su **contratti** > **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-168">In hello BizTalk Services Portal, click **Agreements** > **Add**.</span></span>
2. <span data-ttu-id="5b42c-169">In hello del nuovo accordo **impostazioni generali** pagina specificare i valori hello come illustrato nell'immagine di hello seguente e quindi fare clic su **continua**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-169">In hello new agreement’s **General Settings** page, specify hello values as shown in hello image below, and then click **Continue**.</span></span>
   
   ![][3]  
   
   <span data-ttu-id="5b42c-170">Dopo avere fatto clic su **Continua**, diventano disponibili due schede, **Impostazioni di ricezione** e **Impostazioni di invio**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-170">After you click **Continue**, two tabs, **Receive Settings** and **Send Settings** become available.</span></span>
3. <span data-ttu-id="5b42c-171">Creare il contratto di invio hello tra Contoso e Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-171">Create hello send agreement between Contoso and Northwind.</span></span> <span data-ttu-id="5b42c-172">Questo accordo definisce il modo in cui Contoso invia tooNorthwind di fattura EDIFACT hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-172">This agreement governs how Contoso sends hello EDIFACT invoice tooNorthwind.</span></span>
   
   1. <span data-ttu-id="5b42c-173">Fare clic su **Send Settings**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-173">Click **Send Settings**.</span></span>
   2. <span data-ttu-id="5b42c-174">Mantenere i valori predefiniti di hello in hello **URL in ingresso**, **trasformare**, e **batch** schede.</span><span class="sxs-lookup"><span data-stu-id="5b42c-174">Retain hello default values on hello **Inbound URL**, **Transform**, and **Batching** tabs.</span></span>
   3. <span data-ttu-id="5b42c-175">In hello **protocollo** scheda hello **schemi** sezione, caricare hello **EFACT_D93A_INVOIC.xsd** dello schema.</span><span class="sxs-lookup"><span data-stu-id="5b42c-175">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_D93A_INVOIC.xsd** schema.</span></span> <span data-ttu-id="5b42c-176">Questo schema è disponibile con il pacchetto di esempio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-176">This schema is available with hello sample package.</span></span>
      
      ![][4]  
   4. <span data-ttu-id="5b42c-177">In hello **trasporto** scheda, specificare i dettagli di hello per le code del Bus di servizio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-177">On hello **Transport** tab, specify hello details for hello Service Bus queues.</span></span> <span data-ttu-id="5b42c-178">Per contratto lato invio hello, utilizziamo hello **northwindreceive** coda toosend hello EDIFACT fattura tooNorthwind e hello **sospeso** coda di messaggi non riusciti durante l'elaborazione e vengono tooroute sospeso.</span><span class="sxs-lookup"><span data-stu-id="5b42c-178">For hello send-side agreement, we use hello **northwindreceive** queue toosend hello EDIFACT invoice tooNorthwind, and hello **suspended** queue tooroute any messages that fail during processing and are suspended.</span></span> <span data-ttu-id="5b42c-179">È stato creato queste code in **passaggio 1: creare le code del Bus di servizio di hello** (in questo argomento).</span><span class="sxs-lookup"><span data-stu-id="5b42c-179">You created these queues in **Step 1: Create hello Service Bus queues** (in this topic).</span></span>
      
      ![][5]  
      
      <span data-ttu-id="5b42c-180">In **le impostazioni di trasporto > tipo di trasporto** e **impostazioni sospensione messaggi > tipo di trasporto**, selezionare il Bus di servizio di Azure e fornire i valori hello come illustrato nella figura hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-180">Under **Transport Settings > Transport type** and **Message Suspension Settings > Transport type**, select Azure Service Bus and provide hello values as shown in hello image.</span></span>
4. <span data-ttu-id="5b42c-181">Creare hello accordo tra Contoso e Northwind per la ricezione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-181">Create hello receive agreement between Contoso and Northwind.</span></span> <span data-ttu-id="5b42c-182">Questo accordo definisce come Contoso riceve l'acknowledgement di hello da Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-182">This agreement governs how Contoso receives hello acknowledgement from Northwind.</span></span>
   
   1. <span data-ttu-id="5b42c-183">Fare clic su **Receive Settings**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-183">Click **Receive Settings**.</span></span>
   2. <span data-ttu-id="5b42c-184">Mantenere i valori predefiniti di hello in hello **trasporto** e **trasformare** schede.</span><span class="sxs-lookup"><span data-stu-id="5b42c-184">Retain hello default values on hello **Transport** and **Transform** tabs.</span></span>
   3. <span data-ttu-id="5b42c-185">In hello **protocollo** scheda hello **schemi** sezione, caricare hello **EFACT_4.1_CONTRL.xsd** dello schema.</span><span class="sxs-lookup"><span data-stu-id="5b42c-185">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_4.1_CONTRL.xsd** schema.</span></span> <span data-ttu-id="5b42c-186">Questo schema è disponibile con il pacchetto di esempio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-186">This schema is available with hello sample package.</span></span>
   4. <span data-ttu-id="5b42c-187">In hello **Route** scheda, creare un filtro tooensure che solo gli acknowledgement di Northwind sono tooContoso indirizzato.</span><span class="sxs-lookup"><span data-stu-id="5b42c-187">On hello **Route** tab, create a filter tooensure that only acknowledgements from Northwind are routed tooContoso.</span></span> <span data-ttu-id="5b42c-188">In **impostazioni Route**, fare clic su **Aggiungi** toocreate hello filtro di routing.</span><span class="sxs-lookup"><span data-stu-id="5b42c-188">Under **Route Settings**, click **Add** toocreate hello routing filter.</span></span>
      
      ![][6]  
      
      1. <span data-ttu-id="5b42c-189">Specificare i valori per **nome regola**, **regola Route**, e **destinazione Route** come illustrato nella figura hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-189">Provide values for **Rule Name**, **Route rule**, and **Route destination** as shown in hello image.</span></span>
      2. <span data-ttu-id="5b42c-190">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-190">Click **Save**.</span></span>
   5. <span data-ttu-id="5b42c-191">In hello **Route** nuovamente, specificare quale vengono instradati gli acknowledgement sospesi (riconoscimenti con esito negativo durante l'elaborazione).</span><span class="sxs-lookup"><span data-stu-id="5b42c-191">On hello **Route** tab again, specify where suspended acknowledgements (acknowledgements that fail during processing) are routed to.</span></span> <span data-ttu-id="5b42c-192">Impostare tooAzure tipo di trasporto hello Bus di servizio, tipo di destinazione route troppo**coda**, il tipo di autenticazione è troppo**firma di accesso condiviso** (SAS), specificare relativa stringa di connessione hello per hello Bus di servizio spazio dei nomi, quindi immettere come nome della coda hello **sospeso**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-192">Set hello transport type tooAzure Service Bus, route destination type too**Queue**, authentication type too**Shared Access Signature** (SAS), provide hello SAS connection string for hello Service Bus namespace, and then enter hello queue name as **suspended**.</span></span>
5. <span data-ttu-id="5b42c-193">Infine, fare clic su **Distribuisci** contratto hello toodeploy.</span><span class="sxs-lookup"><span data-stu-id="5b42c-193">Finally, click **Deploy** toodeploy hello agreement.</span></span> <span data-ttu-id="5b42c-194">Gli endpoint di hello nota in cui hello inviare e ricevere i contratti vengono distribuiti.</span><span class="sxs-lookup"><span data-stu-id="5b42c-194">Note hello endpoints where hello send and receive agreements get deployed.</span></span>
   
   * <span data-ttu-id="5b42c-195">In hello **impostazioni di invio** scheda **URL in ingresso**, notare hello endpoint.</span><span class="sxs-lookup"><span data-stu-id="5b42c-195">On hello **Send Settings** tab, under **Inbound URL**, note hello endpoint.</span></span> <span data-ttu-id="5b42c-196">toosend un messaggio da Contoso tooNorthwind utilizzando hello bridge di trasmissione EDI, è necessario inviare un endpoint toothis del messaggio.</span><span class="sxs-lookup"><span data-stu-id="5b42c-196">toosend a message from Contoso tooNorthwind using hello EDI send bridge, you must send a message toothis endpoint.</span></span>
   * <span data-ttu-id="5b42c-197">In hello **impostazioni di ricezione** scheda **trasporto**, notare hello endpoint.</span><span class="sxs-lookup"><span data-stu-id="5b42c-197">On hello **Receive Settings** tab, under **Transport**, note hello endpoint.</span></span> <span data-ttu-id="5b42c-198">bridge di ricezione toosend un messaggio da Northwind tooContoso utilizzando hello EDI, è necessario inviare un endpoint toothis del messaggio.</span><span class="sxs-lookup"><span data-stu-id="5b42c-198">toosend a message from Northwind tooContoso using hello EDI receive bridge, you must send a message toothis endpoint.</span></span>  

## <a name="step-3-create-and-deploy-hello-biztalk-services-project"></a><span data-ttu-id="5b42c-199">Passaggio 3: Creare e distribuire il progetto di servizi BizTalk di hello</span><span class="sxs-lookup"><span data-stu-id="5b42c-199">Step 3: Create and deploy hello BizTalk Services project</span></span>
<span data-ttu-id="5b42c-200">Nel passaggio precedente hello è distribuito hello EDI inviare e ricevere le fatture EDIFACT tooprocess di contratti e riconoscimenti.</span><span class="sxs-lookup"><span data-stu-id="5b42c-200">In hello previous step, you deployed hello EDI send and receive agreements tooprocess EDIFACT invoices and acknowledgements.</span></span> <span data-ttu-id="5b42c-201">Questi accordi possono elaborare solo messaggi conformi toohello schema del messaggio EDIFACT standard.</span><span class="sxs-lookup"><span data-stu-id="5b42c-201">These agreements can only process messages that conform toohello standard EDIFACT message schema.</span></span> <span data-ttu-id="5b42c-202">Tuttavia, per ogni scenario hello per questa soluzione, Contoso invia un tooNorthwind fattura in uno schema proprietario interno.</span><span class="sxs-lookup"><span data-stu-id="5b42c-202">However, per hello scenario for this solution, Contoso sends an invoice tooNorthwind in an in-house proprietary schema.</span></span> <span data-ttu-id="5b42c-203">In tal caso, prima che il messaggio hello viene inviato toohello bridge di trasmissione EDI, devono essere trasformato da hello schema interne toohello schema EDIFACT standard fattura.</span><span class="sxs-lookup"><span data-stu-id="5b42c-203">So, before hello message is sent toohello EDI send bridge, it must be transformed from hello in-house schema toohello standard EDIFACT invoice schema.</span></span> <span data-ttu-id="5b42c-204">progetto EAI servizi BizTalk di Hello vengono eseguite.</span><span class="sxs-lookup"><span data-stu-id="5b42c-204">hello BizTalk Services EAI project does that.</span></span>

<span data-ttu-id="5b42c-205">progetto di servizi BizTalk di Hello, **InvoiceProcessingBridge**, che le trasformazioni hello messaggio è anche inclusa come parte dell'esempio hello è stato scaricato.</span><span class="sxs-lookup"><span data-stu-id="5b42c-205">hello BizTalk Services project, **InvoiceProcessingBridge**, that transforms hello message is also included as part of hello sample you downloaded.</span></span> <span data-ttu-id="5b42c-206">progetto Hello include hello seguenti elementi:</span><span class="sxs-lookup"><span data-stu-id="5b42c-206">hello project includes hello following artifacts:</span></span>

* <span data-ttu-id="5b42c-207">**INHOUSEINVOICE. XSD** : Schema della fattura interna hello inviato tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-207">**INHOUSEINVOICE.XSD** – Schema of hello in-house invoice that is sent tooNorthwind.</span></span>
* <span data-ttu-id="5b42c-208">**EFACT_D93A_INVOIC. XSD** : Schema della fattura EDIFACT standard hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-208">**EFACT_D93A_INVOIC.XSD** – Schema of hello standard EDIFACT invoice.</span></span>
* <span data-ttu-id="5b42c-209">**EFACT_4.1_CONTRL. XSD** : Schema di riconoscimento EDIFACT hello che Northwind invia tooContoso.</span><span class="sxs-lookup"><span data-stu-id="5b42c-209">**EFACT_4.1_CONTRL.XSD** – Schema of hello EDIFACT acknowledgement that Northwind sends tooContoso.</span></span>
* <span data-ttu-id="5b42c-210">**INHOUSEINVOICE_to_D93AINVOIC. TRFM** : hello trasformazione che esegue il mapping hello in-House invoice schema toohello schema EDIFACT standard fattura.</span><span class="sxs-lookup"><span data-stu-id="5b42c-210">**INHOUSEINVOICE_to_D93AINVOIC.TRFM** – hello transform that maps hello in-house invoice schema toohello standard EDIFACT invoice schema.</span></span>  

### <a name="create-hello-biztalk-services-project"></a><span data-ttu-id="5b42c-211">Creare il progetto di servizi BizTalk di hello</span><span class="sxs-lookup"><span data-stu-id="5b42c-211">Create hello BizTalk Services project</span></span>
1. <span data-ttu-id="5b42c-212">In hello soluzione di Visual Studio, espandere progetto InvoiceProcessingBridge hello e quindi aprire hello **MessageFlowItinerary.bcs** file.</span><span class="sxs-lookup"><span data-stu-id="5b42c-212">In hello Visual Studio solution, expand hello InvoiceProcessingBridge project, and then open hello **MessageFlowItinerary.bcs** file.</span></span>
2. <span data-ttu-id="5b42c-213">Fare clic in un punto qualsiasi nell'area di disegno hello e impostare hello **URL del servizio BizTalk** hello toospecify casella proprietà il nome della sottoscrizione dei servizi BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5b42c-213">Click anywhere on hello canvas and set hello **BizTalk Service URL** in hello property box toospecify your BizTalk Services subscription name.</span></span> <span data-ttu-id="5b42c-214">ad esempio `https://contosowabs.biztalk.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="5b42c-214">For example, `https://contosowabs.biztalk.windows.net`.</span></span>
   
   ![][7]  
3. <span data-ttu-id="5b42c-215">Dalla casella degli strumenti hello, trascinare un **Bridge Xml unidirezionale** toohello area di disegno.</span><span class="sxs-lookup"><span data-stu-id="5b42c-215">From hello toolbox, drag an **Xml One-Way Bridge** toohello canvas.</span></span> <span data-ttu-id="5b42c-216">Set hello **nome entità** e **indirizzo relativo** le proprietà di hello bridge troppo**ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-216">Set hello **Entity Name** and **Relative Address** properties of hello bridge too**ProcessInvoiceBridge**.</span></span> <span data-ttu-id="5b42c-217">Fare doppio clic su **ProcessInvoiceBridge** tooopen superficie di configurazione del bridge hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-217">Double-click **ProcessInvoiceBridge** tooopen hello bridge configuration surface.</span></span>
4. <span data-ttu-id="5b42c-218">All'interno di hello **tipi di messaggio** fare clic su hello segno più (**+**) dello schema di hello toospecify pulsante del messaggio in ingresso.</span><span class="sxs-lookup"><span data-stu-id="5b42c-218">Within hello **Message Types** box, click hello plus (**+**) button toospecify hello schema of hello incoming message.</span></span> <span data-ttu-id="5b42c-219">Poiché il messaggio in ingresso hello per hello bridge EAI è sempre in-House invoice hello, impostare questo troppo**INHOUSEINVOICE**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-219">Because hello incoming message for hello EAI bridge is always hello in-house invoice, set this too**INHOUSEINVOICE**.</span></span>
   
   ![][8]  
5. <span data-ttu-id="5b42c-220">Fare clic su hello **Xml Transform** forma, hello proprietà e nella casella per hello **mappe** proprietà, fare clic sui puntini di sospensione hello (**...** ) pulsante.</span><span class="sxs-lookup"><span data-stu-id="5b42c-220">Click hello **Xml Transform** shape, and in hello property box, for hello **Maps** property, click hello ellipsis (**...**) button.</span></span> <span data-ttu-id="5b42c-221">In hello **selezione mappe** la finestra di dialogo, seleziona hello **INHOUSEINVOICE_to_D93AINVOIC** trasformare il file e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-221">In hello **Maps Selection** dialog box, select hello **INHOUSEINVOICE_to_D93AINVOIC** transform file, and then click **OK**.</span></span>
   
   ![][9]  
6. <span data-ttu-id="5b42c-222">Tornare indietro troppo**MessageFlowItinerary.bcs**, trascinarlo dalla casella degli strumenti hello, un **Endpoint di servizio esterno bidirezionale** toohello diritto di hello **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-222">Go back too**MessageFlowItinerary.bcs**, and from hello toolbox, drag a **Two-Way External Service Endpoint** toohello right of hello **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="5b42c-223">Impostare il relativo **nome entità** proprietà troppo**EDIBridge**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-223">Set its **Entity Name** property too**EDIBridge**.</span></span>
7. <span data-ttu-id="5b42c-224">In Esplora soluzioni hello, espandere hello **MessageFlowItinerary.bcs** fare doppio clic su hello **Edibridge** file.</span><span class="sxs-lookup"><span data-stu-id="5b42c-224">In hello Solution Explorer, expand hello **MessageFlowItinerary.bcs** and double-click hello **EDIBridge.config** file.</span></span> <span data-ttu-id="5b42c-225">Sostituire il contenuto di hello hello **Edibridge** con seguenti hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-225">Replace hello content of hello **EDIBridge.config** with hello following.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="5b42c-226">Motivo per cui sono file con estensione config tooedit hello? endpoint del servizio esterno Hello che abbiamo aggiunto toohello canvas di progettazione bridge rappresenta i bridge EDI hello distribuiti in precedenza.</span><span class="sxs-lookup"><span data-stu-id="5b42c-226">Why do I need tooedit hello .config file? hello external service endpoint that we added toohello bridge designer canvas represents hello EDI bridges that we deployed earlier.</span></span> <span data-ttu-id="5b42c-227">I bridge EDI sono bidirezionali, con un lato invio e un lato ricezione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-227">EDI bridges are two-way bridges, with a send and receive side.</span></span> <span data-ttu-id="5b42c-228">Tuttavia, hello bridge EAI, che è stato aggiunto di progettazione del bridge toohello è un bridge unidirezionale.</span><span class="sxs-lookup"><span data-stu-id="5b42c-228">However, hello EAI bridge that we added toohello bridge designer is a one-way bridge.</span></span> <span data-ttu-id="5b42c-229">In tal caso, toohandle hello diversi modelli di scambio messaggi di due Bridge hello, utilizziamo un comportamento di bridge personalizzato includendo la configurazione nel file hello. config.</span><span class="sxs-lookup"><span data-stu-id="5b42c-229">So, toohandle hello different message exchange patterns of hello two bridges, we use a custom bridge behavior by including its configuration in hello .config file.</span></span> <span data-ttu-id="5b42c-230">Inoltre, un comportamento personalizzato hello gestisce inoltre l'endpoint del bridge trasmissione EDI toohello autenticazione hello. Questo comportamento personalizzato è disponibile come esempio separato in [esempio - tooEDI EAI di concatenamento di Bridge di servizi di BizTalk](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span><span class="sxs-lookup"><span data-stu-id="5b42c-230">Additionally, hello custom behavior also handles hello authentication toohello EDI send bridge endpoint.This custom behavior is available as a separate sample at [BizTalk Services Bridge chaining sample - EAI tooEDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span></span> <span data-ttu-id="5b42c-231">Questa soluzione riusa l'esempio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-231">This solution reuses hello sample.</span></span>  
   > 
   > 
   
   ```
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <system.serviceModel>
       <extensions>
         <behaviorExtensions>
           <add name="BridgeAuthentication" 
                 type="Microsoft.BizTalk.Bridge.Behaviour.BridgeBehaviorElement, Microsoft.BizTalk.Bridge.Behaviour, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ae58f69b69495c05" />
         </behaviorExtensions>
       </extensions>
       <behaviors>
         <endpointBehaviors>
           <behavior name="BridgeAuthenticationConfiguration">
             <!-- Enter hello ACS namespace, issuer name and issuer secret of hello BizTalk Services deployment -->
             <BridgeAuthentication acsnamespace="[YOUR ACS NAMESPACE]" 
                                   issuername="owner" 
                                   issuersecret="[YOUR ACS SECRET]" />
             <webHttp />
           </behavior>
         </endpointBehaviors>
       </behaviors>
       <bindings>
         <webHttpBinding>
           <binding name="BridgeBindingConfiguration">
             <security mode="Transport" />
           </binding>
         </webHttpBinding>
       </bindings>
       <client>
         <clear />
         <!--
           Go BizTalk Portal > Agreement > Send Settings > Inbound URL
           Copy hello Endpoint URL and paste it in hello below address field
         -->
         <endpoint name="TwoWayExternalServiceEndpointReference1" 
                   address="[YOUR EDI BRIDGE SEND URI]" 
                   behaviorConfiguration="BridgeAuthenticationConfiguration" 
                   binding="webHttpBinding" 
                   bindingConfiguration="BridgeBindingConfiguration" 
                   contract="System.ServiceModel.Routing.IRequestReplyRouter" />
       </client>
     </system.serviceModel>
   </configuration>
   
   ```
8. <span data-ttu-id="5b42c-232">Aggiornare i dettagli di configurazione tooinclude file Edibridge hello</span><span class="sxs-lookup"><span data-stu-id="5b42c-232">Update hello EDIBridge.config file tooinclude configuration details</span></span>
   
   * <span data-ttu-id="5b42c-233">In  *<behaviors>* , fornire hello spazio dei nomi ACS e chiave associata a hello sottoscrizione dei servizi BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5b42c-233">Under *<behaviors>*, provide hello ACS namespace and key associated with hello BizTalk Services subscription.</span></span>
   * <span data-ttu-id="5b42c-234">In  *<client>* , forniscono hello endpoint in cui viene distribuito l'accordo di trasmissione EDI hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-234">Under *<client>*, provide hello endpoint where hello EDI send agreement is deployed.</span></span>
   
   <span data-ttu-id="5b42c-235">Salvare le modifiche e chiudere il file di configurazione di hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-235">Save changes and close hello configuration file.</span></span>
9. <span data-ttu-id="5b42c-236">Dalla casella degli strumenti hello, fare clic su hello **connettore** e hello join **ProcessInvoiceBridge** e **EDIBridge** componenti.</span><span class="sxs-lookup"><span data-stu-id="5b42c-236">From hello Toolbox, click hello **Connector** and join hello **ProcessInvoiceBridge** and **EDIBridge** components.</span></span> <span data-ttu-id="5b42c-237">Selezionare il connettore hello e nella finestra Proprietà impostare **condizione di filtro** troppo**trova tutte le corrispondenze**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-237">Select hello connector, and in Properties box, set **Filter Condition** too**Match All**.</span></span> <span data-ttu-id="5b42c-238">In questo modo si garantisce che tutti i messaggi elaborati da hello bridge EAI vengono instradati bridge EDI toohello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-238">This ensures that all messages processed by hello EAI bridge are routed toohello EDI bridge.</span></span>
   
   ![][10]  
10. <span data-ttu-id="5b42c-239">Salvare le modifiche toohello soluzione.</span><span class="sxs-lookup"><span data-stu-id="5b42c-239">Save changes toohello solution.</span></span>  

### <a name="deploy-hello-project"></a><span data-ttu-id="5b42c-240">Distribuire il progetto hello</span><span class="sxs-lookup"><span data-stu-id="5b42c-240">Deploy hello project</span></span>
1. <span data-ttu-id="5b42c-241">Nel computer in cui è stato creato il progetto di servizi BizTalk di hello hello scaricare e installare il certificato SSL hello per la sottoscrizione di servizi BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5b42c-241">On hello computer where you created hello BizTalk Services project, download and install hello SSL certificate for your BizTalk Services subscription.</span></span> <span data-ttu-id="5b42c-242">Da , in Servizi BizTalk fare clic su **Dashboard**, quindi su **Scarica certificato SSL**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-242">From , under BizTalk Services, click **Dashboard**, and then click **Download SSL Certificate**.</span></span> <span data-ttu-id="5b42c-243">Fare doppio clic sul certificato hello e seguire l'installazione di hello hello toocomplete prompt dei comandi.</span><span class="sxs-lookup"><span data-stu-id="5b42c-243">Double-click hello certificate and follow hello prompt toocomplete hello installation.</span></span> <span data-ttu-id="5b42c-244">Assicurarsi di installare il certificato di hello in **autorità di certificazione radice attendibili** archivio certificati.</span><span class="sxs-lookup"><span data-stu-id="5b42c-244">Make sure you install hello certificate under **Trusted Root Certification Authorities** certificate store.</span></span>
2. <span data-ttu-id="5b42c-245">In Esplora soluzioni di Visual Studio, fare clic sul hello **InvoiceProcessingBridge** del progetto e quindi fare clic su **Distribuisci**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-245">In Visual Studio Solution Explorer, right-click hello **InvoiceProcessingBridge** project, and then click **Deploy**.</span></span>
3. <span data-ttu-id="5b42c-246">Specificare i valori di hello, come illustrato nella figura hello e quindi fare clic su **Distribuisci**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-246">Provide hello values as shown in hello image, and then click **Deploy**.</span></span> <span data-ttu-id="5b42c-247">È possibile ottenere le credenziali di hello ACS per i servizi BizTalk facendo **informazioni di connessione** dal dashboard servizi BizTalk di hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-247">You can get hello ACS credentials for BizTalk Services by clicking **Connection Information** from hello BizTalk Services dashboard.</span></span>
   
   ![][11]  
   
   <span data-ttu-id="5b42c-248">Dal riquadro di output di hello, copiare hello endpoint in cui hello bridge EAI è distribuito, ad esempio, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span><span class="sxs-lookup"><span data-stu-id="5b42c-248">From hello output pane, copy hello endpoint where hello EAI bridge is deployed, for example, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span></span> <span data-ttu-id="5b42c-249">L'URL di questo endpoint sarà necessario più avanti.</span><span class="sxs-lookup"><span data-stu-id="5b42c-249">You will need this endpoint URL later.</span></span>  

## <a name="step-4-test-hello-solution"></a><span data-ttu-id="5b42c-250">Passaggio 4: Testare la soluzione hello</span><span class="sxs-lookup"><span data-stu-id="5b42c-250">Step 4: Test hello solution</span></span>
<span data-ttu-id="5b42c-251">In questo argomento, viene analizzato in che modo tootest hello soluzione utilizzando hello **Tutorial Client** applicazione fornito come parte dell'esempio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-251">In this topic, we look at how tootest hello solution by using hello **Tutorial Client** application provided as part of hello sample.</span></span>  

1. <span data-ttu-id="5b42c-252">In Visual Studio, premere F5 toostart hello **Tutorial Client**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-252">In Visual Studio, press F5 toostart hello **Tutorial Client**.</span></span>
2. <span data-ttu-id="5b42c-253">schermata di Hello deve avere i valori di hello inseriti passaggio hello a cui è stato creato hello code del Bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="5b42c-253">hello screen must have hello values prepopulated from hello step where we created hello Service Bus queues.</span></span> <span data-ttu-id="5b42c-254">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-254">Click **Next**.</span></span>
3. <span data-ttu-id="5b42c-255">Nella finestra successiva hello, fornire le credenziali ACS per sottoscrizione dei servizi BizTalk e hello endpoint in cui EAI ed EDI (ricezione) sono distribuiti i Bridge.</span><span class="sxs-lookup"><span data-stu-id="5b42c-255">In hello next window, provide ACS credentials for BizTalk Services subscription, and hello endpoints where EAI and EDI (receive) bridges are deployed.</span></span>
   
   <span data-ttu-id="5b42c-256">Endpoint del bridge EAI hello era stato copiato nel passaggio precedente hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-256">You had copied hello EAI bridge endpoint in hello previous step.</span></span> <span data-ttu-id="5b42c-257">Per l'endpoint del bridge, di ricezione EDI nel portale dei servizi BizTalk di hello, passare toohello accordo > Impostazioni di ricezione > trasporto > Endpoint.</span><span class="sxs-lookup"><span data-stu-id="5b42c-257">For EDI receive bridge endpoint, in hello BizTalk Services Portal, go toohello agreement > Receive Settings > Transport > Endpoint.</span></span>
   
   ![][12]  
4. <span data-ttu-id="5b42c-258">Nella finestra successiva hello in Contoso, fare clic su hello **invio fattura interna** pulsante.</span><span class="sxs-lookup"><span data-stu-id="5b42c-258">In hello next window, under Contoso, click hello **Send In-house Invoice** button.</span></span> <span data-ttu-id="5b42c-259">Nel File hello aprire la finestra di dialogo, aprire il file INHOUSEINVOICE.txt hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-259">In hello File open dialog box, open hello INHOUSEINVOICE.txt file.</span></span> <span data-ttu-id="5b42c-260">Esaminare il contenuto di hello del file hello e quindi fare clic su **OK** fattura hello toosend.</span><span class="sxs-lookup"><span data-stu-id="5b42c-260">Examine hello content of hello file and then click **OK** toosend hello invoice.</span></span>
   
   ![][13]  
5. <span data-ttu-id="5b42c-261">In alcuni hello secondi Northwind riceve fatture.</span><span class="sxs-lookup"><span data-stu-id="5b42c-261">In a few seconds hello invoice is received at Northwind.</span></span> <span data-ttu-id="5b42c-262">Fare clic su hello **Visualizza messaggio** fattura di hello toosee collegamento ricevuta da Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-262">Click hello **View Message** link toosee hello invoice received by Northwind.</span></span> <span data-ttu-id="5b42c-263">Si noti come fattura hello ricevuta da Northwind è nello schema EDIFACT standard durante hello quello inviato da Contoso sono uno schema interno.</span><span class="sxs-lookup"><span data-stu-id="5b42c-263">Notice how hello invoice received by Northwind is in standard EDIFACT schema while hello one sent by Contoso was an in-house schema.</span></span>
   
   ![][14]  
6. <span data-ttu-id="5b42c-264">Selezionare la fattura hello e quindi fare clic su **Send Acknowledgement**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-264">Select hello invoice and then click **Send Acknowledgement**.</span></span> <span data-ttu-id="5b42c-265">In hello della finestra di dialogo visualizzata notare interscambio hello che ID è lo stesso in hello ricevuto fattura e hello acknowledgement inviato.</span><span class="sxs-lookup"><span data-stu-id="5b42c-265">In hello dialog box that pops up, notice that hello interchange ID is same in hello received invoice and hello acknowledgement being sent.</span></span> <span data-ttu-id="5b42c-266">Fare clic su OK in hello **Send Acknowledgement** la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="5b42c-266">Click OK in hello **Send Acknowledgement** dialog box.</span></span>
   
   ![][15]  
7. <span data-ttu-id="5b42c-267">In pochi secondi, acknowledgement hello è Contoso riceve correttamente.</span><span class="sxs-lookup"><span data-stu-id="5b42c-267">In a few seconds, hello acknowledgement is successfully received at Contoso.</span></span>
   
   ![][16]  

## <a name="step-5-optional-send-edifact-invoice-in-batches"></a><span data-ttu-id="5b42c-268">Passaggio 5 (facoltativo): inviare le fatture EDIFACT in batch</span><span class="sxs-lookup"><span data-stu-id="5b42c-268">Step 5 (optional): Send EDIFACT invoice in batches</span></span>
<span data-ttu-id="5b42c-269">I bridge EDI di Servizi BizTalk supportano anche l'invio in batch dei messaggi in uscita.</span><span class="sxs-lookup"><span data-stu-id="5b42c-269">BizTalk Services EDI bridges also supports batching of outgoing messages.</span></span> <span data-ttu-id="5b42c-270">Questa funzionalità è utile per i partner destinatari che preferiscono tooreceive un batch di messaggi (soddisfa un determinato criterio) anziché messaggi singoli.</span><span class="sxs-lookup"><span data-stu-id="5b42c-270">This feature is useful for receiving partners that prefer tooreceive a batch of messages (meeting certain criterion) instead of individual messages.</span></span>

<span data-ttu-id="5b42c-271">l'aspetto più importante Hello quando si utilizzano batch è effettivo rilascio di hello del batch di hello, detto anche i criteri di rilascio hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-271">hello most important aspect when working with batches is hello actual release of hello batch, also called hello release criteria.</span></span> <span data-ttu-id="5b42c-272">criteri di rilascio Hello possono basarsi su come partner di destinazione hello vuole tooreceive messaggi.</span><span class="sxs-lookup"><span data-stu-id="5b42c-272">hello release criteria can be based on how hello receiving partner wants tooreceive messages.</span></span> <span data-ttu-id="5b42c-273">Se è abilitato l'invio in batch, hello bridge EDI non invia toohello messaggio in uscita hello ricezione partner fino a quando non hello criteri di rilascio viene soddisfatto.</span><span class="sxs-lookup"><span data-stu-id="5b42c-273">If batching is enabled, hello EDI bridge does not send hello outgoing message toohello receiving partner until hello release criteria is fulfilled.</span></span> <span data-ttu-id="5b42c-274">Ad esempio, se si impostano criteri di invio in batch basati sul numero di messaggi, viene inviato un batch solo quando vengono raggruppati 'n' messaggi.</span><span class="sxs-lookup"><span data-stu-id="5b42c-274">For example, a batching criteria based on message size dispatches a batch only when ‘n’ messages are batched.</span></span> <span data-ttu-id="5b42c-275">I criteri di batch possono anche essere basati sul tempo e in questo caso un batch può ad esempio essere inviato ogni giorno a una determinata ora.</span><span class="sxs-lookup"><span data-stu-id="5b42c-275">A batch criteria can also be time-based, such that a batch is sent at a fixed time every day.</span></span> <span data-ttu-id="5b42c-276">In questa soluzione è provare il criterio basato sul numero di messaggi hello.</span><span class="sxs-lookup"><span data-stu-id="5b42c-276">In this solution, we try hello message-size based criteria.</span></span>

1. <span data-ttu-id="5b42c-277">Nel portale dei servizi BizTalk di hello, fare clic su accordo hello creato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="5b42c-277">In hello BizTalk Services Portal, click hello agreement you created earlier.</span></span> <span data-ttu-id="5b42c-278">Fare clic su Send Settings > Batch > Add Batch.</span><span class="sxs-lookup"><span data-stu-id="5b42c-278">Click Send Settings > Batching > Add Batch.</span></span>
2. <span data-ttu-id="5b42c-279">Come nome del batch immettere **InvoiceBatch**, specificare una descrizione, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-279">For batch name, enter **InvoiceBatch**, provide a description, and then click **Next**.</span></span>
3. <span data-ttu-id="5b42c-280">Specificare criteri di batch che definiscano quali messaggi devono essere raggruppati.</span><span class="sxs-lookup"><span data-stu-id="5b42c-280">Specify a batch criteria, that defines which messages must be batched.</span></span> <span data-ttu-id="5b42c-281">In questa soluzione vengono raggruppati tutti i messaggi.</span><span class="sxs-lookup"><span data-stu-id="5b42c-281">In this solution, we batch all messages.</span></span> <span data-ttu-id="5b42c-282">In tal caso, selezionare l'opzione Usa definizioni avanzate hello e immettere **1 = 1**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-282">So, select hello Use advanced definitions option, and enter **1 = 1**.</span></span> <span data-ttu-id="5b42c-283">Questa è una condizione che sarà sempre vera, quindi tutti i messaggi verranno raggruppati in un batch.</span><span class="sxs-lookup"><span data-stu-id="5b42c-283">This is a condition which will always be true, and hence all messages will be batched.</span></span> <span data-ttu-id="5b42c-284">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-284">Click **Next**.</span></span>
   
   ![][17]  
4. <span data-ttu-id="5b42c-285">Specificare criteri di rilascio del batch.</span><span class="sxs-lookup"><span data-stu-id="5b42c-285">Specify a batch release criteria.</span></span> <span data-ttu-id="5b42c-286">Hello-elenco a discesa selezionare **MessageCountBased**e per **conteggio**, specificare **3**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-286">From hello drop-box, select **MessageCountBased**, and for **Count**, specify **3**.</span></span> <span data-ttu-id="5b42c-287">Ciò significa che un batch di tre messaggi verrà inviato tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-287">This means that a batch of three messages will be sent tooNorthwind.</span></span> <span data-ttu-id="5b42c-288">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-288">Click **Next**.</span></span>
   
   ![][18]  
5. <span data-ttu-id="5b42c-289">Rivedere il riepilogo di hello e quindi fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="5b42c-289">Review hello summary and then click **Save**.</span></span> <span data-ttu-id="5b42c-290">Fare clic su **Distribuisci** contratto hello tooredeploy.</span><span class="sxs-lookup"><span data-stu-id="5b42c-290">Click **Deploy** tooredeploy hello agreement.</span></span>
6. <span data-ttu-id="5b42c-291">Tornare indietro toohello **Tutorial Client**, fare clic su **invio fattura interna**e seguire hello richieste toosend hello fattura.</span><span class="sxs-lookup"><span data-stu-id="5b42c-291">Go back toohello **Tutorial Client**, click **Send In-house Invoice**, and follow hello prompts toosend hello invoice.</span></span> <span data-ttu-id="5b42c-292">Si noterà che non riceve alcuna fattura su Northwind perché la dimensione del batch hello non viene soddisfatta.</span><span class="sxs-lookup"><span data-stu-id="5b42c-292">You will notice that no invoice is received at Northwind because hello batch size is not met.</span></span> <span data-ttu-id="5b42c-293">Ripetere questo passaggio altre due volte, in modo da avere tre messaggi di fattura inviati tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-293">Repeat this step two more times, so that you have three invoice messages sent tooNorthwind.</span></span> <span data-ttu-id="5b42c-294">Ciò soddisfa i criteri di rilascio batch di 3 messaggi hello e dovrebbe essere una fattura presso Northwind.</span><span class="sxs-lookup"><span data-stu-id="5b42c-294">This satisfies hello batch release criteria of 3 messages and you should now see an invoice at Northwind.</span></span>

<!--Image references-->
[1]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-1.PNG  
[2]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-2.PNG  
[3]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-3.PNG
[4]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-4.PNG  
[5]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-5.PNG  
[6]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-6.PNG  
[7]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-7.PNG  
[8]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-8.PNG
[9]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-9.PNG  
[10]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-10.PNG  
[11]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-11.PNG  
[12]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-12.PNG  
[13]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-13.PNG
[14]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-14.PNG  
[15]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-15.PNG  
[16]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-16.PNG  
[17]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-17.PNG  
[18]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-18.PNG

