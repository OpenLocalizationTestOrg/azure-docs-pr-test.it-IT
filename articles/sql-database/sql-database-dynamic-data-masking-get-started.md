---
title: Maschera dati dinamica del database SQL di Azure | Microsoft Docs
description: La funzione Maschera dati dinamica del database SQL limita l'esposizione dei dati sensibili, nascondendoli agli utenti senza privilegi
services: sql-database
documentationcenter: 
author: ronitr
manager: jhubbard
editor: 
ms.assetid: 4b36d78e-7749-4f26-9774-eed1120a9182
ms.service: sql-database
ms.custom: security
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.date: 03/09/2017
ms.author: ronitr; ronmat
ms.openlocfilehash: 83deadce3cbdd30aa50d22d99378bd86133677c4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="sql-database-dynamic-data-masking"></a><span data-ttu-id="73605-103">Maschera dati dinamica del database SQL</span><span class="sxs-lookup"><span data-stu-id="73605-103">SQL Database dynamic data masking</span></span>

<span data-ttu-id="73605-104">La funzione Maschera dati dinamica del database SQL limita l'esposizione dei dati sensibili, nascondendoli agli utenti senza privilegi.</span><span class="sxs-lookup"><span data-stu-id="73605-104">SQL Database dynamic data masking limits sensitive data exposure by masking it to non-privileged users.</span></span> 

<span data-ttu-id="73605-105">Il mascheramento dei dati dinamici impedisce l'accesso non autorizzato ai dati sensibili consentendo agli utenti di definire la quantità di dati sensibili da rivelare, con un impatto minimo sul livello dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73605-105">Dynamic data masking helps prevent unauthorized access to sensitive data by enabling customers to designate how much of the sensitive data to reveal with minimal impact on the application layer.</span></span> <span data-ttu-id="73605-106">Si tratta di una funzionalità di sicurezza basata su criteri che consente di nascondere i dati sensibili nel set di risultati di una query in campi del database designati, senza alcuna modifica dei dati contenuti nel database.</span><span class="sxs-lookup"><span data-stu-id="73605-106">It’s a policy-based security feature that hides the sensitive data in the result set of a query over designated database fields, while the data in the database is not changed.</span></span>

<span data-ttu-id="73605-107">Ad esempio, un addetto all'assistenza in un call center può identificare i chiamanti da alcune cifre del numero di carta di credito, ma tali elementi di dati non devono essere completamente visibili all'addetto all'assistenza.</span><span class="sxs-lookup"><span data-stu-id="73605-107">For example, a service representative at a call center may identify callers by several digits of their credit card number, but those data items should not be fully exposed to the service representative.</span></span> <span data-ttu-id="73605-108">È possibile definire una regola di maschera che renda visibili solo le ultime quattro cifre del numero di carta di credito nel set di risultati di tutte le query.</span><span class="sxs-lookup"><span data-stu-id="73605-108">A masking rule can be defined that masks all but the last four digits of any credit card number in the result set of any query.</span></span> <span data-ttu-id="73605-109">Oppure, è possibile definire una maschera dati appropriata per la protezione di informazioni personali identificabili (PII), in modo che uno sviluppatore possa eseguire una query negli ambienti di produzione a scopi di risoluzione dei problemi senza violare le normative di conformità.</span><span class="sxs-lookup"><span data-stu-id="73605-109">As another example, an appropriate data mask can be defined to protect personally identifiable information (PII) data, so that a developer can query production environments for troubleshooting purposes without violating compliance regulations.</span></span>

## <a name="sql-database-dynamic-data-masking-basics"></a><span data-ttu-id="73605-110">Nozioni fondamentali sulla funzione Maschera dati dinamica del database SQL</span><span class="sxs-lookup"><span data-stu-id="73605-110">SQL Database dynamic data masking basics</span></span>
<span data-ttu-id="73605-111">Per impostare un criterio di maschera dati dinamica del database SQL nel portale di Azure, selezionare l'operazione Maschera dati dinamica nel pannello di configurazione o delle impostazioni del database SQL.</span><span class="sxs-lookup"><span data-stu-id="73605-111">You set up a dynamic data masking policy in the Azure portal by selecting the dynamic data masking operation in your SQL Database configuration blade or settings blade.</span></span>

### <a name="dynamic-data-masking-permissions"></a><span data-ttu-id="73605-112">Autorizzazioni per il mascheramento dei dati dinamici</span><span class="sxs-lookup"><span data-stu-id="73605-112">Dynamic data masking permissions</span></span>
<span data-ttu-id="73605-113">Il mascheramento dei dati dinamici può essere configurato dall'amministratore del database di Azure, dall'amministratore del server o dal responsabile della sicurezza.</span><span class="sxs-lookup"><span data-stu-id="73605-113">Dynamic data masking can be configured by the Azure Database admin, server admin, or security officer roles.</span></span>

### <a name="dynamic-data-masking-policy"></a><span data-ttu-id="73605-114">Criteri di mascheramento dei dati dinamici</span><span class="sxs-lookup"><span data-stu-id="73605-114">Dynamic data masking policy</span></span>
* <span data-ttu-id="73605-115">**Utenti SQL esclusi dalla maschera**: set di utenti SQL o identità AAD che visualizzano dati senza maschera nei risultati delle query SQL.</span><span class="sxs-lookup"><span data-stu-id="73605-115">**SQL users excluded from masking** - A set of SQL users or AAD identities that get unmasked data in the SQL query results.</span></span> <span data-ttu-id="73605-116">Gli utenti con privilegi di amministratore sono sempre esclusi dalla maschera e possono visualizzare i dati originali senza maschera.</span><span class="sxs-lookup"><span data-stu-id="73605-116">Users with administrator privileges are always excluded from masking, and see the original data without any mask.</span></span>
* <span data-ttu-id="73605-117">**Regole di maschera**: set di regole che definiscono i campi designati a cui applicare la maschera e la funzione maschera da usare.</span><span class="sxs-lookup"><span data-stu-id="73605-117">**Masking rules** - A set of rules that define the designated fields to be masked and the masking function that is used.</span></span> <span data-ttu-id="73605-118">I campi designati possono essere definiti tramite uno schema, un nome di tabella e un nome di colonna del database.</span><span class="sxs-lookup"><span data-stu-id="73605-118">The designated fields can be defined using a database schema name, table name, and column name.</span></span>
* <span data-ttu-id="73605-119">**Funzioni maschera** : set di metodi che consentono di controllare l'esposizione dei dati per scenari diversi.</span><span class="sxs-lookup"><span data-stu-id="73605-119">**Masking functions** - A set of methods that control the exposure of data for different scenarios.</span></span>

| <span data-ttu-id="73605-120">Funzione di mascheramento</span><span class="sxs-lookup"><span data-stu-id="73605-120">Masking Function</span></span> | <span data-ttu-id="73605-121">Logica di mascheramento</span><span class="sxs-lookup"><span data-stu-id="73605-121">Masking Logic</span></span> |
| --- | --- |
| <span data-ttu-id="73605-122">**Default**</span><span class="sxs-lookup"><span data-stu-id="73605-122">**Default**</span></span> |<span data-ttu-id="73605-123">**Mascheramento completo in base ai tipi di dati dei campi designati**</span><span class="sxs-lookup"><span data-stu-id="73605-123">**Full masking according to the data types of the designated fields**</span></span><br/><br/><span data-ttu-id="73605-124">• Usare XXXX o un numero minore di X se la dimensione del campo è inferiore a 4 caratteri per i tipi di dati di stringa (nchar, ntext, nvarchar).</span><span class="sxs-lookup"><span data-stu-id="73605-124">• Use XXXX or fewer Xs if the size of the field is less than 4 characters for string data types (nchar, ntext, nvarchar).</span></span><br/><span data-ttu-id="73605-125">• Usare un valore pari a zero per i tipi di dati numerici (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span><span class="sxs-lookup"><span data-stu-id="73605-125">• Use a zero value for numeric data types (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span></span><br/><span data-ttu-id="73605-126">• Usare 01-01-1900 per i tipi di dati data/ora (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span><span class="sxs-lookup"><span data-stu-id="73605-126">• Use 01-01-1900 for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span></span><br/><span data-ttu-id="73605-127">• Per sql_variant viene usato il valore predefinito del tipo corrente.</span><span class="sxs-lookup"><span data-stu-id="73605-127">• For SQL variant, the default value of the current type is used.</span></span><br/><span data-ttu-id="73605-128">• Per XML viene usato il documento <masked/>.</span><span class="sxs-lookup"><span data-stu-id="73605-128">• For XML the document <masked/> is used.</span></span><br/><span data-ttu-id="73605-129">• Usare un valore vuoto per i tipi di dati speciali (timestamp table, hierarchyid, GUID, binary, image, varbinary spatial types).</span><span class="sxs-lookup"><span data-stu-id="73605-129">• Use an empty value for special data types (timestamp table, hierarchyid, GUID, binary, image, varbinary spatial types).</span></span> |
| <span data-ttu-id="73605-130">**Carta di credito**</span><span class="sxs-lookup"><span data-stu-id="73605-130">**Credit card**</span></span> |<span data-ttu-id="73605-131">**Metodo di mascheramento che espone le ultime quattro cifre dei campi designati** e aggiunge una stringa costante come prefisso sotto forma di carta di credito.</span><span class="sxs-lookup"><span data-stu-id="73605-131">**Masking method, which exposes the last four digits of the designated fields** and adds a constant string as a prefix in the form of a credit card.</span></span><br/><br/><span data-ttu-id="73605-132">XXXX-XXXX-XXXX-1234</span><span class="sxs-lookup"><span data-stu-id="73605-132">XXXX-XXXX-XXXX-1234</span></span> |
| <span data-ttu-id="73605-133">**Indirizzo di posta elettronica**</span><span class="sxs-lookup"><span data-stu-id="73605-133">**Email**</span></span> |<span data-ttu-id="73605-134">**Metodo di mascheramento che rende visibile la prima lettera e sostituisce il dominio con XXX.com** usando un prefisso stringa costante sotto forma di indirizzo di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="73605-134">**Masking method, which exposes the first letter and replaces the domain with XXX.com** using a constant string prefix in the form of an email address.</span></span><br/><br/>aXX@XXXX.com |
| <span data-ttu-id="73605-135">**Numero casuale**</span><span class="sxs-lookup"><span data-stu-id="73605-135">**Random number**</span></span> |<span data-ttu-id="73605-136">**Metodo di mascheramento che genera un numero casuale** secondo i limiti selezionati e i tipi di dati effettivi.</span><span class="sxs-lookup"><span data-stu-id="73605-136">**Masking method, which generates a random number** according to the selected boundaries and actual data types.</span></span> <span data-ttu-id="73605-137">Se i limiti designati sono uguali, la funzione maschera è un numero costante.</span><span class="sxs-lookup"><span data-stu-id="73605-137">If the designated boundaries are equal, then the masking function is a constant number.</span></span><br/><br/><span data-ttu-id="73605-138">![Riquadro di spostamento](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span><span class="sxs-lookup"><span data-stu-id="73605-138">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span></span> |
| <span data-ttu-id="73605-139">**Testo personalizzato**</span><span class="sxs-lookup"><span data-stu-id="73605-139">**Custom text**</span></span> |<span data-ttu-id="73605-140">**Metodo di mascheramento che rende visibile il primo e l'ultimo carattere** e aggiunge una stringa di riempimento personalizzata al centro.</span><span class="sxs-lookup"><span data-stu-id="73605-140">**Masking method, which exposes the first and last characters** and adds a custom padding string in the middle.</span></span> <span data-ttu-id="73605-141">Se la stringa originale è più corta del prefisso e del suffisso visibili, viene usata solo la stringa di riempimento.</span><span class="sxs-lookup"><span data-stu-id="73605-141">If the original string is shorter than the exposed prefix and suffix, only the padding string is used.</span></span> <br/><span data-ttu-id="73605-142">prefisso[riempimento]suffisso</span><span class="sxs-lookup"><span data-stu-id="73605-142">prefix[padding]suffix</span></span><br/><br/><span data-ttu-id="73605-143">![Riquadro di spostamento](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span><span class="sxs-lookup"><span data-stu-id="73605-143">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span></span> |

<a name="Anchor1"></a>

### <a name="recommended-fields-to-mask"></a><span data-ttu-id="73605-144">Campi consigliati a cui applicare la maschera</span><span class="sxs-lookup"><span data-stu-id="73605-144">Recommended fields to mask</span></span>
<span data-ttu-id="73605-145">Il motore di raccomandazioni DDM evidenzia determinati campi del database come potenzialmente sensibili e quindi come ottimi candidati per l'applicazione della maschera.</span><span class="sxs-lookup"><span data-stu-id="73605-145">The DDM recommendations engine, flags certain fields from your database as potentially sensitive fields, which may be good candidates for masking.</span></span> <span data-ttu-id="73605-146">Nel pannello Maschera dati dinamica nel portale saranno visibili le colonne consigliate per il proprio database.</span><span class="sxs-lookup"><span data-stu-id="73605-146">In the Dynamic Data Masking blade in the portal, you will see the recommended columns for your database.</span></span> <span data-ttu-id="73605-147">È sufficiente fare clic su **Aggiungi maschera** per una o più colonne e quindi su **Salva** per applicare una maschera a questi campi.</span><span class="sxs-lookup"><span data-stu-id="73605-147">All you need to do is click **Add Mask** for one or more columns and then **Save** to apply a mask for these fields.</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-powershell-cmdlets"></a><span data-ttu-id="73605-148">Configurare il mascheramento dei dati dinamici per il database usando i cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="73605-148">Set up dynamic data masking for your database using Powershell cmdlets</span></span>
<span data-ttu-id="73605-149">Vedere [Cmdlet del database SQL di Azure](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span><span class="sxs-lookup"><span data-stu-id="73605-149">See [Azure SQL Database Cmdlets](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-rest-api"></a><span data-ttu-id="73605-150">Configurare il mascheramento dei dati dinamici per il database usando l'API REST</span><span class="sxs-lookup"><span data-stu-id="73605-150">Set up dynamic data masking for your database using REST API</span></span>
<span data-ttu-id="73605-151">Vedere [Operazioni per i database SQL di Azure](https://msdn.microsoft.com/library/dn505719.aspx).</span><span class="sxs-lookup"><span data-stu-id="73605-151">See [Operations for Azure SQL Databases](https://msdn.microsoft.com/library/dn505719.aspx).</span></span>

