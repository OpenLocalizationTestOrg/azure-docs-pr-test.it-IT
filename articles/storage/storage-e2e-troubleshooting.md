---
title: aaaTroubleshooting archiviazione di Azure con diagnostica & Message Analyzer | Documenti Microsoft
description: Esercitazione che illustra la risoluzione dei problemi end-to-end mediante Analisi archiviazione di Azure, AzCopy e Microsoft Message Analyzer
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: f0b7886911c35de1fdc0bcbe6f83c220ddb38cf5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="28fc5-103">Risoluzione dei problemi end-to-end con le metriche e la registrazione di Archiviazione di Azure, AzCopy e Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="28fc5-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="28fc5-104">Diagnostica e risoluzione dei problemi sono competenze fondamentali per la creazione e il supporto di applicazioni client con Archiviazione di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="28fc5-105">A causa di natura toohello distribuito di un'applicazione Azure, la diagnosi e la risoluzione dei problemi di prestazioni può essere più complessi in ambienti tradizionali.</span><span class="sxs-lookup"><span data-stu-id="28fc5-105">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="28fc5-106">In questa esercitazione viene illustrato come tooidentify alcuni errori che potrebbero influire sulle prestazioni e risolvere gli errori da end-to-end utilizzando gli strumenti forniti da Microsoft e di archiviazione di Azure in un'applicazione client hello toooptimize ordine.</span><span class="sxs-lookup"><span data-stu-id="28fc5-106">In this tutorial, we demonstrate how tooidentify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="28fc5-107">Questa esercitazione offre un'esplorazione pratica di uno scenario di risoluzione dei problemi end-to-end.</span><span class="sxs-lookup"><span data-stu-id="28fc5-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="28fc5-108">Per un'applicazione di archiviazione di Azure tootroubleshooting Guida concettuale approfondita, vedere [Monitor, diagnosticare e risolvere i problemi di archiviazione di Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="28fc5-108">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="28fc5-109">Strumenti per la risoluzione dei problemi delle applicazioni di archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="28fc5-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="28fc5-110">tootroubleshoot di applicazioni client che usano l'archiviazione di Microsoft Azure, è possibile utilizzare una combinazione di strumenti toodetermine quando si è verificato un problema e può essere determinato quali hello problema hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-110">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="28fc5-111">Questi strumenti comprendono:</span><span class="sxs-lookup"><span data-stu-id="28fc5-111">These tools include:</span></span>

* <span data-ttu-id="28fc5-112">**Analisi archiviazione di Azure**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="28fc5-113">[Analisi archiviazione di Azure](/rest/api/storageservices/Storage-Analytics) fornisce metriche e registrazioni per Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="28fc5-114">**metriche di archiviazione** tengono traccia delle metriche relative alle transazioni e alla capacità per l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="28fc5-115">Uso delle metriche, è possibile determinare le prestazioni dell'applicazione secondo tooa diverse misure diverse.</span><span class="sxs-lookup"><span data-stu-id="28fc5-115">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="28fc5-116">Vedere [Schema di tabella delle metriche di archiviazione Analitica](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) per ulteriori informazioni sui tipi di hello delle metriche monitorate dall'archiviazione Analitica.</span><span class="sxs-lookup"><span data-stu-id="28fc5-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="28fc5-117">**Registrazione archiviazione** registra ogni registro toohello Azure Storage services tooa sul lato server richiesta.</span><span class="sxs-lookup"><span data-stu-id="28fc5-117">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="28fc5-118">Hello log tracce dati dettagliati per ogni richiesta, inclusa l'operazione hello eseguite stato hello dell'operazione hello e informazioni sulla latenza.</span><span class="sxs-lookup"><span data-stu-id="28fc5-118">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="28fc5-119">Vedere [formato di archiviazione Analitica Log](/rest/api/storageservices/Storage-Analytics-Log-Format) per ulteriori informazioni sui dati di richiesta e risposta hello scritto toohello log dall'archiviazione Analitica.</span><span class="sxs-lookup"><span data-stu-id="28fc5-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="28fc5-120">Account di archiviazione con un tipo di replica di archiviazione con ridondanza della zona (ZRS) non dispone delle metriche hello o abilitata al momento la funzionalità di registrazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="28fc5-121">**portale di Azure**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-121">**Azure portal**.</span></span> <span data-ttu-id="28fc5-122">È possibile configurare le metriche e registrazione per l'account di archiviazione in hello [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="28fc5-122">You can configure metrics and logging for your storage account in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="28fc5-123">È possibile visualizzare i grafici che mostrano le prestazioni dell'applicazione nel tempo e configurare gli avvisi toonotify che se nell'applicazione viene eseguita in modo diverso rispetto a previsto per una metrica specificata.</span><span class="sxs-lookup"><span data-stu-id="28fc5-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="28fc5-124">Vedere [monitorare un account di archiviazione nel portale di Azure hello](storage-monitor-storage-account.md) per informazioni sulla configurazione del monitoraggio nel portale di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-124">See [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure portal.</span></span>
* <span data-ttu-id="28fc5-125">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-125">**AzCopy**.</span></span> <span data-ttu-id="28fc5-126">Log del server per l'archiviazione di Azure vengono archiviati come BLOB, pertanto è possibile utilizzare AzCopy toocopy hello BLOB tooa locale directory del registro per l'analisi utilizzando Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="28fc5-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="28fc5-127">Vedere [trasferire i dati con l'utilità della riga di comando di AzCopy hello](storage-use-azcopy.md) per ulteriori informazioni su AzCopy.</span><span class="sxs-lookup"><span data-stu-id="28fc5-127">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="28fc5-128">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="28fc5-129">Message Analyzer è uno strumento che utilizza i file di log e visualizza i dati di log in un formato visivo che rende facile toofilter, ricerca e gruppo di registrare i dati in set utili che è possibile utilizzare tooanalyze errori e problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="28fc5-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="28fc5-130">Per altre informazioni su Message Analyzer, vedere [la guida operativa di Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx) .</span><span class="sxs-lookup"><span data-stu-id="28fc5-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="28fc5-131">Su scenario di esempio hello</span><span class="sxs-lookup"><span data-stu-id="28fc5-131">About hello sample scenario</span></span>
<span data-ttu-id="28fc5-132">In questa esercitazione verrà esaminato uno scenario in cui le metriche di Archiviazione di Azure indicano una bassa percentuale di operazioni riuscite per un'applicazione che chiama Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="28fc5-133">Hello metrica frequenza bassa percentuale di successo (visualizzate come **PercentSuccess** in hello [portale di Azure](https://portal.azure.com) e nelle tabelle di metrica hello) tiene traccia delle operazioni eseguite con esito positivo, ma che restituiscono un codice di stato HTTP è maggiore di di 299.</span><span class="sxs-lookup"><span data-stu-id="28fc5-133">hello low percent success rate metric (shown as **PercentSuccess** in hello [Azure portal](https://portal.azure.com) and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="28fc5-134">Nei file di log di archiviazione sul lato server hello, queste operazioni vengono registrate con lo stato delle transazioni **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-134">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="28fc5-135">Per ulteriori informazioni su metrica bassa percentuale di successo hello, vedere [metrica Mostra PercentSuccess bassa o voci di log analitica sono operazioni con lo stato delle transazioni di ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="28fc5-135">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="28fc5-136">Le operazioni di Archiviazione di Azure possono restituire codici di stato HTTP maggiori di 299 in condizioni di funzionalità normali.</span><span class="sxs-lookup"><span data-stu-id="28fc5-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="28fc5-137">Ma in alcuni casi questi errori indicano che è in grado di toooptimize l'applicazione client per prestazioni migliorate.</span><span class="sxs-lookup"><span data-stu-id="28fc5-137">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="28fc5-138">In questo scenario, si vedrà un toobe frequenza bassa percentuale di successo un valore inferiore al 100%.</span><span class="sxs-lookup"><span data-stu-id="28fc5-138">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="28fc5-139">È possibile scegliere un metrica livello diverso, tuttavia, in base alle esigenze tooyour.</span><span class="sxs-lookup"><span data-stu-id="28fc5-139">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="28fc5-140">Durante il test dell'applicazione è consigliabile definire una tolleranza di base per le metriche delle prestazioni chiave.</span><span class="sxs-lookup"><span data-stu-id="28fc5-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="28fc5-141">Ad esempio, sulla base dei test è possibile che si stabilisca che l'applicazione deve avere una percentuale di operazioni riuscite costante del 90% o 85%.</span><span class="sxs-lookup"><span data-stu-id="28fc5-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="28fc5-142">Se i dati di metrica mostrano che l'applicazione hello è allontanarsi dalle tale numero, è possibile esaminare che possono causare hello aumento.</span><span class="sxs-lookup"><span data-stu-id="28fc5-142">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="28fc5-143">Per questo scenario di esempio, una volta è stata stabilita metrica relativa al tasso percentuale di successo hello è inferiore al 100%, verrà esaminare hello registri toofind hello errori correlati toohello metriche e usarli toofigure il causa percentuale di successo percentuale inferiore di hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-143">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="28fc5-144">Verrà esaminato in particolare gli errori nell'intervallo di 400 hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-144">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="28fc5-145">esaminando in dettaglio gli errori 404 (Non trovato).</span><span class="sxs-lookup"><span data-stu-id="28fc5-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="28fc5-146">Alcune cause degli errori della fascia 400</span><span class="sxs-lookup"><span data-stu-id="28fc5-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="28fc5-147">esempio Hello riportato di seguito viene illustrato un campionamento di alcuni errori di 400 intervallo per le richieste nel servizio di archiviazione Blob di Azure e le possibili cause.</span><span class="sxs-lookup"><span data-stu-id="28fc5-147">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="28fc5-148">Uno di questi errori, nonché gli errori in hello 300 intervallo e hello 500, possono contribuire frequenza bassa percentuale di successo tooa.</span><span class="sxs-lookup"><span data-stu-id="28fc5-148">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="28fc5-149">Si noti che hello elencati di seguito non sono complete.</span><span class="sxs-lookup"><span data-stu-id="28fc5-149">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="28fc5-150">Vedere [lo stato e codici di errore](http://msdn.microsoft.com/library/azure/dd179382.aspx) su MSDN per informazioni dettagliate sugli errori generali di archiviazione di Azure e su tooeach specifico di errori dei servizi di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="28fc5-151">**Esempi di codice di stato 404 (Non trovato)**</span><span class="sxs-lookup"><span data-stu-id="28fc5-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="28fc5-152">Si verifica quando un'operazione di lettura in un contenitore o blob non hello blob o contenitore non è stato trovato.</span><span class="sxs-lookup"><span data-stu-id="28fc5-152">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="28fc5-153">Si verifica se un contenitore o BLOB è stato eliminato da un altro client prima di questa richiesta.</span><span class="sxs-lookup"><span data-stu-id="28fc5-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="28fc5-154">Si verifica se si utilizza una chiamata di API che consente di creare blob o contenitore hello dopo aver controllato l'esistenza.</span><span class="sxs-lookup"><span data-stu-id="28fc5-154">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="28fc5-155">Hello CreateIfNotExists APIs rendere HEAD toocheck prima di chiamare l'esistenza di hello di hello contenitore o blob; Se non esiste, viene restituito un errore 404, e viene effettuata una chiamata PUT secondo toowrite hello contenitore o blob.</span><span class="sxs-lookup"><span data-stu-id="28fc5-155">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="28fc5-156">**Esempi di codice di stato 409 (Conflitto)**</span><span class="sxs-lookup"><span data-stu-id="28fc5-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="28fc5-157">Si verifica se si utilizza un toocreate API di creare un nuovo contenitore o blob, senza prima verificare esistenza e un contenitore o blob con lo stesso nome esiste già.</span><span class="sxs-lookup"><span data-stu-id="28fc5-157">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="28fc5-158">Si verifica se un contenitore è stato eliminato e si tenta un nuovo contenitore con stesso nome prima che venga completata l'operazione di eliminazione hello hello toocreate.</span><span class="sxs-lookup"><span data-stu-id="28fc5-158">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="28fc5-159">Si verifica se si specifica un lease in un contenitore o BLOB ed è già presente un lease.</span><span class="sxs-lookup"><span data-stu-id="28fc5-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="28fc5-160">**Esempi di codice di stato 412 (Condizione preliminare non riuscita)**</span><span class="sxs-lookup"><span data-stu-id="28fc5-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="28fc5-161">Si verifica quando non è stata soddisfatta la condizione di hello specificata da un'intestazione condizionale.</span><span class="sxs-lookup"><span data-stu-id="28fc5-161">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="28fc5-162">Si verifica quando l'ID lease hello specificato non corrisponde all'ID di lease hello nella hello contenitore o blob.</span><span class="sxs-lookup"><span data-stu-id="28fc5-162">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="28fc5-163">Generare file di log per l'analisi</span><span class="sxs-lookup"><span data-stu-id="28fc5-163">Generate log files for analysis</span></span>
<span data-ttu-id="28fc5-164">In questa esercitazione si userà Message Analyzer toowork con tre diversi tipi di file di log, anche se è possibile scegliere toowork con uno qualsiasi di questi elementi:</span><span class="sxs-lookup"><span data-stu-id="28fc5-164">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="28fc5-165">Hello **log server**, che viene creato quando si abilita la registrazione di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-165">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="28fc5-166">log del server Hello contiene dati relativi a ogni operazione viene chiamato su uno dei servizi di archiviazione di Azure hello - blob, coda, tabella e file.</span><span class="sxs-lookup"><span data-stu-id="28fc5-166">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="28fc5-167">log del server di Hello indica quale operazione è stato chiamato e il codice di stati restituiti, nonché altri dettagli sull'hello richiesta e risposta.</span><span class="sxs-lookup"><span data-stu-id="28fc5-167">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="28fc5-168">Hello **log del client .NET**, che viene creato quando si abilita la registrazione dal lato client all'interno dell'applicazione .NET.</span><span class="sxs-lookup"><span data-stu-id="28fc5-168">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="28fc5-169">log Hello del client include informazioni dettagliate su come client hello Prepara hello richiesta e riceve ed elabora la risposta hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-169">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="28fc5-170">Hello **log di traccia di rete HTTP**, che raccoglie i dati sui dati di richiesta e risposta HTTP/HTTPS, incluso per le operazioni nel servizio di archiviazione Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-170">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="28fc5-171">In questa esercitazione, si verrà generato di traccia di rete hello tramite Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="28fc5-171">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="28fc5-172">Configurare le metriche e la registrazione sul lato server</span><span class="sxs-lookup"><span data-stu-id="28fc5-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="28fc5-173">In primo luogo, è necessario tooconfigure la registrazione di archiviazione di Azure e le misure, in modo che si dispone di dati da hello client applicazione tooanalyze.</span><span class="sxs-lookup"><span data-stu-id="28fc5-173">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="28fc5-174">È possibile configurare la registrazione e metrica in diversi modi: tramite hello [portale di Azure](https://portal.azure.com), usando PowerShell, o a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="28fc5-174">You can configure logging and metrics in a variety of ways - via hello [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="28fc5-175">Per informazioni dettagliate sulla registrazione e sulle metriche, vedere [Abilitazione di Metriche di archiviazione e visualizzazione dei dati di metrica](http://msdn.microsoft.com/library/azure/dn782843.aspx) e [Abilitazione di Registrazione archiviazione e accesso ai dati di log](http://msdn.microsoft.com/library/azure/dn782840.aspx) su MSDN.</span><span class="sxs-lookup"><span data-stu-id="28fc5-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="28fc5-176">**Tramite il portale di Azure hello**</span><span class="sxs-lookup"><span data-stu-id="28fc5-176">**Via hello Azure portal**</span></span>

<span data-ttu-id="28fc5-177">tooconfigure registrazione e metrica per l'account di archiviazione utilizzando hello [portale di Azure](https://portal.azure.com), seguire le istruzioni di hello in [monitorare un account di archiviazione nel portale di Azure hello](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="28fc5-177">tooconfigure logging and metrics for your storage account using hello [Azure portal](https://portal.azure.com), follow hello instructions at [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="28fc5-178">Non è possibile tooset metrica al minuto utilizzando hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-178">It's not possible tooset minute metrics using hello Azure portal.</span></span> <span data-ttu-id="28fc5-179">Tuttavia, è consigliabile impostare li hello a scopo di questa esercitazione e per analizzare i problemi di prestazioni con l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-179">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="28fc5-180">È possibile impostare le metriche al minuto utilizzando PowerShell, come illustrato di seguito, o a livello di codice della libreria client di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-180">You can set minute metrics using PowerShell as shown below, or programmatically using hello storage client library.</span></span>
> 
> <span data-ttu-id="28fc5-181">Si noti che hello portale di Azure non è possibile visualizzare le metriche al minuto, solo le metriche orarie.</span><span class="sxs-lookup"><span data-stu-id="28fc5-181">Note that hello Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="28fc5-182">**Tramite PowerShell**</span><span class="sxs-lookup"><span data-stu-id="28fc5-182">**Via PowerShell**</span></span>

<span data-ttu-id="28fc5-183">tooget introduttiva a PowerShell per Azure, vedere [come tooinstall e configurare Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="28fc5-183">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="28fc5-184">Hello utilizzare [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) tooadd cmdlet toohello finestra di PowerShell dell'account dell'utente di Azure:</span><span class="sxs-lookup"><span data-stu-id="28fc5-184">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="28fc5-185">In hello **Accedi tooMicrosoft Azure** finestra, indirizzo di posta elettronica di tipo hello e la password associata al proprio account.</span><span class="sxs-lookup"><span data-stu-id="28fc5-185">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="28fc5-186">Azure autentica e Salva le informazioni sulle credenziali hello e chiude la finestra hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-186">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="28fc5-187">Impostare hello predefinito storage account toohello account di archiviazione in uso per l'esercitazione hello tramite l'esecuzione di questi comandi nella finestra di PowerShell hello:</span><span class="sxs-lookup"><span data-stu-id="28fc5-187">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="28fc5-188">Abilitare la registrazione per hello servizio Blob di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="28fc5-188">Enable storage logging for hello Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="28fc5-189">Abilitare metriche di archiviazione per il servizio Blob, rendendo tooset che hello **- MetricsType** troppo`Minute`:</span><span class="sxs-lookup"><span data-stu-id="28fc5-189">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="28fc5-190">Configurare la registrazione sul lato client .NET</span><span class="sxs-lookup"><span data-stu-id="28fc5-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="28fc5-191">tooconfigure sul lato client la registrazione per un'applicazione .NET, abilitare la diagnostica .NET nel file di configurazione dell'applicazione hello (Web. config o App. config).</span><span class="sxs-lookup"><span data-stu-id="28fc5-191">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="28fc5-192">Vedere [registrazione con hello libreria Client di archiviazione .NET sul lato Client](http://msdn.microsoft.com/library/azure/dn782839.aspx) e [registrazione con Microsoft Azure Storage SDK per Java hello sul lato Client](http://msdn.microsoft.com/library/azure/dn782844.aspx) su MSDN per informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="28fc5-192">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="28fc5-193">log lato client Hello include informazioni dettagliate su come client hello Prepara hello richiesta e riceve ed elabora la risposta hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-193">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="28fc5-194">Libreria Client di archiviazione Hello archivia i dati di log lato client nel percorso di hello specificato nel file di configurazione dell'applicazione hello (Web. config o App. config).</span><span class="sxs-lookup"><span data-stu-id="28fc5-194">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="28fc5-195">Raccogliere una traccia di rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-195">Collect a network trace</span></span>
<span data-ttu-id="28fc5-196">È possibile utilizzare Message Analyzer toocollect una traccia di rete HTTP/HTTPS, mentre è in esecuzione l'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="28fc5-196">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="28fc5-197">Messaggio Usa analizzatore [Fiddler](http://www.telerik.com/fiddler) su hello back-end.</span><span class="sxs-lookup"><span data-stu-id="28fc5-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="28fc5-198">Prima di raccogliere la traccia di rete hello, si consiglia di configurare il traffico HTTPS Fiddler toorecord non crittografato:</span><span class="sxs-lookup"><span data-stu-id="28fc5-198">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="28fc5-199">Installare [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="28fc5-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="28fc5-200">Avviare Fiddler.</span><span class="sxs-lookup"><span data-stu-id="28fc5-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="28fc5-201">Selezionare **Tools | Fiddler Options** (Strumenti | Opzioni Fiddler).</span><span class="sxs-lookup"><span data-stu-id="28fc5-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="28fc5-202">Nella finestra di dialogo Opzioni hello, assicurarsi che **acquisire connette HTTPS** e **decrittografare il traffico HTTPS** sono entrambe selezionate, come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="28fc5-202">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Configurare le opzioni Fiddler](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="28fc5-204">Per esercitazione hello, raccogliere e salvare una traccia di rete prima di tutto in Message Analyzer, quindi creare una traccia di analisi della sessione tooanalyze hello e hello registri.</span><span class="sxs-lookup"><span data-stu-id="28fc5-204">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="28fc5-205">toocollect una traccia di rete in Message Analyzer:</span><span class="sxs-lookup"><span data-stu-id="28fc5-205">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="28fc5-206">In Message Analyzer selezionare **File | Quick Trace | Unencrypted HTTPS** (File | Traccia rapida | HTTPS non crittografato).</span><span class="sxs-lookup"><span data-stu-id="28fc5-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="28fc5-207">traccia Hello inizierà immediatamente.</span><span class="sxs-lookup"><span data-stu-id="28fc5-207">hello trace will begin immediately.</span></span> <span data-ttu-id="28fc5-208">Selezionare **arrestare** toostop hello traccia in modo che sia possibile configurarlo tootrace solo traffico di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-208">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="28fc5-209">Selezionare **modifica** sessione di traccia tooedit hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-209">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="28fc5-210">Seleziona hello **configura** collegamento toohello a destra di hello **Pef-Microsoft-WebProxy** provider ETW.</span><span class="sxs-lookup"><span data-stu-id="28fc5-210">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="28fc5-211">In hello **impostazioni avanzate** finestra di dialogo, fare clic su hello **Provider** scheda.</span><span class="sxs-lookup"><span data-stu-id="28fc5-211">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="28fc5-212">In hello **filtro Hostname** , specificare gli endpoint di archiviazione, separati da spazi.</span><span class="sxs-lookup"><span data-stu-id="28fc5-212">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="28fc5-213">Ad esempio, è possibile specificare gli endpoint come segue: modificare `storagesample` toohello nome dell'account di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="28fc5-213">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="28fc5-214">Uscire dalla finestra di dialogo hello e fare clic su **riavviare** toobegin di raccolta traccia di hello con filtro di nome host hello sul posto, in modo che solo il traffico di rete di archiviazione di Azure è incluso nella traccia hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-214">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="28fc5-215">Dopo aver completato la raccolta la traccia di rete, è consigliabile ripristinare le impostazioni di hello modificate del traffico HTTPS toodecrypt Fiddler.</span><span class="sxs-lookup"><span data-stu-id="28fc5-215">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="28fc5-216">Nella finestra di dialogo Opzioni Fiddler hello, deselezionare hello **acquisire connette HTTPS** e **decrittografare il traffico HTTPS** caselle di controllo.</span><span class="sxs-lookup"><span data-stu-id="28fc5-216">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="28fc5-217">Vedere [con funzionalità di traccia di rete hello](http://technet.microsoft.com/library/jj674819.aspx) su Technet per ulteriori dettagli.</span><span class="sxs-lookup"><span data-stu-id="28fc5-217">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-portal"></a><span data-ttu-id="28fc5-218">Esaminare i dati di metrica in hello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="28fc5-218">Review metrics data in hello Azure portal</span></span>
<span data-ttu-id="28fc5-219">Dopo l'applicazione è stata eseguita per un periodo di tempo, è possibile esaminare i grafici di metriche di hello visualizzati nel hello [portale di Azure](https://portal.azure.com) tooobserve come l'esecuzione del servizio.</span><span class="sxs-lookup"><span data-stu-id="28fc5-219">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello [Azure portal](https://portal.azure.com) tooobserve how your service has been performing.</span></span>

<span data-ttu-id="28fc5-220">Passare innanzitutto tooyour account di archiviazione nel portale di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-220">First, navigate tooyour storage account in hello Azure portal.</span></span> <span data-ttu-id="28fc5-221">Per impostazione predefinita, un monitoraggio grafico con hello **percentuale di completamento** metrica viene visualizzata nel pannello account hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-221">By default, a monitoring chart with hello **Success percentage** metric is displayed on hello account blade.</span></span> <span data-ttu-id="28fc5-222">Se è stato modificato in precedenza hello grafico toodisplay metriche, aggiungere hello **percentuale di completamento** metrica.</span><span class="sxs-lookup"><span data-stu-id="28fc5-222">If you've previously modified hello chart toodisplay different metrics, add hello **Success percentage** metric.</span></span>

<span data-ttu-id="28fc5-223">Si noterà ora **percentuale di completamento** in hello grafico di monitoraggio, insieme a eventuali altre metriche vengono aggiunte.</span><span class="sxs-lookup"><span data-stu-id="28fc5-223">You'll now see **Success percentage** in hello monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="28fc5-224">Nello scenario di hello che analizzeremo successivamente dall'analisi dei log hello in Message Analyzer, frequenza percentuale di successo hello è leggermente inferiore al 100%.</span><span class="sxs-lookup"><span data-stu-id="28fc5-224">In hello scenario we'll investigate next by analyzing hello logs in Message Analyzer, hello percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="28fc5-225">Per altre informazioni sull'aggiunta e la personalizzazione di grafici di metriche, vedere [Personalizzare i grafici delle metriche](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="28fc5-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="28fc5-226">Dopo aver abilitato la metrica di archiviazione potrebbe richiedere del tempo per il tooappear di dati di metrica in hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-226">It may take some time for your metrics data tooappear in hello Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="28fc5-227">Questo avviene perché metrica oraria per hello ora precedente non viene visualizzata nel portale di Azure hello fino a quando non hello è trascorso l'ora corrente.</span><span class="sxs-lookup"><span data-stu-id="28fc5-227">This is because hourly metrics for hello previous hour are not displayed in hello Azure portal until hello current hour has elapsed.</span></span> <span data-ttu-id="28fc5-228">Inoltre, metrica al minuto non è attualmente visualizzata nel portale di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-228">Also, minute metrics are not currently displayed in hello Azure portal.</span></span> <span data-ttu-id="28fc5-229">A seconda di quando si abilita metriche, potrà richiedere i dati di metrica toosee tootwo ore.</span><span class="sxs-lookup"><span data-stu-id="28fc5-229">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
> 
> 

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="28fc5-230">Utilizzare directory locale di AzCopy toocopy server log tooa</span><span class="sxs-lookup"><span data-stu-id="28fc5-230">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="28fc5-231">Archiviazione di Azure scrive tooblobs di dati del Registro di server, mentre la metrica viene scritta tootables.</span><span class="sxs-lookup"><span data-stu-id="28fc5-231">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="28fc5-232">BLOB dei log sono disponibili in hello noto `$logs` contenitore per l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-232">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="28fc5-233">BLOB dei log sono denominate in modo gerarchico per anno, mese, giorno e ora, in modo che l'intervallo di tempo desiderato tooinvestigate di hello consentono di individuare facilmente.</span><span class="sxs-lookup"><span data-stu-id="28fc5-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="28fc5-234">Ad esempio, in hello `storagesample` account, il contenitore di hello per BLOB dei log hello per da 8-09: 00, 01/02/2015 `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="28fc5-234">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="28fc5-235">BLOB di singoli Hello in questo contenitore sono denominati in sequenza, a partire da `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="28fc5-235">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="28fc5-236">È possibile utilizzare toodownload strumento da riga di comando di AzCopy hello questi log lato server file tooa nel percorso desiderato nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="28fc5-236">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="28fc5-237">Ad esempio, è possibile utilizzare i seguenti file di comando toodownload hello log per operazioni di blob che hanno portato posizionare su hello 2 gennaio 2015 toohello cartella `C:\Temp\Logs\Server`; sostituire `<storageaccountname>` con nome hello dell'account di archiviazione, e `<storageaccountkey>` con il chiave di accesso account:</span><span class="sxs-lookup"><span data-stu-id="28fc5-237">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="28fc5-238">AzCopy è disponibile per il download hello [download di Azure](https://azure.microsoft.com/downloads/) pagina.</span><span class="sxs-lookup"><span data-stu-id="28fc5-238">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="28fc5-239">Per informazioni dettagliate sull'uso di AzCopy, vedere [trasferire i dati con l'utilità della riga di comando di AzCopy hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="28fc5-239">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="28fc5-240">Per altre informazioni sul download dei log sul lato server, vedere [Download dei dati di log di Registrazione archiviazione](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="28fc5-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="28fc5-241">Utilizzare i dati di log di Microsoft Message Analyzer tooanalyze</span><span class="sxs-lookup"><span data-stu-id="28fc5-241">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="28fc5-242">Microsoft Message Analyzer è uno strumento per l'acquisizione, la visualizzazione e l'analisi del traffico di messaggistica del protocollo, degli eventi e di altri messaggi del sistema o dell'applicazione in scenari di diagnostica e risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="28fc5-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="28fc5-243">Message Analyzer anche consente tooload, aggregazione e analizzare i dati di log e salvare i file di traccia.</span><span class="sxs-lookup"><span data-stu-id="28fc5-243">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="28fc5-244">Per altre informazioni su Message Analyzer, vedere la [guida operativa di Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="28fc5-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="28fc5-245">Message Analyzer include risorse di archiviazione di Azure che consentono di tooanalyze server, client e i registri di rete.</span><span class="sxs-lookup"><span data-stu-id="28fc5-245">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="28fc5-246">In questa sezione verrà illustrato come toouse tooaddress tali strumenti hello problema di bassa percentuale di successo in hello i log di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-246">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="28fc5-247">Scaricare e installare Analizzatore messaggi hello risorse di archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="28fc5-247">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="28fc5-248">Scaricare [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) da hello Microsoft Download Center ed eseguire l'installazione guidata di hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="28fc5-249">Avviare Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="28fc5-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="28fc5-250">Da hello **strumenti** dal menu **gestione Asset**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-250">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="28fc5-251">In hello **gestione Asset** finestra di dialogo Seleziona **Scarica**, quindi filtrare in base **di archiviazione di Azure**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-251">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="28fc5-252">Risorse di archiviazione di Azure hello, verrà visualizzato come illustrato nell'immagine di hello riportata di seguito.</span><span class="sxs-lookup"><span data-stu-id="28fc5-252">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="28fc5-253">Fare clic su **sincronizzazione tutti visualizzati gli elementi** hello tooinstall risorse di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-253">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="28fc5-254">le risorse disponibili Hello includono:</span><span class="sxs-lookup"><span data-stu-id="28fc5-254">hello available assets include:</span></span>
   * <span data-ttu-id="28fc5-255">**Regole colore archiviazione Azure:** regole colore di archiviazione di Azure consentono di filtri speciali toodefine che utilizzano il colore, testo, e tipo di carattere stili toohighlight messaggi che contengono informazioni specifiche in una traccia.</span><span class="sxs-lookup"><span data-stu-id="28fc5-255">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="28fc5-256">**Grafici di Archiviazione di Azure:** i grafici di Archiviazione di Azure sono grafici predefiniti in cui vengono riportati i dati di log del server.</span><span class="sxs-lookup"><span data-stu-id="28fc5-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="28fc5-257">Si noti che toouse grafici di archiviazione di Azure in questo momento, è possibile solo carico hello server log in hello Analysis griglia.</span><span class="sxs-lookup"><span data-stu-id="28fc5-257">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="28fc5-258">**Parser di archiviazione Azure:** hello del client di archiviazione di Azure hello analisi archiviazione di Azure parser, server e HTTP in ordine toodisplay li registra in hello Analysis griglia.</span><span class="sxs-lookup"><span data-stu-id="28fc5-258">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="28fc5-259">**I filtri di archiviazione Azure:** i filtri di archiviazione di Azure sono i criteri predefiniti che è possibile utilizzare tooquery i dati in analisi griglia hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="28fc5-260">**Layout della visualizzazione di archiviazione Azure:** layout della visualizzazione di archiviazione di Azure sono raggruppamenti nella griglia Analysis hello e layout di colonne predefinite.</span><span class="sxs-lookup"><span data-stu-id="28fc5-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="28fc5-261">Dopo aver installato gli asset hello, riavviare Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="28fc5-261">Restart Message Analyzer after you've installed hello assets.</span></span>

![Gestione asset di Message Analyzer](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="28fc5-263">Installare tutti gli asset di archiviazione di Azure hello scopo hello di questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-263">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="28fc5-264">Importare i file di log in Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="28fc5-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="28fc5-265">È possibile importare tutti i file di log salvati (lato server, lato client e rete) in un'unica sessione di Microsoft Message Analyzer per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="28fc5-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="28fc5-266">In hello **File** Microsoft Message Analyzer, scegliere **nuova sessione**, quindi fare clic su **sessione vuoto**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-266">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="28fc5-267">In hello **nuova sessione** finestra di dialogo immettere un nome per la sessione di analisi.</span><span class="sxs-lookup"><span data-stu-id="28fc5-267">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="28fc5-268">In hello **i dettagli di sessione** pannello, fare clic su hello **file** pulsante.</span><span class="sxs-lookup"><span data-stu-id="28fc5-268">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="28fc5-269">data di tooload hello rete traccia generati dal Message Analyzer, fare clic su **Aggiungi file**, toohello percorso in cui è stato salvato il file .matp dalla sessione di analisi web, file .matp hello select, e fare clic su **aprire**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-269">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="28fc5-270">dati di log lato server hello tooload, fare clic su **Aggiungi file**individuare toohello percorso in cui sono stati scaricati i registri sul lato server, selezionare il file di log hello per intervallo di tempo hello tooanalyze desiderato e fare clic su **aprire**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-270">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="28fc5-271">Quindi, nel hello **i dettagli di sessione** pannello, hello set **configurazione del Registro di testo** elenco a discesa per ogni file di log sul lato server troppo**AzureStorageLog** tooensure da Microsoft Message Analyzer è possibile analizzare il file di log hello correttamente.</span><span class="sxs-lookup"><span data-stu-id="28fc5-271">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="28fc5-272">dati di log lato client hello tooload, fare clic su **Aggiungi file**individuare toohello percorso in cui sono stati salvati i log lato client, selezionare i file di log hello tooanalyze desiderato e fare clic su **aprire**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-272">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="28fc5-273">Quindi, nel hello **i dettagli di sessione** pannello, hello set **configurazione del Registro di testo** elenco a discesa per ogni file di log lato client troppo**AzureStorageClientDotNetV4** tooensure che Microsoft Message Analyzer è possibile analizzare il file di log hello correttamente.</span><span class="sxs-lookup"><span data-stu-id="28fc5-273">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="28fc5-274">Fare clic su **avviare** in hello **nuova sessione** finestra di dialogo tooload e analisi hello dati del log.</span><span class="sxs-lookup"><span data-stu-id="28fc5-274">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="28fc5-275">Consente di visualizzare i dati di log Hello nella griglia di analisi Analizzatore messaggi hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-275">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="28fc5-276">immagine Hello riportata di seguito viene illustrato un esempio di sessione configurato con un server, client e file di log di traccia di rete.</span><span class="sxs-lookup"><span data-stu-id="28fc5-276">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Configurare la sessione di Message Analyzer](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="28fc5-278">Si noti che Message Analyzer carica i file di log in memoria.</span><span class="sxs-lookup"><span data-stu-id="28fc5-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="28fc5-279">Se si dispone di un ampio set di dati del log, è opportuno toofilter in ordine tooget hello migliori prestazioni da Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="28fc5-279">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="28fc5-280">Innanzitutto, determinare l'intervallo di tempo hello che si è interessati a esaminare e mantenere ridotte al massimo questo periodo di tempo.</span><span class="sxs-lookup"><span data-stu-id="28fc5-280">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="28fc5-281">In molti casi sarà necessario tooreview un periodo di minuti o ore al massimo.</span><span class="sxs-lookup"><span data-stu-id="28fc5-281">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="28fc5-282">Importare hello set più piccolo dei log in grado di soddisfare le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="28fc5-282">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="28fc5-283">Se si dispone ancora di una grande quantità di dati del log, quindi è consigliabile toospecify un toofilter filtro sessione i dati dei log prima di caricarli.</span><span class="sxs-lookup"><span data-stu-id="28fc5-283">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="28fc5-284">In hello **filtro sessione** casella, seleziona hello **libreria** pulsante toochoose un filtro predefinito; ad esempio, scegliere **filtro I globale tempo** da hello i filtri di archiviazione di Azure toofilter in un intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="28fc5-284">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="28fc5-285">È quindi possibile modificare hello toospecify criteri filtro di hello avvio e interruzione timestamp per intervallo hello si desidera toosee.</span><span class="sxs-lookup"><span data-stu-id="28fc5-285">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="28fc5-286">È possibile filtrare anche utilizzando un codice di stato specifico. ad esempio, è possibile scegliere tooload solo voci del registro in cui il codice di stato hello è 404.</span><span class="sxs-lookup"><span data-stu-id="28fc5-286">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="28fc5-287">Per altre informazioni sull'importazione dei dati di log in Microsoft Message Analyzer, vedere [l'argomento relativo al recupero dei dati dei messaggi su](http://technet.microsoft.com/library/dn772437.aspx) TechNet.</span><span class="sxs-lookup"><span data-stu-id="28fc5-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="28fc5-288">Utilizzare hello client richiesta ID toocorrelate dati del file registro</span><span class="sxs-lookup"><span data-stu-id="28fc5-288">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="28fc5-289">Hello Azure Storage Client Library genera automaticamente un ID richiesta client univoci per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="28fc5-289">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="28fc5-290">Questo valore viene scritto toohello client log, log server hello e traccia di rete hello, è possibile utilizzarlo toocorrelate dati in tutte e tre i registri in Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="28fc5-290">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="28fc5-291">Vedere [ID richiesta Client](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) per ulteriori informazioni su client hello ID richiesta.</span><span class="sxs-lookup"><span data-stu-id="28fc5-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="28fc5-292">Hello nelle sezioni seguenti vengono descrivono come toouse preconfigurato e viste di un layout personalizzato toocorrelate e raggruppamento dei dati basano su richiesta del client hello ID.</span><span class="sxs-lookup"><span data-stu-id="28fc5-292">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="28fc5-293">Selezionare un toodisplay layout visualizzazione nella griglia Analysis hello</span><span class="sxs-lookup"><span data-stu-id="28fc5-293">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="28fc5-294">Risorse di archiviazione Hello per Message Analyzer includono layout visualizzazione di archiviazione di Azure che sono configurati in precedenza viste che è possibile utilizzare toodisplay i dati con le colonne e i raggruppamenti utili per scenari diversi.</span><span class="sxs-lookup"><span data-stu-id="28fc5-294">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="28fc5-295">È anche possibile creare layout di visualizzazione personalizzati e salvarli per riutilizzarli in futuro.</span><span class="sxs-lookup"><span data-stu-id="28fc5-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="28fc5-296">immagine di Hello seguente vengono illustrati hello **visualizzazione Layout** menu, disponibile selezionando **visualizzazione Layout** dalla barra multifunzione di hello barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="28fc5-296">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="28fc5-297">layout della visualizzazione Hello per l'archiviazione di Azure sono raggruppate sotto hello **di archiviazione di Azure** nodo nel menu hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-297">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="28fc5-298">È possibile cercare `Azure Storage` in toofilter casella di ricerca hello nell'archiviazione di Azure consente di visualizzare solo i layout.</span><span class="sxs-lookup"><span data-stu-id="28fc5-298">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="28fc5-299">È inoltre possibile selezionare hello star Avanti tooa visualizzazione layout toomake it a preferito e visualizzarlo nella parte superiore di hello del menu hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-299">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Menu Visualizza layout](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="28fc5-301">toobegin, con l'istruzione select **raggruppati per modulo e ClientRequestID**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-301">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="28fc5-302">In questo layout di visualizzazione sono raggruppati i dati dei tre log prima in base all'ID richiesta client, quindi in base al file di log di origine (o **Modulo** in Message Analyzer).</span><span class="sxs-lookup"><span data-stu-id="28fc5-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="28fc5-303">Questa visualizzazione consente di eseguire il drill-down in un particolare ID richiesta client e visualizzare i dati dei tre file di log per tale ID richiesta client.</span><span class="sxs-lookup"><span data-stu-id="28fc5-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="28fc5-304">immagine di Hello riportata di seguito viene illustrato questo layout visualizzazione applicata toohello registro dati di esempio, un subset di colonne visualizzate.</span><span class="sxs-lookup"><span data-stu-id="28fc5-304">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="28fc5-305">È possibile visualizzare per un ID richiesta client specifico, hello Analysis griglia visualizza i dati di log client hello e log del server di traccia di rete.</span><span class="sxs-lookup"><span data-stu-id="28fc5-305">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Layout di visualizzazione di Archiviazione di Azure](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="28fc5-307">Diversi file di log sono colonne diverse, pertanto quando dati da più file di log viene visualizzati nella griglia di analisi di hello, alcune colonne non possono contenere i dati per una determinata riga.</span><span class="sxs-lookup"><span data-stu-id="28fc5-307">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="28fc5-308">Nell'immagine hello precedente, ad esempio, le righe di log client non Mostra tutti i dati per hello **Timestamp**, **TimeElapsed**, **origine**, e **destinazione** colonne, perché queste colonne non sono presenti nel log hello del client, ma presenti nella traccia di rete hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-308">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="28fc5-309">Analogamente, hello **Timestamp** colonna vengono visualizzati i dati timestamp log hello del server, ma non vengono visualizzati dati per hello **TimeElapsed**, **origine**, e  **Destinazione** colonne, che non fanno parte del log di hello del server.</span><span class="sxs-lookup"><span data-stu-id="28fc5-309">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
> 
> 

<span data-ttu-id="28fc5-310">Inoltre layout della visualizzazione di toousing hello archiviazione di Azure, è possibile anche definire e salvare layout personalizzati della visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-310">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="28fc5-311">È possibile selezionare altri campi desiderati per il raggruppamento di dati e salvare il raggruppamento di hello come parte di oltre il layout personalizzato.</span><span class="sxs-lookup"><span data-stu-id="28fc5-311">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="28fc5-312">Applicare toohello regole colore della griglia di analisi</span><span class="sxs-lookup"><span data-stu-id="28fc5-312">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="28fc5-313">Risorse di archiviazione Hello includono anche le regole di colore, che offrono che un oggetto visivo significa tooidentify diversi tipi di errori di analisi griglia hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-313">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="28fc5-314">Hello predefiniti regole colore si applicano tooHTTP errori, pertanto verranno visualizzati solo per la traccia di log e di rete server hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-314">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="28fc5-315">Selezionare le regole colore, tooapply **regole colore** dalla barra multifunzione di hello barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="28fc5-315">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="28fc5-316">Si noterà che le regole colore hello archiviazione di Azure nel menu hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-316">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="28fc5-317">Per hello esercitazione, selezionare **gli errori del Client (codice di stato compreso tra 400 e 499)**, come illustrato nell'immagine di hello riportata di seguito.</span><span class="sxs-lookup"><span data-stu-id="28fc5-317">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Layout di visualizzazione di Archiviazione di Azure](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="28fc5-319">Inoltre le regole dei colori hello toousing di archiviazione di Azure, è anche possibile definire e salvare le regole colore.</span><span class="sxs-lookup"><span data-stu-id="28fc5-319">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="28fc5-320">Raggruppamento e il filtro log dati toofind 400-errori di intervallo</span><span class="sxs-lookup"><span data-stu-id="28fc5-320">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="28fc5-321">Successivamente, si sarà raggruppare e filtrare hello log dati toofind tutti gli errori di intervallo hello 400.</span><span class="sxs-lookup"><span data-stu-id="28fc5-321">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="28fc5-322">Individuare hello **StatusCode** colonna nella griglia Analysis, colonna di hello pulsante destro del mouse sull'intestazione e seleziona hello **gruppo**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-322">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="28fc5-323">Successivamente, a un gruppo in hello **ClientRequestId** colonna.</span><span class="sxs-lookup"><span data-stu-id="28fc5-323">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="28fc5-324">Si noterà che i dati hello hello che Analysis griglia ora è organizzata in base allo stato del codice e da una richiesta client ID.</span><span class="sxs-lookup"><span data-stu-id="28fc5-324">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="28fc5-325">Visualizza finestra degli strumenti di filtro di visualizzazione hello se non è già visualizzato.</span><span class="sxs-lookup"><span data-stu-id="28fc5-325">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="28fc5-326">Nella barra multifunzione di hello, selezionare **finestre degli strumenti**, quindi **filtro di visualizzazione**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-326">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="28fc5-327">toofilter hello log toodisplay intervalli 400 solo errori di dati, aggiungere hello toohello di criteri di filtro seguenti **filtro di visualizzazione** finestra e fare clic su **applica**:</span><span class="sxs-lookup"><span data-stu-id="28fc5-327">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="28fc5-328">immagine di Hello seguente mostra risultati hello di questo raggruppamento e filtro.</span><span class="sxs-lookup"><span data-stu-id="28fc5-328">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="28fc5-329">Espansione hello **ClientRequestID** campo sotto hello raggruppamento per il codice di stato 409, ad esempio, viene illustrata un'operazione che ha generato il codice di stato.</span><span class="sxs-lookup"><span data-stu-id="28fc5-329">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Layout di visualizzazione di Archiviazione di Azure](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="28fc5-331">Dopo aver applicato il filtro, si noterà che le righe dal log di hello client vengono escluse, come hello log del client non include un **StatusCode** colonna.</span><span class="sxs-lookup"><span data-stu-id="28fc5-331">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="28fc5-332">verrà quindi restituito toohello log tooexamine hello client le operazioni dei client che ha portato toothem toobegin con, verrà esaminato server hello ed 404 errori toolocate di rete registri traccia.</span><span class="sxs-lookup"><span data-stu-id="28fc5-332">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="28fc5-333">È possibile filtrare hello **StatusCode** colonna e visualizzare i dati da tutti i tre log, ad esempio hello log client, se si aggiunge un filtro toohello espressione che include le voci di log in cui il codice di stato hello è null.</span><span class="sxs-lookup"><span data-stu-id="28fc5-333">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="28fc5-334">tooconstruct questa espressione di filtro, utilizzare:</span><span class="sxs-lookup"><span data-stu-id="28fc5-334">tooconstruct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="28fc5-335">Questo filtro restituisce tutte le righe da client hello solo le righe dal log di hello del server e di log HTTP e log in cui il codice di stato di hello è maggiore di 400.</span><span class="sxs-lookup"><span data-stu-id="28fc5-335">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="28fc5-336">Se si applica il layout di visualizzazione toohello raggruppato per ID richiesta client e il modulo, è possibile cercare o scorrere hello log toofind voci quelli in cui sono rappresentati tutte e tre i registri.</span><span class="sxs-lookup"><span data-stu-id="28fc5-336">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="28fc5-337">Filtrare 404 errori toofind dati di log</span><span class="sxs-lookup"><span data-stu-id="28fc5-337">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="28fc5-338">Risorse di archiviazione Hello includono filtri predefiniti che è possibile utilizzare toonarrow registra dati toofind hello errori o le tendenze che si sta cercando.</span><span class="sxs-lookup"><span data-stu-id="28fc5-338">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="28fc5-339">Successivamente, si applicherà due filtri predefiniti: uno che filtra server hello e registri di traccia di rete per gli 404 errori e uno che filtra i dati di hello su un intervallo di tempo specificato.</span><span class="sxs-lookup"><span data-stu-id="28fc5-339">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="28fc5-340">Visualizza finestra degli strumenti di filtro di visualizzazione hello se non è già visualizzato.</span><span class="sxs-lookup"><span data-stu-id="28fc5-340">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="28fc5-341">Nella barra multifunzione di hello, selezionare **finestre degli strumenti**, quindi **filtro di visualizzazione**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-341">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="28fc5-342">Nella finestra di filtro di visualizzazione hello selezionare **libreria**e cercare `Azure Storage` hello toofind i filtri di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="28fc5-342">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="28fc5-343">Filtro selezionare hello per **404 (non trovato) di messaggi in tutti i log**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-343">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="28fc5-344">Hello visualizzazione **libreria** menu Nuovo, quindi individuare e selezionare hello **filtro temporale globale**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-344">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="28fc5-345">Modificare il timestamp di hello nell'intervallo di hello filtro toohello desiderato tooview.</span><span class="sxs-lookup"><span data-stu-id="28fc5-345">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="28fc5-346">Ciò consentirà di intervallo di hello toonarrow di tooanalyze di dati.</span><span class="sxs-lookup"><span data-stu-id="28fc5-346">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="28fc5-347">Il filtro dovrebbe essere visualizzato simile toohello riportato di seguito viene riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="28fc5-347">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="28fc5-348">Fare clic su **applica** tooapply hello filtro toohello Analysis griglia.</span><span class="sxs-lookup"><span data-stu-id="28fc5-348">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Layout di visualizzazione di Archiviazione di Azure](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="28fc5-350">Analizzare i dati di log</span><span class="sxs-lookup"><span data-stu-id="28fc5-350">Analyze your log data</span></span>
<span data-ttu-id="28fc5-351">Ora che si sono raggruppati e filtrati i dati, è possibile esaminare i dettagli di hello delle singole richieste che hanno generato 404 errori.</span><span class="sxs-lookup"><span data-stu-id="28fc5-351">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="28fc5-352">Nel layout di visualizzazione corrente hello, dati hello vengono raggruppati per ID richiesta client, quindi dall'origine di log.</span><span class="sxs-lookup"><span data-stu-id="28fc5-352">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="28fc5-353">Poiché si Filtra per le richieste in cui hello StatusCode campo 404, verranno esaminati solo i server hello e i dati di traccia di rete, non i dati di log relativi ai client di hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-353">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="28fc5-354">immagine Hello seguente mostra una richiesta specifica in cui un'operazione Get Blob ha restituito un errore 404 perché non esisteva blob hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-354">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="28fc5-355">Si noti che alcune colonne sono state rimosse dalla visualizzazione standard di hello nei dati rilevanti hello toodisplay dell'ordine.</span><span class="sxs-lookup"><span data-stu-id="28fc5-355">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Log della traccia di rete e del server filtrati](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="28fc5-357">Successivamente, si sarà correlare questo ID richiesta client hello client log dati toosee stava richiedendo quali client hello azioni quando si è verificato l'errore hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-357">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="28fc5-358">È possibile visualizzare una nuova visualizzazione griglia di analisi per questa sessione tooview hello client log dati, che viene aperto in una seconda scheda:</span><span class="sxs-lookup"><span data-stu-id="28fc5-358">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="28fc5-359">Innanzitutto, copiare il valore di hello di hello **ClientRequestId** Appunti toohello campo.</span><span class="sxs-lookup"><span data-stu-id="28fc5-359">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="28fc5-360">È possibile farlo selezionando una riga, individuazione hello **ClientRequestId** campo, facendo clic sul valore dei dati hello e scegliendo **copia 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="28fc5-360">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="28fc5-361">Nella barra multifunzione di hello, selezionare **nuovo visualizzatore**, quindi selezionare **griglia Analysis** tooopen una nuova scheda nuovo hello scheda Visualizza tutti i dati nei file di registro, senza il raggruppamento, filtro o le regole colore.</span><span class="sxs-lookup"><span data-stu-id="28fc5-361">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="28fc5-362">Nella barra multifunzione di hello, selezionare **visualizzazione Layout**, quindi selezionare **tutte le colonne di Client .NET** in hello **di archiviazione di Azure** sezione.</span><span class="sxs-lookup"><span data-stu-id="28fc5-362">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="28fc5-363">Questa visualizzazione Mostra i dati dal log hello del client, nonché hello i registri di traccia di rete e del server.</span><span class="sxs-lookup"><span data-stu-id="28fc5-363">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="28fc5-364">Per impostazione predefinita l'ordinamento in hello **MessageNumber** colonna.</span><span class="sxs-lookup"><span data-stu-id="28fc5-364">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="28fc5-365">Cercare quindi log hello del client richiesta ID client hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-365">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="28fc5-366">Nella barra multifunzione di hello, selezionare **Trova messaggi**, quindi specificare un filtro personalizzato sull'ID di richiesta client hello in hello **trovare** campo.</span><span class="sxs-lookup"><span data-stu-id="28fc5-366">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="28fc5-367">Usare questa sintassi per il filtro di hello, specificando il proprio ID richiesta client:</span><span class="sxs-lookup"><span data-stu-id="28fc5-367">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="28fc5-368">Message Analyzer individua e seleziona hello prima voce di registro in cui i criteri di ricerca hello corrisponde richiesta ID client hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-368">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="28fc5-369">Nel Registro di hello client, esistono diverse voci per ogni ID richiesta client, pertanto è consigliabile toogroup usarle in hello **ClientRequestId** toomake campo è più facile toosee li tutti insieme.</span><span class="sxs-lookup"><span data-stu-id="28fc5-369">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="28fc5-370">immagine di Hello riportata di seguito mostra tutti i messaggi hello in client hello di log per hello specificato ID di richiesta client.</span><span class="sxs-lookup"><span data-stu-id="28fc5-370">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Log del client con errori 404](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="28fc5-372">Utilizza dati hello visualizzati nel layout della visualizzazione hello in queste due schede, è possibile analizzare hello richiesta dati toodetermine ciò che potrebbe essere causato l'errore hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-372">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="28fc5-373">È anche possibile esaminare le richieste che hanno preceduto questo uno toosee se un evento precedente hanno potuto condurre errore 404 toohello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-373">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="28fc5-374">Ad esempio, è possibile esaminare le voci di log client hello precedono questa toodetermine di ID richiesta client se blob hello potrebbe essere stata eliminata o se l'errore hello scaduto dall'applicazione client toohello che chiama un'API CreateIfNotExists in un contenitore o blob.</span><span class="sxs-lookup"><span data-stu-id="28fc5-374">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="28fc5-375">Nel Registro di client hello, è possibile trovare l'indirizzo del blob hello in hello **descrizione** campo; nel server di hello e registri di traccia di rete, questa informazione viene visualizzata in hello **riepilogo** campo.</span><span class="sxs-lookup"><span data-stu-id="28fc5-375">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="28fc5-376">Quando si conosce l'indirizzo di hello del blob hello che hanno restituito errori hello 404, è possibile esaminare ulteriormente.</span><span class="sxs-lookup"><span data-stu-id="28fc5-376">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="28fc5-377">Se si esegue la ricerca voci di log hello per altri messaggi associati con operazioni su hello stesso blob, è possibile verificare se il client hello eliminato in precedenza entità hello.</span><span class="sxs-lookup"><span data-stu-id="28fc5-377">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="28fc5-378">Analizzare altri tipi di errori di archiviazione</span><span class="sxs-lookup"><span data-stu-id="28fc5-378">Analyze other types of storage errors</span></span>
<span data-ttu-id="28fc5-379">Ora che si ha familiarità con i dati dei log di tooanalyze Message Analyzer, è possibile analizzare gli altri tipi di errori durante l'utilizzo di visualizzazione layout, le regole colore e la ricerca filtro.</span><span class="sxs-lookup"><span data-stu-id="28fc5-379">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="28fc5-380">Hello tabelle seguente sono elencati alcuni problemi che si possono verificarsi e i criteri di filtro è possibile utilizzare toolocate hello li.</span><span class="sxs-lookup"><span data-stu-id="28fc5-380">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="28fc5-381">Per ulteriori informazioni sulla creazione di filtri e hello Message Analyzer filtro lingua, vedere [filtraggio dei dati di messaggio](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="28fc5-381">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="28fc5-382">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="28fc5-382">tooInvestigate…</span></span> | <span data-ttu-id="28fc5-383">Usare l'espressione di filtro...</span><span class="sxs-lookup"><span data-stu-id="28fc5-383">Use Filter Expression…</span></span> | <span data-ttu-id="28fc5-384">Espressione si applica tooLog (Client, Server, rete, tutti)</span><span class="sxs-lookup"><span data-stu-id="28fc5-384">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="28fc5-385">Ritardi imprevisti nel recapito dei messaggi in una coda</span><span class="sxs-lookup"><span data-stu-id="28fc5-385">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="28fc5-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span><span class="sxs-lookup"><span data-stu-id="28fc5-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="28fc5-387">Client</span><span class="sxs-lookup"><span data-stu-id="28fc5-387">Client</span></span> |
| <span data-ttu-id="28fc5-388">Aumento di PercentThrottlingError HTTP</span><span class="sxs-lookup"><span data-stu-id="28fc5-388">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="28fc5-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="28fc5-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="28fc5-390">Rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-390">Network</span></span> |
| <span data-ttu-id="28fc5-391">Aumento di PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="28fc5-391">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="28fc5-392">HTTP.Response.StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="28fc5-392">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="28fc5-393">Rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-393">Network</span></span> |
| <span data-ttu-id="28fc5-394">Aumento di PercentTimeoutError (tutti)</span><span class="sxs-lookup"><span data-stu-id="28fc5-394">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="28fc5-395">*StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="28fc5-395">*StatusCode   == 500</span></span> |<span data-ttu-id="28fc5-396">Tutti</span><span class="sxs-lookup"><span data-stu-id="28fc5-396">All</span></span> |
| <span data-ttu-id="28fc5-397">Aumento di PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="28fc5-397">Increase in PercentNetworkError</span></span> |<span data-ttu-id="28fc5-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span><span class="sxs-lookup"><span data-stu-id="28fc5-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="28fc5-399">Client</span><span class="sxs-lookup"><span data-stu-id="28fc5-399">Client</span></span> |
| <span data-ttu-id="28fc5-400">Messaggi HTTP 403 (Accesso negato)</span><span class="sxs-lookup"><span data-stu-id="28fc5-400">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="28fc5-401">HTTP.Response.StatusCode   == 403</span><span class="sxs-lookup"><span data-stu-id="28fc5-401">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="28fc5-402">Rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-402">Network</span></span> |
| <span data-ttu-id="28fc5-403">Messaggi HTTP 404 (Non trovato)</span><span class="sxs-lookup"><span data-stu-id="28fc5-403">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="28fc5-404">HTTP.Response.StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="28fc5-404">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="28fc5-405">Rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-405">Network</span></span> |
| <span data-ttu-id="28fc5-406">404 (tutti)</span><span class="sxs-lookup"><span data-stu-id="28fc5-406">404 (all)</span></span> |<span data-ttu-id="28fc5-407">*StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="28fc5-407">*StatusCode   == 404</span></span> |<span data-ttu-id="28fc5-408">Tutti</span><span class="sxs-lookup"><span data-stu-id="28fc5-408">All</span></span> |
| <span data-ttu-id="28fc5-409">Problema di autorizzazione della firma di accesso condiviso</span><span class="sxs-lookup"><span data-stu-id="28fc5-409">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="28fc5-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="28fc5-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="28fc5-411">Rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-411">Network</span></span> |
| <span data-ttu-id="28fc5-412">Messaggi HTTP 409 (Conflitto)</span><span class="sxs-lookup"><span data-stu-id="28fc5-412">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="28fc5-413">HTTP.Response.StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="28fc5-413">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="28fc5-414">Rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-414">Network</span></span> |
| <span data-ttu-id="28fc5-415">409 (tutti)</span><span class="sxs-lookup"><span data-stu-id="28fc5-415">409 (all)</span></span> |<span data-ttu-id="28fc5-416">*StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="28fc5-416">*StatusCode   == 409</span></span> |<span data-ttu-id="28fc5-417">Tutti</span><span class="sxs-lookup"><span data-stu-id="28fc5-417">All</span></span> |
| <span data-ttu-id="28fc5-418">Un valore PercentSuccess basso o le voci del log di analisi contengono operazioni con stato della transazione ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="28fc5-418">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="28fc5-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="28fc5-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="28fc5-420">Server</span><span class="sxs-lookup"><span data-stu-id="28fc5-420">Server</span></span> |
| <span data-ttu-id="28fc5-421">Avviso Nagle</span><span class="sxs-lookup"><span data-stu-id="28fc5-421">Nagle   Warning</span></span> |<span data-ttu-id="28fc5-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) e (AzureStorageLog.RequestPacketSize <1460) e (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span><span class="sxs-lookup"><span data-stu-id="28fc5-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="28fc5-423">Server</span><span class="sxs-lookup"><span data-stu-id="28fc5-423">Server</span></span> |
| <span data-ttu-id="28fc5-424">Intervallo di tempo nei log del server e di rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-424">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="28fc5-425">#Timestamp   >= 2014-10-20T16:36:38 e #Timestamp <= 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="28fc5-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="28fc5-426">Server, Rete</span><span class="sxs-lookup"><span data-stu-id="28fc5-426">Server, Network</span></span> |
| <span data-ttu-id="28fc5-427">Intervallo di tempo nei log del server</span><span class="sxs-lookup"><span data-stu-id="28fc5-427">Range of   time in Server logs</span></span> |<span data-ttu-id="28fc5-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 e AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="28fc5-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="28fc5-429">Server</span><span class="sxs-lookup"><span data-stu-id="28fc5-429">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="28fc5-430">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="28fc5-430">Next steps</span></span>
<span data-ttu-id="28fc5-431">Per altre informazioni sugli scenari end-to-end di risoluzione dei problemi di archiviazione di Azure, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="28fc5-431">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="28fc5-432">Monitoraggio, diagnosi e risoluzione dei problemi del servizio di archiviazione di Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="28fc5-432">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="28fc5-433">Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="28fc5-433">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="28fc5-434">Monitoraggio di un account di archiviazione nel portale di Azure hello</span><span class="sxs-lookup"><span data-stu-id="28fc5-434">Monitor a storage account in hello Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="28fc5-435">Trasferimento dati con l'utilità della riga di comando di AzCopy hello</span><span class="sxs-lookup"><span data-stu-id="28fc5-435">Transfer data with hello AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="28fc5-436">Guida operativa di Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="28fc5-436">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
