---
title: Proteggere un cluster in esecuzione in Windows usando la protezione di Windows | Microsoft Docs
description: Informazioni su come configurare la sicurezza da nodo a nodo e da client a nodo in un cluster autonomo in esecuzione in Windows usando la protezione di Windows.
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: ce3bf686-ffc4-452f-b15a-3c812aa9e672
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/24/2017
ms.author: dekapur
ms.openlocfilehash: e093a631b0cf81195981a8e3d345504ebce02723
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="secure-a-standalone-cluster-on-windows-by-using-windows-security"></a><span data-ttu-id="8aaf6-103">Proteggere un cluster autonomo in Windows usando la protezione di Windows</span><span class="sxs-lookup"><span data-stu-id="8aaf6-103">Secure a standalone cluster on Windows by using Windows security</span></span>
<span data-ttu-id="8aaf6-104">Per impedire l'accesso non autorizzato a un cluster di Service Fabric, è necessario proteggere il cluster.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-104">To prevent unauthorized access to a Service Fabric cluster, you must secure the cluster.</span></span> <span data-ttu-id="8aaf6-105">La sicurezza è importante soprattutto quando il cluster esegue carichi di lavoro di produzione.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-105">Security is especially important when the cluster runs production workloads.</span></span> <span data-ttu-id="8aaf6-106">Questo articolo descrive come configurare la sicurezza da nodo a nodo e da client a nodo usando la protezione di Windows nel file *ClusterConfig.JSON*.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-106">This article describes how to configure node-to-node and client-to-node security by using Windows security in the *ClusterConfig.JSON* file.</span></span>  <span data-ttu-id="8aaf6-107">Il processo corrisponde al passaggio di configurazione della sicurezza in [Creare un cluster autonomo in esecuzione su Windows Server](service-fabric-cluster-creation-for-windows-server.md).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-107">The process corresponds to the configure security step of [Create a standalone cluster running on Windows](service-fabric-cluster-creation-for-windows-server.md).</span></span> <span data-ttu-id="8aaf6-108">Per altre informazioni sull'uso della protezione di Windows in Service Fabric, vedere [Scenari di sicurezza del cluster](service-fabric-cluster-security.md).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-108">For more information about how Service Fabric uses Windows security, see [Cluster security scenarios](service-fabric-cluster-security.md).</span></span>

> [!NOTE]
> <span data-ttu-id="8aaf6-109">È opportuno considerare con attenzione la selezione della sicurezza da nodo a nodo, perché non esiste un aggiornamento del cluster da una scelta di sicurezza a un'altra.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-109">You should consider the selection of node-to-node security carefully because there is no cluster upgrade from one security choice to another.</span></span> <span data-ttu-id="8aaf6-110">Per modificare la selezione della sicurezza, è necessario ricompilare il cluster completo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-110">To change the security selection, you have to rebuild the full cluster.</span></span>
>
>

## <a name="configure-windows-security-using-gmsa"></a><span data-ttu-id="8aaf6-111">Configurare la funzionalità di sicurezza di Windows usando l'approccio account del servizio gestito del gruppo</span><span class="sxs-lookup"><span data-stu-id="8aaf6-111">Configure Windows security using gMSA</span></span>  
<span data-ttu-id="8aaf6-112">Il file di configurazione di esempio *ClusterConfig.gMSA.Windows.MultiMachine.JSON* scaricato con il pacchetto del cluster autonomo [Microsoft.Azure.ServiceFabric.WindowsServer<version>.zip](http://go.microsoft.com/fwlink/?LinkId=730690) contiene un modello per la configurazione della sicurezza di Windows usando l'approccio [account del servizio gestito del gruppo](https://technet.microsoft.com/library/hh831782.aspx).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-112">The sample *ClusterConfig.gMSA.Windows.MultiMachine.JSON* configuration file downloaded with the [Microsoft.Azure.ServiceFabric.WindowsServer.<version>.zip](http://go.microsoft.com/fwlink/?LinkId=730690) standalone cluster package contains a template for configuring Windows security using [Group Managed Service Account (gMSA)](https://technet.microsoft.com/library/hh831782.aspx):</span></span>  

```  
"security": {  
            "WindowsIdentities": {  
                "ClustergMSAIdentity": "accountname@fqdn"  
                "ClusterSPN": "fqdn"  
                "ClientIdentities": [  
                    {  
                        "Identity": "domain\\username",  
                        "IsAdmin": true  
                    }  
                ]  
            }  
        }  
```  
  
| <span data-ttu-id="8aaf6-113">**Impostazioni di configurazione**</span><span class="sxs-lookup"><span data-stu-id="8aaf6-113">**Configuration Setting**</span></span> | <span data-ttu-id="8aaf6-114">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="8aaf6-114">**Description**</span></span> |  
| --- | --- |  
| <span data-ttu-id="8aaf6-115">WindowsIdentities</span><span class="sxs-lookup"><span data-stu-id="8aaf6-115">WindowsIdentities</span></span> |<span data-ttu-id="8aaf6-116">Contiene le identità del client e del cluster.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-116">Contains the cluster and client identities.</span></span> |  
| <span data-ttu-id="8aaf6-117">ClustergMSAIdentity</span><span class="sxs-lookup"><span data-stu-id="8aaf6-117">ClustergMSAIdentity</span></span> |<span data-ttu-id="8aaf6-118">Configura la sicurezza da nodo a nodo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-118">Configures node-to-node security.</span></span> <span data-ttu-id="8aaf6-119">Account del servizio gestito del gruppo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-119">A group managed service account.</span></span> |  
| <span data-ttu-id="8aaf6-120">ClusterSPN</span><span class="sxs-lookup"><span data-stu-id="8aaf6-120">ClusterSPN</span></span> |<span data-ttu-id="8aaf6-121">SPN di dominio completo per l'account del servizio gestito del gruppo</span><span class="sxs-lookup"><span data-stu-id="8aaf6-121">Fully qualified domain SPN for gMSA account</span></span>|  
| <span data-ttu-id="8aaf6-122">ClientIdentities</span><span class="sxs-lookup"><span data-stu-id="8aaf6-122">ClientIdentities</span></span> |<span data-ttu-id="8aaf6-123">Configura la sicurezza da client a nodo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-123">Configures client-to-node security.</span></span> <span data-ttu-id="8aaf6-124">Matrice di account utente del client.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-124">An array of client user accounts.</span></span> |  
| <span data-ttu-id="8aaf6-125">Identità</span><span class="sxs-lookup"><span data-stu-id="8aaf6-125">Identity</span></span> |<span data-ttu-id="8aaf6-126">Identità del client, un utente del dominio.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-126">The client identity, a domain user.</span></span> |  
| <span data-ttu-id="8aaf6-127">IsAdmin</span><span class="sxs-lookup"><span data-stu-id="8aaf6-127">IsAdmin</span></span> |<span data-ttu-id="8aaf6-128">True indica che l'utente del dominio ha un accesso client come amministratore, mentre false indica un accesso client come utente.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-128">True specifies that the domain user has administrator client access, false for user client access.</span></span> |  
  
<span data-ttu-id="8aaf6-129">La [protezione da nodo a nodo](service-fabric-cluster-security.md#node-to-node-security) viene configurata impostando **ClustergMSAIdentity** quando l'infrastruttura di servizi deve essere eseguita nell'account del servizio gestito del gruppo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-129">[Node to node security](service-fabric-cluster-security.md#node-to-node-security) is configured by setting **ClustergMSAIdentity** when service fabric needs to run under gMSA.</span></span> <span data-ttu-id="8aaf6-130">Per creare relazioni di trust tra i nodi, è necessario che si riconoscano.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-130">In order to build trust relationships between nodes, they must be made aware of each other.</span></span> <span data-ttu-id="8aaf6-131">Questa operazione può essere eseguita in due modi diversi: specificare l'account del servizio gestito del gruppo che include tutti i nodi del cluster oppure specificare il gruppo del computer di dominio che include tutti i nodi del cluster.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-131">This can be accomplished in two different ways: Specify the Group Managed Service Account that includes all nodes in the cluster or Specify the domain machine group that includes all nodes in the cluster.</span></span> <span data-ttu-id="8aaf6-132">È consigliabile usare l'approccio degli [account del servizio gestiti del gruppo](https://technet.microsoft.com/library/hh831782.aspx) , in particolare per i cluster più grandi (più di 10 nodi) o per i cluster soggetti a probabile crescita o riduzione.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-132">We strongly recommend using the [Group Managed Service Account (gMSA)](https://technet.microsoft.com/library/hh831782.aspx) approach, particularly for larger clusters (more than 10 nodes) or for clusters that are likely to grow or shrink.</span></span>  
<span data-ttu-id="8aaf6-133">Non richiede inoltre la creazione di un gruppo di dominio per cui agli amministratori del cluster siano stati concessi i diritti di accesso per aggiungere e rimuovere membri.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-133">This approach does not require the creation of a domain group for which cluster administrators have been granted access rights to add and remove members.</span></span> <span data-ttu-id="8aaf6-134">Questi account si rivelano utili anche nella gestione automatica delle password.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-134">These accounts are also useful for automatic password management.</span></span> <span data-ttu-id="8aaf6-135">Per altre informazioni, vedere [Introduzione gli account del servizio gestiti del gruppo](http://technet.microsoft.com/library/jj128431.aspx).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-135">For more information, see [Getting Started with Group Managed Service Accounts](http://technet.microsoft.com/library/jj128431.aspx).</span></span>  
 
<span data-ttu-id="8aaf6-136">[Sicurezza da client a nodo](service-fabric-cluster-security.md#client-to-node-security) è un'impostazione configurata tramite **ClientIdentities**.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-136">[Client to node security](service-fabric-cluster-security.md#client-to-node-security) is configured using **ClientIdentities**.</span></span> <span data-ttu-id="8aaf6-137">Per stabilire un trust tra un client e il cluster, è necessario configurare il cluster in modo che riconosca quali identità dei client può considerare attendibili.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-137">In order to establish trust between a client and the cluster, you must configure the cluster to know which client identities that it can trust.</span></span> <span data-ttu-id="8aaf6-138">Questa operazione può essere eseguita in due modi diversi: specificare se la connessione è consentita agli utenti dei gruppo di dominio o agli utenti dei nodi di dominio.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-138">This can be done in two different ways: Specify the domain group users that can connect or specify the domain node users that can connect.</span></span> <span data-ttu-id="8aaf6-139">Infrastruttura di servizi supporta due tipi di controllo di accesso diversi per i client connessi a un cluster di Infrastruttura di servizi: amministratore e utente.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-139">Service Fabric supports two different access control types for clients that are connected to a Service Fabric cluster: administrator and user.</span></span> <span data-ttu-id="8aaf6-140">La funzionalità di controllo di accesso consente all'amministratore del cluster di limitare l'accesso a determinati tipi di operazioni del cluster per diversi gruppi di utenti, rendendo il cluster più sicuro.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-140">Access control provides the ability for the cluster administrator to limit access to certain types of cluster operations for different groups of users, making the cluster more secure.</span></span>  <span data-ttu-id="8aaf6-141">Gli amministratori hanno accesso completo alle funzionalità di gestione, incluse funzionalità di lettura/scrittura.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-141">Administrators have full access to management capabilities (including read/write capabilities).</span></span> <span data-ttu-id="8aaf6-142">Gli utenti, per impostazione predefinita, hanno solo l'accesso in lettura alle funzionalità di gestione, ad esempio funzionalità di query, e la possibilità di risolvere applicazioni e servizi.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-142">Users, by default, have only read access to management capabilities (for example, query capabilities), and the ability to resolve applications and services.</span></span> <span data-ttu-id="8aaf6-143">Per altre informazioni sul controllo degli accessi, vedere [Controllo degli accessi in base al ruolo per i client di Service Fabric](service-fabric-cluster-security-roles.md).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-143">For more information on access controls, see [Role based access control for Service Fabric clients](service-fabric-cluster-security-roles.md).</span></span>  
 
<span data-ttu-id="8aaf6-144">La sezione **security** dell'esempio seguente configura la sicurezza di Windows usando un account del servizio gestiti del gruppo e specifica che i computer nell'account del servizio gestiti del gruppo *ServiceFabric.clusterA.contoso.com* fanno parte del cluster e che a *CONTOSO\usera* è consentito l'accesso client come amministratore:</span><span class="sxs-lookup"><span data-stu-id="8aaf6-144">The following example **security** section configures Windows security using gMSA and specifies that the machines in *ServiceFabric.clusterA.contoso.com* gMSA are part of the cluster and that *CONTOSO\usera* has admin client access:</span></span>  
  
```  
"security": {  
    "WindowsIdentities": {  
        "ClustergMSAIdentity" : "ServiceFabric.clusterA.contoso.com",  
        "ClusterSPN" : "clusterA.contoso.com",  
        "ClientIdentities": [{  
            "Identity": "CONTOSO\\usera",  
            "IsAdmin": true  
        }]  
    }  
}  
```  
  
## <a name="configure-windows-security-using-a-machine-group"></a><span data-ttu-id="8aaf6-145">Configurare la funzionalità di sicurezza di Windows usando un gruppo di computer</span><span class="sxs-lookup"><span data-stu-id="8aaf6-145">Configure Windows security using a machine group</span></span>  
<span data-ttu-id="8aaf6-146">Il file di configurazione di esempio *ClusterConfig.Windows.MultiMachine.JSON* scaricato con il pacchetto del cluster autonomo [Microsoft.Azure.ServiceFabric.WindowsServer<version>.zip](http://go.microsoft.com/fwlink/?LinkId=730690) contiene un modello per la configurazione della sicurezza di Windows.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-146">The sample *ClusterConfig.Windows.MultiMachine.JSON* configuration file downloaded with the [Microsoft.Azure.ServiceFabric.WindowsServer.<version>.zip](http://go.microsoft.com/fwlink/?LinkId=730690) standalone cluster package contains a template for configuring Windows security.</span></span>  <span data-ttu-id="8aaf6-147">La sicurezza di Windows viene configurata nella sezione **Proprietà** :</span><span class="sxs-lookup"><span data-stu-id="8aaf6-147">Windows security is configured in the **Properties** section:</span></span> 

```
"security": {
            "ClusterCredentialType": "Windows",
            "ServerCredentialType": "Windows",
            "WindowsIdentities": {
                "ClusterIdentity" : "[domain\machinegroup]",
                "ClientIdentities": [{
                    "Identity": "[domain\username]",
                    "IsAdmin": true
                }]
            }
        }
```

| <span data-ttu-id="8aaf6-148">**Impostazione di configurazione**</span><span class="sxs-lookup"><span data-stu-id="8aaf6-148">**Configuration setting**</span></span> | <span data-ttu-id="8aaf6-149">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="8aaf6-149">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="8aaf6-150">ClusterCredentialType</span><span class="sxs-lookup"><span data-stu-id="8aaf6-150">ClusterCredentialType</span></span> |<span data-ttu-id="8aaf6-151">**ClusterCredentialType** è impostato su *Windows* se ClusterIdentity specifica il nome di un gruppo di computer Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-151">**ClusterCredentialType** is set to *Windows* if ClusterIdentity specifies an Active Directory Machine Group Name.</span></span> |  
| <span data-ttu-id="8aaf6-152">ServerCredentialType</span><span class="sxs-lookup"><span data-stu-id="8aaf6-152">ServerCredentialType</span></span> |<span data-ttu-id="8aaf6-153">Impostare su *Windows* per abilitare la protezione di Windows per i client.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-153">Set to *Windows* to enable Windows security for clients.</span></span><br /><br /><span data-ttu-id="8aaf6-154">Questa impostazione indica che i client del cluster e il cluster stesso sono in esecuzione in un dominio di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-154">This indicates that the clients of the cluster and the cluster itself are running within an Active Directory domain.</span></span> |  
| <span data-ttu-id="8aaf6-155">WindowsIdentities</span><span class="sxs-lookup"><span data-stu-id="8aaf6-155">WindowsIdentities</span></span> |<span data-ttu-id="8aaf6-156">Contiene le identità del client e del cluster.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-156">Contains the cluster and client identities.</span></span> |  
| <span data-ttu-id="8aaf6-157">ClusterIdentity</span><span class="sxs-lookup"><span data-stu-id="8aaf6-157">ClusterIdentity</span></span> |<span data-ttu-id="8aaf6-158">Usare il nome di un gruppo di computer, dominio\gruppo di computer, per configurare la sicurezza da nodo a nodo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-158">Use a machine group name, domain\machinegroup, to configure node-to-node security.</span></span> |  
| <span data-ttu-id="8aaf6-159">ClientIdentities</span><span class="sxs-lookup"><span data-stu-id="8aaf6-159">ClientIdentities</span></span> |<span data-ttu-id="8aaf6-160">Configura la sicurezza da client a nodo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-160">Configures client-to-node security.</span></span> <span data-ttu-id="8aaf6-161">Matrice di account utente del client.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-161">An array of client user accounts.</span></span> |  
| <span data-ttu-id="8aaf6-162">Identità</span><span class="sxs-lookup"><span data-stu-id="8aaf6-162">Identity</span></span> |<span data-ttu-id="8aaf6-163">Aggiungere l'utente del dominio, dominio\nome utente, per l'identità del client.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-163">Add the domain user, domain\username, for the client identity.</span></span> |  
| <span data-ttu-id="8aaf6-164">IsAdmin</span><span class="sxs-lookup"><span data-stu-id="8aaf6-164">IsAdmin</span></span> |<span data-ttu-id="8aaf6-165">Impostare su true per indicare che l'utente del dominio ha un accesso client come amministratore oppure su false per indicare un accesso client come utente.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-165">Set to true to specify that the domain user has administrator client access or false for user client access.</span></span> |  

<span data-ttu-id="8aaf6-166">La [Protezione da nodo a nodo](service-fabric-cluster-security.md#node-to-node-security) viene configurata con **ClusterIdentity** se si vuole usare un gruppo di computer all'interno di un dominio di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-166">[Node to node security](service-fabric-cluster-security.md#node-to-node-security) is configured by setting using **ClusterIdentity** if you want to use a machine group within an Active Directory Domain.</span></span> <span data-ttu-id="8aaf6-167">Per altre informazioni, vedere l'articolo su come [Creare un gruppo di computer in Active Directory](https://msdn.microsoft.com/library/aa545347(v=cs.70).aspx).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-167">For more information, see [Create a Machine Group in Active Directory](https://msdn.microsoft.com/library/aa545347(v=cs.70).aspx).</span></span>

<span data-ttu-id="8aaf6-168">La [sicurezza da client a nodo](service-fabric-cluster-security.md#client-to-node-security) viene configurata usando **ClientIdentities**.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-168">[Client-to-node security](service-fabric-cluster-security.md#client-to-node-security) is configured by using **ClientIdentities**.</span></span> <span data-ttu-id="8aaf6-169">Per stabilire una relazione di trust tra un client e il cluster, è necessario configurare il cluster in modo che riconosca le identità dei client che il cluster può considerare attendibili.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-169">To establish trust between a client and the cluster, you must configure the cluster to know the client identities that the cluster can trust.</span></span> <span data-ttu-id="8aaf6-170">È possibile stabilire una relazione di trust in due modi diversi:</span><span class="sxs-lookup"><span data-stu-id="8aaf6-170">You can establish trust in two different ways:</span></span>

- <span data-ttu-id="8aaf6-171">Specificare gli utenti del gruppo di dominio che possono connettersi.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-171">Specify the domain group users that can connect.</span></span>
- <span data-ttu-id="8aaf6-172">Specificare gli utenti del nodo del dominio che possono connettersi.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-172">Specify the domain node users that can connect.</span></span>

<span data-ttu-id="8aaf6-173">Infrastruttura di servizi supporta due tipi di controllo di accesso diversi per i client connessi a un cluster di Infrastruttura di servizi: amministratore e utente.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-173">Service Fabric supports two different access control types for clients that are connected to a Service Fabric cluster: administrator and user.</span></span> <span data-ttu-id="8aaf6-174">La funzionalità di controllo di accesso consente all'amministratore del cluster di limitare l'accesso a determinati tipi di operazioni del cluster per diversi gruppi di utenti, rendendo il cluster più sicuro.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-174">Access control enables the cluster administrator to limit access to certain types of cluster operations for different groups of users, which makes the cluster more secure.</span></span>  <span data-ttu-id="8aaf6-175">Gli amministratori hanno accesso completo alle funzionalità di gestione, incluse funzionalità di lettura/scrittura.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-175">Administrators have full access to management capabilities (including read/write capabilities).</span></span> <span data-ttu-id="8aaf6-176">Gli utenti, per impostazione predefinita, hanno solo l'accesso in lettura alle funzionalità di gestione, ad esempio funzionalità di query, e la possibilità di risolvere applicazioni e servizi.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-176">Users, by default, have only read access to management capabilities (for example, query capabilities), and the ability to resolve applications and services.</span></span>  

<span data-ttu-id="8aaf6-177">La sezione **security** dell'esempio seguente configura la protezione di Windows, specifica che i computer in *ServiceFabric/clusterA.contoso.com* fanno parte del cluster e specifica che a *CONTOSO\usera* è consentito l'accesso client come amministratore:</span><span class="sxs-lookup"><span data-stu-id="8aaf6-177">The following example **security** section configures Windows security, specifies that the machines in *ServiceFabric/clusterA.contoso.com* are part of the cluster, and specifies that *CONTOSO\usera* has admin client access:</span></span>

```
"security": {
    "ClusterCredentialType": "Windows",
    "ServerCredentialType": "Windows",
    "WindowsIdentities": {
        "ClusterIdentity" : "ServiceFabric/clusterA.contoso.com",
        "ClientIdentities": [{
            "Identity": "CONTOSO\\usera",
            "IsAdmin": true
        }]
    }
},
```

> [!NOTE]
> <span data-ttu-id="8aaf6-178">Service Fabric non devono essere distribuito in un controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-178">Service Fabric should not be deployed on a domain controller.</span></span> <span data-ttu-id="8aaf6-179">Verificare che ClusterConfig.json non includa l'indirizzo IP del controller di dominio quando si usa un gruppo di computer o un account del servizio gestito del gruppo.</span><span class="sxs-lookup"><span data-stu-id="8aaf6-179">Make sure that ClusterConfig.json does not include the IP address of the domain controller when using a machine group or group Managed Service Account (gMSA).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="8aaf6-180">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="8aaf6-180">Next steps</span></span>
<span data-ttu-id="8aaf6-181">Dopo la configurazione della sicurezza di Windows nel file *ClusterConfig.JSON* , riprendere il processo di creazione del cluster in [Create a standalone cluster running on Windows](service-fabric-cluster-creation-for-windows-server.md)(Creare un cluster autonomo in esecuzione in Windows).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-181">After configuring Windows security in the *ClusterConfig.JSON* file, resume the cluster creation process in [Create a standalone cluster running on Windows](service-fabric-cluster-creation-for-windows-server.md).</span></span>

<span data-ttu-id="8aaf6-182">Per altre informazioni sulla sicurezza da nodo a nodo e da client a nodo e sul controllo degli accessi in base al ruolo, vedere [Scenari di sicurezza del cluster](service-fabric-cluster-security.md).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-182">For more information about how node-to-node security, client-to-node security, and role-based access control, see [Cluster security scenarios](service-fabric-cluster-security.md).</span></span>

<span data-ttu-id="8aaf6-183">Per alcuni esempi di connessione tramite PowerShell o FabricClient, vedere [Connettersi a un cluster sicuro](service-fabric-connect-to-secure-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="8aaf6-183">See [Connect to a secure cluster](service-fabric-connect-to-secure-cluster.md) for examples of connecting by using PowerShell or FabricClient.</span></span>
