---
title: Distribuire un servizio cloud in un ambiente di gestione temporanea (Node.js) | Documentazione Microsoft
description: Informazioni su come distribuire l'applicazione di Azure prima in un ambiente di gestione temporanea e quindi in un ambiente di produzione tramite uno scambio di IP virtuali (VIP, Virtual IP).
services: cloud-services
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: d65d26a6-b424-49cd-a88c-7ef46bb112a8
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: b3000ed769e8c60eccb21e26f53ce7ccb7e68d7f
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="staging-an-application-in-azure"></a><span data-ttu-id="5cd80-103">Gestione temporanea di un'applicazione in Azure</span><span class="sxs-lookup"><span data-stu-id="5cd80-103">Staging an Application in Azure</span></span>
<span data-ttu-id="5cd80-104">È possibile distribuire nell'ambiente di gestione temporanea di Azure un'applicazione inclusa in un pacchetto per la verifica prima dello spostamento nell'ambiente di produzione in cui l'applicazione risulterà accessibile su Internet.</span><span class="sxs-lookup"><span data-stu-id="5cd80-104">A packaged application can be deployed to the staging environment in Azure to be tested before you move it to the production environment in which the application is accessible on the Internet.</span></span> <span data-ttu-id="5cd80-105">L'ambiente di gestione temporanea è identico all'ambiente di produzione, ma è possibile accedere all'applicazione di gestione temporanea solo tramite un URL offuscato generato da Azure.</span><span class="sxs-lookup"><span data-stu-id="5cd80-105">The staging environment is exactly like the production environment, except that you can only access the staged application with an obfuscated URL that is generated by Azure.</span></span> <span data-ttu-id="5cd80-106">Dopo la verifica del funzionamento corretto dell'applicazione, sarà possibile distribuirla nell'ambiente di produzione, tramite uno scambio di indirizzi IP virtuali (VIP, Virtual IP).</span><span class="sxs-lookup"><span data-stu-id="5cd80-106">After you have verified that your application is working correctly, it can be deployed to the production environment by performing a Virtual IP (VIP) swap.</span></span>

> [!NOTE]
> <span data-ttu-id="5cd80-107">I passaggi illustrati in questo articolo riguardano esclusivamente le applicazioni Node ospitate come Servizio cloud di Azure.</span><span class="sxs-lookup"><span data-stu-id="5cd80-107">The steps in this article only apply to node applications hosted as an Azure Cloud Service.</span></span>
> 
> 

## <a name="step-1-stage-an-application"></a><span data-ttu-id="5cd80-108">Passaggio 1: Gestire un'applicazione in modo temporaneo</span><span class="sxs-lookup"><span data-stu-id="5cd80-108">Step 1: Stage an Application</span></span>
<span data-ttu-id="5cd80-109">In questa attività viene illustrato come gestire un'applicazione in modo temporaneo usando **Microsoft Azure PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="5cd80-109">This task covers how to stage an application by using the **Microsoft Azure PowerShell**.</span></span>

1. <span data-ttu-id="5cd80-110">Quando si pubblica un servizio, è sufficiente passare il parametro **-Slot** al cmdlet **Publish-AzureServiceProject**.</span><span class="sxs-lookup"><span data-stu-id="5cd80-110">When publishing a service, simply pass the **-Slot** parameter to the **Publish-AzureServiceProject** cmdlet.</span></span>
   
   ```powershell
   Publish-AzureServiceProject -Slot staging
   ```
2. <span data-ttu-id="5cd80-111">Accedere al [portale di Azure classico] e selezionare **Servizi cloud**.</span><span class="sxs-lookup"><span data-stu-id="5cd80-111">Log on to the [Azure classic portal] and select **Cloud Services**.</span></span> <span data-ttu-id="5cd80-112">Dopo la creazione del servizio cloud e l'aggiornamento dello stato della colonna **Staging** a **In esecuzione**, fare clic sul nome del servizio.</span><span class="sxs-lookup"><span data-stu-id="5cd80-112">After the cloud service is created and the **Staging** column status has been updated to **Running**, click on the service name.</span></span>
   
   ![Portale con servizio in esecuzione][cloud-service]
3. <span data-ttu-id="5cd80-114">Selezionare **Dashboard** e quindi **Staging**.</span><span class="sxs-lookup"><span data-stu-id="5cd80-114">Select the **Dashboard**, and then select **Staging**.</span></span>
   
   ![Dashboard del servizio cloud][cloud-service-dashboard]
4. <span data-ttu-id="5cd80-116">Si noti il valore nella voce **Site URL** a destra.</span><span class="sxs-lookup"><span data-stu-id="5cd80-116">Note the value in the **Site URL** entry to the right.</span></span> <span data-ttu-id="5cd80-117">Il nome DNS è un ID interno offuscato generato da Azure.</span><span class="sxs-lookup"><span data-stu-id="5cd80-117">The DNS name is an obfuscated internal ID that Azure generated.</span></span>
   
    ![Site URL][cloud-service-staging-url]

<span data-ttu-id="5cd80-119">È ora possibile verificare il corretto funzionamento dell'applicazione nell'ambiente di gestione temporanea, usando l'URL del sito di gestione temporanea.</span><span class="sxs-lookup"><span data-stu-id="5cd80-119">Now you can verify that the application is working correctly in the staging environment by using the staging site URL.</span></span>

## <a name="step-2-upgrade-an-application-in-production-by-swapping-vips"></a><span data-ttu-id="5cd80-120">Passaggio 2: Aggiornare un'applicazione in produzione tramite lo scambio di indirizzi VIP</span><span class="sxs-lookup"><span data-stu-id="5cd80-120">Step 2: Upgrade an Application in Production by Swapping VIPs</span></span>
<span data-ttu-id="5cd80-121">Dopo la verifica della versione aggiornata di un'applicazione nell'ambiente di gestione temporanea, sarà possibile renderla rapidamente disponibile in produzione tramite lo scambio degli indirizzi IP virtuali (VIP, Virtual IP) degli ambienti di gestione temporanea e di produzione.</span><span class="sxs-lookup"><span data-stu-id="5cd80-121">After you have verified the upgraded version of an application in the staging environment, you can quickly make it available in production by swapping the virtual IPs (VIPs) of the staging and production environments.</span></span>

> [!NOTE]
> <span data-ttu-id="5cd80-122">In questo passaggio si presuppone che un'applicazione sia già stata distribuita in produzione e che sia già stata eseguita la gestione temporanea della versione aggiornata dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5cd80-122">This step assumes that you have already deployed an application to production and staged the upgraded version of the application.</span></span>
> 
> 

1. <span data-ttu-id="5cd80-123">Accedere al [portale di Azure classico], fare clic su **Servizi Cloud** e quindi selezionare il nome del servizio.</span><span class="sxs-lookup"><span data-stu-id="5cd80-123">Log into the [Azure classic portal], click **Cloud Services** and then select the service name.</span></span>
2. <span data-ttu-id="5cd80-124">In **Dashboard** selezionare **Staging** e quindi fare clic su **Scambia** nella parte inferiore della pagina.</span><span class="sxs-lookup"><span data-stu-id="5cd80-124">From the **Dashboard**, select **Staging**, and then click **Swap** at the bottom of the page.</span></span> <span data-ttu-id="5cd80-125">Verrà aperta la finestra di dialogo VIP Swap.</span><span class="sxs-lookup"><span data-stu-id="5cd80-125">This opens the VIP Swap dialog.</span></span>
   
   ![Finestra di dialogo VIP Swap][vip-swap-dialog]
3. <span data-ttu-id="5cd80-127">Verificare le informazioni e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="5cd80-127">Review the information, and then click **OK**.</span></span> <span data-ttu-id="5cd80-128">Verrà avviato l'aggiornamento delle due distribuzioni, mentre la distribuzione di gestione temporanea passa in produzione e la distribuzione di produzione passa in gestione temporanea.</span><span class="sxs-lookup"><span data-stu-id="5cd80-128">The two deployments begin updating as the staging deployment switches to production and the production deployment switches to staging.</span></span>

<span data-ttu-id="5cd80-129">La gestione temporanea di una distribuzione e l'aggiornamento di una distribuzione di produzione sono stati eseguiti correttamente tramite lo scambio di indirizzi IP virtuali con la distribuzione in gestione temporanea.</span><span class="sxs-lookup"><span data-stu-id="5cd80-129">You have successfully staged a deployment and upgraded a production deployment by swapping VIPs with the deployment in staging.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="5cd80-130">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="5cd80-130">Additional Resources</span></span>
* <span data-ttu-id="5cd80-131">[Come distribuire un aggiornamento del servizio in produzione mediante lo scambio di indirizzi VIP in Azure]</span><span class="sxs-lookup"><span data-stu-id="5cd80-131">[How to Deploy a Service Upgrade to Production by Swapping VIPs in Azure]</span></span>

<span data-ttu-id="5cd80-132">[portale di Azure classico]: http://manage.windowsazure.com</span><span class="sxs-lookup"><span data-stu-id="5cd80-132">[Azure classic portal]: http://manage.windowsazure.com</span></span>
[cloud-service]: ./media/cloud-services-nodejs-stage-application/staging-cloud-service-running.png
[cloud-service-dashboard]: ./media/cloud-services-nodejs-stage-application/cloud-service-dashboard-staging.png
[cloud-service-staging-url]: ./media/cloud-services-nodejs-stage-application/cloud-service-staging-url.png
[vip-swap-dialog]: ./media/cloud-services-nodejs-stage-application/vip-swap-dialog.png
<span data-ttu-id="5cd80-133">[Come distribuire un aggiornamento del servizio in produzione mediante lo scambio di indirizzi VIP in Azure]: cloud-services-how-to-manage.md#how-to-swap-deployments-to-promote-a-staged-deployment-to-production</span><span class="sxs-lookup"><span data-stu-id="5cd80-133">[How to Deploy a Service Upgrade to Production by Swapping VIPs in Azure]: cloud-services-how-to-manage.md#how-to-swap-deployments-to-promote-a-staged-deployment-to-production</span></span>
