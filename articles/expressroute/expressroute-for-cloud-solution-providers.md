---
title: Azure ExpressRoute per Cloud Solution Provider | Microsoft Docs
description: Questo articolo fornisce informazioni per i provider di servizi cloud che vogliono incorporare i servizi di Azure e ExpressRoute nelle offerte.
documentationcenter: na
services: expressroute
author: richcar
manager: carmonm
editor: 
ms.assetid: f6c5f8ee-40ba-41a1-ae31-67669ca419a6
ms.service: expressroute
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/10/2016
ms.author: richcar
ms.openlocfilehash: 26c9420c9b8ba1aff6b016c01b8ed51853c91506
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="expressroute-for-cloud-solution-providers-csp"></a><span data-ttu-id="549aa-103">ExpressRoute per Cloud Solution Provider (CSP)</span><span class="sxs-lookup"><span data-stu-id="549aa-103">ExpressRoute for Cloud Solution Providers (CSP)</span></span>
<span data-ttu-id="549aa-104">Microsoft fornisce servizi su vasta scala per consentire a rivenditori e distributori tradizionali (CSP) di effettuare rapidamente il provisioning di nuovi servizi e soluzioni per i clienti senza dover investire nello sviluppo di questi nuovi servizi.</span><span class="sxs-lookup"><span data-stu-id="549aa-104">Microsoft provides Hyper-scale services for traditional resellers and distributors (CSP) to be able to rapidly provision new services and solutions for your customers without the need to invest in developing these new services.</span></span> <span data-ttu-id="549aa-105">Per offrire al Cloud Solution Provider (CSP) la possibilità di gestire direttamente questi nuovi servizi, Microsoft fornisce programmi e API che consentono al CSP di gestire le risorse di Microsoft Azure per conto dei clienti.</span><span class="sxs-lookup"><span data-stu-id="549aa-105">To allow the Cloud Solution Provider (CSP) the ability to directly manage these new services, Microsoft provides programs and APIs that allow the CSP to manage Microsoft Azure resources on behalf of your customers.</span></span> <span data-ttu-id="549aa-106">Una di queste risorse è ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="549aa-106">One of those resources is ExpressRoute.</span></span> <span data-ttu-id="549aa-107">ExpressRoute consente al CSP di connettere le risorse esistenti dei clienti ai servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-107">ExpressRoute allows the CSP to connect existing customer resources to Azure services.</span></span> <span data-ttu-id="549aa-108">ExpressRoute è un collegamento delle comunicazioni privato a velocità elevata ai servizi in Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-108">ExpressRoute is a high speed private communications link to services in Azure.</span></span> 

<span data-ttu-id="549aa-109">ExpresRoute è costituito da una coppia di circuiti per la disponibilità elevata che vengono collegati a una o più sottoscrizioni di un singolo cliente e non possono essere condivise da più clienti.</span><span class="sxs-lookup"><span data-stu-id="549aa-109">ExpresRoute is comprised of a pair of circuits for high availability that are attached to a single customer subscription(s) and cannot be shared by multiple customers.</span></span> <span data-ttu-id="549aa-110">Ogni circuito deve terminare in router diverso per mantenere la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="549aa-110">Each circuit should be terminated in a different router to maintain the high availability.</span></span>

> [!NOTE]
> <span data-ttu-id="549aa-111">Poiché in ExpressRoute esistono limiti di larghezza di banda e di connessione, le implementazioni di grandi dimensioni/complesse richiederanno più circuiti di ExpressRoute per un singolo cliente.</span><span class="sxs-lookup"><span data-stu-id="549aa-111">There are bandwidth and connection caps on ExpressRoute which means that large/complex implementations will require multiple ExpressRoute circuits for a single customer.</span></span>
> 
> 

<span data-ttu-id="549aa-112">Microsoft Azure fornisce un numero crescente di servizi che è possibile offrire ai clienti.</span><span class="sxs-lookup"><span data-stu-id="549aa-112">Microsoft Azure provides a growing number of services that you can offer to your customers.</span></span>  <span data-ttu-id="549aa-113">Per sfruttare al massimo questi servizi, sarà necessario usare le connessioni di ExpressRoute per fornire accesso a bassa latenza a velocità elevata all'ambiente Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-113">To best take advantage of these services will require the use ExpressRoute connections to provide high speed low latency access to the Microsoft Azure environment.</span></span>

## <a name="microsoft-azure-management"></a><span data-ttu-id="549aa-114">Gestione di Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="549aa-114">Microsoft Azure management</span></span>
<span data-ttu-id="549aa-115">Microsoft fornisce ai CSP le API per gestire le sottoscrizioni dei clienti di Azure consentendo l'integrazione programmatica con i sistemi di gestione dei servizi.</span><span class="sxs-lookup"><span data-stu-id="549aa-115">Microsoft provides CSPs with APIs to manage the Azure customer subscriptions by allowing programmatic integration with your own service management systems.</span></span> <span data-ttu-id="549aa-116">Le funzionalità di gestione supportate sono disponibili [qui](https://msdn.microsoft.com/library/partnercenter/dn974944.aspx).</span><span class="sxs-lookup"><span data-stu-id="549aa-116">Supported management capabilities can be found [here](https://msdn.microsoft.com/library/partnercenter/dn974944.aspx).</span></span>

## <a name="microsoft-azure-resource-management"></a><span data-ttu-id="549aa-117">Gestione di risorse di Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="549aa-117">Microsoft Azure resource management</span></span>
<span data-ttu-id="549aa-118">La gestione della sottoscrizione dipende dal contratto stipulato con il cliente.</span><span class="sxs-lookup"><span data-stu-id="549aa-118">Depending on the contract you have with your customer will determine how the subscription will be managed.</span></span> <span data-ttu-id="549aa-119">Il CSP può gestire direttamente la creazione e la manutenzione delle risorse oppure il cliente può mantenere il controllo della sottoscrizione di Microsoft Azure e creare le risorse di Azure necessarie.</span><span class="sxs-lookup"><span data-stu-id="549aa-119">The CSP can directly manage the creation and maintenance of resources or the customer can maintain control of the Microsoft Azure subscription and create the Azure resources as they need.</span></span> <span data-ttu-id="549aa-120">Se il cliente gestisce la creazione delle risorse nella sottoscrizione di Microsoft Azure, userà il modello di "connessione indiretta" o il modello di "connessione diretta".</span><span class="sxs-lookup"><span data-stu-id="549aa-120">If your customer manages the creation of resources in their Microsoft Azure subscription they will use one of two models: “Connect-Through” model, or “Direct-To” model.</span></span> <span data-ttu-id="549aa-121">Questi modelli vengono descritti in dettaglio nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="549aa-121">These models are described in detail in the following sections.</span></span>  

### <a name="connect-through-model"></a><span data-ttu-id="549aa-122">Modello di connessione indiretta</span><span class="sxs-lookup"><span data-stu-id="549aa-122">Connect-through model</span></span>
![testo alternativo](./media/expressroute-for-cloud-solution-providers/connect-through.png)  

<span data-ttu-id="549aa-124">In questo modello il CSP crea una connessione diretta tra il data center e la sottoscrizione di Azure del cliente.</span><span class="sxs-lookup"><span data-stu-id="549aa-124">In the connect-through model, the CSP creates a direct connection between your datacenter and your customer’s Azure subscription.</span></span> <span data-ttu-id="549aa-125">La connessione diretta viene stabilita usando ExpressRoute, che connette la rete ad Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-125">The direct connection is made using ExpressRoute, connecting your network with Azure.</span></span> <span data-ttu-id="549aa-126">Il cliente quindi si connette alla rete.</span><span class="sxs-lookup"><span data-stu-id="549aa-126">Then your customer connects to your network.</span></span> <span data-ttu-id="549aa-127">Questo scenario prevede che il cliente passi attraverso la rete CSP per accedere ai servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-127">This scenario requires that the customer passes through the CSP network to access Azure services.</span></span> 

<span data-ttu-id="549aa-128">Se il cliente ha altre sottoscrizioni di Azure non gestite dall'utente, userà Internet pubblico o la connessione privata per connettersi a tali servizi di cui viene effettuato il provisioning con la sottoscrizione non CSP.</span><span class="sxs-lookup"><span data-stu-id="549aa-128">If your customer has other Azure subscriptions not managed by the you, they would use the public Internet or their own private connection to connect to those services provisioned under the non CSP subscription.</span></span> 

<span data-ttu-id="549aa-129">Si presuppone che il CSP che gestisce i servizi di Azure abbia un archivio identità dei clienti stabilito in precedenza che verrà quindi replicato in Azure Active Directory per la gestione della sottoscrizione CSP con Administrate-On-Behalf-Of (AOBO).</span><span class="sxs-lookup"><span data-stu-id="549aa-129">For CSP managing Azure services, it is assumed that the CSP has a previously established customer identity store which would then be replicated into Azure Active Directory for management of their CSP subscription through Administrate-On-Behalf-Of (AOBO).</span></span> <span data-ttu-id="549aa-130">I fattori chiave di questo scenario includono dove un determinato partner o provider di servizi ha stabilito una relazione con il cliente, dove il cliente utilizza attualmente i servizi del provider o dove il partner vuole fornire una combinazione di soluzioni ospitate dal provider e ospitate da Azure per garantire flessibilità e rispondere alle richieste dei clienti che non possono essere soddisfatte dal solo CSP.</span><span class="sxs-lookup"><span data-stu-id="549aa-130">Key drivers for this scenario include where a given partner or service provider has an established relationship with the customer, the customer is consuming provider services currently or the partner has a desire to provide a combination of provider-hosted and Azure-hosted solutions to provide flexibility and address customer challenges which cannot be satisfied by CSP alone.</span></span> <span data-ttu-id="549aa-131">Questo modello è illustrato nella **figura**seguente.</span><span class="sxs-lookup"><span data-stu-id="549aa-131">This model is illustrated in **Figure**, below.</span></span>

![testo alternativo](./media/expressroute-for-cloud-solution-providers/connect-through-model.png)

### <a name="connect-to-model"></a><span data-ttu-id="549aa-133">Modello di connessione diretta</span><span class="sxs-lookup"><span data-stu-id="549aa-133">Connect-to model</span></span>
![testo alternativo](./media/expressroute-for-cloud-solution-providers/connect-to.png)

<span data-ttu-id="549aa-135">In questo modello il provider di servizi crea una connessione diretta tra il data center del cliente e la sottoscrizione di Azure di cui viene effettuato il provisioning dal CSP usando ExpressRoute nella rete del cliente (cliente).</span><span class="sxs-lookup"><span data-stu-id="549aa-135">In the Connect-To model, the service provider creates a direct connection between their customer’s datacenter and the CSP provisioned Azure subscription using ExpressRoute over the customer’s (customer) network.</span></span>

> [!NOTE]
> <span data-ttu-id="549aa-136">Per ExpressRoute il cliente dovrà creare e gestire il circuito ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="549aa-136">For ExpressRoute the customer would need to create and maintain the ExpressRoute circuit.</span></span>  
> 
> 

<span data-ttu-id="549aa-137">In questo scenario di connettività il cliente deve connettersi direttamente tramite una rete cliente per accedere alla sottoscrizione di Azure gestita dal CSP, usando una connessione di rete diretta che il cliente crea, di cui è proprietario e che gestisce interamente o in parte.</span><span class="sxs-lookup"><span data-stu-id="549aa-137">This connectivity scenario requires that the customer connects directly through a customer network to access CSP-managed Azure subscription, using a direct network connection that is created, owned and managed either wholly or in part by the customer.</span></span> <span data-ttu-id="549aa-138">Per questi clienti si presuppone che il provider non abbia attualmente un archivio di identità dei clienti e che il provider presterà assistenza al cliente nella replica dell'archivio di identità corrente in Azure Active Directory per la gestione della sottoscrizione con AOBO.</span><span class="sxs-lookup"><span data-stu-id="549aa-138">For these customers it is assumed that the provider does not currently have a customer identity store established, and the provider would assist the customer in replicating their current identify store into Azure Active Directory for management of their subscription through AOBO.</span></span> <span data-ttu-id="549aa-139">I fattori chiave di questo scenario includono dove un determinato partner o provider di servizi ha stabilito una relazione con il cliente, dove il cliente utilizza attualmente i servizi del provider o dove il partner vuole fornire servizi basati esclusivamente su soluzioni ospitate da Azure senza la necessità di un data center o di un'infrastruttura del provider esistente.</span><span class="sxs-lookup"><span data-stu-id="549aa-139">Key drivers for this scenario include where a given partner or service provider has an established relationship with the customer, the customer is consuming provider services currently, or the partner has a desire to provide services that are based solely on Azure-hosted solutions without the need for an existing provider datacenter or infrastructure.</span></span>

![testo alternativo](./media/expressroute-for-cloud-solution-providers/connect-to-model.png)

<span data-ttu-id="549aa-141">La scelta tra queste due opzioni si basa sulle esigenze del cliente e sulla propria esigenza corrente di fornire servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-141">The choice between these two option are based on your customer’s needs and your current need to provide Azure services.</span></span> <span data-ttu-id="549aa-142">Informazioni dettagliate su questi modelli e sul controllo degli accessi in base al ruolo associato, sulla rete e sugli schemi progettuali delle identità sono disponibili nel collegamenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="549aa-142">The details of these models and the associated role-based access control, networking, and identity design patterns are covered in details in the following links:</span></span>

* <span data-ttu-id="549aa-143">**Controllo degli accessi in base al ruolo** : il controllo degli accessi in base al ruolo si basa su Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="549aa-143">**Role Based Access Control (RBAC)** – RBAC is based on Azure Active Directory.</span></span>  <span data-ttu-id="549aa-144">Per altre informazioni sul controllo degli accessi in base al ruolo di Azure, vedere [qui](../active-directory/role-based-access-control-configure.md).</span><span class="sxs-lookup"><span data-stu-id="549aa-144">For more information on Azure RBAC see [here](../active-directory/role-based-access-control-configure.md).</span></span>
* <span data-ttu-id="549aa-145">**Rete** : include diversi argomenti sulla rete in Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-145">**Networking** – Covers the various topics of networking in Microsoft Azure.</span></span>
* <span data-ttu-id="549aa-146">**Azure Active Directory (AAD)** : AAD fornisce la gestione delle identità per Microsoft Azure e applicazioni SaaS di terze parti.</span><span class="sxs-lookup"><span data-stu-id="549aa-146">**Azure Active Directory (AAD)** – AAD provides the identity management for Microsoft Azure and 3rd party SaaS applications.</span></span> <span data-ttu-id="549aa-147">Per altre informazioni su Azure AD, vedere [qui](https://azure.microsoft.com/documentation/services/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="549aa-147">For more information about Azure AD see [here](https://azure.microsoft.com/documentation/services/active-directory/).</span></span>  

## <a name="network-speeds"></a><span data-ttu-id="549aa-148">Velocità di rete</span><span class="sxs-lookup"><span data-stu-id="549aa-148">Network speeds</span></span>
<span data-ttu-id="549aa-149">ExpressRoute supporta le velocità di rete comprese tra 50 MB/s e 10 GB/s.</span><span class="sxs-lookup"><span data-stu-id="549aa-149">ExpressRoute supports network speeds from 50 Mb/s to 10Gb/s.</span></span> <span data-ttu-id="549aa-150">Ciò consente ai clienti di acquistare la quantità di larghezza di banda di rete necessaria per un ambiente univoco.</span><span class="sxs-lookup"><span data-stu-id="549aa-150">This allows customers to purchase the amount of network bandwidth needed for their unique environment.</span></span>

> [!NOTE]
> <span data-ttu-id="549aa-151">La larghezza di banda di rete può essere aumentata in base alle esigenze senza dover interrompere le comunicazioni, invece per ridurre la velocità di rete, è necessario rimuovere il circuito e ricrearlo a una velocità di rete più bassa.</span><span class="sxs-lookup"><span data-stu-id="549aa-151">Network bandwidth can be increased as needed without disrupting communications, but to reduce the network speed requires tearing down the circuit and recreating it at the lower network speed.</span></span>  
> 
> 

<span data-ttu-id="549aa-152">ExpressRoute supporta la connessione di più reti virtuali a un solo circuito ExpressRoute per un miglior utilizzo delle connessioni con velocità più elevata.</span><span class="sxs-lookup"><span data-stu-id="549aa-152">ExpressRoute supports the connection of multiple vNets to a single ExpressRoute circuit for better utilization of the higher-speed connections.</span></span> <span data-ttu-id="549aa-153">Un solo circuito ExpressRoute può essere condiviso tra più sottoscrizioni di Azure di proprietà dello stesso cliente.</span><span class="sxs-lookup"><span data-stu-id="549aa-153">A single ExpressRoute circuit can be shared among multiple Azure subscriptions owned by the same customer.</span></span>

## <a name="configuring-expressroute"></a><span data-ttu-id="549aa-154">Configurazione di ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="549aa-154">Configuring ExpressRoute</span></span>
<span data-ttu-id="549aa-155">ExpressRoute può essere configurato per supportare tre tipi di traffico ([domini di routing](#ExpressRoute-routing-domains)) su un solo circuito ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="549aa-155">ExpressRoute can be configured to support three types of traffic ([routing domains](#ExpressRoute-routing-domains)) over a single ExpressRoute circuit.</span></span> <span data-ttu-id="549aa-156">Questo traffico viene separato nel peer Microsoft, nel peer pubblico di Azure e nel peer privato.</span><span class="sxs-lookup"><span data-stu-id="549aa-156">This traffic is segregated into Microsoft peering, Azure public peering and private peering.</span></span> <span data-ttu-id="549aa-157">È possibile scegliere uno o tutti i tipi di traffico da inviare tramite un solo circuito di ExpressRoute o usare più circuiti ExpressRoute a seconda delle dimensioni del circuito ExpressRoute e dell'isolamento richiesto dal cliente.</span><span class="sxs-lookup"><span data-stu-id="549aa-157">You can choose one or all types of traffic to be sent over a single ExpressRoute circuit or use multiple ExpressRoute circuits depending on the size of the ExpressRoute circuit and isolation required by your customer.</span></span> <span data-ttu-id="549aa-158">Il comportamento di sicurezza del cliente potrebbe non consentire al traffico pubblico e al traffico privato di passare per lo stesso circuito.</span><span class="sxs-lookup"><span data-stu-id="549aa-158">The security posture of your customer may not allow public traffic and private traffic to traverse over the same circuit.</span></span>

### <a name="connect-through-model"></a><span data-ttu-id="549aa-159">Modello di connessione indiretta</span><span class="sxs-lookup"><span data-stu-id="549aa-159">Connect-through model</span></span>
<span data-ttu-id="549aa-160">In una configurazione di connessione indiretta l'utente sarà responsabile di tutti i fondamenti della rete per connettere le risorse dei data center dei clienti alle sottoscrizioni ospitate in Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-160">In a connect-through configuration the you will be responsible for all of the networking underpinnings to connect your customers datacenter resources to the subscriptions hosted in Azure.</span></span> <span data-ttu-id="549aa-161">Ogni cliente che vuole usare le funzionalità di Azure dovrà avere la propria connessione ExpressRoute, che verrà gestita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="549aa-161">Each of your customer's that want to use Azure capabilities will need their own ExpressRoute connection, which will be managed by the You.</span></span> <span data-ttu-id="549aa-162">L'utente userà gli stessi metodi che userebbe il cliente per ottenere il circuito ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="549aa-162">The you will use the same methods the customer would use to procure the ExpressRoute circuit.</span></span> <span data-ttu-id="549aa-163">L'utente seguirà la stessa procedura indicata nell'articolo [Flussi di lavoro ExpressRoute per provisioning di un circuito e stati di circuito](expressroute-workflows.md) .</span><span class="sxs-lookup"><span data-stu-id="549aa-163">The you will follow the same steps outlined in the article [ExpressRoute workflows](expressroute-workflows.md) for circuit provisioning and circuit states.</span></span> <span data-ttu-id="549aa-164">L'utente configurerà quindi le route BGP (Border Gateway Protocol) per controllare il traffico che scorre tra la rete locale e la rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-164">The you will then configure the Border Gateway Protocol (BGP) routes to control the traffic flowing between the on-premises network and Azure vNet.</span></span>

### <a name="connect-to-model"></a><span data-ttu-id="549aa-165">Modello di connessione diretta</span><span class="sxs-lookup"><span data-stu-id="549aa-165">Connect-to model</span></span>
<span data-ttu-id="549aa-166">In una configurazione di connessione diretta il cliente ha già una connessione esistente ad Azure o avvierà una connessione al provider di servizi Internet collegando ExpressRoute dal proprio data center direttamente ad Azure, invece che dal data center dell'utente.</span><span class="sxs-lookup"><span data-stu-id="549aa-166">In a connect-to configuration, your customer already has an existing connection to Azure or will initiate a connection to the internet service provider linking ExpressRoute from your customer’s own datacenter directly to Azure, instead of your datacenter.</span></span> <span data-ttu-id="549aa-167">Per iniziare il processo di provisioning, il cliente seguirà la procedura descritta sopra in Modello di connessione indiretta.</span><span class="sxs-lookup"><span data-stu-id="549aa-167">To begin the provisioning process, your customer will follow the steps as described in the Connect-Through model, above.</span></span> <span data-ttu-id="549aa-168">Una volta stabilito il circuito, il cliente dovrà configurare i router locali per poter accedere sia alla rete dell'utente che alle reti virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-168">Once the circuit has been established your customer will need to configure the on-premises routers to be able to access both your network and Azure vNets.</span></span>

<span data-ttu-id="549aa-169">È possibile fornire assistenza nella configurazione della connessione e delle route per consentire alle risorse nei data center dell'utente di comunicare con le risorse del cliente nel data center dell'utente o con le risorse ospitate in Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-169">You can assist with setting up the connection and configuring the routes to allow the resources in your datacenter(s) to communicate with the client resources in your datacenter, or with the resources hosted in Azure.</span></span>

## <a name="expressroute-routing-domains"></a><span data-ttu-id="549aa-170">Domini di routing ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="549aa-170">ExpressRoute routing domains</span></span>
<span data-ttu-id="549aa-171">ExpressRoute offre tre domini di routing: peer pubblico, privato e Microsoft.</span><span class="sxs-lookup"><span data-stu-id="549aa-171">ExpressRoute offers three routing domains: public, private, and Microsoft peering.</span></span> <span data-ttu-id="549aa-172">Ogni dominio di routing è configurato con router identici in una configurazione di tipo attivo-attivo per offrire una disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="549aa-172">Each of the routing domains are configured with identical routers in active-active configuration for high availability.</span></span> <span data-ttu-id="549aa-173">Per altri dettagli sui domini di routing ExpressRoute, vedere [qui](expressroute-circuit-peerings.md).</span><span class="sxs-lookup"><span data-stu-id="549aa-173">For more details on ExpressRoute routing domains look [here](expressroute-circuit-peerings.md).</span></span>

<span data-ttu-id="549aa-174">È possibile definire filtri di route personalizzati per consentire solo le route desiderate o necessarie.</span><span class="sxs-lookup"><span data-stu-id="549aa-174">You can define custom routes filters to allow only the route(s) you want to allow or need.</span></span> <span data-ttu-id="549aa-175">Per altre informazioni o per scoprire come apportare queste modifiche, vedere l'articolo [Creare e modificare il routing per un circuito ExpressRoute usando PowerShell](expressroute-howto-routing-classic.md) per altri dettagli sui filtri di routing.</span><span class="sxs-lookup"><span data-stu-id="549aa-175">For more information or to see how to make these changes see article: [Create and modify routing for an ExpressRoute circuit using PowerShell](expressroute-howto-routing-classic.md) for more details about routing filters.</span></span>

> [!NOTE]
> <span data-ttu-id="549aa-176">Per il peer Microsoft e pubblico, la connettività deve essere stabilita con un indirizzo IP pubblico di proprietà del cliente o del CSP e deve seguire tutte le regole definite.</span><span class="sxs-lookup"><span data-stu-id="549aa-176">For Microsoft and Public Peering connectivity must be though a public IP address owned by the customer or CSP and must adhere to all defined rules.</span></span> <span data-ttu-id="549aa-177">Per altre informazioni, vedere la pagina [Prerequisiti per ExpressRoute](expressroute-prerequisites.md) .</span><span class="sxs-lookup"><span data-stu-id="549aa-177">For more information, see the [ExpressRoute Prerequisites](expressroute-prerequisites.md) page.</span></span>  
> 
> 

## <a name="routing"></a><span data-ttu-id="549aa-178">Routing.</span><span class="sxs-lookup"><span data-stu-id="549aa-178">Routing</span></span>
<span data-ttu-id="549aa-179">ExpressRoute si connette alle reti di Azure tramite il gateway di rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-179">ExpressRoute connects to the Azure networks through the Azure Virtual Network Gateway.</span></span> <span data-ttu-id="549aa-180">I gateway di rete forniscono il routing per le reti virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-180">Network gateways provide routing for Azure virtual networks.</span></span>

<span data-ttu-id="549aa-181">Con la creazione delle reti virtuali di Azure viene creata anche una tabella di routing predefinita che consente alla rete virtuale di indirizzare il traffico alle/dalle subnet della rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="549aa-181">Creating Azure Virtual Networks also creates a default routing table for the vNet to direct traffic to/from the subnets of the vNet.</span></span> <span data-ttu-id="549aa-182">Se la tabella di route predefinita non è sufficiente per la soluzione, possono essere create route personalizzate per instradare il traffico in uscita ad appliance personalizzate o per bloccare le route a reti esterne o subnet specifiche.</span><span class="sxs-lookup"><span data-stu-id="549aa-182">If the default route table is insufficient for the solution custom routes can be created to route outgoing traffic to custom appliances or to block routes to specific subnets or external networks.</span></span>

### <a name="default-routing"></a><span data-ttu-id="549aa-183">Routing predefinito</span><span class="sxs-lookup"><span data-stu-id="549aa-183">Default routing</span></span>
<span data-ttu-id="549aa-184">La tabella di route predefinita include le route seguenti:</span><span class="sxs-lookup"><span data-stu-id="549aa-184">The default route table includes the following routes:</span></span>

* <span data-ttu-id="549aa-185">Routing in una subnet</span><span class="sxs-lookup"><span data-stu-id="549aa-185">Routing within a subnet</span></span>
* <span data-ttu-id="549aa-186">Da subnet a subnet nella rete virtuale</span><span class="sxs-lookup"><span data-stu-id="549aa-186">Subnet-to-subnet within the virtual network</span></span>
* <span data-ttu-id="549aa-187">A Internet</span><span class="sxs-lookup"><span data-stu-id="549aa-187">To the Internet</span></span>
* <span data-ttu-id="549aa-188">Da rete virtuale a rete virtuale con un gateway VPN</span><span class="sxs-lookup"><span data-stu-id="549aa-188">Virtual network-to-virtual network using VPN gateway</span></span>
* <span data-ttu-id="549aa-189">Da rete virtuale a rete locale con un gateway VPN o ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="549aa-189">Virtual network-to-on-premises network using a VPN or ExpressRoute gateway</span></span>

![testo alternativo](./media/expressroute-for-cloud-solution-providers/default-routing.png)  

### <a name="user-defined-routing-udr"></a><span data-ttu-id="549aa-191">Routing definito dall'utente</span><span class="sxs-lookup"><span data-stu-id="549aa-191">User-defined routing (UDR)</span></span>
<span data-ttu-id="549aa-192">Le route definite dall'utente consentono di controllare il traffico in uscita dalla subnet assegnata ad altre subnet nella rete virtuale o su uno degli altri gateway predefiniti (ExpressRoute, Internet o VPN).</span><span class="sxs-lookup"><span data-stu-id="549aa-192">User-defined routes allow the control of traffic outbound from the assigned subnet to other subnets in the virtual network or over one of the other predefined gateways (ExpressRoute; internet or VPN).</span></span> <span data-ttu-id="549aa-193">La tabella di routing di sistema predefinita può essere sostituita con una tabella di routing definita dall'utente che sostituisce la tabella di routing predefinita con route personalizzate.</span><span class="sxs-lookup"><span data-stu-id="549aa-193">The default system routing table can be replaced with a user-defined routing table that replaces the default routing table with custom routes.</span></span> <span data-ttu-id="549aa-194">Con il routing definito dall'utente, i clienti possono creare route specifiche alle appliance, ad esempio firewall o appliance per il rilevamento di intrusioni, o bloccare l'accesso a subnet specifiche dalla subnet che ospita la route definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="549aa-194">With user-defined routing, customers can create specific routes to appliances such as firewalls or intrusion detection appliances, or block access to specific subnets from the subnet hosting the user-defined route.</span></span> <span data-ttu-id="549aa-195">Per una panoramica delle route definite dall'utente, vedere [qui](../virtual-network/virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="549aa-195">For an overview of User Defined Routes look [here](../virtual-network/virtual-networks-udr-overview.md).</span></span> 

## <a name="security"></a><span data-ttu-id="549aa-196">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="549aa-196">Security</span></span>
<span data-ttu-id="549aa-197">A seconda del modello in uso, connessione diretta o connessione indiretta, il cliente definisce i criteri di sicurezza nella rete virtuale o fornisce i requisiti dei criteri di sicurezza al CSP per definirli per le reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="549aa-197">Depending on which model is in use, Connect-To or Connect-Through, your customer defines the security policies in their vNet or provides the security policy requirements to the CSP to define to their vNets.</span></span> <span data-ttu-id="549aa-198">Possono essere definiti i criteri di sicurezza seguenti:</span><span class="sxs-lookup"><span data-stu-id="549aa-198">The following security criteria can be defined:</span></span>

1. <span data-ttu-id="549aa-199">**Isolamento del cliente** : la piattaforma Azure fornisce l'isolamento del cliente archiviando l'ID cliente e le informazioni sulla rete virtuale in un database sicuro, che viene usato per incapsulare il traffico di ogni cliente in un tunnel GRE.</span><span class="sxs-lookup"><span data-stu-id="549aa-199">**Customer Isolation** — The Azure platform provides customer isolation by storing Customer ID and vNet info in a secure database, which is used to encapsulate each customer’s traffic in a GRE tunnel.</span></span>
2. <span data-ttu-id="549aa-200">**Gruppo di sicurezza di rete (NSG)** : sono disponibili regole per definire il traffico consentito in entrata e in uscita dalle subnet all'interno delle reti virtuali in Azure.</span><span class="sxs-lookup"><span data-stu-id="549aa-200">**Network Security Group (NSG)** rules are for defining allowed traffic into and out of the subnets within vNets in Azure.</span></span> <span data-ttu-id="549aa-201">Per impostazione predefinita, il gruppo NSG contiene regole di blocco per bloccare il traffico da Internet alla rete virtuale e regole di consenso per il traffico all'interno di una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="549aa-201">By default, the NSG contain Block rules to block traffic from the Internet to the vNet and Allow rules for traffic within a vNet.</span></span> <span data-ttu-id="549aa-202">Per altre informazioni sui gruppi di sicurezza di rete, vedere [qui](https://azure.microsoft.com/blog/network-security-groups/).</span><span class="sxs-lookup"><span data-stu-id="549aa-202">For more information about Network Security Groups look [here](https://azure.microsoft.com/blog/network-security-groups/).</span></span>
3. <span data-ttu-id="549aa-203">**Imponi tunneling** : opzione per reindirizzare tramite la connessione ExpressRoute il traffico associato a Internet che ha origine in Azure al data center locale.</span><span class="sxs-lookup"><span data-stu-id="549aa-203">**Force tunneling** —This is an option to redirect internet bound traffic originating in Azure to be redirected over the ExpressRoute connection to the on premises datacenter.</span></span> <span data-ttu-id="549aa-204">Per altre informazioni su Imponi tunneling, vedere [qui](expressroute-routing.md#advertising-default-routes).</span><span class="sxs-lookup"><span data-stu-id="549aa-204">For more information about Forced tunneling look [here](expressroute-routing.md#advertising-default-routes).</span></span>  
4. <span data-ttu-id="549aa-205">**Crittografia**: anche se i circuiti ExpressRoute sono dedicati a un cliente specifico, esiste la possibilità che il provider di rete possa essere violato, consentendo a un intruso di esaminare il traffico dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="549aa-205">**Encryption** — Even though the ExpressRoute circuits are dedicated to a specific customer, there is the possibility that the network provider could be breached, allowing an intruder to examine packet traffic.</span></span> <span data-ttu-id="549aa-206">Per risolvere il problema, un cliente o un CSP può crittografare il traffico sulla connessione definendo criteri della modalità tunnel IPSec per tutto il traffico che scorre tra le risorse locali e le risorse di Azure. Vedere la modalità tunnel IPSec facoltativa per il cliente 1 sopra nella Figura 5: Sicurezza di ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="549aa-206">To address this potential, a customer or CSP can encrypt traffic over the connection by defining IPSec tunnel-mode policies for all traffic flowing between the on premises resources and Azure resources (refer to the optional Tunnel mode IPSec for Customer 1 in Figure 5: ExpressRoute Security, above).</span></span> <span data-ttu-id="549aa-207">La seconda opzione consiste nell'usare un'appliance firewall in ogni endpoint del circuito ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="549aa-207">The second option would be to use a firewall appliance at each the end point of the ExpressRoute circuit.</span></span> <span data-ttu-id="549aa-208">A questo scopo è necessario installare VM/appliance firewall di terze parti aggiuntive in entrambe le estremità per crittografare il traffico sul circuito ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="549aa-208">This will require additional 3rd party firewall VMs/Appliances to be installed on both ends to encrypt the traffic over the ExpressRoute circuit.</span></span>

![testo alternativo](./media/expressroute-for-cloud-solution-providers/expressroute-security.png)  

## <a name="next-steps"></a><span data-ttu-id="549aa-210">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="549aa-210">Next steps</span></span>
<span data-ttu-id="549aa-211">Il servizio Cloud Solution Provider consente di acquisire un valore maggiore per i clienti senza dover acquistare costose infrastrutture e funzionalità e continuando a essere il provider di outsourcing primario.</span><span class="sxs-lookup"><span data-stu-id="549aa-211">The Cloud Solution Provider service provides you a way to increase your value to your customers without the need for expensive infrastructure and capability purchases, while maintaining your position as the primary outsourcing provider.</span></span> <span data-ttu-id="549aa-212">È possibile eseguire facilmente l'integrazione con Microsoft Azure tramite l'API CSP, che consente di integrare la gestione di Microsoft Azure nei framework di gestione esistenti.</span><span class="sxs-lookup"><span data-stu-id="549aa-212">Seamless integration with Microsoft Azure can be accomplished through the CSP API, allowing you to integrate management of Microsoft Azure within your existing management frameworks.</span></span>  

<span data-ttu-id="549aa-213">Per altre informazioni, fare clic sui collegamenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="549aa-213">Additional Information can be found at the following links:</span></span>

<span data-ttu-id="549aa-214">[Programma Microsoft Cloud Solution Provider](https://partner.microsoft.com/en-US/Solutions/cloud-reseller-overview).</span><span class="sxs-lookup"><span data-stu-id="549aa-214">[Microsoft Cloud Solution Provider program](https://partner.microsoft.com/en-US/Solutions/cloud-reseller-overview).</span></span>  
<span data-ttu-id="549aa-215">[Prepararsi alle transazioni come Cloud Solution Provider](https://partner.microsoft.com/en-us/solutions/cloud-reseller-pre-launch).</span><span class="sxs-lookup"><span data-stu-id="549aa-215">[Get ready to transact as a Cloud Solution Provider](https://partner.microsoft.com/en-us/solutions/cloud-reseller-pre-launch).</span></span>  
<span data-ttu-id="549aa-216">[Risorse Microsoft Cloud Solution Provider](https://partner.microsoft.com/en-us/solutions/cloud-reseller-resources).</span><span class="sxs-lookup"><span data-stu-id="549aa-216">[Microsoft Cloud Solution Provider resources](https://partner.microsoft.com/en-us/solutions/cloud-reseller-resources).</span></span>

