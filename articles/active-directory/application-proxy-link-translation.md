---
title: Convertire collegamenti e URL - Proxy di app di Azure AD| Microsoft Docs
description: Tratta i fondamenti dei connettori del proxy applicazione di Azure AD.
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/10/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 57218346d236b376d2227e0ffaea6c6dd5ebe855
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="redirect-hardcoded-links-for-apps-published-with-azure-ad-application-proxy"></a><span data-ttu-id="249a7-103">Reindirizzare i collegamenti hardcoded per le app pubblicate con il proxy di app di Azure AD</span><span class="sxs-lookup"><span data-stu-id="249a7-103">Redirect hardcoded links for apps published with Azure AD Application Proxy</span></span>

<span data-ttu-id="249a7-104">Il proxy di applicazione di Azure AD rende disponibili le app locali per gli utenti remoti o che usano i propri dispositivi.</span><span class="sxs-lookup"><span data-stu-id="249a7-104">Azure AD Application Proxy makes your on-premises apps available to users who are remote or on their own devices.</span></span> <span data-ttu-id="249a7-105">Alcune app, tuttavia, sono state sviluppate con collegamenti locali incorporati nel codice HTML.</span><span class="sxs-lookup"><span data-stu-id="249a7-105">Some apps, however, were developed with local links embedded in the HTML.</span></span> <span data-ttu-id="249a7-106">Questi collegamenti non funzionano correttamente quando l'app viene usato in remoto.</span><span class="sxs-lookup"><span data-stu-id="249a7-106">These links don't work correctly when the app is used remotely.</span></span> <span data-ttu-id="249a7-107">Quando si dispone di diverse applicazioni locali che si puntano a vicenda, gli utenti si aspettano che i collegamenti continuino a lavorare quando non si trovano in ufficio.</span><span class="sxs-lookup"><span data-stu-id="249a7-107">When you have several on-premises applications point to each other, your users expect the links to keep working when they're not at the office.</span></span> 

<span data-ttu-id="249a7-108">Il modo migliore per assicurarsi che i collegamenti funzionino all'interno e all'esterno della rete aziendale consiste nel configurare gli URL esterni delle app in modo che corrispondano con gli URL interni.</span><span class="sxs-lookup"><span data-stu-id="249a7-108">The best way to make sure that links work the same both inside and outside of your corporate network is to configure the external URLs of your apps to be the same as their internal URLs.</span></span> <span data-ttu-id="249a7-109">Usare [domini personalizzati](active-directory-application-proxy-custom-domains.md) per configurare l'URL esterno in modo che abbia il nome di dominio aziendale anziché il proxy di applicazione predefinito.</span><span class="sxs-lookup"><span data-stu-id="249a7-109">Use [custom domains](active-directory-application-proxy-custom-domains.md) to configure your external URLs to have your corporate domain name instead of the default application proxy domain.</span></span>

<span data-ttu-id="249a7-110">Se non è possibile usare i domini personalizzati nel tenant, allora la funzionalità di traslazione del collegamento del Proxy dell'applicazione mantiene i collegamenti in funzione indipendentemente in dalla posizione degli utenti.</span><span class="sxs-lookup"><span data-stu-id="249a7-110">If you can't use custom domains in your tenant, then the link translation feature of Application Proxy keeps your links working no matter where your users are.</span></span> <span data-ttu-id="249a7-111">Quando si hanno applicazioni che puntano direttamente a endpoint o porte interne, è possibile mappare questi URL interni agli URL del proxy di applicazione esterno pubblicato.</span><span class="sxs-lookup"><span data-stu-id="249a7-111">When you have apps that point directly to internal endpoints or ports, you can map these internal URLs to the published external Application Proxy URLs.</span></span> <span data-ttu-id="249a7-112">Quando è abilitata la traslazione del collegamento e il Proxy dell'applicazione ricerca tramite HTML, CSS e seleziona i tag di JavaScript per i collegamenti interni pubblicati.</span><span class="sxs-lookup"><span data-stu-id="249a7-112">When link translation is enabled, and Application Proxy searches through HTML, CSS, and select JavaScript tags for published internal links.</span></span> <span data-ttu-id="249a7-113">Quindi il servizio di Proxy dell'applicazione ne esegue la traslazione in modo che gli utenti ottengano un'esperienza senza interruzioni.</span><span class="sxs-lookup"><span data-stu-id="249a7-113">Then the Application Proxy service translates them so that your users get an uninterrupted experience.</span></span>

>[!NOTE]
><span data-ttu-id="249a7-114">La funzionalità di conversione dei collegamenti è per i tenant che, per qualsiasi motivo, non possono usare i domini personalizzati per avere gli stessi URL interni ed esterni per le app.</span><span class="sxs-lookup"><span data-stu-id="249a7-114">The link translation feature is for tenants that, for whatever reason, can't use custom domains to have the same internal and external URLs for their apps.</span></span> <span data-ttu-id="249a7-115">Prima di abilitare questa funzionalità, verificare se i [domini personalizzati nel proxy di applicazione di Azure AD](active-directory-application-proxy-custom-domains.md) possono fare al caso.</span><span class="sxs-lookup"><span data-stu-id="249a7-115">Before you enable this feature, see if [custom domains in Azure AD Application Proxy](active-directory-application-proxy-custom-domains.md) can work for you.</span></span>
>
><span data-ttu-id="249a7-116">Oppure, se l'applicazione che deve essere configurata con la traslazione del collegamento è SharePoint, vedere [Configurare i mapping di accesso alternativo per SharePoint 2013](https://technet.microsoft.com/library/cc263208.aspx) per un altro approccio ai collegamenti di mapping.</span><span class="sxs-lookup"><span data-stu-id="249a7-116">Or, if the application you need to configure with link translation is SharePoint, see [Configure alternate access mappings for SharePoint 2013](https://technet.microsoft.com/library/cc263208.aspx) for another approach to mapping links.</span></span>

## <a name="how-link-translation-works"></a><span data-ttu-id="249a7-117">Come funziona la conversione dei collegamenti</span><span class="sxs-lookup"><span data-stu-id="249a7-117">How link translation works</span></span>

<span data-ttu-id="249a7-118">Dopo l'autenticazione, quando il server proxy passa i dati dell'applicazione all'utente, il proxy di applicazione esegue l'analisi dell'applicazione alla ricerca dei collegamenti hardcoded e li sostituisce con i rispettivi URL esterni pubblicati.</span><span class="sxs-lookup"><span data-stu-id="249a7-118">After authentication, when the proxy server passes the application data to the user, Application Proxy scans the application for hardcoded links and replaces them with their respective, published external URLs.</span></span>

<span data-ttu-id="249a7-119">Il Proxy dell'applicazione presuppone che le applicazioni vengano codificate in UTF-8.</span><span class="sxs-lookup"><span data-stu-id="249a7-119">Application Proxy assumes that applications are encoded in UTF-8.</span></span> <span data-ttu-id="249a7-120">Se non è questo il caso, specificare il tipo di codifica in un'intestazione di risposta http, ad esempio `Content-Type:text/html;charset=utf-8`.</span><span class="sxs-lookup"><span data-stu-id="249a7-120">If that's not the case, specify the encoding type in an http response header, like `Content-Type:text/html;charset=utf-8`.</span></span>

### <a name="which-links-are-affected"></a><span data-ttu-id="249a7-121">Quali collegamenti sono interessati?</span><span class="sxs-lookup"><span data-stu-id="249a7-121">Which links are affected?</span></span>

<span data-ttu-id="249a7-122">La funzionalità di conversione dei collegamenti cerca solo i collegamenti che si trovano nel tag di codice nel corpo di un'app.</span><span class="sxs-lookup"><span data-stu-id="249a7-122">The link translation feature only looks for links that are in code tags in the body of an app.</span></span> <span data-ttu-id="249a7-123">Il proxy di applicazione ha una funzione separata per la conversione dei cookie o URL in intestazioni.</span><span class="sxs-lookup"><span data-stu-id="249a7-123">Application Proxy has a separate feature for translating cookies or URLs in headers.</span></span> 

<span data-ttu-id="249a7-124">Esistono due tipi comuni di collegamenti interni nelle applicazioni locali:</span><span class="sxs-lookup"><span data-stu-id="249a7-124">There are two common types of internal links in on-premises applications:</span></span>

- <span data-ttu-id="249a7-125">I **collegamenti interni relativi** che puntano a una risorsa condivisa in una struttura di file locale come `/claims/claims.html`.</span><span class="sxs-lookup"><span data-stu-id="249a7-125">**Relative internal links** that point to a shared resource in a local file structure like `/claims/claims.html`.</span></span> <span data-ttu-id="249a7-126">Questi collegamenti sono attivati automaticamente nelle app che vengono pubblicate tramite il proxy di applicazione e continuano a funzionare con o senza la conversione dei collegamenti.</span><span class="sxs-lookup"><span data-stu-id="249a7-126">These links automatically work in apps that are published through Application Proxy, and continue to work with or without link translation.</span></span> 
- <span data-ttu-id="249a7-127">I **collegamenti interni hardcoded** ad altre applicazioni locali come `http://expenses` o i file pubblicati come `http://expenses/logo.jpg`.</span><span class="sxs-lookup"><span data-stu-id="249a7-127">**Hardcoded internal links** to other on-premises apps like `http://expenses` or published files like `http://expenses/logo.jpg`.</span></span> <span data-ttu-id="249a7-128">La funzionalità di conversione dei collegamenti opera sui collegamenti interni hardcoded e li converte, in modo che puntino agli URL esterni che gli utenti remoti devono usare.</span><span class="sxs-lookup"><span data-stu-id="249a7-128">The link translation feature works on hardcoded internal links, and changes them to point to the external URLs that remote users need to go through.</span></span>

### <a name="how-do-apps-link-to-each-other"></a><span data-ttu-id="249a7-129">In che modo le app si collegano tra loro?</span><span class="sxs-lookup"><span data-stu-id="249a7-129">How do apps link to each other?</span></span>

<span data-ttu-id="249a7-130">La conversione dei collegamenti è abilitata per ogni applicazione, perciò si ha il controllo dell'esperienza utente a livello di app.</span><span class="sxs-lookup"><span data-stu-id="249a7-130">Link translation is enabled for each application, so that you have control over the user experience at the per-app level.</span></span> <span data-ttu-id="249a7-131">Attivare la conversione dei collegamenti per un'app quando si desidera che siano convertiti i collegamenti *da* tale app e non i collegamenti *a* tale app.</span><span class="sxs-lookup"><span data-stu-id="249a7-131">Turn on link translation for an app when you want the links *from* that app to be translated, not links *to* that app.</span></span> 

<span data-ttu-id="249a7-132">Ad esempio, si supponga di avere tre applicazioni pubblicate mediante il proxy di applicazione e che tutte siano collegate tra loro: Benefits, Expenses e Travel.</span><span class="sxs-lookup"><span data-stu-id="249a7-132">For example, suppose that you have three applications published through Application Proxy that all link to each other: Benefits, Expenses, and Travel.</span></span> <span data-ttu-id="249a7-133">C'è una quarta app, Feedback, che non viene pubblicata tramite il proxy di applicazione.</span><span class="sxs-lookup"><span data-stu-id="249a7-133">There's a fourth app, Feedback, that isn't published through Application Proxy.</span></span>

<span data-ttu-id="249a7-134">Quando si abilita la conversione dei collegamenti per l'app Benefits, i collegamenti a Expenses e Travel sono reindirizzati agli URL esterni per tali app, ma il collegamento a Feedback non viene reindirizzato perché non esiste alcun URL esterno.</span><span class="sxs-lookup"><span data-stu-id="249a7-134">When you enable link translation for the Benefits app, the links to Expenses and Travel are redirected to the external URLs for those apps, but the link to Feedback is not redirected because there is no external URL.</span></span> <span data-ttu-id="249a7-135">I collegamenti da Expenses e Travel a Benefits non funzionano perché la conversione dei collegamenti non è stata abilitata per queste due app.</span><span class="sxs-lookup"><span data-stu-id="249a7-135">Links from Expenses and Travel back to Benefits don't work, because link translation has not been enabled for those two apps.</span></span>

![Collegamenti da Benefits ad altre app quando è abilitata la conversione dei collegamenti](./media/application-proxy-link-translation/one_app.png)

### <a name="which-links-arent-translated"></a><span data-ttu-id="249a7-137">Quali collegamenti non vengono convertiti?</span><span class="sxs-lookup"><span data-stu-id="249a7-137">Which links aren't translated?</span></span>

<span data-ttu-id="249a7-138">Per migliorare prestazioni e sicurezza, alcuni collegamenti non vengono convertiti:</span><span class="sxs-lookup"><span data-stu-id="249a7-138">To improve performance and security, some links aren't translated:</span></span>

- <span data-ttu-id="249a7-139">Collegamenti non interni ai tag di codice.</span><span class="sxs-lookup"><span data-stu-id="249a7-139">Links not inside of code tags.</span></span> 
- <span data-ttu-id="249a7-140">Collegamenti non in HTML, CSS o JavaScript.</span><span class="sxs-lookup"><span data-stu-id="249a7-140">Links not in HTML, CSS, or JavaScript.</span></span> 
- <span data-ttu-id="249a7-141">Collegamenti interni aperti da altri programmi.</span><span class="sxs-lookup"><span data-stu-id="249a7-141">Internal links opened from other programs.</span></span> <span data-ttu-id="249a7-142">I collegamenti inviati tramite posta elettronica o messaggistica istantanea o inclusi in altri documenti non vengono convertiti.</span><span class="sxs-lookup"><span data-stu-id="249a7-142">Links sent through email or instant message, or included in other documents, won't be translated.</span></span> <span data-ttu-id="249a7-143">Gli utenti devono sapere di passare all'URL esterno.</span><span class="sxs-lookup"><span data-stu-id="249a7-143">The users need to know to go to the external URL.</span></span>

<span data-ttu-id="249a7-144">Se è necessario supportare uno di questi due scenari, usare gli stessi URL interni ed esterni, al posto della conversione dei collegamenti.</span><span class="sxs-lookup"><span data-stu-id="249a7-144">If you need to support one of these two scenarios, use the same internal and external URLs instead of link translation.</span></span>  

## <a name="enable-link-translation"></a><span data-ttu-id="249a7-145">Abilitare la conversione dei collegamenti</span><span class="sxs-lookup"><span data-stu-id="249a7-145">Enable link translation</span></span>

<span data-ttu-id="249a7-146">Per iniziare con la conversione dei collegamenti, è sufficiente fare clic su un pulsante:</span><span class="sxs-lookup"><span data-stu-id="249a7-146">Getting started with link translation is as easy as clicking a button:</span></span>

1. <span data-ttu-id="249a7-147">Accedere al [portale di Azure](https://portal.azure.com) come amministratore.</span><span class="sxs-lookup"><span data-stu-id="249a7-147">Sign in to the [Azure portal](https://portal.azure.com) as an administrator.</span></span>
2. <span data-ttu-id="249a7-148">Passare ad **Azure Active Directory** > **Applicazioni aziendali** > **Tutte le applicazioni** > selezionare l'app che si desidera gestire > **Proxy di applicazione**.</span><span class="sxs-lookup"><span data-stu-id="249a7-148">Go to **Azure Active Directory** > **Enterprise applications** > **All applications** > select the app you want to manage > **Application proxy**.</span></span>
3. <span data-ttu-id="249a7-149">Impostare l'opzione di **conversione URL nel corpo dell'applicazione** su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="249a7-149">Turn **Translate URLs in application body** to **Yes**.</span></span>

   ![Selezionare Sì per convertire gli URL nel corpo dell'applicazione](./media/application-proxy-link-translation/select_yes.png)<span data-ttu-id="249a7-151">.</span><span class="sxs-lookup"><span data-stu-id="249a7-151">.</span></span>
4. <span data-ttu-id="249a7-152">Selezionare **Salva** per applicare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="249a7-152">Select **Save** to apply your changes.</span></span>

<span data-ttu-id="249a7-153">Ora, quando gli utenti accedono a questa applicazione, il proxy esegue automaticamente un'analisi per individuare gli URL interni che sono stati pubblicati tramite il proxy di applicazione nel tenant.</span><span class="sxs-lookup"><span data-stu-id="249a7-153">Now, when your users access this application, the proxy will automatically scan for internal URLs that have been published through Application Proxy on your tenant.</span></span>

## <a name="send-feedback"></a><span data-ttu-id="249a7-154">Invia commenti</span><span class="sxs-lookup"><span data-stu-id="249a7-154">Send feedback</span></span>

<span data-ttu-id="249a7-155">Abbiamo bisogno dell'intervento dell'utente per rendere questa funzionalità operante per tutte le app.</span><span class="sxs-lookup"><span data-stu-id="249a7-155">We want your help to make this feature work for all your apps.</span></span> <span data-ttu-id="249a7-156">Cerchiamo oltre 30 tag in HTML e CSS e stiamo prendendo in considerazione quali casi JavaScript supportare.</span><span class="sxs-lookup"><span data-stu-id="249a7-156">We search over 30 tags in HTML and CSS, and are considering which JavaScript cases to support.</span></span> <span data-ttu-id="249a7-157">Se si hanno esempi di collegamenti generati che non vengono convertiti, inviare un frammento di codice all'area [commenti sul proxy di applicazione](mailto:aadapfeedback@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="249a7-157">If you have an example of generated links that aren't being translated, send a code snippet to [Application Proxy Feedback](mailto:aadapfeedback@microsoft.com).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="249a7-158">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="249a7-158">Next steps</span></span>
<span data-ttu-id="249a7-159">[Usare i domini personalizzati con il proxy di applicazione Azure AD](active-directory-application-proxy-custom-domains.md) per avere gli stessi URL interni ed esterni</span><span class="sxs-lookup"><span data-stu-id="249a7-159">[Use custom domains with Azure AD Application Proxy](active-directory-application-proxy-custom-domains.md) to have the same internal and external URL</span></span>

[<span data-ttu-id="249a7-160">Configurare i mapping di accesso alternativo per for SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="249a7-160">Configure alternate access mappings for SharePoint 2013</span></span>](https://technet.microsoft.com/library/cc263208.aspx)
