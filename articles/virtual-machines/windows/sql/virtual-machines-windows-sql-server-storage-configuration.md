---
title: Configurazione dell'archiviazione per le VM di SQL Server | Documentazione Microsoft
description: "Questo argomento descrive come viene configurata l'archiviazione da Azure per le VM di SQL Server durante il provisioning (modello di distribuzione di Resource Manager). Viene inoltre spiegato come è possibile configurare l'archiviazione per le VM di SQL Server esistenti."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: f10bac1189c94a581487d19fc0cc129acec6a636
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="63b77-104">Configurazione dell'archiviazione per le VM di SQL Server</span><span class="sxs-lookup"><span data-stu-id="63b77-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="63b77-105">Quando si configura un'immagine di macchina virtuale di SQL Server in Azure, il portale consente di automatizzare la configurazione dell'archiviazione,</span><span class="sxs-lookup"><span data-stu-id="63b77-105">When you configure a SQL Server virtual machine image in Azure, the Portal helps to automate your storage configuration.</span></span> <span data-ttu-id="63b77-106">ovvero collegare l'archiviazione alla VM, renderla disponibile per SQL Server e ottimizzarla in base alle specifiche esigenze a livello di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="63b77-106">This includes attaching storage to the VM, making that storage accessible to SQL Server, and configuring it to optimize for your specific performance requirements.</span></span>

<span data-ttu-id="63b77-107">Questo argomento illustra come viene configurata l'archiviazione da Azure per le VM di SQL Server, sia durante il provisioning che per le VM esistenti.</span><span class="sxs-lookup"><span data-stu-id="63b77-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="63b77-108">Questa configurazione è basata sulle [procedure consigliate per le prestazioni](virtual-machines-windows-sql-performance.md) per le VM virtuali di Azure che eseguono SQL Server.</span><span class="sxs-lookup"><span data-stu-id="63b77-108">This configuration is based on the [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="63b77-109">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="63b77-109">Prerequisites</span></span>
<span data-ttu-id="63b77-110">Per usare le impostazioni di configurazione automatica dell'archiviazione, la macchina virtuale deve avere le caratteristiche seguenti:</span><span class="sxs-lookup"><span data-stu-id="63b77-110">To use the automated storage configuration settings, your virtual machine requires the following characteristics:</span></span>

* <span data-ttu-id="63b77-111">Provisioning eseguito con un' [immagine della raccolta di SQL Server](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span><span class="sxs-lookup"><span data-stu-id="63b77-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="63b77-112">Uso del [modello di distribuzione Azure Resource Manager](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="63b77-112">Uses the [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="63b77-113">Uso dell' [archiviazione Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="63b77-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="63b77-114">Nuove VM</span><span class="sxs-lookup"><span data-stu-id="63b77-114">New VMs</span></span>
<span data-ttu-id="63b77-115">Le sezioni seguenti descrivono come configurare l'archiviazione per le nuove macchine virtuali di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="63b77-115">The following sections describe how to configure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="63b77-116">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="63b77-116">Azure Portal</span></span>
<span data-ttu-id="63b77-117">Durante il provisioning di una VM di Azure con un'immagine della raccolta di SQL Server è possibile scegliere di configurare automaticamente l'archiviazione per la nuova VM.</span><span class="sxs-lookup"><span data-stu-id="63b77-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose to automatically configure the storage for your new VM.</span></span> <span data-ttu-id="63b77-118">È necessario specificare le dimensioni dell'archiviazione, i limiti per le prestazioni e il tipo di carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="63b77-118">You specify the storage size, performance limits, and workload type.</span></span> <span data-ttu-id="63b77-119">Lo screenshot seguente mostra il pannello Configurazione dell'archiviazione usato durante il provisioning di VM di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="63b77-119">The following screenshot shows the Storage configuration blade used during SQL VM provisioning.</span></span>

![Configurazione dell'archiviazione per le VM di SQL Server durante il provisioning](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="63b77-121">A seconda delle scelte effettuate, Azure esegue le seguenti attività di configurazione dell'archiviazione dopo la creazione della VM:</span><span class="sxs-lookup"><span data-stu-id="63b77-121">Based on your choices, Azure performs the following storage configuration tasks after creating the VM:</span></span>

* <span data-ttu-id="63b77-122">Crea e collega i dischi dati di archiviazione Premium alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="63b77-122">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="63b77-123">Configura i dischi dati in modo che siano accessibili per SQL Server.</span><span class="sxs-lookup"><span data-stu-id="63b77-123">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="63b77-124">Configura i dischi dati in un pool di archiviazione in base ai requisiti specificati per dimensioni e prestazioni (operazioni di I/O al secondo e velocità effettiva).</span><span class="sxs-lookup"><span data-stu-id="63b77-124">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="63b77-125">Associa il pool di archiviazione a una nuova unità nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="63b77-125">Associates the storage pool with a new drive on the virtual machine.</span></span>
* <span data-ttu-id="63b77-126">Ottimizza la nuova unità in base al tipo di carico di lavoro specificato (data warehousing, elaborazione transazionale o generale).</span><span class="sxs-lookup"><span data-stu-id="63b77-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="63b77-127">Per ulteriori dettagli su come vengono configurate le impostazioni dell'archiviazione da Azure, vedere la [sezione Configurazione dell'archiviazione](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="63b77-127">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="63b77-128">Per istruzioni complete su come creare una VM di SQL Server nel portale di Azure, vedere l' [esercitazione sul provisioning](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="63b77-128">For a full walkthrough of how to create a SQL Server VM in the Azure Portal, see [the provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="63b77-129">Modelli di Resource Manager</span><span class="sxs-lookup"><span data-stu-id="63b77-129">Resource Manage templates</span></span>
<span data-ttu-id="63b77-130">Se si usano i modelli di Resource Manager seguenti, vengono collegati per impostazione predefinita due dischi dati Premium, senza configurare un pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="63b77-130">If you use the following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="63b77-131">È comunque possibile personalizzare questi modelli per modificare il numero di dischi di dati Premium collegati alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="63b77-131">However, you can customize these templates to change the number of premium data disks that are attached to the virtual machine.</span></span>

* [<span data-ttu-id="63b77-132">Creare una VM con il backup automatico</span><span class="sxs-lookup"><span data-stu-id="63b77-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="63b77-133">Creare una VM con l'applicazione automatica delle patch</span><span class="sxs-lookup"><span data-stu-id="63b77-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="63b77-134">Creare una VM con l'integrazione di AKV</span><span class="sxs-lookup"><span data-stu-id="63b77-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="63b77-135">VM esistenti</span><span class="sxs-lookup"><span data-stu-id="63b77-135">Existing VMs</span></span>
<span data-ttu-id="63b77-136">Per le VM di SQL Server esistenti, è possibile modificare alcune impostazioni di archiviazione nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="63b77-136">For existing SQL Server VMs, you can modify some storage settings in the Azure portal.</span></span> <span data-ttu-id="63b77-137">Selezionare la VM, passare all'area Impostazioni e quindi selezionare Configurazione di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="63b77-137">Select your VM, go to the Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="63b77-138">Il pannello Configurazione di SQL Server mostra l'utilizzo corrente dell'archiviazione della VM.</span><span class="sxs-lookup"><span data-stu-id="63b77-138">The SQL Server Configuration blade shows the current storage usage of your VM.</span></span> <span data-ttu-id="63b77-139">In questo grafico vengono visualizzate tutte le unità esistenti nella VM.</span><span class="sxs-lookup"><span data-stu-id="63b77-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="63b77-140">Per ogni unità, lo spazio di archiviazione viene visualizzato in quattro sezioni:</span><span class="sxs-lookup"><span data-stu-id="63b77-140">For each drive, the storage space displays in four sections:</span></span>

* <span data-ttu-id="63b77-141">Dati SQL</span><span class="sxs-lookup"><span data-stu-id="63b77-141">SQL data</span></span>
* <span data-ttu-id="63b77-142">Log SQL</span><span class="sxs-lookup"><span data-stu-id="63b77-142">SQL log</span></span>
* <span data-ttu-id="63b77-143">Altro (archiviazione non SQL)</span><span class="sxs-lookup"><span data-stu-id="63b77-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="63b77-144">Disponibile</span><span class="sxs-lookup"><span data-stu-id="63b77-144">Available</span></span>

![Configurare l'archiviazione per le VM di SQL Server esistenti](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="63b77-146">Per configurare l'archiviazione per aggiungere una nuova unità o estendere un'unità esistente, fare clic sul collegamento Modifica sopra il grafico.</span><span class="sxs-lookup"><span data-stu-id="63b77-146">To configure the storage to add a new drive or extend an existing drive, click the Edit link above the chart.</span></span>

<span data-ttu-id="63b77-147">Le opzioni di configurazione visualizzate variano a seconda che la funzionalità sia stata usata o meno in precedenza.</span><span class="sxs-lookup"><span data-stu-id="63b77-147">The configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="63b77-148">Per il primo utilizzo è possibile specificare i requisiti di archiviazione per una nuova unità.</span><span class="sxs-lookup"><span data-stu-id="63b77-148">When using for the first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="63b77-149">Se questa funzionalità è stata usata in precedenza per creare un'unità, è possibile scegliere di estendere l'archiviazione dell'unità.</span><span class="sxs-lookup"><span data-stu-id="63b77-149">If you previously used this feature to create a drive, you can choose to extend that drive’s storage.</span></span>

### <a name="use-for-the-first-time"></a><span data-ttu-id="63b77-150">Primo utilizzo</span><span class="sxs-lookup"><span data-stu-id="63b77-150">Use for the first time</span></span>
<span data-ttu-id="63b77-151">Se si usa questa funzionalità per la prima volta, è possibile specificare le dimensioni dell'archiviazione e i limiti di prestazioni per una nuova unità.</span><span class="sxs-lookup"><span data-stu-id="63b77-151">If it is your first time using this feature, you can specify the storage size and performance limits for a new drive.</span></span> <span data-ttu-id="63b77-152">Questa esperienza è simile a quella disponibile in fase di provisioning.</span><span class="sxs-lookup"><span data-stu-id="63b77-152">This experience is similar to what you would see at provisioning time.</span></span> <span data-ttu-id="63b77-153">La differenza principale è che non è consentito specificare il tipo di carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="63b77-153">The main difference is that you are not permitted to specify the workload type.</span></span> <span data-ttu-id="63b77-154">Questa restrizione impedisce di compromettere eventuali configurazioni di SQL Server esistenti nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="63b77-154">This restriction prevents disrupting any existing SQL Server configurations on the virtual machine.</span></span>

![Configurare i dispositivi di scorrimento delle opzioni per l'archiviazione di SQL Server](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="63b77-156">Azure crea una nuova unità in base alle specifiche.</span><span class="sxs-lookup"><span data-stu-id="63b77-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="63b77-157">In questo scenario, Azure esegue le seguenti attività di configurazione dell'archiviazione:</span><span class="sxs-lookup"><span data-stu-id="63b77-157">In this scenario, Azure performs the following storage configuration tasks:</span></span>

* <span data-ttu-id="63b77-158">Crea e collega i dischi dati di archiviazione Premium alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="63b77-158">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="63b77-159">Configura i dischi dati in modo che siano accessibili per SQL Server.</span><span class="sxs-lookup"><span data-stu-id="63b77-159">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="63b77-160">Configura i dischi dati in un pool di archiviazione in base ai requisiti specificati per dimensioni e prestazioni (operazioni di I/O al secondo e velocità effettiva).</span><span class="sxs-lookup"><span data-stu-id="63b77-160">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="63b77-161">Associa il pool di archiviazione a una nuova unità nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="63b77-161">Associates the storage pool with a new drive on the virtual machine.</span></span>

<span data-ttu-id="63b77-162">Per ulteriori dettagli su come vengono configurate le impostazioni dell'archiviazione da Azure, vedere la [sezione Configurazione dell'archiviazione](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="63b77-162">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="63b77-163">Aggiungere una nuova unità</span><span class="sxs-lookup"><span data-stu-id="63b77-163">Add a new drive</span></span>
<span data-ttu-id="63b77-164">Se l'archiviazione è già stata configurata nella VM di SQL Server, per l'espansione dell'archiviazione diventano disponibili due nuove opzioni.</span><span class="sxs-lookup"><span data-stu-id="63b77-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="63b77-165">La prima opzione prevede l'aggiunta di una nuova unità, aumentando potenzialmente il livello di prestazioni della VM.</span><span class="sxs-lookup"><span data-stu-id="63b77-165">The first option is to add a new drive, which can increase the performance level of your VM.</span></span>

![Aggiungere una nuova unità a una VM di SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="63b77-167">Dopo aver aggiunto l'unità, tuttavia, è necessario eseguire alcune configurazioni aggiuntive manuali per ottenere il miglioramento delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="63b77-167">However, after adding the drive, you must perform some extra manual configuration to achieve the performance increase.</span></span>

### <a name="extend-the-drive"></a><span data-ttu-id="63b77-168">Estendere l'unità</span><span class="sxs-lookup"><span data-stu-id="63b77-168">Extend the drive</span></span>
<span data-ttu-id="63b77-169">L'altra opzione per l'espansione dell'archiviazione prevede l'estensione dell'unità esistente.</span><span class="sxs-lookup"><span data-stu-id="63b77-169">The other option for expanding storage is to extend the existing drive.</span></span> <span data-ttu-id="63b77-170">Questa opzione aumenta l'archiviazione disponibile per l'unità, ma non incrementa le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="63b77-170">This option increases the available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="63b77-171">Con i pool di archiviazione non è possibile modificare il numero di colonne dopo la creazione del pool.</span><span class="sxs-lookup"><span data-stu-id="63b77-171">With storage pools, you cannot alter the number of columns after the storage pool is created.</span></span> <span data-ttu-id="63b77-172">Il numero di colonne determina il numero di scritture parallele di cui è possibile eseguire lo striping sui dischi dati.</span><span class="sxs-lookup"><span data-stu-id="63b77-172">The number of columns determines the number of parallel writes, which can be striped across the data disks.</span></span> <span data-ttu-id="63b77-173">Di conseguenza, qualsiasi disco dati aggiunto non consente di aumentare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="63b77-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="63b77-174">L'aggiunta di dischi dati consente esclusivamente di ottenere più spazio di archiviazione per i dati da scrivere.</span><span class="sxs-lookup"><span data-stu-id="63b77-174">They can only provide more storage for the data being written.</span></span> <span data-ttu-id="63b77-175">Questa limitazione significa anche che, in caso di estensione dell'unità, il numero di colonne determina il numero minimo di dischi dati che è possibile aggiungere.</span><span class="sxs-lookup"><span data-stu-id="63b77-175">This limitation also means that, when extending the drive, the number of columns determines the minimum number of data disks that you can add.</span></span> <span data-ttu-id="63b77-176">Se si crea un pool di archiviazione con quattro dischi dati, quindi, anche il numero di colonne è quattro.</span><span class="sxs-lookup"><span data-stu-id="63b77-176">So if you create a storage pool with four data disks, the number of columns is also four.</span></span> <span data-ttu-id="63b77-177">Ogni volta che si estende l'archiviazione, è necessario aggiungere almeno quattro dischi dati.</span><span class="sxs-lookup"><span data-stu-id="63b77-177">Any time you extend the storage, you must add at least four data disks.</span></span>

![Estendere un'unità per una VM di SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="63b77-179">Configurazione dell'archiviazione</span><span class="sxs-lookup"><span data-stu-id="63b77-179">Storage configuration</span></span>
<span data-ttu-id="63b77-180">In questa sezione sono disponibili informazioni di riferimento sulle modifiche della configurazione dell'archiviazione eseguite automaticamente da Azure durante il provisioning o la configurazione di VM di SQL nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="63b77-180">This section provides a reference for the storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in the Azure Portal.</span></span>

* <span data-ttu-id="63b77-181">Se sono stati selezionati meno di due TB di spazio di archiviazione per la VM, Azure non crea un pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="63b77-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="63b77-182">Se sono stati selezionati almeno due TB di spazio di archiviazione per la VM, Azure configura un pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="63b77-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="63b77-183">La sezione successiva di questo argomento fornisce i dettagli della configurazione del pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="63b77-183">The next section of this topic provides the details of the storage pool configuration.</span></span>
* <span data-ttu-id="63b77-184">Per la configurazione automatica dell'archiviazione vengono sempre usati dischi dati P30 di [archiviazione Premium](../../../storage/common/storage-premium-storage.md) .</span><span class="sxs-lookup"><span data-stu-id="63b77-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="63b77-185">Esiste quindi una corrispondenza 1:1 tra il numero selezionato di terabyte e il numero di dischi dati collegati alla VM.</span><span class="sxs-lookup"><span data-stu-id="63b77-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and the number of data disks attached to your VM.</span></span>

<span data-ttu-id="63b77-186">Per informazioni sui prezzi, vedere la pagina [Prezzi di archiviazione](https://azure.microsoft.com/pricing/details/storage) nella scheda **Archiviazione su disco** .</span><span class="sxs-lookup"><span data-stu-id="63b77-186">For pricing information, see the [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on the **Disk Storage** tab.</span></span>

### <a name="creation-of-the-storage-pool"></a><span data-ttu-id="63b77-187">Creazione del pool di archiviazione</span><span class="sxs-lookup"><span data-stu-id="63b77-187">Creation of the storage pool</span></span>
<span data-ttu-id="63b77-188">Azure usa le impostazioni seguenti per creare il pool di archiviazione nelle VM di SQL.</span><span class="sxs-lookup"><span data-stu-id="63b77-188">Azure uses the following settings to create the storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="63b77-189">Impostazione</span><span class="sxs-lookup"><span data-stu-id="63b77-189">Setting</span></span> | <span data-ttu-id="63b77-190">Valore</span><span class="sxs-lookup"><span data-stu-id="63b77-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="63b77-191">Dimensioni di striping</span><span class="sxs-lookup"><span data-stu-id="63b77-191">Stripe size</span></span> |<span data-ttu-id="63b77-192">256 KB (data warehousing); 64 KB (transazionale)</span><span class="sxs-lookup"><span data-stu-id="63b77-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="63b77-193">Dimensione disco</span><span class="sxs-lookup"><span data-stu-id="63b77-193">Disk sizes</span></span> |<span data-ttu-id="63b77-194">1 TB ciascuno</span><span class="sxs-lookup"><span data-stu-id="63b77-194">1 TB each</span></span> |
| <span data-ttu-id="63b77-195">Cache</span><span class="sxs-lookup"><span data-stu-id="63b77-195">Cache</span></span> |<span data-ttu-id="63b77-196">Lettura</span><span class="sxs-lookup"><span data-stu-id="63b77-196">Read</span></span> |
| <span data-ttu-id="63b77-197">Dimensioni allocazione</span><span class="sxs-lookup"><span data-stu-id="63b77-197">Allocation size</span></span> |<span data-ttu-id="63b77-198">Dimensioni delle unità di allocazione NTFS = 64 KB</span><span class="sxs-lookup"><span data-stu-id="63b77-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="63b77-199">Inizializzazione file immediata</span><span class="sxs-lookup"><span data-stu-id="63b77-199">Instant file initialization</span></span> |<span data-ttu-id="63b77-200">Enabled</span><span class="sxs-lookup"><span data-stu-id="63b77-200">Enabled</span></span> |
| <span data-ttu-id="63b77-201">Blocco di pagine in memoria</span><span class="sxs-lookup"><span data-stu-id="63b77-201">Lock pages in memory</span></span> |<span data-ttu-id="63b77-202">Enabled</span><span class="sxs-lookup"><span data-stu-id="63b77-202">Enabled</span></span> |
| <span data-ttu-id="63b77-203">Ripristino</span><span class="sxs-lookup"><span data-stu-id="63b77-203">Recovery</span></span> |<span data-ttu-id="63b77-204">Recupero con registrazione minima (nessuna resilienza)</span><span class="sxs-lookup"><span data-stu-id="63b77-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="63b77-205">Numero di colonne</span><span class="sxs-lookup"><span data-stu-id="63b77-205">Number of columns</span></span> |<span data-ttu-id="63b77-206">Numero di dischi dati<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="63b77-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="63b77-207">Percorso TempDB</span><span class="sxs-lookup"><span data-stu-id="63b77-207">TempDB location</span></span> |<span data-ttu-id="63b77-208">Archiviato sui dischi dati<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="63b77-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="63b77-209"><sup>1</sup> Dopo aver creato il pool di archiviazione non è possibile modificare il numero di colonne nel pool.</span><span class="sxs-lookup"><span data-stu-id="63b77-209"><sup>1</sup> After the storage pool is created, you cannot alter the number of columns in the storage pool.</span></span>

<span data-ttu-id="63b77-210"><sup>2</sup> Questa impostazione si applica solo alla prima unità creata usando la funzionalità di configurazione dell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="63b77-210"><sup>2</sup> This setting only applies to the first drive you create using the storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="63b77-211">Impostazioni di ottimizzazione del carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="63b77-211">Workload optimization settings</span></span>
<span data-ttu-id="63b77-212">La tabella seguente descrive le tre opzioni disponibili per il tipo di carico di lavoro e le ottimizzazioni corrispondenti:</span><span class="sxs-lookup"><span data-stu-id="63b77-212">The following table describes the three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="63b77-213">Tipo di carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="63b77-213">Workload type</span></span> | <span data-ttu-id="63b77-214">Descrizione</span><span class="sxs-lookup"><span data-stu-id="63b77-214">Description</span></span> | <span data-ttu-id="63b77-215">Ottimizzazioni</span><span class="sxs-lookup"><span data-stu-id="63b77-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="63b77-216">**Generale**</span><span class="sxs-lookup"><span data-stu-id="63b77-216">**General**</span></span> |<span data-ttu-id="63b77-217">Impostazione predefinita che supporta la maggior parte dei carichi di lavoro</span><span class="sxs-lookup"><span data-stu-id="63b77-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="63b77-218">None</span><span class="sxs-lookup"><span data-stu-id="63b77-218">None</span></span> |
| <span data-ttu-id="63b77-219">**Elaborazione transazionale**</span><span class="sxs-lookup"><span data-stu-id="63b77-219">**Transactional processing**</span></span> |<span data-ttu-id="63b77-220">Ottimizza l'archiviazione per carichi di lavoro OLTP di database tradizionali</span><span class="sxs-lookup"><span data-stu-id="63b77-220">Optimizes the storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="63b77-221">Flag di traccia 1117</span><span class="sxs-lookup"><span data-stu-id="63b77-221">Trace Flag 1117</span></span><br/><span data-ttu-id="63b77-222">Flag di traccia 1118</span><span class="sxs-lookup"><span data-stu-id="63b77-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="63b77-223">**Data warehousing**</span><span class="sxs-lookup"><span data-stu-id="63b77-223">**Data warehousing**</span></span> |<span data-ttu-id="63b77-224">Ottimizza l'archiviazione per i carichi di lavoro di analisi e creazione di report</span><span class="sxs-lookup"><span data-stu-id="63b77-224">Optimizes the storage for analytic and reporting workloads</span></span> |<span data-ttu-id="63b77-225">Flag di traccia 610</span><span class="sxs-lookup"><span data-stu-id="63b77-225">Trace Flag 610</span></span><br/><span data-ttu-id="63b77-226">Flag di traccia 1117</span><span class="sxs-lookup"><span data-stu-id="63b77-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="63b77-227">È possibile specificare il tipo di carico di lavoro solo quando si esegue il provisioning di una macchina virtuale di SQL Serer, selezionandolo nel passaggio di configurazione dell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="63b77-227">You can only specify the workload type when you provision a SQL virtual machine by selecting it in the storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="63b77-228">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="63b77-228">Next steps</span></span>
<span data-ttu-id="63b77-229">Per altri argomenti relativi all'esecuzione di SQL Server nelle macchine virtuali di Azure, vedere [SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="63b77-229">For other topics related to running SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
