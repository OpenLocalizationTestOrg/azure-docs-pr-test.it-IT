---
title: aaaArchitecture di Azure Service Fabric | Documenti Microsoft
description: "Service Fabric è che una piattaforma di sistemi distribuiti utilizzato toobuild scalabile, affidabile e facile da gestire le applicazioni per cloud hello. Questo articolo illustra l'architettura di hello di Service Fabric."
services: service-fabric
documentationcenter: .net
author: rishirsinha
manager: timlt
editor: rishirsinha
ms.assetid: 6b554243-70cb-4c22-9b28-1a8b4703f45e
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/19/2017
ms.author: rsinha
ms.openlocfilehash: 0268578094ad1a0010ef44ed940f828b985f6c40
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-architecture"></a><span data-ttu-id="f0b74-104">Architettura di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f0b74-104">Service Fabric architecture</span></span>
<span data-ttu-id="f0b74-105">Service Fabric è costituito da sottosistemi a più livelli.</span><span class="sxs-lookup"><span data-stu-id="f0b74-105">Service Fabric is built with layered subsystems.</span></span> <span data-ttu-id="f0b74-106">Tali sottosistemi consentono toowrite applicazioni che sono:</span><span class="sxs-lookup"><span data-stu-id="f0b74-106">These subsystems enable you toowrite applications that are:</span></span>

* <span data-ttu-id="f0b74-107">Disponibilità elevata</span><span class="sxs-lookup"><span data-stu-id="f0b74-107">Highly available</span></span>
* <span data-ttu-id="f0b74-108">Scalabilità</span><span class="sxs-lookup"><span data-stu-id="f0b74-108">Scalable</span></span>
* <span data-ttu-id="f0b74-109">Gestione</span><span class="sxs-lookup"><span data-stu-id="f0b74-109">Manageable</span></span>
* <span data-ttu-id="f0b74-110">Testabilità</span><span class="sxs-lookup"><span data-stu-id="f0b74-110">Testable</span></span>

<span data-ttu-id="f0b74-111">Hello seguente diagramma mostra i sottosistemi principali hello di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="f0b74-111">hello following diagram shows hello major subsystems of Service Fabric.</span></span>

![Diagramma dell'architettura di Service Fabric](media/service-fabric-architecture/service-fabric-architecture.png)

<span data-ttu-id="f0b74-113">In un sistema distribuito, hello possibilità toosecurely la comunicazione tra nodi in un cluster è fondamentale.</span><span class="sxs-lookup"><span data-stu-id="f0b74-113">In a distributed system, hello ability toosecurely communicate between nodes in a cluster is crucial.</span></span> <span data-ttu-id="f0b74-114">Base dello stack hello hello è sottosistema di trasporto hello, che fornisce una comunicazione protetta tra i nodi.</span><span class="sxs-lookup"><span data-stu-id="f0b74-114">At hello base of hello stack is hello transport subsystem, which provides secure communication between nodes.</span></span> <span data-ttu-id="f0b74-115">Di sopra di trasporto hello sottosistema si trova il sottosistema di federazione hello, quali cluster hello nodi diversi in una singola entità (denominata cluster) in modo che Service Fabric possibile rilevare errori, eseguire elezione leader e implementare un routing coerente.</span><span class="sxs-lookup"><span data-stu-id="f0b74-115">Above hello transport subsystem lies hello federation subsystem, which clusters hello different nodes into a single entity (named clusters) so that Service Fabric can detect failures, perform leader election, and provide consistent routing.</span></span> <span data-ttu-id="f0b74-116">il sottosistema di affidabilità Hello, ai livelli più alti il sottosistema di federazione hello, è responsabile per l'affidabilità di hello dei servizi di Service Fabric tramite meccanismi di replica, la gestione delle risorse e il failover.</span><span class="sxs-lookup"><span data-stu-id="f0b74-116">hello reliability subsystem, layered on top of hello federation subsystem, is responsible for hello reliability of Service Fabric services through mechanisms such as replication, resource management, and failover.</span></span> <span data-ttu-id="f0b74-117">il sottosistema di federazione Hello sottostante anche hello hosting e attivazione sottosistema che gestisce hello del ciclo di vita di un'applicazione in un singolo nodo.</span><span class="sxs-lookup"><span data-stu-id="f0b74-117">hello federation subsystem also underlies hello hosting and activation subsystem, which manages hello lifecycle of an application on a single node.</span></span> <span data-ttu-id="f0b74-118">il sottosistema di gestione di Hello gestisce hello del ciclo di vita delle applicazioni e servizi.</span><span class="sxs-lookup"><span data-stu-id="f0b74-118">hello management subsystem manages hello lifecycle of applications and services.</span></span> <span data-ttu-id="f0b74-119">sottosistema testabilità Hello consente agli sviluppatori di applicazioni provare i servizi tramite errori simulati prima e dopo la distribuzione di applicazioni e servizi ambienti tooproduction.</span><span class="sxs-lookup"><span data-stu-id="f0b74-119">hello testability subsystem helps application developers test their services through simulated faults before and after deploying applications and services tooproduction environments.</span></span> <span data-ttu-id="f0b74-120">Service Fabric consente hello tooresolve posizioni del servizio tramite il sottosistema di comunicazione.</span><span class="sxs-lookup"><span data-stu-id="f0b74-120">Service Fabric provides hello ability tooresolve service locations through its communication subsystem.</span></span> <span data-ttu-id="f0b74-121">Hello i modelli di programmazione dell'applicazione esposti toodevelopers sono disposti sopra questi sottosistemi insieme a strumenti di tooenable modello applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-121">hello application programming models exposed toodevelopers are layered on top of these subsystems along with hello application model tooenable tooling.</span></span>

## <a name="transport-subsystem"></a><span data-ttu-id="f0b74-122">Sottosistema di trasporto</span><span class="sxs-lookup"><span data-stu-id="f0b74-122">Transport subsystem</span></span>
<span data-ttu-id="f0b74-123">il sottosistema di trasporto Hello implementa un canale di comunicazione punto a punto datagramma.</span><span class="sxs-lookup"><span data-stu-id="f0b74-123">hello transport subsystem implements a point-to-point datagram communication channel.</span></span> <span data-ttu-id="f0b74-124">Questo canale viene usato per la comunicazione tra client e i cluster di service fabric hello e la comunicazione all'interno di cluster di infrastruttura del servizio.</span><span class="sxs-lookup"><span data-stu-id="f0b74-124">This channel is used for communication within service fabric clusters and communication between hello service fabric cluster and clients.</span></span> <span data-ttu-id="f0b74-125">Supporta unidirezionale e modelli di comunicazione richiesta-risposta, che prevede l'implementazione di trasmissione e multicast in base hello hello a livello di federazione.</span><span class="sxs-lookup"><span data-stu-id="f0b74-125">It supports one-way and request-reply communication patterns, which provides hello basis for implementing broadcast and multicast in hello Federation layer.</span></span> <span data-ttu-id="f0b74-126">il sottosistema di trasporto Hello protegge le comunicazioni usando X509 certificati o la sicurezza di Windows.</span><span class="sxs-lookup"><span data-stu-id="f0b74-126">hello transport subsystem secures communication by using X509 certificates or Windows security.</span></span> <span data-ttu-id="f0b74-127">Questo sottosistema viene utilizzato internamente dall'infrastruttura di servizio e non è direttamente accessibile toodevelopers per la programmazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0b74-127">This subsystem is used internally by Service Fabric and is not directly accessible toodevelopers for application programming.</span></span>

## <a name="federation-subsystem"></a><span data-ttu-id="f0b74-128">Sottosistema di federazione</span><span class="sxs-lookup"><span data-stu-id="f0b74-128">Federation subsystem</span></span>
<span data-ttu-id="f0b74-129">In ordine tooreason su un set di nodi in un sistema distribuito, è necessario toohave una visualizzazione coerente del sistema hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-129">In order tooreason about a set of nodes in a distributed system, you need toohave a consistent view of hello system.</span></span> <span data-ttu-id="f0b74-130">il sottosistema di federazione Hello Usa primitive di comunicazione hello fornite dal sottosistema di trasporto hello e giunture hello vari nodi in un unico cluster unificato che è possibile ragionare su.</span><span class="sxs-lookup"><span data-stu-id="f0b74-130">hello federation subsystem uses hello communication primitives provided by hello transport subsystem and stitches hello various nodes into a single unified cluster that it can reason about.</span></span> <span data-ttu-id="f0b74-131">Fornisce le primitive di sistemi distribuito hello necessari hello da altri sottosistemi - rilevamento degli errori, elezione leader e coerente di routing.</span><span class="sxs-lookup"><span data-stu-id="f0b74-131">It provides hello distributed systems primitives needed by hello other subsystems - failure detection, leader election, and consistent routing.</span></span> <span data-ttu-id="f0b74-132">il sottosistema di federazione Hello si basa su tabelle hash distribuita con uno spazio di token a 128 bit.</span><span class="sxs-lookup"><span data-stu-id="f0b74-132">hello federation subsystem is built on top of distributed hash tables with a 128-bit token space.</span></span> <span data-ttu-id="f0b74-133">sottosistema Hello crea una topologia ad anello nodi hello, con ogni anello hello allocato un subset di spazio di hello token per la proprietà del nodo.</span><span class="sxs-lookup"><span data-stu-id="f0b74-133">hello subsystem creates a ring topology over hello nodes, with each node in hello ring being allocated a subset of hello token space for ownership.</span></span> <span data-ttu-id="f0b74-134">Per il rilevamento degli errori, il livello di hello utilizza un meccanismo di leasing basato su cuore elevati e arbitraggio.</span><span class="sxs-lookup"><span data-stu-id="f0b74-134">For failure detection, hello layer uses a leasing mechanism based on heart beating and arbitration.</span></span> <span data-ttu-id="f0b74-135">il sottosistema di federazione Hello garantisce anche tramite join più complessi e i protocolli di partenza che esiste solo un singolo proprietario di un token in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="f0b74-135">hello federation subsystem also guarantees through intricate join and departure protocols that only a single owner of a token exists at any time.</span></span> <span data-ttu-id="f0b74-136">Ciò consente di offrire garanzie di algoritmi di elezione e routing coerenti.</span><span class="sxs-lookup"><span data-stu-id="f0b74-136">This provides leader election and consistent routing guarantees.</span></span>

## <a name="reliability-subsystem"></a><span data-ttu-id="f0b74-137">Sottosistema di affidabilità</span><span class="sxs-lookup"><span data-stu-id="f0b74-137">Reliability subsystem</span></span>
<span data-ttu-id="f0b74-138">sottosistema di affidabilità Hello fornisce hello meccanismo toomake hello lo stato di un servizio di Service Fabric a disponibilità elevata tramite l'utilizzo di hello di hello *Replicator*, *gestione Failover*, e  *Bilanciamento delle risorse*.</span><span class="sxs-lookup"><span data-stu-id="f0b74-138">hello reliability subsystem provides hello mechanism toomake hello state of a Service Fabric service highly available through hello use of hello *Replicator*, *Failover Manager*, and *Resource Balancer*.</span></span>

* <span data-ttu-id="f0b74-139">Hello. Replicator assicura che le modifiche dello stato di replica del servizio primario hello saranno automaticamente replicati toosecondary repliche, mantenere la coerenza tra le repliche primarie e secondarie hello in un set di repliche del servizio.</span><span class="sxs-lookup"><span data-stu-id="f0b74-139">hello Replicator ensures that state changes in hello primary service replica will automatically be replicated toosecondary replicas, maintaining consistency between hello primary and secondary replicas in a service replica set.</span></span> <span data-ttu-id="f0b74-140">Replicatore Hello è responsabile per la gestione del quorum tra le repliche hello hello set.</span><span class="sxs-lookup"><span data-stu-id="f0b74-140">hello replicator is responsible for quorum management among hello replicas in hello replica set.</span></span> <span data-ttu-id="f0b74-141">Interagisce con elenco hello tooget delle unità di failover di hello di operazioni tooreplicate e agente di riconfigurazione hello fornisce configurazione hello del set di repliche hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-141">It interacts with hello failover unit tooget hello list of operations tooreplicate, and hello reconfiguration agent provides it with hello configuration of hello replica set.</span></span> <span data-ttu-id="f0b74-142">Tale configurazione indica che le operazioni di hello repliche necessitano toobe replicati.</span><span class="sxs-lookup"><span data-stu-id="f0b74-142">That configuration indicates which replicas hello operations need toobe replicated.</span></span> <span data-ttu-id="f0b74-143">Service Fabric fornisce un replicatore predefinito denominato Replicator dell'infrastruttura, che può essere utilizzato da hello programmazione API toomake hello servizio lo stato del modello affidabile e a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="f0b74-143">Service Fabric provides a default replicator called Fabric Replicator, which can be used by hello programming model API toomake hello service state highly available and reliable.</span></span>
* <span data-ttu-id="f0b74-144">Hello gestione Failover assicura che quando i nodi vengono aggiunti tooor rimossa dal cluster hello, hello carico viene automaticamente ridistribuito tra i nodi disponibili hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-144">hello Failover Manager ensures that when nodes are added tooor removed from hello cluster, hello load is automatically redistributed across hello available nodes.</span></span> <span data-ttu-id="f0b74-145">Se un nodo nel cluster hello non riesce, cluster hello verrà riconfigurato automaticamente la disponibilità toomaintain di repliche del servizio di hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-145">If a node in hello cluster fails, hello cluster will automatically reconfigure hello service replicas toomaintain availability.</span></span>
* <span data-ttu-id="f0b74-146">Hello Gestione risorse inserisce le repliche del servizio tra dominio di errore in cluster hello e assicura che tutte le unità di failover siano operative.</span><span class="sxs-lookup"><span data-stu-id="f0b74-146">hello Resource Manager places service replicas across failure domain in hello cluster and ensures that all failover units are operational.</span></span> <span data-ttu-id="f0b74-147">Hello Gestione risorse bilancia anche le risorse del servizio tra hello sottostante pool condiviso del cluster nodi tooachieve ottimale uniforme di distribuzione del carico.</span><span class="sxs-lookup"><span data-stu-id="f0b74-147">hello Resource Manager also balances service resources across hello underlying shared pool of cluster nodes tooachieve optimal uniform load distribution.</span></span>

## <a name="management-subsystem"></a><span data-ttu-id="f0b74-148">Sottosistema di gestione</span><span class="sxs-lookup"><span data-stu-id="f0b74-148">Management subsystem</span></span>
<span data-ttu-id="f0b74-149">il sottosistema di gestione di Hello fornisce servizi end-to-end e application lifecycle management.</span><span class="sxs-lookup"><span data-stu-id="f0b74-149">hello management subsystem provides end-to-end service and application lifecycle management.</span></span> <span data-ttu-id="f0b74-150">Cmdlet di PowerShell e le API di amministrazione consentono di tooprovision, distribuiscono, patch, aggiornamenti e il deprovisioning applicazioni senza perdita di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f0b74-150">PowerShell cmdlets and administrative APIs enable you tooprovision, deploy, patch, upgrade, and de-provision applications without loss of availability.</span></span> <span data-ttu-id="f0b74-151">il sottosistema di gestione di Hello esegue questa tramite hello seguenti servizi.</span><span class="sxs-lookup"><span data-stu-id="f0b74-151">hello management subsystem performs this through hello following services.</span></span>

* <span data-ttu-id="f0b74-152">**Gestione cluster di**: si tratta di servizio primario hello che interagisce con hello gestione Failover dalle applicazioni di hello tooplace l'affidabilità nei nodi hello in base ai vincoli di posizionamento del servizio hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-152">**Cluster Manager**: This is hello primary service that interacts with hello Failover Manager from reliability tooplace hello applications on hello nodes based on hello service placement constraints.</span></span> <span data-ttu-id="f0b74-153">Gestione risorse di Hello nel sottosistema di failover garantisce che i vincoli di hello mai interrotti.</span><span class="sxs-lookup"><span data-stu-id="f0b74-153">hello Resource Manager in failover subsystem ensures that hello constraints are never broken.</span></span> <span data-ttu-id="f0b74-154">Gestione cluster di Hello gestisce hello del ciclo di vita delle applicazioni hello da toode occorre eseguire il provisioning.</span><span class="sxs-lookup"><span data-stu-id="f0b74-154">hello cluster manager manages hello lifecycle of hello applications from provision toode-provision.</span></span> <span data-ttu-id="f0b74-155">Si integra con hello health manager tooensure che la disponibilità dell'applicazione non verrà persa dal punto di vista semantico integrità durante gli aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="f0b74-155">It integrates with hello health manager tooensure that application availability is not lost from a semantic health perspective during upgrades.</span></span>
* <span data-ttu-id="f0b74-156">**Health Manager**: questo servizio consente il monitoraggio dell'integrità di applicazioni e servizi ed entità del cluster.</span><span class="sxs-lookup"><span data-stu-id="f0b74-156">**Health Manager**: This service enables health monitoring of applications, services, and cluster entities.</span></span> <span data-ttu-id="f0b74-157">Entità di cluster (ad esempio nodi, servizio partizioni e repliche) può segnalare informazioni di integrità, che vengono quindi aggregate nell'archivio integrità centralizzata hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-157">Cluster entities (such as nodes, service partitions, and replicas) can report health information, which is then aggregated into hello centralized health store.</span></span> <span data-ttu-id="f0b74-158">Informazioni sull'integrità fornisce uno snapshot di integrità globale in un momento di servizi di hello e nodi distribuiti su più nodi nel cluster hello, consentendo tootake eventuali azioni correttive necessarie.</span><span class="sxs-lookup"><span data-stu-id="f0b74-158">This health information provides an overall point-in-time health snapshot of hello services and nodes distributed across multiple nodes in hello cluster, enabling you tootake any needed corrective actions.</span></span> <span data-ttu-id="f0b74-159">Query di integrità che API consentono di eventi di integrità hello tooquery segnalato toohello sottosistema di integrità.</span><span class="sxs-lookup"><span data-stu-id="f0b74-159">Health query APIs enable you tooquery hello health events reported toohello health subsystem.</span></span> <span data-ttu-id="f0b74-160">query di integrità Hello API restituire dati di integrità non elaborati hello archiviati in integrità hello archiviano o hello aggregati, interpretare i dati di integrità per un'entità di cluster specifico.</span><span class="sxs-lookup"><span data-stu-id="f0b74-160">hello health query APIs return hello raw health data stored in hello health store or hello aggregated, interpreted health data for a specific cluster entity.</span></span>
* <span data-ttu-id="f0b74-161">**Archivio immagini**: il servizio fornisce archiviazione e la distribuzione di hello file binari dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f0b74-161">**Image Store**: This service provides storage and distribution of hello application binaries.</span></span> <span data-ttu-id="f0b74-162">Questo servizio fornisce un semplice file distribuito archivio in cui le applicazioni di hello tooand caricato scaricato da.</span><span class="sxs-lookup"><span data-stu-id="f0b74-162">This service provides a simple distributed file store where hello applications are uploaded tooand downloaded from.</span></span>

## <a name="hosting-subsystem"></a><span data-ttu-id="f0b74-163">Sottosistema di hosting</span><span class="sxs-lookup"><span data-stu-id="f0b74-163">Hosting subsystem</span></span>
<span data-ttu-id="f0b74-164">Gestione cluster di Hello informa hello sottosistema (in esecuzione su ciascun nodo) in servizi di hosting deve toomanage per un determinato nodo.</span><span class="sxs-lookup"><span data-stu-id="f0b74-164">hello cluster manager informs hello hosting subsystem (running on each node) which services it needs toomanage for a particular node.</span></span> <span data-ttu-id="f0b74-165">Hello hosting sottosistema quindi gestisce hello del ciclo di vita dell'applicazione hello in tale nodo.</span><span class="sxs-lookup"><span data-stu-id="f0b74-165">hello hosting subsystem then manages hello lifecycle of hello application on that node.</span></span> <span data-ttu-id="f0b74-166">Questa utilità interagisce con hello affidabilità e integrità al tooensure di componenti che repliche hello siano posizionate correttamente e siano integri.</span><span class="sxs-lookup"><span data-stu-id="f0b74-166">It interacts with hello reliability and health components tooensure that hello replicas are properly placed and are healthy.</span></span>

## <a name="communication-subsystem"></a><span data-ttu-id="f0b74-167">Sottosistema di comunicazione</span><span class="sxs-lookup"><span data-stu-id="f0b74-167">Communication subsystem</span></span>
<span data-ttu-id="f0b74-168">Questo sottosistema fornisce la messaggistica affidabile all'interno di individuazione di cluster e il servizio hello tramite il servizio di denominazione hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-168">This subsystem provides reliable messaging within hello cluster and service discovery through hello Naming service.</span></span> <span data-ttu-id="f0b74-169">Hello Naming service risolve percorso tooa i nomi del servizio cluster hello e consente di proprietà e i nomi di servizio toomanage utenti.</span><span class="sxs-lookup"><span data-stu-id="f0b74-169">hello Naming service resolves service names tooa location in hello cluster and enables users toomanage service names and properties.</span></span> <span data-ttu-id="f0b74-170">Usa servizio di denominazione hello, i client possono in modo sicuro comunicano con tutti i nodi hello cluster tooresolve un nome di servizio e recuperare i metadati del servizio.</span><span class="sxs-lookup"><span data-stu-id="f0b74-170">Using hello Naming service, clients can securely communicate with any node in hello cluster tooresolve a service name and retrieve service metadata.</span></span> <span data-ttu-id="f0b74-171">Utilizzando un semplice client di denominazione API, gli utenti di Service Fabric possono sviluppare servizi e client in grado di risolvere hello attuale percorso di rete nonostante Web nodo o hello modifica delle dimensioni del cluster di hello.</span><span class="sxs-lookup"><span data-stu-id="f0b74-171">Using a simple Naming client API, users of Service Fabric can develop services and clients capable of resolving hello current network location despite node dynamism or hello re-sizing of hello cluster.</span></span>

## <a name="testability-subsystem"></a><span data-ttu-id="f0b74-172">Sottosistema di testabilità</span><span class="sxs-lookup"><span data-stu-id="f0b74-172">Testability subsystem</span></span>
<span data-ttu-id="f0b74-173">Il sottosistema di testabilità è costituito da strumenti progettati specificamente per il test di servizi basati su Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="f0b74-173">Testability is a suite of tools specifically designed for testing services built on Service Fabric.</span></span> <span data-ttu-id="f0b74-174">Hello strumenti consentono allo sviluppatore di facilmente provoca errori significativi eseguire tooexercise scenari di test e convalidare hello numerosi Stati e transizioni che un servizio si verifica in tutta la durata, in modo controllato e sicuro.</span><span class="sxs-lookup"><span data-stu-id="f0b74-174">hello tools let a developer easily induce meaningful faults and run test scenarios tooexercise and validate hello numerous states and transitions that a service will experience throughout its lifetime, all in a controlled and safe manner.</span></span> <span data-ttu-id="f0b74-175">Testabilità fornisce inoltre un meccanismo toorun più test che può scorrere diversi errori possibili senza perdere la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f0b74-175">Testability also provides a mechanism toorun longer tests that can iterate through various possible failures without losing availability.</span></span> <span data-ttu-id="f0b74-176">fornendo un ambiente di testing in produzione.</span><span class="sxs-lookup"><span data-stu-id="f0b74-176">This provides you with a test-in-production environment.</span></span>

