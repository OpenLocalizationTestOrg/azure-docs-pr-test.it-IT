---
title: aaaService del Bus di messaggistica asincrona | Documenti Microsoft
description: Descrizione della messaggistica asincrona del bus di servizio di Azure.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: f1435549-e1f2-40cb-a280-64ea07b39fc7
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/19/2017
ms.author: sethm
ms.openlocfilehash: 5ab6ddf052155a9dd975b413cfaf393119c1999d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="asynchronous-messaging-patterns-and-high-availability"></a><span data-ttu-id="fa7c8-103">Modelli di messaggistica asincrona e disponibilità elevata</span><span class="sxs-lookup"><span data-stu-id="fa7c8-103">Asynchronous messaging patterns and high availability</span></span>

<span data-ttu-id="fa7c8-104">La messaggistica asincrona può essere implementata in molti modi diversi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-104">Asynchronous messaging can be implemented in a variety of different ways.</span></span> <span data-ttu-id="fa7c8-105">Con code, argomenti e sottoscrizioni, il bus di servizio di Azure supporta la messaggistica asincrona tramite un meccanismo di archiviazione e inoltro.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-105">With queues, topics, and subscriptions, Azure Service Bus supports asynchronism via a store and forward mechanism.</span></span> <span data-ttu-id="fa7c8-106">In condizioni normali (sincrona), inviare messaggi tooqueues e argomenti e ricevere messaggi da code e sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-106">In normal (synchronous) operation, you send messages tooqueues and topics, and receive messages from queues and subscriptions.</span></span> <span data-ttu-id="fa7c8-107">Le applicazioni create dipendono dalla disponibilità continua di queste entità.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-107">Applications you write depend on these entities always being available.</span></span> <span data-ttu-id="fa7c8-108">Quando viene modificato lo stato dell'entità hello, a causa di tooa diverse circostanze, è necessario un tooprovide modo un'entità a capacità limitata in grado di soddisfare la maggior parte delle esigenze.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-108">When hello entity health changes, due tooa variety of circumstances, you need a way tooprovide a reduced capability entity that can satisfy most needs.</span></span>

<span data-ttu-id="fa7c8-109">Le applicazioni utilizzano in genere tooenable modelli di messaggistica asincrona un numero di scenari di comunicazione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-109">Applications typically use asynchronous messaging patterns tooenable a number of communication scenarios.</span></span> <span data-ttu-id="fa7c8-110">È possibile compilare applicazioni in cui i client possono inviare messaggi tooservices, anche quando non è in esecuzione il servizio di hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-110">You can build applications in which clients can send messages tooservices, even when hello service is not running.</span></span> <span data-ttu-id="fa7c8-111">Per le applicazioni che presentano picchi di comunicazioni, una coda può aiutare hello livello caricare fornendo le comunicazioni toobuffer sul posto.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-111">For applications that experience bursts of communications, a queue can help level hello load by providing a place toobuffer communications.</span></span> <span data-ttu-id="fa7c8-112">Infine, è possibile ottenere un carico semplice ma efficace messaggi toodistribute di bilanciamento del carico tra più computer.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-112">Finally, you can get a simple but effective load balancer toodistribute messages across multiple machines.</span></span>

<span data-ttu-id="fa7c8-113">Disponibilità di toomaintain ordine di qualsiasi entità, considerare i modi in cui le entità possono risultare non disponibile per un sistema di messaggistica durevole.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-113">In order toomaintain availability of any of these entities, consider a number of different ways in which these entities can appear unavailable for a durable messaging system.</span></span> <span data-ttu-id="fa7c8-114">In generale, verrà visualizzato entity hello diventano tooapplications disponibile che nelle hello seguenti modi:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-114">Generally speaking, we see hello entity become unavailable tooapplications we write in hello following different ways:</span></span>

* <span data-ttu-id="fa7c8-115">Non è possibile toosend messaggi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-115">Unable toosend messages.</span></span>
* <span data-ttu-id="fa7c8-116">Non è possibile tooreceive messaggi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-116">Unable tooreceive messages.</span></span>
* <span data-ttu-id="fa7c8-117">Entità non è possibile toomanage (creare, recuperare, aggiornare o eliminare entità).</span><span class="sxs-lookup"><span data-stu-id="fa7c8-117">Unable toomanage entities (create, retrieve, update, or delete entities).</span></span>
* <span data-ttu-id="fa7c8-118">Servizio hello toocontact non è possibile.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-118">Unable toocontact hello service.</span></span>

<span data-ttu-id="fa7c8-119">Per ognuno di questi errori, diverse modalità di errore esiste che consentono di gestire di tooperform toocontinue un'applicazione in un certo livello di funzionalità ridotte.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-119">For each of these failures, different failure modes exist that enable an application toocontinue tooperform work at some level of reduced capability.</span></span> <span data-ttu-id="fa7c8-120">Ad esempio, un sistema che può inviare messaggi, ma non riceverli, e continuare comunque a ricevere ordini dai clienti senza però poterli elaborare.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-120">For example, a system that can send messages but not receive them can still receive orders from customers but cannot process those orders.</span></span> <span data-ttu-id="fa7c8-121">Questo argomento illustra i problemi che possono verificarsi e le tecniche per attenuarne gli effetti.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-121">This topic discusses potential issues that can occur, and how those issues are mitigated.</span></span> <span data-ttu-id="fa7c8-122">Bus di servizio sono state introdotte numerose soluzioni correttive che devono acconsentire esplicitamente e in questo argomento viene inoltre hello utilizzano le regole che controllano hello di queste soluzioni correttive consenso esplicito.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-122">Service Bus has introduced a number of mitigations which you must opt into, and this topic also discusses hello rules governing hello use of those opt-in mitigations.</span></span>

## <a name="reliability-in-service-bus"></a><span data-ttu-id="fa7c8-123">Affidabilità nel bus di servizio</span><span class="sxs-lookup"><span data-stu-id="fa7c8-123">Reliability in Service Bus</span></span>
<span data-ttu-id="fa7c8-124">Esistono diversi modi i problemi di entità e messaggi toohandle e non esistono regole che governano hello uso appropriato di queste soluzioni correttive.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-124">There are several ways toohandle message and entity issues, and there are guidelines governing hello appropriate use of those mitigations.</span></span> <span data-ttu-id="fa7c8-125">linee guida hello toounderstand, è necessario innanzitutto comprendere cosa può avere esito negativo nel Bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-125">toounderstand hello guidelines, you must first understand what can fail in Service Bus.</span></span> <span data-ttu-id="fa7c8-126">A causa di toohello progettazione dei sistemi Azure, tutti questi aspetti tendono toobe di breve durata.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-126">Due toohello design of Azure systems, all of these issues tend toobe short-lived.</span></span> <span data-ttu-id="fa7c8-127">In generale, hello diverse cause indisponibilità appaiono come segue:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-127">At a high level, hello different causes of unavailability appear as follows:</span></span>

* <span data-ttu-id="fa7c8-128">Limitazione da un sistema esterno dal quale dipende il bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-128">Throttling from an external system on which Service Bus depends.</span></span> <span data-ttu-id="fa7c8-129">La limitazione è generata da interazioni con le risorse di archiviazione e calcolo.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-129">Throttling occurs from interactions with storage and compute resources.</span></span>
* <span data-ttu-id="fa7c8-130">Problema dovuto a un sistema dal quale dipende il bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-130">Issue for a system on which Service Bus depends.</span></span> <span data-ttu-id="fa7c8-131">Ad esempio, problemi che possono verificarsi in una determinata risorsa di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-131">For example, a given part of storage can encounter issues.</span></span>
* <span data-ttu-id="fa7c8-132">Errore del bus di servizio in un singolo sottosistema.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-132">Failure of Service Bus on single subsystem.</span></span> <span data-ttu-id="fa7c8-133">In questo caso, un nodo di calcolo potrebbe entrare in uno stato incoerente e debba essere riavviato, causando tutte le entità che svolge il saldo tooload tooother nodi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-133">In this situation, a compute node can get into an inconsistent state and must restart itself, causing all entities it serves tooload balance tooother nodes.</span></span> <span data-ttu-id="fa7c8-134">Questa situazione può causare a sua volta un breve periodo di elaborazione lenta dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-134">This in turn can cause a short period of slow message processing.</span></span>
* <span data-ttu-id="fa7c8-135">Errore del bus di servizio in un data center di Azure.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-135">Failure of Service Bus within an Azure datacenter.</span></span> <span data-ttu-id="fa7c8-136">Si tratta di un "Errore irreversibile" durante il quale hello sistema risulta irraggiungibile per vari minuti o alcune ore.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-136">This is a "catastrophic failure" during which hello system is unreachable for many minutes or a few hours.</span></span>

> [!NOTE]
> <span data-ttu-id="fa7c8-137">il termine Hello **archiviazione** può indicare sia archiviazione di Azure e SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-137">hello term **storage** can mean both Azure Storage and SQL Azure.</span></span>
> 
> 

<span data-ttu-id="fa7c8-138">Nel bus di servizio sono disponibili diverse misure di prevenzione per questi problemi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-138">Service Bus contains a number of mitigations for these issues.</span></span> <span data-ttu-id="fa7c8-139">Hello le sezioni seguenti descrivono ogni problema e le relative soluzioni correttive.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-139">hello following sections discuss each issue and their respective mitigations.</span></span>

### <a name="throttling"></a><span data-ttu-id="fa7c8-140">Limitazione</span><span class="sxs-lookup"><span data-stu-id="fa7c8-140">Throttling</span></span>
<span data-ttu-id="fa7c8-141">Nel bus di servizio la limitazione consente la gestione congiunta della frequenza dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-141">With Service Bus, throttling enables cooperative message rate management.</span></span> <span data-ttu-id="fa7c8-142">Ogni singolo nodo del bus di servizio ospita molte entità,</span><span class="sxs-lookup"><span data-stu-id="fa7c8-142">Each individual Service Bus node houses many entities.</span></span> <span data-ttu-id="fa7c8-143">Ognuna delle quali effettua richieste sistema hello in termini di CPU, memoria, archiviazione e altri facet.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-143">Each of those entities makes demands on hello system in terms of CPU, memory, storage, and other facets.</span></span> <span data-ttu-id="fa7c8-144">Quando uno di questi facet individua un utilizzo superiore alla soglia predefinita, il bus di servizio può negare una richiesta specifica.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-144">When any of these facets detects usage that exceeds defined thresholds, Service Bus can deny a given request.</span></span> <span data-ttu-id="fa7c8-145">Hello chiamante riceve un [ServerBusyException] [ ServerBusyException] e ripetizione di tentativi dopo 10 secondi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-145">hello caller receives a [ServerBusyException][ServerBusyException] and retries after 10 seconds.</span></span>

<span data-ttu-id="fa7c8-146">Come prevenzione, codice hello leggere errore hello e bloccare qualsiasi nuovo tentativo del messaggio hello di almeno 10 secondi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-146">As a mitigation, hello code must read hello error and halt any retries of hello message for at least 10 seconds.</span></span> <span data-ttu-id="fa7c8-147">Poiché hello errore può verificarsi in varie parti dell'applicazione hello del cliente, è previsto che ogni parte esegua indipendentemente la logica di riesecuzione hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-147">Since hello error can happen across pieces of hello customer application, it is expected that each piece independently executes hello retry logic.</span></span> <span data-ttu-id="fa7c8-148">codice Hello può ridurre la probabilità hello delle limitazioni abilitando il partizionamento su una coda o argomento.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-148">hello code can reduce hello probability of being throttled by enabling partitioning on a queue or topic.</span></span>

### <a name="issue-for-an-azure-dependency"></a><span data-ttu-id="fa7c8-149">Problema per una dipendenza di Azure</span><span class="sxs-lookup"><span data-stu-id="fa7c8-149">Issue for an Azure dependency</span></span>
<span data-ttu-id="fa7c8-150">Anche per altri componenti di Azure possono occasionalmente verificarsi problemi di servizio.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-150">Other components within Azure can occasionally have service issues.</span></span> <span data-ttu-id="fa7c8-151">Quando, ad esempio, si aggiorna un sistema usato dal bus di servizio, è possibile che il sistema funzioni temporaneamente con capacità limitate.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-151">For example, when a system that Service Bus uses is being upgraded, that system can temporarily experience reduced capabilities.</span></span> <span data-ttu-id="fa7c8-152">toowork intorno a questi tipi di problemi, Service Bus regolarmente analizza e implementa le misure di attenuazione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-152">toowork around these types of issues, Service Bus regularly investigates and implements mitigations.</span></span> <span data-ttu-id="fa7c8-153">È tuttavia possibile che si verifichino effetti collaterali di misure di prevenzione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-153">Side effects of these mitigations do appear.</span></span> <span data-ttu-id="fa7c8-154">Ad esempio, toohandle temporaneo problemi con l'archiviazione, Bus di servizio implementa un sistema che consente di toowork operazioni di invio messaggi in modo coerente.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-154">For example, toohandle transient issues with storage, Service Bus implements a system that allows message send operations toowork consistently.</span></span> <span data-ttu-id="fa7c8-155">A causa di natura toohello di attenuazione hello, un messaggio inviato può richiedere too15 minuti tooappear nella sottoscrizione o coda hello interessato ed essere pronto per un'operazione di ricezione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-155">Due toohello nature of hello mitigation, a sent message can take up too15 minutes tooappear in hello affected queue or subscription and be ready for a receive operation.</span></span> <span data-ttu-id="fa7c8-156">In genere, la maggior parte delle entità non è interessata da questo problema.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-156">Generally speaking, most entities will not experience this issue.</span></span> <span data-ttu-id="fa7c8-157">Tuttavia, dato il numero di hello di entità di Service Bus in Azure, questa soluzione è talvolta necessario per un piccolo subset di clienti Bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-157">However, given hello number of entities in Service Bus within Azure, this mitigation is sometimes needed for a small subset of Service Bus customers.</span></span>

### <a name="service-bus-failure-on-a-single-subsystem"></a><span data-ttu-id="fa7c8-158">Errore del bus di servizio in un singolo sottosistema</span><span class="sxs-lookup"><span data-stu-id="fa7c8-158">Service Bus failure on a single subsystem</span></span>
<span data-ttu-id="fa7c8-159">Con qualsiasi altra applicazione, circostanze possono determinare un componente interno di Service Bus toobecome incoerente.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-159">With any application, circumstances can cause an internal component of Service Bus toobecome inconsistent.</span></span> <span data-ttu-id="fa7c8-160">Quando rileva il Bus di servizio, vengono raccolti dati dal tooaid applicazione hello diagnostici.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-160">When Service Bus detects this, it collects data from hello application tooaid in diagnosing what happened.</span></span> <span data-ttu-id="fa7c8-161">Una volta raccolti i dati di hello, un'applicazione hello viene riavviato in tooreturn un tentativo è stato coerente tooa.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-161">Once hello data is collected, hello application is restarted in an attempt tooreturn it tooa consistent state.</span></span> <span data-ttu-id="fa7c8-162">Questo processo viene eseguito abbastanza velocemente e risultati di un'entità non disponibile per backup tooa toobe alcuni minuti, anche se tipico tempi di inattività sono molto più brevi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-162">This process happens fairly quickly, and results in an entity appearing toobe unavailable for up tooa few minutes, though typical down times are much shorter.</span></span>

<span data-ttu-id="fa7c8-163">In questi casi, un'applicazione hello client genera un [System. TimeoutException] [ System.TimeoutException] o [MessagingException] [ MessagingException] eccezione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-163">In these cases, hello client application generates a [System.TimeoutException][System.TimeoutException] or [MessagingException][MessagingException] exception.</span></span> <span data-ttu-id="fa7c8-164">Bus di servizio è inclusa una soluzione per questo problema in forma di hello di logica di ripetizione dei client automatizzata.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-164">Service Bus contains a mitigation for this issue in hello form of automated client retry logic.</span></span> <span data-ttu-id="fa7c8-165">Una volta allo scadere del periodo tentativi hello e non viene fornito il messaggio hello, è possibile esplorare utilizzando altre funzionalità, ad esempio [associati spazi dei nomi][paired namespaces].</span><span class="sxs-lookup"><span data-stu-id="fa7c8-165">Once hello retry period is exhausted and hello message is not delivered, you can explore using other features such as [paired namespaces][paired namespaces].</span></span> <span data-ttu-id="fa7c8-166">Questi ultimi presentano altri ostacoli che sono illustrati in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-166">Paired namespaces have other caveats that are discussed in that article.</span></span>

### <a name="failure-of-service-bus-within-an-azure-datacenter"></a><span data-ttu-id="fa7c8-167">Errore del bus di servizio in un data center di Azure</span><span class="sxs-lookup"><span data-stu-id="fa7c8-167">Failure of Service Bus within an Azure datacenter</span></span>
<span data-ttu-id="fa7c8-168">motivo più probabile di Hello di un errore in un Data Center di Azure è una distribuzione di aggiornamento non riuscita del Bus di servizio o un sistema dipendente.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-168">hello most probable reason for a failure in an Azure datacenter is a failed upgrade deployment of Service Bus or a dependent system.</span></span> <span data-ttu-id="fa7c8-169">Come piattaforma di hello è stata migliorata, probabilità hello di questo tipo di errori è diminuita.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-169">As hello platform has matured, hello likelihood of this type of failure has diminished.</span></span> <span data-ttu-id="fa7c8-170">Un problema del Data Center può verificarsi anche per i motivi includono hello seguenti:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-170">A datacenter failure can also happen for reasons that include hello following:</span></span>

* <span data-ttu-id="fa7c8-171">Interruzione elettrica (arresto di alimentazione e produzione di energia).</span><span class="sxs-lookup"><span data-stu-id="fa7c8-171">Electrical outage (power supply and generating power disappear).</span></span>
* <span data-ttu-id="fa7c8-172">Connettività (interruzione della connessione Internet tra i client e Azure).</span><span class="sxs-lookup"><span data-stu-id="fa7c8-172">Connectivity (internet break between your clients and Azure).</span></span>

<span data-ttu-id="fa7c8-173">In entrambi i casi, un'emergenza naturale o a causa di hello problema.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-173">In both cases, a natural or man-made disaster caused hello issue.</span></span> <span data-ttu-id="fa7c8-174">toowork il problema e assicurarsi che è comunque possibile inviare messaggi, è possibile utilizzare [associati spazi dei nomi] [ paired namespaces] tooenable messaggi toobe inviati tooa seconda posizione, mentre la posizione primaria hello viene reso nuovamente integro.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-174">toowork around this and make sure that you can still send messages, you can use [paired namespaces][paired namespaces] tooenable messages toobe sent tooa second location while hello primary location is made healthy again.</span></span> <span data-ttu-id="fa7c8-175">Per altre informazioni, vedere [Procedure consigliate per isolare le applicazioni del bus di servizio da interruzioni ed emergenze del servizio][Best practices for insulating applications against Service Bus outages and disasters].</span><span class="sxs-lookup"><span data-stu-id="fa7c8-175">For more information, see [Best practices for insulating applications against Service Bus outages and disasters][Best practices for insulating applications against Service Bus outages and disasters].</span></span>

## <a name="paired-namespaces"></a><span data-ttu-id="fa7c8-176">Spazi dei nomi associati</span><span class="sxs-lookup"><span data-stu-id="fa7c8-176">Paired namespaces</span></span>
<span data-ttu-id="fa7c8-177">Hello [associati spazi dei nomi] [ paired namespaces] funzionalità supporta scenari in cui una distribuzione in un data center o entità del Bus di servizio non è più disponibile.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-177">hello [paired namespaces][paired namespaces] feature supports scenarios in which a Service Bus entity or deployment within a data center becomes unavailable.</span></span> <span data-ttu-id="fa7c8-178">Durante questo evento si verifica raramente, i sistemi distribuiti ancora devono essere preparati toohandle peggiore dei casi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-178">While this event occurs infrequently, distributed systems still must be prepared toohandle worst case scenarios.</span></span> <span data-ttu-id="fa7c8-179">In genere, questo tipo di evento si verifica perché in qualche elemento dal quale dipende il bus di servizio avviene un problema di breve durata.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-179">Typically, this event happens because some element on which Service Bus depends is experiencing a short-term issue.</span></span> <span data-ttu-id="fa7c8-180">la disponibilità dell'applicazione toomaintain durante un'interruzione, Bus di servizio gli utenti può usare due separati spazi dei nomi, preferibilmente in centri dati toohost le entità di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-180">toomaintain application availability during an outage, Service Bus users can use two separate namespaces, preferably in separate data centers, toohost their messaging entities.</span></span> <span data-ttu-id="fa7c8-181">resto Hello di questa sezione utilizza hello seguente terminologia:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-181">hello remainder of this section uses hello following terminology:</span></span>

* <span data-ttu-id="fa7c8-182">Spazio dei nomi primario: hello dello spazio dei nomi con cui interagisce l'applicazione, per l'invio e operazioni di ricezione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-182">Primary namespace: hello namespace with which your application interacts, for send and receive operations.</span></span>
* <span data-ttu-id="fa7c8-183">Spazio dei nomi secondario: hello dello spazio dei nomi che funge da uno spazio dei nomi primario di toohello backup.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-183">Secondary namespace: hello namespace that acts as a backup toohello primary namespace.</span></span> <span data-ttu-id="fa7c8-184">La logica dell'applicazione non interagisce con questo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-184">Application logic does not interact with this namespace.</span></span>
* <span data-ttu-id="fa7c8-185">Intervallo di failover: quantità di hello di errori di normale tooaccept tempo prima di un'applicazione hello passa da hello spazio dei nomi primario toohello secondario dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-185">Failover interval: hello amount of time tooaccept normal failures before hello application switches from hello primary namespace toohello secondary namespace.</span></span>

<span data-ttu-id="fa7c8-186">Gli spazi dei nomi associati supportano *sendavailability*,</span><span class="sxs-lookup"><span data-stu-id="fa7c8-186">Paired namespaces support *send availability*.</span></span> <span data-ttu-id="fa7c8-187">Inviare disponibilità conserva messaggi toosend possibilità di hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-187">Send availability preserves hello ability toosend messages.</span></span> <span data-ttu-id="fa7c8-188">toouse sendavailability, l'applicazione deve soddisfare hello seguenti requisiti:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-188">toouse send availability, your application must meet hello following requirements:</span></span>

1. <span data-ttu-id="fa7c8-189">I messaggi vengono ricevuti solo dallo spazio dei nomi primario hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-189">Messages are only received from hello primary namespace.</span></span>
2. <span data-ttu-id="fa7c8-190">I messaggi inviati tooa coda o argomento specificato può arrivare senza ordine.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-190">Messages sent tooa given queue or topic might arrive out of order.</span></span>
3. <span data-ttu-id="fa7c8-191">I messaggi in una sessione possono arrivare senza un ordine preciso.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-191">Messages within a session might arrive out of order.</span></span> <span data-ttu-id="fa7c8-192">Questa è un'interruzione rispetto alla normale funzionalità delle sessioni,</span><span class="sxs-lookup"><span data-stu-id="fa7c8-192">This is a break from normal functionality of sessions.</span></span> <span data-ttu-id="fa7c8-193">Ciò significa che l'applicazione usa le sessioni toologically raggruppare i messaggi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-193">This means that your application uses sessions toologically group messages.</span></span>
4. <span data-ttu-id="fa7c8-194">Lo stato della sessione viene mantenuto solo nello spazio dei nomi primario hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-194">Session state is only maintained on hello primary namespace.</span></span>
5. <span data-ttu-id="fa7c8-195">la coda primaria Hello può portare in linea e iniziare ad accettare messaggi prima che la coda secondaria hello offre tutti i messaggi in coda primaria hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-195">hello primary queue can come online and start accepting messages before hello secondary queue delivers all messages into hello primary queue.</span></span>

<span data-ttu-id="fa7c8-196">Hello le sezioni seguenti descrivono hello API, le modalità di implementazione delle API hello e codice di esempio mostra che usa la funzionalità di hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-196">hello following sections discuss hello APIs, how hello APIs are implemented, and shows sample code that uses hello feature.</span></span> <span data-ttu-id="fa7c8-197">Si noti che a questa funzionalità sono associati costi di fatturazione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-197">Note that there are billing implications associated with this feature.</span></span>

### <a name="hello-messagingfactorypairnamespaceasync-api"></a><span data-ttu-id="fa7c8-198">Hello API messagingfactory. Pairnamespaceasync</span><span class="sxs-lookup"><span data-stu-id="fa7c8-198">hello MessagingFactory.PairNamespaceAsync API</span></span>
<span data-ttu-id="fa7c8-199">funzionalità di spazi dei nomi abbinati Hello include hello [PairNamespaceAsync] [ PairNamespaceAsync] metodo hello [Microsoft.ServiceBus.Messaging.MessagingFactory] [ Microsoft.ServiceBus.Messaging.MessagingFactory] classe:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-199">hello paired namespaces feature includes hello [PairNamespaceAsync][PairNamespaceAsync] method on hello [Microsoft.ServiceBus.Messaging.MessagingFactory][Microsoft.ServiceBus.Messaging.MessagingFactory] class:</span></span>

```csharp
public Task PairNamespaceAsync(PairedNamespaceOptions options);
```

<span data-ttu-id="fa7c8-200">Al termine dell'attività hello, hello l'associazione dello spazio dei nomi è completo e pronto tooact al momento per qualsiasi [MessageReceiver][MessageReceiver], [QueueClient] [ QueueClient], o [TopicClient] [ TopicClient] creato con hello [MessagingFactory] [ MessagingFactory] istanza.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-200">When hello task completes, hello namespace pairing is also complete and ready tooact upon for any [MessageReceiver][MessageReceiver], [QueueClient][QueueClient], or [TopicClient][TopicClient] created with hello [MessagingFactory][MessagingFactory] instance.</span></span> <span data-ttu-id="fa7c8-201">[Microsoft.ServiceBus.Messaging.PairedNamespaceOptions] [ Microsoft.ServiceBus.Messaging.PairedNamespaceOptions] è la classe base hello per hello diversi tipi di associazione che sono disponibili con un [MessagingFactory] [ MessagingFactory] oggetto.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-201">[Microsoft.ServiceBus.Messaging.PairedNamespaceOptions][Microsoft.ServiceBus.Messaging.PairedNamespaceOptions] is hello base class for hello different types of pairing that are available with a [MessagingFactory][MessagingFactory] object.</span></span> <span data-ttu-id="fa7c8-202">Attualmente, hello solo derivata è denominata [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions], che implementa i requisiti di disponibilità di trasmissione hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-202">Currently, hello only derived class is one named [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions], which implements hello send availability requirements.</span></span> <span data-ttu-id="fa7c8-203">La classe [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] include un set di costruttori che si basano tra loro.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-203">[SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] has a set of constructors that build on each other.</span></span> <span data-ttu-id="fa7c8-204">Analizzando di costruttore hello con hello la maggior parte dei parametri, è possibile comprendere il comportamento di hello di hello altri costruttori.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-204">Looking at hello constructor with hello most parameters, you can understand hello behavior of hello other constructors.</span></span>

```csharp
public SendAvailabilityPairedNamespaceOptions(
    NamespaceManager secondaryNamespaceManager,
    MessagingFactory messagingFactory,
    int backlogQueueCount,
    TimeSpan failoverInterval,
    bool enableSyphon)
```

<span data-ttu-id="fa7c8-205">Questi parametri sono hello seguenti significati:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-205">These parameters have hello following meanings:</span></span>

* <span data-ttu-id="fa7c8-206">*secondaryNamespaceManager*: un oggetto inizializzato [NamespaceManager] [ NamespaceManager] istanza per spazio dei nomi secondario hello che hello [PairNamespaceAsync] [ PairNamespaceAsync] metodo può utilizzare tooset spazio dei nomi secondario hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-206">*secondaryNamespaceManager*: An initialized [NamespaceManager][NamespaceManager] instance for hello secondary namespace that hello [PairNamespaceAsync][PairNamespaceAsync] method can use tooset up hello secondary namespace.</span></span> <span data-ttu-id="fa7c8-207">gestione dello spazio dei nomi Hello è code nello spazio dei nomi hello e assicurarsi che esistano le code di backlog necessarie hello toomake elenco hello tooobtain utilizzato.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-207">hello namespace manager is used tooobtain hello list of queues in hello namespace and toomake sure that hello required backlog queues exist.</span></span> <span data-ttu-id="fa7c8-208">Se le code non esistono, vengono create.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-208">If those queues do not exist, they are created.</span></span> <span data-ttu-id="fa7c8-209">[NamespaceManager] [ NamespaceManager] richiede hello possibilità toocreate un token con hello **Gestisci** attestazione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-209">[NamespaceManager][NamespaceManager] requires hello ability toocreate a token with hello **Manage** claim.</span></span>
* <span data-ttu-id="fa7c8-210">*messagingFactory*: hello [MessagingFactory] [ MessagingFactory] istanza per spazio dei nomi secondario hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-210">*messagingFactory*: hello [MessagingFactory][MessagingFactory] instance for hello secondary namespace.</span></span> <span data-ttu-id="fa7c8-211">Hello [MessagingFactory] [ MessagingFactory] oggetto è toosend utilizzato e, se hello [EnableSyphon] [ EnableSyphon] impostata troppo**true** , ricevere messaggi dalle code di backlog hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-211">hello [MessagingFactory][MessagingFactory] object is used toosend and, if hello [EnableSyphon][EnableSyphon] property is set too**true**, receive messages from hello backlog queues.</span></span>
* <span data-ttu-id="fa7c8-212">*backlogqueuecount*: numero di hello del backlog Accoda toocreate.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-212">*backlogQueueCount*: hello number of backlog queues toocreate.</span></span> <span data-ttu-id="fa7c8-213">Il valore deve essere almeno 1.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-213">This value must be at least 1.</span></span> <span data-ttu-id="fa7c8-214">Quando si inviano backlog toohello messaggi, viene scelta casualmente una di queste code.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-214">When sending messages toohello backlog, one of these queues is randomly chosen.</span></span> <span data-ttu-id="fa7c8-215">Se si imposta too1 valore hello, solo una coda può quindi mai essere utilizzata.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-215">If you set hello value too1, then only one queue can ever be used.</span></span> <span data-ttu-id="fa7c8-216">Quando ciò si verifica e hello unica coda di backlog genera errori, il client di hello non è in grado di tootry un'altra coda e potrebbe non riuscire toosend il messaggio.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-216">When this happens and hello one backlog queue generates errors, hello client is not able tootry a different backlog queue and may fail toosend your message.</span></span> <span data-ttu-id="fa7c8-217">È consigliabile impostare questo valore toosome più grande valore e predefinito hello valore too10.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-217">We recommend setting this value toosome larger value and default hello value too10.</span></span> <span data-ttu-id="fa7c8-218">È possibile modificare questo tooa superiore oppure un valore inferiore a seconda della quantità di dati, l'applicazione invia al giorno.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-218">You can change this tooa higher or lower value depending on how much data your application sends per day.</span></span> <span data-ttu-id="fa7c8-219">Ogni coda di backlog può contenere too5 GB di messaggi.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-219">Each backlog queue can hold up too5 GB of messages.</span></span>
* <span data-ttu-id="fa7c8-220">*failoverInterval*: hello quantità di tempo durante i quali vengono accettati gli errori di spazio dei nomi primario hello prima di passare qualsiasi entità singola su spazio dei nomi secondario toohello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-220">*failoverInterval*: hello amount of time during which you will accept failures on hello primary namespace before switching any single entity over toohello secondary namespace.</span></span> <span data-ttu-id="fa7c8-221">I failover si verificano su un'entità alla volta.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-221">Failovers occur on an entity-by-entity basis.</span></span> <span data-ttu-id="fa7c8-222">Le entità in un singolo spazio dei nomi di solito risiedono in nodi diversi del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-222">Entities in a single namespace frequently live in different nodes within Service Bus.</span></span> <span data-ttu-id="fa7c8-223">Un errore in un'entità non implica che si verifichi in un'altra entità.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-223">A failure in one entity does not imply a failure in another.</span></span> <span data-ttu-id="fa7c8-224">È possibile impostare questo valore troppo[TimeSpan] [ System.TimeSpan.Zero] toohello toofailover secondario immediatamente dopo il primo errore non temporaneo.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-224">You can set this value too[System.TimeSpan.Zero][System.TimeSpan.Zero] toofailover toohello secondary immediately after your first, non-transient failure.</span></span> <span data-ttu-id="fa7c8-225">Gli errori che attivano il timer di failover hello sono stati [MessagingException] [ MessagingException] in cui hello [IsTransient] [ IsTransient] proprietà è false, o [System. TimeoutException][System.TimeoutException].</span><span class="sxs-lookup"><span data-stu-id="fa7c8-225">Failures that trigger hello failover timer are any [MessagingException][MessagingException] in which hello [IsTransient][IsTransient] property is false, or a [System.TimeoutException][System.TimeoutException].</span></span> <span data-ttu-id="fa7c8-226">Altre eccezioni, ad esempio [UnauthorizedAccessException] [ UnauthorizedAccessException] non causano il failover, perché indicano che il client hello è configurato in modo non corretto.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-226">Other exceptions, such as [UnauthorizedAccessException][UnauthorizedAccessException] do not cause failover, because they indicate that hello client is configured incorrectly.</span></span> <span data-ttu-id="fa7c8-227">Oggetto [ServerBusyException] [ ServerBusyException] causa il failover perché hello è toowait 10 secondi, quindi invia il messaggio hello nuovamente.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-227">A [ServerBusyException][ServerBusyException] does not cause failover because hello correct pattern is toowait 10 seconds, then send hello message again.</span></span>
* <span data-ttu-id="fa7c8-228">*enableSyphon*: indica che l'associazione specificata deve sifone messaggi dallo spazio dei nomi primario di back-toohello spazio dei nomi secondario hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-228">*enableSyphon*: Indicates that this particular pairing should also syphon messages from hello secondary namespace back toohello primary namespace.</span></span> <span data-ttu-id="fa7c8-229">In generale, le applicazioni che inviano i messaggi devono impostare questo valore troppo**false**; le applicazioni che ricevono i messaggi devono impostare questo valore troppo**true**.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-229">In general, applications that send messages should set this value too**false**; applications that receive messages should set this value too**true**.</span></span> <span data-ttu-id="fa7c8-230">Hello questo accade spesso, sono presenti destinatari dei messaggi è inferiore a quello dei mittenti.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-230">hello reason for this is that frequently, there are fewer message receivers than message senders.</span></span> <span data-ttu-id="fa7c8-231">In base al numero di hello di ricevitori, è possibile scegliere toohave un'attività del sifone hello handle di istanza singola applicazione.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-231">Depending on hello number of receivers, you can choose toohave a single application instance handle hello syphon duties.</span></span> <span data-ttu-id="fa7c8-232">All'uso di più destinatari sono associati costi di fatturazione per ogni coda di backlog.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-232">Using many receivers has billing implications for each backlog queue.</span></span>

<span data-ttu-id="fa7c8-233">toouse hello codice, creare un database primario [MessagingFactory] [ MessagingFactory] istanza, un database secondario [MessagingFactory] [ MessagingFactory] istanza, un database secondario [NamespaceManager] [ NamespaceManager] istanza e un [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] istanza.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-233">toouse hello code, create a primary [MessagingFactory][MessagingFactory] instance, a secondary [MessagingFactory][MessagingFactory] instance, a secondary [NamespaceManager][NamespaceManager] instance, and a [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance.</span></span> <span data-ttu-id="fa7c8-234">chiamata di Hello può essere semplice come riportato di seguito hello:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-234">hello call can be as simple as hello following:</span></span>

```csharp
SendAvailabilityPairedNamespaceOptions sendAvailabilityOptions = new SendAvailabilityPairedNamespaceOptions(secondaryNamespaceManager, secondary);
primary.PairNamespaceAsync(sendAvailabilityOptions).Wait();
```

<span data-ttu-id="fa7c8-235">Hello quando l'attività restituita da hello [PairNamespaceAsync] [ PairNamespaceAsync] metodo viene completato, tutto ciò che viene configurato e pronto toouse.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-235">When hello task returned by hello [PairNamespaceAsync][PairNamespaceAsync] method completes, everything is set up and ready toouse.</span></span> <span data-ttu-id="fa7c8-236">Prima che venga restituito attività hello, si potrebbe non aver completato tutte attività in background hello necessarie per l'abbinamento toowork destra hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-236">Before hello task is returned, you may not have completed all of hello background work necessary for hello pairing toowork right.</span></span> <span data-ttu-id="fa7c8-237">Di conseguenza, non deve iniziare l'invio di messaggi fino a quando l'attività hello restituisce.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-237">As a result, you should not start sending messages until hello task returns.</span></span> <span data-ttu-id="fa7c8-238">Se si sono verificati eventuali errori, ad esempio credenziali errate o code di backlog per errore toocreate hello, tali eccezioni verranno generate al termine dell'attività hello.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-238">If any failures occurred, such as bad credentials, or failure toocreate hello backlog queues, those exceptions will be thrown once hello task completes.</span></span> <span data-ttu-id="fa7c8-239">Restituisce l'attività hello, verificare che le code di hello sono state trovate o create esaminando hello [backlogqueuecount] [ BacklogQueueCount] proprietà il [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] istanza.</span><span class="sxs-lookup"><span data-stu-id="fa7c8-239">Once hello task returns, verify that hello queues were found or created by examining hello [BacklogQueueCount][BacklogQueueCount] property on your [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance.</span></span> <span data-ttu-id="fa7c8-240">Per hello codice precedente, questa operazione viene visualizzata come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="fa7c8-240">For hello preceding code, that operation appears as follows:</span></span>

```csharp
if (sendAvailabilityOptions.BacklogQueueCount < 1)
{
    // Handle case where no queues were created.
}
```

## <a name="next-steps"></a><span data-ttu-id="fa7c8-241">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="fa7c8-241">Next steps</span></span>
<span data-ttu-id="fa7c8-242">Dopo aver appreso nozioni di base di hello di messaggistica asincrona nel Bus di servizio, leggere ulteriori informazioni su [associati spazi dei nomi][paired namespaces].</span><span class="sxs-lookup"><span data-stu-id="fa7c8-242">Now that you've learned hello basics of asynchronous messaging in Service Bus, read more details about [paired namespaces][paired namespaces].</span></span>

[ServerBusyException]: /dotnet/api/microsoft.servicebus.messaging.serverbusyexception
[System.TimeoutException]: https://msdn.microsoft.com/library/system.timeoutexception.aspx
[MessagingException]: /dotnet/api/microsoft.servicebus.messaging.messagingexception
[Best practices for insulating applications against Service Bus outages and disasters]: service-bus-outages-disasters.md
[Microsoft.ServiceBus.Messaging.MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[MessageReceiver]: /dotnet/api/microsoft.servicebus.messaging.messagereceiver
[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[TopicClient]: /dotnet/api/microsoft.servicebus.messaging.topicclient
[Microsoft.ServiceBus.Messaging.PairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.pairednamespaceoptions
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[SendAvailabilityPairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions
[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager
[PairNamespaceAsync]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_PairNamespaceAsync_Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_
[EnableSyphon]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_EnableSyphon
[System.TimeSpan.Zero]: https://msdn.microsoft.com/library/system.timespan.zero.aspx
[IsTransient]: /dotnet/api/microsoft.servicebus.messaging.messagingexception#Microsoft_ServiceBus_Messaging_MessagingException_IsTransient
[UnauthorizedAccessException]: https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx
[BacklogQueueCount]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions?redirectedfrom=MSDN#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_BacklogQueueCount
[paired namespaces]: service-bus-paired-namespaces.md
