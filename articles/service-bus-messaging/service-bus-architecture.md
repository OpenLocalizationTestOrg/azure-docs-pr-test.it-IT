---
title: messaggio del Bus di servizio aaaAzure panoramica dell'architettura di elaborazione | Documenti Microsoft
description: Descrive l'architettura di elaborazione di messaggi hello del Bus di servizio di Azure.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: f7606e40cdf6db3797a0db2de9365453ff2a158e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-architecture"></a><span data-ttu-id="eb800-103">Architettura del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="eb800-103">Service Bus architecture</span></span>
<span data-ttu-id="eb800-104">Questo articolo descrive l'architettura di elaborazione di messaggi hello del Bus di servizio di Azure.</span><span class="sxs-lookup"><span data-stu-id="eb800-104">This article describes hello message processing architecture of Azure Service Bus.</span></span>

## <a name="service-bus-scale-units"></a><span data-ttu-id="eb800-105">Unità di scala del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="eb800-105">Service Bus scale units</span></span>
<span data-ttu-id="eb800-106">Il bus di servizio è organizzato in base a *unità di scala*.</span><span class="sxs-lookup"><span data-stu-id="eb800-106">Service Bus is organized by *scale units*.</span></span> <span data-ttu-id="eb800-107">Un'unità di scala è un'unità di distribuzione che contiene tutti i componenti necessari hello esecuzione di un servizio.</span><span class="sxs-lookup"><span data-stu-id="eb800-107">A scale unit is a unit of deployment and contains all components required run hello service.</span></span> <span data-ttu-id="eb800-108">Ogni area distribuisce una o più unità di scala del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="eb800-108">Each region deploys one or more Service Bus scale units.</span></span>

<span data-ttu-id="eb800-109">Uno spazio dei nomi del Bus di servizio è l'unità di scala tooa mappato.</span><span class="sxs-lookup"><span data-stu-id="eb800-109">A Service Bus namespace is mapped tooa scale unit.</span></span> <span data-ttu-id="eb800-110">unità di scala Hello gestisce tutti i tipi di entità del Bus di servizio (code, argomenti, sottoscrizioni).</span><span class="sxs-lookup"><span data-stu-id="eb800-110">hello scale unit handles all types of Service Bus entities (queues, topics, subscriptions).</span></span> <span data-ttu-id="eb800-111">Un'unità di scala del Bus di servizio è costituito da hello seguenti componenti:</span><span class="sxs-lookup"><span data-stu-id="eb800-111">A Service Bus scale unit consists of hello following components:</span></span>

* <span data-ttu-id="eb800-112">**Un set di nodi del gateway.**</span><span class="sxs-lookup"><span data-stu-id="eb800-112">**A set of gateway nodes.**</span></span> <span data-ttu-id="eb800-113">I nodi del gateway autenticano le richieste in ingresso.</span><span class="sxs-lookup"><span data-stu-id="eb800-113">Gateway nodes authenticate incoming requests.</span></span> <span data-ttu-id="eb800-114">Ogni nodo del gateway ha un indirizzo IP pubblico.</span><span class="sxs-lookup"><span data-stu-id="eb800-114">Each gateway node has a public IP address.</span></span>
* <span data-ttu-id="eb800-115">**Un set di nodi del broker di messaggistica.**</span><span class="sxs-lookup"><span data-stu-id="eb800-115">**A set of messaging broker nodes.**</span></span> <span data-ttu-id="eb800-116">I nodi del broker di messaggistica elaborano le richieste relative alle entità di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="eb800-116">Messaging broker nodes process requests concerning messaging entities.</span></span>
* <span data-ttu-id="eb800-117">**Un archivio del gateway.**</span><span class="sxs-lookup"><span data-stu-id="eb800-117">**One gateway store.**</span></span> <span data-ttu-id="eb800-118">archivio gateway Hello contiene i dati di hello per ogni entità per cui è definito in questa unità di scala.</span><span class="sxs-lookup"><span data-stu-id="eb800-118">hello gateway store holds hello data for every entity that is defined in this scale unit.</span></span> <span data-ttu-id="eb800-119">archivio gateway Hello è implementato su un database SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="eb800-119">hello gateway store is implemented on top of a SQL Azure database.</span></span>
* <span data-ttu-id="eb800-120">**Più archivi di messaggistica.**</span><span class="sxs-lookup"><span data-stu-id="eb800-120">**Multiple messaging stores.**</span></span> <span data-ttu-id="eb800-121">Archivi di messaggistica contengono messaggi hello di tutte le code, argomenti e sottoscrizioni che sono definite in questa unità di scala.</span><span class="sxs-lookup"><span data-stu-id="eb800-121">Messaging stores hold hello messages of all queues, topics and subscriptions that are defined in this scale unit.</span></span> <span data-ttu-id="eb800-122">Contiene anche tutti i dati di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="eb800-122">It also contains all subscription data.</span></span> <span data-ttu-id="eb800-123">A meno che non [il partizionamento delle entità di messaggistica](service-bus-partitioning.md) è abilitato, è una coda o argomento archivio di messaggistica tooone mappato.</span><span class="sxs-lookup"><span data-stu-id="eb800-123">Unless [partitioning messaging entities](service-bus-partitioning.md) is enabled, a queue or topic is mapped tooone messaging store.</span></span> <span data-ttu-id="eb800-124">Le sottoscrizioni vengono archiviate in hello stesso archivio di messaggistica come l'argomento padre.</span><span class="sxs-lookup"><span data-stu-id="eb800-124">Subscriptions are stored in hello same messaging store as their parent topic.</span></span> <span data-ttu-id="eb800-125">Ad eccezione di Service Bus [messaggistica Premium](service-bus-premium-messaging.md), archivi di messaggistica hello vengono implementati nel database di SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="eb800-125">Except for Service Bus [Premium Messaging](service-bus-premium-messaging.md), hello messaging stores are implemented on top of SQL Azure databases.</span></span>

## <a name="containers"></a><span data-ttu-id="eb800-126">Contenitori</span><span class="sxs-lookup"><span data-stu-id="eb800-126">Containers</span></span>
<span data-ttu-id="eb800-127">A ciascuna entità di messaggistica viene assegnato un contenitore specifico.</span><span class="sxs-lookup"><span data-stu-id="eb800-127">Each messaging entity is assigned a specific container.</span></span> <span data-ttu-id="eb800-128">Un contenitore è un costrutto logico che utilizza un solo toostore archivio messaggistica tutti i dati per questo contenitore.</span><span class="sxs-lookup"><span data-stu-id="eb800-128">A container is a logical construct that uses exactly one messaging store toostore all relevant data for this container.</span></span> <span data-ttu-id="eb800-129">Ogni contenitore viene assegnato tooa nodo broker di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="eb800-129">Each container is assigned tooa messaging broker node.</span></span> <span data-ttu-id="eb800-130">In genere, esistono più contenitori che nodi del broker di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="eb800-130">Typically, there are more containers than messaging broker nodes.</span></span> <span data-ttu-id="eb800-131">Pertanto, ogni nodo del broker di messaggistica carica più contenitori.</span><span class="sxs-lookup"><span data-stu-id="eb800-131">Therefore, each messaging broker node loads multiple containers.</span></span> <span data-ttu-id="eb800-132">distribuzione di Hello del nodo broker di contenitori tooa messaggistica è organizzata in modo che tutti i nodi broker di messaggistica vengono caricati in modo uniforme.</span><span class="sxs-lookup"><span data-stu-id="eb800-132">hello distribution of containers tooa messaging broker node is organized such that all messaging broker nodes are equally loaded.</span></span> <span data-ttu-id="eb800-133">Se le modifiche al modello di carico hello (ad esempio, uno di hello contenitori ottiene molto occupati) o se un nodo broker di messaggistica diventa temporaneamente non disponibile, hello contenitori vengono ridistribuiti tra hello nodi broker di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="eb800-133">If hello load pattern changes (for example, one of hello containers gets very busy), or if a messaging broker node becomes temporarily unavailable, hello containers are redistributed among hello messaging broker nodes.</span></span>

## <a name="processing-of-incoming-messaging-requests"></a><span data-ttu-id="eb800-134">Elaborazione delle richieste di messaggistica in ingresso</span><span class="sxs-lookup"><span data-stu-id="eb800-134">Processing of incoming messaging requests</span></span>
<span data-ttu-id="eb800-135">Quando un client invia un tooService richiesta Bus, servizio di bilanciamento del carico di Azure hello instrada tooany dei nodi gateway hello.</span><span class="sxs-lookup"><span data-stu-id="eb800-135">When a client sends a request tooService Bus, hello Azure load balancer routes it tooany of hello gateway nodes.</span></span> <span data-ttu-id="eb800-136">nodo gateway Hello autorizza la richiesta di hello.</span><span class="sxs-lookup"><span data-stu-id="eb800-136">hello gateway node authorizes hello request.</span></span> <span data-ttu-id="eb800-137">Se la richiesta hello relativo a un'entità di messaggistica (coda, argomento o sottoscrizione), il nodo di gateway hello cerca entità hello nell'archivio gateway hello e determina in quali hello archivio messaggistica entità si trova.</span><span class="sxs-lookup"><span data-stu-id="eb800-137">If hello request concerns a messaging entity (queue, topic, subscription), hello gateway node looks up hello entity in hello gateway store and determines in which messaging store hello entity is located.</span></span> <span data-ttu-id="eb800-138">Cerca quindi il nodo broker di messaggistica è attualmente la manutenzione di questo contenitore e invia hello richiesta toothat nodo broker di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="eb800-138">It then looks up which messaging broker node is currently servicing this container, and sends hello request toothat messaging broker node.</span></span> <span data-ttu-id="eb800-139">Hello nodo broker di messaggistica Elabora richiesta hello e gli aggiornamenti di stato dell'entità hello nell'archivio di contenitore hello.</span><span class="sxs-lookup"><span data-stu-id="eb800-139">hello messaging broker node processes hello request and updates hello entity state in hello container store.</span></span> <span data-ttu-id="eb800-140">Hello quindi il nodo broker di messaggistica invia hello risposta toohello indietro nodo gateway, che invia un client di back-toohello risposta appropriata che hello emesso la richiesta originale.</span><span class="sxs-lookup"><span data-stu-id="eb800-140">hello messaging broker node then sends hello response back toohello gateway node, which sends an appropriate response back toohello client that issued hello original request.</span></span>

![Elaborazione delle richieste di messaggistica in ingresso](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a><span data-ttu-id="eb800-142">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="eb800-142">Next steps</span></span>
<span data-ttu-id="eb800-143">Ora che si è lette una panoramica dell'architettura di Service Bus, hello seguenti collegamenti per ulteriori informazioni, visitare:</span><span class="sxs-lookup"><span data-stu-id="eb800-143">Now that you've read an overview of Service Bus architecture, visit hello following links for more information:</span></span>

* [<span data-ttu-id="eb800-144">Panoramica della messaggistica del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="eb800-144">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="eb800-145">Dati fondamentali del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="eb800-145">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="eb800-146">Una soluzione di messaggistica accodata che usa le code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="eb800-146">A queued messaging solution using Service Bus queues</span></span>](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)


