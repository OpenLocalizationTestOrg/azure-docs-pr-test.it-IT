---
title: aaaScale un'infrastruttura del servizio cluster in o out | Documenti Microsoft
description: "Ridimensionare un cluster di Service Fabric in o out toomatch richiesta impostando le regole di scalabilità automatica per ogni set di scalabilità macchina/virtuale di tipo di nodo. Aggiungere o rimuovere nodi tooa dell'infrastruttura del servizio cluster"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 37cfeaf80edc016cf6de017d1c2dc6fbcb8acc2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="01a64-104">Aumentare o ridurre le istanze del cluster di Service Fabric con le regole di scalabilità automatica</span><span class="sxs-lookup"><span data-stu-id="01a64-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="01a64-105">Set di scalabilità di macchine virtuali sono una risorsa di calcolo di Azure che è possibile utilizzare toodeploy e gestire una raccolta di macchine virtuali come un set.</span><span class="sxs-lookup"><span data-stu-id="01a64-105">Virtual machine scale sets are an Azure compute resource that you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="01a64-106">Ogni tipo di nodo definito in un cluster di Service Fabric viene configurato come set di scalabilità di macchine virtuali distinto.</span><span class="sxs-lookup"><span data-stu-id="01a64-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="01a64-107">Ogni tipo di nodo può quindi essere aumentato o ridotto in modo indipendente, avere diversi set di porte aperte e avere metriche per la capacità diverse.</span><span class="sxs-lookup"><span data-stu-id="01a64-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="01a64-108">Ulteriori informazioni in hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) documento.</span><span class="sxs-lookup"><span data-stu-id="01a64-108">Read more about it in hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="01a64-109">Poiché hello Service Fabric tipi di nodi del cluster sono costituiti da set di scalabilità di macchine virtuali nel back-end hello, è necessario tooset le regole di scalabilità automatica per ogni set di scalabilità macchina/virtuale di tipo di nodo.</span><span class="sxs-lookup"><span data-stu-id="01a64-109">Since hello Service Fabric node types in your cluster are made of Virtual Machine scale sets at hello backend, you need tooset up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="01a64-110">La sottoscrizione deve avere sufficiente tooadd core hello nuove macchine virtuali che costituiscono il cluster.</span><span class="sxs-lookup"><span data-stu-id="01a64-110">Your subscription must have enough cores tooadd hello new VMs that make up this cluster.</span></span> <span data-ttu-id="01a64-111">Non è attualmente alcuna convalida del modello in modo da ottenere un errore in fase di distribuzione, se uno qualsiasi dei limiti di quota hello raggiunti.</span><span class="sxs-lookup"><span data-stu-id="01a64-111">There is no model validation currently, so you get a deployment time failure, if any of hello quota limits are hit.</span></span>
> 
> 

## <a name="choose-hello-node-typevirtual-machine-scale-set-tooscale"></a><span data-ttu-id="01a64-112">Scegliere tipo nodo hello/virtuale scalabilità della macchina impostare tooscale</span><span class="sxs-lookup"><span data-stu-id="01a64-112">Choose hello node type/Virtual Machine scale set tooscale</span></span>
<span data-ttu-id="01a64-113">Attualmente, non le regole di scalabilità automatica hello in grado di toospecify per set di scalabilità di macchine virtuali tramite il portale di hello, pertanto consentire di utilizzare i tipi di nodo di Azure PowerShell (1.0 +) toolist hello e quindi aggiungere toothem regole di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="01a64-113">Currently, you are not able toospecify hello auto-scale rules for Virtual Machine scale sets using hello portal, so let us use Azure PowerShell (1.0+) toolist hello node types and then add auto-scale rules toothem.</span></span>

<span data-ttu-id="01a64-114">elenco di hello tooget della macchina virtuale, set di scalabilità che costituiscono il cluster, eseguire hello seguente cmdlet:</span><span class="sxs-lookup"><span data-stu-id="01a64-114">tooget hello list of Virtual Machine scale set that make up your cluster, run hello following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-hello-node-typevirtual-machine-scale-set"></a><span data-ttu-id="01a64-115">Impostare le regole di ridimensionamento automatico per set di scalabilità macchina virtuale di tipo/nodo hello</span><span class="sxs-lookup"><span data-stu-id="01a64-115">Set auto-scale rules for hello node type/Virtual Machine scale set</span></span>
<span data-ttu-id="01a64-116">Se il cluster con più tipi di nodo, quindi ripetere l'operazione per ogni tipi di nodo/virtuale scalabilità della macchina imposta che si desidera tooscale (in o out).</span><span class="sxs-lookup"><span data-stu-id="01a64-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want tooscale (in or out).</span></span> <span data-ttu-id="01a64-117">Prendere in numero di account hello di nodi che è necessario disporre prima di configurare la scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="01a64-117">Take into account hello number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="01a64-118">numero minimo di Hello di nodi che è necessario che per il tipo di nodo primario hello viene gestita dal livello di affidabilità hello scelto.</span><span class="sxs-lookup"><span data-stu-id="01a64-118">hello minimum number of nodes that you must have for hello primary node type is driven by hello reliability level you have chosen.</span></span> <span data-ttu-id="01a64-119">Per altre informazioni, vedere la sezione relativa ai [livelli di affidabilità](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="01a64-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="01a64-120">Riduzione tooless tipo di nodo primario hello del numero minimo di hello rendere cluster hello instabile o attivare la modalità verso il basso.</span><span class="sxs-lookup"><span data-stu-id="01a64-120">Scaling down hello primary node type tooless than hello minimum number make hello cluster unstable or bring it down.</span></span> <span data-ttu-id="01a64-121">Ciò potrebbe causare la perdita di dati per le applicazioni e servizi di sistema hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-121">This could result in data loss for your applications and for hello system services.</span></span>
> 
> 

<span data-ttu-id="01a64-122">Funzionalità di scalabilità automatica hello attualmente non dipende da carichi hello che le applicazioni possono essere reporting tooService dell'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="01a64-122">Currently hello auto-scale feature is not driven by hello loads that your applications may be reporting tooService Fabric.</span></span> <span data-ttu-id="01a64-123">Pertanto in hello questo tempo è ottenere scalabilità automatica viene gestita esclusivamente dai contatori delle prestazioni generati da ciascuna delle istanze set di scalabilità di macchine virtuali hello hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-123">So at this time hello auto-scale you get is purely driven by hello performance counters that are emitted by each of hello Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="01a64-124">Seguire queste istruzioni [tooset di scalabilità automatica per ogni set di scalabilità della macchina virtuale](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="01a64-124">Follow these instructions [tooset up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="01a64-125">In una scala scenario verso il basso, a meno che il tipo di nodo dispone di un livello di durabilità di oro o argento è necessario hello toocall [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) con il nome di nodo appropriato hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with hello appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-tooa-node-typevirtual-machine-scale-set"></a><span data-ttu-id="01a64-126">Aggiungere manualmente le macchine virtuali tooa nodo tipo/virtuale set di scalabilità della macchina</span><span class="sxs-lookup"><span data-stu-id="01a64-126">Manually add VMs tooa node type/Virtual Machine scale set</span></span>
<span data-ttu-id="01a64-127">Seguire l'esempio hello le istruzioni in hello [raccolta di modelli di avvio rapido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) numero hello toochange delle macchine virtuali in ogni tipo di nodo.</span><span class="sxs-lookup"><span data-stu-id="01a64-127">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="01a64-128">Aggiunta di macchine virtuali richiede tempo, in modo non si prevede hello aggiunte toobe istantaneo.</span><span class="sxs-lookup"><span data-stu-id="01a64-128">Adding of VMs takes time, so do not expect hello additions toobe instantaneous.</span></span> <span data-ttu-id="01a64-129">Quindi pianificare la capacità di tooadd anche in fase di tooallow più di 10 minuti prima che sia disponibile per le repliche hello hello capacità di macchine Virtuali / inserito tooget di istanze del servizio.</span><span class="sxs-lookup"><span data-stu-id="01a64-129">So plan tooadd capacity well in time, tooallow for over 10 minutes before hello VM capacity is available for hello replicas/ service instances tooget placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-hello-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="01a64-130">Rimuovere manualmente le macchine virtuali dal set di scalabilità macchina virtuale di tipo/hello nodo primario</span><span class="sxs-lookup"><span data-stu-id="01a64-130">Manually remove VMs from hello primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="01a64-131">servizi di sistema di infrastruttura servizio Hello eseguire nel tipo di nodo primario hello del cluster.</span><span class="sxs-lookup"><span data-stu-id="01a64-131">hello service fabric system services run in hello Primary node type in your cluster.</span></span> <span data-ttu-id="01a64-132">Minore rispetto a quale livello di affidabilità hello garantisce pertanto mai arrestare o ridurre il numero di hello di istanze di tipi di nodo.</span><span class="sxs-lookup"><span data-stu-id="01a64-132">So should never shut down or scale down hello number of instances in that node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="01a64-133">Fare riferimento troppo[hello dettagli sui livelli di affidabilità qui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="01a64-133">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="01a64-134">È necessario tooexecute hello seguenti passaggi viene un'istanza di macchina virtuale alla volta.</span><span class="sxs-lookup"><span data-stu-id="01a64-134">You need tooexecute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="01a64-135">In questo modo i servizi di sistema hello (e i servizi con stati) toobe arrestare normalmente nell'istanza VM hello si intende rimuovere e nuove repliche create in altri nodi.</span><span class="sxs-lookup"><span data-stu-id="01a64-135">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="01a64-136">Eseguire [Disable ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) con finalità del nodo 'RemoveNode' hello toodisable eseguirai tooremove (istanza di quel tipo di nodo più alto per hello).</span><span class="sxs-lookup"><span data-stu-id="01a64-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="01a64-137">Eseguire [Get ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake che tale nodo hello effettivamente ha eseguito la transizione toodisabled.</span><span class="sxs-lookup"><span data-stu-id="01a64-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="01a64-138">In caso contrario, attendere che il nodo hello è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="01a64-138">If not, wait until hello node is disabled.</span></span> <span data-ttu-id="01a64-139">Non è possibile accelerare questo passaggio.</span><span class="sxs-lookup"><span data-stu-id="01a64-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="01a64-140">Seguire l'esempio hello le istruzioni in hello [raccolta di modelli di avvio rapido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello numero di macchine virtuali in tale tipo di nodo.</span><span class="sxs-lookup"><span data-stu-id="01a64-140">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="01a64-141">istanza di Hello rimosso è istanza VM massimo hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-141">hello instance removed is hello highest VM instance.</span></span> 
4. <span data-ttu-id="01a64-142">Ripetere i passaggi da 1 a 3 in base alle necessità, ma mai scalare verso il basso il numero di hello di istanze in hello principali tipi di nodo minore garantisce il livello di affidabilità hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-142">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="01a64-143">Fare riferimento troppo[hello dettagli sui livelli di affidabilità qui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="01a64-143">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-hello-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="01a64-144">Rimuovere manualmente le macchine virtuali dal tipo di nodo non primario hello/virtuale set di scalabilità della macchina</span><span class="sxs-lookup"><span data-stu-id="01a64-144">Manually remove VMs from hello non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="01a64-145">Per un servizio con stato, è necessario un certo numero di nodi toobe sempre backup dello stato di disponibilità e mantenere toomaintain del servizio.</span><span class="sxs-lookup"><span data-stu-id="01a64-145">For a stateful service, you need a certain number of nodes toobe always up toomaintain availability and preserve state of your service.</span></span> <span data-ttu-id="01a64-146">In hello requisito minimo, è necessario hello numero di nodi uguale toohello destinazione replica set numero di partizione o hello del servizio.</span><span class="sxs-lookup"><span data-stu-id="01a64-146">At hello very minimum, you need hello number of nodes equal toohello target replica set count of hello partition/service.</span></span> 
> 
> 

<span data-ttu-id="01a64-147">È necessario hello hello segue un'istanza VM passaggi in una fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="01a64-147">You need hello execute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="01a64-148">In questo modo i servizi di sistema hello (e i servizi con stati) toobe arrestare normalmente in hello istanza della macchina virtuale che si intende rimuovere e nuove repliche creato where else.</span><span class="sxs-lookup"><span data-stu-id="01a64-148">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="01a64-149">Eseguire [Disable ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) con finalità del nodo 'RemoveNode' hello toodisable eseguirai tooremove (istanza di quel tipo di nodo più alto per hello).</span><span class="sxs-lookup"><span data-stu-id="01a64-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="01a64-150">Eseguire [Get ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake che tale nodo hello effettivamente ha eseguito la transizione toodisabled.</span><span class="sxs-lookup"><span data-stu-id="01a64-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="01a64-151">Se non attendere hello del nodo è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="01a64-151">If not wait till hello node is disabled.</span></span> <span data-ttu-id="01a64-152">Non è possibile accelerare questo passaggio.</span><span class="sxs-lookup"><span data-stu-id="01a64-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="01a64-153">Seguire l'esempio hello le istruzioni in hello [raccolta di modelli di avvio rapido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello numero di macchine virtuali in tale tipo di nodo.</span><span class="sxs-lookup"><span data-stu-id="01a64-153">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="01a64-154">Istanza della macchina virtuale più alto hello rimuoverà.</span><span class="sxs-lookup"><span data-stu-id="01a64-154">This will now remove hello highest VM instance.</span></span> 
4. <span data-ttu-id="01a64-155">Ripetere i passaggi da 1 a 3 in base alle necessità, ma mai scalare verso il basso il numero di hello di istanze in hello principali tipi di nodo minore garantisce il livello di affidabilità hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-155">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="01a64-156">Fare riferimento troppo[hello dettagli sui livelli di affidabilità qui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="01a64-156">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="01a64-157">Comportamenti che è possibile osservare in Service Fabric Explorer</span><span class="sxs-lookup"><span data-stu-id="01a64-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="01a64-158">Quando è la scalabilità verticale hello un cluster Service Fabric Explorer riflette il numero di hello di nodi (istanze di set di scalabilità della macchina virtuale) che fanno parte del cluster di hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-158">When you scale up a cluster hello Service Fabric Explorer will reflect hello number of nodes (Virtual Machine scale set instances) that are part of hello cluster.</span></span>  <span data-ttu-id="01a64-159">Tuttavia, quando scala in un cluster è verrà visualizzato istanza nodo/VM hello rimosso visualizzato in uno stato non integro, a meno che non si chiama [cmd Remove ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx) con il nome di nodo appropriato hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-159">However, when you scale a cluster down you will see hello removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with hello appropriate node name.</span></span>   

<span data-ttu-id="01a64-160">Di seguito viene fornita la spiegazione hello per questo comportamento.</span><span class="sxs-lookup"><span data-stu-id="01a64-160">Here is hello explanation for this behavior.</span></span>

<span data-ttu-id="01a64-161">nodi elencati in Service Fabric Explorer Hello sono un riflesso di quali servizi di sistema di Service Fabric hello (FM specificamente) numero hello di nodi del cluster di hello avuto è a conoscenza.</span><span class="sxs-lookup"><span data-stu-id="01a64-161">hello nodes listed in Service Fabric Explorer are a reflection of what hello Service Fabric system services (FM specifically) knows about hello number of nodes hello cluster had/has.</span></span> <span data-ttu-id="01a64-162">Quando si ridimensiona hello scalabilità della macchina virtuale impostata verso il basso, hello macchina virtuale è stata eliminata, ma il servizio di sistema FM consente comunque di tale nodo hello (che è stato mappato toohello macchina virtuale che è stato eliminato), verrà ripristinato.</span><span class="sxs-lookup"><span data-stu-id="01a64-162">When you scale hello Virtual Machine scale set down, hello VM was deleted but FM system service still thinks that hello node (that was mapped toohello VM that was deleted) will come back.</span></span> <span data-ttu-id="01a64-163">Pertanto, Service Fabric Explorer continua toodisplay quel nodo (se lo stato di integrità hello errore o sconosciuto).</span><span class="sxs-lookup"><span data-stu-id="01a64-163">So Service Fabric Explorer continues toodisplay that node (though hello health state may be error or unknown).</span></span>

<span data-ttu-id="01a64-164">In ordine toomake assicurarsi che un nodo viene rimosso quando viene rimossa una macchina virtuale, sono disponibili due opzioni:</span><span class="sxs-lookup"><span data-stu-id="01a64-164">In order toomake sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="01a64-165">Scegliere un livello di durabilità di oro o Silver (disponibile non appena) hello tipi di nodo del cluster, che consente di integrazione di un'infrastruttura di hello.</span><span class="sxs-lookup"><span data-stu-id="01a64-165">Choose a durability level of Gold or Silver (available soon) for hello node types in your cluster, which gives you hello infrastructure integration.</span></span> <span data-ttu-id="01a64-166">Che verranno quindi automaticamente rimossi hello nodi dallo stato di servizi (FM) sistema durante il ridimensionamento verso il basso.</span><span class="sxs-lookup"><span data-stu-id="01a64-166">Which will then automatically remove hello nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="01a64-167">Fare riferimento troppo[hello dettagli sui livelli di durabilità qui](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="01a64-167">Refer too[hello details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="01a64-168">Una volta ridimensionata istanza hello della macchina virtuale, è necessario hello toocall [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="01a64-168">Once hello VM instance has been scaled down, you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="01a64-169">Servizio cluster di infrastruttura richiedono un certo numero di nodi toobe backup in tutto il tempo hello in toomaintain disponibilità e mantenere lo stato dell'ordine - tooas cui "gestione quorum".</span><span class="sxs-lookup"><span data-stu-id="01a64-169">Service Fabric clusters require a certain number of nodes toobe up at all hello time in order toomaintain availability and preserve state - referred tooas "maintaining quorum."</span></span> <span data-ttu-id="01a64-170">In tal caso, è in genere unsafe tooshut verso il basso tutte le macchine hello cluster hello a meno che non è stata innanzitutto eseguita una [backup completo dello stato del](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="01a64-170">So, it is typically unsafe tooshut down all hello machines in hello cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="01a64-171">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="01a64-171">Next steps</span></span>
<span data-ttu-id="01a64-172">Hello lettura seguente tooalso informazioni sulla pianificazione della capacità del cluster, l'aggiornamento di un cluster e partizionamento servizi:</span><span class="sxs-lookup"><span data-stu-id="01a64-172">Read hello following tooalso learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="01a64-173">Considerazioni sulla pianificazione della capacità del cluster di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="01a64-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="01a64-174">Aggiornare un cluster di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="01a64-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="01a64-175">Partizionare Reliable Services di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="01a64-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
