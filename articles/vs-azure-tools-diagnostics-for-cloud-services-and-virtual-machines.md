---
title: aaaConfiguring diagnostica per servizi Cloud di Azure e macchine virtuali | Documenti Microsoft
description: Viene descritto come tooconfigure informazioni di diagnostica per il debug di servizi cloud di Azure e le macchine virtuali (VM) in Visual Studio.
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 74cdf49413d6d89a84195070dd9d817da2463373
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="93c21-103">Configurazione della diagnostica per i servizi cloud e le macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="93c21-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="93c21-104">Quando è necessario tootroubleshoot un servizio cloud di Azure o una macchina virtuale di Azure, è possibile configurare diagnostica di Azure più facilmente con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93c21-104">When you need tootroubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="93c21-105">Diagnostica Azure cattura i dati di sistema e i dati di registrazione nelle macchine virtuali hello e istanze di macchine virtuali che eseguono il servizio cloud e trasferisce i dati in un account di archiviazione di propria scelta.</span><span class="sxs-lookup"><span data-stu-id="93c21-105">Azure diagnostics captures system data and logging data on hello virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="93c21-106">Per altre informazioni sulla registrazione di diagnostica in Azure, vedere [Abilitare la registrazione diagnostica per le app Web del Servizio app di Azure](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="93c21-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="93c21-107">In questo argomento illustra come tooenable e configurare diagnostica Windows Azure in Visual Studio, sia prima sia dopo la distribuzione, nonché in macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="93c21-107">This topic shows you how tooenable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="93c21-108">Viene inoltre visualizzato come tipi di hello tooselect di toocollect informazioni di diagnostica e modalità di raccolta informazioni hello tooview dopo di esso.</span><span class="sxs-lookup"><span data-stu-id="93c21-108">It also shows you how tooselect hello types of diagnostics information toocollect and how tooview hello information after it's collected.</span></span>

<span data-ttu-id="93c21-109">È possibile configurare diagnostica Azure in hello seguenti modi:</span><span class="sxs-lookup"><span data-stu-id="93c21-109">You can configure Azure Diagnostics in hello following ways:</span></span>

* <span data-ttu-id="93c21-110">È possibile modificare le impostazioni di configurazione di diagnostica tramite hello **configurazione di diagnostica** nella finestra di dialogo di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93c21-110">You can change diagnostics configuration settings through hello **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="93c21-111">Hello impostazioni vengono salvate in un file denominato Diagnostics. wadcfgx (Diagnostics. wadcfg in Azure SDK 2.4 o versioni precedenti).</span><span class="sxs-lookup"><span data-stu-id="93c21-111">hello settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="93c21-112">In alternativa, è possibile modificare direttamente il file di configurazione di hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-112">Alternatively, you can directly modify hello configuration file.</span></span> <span data-ttu-id="93c21-113">Se si aggiorna manualmente il file hello, le modifiche alla configurazione di hello richiederà hello effetto successivo che si distribuisce tooAzure servizio cloud di hello o un servizio hello esecuzione nell'emulatore di hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-113">If you manually update hello file, hello configuration changes will take effect hello next time you deploy hello cloud service tooAzure or run hello service in hello emulator.</span></span>
* <span data-ttu-id="93c21-114">Utilizzare **Cloud Explorer** o **Esplora Server** nelle impostazioni di diagnostica di Visual Studio toochange hello per una macchina virtuale o un servizio cloud in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="93c21-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio toochange hello diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="93c21-115">Modifiche alla diagnostica di Azure 2.6</span><span class="sxs-lookup"><span data-stu-id="93c21-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="93c21-116">Per i progetti di Azure SDK 2.6 in Visual Studio, hello dopo le modifiche apportata.</span><span class="sxs-lookup"><span data-stu-id="93c21-116">For Azure SDK 2.6 projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="93c21-117">(Queste modifiche si applicano anche toolater versioni di Azure SDK.)</span><span class="sxs-lookup"><span data-stu-id="93c21-117">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="93c21-118">emulatore locale Hello supporta ora la diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-118">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="93c21-119">Questo significa che è possibile raccogliere dati di diagnostica e verificare che l'applicazione crea hello tracce corrette durante lo sviluppo ed il test in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93c21-119">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="93c21-120">stringa di connessione Hello `UseDevelopmentStorage=true` Abilita raccolta dati di diagnostica, mentre si esegue il progetto servizio cloud in Visual Studio utilizzando l'emulatore di archiviazione Azure hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-120">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="93c21-121">Tutti i dati di diagnostica vengono raccolti nell'account di archiviazione hello (archiviazione di sviluppo).</span><span class="sxs-lookup"><span data-stu-id="93c21-121">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="93c21-122">stringa di connessione account archiviazione diagnostica Hello (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) viene archiviato nuovamente nel file di configurazione (. cscfg) servizio hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-122">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="93c21-123">In Azure SDK 2.5 l'account di archiviazione di diagnostica hello è stato specificato nel file Diagnostics. wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-123">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="93c21-124">Esistono alcune differenze sostanziali tra la stringa di connessione hello lavorato in Azure SDK 2.4 e versioni precedenti e sul relativo funzionamento in Azure SDK 2.6 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="93c21-124">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="93c21-125">In Azure SDK 2.4 e versioni precedenti, la stringa di connessione hello è stata utilizzata come runtime dalle hello tooget di plug-in di diagnostica hello informazioni di account di archiviazione per il trasferimento di log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-125">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="93c21-126">In Azure SDK 2.6 e versioni successive, stringa di connessione di diagnostica hello viene utilizzato dall'estensione di diagnostica di Visual Studio tooconfigure hello con informazioni sull'account di archiviazione appropriato hello durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-126">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="93c21-127">stringa di connessione Hello consente di definire diversi account di archiviazione per le configurazioni di servizio diverso che Visual Studio verrà utilizzato durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-127">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="93c21-128">Tuttavia, poiché plug-in di hello diagnostica non è più disponibile (dopo Azure SDK 2.5), file con estensione cscfg hello da sola non è possibile abilitare hello estensione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-128">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="93c21-129">È l'estensione di hello tooenable separatamente tramite strumenti quali Visual Studio o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="93c21-129">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="93c21-130">processo di hello toosimplify di configurazione dell'estensione di diagnostica hello con PowerShell, output del pacchetto hello da Visual Studio contiene anche hello pubblico XML di configurazione per l'estensione diagnostica hello per ogni ruolo.</span><span class="sxs-lookup"><span data-stu-id="93c21-130">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="93c21-131">Visual Studio Usa hello diagnostica sulle stringhe di connessione toopopulate hello storage account presenti nella configurazione pubblica hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-131">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="93c21-132">file di configurazione pubblica Hello vengono creati nella cartella estensioni hello e seguono pattern hello PaaSDiagnostics. &lt;RoleName >. Paasdiagnostics.<NomeRuolo>.pubconfig.Xml.</span><span class="sxs-lookup"><span data-stu-id="93c21-132">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="93c21-133">Tutte le distribuzioni basate su PowerShell è possono utilizzare il toomap questo modello ogni tooa configurazione ruolo.</span><span class="sxs-lookup"><span data-stu-id="93c21-133">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="93c21-134">stringa di connessione Hello in file con estensione cscfg hello viene anche usato dai hello [portale di Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello dati di diagnostica in modo che può essere visualizzati in hello **monitoraggio** stringa di connessione scheda hello è necessaria tooconfigure hello servizio tooshow monitoraggio dettagliato dei dati nel portale di hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-134">hello connection string in hello .cscfg file is also used by hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

## <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="93c21-135">La migrazione dei progetti tooAzure SDK 2.6 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="93c21-135">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="93c21-136">Quando la migrazione da Azure SDK 2.5 tooAzure SDK 2.6 o versione successiva, se si dispone di un account di archiviazione di diagnostica specificato nel file con estensione wadcfgx hello, quindi viene mantenuta non esiste.</span><span class="sxs-lookup"><span data-stu-id="93c21-136">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="93c21-137">account tootake sfruttare la flessibilità di hello dell'utilizzo di archiviazione diversi per diverse configurazioni di archiviazione, sarà necessario toomanually aggiungere progetto tooyour stringa di connessione hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-137">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="93c21-138">Se si sta eseguendo la migrazione di un progetto da Azure SDK 2.4 o versioni precedenti tooAzure SDK 2.6, quindi hello vengono mantenute le stringhe di connessione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-138">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="93c21-139">Tuttavia, si noti come stringhe di connessione vengono considerate in Azure SDK 2.6 specificato nella sezione precedente hello modifiche hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-139">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="93c21-140">Determinazione di account di archiviazione di diagnostica hello Visual Studio</span><span class="sxs-lookup"><span data-stu-id="93c21-140">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="93c21-141">Se si specifica una stringa di connessione di diagnostica nel file con estensione cscfg hello, Visual Studio viene utilizzata l'estensione diagnostica hello tooconfigure durante la pubblicazione e durante la generazione di file xml di configurazione pubblica hello durante la creazione di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="93c21-141">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="93c21-142">Se viene specificata alcuna stringa di connessione di diagnostica nel file con estensione cscfg hello, quindi Visual Studio esegue il fallback account di archiviazione hello toousing specificato hello wadcfgx tooconfigure hello diagnostica estensione di file durante la pubblicazione e la generazione di hello pubblico file di configurazione xml quando creazione del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="93c21-142">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="93c21-143">stringa di connessione di diagnostica Hello in file con estensione cscfg hello ha la precedenza su account di archiviazione hello in file con estensione wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-143">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="93c21-144">Se è una stringa di connessione di diagnostica specificati nel file con estensione cscfg hello, Visual Studio utilizza che e ignora l'account di archiviazione hello in con estensione wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="93c21-144">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="93c21-145">Cosa does hello "Aggiorna stringhe di connessione di archiviazione..."</span><span class="sxs-lookup"><span data-stu-id="93c21-145">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="93c21-146">…"</span><span class="sxs-lookup"><span data-stu-id="93c21-146">checkbox do?</span></span>
<span data-ttu-id="93c21-147">casella di controllo per Hello **Aggiorna stringhe di connessione di archiviazione per la diagnostica e la memorizzazione nella cache con le credenziali dell'account di archiviazione di Microsoft Azure quando si pubblicano tooMicrosoft Azure** offre un modo pratico di tooupdate qualsiasi archiviazione account stringhe di connessione con l'account di archiviazione di Azure hello specificato durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-147">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="93c21-148">Si supponga ad esempio si seleziona questa casella di controllo e hello stringa di connessione specifichi `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="93c21-148">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="93c21-149">Quando si pubblica hello tooAzure di progetto, Visual Studio aggiornerà automaticamente stringa di connessione di diagnostica hello con account di archiviazione hello specificato nella procedura guidata di pubblicazione hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-149">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="93c21-150">Tuttavia, se un account di archiviazione reale è stato specificato come stringa di connessione di diagnostica hello, allora tale account viene utilizzato invece.</span><span class="sxs-lookup"><span data-stu-id="93c21-150">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="93c21-151">Differenze della funzionalità di diagnostica tra Azure SDK 2.4 e versioni precedenti e Azure SDK 2.5 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="93c21-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="93c21-152">Se si esegue l'aggiornamento del progetto da Azure SDK 2.4 tooAzure SDK 2.5 o versioni successive, è necessario tenere hello presente seguenti differenze di funzionalità di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-152">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="93c21-153">**Le API di configurazione sono deprecate** : la configurazione a livello di codice della diagnostica è disponibile in Azure SDK 2.4 o versioni precedenti, ma è deprecata in Azure SDK 2.5 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="93c21-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="93c21-154">Se la configurazione della diagnostica è attualmente definita nel codice, è necessario tooreconfigure tali impostazioni da zero nel progetto di migrazione hello in ordine per l'utilizzo di diagnostica tookeep.</span><span class="sxs-lookup"><span data-stu-id="93c21-154">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="93c21-155">file di configurazione di diagnostica di Hello per Azure SDK 2.4 è Diagnostics. wadcfg e Diagnostics. wadcfgx per Azure SDK 2.5 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="93c21-155">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="93c21-156">**Diagnostica per le applicazioni di servizio cloud può essere configurata solo a livello di ruolo hello, non a livello di istanza hello.**</span><span class="sxs-lookup"><span data-stu-id="93c21-156">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="93c21-157">**Ogni volta che si distribuisce l'app, viene aggiornata la configurazione di diagnostica hello** : ciò può causare problemi di parità se si modifica la configurazione di diagnostica da Esplora Server e quindi distribuire nuovamente l'app.</span><span class="sxs-lookup"><span data-stu-id="93c21-157">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="93c21-158">**In Azure SDK 2.5 e versioni successive, i dump di arresto anomalo del sistema sono configurati nel file di configurazione diagnostica hello, non nel codice** : nel caso di arresto anomalo del sistema configurato nel codice, sarà necessario configurazione hello di trasferimento toomanually dal file di configurazione toohello di codice, perché i dump di arresto anomalo di hello non vengono trasferiti durante la migrazione di hello tooAzure SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="93c21-158">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="93c21-159">Abilitare la diagnostica nei progetti di servizi cloud prima della distribuzione</span><span class="sxs-lookup"><span data-stu-id="93c21-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="93c21-160">In Visual Studio, è possibile scegliere i dati di diagnostica toocollect per i ruoli in esecuzione in Azure, quando si esegue il servizio hello nell'emulatore hello prima di distribuirlo.</span><span class="sxs-lookup"><span data-stu-id="93c21-160">In Visual Studio, you can choose toocollect diagnostics data for roles that run in Azure, when you run hello service in hello emulator before deploying it.</span></span> <span data-ttu-id="93c21-161">Tutte le impostazioni di toodiagnostics modifiche in Visual Studio vengono salvate nel file di configurazione Diagnostics. wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-161">All changes toodiagnostics settings in Visual Studio are saved in hello diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="93c21-162">Queste impostazioni di configurazione specificano l'account di archiviazione hello in cui sono salvati i dati di diagnostica quando si distribuisce il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="93c21-162">These configuration settings specify hello storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="tooenable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="93c21-163">tooenable diagnostica in Visual Studio prima della distribuzione</span><span class="sxs-lookup"><span data-stu-id="93c21-163">tooenable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="93c21-164">Nel menu di scelta rapida hello ruolo hello desiderato, scegliere **proprietà**, quindi scegliere hello **configurazione** scheda del ruolo hello **proprietà** finestra.</span><span class="sxs-lookup"><span data-stu-id="93c21-164">On hello shortcut menu for hello role that interests you, choose **Properties**, and then choose hello **Configuration** tab in hello role’s **Properties** window.</span></span>
2. <span data-ttu-id="93c21-165">In hello **diagnostica** sezione, assicurarsi che tale hello **Abilita diagnostica** casella di controllo è selezionata.</span><span class="sxs-lookup"><span data-stu-id="93c21-165">In hello **Diagnostics** section, make sure that hello **Enable Diagnostics** check box is selected.</span></span>
   
    ![Accesso opzione Abilita diagnostica hello](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="93c21-167">Scegliere hello puntini di sospensione (…) pulsante toospecify hello account di archiviazione in cui si desidera hello toobe di dati di diagnostica archiviati.</span><span class="sxs-lookup"><span data-stu-id="93c21-167">Choose hello ellipsis (…) button toospecify hello storage account where you want hello diagnostics data toobe stored.</span></span> <span data-ttu-id="93c21-168">account di archiviazione Hello che scelto sarà hello posizione in cui i dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-168">hello storage account you choose will be hello location where diagnostics data is stored.</span></span>
   
    ![Specificare toouse account di archiviazione hello](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="93c21-170">In hello **crea stringa di connessione di archiviazione** finestra di dialogo, specificare se si desidera tooconnect utilizzando hello emulatore di archiviazione di Azure, una sottoscrizione di Azure oppure credenziali immesse manualmente.</span><span class="sxs-lookup"><span data-stu-id="93c21-170">In hello **Create Storage Connection String** dialog box, specify whether you want tooconnect using hello Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Finestra di dialogo Account di archiviazione](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="93c21-172">Se si sceglie l'opzione di hello emulatore di archiviazione di Microsoft Azure, la stringa di connessione hello è impostata tooUseDevelopmentStorage = true.</span><span class="sxs-lookup"><span data-stu-id="93c21-172">If you choose hello Microsoft Azure Storage Emulator option, hello connection string is set tooUseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="93c21-173">Se si sceglie hello l'opzione di sottoscrizione, è possibile scegliere una sottoscrizione di Azure da nome di account toouse e hello hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-173">If you choose hello Your subscription option, you can choose hello Azure subscription you want toouse and hello account name.</span></span> <span data-ttu-id="93c21-174">È possibile scegliere che Gestisci account hello pulsante toomanage le sottoscrizioni di Azure.</span><span class="sxs-lookup"><span data-stu-id="93c21-174">You can choose hello Manage Accounts button toomanage your Azure subscriptions.</span></span>
   * <span data-ttu-id="93c21-175">Se si sceglie l'opzione relativa alle credenziali hello immessa manualmente, puoi tooenter richiesta hello nome e la chiave di account Azure a cui si vuole toouse hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-175">If you choose hello Manually entered credentials option, you're prompted tooenter hello name and key of hello Azure account you want toouse.</span></span>
5. <span data-ttu-id="93c21-176">Scegliere hello **configura** hello tooview pulsante **configurazione di diagnostica** la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="93c21-176">Choose hello **Configure** button tooview hello **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="93c21-177">Ogni scheda, ad eccezione di **Generale** e **Directory log** rappresenta un'origine di dati di diagnostica che è possibile raccogliere.</span><span class="sxs-lookup"><span data-stu-id="93c21-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="93c21-178">scheda predefinita Hello, **generale**, offre hello le seguenti opzioni di raccolta dati di diagnostica: **solo errori**, **tutte le informazioni**, e **piano personalizzato** .</span><span class="sxs-lookup"><span data-stu-id="93c21-178">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="93c21-179">opzione predefinita, Hello **solo errori**, accetta hello quantità minima di spazio di archiviazione perché non trasferisce gli avvisi o messaggi di traccia.</span><span class="sxs-lookup"><span data-stu-id="93c21-179">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="93c21-180">Hello hello la maggior parte delle informazioni di tutti i trasferimenti di opzione di informazioni ed è, hello, pertanto, l'opzione più costosa in termini di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-180">hello All information option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
   
    ![Abilitare la diagnostica e la configurazione di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="93c21-182">Per questo esempio, selezionare hello **piano personalizzato** opzione in modo è possibile personalizzare hello dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="93c21-182">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
7. <span data-ttu-id="93c21-183">Hello **Quota disco in MB** casella Specifica la quantità di spazio da tooallocate dell'account di archiviazione per i dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-183">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="93c21-184">Se si desidera, è possibile modificare il valore di predefinito hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-184">You can change hello default value if you want.</span></span>
8. <span data-ttu-id="93c21-185">In ogni scheda dei dati di diagnostica desiderati toocollect, selezionare il **Abilita il trasferimento di <log type>**  casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-185">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="93c21-186">Ad esempio, se si desidera toocollect dei log applicazioni, selezionare hello **Abilita il trasferimento dei log applicazione** casella di controllo hello **log applicazioni** scheda. Specificare anche eventuali altre informazioni richieste da ogni tipo di dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-186">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="93c21-187">Vedere la sezione hello **configurare origini dati di diagnostica** più avanti in questo argomento per informazioni sulla configurazione di ogni scheda.</span><span class="sxs-lookup"><span data-stu-id="93c21-187">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="93c21-188">Dopo aver abilitato la raccolta di tutti i dati di diagnostica hello desiderato, scegliere hello **OK** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-188">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
10. <span data-ttu-id="93c21-189">Eseguire il progetto di servizio cloud di Azure in Visual Studio come di consueto.</span><span class="sxs-lookup"><span data-stu-id="93c21-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="93c21-190">Quando si utilizza l'applicazione, informazioni di log di hello abilitate vengono salvate toohello account di archiviazione di Azure specificato.</span><span class="sxs-lookup"><span data-stu-id="93c21-190">As you use your application, hello log information that you enabled is saved toohello Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="93c21-191">Abilitare la diagnostica nelle macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="93c21-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="93c21-192">In Visual Studio, è possibile scegliere i dati di diagnostica toocollect per macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="93c21-192">In Visual Studio, you can choose toocollect diagnostics data for Azure virtual machines.</span></span>

### <a name="tooenable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="93c21-193">diagnostica tooenable in macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="93c21-193">tooenable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="93c21-194">In **Esplora Server**, scegliere il nodo Azure hello e quindi connettere tooyour sottoscrizione di Azure, se non è già connessi.</span><span class="sxs-lookup"><span data-stu-id="93c21-194">In **Server Explorer**, choose hello Azure node and then connect tooyour Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="93c21-195">Espandere hello **macchine virtuali** nodo.</span><span class="sxs-lookup"><span data-stu-id="93c21-195">Expand hello **Virtual Machines** node.</span></span> <span data-ttu-id="93c21-196">È possibile creare una nuova macchina virtuale o selezionare una macchina virtuale già esistente.</span><span class="sxs-lookup"><span data-stu-id="93c21-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="93c21-197">Hello dal menu di scelta rapida per la macchina virtuale hello desiderato, scegliere **configura**.</span><span class="sxs-lookup"><span data-stu-id="93c21-197">On hello shortcut menu for hello virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="93c21-198">Mostra la finestra di dialogo di configurazione macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-198">This shows hello virtual machine configuration dialog box.</span></span>
   
    ![Configurazione di una macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="93c21-200">Se non è già stato installato, aggiungere l'estensione di diagnostica di Microsoft Monitoring Agent hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-200">If it's not already installed, add hello Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="93c21-201">Questa estensione consente di raccogliere dati di diagnostica per hello macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="93c21-201">This extension lets you gather diagnostics data for hello Azure virtual machine.</span></span> <span data-ttu-id="93c21-202">Nell'elenco di estensioni installate hello, scegliere il menu di selezionare un elenco a discesa estensione disponibile hello e quindi scegliere la diagnostica di Microsoft Monitoring Agent.</span><span class="sxs-lookup"><span data-stu-id="93c21-202">In hello Installed Extensions list, choose hello Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Installazione di un'estensione di macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="93c21-204">Sono disponibili altre estensioni di diagnostica per le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="93c21-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="93c21-205">Per altre informazioni, vedere Estensioni VM e funzionalità di Azure.</span><span class="sxs-lookup"><span data-stu-id="93c21-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="93c21-206">Scegliere hello **Aggiungi** pulsante tooadd hello estensione e visualizzare il relativo **configurazione di diagnostica** la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="93c21-206">Choose hello **Add** button tooadd hello extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="93c21-207">Scegliere hello **configura** toospecify un account di archiviazione e quindi scegliere hello **OK** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-207">Choose hello **Configure** button toospecify a storage account and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="93c21-208">Ogni scheda, ad eccezione di **Generale** e **Directory log** rappresenta un'origine di dati di diagnostica che è possibile raccogliere.</span><span class="sxs-lookup"><span data-stu-id="93c21-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Abilitare la diagnostica e la configurazione di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="93c21-210">scheda predefinita Hello, **generale**, offre hello le seguenti opzioni di raccolta dati di diagnostica: **solo errori**, **tutte le informazioni**, e **piano personalizzato** .</span><span class="sxs-lookup"><span data-stu-id="93c21-210">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="93c21-211">opzione predefinita, Hello **solo errori**, accetta hello quantità minima di spazio di archiviazione perché non trasferisce gli avvisi o messaggi di traccia.</span><span class="sxs-lookup"><span data-stu-id="93c21-211">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="93c21-212">Hello **tutte le informazioni** opzione trasferimenti hello la maggior parte delle informazioni e, pertanto, hello più costosa in termini di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-212">hello **All information** option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="93c21-213">Per questo esempio, selezionare hello **piano personalizzato** opzione in modo è possibile personalizzare hello dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="93c21-213">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
8. <span data-ttu-id="93c21-214">Hello **Quota disco in MB** casella Specifica la quantità di spazio da tooallocate dell'account di archiviazione per i dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-214">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="93c21-215">Se si desidera, è possibile modificare il valore di predefinito hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-215">You can change hello default value if you want.</span></span>
9. <span data-ttu-id="93c21-216">In ogni scheda dei dati di diagnostica desiderati toocollect, selezionare il **Abilita il trasferimento di <log type>**  casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-216">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="93c21-217">Ad esempio, se si desidera toocollect dei log applicazioni, selezionare hello **Abilita il trasferimento dei log applicazione** casella di controllo hello **log applicazioni** scheda. Specificare anche eventuali altre informazioni richieste da ogni tipo di dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-217">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="93c21-218">Vedere la sezione hello **configurare origini dati di diagnostica** più avanti in questo argomento per informazioni sulla configurazione di ogni scheda.</span><span class="sxs-lookup"><span data-stu-id="93c21-218">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="93c21-219">Dopo aver abilitato la raccolta di tutti i dati di diagnostica hello desiderato, scegliere hello **OK** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-219">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
11. <span data-ttu-id="93c21-220">Salvare il progetto aggiornato hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-220">Save hello updated project.</span></span>
    
     <span data-ttu-id="93c21-221">Verrà visualizzato un messaggio hello **Log attività di Microsoft Azure** finestra hello macchina virtuale è stata aggiornata.</span><span class="sxs-lookup"><span data-stu-id="93c21-221">You'll see a message in hello **Microsoft Azure Activity Log** window that hello virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="93c21-222">Configurare le origini dati di diagnostica</span><span class="sxs-lookup"><span data-stu-id="93c21-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="93c21-223">Dopo aver abilitato la raccolta dati di diagnostica, è possibile scegliere esattamente quali origini dati si desidera toocollect e i dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="93c21-223">After you enable diagnostics data collection, you can choose exactly what data sources you want toocollect and what information is collected.</span></span> <span data-ttu-id="93c21-224">Hello seguito è riportato un elenco delle schede nel hello **configurazione di diagnostica** la finestra di dialogo e significa che ogni opzione di configurazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-224">hello following is a list of tabs in hello **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="93c21-225">Log applicazioni</span><span class="sxs-lookup"><span data-stu-id="93c21-225">Application logs</span></span>
<span data-ttu-id="93c21-226">**Application logs** includono informazioni di diagnostica prodotte da un'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="93c21-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="93c21-227">Se si desidera toocapture dei log applicazioni, selezionare hello **Abilita il trasferimento dei log applicazione** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-227">If you want toocapture application logs, select hello **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="93c21-228">È possibile aumentare o ridurre il numero di hello di minuti quando vengono trasferiti i log applicazioni hello tooyour account di archiviazione modificando hello **periodo di trasferimento (min)** valore.</span><span class="sxs-lookup"><span data-stu-id="93c21-228">You can increase or decrease hello number of minutes when hello application logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="93c21-229">È inoltre possibile modificare quantità hello di informazioni acquisite nei log hello mediante l'impostazione di valore del livello di Log hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-229">You can also change hello amount of information captured in hello log by setting hello Log level value.</span></span> <span data-ttu-id="93c21-230">Ad esempio, è possibile scegliere **Verbose** tooget ulteriori informazioni o scegliere **critico** toocapture soltanto degli errori critici.</span><span class="sxs-lookup"><span data-stu-id="93c21-230">For example, you can choose **Verbose** tooget more information or choose **Critical** toocapture only critical errors.</span></span> <span data-ttu-id="93c21-231">Se si dispone di un provider di diagnostica specifici che genera log applicazioni, è possibile acquisirli aggiungendo toohello GUID del provider di hello **GUID Provider** casella.</span><span class="sxs-lookup"><span data-stu-id="93c21-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding hello provider’s GUID toohello **Provider GUID** box.</span></span>

  ![Log applicazioni](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="93c21-233">Per altre informazioni sui log applicazioni, vedere [Abilitare la registrazione diagnostica per le app Web del Servizio app di Azure](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="93c21-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="93c21-234">Registri eventi di Windows</span><span class="sxs-lookup"><span data-stu-id="93c21-234">Windows event logs</span></span>
<span data-ttu-id="93c21-235">Se si desidera toocapture nei registri eventi di Windows, selezionare hello **Abilita trasferimento registri eventi di Windows** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-235">If you want toocapture Windows event logs, select hello **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="93c21-236">È possibile aumentare o ridurre il numero di hello di minuti quando vengono trasferiti i registri eventi hello tooyour account di archiviazione modificando hello **periodo di trasferimento (min)** valore.</span><span class="sxs-lookup"><span data-stu-id="93c21-236">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="93c21-237">Selezionare le caselle di controllo hello per i tipi di eventi che si desidera tootrack hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-237">Select hello check boxes for hello types of events that you want tootrack.</span></span>

  ![Log eventi](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="93c21-239">Se si usa Azure SDK 2.6 o versione successiva e si desidera toospecify un'origine dati personalizzata, immetterla hello  **<Data source name>**  testo, quindi scegliere hello **Aggiungi** tooit di pulsante Avanti.</span><span class="sxs-lookup"><span data-stu-id="93c21-239">If you're using Azure SDK 2.6 or later and want toospecify a custom data source, enter it in hello **<Data source name>** text box and then choose hello **Add** button next tooit.</span></span> <span data-ttu-id="93c21-240">origine dati Hello viene aggiunto toohello cfcfg file.</span><span class="sxs-lookup"><span data-stu-id="93c21-240">hello data source is added toohello diagnostics.cfcfg file.</span></span>

<span data-ttu-id="93c21-241">Se si usa Azure SDK 2.5 e si desidera toospecify un'origine dati personalizzata, è possibile aggiungerla alla toohello `WindowsEventLog` sezione di hello wadcfgx file, ad esempio hello di esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="93c21-241">If you're using Azure SDK 2.5 and want toospecify a custom data source, you can add it toohello `WindowsEventLog` section of hello diagnostics.wadcfgx file, such as in hello following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="93c21-242">Contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="93c21-242">Performance counters</span></span>
<span data-ttu-id="93c21-243">Le informazioni sui contatori delle prestazioni possono semplificare l'individuazione dei colli di bottiglia e l'ottimizzazione delle prestazioni del sistema e delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="93c21-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="93c21-244">Per altre informazioni, vedere [Creare e usare contatori di prestazioni in un'applicazione Azure](https://msdn.microsoft.com/library/azure/hh411542.aspx) .</span><span class="sxs-lookup"><span data-stu-id="93c21-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="93c21-245">Se si desidera toocapture contatori delle prestazioni, selezionare hello **Abilita il trasferimento di contatori delle prestazioni** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-245">If you want toocapture performance counters, select hello **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="93c21-246">È possibile aumentare o ridurre il numero di hello di minuti quando vengono trasferiti i registri eventi hello tooyour account di archiviazione modificando hello **periodo di trasferimento (min)** valore.</span><span class="sxs-lookup"><span data-stu-id="93c21-246">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="93c21-247">Selezionare le caselle di controllo hello per hello contatori delle prestazioni che si desidera tootrack.</span><span class="sxs-lookup"><span data-stu-id="93c21-247">Select hello check boxes for hello performance counters that you want tootrack.</span></span>

  ![Contatori delle prestazioni](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="93c21-249">tootrack un contatore delle prestazioni elencato, immetterlo utilizzando hello sintassi suggerita e quindi scegliere hello **Aggiungi** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-249">tootrack a performance counter that isn’t listed, enter it by using hello suggested syntax and then choose hello **Add** button.</span></span> <span data-ttu-id="93c21-250">il sistema operativo Hello nella macchina virtuale hello determina i contatori delle prestazioni è possibile tenere traccia. Per altre informazioni sulla sintassi, vedere [Specificare un percorso del contatore](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="93c21-250">hello operating system on hello virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="93c21-251">Log infrastruttura</span><span class="sxs-lookup"><span data-stu-id="93c21-251">Infrastructure logs</span></span>
<span data-ttu-id="93c21-252">Se si desidera che il log dell'infrastruttura toocapture, che contenga informazioni sul modulo RemoteForwarder hello, modulo RemoteAccess hello e hello dell'infrastruttura diagnostica di Azure, selezionare hello **Abilita il trasferimento di log dell'infrastruttura**casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-252">If you want toocapture infrastructure logs, which contain information about hello Azure diagnostic infrastructure, hello RemoteAccess module, and hello RemoteForwarder module, select hello **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="93c21-253">È possibile aumentare o ridurre il numero di hello di minuti quando vengono trasferiti i log di hello tooyour account di archiviazione modificando hello periodo di trasferimento (min) valore.</span><span class="sxs-lookup"><span data-stu-id="93c21-253">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello Transfer Period (min) value.</span></span>

  ![Log dell'infrastruttura di diagnostica](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="93c21-255">Per altre informazioni, vedere [Raccogliere dati di registrazione usando Diagnostica Azure](https://msdn.microsoft.com/library/azure/gg433048.aspx) .</span><span class="sxs-lookup"><span data-stu-id="93c21-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="93c21-256">Directory log</span><span class="sxs-lookup"><span data-stu-id="93c21-256">Log directories</span></span>
<span data-ttu-id="93c21-257">Se si desidera che la directory log di toocapture, che contenga dati raccolti dalle directory di log per le richieste Internet Information Services (IIS), le richieste non riuscite o le cartelle selezionate, selezionare hello **Abilita il trasferimento di directory di Log**casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-257">If you want toocapture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select hello **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="93c21-258">È possibile aumentare o ridurre il numero di hello di minuti quando vengono trasferiti i log di hello tooyour account di archiviazione modificando hello **periodo di trasferimento (min)** valore.</span><span class="sxs-lookup"><span data-stu-id="93c21-258">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="93c21-259">È possibile selezionare le caselle di hello dei registri hello toocollect, si desidera, ad esempio **registri IIS** e **richieste non riuscite** log.</span><span class="sxs-lookup"><span data-stu-id="93c21-259">You can select hello boxes of hello logs you want toocollect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="93c21-260">Sono disponibili i nomi dei contenitori di archiviazione predefinito, ma se si desidera, è possibile modificare i nomi di hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-260">Default storage container names are provided, but you can change hello names if you want.</span></span>

<span data-ttu-id="93c21-261">È anche possibile acquisire log da qualsiasi cartella.</span><span class="sxs-lookup"><span data-stu-id="93c21-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="93c21-262">Specificare solo il percorso di hello in hello **Log da Directory assoluta** sezione e quindi scegliere hello **Aggiungi Directory** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-262">Just specify hello path in hello **Log from Absolute Directory** section and then choose hello **Add Directory** button.</span></span> <span data-ttu-id="93c21-263">Hello log verranno acquisiti toohello specificato contenitori.</span><span class="sxs-lookup"><span data-stu-id="93c21-263">hello logs will be captured toohello specified containers.</span></span>

  ![Directory log](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="93c21-265">Log ETW</span><span class="sxs-lookup"><span data-stu-id="93c21-265">ETW logs</span></span>
<span data-ttu-id="93c21-266">Se si utilizza [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) e si desidera toocapture ai log ETW, seleziona hello **Abilita il trasferimento di log ETW** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want toocapture ETW logs, select hello **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="93c21-267">È possibile aumentare o ridurre il numero di hello di minuti quando vengono trasferiti i log di hello tooyour account di archiviazione modificando hello **periodo di trasferimento (min)** valore.</span><span class="sxs-lookup"><span data-stu-id="93c21-267">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="93c21-268">gli eventi di Hello vengono acquisiti da origini evento e i manifesti eventi specificati.</span><span class="sxs-lookup"><span data-stu-id="93c21-268">hello events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="93c21-269">toospecify un'origine evento, immettere un nome in hello **origini evento** sezione e quindi scegliere hello **Aggiungi origine evento** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-269">toospecify an event source, enter a name in hello **Event Sources** section and then choose hello **Add Event Source** button.</span></span> <span data-ttu-id="93c21-270">Analogamente, è possibile specificare un manifesto di eventi in hello **manifesti evento** sezione e quindi scegliere hello **Aggiungi manifesto evento** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-270">Similarly, you can specify an event manifest in hello **Event Manifests** section and then choose hello **Add Event Manifest** button.</span></span>

  ![Log ETW](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="93c21-272">framework ETW Hello è supportato in ASP.NET tramite classi hello [System.Diagnostics.aspx] (spazio dei nomi https://msdn.microsoft.com/library/system.diagnostics (110).</span><span class="sxs-lookup"><span data-stu-id="93c21-272">hello ETW framework is supported in ASP.NET through classes in hello [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="93c21-273">spazio dei nomi Microsoft.WindowsAzure.Diagnostics Hello, che eredita da ed estende standard (classi https://msdn.microsoft.com/library/system.diagnostics (110), consente di utilizzare hello di [System.Diagnostics.aspx] ([System.Diagnostics.aspx] https://msdn.microsoft.com/library/System.Diagnostics (110) come framework di registrazione nell'ambiente Azure hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-273">hello Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables hello use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in hello Azure environment.</span></span> <span data-ttu-id="93c21-274">Per altre informazioni, vedere [Controllare la registrazione e la traccia in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) e [Abilitazione di Diagnostica in servizi cloud e macchine virtuali di Azure](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="93c21-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="93c21-275">Dump di arresto anomalo del sistema</span><span class="sxs-lookup"><span data-stu-id="93c21-275">Crash dumps</span></span>
<span data-ttu-id="93c21-276">Se si desiderano toocapture informazioni quando si blocca un'istanza del ruolo, selezionare hello **Abilita il trasferimento di dump di arresto anomalo** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-276">If you want toocapture information about when a role instance crashes, select hello **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="93c21-277">Poiché la maggior parte delle eccezioni è gestita da ASP.NET, questo è in genere utile solo per i ruoli di lavoro. È possibile aumentare o ridurre hello percentuale di spazio di archiviazione spazio dedicato toohello arresto anomalo del sistema modificando hello **Quota di Directory (%)** valore.</span><span class="sxs-lookup"><span data-stu-id="93c21-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease hello percentage of storage space devoted toohello crash dumps by changing hello **Directory Quota (%)** value.</span></span> <span data-ttu-id="93c21-278">È possibile modificare il contenitore dell'archivio hello in cui vengono memorizzati i dump di arresto anomalo hello ed è possibile selezionare se si desidera toocapture un **completo** o **Mini** dump.</span><span class="sxs-lookup"><span data-stu-id="93c21-278">You can change hello storage container where hello crash dumps are stored, and you can select whether you want toocapture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="93c21-279">vengono elencati i processi di Hello attualmente monitorati.</span><span class="sxs-lookup"><span data-stu-id="93c21-279">hello processes currently being tracked are listed.</span></span> <span data-ttu-id="93c21-280">Selezionare le caselle di controllo hello per i processi di hello che si desidera toocapture.</span><span class="sxs-lookup"><span data-stu-id="93c21-280">Select hello check boxes for hello processes that you want toocapture.</span></span> <span data-ttu-id="93c21-281">tooadd elenco toohello a un altro processo, immettere il nome di processo hello e quindi scegliere hello **Aggiungi processo** pulsante.</span><span class="sxs-lookup"><span data-stu-id="93c21-281">tooadd another process toohello list, enter hello process name and then choose hello **Add Process** button.</span></span>

  ![Dump di arresto anomalo del sistema](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="93c21-283">Per altre informazioni, vedere [Controllare la registrazione e la traccia in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) e [Diagnostica di Microsoft Azure - Parte 4: Personalizzare i componenti di registrazione e modifiche a Diagnostica di Azure 1.3](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/).</span><span class="sxs-lookup"><span data-stu-id="93c21-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-hello-diagnostics-data"></a><span data-ttu-id="93c21-284">Visualizza i dati di diagnostica hello</span><span class="sxs-lookup"><span data-stu-id="93c21-284">View hello diagnostics data</span></span>
<span data-ttu-id="93c21-285">Dopo aver raccolto i dati di diagnostica hello per un servizio cloud o una macchina virtuale, è possibile visualizzarlo.</span><span class="sxs-lookup"><span data-stu-id="93c21-285">After you’ve collected hello diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="tooview-cloud-service-diagnostics-data"></a><span data-ttu-id="93c21-286">dati di diagnostica del servizio cloud tooview</span><span class="sxs-lookup"><span data-stu-id="93c21-286">tooview cloud service diagnostics data</span></span>
1. <span data-ttu-id="93c21-287">Distribuire il servizio cloud come di consueto, quindi eseguirlo.</span><span class="sxs-lookup"><span data-stu-id="93c21-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="93c21-288">È possibile visualizzare i dati di diagnostica hello in un report generato da Visual Studio o le tabelle nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-288">You can view hello diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="93c21-289">dati hello tooview in un report, aprire **Cloud Explorer** o **Esplora Server**, aprire il menu di scelta rapida hello del nodo hello per ruolo hello desiderato e quindi scegliere **Visualizza dati di diagnostica** .</span><span class="sxs-lookup"><span data-stu-id="93c21-289">tooview hello data in a report, open **Cloud Explorer** or **Server Explorer**, open hello shortcut menu of hello node for hello role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![Visualizza dati di diagnostica](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="93c21-291">Viene visualizzato un report che mostra i dati disponibili hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-291">A report that shows hello available data appears.</span></span>
   
    ![Report Diagnostica di Microsoft Azure in Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="93c21-293">Se i dati più recenti di hello non viene visualizzata, potrebbe essere toowait per tooelapse periodo di trasferimento hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-293">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="93c21-294">Scegliere hello **aggiornamento** collegare tooimmediately aggiornamento hello dati o scegliere un intervallo hello **aggiornamento automatico** elenco a discesa elenco casella toohave hello i dati aggiornati automaticamente.</span><span class="sxs-lookup"><span data-stu-id="93c21-294">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="93c21-295">dati di errore hello tooexport, scegliere hello **esportare tooCSV** pulsante toocreate un file con valori delimitati da virgole è possibile aprire un foglio di calcolo.</span><span class="sxs-lookup"><span data-stu-id="93c21-295">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="93c21-296">In **Cloud Explorer** o **Esplora Server**, aprire l'account di archiviazione hello associata a una distribuzione di hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-296">In **Cloud Explorer** or **Server Explorer**, open hello storage account that's associated with hello deployment.</span></span>
3. <span data-ttu-id="93c21-297">Aprire tabelle di diagnostica hello in Visualizzatore di tabelle hello e quindi esaminare i dati di hello raccolti.</span><span class="sxs-lookup"><span data-stu-id="93c21-297">Open hello diagnostics tables in hello table viewer, and then review hello data that you collected.</span></span> <span data-ttu-id="93c21-298">Per i log IIS e i log personalizzati sarà possibile aprire un contenitore BLOB.</span><span class="sxs-lookup"><span data-stu-id="93c21-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="93c21-299">Rivedendo hello nella tabella seguente, è possibile trovare hello tabella o il contenitore blob che contiene dati hello desiderato.</span><span class="sxs-lookup"><span data-stu-id="93c21-299">By reviewing hello following table, you can find hello table or blob container that contains hello data that interests you.</span></span> <span data-ttu-id="93c21-300">Inoltre toohello dati per tale file di log, le voci della tabella hello contengono EventTickCount, DeploymentId, ruolo e RoleInstance toohelp è identificare macchina virtuale e del ruolo generato dati hello e quando.</span><span class="sxs-lookup"><span data-stu-id="93c21-300">In addition toohello data for that log file, hello table entries contain EventTickCount, DeploymentId, Role, and RoleInstance toohelp you identify what virtual machine and role generated hello data and when.</span></span> 
   
   | <span data-ttu-id="93c21-301">Dati di diagnostica</span><span class="sxs-lookup"><span data-stu-id="93c21-301">Diagnostic data</span></span> | <span data-ttu-id="93c21-302">Descrizione</span><span class="sxs-lookup"><span data-stu-id="93c21-302">Description</span></span> | <span data-ttu-id="93c21-303">Località</span><span class="sxs-lookup"><span data-stu-id="93c21-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="93c21-304">Log applicazioni</span><span class="sxs-lookup"><span data-stu-id="93c21-304">Application Logs</span></span> |<span data-ttu-id="93c21-305">Registra il codice genera l'errore chiamando i metodi della classe Trace hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-305">Logs that your code generates by calling methods of hello System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="93c21-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="93c21-306">WADLogsTable</span></span> |
   | <span data-ttu-id="93c21-307">Log eventi</span><span class="sxs-lookup"><span data-stu-id="93c21-307">Event Logs</span></span> |<span data-ttu-id="93c21-308">Questi dati provengono dai registri eventi di Windows hello in macchine virtuali hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-308">This data is from hello Windows event logs on hello virtual machines.</span></span> <span data-ttu-id="93c21-309">Informazioni sono archiviate in questi registri di Windows, ma servizi e applicazioni inoltre utilizzano tooreport errori o informazioni di registrazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-309">Windows stores information in these logs, but applications and services also use them tooreport errors or log information.</span></span> |<span data-ttu-id="93c21-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="93c21-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="93c21-311">Contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="93c21-311">Performance Counters</span></span> |<span data-ttu-id="93c21-312">È possibile raccogliere dati su qualsiasi contatore delle prestazioni che è disponibile nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-312">You can collect data on any performance counter that’s available on hello virtual machine.</span></span> <span data-ttu-id="93c21-313">sistema operativo Hello fornisce contatori delle prestazioni, che includono molte statistiche, ad esempio il tempo di elaborazione e utilizzo della memoria.</span><span class="sxs-lookup"><span data-stu-id="93c21-313">hello operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="93c21-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="93c21-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="93c21-315">Log infrastruttura</span><span class="sxs-lookup"><span data-stu-id="93c21-315">Infrastructure Logs</span></span> |<span data-ttu-id="93c21-316">Questi log vengono generati dall'infrastruttura di diagnostica hello stesso.</span><span class="sxs-lookup"><span data-stu-id="93c21-316">These logs are generated from hello diagnostics infrastructure itself.</span></span> |<span data-ttu-id="93c21-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="93c21-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="93c21-318">Log di IIS</span><span class="sxs-lookup"><span data-stu-id="93c21-318">IIS Logs</span></span> |<span data-ttu-id="93c21-319">Questi log registrano le richieste Web.</span><span class="sxs-lookup"><span data-stu-id="93c21-319">These logs record web requests.</span></span> <span data-ttu-id="93c21-320">Se il servizio cloud riceve una quantità significativa di traffico, questi log possono essere abbastanza lunghi. È quindi consigliabile raccogliere e archiviare questi dati solo quando necessario.</span><span class="sxs-lookup"><span data-stu-id="93c21-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="93c21-321">È possibile trovare i log di richieste non riuscite nel contenitore blob hello in wad-iis-failedreqlogs nel percorso per la distribuzione, ruolo e istanza.</span><span class="sxs-lookup"><span data-stu-id="93c21-321">You can find failed-request logs in hello blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="93c21-322">I log completi sono disponibili in wad-iis-logfiles.</span><span class="sxs-lookup"><span data-stu-id="93c21-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="93c21-323">Per ogni file vengono immessi nella tabella WADDirectories hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-323">Entries for each file are made in hello WADDirectories table.</span></span> |
   | <span data-ttu-id="93c21-324">Dump di arresto anomalo del sistema</span><span class="sxs-lookup"><span data-stu-id="93c21-324">Crash dumps</span></span> |<span data-ttu-id="93c21-325">Queste informazioni forniscono immagini binarie del processo del servizio cloud, in genere un ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="93c21-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="93c21-326">Contenitore BLOB wad-crush-dumps</span><span class="sxs-lookup"><span data-stu-id="93c21-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="93c21-327">File di log personalizzati</span><span class="sxs-lookup"><span data-stu-id="93c21-327">Custom log files</span></span> |<span data-ttu-id="93c21-328">Registra i dati definiti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="93c21-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="93c21-329">È possibile specificare nel percorso di codice hello dei file di log personalizzati nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-329">You can specify in code hello location of custom log files in your storage account.</span></span> <span data-ttu-id="93c21-330">Ad esempio, è possibile specificare un contenitore BLOB personalizzato.</span><span class="sxs-lookup"><span data-stu-id="93c21-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="93c21-331">Se qualsiasi tipo di dati viene troncati, è possibile provare a incremento buffer hello per tale tipo di dati o la riduzione dell'intervallo hello tra i trasferimenti di dati dall'account di archiviazione tooyour hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="93c21-331">If data of any type is truncated, you can try increasing hello buffer for that data type or shortening hello interval between transfers of data from hello virtual machine tooyour storage account.</span></span>
5. <span data-ttu-id="93c21-332">(facoltativo) In alcuni casi ripulitura dati dall'archiviazione hello account tooreduce i costi di archiviazione complessivo.</span><span class="sxs-lookup"><span data-stu-id="93c21-332">(optional) Purge data from hello storage account occasionally tooreduce overall storage costs.</span></span>
6. <span data-ttu-id="93c21-333">Quando si esegue una distribuzione completa, file Diagnostics cscfg hello (con estensione wadcfgx per Azure SDK 2.5) viene aggiornato in Azure e il servizio cloud rileva qualsiasi configurazione della diagnostica tooyour le modifiche.</span><span class="sxs-lookup"><span data-stu-id="93c21-333">When you do a full deployment, hello diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes tooyour diagnostics configuration.</span></span> <span data-ttu-id="93c21-334">Se, invece, aggiorna una distribuzione esistente, i file con estensione cscfg hello non viene aggiornato in Azure.</span><span class="sxs-lookup"><span data-stu-id="93c21-334">If you, instead, update an existing deployment, hello .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="93c21-335">È comunque possibile modificare le impostazioni di diagnostica, tuttavia, seguendo i passaggi di hello nella sezione successiva hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-335">You can still change diagnostics settings, though, by following hello steps in hello next section.</span></span> <span data-ttu-id="93c21-336">Per altre informazioni sull'esecuzione di una distribuzione completa e sull'aggiornamento di una distribuzione esistente, vedere [Procedura guidata Pubblica l'applicazione Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="93c21-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="tooview-virtual-machine-diagnostics-data"></a><span data-ttu-id="93c21-337">dati di diagnostica tooview macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="93c21-337">tooview virtual machine diagnostics data</span></span>
1. <span data-ttu-id="93c21-338">Scegliere hello dal menu di scelta rapida per la macchina virtuale hello, **Visualizza dati di diagnostica**.</span><span class="sxs-lookup"><span data-stu-id="93c21-338">On hello shortcut menu for hello virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Visualizzare i dati di diagnostica nella macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="93c21-340">Verrà visualizzata hello **riepilogo diagnostica** finestra.</span><span class="sxs-lookup"><span data-stu-id="93c21-340">This opens hello **Diagnostics summary** window.</span></span>
   
    ![Riepilogo di diagnostica della macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="93c21-342">Se i dati più recenti di hello non viene visualizzata, potrebbe essere toowait per tooelapse periodo di trasferimento hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-342">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="93c21-343">Scegliere hello **aggiornamento** collegare tooimmediately aggiornamento hello dati o scegliere un intervallo hello **aggiornamento automatico** elenco a discesa elenco casella toohave hello i dati aggiornati automaticamente.</span><span class="sxs-lookup"><span data-stu-id="93c21-343">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="93c21-344">dati di errore hello tooexport, scegliere hello **esportare tooCSV** pulsante toocreate un file con valori delimitati da virgole è possibile aprire un foglio di calcolo.</span><span class="sxs-lookup"><span data-stu-id="93c21-344">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="93c21-345">Configurare la diagnostica del servizio cloud dopo la distribuzione</span><span class="sxs-lookup"><span data-stu-id="93c21-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="93c21-346">Se si sta verificando un problema con un servizio cloud già in esecuzione, è possibile toocollect dati che non hai specificato prima di ruolo è distribuito originariamente hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-346">If you're investigating a problem with a cloud service that already running, you might want toocollect data that you didn't specify before you originally deployed hello role.</span></span> <span data-ttu-id="93c21-347">In questo caso, è possibile avviare toocollect che i dati utilizzando le impostazioni di hello in Esplora Server.</span><span class="sxs-lookup"><span data-stu-id="93c21-347">In this case, you can start toocollect that data by using hello settings in Server Explorer.</span></span> <span data-ttu-id="93c21-348">È possibile configurare la diagnostica per una singola istanza o tutte le istanze di hello in un ruolo, a seconda se si apre la finestra di dialogo di configurazione di diagnostica hello dal menu di scelta rapida hello istanza hello o al ruolo hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-348">You can configure diagnostics for either a single instance or all hello instances in a role, depending on whether you open hello Diagnostics Configuration dialog box from hello shortcut menu for hello instance or hello role.</span></span> <span data-ttu-id="93c21-349">Se si configura il nodo di ruolo hello, le modifiche vengono applicate istanze tooall.</span><span class="sxs-lookup"><span data-stu-id="93c21-349">If you configure hello role node, any changes apply tooall instances.</span></span> <span data-ttu-id="93c21-350">Se si configura il nodo di istanza hello, le modifiche vengono applicate solo l'istanza toothat.</span><span class="sxs-lookup"><span data-stu-id="93c21-350">If you configure hello instance node, any changes apply toothat instance only.</span></span>

### <a name="tooconfigure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="93c21-351">diagnostica tooconfigure per un servizio cloud in esecuzione</span><span class="sxs-lookup"><span data-stu-id="93c21-351">tooconfigure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="93c21-352">In Esplora Server espandere hello **servizi Cloud** nodo, quindi espandere i nodi toolocate hello ruolo o istanza che si desidera tooinvestigate o entrambi.</span><span class="sxs-lookup"><span data-stu-id="93c21-352">In Server Explorer, expand hello **Cloud Services** node, and then expand nodes toolocate hello role or instance that you want tooinvestigate or both.</span></span>
   
    ![Configurazione di Diagnostica](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="93c21-354">Hello dal menu di scelta rapida per un nodo di istanza o un ruolo, scegliere **Aggiorna impostazioni di diagnostica**, quindi scegliere le impostazioni di diagnostica che si desidera toocollect hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-354">On hello shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose hello diagnostic settings that you want toocollect.</span></span>
   
    <span data-ttu-id="93c21-355">Per informazioni sulle impostazioni di configurazione di hello, vedere **configurare origini dati di diagnostica** in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="93c21-355">For information about hello configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="93c21-356">Per informazioni su come tooview hello dati di diagnostica, vedere **visualizzare dati di diagnostica hello** in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="93c21-356">For information about how tooview hello diagnostics data, see **View hello diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="93c21-357">Se si modifica la raccolta di dati in **Esplora server**, tali modifiche rimarranno validi fino a una nuova distribuzione completa del servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="93c21-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="93c21-358">Se si utilizza le impostazioni di pubblicazione predefinito hello modifiche hello non vengono sovrascritte, poiché di pubblicazione predefinito hello impostazione tooupdate distribuzione esistente di hello, anziché eseguire una ridistribuzione completa.</span><span class="sxs-lookup"><span data-stu-id="93c21-358">If you use hello default publish settings, hello changes are not overwritten, since hello default publish setting is tooupdate hello existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="93c21-359">impostazioni hello che toomake cancellate al momento della distribuzione, passa toohello **impostazioni avanzate** scheda nella procedura guidata di pubblicazione hello e crittografato hello **aggiornamento distribuzione** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="93c21-359">toomake sure hello settings clear at deployment time, go toohello **Advanced Settings** tab in hello Publish wizard and clear hello **Deployment update** checkbox.</span></span> <span data-ttu-id="93c21-360">Quando esegue la ridistribuzione con tale casella di controllo deselezionata, le impostazioni di hello ripristino toothose nel file con estensione wadcfgx (o wadcfg) di hello impostate tramite l'editor delle proprietà per il ruolo di hello hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-360">When you redeploy with that checkbox cleared, hello settings revert toothose in hello .wadcfgx (or .wadcfg) file as set through hello Properties editor for hello role.</span></span> <span data-ttu-id="93c21-361">Se si aggiorna la distribuzione, Azure mantiene le impostazioni precedenti hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-361">If you update your deployment, Azure keeps hello old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="93c21-362">Risolvere i problemi del servizio cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="93c21-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="93c21-363">Se si verificano problemi con i progetti servizio cloud, ad esempio un ruolo bloccato nello stato "occupato", più volte viene riciclato o genera un errore interno del server, sono disponibili strumenti e tecniche è possibile utilizzare toodiagnose e risolvere questi problemi.</span><span class="sxs-lookup"><span data-stu-id="93c21-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use toodiagnose and fix these problems.</span></span> <span data-ttu-id="93c21-364">Per esempi specifici di problemi e soluzioni comuni, nonché una panoramica dei concetti di hello e strumenti utilizzati toodiagnose e risolvere tali errori, vedere [dati di diagnostica di calcolo di Azure PaaS](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="93c21-364">For specific examples of common problems and solutions, as well as an overview of hello concepts and tools used toodiagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="93c21-365">Domande e risposte</span><span class="sxs-lookup"><span data-stu-id="93c21-365">Q & A</span></span>
<span data-ttu-id="93c21-366">**Che cos'è una dimensione del buffer hello e devono essere grandi come?**</span><span class="sxs-lookup"><span data-stu-id="93c21-366">**What is hello buffer size, and how large should it be?**</span></span>

<span data-ttu-id="93c21-367">In ogni istanza di macchina virtuale, le quote limitano la quantità di dati diagnostici possono essere archiviati hello file System locale.</span><span class="sxs-lookup"><span data-stu-id="93c21-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on hello local file system.</span></span> <span data-ttu-id="93c21-368">È anche possibile specificare una dimensione del buffer per ogni tipo di dato di diagnostica disponibile.</span><span class="sxs-lookup"><span data-stu-id="93c21-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="93c21-369">Tale dimensione del buffer funge da quota individuale per quel tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="93c21-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="93c21-370">Selezionando la finestra di dialogo hello di fondo hello, è possibile determinare hello quota complessiva e la quantità di hello di memoria rimanente.</span><span class="sxs-lookup"><span data-stu-id="93c21-370">By checking hello bottom of hello dialog box, you can determine hello overall quota and hello amount of memory that remains.</span></span> <span data-ttu-id="93c21-371">Se si specificano buffer più grandi o più tipi di dati, verrà usata hello quota complessiva.</span><span class="sxs-lookup"><span data-stu-id="93c21-371">If you specify larger buffers or more types of data, you'll approach hello overall quota.</span></span> <span data-ttu-id="93c21-372">È possibile modificare hello quota complessiva modificando i file di configurazione diagnostics.wadcfg/.wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-372">You can change hello overall quota by modifying hello diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="93c21-373">diagnostica Hello dati vengono archiviati in hello stesso file System dei dati dell'applicazione, pertanto se l'applicazione utilizza una grande quantità di spazio su disco, è consigliabile non aumentare hello quota complessiva di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93c21-373">hello diagnostics data is stored on hello same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase hello overall diagnostics quota.</span></span>

<span data-ttu-id="93c21-374">**Che cos'è il periodo di trasferimento hello e quanto tempo deve essere?**</span><span class="sxs-lookup"><span data-stu-id="93c21-374">**What is hello transfer period, and how long should it be?**</span></span>

<span data-ttu-id="93c21-375">periodo di trasferimento Hello è hello periodo di tempo che trascorre tra i dati acquisiti.</span><span class="sxs-lookup"><span data-stu-id="93c21-375">hello transfer period is hello amount of time that elapses between data captures.</span></span> <span data-ttu-id="93c21-376">Dopo ogni periodo di trasferimento, i dati vengono spostati dal file System locale hello in una macchina virtuale tootables nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93c21-376">After each transfer period, data is moved from hello local filesystem on a virtual machine tootables in your storage account.</span></span> <span data-ttu-id="93c21-377">Se hello di dati raccolti supera la quota hello prima fine hello del periodo di trasferimento, è possibile che i dati meno recenti vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="93c21-377">If hello amount of data that's collected exceeds hello quota before hello end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="93c21-378">È il periodo di trasferimento hello toodecrease se si sta perdita di dati perché i dati superano le dimensioni del buffer di hello o hello quota complessiva.</span><span class="sxs-lookup"><span data-stu-id="93c21-378">You might want toodecrease hello transfer period if you're losing data because your data exceeds hello buffer size or hello overall quota.</span></span>

<span data-ttu-id="93c21-379">**Quale fuso orario sono hello timestamp in?**</span><span class="sxs-lookup"><span data-stu-id="93c21-379">**What time zone are hello time stamps in?**</span></span>

<span data-ttu-id="93c21-380">Hello time stamp sono fuso orario locale hello del centro dati hello che ospita il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="93c21-380">hello time stamps are in hello local time zone of hello data center that hosts your cloud service.</span></span> <span data-ttu-id="93c21-381">Hello seguenti tre colonne di tipo timestamp nelle tabelle di log hello vengono utilizzate.</span><span class="sxs-lookup"><span data-stu-id="93c21-381">hello following three timestamp columns in hello log tables are used.</span></span>

* <span data-ttu-id="93c21-382">**PreciseTimeStamp** hello ETW timestamp dell'evento hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-382">**PreciseTimeStamp** is hello ETW timestamp of hello event.</span></span> <span data-ttu-id="93c21-383">Vale a dire evento hello hello viene registrato dal client hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-383">That is, hello time hello event is logged from hello client.</span></span>
* <span data-ttu-id="93c21-384">**TIMESTAMP** viene PreciseTimeStamp arrotondato per difetto toohello limite di frequenza di caricamento.</span><span class="sxs-lookup"><span data-stu-id="93c21-384">**TIMESTAMP** is PreciseTimeStamp rounded down toohello upload frequency boundary.</span></span> <span data-ttu-id="93c21-385">In tal caso, se la frequenza di caricamento è 5 minuti ed evento hello ora 00:17:12, TIMESTAMP sarà 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="93c21-385">So, if your upload frequency is 5 minutes and hello event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="93c21-386">**Timestamp** hello timestamp in cui hello entità è stata creata in hello tabelle di Azure.</span><span class="sxs-lookup"><span data-stu-id="93c21-386">**Timestamp** is hello timestamp at which hello entity was created in hello Azure table.</span></span>

<span data-ttu-id="93c21-387">**Come si gestiscono i costi durante la raccolta delle informazioni di diagnostica?**</span><span class="sxs-lookup"><span data-stu-id="93c21-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="93c21-388">Hello le impostazioni predefinite (**livello di registrazione** impostare troppo**errore** e **periodo di trasferimento** impostare troppo**1 minuto**) sono progettate toominimize costo.</span><span class="sxs-lookup"><span data-stu-id="93c21-388">hello default settings (**Log level** set too**Error** and **Transfer period** set too**1 minute**) are designed toominimize cost.</span></span> <span data-ttu-id="93c21-389">Il calcolo dei costi aumenta se raccogliere più dati di diagnostica o ridurre il periodo di trasferimento hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-389">Your compute costs will increase if you collect more diagnostic data or decrease hello transfer period.</span></span> <span data-ttu-id="93c21-390">Non raccogliere più dati del necessario e non dimenticare la raccolta dei dati toodisable quando non è più necessario.</span><span class="sxs-lookup"><span data-stu-id="93c21-390">Don’t collect more data than you need, and don’t forget toodisable data collection when you no longer need it.</span></span> <span data-ttu-id="93c21-391">È possibile sempre abilitarlo nuovamente, anche in fase di esecuzione, come illustrato nella sezione precedente hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-391">You can always enable it again, even at runtime, as shown in hello previous section.</span></span>

<span data-ttu-id="93c21-392">**Come si raccolgono log relativi alle richieste non riuscite da IIS?**</span><span class="sxs-lookup"><span data-stu-id="93c21-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="93c21-393">Per impostazione predefinita, IIS non raccoglie log relativi alle richieste non riuscite.</span><span class="sxs-lookup"><span data-stu-id="93c21-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="93c21-394">È possibile configurare IIS toocollect loro se si modifica hello file Web. config per il ruolo web.</span><span class="sxs-lookup"><span data-stu-id="93c21-394">You can configure IIS toocollect them if you edit hello web.config file for your web role.</span></span>

<span data-ttu-id="93c21-395">**Non si ottengono informazioni di traccia dai metodi RoleEntryPoint quali OnStart. Qual è il problema?**</span><span class="sxs-lookup"><span data-stu-id="93c21-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="93c21-396">metodi di Hello di RoleEntryPoint vengono chiamati nel contesto di hello di WAIISHost.exe e non di IIS.</span><span class="sxs-lookup"><span data-stu-id="93c21-396">hello methods of RoleEntryPoint are called in hello context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="93c21-397">Pertanto, hello le informazioni di configurazione Web. config che normalmente abilita la traccia non è valida.</span><span class="sxs-lookup"><span data-stu-id="93c21-397">Therefore, hello configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="93c21-398">tooresolve questo problema, aggiungere un progetto di ruolo web. config file tooyour e nome hello file toomatch hello output assembly che contiene il codice di RoleEntryPoint hello.</span><span class="sxs-lookup"><span data-stu-id="93c21-398">tooresolve this issue, add a .config file tooyour web role project, and name hello file toomatch hello output assembly that contains hello RoleEntryPoint code.</span></span> <span data-ttu-id="93c21-399">Nel progetto di ruolo web predefinito hello, il nome di hello del file con estensione config hello sarebbe Waiishost.exe. Aggiungere quindi hello seguenti righe toothis file:</span><span class="sxs-lookup"><span data-stu-id="93c21-399">In hello default web role project, hello name of hello .config file would be WAIISHost.exe.config. Then add hello following lines toothis file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="93c21-400">A questo punto, in hello **proprietà** finestra, hello set **copiare tooOutput Directory** proprietà troppo**Copia sempre**.</span><span class="sxs-lookup"><span data-stu-id="93c21-400">Now, in hello **Properties** window, set hello **Copy tooOutput Directory** property too**Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="93c21-401">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="93c21-401">Next steps</span></span>
<span data-ttu-id="93c21-402">toolearn ulteriori informazioni su Diagnostica registrazione in Azure, vedere [abilitazione di diagnostica in servizi Cloud di Azure e macchine virtuali](cloud-services/cloud-services-dotnet-diagnostics.md) e [abilitare la registrazione diagnostica per le app web in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="93c21-402">toolearn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

