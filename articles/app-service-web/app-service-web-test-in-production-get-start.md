---
title: aaaGet avviato con test nell'ambiente di produzione per le app Web
description: "Informazioni sulle funzionalità di produzione (TiP) nelle App Web di Azure App Service Ciao Test."
services: app-service\web
documentationcenter: 
author: cephalin
manager: erikre
editor: 
ms.assetid: 4623468d-886e-4203-8012-8f86deb2790b
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/13/2016
ms.author: cephalin
ms.openlocfilehash: 2ddbd532ffe2a4f3e07fd386d9741a3fde3639ca
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="get-started-with-test-in-production-for-web-apps"></a><span data-ttu-id="0b47e-103">Introduzione al test in ambiente di produzione per le app Web</span><span class="sxs-lookup"><span data-stu-id="0b47e-103">Get started with test in production for Web Apps</span></span>
<span data-ttu-id="0b47e-104">Il test in ambiente di produzione, ovvero il test in diretta dell'app Web con il traffico dei clienti live, è una strategia di test che gli sviluppatori di app integrano sempre più spesso nella metodologia di [sviluppo Agile](https://en.wikipedia.org/wiki/Agile_software_development) .</span><span class="sxs-lookup"><span data-stu-id="0b47e-104">Testing in production, or live-testing your web app using live customer traffic, is a test strategy that app developers increasingly integrate into their [agile development](https://en.wikipedia.org/wiki/Agile_software_development) methodology.</span></span> <span data-ttu-id="0b47e-105">Consente di qualità hello tootest delle App con il traffico utente in tempo reale nell'ambiente di produzione, come dati toosynthesized anziché in un ambiente di test.</span><span class="sxs-lookup"><span data-stu-id="0b47e-105">It enables you tootest hello quality of your apps with live user traffic in your production environment, as opposed toosynthesized data in a test environment.</span></span> <span data-ttu-id="0b47e-106">Per esporre i nuovi utenti tooreal app, possono essere informati sui problemi relativi alle reali hello che può incontrare l'app dopo la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="0b47e-106">By exposing your new app tooreal users, you can be informed on hello real problems your app may face once it is deployed.</span></span> <span data-ttu-id="0b47e-107">È possibile verificare la funzionalità di hello, prestazioni e valore gli aggiornamenti di app su volume hello, velocità e la varietà del traffico utente reale, in cui non è mai simile in un ambiente di test.</span><span class="sxs-lookup"><span data-stu-id="0b47e-107">You can verify hello functionality, performance, and value of your app updates against hello volume, velocity, and variety of real user traffic, which you can never approximate in a test environment.</span></span>

## <a name="traffic-routing-in-app-service-web-apps"></a><span data-ttu-id="0b47e-108">Routing del traffico in app Web del servizio app</span><span class="sxs-lookup"><span data-stu-id="0b47e-108">Traffic Routing in App Service Web Apps</span></span>
<span data-ttu-id="0b47e-109">Con il Routing del traffico hello funzionalità in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714), è possibile indirizzare una parte di tooone traffico utente in tempo reale o più [gli slot di distribuzione](web-sites-staged-publishing.md)e quindi analizzare l'app con [l'applicazione Azure Insights](/services/application-insights/) o [Azure HDInsight](/services/hdinsight/), o uno strumento di terze parti, ad esempio [New Relic](/marketplace/partners/newrelic/newrelic/) toovalidate la modifica.</span><span class="sxs-lookup"><span data-stu-id="0b47e-109">With hello Traffic Routing feature in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714), you can direct a portion of live user traffic tooone or more [deployment slots](web-sites-staged-publishing.md), and then analyze your app with [Azure Application Insights](/services/application-insights/) or [Azure HDInsight](/services/hdinsight/), or a third-party tool like [New Relic](/marketplace/partners/newrelic/newrelic/) toovalidate your change.</span></span> <span data-ttu-id="0b47e-110">Ad esempio, è possibile implementare hello seguenti scenari con il servizio App:</span><span class="sxs-lookup"><span data-stu-id="0b47e-110">For example, you can implement hello following scenarios with App Service:</span></span>

* <span data-ttu-id="0b47e-111">Individuare bug funzionale o individuare eventuali colli di bottiglia nella distribuzione di aggiornamenti precedenti toosite wide</span><span class="sxs-lookup"><span data-stu-id="0b47e-111">Discover functional bugs or pinpoint performance bottlenecks in your updates prior toosite-wide deployment</span></span>
* <span data-ttu-id="0b47e-112">Eseguire "test controllato voli" delle modifiche misurando le metriche di usabilità per app di hello beta</span><span class="sxs-lookup"><span data-stu-id="0b47e-112">Perform "controlled test flights" of your changes by measuring usability metrics on hello beta app</span></span>
* <span data-ttu-id="0b47e-113">Gradualmente salita tooa nuovo aggiornamento e normalmente nuovamente verso il basso la versione corrente di toohello se si verifica un errore</span><span class="sxs-lookup"><span data-stu-id="0b47e-113">Gradually ramp up tooa new update, and gracefully back down toohello current version if an error occurs</span></span> 
* <span data-ttu-id="0b47e-114">Ottimizzare i risultati aziendali dell'app eseguendo [test A/B](https://en.wikipedia.org/wiki/A/B_testing) o [test multivariati](https://en.wikipedia.org/wiki/Multivariate_testing_in_marketing) in più slot di distribuzione</span><span class="sxs-lookup"><span data-stu-id="0b47e-114">Optimize your app's business results by running [A/B tests](https://en.wikipedia.org/wiki/A/B_testing) or [multivariate tests](https://en.wikipedia.org/wiki/Multivariate_testing_in_marketing) in multiple deployment slots</span></span>

### <a name="requirements-for-using-traffic-routing-in-web-apps"></a><span data-ttu-id="0b47e-115">Requisiti per l'uso di Routing del traffico nelle app Web</span><span class="sxs-lookup"><span data-stu-id="0b47e-115">Requirements for using Traffic Routing in Web Apps</span></span>
* <span data-ttu-id="0b47e-116">L'app Web deve essere eseguita nel piano **Standard** o **Premium**, come richiesto per slot di distribuzione multipli.</span><span class="sxs-lookup"><span data-stu-id="0b47e-116">Your web app must run in **Standard** or **Premium** tier, as it is required for multiple deployment slots.</span></span>
* <span data-ttu-id="0b47e-117">In ordine toowork correttamente, il Routing del traffico richiede toobe i cookie abilitati nel browser degli utenti hello.</span><span class="sxs-lookup"><span data-stu-id="0b47e-117">In order toowork properly, Traffic Routing requires cookies toobe enabled in hello users' browser.</span></span> <span data-ttu-id="0b47e-118">Routing del traffico utilizza cookie toopin uno slot di distribuzione tooa browser client per la sessione di hello vita hello client.</span><span class="sxs-lookup"><span data-stu-id="0b47e-118">Traffic Routing uses cookies toopin a client browser tooa deployment slot for hello life hello client session.</span></span>
* <span data-ttu-id="0b47e-119">Routing del traffico supporta scenari di test in ambiente di produzione avanzati grazie ai cmdlet di Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0b47e-119">Traffic Routing supports advanced TiP scenarios through Azure PowerShell cmdlets.</span></span>

## <a name="route-traffic-segment-tooa-deployment-slot"></a><span data-ttu-id="0b47e-120">Slot di distribuzione di route del traffico segmento tooa</span><span class="sxs-lookup"><span data-stu-id="0b47e-120">Route traffic segment tooa deployment slot</span></span>
<span data-ttu-id="0b47e-121">A livello di base hello in ogni scenario di suggerimento, si distribuisce una percentuale predefinita dello slot di distribuzione non di produzione tooa traffico in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="0b47e-121">At hello basic level in every TiP scenario, you route a predefined percentage of your live traffic tooa non-production deployment slot.</span></span> <span data-ttu-id="0b47e-122">toodo, questa procedura hello seguire seguente:</span><span class="sxs-lookup"><span data-stu-id="0b47e-122">toodo this, follow hello steps below:</span></span>

> [!NOTE]
> <span data-ttu-id="0b47e-123">Hello questa procedura si presuppone che sia già un [slot di distribuzione non di produzione](web-sites-staged-publishing.md) e lo si desidera che hello contenuti dell'app web sono già [distribuito](web-sites-deploy.md) tooit.</span><span class="sxs-lookup"><span data-stu-id="0b47e-123">hello steps here assumes that you already have a [non-production deployment slot](web-sites-staged-publishing.md) and that hello desired web app content is already [deployed](web-sites-deploy.md) tooit.</span></span>
> 
> 

1. <span data-ttu-id="0b47e-124">Accedere al hello [portale Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="0b47e-124">Log into hello [Azure Portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="0b47e-125">Nel pannello dell'app Web fare clic su **Impostazioni** > **Routing del traffico**.</span><span class="sxs-lookup"><span data-stu-id="0b47e-125">In your web app's blade, click **Settings** > **Traffic Routing**.</span></span>
   ![](./media/app-service-web-test-in-production/01-traffic-routing.png)
3. <span data-ttu-id="0b47e-126">Slot selezionare hello che si desidera che tooroute traffico tooand hello percentuale di traffico totale di hello è desiderato, quindi fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="0b47e-126">Select hello slot that you want tooroute traffic tooand hello percentage of hello total traffic you desire, then click **Save**.</span></span>
   
    ![](./media/app-service-web-test-in-production/02-select-slot.png)
4. <span data-ttu-id="0b47e-127">Andare a pannello dello slot di distribuzione toohello.</span><span class="sxs-lookup"><span data-stu-id="0b47e-127">Go toohello deployment slot's blade.</span></span> <span data-ttu-id="0b47e-128">Viene visualizzato in tempo reale del traffico viene indirizzato tooit.</span><span class="sxs-lookup"><span data-stu-id="0b47e-128">You should now see live traffic being routed tooit.</span></span>
   
    ![](./media/app-service-web-test-in-production/03-traffic-routed.png)

<span data-ttu-id="0b47e-129">Dopo aver configurato il Routing del traffico, hello specificati percentuale di client sarà slot non di produzione tooyour indirizzato in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="0b47e-129">Once Traffic Routing is configured, hello specified percentage of clients will be randomly routed tooyour non-production slot.</span></span> <span data-ttu-id="0b47e-130">Tuttavia, è importante toonote che un client viene automaticamente indirizzato tooa specifico slot, sarà "bloccato" toothat slot per ciclo di vita di hello di tale sessione client.</span><span class="sxs-lookup"><span data-stu-id="0b47e-130">However, it is important toonote that once a client is automatically routed tooa specific slot, it will be "pinned" toothat slot for hello life of that client session.</span></span> <span data-ttu-id="0b47e-131">L'operazione viene eseguita tramite una sessione utente di cookie toopin hello.</span><span class="sxs-lookup"><span data-stu-id="0b47e-131">This done using a cookie toopin hello user session.</span></span> <span data-ttu-id="0b47e-132">Se si osservano le richieste HTTP hello, si noterà un `TipMix` cookie in tutte le richieste successive.</span><span class="sxs-lookup"><span data-stu-id="0b47e-132">If you inspect hello HTTP requests, you will find a `TipMix` cookie in every subsequent request.</span></span>

![](./media/app-service-web-test-in-production/04-tip-cookie.png)

## <a name="force-client-requests-tooa-specific-slot"></a><span data-ttu-id="0b47e-133">Forzare slot specifico tooa di richieste client</span><span class="sxs-lookup"><span data-stu-id="0b47e-133">Force client requests tooa specific slot</span></span>
<span data-ttu-id="0b47e-134">In aggiunta tooautomatic il routing del traffico, servizio App è slot specifico di tooroute in grado di richieste tooa.</span><span class="sxs-lookup"><span data-stu-id="0b47e-134">In addition tooautomatic traffic routing, App Service is able tooroute requests tooa specific slot.</span></span> <span data-ttu-id="0b47e-135">Ciò è utile quando si desidera che il toobe di utenti in grado di tooopt-in o rifiutare esplicitamente l'app beta.</span><span class="sxs-lookup"><span data-stu-id="0b47e-135">This is useful when you want your users toobe able tooopt-into or opt-out of your beta app.</span></span> <span data-ttu-id="0b47e-136">toodo, utilizzare hello `x-ms-routing-name` parametro di query.</span><span class="sxs-lookup"><span data-stu-id="0b47e-136">toodo this, you use hello `x-ms-routing-name` query parameter.</span></span>

<span data-ttu-id="0b47e-137">tooreroute utenti tooa slot specifico usando `x-ms-routing-name`, è necessario assicurarsi che tale slot hello è già stato aggiunto l'elenco di Routing del traffico toohello.</span><span class="sxs-lookup"><span data-stu-id="0b47e-137">tooreroute users tooa specific slot using `x-ms-routing-name`, you must make sure that hello slot is already added toohello Traffic Routing list.</span></span> <span data-ttu-id="0b47e-138">Poiché si desidera tooroute tooa slot in modo esplicito, non è rilevante percentuale routing con hello effettiva che è impostata.</span><span class="sxs-lookup"><span data-stu-id="0b47e-138">Since you want tooroute tooa slot explicitly, hello actual routing percentage you set doesn't matter.</span></span> <span data-ttu-id="0b47e-139">Se si desidera, è possibile elaborare un "collegamento a beta" che consente agli utenti tooaccess hello app beta.</span><span class="sxs-lookup"><span data-stu-id="0b47e-139">If you want, you can craft a "beta link" that users can click tooaccess hello beta app.</span></span>

![](./media/app-service-web-test-in-production/06-enable-x-ms-routing-name.png)

### <a name="opt-users-out-of-beta-app"></a><span data-ttu-id="0b47e-140">Consentire agli utenti di rifiutare esplicitamente l'app beta</span><span class="sxs-lookup"><span data-stu-id="0b47e-140">Opt users out of beta app</span></span>
<span data-ttu-id="0b47e-141">gli utenti toolet rifiutare esplicitamente l'app beta, ad esempio, è possibile inserire questo collegamento nella pagina web:</span><span class="sxs-lookup"><span data-stu-id="0b47e-141">toolet users opt out of your beta app, for example, you can put this link in your web page:</span></span>

    <a href="<webappname>.azurewebsites.net/?x-ms-routing-name=self">Go back tooproduction app</a>

<span data-ttu-id="0b47e-142">stringa Hello `x-ms-routing-name=self` specifica hello slot di produzione.</span><span class="sxs-lookup"><span data-stu-id="0b47e-142">hello string `x-ms-routing-name=self` specifies hello production slot.</span></span> <span data-ttu-id="0b47e-143">Una volta hello collegamento hello accesso al browser client, non solo è reindirizzarlo toohello slot di produzione, ma tutte le richieste successive conterrà hello `x-ms-routing-name=self` cookie che blocca slot di produzione toohello sessione hello.</span><span class="sxs-lookup"><span data-stu-id="0b47e-143">Once hello client browser access hello link, not only is it redirected toohello production slot, but every subsequent request will contain hello `x-ms-routing-name=self` cookie that pins hello session toohello production slot.</span></span>

![](./media/app-service-web-test-in-production/05-access-production-slot.png)

### <a name="opt-users-in-toobeta-app"></a><span data-ttu-id="0b47e-144">Scegliere gli utenti nell'app toobeta</span><span class="sxs-lookup"><span data-stu-id="0b47e-144">Opt users in toobeta app</span></span>
<span data-ttu-id="0b47e-145">gli utenti toolet tooyour beta app consente di partecipare, set hello stessa query toohello nome del parametro dello slot di hello non di produzione, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="0b47e-145">toolet users opt in tooyour beta app, set hello same query parameter toohello name of hello non-production slot, for example:</span></span>

        <webappname>.azurewebsites.net/?x-ms-routing-name=staging

## <a name="more-resources"></a><span data-ttu-id="0b47e-146">Altre risorse</span><span class="sxs-lookup"><span data-stu-id="0b47e-146">More resources</span></span>
* [<span data-ttu-id="0b47e-147">Configurare ambienti di staging per le app Web nel servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="0b47e-147">Set up staging environments for web apps in Azure App Service</span></span>](web-sites-staged-publishing.md)
* [<span data-ttu-id="0b47e-148">Distribuire un'applicazione complessa in modo prevedibile in Azure</span><span class="sxs-lookup"><span data-stu-id="0b47e-148">Deploy a complex application predictably in Azure</span></span>](app-service-deploy-complex-application-predictably.md)
* [<span data-ttu-id="0b47e-149">Agile Software Development con il servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="0b47e-149">Agile software development with Azure App Service</span></span>](app-service-agile-software-development.md)
* [<span data-ttu-id="0b47e-150">Usare efficacemente gli ambienti DevOps per le app Web</span><span class="sxs-lookup"><span data-stu-id="0b47e-150">Use DevOps environments effectively for your web apps</span></span>](app-service-web-staged-publishing-realworld-scenarios.md)

