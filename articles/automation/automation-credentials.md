---
title: Asset credenziali in Automazione di Azure | Documentazione Microsoft
description: Gli asset credenziali in Automazione di Azure includono le credenziali di sicurezza che possono essere usate per l'autenticazione nelle risorse a cui accede il Runbook o la configurazione DSC. Questo articolo illustra come creare asset credenziali e usarli in un Runbook o in una configurazione DSC.
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 3209bf73-c208-425e-82b6-df49860546dd
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: bwren
ms.openlocfilehash: e2857515f3842a875ef7b5a9327392818931168f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="credential-assets-in-azure-automation"></a><span data-ttu-id="b5775-104">Asset credenziali in Automazione di Azure</span><span class="sxs-lookup"><span data-stu-id="b5775-104">Credential assets in Azure Automation</span></span>
<span data-ttu-id="b5775-105">Un asset credenziali di Automazione contiene un oggetto [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) contenente credenziali di sicurezza, ad esempio un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="b5775-105">An Automation credential asset holds a [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential)  object which contains security credentials such as a username and password.</span></span> <span data-ttu-id="b5775-106">I Runbook e le configurazioni DSC possono usare i cmdlet che accettano un oggetto PSCredential per l'autenticazione oppure possono estrarre il nome utente e la password dell'oggetto PSCredential per fornirli ad alcune applicazioni o servizi che richiedono l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="b5775-106">Runbooks and DSC configurations may use cmdlets that accept a PSCredential object for authentication, or they may extract the username and password of the PSCredential object to provide to some application or service requiring authentication.</span></span> <span data-ttu-id="b5775-107">Le proprietà delle credenziali sono archiviate in modo sicuro in Automazione di Azure ed è possibile accedervi nel Runbook o nella configurazione DSC con l'attività [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) .</span><span class="sxs-lookup"><span data-stu-id="b5775-107">The properties for a credential are stored securely in Azure Automation and can be accessed in the runbook or DSC configuration with the [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) activity.</span></span>

> [!NOTE]
> <span data-ttu-id="b5775-108">Gli asset sicuri in Automazione di Azure includono credenziali, certificati, connessioni e variabili crittografate.</span><span class="sxs-lookup"><span data-stu-id="b5775-108">Secure assets in Azure Automation include credentials, certificates, connections, and encrypted variables.</span></span> <span data-ttu-id="b5775-109">Questi asset vengono crittografati e archiviati in Automazione di Azure tramite una chiave univoca generata per ogni account di automazione.</span><span class="sxs-lookup"><span data-stu-id="b5775-109">These assets are encrypted and stored in the Azure Automation using a unique key that is generated for each automation account.</span></span> <span data-ttu-id="b5775-110">La chiave viene crittografata da un certificato master e archiviata in Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="b5775-110">This key is encrypted by a master certificate and stored in Azure Automation.</span></span> <span data-ttu-id="b5775-111">Prima dell'archiviazione di un asset sicuro, la chiave per l'account di automazione viene decrittografata usando il certificato master e viene quindi usata per crittografare l'asset.</span><span class="sxs-lookup"><span data-stu-id="b5775-111">Before storing a secure asset, the key for the automation account is decrypted using the master certificate and then used to encrypt the asset.</span></span>  

## <a name="windows-powershell-cmdlets"></a><span data-ttu-id="b5775-112">Cmdlet di Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="b5775-112">Windows PowerShell cmdlets</span></span>
<span data-ttu-id="b5775-113">I cmdlet della tabella seguente vengono usati per creare e gestire asset credenziali di automazione con Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b5775-113">The cmdlets in the following table are used to create and manage automation credential assets with Windows PowerShell.</span></span>  <span data-ttu-id="b5775-114">Sono inclusi nel [modulo Azure PowerShell](/powershell/azure/overview) , disponibile per l'uso nei runbook di Automazione e nelle configurazioni DSC.</span><span class="sxs-lookup"><span data-stu-id="b5775-114">They ship as part of the [Azure PowerShell module](/powershell/azure/overview) which is available for use in Automation runbooks and DSC configurations.</span></span>

| <span data-ttu-id="b5775-115">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="b5775-115">Cmdlets</span></span> | <span data-ttu-id="b5775-116">Descrizione</span><span class="sxs-lookup"><span data-stu-id="b5775-116">Description</span></span> |
|:--- |:--- |
| [<span data-ttu-id="b5775-117">Get-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="b5775-117">Get-AzureAutomationCredential</span></span>](/powershell/module/azure/get-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="b5775-118">Recupera informazioni riguardo un asset credenziali.</span><span class="sxs-lookup"><span data-stu-id="b5775-118">Retrieves information about a credential asset.</span></span> <span data-ttu-id="b5775-119">Dall'attività **Get-AutomationPSCredential** è possibile recuperare soltanto le credenziali stesse.</span><span class="sxs-lookup"><span data-stu-id="b5775-119">You can only retrieve the credential itself from **Get-AutomationPSCredential** activity.</span></span> |
| [<span data-ttu-id="b5775-120">New-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="b5775-120">New-AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="b5775-121">Crea nuove credenziali di Automazione.</span><span class="sxs-lookup"><span data-stu-id="b5775-121">Creates a new Automation credential.</span></span> |
| [<span data-ttu-id="b5775-122">Remove- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="b5775-122">Remove- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="b5775-123">Rimuove le credenziali di Automazione.</span><span class="sxs-lookup"><span data-stu-id="b5775-123">Removes an Automation credential.</span></span> |
| [<span data-ttu-id="b5775-124">Set- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="b5775-124">Set- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="b5775-125">Imposta le proprietà per le credenziali di Automazione esistenti.</span><span class="sxs-lookup"><span data-stu-id="b5775-125">Sets the properties for an existing Automation credential.</span></span> |

## <a name="runbook-activities"></a><span data-ttu-id="b5775-126">Attività del Runbook</span><span class="sxs-lookup"><span data-stu-id="b5775-126">Runbook activities</span></span>
<span data-ttu-id="b5775-127">Le attività incluse nella tabella seguente vengono usate per accedere alle credenziali in un Runbook o nelle configurazioni DSC.</span><span class="sxs-lookup"><span data-stu-id="b5775-127">The activities in the following table are used to access credentials in a runbook and DSC configurations.</span></span>

| <span data-ttu-id="b5775-128">Attività</span><span class="sxs-lookup"><span data-stu-id="b5775-128">Activities</span></span> | <span data-ttu-id="b5775-129">Descrizione</span><span class="sxs-lookup"><span data-stu-id="b5775-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="b5775-130">Get-AutomationPSCredential</span><span class="sxs-lookup"><span data-stu-id="b5775-130">Get-AutomationPSCredential</span></span> |<span data-ttu-id="b5775-131">Ottiene una credenziale da usare in un runbook o in una configurazione DSC.</span><span class="sxs-lookup"><span data-stu-id="b5775-131">Gets a credential to use in a runbook or DSC configuration.</span></span> <span data-ttu-id="b5775-132">Restituisce un oggetto [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) .</span><span class="sxs-lookup"><span data-stu-id="b5775-132">Returns a [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) object.</span></span> |

> [!NOTE]
> <span data-ttu-id="b5775-133">È consigliabile evitare di usare le variabili nel parametro –Name di Get-AutomationPSCredential, poiché ciò può complicare l'individuazione delle dipendenze tra i Runbook o configurazioni DSC e gli asset credenziali durante la fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="b5775-133">You should avoid using variables in the –Name parameter of Get-AutomationPSCredential since this can complicate discovering dependencies between runbooks or DSC configurations, and credential assets at design time.</span></span>
> 
> 

## <a name="creating-a-new-credential-asset"></a><span data-ttu-id="b5775-134">Creazione di un nuovo asset credenziali</span><span class="sxs-lookup"><span data-stu-id="b5775-134">Creating a new credential asset</span></span>

### <a name="to-create-a-new-credential-asset-with-the-azure-portal"></a><span data-ttu-id="b5775-135">Per creare un nuovo asset credenziali con il portale di Azure</span><span class="sxs-lookup"><span data-stu-id="b5775-135">To create a new credential asset with the Azure portal</span></span>
1. <span data-ttu-id="b5775-136">Dall'account di automazione fare clic sulla parte **Asset** per aprire il pannello **Asset**.</span><span class="sxs-lookup"><span data-stu-id="b5775-136">From your automation account, click the **Assets** part to open the **Assets** blade.</span></span>
2. <span data-ttu-id="b5775-137">Fare clic sulla parte **Credenziali** per aprire il pannello **Credenziali**.</span><span class="sxs-lookup"><span data-stu-id="b5775-137">Click the **Credentials** part to open the **Credentials** blade.</span></span>
3. <span data-ttu-id="b5775-138">Fare clic su **Aggiungi credenziali** nella parte superiore del pannello.</span><span class="sxs-lookup"><span data-stu-id="b5775-138">Click **Add a credential** at the top of the blade.</span></span>
4. <span data-ttu-id="b5775-139">Completare il modulo e fare clic su **Crea** per salvare le nuove credenziali.</span><span class="sxs-lookup"><span data-stu-id="b5775-139">Complete the form and click **Create** to save the new credential.</span></span>

### <a name="to-create-a-new-credential-asset-with-windows-powershell"></a><span data-ttu-id="b5775-140">Per creare un nuovo asset credenziali con Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="b5775-140">To create a new credential asset with Windows PowerShell</span></span>
<span data-ttu-id="b5775-141">I comandi di esempio seguenti mostrano come creare nuove credenziali di Automazione.</span><span class="sxs-lookup"><span data-stu-id="b5775-141">The following sample commands show how to create a new automation credential.</span></span> <span data-ttu-id="b5775-142">Viene prima creato un oggetto PSCredential con il nome e la password, che verrà quindi usato per creare l'asset credenziali.</span><span class="sxs-lookup"><span data-stu-id="b5775-142">A PSCredential object is first created with the name and password and then used to create the credential asset.</span></span> <span data-ttu-id="b5775-143">In alternativa, usare il cmdlet **Get-Credential** per ricevere la richiesta di digitare nome e password.</span><span class="sxs-lookup"><span data-stu-id="b5775-143">Alternatively, you could use the **Get-Credential** cmdlet to be prompted to type in a name and password.</span></span>

    $user = "MyDomain\MyUser"
    $pw = ConvertTo-SecureString "PassWord!" -AsPlainText -Force
    $cred = New-Object –TypeName System.Management.Automation.PSCredential –ArgumentList $user, $pw
    New-AzureAutomationCredential -AutomationAccountName "MyAutomationAccount" -Name "MyCredential" -Value $cred

### <a name="to-create-a-new-credential-asset-with-the-azure-classic-portal"></a><span data-ttu-id="b5775-144">Per creare un nuovo asset credenziali con il portale di Azure classico</span><span class="sxs-lookup"><span data-stu-id="b5775-144">To create a new credential asset with the Azure classic portal</span></span>
1. <span data-ttu-id="b5775-145">Dall'account di automazione fare clic su **Asset** nella parte superiore della finestra.</span><span class="sxs-lookup"><span data-stu-id="b5775-145">From your automation account, click **Assets** at the top of the window.</span></span>
2. <span data-ttu-id="b5775-146">Nella parte inferiore della finestra, fare clic su **Aggiungi impostazione**.</span><span class="sxs-lookup"><span data-stu-id="b5775-146">At the bottom of the window, click **Add Setting**.</span></span>
3. <span data-ttu-id="b5775-147">Fare clic su **Aggiungi credenziali**.</span><span class="sxs-lookup"><span data-stu-id="b5775-147">Click **Add Credential**.</span></span>
4. <span data-ttu-id="b5775-148">Nell'elenco a discesa **Tipo di credenziali** selezionare **Credenziali PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="b5775-148">In the **Credential Type** dropdown, select **PowerShell Credential**.</span></span>
5. <span data-ttu-id="b5775-149">Completare la procedura guidata e selezionare la casella di controllo per salvare le nuove credenziali.</span><span class="sxs-lookup"><span data-stu-id="b5775-149">Complete the wizard and click the checkbox to save the new credential.</span></span>

## <a name="using-a-powershell-credential"></a><span data-ttu-id="b5775-150">Uso di credenziali PowerShell </span><span class="sxs-lookup"><span data-stu-id="b5775-150">Using a PowerShell credential</span></span>
<span data-ttu-id="b5775-151">L'attività **Get-AutomationPSCredential** permette di recuperare un asset credenziali in un Runbook o configurazione DSC.</span><span class="sxs-lookup"><span data-stu-id="b5775-151">You retrieve a credential asset in a runbook or DSC configuration with the **Get-AutomationPSCredential** activity.</span></span> <span data-ttu-id="b5775-152">Verrà restituito un [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) da usare con un'attività o un cmdlet che richiede un parametro PSCredential.</span><span class="sxs-lookup"><span data-stu-id="b5775-152">This returns a [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) that you can use with an activity or cmdlet that requires a PSCredential parameter.</span></span> <span data-ttu-id="b5775-153">È anche possibile recuperare le proprietà dell'oggetto credenziali da usare individualmente.</span><span class="sxs-lookup"><span data-stu-id="b5775-153">You can also retrieve the properties of the credential object to use individually.</span></span> <span data-ttu-id="b5775-154">L'oggetto ha una proprietà per il nome utente e la password protetta oppure è possibile usare il metodo **GetNetworkCredential** per restituire un oggetto [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) che fornirà una versione non protetta della password.</span><span class="sxs-lookup"><span data-stu-id="b5775-154">The object has a property for the username and the secure password, or you can use the **GetNetworkCredential** method to return a [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) object that will provide an unsecured version of the password.</span></span>

### <a name="textual-runbook-sample"></a><span data-ttu-id="b5775-155">Esempio di Runbook testuale</span><span class="sxs-lookup"><span data-stu-id="b5775-155">Textual runbook sample</span></span>
<span data-ttu-id="b5775-156">I comandi di esempio seguenti mostrano come usare le credenziali PowerShell in un Runbook.</span><span class="sxs-lookup"><span data-stu-id="b5775-156">The following sample commands show how to use a PowerShell credential in a runbook.</span></span> <span data-ttu-id="b5775-157">In questo esempio, vengono recuperate le credenziali e il nome utente e la password vengono assegnati alle variabili.</span><span class="sxs-lookup"><span data-stu-id="b5775-157">In this example, the credential is retrieved and its username and password assigned to variables.</span></span>

    $myCredential = Get-AutomationPSCredential -Name 'MyCredential'
    $userName = $myCredential.UserName
    $securePassword = $myCredential.Password
    $password = $myCredential.GetNetworkCredential().Password


### <a name="graphical-runbook-sample"></a><span data-ttu-id="b5775-158">Esempio di Runbook grafico</span><span class="sxs-lookup"><span data-stu-id="b5775-158">Graphical runbook sample</span></span>
<span data-ttu-id="b5775-159">Per aggiungere un'attività **Get-AutomationPSCredential** a un runbook grafico, fare clic con il pulsante destro del mouse sulle credenziali nel riquadro della libreria dell'editor grafico e scegliere **Aggiungi ad area di disegno**.</span><span class="sxs-lookup"><span data-stu-id="b5775-159">You add a **Get-AutomationPSCredential** activity to a graphical runbook by right-clicking on the credential in the Library pane of the graphical editor and selecting **Add to canvas**.</span></span>

![Aggiungere credenziali all'area di disegno](media/automation-credentials/credential-add-canvas.png)

<span data-ttu-id="b5775-161">La figura seguente mostra un esempio dell'uso di credenziali in un Runbook grafico.</span><span class="sxs-lookup"><span data-stu-id="b5775-161">The following image shows an example of using a credential in a graphical runbook.</span></span>  <span data-ttu-id="b5775-162">In questo caso vengono usate per fornire l'autenticazione per un runbook a risorse di Azure, come illustrato in [Autenticare i runbook con Azure Service Management e Azure Resource Manager](automation-create-aduser-account.md).</span><span class="sxs-lookup"><span data-stu-id="b5775-162">In this case, it is being used to provide authentication for a runbook to Azure resources as described in [Authenticate Runbooks with Azure AD User account](automation-create-aduser-account.md).</span></span>  <span data-ttu-id="b5775-163">La prima attività recupera le credenziali che possono accedere alla sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="b5775-163">The first activity retrieves the credential that has access to the Azure subscription.</span></span>  <span data-ttu-id="b5775-164">L'attività **Add-AzureAccount** usa quindi queste credenziali per fornire l'autenticazione per eventuali attività successive.</span><span class="sxs-lookup"><span data-stu-id="b5775-164">The **Add-AzureAccount** activity then uses this credential to provide authentication for any activities that come after it.</span></span>  <span data-ttu-id="b5775-165">Viene usato un [collegamento pipeline](automation-graphical-authoring-intro.md#links-and-workflow) poiché **Get-AutomationPSCredential** prevede un singolo oggetto.</span><span class="sxs-lookup"><span data-stu-id="b5775-165">A [pipeline link](automation-graphical-authoring-intro.md#links-and-workflow) is here since **Get-AutomationPSCredential** is expecting a single object.</span></span>  

![Aggiungere credenziali all'area di disegno](media/automation-credentials/get-credential.png)

## <a name="using-a-powershell-credential-in-dsc"></a><span data-ttu-id="b5775-167">Uso di credenziali PowerShell in DSC</span><span class="sxs-lookup"><span data-stu-id="b5775-167">Using a PowerShell credential in DSC</span></span>
<span data-ttu-id="b5775-168">Anche se le configurazioni DSC in Automazione di Azure possono fare riferimento ad asset credenziali con **Get-AutomationPSCredential**, gli asset credenziali possono essere passati anche con i parametri, se necessario.</span><span class="sxs-lookup"><span data-stu-id="b5775-168">While DSC configurations in Azure Automation can reference credential assets using **Get-AutomationPSCredential**, credential assets can also be passed in via parameters, if desired.</span></span> <span data-ttu-id="b5775-169">Per ulteriori informazioni vedere [Compilazione di configurazioni in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span><span class="sxs-lookup"><span data-stu-id="b5775-169">For more information, see [Compiling configurations in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b5775-170">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="b5775-170">Next Steps</span></span>
* <span data-ttu-id="b5775-171">Per altre informazioni sui collegamenti nella creazione grafica, vedere [Creazione grafica in Automazione di Azure](automation-graphical-authoring-intro.md#links-and-workflow)</span><span class="sxs-lookup"><span data-stu-id="b5775-171">To learn more about links in graphical authoring, see [Links in graphical authoring](automation-graphical-authoring-intro.md#links-and-workflow)</span></span>
* <span data-ttu-id="b5775-172">Per comprendere i diversi metodi di autenticazione con Automazione, vedere [Sicurezza in Automazione di Azure](automation-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="b5775-172">To understand the different authentication methods with Automation, see [Azure Automation Security](automation-security-overview.md)</span></span>
* <span data-ttu-id="b5775-173">Per iniziare a usare runbook grafici, vedere [Il primo runbook grafico](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="b5775-173">To get started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="b5775-174">Per iniziare a usare runbook del flusso di lavoro PowerShell, vedere [Il primo runbook del flusso di lavoro PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="b5775-174">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 

