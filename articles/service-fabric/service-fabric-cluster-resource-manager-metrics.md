---
title: il carico di Azure microservizio aaaManage utilizzando metriche | Documenti Microsoft
description: Informazioni su come l'uso di risorse del servizio metriche tooconfigure e l'utilizzo in Service Fabric toomanage.
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 0d622ea6-a7c7-4bef-886b-06e6b85a97fb
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 592dc749ce30683a1e439a702b7d0dc0a638276f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="managing-resource-consumption-and-load-in-service-fabric-with-metrics"></a><span data-ttu-id="66046-103">Gestione dell'utilizzo delle risorse e del carico in Service Fabric con le metriche</span><span class="sxs-lookup"><span data-stu-id="66046-103">Managing resource consumption and load in Service Fabric with metrics</span></span>
<span data-ttu-id="66046-104">*Metriche* sono risorse hello che pone i servizi e che vengono forniti per i nodi nel cluster hello hello.</span><span class="sxs-lookup"><span data-stu-id="66046-104">*Metrics* are hello resources that your services care about and which are provided by hello nodes in hello cluster.</span></span> <span data-ttu-id="66046-105">Una metrica è un valore che si desidera toomanage delle prestazioni di hello tooimprove o il monitoraggio di ordine dei servizi.</span><span class="sxs-lookup"><span data-stu-id="66046-105">A metric is anything that you want toomanage in order tooimprove or monitor hello performance of your services.</span></span> <span data-ttu-id="66046-106">Ad esempio si potrebbe controllare tooknow consumo di memoria se il servizio è in overload.</span><span class="sxs-lookup"><span data-stu-id="66046-106">For example, you might watch memory consumption tooknow if your service is overloaded.</span></span> <span data-ttu-id="66046-107">Un altro utilizzo consiste toofigure out se è stato possibile spostare il servizio hello in un' posizione in cui memoria è che minore di vincolata un miglioramento delle prestazioni tooget ordine.</span><span class="sxs-lookup"><span data-stu-id="66046-107">Another use is toofigure out whether hello service could move elsewhere where memory is less constrained in order tooget better performance.</span></span>

<span data-ttu-id="66046-108">Sono metriche, ad esempio, l'utilizzo della CPU, della memoria e dei dischi.</span><span class="sxs-lookup"><span data-stu-id="66046-108">Things like Memory, Disk, and CPU usage are examples of metrics.</span></span> <span data-ttu-id="66046-109">Queste metriche sono metriche fisiche, le risorse che corrispondono toophysical risorse nel nodo hello necessarie toobe gestiti.</span><span class="sxs-lookup"><span data-stu-id="66046-109">These metrics are physical metrics, resources that correspond toophysical resources on hello node that need toobe managed.</span></span> <span data-ttu-id="66046-110">Le metriche possono anche essere logiche e in genere sono di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="66046-110">Metrics can also be (and commonly are) logical metrics.</span></span> <span data-ttu-id="66046-111">Sono metriche logiche, ad esempio, "MyWorkQueueDepth", "MessagesToProcess" e "TotalRecords".</span><span class="sxs-lookup"><span data-stu-id="66046-111">Logical metrics are things like “MyWorkQueueDepth” or "MessagesToProcess" or "TotalRecords".</span></span> <span data-ttu-id="66046-112">Metriche logiche sono definiti dall'applicazione e indirettamente corrispondono toosome il consumo di risorse fisiche.</span><span class="sxs-lookup"><span data-stu-id="66046-112">Logical metrics are application-defined and indirectly correspond toosome physical resource consumption.</span></span> <span data-ttu-id="66046-113">Metriche logiche sono comuni in quanto può essere toomeasure disco rigido e consumo delle risorse fisiche in base al servizio di report.</span><span class="sxs-lookup"><span data-stu-id="66046-113">Logical metrics are common because it can be hard toomeasure and report consumption of physical resources on a per-service basis.</span></span> <span data-ttu-id="66046-114">la complessità di Hello di misurazione e report proprie metriche fisico è anche perché Service Fabric fornisce alcune metriche predefinito.</span><span class="sxs-lookup"><span data-stu-id="66046-114">hello complexity of measuring and reporting your own physical metrics is also why Service Fabric provides some default metrics.</span></span>

## <a name="default-metrics"></a><span data-ttu-id="66046-115">Metriche predefinite</span><span class="sxs-lookup"><span data-stu-id="66046-115">Default metrics</span></span>
<span data-ttu-id="66046-116">Si supponga di voler tooget avviata la scrittura e la distribuzione del servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-116">Let’s say that you want tooget started writing and deploying your service.</span></span> <span data-ttu-id="66046-117">Ancora non si conoscono le risorse fisiche o logiche che il servizio consuma.</span><span class="sxs-lookup"><span data-stu-id="66046-117">At this point you don’t know what physical or logical resources it consumes.</span></span> <span data-ttu-id="66046-118">Questo approccio non presenta problemi.</span><span class="sxs-lookup"><span data-stu-id="66046-118">That’s fine!</span></span> <span data-ttu-id="66046-119">Hello servizio di gestione delle risorse Cluster dell'infrastruttura Usa alcune metriche predefinite quando non vengono specificate altre metriche.</span><span class="sxs-lookup"><span data-stu-id="66046-119">hello Service Fabric Cluster Resource Manager uses some default metrics when no other metrics are specified.</span></span> <span data-ttu-id="66046-120">Sono:</span><span class="sxs-lookup"><span data-stu-id="66046-120">They are:</span></span>

  - <span data-ttu-id="66046-121">PrimaryCount - numero di repliche primarie su nodi hello</span><span class="sxs-lookup"><span data-stu-id="66046-121">PrimaryCount - count of Primary replicas on hello node</span></span> 
  - <span data-ttu-id="66046-122">ReplicaCount - numero di repliche totali di informazioni sullo stato nel nodo hello</span><span class="sxs-lookup"><span data-stu-id="66046-122">ReplicaCount - count of total stateful replicas on hello node</span></span>
  - <span data-ttu-id="66046-123">Conteggio: conteggio di tutti gli oggetti servizio (e senza stato) nel nodo hello</span><span class="sxs-lookup"><span data-stu-id="66046-123">Count - count of all service objects (stateless and stateful) on hello node</span></span>

| <span data-ttu-id="66046-124">Metrica</span><span class="sxs-lookup"><span data-stu-id="66046-124">Metric</span></span> | <span data-ttu-id="66046-125">Carico di istanza senza stato</span><span class="sxs-lookup"><span data-stu-id="66046-125">Stateless Instance Load</span></span> | <span data-ttu-id="66046-126">Carico secondario con stato</span><span class="sxs-lookup"><span data-stu-id="66046-126">Stateful Secondary Load</span></span> | <span data-ttu-id="66046-127">Carico primario con stato</span><span class="sxs-lookup"><span data-stu-id="66046-127">Stateful Primary Load</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="66046-128">PrimaryCount</span><span class="sxs-lookup"><span data-stu-id="66046-128">PrimaryCount</span></span> |<span data-ttu-id="66046-129">0</span><span class="sxs-lookup"><span data-stu-id="66046-129">0</span></span> |<span data-ttu-id="66046-130">0</span><span class="sxs-lookup"><span data-stu-id="66046-130">0</span></span> |<span data-ttu-id="66046-131">1</span><span class="sxs-lookup"><span data-stu-id="66046-131">1</span></span> |
| <span data-ttu-id="66046-132">ReplicaCount</span><span class="sxs-lookup"><span data-stu-id="66046-132">ReplicaCount</span></span> |<span data-ttu-id="66046-133">0</span><span class="sxs-lookup"><span data-stu-id="66046-133">0</span></span> |<span data-ttu-id="66046-134">1</span><span class="sxs-lookup"><span data-stu-id="66046-134">1</span></span> |<span data-ttu-id="66046-135">1</span><span class="sxs-lookup"><span data-stu-id="66046-135">1</span></span> |
| <span data-ttu-id="66046-136">Numero</span><span class="sxs-lookup"><span data-stu-id="66046-136">Count</span></span> |<span data-ttu-id="66046-137">1</span><span class="sxs-lookup"><span data-stu-id="66046-137">1</span></span> |<span data-ttu-id="66046-138">1</span><span class="sxs-lookup"><span data-stu-id="66046-138">1</span></span> |<span data-ttu-id="66046-139">1</span><span class="sxs-lookup"><span data-stu-id="66046-139">1</span></span> |

<span data-ttu-id="66046-140">Per carichi di lavoro di base, metriche predefinito hello forniscono una distribuzione di lavoro in cluster hello ragionevole.</span><span class="sxs-lookup"><span data-stu-id="66046-140">For basic workloads, hello default metrics provide a decent distribution of work in hello cluster.</span></span> <span data-ttu-id="66046-141">Nell'esempio seguente di hello, vediamo cosa accade quando si creano due servizi e si basano sulle metriche di hello predefinito per il bilanciamento del.</span><span class="sxs-lookup"><span data-stu-id="66046-141">In hello following example, let’s see what happens when we create two services and rely on hello default metrics for balancing.</span></span> <span data-ttu-id="66046-142">primo servizio Hello è un servizio con stato con tre partizioni e una replica di destinazione Imposta dimensioni di tre.</span><span class="sxs-lookup"><span data-stu-id="66046-142">hello first service is a stateful service with three partitions and a target replica set size of three.</span></span> <span data-ttu-id="66046-143">Hello secondo è un servizio senza stato con una partizione e un conteggio delle istanze di tre.</span><span class="sxs-lookup"><span data-stu-id="66046-143">hello second service is a stateless service with one partition and an instance count of three.</span></span>

<span data-ttu-id="66046-144">Il risultato è il seguente:</span><span class="sxs-lookup"><span data-stu-id="66046-144">Here's what you get:</span></span>

<span data-ttu-id="66046-145"><center>
![Layout dei cluster con metriche predefinite][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="66046-145"><center>
![Cluster Layout with Default Metrics][Image1]
</center></span></span>

<span data-ttu-id="66046-146">Toonote alcune operazioni:</span><span class="sxs-lookup"><span data-stu-id="66046-146">Some things toonote:</span></span>
  - <span data-ttu-id="66046-147">Le repliche primarie per il servizio con stato hello vengono distribuite tra più nodi</span><span class="sxs-lookup"><span data-stu-id="66046-147">Primary replicas for hello stateful service are distributed across several nodes</span></span>
  - <span data-ttu-id="66046-148">Repliche per la stessa partizione si trovano in nodi diversi di hello</span><span class="sxs-lookup"><span data-stu-id="66046-148">Replicas for hello same partition are on different nodes</span></span>
  - <span data-ttu-id="66046-149">numero totale di Hello di colori primari e secondari è distribuito in cluster hello</span><span class="sxs-lookup"><span data-stu-id="66046-149">hello total number of primaries and secondaries is distributed in hello cluster</span></span>
  - <span data-ttu-id="66046-150">numero totale di Hello degli oggetti servizio viene allocata in modo uniforme in ogni nodo</span><span class="sxs-lookup"><span data-stu-id="66046-150">hello total number of service objects are evenly allocated on each node</span></span>

<span data-ttu-id="66046-151">Ottimo.</span><span class="sxs-lookup"><span data-stu-id="66046-151">Good!</span></span>

<span data-ttu-id="66046-152">criteri predefiniti Hello soluzione ideale come punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="66046-152">hello default metrics work great as a start.</span></span> <span data-ttu-id="66046-153">Tuttavia, le metriche predefinito hello solo trasporterà è finora.</span><span class="sxs-lookup"><span data-stu-id="66046-153">However, hello default metrics will only carry you so far.</span></span> <span data-ttu-id="66046-154">Ad esempio: che cos'è probabilità hello che hello partizionamento dello schema è selezionato risultati utilizzo perfettamente anche da tutte le partizioni?</span><span class="sxs-lookup"><span data-stu-id="66046-154">For example: What's hello likelihood that hello partitioning scheme you picked results in perfectly even utilization by all partitions?</span></span> <span data-ttu-id="66046-155">Che cos'è il possibilità hello che hello carico per un servizio specifico è costante nel tempo o semplicemente hello uguali tra più partizioni ora?</span><span class="sxs-lookup"><span data-stu-id="66046-155">What’s hello chance that hello load for a given service is constant over time, or even just hello same across multiple partitions right now?</span></span>

<span data-ttu-id="66046-156">È possibile eseguire con solo le metriche di predefinito hello.</span><span class="sxs-lookup"><span data-stu-id="66046-156">You could run with just hello default metrics.</span></span> <span data-ttu-id="66046-157">tuttavia, in genere ciò significa che il consumo del cluster è inferiore e non uniforme come desiderato.</span><span class="sxs-lookup"><span data-stu-id="66046-157">However, doing so usually means that your cluster utilization is lower and more uneven than you’d like.</span></span> <span data-ttu-id="66046-158">In questo modo le metriche di hello predefinito non sono adattivo e presuppongono che tutto ciò che è equivalente.</span><span class="sxs-lookup"><span data-stu-id="66046-158">This is because hello default metrics aren't adaptive and presume everything is equivalent.</span></span> <span data-ttu-id="66046-159">Ad esempio, una replica primaria è occupata e uno che non sia contribuiscono metrica di PrimaryCount toohello "1".</span><span class="sxs-lookup"><span data-stu-id="66046-159">For example, a Primary that is busy and one that is not both contribute "1" toohello PrimaryCount metric.</span></span> <span data-ttu-id="66046-160">Nel caso peggiore hello, utilizzando solo la metrica di hello predefinito può inoltre comportare nodi overscheduled causando problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="66046-160">In hello worst case, using only hello default metrics can also result in overscheduled nodes resulting in performance issues.</span></span> <span data-ttu-id="66046-161">Se è interessati a ottenere la maggior parte all'esterno del cluster hello ed evitare problemi di prestazioni, è necessario toouse di metriche personalizzate e creazione di report di carico dinamico.</span><span class="sxs-lookup"><span data-stu-id="66046-161">If you're interested in getting hello most out of your cluster and avoiding performance issues, you need toouse custom metrics and dynamic load reporting.</span></span>

## <a name="custom-metrics"></a><span data-ttu-id="66046-162">Metriche personalizzate</span><span class="sxs-lookup"><span data-stu-id="66046-162">Custom metrics</span></span>
<span data-ttu-id="66046-163">Le metriche sono configurate in base al-servizio-istanza denominata quando si crea il servizio di hello.</span><span class="sxs-lookup"><span data-stu-id="66046-163">Metrics are configured on a per-named-service-instance basis when you’re creating hello service.</span></span>

<span data-ttu-id="66046-164">Qualsiasi metrica è descritta da alcune proprietà: nome, carico predefinito e peso.</span><span class="sxs-lookup"><span data-stu-id="66046-164">Any metric has some properties that describe it: a name, a weight, and a default load.</span></span>

* <span data-ttu-id="66046-165">Il nome della metrica: hello Nome metrica hello.</span><span class="sxs-lookup"><span data-stu-id="66046-165">Metric Name: hello name of hello metric.</span></span> <span data-ttu-id="66046-166">il nome della metrica Hello è un identificatore univoco per la metrica hello all'interno di cluster hello dal punto di vista di gestione risorse di hello.</span><span class="sxs-lookup"><span data-stu-id="66046-166">hello metric name is a unique identifier for hello metric within hello cluster from hello Resource Manager’s perspective.</span></span>
* <span data-ttu-id="66046-167">Peso: Peso metrico definisce il livello di importanza questa metrica è toohello relativo altre metriche per questo servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-167">Weight: Metric weight defines how important this metric is relative toohello other metrics for this service.</span></span>
* <span data-ttu-id="66046-168">Carico predefinito: carico predefinito hello è rappresentato in modo diverso a seconda che il servizio hello sia con stato o senza stato.</span><span class="sxs-lookup"><span data-stu-id="66046-168">Default Load: hello default load is represented differently depending on whether hello service is stateless or stateful.</span></span>
  * <span data-ttu-id="66046-169">Per i servizi senza stato, ogni metrica ha un'unica proprietà denominata DefaultLoad</span><span class="sxs-lookup"><span data-stu-id="66046-169">For stateless services, each metric has a single property named DefaultLoad</span></span>
  * <span data-ttu-id="66046-170">Per i servizi con stato si definiscono le proprietà seguenti.</span><span class="sxs-lookup"><span data-stu-id="66046-170">For stateful services you define:</span></span>
    * <span data-ttu-id="66046-171">PrimaryDefaultLoad: quantità hello predefinita di questa metrica che questo servizio utilizza quando è un database primario</span><span class="sxs-lookup"><span data-stu-id="66046-171">PrimaryDefaultLoad: hello default amount of this metric this service consumes when it is a Primary</span></span>
    * <span data-ttu-id="66046-172">SecondaryDefaultLoad: quantità hello predefinita di questa metrica che questo servizio utilizza quando è un database secondario</span><span class="sxs-lookup"><span data-stu-id="66046-172">SecondaryDefaultLoad: hello default amount of this metric this service consumes when it is a Secondary</span></span>

> [!NOTE]
> <span data-ttu-id="66046-173">Se si definiscono metriche personalizzate e si desidera too_also_ Usa il formato predefinito hello, è necessario too_explicitly_ aggiungere metriche predefinito hello eseguire il backup e definiscono i pesi e i valori per tali.</span><span class="sxs-lookup"><span data-stu-id="66046-173">If you define custom metrics and you want too_also_ use hello default metrics, you need too_explicitly_ add hello default metrics back and define weights and values for them.</span></span> <span data-ttu-id="66046-174">Questo avviene perché è necessario definire una relazione di hello tra le metriche di hello predefinito e le metriche personalizzate.</span><span class="sxs-lookup"><span data-stu-id="66046-174">This is because you must define hello relationship between hello default metrics and your custom metrics.</span></span> <span data-ttu-id="66046-175">Ad esempio, si può essere più interessati a una metrico di tipo ConnectionCount o WorkQueueDepth che alla distribuzione della metrica primaria.</span><span class="sxs-lookup"><span data-stu-id="66046-175">For example, maybe you care about ConnectionCount or WorkQueueDepth more than Primary distribution.</span></span> <span data-ttu-id="66046-176">Peso hello predefinito di hello PrimaryCount metrica è elevata, pertanto si tooreduce è tooMedium quando si aggiunta le altre metriche tooensure hanno la precedenza.</span><span class="sxs-lookup"><span data-stu-id="66046-176">By default hello weight of hello PrimaryCount metric is High, so you want tooreduce it tooMedium when you add your other metrics tooensure they take precedence.</span></span>
>

### <a name="defining-metrics-for-your-service---an-example"></a><span data-ttu-id="66046-177">Definizione delle metriche per il servizio: esempio</span><span class="sxs-lookup"><span data-stu-id="66046-177">Defining metrics for your service - an example</span></span>
<span data-ttu-id="66046-178">Si supponga che si desideri hello seguente configurazione:</span><span class="sxs-lookup"><span data-stu-id="66046-178">Let’s say you want hello following configuration:</span></span>

  - <span data-ttu-id="66046-179">Il servizio segnala una metrica denominata "ConnectionCount".</span><span class="sxs-lookup"><span data-stu-id="66046-179">Your service reports a metric named "ConnectionCount”</span></span>
  - <span data-ttu-id="66046-180">È anche opportuno criteri predefiniti di hello toouse</span><span class="sxs-lookup"><span data-stu-id="66046-180">You also want toouse hello default metrics</span></span> 
  - <span data-ttu-id="66046-181">Sono state eseguite alcune misurazioni rilevando che normalmente per una replica primaria del servizio sono necessarie 20 unità di "ConnectionCount",</span><span class="sxs-lookup"><span data-stu-id="66046-181">You’ve done some measurements and know that normally a Primary replica of that service takes up 20 units of "ConnectionCount"</span></span>
  - <span data-ttu-id="66046-182">mentre per quelle secondarie ne sono necessarie cinque.</span><span class="sxs-lookup"><span data-stu-id="66046-182">Secondaries use 5 units of "ConnectionCount"</span></span>
  - <span data-ttu-id="66046-183">Si sa che "ConnectionCount" metrica più importante di hello in termini di gestione delle prestazioni di hello del servizio specifico</span><span class="sxs-lookup"><span data-stu-id="66046-183">You know that "ConnectionCount" is hello most important metric in terms of managing hello performance of this particular service</span></span>
  - <span data-ttu-id="66046-184">ma si vuole comunque che le repliche primarie siano bilanciate.</span><span class="sxs-lookup"><span data-stu-id="66046-184">You still want Primary replicas balanced.</span></span> <span data-ttu-id="66046-185">Il bilanciamento delle repliche primarie è comunque un approccio consigliabile.</span><span class="sxs-lookup"><span data-stu-id="66046-185">Balancing primary replicas is generally a good idea no matter what.</span></span> <span data-ttu-id="66046-186">Ciò consente di evitare conseguenze per la maggior parte delle repliche primarie con il perdita hello di alcuni domini di errore o di nodo.</span><span class="sxs-lookup"><span data-stu-id="66046-186">This helps prevent hello loss of some node or fault domain from impacting a majority of primary replicas along with it.</span></span> 
  - <span data-ttu-id="66046-187">In caso contrario, le metriche predefinito hello sono supportate</span><span class="sxs-lookup"><span data-stu-id="66046-187">Otherwise, hello default metrics are fine</span></span>

<span data-ttu-id="66046-188">Ecco il codice hello che si scriverebbe toocreate un servizio con metrica configurazione:</span><span class="sxs-lookup"><span data-stu-id="66046-188">Here’s hello code that you would write toocreate a service with that metric configuration:</span></span>

<span data-ttu-id="66046-189">Codice:</span><span class="sxs-lookup"><span data-stu-id="66046-189">Code:</span></span>

```csharp
StatefulServiceDescription serviceDescription = new StatefulServiceDescription();
StatefulServiceLoadMetricDescription connectionMetric = new StatefulServiceLoadMetricDescription();
connectionMetric.Name = "ConnectionCount";
connectionMetric.PrimaryDefaultLoad = 20;
connectionMetric.SecondaryDefaultLoad = 5;
connectionMetric.Weight = ServiceLoadMetricWeight.High;

StatefulServiceLoadMetricDescription primaryCountMetric = new StatefulServiceLoadMetricDescription();
primaryCountMetric.Name = "PrimaryCount";
primaryCountMetric.PrimaryDefaultLoad = 1;
primaryCountMetric.SecondaryDefaultLoad = 0;
primaryCountMetric.Weight = ServiceLoadMetricWeight.Medium;

StatefulServiceLoadMetricDescription replicaCountMetric = new StatefulServiceLoadMetricDescription();
replicaCountMetric.Name = "ReplicaCount";
replicaCountMetric.PrimaryDefaultLoad = 1;
replicaCountMetric.SecondaryDefaultLoad = 1;
replicaCountMetric.Weight = ServiceLoadMetricWeight.Low;

StatefulServiceLoadMetricDescription totalCountMetric = new StatefulServiceLoadMetricDescription();
totalCountMetric.Name = "Count";
totalCountMetric.PrimaryDefaultLoad = 1;
totalCountMetric.SecondaryDefaultLoad = 1;
totalCountMetric.Weight = ServiceLoadMetricWeight.Low;

serviceDescription.Metrics.Add(connectionMetric);
serviceDescription.Metrics.Add(primaryCountMetric);
serviceDescription.Metrics.Add(replicaCountMetric);
serviceDescription.Metrics.Add(totalCountMetric);

await fabricClient.ServiceManager.CreateServiceAsync(serviceDescription);
```

<span data-ttu-id="66046-190">Powershell:</span><span class="sxs-lookup"><span data-stu-id="66046-190">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName –Stateful -MinReplicaSetSize 3 -TargetReplicaSetSize 3 -PartitionSchemeSingleton –Metric @("ConnectionCount,High,20,5”,"PrimaryCount,Medium,1,0”,"ReplicaCount,Low,1,1”,"Count,Low,1,1”)
```

> [!NOTE]
> <span data-ttu-id="66046-191">Hello esempi sopra riportati e hello resto di questo documento descrivono la gestione delle metriche in base al nome-servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-191">hello above examples and hello rest of this document describe managing metrics on a per-named-service basis.</span></span> <span data-ttu-id="66046-192">È inoltre possibile toodefine metriche per i servizi nel servizio hello _tipo_ livello.</span><span class="sxs-lookup"><span data-stu-id="66046-192">It is also possible toodefine metrics for your services at hello service _type_ level.</span></span> <span data-ttu-id="66046-193">A tal fine, specificarle nei manifesti del servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-193">This is accomplished by specifying them in your service manifests.</span></span> <span data-ttu-id="66046-194">La definizione delle metriche a livello di tipo non è consigliata per diversi motivi.</span><span class="sxs-lookup"><span data-stu-id="66046-194">Defining type level metrics is not recommended for several reasons.</span></span> <span data-ttu-id="66046-195">Hello primo motivo è che i nomi di metrica sono spesso specifici dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="66046-195">hello first reason is that metric names are frequently environment-specific.</span></span> <span data-ttu-id="66046-196">A meno che non è disponibile un contratto di società, non è possibile assicurarsi che metrica hello "Core" in un ambiente non è "MiliCores" o "Core" in altri.</span><span class="sxs-lookup"><span data-stu-id="66046-196">Unless there is a firm contract in place, you cannot be sure that hello metric "Cores" in one environment isn't "MiliCores" or "CoReS" in others.</span></span> <span data-ttu-id="66046-197">Se le metriche sono definite nel manifesto, è necessario toocreate nuovi manifesti per ogni ambiente.</span><span class="sxs-lookup"><span data-stu-id="66046-197">If your metrics are defined in your manifest you need toocreate new manifests per environment.</span></span> <span data-ttu-id="66046-198">Ciò provoca in genere tooa proliferazione dei manifesti diversi con solo piccole differenze, che possono causare difficoltà toomanagement.</span><span class="sxs-lookup"><span data-stu-id="66046-198">This usually leads tooa proliferation of different manifests with only minor differences, which can lead toomanagement difficulties.</span></span>  
>
> <span data-ttu-id="66046-199">I carichi delle metriche vengono in genere assegnati in base a determinate istanze del servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-199">Metric loads are commonly assigned on a per-named-service-instance basis.</span></span> <span data-ttu-id="66046-200">Ad esempio, supponiamo che si crea un'istanza di hello del servizio per ClienteA che prevede toouse scarsamente.</span><span class="sxs-lookup"><span data-stu-id="66046-200">For example, let's say you create one instance of hello service for CustomerA who plans toouse it only lightly.</span></span> <span data-ttu-id="66046-201">Si supponga quindi di crearne un'altra per ClienteB, che ha un carico di lavoro maggiore.</span><span class="sxs-lookup"><span data-stu-id="66046-201">Let's also say you create another for CustomerB who has a larger workload.</span></span> <span data-ttu-id="66046-202">In questo caso, può essere utile predefinito hello tootweak carica per tali servizi.</span><span class="sxs-lookup"><span data-stu-id="66046-202">In this case, you'd probably want tootweak hello default loads for those services.</span></span> <span data-ttu-id="66046-203">Se si dispone di metriche e carica definiti tramite i manifesti e si desidera toosupport questo scenario, è necessario altra applicazione e tipi di servizio per ogni cliente.</span><span class="sxs-lookup"><span data-stu-id="66046-203">If you have metrics and loads defined via manifests and you want toosupport this scenario, it requires different application and service types for each customer.</span></span> <span data-ttu-id="66046-204">i valori Hello definiti al momento della creazione del servizio eseguire l'override di quelli definiti nel manifesto di hello, pertanto è possibile utilizzare impostazioni predefinite specifiche che hello tooset.</span><span class="sxs-lookup"><span data-stu-id="66046-204">hello values defined at service creation time override those defined in hello manifest, so you could use that tooset hello specific defaults.</span></span> <span data-ttu-id="66046-205">Tuttavia, l'operazione che causa dichiarati in corrispondenza di toonot manifesti hello che tali servizio hello viene effettivamente eseguito con i valori hello.</span><span class="sxs-lookup"><span data-stu-id="66046-205">However, doing that causes hello values declared in hello manifests toonot match those hello service actually runs with.</span></span> <span data-ttu-id="66046-206">Questo può causare tooconfusion.</span><span class="sxs-lookup"><span data-stu-id="66046-206">This can lead tooconfusion.</span></span> 
>

<span data-ttu-id="66046-207">Come promemoria: per impostare le metriche di toouse hello predefinito, non la raccolta di metriche hello tootouch affatto o se operazioni particolari durante la creazione del servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-207">As a reminder: if you just want toouse hello default metrics, you don’t need tootouch hello metrics collection at all or do anything special when creating your service.</span></span> <span data-ttu-id="66046-208">criteri predefiniti Hello get utilizzati automaticamente quando altri utenti non sono definiti.</span><span class="sxs-lookup"><span data-stu-id="66046-208">hello default metrics get used automatically when no others are defined.</span></span> 

<span data-ttu-id="66046-209">A questo punto, verrà ora analizzato da ciascuna di queste impostazioni in modo più dettagliato e informazioni sul comportamento di hello che influisce sul.</span><span class="sxs-lookup"><span data-stu-id="66046-209">Now, let's go through each of these settings in more detail and talk about hello behavior that it influences.</span></span>

## <a name="load"></a><span data-ttu-id="66046-210">Caricamento</span><span class="sxs-lookup"><span data-stu-id="66046-210">Load</span></span>
<span data-ttu-id="66046-211">Hello intero punto della definizione di metriche è toorepresent parte del carico.</span><span class="sxs-lookup"><span data-stu-id="66046-211">hello whole point of defining metrics is toorepresent some load.</span></span> <span data-ttu-id="66046-212">Il *carico* è la quantità di una determinata metrica che viene consumata da una replica o un'istanza del servizio in un nodo specifico.</span><span class="sxs-lookup"><span data-stu-id="66046-212">*Load* is how much of a given metric is consumed by some service instance or replica on a given node.</span></span> <span data-ttu-id="66046-213">Il carico può essere configurato in qualsiasi momento,</span><span class="sxs-lookup"><span data-stu-id="66046-213">Load can be configured at almost any point.</span></span> <span data-ttu-id="66046-214">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="66046-214">For example:</span></span>

  - <span data-ttu-id="66046-215">Può essere definito quando viene creato un servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-215">Load can be defined when a service is created.</span></span> <span data-ttu-id="66046-216">Si tratta in questo caso del _carico predefinito_.</span><span class="sxs-lookup"><span data-stu-id="66046-216">This is called _default load_.</span></span>
  - <span data-ttu-id="66046-217">caricamento delle informazioni di metrica Hello, tra cui impostazione predefinita, per un servizio può aggiornare dopo la creazione servizio hello.</span><span class="sxs-lookup"><span data-stu-id="66046-217">hello metric information, including default loads, for a service can updated after hello service is created.</span></span> <span data-ttu-id="66046-218">Si tratta in questo caso di _aggiornamento di un servizio_.</span><span class="sxs-lookup"><span data-stu-id="66046-218">This is called _updating a service_.</span></span> 
  - <span data-ttu-id="66046-219">Carica Hello per una determinata partizione può essere reimpostazione toohello predefinite per il servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-219">hello loads for a given partition can be reset toohello default values for that service.</span></span> <span data-ttu-id="66046-220">Viene definita _reimpostazione del carico della partizione_.</span><span class="sxs-lookup"><span data-stu-id="66046-220">This is called _resetting partition load_.</span></span>
  - <span data-ttu-id="66046-221">Il carico può essere restituito per ogni oggetto servizio in modo dinamico in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="66046-221">Load can be reported on a per service object basis dynamically during runtime.</span></span> <span data-ttu-id="66046-222">Si ha in questo caso la _creazione di report di carico_.</span><span class="sxs-lookup"><span data-stu-id="66046-222">This is called _reporting load_.</span></span> 
  
<span data-ttu-id="66046-223">Tutte queste strategie può essere usate in hello per tutta la durata del servizio stesso.</span><span class="sxs-lookup"><span data-stu-id="66046-223">All of these strategies can be used within hello same service over its lifetime.</span></span> 

## <a name="default-load"></a><span data-ttu-id="66046-224">Carico predefinito</span><span class="sxs-lookup"><span data-stu-id="66046-224">Default load</span></span>
<span data-ttu-id="66046-225">*Carico predefinito* è la quantità di metrica hello utilizza ogni oggetto di servizio (istanza senza informazioni sullo stato o una replica con stato) di questo servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-225">*Default load* is how much of hello metric each service object (stateless instance or stateful replica) of this service consumes.</span></span> <span data-ttu-id="66046-226">Gestione delle risorse Cluster Hello utilizzato questo numero per il carico di hello dell'oggetto servizio hello finché riceve altre informazioni, ad esempio un report del carico dinamico.</span><span class="sxs-lookup"><span data-stu-id="66046-226">hello Cluster Resource Manager uses this number for hello load of hello service object until it receives other information, such as a dynamic load report.</span></span> <span data-ttu-id="66046-227">Per i servizi più semplici, hello del carico predefinito è una definizione statica.</span><span class="sxs-lookup"><span data-stu-id="66046-227">For simpler services, hello default load is a static definition.</span></span> <span data-ttu-id="66046-228">carico predefinito Hello non viene mai aggiornato e viene utilizzata per la durata di hello del servizio hello.</span><span class="sxs-lookup"><span data-stu-id="66046-228">hello default load is never updated and is used for hello lifetime of hello service.</span></span> <span data-ttu-id="66046-229">Predefinito carica funziona bene per scenari in cui determinati quantità di risorse sono carichi di lavoro toodifferent dedicato e non cambiano di pianificazione della capacità di semplice.</span><span class="sxs-lookup"><span data-stu-id="66046-229">Default loads works great for simple capacity planning scenarios where certain amounts of resources are dedicated toodifferent workloads and do not change.</span></span>

> [!NOTE]
> <span data-ttu-id="66046-230">Per ulteriori informazioni sulla gestione della capacità e la definizione di capacità per i nodi di hello del cluster, vedere [questo articolo](service-fabric-cluster-resource-manager-cluster-description.md#capacity).</span><span class="sxs-lookup"><span data-stu-id="66046-230">For more information on capacity management and defining capacities for hello nodes in your cluster, please see [this article](service-fabric-cluster-resource-manager-cluster-description.md#capacity).</span></span>
> 

<span data-ttu-id="66046-231">Hello gestione delle risorse Cluster consente toospecify servizi con stato di un carico predefinito diverso per i relativi componenti primari e secondari.</span><span class="sxs-lookup"><span data-stu-id="66046-231">hello Cluster Resource Manager allows stateful services toospecify a different default load for their Primaries and Secondaries.</span></span> <span data-ttu-id="66046-232">I servizi senza stati è possono specificare solo un valore che applica le istanze di tooall.</span><span class="sxs-lookup"><span data-stu-id="66046-232">Stateless services can only specify one value that applies tooall instances.</span></span> <span data-ttu-id="66046-233">Per i servizi con stati, il carico predefinito hello per le repliche di database primario e secondario sono solitamente diversi poiché le repliche di eseguire diversi tipi di lavoro in ogni ruolo.</span><span class="sxs-lookup"><span data-stu-id="66046-233">For stateful services, hello default load for Primary and Secondary replicas are typically different since replicas do different kinds of work in each role.</span></span> <span data-ttu-id="66046-234">Ad esempio, primari in genere servono le operazioni di lettura e scrittura e gestiscono la maggior parte delle attività di calcolo hello, mentre le repliche secondarie non.</span><span class="sxs-lookup"><span data-stu-id="66046-234">For example, Primaries usually serve both reads and writes, and handle most of hello computational burden, while secondaries do not.</span></span> <span data-ttu-id="66046-235">In genere un carico predefinito hello per una replica primaria è superiore al carico predefinito hello per le repliche secondarie.</span><span class="sxs-lookup"><span data-stu-id="66046-235">Usually hello default load for a primary replica is higher than hello default load for secondary replicas.</span></span> <span data-ttu-id="66046-236">numeri reali Hello dovrebbero dipendere dalle proprie misurazioni.</span><span class="sxs-lookup"><span data-stu-id="66046-236">hello real numbers should depend on your own measurements.</span></span>

## <a name="dynamic-load"></a><span data-ttu-id="66046-237">Carico dinamico</span><span class="sxs-lookup"><span data-stu-id="66046-237">Dynamic load</span></span>
<span data-ttu-id="66046-238">Si supponga di aver eseguito un servizio per un determinato periodo di tempo</span><span class="sxs-lookup"><span data-stu-id="66046-238">Let’s say that you’ve been running your service for a while.</span></span> <span data-ttu-id="66046-239">e di aver rilevato, con alcune attività di monitoraggio, quanto segue:</span><span class="sxs-lookup"><span data-stu-id="66046-239">With some monitoring, you’ve noticed that:</span></span>

1. <span data-ttu-id="66046-240">Alcune partizioni o istanze di un determinato servizio utilizzano più risorse di altre.</span><span class="sxs-lookup"><span data-stu-id="66046-240">Some partitions or instances of a given service consume more resources than others</span></span>
2. <span data-ttu-id="66046-241">Il carico di alcuni servizi varia nel tempo.</span><span class="sxs-lookup"><span data-stu-id="66046-241">Some services have load that varies over time.</span></span>

<span data-ttu-id="66046-242">Fluttuazioni del carico di questo tipo possono avere diverse cause.</span><span class="sxs-lookup"><span data-stu-id="66046-242">There's lots of things that could cause these types of load fluctuations.</span></span> <span data-ttu-id="66046-243">Ad esempio, servizi o partizioni diversi sono associati a clienti diversi con esigenze differenti.</span><span class="sxs-lookup"><span data-stu-id="66046-243">For example, different services or partitions are associated with different customers with different requirements.</span></span> <span data-ttu-id="66046-244">Carico potrebbe anche cambiare poiché quantità hello del servizio hello lavoro varia nel corso di hello del giorno hello.</span><span class="sxs-lookup"><span data-stu-id="66046-244">Load could also change because hello amount of work hello service does varies over hello course of hello day.</span></span> <span data-ttu-id="66046-245">Indipendentemente dal motivo hello, non è in genere alcun singolo numero che è possibile utilizzare per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="66046-245">Regardless of hello reason, there’s usually no single number that you can use for default.</span></span> <span data-ttu-id="66046-246">Ciò vale soprattutto se si desidera hello tooget la maggior parte delle utilizzo all'esterno di cluster hello.</span><span class="sxs-lookup"><span data-stu-id="66046-246">This is especially true if you want tooget hello most utilization out of hello cluster.</span></span> <span data-ttu-id="66046-247">Qualsiasi valore che scelto per il carico predefinito non è corretto alcuni ora hello.</span><span class="sxs-lookup"><span data-stu-id="66046-247">Any value you pick for default load is wrong some of hello time.</span></span> <span data-ttu-id="66046-248">Predefinito non corretto carica il risultato in hello Gestione risorse di Cluster di failover o sotto l'allocazione delle risorse.</span><span class="sxs-lookup"><span data-stu-id="66046-248">Incorrect default loads result in hello Cluster Resource Manager either over or under allocating resources.</span></span> <span data-ttu-id="66046-249">Di conseguenza, si dispone di nodi sopra o sotto utilizzati anche se ritiene di hello gestione delle risorse Cluster viene bilanciato cluster hello.</span><span class="sxs-lookup"><span data-stu-id="66046-249">As a result, you have nodes that are over or under utilized even though hello Cluster Resource Manager thinks hello cluster is balanced.</span></span> <span data-ttu-id="66046-250">I carichi predefiniti sono comunque validi perché forniscono alcune informazioni, ma non rappresentano interamente i carichi di lavoro reali.</span><span class="sxs-lookup"><span data-stu-id="66046-250">Default loads are still good since they provide some information for initial placement, but they're not a complete story for real workloads.</span></span> <span data-ttu-id="66046-251">acquisizione tooaccurately variazioni dei requisiti di risorse, gestione delle risorse Cluster hello consente il proprio carico ogni tooupdate oggetto servizio in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="66046-251">tooaccurately capture changing resource requirements, hello Cluster Resource Manager allows each service object tooupdate its own load during runtime.</span></span> <span data-ttu-id="66046-252">con la creazione di report di carico dinamici.</span><span class="sxs-lookup"><span data-stu-id="66046-252">This is called dynamic load reporting.</span></span>

<span data-ttu-id="66046-253">I report di carico dinamico consentono tooadjust repliche o istanze il loro carico allocazione/segnalata delle metriche nel relativo ciclo di vita.</span><span class="sxs-lookup"><span data-stu-id="66046-253">Dynamic load reports allow replicas or instances tooadjust their allocation/reported load of metrics over their lifetime.</span></span> <span data-ttu-id="66046-254">Una replica o un'istanza del servizio che è inattiva e non esegue alcuna operazione segnalerà in genere un uso ridotto di una determinata metrica,</span><span class="sxs-lookup"><span data-stu-id="66046-254">A service replica or instance that was cold and not doing any work would usually report that it was using low amounts of a given metric.</span></span> <span data-ttu-id="66046-255">mentre una replica o un'istanza occupata segnalerà un uso superiore.</span><span class="sxs-lookup"><span data-stu-id="66046-255">A busy replica or instance would report that they are using more.</span></span>

<span data-ttu-id="66046-256">Reporting di carico per ogni replica o istanza consente hello tooreorganize di gestione delle risorse Cluster hello singoli oggetti assistenza hello cluster.</span><span class="sxs-lookup"><span data-stu-id="66046-256">Reporting load per replica or instance allows hello Cluster Resource Manager tooreorganize hello individual service objects in hello cluster.</span></span> <span data-ttu-id="66046-257">La riorganizzazione di servizi di hello contribuisce a garantire che venga applicato alle risorse di hello che necessarie.</span><span class="sxs-lookup"><span data-stu-id="66046-257">Reorganizing hello services helps ensure that they get hello resources they require.</span></span> <span data-ttu-id="66046-258">Servizi occupati ottenere in modo efficace troppo "recuperare" risorse da altre repliche di istanze o che sono attualmente freddo o meno operazioni.</span><span class="sxs-lookup"><span data-stu-id="66046-258">Busy services effectively get too"reclaim" resources from other replicas or instances that are currently cold or doing less work.</span></span>

<span data-ttu-id="66046-259">All'interno di servizi affidabili, carico tooreport di codice hello in modo dinamico è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="66046-259">Within Reliable Services, hello code tooreport load dynamically looks like this:</span></span>

<span data-ttu-id="66046-260">Codice:</span><span class="sxs-lookup"><span data-stu-id="66046-260">Code:</span></span>

```csharp
this.Partition.ReportLoad(new List<LoadMetric> { new LoadMetric("CurrentConnectionCount", 1234), new LoadMetric("metric1", 42) });
```

<span data-ttu-id="66046-261">Un servizio può segnalare in una delle metriche hello definite al momento della creazione.</span><span class="sxs-lookup"><span data-stu-id="66046-261">A service can report on any of hello metrics defined for it at creation time.</span></span> <span data-ttu-id="66046-262">Se un carico di report del servizio per una misurazione che non è configurato toouse, Service Fabric ignora tale report.</span><span class="sxs-lookup"><span data-stu-id="66046-262">If a service reports load for a metric that it is not configured toouse, Service Fabric ignores that report.</span></span> <span data-ttu-id="66046-263">Se esistono altre metriche viene segnalato a hello stessa ora in cui sono validi, tali relazioni sono accettati.</span><span class="sxs-lookup"><span data-stu-id="66046-263">If there are other metrics reported at hello same time that are valid, those reports are accepted.</span></span> <span data-ttu-id="66046-264">Codice del servizio è possibile misurare e segnalare tutti hello metriche sa come, e gli operatori possono specificare hello configurazione metrica toouse senza la necessità di codice del servizio toochange hello.</span><span class="sxs-lookup"><span data-stu-id="66046-264">Service code can measure and report all hello metrics it knows how to, and operators can specify hello metric configuration toouse without having toochange hello service code.</span></span> 

### <a name="updating-a-services-metric-configuration"></a><span data-ttu-id="66046-265">Aggiornamento della configurazione delle metriche di un servizio</span><span class="sxs-lookup"><span data-stu-id="66046-265">Updating a service's metric configuration</span></span>
<span data-ttu-id="66046-266">elenco Hello delle metriche associato servizio hello e può essere aggiornata in modo dinamico proprietà hello di queste metriche mentre è attivo il servizio di hello.</span><span class="sxs-lookup"><span data-stu-id="66046-266">hello list of metrics associated with hello service, and hello properties of those metrics can be updated dynamically while hello service is live.</span></span> <span data-ttu-id="66046-267">Questo approccio consente di sperimentare con flessibilità.</span><span class="sxs-lookup"><span data-stu-id="66046-267">This allows for experimentation and flexibility.</span></span> <span data-ttu-id="66046-268">Di seguito alcuni esempi che mostrano l'utilità di questo tipo di aggiornamento:</span><span class="sxs-lookup"><span data-stu-id="66046-268">Some examples of when this is useful are:</span></span>

  - <span data-ttu-id="66046-269">disabilitazione di una metrica con un report anomalo per un determinato servizio;</span><span class="sxs-lookup"><span data-stu-id="66046-269">disabling a metric with a buggy report for a particular service</span></span>
  - <span data-ttu-id="66046-270">riconfigurazione di pesi hello di metriche in base alle modalità di funzionamento</span><span class="sxs-lookup"><span data-stu-id="66046-270">reconfiguring hello weights of metrics based on desired behavior</span></span>
  - <span data-ttu-id="66046-271">l'abilitazione di una nuova metrica solo dopo il codice hello già distribuito e convalidato tramite altri meccanismi di</span><span class="sxs-lookup"><span data-stu-id="66046-271">enabling a new metric only after hello code has already been deployed and validated via other mechanisms</span></span>
  - <span data-ttu-id="66046-272">la modifica di un carico hello predefinito per un servizio basato sul consumo e comportamento osservato</span><span class="sxs-lookup"><span data-stu-id="66046-272">changing hello default load for a service based on observed behavior and consumption</span></span>

<span data-ttu-id="66046-273">Hello principale API per la modifica della configurazione di metrica sono `FabricClient.ServiceManagementClient.UpdateServiceAsync` in c# e `Update-ServiceFabricService` in PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66046-273">hello main APIs for changing metric configuration are `FabricClient.ServiceManagementClient.UpdateServiceAsync` in C# and `Update-ServiceFabricService` in PowerShell.</span></span> <span data-ttu-id="66046-274">Tutte le informazioni specificate con queste API sostituiscono informazioni metrica hello esistenti per il servizio hello immediatamente.</span><span class="sxs-lookup"><span data-stu-id="66046-274">Whatever information you specify with these APIs replaces hello existing metric information for hello service immediately.</span></span> 

## <a name="mixing-default-load-values-and-dynamic-load-reports"></a><span data-ttu-id="66046-275">Combinazione di valori di carico predefiniti e report sul carico dinamico</span><span class="sxs-lookup"><span data-stu-id="66046-275">Mixing default load values and dynamic load reports</span></span>
<span data-ttu-id="66046-276">Carico predefinito e carichi dinamici possono essere utilizzati per hello stesso servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-276">Default load and dynamic loads can be used for hello same service.</span></span> <span data-ttu-id="66046-277">Quando un servizio usa sia il carico predefinito sia i report di carico dinamici, il carico predefinito funge da stima finché non sono disponibili i report dinamici.</span><span class="sxs-lookup"><span data-stu-id="66046-277">When a service utilizes both default load and dynamic load reports, default load serves as an estimate until dynamic reports show up.</span></span> <span data-ttu-id="66046-278">È infatti possibile hello gestione delle risorse Cluster qualcosa toowork con, è buona carico predefinito.</span><span class="sxs-lookup"><span data-stu-id="66046-278">Default load is good because it gives hello Cluster Resource Manager something toowork with.</span></span> <span data-ttu-id="66046-279">carico predefinito Hello consente hello tooplace di gestione delle risorse Cluster oggetti servizio hello in posizioni ottimale quando vengono creati.</span><span class="sxs-lookup"><span data-stu-id="66046-279">hello default load allows hello Cluster Resource Manager tooplace hello service objects in good locations when they are created.</span></span> <span data-ttu-id="66046-280">Se non vengono specificate informazione sul carico predefinito, i servizi vengono posizionati in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="66046-280">If no default load information is provided, placement of services is effectively random.</span></span> <span data-ttu-id="66046-281">Quando i report di carico ricevuti in un secondo momento hello gestione delle risorse Cluster è toomove servizi posizionamento casuale iniziale hello spesso non è corretto.</span><span class="sxs-lookup"><span data-stu-id="66046-281">When load reports arrive later hello initial random placement is often wrong and hello Cluster Resource Manager has toomove services.</span></span>

<span data-ttu-id="66046-282">Partendo dall'esempio precedente, è possibile verificare le conseguenze dell'aggiunta di alcune metriche personalizzate e dei report di carico dinamici.</span><span class="sxs-lookup"><span data-stu-id="66046-282">Let’s take our previous example and see what happens when we add some custom metrics and dynamic load reporting.</span></span> <span data-ttu-id="66046-283">In questo esempio verrà usata la metrica "MemoryInMb".</span><span class="sxs-lookup"><span data-stu-id="66046-283">In this example, we use “MemoryInMb” as an example metric.</span></span>

> [!NOTE]
> <span data-ttu-id="66046-284">La memoria è una delle metriche di sistema hello che può essere Service Fabric [risorse regolano](service-fabric-resource-governance.md), e report è in genere difficile.</span><span class="sxs-lookup"><span data-stu-id="66046-284">Memory is one of hello system metrics that Service Fabric can [resource govern](service-fabric-resource-governance.md), and reporting it yourself is typically difficult.</span></span> <span data-ttu-id="66046-285">Non è effettivamente previsto è tooreport sul consumo di memoria; La memoria viene utilizzata come un toolearning aiuto sulle funzionalità di hello di hello gestione delle risorse Cluster.</span><span class="sxs-lookup"><span data-stu-id="66046-285">We don't actually expect you tooreport on Memory consumption; Memory is used here as an aid toolearning about hello capabilities of hello Cluster Resource Manager.</span></span>
>

<span data-ttu-id="66046-286">Si presume che servizio con stato hello è creato inizialmente con hello comando seguente:</span><span class="sxs-lookup"><span data-stu-id="66046-286">Let’s presume that we initially created hello stateful service with hello following command:</span></span>

<span data-ttu-id="66046-287">Powershell:</span><span class="sxs-lookup"><span data-stu-id="66046-287">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName –Stateful -MinReplicaSetSize 3 -TargetReplicaSetSize 3 -PartitionSchemeSingleton –Metric @("MemoryInMb,High,21,11”,"PrimaryCount,Medium,1,0”,"ReplicaCount,Low,1,1”,"Count,Low,1,1”)
```

<span data-ttu-id="66046-288">Si ricordi che la sintassi è ("MetricName, MetricWeight, PrimaryDefaultLoad, SecondaryDefaultLoad").</span><span class="sxs-lookup"><span data-stu-id="66046-288">As a reminder, this syntax is ("MetricName, MetricWeight, PrimaryDefaultLoad, SecondaryDefaultLoad").</span></span>

<span data-ttu-id="66046-289">Un layout di cluster può avere un aspetto analogo al seguente:</span><span class="sxs-lookup"><span data-stu-id="66046-289">Let's see what one possible cluster layout could look like:</span></span>

<span data-ttu-id="66046-290"><center>
![Cluster bilanciato con metriche sia predefinite che personalizzate][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="66046-290"><center>
![Cluster Balanced with both Default and Custom metrics][Image2]
</center></span></span>

<span data-ttu-id="66046-291">Occorre notare alcuni aspetti:</span><span class="sxs-lookup"><span data-stu-id="66046-291">Some things that are worth noting:</span></span>

* <span data-ttu-id="66046-292">Le repliche secondarie in una partizione possono avere un carico specifico.</span><span class="sxs-lookup"><span data-stu-id="66046-292">Secondary replicas within a partition can each have their own load</span></span>
* <span data-ttu-id="66046-293">Complessiva metriche hello Cerca bilanciate.</span><span class="sxs-lookup"><span data-stu-id="66046-293">Overall hello metrics look balanced.</span></span> <span data-ttu-id="66046-294">Per la memoria, hello rapporto tra hello massimo e minimo del carico è 1,75 (nodo hello con hello la maggior parte del carico è N3, hello almeno N2 e 28/16 = 1,75).</span><span class="sxs-lookup"><span data-stu-id="66046-294">For Memory, hello ratio between hello maximum and minimum load is 1.75 (hello node with hello most load is N3, hello least is N2, and 28/16 = 1.75).</span></span>

<span data-ttu-id="66046-295">Esistono alcuni aspetti che è comunque necessario tooexplain:</span><span class="sxs-lookup"><span data-stu-id="66046-295">There are some things that we still need tooexplain:</span></span>

* <span data-ttu-id="66046-296">In che modo è stato stabilito se un rapporto di 1,75 è ragionevole?</span><span class="sxs-lookup"><span data-stu-id="66046-296">What determined whether a ratio of 1.75 was reasonable or not?</span></span> <span data-ttu-id="66046-297">Come gestore delle risorse Cluster hello sapere se è sufficiente o se è presente più lavoro toodo?</span><span class="sxs-lookup"><span data-stu-id="66046-297">How does hello Cluster Resource Manager know if that’s good enough or if there is more work toodo?</span></span>
* <span data-ttu-id="66046-298">Quando viene applicato il bilanciamento?</span><span class="sxs-lookup"><span data-stu-id="66046-298">When does balancing happen?</span></span>
* <span data-ttu-id="66046-299">Cosa significa che il peso di Memory è "High"?</span><span class="sxs-lookup"><span data-stu-id="66046-299">What does it mean that Memory was weighted “High”?</span></span>

## <a name="metric-weights"></a><span data-ttu-id="66046-300">Pesi metrici</span><span class="sxs-lookup"><span data-stu-id="66046-300">Metric weights</span></span>
<span data-ttu-id="66046-301">Rilevamento hello stesso metriche tra diversi servizi sono importante.</span><span class="sxs-lookup"><span data-stu-id="66046-301">Tracking hello same metrics across different services is important.</span></span> <span data-ttu-id="66046-302">Visualizzazione globale è consente hello consumo tootrack gestione delle risorse Cluster nel cluster hello bilanciare consumo tra nodi e verificare che i nodi non sfruttano la capacità.</span><span class="sxs-lookup"><span data-stu-id="66046-302">That global view is what allows hello Cluster Resource Manager tootrack consumption in hello cluster, balance consumption across nodes, and ensure that nodes don’t go over capacity.</span></span> <span data-ttu-id="66046-303">Tuttavia, i servizi possono presentare diverse visualizzazioni come toohello importanza di hello stessa metrica.</span><span class="sxs-lookup"><span data-stu-id="66046-303">However, services may have different views as toohello importance of hello same metric.</span></span> <span data-ttu-id="66046-304">In un cluster con molte metriche e numerosi servizi, inoltre, potrebbero non esistere soluzioni perfettamente bilanciate per tutte le metriche.</span><span class="sxs-lookup"><span data-stu-id="66046-304">Also, in a cluster with many metrics and lots of services, perfectly balanced solutions may not exist for all metrics.</span></span> <span data-ttu-id="66046-305">Come hello gestione delle risorse Cluster deve gestire queste situazioni?</span><span class="sxs-lookup"><span data-stu-id="66046-305">How should hello Cluster Resource Manager handle these situations?</span></span>

<span data-ttu-id="66046-306">Metrica pesi consentono hello toodecide di gestione delle risorse Cluster come hello toobalance cluster quando non viene data risposta ideale.</span><span class="sxs-lookup"><span data-stu-id="66046-306">Metric weights allow hello Cluster Resource Manager toodecide how toobalance hello cluster when there’s no perfect answer.</span></span> <span data-ttu-id="66046-307">Metrica pesi consentono inoltre a hello toobalance di gestione delle risorse Cluster servizi specifici in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="66046-307">Metric weights also allow hello Cluster Resource Manager toobalance specific services differently.</span></span> <span data-ttu-id="66046-308">Le metriche possono avere quattro livelli di peso diversi: Zero, Low, Medium e High.</span><span class="sxs-lookup"><span data-stu-id="66046-308">Metrics can have four different weight levels: Zero, Low, Medium, and High.</span></span> <span data-ttu-id="66046-309">Una metrica con peso zero non ha impatto quando si valuta se gli elementi sono bilanciati o meno,</span><span class="sxs-lookup"><span data-stu-id="66046-309">A metric with a weight of Zero contributes nothing when considering whether things are balanced or not.</span></span> <span data-ttu-id="66046-310">Tuttavia, il relativo carico ancora contribuiscono toocapacity gestione.</span><span class="sxs-lookup"><span data-stu-id="66046-310">However, its load does still contribute toocapacity management.</span></span> <span data-ttu-id="66046-311">Le metriche con peso zero sono comunque utili e vengono spesso usate come componenti del comportamento del servizio e del monitoraggio delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="66046-311">Metrics with Zero weight are still useful and are frequently used as a part of service behavior and performance monitoring.</span></span> <span data-ttu-id="66046-312">[In questo articolo](service-fabric-diagnostics-event-generation-infra.md) vengono fornite ulteriori informazioni sull'uso di hello delle metriche per il monitoraggio e diagnostica dei servizi.</span><span class="sxs-lookup"><span data-stu-id="66046-312">[This article](service-fabric-diagnostics-event-generation-infra.md) provides more information on hello use of metrics for monitoring and diagnostics of your services.</span></span> 

<span data-ttu-id="66046-313">un impatto reale Hello di pesi metrica diversi cluster hello è che il gestore delle risorse Cluster hello genera diverse soluzioni.</span><span class="sxs-lookup"><span data-stu-id="66046-313">hello real impact of different metric weights in hello cluster is that hello Cluster Resource Manager generates different solutions.</span></span> <span data-ttu-id="66046-314">Metrica pesi indicano hello gestione delle risorse Cluster che alcune metriche sono più importanti rispetto ad altri.</span><span class="sxs-lookup"><span data-stu-id="66046-314">Metric weights tell hello Cluster Resource Manager that certain metrics are more important than others.</span></span> <span data-ttu-id="66046-315">Quando è presente alcun hello soluzione perfetta gestione delle risorse Cluster può preferire soluzioni che bilanciare hello superiore ponderata metriche migliori.</span><span class="sxs-lookup"><span data-stu-id="66046-315">When there's no perfect solution hello Cluster Resource Manager can prefer solutions which balance hello higher weighted metrics better.</span></span> <span data-ttu-id="66046-316">Se una particolare metrica non è importante per un servizio, potrebbe sbilanciarne l'uso</span><span class="sxs-lookup"><span data-stu-id="66046-316">If a service thinks a particular metric is unimportant, it may find their use of that metric imbalanced.</span></span> <span data-ttu-id="66046-317">In questo modo un altro servizio tooget una distribuzione uniforme di alcune metriche che è importante tooit.</span><span class="sxs-lookup"><span data-stu-id="66046-317">This allows another service tooget an even distribution of some metric that is important tooit.</span></span>

<span data-ttu-id="66046-318">Esaminiamo un esempio di alcuni report di carico e la metrica per ponderare i risultati in diverse allocazioni cluster hello.</span><span class="sxs-lookup"><span data-stu-id="66046-318">Let’s look at an example of some load reports and how different metric weights results in different allocations in hello cluster.</span></span> <span data-ttu-id="66046-319">In questo esempio viene illustrato che scambiare peso relativo di hello delle metriche hello provoca hello toocreate di gestione delle risorse Cluster differenti versioni dei servizi.</span><span class="sxs-lookup"><span data-stu-id="66046-319">In this example, we see that switching hello relative weight of hello metrics causes hello Cluster Resource Manager toocreate different arrangements of services.</span></span>

<span data-ttu-id="66046-320"><center>
![Esempio di peso delle metriche e del relativo impatto sulle soluzioni di bilanciamento][Image3]
</center></span><span class="sxs-lookup"><span data-stu-id="66046-320"><center>
![Metric Weight Example and Its Impact on Balancing Solutions][Image3]
</center></span></span>

<span data-ttu-id="66046-321">In questo esempio sono presenti quattro diversi servizi, tutti con valori diversi nei report di due diverse metriche, MetricA e MetricB.</span><span class="sxs-lookup"><span data-stu-id="66046-321">In this example, there are four different services, all reporting different values for two different metrics, MetricA and MetricB.</span></span> <span data-ttu-id="66046-322">In un caso, tutti i servizi di hello definiscono MetricA è più importante di hello (peso = alto) e MetricB come non importanti (peso = basso).</span><span class="sxs-lookup"><span data-stu-id="66046-322">In one case, all hello services define MetricA is hello most important one (Weight = High) and MetricB as unimportant (Weight = Low).</span></span> <span data-ttu-id="66046-323">Di conseguenza, viene illustrato che il gestore delle risorse Cluster hello posiziona servizi hello in modo che MetricA risulta più bilanciato di MetricB.</span><span class="sxs-lookup"><span data-stu-id="66046-323">As a result, we see that hello Cluster Resource Manager places hello services so that MetricA is better balanced than MetricB.</span></span> <span data-ttu-id="66046-324">"Bilanciamento migliore" significa che MetricA presenta una deviazione standard inferiore rispetto a MetricB.</span><span class="sxs-lookup"><span data-stu-id="66046-324">"Better balanced" means that MetricA has a lower has a lower standard deviation than MetricB.</span></span> <span data-ttu-id="66046-325">Nel secondo caso hello è inverso pesi metrica hello.</span><span class="sxs-lookup"><span data-stu-id="66046-325">In hello second case, we reverse hello metric weights.</span></span> <span data-ttu-id="66046-326">Di conseguenza, hello gestione delle risorse Cluster consente di scambiare servizi A e B toocome backup con un'allocazione in cui MetricB risulta più bilanciato di MetricA.</span><span class="sxs-lookup"><span data-stu-id="66046-326">As a result, hello Cluster Resource Manager swaps services A and B toocome up with an allocation where MetricB is better balanced than MetricA.</span></span>

> [!NOTE]
> <span data-ttu-id="66046-327">Metrica pesi determinano come deve bilanciare i hello gestione delle risorse Cluster, ma non quando bilanciamento del carico deve verificarsi.</span><span class="sxs-lookup"><span data-stu-id="66046-327">Metric weights determine how hello Cluster Resource Manager should balance, but not when balancing should happen.</span></span> <span data-ttu-id="66046-328">Per altre informazioni sul bilanciamento, vedere [questo articolo](service-fabric-cluster-resource-manager-balancing.md).</span><span class="sxs-lookup"><span data-stu-id="66046-328">For more information on balancing, check out [this article](service-fabric-cluster-resource-manager-balancing.md)</span></span>
>

### <a name="global-metric-weights"></a><span data-ttu-id="66046-329">Pesi metrici globali</span><span class="sxs-lookup"><span data-stu-id="66046-329">Global metric weights</span></span>
<span data-ttu-id="66046-330">Si supponga Service definisce MetricA come peso elevata e ServiceB imposta il peso di hello per MetricA tooLow o Zero.</span><span class="sxs-lookup"><span data-stu-id="66046-330">Let's say ServiceA defines MetricA as weight High, and ServiceB sets hello weight for MetricA tooLow or Zero.</span></span> <span data-ttu-id="66046-331">Che cos'è il peso reale hello che finisce per essere utilizzata?</span><span class="sxs-lookup"><span data-stu-id="66046-331">What’s hello actual weight that ends up getting used?</span></span>

<span data-ttu-id="66046-332">Per ogni metrica esistono più pesi di cui tenere traccia.</span><span class="sxs-lookup"><span data-stu-id="66046-332">There are multiple weights that are tracked for every metric.</span></span> <span data-ttu-id="66046-333">peso prima Hello è hello definito per la metrica hello quando viene creato il servizio di hello.</span><span class="sxs-lookup"><span data-stu-id="66046-333">hello first weight is hello one defined for hello metric when hello service is created.</span></span> <span data-ttu-id="66046-334">Hello altri peso è uno spessore globale, che viene calcolato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="66046-334">hello other weight is a global weight, which is computed automatically.</span></span> <span data-ttu-id="66046-335">Hello gestione delle risorse Cluster utilizza entrambi questi pesi quando le soluzioni di punteggio.</span><span class="sxs-lookup"><span data-stu-id="66046-335">hello Cluster Resource Manager uses both these weights when scoring solutions.</span></span> <span data-ttu-id="66046-336">Considerare entrambi i pesi è importante.</span><span class="sxs-lookup"><span data-stu-id="66046-336">Taking both weights into account is important.</span></span> <span data-ttu-id="66046-337">In questo modo hello toobalance di gestione delle risorse Cluster ogni servizio tooits secondo proprietari priorità e assicurarsi anche tale cluster hello come intero è allocato correttamente.</span><span class="sxs-lookup"><span data-stu-id="66046-337">This allows hello Cluster Resource Manager toobalance each service according tooits own priorities, and also ensure that hello cluster as a whole is allocated correctly.</span></span>

<span data-ttu-id="66046-338">Che cosa accadrebbe se hello gestione delle risorse Cluster non si preoccupa dell'equilibrio globale e locali?</span><span class="sxs-lookup"><span data-stu-id="66046-338">What would happen if hello Cluster Resource Manager didn’t care about both global and local balance?</span></span> <span data-ttu-id="66046-339">È anche facile tooconstruct soluzioni a livello globale, che sono bilanciati, ma il risultato che il saldo di risorse insufficienti per i singoli servizi.</span><span class="sxs-lookup"><span data-stu-id="66046-339">Well, it’s easy tooconstruct solutions that are globally balanced, but which result in poor resource balance for individual services.</span></span> <span data-ttu-id="66046-340">Nel seguente esempio di hello, si esamina un servizio configurato con solo i criteri predefiniti hello e vedere cosa accade quando viene considerato solo globale saldo:</span><span class="sxs-lookup"><span data-stu-id="66046-340">In hello following example, let’s look at a service configured with just hello default metrics, and see what happens when only global balance is considered:</span></span>

<span data-ttu-id="66046-341"><center>
![Hello impatto di una soluzione solo globale][Image4]
</center></span><span class="sxs-lookup"><span data-stu-id="66046-341"><center>
![hello Impact of a Global Only Solution][Image4]
</center></span></span>

<span data-ttu-id="66046-342">Nell'esempio di hello superiore basato solo su globale saldo, l'intero cluster hello effettivamente viene bilanciato.</span><span class="sxs-lookup"><span data-stu-id="66046-342">In hello top example based only on global balance, hello cluster as a whole is indeed balanced.</span></span> <span data-ttu-id="66046-343">Tutti i nodi dispongono hello stesso numero di colori primari e hello stesso numero di repliche totali.</span><span class="sxs-lookup"><span data-stu-id="66046-343">All nodes have hello same count of primaries and hello same number total replicas.</span></span> <span data-ttu-id="66046-344">Tuttavia, se si esamina l'impatto di effettivo hello di questa allocazione non è pertanto valida: hello perdita di un nodo ha conseguenze negative un determinato carico di lavoro estremamente, poiché accetta tutte relativo primari.</span><span class="sxs-lookup"><span data-stu-id="66046-344">However, if you look at hello actual impact of this allocation it’s not so good: hello loss of any node impacts a particular workload disproportionately, because it takes out all of its primaries.</span></span> <span data-ttu-id="66046-345">Ad esempio, se primo nodo hello non riesce a tre colori primari hello per hello tre diverse partizioni di hello servizio cerchio tutti sarebbe persi.</span><span class="sxs-lookup"><span data-stu-id="66046-345">For example, if hello first node fails hello three primaries for hello three different partitions of hello Circle service would all be lost.</span></span> <span data-ttu-id="66046-346">Al contrario, hello triangolo e servizi esagono hanno le relative partizioni perdere una replica.</span><span class="sxs-lookup"><span data-stu-id="66046-346">Conversely, hello Triangle and Hexagon services have their partitions lose a replica.</span></span> <span data-ttu-id="66046-347">In questo modo alcuna interruzione del servizio, diverso da con hello toorecover verso il basso di replica.</span><span class="sxs-lookup"><span data-stu-id="66046-347">This causes no disruption, other than having toorecover hello down replica.</span></span>

<span data-ttu-id="66046-348">Nell'esempio hello inferiore hello gestione delle risorse Cluster è distribuiti repliche hello in base a entrambi equilibrio hello, globali e di servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-348">In hello bottom example, hello Cluster Resource Manager has distributed hello replicas based on both hello global and per-service balance.</span></span> <span data-ttu-id="66046-349">Quando si calcola il punteggio di hello della soluzione hello offre la maggior parte di una soluzione globale di hello peso toohello e i servizi di tooindividual una porzione (configurabile).</span><span class="sxs-lookup"><span data-stu-id="66046-349">When calculating hello score of hello solution it gives most of hello weight toohello global solution, and a (configurable) portion tooindividual services.</span></span> <span data-ttu-id="66046-350">Stato globale per una misurazione è calcolato in base Media hello dei pesi di metrica hello da ogni servizio.</span><span class="sxs-lookup"><span data-stu-id="66046-350">Global balance for a metric is calculated based on hello average of hello metric weights from each service.</span></span> <span data-ttu-id="66046-351">Ogni servizio viene bilanciato secondo tooits personalizzate definite pesi metrica.</span><span class="sxs-lookup"><span data-stu-id="66046-351">Each service is balanced according tooits own defined metric weights.</span></span> <span data-ttu-id="66046-352">In questo modo si garantisce che i servizi di hello sono bilanciati fra loro in base a tootheir alle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="66046-352">This ensures that hello services are balanced within themselves according tootheir own needs.</span></span> <span data-ttu-id="66046-353">Di conseguenza, se hello stesso nodo del primo errore hello viene distribuito tra tutte le partizioni di tutti i servizi.</span><span class="sxs-lookup"><span data-stu-id="66046-353">As a result, if hello same first node fails hello failure is distributed across all partitions of all services.</span></span> <span data-ttu-id="66046-354">tooeach impatto Hello è hello stesso.</span><span class="sxs-lookup"><span data-stu-id="66046-354">hello impact tooeach is hello same.</span></span>

## <a name="next-steps"></a><span data-ttu-id="66046-355">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="66046-355">Next steps</span></span>
- <span data-ttu-id="66046-356">Per altre informazioni sulla configurazione dei servizi vedere [Informazioni sulla configurazione dei servizi](service-fabric-cluster-resource-manager-configure-services.md)(service-fabric-cluster-resource-manager-configure-services.md)</span><span class="sxs-lookup"><span data-stu-id="66046-356">For more information on configuring services, [Learn about configuring Services](service-fabric-cluster-resource-manager-configure-services.md)(service-fabric-cluster-resource-manager-configure-services.md)</span></span>
- <span data-ttu-id="66046-357">La definizione di metriche di deframmentazione in linea è tooconsolidate unidirezionale carico sui nodi anziché distribuirlo. toolearn come tooconfigure deframmentazione, fare riferimento troppo[in questo articolo](service-fabric-cluster-resource-manager-defragmentation-metrics.md)</span><span class="sxs-lookup"><span data-stu-id="66046-357">Defining Defragmentation Metrics is one way tooconsolidate load on nodes instead of spreading it out. toolearn how tooconfigure defragmentation, refer too[this article](service-fabric-cluster-resource-manager-defragmentation-metrics.md)</span></span>
- <span data-ttu-id="66046-358">toofind out sulla modalità di gestione delle risorse Cluster hello gestisce e bilancia il carico nel cluster hello, controllare l'articolo hello [bilanciamento del carico](service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="66046-358">toofind out about how hello Cluster Resource Manager manages and balances load in hello cluster, check out hello article on [balancing load](service-fabric-cluster-resource-manager-balancing.md)</span></span>
- <span data-ttu-id="66046-359">Iniziare dall'inizio hello e [ottenere un servizio di gestione delle risorse Cluster dell'infrastruttura di toohello introduzione](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="66046-359">Start from hello beginning and [get an Introduction toohello Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
- <span data-ttu-id="66046-360">Il costo dello spostamento è un modo di segnalazione toohello gestione delle risorse Cluster che alcuni servizi siano toomove più costosi rispetto ad altri.</span><span class="sxs-lookup"><span data-stu-id="66046-360">Movement Cost is one way of signaling toohello Cluster Resource Manager that certain services are more expensive toomove than others.</span></span> <span data-ttu-id="66046-361">toolearn ulteriori informazioni su costo di spostamento, fare riferimento troppo[in questo articolo](service-fabric-cluster-resource-manager-movement-cost.md)</span><span class="sxs-lookup"><span data-stu-id="66046-361">toolearn more about movement cost, refer too[this article](service-fabric-cluster-resource-manager-movement-cost.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-metrics/cluster-resource-manager-cluster-layout-with-default-metrics.png
[Image2]:./media/service-fabric-cluster-resource-manager-metrics/Service-Fabric-Resource-Manager-Dynamic-Load-Reports.png
[Image3]:./media/service-fabric-cluster-resource-manager-metrics/cluster-resource-manager-metric-weights-impact.png
[Image4]:./media/service-fabric-cluster-resource-manager-metrics/cluster-resource-manager-global-vs-local-balancing.png
