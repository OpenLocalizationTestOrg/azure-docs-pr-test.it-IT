---
title: aaaAzure DB Cosmos modello di risorse e concetti | Documenti Microsoft
description: "Informazioni sul modello gerarchico di Azure Cosmos DB del database, raccolte, la funzione definita dall'utente (UDF), documenti, le autorizzazioni toomanage risorse e più."
keywords: Modello gerarchico, Cosmos DB, Azure, Microsoft Azure
services: cosmos-db
documentationcenter: 
author: AndrewHoh
manager: jhubbard
editor: monicar
ms.assetid: ef9d5c0c-0867-4317-bb1b-98e219799fd5
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/24/2017
ms.author: anhoh
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: fc3642232b86cc27901ebd97456c386829324632
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-hierarchical-resource-model-and-core-concepts"></a><span data-ttu-id="bdf31-104">Modello di risorsa gerarchico e concetti di base relativi ad Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="bdf31-104">Azure Cosmos DB hierarchical resource model and core concepts</span></span>
<span data-ttu-id="bdf31-105">le entità di database che consente di gestire Azure Cosmos DB Hello sono cui tooas **risorse**.</span><span class="sxs-lookup"><span data-stu-id="bdf31-105">hello database entities that Azure Cosmos DB manages are referred tooas **resources**.</span></span> <span data-ttu-id="bdf31-106">Ogni risorsa viene identificata in modo univoco da un URI logico.</span><span class="sxs-lookup"><span data-stu-id="bdf31-106">Each resource is uniquely identified by a logical URI.</span></span> <span data-ttu-id="bdf31-107">È possibile interagire con risorse hello utilizzando i verbi HTTP standard, le intestazioni di richiesta/risposta e i codici di stato.</span><span class="sxs-lookup"><span data-stu-id="bdf31-107">You can interact with hello resources using standard HTTP verbs, request/response headers and status codes.</span></span> 

<span data-ttu-id="bdf31-108">Leggendo questo articolo, sarà in grado di tooanswer hello seguenti domande:</span><span class="sxs-lookup"><span data-stu-id="bdf31-108">By reading this article, you'll be able tooanswer hello following questions:</span></span>

* <span data-ttu-id="bdf31-109">Qual è il modello di risorsa di Cosmos DB?</span><span class="sxs-lookup"><span data-stu-id="bdf31-109">What is Cosmos DB's resource model?</span></span>
* <span data-ttu-id="bdf31-110">Quali sono system risorse definite come risorse anziché toouser definito?</span><span class="sxs-lookup"><span data-stu-id="bdf31-110">What are system defined resources as opposed toouser defined resources?</span></span>
* <span data-ttu-id="bdf31-111">Come si indirizza una risorsa?</span><span class="sxs-lookup"><span data-stu-id="bdf31-111">How do I address a resource?</span></span>
* <span data-ttu-id="bdf31-112">Come si usano le raccolte?</span><span class="sxs-lookup"><span data-stu-id="bdf31-112">How do I work with collections?</span></span>
* <span data-ttu-id="bdf31-113">Come si usano le stored procedure, i trigger e le funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="bdf31-113">How do I work with stored procedures, triggers and User Defined Functions (UDFs)?</span></span>

## <a name="hierarchical-resource-model"></a><span data-ttu-id="bdf31-114">Modello di risorse gerarchico</span><span class="sxs-lookup"><span data-stu-id="bdf31-114">Hierarchical resource model</span></span>
<span data-ttu-id="bdf31-115">Come hello diagramma seguente viene illustrato, hello DB Cosmos gerarchica **modello di risorsa** costituiti da set di risorse con un account di database, ogni indirizzabile tramite URI logico e stabile.</span><span class="sxs-lookup"><span data-stu-id="bdf31-115">As hello following diagram illustrates, hello Cosmos DB hierarchical **resource model** consists of sets of resources under a database account, each addressable via a logical and stable URI.</span></span> <span data-ttu-id="bdf31-116">Un set di risorse sarà tooas di cui si fa riferimento un **feed** in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="bdf31-116">A set of resources will be referred tooas a **feed** in this article.</span></span> 

> [!NOTE]
> <span data-ttu-id="bdf31-117">DB Cosmos Azure offre un protocollo TCP altamente efficiente che è RESTful anche nel modello di comunicazione, disponibile tramite hello [API client .NET di DocumentDB](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-117">Azure Cosmos DB offers a highly efficient TCP protocol which is also RESTful in its communication model, available through hello [DocumentDB .NET client API](documentdb-sdk-dotnet.md).</span></span>
> 
> 

<span data-ttu-id="bdf31-118">![Modello di risorsa gerarchico di Azure Cosmos DB][1]</span><span class="sxs-lookup"><span data-stu-id="bdf31-118">![Azure Cosmos DB hierarchical resource model][1]</span></span>  
<span data-ttu-id="bdf31-119">**Modello di risorse gerarchico**</span><span class="sxs-lookup"><span data-stu-id="bdf31-119">**Hierarchical resource model**</span></span>   

<span data-ttu-id="bdf31-120">toostart utilizzo delle risorse, è necessario [creare un account di database](create-documentdb-dotnet.md) tramite la sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="bdf31-120">toostart working with resources, you must [create a database account](create-documentdb-dotnet.md) using your Azure subscription.</span></span> <span data-ttu-id="bdf31-121">Un account di database può essere costituito da un set di **database**, ognuno contenente più **raccolte**. Ogni raccolta include a propria volta **stored procedure, trigger, funzioni definite dall'utente, documenti** e **allegati** correlati.</span><span class="sxs-lookup"><span data-stu-id="bdf31-121">A database account can consist of a set of **databases**, each containing multiple **collections**, each of which in turn contain **stored procedures, triggers, UDFs, documents** and related **attachments**.</span></span> <span data-ttu-id="bdf31-122">Un database è inoltre associate **utenti**, ognuno con un set di **autorizzazioni** tooaccess raccolte, stored procedure, trigger, funzioni definite dall'utente, documenti o gli allegati.</span><span class="sxs-lookup"><span data-stu-id="bdf31-122">A database also has associated **users**, each with a set of **permissions** tooaccess collections, stored procedures, triggers, UDFs, documents or attachments.</span></span> <span data-ttu-id="bdf31-123">Mentre i database, gli utenti, le autorizzazioni e le raccolte sono ricorse definite dal sistema con schemi noti, i documenti e gli allegati includono contenuto JSON arbitrario definito dagli utenti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-123">While databases, users, permissions and collections are system-defined resources with well-known schemas, documents and attachments contain arbitrary, user defined JSON content.</span></span>  

| <span data-ttu-id="bdf31-124">Risorsa</span><span class="sxs-lookup"><span data-stu-id="bdf31-124">Resource</span></span> | <span data-ttu-id="bdf31-125">Descrizione</span><span class="sxs-lookup"><span data-stu-id="bdf31-125">Description</span></span> |
| --- | --- |
| <span data-ttu-id="bdf31-126">Account di database</span><span class="sxs-lookup"><span data-stu-id="bdf31-126">Database account</span></span> |<span data-ttu-id="bdf31-127">Un account di database è associato a un set di database e a una quantità fissa di archivio BLOB per gli allegati.</span><span class="sxs-lookup"><span data-stu-id="bdf31-127">A database account is associated with a set of databases and a fixed amount of blob storage for attachments.</span></span> <span data-ttu-id="bdf31-128">È possibile creare uno o più account di database usando la sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="bdf31-128">You can create one or more database accounts using your Azure subscription.</span></span> <span data-ttu-id="bdf31-129">Per altre informazioni, visitare la [pagina dei prezzi](https://azure.microsoft.com/pricing/details/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="bdf31-129">For more information, visit our [pricing page](https://azure.microsoft.com/pricing/details/cosmos-db/).</span></span> |
| <span data-ttu-id="bdf31-130">Database</span><span class="sxs-lookup"><span data-stu-id="bdf31-130">Database</span></span> |<span data-ttu-id="bdf31-131">Un database è un contenitore logico di archiviazione documenti partizionato nelle raccolte.</span><span class="sxs-lookup"><span data-stu-id="bdf31-131">A database is a logical container of document storage partitioned across collections.</span></span> <span data-ttu-id="bdf31-132">Un database è anche un contenitore degli utenti</span><span class="sxs-lookup"><span data-stu-id="bdf31-132">It is also a users container.</span></span> |
| <span data-ttu-id="bdf31-133">Utente</span><span class="sxs-lookup"><span data-stu-id="bdf31-133">User</span></span> |<span data-ttu-id="bdf31-134">Hello spazio dei nomi logico per definire l'ambito delle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="bdf31-134">hello logical namespace for scoping permissions.</span></span> |
| <span data-ttu-id="bdf31-135">Autorizzazione</span><span class="sxs-lookup"><span data-stu-id="bdf31-135">Permission</span></span> |<span data-ttu-id="bdf31-136">Un token di autorizzazione associato a un utente per la risorsa specifica tooa di accesso.</span><span class="sxs-lookup"><span data-stu-id="bdf31-136">An authorization token associated with a user for access tooa specific resource.</span></span> |
| <span data-ttu-id="bdf31-137">Raccolta</span><span class="sxs-lookup"><span data-stu-id="bdf31-137">Collection</span></span> |<span data-ttu-id="bdf31-138">Una raccolta è un contenitore di documenti JSON e hello associati logica dell'applicazione JavaScript.</span><span class="sxs-lookup"><span data-stu-id="bdf31-138">A collection is a container of JSON documents and hello associated JavaScript application logic.</span></span> <span data-ttu-id="bdf31-139">Una raccolta è un'entità fatturabile, dove hello [costo](performance-levels.md) è determinato dal livello di prestazioni hello associato hello insieme.</span><span class="sxs-lookup"><span data-stu-id="bdf31-139">A collection is a billable entity, where hello [cost](performance-levels.md) is determined by hello performance level associated with hello collection.</span></span> <span data-ttu-id="bdf31-140">Le raccolte possono estendersi su uno o più partizioni/server e può essere ridimensionato toohandle praticamente illimitate di volumi di archiviazione o una velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="bdf31-140">Collections can span one or more partitions/servers and can scale toohandle practically unlimited volumes of storage or throughput.</span></span> |
| <span data-ttu-id="bdf31-141">Stored Procedure</span><span class="sxs-lookup"><span data-stu-id="bdf31-141">Stored Procedure</span></span> |<span data-ttu-id="bdf31-142">Logica dell'applicazione scritta in JavaScript che viene registrato in una raccolta e livello di transazione eseguita all'interno del motore di database hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-142">Application logic written in JavaScript which is registered with a collection and transactionally executed within hello database engine.</span></span> |
| <span data-ttu-id="bdf31-143">Trigger</span><span class="sxs-lookup"><span data-stu-id="bdf31-143">Trigger</span></span> |<span data-ttu-id="bdf31-144">Logica dell'applicazione scritta in JavaScript ed eseguita prima o dopo un'operazione di inserimento, sostituzione o eliminazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-144">Application logic written in JavaScript executed before or after either an insert, replace or delete operation.</span></span> |
| <span data-ttu-id="bdf31-145">UDF</span><span class="sxs-lookup"><span data-stu-id="bdf31-145">UDF</span></span> |<span data-ttu-id="bdf31-146">Logica dell'applicazione scritta in JavaScript.</span><span class="sxs-lookup"><span data-stu-id="bdf31-146">Application logic written in JavaScript.</span></span> <span data-ttu-id="bdf31-147">Funzioni definite dall'utente abilitare si toomodel un operatore di query personalizzata e in tal modo estendere linguaggio di query API DocumentDB core hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-147">UDFs enable you toomodel a custom query operator and thereby extend hello core DocumentDB API query language.</span></span> |
| <span data-ttu-id="bdf31-148">Documento</span><span class="sxs-lookup"><span data-stu-id="bdf31-148">Document</span></span> |<span data-ttu-id="bdf31-149">Contenuto JSON definito dall'utente (arbitrario).</span><span class="sxs-lookup"><span data-stu-id="bdf31-149">User defined (arbitrary) JSON content.</span></span> <span data-ttu-id="bdf31-150">Per impostazione predefinita, nessun schema deve essere toobe definito né che sia gli indici secondari toobe fornito per hello tutti i documenti aggiunti tooa insieme.</span><span class="sxs-lookup"><span data-stu-id="bdf31-150">By default, no schema needs toobe defined nor do secondary indices need toobe provided for all hello documents added tooa collection.</span></span> |
| <span data-ttu-id="bdf31-151">Attachment</span><span class="sxs-lookup"><span data-stu-id="bdf31-151">Attachment</span></span> |<span data-ttu-id="bdf31-152">Un allegato è un documento speciale contenente riferimenti e metadati associati per BLOB/file multimediali esterni.</span><span class="sxs-lookup"><span data-stu-id="bdf31-152">An attachment is a special document containing references and associated metadata for external blob/media.</span></span> <span data-ttu-id="bdf31-153">sviluppatore Hello scegliere toohave hello gestita blob tramite DB Cosmos o archiviarlo presso un provider di servizi blob esterno come OneDrive, Dropbox e così via.</span><span class="sxs-lookup"><span data-stu-id="bdf31-153">hello developer can choose toohave hello blob managed by Cosmos DB or store it with an external blob service provider such as OneDrive, Dropbox, etc.</span></span> |

## <a name="system-vs-user-defined-resources"></a><span data-ttu-id="bdf31-154">Risorse definite dal sistema e risorse definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="bdf31-154">System vs. user defined resources</span></span>
<span data-ttu-id="bdf31-155">Tutte le risorse quali account di database, database, raccolte, utenti, autorizzazioni, stored procedure, trigger e funzioni UDF hanno uno schema fisso e sono definite risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="bdf31-155">Resources such as database accounts, databases, collections, users, permissions, stored procedures, triggers, and UDFs - all have a fixed schema and are called system resources.</span></span> <span data-ttu-id="bdf31-156">Al contrario, le risorse, ad esempio documenti e gli allegati non presentano restrizioni schema hello e sono riportati esempi di risorse definiti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-156">In contrast, resources such as documents and attachments have no restrictions on hello schema and are examples of user defined resources.</span></span> <span data-ttu-id="bdf31-157">In Cosmos DB le risorse definite sia dal sistema che dall'utente vengono rappresentate e gestite come risorse JSON conformi allo standard.</span><span class="sxs-lookup"><span data-stu-id="bdf31-157">In Cosmos DB, both system and user defined resources are represented and managed as standard-compliant JSON.</span></span> <span data-ttu-id="bdf31-158">Tutte le risorse del sistema o dall'utente, è necessario hello seguenti proprietà comuni.</span><span class="sxs-lookup"><span data-stu-id="bdf31-158">All resources, system or user defined, have hello following common properties.</span></span>

> [!NOTE]
> <span data-ttu-id="bdf31-159">Si noti che, nell'implementazione JSON, tutte le proprietà generate dal sistema in una risorsa hanno come prefisso un carattere di sottolineatura (_).</span><span class="sxs-lookup"><span data-stu-id="bdf31-159">Note that all system generated properties in a resource are prefixed with an underscore (_) in their JSON representation.</span></span>
> 
> 

<table>
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-160"><strong>Proprietà</strong></span><span class="sxs-lookup"><span data-stu-id="bdf31-160"><strong>Property</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-161"><strong>Impostabile dall'utente o generata dal sistema</strong></span><span class="sxs-lookup"><span data-stu-id="bdf31-161"><strong>User settable or system generated?</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-162"><strong>Scopo</strong></span><span class="sxs-lookup"><span data-stu-id="bdf31-162"><strong>Purpose</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-163">_rid</span><span class="sxs-lookup"><span data-stu-id="bdf31-163">_rid</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-164">Generata dal sistema</span><span class="sxs-lookup"><span data-stu-id="bdf31-164">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-165">Generato dal sistema, un identificatore univoco e gerarchico della risorsa di hello</span><span class="sxs-lookup"><span data-stu-id="bdf31-165">System generated, unique and hierarchical identifier of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-166">_etag</span><span class="sxs-lookup"><span data-stu-id="bdf31-166">_etag</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-167">Generata dal sistema</span><span class="sxs-lookup"><span data-stu-id="bdf31-167">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-168">valore eTag della risorsa hello necessaria per il controllo della concorrenza ottimistica</span><span class="sxs-lookup"><span data-stu-id="bdf31-168">etag of hello resource required for optimistic concurrency control</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-169">_ts</span><span class="sxs-lookup"><span data-stu-id="bdf31-169">_ts</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-170">Generata dal sistema</span><span class="sxs-lookup"><span data-stu-id="bdf31-170">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-171">Timestamp ultimo aggiornamento della risorsa hello</span><span class="sxs-lookup"><span data-stu-id="bdf31-171">Last updated timestamp of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-172">_self</span><span class="sxs-lookup"><span data-stu-id="bdf31-172">_self</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-173">Generata dal sistema</span><span class="sxs-lookup"><span data-stu-id="bdf31-173">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-174">URI indirizzabile univoco della risorsa hello</span><span class="sxs-lookup"><span data-stu-id="bdf31-174">Unique addressable URI of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-175">id</span><span class="sxs-lookup"><span data-stu-id="bdf31-175">id</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-176">Generata dal sistema</span><span class="sxs-lookup"><span data-stu-id="bdf31-176">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-177">Nome univoco della risorsa hello definito dall'utente (con hello stessa partizione di valore chiave).</span><span class="sxs-lookup"><span data-stu-id="bdf31-177">User defined unique name of hello resource (with hello same partition key value).</span></span> <span data-ttu-id="bdf31-178">Se l'utente hello non specifica un id, un id sarà generata dal sistema</span><span class="sxs-lookup"><span data-stu-id="bdf31-178">If hello user does not specify an id, an id will be system generated</span></span></p></td>
        </tr>
    </tbody>
</table>

### <a name="wire-representation-of-resources"></a><span data-ttu-id="bdf31-179">Rappresentazione delle risorse</span><span class="sxs-lookup"><span data-stu-id="bdf31-179">Wire representation of resources</span></span>
<span data-ttu-id="bdf31-180">COSMOS DB non implica eventuali estensioni proprietarie toohello JSON standard o speciali codifiche; funziona con standard documenti compatibili con JSON.</span><span class="sxs-lookup"><span data-stu-id="bdf31-180">Cosmos DB does not mandate any proprietary extensions toohello JSON standard or special encodings; it works with standard compliant JSON documents.</span></span>  

### <a name="addressing-a-resource"></a><span data-ttu-id="bdf31-181">Indirizzamento di una risorsa</span><span class="sxs-lookup"><span data-stu-id="bdf31-181">Addressing a resource</span></span>
<span data-ttu-id="bdf31-182">Tutte le risorse sono indirizzabili mediante URI.</span><span class="sxs-lookup"><span data-stu-id="bdf31-182">All resources are URI addressable.</span></span> <span data-ttu-id="bdf31-183">valore di hello Hello **_self** proprietà di una risorsa rappresenta hello relativo URI della risorsa di hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-183">hello value of hello **_self** property of a resource represents hello relative URI of hello resource.</span></span> <span data-ttu-id="bdf31-184">Hello formato dell'URI hello costituito hello /\<feed\>/ { RID} segmenti di percorso:</span><span class="sxs-lookup"><span data-stu-id="bdf31-184">hello format of hello URI consists of hello /\<feed\>/{_rid} path segments:</span></span>  

| <span data-ttu-id="bdf31-185">Valore di self hello</span><span class="sxs-lookup"><span data-stu-id="bdf31-185">Value of hello _self</span></span> | <span data-ttu-id="bdf31-186">Descrizione</span><span class="sxs-lookup"><span data-stu-id="bdf31-186">Description</span></span> |
| --- | --- |
| <span data-ttu-id="bdf31-187">/dbs</span><span class="sxs-lookup"><span data-stu-id="bdf31-187">/dbs</span></span> |<span data-ttu-id="bdf31-188">Feed dei database in un account di database</span><span class="sxs-lookup"><span data-stu-id="bdf31-188">Feed of databases under a database account</span></span> |
| <span data-ttu-id="bdf31-189">/dbs/{dbName}</span><span class="sxs-lookup"><span data-stu-id="bdf31-189">/dbs/{dbName}</span></span> |<span data-ttu-id="bdf31-190">Database con id corrispondente valore hello {dbName}</span><span class="sxs-lookup"><span data-stu-id="bdf31-190">Database with an id matching hello value {dbName}</span></span> |
| <span data-ttu-id="bdf31-191">/dbs/{dbName}/colls/</span><span class="sxs-lookup"><span data-stu-id="bdf31-191">/dbs/{dbName}/colls/</span></span> |<span data-ttu-id="bdf31-192">Feed delle raccolte in un database</span><span class="sxs-lookup"><span data-stu-id="bdf31-192">Feed of collections under a database</span></span> |
| <span data-ttu-id="bdf31-193">/dbs/{dbName}/colls/{collName}</span><span class="sxs-lookup"><span data-stu-id="bdf31-193">/dbs/{dbName}/colls/{collName}</span></span> |<span data-ttu-id="bdf31-194">Raccolta con id corrispondente valore hello {collName}</span><span class="sxs-lookup"><span data-stu-id="bdf31-194">Collection with an id matching hello value {collName}</span></span> |
| <span data-ttu-id="bdf31-195">/dbs/{dbName}/colls/{collName}/docs</span><span class="sxs-lookup"><span data-stu-id="bdf31-195">/dbs/{dbName}/colls/{collName}/docs</span></span> |<span data-ttu-id="bdf31-196">Feed dei documenti in una raccolta</span><span class="sxs-lookup"><span data-stu-id="bdf31-196">Feed of documents under a collection</span></span> |
| <span data-ttu-id="bdf31-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span><span class="sxs-lookup"><span data-stu-id="bdf31-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span></span> |<span data-ttu-id="bdf31-198">Il documento con un id corrispondente valore hello {doc}</span><span class="sxs-lookup"><span data-stu-id="bdf31-198">Document with an id matching hello value {doc}</span></span> |
| <span data-ttu-id="bdf31-199">/dbs/{dbName}/users/</span><span class="sxs-lookup"><span data-stu-id="bdf31-199">/dbs/{dbName}/users/</span></span> |<span data-ttu-id="bdf31-200">Feed degli utenti in un database</span><span class="sxs-lookup"><span data-stu-id="bdf31-200">Feed of users under a database</span></span> |
| <span data-ttu-id="bdf31-201">/dbs/{dbName}/users/{userId}</span><span class="sxs-lookup"><span data-stu-id="bdf31-201">/dbs/{dbName}/users/{userId}</span></span> |<span data-ttu-id="bdf31-202">Utente con id corrispondente valore hello {user}</span><span class="sxs-lookup"><span data-stu-id="bdf31-202">User with an id matching hello value {user}</span></span> |
| <span data-ttu-id="bdf31-203">/dbs/{dbName}/users/{userId}/permissions</span><span class="sxs-lookup"><span data-stu-id="bdf31-203">/dbs/{dbName}/users/{userId}/permissions</span></span> |<span data-ttu-id="bdf31-204">Feed delle autorizzazioni in un utente</span><span class="sxs-lookup"><span data-stu-id="bdf31-204">Feed of permissions under a user</span></span> |
| <span data-ttu-id="bdf31-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span><span class="sxs-lookup"><span data-stu-id="bdf31-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span></span> |<span data-ttu-id="bdf31-206">Autorizzazione con un id corrispondente valore hello {permission}</span><span class="sxs-lookup"><span data-stu-id="bdf31-206">Permission with an id matching hello value {permission}</span></span> |

<span data-ttu-id="bdf31-207">Ogni risorsa ha un nome utente univoco definito esposto tramite proprietà id hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-207">Each resource has a unique user defined name exposed via hello id property.</span></span> <span data-ttu-id="bdf31-208">Nota: per i documenti, se non è specificata, un id utente hello nostri supportato SDK genererà automaticamente un id univoco per il documento hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-208">Note: for documents, if hello user does not specify an id, our supported SDKs will automatically generate a unique id for hello document.</span></span> <span data-ttu-id="bdf31-209">id Hello è una stringa definita dall'utente, di backup too256 caratteri univoco all'interno di contesto hello di una risorsa padre specifico.</span><span class="sxs-lookup"><span data-stu-id="bdf31-209">hello id is a user defined string, of up too256 characters that is unique within hello context of a specific parent resource.</span></span> 

<span data-ttu-id="bdf31-210">Ogni risorsa ha anche un identificatore di risorsa gerarchica generata dal sistema (anche noto tooas un RID), che è disponibile tramite proprietà RID hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-210">Each resource also has a system generated hierarchical resource identifier (also referred tooas an RID), which is available via hello _rid property.</span></span> <span data-ttu-id="bdf31-211">Hello RID codifica hello la gerarchia di una determinata risorsa ed è che una rappresentazione interna pratica utilizzato tooenforce l'integrità referenziale in modalità distribuita.</span><span class="sxs-lookup"><span data-stu-id="bdf31-211">hello RID encodes hello entire hierarchy of a given resource and it is a convenient internal representation used tooenforce referential integrity in a distributed manner.</span></span> <span data-ttu-id="bdf31-212">è utilizzato internamente da Cosmos DB per il routing efficiente senza le ricerche di partizione tra Hello RID è univoco all'interno di un account di database.</span><span class="sxs-lookup"><span data-stu-id="bdf31-212">hello RID is unique within a database account and it is internally used by Cosmos DB for efficient routing without requiring cross partition lookups.</span></span> <span data-ttu-id="bdf31-213">i valori Hello self hello e le proprietà di RID hello sono rappresentazioni canoniche sia alternative di una risorsa.</span><span class="sxs-lookup"><span data-stu-id="bdf31-213">hello values of hello _self and hello  _rid properties are both alternate and canonical representations of a resource.</span></span> 

<span data-ttu-id="bdf31-214">supporto API REST di Hello indirizzamento delle risorse e il routing delle richieste da id hello sia le proprietà di RID hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-214">hello REST APIs support addressing of resources and routing of requests by both hello id and hello _rid properties.</span></span>

## <a name="database-accounts"></a><span data-ttu-id="bdf31-215">Account di database</span><span class="sxs-lookup"><span data-stu-id="bdf31-215">Database accounts</span></span>
<span data-ttu-id="bdf31-216">È possibile effettuare il provisioning di uno o più account di database di Cosmos DB usando la sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="bdf31-216">You can provision one or more Cosmos DB database accounts using your Azure subscription.</span></span>

<span data-ttu-id="bdf31-217">È possibile creare e gestire gli account di database Cosmos DB tramite il portale di Azure hello in [http://portal.azure.com/](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="bdf31-217">You can create and manage Cosmos DB database accounts via hello Azure Portal at [http://portal.azure.com/](https://portal.azure.com/).</span></span> <span data-ttu-id="bdf31-218">Per la creazione e la gestione di un account di database è necessario l'accesso amministrativo e queste operazioni possono essere eseguite solo con una sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="bdf31-218">Creating and managing a database account requires administrative access and can only be performed under your Azure subscription.</span></span> 

### <a name="database-account-properties"></a><span data-ttu-id="bdf31-219">Proprietà degli account di database</span><span class="sxs-lookup"><span data-stu-id="bdf31-219">Database account properties</span></span>
<span data-ttu-id="bdf31-220">Come parte di provisioning e la gestione di un account del database è possibile configurare e leggere hello le proprietà seguenti:</span><span class="sxs-lookup"><span data-stu-id="bdf31-220">As part of provisioning and managing a database account you can configure and read hello following properties:</span></span>  

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-221"><strong>Nome proprietà</strong></span><span class="sxs-lookup"><span data-stu-id="bdf31-221"><strong>Property Name</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-222"><strong>Descrizione</strong></span><span class="sxs-lookup"><span data-stu-id="bdf31-222"><strong>Description</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-223">Criterio di coerenza</span><span class="sxs-lookup"><span data-stu-id="bdf31-223">Consistency Policy</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-224">Impostare il livello di coerenza proprietà tooconfigure hello predefinito per tutte le raccolte di hello con l'account di database.</span><span class="sxs-lookup"><span data-stu-id="bdf31-224">Set this property tooconfigure hello default consistency level for all hello collections under your database account.</span></span> <span data-ttu-id="bdf31-225">È possibile eseguire l'override di livello di coerenza hello per ogni richiesta utilizzando l'intestazione della richiesta hello [x-ms-consistency-level].</span><span class="sxs-lookup"><span data-stu-id="bdf31-225">You can override hello consistency level on a per request basis using hello [x-ms-consistency-level] request header.</span></span> <p><p><span data-ttu-id="bdf31-226">Si noti che questa proprietà si applica solo toohello <i>risorse definito dall'utente</i>.</span><span class="sxs-lookup"><span data-stu-id="bdf31-226">Note that this property only applies toohello <i>user defined resources</i>.</span></span> <span data-ttu-id="bdf31-227">Tutte le risorse di sistema definito sono letture toosupport configurato le query con coerenza assoluta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-227">All system defined resources are configured toosupport reads/queries with strong consistency.</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="bdf31-228">Chiavi di autorizzazione</span><span class="sxs-lookup"><span data-stu-id="bdf31-228">Authorization Keys</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="bdf31-229">Si tratta di hello primario e secondarie chiavi master e di sola lettura che forniscono amministrazione accesso tooall delle risorse di hello nell'account di database hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-229">These are hello primary and secondary master and readonly keys that provide administrative access tooall of hello resources under hello database account.</span></span></p></td>
        </tr>
    </tbody>
</table>

<span data-ttu-id="bdf31-230">Si noti che in aggiunta tooprovisioning, configurazione e gestione di account del database dal portale di Azure, hello è anche a livello di programmazione possono creare e gestire gli account di database DB Cosmos utilizzando hello [API REST di Azure Cosmos DB](/rest/api/documentdb/) come nonché [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-230">Note that in addition tooprovisioning, configuring and managing your database account from hello Azure Portal, you can also programmatically create and manage Cosmos DB database accounts by using hello [Azure Cosmos DB REST APIs](/rest/api/documentdb/) as well as [client SDKs](documentdb-sdk-dotnet.md).</span></span>  

## <a name="databases"></a><span data-ttu-id="bdf31-231">Database</span><span class="sxs-lookup"><span data-stu-id="bdf31-231">Databases</span></span>
<span data-ttu-id="bdf31-232">Un database Cosmos DB è un contenitore logico di uno o più raccolte e gli utenti, come illustrato nel seguente diagramma hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-232">A Cosmos DB database is a logical container of one or more collections and users, as shown in hello following diagram.</span></span> <span data-ttu-id="bdf31-233">È possibile creare un numero qualsiasi di database in un oggetto toooffer di DB Cosmos database account limiti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-233">You can create any number of databases under a Cosmos DB database account subject toooffer limits.</span></span>  

<span data-ttu-id="bdf31-234">![Modello gerarchico di account di database e raccolte][2]</span><span class="sxs-lookup"><span data-stu-id="bdf31-234">![Database account and collections hierarchical model][2]</span></span>  
<span data-ttu-id="bdf31-235">**Un database è un contenitore logico di utenti e raccolte**</span><span class="sxs-lookup"><span data-stu-id="bdf31-235">**A Database is a logical container of users and collections**</span></span>

<span data-ttu-id="bdf31-236">Un database può contenere risorse di archiviazione di documenti praticamente illimitate partizionate all'interno delle raccolte.</span><span class="sxs-lookup"><span data-stu-id="bdf31-236">A database can contain virtually unlimited document storage partitioned within collections.</span></span>

### <a name="elastic-scale-of-a-cosmos-db-database"></a><span data-ttu-id="bdf31-237">Scalabilità elastica di un database di Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="bdf31-237">Elastic scale of a Cosmos DB database</span></span>
<span data-ttu-id="bdf31-238">Un database DB Cosmos è elastico per impostazione predefinita: compreso fra qualche toopetabytes GB di spazio di archiviazione SSD eseguito il documento e velocità effettiva di provisioning.</span><span class="sxs-lookup"><span data-stu-id="bdf31-238">A Cosmos DB database is elastic by default – ranging from a few GB toopetabytes of SSD backed document storage and provisioned throughput.</span></span> 

<span data-ttu-id="bdf31-239">A differenza di un database tradizionale RDBMS, un database nel database Cosmos non tooa con ambito singolo computer.</span><span class="sxs-lookup"><span data-stu-id="bdf31-239">Unlike a database in traditional RDBMS, a database in Cosmos DB is not scoped tooa single machine.</span></span> <span data-ttu-id="bdf31-240">Con DB Cosmos, come la scalabilità dell'applicazione deve toogrow, è possibile creare più raccolte, il database o entrambi.</span><span class="sxs-lookup"><span data-stu-id="bdf31-240">With Cosmos DB, as your application’s scale needs toogrow, you can create more collections, databases, or both.</span></span> <span data-ttu-id="bdf31-241">Molte applicazioni prodotte direttamente da Microsoft usano Cosmos DB su scala consumer, creando database Cosmos DB di dimensioni estremamente elevate, ognuno dei quali include migliaia di raccolte con terabyte di spazio di archiviazione per i documenti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-241">Indeed, various first party applications within Microsoft have been using Cosmos DB at a consumer scale by creating extremely large Cosmos DB databases each containing thousands of collections with terabytes of document storage.</span></span> <span data-ttu-id="bdf31-242">È possibile aumentare o compattare un database aggiungendo o rimuovendo raccolte toomeet requisiti di scalabilità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-242">You can grow or shrink a database by adding or removing collections toomeet your application’s scale requirements.</span></span> 

<span data-ttu-id="bdf31-243">È possibile creare un numero qualsiasi di raccolte all'interno di un'offerta di toohello oggetto di database.</span><span class="sxs-lookup"><span data-stu-id="bdf31-243">You can create any number of collections within a database subject toohello offer.</span></span> <span data-ttu-id="bdf31-244">Ogni raccolta dispone di spazio di archiviazione SSD eseguito e la velocità effettiva il provisioning per l'utente in base al livello di prestazioni selezionati hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-244">Each collection has SSD backed storage and throughput provisioned for you depending on hello selected performance tier.</span></span>

<span data-ttu-id="bdf31-245">Un database di Cosmos DB è anche un contenitore di utenti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-245">A Cosmos DB database is also a container of users.</span></span> <span data-ttu-id="bdf31-246">Un utente, a sua volta, è uno spazio dei nomi logico per un set di autorizzazioni che fornisce gli allegati, documenti e con granularità fine toocollections di accesso e autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-246">A user, in-turn, is a logical namespace for a set of permissions that provides fine-grained authorization and access toocollections, documents and attachments.</span></span>  

<span data-ttu-id="bdf31-247">Come con altre risorse nel modello di risorse hello Cosmos DB, è possono creare database, sostituito, eliminare, leggere o enumerati facilmente utilizzando entrambi hello [API REST](/rest/api/documentdb/) o una qualsiasi delle hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-247">As with other resources in hello Cosmos DB resource model, databases can be created, replaced, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="bdf31-248">COSMOS DB garantisce la coerenza assoluta per la lettura o di una query hello nei metadati di una risorsa del database.</span><span class="sxs-lookup"><span data-stu-id="bdf31-248">Cosmos DB guarantees strong consistency for reading or querying hello metadata of a database resource.</span></span> <span data-ttu-id="bdf31-249">Eliminazione di un database automaticamente assicura che è in grado di recuperare raccolte hello o utenti contenuti al suo interno.</span><span class="sxs-lookup"><span data-stu-id="bdf31-249">Deleting a database automatically ensures that you cannot access any of hello collections or users contained within it.</span></span>   

## <a name="collections"></a><span data-ttu-id="bdf31-250">Raccolte</span><span class="sxs-lookup"><span data-stu-id="bdf31-250">Collections</span></span>
<span data-ttu-id="bdf31-251">Una raccolta di Cosmos DB è un contenitore per i documenti JSON.</span><span class="sxs-lookup"><span data-stu-id="bdf31-251">A Cosmos DB collection is a container for your JSON documents.</span></span> 

### <a name="elastic-ssd-backed-document-storage"></a><span data-ttu-id="bdf31-252">Archiviazione flessibile di documenti basata su unità SSD</span><span class="sxs-lookup"><span data-stu-id="bdf31-252">Elastic SSD backed document storage</span></span>
<span data-ttu-id="bdf31-253">Una raccolta è intrinsecamente flessibile, poiché le dimensioni della raccolta aumentano o si riducono in seguito all'aggiunta o alla rimozione di documenti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-253">A collection is intrinsically elastic - it automatically grows and shrinks as you add or remove documents.</span></span> <span data-ttu-id="bdf31-254">Le raccolte sono risorse logiche e possono comprendere una o più partizioni fisiche o server.</span><span class="sxs-lookup"><span data-stu-id="bdf31-254">Collections are logical resources and can span one or more physical partitions or servers.</span></span> <span data-ttu-id="bdf31-255">numero di Hello delle partizioni all'interno di una raccolta è determinato dal DB Cosmos in base alle dimensioni di archiviazione hello e velocità effettiva di hello provisioning della raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-255">hello number of partitions within a collection is determined by Cosmos DB based on hello storage size and hello provisioned throughput of your collection.</span></span> <span data-ttu-id="bdf31-256">Ogni partizione in Cosmos DB ha una quantità fissa di archiviazione supportata da unità SSD associata e viene replicata per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="bdf31-256">Every partition in Cosmos DB has a fixed amount of SSD-backed storage associated with it, and is replicated for high availability.</span></span> <span data-ttu-id="bdf31-257">Gestione delle partizioni è completamente gestiti da Azure Cosmos DB, e non si dispone di codice complesso toowrite o gestire le partizioni.</span><span class="sxs-lookup"><span data-stu-id="bdf31-257">Partition management is fully managed by Azure Cosmos DB, and you do not have toowrite complex code or manage your partitions.</span></span> <span data-ttu-id="bdf31-258">Le raccolte di Cosmos DB sono **praticamente illimitate** in termini di spazio di archiviazione e velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="bdf31-258">Cosmos DB collections are **practically unlimited** in terms of storage and throughput.</span></span> 

### <a name="automatic-indexing-of-collections"></a><span data-ttu-id="bdf31-259">Indicizzazione automatica delle raccolte</span><span class="sxs-lookup"><span data-stu-id="bdf31-259">Automatic indexing of collections</span></span>
<span data-ttu-id="bdf31-260">Cosmos DB è un sistema di database effettivamente privo di schema.</span><span class="sxs-lookup"><span data-stu-id="bdf31-260">Cosmos DB is a true schema-free database system.</span></span> <span data-ttu-id="bdf31-261">Non presupporre o richiedere uno schema per documenti JSON hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-261">It does not assume or require any schema for hello JSON documents.</span></span> <span data-ttu-id="bdf31-262">Come si aggiunge una raccolta di documenti tooa, DB Cosmos li indicizza automaticamente e sono disponibili per si tooquery.</span><span class="sxs-lookup"><span data-stu-id="bdf31-262">As you add documents tooa collection, Cosmos DB automatically indexes them and they are available for you tooquery.</span></span> <span data-ttu-id="bdf31-263">L'indicizzazione automatica di documenti senza la necessità di schemi o di indici secondari è una funzionalità chiave di Cosmos DB ed è resa possibile da tecniche di gestione dell'indice ottimizzate per la scrittura, prive di blocco e strutturate in log.</span><span class="sxs-lookup"><span data-stu-id="bdf31-263">Automatic indexing of documents without requiring schema or secondary indexes is a key capability of Cosmos DB and is enabled by write-optimized, lock-free and log-structured index maintenance techniques.</span></span> <span data-ttu-id="bdf31-264">Cosmos DB supporta un volume sostenuto di scritture estremamente veloci, gestendo al tempo stesso query coerenti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-264">Cosmos DB supports sustained volume of extremely fast writes while still serving consistent queries.</span></span> <span data-ttu-id="bdf31-265">Il documento e l'indice dell'archiviazione sono stata utilizzata l'archiviazione di hello toocalculate utilizzati da ogni raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-265">Both document and index storage are used toocalculate hello storage consumed by each collection.</span></span> <span data-ttu-id="bdf31-266">È possibile controllare hello di prestazioni e archiviazione vantaggi e svantaggi associati di indicizzazione configurando i criteri di indicizzazione hello per una raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-266">You can control hello storage and performance trade-offs associated with indexing by configuring hello indexing policy for a collection.</span></span> 

### <a name="configuring-hello-indexing-policy-of-a-collection"></a><span data-ttu-id="bdf31-267">Configurazione dei criteri di indicizzazione hello di una raccolta</span><span class="sxs-lookup"><span data-stu-id="bdf31-267">Configuring hello indexing policy of a collection</span></span>
<span data-ttu-id="bdf31-268">criteri di ogni raccolta di indicizzazione Hello consente toomake prestazioni e i vantaggi e svantaggi di archiviazione associati di indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-268">hello indexing policy of each collection allows you toomake performance and storage trade-offs associated with indexing.</span></span> <span data-ttu-id="bdf31-269">Hello sono le opzioni seguenti tooyou disponibile come parte della configurazione di indicizzazione:</span><span class="sxs-lookup"><span data-stu-id="bdf31-269">hello following options are available tooyou as part of indexing configuration:</span></span>  

* <span data-ttu-id="bdf31-270">Scegliere se la raccolta hello vengono indicizzati automaticamente tutti i documenti hello o non.</span><span class="sxs-lookup"><span data-stu-id="bdf31-270">Choose whether hello collection automatically indexes all of hello documents or not.</span></span> <span data-ttu-id="bdf31-271">Per impostazione predefinita, saranno indicizzati automaticamente tutti i documenti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-271">By default, all documents are automatically indexed.</span></span> <span data-ttu-id="bdf31-272">È possibile scegliere tooturn disattivare l'indicizzazione automatica e aggiungere in modo selettivo solo un indice toohello documenti specifici.</span><span class="sxs-lookup"><span data-stu-id="bdf31-272">You can choose tooturn off automatic indexing and selectively add only specific documents toohello index.</span></span> <span data-ttu-id="bdf31-273">Al contrario, è possibile scegliere in modo selettivo tooexclude solo documenti specifici.</span><span class="sxs-lookup"><span data-stu-id="bdf31-273">Conversely, you can selectively choose tooexclude only specific documents.</span></span> <span data-ttu-id="bdf31-274">È possibile ottenere questo risultato impostando hello proprietà automatica toobe true o false in indexingPolicy hello di una raccolta e utilizzo dell'intestazione di richiesta di hello [x-ms-indexingdirective] durante l'inserimento, sostituzione o l'eliminazione di un documento.</span><span class="sxs-lookup"><span data-stu-id="bdf31-274">You can achieve this by setting hello automatic property toobe true or false on hello indexingPolicy of a collection and using hello [x-ms-indexingdirective] request header while inserting, replacing or deleting a document.</span></span>  
* <span data-ttu-id="bdf31-275">Scegliere se tooinclude o exclude percorsi specifici o modelli di documenti da hello indice.</span><span class="sxs-lookup"><span data-stu-id="bdf31-275">Choose whether tooinclude or exclude specific paths or patterns in your documents from hello index.</span></span> <span data-ttu-id="bdf31-276">È possibile ottenere questa impostazione includedPaths ed excludedPaths in indexingPolicy hello di una raccolta rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-276">You can achieve this by setting includedPaths and excludedPaths on hello indexingPolicy of a collection respectively.</span></span> <span data-ttu-id="bdf31-277">È anche possibile configurare hello archiviazione e sulle prestazioni dei compromessi per intervallo e hash di query per i modelli di percorso specifico.</span><span class="sxs-lookup"><span data-stu-id="bdf31-277">You can also configure hello storage and performance trade-offs for range and hash queries for specific path patterns.</span></span> 
* <span data-ttu-id="bdf31-278">Possibilità di scegliere tra aggiornamenti sincroni (coerenti) e asincroni (differiti) dell'indice.</span><span class="sxs-lookup"><span data-stu-id="bdf31-278">Choose between synchronous (consistent) and asynchronous (lazy) index updates.</span></span> <span data-ttu-id="bdf31-279">Per impostazione predefinita, l'indice di hello viene aggiornato in modo sincrono in ogni inserimento, sostituzione o eliminazione di una raccolta di toohello documento.</span><span class="sxs-lookup"><span data-stu-id="bdf31-279">By default, hello index is updated synchronously on each insert, replace or delete of a document toohello collection.</span></span> <span data-ttu-id="bdf31-280">Questo consente le query hello toohonor hello che di lettura documento hello stesso livello di coerenza.</span><span class="sxs-lookup"><span data-stu-id="bdf31-280">This enables hello queries toohonor hello same consistency level as that of hello document reads.</span></span> <span data-ttu-id="bdf31-281">Mentre Cosmos DB è con ottimizzazione per la scrittura e supporta volumi prolungati di scritture di documento e la manutenzione degli indici sincrono e la gestione delle query coerenti, è possibile configurare determinate tooupdate raccolte relativo indice in modo differito.</span><span class="sxs-lookup"><span data-stu-id="bdf31-281">While Cosmos DB is write optimized and supports sustained volumes of document writes along with synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="bdf31-282">Questo tipo di indicizzazione migliora ulteriormente le prestazioni scrittura hello ed è ideale per gli scenari di inserimento bulk per principalmente le raccolte con intensa attività di lettura.</span><span class="sxs-lookup"><span data-stu-id="bdf31-282">Lazy indexing boosts hello write performance further and is ideal for bulk ingestion scenarios for primarily read-heavy collections.</span></span>

<span data-ttu-id="bdf31-283">criteri di indicizzazione Hello può essere modificato tramite l'esecuzione di un'operazione PUT su una raccolta di hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-283">hello indexing policy can be changed by executing a PUT on hello collection.</span></span> <span data-ttu-id="bdf31-284">Può essere ottenuta tramite hello [client SDK](documentdb-sdk-dotnet.md), hello [portale Azure](https://portal.azure.com) o hello [API REST](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="bdf31-284">This can be achieved either through hello [client SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) or hello [REST APIs](/rest/api/documentdb/).</span></span>

### <a name="querying-a-collection"></a><span data-ttu-id="bdf31-285">Esecuzione di query su una raccolta</span><span class="sxs-lookup"><span data-stu-id="bdf31-285">Querying a collection</span></span>
<span data-ttu-id="bdf31-286">documenti Hello all'interno di una raccolta possono avere schemi arbitrari ed è possibile eseguire una query documenti all'interno di una raccolta senza fornire informazioni dello schema o sin dall'inizio indici secondari.</span><span class="sxs-lookup"><span data-stu-id="bdf31-286">hello documents within a collection can have arbitrary schemas and you can query documents within a collection without providing any schema or secondary indices upfront.</span></span> <span data-ttu-id="bdf31-287">È possibile eseguire query di raccolta hello utilizzando hello [API DocumentDB di Azure Cosmos DB: riferimento alla sintassi SQL](https://msdn.microsoft.com/library/azure/dn782250.aspx), che fornisce RTF gerarchici, relazionali, spaziali e gli operatori ed estendibilità tramite le UDF basate su JavaScript.</span><span class="sxs-lookup"><span data-stu-id="bdf31-287">You can query hello collection using hello [Azure Cosmos DB DocumentDB API: SQL syntax reference](https://msdn.microsoft.com/library/azure/dn782250.aspx), which provides rich hierarchical, relational, and spatial operators and extensibility via JavaScript-based UDFs.</span></span> <span data-ttu-id="bdf31-288">Consente di grammatica JSON per la modellazione di documenti JSON come alberi con etichette come nodi dell'albero hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-288">JSON grammar allows for modeling JSON documents as trees with labels as hello tree nodes.</span></span> <span data-ttu-id="bdf31-289">Viene usata dalle tecniche di indicizzazione automatica dell'API di DocumentDB e dal dialetto SQL dell'API di DocumentDB.</span><span class="sxs-lookup"><span data-stu-id="bdf31-289">This is exploited both by DocumentDB API’s automatic indexing techniques as well as DocumentDB API's SQL dialect.</span></span> <span data-ttu-id="bdf31-290">il linguaggio di query API DocumetDB Hello è costituita da tre aspetti principali:</span><span class="sxs-lookup"><span data-stu-id="bdf31-290">hello DocumetDB API query language consists of three main aspects:</span></span>   

1. <span data-ttu-id="bdf31-291">Un piccolo set di operazioni di query che eseguono il mapping naturalmente struttura ad albero toohello inclusi proiezioni e query gerarchiche.</span><span class="sxs-lookup"><span data-stu-id="bdf31-291">A small set of query operations that map naturally toohello tree structure including hierarchical queries and projections.</span></span> 
2. <span data-ttu-id="bdf31-292">Un sottoinsieme di operazioni relazionali, incluse la composizione, l'applicazione di filtri, le proiezioni, le aggregazioni e i self join.</span><span class="sxs-lookup"><span data-stu-id="bdf31-292">A subset of relational operations including composition, filter, projections, aggregates and self joins.</span></span> 
3. <span data-ttu-id="bdf31-293">Funzioni definite dall'utente pure basate su JavaScript in grado di funzionare con (1) e (2).</span><span class="sxs-lookup"><span data-stu-id="bdf31-293">Pure JavaScript based UDFs that work with (1) and (2).</span></span>  

<span data-ttu-id="bdf31-294">modello di query Cosmos DB Hello tenta toostrike un equilibrio tra funzionalità, l'efficienza e alla semplicità.</span><span class="sxs-lookup"><span data-stu-id="bdf31-294">hello Cosmos DB query model attempts toostrike a balance between functionality, efficiency and simplicity.</span></span> <span data-ttu-id="bdf31-295">motore di database DB Cosmos Hello, in modo nativo, compila ed esegue le istruzioni di query SQL hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-295">hello Cosmos DB database engine natively compiles and executes hello SQL query statements.</span></span> <span data-ttu-id="bdf31-296">È possibile eseguire query a una raccolta tramite hello [API REST](/rest/api/documentdb/) o una qualsiasi delle hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-296">You can query a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="bdf31-297">Hello .NET SDK include un provider LINQ.</span><span class="sxs-lookup"><span data-stu-id="bdf31-297">hello .NET SDK comes with a LINQ provider.</span></span>

> [!TIP]
> <span data-ttu-id="bdf31-298">È possibile provare hello API DocumentDB ed eseguire query SQL nel set di dati in hello [Query Playground](https://www.documentdb.com/sql/demo).</span><span class="sxs-lookup"><span data-stu-id="bdf31-298">You can try out hello DocumentDB API and run SQL queries against our dataset in hello [Query Playground](https://www.documentdb.com/sql/demo).</span></span>
> 
> 

## <a name="multi-document-transactions"></a><span data-ttu-id="bdf31-299">Transazioni in più documenti</span><span class="sxs-lookup"><span data-stu-id="bdf31-299">Multi-document transactions</span></span>
<span data-ttu-id="bdf31-300">Le transazioni di database offrono un modello di programmazione sicuro e prevedibile per la gestione di modifiche simultanee toohello dato.</span><span class="sxs-lookup"><span data-stu-id="bdf31-300">Database transactions provide a safe and predictable programming model for dealing with concurrent changes toohello data.</span></span> <span data-ttu-id="bdf31-301">Nel sistema RDBMS e logica di business di hello modalità tradizionale toowrite è toowrite **stored procedure** e/o **trigger** e consegnare il server di database toohello per l'esecuzione transazionale.</span><span class="sxs-lookup"><span data-stu-id="bdf31-301">In RDBMS, hello traditional way toowrite business logic is toowrite **stored-procedures** and/or **triggers** and ship it toohello database server for transactional execution.</span></span> <span data-ttu-id="bdf31-302">Programmatore applicazione hello RDBMS, è necessario toodeal con due diversi linguaggi di programmazione:</span><span class="sxs-lookup"><span data-stu-id="bdf31-302">In RDBMS, hello application programmer is required toodeal with two disparate programming languages:</span></span> 

* <span data-ttu-id="bdf31-303">(non transazionale) Hello linguaggio di programmazione (ad esempio, JavaScript, Python, c#, Java e così via)</span><span class="sxs-lookup"><span data-stu-id="bdf31-303">hello (non-transactional) application programming language (e.g. JavaScript, Python, C#, Java, etc.)</span></span>
* <span data-ttu-id="bdf31-304">T-SQL, hello transazionale linguaggio di programmazione che viene eseguito in modo nativo dal database hello</span><span class="sxs-lookup"><span data-stu-id="bdf31-304">T-SQL, hello transactional programming language which is natively executed by hello database</span></span>

<span data-ttu-id="bdf31-305">Grazie all'impegno complete tooJavaScript e JSON direttamente all'interno del motore di database hello, Cosmos DB fornisce un modello di programmazione intuitivo per JavaScript in esecuzione in base a logica dell'applicazione direttamente nelle raccolte di hello in termini di stored procedure e trigger.</span><span class="sxs-lookup"><span data-stu-id="bdf31-305">By virtue of its deep commitment tooJavaScript and JSON directly within hello database engine, Cosmos DB provides an intuitive programming model for executing JavaScript based application logic directly on hello collections in terms of stored procedures and triggers.</span></span> <span data-ttu-id="bdf31-306">In questo modo per entrambe operazioni hello seguenti:</span><span class="sxs-lookup"><span data-stu-id="bdf31-306">This allows for both of hello following:</span></span>

* <span data-ttu-id="bdf31-307">Controllare l'implementazione efficiente di concorrenza, ripristino, l'indicizzazione di grafici di oggetti JSON hello direttamente nel motore di database hello automatico</span><span class="sxs-lookup"><span data-stu-id="bdf31-307">Efficient implementation of concurrency control, recovery, automatic indexing of hello JSON object graphs directly in hello database engine</span></span>
* <span data-ttu-id="bdf31-308">Naturalmente esprimere il flusso di controllo, variabili dell'ambito, l'assegnazione e integrazione di gestione delle eccezioni primitive con transazioni di database direttamente in termini di linguaggio di programmazione JavaScript hello</span><span class="sxs-lookup"><span data-stu-id="bdf31-308">Naturally expressing control flow, variable scoping, assignment and integration of exception handling primitives with database transactions directly in terms of hello JavaScript programming language</span></span>

<span data-ttu-id="bdf31-309">logica di JavaScript Hello registrata a livello di raccolta può quindi eseguire operazioni di database su documenti hello di hello fornito insieme.</span><span class="sxs-lookup"><span data-stu-id="bdf31-309">hello JavaScript logic registered at a collection level can then issue database operations on hello documents of hello given collection.</span></span> <span data-ttu-id="bdf31-310">DB COSMOS in modo implicito hello esegue il wrapping JavaScript basati su stored procedure e trigger all'interno di un ambiente transazioni ACID con isolamento dello snapshot in documenti all'interno di una raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-310">Cosmos DB implicitly wraps hello JavaScript based stored procedures and triggers within an ambient ACID transactions with snapshot isolation across documents within a collection.</span></span> <span data-ttu-id="bdf31-311">Durante l'esecuzione, hello se hello JavaScript verrà generata un'eccezione, quindi hello dell'intera transazione viene interrotta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-311">During hello course of its execution, if hello JavaScript throws an exception, then hello entire transaction is aborted.</span></span> <span data-ttu-id="bdf31-312">Hello risulta modello di programmazione è molto semplice potenti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-312">hello resulting programming model is a very simple yet powerful.</span></span> <span data-ttu-id="bdf31-313">Gli sviluppatori JavaScript ottengono un modello di programmazione "durevole", usando al tempo stesso i costrutti dei propri linguaggi preferiti e i primitivi di librerie.</span><span class="sxs-lookup"><span data-stu-id="bdf31-313">JavaScript developers get a “durable” programming model while still using their familiar language constructs and library primitives.</span></span>   

<span data-ttu-id="bdf31-314">Hello possibilità tooexecute JavaScript direttamente all'interno del database hello motore in hello stesso spazio degli indirizzi del pool di buffer hello consente ad alte prestazioni e l'esecuzione transazionale di operazioni sui documenti hello del database di una raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-314">hello ability tooexecute JavaScript directly within hello database engine in hello same address space as hello buffer pool enables performant and transactional execution of database operations against hello documents of a collection.</span></span> <span data-ttu-id="bdf31-315">Inoltre, motore di database DB Cosmos rende toohello un impegno complete JSON e JavaScript elimina qualsiasi mancata corrispondenza tra i sistemi di tipi hello dell'applicazione e database hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-315">Furthermore, Cosmos DB database engine makes a deep commitment toohello JSON and JavaScript eliminates any impedance mismatch between hello type systems of application and hello database.</span></span>   

<span data-ttu-id="bdf31-316">Dopo aver creato una raccolta, è possibile registrare le stored procedure, trigger e funzioni definite dall'utente con una raccolta tramite hello [API REST](/rest/api/documentdb/) o una qualsiasi delle hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-316">After creating a collection, you can register stored procedures, triggers and UDFs with a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="bdf31-317">Dopo la registrazione, sarà possibile farvi riferimento ed eseguire questi elementi.</span><span class="sxs-lookup"><span data-stu-id="bdf31-317">After registration, you can reference and execute them.</span></span> <span data-ttu-id="bdf31-318">Prendere in considerazione hello seguente stored procedure scritta interamente in JavaScript, codice hello seguente accetta due argomenti (nome e il nome dell'autore) e crea un nuovo documento, una query per un documento e quindi aggiorna il – tutti all'interno di una transazione ACID implicita.</span><span class="sxs-lookup"><span data-stu-id="bdf31-318">Consider hello following stored procedure written entirely in JavaScript, hello code below takes two arguments (book name and author name) and creates a new document, queries for a document and then updates it – all within an implicit ACID transaction.</span></span> <span data-ttu-id="bdf31-319">In qualsiasi momento durante l'esecuzione di hello, se viene generata un'eccezione JavaScript, hello intera transazione si interrompe.</span><span class="sxs-lookup"><span data-stu-id="bdf31-319">At any point during hello execution, if a JavaScript exception is thrown, hello entire transaction aborts.</span></span>

    function businessLogic(name, author) {
        var context = getContext();
        var collectionManager = context.getCollection();        
        var collectionLink = collectionManager.getSelfLink()

        // create a new document.
        collectionManager.createDocument(collectionLink,
            {id: name, author: author},
            function(err, documentCreated) {
                if(err) throw new Error(err.message);

                // filter documents by author
                var filterQuery = "SELECT * from root r WHERE r.author = 'George R.'";
                collectionManager.queryDocuments(collectionLink,
                    filterQuery,
                    function(err, matchingDocuments) {
                        if(err) throw new Error(err.message);

                        context.getResponse().setBody(matchingDocuments.length);

                        // Replace hello author name for all documents that satisfied hello query.
                        for (var i = 0; i < matchingDocuments.length; i++) {
                            matchingDocuments[i].author = "George R. R. Martin";
                            // we don’t need tooexecute a callback because they are in parallel
                            collectionManager.replaceDocument(matchingDocuments[i]._self,
                                matchingDocuments[i]);   
                        }
                    })
            })
    };

<span data-ttu-id="bdf31-320">client Hello "spedire" hello sopra database toohello logica di JavaScript per l'esecuzione transazionale tramite HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="bdf31-320">hello client can “ship” hello above JavaScript logic toohello database for transactional execution via HTTP POST.</span></span> <span data-ttu-id="bdf31-321">Per altre informazioni sull'uso di metodi HTTP, vedere [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx) (Interazioni RESTful con risorse di Azure Cosmos DB).</span><span class="sxs-lookup"><span data-stu-id="bdf31-321">For more information about using HTTP methods, see [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span> 

    client.createStoredProcedureAsync(collection._self, {id: "CRUDProc", body: businessLogic})
       .then(function(createdStoredProcedure) {
            return client.executeStoredProcedureAsync(createdStoredProcedure.resource._self,
                "NoSQL Distilled",
                "Martin Fowler");
        })
        .then(function(result) {
            console.log(result);
        },
        function(error) {
            console.log(error);
        });


<span data-ttu-id="bdf31-322">Si noti che poiché il database di hello in modo nativo riconosce JSON e JavaScript, non è non corrispondenti di sistema di tipo, "mapping OR" o chiave di generazione di codice richiesto.</span><span class="sxs-lookup"><span data-stu-id="bdf31-322">Notice that because hello database natively understands JSON and JavaScript, there is no type system mismatch, no “OR mapping” or code generation magic required.</span></span>   

<span data-ttu-id="bdf31-323">Stored procedure e trigger interagire con i documenti in una raccolta tramite un modello a oggetti ben definiti, che espone il contesto insieme corrente di hello hello e di raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-323">Stored procedures and triggers interact with a collection and hello documents in a collection through a well-defined object model, which exposes hello current collection context.</span></span>  

<span data-ttu-id="bdf31-324">Le raccolte in hello API DocumentDB è possibile creare, eliminare, leggere o enumerati facilmente utilizzando entrambi hello [API REST](/rest/api/documentdb/) o una qualsiasi delle hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-324">Collections in hello DocumentDB API can be created, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="bdf31-325">Hello API DocumentDB fornisce sempre coerenza assoluta per la lettura o di una query hello nei metadati di una raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-325">hello DocumentDB API always provides strong consistency for reading or querying hello metadata of a collection.</span></span> <span data-ttu-id="bdf31-326">L'eliminazione di una raccolta automaticamente assicura che non è possibile accedere a uno qualsiasi dei documenti hello, allegati, stored procedure, trigger e funzioni definite dall'utente in esso contenuti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-326">Deleting a collection automatically ensures that you cannot access any of hello documents, attachments, stored procedures, triggers, and UDFs contained within it.</span></span>   

## <a name="stored-procedures-triggers-and-user-defined-functions-udf"></a><span data-ttu-id="bdf31-327">Stored procedure, trigger e funzioni definite dall'utente (UDF)</span><span class="sxs-lookup"><span data-stu-id="bdf31-327">Stored procedures, triggers and User Defined Functions (UDF)</span></span>
<span data-ttu-id="bdf31-328">Come descritto nella sezione precedente di hello, è possibile scrivere applicazioni logica toorun direttamente all'interno di una transazione all'interno del motore di database hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-328">As described in hello previous section, you can write application logic toorun directly within a transaction inside of hello database engine.</span></span> <span data-ttu-id="bdf31-329">la logica dell'applicazione Hello può essere scritta interamente in JavaScript e può essere modellata come una stored procedure, trigger o una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-329">hello application logic can be written entirely in JavaScript and can be modeled as a stored procedure, trigger or a UDF.</span></span> <span data-ttu-id="bdf31-330">Hello codice JavaScript all'interno di una stored procedure o un trigger può inserire, sostituire, eliminazione e lettura o la query documenti all'interno di una raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-330">hello JavaScript code within a stored procedure or a trigger can insert, replace, delete, read or query documents within a collection.</span></span> <span data-ttu-id="bdf31-331">In hello invece, non è possibile inserire, sostituire o eliminare documenti hello JavaScript all'interno di una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-331">On hello other hand, hello JavaScript within a UDF cannot insert, replace, or delete documents.</span></span> <span data-ttu-id="bdf31-332">Funzioni definite dall'utente enumerare documenti hello del set di risultati di query e restituire un altro set di risultati.</span><span class="sxs-lookup"><span data-stu-id="bdf31-332">UDFs enumerate hello documents of a query's result set and produce another result set.</span></span> <span data-ttu-id="bdf31-333">Per la multi-tenancy, Cosmos DB applica una rigida governance delle risorse basata sulle prenotazioni.</span><span class="sxs-lookup"><span data-stu-id="bdf31-333">For multi-tenancy, Cosmos DB enforces a strict reservation based resource governance.</span></span> <span data-ttu-id="bdf31-334">Ogni stored procedure, trigger o una funzione definita dall'utente ottiene un quantum predefinito del sistema operativo risorse toodo il proprio lavoro.</span><span class="sxs-lookup"><span data-stu-id="bdf31-334">Each stored procedure, trigger or a UDF gets a fixed quantum of operating system resources toodo its work.</span></span> <span data-ttu-id="bdf31-335">Inoltre, le stored procedure, trigger o funzioni definite dall'utente non è possibile collegare in librerie JavaScript esterne e sono disattivato se superano i budget di risorsa hello allocati toothem.</span><span class="sxs-lookup"><span data-stu-id="bdf31-335">Furthermore, stored procedures, triggers or UDFs cannot link against external JavaScript libraries and are blacklisted if they exceed hello resource budgets allocated toothem.</span></span> <span data-ttu-id="bdf31-336">È possibile registrare, annullare la registrazione di stored procedure, trigger o funzioni definite dall'utente con una raccolta usando le API REST di hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-336">You can register, unregister stored procedures, triggers or UDFs with a collection by using hello REST APIs.</span></span>  <span data-ttu-id="bdf31-337">Durante la registrazione, una stored procedure, un trigger o una funzione UDF saranno precompilati e archiviati come codice byte, che sarà eseguito in seguito.</span><span class="sxs-lookup"><span data-stu-id="bdf31-337">Upon registration a stored procedure, trigger, or a UDF is pre-compiled and stored as byte code which gets executed later.</span></span> <span data-ttu-id="bdf31-338">Hello seguente sezione viene illustrato come è possibile utilizzare hello Cosmos DB JavaScript SDK tooregister, eseguire e annullare la registrazione di una stored procedure, trigger e una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-338">hello following section illustrate how you can use hello Cosmos DB JavaScript SDK tooregister, execute, and unregister a stored procedure, trigger, and a UDF.</span></span> <span data-ttu-id="bdf31-339">Hello SDK per JavaScript è un semplice wrapper su hello [API REST](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="bdf31-339">hello JavaScript SDK is a simple wrapper over hello [REST APIs](/rest/api/documentdb/).</span></span> 

### <a name="registering-a-stored-procedure"></a><span data-ttu-id="bdf31-340">Registrazione di una stored procedure</span><span class="sxs-lookup"><span data-stu-id="bdf31-340">Registering a stored procedure</span></span>
<span data-ttu-id="bdf31-341">La registrazione di una stored procedure consiste nel creare una nuova risorsa stored procedure in una raccolta tramite un metodo HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="bdf31-341">Registration of a stored procedure creates a new stored procedure resource on a collection via HTTP POST.</span></span>  

    var storedProc = {
        id: "validateAndCreate",
        body: function (documentToCreate) {
            documentToCreate.id = documentToCreate.id.toUpperCase();

            var collectionManager = getContext().getCollection();
            collectionManager.createDocument(collectionManager.getSelfLink(),
                documentToCreate,
                function(err, documentCreated) {
                    if(err) throw new Error('Error while creating document: ' + err.message;
                    getContext().getResponse().setBody('success - created ' + 
                            documentCreated.name);
                });
        }
    };

    client.createStoredProcedureAsync(collection._self, storedProc)
        .then(function (createdStoredProcedure) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-stored-procedure"></a><span data-ttu-id="bdf31-342">Esecuzione di una stored procedure</span><span class="sxs-lookup"><span data-stu-id="bdf31-342">Executing a stored procedure</span></span>
<span data-ttu-id="bdf31-343">Esecuzione di una stored procedure viene eseguita inviando una richiesta POST HTTP su una risorsa stored procedure esistente passando i parametri procedure toohello nel corpo della richiesta hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-343">Execution of a stored procedure is done by issuing an HTTP POST against an existing stored procedure resource by passing parameters toohello procedure in hello request body.</span></span>

    var inputDocument = {id : "document1", author: "G. G. Marquez"};
    client.executeStoredProcedureAsync(createdStoredProcedure.resource._self, inputDocument)
        .then(function(executionResult) {
            assert.equal(executionResult, "success - created DOCUMENT1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-stored-procedure"></a><span data-ttu-id="bdf31-344">Annullamento della registrazione di una stored procedure</span><span class="sxs-lookup"><span data-stu-id="bdf31-344">Unregistering a stored procedure</span></span>
<span data-ttu-id="bdf31-345">L'annullamento della registrazione di una stored procedure avviene tramite la semplice esecuzione di un'operazione HTTP DELETE su una risorsa stored procedure esistente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-345">Unregistering a stored procedure is simply done by issuing an HTTP DELETE against an existing stored procedure resource.</span></span>   

    client.deleteStoredProcedureAsync(createdStoredProcedure.resource._self)
        .then(function (response) {
            return;
        }, function(error) {
            console.log("Error");
        });


### <a name="registering-a-pre-trigger"></a><span data-ttu-id="bdf31-346">Registrazione di un trigger</span><span class="sxs-lookup"><span data-stu-id="bdf31-346">Registering a pre-trigger</span></span>
<span data-ttu-id="bdf31-347">La registrazione di un trigger è eseguita tramite la creazione di una nuova risorsa trigger in una raccolta tramite HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="bdf31-347">Registration of a trigger is done by creating a new trigger resource on a collection via HTTP POST.</span></span> <span data-ttu-id="bdf31-348">È possibile specificare se i trigger di hello è una versione preliminare o un tipo di trigger e hello post dell'operazione può essere associata a (ad esempio Create, Replace, Delete o tutti).</span><span class="sxs-lookup"><span data-stu-id="bdf31-348">You can specify if hello trigger is a pre or a post trigger and hello type of operation it can be associated with (e.g. Create, Replace, Delete, or All).</span></span>   

    var preTrigger = {
        id: "upperCaseId",
        body: function() {
                var item = getContext().getRequest().getBody();
                item.id = item.id.toUpperCase();
                getContext().getRequest().setBody(item);
        },
        triggerType: TriggerType.Pre,
        triggerOperation: TriggerOperation.All
    }

    client.createTriggerAsync(collection._self, preTrigger)
        .then(function (createdPreTrigger) {
            console.log("Successfully created trigger");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-pre-trigger"></a><span data-ttu-id="bdf31-349">Esecuzione di un trigger</span><span class="sxs-lookup"><span data-stu-id="bdf31-349">Executing a pre-trigger</span></span>
<span data-ttu-id="bdf31-350">Esecuzione di un trigger viene eseguita specificando il nome di hello di un trigger esistente in fase di hello di hello di richiesta POST, PUT o eliminazione di una risorsa documento tramite l'intestazione della richiesta hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-350">Execution of a trigger is done by specifying hello name of an existing trigger at hello time of issuing hello POST/PUT/DELETE request of a document resource via hello request header.</span></span>  

    client.createDocumentAsync(collection._self, { id: "doc1", key: "Love in hello Time of Cholera" }, { preTriggerInclude: "upperCaseId" })
        .then(function(createdDocument) {
            assert.equal(createdDocument.resource.id, "DOC1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-pre-trigger"></a><span data-ttu-id="bdf31-351">Annullamento della registrazione di un trigger</span><span class="sxs-lookup"><span data-stu-id="bdf31-351">Unregistering a pre-trigger</span></span>
<span data-ttu-id="bdf31-352">L'annullamento della registrazione di un trigger avviene tramite la semplice esecuzione di un'operazione HTTP DELETE su una risorsa trigger esistente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-352">Unregistering a trigger is simply done via issuing an HTTP DELETE against an existing trigger resource.</span></span>  

    client.deleteTriggerAsync(createdPreTrigger._self);
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

### <a name="registering-a-udf"></a><span data-ttu-id="bdf31-353">Registrazione di una funzione UDF</span><span class="sxs-lookup"><span data-stu-id="bdf31-353">Registering a UDF</span></span>
<span data-ttu-id="bdf31-354">La registrazione di una funzione UDF è eseguita tramite la creazione di una nuova risorsa UDF in una raccolta tramite HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="bdf31-354">Registration of a UDF is done by creating a new UDF resource on a collection via HTTP POST.</span></span>  

    var udf = { 
        id: "mathSqrt",
        body: function(number) {
                return Math.sqrt(number);
        },
    };
    client.createUserDefinedFunctionAsync(collection._self, udf)
        .then(function (createdUdf) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-udf-as-part-of-hello-query"></a><span data-ttu-id="bdf31-355">L'esecuzione di una funzione definita dall'utente come parte di query hello</span><span class="sxs-lookup"><span data-stu-id="bdf31-355">Executing a UDF as part of hello query</span></span>
<span data-ttu-id="bdf31-356">Una funzione definita dall'utente può essere specificato come parte della query SQL hello e viene utilizzato come un core di hello tooextend modo [linguaggio di query SQL per l'API DocumentDB hello](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span><span class="sxs-lookup"><span data-stu-id="bdf31-356">A UDF can be specified as part of hello SQL query and is used as a way tooextend hello core [SQL query language for hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span></span>

    var filterQuery = "SELECT udf.mathSqrt(r.Age) AS sqrtAge FROM root r WHERE r.FirstName='John'";
    client.queryDocuments(collection._self, filterQuery).toArrayAsync();
        .then(function(queryResponse) {
            var queryResponseDocuments = queryResponse.feed;
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-udf"></a><span data-ttu-id="bdf31-357">Annullamento della registrazione di una funzione UDF</span><span class="sxs-lookup"><span data-stu-id="bdf31-357">Unregistering a UDF</span></span>
<span data-ttu-id="bdf31-358">L'annullamento della registrazione di una funzione definita dall'utente avviene tramite la semplice esecuzione di un'operazione HTTP DELETE su una risorsa di funzione definita dall'utente esistente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-358">Unregistering a UDF is simply done by issuing an HTTP DELETE against an existing UDF resource.</span></span>  

    client.deleteUserDefinedFunctionAsync(createdUdf._self)
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

<span data-ttu-id="bdf31-359">Anche se ha dimostrato hello i frammenti di codice precedente registrazione hello (POST), l'annullamento della registrazione (PUT), lettura/elenco (GET) e l'esecuzione (POST) tramite hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), è inoltre possibile utilizzare hello [API REST](/rest/api/documentdb/) o altri [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-359">Although hello snippets above showed hello registration (POST), unregistration (PUT), read/list (GET) and execution (POST) via hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), you can also use hello [REST APIs](/rest/api/documentdb/) or other [client SDKs](documentdb-sdk-dotnet.md).</span></span> 

## <a name="documents"></a><span data-ttu-id="bdf31-360">Documenti</span><span class="sxs-lookup"><span data-stu-id="bdf31-360">Documents</span></span>
<span data-ttu-id="bdf31-361">È possibile inserire, sostituire, eliminare, leggere, enumerare ed eseguire query in documenti JSON arbitrari in una raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-361">You can insert, replace, delete, read, enumerate and query arbitrary JSON documents in a collection.</span></span> <span data-ttu-id="bdf31-362">COSMOS DB non implica qualsiasi schema e non richiede gli indici secondari in ordine toosupport l'esecuzione di query sui documenti in una raccolta.</span><span class="sxs-lookup"><span data-stu-id="bdf31-362">Cosmos DB does not mandate any schema and does not require secondary indexes in order toosupport querying over documents in a collection.</span></span> <span data-ttu-id="bdf31-363">dimensione massima di Hello per un documento è 2 MB.</span><span class="sxs-lookup"><span data-stu-id="bdf31-363">hello maximum size for a document is 2 MB.</span></span>   

<span data-ttu-id="bdf31-364">Essendo un vero e proprio servizio di database aperto, Cosmos DB non genera tipi di dati specializzati (ad esempio, data e ora) né codifiche specifiche per i documenti JSON.</span><span class="sxs-lookup"><span data-stu-id="bdf31-364">Being a truly open database service, Cosmos DB does not invent any specialized data types (e.g. date time) or specific encodings for JSON documents.</span></span> <span data-ttu-id="bdf31-365">Si noti che DB Cosmos non richiedono speciali JSON convenzioni toocodify hello relazioni tra i vari documenti. la sintassi SQL Hello del DB Cosmos fornisce gli operatori di query relazionale e gerarchica molto potente tooquery e progetto documenti senza annotazioni speciali o necessità toocodify relazioni tra i documenti con proprietà distinte.</span><span class="sxs-lookup"><span data-stu-id="bdf31-365">Note that Cosmos DB does not require any special JSON conventions toocodify hello relationships among various documents; hello SQL syntax of Cosmos DB provides very powerful hierarchical and relational query operators tooquery and project documents without any special annotations or need toocodify relationships among documents using distinguished properties.</span></span>  

<span data-ttu-id="bdf31-366">Come con tutte le altre risorse, è possono creare documenti, sostituito, eliminare, leggere, enumerati e individuato facilmente utilizzando le API REST o uno qualsiasi dei hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bdf31-366">As with all other resources, documents can be created, replaced, deleted, read, enumerated and queried easily using either REST APIs or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="bdf31-367">L'eliminazione di un documento immediatamente consente di liberare hello tooall corrispondente di quota di allegati hello annidato.</span><span class="sxs-lookup"><span data-stu-id="bdf31-367">Deleting a document instantly frees up hello quota corresponding tooall of hello nested attachments.</span></span> <span data-ttu-id="bdf31-368">Hello lettura a livello di coerenza dei documenti segue criteri coerenza hello account database hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-368">hello read consistency level of documents follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="bdf31-369">È possibile eseguire l'override di questo criterio per le singole richieste, in base ai requisiti di coerenza dei dati specifici dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-369">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="bdf31-370">Quando una query su documenti, hello leggere coerenza segue hello l'indicizzazione in modalità di raccolta hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-370">When querying documents, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="bdf31-371">Per "coerente", questo segue i criteri di consistenza dell'account hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-371">For “consistent”, this follows hello account’s consistency policy.</span></span> 

## <a name="attachments-and-media"></a><span data-ttu-id="bdf31-372">Allegati e file multimediali</span><span class="sxs-lookup"><span data-stu-id="bdf31-372">Attachments and media</span></span>
<span data-ttu-id="bdf31-373">COSMOS DB consente toostore binario BLOB o dei supporti con DB Cosmos (massimo di 2 GB per ogni account) o tooyour multimediali remoti proprio archivio.</span><span class="sxs-lookup"><span data-stu-id="bdf31-373">Cosmos DB allows you toostore binary blobs/media either with Cosmos DB (maximum of 2 GB per account) or tooyour own remote media store.</span></span> <span data-ttu-id="bdf31-374">Consente inoltre toorepresent hello metadati di un supporto in termini di un documento speciale denominato allegato.</span><span class="sxs-lookup"><span data-stu-id="bdf31-374">It also allows you toorepresent hello metadata of a media in terms of a special document called attachment.</span></span> <span data-ttu-id="bdf31-375">Allegato a un database Cosmos è un documento di (JSON) speciale che riferimenti hello multimediale/blob archiviati in un' posizione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-375">An attachment in Cosmos DB is a special (JSON) document that references hello media/blob stored elsewhere.</span></span> <span data-ttu-id="bdf31-376">Un allegato è semplicemente un documento speciale che acquisisce hello metadati (ad esempio percorso, autore e così via) di una media archiviato in un archivio remoto supporti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-376">An attachment is simply a special document that captures hello metadata (e.g. location, author etc.) of a media stored in a remote media storage.</span></span> 

<span data-ttu-id="bdf31-377">Si consideri un'applicazione di social networking di lettura che utilizza le annotazioni a penna toostore DB Cosmos ed evidenzia metadati comprensivo di commenti, segnalibri, classificazioni, simili/preferenze e così via associati per un e-book di un determinato utente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-377">Consider a social reading application which uses Cosmos DB toostore ink annotations, and metadata including comments, highlights, bookmarks, ratings, likes/dislikes etc. associated for an e-book of a given user.</span></span>   

* <span data-ttu-id="bdf31-378">Hello contenuto del libro hello stesso viene archiviato nell'archivio multimediale hello è disponibile come parte dell'account database DB Cosmos o un archivio remoto supporti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-378">hello content of hello book itself is stored in hello media storage either available as part of Cosmos DB database account or a remote media store.</span></span> 
* <span data-ttu-id="bdf31-379">Un'applicazione può archiviare i metadati di ogni utente come documento distinto, ad esempio i metadati di Joe per book1 saranno archiviati in un documento a cui si fa riferimento come /colls/joe/docs/book1.</span><span class="sxs-lookup"><span data-stu-id="bdf31-379">An application may store each user’s metadata as a distinct document -- e.g. Joe’s metadata for book1 is stored in a document referenced by /colls/joe/docs/book1.</span></span> 
* <span data-ttu-id="bdf31-380">Gli allegati che punta toohello pagine di contenuto di un libro di un utente specifico vengono archiviati nel documento corrispondente hello /colls/joe/docs/book1/chapter1 ad esempio, /colls/joe/docs/book1/chapter2 e così via.</span><span class="sxs-lookup"><span data-stu-id="bdf31-380">Attachments pointing toohello content pages of a given book of a user are stored under hello corresponding document e.g. /colls/joe/docs/book1/chapter1, /colls/joe/docs/book1/chapter2 etc.</span></span> 

<span data-ttu-id="bdf31-381">Si noti che gli esempi di hello elencati sopra Usa gerarchia di risorse hello tooconvey ID descrittivo.</span><span class="sxs-lookup"><span data-stu-id="bdf31-381">Note that hello examples listed above use friendly ids tooconvey hello resource hierarchy.</span></span> <span data-ttu-id="bdf31-382">Le risorse sono accessibili tramite le API REST di hello tramite gli ID di risorsa univoca.</span><span class="sxs-lookup"><span data-stu-id="bdf31-382">Resources are accessed via hello REST APIs through unique resource ids.</span></span> 

<span data-ttu-id="bdf31-383">Per un supporto hello che è gestito da DB Cosmos, proprietà Media hello di allegato hello farà riferimento supporti hello dal relativo URI.</span><span class="sxs-lookup"><span data-stu-id="bdf31-383">For hello media that is managed by Cosmos DB, hello _media property of hello attachment will reference hello media by its URI.</span></span> <span data-ttu-id="bdf31-384">COSMOS DB modo supporti hello collect toogarbage quando tutti i riferimenti in attesa di hello vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="bdf31-384">Cosmos DB will ensure toogarbage collect hello media when all of hello outstanding references are dropped.</span></span> <span data-ttu-id="bdf31-385">COSMOS DB genera allegato hello quando si carica un nuovo supporto hello e popolati automaticamente hello Media toopoint toohello appena aggiunto supporto.</span><span class="sxs-lookup"><span data-stu-id="bdf31-385">Cosmos DB automatically generates hello attachment when you upload hello new media and populates hello _media toopoint toohello newly added media.</span></span> <span data-ttu-id="bdf31-386">Se si sceglie supporti hello toostore in un archivio blob remoti gestito dall'utente (ad esempio, OneDrive, l'archiviazione di Azure, DropBox e così via), è possibile utilizzare ancora media di hello tooreference allegati.</span><span class="sxs-lookup"><span data-stu-id="bdf31-386">If you choose toostore hello media in a remote blob store managed by you (e.g. OneDrive, Azure Storage, DropBox etc), you can still use attachments tooreference hello media.</span></span> <span data-ttu-id="bdf31-387">In questo caso, si verrà personalizzate allegato hello e popolare la relativa proprietà Media.</span><span class="sxs-lookup"><span data-stu-id="bdf31-387">In this case, you will create hello attachment yourself and populate its _media property.</span></span>   

<span data-ttu-id="bdf31-388">Come con tutte le altre risorse, gli allegati possono essere creati, sostituito, eliminare, leggere o enumerati facilmente utilizzando le API REST o uno qualsiasi dei client hello SDK.</span><span class="sxs-lookup"><span data-stu-id="bdf31-388">As with all other resources, attachments can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="bdf31-389">Con i documenti, hello lettura a livello di coerenza degli allegati di segue i criteri di verifica coerenza hello account database hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-389">As with documents, hello read consistency level of attachments follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="bdf31-390">È possibile eseguire l'override di questo criterio per le singole richieste, in base ai requisiti di coerenza dei dati specifici dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-390">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="bdf31-391">Quando si eseguono query per gli allegati, hello lettura coerenza segue hello l'indicizzazione in modalità di raccolta hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-391">When querying for attachments, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="bdf31-392">Per "coerente", questo segue i criteri di consistenza dell'account hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-392">For “consistent”, this follows hello account’s consistency policy.</span></span> 
 

## <a name="users"></a><span data-ttu-id="bdf31-393">Utenti</span><span class="sxs-lookup"><span data-stu-id="bdf31-393">Users</span></span>
<span data-ttu-id="bdf31-394">Un utente di Cosmos DB rappresenta uno spazio dei nomi logico per il raggruppamento di autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="bdf31-394">A Cosmos DB user represents a logical namespace for grouping permissions.</span></span> <span data-ttu-id="bdf31-395">Un utente DB Cosmos potrebbe corrispondere tooa utente in un sistema di gestione di identità o un ruolo applicazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="bdf31-395">A Cosmos DB user may correspond tooa user in an identity management system or a predefined application role.</span></span> <span data-ttu-id="bdf31-396">Per Cosmos DB, un utente rappresenta semplicemente un toogroup astrazione un set di autorizzazioni in un database.</span><span class="sxs-lookup"><span data-stu-id="bdf31-396">For Cosmos DB, a user simply represents an abstraction toogroup a set of permissions under a database.</span></span>   

<span data-ttu-id="bdf31-397">Per l'implementazione di multi-tenancy nell'applicazione, è possibile creare utenti in Cosmos DB che corrisponde a utenti effettivi tooyour o tenant hello dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-397">For implementing multi-tenancy in your application, you can create users in Cosmos DB which corresponds tooyour actual users or hello tenants of your application.</span></span> <span data-ttu-id="bdf31-398">È quindi possibile creare le autorizzazioni per un determinato utente corrispondenti toohello di controllo di accesso su varie raccolte, documenti, allegati e così via.</span><span class="sxs-lookup"><span data-stu-id="bdf31-398">You can then create permissions for a given user that correspond toohello access control over various collections, documents, attachments, etc.</span></span>   

<span data-ttu-id="bdf31-399">Come le applicazioni devono tooscale con l'aumento delle dimensioni dell'utente, è possibile adottare diversi modi tooshard i dati.</span><span class="sxs-lookup"><span data-stu-id="bdf31-399">As your applications need tooscale with your user growth, you can adopt various ways tooshard your data.</span></span> <span data-ttu-id="bdf31-400">È possibile modellare ogni utente in modo che:</span><span class="sxs-lookup"><span data-stu-id="bdf31-400">You can model each of your users as follows:</span></span>   

* <span data-ttu-id="bdf31-401">Ogni utente esegue il mapping tooa database.</span><span class="sxs-lookup"><span data-stu-id="bdf31-401">Each user maps tooa database.</span></span>
* <span data-ttu-id="bdf31-402">Ogni utente esegue il mapping tooa insieme.</span><span class="sxs-lookup"><span data-stu-id="bdf31-402">Each user maps tooa collection.</span></span> 
* <span data-ttu-id="bdf31-403">Documenti corrispondenti agli utenti di toomultiple passare insieme tooa dedicato.</span><span class="sxs-lookup"><span data-stu-id="bdf31-403">Documents corresponding toomultiple users go tooa dedicated collection.</span></span> 
* <span data-ttu-id="bdf31-404">Documenti corrispondenti agli utenti di toomultiple passare tooa set di raccolte.</span><span class="sxs-lookup"><span data-stu-id="bdf31-404">Documents corresponding toomultiple users go tooa set of collections.</span></span>   

<span data-ttu-id="bdf31-405">Indipendentemente dalla strategia di partizionamento orizzontale specifica hello che scelta, è possibile modellare gli utenti effettivi come gli utenti di database DB Cosmos e associare utente tooeach autorizzazioni specifiche.</span><span class="sxs-lookup"><span data-stu-id="bdf31-405">Regardless of hello specific sharding strategy you choose, you can model your actual users as users in Cosmos DB database and associate fine grained permissions tooeach user.</span></span>  

<span data-ttu-id="bdf31-406">![Raccolte degli utenti][3]</span><span class="sxs-lookup"><span data-stu-id="bdf31-406">![User collections][3]</span></span>  
<span data-ttu-id="bdf31-407">**Strategie di partizionamento orizzontale e modellazione degli utenti**</span><span class="sxs-lookup"><span data-stu-id="bdf31-407">**Sharding strategies and modeling users**</span></span>

<span data-ttu-id="bdf31-408">Come tutte le altre risorse, gli utenti nel database Cosmos possono essere creati, sostituito, eliminati, leggere o enumerati facilmente utilizzando le API REST o uno qualsiasi dei client hello SDK.</span><span class="sxs-lookup"><span data-stu-id="bdf31-408">Like all other resources, users in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="bdf31-409">COSMOS DB fornisce sempre coerenza assoluta per la lettura o di una query hello nei metadati di una risorsa utente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-409">Cosmos DB always provides strong consistency for reading or querying hello metadata of a user resource.</span></span> <span data-ttu-id="bdf31-410">È importante precisare che l'eliminazione di un utente automaticamente garantisce che non è possibile accedere autorizzazioni hello in esso contenuti.</span><span class="sxs-lookup"><span data-stu-id="bdf31-410">It is worth pointing out that deleting a user automatically ensures that you cannot access any of hello permissions contained within it.</span></span> <span data-ttu-id="bdf31-411">Anche se quota hello di autorizzazioni hello viene recuperato da hello DB Cosmos come parte dell'utente eliminato hello in background hello, autorizzazioni hello eliminato è disponibile immediatamente nuovamente per si toouse.</span><span class="sxs-lookup"><span data-stu-id="bdf31-411">Even though hello Cosmos DB reclaims hello quota of hello permissions as part of hello deleted user in hello background, hello deleted permissions is available instantly again for you toouse.</span></span>  

## <a name="permissions"></a><span data-ttu-id="bdf31-412">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="bdf31-412">Permissions</span></span>
<span data-ttu-id="bdf31-413">Dal punto di vista del controllo di accesso, le risorse quali account di database, database, utenti e autorizzazioni sono considerate come risorse *amministrative* perché necessitano di autorizzazioni amministrative.</span><span class="sxs-lookup"><span data-stu-id="bdf31-413">From an access control perspective, resources such as database accounts, databases, users and permission are considered *administrative* resources since these require administrative permissions.</span></span> <span data-ttu-id="bdf31-414">In hello altra parte, incluse le raccolte di hello, documenti, allegati, stored procedure, trigger, risorse e funzioni definite dall'utente sono con ambito in un determinato database e considerati *risorse dell'applicazione*.</span><span class="sxs-lookup"><span data-stu-id="bdf31-414">On hello other hand, resources including hello collections, documents, attachments, stored procedures, triggers, and UDFs are scoped under a given database and considered *application resources*.</span></span> <span data-ttu-id="bdf31-415">Corrispondente toohello due tipi di risorse e i ruoli hello accedervi (vale a dire hello amministratore e utente), il modello di autorizzazione hello definisce due tipi di *le chiavi di accesso*: *chiave master* e *chiave di risorsa*.</span><span class="sxs-lookup"><span data-stu-id="bdf31-415">Corresponding toohello two types of resources and hello roles that access them (namely hello administrator and user), hello authorization model defines two types of *access keys*: *master key* and *resource key*.</span></span> <span data-ttu-id="bdf31-416">chiave master di Hello è una parte dell'account database hello e viene fornito per sviluppatori toohello (o amministratore) che esegue il provisioning account hello del database.</span><span class="sxs-lookup"><span data-stu-id="bdf31-416">hello master key is a part of hello database account and is provided toohello developer (or administrator) who is provisioning hello database account.</span></span> <span data-ttu-id="bdf31-417">La chiave master utilizza la semantica di amministratore, in quanto può essere utilizzato tooauthorize accesso tooboth amministrativi e le risorse dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-417">This master key has administrator semantics, in that it can be used tooauthorize access tooboth administrative and application resources.</span></span> <span data-ttu-id="bdf31-418">Al contrario, una chiave di risorsa è una chiave di accesso granulare che consente accesso tooa *specifico* risorsa dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-418">In contrast, a resource key is a granular access key that allows access tooa *specific* application resource.</span></span> <span data-ttu-id="bdf31-419">Di conseguenza, l'acquisizione di relazione hello tra utente hello di un database e hello autorizzazioni hello utente per una risorsa specifica (ad esempio, insieme, documento, allegati, stored procedure, trigger o funzione definita dall'utente).</span><span class="sxs-lookup"><span data-stu-id="bdf31-419">Thus, it captures hello relationship between hello user of a database and hello permissions hello user has for a specific resource (e.g. collection, document, attachment, stored procedure, trigger, or UDF).</span></span>   

<span data-ttu-id="bdf31-420">Hello solo modo tooobtain che una chiave di risorsa è tramite la creazione di una risorsa di autorizzazione in un determinato utente.</span><span class="sxs-lookup"><span data-stu-id="bdf31-420">hello only way tooobtain a resource key is by creating a permission resource under a given user.</span></span> <span data-ttu-id="bdf31-421">Si noti che nell'ordine toocreate o recuperare un'autorizzazione, una chiave master deve essere presentata nell'intestazione di autorizzazione hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-421">Note that In order toocreate or retrieve a permission, a master key must be presented in hello authorization header.</span></span> <span data-ttu-id="bdf31-422">Una risorsa di autorizzazione Collega utente di risorse, l'accesso e hello hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-422">A permission resource ties hello resource, its access and hello user.</span></span> <span data-ttu-id="bdf31-423">Dopo la creazione di una risorsa di autorizzazione, utente hello deve solo una chiave di risorsa associata toopresent hello nella risorsa pertinente toohello accesso toogain ordine.</span><span class="sxs-lookup"><span data-stu-id="bdf31-423">After creating a permission resource, hello user only needs toopresent hello associated resource key in order toogain access toohello relevant resource.</span></span> <span data-ttu-id="bdf31-424">Di conseguenza, una chiave di risorsa può essere visualizzata come una rappresentazione compatta e logica della risorsa di autorizzazione hello.</span><span class="sxs-lookup"><span data-stu-id="bdf31-424">Hence, a resource key can be viewed as a logical and compact representation of hello permission resource.</span></span>  

<span data-ttu-id="bdf31-425">Come con tutte le altre risorse, le autorizzazioni nel database Cosmos possono essere create, sostituito, eliminare, leggere o enumerati facilmente utilizzando le API REST o uno qualsiasi dei client hello SDK.</span><span class="sxs-lookup"><span data-stu-id="bdf31-425">As with all other resources, permissions in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="bdf31-426">COSMOS DB fornisce sempre coerenza assoluta per la lettura o di una query hello nei metadati di un'autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="bdf31-426">Cosmos DB always provides strong consistency for reading or querying hello metadata of a permission.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="bdf31-427">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="bdf31-427">Next steps</span></span>
<span data-ttu-id="bdf31-428">Per altre informazioni sull'utilizzo di risorse tramite comandi HTTP, vedere [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx) (Interazioni di tipo RESTful con risorse di Cosmos DB).</span><span class="sxs-lookup"><span data-stu-id="bdf31-428">Learn more about working with resources by using HTTP commands in [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span>

[1]: media/documentdb-resources/resources1.png
[2]: media/documentdb-resources/resources2.png
[3]: media/documentdb-resources/resources3.png

