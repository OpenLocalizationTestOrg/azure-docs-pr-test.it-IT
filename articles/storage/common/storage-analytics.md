---
title: Usare Analisi archiviazione di Azure per raccogliere dati di metriche e log | Microsoft Docs
description: Analisi archiviazione consente di tenere traccia dei dati delle metriche per tutti i servizi di archiviazione e di raccogliere i log per l'archiviazione di BLOB, code e tabelle.
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 7894993b-ca42-4125-8f17-8f6dfe3dca76
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/03/2017
ms.author: robinsh
ms.openlocfilehash: a477c1eaf2388f31d4fd36b90f9a830c782873d3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="storage-analytics"></a><span data-ttu-id="f981d-103">di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-103">Storage Analytics</span></span>

<span data-ttu-id="f981d-104">Analisi archiviazione di Azure esegue la registrazione e fornisce le metriche dei dati per un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-104">Azure Storage Analytics performs logging and provides metrics data for a storage account.</span></span> <span data-ttu-id="f981d-105">È possibile utilizzare questi dati per tenere traccia delle richieste, analizzare le tendenze d'uso e diagnosticare i problemi relativi al proprio account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-105">You can use this data to trace requests, analyze usage trends, and diagnose issues with your storage account.</span></span>

<span data-ttu-id="f981d-106">Per utilizzare Analisi archiviazione, è necessario abilitarla singolarmente per ciascun servizio che si desidera monitorare.</span><span class="sxs-lookup"><span data-stu-id="f981d-106">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="f981d-107">È possibile abilitarlo dal [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f981d-107">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="f981d-108">Per informazioni dettagliate, vedere [Monitorare un account di archiviazione nel portale di Azure](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="f981d-108">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="f981d-109">È inoltre possibile abilitare Analisi archiviazione a livello di codice tramite l'API REST o la libreria client.</span><span class="sxs-lookup"><span data-stu-id="f981d-109">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="f981d-110">Usare le operazioni [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx) e [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) per abilitare Analisi archiviazione per ciascun servizio.</span><span class="sxs-lookup"><span data-stu-id="f981d-110">Use the [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx), and [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) operations to enable Storage Analytics for each service.</span></span>

<span data-ttu-id="f981d-111">I dati aggregati vengono archiviati in un BLOB noto (per la registrazione) e in tabelle note (per le metriche), a cui è possibile accedere tramite le API del servizio BLOB e del servizio tabelle.</span><span class="sxs-lookup"><span data-stu-id="f981d-111">The aggregated data is stored in a well-known blob (for logging) and in well-known tables (for metrics), which may be accessed using the Blob service and Table service APIs.</span></span>

<span data-ttu-id="f981d-112">Analisi archiviazione può archiviare un massimo di 20 TB di dati. Tale limite è indipendente dal limite totale dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-112">Storage Analytics has a 20 TB limit on the amount of stored data that is independent of the total limit for your storage account.</span></span> <span data-ttu-id="f981d-113">Per altre informazioni sulla fatturazione e sui criteri di conservazione dei dati, vedere [Analisi archiviazione e fatturazione](https://msdn.microsoft.com/library/hh360997.aspx).</span><span class="sxs-lookup"><span data-stu-id="f981d-113">For more information about billing and data retention policies, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span> <span data-ttu-id="f981d-114">Per informazioni sui limiti dell'account di archiviazione, vedere [Obiettivi di scalabilità e prestazioni per Archiviazione di Azure](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="f981d-114">For more information about storage account limits, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>

<span data-ttu-id="f981d-115">Per una guida dettagliata sull'utilizzo di Analisi archiviazione e di altri strumenti per identificare, diagnosticare e risolvere i problemi relativi ad Archiviazione di Azure, vedere [Monitoraggio, diagnosi e risoluzione dei problemi del servizio di archiviazione di Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="f981d-115">For an in-depth guide on using Storage Analytics and other tools to identify, diagnose, and troubleshoot Azure Storage-related issues, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="about-storage-analytics-logging"></a><span data-ttu-id="f981d-116">Informazioni sulla registrazione di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-116">About Storage Analytics logging</span></span>
<span data-ttu-id="f981d-117">Analisi archiviazione registra informazioni dettagliate sulle richieste riuscite e non a un servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-117">Storage Analytics logs detailed information about successful and failed requests to a storage service.</span></span> <span data-ttu-id="f981d-118">Queste informazioni possono essere utilizzate per monitorare le singole richieste e per diagnosticare problemi relativi a un servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-118">This information can be used to monitor individual requests and to diagnose issues with a storage service.</span></span> <span data-ttu-id="f981d-119">Le richieste vengono registrate in base al massimo sforzo.</span><span class="sxs-lookup"><span data-stu-id="f981d-119">Requests are logged on a best-effort basis.</span></span>

<span data-ttu-id="f981d-120">Le voci di log vengono create solo in presenza di attività del servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-120">Log entries are created only if there is storage service activity.</span></span> <span data-ttu-id="f981d-121">Se, ad esempio, un account di archiviazione presenta un'attività nel servizio BLOB, ma non nei servizi di tabelle o di accodamento, saranno creati solo log relativi al servizio BLOB.</span><span class="sxs-lookup"><span data-stu-id="f981d-121">For example, if a storage account has activity in its Blob service but not in its Table or Queue services, only logs pertaining to the Blob service will be created.</span></span>

<span data-ttu-id="f981d-122">La registrazione di Analisi archiviazione non è disponibile per Archiviazione file di Azure.</span><span class="sxs-lookup"><span data-stu-id="f981d-122">Storage Analytics Logging is not available for Azure File storage.</span></span>

### <a name="logging-authenticated-requests"></a><span data-ttu-id="f981d-123">Registrazione delle richieste autenticate</span><span class="sxs-lookup"><span data-stu-id="f981d-123">Logging authenticated requests</span></span>
<span data-ttu-id="f981d-124">Vengono registrati i seguenti tipi di richieste autenticate:</span><span class="sxs-lookup"><span data-stu-id="f981d-124">The following types of authenticated requests are logged:</span></span>

* <span data-ttu-id="f981d-125">Richieste riuscite</span><span class="sxs-lookup"><span data-stu-id="f981d-125">Successful requests.</span></span>
* <span data-ttu-id="f981d-126">Richieste non riuscite, tra cui timeout, limitazione, rete, autorizzazione e altri errori</span><span class="sxs-lookup"><span data-stu-id="f981d-126">Failed requests, including timeout, throttling, network, authorization, and other errors.</span></span>
* <span data-ttu-id="f981d-127">Richieste tramite una firma di accesso condiviso, incluse le richieste riuscite e non riuscite</span><span class="sxs-lookup"><span data-stu-id="f981d-127">Requests using a Shared Access Signature (SAS), including failed and successful requests.</span></span>
* <span data-ttu-id="f981d-128">Richieste ai dati di analisi</span><span class="sxs-lookup"><span data-stu-id="f981d-128">Requests to analytics data.</span></span>

<span data-ttu-id="f981d-129">Le richieste eseguite dalla stessa Analisi archiviazione, ad esempio, la creazione oppure l'eliminazione di log, non vengono registrate.</span><span class="sxs-lookup"><span data-stu-id="f981d-129">Requests made by Storage Analytics itself, such as log creation or deletion, are not logged.</span></span> <span data-ttu-id="f981d-130">Un elenco completo dei dati registrati è documentato negli argomenti [Operazioni registrate in Analisi archiviazione e messaggi di stato](https://msdn.microsoft.com/library/hh343260.aspx) e [Formato log Analisi archiviazione](https://msdn.microsoft.com/library/hh343259.aspx).</span><span class="sxs-lookup"><span data-stu-id="f981d-130">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="logging-anonymous-requests"></a><span data-ttu-id="f981d-131">Registrazione di richieste anonime</span><span class="sxs-lookup"><span data-stu-id="f981d-131">Logging anonymous requests</span></span>
<span data-ttu-id="f981d-132">Vengono registrati i seguenti tipi di richieste anonime:</span><span class="sxs-lookup"><span data-stu-id="f981d-132">The following types of anonymous requests are logged:</span></span>

* <span data-ttu-id="f981d-133">Richieste riuscite</span><span class="sxs-lookup"><span data-stu-id="f981d-133">Successful requests.</span></span>
* <span data-ttu-id="f981d-134">Errori server</span><span class="sxs-lookup"><span data-stu-id="f981d-134">Server errors.</span></span>
* <span data-ttu-id="f981d-135">Errori di timeout per client e server</span><span class="sxs-lookup"><span data-stu-id="f981d-135">Timeout errors for both client and server.</span></span>
* <span data-ttu-id="f981d-136">Richieste GET non riuscite con codice di errore 304 (non modificate)</span><span class="sxs-lookup"><span data-stu-id="f981d-136">Failed GET requests with error code 304 (Not Modified).</span></span>

<span data-ttu-id="f981d-137">Tutte le altre richieste anonime non riuscite non vengono registrate.</span><span class="sxs-lookup"><span data-stu-id="f981d-137">All other failed anonymous requests are not logged.</span></span> <span data-ttu-id="f981d-138">Un elenco completo dei dati registrati è documentato negli argomenti [Operazioni registrate in Analisi archiviazione e messaggi di stato](https://msdn.microsoft.com/library/hh343260.aspx) e [Formato log Analisi archiviazione](https://msdn.microsoft.com/library/hh343259.aspx).</span><span class="sxs-lookup"><span data-stu-id="f981d-138">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="how-logs-are-stored"></a><span data-ttu-id="f981d-139">Come vengono archiviati i log</span><span class="sxs-lookup"><span data-stu-id="f981d-139">How logs are stored</span></span>
<span data-ttu-id="f981d-140">Tutti i log vengono archiviati in BLOB di blocchi in un contenitore denominato $logs, che viene creato automaticamente quando viene abilitata Analisi archiviazione per un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-140">All logs are stored in block blobs in a container named $logs, which is automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="f981d-141">Il contenitore $logs si trova nello spazio dei nomi BLOB dell'account di archiviazione, ad esempio: `http://<accountname>.blob.core.windows.net/$logs`.</span><span class="sxs-lookup"><span data-stu-id="f981d-141">The $logs container is located in the blob namespace of the storage account, for example: `http://<accountname>.blob.core.windows.net/$logs`.</span></span> <span data-ttu-id="f981d-142">Questo contenitore non può essere eliminato una volta abilitata Analisi di archiviazione, sebbene sia possibile eliminarne il contenuto.</span><span class="sxs-lookup"><span data-stu-id="f981d-142">This container cannot be deleted once Storage Analytics has been enabled, though its contents can be deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="f981d-143">Il contenitore $logs non viene visualizzato quando viene eseguita un'operazione di inclusione nell'elenco del contenitore, ad esempio, il metodo [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) .</span><span class="sxs-lookup"><span data-stu-id="f981d-143">The $logs container is not displayed when a container listing operation is performed, such as the [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) method.</span></span> <span data-ttu-id="f981d-144">È necessario effettuare l'accesso diretto.</span><span class="sxs-lookup"><span data-stu-id="f981d-144">It must be accessed directly.</span></span> <span data-ttu-id="f981d-145">Ad esempio, è possibile usare il metodo [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) per accedere ai BLOB nel contenitore `$logs`.</span><span class="sxs-lookup"><span data-stu-id="f981d-145">For example, you can use the [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) method to access the blobs in the `$logs` container.</span></span>
> <span data-ttu-id="f981d-146">Nel momento in cui vengono registrate le richieste, Analisi archiviazione carica i risultati intermedi come blocchi.</span><span class="sxs-lookup"><span data-stu-id="f981d-146">As requests are logged, Storage Analytics will upload intermediate results as blocks.</span></span> <span data-ttu-id="f981d-147">Analisi archiviazione invierà periodicamente questi blocchi e li renderà disponibili come BLOB.</span><span class="sxs-lookup"><span data-stu-id="f981d-147">Periodically, Storage Analytics will commit these blocks and make them available as a blob.</span></span>
> 
> 

<span data-ttu-id="f981d-148">Per i log creati nella stessa ora possono esistere record duplicati.</span><span class="sxs-lookup"><span data-stu-id="f981d-148">Duplicate records may exist for logs created in the same hour.</span></span> <span data-ttu-id="f981d-149">È possibile determinare se un record è un duplicato controllandone il numero **RequestId** e **Operation**.</span><span class="sxs-lookup"><span data-stu-id="f981d-149">You can determine if a record is a duplicate by checking the **RequestId** and **Operation** number.</span></span>

### <a name="log-naming-conventions"></a><span data-ttu-id="f981d-150">Convenzioni di denominazione dei log</span><span class="sxs-lookup"><span data-stu-id="f981d-150">Log naming conventions</span></span>
<span data-ttu-id="f981d-151">Ciascun log verrà scritto nel seguente formato:</span><span class="sxs-lookup"><span data-stu-id="f981d-151">Each log will be written in the following format.</span></span>

    <service-name>/YYYY/MM/DD/hhmm/<counter>.log

<span data-ttu-id="f981d-152">Nella tabella seguente vengono descritti i singoli attributi del nome del log:</span><span class="sxs-lookup"><span data-stu-id="f981d-152">The following table describes each attribute in the log name.</span></span>

| <span data-ttu-id="f981d-153">Attributo</span><span class="sxs-lookup"><span data-stu-id="f981d-153">Attribute</span></span> | <span data-ttu-id="f981d-154">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f981d-154">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f981d-155"><service-name></span><span class="sxs-lookup"><span data-stu-id="f981d-155"><service-name></span></span> |<span data-ttu-id="f981d-156">Nome del servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-156">The name of the storage service.</span></span> <span data-ttu-id="f981d-157">Ad esempio: BLOB, tabella o coda</span><span class="sxs-lookup"><span data-stu-id="f981d-157">For example: blob, table, or queue.</span></span> |
| <span data-ttu-id="f981d-158">AAAA</span><span class="sxs-lookup"><span data-stu-id="f981d-158">YYYY</span></span> |<span data-ttu-id="f981d-159">Anno a quattro cifre per il log.</span><span class="sxs-lookup"><span data-stu-id="f981d-159">The four-digit year for the log.</span></span> <span data-ttu-id="f981d-160">Ad esempio: 2011</span><span class="sxs-lookup"><span data-stu-id="f981d-160">For example: 2011.</span></span> |
| <span data-ttu-id="f981d-161">MM</span><span class="sxs-lookup"><span data-stu-id="f981d-161">MM</span></span> |<span data-ttu-id="f981d-162">Mese a due cifre per il log.</span><span class="sxs-lookup"><span data-stu-id="f981d-162">The two-digit month for the log.</span></span> <span data-ttu-id="f981d-163">Ad esempio: 07</span><span class="sxs-lookup"><span data-stu-id="f981d-163">For example: 07.</span></span> |
| <span data-ttu-id="f981d-164">GG</span><span class="sxs-lookup"><span data-stu-id="f981d-164">DD</span></span> |<span data-ttu-id="f981d-165">Mese a due cifre per il log.</span><span class="sxs-lookup"><span data-stu-id="f981d-165">The two-digit month for the log.</span></span> <span data-ttu-id="f981d-166">Ad esempio: 07</span><span class="sxs-lookup"><span data-stu-id="f981d-166">For example: 07.</span></span> |
| <span data-ttu-id="f981d-167">hh</span><span class="sxs-lookup"><span data-stu-id="f981d-167">hh</span></span> |<span data-ttu-id="f981d-168">Ora a due cifre che indica l'ora di inizio per i log, nel formato UTC 24 ore.</span><span class="sxs-lookup"><span data-stu-id="f981d-168">The two-digit hour that indicates the starting hour for the logs, in 24-hour UTC format.</span></span> <span data-ttu-id="f981d-169">Ad esempio: 18</span><span class="sxs-lookup"><span data-stu-id="f981d-169">For example: 18.</span></span> |
| <span data-ttu-id="f981d-170">MM</span><span class="sxs-lookup"><span data-stu-id="f981d-170">mm</span></span> |<span data-ttu-id="f981d-171">Numero a due cifre che indica il minuto di inizio per i log.</span><span class="sxs-lookup"><span data-stu-id="f981d-171">The two-digit number that indicates the starting minute for the logs.</span></span> <span data-ttu-id="f981d-172">Questo valore non è supportato nella versione corrente di Analisi archiviazione, e il relativo valore sarà sempre 00.</span><span class="sxs-lookup"><span data-stu-id="f981d-172">This value is unsupported in the current version of Storage Analytics, and its value will always be 00.</span></span> |
| <counter> |<span data-ttu-id="f981d-173">Contatore base zero con sei cifre che indica il numero di BLOB di log generati per il servizio di archiviazione in un'ora.</span><span class="sxs-lookup"><span data-stu-id="f981d-173">A zero-based counter with six digits that indicates the number of log blobs generated for the storage service in an hour time period.</span></span> <span data-ttu-id="f981d-174">Questo contatore parte da 000000.</span><span class="sxs-lookup"><span data-stu-id="f981d-174">This counter starts at 000000.</span></span> <span data-ttu-id="f981d-175">Ad esempio: 000001</span><span class="sxs-lookup"><span data-stu-id="f981d-175">For example: 000001.</span></span> |

<span data-ttu-id="f981d-176">Di seguito viene riportato un nome di log di esempio completo che combina gli esempi precedenti:</span><span class="sxs-lookup"><span data-stu-id="f981d-176">The following is a complete sample log name that combines the previous examples.</span></span>

    blob/2011/07/31/1800/000001.log

<span data-ttu-id="f981d-177">L'URI di esempio riportato di seguito può essere utilizzato per accedere al log precedente:</span><span class="sxs-lookup"><span data-stu-id="f981d-177">The following is a sample URI that can be used to access the previous log.</span></span>

    https://<accountname>.blob.core.windows.net/$logs/blob/2011/07/31/1800/000001.log

<span data-ttu-id="f981d-178">Quando viene registrata una richiesta di archiviazione, il nome log risultante è correlato all'ora in cui è stata completata l'operazione richiesta.</span><span class="sxs-lookup"><span data-stu-id="f981d-178">When a storage request is logged, the resulting log name correlates to the hour when the requested operation completed.</span></span> <span data-ttu-id="f981d-179">Se ad esempio una richiesta GetBlob è stata completata alle 18:30</span><span class="sxs-lookup"><span data-stu-id="f981d-179">For example, if a GetBlob request was completed at 6:30 P.M.</span></span> <span data-ttu-id="f981d-180">del 31/7/2011, il log viene scritto con il seguente prefisso: `blob/2011/07/31/1800/`</span><span class="sxs-lookup"><span data-stu-id="f981d-180">on 7/31/2011, the log would be written with the following prefix: `blob/2011/07/31/1800/`</span></span>

### <a name="log-metadata"></a><span data-ttu-id="f981d-181">Metadati dei log</span><span class="sxs-lookup"><span data-stu-id="f981d-181">Log metadata</span></span>
<span data-ttu-id="f981d-182">Tutti i BLOB dei log vengono archiviati con i metadati che possono essere utilizzati per identificare i dati di registrazione contenuti nei BLOB.</span><span class="sxs-lookup"><span data-stu-id="f981d-182">All log blobs are stored with metadata that can be used to identify what logging data the blob contains.</span></span> <span data-ttu-id="f981d-183">Nella tabella seguente sono descritti i singoli attributi dei metadati:</span><span class="sxs-lookup"><span data-stu-id="f981d-183">The following table describes each metadata attribute.</span></span>

| <span data-ttu-id="f981d-184">Attributo</span><span class="sxs-lookup"><span data-stu-id="f981d-184">Attribute</span></span> | <span data-ttu-id="f981d-185">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f981d-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f981d-186">LogType</span><span class="sxs-lookup"><span data-stu-id="f981d-186">LogType</span></span> |<span data-ttu-id="f981d-187">Descrive se il log contiene informazioni relative alle operazioni di lettura, scrittura o eliminazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-187">Describes whether the log contains information pertaining to read, write, or delete operations.</span></span> <span data-ttu-id="f981d-188">Questo valore può includere un solo tipo o una combinazione di tutti e tre, separati da virgola.</span><span class="sxs-lookup"><span data-stu-id="f981d-188">This value can include one type or a combination of all three, separated by commas.</span></span> <span data-ttu-id="f981d-189">Esempio 1: scrittura; Esempio 2: lettura, scrittura; Esempio 3: lettura, scrittura, eliminazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-189">Example 1: write; Example 2: read,write; Example 3: read,write,delete.</span></span> |
| <span data-ttu-id="f981d-190">StartTime</span><span class="sxs-lookup"><span data-stu-id="f981d-190">StartTime</span></span> |<span data-ttu-id="f981d-191">L'ora in cui è stata registrata la prima voce nel log, nel formato AAAA-MM-GGThh:mm:ssZ.</span><span class="sxs-lookup"><span data-stu-id="f981d-191">The earliest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="f981d-192">Ad esempio: 31-07-2011T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="f981d-192">For example: 2011-07-31T18:21:46Z.</span></span> |
| <span data-ttu-id="f981d-193">EndTime</span><span class="sxs-lookup"><span data-stu-id="f981d-193">EndTime</span></span> |<span data-ttu-id="f981d-194">L'ora in cui è stata registrata l'ultima voce nel log, nel formato AAAA-MM-GGThh:mm:ssZ.</span><span class="sxs-lookup"><span data-stu-id="f981d-194">The latest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="f981d-195">Ad esempio: 31-07-2011T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="f981d-195">For example: 2011-07-31T18:22:09Z.</span></span> |
| <span data-ttu-id="f981d-196">LogVersion</span><span class="sxs-lookup"><span data-stu-id="f981d-196">LogVersion</span></span> |<span data-ttu-id="f981d-197">Versione del formato del log.</span><span class="sxs-lookup"><span data-stu-id="f981d-197">The version of the log format.</span></span> <span data-ttu-id="f981d-198">Al momento, l'unico valore supportato è: 1,0</span><span class="sxs-lookup"><span data-stu-id="f981d-198">Currently the only supported value is 1.0.</span></span> |

<span data-ttu-id="f981d-199">Nell'elenco seguente sono visualizzati i metadati di esempio completi tramite gli esempi precedenti:</span><span class="sxs-lookup"><span data-stu-id="f981d-199">The following list displays complete sample metadata using the previous examples.</span></span>

* <span data-ttu-id="f981d-200">LogType=write</span><span class="sxs-lookup"><span data-stu-id="f981d-200">LogType=write</span></span>
* <span data-ttu-id="f981d-201">StartTime=2011-07-31T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="f981d-201">StartTime=2011-07-31T18:21:46Z</span></span>
* <span data-ttu-id="f981d-202">EndTime=2011-07-31T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="f981d-202">EndTime=2011-07-31T18:22:09Z</span></span>
* <span data-ttu-id="f981d-203">LogVersion=1.0</span><span class="sxs-lookup"><span data-stu-id="f981d-203">LogVersion=1.0</span></span>

### <a name="accessing-logging-data"></a><span data-ttu-id="f981d-204">Accesso ai dati di registrazione</span><span class="sxs-lookup"><span data-stu-id="f981d-204">Accessing logging data</span></span>
<span data-ttu-id="f981d-205">Tutti i dati del contenitore `$logs` sono accessibili tramite le API del servizio BLOB, incluse le API .NET fornite dalla libreria gestita di Azure.</span><span class="sxs-lookup"><span data-stu-id="f981d-205">All data in the `$logs` container can be accessed by using the Blob service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="f981d-206">L'amministratore dell'account di archiviazione può leggere ed eliminare i log, ma non può crearli o aggiornarli.</span><span class="sxs-lookup"><span data-stu-id="f981d-206">The storage account administrator can read and delete logs, but cannot create or update them.</span></span> <span data-ttu-id="f981d-207">Quando si esegue una query per un log, è possibile usare sia i metadati del log che il nome del log.</span><span class="sxs-lookup"><span data-stu-id="f981d-207">Both the log's metadata and log name can be used when querying for a log.</span></span> <span data-ttu-id="f981d-208">È possibile che i log di una determinata ora siano visualizzati come fuori servizio, ma i metadati specificano sempre l'intervallo temporale delle voci di un log.</span><span class="sxs-lookup"><span data-stu-id="f981d-208">It is possible for a given hour's logs to appear out of order, but the metadata always specifies the timespan of log entries in a log.</span></span> <span data-ttu-id="f981d-209">Pertanto, nella ricerca di un particolare log, è possibile utilizzare una combinazione di nomi log e metadati.</span><span class="sxs-lookup"><span data-stu-id="f981d-209">Therefore, you can use a combination of log names and metadata when searching for a particular log.</span></span>

## <a name="about-storage-analytics-metrics"></a><span data-ttu-id="f981d-210">Informazioni sulle metriche di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-210">About Storage Analytics metrics</span></span>
<span data-ttu-id="f981d-211">Analisi archiviazione è in grado di archiviare le metriche che includono le statistiche delle transazioni aggregate e i dati di capacità relativi alle richieste in un servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-211">Storage Analytics can store metrics that include aggregated transaction statistics and capacity data about requests to a storage service.</span></span> <span data-ttu-id="f981d-212">Le transazioni vengono segnalate sia a livello di operazione API, sia a livello di servizio di archiviazione, mentre la capacità viene segnalata a livello di servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-212">Transactions are reported at both the API operation level as well as at the storage service level, and capacity is reported at the storage service level.</span></span> <span data-ttu-id="f981d-213">I dati delle metriche possono essere utilizzati per analizzare l'uso del servizio di archiviazione, diagnosticare i problemi relativi alle richieste effettuate al servizio di archiviazione e per migliorare le prestazioni delle applicazioni che usano un servizio.</span><span class="sxs-lookup"><span data-stu-id="f981d-213">Metrics data can be used to analyze storage service usage, diagnose issues with requests made against the storage service, and to improve the performance of applications that use a service.</span></span>

<span data-ttu-id="f981d-214">Per utilizzare Analisi archiviazione, è necessario abilitarla singolarmente per ciascun servizio che si desidera monitorare.</span><span class="sxs-lookup"><span data-stu-id="f981d-214">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="f981d-215">È possibile abilitarlo dal [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f981d-215">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="f981d-216">Per informazioni dettagliate, vedere [Monitorare un account di archiviazione nel portale di Azure](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="f981d-216">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="f981d-217">È inoltre possibile abilitare Analisi archiviazione a livello di codice tramite l'API REST o la libreria client.</span><span class="sxs-lookup"><span data-stu-id="f981d-217">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="f981d-218">Per abilitare Analisi archiviazione per ogni servizio, usare le operazioni che consentono di **ottenere le proprietà dei servizi** .</span><span class="sxs-lookup"><span data-stu-id="f981d-218">Use the **Get Service Properties** operations to enable Storage Analytics for each service.</span></span>

### <a name="transaction-metrics"></a><span data-ttu-id="f981d-219">Metriche di transazione</span><span class="sxs-lookup"><span data-stu-id="f981d-219">Transaction metrics</span></span>
<span data-ttu-id="f981d-220">A intervalli di ore o minuti viene registrato un set di dati consistente per ciascun servizio di archiviazione e operazione API richiesta, inclusi ingresso/uscita, disponibilità, errori e vengono suddivise in categorie le percentuali di richieste.</span><span class="sxs-lookup"><span data-stu-id="f981d-220">A robust set of data is recorded at hourly or minute intervals for each storage service and requested API operation, including ingress/egress, availability, errors, and categorized request percentages.</span></span> <span data-ttu-id="f981d-221">È possibile vedere un elenco completo dei dettagli delle transazioni nell'argomento [Schema di tabella della metrica di Analisi di archiviazione](https://msdn.microsoft.com/library/hh343264.aspx) .</span><span class="sxs-lookup"><span data-stu-id="f981d-221">You can see a complete list of the transaction details in the [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx) topic.</span></span>

<span data-ttu-id="f981d-222">I dati delle transazioni vengono registrati a due livelli: a livello di servizio e di operazione API.</span><span class="sxs-lookup"><span data-stu-id="f981d-222">Transaction data is recorded at two levels – the service level and the API operation level.</span></span> <span data-ttu-id="f981d-223">A livello di servizio, le statistiche che riepilogano tutte le operazioni API richieste vengono scritte in un'entità di tabella ogni ora, persino se non sono state eseguite richieste al servizio.</span><span class="sxs-lookup"><span data-stu-id="f981d-223">At the service level, statistics summarizing all requested API operations are written to a table entity every hour even if no requests were made to the service.</span></span> <span data-ttu-id="f981d-224">A livello di operazione API, le statistiche vengono scritte in un'entità solo se l'operazione è stata richiesta entro l'ora.</span><span class="sxs-lookup"><span data-stu-id="f981d-224">At the API operation level, statistics are only written to an entity if the operation was requested within that hour.</span></span>

<span data-ttu-id="f981d-225">Se, ad esempio, si esegue un'operazione **GetBlob** nel servizio BLOB, la metrica Analisi archiviazione registrerà la richiesta e la includerà nei dati aggregati sia per il servizio BLOB, sia per l'operazione **GetBlob**.</span><span class="sxs-lookup"><span data-stu-id="f981d-225">For example, if you perform a **GetBlob** operation on your Blob service, Storage Analytics Metrics will log the request and include it in the aggregated data for both the Blob service as well as the **GetBlob** operation.</span></span> <span data-ttu-id="f981d-226">Tuttavia, se nel corso di quell'ora non vengono richieste operazioni **GetBlob**, non verrà scritta un'entità in `$MetricsTransactionsBlob` per tale operazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-226">However, if no **GetBlob** operation is requested during the hour, an entity will not be written to the `$MetricsTransactionsBlob` for that operation.</span></span>

<span data-ttu-id="f981d-227">Le metriche delle transazioni vengono registrate sia per le richieste utente, sia per quelle eseguite dalla stessa Analisi archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-227">Transaction metrics are recorded for both user requests and requests made by Storage Analytics itself.</span></span> <span data-ttu-id="f981d-228">Ad esempio, le richieste di Analisi archiviazione di scrivere entità di log e di tabella vengono registrate.</span><span class="sxs-lookup"><span data-stu-id="f981d-228">For example, requests by Storage Analytics to write logs and table entities are recorded.</span></span> <span data-ttu-id="f981d-229">Per altre informazioni su come vengono fatturate queste richieste, vedere [Analisi archiviazione e fatturazione](https://msdn.microsoft.com/library/hh360997.aspx)</span><span class="sxs-lookup"><span data-stu-id="f981d-229">For more information about how these requests are billed, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span>

### <a name="capacity-metrics"></a><span data-ttu-id="f981d-230">Metriche della capacità</span><span class="sxs-lookup"><span data-stu-id="f981d-230">Capacity metrics</span></span>
> [!NOTE]
> <span data-ttu-id="f981d-231">Al momento, le metriche per la capacità sono disponibili solo per il servizio BLOB.</span><span class="sxs-lookup"><span data-stu-id="f981d-231">Currently, capacity metrics are only available for the Blob service.</span></span> <span data-ttu-id="f981d-232">Le metriche della capacità per il servizio di tabelle e di accodamento saranno disponibili nelle versioni future di Analisi archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-232">Capacity metrics for the Table service and Queue service will be available in future versions of Storage Analytics.</span></span>
> 
> 

<span data-ttu-id="f981d-233">I dati relativi alla capacità vengono registrati quotidianamente per il servizio BLOB di un account di archiviazione e vengono scritte due entità di tabella.</span><span class="sxs-lookup"><span data-stu-id="f981d-233">Capacity data is recorded daily for a storage account's Blob service, and two table entities are written.</span></span> <span data-ttu-id="f981d-234">Un'entità fornisce le statistiche per i dati utente e l'altra le statistiche sul contenitore BLOB `$logs` utilizzato da Analisi archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-234">One entity provides statistics for user data, and the other provides statistics about the `$logs` blob container used by Storage Analytics.</span></span> <span data-ttu-id="f981d-235">Nella tabella `$MetricsCapacityBlob` sono incluse le seguenti statistiche:</span><span class="sxs-lookup"><span data-stu-id="f981d-235">The `$MetricsCapacityBlob` table includes the following statistics:</span></span>

* <span data-ttu-id="f981d-236">**Capacity**: quantità di memoria usata dal servizio BLOB dell'account di archiviazione, in byte.</span><span class="sxs-lookup"><span data-stu-id="f981d-236">**Capacity**: The amount of storage used by the storage account's Blob service, in bytes.</span></span>
* <span data-ttu-id="f981d-237">**ContainerCount**: numero di contenitori BLOB del servizio BLOB dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-237">**ContainerCount**: The number of blob containers in the storage account's Blob service.</span></span>
* <span data-ttu-id="f981d-238">**ObjectCount**: numero di BLOB di pagine o blocchi inviati nel servizio BLOB dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-238">**ObjectCount**: The number of committed and uncommitted block or page blobs in the storage account's Blob service.</span></span>

<span data-ttu-id="f981d-239">Per altre informazioni sulle metriche della capacità, vedere [Schema di tabella della metrica di Analisi di archiviazione](https://msdn.microsoft.com/library/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="f981d-239">For more information about the capacity metrics, see [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx).</span></span>

### <a name="how-metrics-are-stored"></a><span data-ttu-id="f981d-240">Come vengono archiviate le metriche</span><span class="sxs-lookup"><span data-stu-id="f981d-240">How metrics are stored</span></span>
<span data-ttu-id="f981d-241">Tutti i dati delle metriche per ciascun servizio di archiviazione vengono archiviati in tre tabelle riservate per tale servizio: una tabella per le informazioni sulle transazioni, una per le informazioni sulle transazioni al minuto e un'altra per le informazioni relative alla capacità.</span><span class="sxs-lookup"><span data-stu-id="f981d-241">All metrics data for each of the storage services is stored in three tables reserved for that service: one table for transaction information, one table for minute transaction information, and another table for capacity information.</span></span> <span data-ttu-id="f981d-242">Le informazioni sulla transazione e sulle transazioni al minuto consistono nei dati di richiesta e di risposta, mentre le informazioni sulla capacità consistono nei dati d'uso dell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-242">Transaction and minute transaction information consists of request and response data, and capacity information consists of storage usage data.</span></span> <span data-ttu-id="f981d-243">Metriche per ora, minuto e capacità del servizio BLOB di un account di archiviazione sono accessibili nelle tabelle denominate nel modo descritto nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="f981d-243">Hour metrics, minute metrics, and capacity for a storage account's Blob service can be accessed in tables that are named as described in the following table.</span></span>

| <span data-ttu-id="f981d-244">Livello metrica</span><span class="sxs-lookup"><span data-stu-id="f981d-244">Metrics level</span></span> | <span data-ttu-id="f981d-245">Nomi tabella</span><span class="sxs-lookup"><span data-stu-id="f981d-245">Table names</span></span> | <span data-ttu-id="f981d-246">Versioni supportate</span><span class="sxs-lookup"><span data-stu-id="f981d-246">Supported versions</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f981d-247">Metriche orarie, posizione principale</span><span class="sxs-lookup"><span data-stu-id="f981d-247">Hourly metrics, primary location</span></span> |<span data-ttu-id="f981d-248">$MetricsTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="f981d-248">$MetricsTransactionsBlob</span></span> <br/><span data-ttu-id="f981d-249">$MetricsTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="f981d-249">$MetricsTransactionsTable</span></span> <br/> <span data-ttu-id="f981d-250">$MetricsTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="f981d-250">$MetricsTransactionsQueue</span></span> |<span data-ttu-id="f981d-251">Solo le versioni precedenti al 15-08-2013.</span><span class="sxs-lookup"><span data-stu-id="f981d-251">Versions prior to 2013-08-15 only.</span></span> <span data-ttu-id="f981d-252">Anche se tali nomi sono supportati, è consigliabile passare all'uso delle tabelle elencate di seguito.</span><span class="sxs-lookup"><span data-stu-id="f981d-252">While these names are still supported, it's recommended that you switch to using the tables listed below.</span></span> |
| <span data-ttu-id="f981d-253">Metriche orarie, posizione principale</span><span class="sxs-lookup"><span data-stu-id="f981d-253">Hourly metrics, primary location</span></span> |<span data-ttu-id="f981d-254">$MetricsHourPrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="f981d-254">$MetricsHourPrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="f981d-255">$MetricsHourPrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="f981d-255">$MetricsHourPrimaryTransactionsTable</span></span> <br/><span data-ttu-id="f981d-256">$MetricsHourPrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="f981d-256">$MetricsHourPrimaryTransactionsQueue</span></span> |<span data-ttu-id="f981d-257">Tutte le versioni, inclusa quella del 15-08-2013.</span><span class="sxs-lookup"><span data-stu-id="f981d-257">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="f981d-258">Metriche per minuto, posizione principale</span><span class="sxs-lookup"><span data-stu-id="f981d-258">Minute metrics, primary location</span></span> |<span data-ttu-id="f981d-259">$MetricsMinutePrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="f981d-259">$MetricsMinutePrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="f981d-260">$MetricsMinutePrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="f981d-260">$MetricsMinutePrimaryTransactionsTable</span></span> <br/><span data-ttu-id="f981d-261">$MetricsMinutePrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="f981d-261">$MetricsMinutePrimaryTransactionsQueue</span></span> |<span data-ttu-id="f981d-262">Tutte le versioni, inclusa quella del 15-08-2013.</span><span class="sxs-lookup"><span data-stu-id="f981d-262">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="f981d-263">Metriche orarie, posizione secondaria</span><span class="sxs-lookup"><span data-stu-id="f981d-263">Hourly metrics, secondary location</span></span> |<span data-ttu-id="f981d-264">$MetricsHourSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="f981d-264">$MetricsHourSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="f981d-265">$MetricsHourSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="f981d-265">$MetricsHourSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="f981d-266">$MetricsHourSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="f981d-266">$MetricsHourSecondaryTransactionsQueue</span></span> |<span data-ttu-id="f981d-267">Tutte le versioni, inclusa quella del 15-08-2013.</span><span class="sxs-lookup"><span data-stu-id="f981d-267">All versions, including 2013-08-15.</span></span> <span data-ttu-id="f981d-268">Deve essere abilitata la replica con accesso in lettura con ridondanza geografica.</span><span class="sxs-lookup"><span data-stu-id="f981d-268">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="f981d-269">Metriche al minuto, posizione secondaria</span><span class="sxs-lookup"><span data-stu-id="f981d-269">Minute metrics, secondary location</span></span> |<span data-ttu-id="f981d-270">$MetricsMinuteSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="f981d-270">$MetricsMinuteSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="f981d-271">$MetricsMinuteSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="f981d-271">$MetricsMinuteSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="f981d-272">$MetricsMinuteSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="f981d-272">$MetricsMinuteSecondaryTransactionsQueue</span></span> |<span data-ttu-id="f981d-273">Tutte le versioni, inclusa quella del 15-08-2013.</span><span class="sxs-lookup"><span data-stu-id="f981d-273">All versions, including 2013-08-15.</span></span> <span data-ttu-id="f981d-274">Deve essere abilitata la replica con accesso in lettura con ridondanza geografica.</span><span class="sxs-lookup"><span data-stu-id="f981d-274">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="f981d-275">Capacità (solo servizio BLOB)</span><span class="sxs-lookup"><span data-stu-id="f981d-275">Capacity (Blob service only)</span></span> |<span data-ttu-id="f981d-276">$MetricsCapacityBlob</span><span class="sxs-lookup"><span data-stu-id="f981d-276">$MetricsCapacityBlob</span></span> |<span data-ttu-id="f981d-277">Tutte le versioni, inclusa quella del 15-08-2013.</span><span class="sxs-lookup"><span data-stu-id="f981d-277">All versions, including 2013-08-15.</span></span> |

<span data-ttu-id="f981d-278">Tali tabelle vengono create automaticamente quando viene abilitato Analisi archiviazione per un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-278">These tables are automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="f981d-279">L'accesso alle tabelle viene eseguito tramite lo spazio dei nomi dell'account di archiviazione, ad esempio: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span><span class="sxs-lookup"><span data-stu-id="f981d-279">They are accessed via the namespace of the storage account, for example: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span></span>

### <a name="accessing-metrics-data"></a><span data-ttu-id="f981d-280">Accesso ai dati delle metriche</span><span class="sxs-lookup"><span data-stu-id="f981d-280">Accessing metrics data</span></span>
<span data-ttu-id="f981d-281">Tutti i dati delle tabelle delle metriche sono accessibili mediante le API del servizio di tabelle, incluse le API .NET fornite dalla libreria gestita di Azure.</span><span class="sxs-lookup"><span data-stu-id="f981d-281">All data in the metrics tables can be accessed by using the Table service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="f981d-282">L'amministratore dell'account di archiviazione può leggere ed eliminare le entità di tabella, ma non può crearle né aggiornarle.</span><span class="sxs-lookup"><span data-stu-id="f981d-282">The storage account administrator can read and delete table entities, but cannot create or update them.</span></span>

## <a name="billing-for-storage-analytics"></a><span data-ttu-id="f981d-283">Fatturazione per Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-283">Billing for Storage Analytics</span></span>
<span data-ttu-id="f981d-284">Tutti i dati delle metriche vengono scritti dai servizi di un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f981d-284">All metrics data is written by the services of a storage account.</span></span> <span data-ttu-id="f981d-285">Di conseguenza, ogni operazione di scrittura eseguita da Analisi archiviazione è fatturabile.</span><span class="sxs-lookup"><span data-stu-id="f981d-285">As a result, each write operation performed by Storage Analytics is billable.</span></span> <span data-ttu-id="f981d-286">Inoltre, anche la quantità di archiviazione utilizzata dai dati delle metriche è fatturabile.</span><span class="sxs-lookup"><span data-stu-id="f981d-286">Additionally, the amount of storage used by metrics data is also billable.</span></span>

<span data-ttu-id="f981d-287">Le seguenti azioni eseguite da Analisi archiviazione sono fatturabili:</span><span class="sxs-lookup"><span data-stu-id="f981d-287">The following actions performed by Storage Analytics are billable:</span></span>

* <span data-ttu-id="f981d-288">Richieste di creazione di BLOB per la registrazione</span><span class="sxs-lookup"><span data-stu-id="f981d-288">Requests to create blobs for logging.</span></span> 
* <span data-ttu-id="f981d-289">Richieste di creazione di entità di tabella per le metriche</span><span class="sxs-lookup"><span data-stu-id="f981d-289">Requests to create table entities for metrics.</span></span>

<span data-ttu-id="f981d-290">Se è stato configurato un criterio di conservazione dei dati, non verranno addebitati costi per le transazioni eliminate quando Analisi archiviazione elimina i vecchi dati di registrazione e delle metriche.</span><span class="sxs-lookup"><span data-stu-id="f981d-290">If you have configured a data retention policy, you are not charged for delete transactions when Storage Analytics deletes old logging and metrics data.</span></span> <span data-ttu-id="f981d-291">Tuttavia, le transazioni eliminate da un client sono fatturabili.</span><span class="sxs-lookup"><span data-stu-id="f981d-291">However, delete transactions from a client are billable.</span></span> <span data-ttu-id="f981d-292">Per ulteriori informazioni sui criteri di conservazione, vedere [Impostazione di un criterio di conservazione dei dati di Analisi archiviazione](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span><span class="sxs-lookup"><span data-stu-id="f981d-292">For more information about retention policies, see [Setting a Storage Analytics Data Retention Policy](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span></span>

### <a name="understanding-billable-requests"></a><span data-ttu-id="f981d-293">Informazioni sulle richieste fatturabili</span><span class="sxs-lookup"><span data-stu-id="f981d-293">Understanding billable requests</span></span>
<span data-ttu-id="f981d-294">Ogni richiesta effettuata al servizio di archiviazione di un account è fatturabile oppure non fatturabile.</span><span class="sxs-lookup"><span data-stu-id="f981d-294">Every request made to an account's storage service is either billable or non-billable.</span></span> <span data-ttu-id="f981d-295">Analisi archiviazione registra ogni singola richiesta eseguita a un servizio, incluso un messaggio di stato che indica in che modo è stata gestita la richiesta.</span><span class="sxs-lookup"><span data-stu-id="f981d-295">Storage Analytics logs each individual request made to a service, including a status message that indicates how the request was handled.</span></span> <span data-ttu-id="f981d-296">Allo stesso modo, Analisi archiviazione archivia le metriche per un servizio e per le operazioni API di tale servizio, incluse le percentuali e il numero di determinati messaggi di stato.</span><span class="sxs-lookup"><span data-stu-id="f981d-296">Similarly, Storage Analytics stores metrics for both a service and the API operations of that service, including the percentages and count of certain status messages.</span></span> <span data-ttu-id="f981d-297">Insieme, queste funzionalità possono aiutare l'utente ad analizzare le richieste fatturabili, apportare miglioramenti all'applicazione, e diagnosticare i problemi relativi alle richieste ai servizi.</span><span class="sxs-lookup"><span data-stu-id="f981d-297">Together, these features can help you analyze your billable requests, make improvements on your application, and diagnose issues with requests to your services.</span></span> <span data-ttu-id="f981d-298">Per altre informazioni sulla fatturazione, vedere [Informazioni sulla fatturazione di Archiviazione di Azure - Larghezza di banda, transazioni e capacità](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span><span class="sxs-lookup"><span data-stu-id="f981d-298">For more information about billing, see [Understanding Azure Storage Billing - Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

<span data-ttu-id="f981d-299">Quando si osservano i dati di Analisi archiviazione, è possibile utilizzare le tabelle dell'argomento [Operazioni registrate di Analisi archiviazione e messaggi di stato](https://msdn.microsoft.com/library/azure/hh343260.aspx) per determinare quali sono le richieste fatturabili.</span><span class="sxs-lookup"><span data-stu-id="f981d-299">When looking at Storage Analytics data, you can use the tables in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/azure/hh343260.aspx) topic to determine what requests are billable.</span></span> <span data-ttu-id="f981d-300">Quindi è possibile confrontare i log e i dati delle metriche ai messaggi di stato per vedere se è stata addebitata una particolare richiesta.</span><span class="sxs-lookup"><span data-stu-id="f981d-300">Then you can compare your logs and metrics data to the status messages to see if you were charged for a particular request.</span></span> <span data-ttu-id="f981d-301">Le tabelle dell'argomento citato possono anche essere utilizzate per investigare la disponibilità di un servizio di archiviazione o di una singola operazione API.</span><span class="sxs-lookup"><span data-stu-id="f981d-301">You can also use the tables in the previous topic to investigate availability for a storage service or individual API operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f981d-302">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="f981d-302">Next steps</span></span>
### <a name="setting-up-storage-analytics"></a><span data-ttu-id="f981d-303">Configurazione di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-303">Setting up Storage Analytics</span></span>
* [<span data-ttu-id="f981d-304">Monitorare un account di archiviazione nel portale di Azure</span><span class="sxs-lookup"><span data-stu-id="f981d-304">Monitor a storage account in the Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="f981d-305">Abilitazione e configurazione di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-305">Enabling and Configuring Storage Analytics</span></span>](https://msdn.microsoft.com/library/hh360996.aspx)

### <a name="storage-analytics-logging"></a><span data-ttu-id="f981d-306">Registrazione di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-306">Storage Analytics logging</span></span>
* [<span data-ttu-id="f981d-307">Informazioni sulla registrazione di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-307">About Storage Analytics Logging</span></span>](https://msdn.microsoft.com/library/hh343262.aspx)
* [<span data-ttu-id="f981d-308">Formato log Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-308">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/hh343259.aspx)
* [<span data-ttu-id="f981d-309">Operazioni registrate di Analisi archiviazione e messaggi di stato</span><span class="sxs-lookup"><span data-stu-id="f981d-309">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)

### <a name="storage-analytics-metrics"></a><span data-ttu-id="f981d-310">Metriche di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-310">Storage Analytics metrics</span></span>
* [<span data-ttu-id="f981d-311">Informazioni sulle metriche di Analisi archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-311">About Storage Analytics Metrics</span></span>](https://msdn.microsoft.com/library/hh343258.aspx)
* [<span data-ttu-id="f981d-312">Schema di tabella della metrica di Analisi di archiviazione</span><span class="sxs-lookup"><span data-stu-id="f981d-312">Storage Analytics Metrics Table Schema</span></span>](https://msdn.microsoft.com/library/hh343264.aspx)
* [<span data-ttu-id="f981d-313">Operazioni registrate di Analisi archiviazione e messaggi di stato</span><span class="sxs-lookup"><span data-stu-id="f981d-313">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)  

