---
title: sincronizzazione delle password aaaImplement con sincronizzazione di Azure AD Connect | Documenti Microsoft
description: "Vengono fornite informazioni sul funzionamento della sincronizzazione delle password e la modalità tooset backup."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 05f16c3e-9d23-45dc-afca-3d0fa9dbf501
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: billmath
ms.openlocfilehash: a0401640f2a4d914419ee4446f923bb3a972389d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="implement-password-synchronization-with-azure-ad-connect-sync"></a><span data-ttu-id="68222-103">Implementare la sincronizzazione password con il servizio di sincronizzazione Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="68222-103">Implement password synchronization with Azure AD Connect sync</span></span>
<span data-ttu-id="68222-104">Questo articolo fornisce informazioni che è necessario toosynchronize le password utente da un'istanza locale di Active Directory istanza tooa basato su cloud Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="68222-104">This article provides information that you need toosynchronize your user passwords from an on-premises Active Directory instance tooa cloud-based Azure Active Directory (Azure AD) instance.</span></span>

## <a name="what-is-password-synchronization"></a><span data-ttu-id="68222-105">Informazioni sulla sincronizzazione password</span><span class="sxs-lookup"><span data-stu-id="68222-105">What is password synchronization</span></span>
<span data-ttu-id="68222-106">Hello probabilità che sta impedito lavorare scadenza tooa dimenticato la password è correlato toohello numero di password diverse è necessario tooremember.</span><span class="sxs-lookup"><span data-stu-id="68222-106">hello probability that you're blocked from getting your work done due tooa forgotten password is related toohello number of different passwords you need tooremember.</span></span> <span data-ttu-id="68222-107">Hello altre password, è necessario tooremember, hello superiore hello probabilità tooforget uno.</span><span class="sxs-lookup"><span data-stu-id="68222-107">hello more passwords you need tooremember, hello higher hello probability tooforget one.</span></span> <span data-ttu-id="68222-108">Domande e le chiamate sulla reimpostazione della password e un'altra richiesta di problemi relativi alle password hello la maggior parte delle risorse di supporto tecnico.</span><span class="sxs-lookup"><span data-stu-id="68222-108">Questions and calls about password resets and other password-related issues demand hello most helpdesk resources.</span></span>

<span data-ttu-id="68222-109">Sincronizzazione password è una funzionalità che consente le password utente toosynchronize da un'istanza di tooa basato su cloud di Azure AD istanza di Active Directory locale.</span><span class="sxs-lookup"><span data-stu-id="68222-109">Password synchronization is a feature used toosynchronize user passwords from an on-premises Active Directory instance tooa cloud-based Azure AD instance.</span></span>
<span data-ttu-id="68222-110">Utilizzare questo toosign funzionalità tooAzure AD servizi come Office 365, Microsoft Intune, CRM Online e servizi di dominio Active Directory Azure (Azure AD DS).</span><span class="sxs-lookup"><span data-stu-id="68222-110">Use this feature toosign in tooAzure AD services like Office 365, Microsoft Intune, CRM Online, and Azure Active Directory Domain Services (Azure AD DS).</span></span> <span data-ttu-id="68222-111">Accesso al servizio toohello utilizzando hello stessa password usata toosign in tooyour locale dell'istanza di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-111">You sign in toohello service by using hello same password you use toosign in tooyour on-premises Active Directory instance.</span></span>

![Cos'è Azure AD Connect](./media/active-directory-aadconnectsync-implement-password-synchronization/arch1.png)

<span data-ttu-id="68222-113">Riducendo il numero di hello delle password, gli utenti devono toojust toomaintain uno.</span><span class="sxs-lookup"><span data-stu-id="68222-113">By reducing hello number of passwords, your users need toomaintain toojust one.</span></span> <span data-ttu-id="68222-114">La sincronizzazione password permette di:</span><span class="sxs-lookup"><span data-stu-id="68222-114">Password synchronization helps you to:</span></span>

* <span data-ttu-id="68222-115">Migliorare la produttività hello degli utenti.</span><span class="sxs-lookup"><span data-stu-id="68222-115">Improve hello productivity of your users.</span></span>
* <span data-ttu-id="68222-116">Ridurre i costi del supporto tecnico.</span><span class="sxs-lookup"><span data-stu-id="68222-116">Reduce your helpdesk costs.</span></span>  

<span data-ttu-id="68222-117">Inoltre, se si decide di toouse [federazione con Active Directory Federation Services (ADFS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), è facoltativamente possibile configurare la sincronizzazione delle password come backup in caso di errore di infrastruttura di ADFS.</span><span class="sxs-lookup"><span data-stu-id="68222-117">Also, if you decide toouse [Federation with Active Directory Federation Services (AD FS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), you can optionally set up password synchronization as a backup in case your AD FS infrastructure fails.</span></span>

<span data-ttu-id="68222-118">Sincronizzazione password è una funzionalità di sincronizzazione directory di toohello estensione implementata tramite la sincronizzazione di Azure AD Connect. toouse la sincronizzazione delle password nell'ambiente in uso, è necessario:</span><span class="sxs-lookup"><span data-stu-id="68222-118">Password synchronization is an extension toohello directory synchronization feature implemented by Azure AD Connect sync. toouse password synchronization in your environment, you need to:</span></span>

* <span data-ttu-id="68222-119">Installare Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="68222-119">Install Azure AD Connect.</span></span>  
* <span data-ttu-id="68222-120">Configurare la sincronizzazione della directory tra l'istanza di Active Directory locale e l'istanza di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-120">Configure directory synchronization between your on-premises Active Directory instance and your Azure Active Directory instance.</span></span>
* <span data-ttu-id="68222-121">Abilitare la sincronizzazione password.</span><span class="sxs-lookup"><span data-stu-id="68222-121">Enable password synchronization.</span></span>

<span data-ttu-id="68222-122">Per altri dettagli, vedere [Integrazione delle identità locali con Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="68222-122">For more details, see [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>

> [!NOTE]
> <span data-ttu-id="68222-123">Per altre informazioni su Azure Active Directory Domain Services configurato per FIPS e la sincronizzazione password, vedere "Sincronizzazione password e FIPS" più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="68222-123">For more details about Azure Active Directory Domain Services configured for FIPS and password synchronization, see "Password synchronization and FIPS" later in this article.</span></span>
>
>

## <a name="how-password-synchronization-works"></a><span data-ttu-id="68222-124">Funzionamento della sincronizzazione password</span><span class="sxs-lookup"><span data-stu-id="68222-124">How password synchronization works</span></span>
<span data-ttu-id="68222-125">Hello servizi di dominio Active Directory archivia le password in forma di hello di una rappresentazione del valore hash della password utente effettiva hello.</span><span class="sxs-lookup"><span data-stu-id="68222-125">hello Active Directory domain service stores passwords in hello form of a hash value representation of hello actual user password.</span></span> <span data-ttu-id="68222-126">Un valore hash è un risultato di una funzione matematica unidirezionale (hello *algoritmo hash*).</span><span class="sxs-lookup"><span data-stu-id="68222-126">A hash value is a result of a one-way mathematical function (hello *hashing algorithm*).</span></span> <span data-ttu-id="68222-127">Non vi è alcun risultato hello toorevert del metodo di una versione di testo normale toohello funzione unidirezionale di una password.</span><span class="sxs-lookup"><span data-stu-id="68222-127">There is no method toorevert hello result of a one-way function toohello plain text version of a password.</span></span> <span data-ttu-id="68222-128">Non è possibile utilizzare un toosign hash password nella rete locale tooyour.</span><span class="sxs-lookup"><span data-stu-id="68222-128">You cannot use a password hash toosign in tooyour on-premises network.</span></span>

<span data-ttu-id="68222-129">la password, Azure AD Connect sync estrae l'hash della password da toosynchronize hello istanza locale di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-129">toosynchronize your password, Azure AD Connect sync extracts your password hash from hello on-premises Active Directory instance.</span></span> <span data-ttu-id="68222-130">Viene applicata un'elaborazione aggiuntiva di sicurezza toohello hash della password prima che venga sincronizzato toohello servizio di autenticazione di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-130">Extra security processing is applied toohello password hash before it is synchronized toohello Azure Active Directory authentication service.</span></span> <span data-ttu-id="68222-131">Le password vengono sincronizzate per ogni singolo utente e in ordine cronologico.</span><span class="sxs-lookup"><span data-stu-id="68222-131">Passwords are synchronized on a per-user basis and in chronological order.</span></span>

<span data-ttu-id="68222-132">Hello effettivo flusso di dati del processo di sincronizzazione password hello è simile toohello la sincronizzazione dei dati utente, ad esempio DisplayName o indirizzi di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="68222-132">hello actual data flow of hello password synchronization process is similar toohello synchronization of user data such as DisplayName or Email Addresses.</span></span> <span data-ttu-id="68222-133">Tuttavia, le password vengono sincronizzate più frequentemente di una finestra di sincronizzazione della directory standard hello per altri attributi.</span><span class="sxs-lookup"><span data-stu-id="68222-133">However, passwords are synchronized more frequently than hello standard directory synchronization window for other attributes.</span></span> <span data-ttu-id="68222-134">processo di sincronizzazione password Hello viene eseguita ogni 2 minuti.</span><span class="sxs-lookup"><span data-stu-id="68222-134">hello password synchronization process runs every 2 minutes.</span></span> <span data-ttu-id="68222-135">È possibile modificare la frequenza di hello di questo processo.</span><span class="sxs-lookup"><span data-stu-id="68222-135">You cannot modify hello frequency of this process.</span></span> <span data-ttu-id="68222-136">Quando si sincronizza una password, sovrascrive password esistente nel cloud hello.</span><span class="sxs-lookup"><span data-stu-id="68222-136">When you synchronize a password, it overwrites hello existing cloud password.</span></span>

<span data-ttu-id="68222-137">Hello prima che abilitare la funzionalità di sincronizzazione password hello, effettua una sincronizzazione iniziale delle password hello di tutti gli utenti nell'ambito.</span><span class="sxs-lookup"><span data-stu-id="68222-137">hello first time you enable hello password synchronization feature, it performs an initial synchronization of hello passwords of all in-scope users.</span></span> <span data-ttu-id="68222-138">È possibile definire in modo esplicito un subset delle password degli utenti che si desidera toosynchronize.</span><span class="sxs-lookup"><span data-stu-id="68222-138">You cannot explicitly define a subset of user passwords that you want toosynchronize.</span></span>

<span data-ttu-id="68222-139">Quando si modifica una password locale, hello aggiornato password viene sincronizzata, spesso in pochi minuti.</span><span class="sxs-lookup"><span data-stu-id="68222-139">When you change an on-premises password, hello updated password is synchronized, most often in a matter of minutes.</span></span>
<span data-ttu-id="68222-140">funzionalità di sincronizzazione password Hello tenterà automaticamente di tentativi di sincronizzazione non riuscita.</span><span class="sxs-lookup"><span data-stu-id="68222-140">hello password synchronization feature automatically retries failed synchronization attempts.</span></span> <span data-ttu-id="68222-141">Se si verifica un errore durante un tentativo toosynchronize una password, viene registrato un errore nel Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="68222-141">If an error occurs during an attempt toosynchronize a password, an error is logged in your event viewer.</span></span>

<span data-ttu-id="68222-142">sincronizzazione Hello di una password non ha alcun impatto sull'utente hello attualmente connesso.</span><span class="sxs-lookup"><span data-stu-id="68222-142">hello synchronization of a password has no impact on hello user  who is currently signed in.</span></span>
<span data-ttu-id="68222-143">La sessione corrente del servizio cloud non è interessata da una modifica della password sincronizzata che si verifica quando si è connessi nel servizio cloud tooa immediatamente in.</span><span class="sxs-lookup"><span data-stu-id="68222-143">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you are signed in tooa cloud service.</span></span> <span data-ttu-id="68222-144">Tuttavia, quando il servizio cloud hello richiede tooauthenticate nuovamente, è necessario tooprovide la nuova password.</span><span class="sxs-lookup"><span data-stu-id="68222-144">However, when hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

<span data-ttu-id="68222-145">Un utente deve immettere le proprie credenziali aziendali un tooAzure di tooauthenticate tempo di secondo Active Directory, indipendentemente dal fatto che sono firmati nella rete aziendale tootheir.</span><span class="sxs-lookup"><span data-stu-id="68222-145">A user must enter their corporate credentials a second time tooauthenticate tooAzure AD, regardless of whether they're signed in tootheir corporate network.</span></span> <span data-ttu-id="68222-146">Queste serie può essere ridotto, tuttavia, se l'utente di hello seleziona hello Mantieni l'accesso nella casella di controllo (KMSI) all'accesso.</span><span class="sxs-lookup"><span data-stu-id="68222-146">These pattern can be minimized, however, if hello user selects hello Keep me signed in (KMSI) check box at sign in.</span></span> <span data-ttu-id="68222-147">La selezione di questa opzione imposta un cookie di sessione che permette di ignorare l'autenticazione per un breve periodo.</span><span class="sxs-lookup"><span data-stu-id="68222-147">This selection sets a session cookie that bypasses authentication for a short period.</span></span> <span data-ttu-id="68222-148">Comportamento KMSI può essere abilitato o disabilitato dall'amministratore di Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="68222-148">KMSI behavior can be enabled or disabled by hello Azure AD administrator.</span></span>

> [!NOTE]
> <span data-ttu-id="68222-149">La sincronizzazione delle password è supportata solo per l'utente di tipo di oggetto hello in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-149">Password sync is only supported for hello object type user in Active Directory.</span></span> <span data-ttu-id="68222-150">Non è supportata per il tipo di oggetto iNetOrgPerson hello.</span><span class="sxs-lookup"><span data-stu-id="68222-150">It is not supported for hello iNetOrgPerson object type.</span></span>

### <a name="detailed-description-of-how-password-synchronization-works"></a><span data-ttu-id="68222-151">Descrizione dettagliata del funzionamento della sincronizzazione password</span><span class="sxs-lookup"><span data-stu-id="68222-151">Detailed description of how password synchronization works</span></span>
<span data-ttu-id="68222-152">esempio Hello viene descritto nei dettagli il funzionamento della sincronizzazione password tra Active Directory e Azure AD.</span><span class="sxs-lookup"><span data-stu-id="68222-152">hello following describes in-depth how password synchronization works between Active Directory and Azure AD.</span></span>

![Flusso dettagliato della sincronizzazione password](./media/active-directory-aadconnectsync-implement-password-synchronization/arch3.png)


1. <span data-ttu-id="68222-154">Ogni due minuti, agente di sincronizzazione password hello nel server di connessione hello Active Directory richiede gli hash di password memorizzate (attributo unicodePwd hello) da un controller di dominio tramite hello standard [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) protocollo di replica utilizzato toosynchronize dati tra i controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="68222-154">Every two minutes, hello password synchronization agent on hello AD Connect server requests stored password hashes (hello unicodePwd attribute) from a DC via hello standard [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) replication protocol used toosynchronize data between DCs.</span></span> <span data-ttu-id="68222-155">account del servizio Hello necessario replicare le modifiche di Directory e di replica Directory Changes All AD autorizzazioni (per impostazione predefinita nell'installazione) tooobtain hello gli hash delle password.</span><span class="sxs-lookup"><span data-stu-id="68222-155">hello service account must have Replicate Directory Changes and Replicate Directory Changes All AD permissions (granted by default on installation) tooobtain hello password hashes.</span></span>
2. <span data-ttu-id="68222-156">Prima dell'invio, hello controller di dominio esegue la crittografia hash della password hello MD4 tramite una chiave che è un [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hash della chiave di sessione di hello RPC e un valore salt.</span><span class="sxs-lookup"><span data-stu-id="68222-156">Before sending, hello DC encrypts hello MD4 password hash by using a key that is a [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hash of hello RPC session key and a salt.</span></span> <span data-ttu-id="68222-157">Invia quindi l'agente di sincronizzazione password toohello hello risultato tramite RPC.</span><span class="sxs-lookup"><span data-stu-id="68222-157">It then sends hello result toohello password synchronization agent over RPC.</span></span> <span data-ttu-id="68222-158">Hello controller di dominio passa anche l'agente di sincronizzazione toohello salt hello utilizzando il protocollo di replica hello controller di dominio, pertanto busta hello in grado di toodecrypt agente hello.</span><span class="sxs-lookup"><span data-stu-id="68222-158">hello DC also passes hello salt toohello synchronization agent by using hello DC replication protocol, so hello agent will be able toodecrypt hello envelope.</span></span>
3.  <span data-ttu-id="68222-159">Dopo che l'agente di sincronizzazione password hello dispone di busta crittografato hello, Usa [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) e hello salt toogenerate un toodecrypt chiave hello ha ricevuto dati tooits indietro MD4 formato originale.</span><span class="sxs-lookup"><span data-stu-id="68222-159">After hello password synchronization agent has hello encrypted envelope, it uses [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) and hello salt toogenerate a key toodecrypt hello received data back tooits original MD4 format.</span></span> <span data-ttu-id="68222-160">In nessun punto l'agente di sincronizzazione password hello privo di password di accesso toohello come testo non crittografato.</span><span class="sxs-lookup"><span data-stu-id="68222-160">At no point does hello password synchronization agent have access toohello clear text password.</span></span> <span data-ttu-id="68222-161">Hello uso dell'agente di sincronizzazione password di MD5 esclusivamente per la compatibilità di protocollo di replica con hello controller di dominio, e viene utilizzato solo in locale tra hello controller di dominio e l'agente di sincronizzazione password hello.</span><span class="sxs-lookup"><span data-stu-id="68222-161">hello password synchronization agent’s use of MD5 is strictly for replication protocol compatibility with hello DC, and it is only used on premises between hello DC and hello password synchronization agent.</span></span>
4.  <span data-ttu-id="68222-162">l'agente di sincronizzazione password Hello espande byte too64 hash password binari a 16 byte di hello dal primo conversione hello tooa 32 byte esadecimali stringa hash, la conversione di questa stringa nuovamente in binario con codifica UTF-16.</span><span class="sxs-lookup"><span data-stu-id="68222-162">hello password synchronization agent expands hello 16-byte binary password hash too64 bytes by first converting hello hash tooa 32-byte hexadecimal string, then converting this string back into binary with UTF-16 encoding.</span></span>
5.  <span data-ttu-id="68222-163">l'agente di sincronizzazione password Hello aggiunge un valore salt, costituito da un valore salt alla lunghezza di 10 byte, toohello 64 byte binari toofurther proteggere hash originale hello.</span><span class="sxs-lookup"><span data-stu-id="68222-163">hello password synchronization agent adds a salt, consisting of a 10-byte length salt, toohello 64-byte binary toofurther protect hello original hash.</span></span>
6.  <span data-ttu-id="68222-164">l'agente di sincronizzazione password Hello combina hash MD4 hello e il salt e l'input nella hello [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) (funzione).</span><span class="sxs-lookup"><span data-stu-id="68222-164">hello password synchronization agent then combines hello MD4 hash plus salt, and inputs it into hello [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) function.</span></span> <span data-ttu-id="68222-165">1000 le iterazioni di hello [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) viene utilizzato l'algoritmo hash con chiave.</span><span class="sxs-lookup"><span data-stu-id="68222-165">1000 iterations of hello [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) keyed hashing algorithm is used.</span></span> 
7.  <span data-ttu-id="68222-166">l'agente di sincronizzazione password Hello accetta hash a 32 byte risultante hello, concatena entrambi salt hello hello svariate SHA256 iterazioni tooit (per l'utilizzo da Azure AD), quindi trasmette stringa hello da Azure AD Connect tooAzure AD tramite SSL.</span><span class="sxs-lookup"><span data-stu-id="68222-166">hello password synchronization agent takes hello resulting 32-byte hash, concatenates both hello salt and hello number of SHA256 iterations tooit (for use by Azure AD), then transmits hello string from Azure AD Connect tooAzure AD over SSL.</span></span></br> 
8.  <span data-ttu-id="68222-167">Quando un utente tenta di toosign in tooAzure AD e delle password, una password hello viene eseguito tramite hello MD4 stesso + salt + PBKDF2 + HMAC-SHA256 processo.</span><span class="sxs-lookup"><span data-stu-id="68222-167">When a user attempts toosign in tooAzure AD and enters their password, hello password is run through hello same MD4+salt+PBKDF2+HMAC-SHA256 process.</span></span> <span data-ttu-id="68222-168">Se l'hash risultante hello corrisponde hash hello archiviati in Azure AD, hello ha immesso la password corretta di hello ed è autenticato.</span><span class="sxs-lookup"><span data-stu-id="68222-168">If hello resulting hash matches hello hash stored in Azure AD, hello user has entered hello correct password and is authenticated.</span></span> 

>[!Note] 
><span data-ttu-id="68222-169">hash MD4 originale Hello non trasmessi tooAzure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-169">hello original MD4 hash is not transmitted tooAzure AD.</span></span> <span data-ttu-id="68222-170">Al contrario, viene trasmessa hello hash SHA256 dell'algoritmo hash MD4 hello originale.</span><span class="sxs-lookup"><span data-stu-id="68222-170">Instead, hello SHA256 hash of hello original MD4 hash is transmitted.</span></span> <span data-ttu-id="68222-171">Di conseguenza, se si ottiene l'hash hello archiviati in Azure AD, non è utilizzabile in un attacco pass-the-hash in locale.</span><span class="sxs-lookup"><span data-stu-id="68222-171">As a result, if hello hash stored in Azure AD is obtained, it cannot be used in an on-premises pass-the-hash attack.</span></span>

### <a name="how-password-synchronization-works-with-azure-active-directory-domain-services"></a><span data-ttu-id="68222-172">Funzionamento della sincronizzazione password con Azure Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="68222-172">How password synchronization works with Azure Active Directory Domain Services</span></span>
<span data-ttu-id="68222-173">È inoltre possibile utilizzare toosynchronize funzionalità sincronizzazione password di hello le password locali troppo[Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="68222-173">You can also use hello password synchronization feature toosynchronize your on-premises passwords too[Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="68222-174">In questo scenario, istanza di Azure Active Directory Domain Services hello autentica gli utenti nel cloud hello con tutti i metodi di hello disponibili nell'istanza di Active Directory locale.</span><span class="sxs-lookup"><span data-stu-id="68222-174">In this scenario, hello Azure Active Directory Domain Services instance authenticates your users in hello cloud with all hello methods available in your on-premises Active Directory instance.</span></span> <span data-ttu-id="68222-175">esperienza di Hello di questo scenario è simile toousing hello dello strumento di migrazione Active Directory (ADMT) in un ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="68222-175">hello experience of this scenario is similar toousing hello Active Directory Migration Tool (ADMT) in an on-premises environment.</span></span>

### <a name="security-considerations"></a><span data-ttu-id="68222-176">Considerazioni relative alla sicurezza</span><span class="sxs-lookup"><span data-stu-id="68222-176">Security considerations</span></span>
<span data-ttu-id="68222-177">Durante la sincronizzazione delle password, versione di hello testo della password non è esposto toohello funzionalità di sincronizzazione password, tooAzure Active Directory o i servizi associato hello.</span><span class="sxs-lookup"><span data-stu-id="68222-177">When synchronizing passwords, hello plain-text version of your password is not exposed toohello password synchronization feature, tooAzure AD, or any of hello associated services.</span></span>

<span data-ttu-id="68222-178">Autenticazione utente avviene tramite Azure AD invece che sull'istanza di Active Directory dell'organizzazione hello.</span><span class="sxs-lookup"><span data-stu-id="68222-178">User authentication takes place against Azure AD rather than against hello organization's own Active Directory instance.</span></span> <span data-ttu-id="68222-179">Se l'organizzazione ha problemi sui dati delle password in qualsiasi forma lasciando hello locale, si consiglia di fatto hello che hello dati password SHA256 archiviati in Azure AD, un hash dell'hash MD4 originale di hello - è notevolmente più sicura il contenuto archiviato in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-179">If your organization has concerns about password data in any form leaving hello premises, consider hello fact that hello SHA256 password data stored in Azure AD--a hash of hello original MD4 hash--is significantly more secure than what is stored in Active Directory.</span></span> <span data-ttu-id="68222-180">Inoltre, perché questo hash SHA256 non può essere decrittografato, non verranno nuovamente inclusi ambiente Active Directory dell'organizzazione toohello e presentato come una password utente validi in un attacco pass-the-hash.</span><span class="sxs-lookup"><span data-stu-id="68222-180">Further, because this SHA256 hash cannot be decrypted, it cannot be brought back toohello organization's Active Directory environment and presented as a valid user password in a pass-the-hash attack.</span></span>





### <a name="password-policy-considerations"></a><span data-ttu-id="68222-181">Considerazioni relative ai criteri password</span><span class="sxs-lookup"><span data-stu-id="68222-181">Password policy considerations</span></span>
<span data-ttu-id="68222-182">L'abilitazione della sincronizzazione password influisce su due tipi di criteri password:</span><span class="sxs-lookup"><span data-stu-id="68222-182">There are two types of password policies that are affected by enabling password synchronization:</span></span>

* <span data-ttu-id="68222-183">Criteri di complessità delle password</span><span class="sxs-lookup"><span data-stu-id="68222-183">Password complexity policy</span></span>
* <span data-ttu-id="68222-184">Criteri di scadenza delle password</span><span class="sxs-lookup"><span data-stu-id="68222-184">Password expiration policy</span></span>

#### <a name="password-complexity-policy"></a><span data-ttu-id="68222-185">Criteri di complessità delle password</span><span class="sxs-lookup"><span data-stu-id="68222-185">Password complexity policy</span></span>  
<span data-ttu-id="68222-186">Quando è abilitata la sincronizzazione delle password, criteri di complessità delle password hello nell'istanza di Active Directory locale sostituiscono i criteri di complessità nel cloud hello per gli utenti sincronizzati.</span><span class="sxs-lookup"><span data-stu-id="68222-186">When password synchronization is enabled, hello password complexity policies in your on-premises Active Directory instance override complexity policies in hello cloud for synchronized users.</span></span> <span data-ttu-id="68222-187">È possibile utilizzare tutte le password validi hello dal tooaccess istanza di Active Directory locale i servizi di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="68222-187">You can use all of hello valid passwords from your on-premises Active Directory instance tooaccess Azure AD services.</span></span>

> [!NOTE]
> <span data-ttu-id="68222-188">Le password degli utenti create direttamente in un cloud hello sono comunque criteri toopassword di oggetto come definito nel cloud hello.</span><span class="sxs-lookup"><span data-stu-id="68222-188">Passwords for users that are created directly in hello cloud are still subject toopassword policies as defined in hello cloud.</span></span>

#### <a name="password-expiration-policy"></a><span data-ttu-id="68222-189">Criteri di scadenza delle password</span><span class="sxs-lookup"><span data-stu-id="68222-189">Password expiration policy</span></span>  
<span data-ttu-id="68222-190">Se un utente è nell'ambito di hello della sincronizzazione delle password, password dell'account cloud hello viene impostata troppo*non scadano mai*.</span><span class="sxs-lookup"><span data-stu-id="68222-190">If a user is in hello scope of password synchronization, hello cloud account password is set too*Never Expire*.</span></span>

<span data-ttu-id="68222-191">È possibile continuare toosign in servizi cloud tooyour tramite una password sincronizzata scaduti nell'ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="68222-191">You can continue toosign in tooyour cloud services by using a synchronized password that is expired in your on-premises environment.</span></span> <span data-ttu-id="68222-192">La password cloud verrà aggiornata hello successivo si modifica la password hello in hello nell'ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="68222-192">Your cloud password is updated hello next time you change hello password in hello on-premises environment.</span></span>

#### <a name="account-expiration"></a><span data-ttu-id="68222-193">Scadenza dell'account</span><span class="sxs-lookup"><span data-stu-id="68222-193">Account expiration</span></span>
<span data-ttu-id="68222-194">Se l'organizzazione utilizza l'attributo accountExpires hello come parte della gestione degli account utente, tenere presente che questo attributo non è sincronizzata tooAzure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="68222-194">If your organization uses hello accountExpires attribute as part of user account management, be aware that this attribute is not synchronized tooAzure AD.</span></span> <span data-ttu-id="68222-195">Di conseguenza, un account Active Directory scaduto in un ambiente configurato per la sincronizzazione password continuerà a essere attivo in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="68222-195">As a result, an expired Active Directory account in an environment configured for password synchronization will still be active in Azure AD.</span></span> <span data-ttu-id="68222-196">È consigliabile che se l'account hello è scaduto, un'azione del flusso di lavoro deve attivare uno script di PowerShell che disabilita hello Azure AD account utente.</span><span class="sxs-lookup"><span data-stu-id="68222-196">We recommend that if hello account is expired, a workflow action should trigger a PowerShell script that disables hello user's Azure AD account.</span></span> <span data-ttu-id="68222-197">Al contrario, quando l'account di hello è attivata, istanza di Azure AD hello deve essere attivata.</span><span class="sxs-lookup"><span data-stu-id="68222-197">Conversely, when hello account is turned on, hello Azure AD instance should be turned on.</span></span>

### <a name="overwrite-synchronized-passwords"></a><span data-ttu-id="68222-198">Sovrascrivere password sincronizzate</span><span class="sxs-lookup"><span data-stu-id="68222-198">Overwrite synchronized passwords</span></span>
<span data-ttu-id="68222-199">Un amministratore può reimpostare manualmente la password usando Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="68222-199">An administrator can manually reset your password by using Windows PowerShell.</span></span>

<span data-ttu-id="68222-200">In questo caso, nuova password hello sostituisce la password sincronizzata e tutti i criteri password definiti nel cloud hello vengono applicati toohello nuova password.</span><span class="sxs-lookup"><span data-stu-id="68222-200">In this case, hello new password overrides your synchronized password, and all password policies defined in hello cloud are applied toohello new password.</span></span>

<span data-ttu-id="68222-201">Se si modifica la password locale nuovamente, nuova password hello viene sincronizzato toohello cloud e viene eseguito l'override di password hello aggiornato manualmente.</span><span class="sxs-lookup"><span data-stu-id="68222-201">If you change your on-premises password again, hello new password is synchronized toohello cloud, and it overrides hello manually updated password.</span></span>

<span data-ttu-id="68222-202">sincronizzazione Hello di una password non ha alcun impatto su hello Azure utente che ha effettuato l'accesso.</span><span class="sxs-lookup"><span data-stu-id="68222-202">hello synchronization of a password has no impact on hello Azure user who is signed in.</span></span> <span data-ttu-id="68222-203">La sessione corrente del servizio cloud non è interessata da una modifica della password sincronizzata che si verifica dopo avere effettuato nel servizio cloud tooa immediatamente in.</span><span class="sxs-lookup"><span data-stu-id="68222-203">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you're signed in tooa cloud service.</span></span> <span data-ttu-id="68222-204">KMSI estende la durata di hello questa differenza.</span><span class="sxs-lookup"><span data-stu-id="68222-204">KMSI extends hello duration of this difference.</span></span> <span data-ttu-id="68222-205">Quando il servizio cloud hello richiede tooauthenticate nuovamente, è necessario tooprovide la nuova password.</span><span class="sxs-lookup"><span data-stu-id="68222-205">When hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

### <a name="additional-advantages"></a><span data-ttu-id="68222-206">Vantaggi aggiuntivi</span><span class="sxs-lookup"><span data-stu-id="68222-206">Additional advantages</span></span>

- <span data-ttu-id="68222-207">In genere, la sincronizzazione delle password è tooimplement più semplice rispetto a un servizio federativo.</span><span class="sxs-lookup"><span data-stu-id="68222-207">Generally, password synchronization is simpler tooimplement than a federation service.</span></span> <span data-ttu-id="68222-208">Non richiede altri server ed Elimina dipendenza da un utente di tooauthenticate servizio federativo a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="68222-208">It doesn't require any additional servers, and eliminates dependence on a highly available federation service tooauthenticate users.</span></span> 
- <span data-ttu-id="68222-209">La sincronizzazione delle password può anche essere attivata in toofederation aggiunta.</span><span class="sxs-lookup"><span data-stu-id="68222-209">Password synchronization can also be enabled in addition toofederation.</span></span> <span data-ttu-id="68222-210">Può inoltre essere usata come fallback in caso di interruzione del servizio federativo.</span><span class="sxs-lookup"><span data-stu-id="68222-210">It may be used as a fallback if your federation service experiences an outage.</span></span>












## <a name="enable-password-synchronization"></a><span data-ttu-id="68222-211">Abilitare la sincronizzazione password</span><span class="sxs-lookup"><span data-stu-id="68222-211">Enable password synchronization</span></span>
<span data-ttu-id="68222-212">Quando si installa Azure AD Connect usando hello **impostazioni Express** opzione, la sincronizzazione delle password è abilitata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="68222-212">When you install Azure AD Connect by using hello **Express Settings** option, password synchronization is automatically enabled.</span></span> <span data-ttu-id="68222-213">Per altre informazioni dettagliate, vedere [Introduzione alle impostazioni rapide per Azure AD Connect](active-directory-aadconnect-get-started-express.md).</span><span class="sxs-lookup"><span data-stu-id="68222-213">For more details, see [Getting started with Azure AD Connect using express settings](active-directory-aadconnect-get-started-express.md).</span></span>

<span data-ttu-id="68222-214">Se si utilizzano le impostazioni personalizzate quando si installa Azure AD Connect, la sincronizzazione delle password è disponibile nella pagina di accesso utente hello.</span><span class="sxs-lookup"><span data-stu-id="68222-214">If you use custom settings when you install Azure AD Connect, password synchronization is available on hello user sign-in page.</span></span> <span data-ttu-id="68222-215">Per altre informazioni dettagliate, vedere [Installazione personalizzata di Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span><span class="sxs-lookup"><span data-stu-id="68222-215">For more details, see [Custom installation of Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span></span>

![Abilitazione della sincronizzazione password](./media/active-directory-aadconnectsync-implement-password-synchronization/usersignin.png)

### <a name="password-synchronization-and-fips"></a><span data-ttu-id="68222-217">Sincronizzazione password e FIPS</span><span class="sxs-lookup"><span data-stu-id="68222-217">Password synchronization and FIPS</span></span>
<span data-ttu-id="68222-218">Se il server è stato bloccato in base tooFederal Information Processing Standard (FIPS), MD5 è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="68222-218">If your server has been locked down according tooFederal Information Processing Standard (FIPS), then MD5 is disabled.</span></span>

<span data-ttu-id="68222-219">**tooenable MD5 per la sincronizzazione delle password, eseguire hello alla procedura seguente:**</span><span class="sxs-lookup"><span data-stu-id="68222-219">**tooenable MD5 for password synchronization, perform hello following steps:**</span></span>

1. <span data-ttu-id="68222-220">Passare too%programfiles%\Azure AD Sync\Bin.</span><span class="sxs-lookup"><span data-stu-id="68222-220">Go too%programfiles%\Azure AD Sync\Bin.</span></span>
2. <span data-ttu-id="68222-221">Aprire miiserver.exe.config.</span><span class="sxs-lookup"><span data-stu-id="68222-221">Open miiserver.exe.config.</span></span>
3. <span data-ttu-id="68222-222">Passare toohello configuration/runtime nodo alla fine hello file hello.</span><span class="sxs-lookup"><span data-stu-id="68222-222">Go toohello configuration/runtime node at hello end of hello file.</span></span>
4. <span data-ttu-id="68222-223">Aggiungere hello nodo seguente:`<enforceFIPSPolicy enabled="false"/>`</span><span class="sxs-lookup"><span data-stu-id="68222-223">Add hello following node: `<enforceFIPSPolicy enabled="false"/>`</span></span>
5. <span data-ttu-id="68222-224">Salvare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="68222-224">Save your changes.</span></span>

<span data-ttu-id="68222-225">Come riferimento, il frammento di codice dovrà essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="68222-225">For reference, this snippet is what it should look like:</span></span>

```
    <configuration>
        <runtime>
            <enforceFIPSPolicy enabled="false"/>
        </runtime>
    </configuration>
```

<span data-ttu-id="68222-226">Per informazioni sulla sicurezza e su FIPS, vedere [AAD Password Sync, encryption and FIPS compliance](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/) (Sincronizzazione password, crittografia e conformità con FIPS di Azure AD).</span><span class="sxs-lookup"><span data-stu-id="68222-226">For information about security and FIPS, see [AAD Password Sync, encryption and FIPS compliance](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span></span>

## <a name="troubleshoot-password-synchronization"></a><span data-ttu-id="68222-227">Risolvere i problemi di sincronizzazione password</span><span class="sxs-lookup"><span data-stu-id="68222-227">Troubleshoot password synchronization</span></span>
<span data-ttu-id="68222-228">In caso di problemi di sincronizzazione password, vedere [Risolvere i problemi di sincronizzazione delle password](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="68222-228">If you have problems with password synchronization, see [Troubleshoot password synchronization](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="68222-229">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="68222-229">Next steps</span></span>
* [<span data-ttu-id="68222-230">Servizio di sincronizzazione Azure AD Connect: personalizzazione delle opzioni di sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="68222-230">Azure AD Connect sync: Customizing synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="68222-231">Integrazione delle identità locali con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="68222-231">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
