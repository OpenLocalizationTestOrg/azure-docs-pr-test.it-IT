---
title: pianificazione di applicazione di patch aaaConfigure del sistema operativo per i cluster HDInsight basati su Linux - Azure | Documenti Microsoft
description: Informazioni su come cluster di pianificazione di applicazione di patch tooconfigure del sistema operativo per HDInsight basati su Linux.
services: hdinsight
documentationcenter: 
author: bprakash
manager: asadk
editor: bprakash
ms.assetid: 
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 03/21/2017
ms.author: bhanupr
ms.openlocfilehash: 1598d64e594d7e8a68573fc63dd86051a5a9d025
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="os-patching-for-hdinsight"></a><span data-ttu-id="5dcf3-103">Applicazione di patch del sistema operativo per HDInsight</span><span class="sxs-lookup"><span data-stu-id="5dcf3-103">OS patching for HDInsight</span></span> 
<span data-ttu-id="5dcf3-104">Come un servizio gestito di Hadoop, HDInsight si occupa del processo di hello del sistema operativo di hello macchine virtuali sottostanti usate dai cluster di HDInsight.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-104">As a managed Hadoop service, HDInsight takes care of patching hello OS of hello underlying VMs used by HDInsight clusters.</span></span> <span data-ttu-id="5dcf3-105">A partire dal 1 agosto 2016, sono stati modificati criteri applicazione di patch del sistema operativo guest di hello per i cluster HDInsight basati su Linux (versione 3.4 o successiva).</span><span class="sxs-lookup"><span data-stu-id="5dcf3-105">As of August 1, 2016, we have changed hello guest OS patching policy for Linux-based HDInsight clusters (version 3.4 or greater).</span></span> <span data-ttu-id="5dcf3-106">obiettivo di Hello del nuovo criterio di hello è toosignificantly ridurre il numero di riavvii di hello toopatching scadenza.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-106">hello goal of hello new policy is toosignificantly reduce hello number of reboots due toopatching.</span></span> <span data-ttu-id="5dcf3-107">il nuovo criterio di Hello continuerà toopatch virtuali (VM) in Linux cluster ogni lunedì o giovedì a partire da Mezzanotte ora UTC in un termineranno tra i nodi del cluster specificato.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-107">hello new policy will continue toopatch virtual machines (VMs) on Linux clusters every Monday or Thursday starting at 12AM UTC in a staggered fashion across nodes in any given cluster.</span></span> <span data-ttu-id="5dcf3-108">Tuttavia, tutte le VM determinata riavvierà solo al massimo una volta ogni 30 giorni a causa del sistema operativo tooguest l'applicazione di patch.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-108">However, any given VM will only reboot at most once every 30 days due tooguest OS patching.</span></span> <span data-ttu-id="5dcf3-109">Inoltre, il primo riavvio hello per un cluster appena creato non si verificherà prima di 30 giorni dalla data di creazione di cluster hello.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-109">In addition, hello first reboot for a newly created cluster will not happen sooner than 30 days from hello cluster creation date.</span></span> <span data-ttu-id="5dcf3-110">Patch è efficace quando le macchine virtuali hello vengono riavviate.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-110">Patches will be effective once hello VMs are rebooted.</span></span>

## <a name="how-tooconfigure-hello-os-patching-schedule-for-linux-based-hdinsight-clusters"></a><span data-ttu-id="5dcf3-111">Come tooconfigure hello pianificazione patch del sistema operativo per i cluster HDInsight basati su Linux</span><span class="sxs-lookup"><span data-stu-id="5dcf3-111">How tooconfigure hello OS patching schedule for Linux-based HDInsight clusters</span></span>
<span data-ttu-id="5dcf3-112">macchine virtuali Hello in un cluster HDInsight è necessario toobe riavviato in alcuni casi, in modo che sia possono installare le patch di sicurezza importante.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-112">hello virtual machines in an HDInsight cluster need toobe rebooted occasionally so that important security patches can be installed.</span></span> <span data-ttu-id="5dcf3-113">A partire dal 1 agosto 2016, nuovi cluster HDInsight basati su Linux (versione 3.4 o versioni successive) vengono riavviati utilizzando hello seguente pianificazione:</span><span class="sxs-lookup"><span data-stu-id="5dcf3-113">As of August 1, 2016, new Linux-based HDInsight clusters (version 3.4 or greater,) are rebooted using hello following schedule:</span></span>

1. <span data-ttu-id="5dcf3-114">Una macchina virtuale in cluster hello solo possibile riavviare le patch al massimo una volta all'interno di un periodo di 30 giorni.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-114">A virtual machine in hello cluster can only reboot for patches at most, once within a 30-day period.</span></span>
2. <span data-ttu-id="5dcf3-115">il riavvio di Hello si verifica a partire da Mezzanotte UTC.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-115">hello reboot occurs starting at 12AM UTC.</span></span>
3. <span data-ttu-id="5dcf3-116">il processo di riavvio Hello avviene a fasi su macchine virtuali nel cluster hello, in modo cluster hello è ancora disponibile durante il processo di riavvio hello.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-116">hello reboot process is staggered across virtual machines in hello cluster, so hello cluster is still available during hello reboot process.</span></span>
4. <span data-ttu-id="5dcf3-117">il primo riavvio Hello per un cluster appena creato non verrà eseguito prima di 30 giorni dopo la data di creazione cluster hello.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-117">hello first reboot for a newly created cluster will not happen sooner than 30 days after hello cluster creation date.</span></span>

<span data-ttu-id="5dcf3-118">Utilizzando l'azione di script hello descritta in questo articolo, è possibile modificare pianificazione patch hello del sistema operativo come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="5dcf3-118">Using hello script action described in this article, you can modify hello OS patching schedule as follows:</span></span>
1. <span data-ttu-id="5dcf3-119">Abilitare o disabilitare il riavvio automatico</span><span class="sxs-lookup"><span data-stu-id="5dcf3-119">Enable or disable automatic reboots</span></span>
2. <span data-ttu-id="5dcf3-120">Frequenza di hello set di riavvio (giorni tra i riavvii)</span><span class="sxs-lookup"><span data-stu-id="5dcf3-120">Set hello frequency of reboots (days between reboots)</span></span>
3. <span data-ttu-id="5dcf3-121">Impostare hello giorno della settimana hello quando si verifica un riavvio</span><span class="sxs-lookup"><span data-stu-id="5dcf3-121">Set hello day of hello week when a reboot occurs</span></span>

> [!NOTE]
> <span data-ttu-id="5dcf3-122">Questa azione di script funziona solo con i cluster HDInsight basati su Linux creati dopo il 1° agosto 2016.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-122">This script action will only work with Linux-based HDInsight clusters created after August 1st, 2016.</span></span> <span data-ttu-id="5dcf3-123">I patch verranno applicati solo al riavvio delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-123">Patches will be effective only when VMs are rebooted.</span></span> 
>

## <a name="how-toouse-hello-script"></a><span data-ttu-id="5dcf3-124">Come toouse hello script</span><span class="sxs-lookup"><span data-stu-id="5dcf3-124">How toouse hello script</span></span> 

<span data-ttu-id="5dcf3-125">Quando questo script richiede hello le seguenti informazioni:</span><span class="sxs-lookup"><span data-stu-id="5dcf3-125">When using this script requires hello following information:</span></span>
1. <span data-ttu-id="5dcf3-126">percorso dello script Hello: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight utilizza toofind questo URI ed eseguire script hello in tutte le macchine virtuali hello cluster hello.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-126">hello script location: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight uses this URI toofind and run hello script on all hello virtual machines in hello cluster.</span></span>
  
2. <span data-ttu-id="5dcf3-127">tipi di nodo del cluster è applicare lo script hello Hello: nodo head, workernode, zookeeper.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-127">hello cluster node types that hello script is applied to: headnode, workernode, zookeeper.</span></span> <span data-ttu-id="5dcf3-128">Questo script deve essere applicato tooall i tipi di nodo nel cluster hello.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-128">This script must be applied tooall node types in hello cluster.</span></span> <span data-ttu-id="5dcf3-129">Se non è il tipo di nodo tooa applicati, quindi hello virtuale macchine per quel tipo di nodo continueranno pianificazione delle patch di toouse hello precedente.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-129">If it is not applied tooa node type, then hello virtual machines for that node type will continue toouse hello previous patching schedule.</span></span>


3.  <span data-ttu-id="5dcf3-130">Parametro: Questo script accetta tre parametri numerici:</span><span class="sxs-lookup"><span data-stu-id="5dcf3-130">Parameter: This script accepts three numeric parameters:</span></span>

    | <span data-ttu-id="5dcf3-131">Parametro</span><span class="sxs-lookup"><span data-stu-id="5dcf3-131">Parameter</span></span> | <span data-ttu-id="5dcf3-132">Definizione</span><span class="sxs-lookup"><span data-stu-id="5dcf3-132">Definition</span></span> |
    | --- | --- |
    | <span data-ttu-id="5dcf3-133">Abilitare/disabilitare il riavvio automatico</span><span class="sxs-lookup"><span data-stu-id="5dcf3-133">Enable/disable automatic reboots</span></span> |<span data-ttu-id="5dcf3-134">0 o 1.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-134">0 or 1.</span></span> <span data-ttu-id="5dcf3-135">Il valore 0 disabilita il riavvio automatico, mentre 1 consente il riavvio automatico.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-135">A value of 0 disables automatic reboots while 1 enables automatic reboots.</span></span> |
    | <span data-ttu-id="5dcf3-136">Frequenza</span><span class="sxs-lookup"><span data-stu-id="5dcf3-136">Frequency</span></span> |<span data-ttu-id="5dcf3-137">too90 7 (inclusivo).</span><span class="sxs-lookup"><span data-stu-id="5dcf3-137">7 too90 (inclusive).</span></span> <span data-ttu-id="5dcf3-138">numero di Hello di toowait giorni prima di riavviare le macchine virtuali di hello per le patch che richiedono un riavvio.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-138">hello number of days toowait before rebooting hello virtual machines for patches that require a reboot.</span></span> |
    | <span data-ttu-id="5dcf3-139">Giorno della settimana</span><span class="sxs-lookup"><span data-stu-id="5dcf3-139">Day of week</span></span> |<span data-ttu-id="5dcf3-140">1 too7 (inclusivo).</span><span class="sxs-lookup"><span data-stu-id="5dcf3-140">1 too7 (inclusive).</span></span> <span data-ttu-id="5dcf3-141">Il valore 1 indica il riavvio di hello deve essere eseguiti su un lunedì e 7 indica un esempio di Sunday.For, utilizzando i parametri di 1 60 2 risultati in automatico viene riavviato ogni 60 giorni (al massimo) martedì.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-141">A value of 1 indicates hello reboot should occur on a Monday, and 7 indicates a Sunday.For example, using parameters of 1 60 2 results in automatic reboots every 60 days (at most) on Tuesday.</span></span> |
    | <span data-ttu-id="5dcf3-142">Persistenza</span><span class="sxs-lookup"><span data-stu-id="5dcf3-142">Persistence</span></span> |<span data-ttu-id="5dcf3-143">Quando l'applicazione di un cluster di script azione tooan esistente, è possibile contrassegnare script hello come persistente.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-143">When applying a script action tooan existing cluster, you can mark hello script as persisted.</span></span> <span data-ttu-id="5dcf3-144">Script persistenti vengono applicate quando workernodes nuovo vengono aggiunti il cluster toohello tramite operazioni di ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-144">Persisted scripts are applied when new workernodes are added toohello cluster through scaling operations.</span></span> |

> [!NOTE]
> <span data-ttu-id="5dcf3-145">È necessario contrassegnare questo script come persistente quando l'applicazione cluster esistente tooan.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-145">You must mark this script as persisted when applying tooan existing cluster.</span></span> <span data-ttu-id="5dcf3-146">In caso contrario, eventuali nuovi nodi creati tramite operazioni di ridimensionamento utilizzerà l'applicazione di patch pianificazione predefinito di hello.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-146">Otherwise, any new nodes created through scaling      operations will use hello default patching schedule.</span></span>
<span data-ttu-id="5dcf3-147">Se si applica script hello come parte del processo di creazione cluster di hello, viene mantenuta automaticamente.</span><span class="sxs-lookup"><span data-stu-id="5dcf3-147">If you apply hello script as part of hello cluster creation process, it is persisted automatically.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="5dcf3-148">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="5dcf3-148">Next steps</span></span>

<span data-ttu-id="5dcf3-149">Per passaggi specifici sull'utilizzo di azione script hello, vedere le sezioni in hello seguenti hello [HDInsight basati su personalizzare Linuz cluster utilizzando l'azione script](hdinsight-hadoop-customize-cluster-linux.md):</span><span class="sxs-lookup"><span data-stu-id="5dcf3-149">For specific steps on using hello script action, see hello following sections in hello [Customize Linuz-based HDInsight clusters using script action](hdinsight-hadoop-customize-cluster-linux.md):</span></span>

* [<span data-ttu-id="5dcf3-150">Usare un'azione script durante la creazione di un cluster</span><span class="sxs-lookup"><span data-stu-id="5dcf3-150">Use a script action during cluster creation</span></span>](hdinsight-hadoop-customize-cluster-linux.md#use-a-script-action-during-cluster-creation)
* [<span data-ttu-id="5dcf3-151">Applicare un tooa azione script in esecuzione del cluster</span><span class="sxs-lookup"><span data-stu-id="5dcf3-151">Apply a script action tooa running cluster</span></span>](hdinsight-hadoop-customize-cluster-linux.md#apply-a-script-action-to-a-running-cluster)
