---
title: 'Database SQL: Informazioni sulle DTU | Documentazione Microsoft'
description: "Informazioni sulle unità di transazione di database SQL di Azure."
keywords: opzioni di database,prestazioni del database
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: CarlRabeler
ms.assetid: 89e3e9ce-2eeb-4949-b40f-6fc3bf520538
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: NA
ms.date: 04/13/2017
ms.author: carlrab
ms.openlocfilehash: ba1fe580b32826259edaf6c8dc124faaf5b3d234
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="explaining-database-transaction-units-dtus-and-elastic-database-transaction-units-edtus"></a><span data-ttu-id="2cc13-105">Unità di transazione di database (DTU) e unità di transazione di database elastico (eDTU)</span><span class="sxs-lookup"><span data-stu-id="2cc13-105">Explaining Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="2cc13-106">In questo articolo viene illustrato l'unità transazione Database (Dtu) e unità di transazione di Database elastico (Edtu) e ciò che accade quando si raggiunge hello Dtu o il numero di Edtu massimo.</span><span class="sxs-lookup"><span data-stu-id="2cc13-106">This article explains Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs) and what happens when you hit hello maximum DTUs or eDTUs.</span></span>  

## <a name="what-are-database-transaction-units-dtus"></a><span data-ttu-id="2cc13-107">Informazioni sulle unità di transazione di database (DTU)</span><span class="sxs-lookup"><span data-stu-id="2cc13-107">What are Database Transaction Units (DTUs)</span></span>
<span data-ttu-id="2cc13-108">Per un singolo database SQL di Azure a un livello di prestazioni specifici all'interno di un [livello di servizio](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft garantisce un certo livello di risorse per il database (indipendente da qualsiasi altro database in hello cloud di Azure) e fornendo un stimabile livello di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="2cc13-108">For a single Azure SQL database at a specific performance level within a [service tier](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft guarantees a certain level of resources for that database (independent of any other database in hello Azure cloud) and providing a predictable level of performance.</span></span> <span data-ttu-id="2cc13-109">Questa quantità di risorse viene calcolata come numero di unità di transazione di database o DTU ed è una misura combinata di CPU, memoria, I/O (I/O di dati e log delle transazioni).</span><span class="sxs-lookup"><span data-stu-id="2cc13-109">This amount of resources is calculated as a number of Database Transaction Units or DTUs, and is a blended measure of CPU, memory, I/O (data and transaction log I/O).</span></span> <span data-ttu-id="2cc13-110">rapporto Hello tra queste risorse è stato originariamente stabilito da un [carico di lavoro OLTP benchmark](sql-database-benchmark-overview.md) progettato toobe tipico di carichi di lavoro OLTP reali.</span><span class="sxs-lookup"><span data-stu-id="2cc13-110">hello ratio amongst these resources was originally determined by an [OLTP benchmark workload](sql-database-benchmark-overview.md) designed toobe typical of real-world OLTP workloads.</span></span> <span data-ttu-id="2cc13-111">Quando il carico di lavoro supera hello di uno qualsiasi di queste risorse, la velocità effettiva è limitata: risultante in più lenti i timeout e le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="2cc13-111">When your workload exceeds hello amount of any of these resources, your throughput is throttled - resulting in slower performance and timeouts.</span></span> <span data-ttu-id="2cc13-112">risorse Hello usate dal carico di lavoro non influiscono sull'hello risorse tooother disponibili i database SQL di hello cloud di Azure e risorse hello utilizzata da altri carichi di lavoro non influiscono sul database SQL di hello risorse tooyour disponibili.</span><span class="sxs-lookup"><span data-stu-id="2cc13-112">hello resources used by your workload do not impact hello resources available tooother SQL databases in hello Azure cloud, and hello resource used by other workloads do not impact hello resources available tooyour SQL database.</span></span>

![rettangolo di selezione](./media/sql-database-what-is-a-dtu/bounding-box.png)

<span data-ttu-id="2cc13-114">Dtu sono estremamente utili per la relativa quantità hello conoscenza delle risorse tra i livelli di servizio e il database SQL di Azure in diversi livelli di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="2cc13-114">DTUs are most useful for understanding hello relative amount of resources between Azure SQL Databases at different performance levels and service tiers.</span></span> <span data-ttu-id="2cc13-115">Ad esempio, raddoppiando hello Dtu per aumentare il livello di prestazioni hello di un database equivale set hello toodoubling del database delle risorse toothat disponibili.</span><span class="sxs-lookup"><span data-stu-id="2cc13-115">For example, doubling hello DTUs by increasing hello performance level of a database equates toodoubling hello set of resource available toothat database.</span></span> <span data-ttu-id="2cc13-116">Ad esempio, un database Premium P11 con 1750 DTU fornisce 350 volte più potenza di calcolo DTU di un database Basic con 5 DTU.</span><span class="sxs-lookup"><span data-stu-id="2cc13-116">For example, a Premium P11 database with 1750 DTUs provides 350x more DTU compute power than a Basic database with 5 DTUs.</span></span>  

<span data-ttu-id="2cc13-117">toogain approfondita il consumo di risorse (DTU) hello del carico di lavoro, utilizzare [informazioni dettagliate prestazioni Query del Database SQL Azure](sql-database-query-performance.md) per:</span><span class="sxs-lookup"><span data-stu-id="2cc13-117">toogain deeper insight into hello resource (DTU) consumption of your workload, use [Azure SQL Database Query Performance Insight](sql-database-query-performance.md) to:</span></span>

- <span data-ttu-id="2cc13-118">Identificare le query top hello dal conteggio di durata/CPU/esecuzione che potenzialmente può essere ottimizzato per migliorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="2cc13-118">Identify hello top queries by CPU/Duration/Execution count that can potentially be tuned for improved performance.</span></span> <span data-ttu-id="2cc13-119">Ad esempio, una query con utilizzo intensivo dei / o può risultare vantaggioso utilizzare hello di [tecniche di ottimizzazione in memoria](sql-database-in-memory.md) toomake un migliore utilizzo della memoria disponibile di hello in un determinato livello e le prestazioni livello di servizio.</span><span class="sxs-lookup"><span data-stu-id="2cc13-119">For example, an I/O intensive query might benefit from hello use of [in-memory optimization techniques](sql-database-in-memory.md) toomake better use of hello available memory at a certain service tier and performance level.</span></span>
- <span data-ttu-id="2cc13-120">Drill-down nei dettagli hello di una query, visualizzare il testo e la cronologia di utilizzo delle risorse.</span><span class="sxs-lookup"><span data-stu-id="2cc13-120">Drill down into hello details of a query, view its text and history of resource utilization.</span></span>
- <span data-ttu-id="2cc13-121">Accedere alle raccomandazioni relative all'ottimizzazione delle prestazioni che descrivono le azioni eseguite da [Advisor per database SQL](sql-database-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="2cc13-121">Access performance tuning recommendations that show actions performed by [SQL Database Advisor](sql-database-advisor.md).</span></span>

<span data-ttu-id="2cc13-122">È possibile [modificare i livelli di servizio](sql-database-service-tiers.md) in qualsiasi momento con applicazione tooyour tempi di inattività minimi (in genere una media di meno di quattro secondi).</span><span class="sxs-lookup"><span data-stu-id="2cc13-122">You can [change service tiers](sql-database-service-tiers.md) at any time with minimal downtime tooyour application (generally averaging under four seconds).</span></span> <span data-ttu-id="2cc13-123">Per molte aziende e applicazioni, da toocreate in grado di database e comporre prestazioni verso l'alto o verso il basso su richiesta, è sufficiente, specialmente se i modelli di utilizzo sono relativamente prevedibili.</span><span class="sxs-lookup"><span data-stu-id="2cc13-123">For many businesses and apps, being able toocreate databases and dial performance up or down on demand is enough, especially if usage patterns are relatively predictable.</span></span> <span data-ttu-id="2cc13-124">Ma se si dispone di modelli di utilizzo imprevisti, può risultare toomanage rigido costi e il modello aziendale.</span><span class="sxs-lookup"><span data-stu-id="2cc13-124">But if you have unpredictable usage patterns, it can make it hard toomanage costs and your business model.</span></span> <span data-ttu-id="2cc13-125">Per questo scenario, si utilizza un pool elastico con un determinato numero di Edtu che vengono condivisi tra più database nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="2cc13-125">For this scenario, you use an elastic pool with a certain number of eDTUs that are shared among multiple database in hello pool.</span></span>

![Introduzione tooSQL Database: Dtu di database dal livello e un livello di singolo](./media/sql-database-what-is-a-dtu/single_db_dtus.png)

## <a name="what-are-elastic-database-transaction-units-edtus"></a><span data-ttu-id="2cc13-127">Informazioni sulle unità di transazione di database elastico (eDTU)</span><span class="sxs-lookup"><span data-stu-id="2cc13-127">What are elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="2cc13-128">Invece di fornire un set dedicato di risorse (Dtu) tooa Database SQL che è sempre disponibile indipendentemente se non necessario, è possibile posizionare i database in un [pool elastico](sql-database-elastic-pool.md) in un server di Database SQL che condivide un pool di risorse tra tali database.</span><span class="sxs-lookup"><span data-stu-id="2cc13-128">Rather than provide a dedicated set of resources (DTUs) tooa SQL Database that is always available regardless of whether needed not, you can place databases into an [elastic pool](sql-database-elastic-pool.md) on a SQL Database server that shares a pool of resources among those database.</span></span> <span data-ttu-id="2cc13-129">risorse di Hello condiviso in un pool elastico misurato dall'unità di transazione di Database elastico o di Edtu.</span><span class="sxs-lookup"><span data-stu-id="2cc13-129">hello shared resources in an elastic pool measured by elastic Database Transaction Units or eDTUs.</span></span> <span data-ttu-id="2cc13-130">Pool elastici forniscono una semplice soluzione economicamente vantaggiosa obiettivi di prestazioni hello toomanage per più database con ampiamente diversi e modelli di utilizzo imprevisti.</span><span class="sxs-lookup"><span data-stu-id="2cc13-130">Elastic pools provide a simple cost effective solution toomanage hello performance goals for multiple databases that have widely varying and unpredictable usage patterns.</span></span> <span data-ttu-id="2cc13-131">In un pool elastico, è possibile garantire che nessun uno database utilizza tutte le risorse di hello in pool hello e che una quantità minima di risorse è sempre disponibile tooa database in un pool elastico.</span><span class="sxs-lookup"><span data-stu-id="2cc13-131">In an elastic pool, you can guarantee that no one database uses all of hello resources in hello pool and also that a minimum amount of resources is always available tooa database in an elastic pool.</span></span> <span data-ttu-id="2cc13-132">Per altre informazioni, vedere [Pool elastici](sql-database-elastic-pool.md).</span><span class="sxs-lookup"><span data-stu-id="2cc13-132">See  [elastic pools](sql-database-elastic-pool.md) for more information.</span></span>

![Introduzione tooSQL Database: numero di Edtu dal livello e un livello](./media/sql-database-what-is-a-dtu/sqldb_elastic_pools.png)

<span data-ttu-id="2cc13-134">A un pool viene assegnato un numero definito di eDTU per un prezzo prestabilito.</span><span class="sxs-lookup"><span data-stu-id="2cc13-134">A pool is given a set number of eDTUs, for a set price.</span></span> <span data-ttu-id="2cc13-135">All'interno di pool elastico hello, singoli database figurano hello flessibilità tooauto scala all'interno dei limiti di hello configurato.</span><span class="sxs-lookup"><span data-stu-id="2cc13-135">Within hello elastic pool, individual databases are given hello flexibility tooauto-scale within hello configured boundaries.</span></span> <span data-ttu-id="2cc13-136">Sovraccarico, un database può utilizzare più Edtu toomeet richiesta Sebbene database carichi chiaro utilizzano minore toohello punto che i database in condizioni di carico non utilizzano alcun Edtu.</span><span class="sxs-lookup"><span data-stu-id="2cc13-136">Under heavy load, a database can consume more eDTUs toomeet demand while databases under light loads consume less, up toohello point that databases under no load consume no eDTUs.</span></span> <span data-ttu-id="2cc13-137">Eseguendo il provisioning di risorse per l'intero pool hello, anziché per ogni database, le attività di gestione sono state semplificate e si dispone di un budget prevedibile per il pool di hello.</span><span class="sxs-lookup"><span data-stu-id="2cc13-137">By provisioning resources for hello entire pool, rather than per database, management tasks are simplified and you have a predictable budget for hello pool.</span></span>

<span data-ttu-id="2cc13-138">È possibile aggiungere ulteriori Edtu tooan pool esistente senza tempi di inattività del database e senza alcun impatto database hello in pool hello.</span><span class="sxs-lookup"><span data-stu-id="2cc13-138">Additional eDTUs can be added tooan existing pool with no database downtime and with no impact on hello databases in hello pool.</span></span> <span data-ttu-id="2cc13-139">Analogamente, se le eDTU aggiuntive non sono più necessarie, è possibile rimuoverle da un pool esistente in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="2cc13-139">Similarly, if extra eDTUs are no longer needed, they can be removed from an existing pool at any point in time.</span></span> <span data-ttu-id="2cc13-140">È possibile aggiungere o sottrarre pool toohello database o l'importo di hello del limite della finestra di edtu che un database è possibile utilizzare in sovraccarico tooreserve Edtu per gli altri database.</span><span class="sxs-lookup"><span data-stu-id="2cc13-140">You can add or subtract databases toohello pool, or limit hello amount of eDTUs a database can use under heavy load tooreserve eDTUs for other databases.</span></span> <span data-ttu-id="2cc13-141">Se un database è prevedibile utilizzi risorse, è possibile spostarlo fuori pool hello e configurarlo come un unico database con una certa quantità di risorse necessarie.</span><span class="sxs-lookup"><span data-stu-id="2cc13-141">If a database is predictably under-utilizing resources, you can move it out of hello pool and configure it as a single database with predictable amount of resources it requires.</span></span>

## <a name="how-can-i-determine-hello-number-of-dtus-needed-by-my-workload"></a><span data-ttu-id="2cc13-142">Come è possibile determinare il numero di hello di Dtu necessari per il carico di lavoro?</span><span class="sxs-lookup"><span data-stu-id="2cc13-142">How can I determine hello number of DTUs needed by my workload?</span></span>
<span data-ttu-id="2cc13-143">Se si vuole toomigrate una locale esistente o tooAzure del carico di lavoro di macchina virtuale SQL Server Database SQL, è possibile utilizzare hello [DTU Calcolatrice](http://dtucalculator.azurewebsites.net/) numero hello tooapproximate di Dtu necessita.</span><span class="sxs-lookup"><span data-stu-id="2cc13-143">If you are looking toomigrate an existing on-premises or SQL Server virtual machine workload tooAzure SQL Database, you can use hello [DTU Calculator](http://dtucalculator.azurewebsites.net/) tooapproximate hello number of DTUs needed.</span></span> <span data-ttu-id="2cc13-144">Carico di lavoro un Database SQL di Azure esistente, è possibile utilizzare [informazioni dettagliate prestazioni Query di Database SQL](sql-database-query-performance.md) toounderstand il database resource consumo (Dtu) tooget approfondita come toooptimize il carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="2cc13-144">For an existing Azure SQL Database workload, you can use [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your database resource consumption (DTUs) tooget deeper insight into how toooptimize your workload.</span></span> <span data-ttu-id="2cc13-145">È inoltre possibile utilizzare hello [statistiche sulle risorse sys.dm_db_](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget hello consumo informazioni sulle risorse per hello ultima ora.</span><span class="sxs-lookup"><span data-stu-id="2cc13-145">You can also use hello [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget hello resource consumption information for hello last one hour.</span></span> <span data-ttu-id="2cc13-146">In alternativa, hello vista del catalogo [resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) può anche essere sottoposti a query tooget hello stessi dati per hello ultimi 14 giorni, sebbene con una fedeltà inferiore dei valori medi di cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="2cc13-146">Alternatively, hello catalog view [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) can also be queried tooget hello same data for hello last 14 days, although at a lower fidelity of five-minute averages.</span></span>

## <a name="how-do-i-know-if-i-could-benefit-from-an-elastic-pool-of-resources"></a><span data-ttu-id="2cc13-147">Come è possibile sapere se un pool elastico di risorse può essere utile?</span><span class="sxs-lookup"><span data-stu-id="2cc13-147">How do I know if I could benefit from an elastic pool of resources?</span></span>
<span data-ttu-id="2cc13-148">I pool sono adatti per un numero elevato di database con modelli di utilizzo specifici.</span><span class="sxs-lookup"><span data-stu-id="2cc13-148">Pools are suited for a large number of databases with specific utilization patterns.</span></span> <span data-ttu-id="2cc13-149">Per un determinato database, questo modello è caratterizzato da un utilizzo medio ridotto con picchi di utilizzo relativamente poco frequenti.</span><span class="sxs-lookup"><span data-stu-id="2cc13-149">For a given database, this pattern is characterized by low average utilization with relatively infrequent utilization spikes.</span></span> <span data-ttu-id="2cc13-150">Database SQL viene valutata sull'utilizzo delle risorse cronologico hello dei database in un server di Database SQL esistente automaticamente e consiglia configurazione pool appropriato hello in hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="2cc13-150">SQL Database automatically evaluates hello historical resource usage of databases in an existing SQL Database server and recommends hello appropriate pool configuration in hello Azure portal.</span></span> <span data-ttu-id="2cc13-151">Per altre informazioni, vedere [Quando usare un pool elastico](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="2cc13-151">For more information, see [when should an elastic pool be used?](sql-database-elastic-pool.md)</span></span>

## <a name="what-happens-when-i-hit-my-maximum-dtus"></a><span data-ttu-id="2cc13-152">Cosa succede se si raggiunge il numero massimo di DTU</span><span class="sxs-lookup"><span data-stu-id="2cc13-152">What happens when I hit my maximum DTUs</span></span>
<span data-ttu-id="2cc13-153">Livelli di prestazioni sono calibrati e hello tooprovide gestita necessarie risorse toorun il carico di lavoro database i limiti di toohello max consentito per il livello/prestazioni a livello di servizio selezionato.</span><span class="sxs-lookup"><span data-stu-id="2cc13-153">Performance levels are calibrated and governed tooprovide hello needed resources toorun your database workload up toohello max limits allowed for your selected service tier/performance level.</span></span> <span data-ttu-id="2cc13-154">Se il carico di lavoro sta superando i limiti di hello in uno dei limiti CPU/dati IO/Log IO, continuare risorse hello tooreceive livello hello massimo consentito, ma si è probabilmente toosee aumentato latenze per le query.</span><span class="sxs-lookup"><span data-stu-id="2cc13-154">If your workload is hitting hello limits in one of CPU/Data IO/Log IO limits, you continue tooreceive hello resources at hello maximum allowed level, but you are likely toosee increased latencies for your queries.</span></span> <span data-ttu-id="2cc13-155">Questi limiti non generano errori, ma piuttosto un rallentamento del carico di lavoro di hello, a meno che il rallentamento hello più grave in modo che le query inizia temporizzazione. Se si raggiungono i limiti relativi al numero massimo di richieste o di sessioni utente simultanee (thread di lavoro), verranno visualizzati errori espliciti.</span><span class="sxs-lookup"><span data-stu-id="2cc13-155">These limits do not result in any errors, but rather a slowdown in hello workload, unless hello slowdown becomes so severe that queries start timing out. If you are hitting limits of maximum allowed concurrent user sessions/requests (worker threads), you see explicit errors.</span></span> <span data-ttu-id="2cc13-156">Vedere [Limiti delle risorse del database SQL di Azure](sql-database-resource-limits.md) per informazioni sui limiti di risorse diverse da CPU, memoria, I/O di dati e I/O del log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="2cc13-156">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2cc13-157">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="2cc13-157">Next steps</span></span>
* <span data-ttu-id="2cc13-158">Vedere [livello di servizio](sql-database-service-tiers.md) per informazioni su Dtu hello e di Edtu disponibile per singoli database e per il pool elastico.</span><span class="sxs-lookup"><span data-stu-id="2cc13-158">See [Service tier](sql-database-service-tiers.md) for information on hello DTUs and eDTUs available for single databases and for elastic pools.</span></span>
* <span data-ttu-id="2cc13-159">Vedere [Limiti delle risorse del database SQL di Azure](sql-database-resource-limits.md) per informazioni sui limiti di risorse diverse da CPU, memoria, I/O di dati e I/O del log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="2cc13-159">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>
* <span data-ttu-id="2cc13-160">Vedere [informazioni dettagliate prestazioni Query di Database SQL](sql-database-query-performance.md) toounderstand il consumo di (Dtu).</span><span class="sxs-lookup"><span data-stu-id="2cc13-160">See [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your (DTUs) consumption.</span></span>
* <span data-ttu-id="2cc13-161">Vedere [Panoramica di SQL Database benchmark](sql-database-benchmark-overview.md) metodologia hello toounderstand dietro il carico di lavoro di hello OLTP benchmark utilizzato hello toodetermine DTU blend.</span><span class="sxs-lookup"><span data-stu-id="2cc13-161">See [SQL Database benchmark overview](sql-database-benchmark-overview.md) toounderstand hello methodology behind hello OLTP benchmark workload used toodetermine hello DTU blend.</span></span>
