---
title: Architettura di gestione aaaResource | Documenti Microsoft
description: An architectural overview of Service Fabric Cluster Resource Manager.
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9ea80273d0566a2ac25143ada3662875656b57b8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a><span data-ttu-id="caaec-103">Panoramica dell'architettura di Cluster Resource Manager</span><span class="sxs-lookup"><span data-stu-id="caaec-103">Cluster resource manager architecture overview</span></span>
<span data-ttu-id="caaec-104">Hello gestione delle risorse Cluster di Service Fabric è un servizio centrale in esecuzione in cluster hello.</span><span class="sxs-lookup"><span data-stu-id="caaec-104">hello Service Fabric Cluster Resource Manager is a central service that runs in hello cluster.</span></span> <span data-ttu-id="caaec-105">Gestisce lo stato desiderato di hello dei servizi di hello cluster hello, in particolare con riguardo tooresource consumo e tutte le regole di selezione host.</span><span class="sxs-lookup"><span data-stu-id="caaec-105">It manages hello desired state of hello services in hello cluster, particularly with respect tooresource consumption and any placement rules.</span></span> 

<span data-ttu-id="caaec-106">toomanage risorse hello del cluster, è necessario disporre di varie informazioni hello servizio di gestione delle risorse Cluster dell'infrastruttura:</span><span class="sxs-lookup"><span data-stu-id="caaec-106">toomanage hello resources in your cluster, hello Service Fabric Cluster Resource Manager must have several pieces of information:</span></span>

- <span data-ttu-id="caaec-107">I servizi esistenti attualmente</span><span class="sxs-lookup"><span data-stu-id="caaec-107">Which services currently exist</span></span>
- <span data-ttu-id="caaec-108">Ogni uso della risorsa della corrente del servizio (o per impostazione predefinito)</span><span class="sxs-lookup"><span data-stu-id="caaec-108">Each service's current (or default) resource consumption</span></span> 
- <span data-ttu-id="caaec-109">capacità del cluster rimanenti Hello</span><span class="sxs-lookup"><span data-stu-id="caaec-109">hello remaining cluster capacity</span></span> 
- <span data-ttu-id="caaec-110">capacità di Hello di nodi hello hello cluster</span><span class="sxs-lookup"><span data-stu-id="caaec-110">hello capacity of hello nodes in hello cluster</span></span> 
- <span data-ttu-id="caaec-111">quantità di Hello di risorse utilizzate in ogni nodo</span><span class="sxs-lookup"><span data-stu-id="caaec-111">hello amount of resources consumed on each node</span></span>

<span data-ttu-id="caaec-112">utilizzo delle risorse di un determinato servizio Hello può cambiare nel tempo e servizi in genere si preoccupa più di un tipo di risorsa.</span><span class="sxs-lookup"><span data-stu-id="caaec-112">hello resource consumption of a given service can change over time, and services usually care about more than one type of resource.</span></span> <span data-ttu-id="caaec-113">Potrebbero essere misurate risorse reali e fisiche tra diversi servizi.</span><span class="sxs-lookup"><span data-stu-id="caaec-113">Across different services, there may be both real physical and physical resources being measured.</span></span> <span data-ttu-id="caaec-114">I servizi possono tracciare metriche fisiche come il consumo di memoria e del disco.</span><span class="sxs-lookup"><span data-stu-id="caaec-114">Services may track physical metrics like memory and disk consumption.</span></span> <span data-ttu-id="caaec-115">Più comunemente, i servizi potrebbero occuparsi anche di metriche logiche, ad esempio "WorkQueueDepth" o "TotalRequests".</span><span class="sxs-lookup"><span data-stu-id="caaec-115">More commonly, services may care about logical metrics - things like "WorkQueueDepth" or "TotalRequests".</span></span> <span data-ttu-id="caaec-116">Metriche logiche e fisiche possono essere usate in hello dello stesso cluster.</span><span class="sxs-lookup"><span data-stu-id="caaec-116">Both logical and physical metrics can be used in hello same cluster.</span></span> <span data-ttu-id="caaec-117">Metriche possono essere condivisi tra molti servizi o essere tooa specifico particolare servizio.</span><span class="sxs-lookup"><span data-stu-id="caaec-117">Metrics can be shared across many services or be specific tooa particular service.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="caaec-118">Altre considerazioni</span><span class="sxs-lookup"><span data-stu-id="caaec-118">Other considerations</span></span>
<span data-ttu-id="caaec-119">Hello proprietari e operatori di cluster hello possono essere diversi da hello gli autori di servizio e di applicazione o in un oggetto sono minimo hello stesso persone che ricoprono diversi.</span><span class="sxs-lookup"><span data-stu-id="caaec-119">hello owners and operators of hello cluster can be different from hello service and application authors, or at a minimum are hello same people wearing different hats.</span></span> <span data-ttu-id="caaec-120">Quando si sviluppa l'applicazione si conoscono alcuni aspetti riguardanti cosa è necessario.</span><span class="sxs-lookup"><span data-stu-id="caaec-120">When you develop your application you know a few things about what it requires.</span></span> <span data-ttu-id="caaec-121">Si dispone di una stima di hello devono essere distribuiti come i diversi servizi e le risorse che verrà utilizzata.</span><span class="sxs-lookup"><span data-stu-id="caaec-121">You have an estimate of hello resources it will consume and how different services should be deployed.</span></span> <span data-ttu-id="caaec-122">Ad esempio, livello web hello deve toorun su nodi esposti toohello Internet, mentre i servizi di database hello non dovrebbero.</span><span class="sxs-lookup"><span data-stu-id="caaec-122">For example, hello web tier needs toorun on nodes exposed toohello Internet, while hello database services should not.</span></span> <span data-ttu-id="caaec-123">Ad esempio, servizi web hello probabilmente sono limitati della CPU e la rete, durante l'attenzione di hello dati livello servizi ulteriori informazioni su consumo di memoria e disco.</span><span class="sxs-lookup"><span data-stu-id="caaec-123">As another example, hello web services are probably constrained by CPU and network, while hello data tier services care more about memory and disk consumption.</span></span> <span data-ttu-id="caaec-124">Tuttavia, persona hello gestisce un evento imprevisto in tempo reale a sito per il servizio nell'ambiente di produzione, o che gestisce un servizio di aggiornamento toohello ha toodo un processo diverso e richiede strumenti diversi.</span><span class="sxs-lookup"><span data-stu-id="caaec-124">However, hello person handling a live-site incident for that service in production, or who is managing an upgrade toohello service has a different job toodo, and requires different tools.</span></span> 

<span data-ttu-id="caaec-125">I servizi e i cluster hello sono dinamici:</span><span class="sxs-lookup"><span data-stu-id="caaec-125">Both hello cluster and services are dynamic:</span></span>

- <span data-ttu-id="caaec-126">numero di Hello di nodi nel cluster hello può aumentare e ridursi</span><span class="sxs-lookup"><span data-stu-id="caaec-126">hello number of nodes in hello cluster can grow and shrink</span></span>
- <span data-ttu-id="caaec-127">Nodi di diversi tipi e dimensioni possono essere aggiunti o rimossi</span><span class="sxs-lookup"><span data-stu-id="caaec-127">Nodes of different sizes and types can come and go</span></span>
- <span data-ttu-id="caaec-128">I servizi possono essere creati e rimossi e le allocazioni delle risorse desiderate e le regole di selezione possono essere modificate</span><span class="sxs-lookup"><span data-stu-id="caaec-128">Services can be created, removed, and change their desired resource allocations and placement rules</span></span>
- <span data-ttu-id="caaec-129">Gli aggiornamenti o altre operazioni di gestione possono essere distribuite tramite cluster hello in un'applicazione hello sui livelli di infrastruttura</span><span class="sxs-lookup"><span data-stu-id="caaec-129">Upgrades or other management operations can roll through hello cluster at hello application on infrastructure levels</span></span>
- <span data-ttu-id="caaec-130">Gli errori possono verificarsi in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="caaec-130">Failures can happen at any time.</span></span>

## <a name="cluster-resource-manager-components-and-data-flow"></a><span data-ttu-id="caaec-131">Componenti di Cluster Resource Manager e flusso dei dati</span><span class="sxs-lookup"><span data-stu-id="caaec-131">Cluster resource manager components and data flow</span></span>
<span data-ttu-id="caaec-132">Hello gestione delle risorse Cluster ha requisiti di hello tootrack di ogni servizio e hello l'utilizzo delle risorse per ogni oggetto di servizio all'interno di tali servizi.</span><span class="sxs-lookup"><span data-stu-id="caaec-132">hello Cluster Resource Manager has tootrack hello requirements of each service and hello consumption of resources by each service object within those services.</span></span> <span data-ttu-id="caaec-133">Gestione delle risorse Cluster Hello composta da due parti concettuale: agenti eseguiti in ogni nodo e un servizio a tolleranza di errore.</span><span class="sxs-lookup"><span data-stu-id="caaec-133">hello Cluster Resource Manager has two conceptual parts: agents that run on each node and a fault-tolerant service.</span></span> <span data-ttu-id="caaec-134">agenti Hello ogni carico di tenere traccia del nodo vengono segnalati dai servizi, aggregazione e li segnala periodicamente.</span><span class="sxs-lookup"><span data-stu-id="caaec-134">hello agents on each node track load reports from services, aggregate them, and periodically report them.</span></span> <span data-ttu-id="caaec-135">servizio di gestione delle risorse Cluster Hello aggrega tutte le informazioni dagli agenti locale hello hello e reagisce in base alla relativa configurazione corrente.</span><span class="sxs-lookup"><span data-stu-id="caaec-135">hello Cluster Resource Manager service aggregates all hello information from hello local agents and reacts based on its current configuration.</span></span>

<span data-ttu-id="caaec-136">Diamo un'occhiata hello seguente diagramma:</span><span class="sxs-lookup"><span data-stu-id="caaec-136">Let’s look at hello following diagram:</span></span>

<span data-ttu-id="caaec-137"><center>
![Architettura di Resource Balancer][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="caaec-137"><center>
![Resource Balancer Architecture][Image1]
</center></span></span>

<span data-ttu-id="caaec-138">Durante il runtime possono essere apportate numerose modifiche.</span><span class="sxs-lookup"><span data-stu-id="caaec-138">During runtime, there are many changes that could happen.</span></span> <span data-ttu-id="caaec-139">Ad esempio, si supponga che la quantità hello di risorse di alcuni servizi utilizzano le modifiche, alcuni errori di servizi, e alcuni nodi partecipare o uscire dai cluster hello.</span><span class="sxs-lookup"><span data-stu-id="caaec-139">For example, let’s say hello amount of resources some services consume changes, some services fail, and some nodes join and leave hello cluster.</span></span> <span data-ttu-id="caaec-140">Tutte le modifiche di hello in un nodo vengono aggregate e inviate periodicamente del servizio di gestione delle risorse Cluster toohello (1,2) in cui sono nuovamente aggregati, analizzati e archiviati.</span><span class="sxs-lookup"><span data-stu-id="caaec-140">All hello changes on a node are aggregated and periodically sent toohello Cluster Resource Manager service (1,2) where they are aggregated again, analyzed, and stored.</span></span> <span data-ttu-id="caaec-141">Ogni pochi secondi che servizio esamina modifiche hello e determina se sono necessarie tutte le azioni (3).</span><span class="sxs-lookup"><span data-stu-id="caaec-141">Every few seconds that service looks at hello changes and determines if any actions are necessary (3).</span></span> <span data-ttu-id="caaec-142">Ad esempio, potrebbe notare che sono stati aggiunti alcuni nodi vuoti toohello cluster.</span><span class="sxs-lookup"><span data-stu-id="caaec-142">For example, it could notice that some empty nodes have been added toohello cluster.</span></span> <span data-ttu-id="caaec-143">Di conseguenza, decide toomove alcuni nodi toothose servizi.</span><span class="sxs-lookup"><span data-stu-id="caaec-143">As a result, it decides toomove some services toothose nodes.</span></span> <span data-ttu-id="caaec-144">Hello gestione delle risorse Cluster potrebbe si noti inoltre che un determinato nodo è sovraccarico o che determinati servizi riusciti o eliminate, liberando risorse in un' posizione.</span><span class="sxs-lookup"><span data-stu-id="caaec-144">hello Cluster Resource Manager could also notice that a particular node is overloaded, or that certain services have failed or been deleted, freeing up resources elsewhere.</span></span>

<span data-ttu-id="caaec-145">Si esaminerà hello seguente diagramma e vedere le operazioni successive.</span><span class="sxs-lookup"><span data-stu-id="caaec-145">Let’s look at hello following diagram and see what happens next.</span></span> <span data-ttu-id="caaec-146">Si supponga che hello gestione delle risorse Cluster determina che sono necessarie modifiche.</span><span class="sxs-lookup"><span data-stu-id="caaec-146">Let’s say that hello Cluster Resource Manager determines that changes are necessary.</span></span> <span data-ttu-id="caaec-147">Interagisce con altri system services (in particolare hello gestione Failover) toomake hello le modifiche necessarie.</span><span class="sxs-lookup"><span data-stu-id="caaec-147">It coordinates with other system services (in particular hello Failover Manager) toomake hello necessary changes.</span></span> <span data-ttu-id="caaec-148">I comandi necessari hello vengono quindi inviati toohello nodi appropriati (4).</span><span class="sxs-lookup"><span data-stu-id="caaec-148">Then hello necessary commands are sent toohello appropriate nodes (4).</span></span> <span data-ttu-id="caaec-149">Si supponga, ad esempio, hello Gestione risorse notato che è stato sottoposto a overload Nodo5 e pertanto deciso toomove servizio B da tooNode4 Nodo5.</span><span class="sxs-lookup"><span data-stu-id="caaec-149">For example, let's say hello Resource Manager noticed that Node5 was overloaded, and so decided toomove service B from Node5 tooNode4.</span></span> <span data-ttu-id="caaec-150">Alla fine di hello di riconfigurazione hello (5), il cluster hello è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="caaec-150">At hello end of hello reconfiguration (5), hello cluster looks like this:</span></span>

<span data-ttu-id="caaec-151"><center>
![Architettura di Resource Balancer][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="caaec-151"><center>
![Resource Balancer Architecture][Image2]
</center></span></span>

## <a name="next-steps"></a><span data-ttu-id="caaec-152">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="caaec-152">Next steps</span></span>
- <span data-ttu-id="caaec-153">Hello gestione delle risorse Cluster dispone di numerose opzioni per la descrizione del cluster di hello.</span><span class="sxs-lookup"><span data-stu-id="caaec-153">hello Cluster Resource Manager has many options for describing hello cluster.</span></span> <span data-ttu-id="caaec-154">toofind ulteriori informazioni, consultare questo articolo in [che descrive un cluster di Service Fabric](./service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="caaec-154">toofind out more about them, check out this article on [describing a Service Fabric cluster](./service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
- <span data-ttu-id="caaec-155">compiti primario di gestione risorse del Cluster di Hello sono ribilanciamento cluster hello e imporre regole di selezione host.</span><span class="sxs-lookup"><span data-stu-id="caaec-155">hello Cluster Resource Manager's primary duties are rebalancing hello cluster and enforcing placement rules.</span></span> <span data-ttu-id="caaec-156">Per altre informazioni sulla configurazione di questi comportamenti, vedere [bilanciamento del cluster di Service Fabric](./service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="caaec-156">For more information on configuring these behaviors, see [balancing your Service Fabric cluster](./service-fabric-cluster-resource-manager-balancing.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
