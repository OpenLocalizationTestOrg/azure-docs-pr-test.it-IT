---
title: Esportazione di un'API ospitata in Azure in PowerApps e Microsoft Flow | Microsoft Docs
description: Panoramica su come esporre un'API ospitata nel servizio app in PowerApps e Microsoft Flow
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 0d166a2e5b60c3b9f911f9fc3ad49ad7f252abb4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="exporting-an-azure-hosted-api-to-powerapps-and-microsoft-flow"></a><span data-ttu-id="5164f-103">Esportazione di un'API ospitata in Azure in PowerApps e Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="5164f-103">Exporting an Azure-hosted API to PowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="5164f-104">Creare connettori personalizzati per PowerApps e Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="5164f-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="5164f-105">[PowerApps](https://powerapps.com) è un servizio per la creazione e l'uso di applicazioni aziendali personalizzate in grado di connettersi ai dati dell'utente e di funzionare su più piattaforme.</span><span class="sxs-lookup"><span data-stu-id="5164f-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect to your data and work across platforms.</span></span> <span data-ttu-id="5164f-106">[Microsoft Flow](https://flow.microsoft.com) facilita l'automazione dei flussi di lavoro e dei processi aziendali tra le app e i servizi preferiti dagli utenti.</span><span class="sxs-lookup"><span data-stu-id="5164f-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy to automate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="5164f-107">Sia PowerApps che Microsoft Flow dispongono di un'ampia varietà di connettori predefiniti a origini di dati come Office 365, Dynamics 365, Salesforce e così via.</span><span class="sxs-lookup"><span data-stu-id="5164f-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors to data sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="5164f-108">Tuttavia, gli utenti devono inoltre essere in grado di sfruttare le origini dati e le API create dall'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="5164f-108">However, users also need to be able to leverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="5164f-109">Analogamente, gli sviluppatori che desiderano esporre ulteriormente le proprie API nell'organizzazione potrebbero volerle rendere disponibili agli utenti di PowerApps e Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="5164f-109">Similarly, developers that want to expose their APIs more broadly within the organization may want to make their APIs available to PowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="5164f-110">Questo argomento illustrerà come esporre un'API creata con il Servizio app di Azure o le Funzioni di Azure in PowerApps e Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="5164f-110">This topic will show you how to expose an API built with Azure App Service or Azure Functions to PowerApps and Microsoft Flow.</span></span> <span data-ttu-id="5164f-111">Il [Servizio app di Azure](https://azure.microsoft.com/services/app-service/) è un'offerta di piattaforma distribuita come servizio (PaaS - Platform as a Service) che consente agli sviluppatori di creare applicazioni Web, API e per dispositivi mobili di livello aziendale, con rapidità e semplicità.</span><span class="sxs-lookup"><span data-stu-id="5164f-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers to quickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="5164f-112">[Funzioni di Azure](https://azure.microsoft.com/services/functions/) è una soluzione di calcolo senza server basata su eventi che consente di scrivere rapidamente codice in grado di reagire ad altre parti del sistema e di ridimensionarsi in base alla domanda.</span><span class="sxs-lookup"><span data-stu-id="5164f-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you to quickly author code that can react to other parts of your system and scale based on demand.</span></span>

<span data-ttu-id="5164f-113">Per altre informazioni su questo servizio, vedere:</span><span class="sxs-lookup"><span data-stu-id="5164f-113">To learn more about these services, see:</span></span>
- [<span data-ttu-id="5164f-114">Formazione guidata di PowerApps</span><span class="sxs-lookup"><span data-stu-id="5164f-114">PowerApps Guided Learning</span></span>](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) 
- [<span data-ttu-id="5164f-115">Formazione guidata di Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="5164f-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="5164f-116">Informazioni sul servizio app</span><span class="sxs-lookup"><span data-stu-id="5164f-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="5164f-117">Che cos'è Funzioni di Azure</span><span class="sxs-lookup"><span data-stu-id="5164f-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="5164f-118">Condividere la definizione di un'API</span><span class="sxs-lookup"><span data-stu-id="5164f-118">Sharing an API definition</span></span>

<span data-ttu-id="5164f-119">Le API sono spesso descritte tramite un [documento OpenAPI](https://www.openapis.org/), talvolta definito documento "Swagger".</span><span class="sxs-lookup"><span data-stu-id="5164f-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred to as a "Swagger" document).</span></span> <span data-ttu-id="5164f-120">Questo file contiene tutte le informazioni sulle operazioni disponibili e su come strutturare i dati.</span><span class="sxs-lookup"><span data-stu-id="5164f-120">This contains all of the information about what operations are available and how the data should be structured.</span></span> <span data-ttu-id="5164f-121">PowerApps e Microsoft Flow possono creare connettori personalizzati per qualsiasi documento OpenAPI 2.0.</span><span class="sxs-lookup"><span data-stu-id="5164f-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="5164f-122">Dopo aver creato un connettore personalizzato, è possibile usarlo allo stesso modo dei connettori predefiniti ed è rapidamente integrabile in un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5164f-122">Once a custom connector is created, it can be used in exactly the same way as one of the built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="5164f-123">Il Servizio app di Azure e Funzioni di Azure dispongono di [supporto integrato](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) per la creazione, l'hosting e la gestione di un documento OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="5164f-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="5164f-124">Per creare un connettore personalizzato per un'App Web, un'app per dispositivi mobili, per API o un'app per le funzioni, PowerApps e Flow devono ricevere una copia della definizione.</span><span class="sxs-lookup"><span data-stu-id="5164f-124">In order to create a custom connector for a web, mobile, API, or function app, PowerApps and Flow need to be given a copy of the definition.</span></span>

> [!NOTE]
> <span data-ttu-id="5164f-125">Poiché si sta usando una copia della definizione dell'API, PowerApps e Microsoft Flow non rileveranno subito eventuali aggiornamenti o modifiche di rilievo all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5164f-125">Because a copy of the API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes to the application.</span></span> <span data-ttu-id="5164f-126">Se viene resa disponibile una nuova versione dell'API, sarà necessario ripetere questi passaggi per la nuova versione.</span><span class="sxs-lookup"><span data-stu-id="5164f-126">If a new version of the API is made available, these steps should be repeated for the new version.</span></span> 

<span data-ttu-id="5164f-127">Per dotare PowerApps e Microsoft Flow della definizione dell'API ospitata, seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="5164f-127">To provide PowerApps and Microsoft Flow with the hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="5164f-128">Aprire il [portale di Azure](https://portal.azure.com) e passare all'applicazione di servizio App o Funzioni di Azure.</span><span class="sxs-lookup"><span data-stu-id="5164f-128">Open the [Azure Portal](https://portal.azure.com) and navigate to your App Service or Azure Functions application.</span></span>

    <span data-ttu-id="5164f-129">Se si usa il Servizio app di Azure, selezionare **Definizione dell'API** dall'elenco delle impostazioni.</span><span class="sxs-lookup"><span data-stu-id="5164f-129">If using Azure App Service, select **API definition** from the settings list.</span></span> 
    
    <span data-ttu-id="5164f-130">Se si usa Funzioni di Azure, selezionare l'app per le funzioni interessata, scegliere **Funzionalità della piattaforma** e quindi **Definizione API**.</span><span class="sxs-lookup"><span data-stu-id="5164f-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="5164f-131">In alternativa, è anche possibile scegliere di aprire la scheda **Definizione API (anteprima)**.</span><span class="sxs-lookup"><span data-stu-id="5164f-131">You could also choose to open the **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="5164f-132">Se è stata specificata una definizione dell'API, verrà visualizzato il pulsante **Export to PowerApps + Microsoft Flow** (Esporta in PowerApps + Microsoft Flow).</span><span class="sxs-lookup"><span data-stu-id="5164f-132">If an API definition has been provided, you will see an **Export to PowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="5164f-133">Fare clic su questo pulsante per avviare il processo di esportazione.</span><span class="sxs-lookup"><span data-stu-id="5164f-133">Click this button to begin the export process.</span></span>

3. <span data-ttu-id="5164f-134">Selezionare la **modalità di esportazione**.</span><span class="sxs-lookup"><span data-stu-id="5164f-134">Select the **Export mode**.</span></span> <span data-ttu-id="5164f-135">Questa opzione determina la procedura che dovrà essere seguita per creare un connettore.</span><span class="sxs-lookup"><span data-stu-id="5164f-135">This determines the steps you will need to follow to create a connector.</span></span> <span data-ttu-id="5164f-136">Il servizio app offre due opzioni per fornire la definizione dell'API a PowerApps e Microsoft Flow:</span><span class="sxs-lookup"><span data-stu-id="5164f-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="5164f-137">**Rapida**: consente di creare il connettore personalizzato dall'interno del portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="5164f-137">**Express** lets you create the custom connector from within the Azure portal.</span></span> <span data-ttu-id="5164f-138">L'utente connesso deve necessariamente disporre dell'autorizzazione per la creazione di connettori nell'ambiente di destinazione.</span><span class="sxs-lookup"><span data-stu-id="5164f-138">It requires that the curent logged-in user has permission to create connectors in the target environment.</span></span> <span data-ttu-id="5164f-139">Questo è l'approccio consigliato se tale requisito può essere soddisfatto.</span><span class="sxs-lookup"><span data-stu-id="5164f-139">This is the recommended approach if that requirement can be met.</span></span> <span data-ttu-id="5164f-140">Se si usa questa modalità, seguire le istruzioni per l'[esportazione rapida](#express) riportate di seguito.</span><span class="sxs-lookup"><span data-stu-id="5164f-140">If using this mode, follow the [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="5164f-141">**Manuale**: consente di esportare una copia della definizione dell'API che può essere importata tramite il portale di PowerApps o di Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="5164f-141">**Manual** lets you export a copy of the API definiton which can be imported using the PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="5164f-142">Questo approccio è consigliato se l'utente di Azure e l'utente con l'autorizzazione per la creazione di connettori sono diversi o se il connettore deve essere creato in un altro tenant.</span><span class="sxs-lookup"><span data-stu-id="5164f-142">This is the recommended approach if the Azure user and the user with permission to create connectors are different people or if the connector needs to be created in another tenant.</span></span> <span data-ttu-id="5164f-143">Se si usa questa modalità, seguire le istruzioni per l'[importazione e l'esportazione manuali](#manual) riportate di seguito.</span><span class="sxs-lookup"><span data-stu-id="5164f-143">If using this mode, follow the [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="5164f-144">Esportazione rapida</span><span class="sxs-lookup"><span data-stu-id="5164f-144">Express export</span></span>

<span data-ttu-id="5164f-145">In questa sezione si crea un nuovo connettore personalizzato dall'interno del portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="5164f-145">In this section, you will create a new custom connector from within the Azure portal.</span></span> <span data-ttu-id="5164f-146">È necessario essere connessi al tenant verso cui si desidera esportare ed è necessario disporre dell'autorizzazione per creare un connettore personalizzato nell'ambiente di destinazione.</span><span class="sxs-lookup"><span data-stu-id="5164f-146">You must be logged into the tenant to which you wish to export, and you must have permission to create a custom connector in the target environment.</span></span>

1. <span data-ttu-id="5164f-147">Selezionare l'ambiente in cui si vuole creare il connettore.</span><span class="sxs-lookup"><span data-stu-id="5164f-147">Select the environment in which you would like to create the connector.</span></span> <span data-ttu-id="5164f-148">Specificare quindi un nome per il connettore personalizzato.</span><span class="sxs-lookup"><span data-stu-id="5164f-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="5164f-149">Se la definizione dell'API include definizioni di sicurezza, queste verranno indicate nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="5164f-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="5164f-150">Se necessario, specificare i dettagli di configurazione di sicurezza necessari per concedere ad altri utenti l'accesso all'API.</span><span class="sxs-lookup"><span data-stu-id="5164f-150">If required, provide the security configuration details needed to grant users access to your API.</span></span> <span data-ttu-id="5164f-151">Per altre informazioni, vedere [Autenticazione](#auth) di seguito.</span><span class="sxs-lookup"><span data-stu-id="5164f-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="5164f-152">Fare clic su **OK** per creare il connettore personalizzato.</span><span class="sxs-lookup"><span data-stu-id="5164f-152">Click **OK** to create your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="5164f-153">Esportazione e importazione manuali</span><span class="sxs-lookup"><span data-stu-id="5164f-153">Manual export and import</span></span>

<span data-ttu-id="5164f-154">Per creare un connettore personalizzato per un'app web, API, per le funzioni o per dispositivi mobili, sono necessari due passaggi:</span><span class="sxs-lookup"><span data-stu-id="5164f-154">In order to create a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="5164f-155">Recuperare la definizione dell'API dal servizio app o da Funzioni di Azure</span><span class="sxs-lookup"><span data-stu-id="5164f-155">Retrieving the API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="5164f-156">Importare la definizione dell'API in PowerApps e Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="5164f-156">Importing the API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="5164f-157">È possibile che questi due passaggi debbano essere eseguiti da due utenti diversi in un'organizzazione, in quanto un dato utente potrebbe non avere le autorizzazioni per eseguirli entrambi.</span><span class="sxs-lookup"><span data-stu-id="5164f-157">It is possible that these two steps will need to be carried out by separate individuals within an organization, as a given user may not have permission to perform both actions.</span></span> <span data-ttu-id="5164f-158">In questo caso, uno sviluppatore con accesso di collaboratore all'applicazione del servizio app o a Funzioni di Azure dovrà ottenere la definizione dell'API (un singolo file JSON) o un collegamento a essa.</span><span class="sxs-lookup"><span data-stu-id="5164f-158">In this case, a developer who has contributor access to the App Service or Azure Functions application will need to obtain the API definition (a single JSON file) or a link to it.</span></span> <span data-ttu-id="5164f-159">Dovrà quindi fornire tale definizione a un proprietario di PowerApps o Microsoft flow.</span><span class="sxs-lookup"><span data-stu-id="5164f-159">They will then need to provide that definition to a PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="5164f-160">Tale proprietario può usare i metadati per creare il connettore personalizzato.</span><span class="sxs-lookup"><span data-stu-id="5164f-160">That owner can use the metadata to create the custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-the-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="5164f-161">Recuperare la definizione dell'API dal servizio app o da Funzioni di Azure</span><span class="sxs-lookup"><span data-stu-id="5164f-161">Retrieving the API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="5164f-162">In questa sezione si esporterà la definizione dell'API per l'API del servizio app, per usarla in un secondo momento nel portale di PowerApps o di Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="5164f-162">In this section, you will export the API definition for your App Service API, to be used later in the PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="5164f-163">È possibile scegliere se **scaricare la definizione dell'API** o **utilizzare un collegamento**.</span><span class="sxs-lookup"><span data-stu-id="5164f-163">You can choose to either **Download the API definition** or **Get a link**.</span></span> <span data-ttu-id="5164f-164">A prescindere dalla scelta, il risultato verrà fornito nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="5164f-164">Whichever you choose, the result will be provided in the next section.</span></span> <span data-ttu-id="5164f-165">Selezionare una delle opzioni e seguire le istruzioni.</span><span class="sxs-lookup"><span data-stu-id="5164f-165">Select one of these options and follow the instructions.</span></span>
 
2. <span data-ttu-id="5164f-166">Se la definizione dell'API include definizioni di sicurezza, queste verranno indicate nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="5164f-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="5164f-167">Durante l'importazione, PowerApps e Microsoft Flow le rileveranno e richiederanno informazioni sulla sicurezza.</span><span class="sxs-lookup"><span data-stu-id="5164f-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="5164f-168">Raccogliere le credenziali relative a ogni definizione per l'utilizzo nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="5164f-168">Gather the credentials related to each definition for use in the next section.</span></span> <span data-ttu-id="5164f-169">Per altre informazioni, vedere [Autenticazione](#auth) di seguito.</span><span class="sxs-lookup"><span data-stu-id="5164f-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-the-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="5164f-170">Importare la definizione dell'API in PowerApps e Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="5164f-170">Importing the API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="5164f-171">In questa sezione si creerà un connettore personalizzato in PowerApps e Microsoft Flow usando la definizione dell'API ottenuta in precedenza.</span><span class="sxs-lookup"><span data-stu-id="5164f-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using the API definition obtained earlier.</span></span> <span data-ttu-id="5164f-172">Poiché i connettori personalizzati sono condivisi tra i due servizi, è necessario importare la definizione una sola volta.</span><span class="sxs-lookup"><span data-stu-id="5164f-172">Custom connectors are shared between the two services, so you only need to import the definition once.</span></span> <span data-ttu-id="5164f-173">Per altre informazioni sui connettori personalizzati, vedere [Registrare e usare connettori personalizzati in PowerApps] e [Registrare e usare connettori personalizzati in Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="5164f-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="5164f-174">Aprire il [portale Web di PowerApps](https://web.powerapps.com) o il [portale Web di Microsoft Flowl](https://flow.microsoft.com/) ed eseguire l'accesso.</span><span class="sxs-lookup"><span data-stu-id="5164f-174">Open the [Powerapps web portal](https://web.powerapps.com) or the [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="5164f-175">Fare clic sul pulsante **Impostazioni** (icona a forma di ingranaggio) nella parte superiore destra della pagina e selezionare **Custom connectors** (Connettori personalizzati).</span><span class="sxs-lookup"><span data-stu-id="5164f-175">Click the **Settings** button (the gear icon) at the upper right of the page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="5164f-176">Fare clic su **Create custom connector** (Crea connettore personalizzato).</span><span class="sxs-lookup"><span data-stu-id="5164f-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="5164f-177">Nella scheda **Generale** specificare un nome per l'API, quindi caricare la definizione OpenAPI o incollare l'URL dei metadati.</span><span class="sxs-lookup"><span data-stu-id="5164f-177">On the **General** tab, provide a name for your API, and then upload the OpenAPI definition or paste in the metadata URL.</span></span> <span data-ttu-id="5164f-178">Fare clic su **Continue**.</span><span class="sxs-lookup"><span data-stu-id="5164f-178">Click **Continue**.</span></span>

4. <span data-ttu-id="5164f-179">Nella scheda **Sicurezza**, se viene chiesto di fornire i dettagli di autenticazione, immettere i valori ottenuti nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="5164f-179">On the **Security** tab, if you are prompted to provide authentication details, enter the values obtained in the previous section.</span></span> <span data-ttu-id="5164f-180">In caso contrario, procedere con il passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="5164f-180">If not, proceed to the next step.</span></span>

5. <span data-ttu-id="5164f-181">Nella scheda **Definizioni** tutte le operazioni definite nel file OpenAPI vengono popolate automaticamente.</span><span class="sxs-lookup"><span data-stu-id="5164f-181">On the **Definitions** tab, all the operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="5164f-182">Se sono state definite tutte le operazioni necessarie, si può procedere al passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="5164f-182">If all your required operations are defined, you can go to the next step.</span></span> <span data-ttu-id="5164f-183">In caso contrario, è possibile aggiungere e modificare qui le operazioni.</span><span class="sxs-lookup"><span data-stu-id="5164f-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="5164f-184">Fare clic su **Crea connettore**.</span><span class="sxs-lookup"><span data-stu-id="5164f-184">Click **Create connector**.</span></span> <span data-ttu-id="5164f-185">Se si desidera testare le chiamate API, andare al passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="5164f-185">If you want to test API calls, go to the next step.</span></span>

7. <span data-ttu-id="5164f-186">Nella scheda **Test** creare una connessione, selezionare un'operazione da testare e immettere i dati richiesti dall'operazione.</span><span class="sxs-lookup"><span data-stu-id="5164f-186">On the **Test** tab, create a connection, select an operation to test, and enter any data required by the operation.</span></span>

8. <span data-ttu-id="5164f-187">Fare clic su **Verifica operazione**.</span><span class="sxs-lookup"><span data-stu-id="5164f-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="5164f-188">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="5164f-188">Authentication</span></span>

<span data-ttu-id="5164f-189">PowerApps e Microsoft Flow supportano in modo nativo una raccolta di provider di identità che può essere usata per l'accesso degli utenti del connettore personalizzato.</span><span class="sxs-lookup"><span data-stu-id="5164f-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used to log in users of your custom connector.</span></span> <span data-ttu-id="5164f-190">Se l'API richiede l'autenticazione, assicurarsi che venga acquisita come _definizione di sicurezza_ nel documento OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="5164f-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="5164f-191">Durante l'esportazione è necessario specificare valori di configurazione che consentano a PowerApps e Microsoft Flow di eseguire azioni di accesso.</span><span class="sxs-lookup"><span data-stu-id="5164f-191">During export, you will need to provide configuration values that allow PowerApps an Microsoft Flow to perform login actions.</span></span>

<span data-ttu-id="5164f-192">Questa sezione descrive i tipi di autenticazione che sono supportati dal flusso rapido: chiave API, Azure Active Directory e OAuth 2.0 generica.</span><span class="sxs-lookup"><span data-stu-id="5164f-192">This section covers the authentication types which are supported by the express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="5164f-193">Per un elenco completo dei provider e delle credenziali richieste da ognuno, vedere [Registrare e usare connettori personalizzati in PowerApps] e [Registrare e usare connettori personalizzati in Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="5164f-193">For a complete list of providers and the credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="5164f-194">Chiave API</span><span class="sxs-lookup"><span data-stu-id="5164f-194">API key</span></span>
<span data-ttu-id="5164f-195">Quando si usa questo schema di sicurezza, per creare una connessione gli utenti del connettore devono specificare la chiave.</span><span class="sxs-lookup"><span data-stu-id="5164f-195">When this security scheme is used, the users of your connector will be prompted to provide the key when they create a connection.</span></span> <span data-ttu-id="5164f-196">È possibile indicare loro il nome di chiave API da usare.</span><span class="sxs-lookup"><span data-stu-id="5164f-196">You can provide an API key name to help them know which key is needed.</span></span> <span data-ttu-id="5164f-197">Per Funzioni di Azure la chiave è in genere una delle chiavi host, che copre varie funzioni all'interno dell'app per le funzioni.</span><span class="sxs-lookup"><span data-stu-id="5164f-197">For Azure Functions, this will typically be one of the host keys, covering several functions within the function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="5164f-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="5164f-198">Azure Active Directory</span></span>
<span data-ttu-id="5164f-199">Quando si configura un connettore personalizzato che richiede l'accesso ad AAD, sono necessarie due registrazioni dell'applicazione AAD: una per modellare le API di back-end e una per modellare il connettore in PowerApps e Flow.</span><span class="sxs-lookup"><span data-stu-id="5164f-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one to model the backend API, and one to model the connector in PowerApps and Flow.</span></span>

<span data-ttu-id="5164f-200">È consigliabile configurare l'API in modo da usarla con la prima registrazione e questo aspetto sarà già configurato se è stata usata la funzione [Autenticazione/Autorizzazione servizio app](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication).</span><span class="sxs-lookup"><span data-stu-id="5164f-200">Your API should be configured to work with the first registration, and this will already be taken care of if you used the [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="5164f-201">Sarà necessario creare manualmente la seconda registrazione per il connettore, usando la procedura riportata in [Aggiunta di un'applicazione in AAD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="5164f-201">You will have to manually create the second registration for the connector, using the steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="5164f-202">La registrazione deve disporre dell'accesso delegato all'API e di un URL di risposta di `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="5164f-202">The registration needs to have delegated access to your API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="5164f-203">Per altre informazioni, vedere [questo esempio](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) per la sostituzione dell'API per Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="5164f-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for the Azure Resource Manager.</span></span>

<span data-ttu-id="5164f-204">Sono richiesti i valori di configurazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="5164f-204">The following configuration values are required:</span></span>
- <span data-ttu-id="5164f-205">**ID client** - L'ID client della registrazione in AAD del connettore</span><span class="sxs-lookup"><span data-stu-id="5164f-205">**Client ID** - the client ID of your connector AAD registration</span></span>
- <span data-ttu-id="5164f-206">**Segreto client** - Il segreto client della registrazione in AAD del connettore</span><span class="sxs-lookup"><span data-stu-id="5164f-206">**Client secret** - the client secret of your connector AAD registration</span></span>
- <span data-ttu-id="5164f-207">**URL di accesso** - URL di base per AAD.</span><span class="sxs-lookup"><span data-stu-id="5164f-207">**Login URL** - the base URL for AAD.</span></span> <span data-ttu-id="5164f-208">In Azure pubblico questo URL è in genere `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="5164f-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="5164f-209">**ID tenant** - L'ID del tenant da usare per l'accesso.</span><span class="sxs-lookup"><span data-stu-id="5164f-209">**Tenant ID** - the ID of the tenant to be used for the login.</span></span> <span data-ttu-id="5164f-210">Deve essere "comune" oppure l'ID del tenant in cui viene creato il connettore.</span><span class="sxs-lookup"><span data-stu-id="5164f-210">This should be "common" or the ID of the tenant in which the connector is being created.</span></span>
- <span data-ttu-id="5164f-211">**URL risorsa** - L'URL della risorsa della registrazione in AAD di back-end dell'API</span><span class="sxs-lookup"><span data-stu-id="5164f-211">**Resource URL** - the resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5164f-212">Se un altro utente intende importare la definizione dell'API in PowerApps e Microsoft Flow nell'ambito del flusso manuale, è necessario specificare all'utente l'ID client e il segreto client **della registrazione del connettore**, nonché l'URL di risorsa dell'API.</span><span class="sxs-lookup"><span data-stu-id="5164f-212">If another individual will be importing the API definition into PowerApps and Microsoft Flow as part of the manual flow, you will need to provide them with the client ID and client secret **of the connector registration**, as well as the resource URL of your API.</span></span> <span data-ttu-id="5164f-213">Assicurarsi che questi segreti siano gestiti in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="5164f-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="5164f-214">**Non condividere le credenziali di sicurezza dell'API stessa.**</span><span class="sxs-lookup"><span data-stu-id="5164f-214">**Do not share the security credentials of the API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="5164f-215">OAuth 2.0 generica</span><span class="sxs-lookup"><span data-stu-id="5164f-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="5164f-216">Il supporto di OAuth 2.0 generica consente l'integrazione con qualsiasi provider OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="5164f-216">The generic OAuth 2.0 support allows you to integrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="5164f-217">Ciò consente di usare qualsiasi provider personalizzato che non è supportato in modo nativo.</span><span class="sxs-lookup"><span data-stu-id="5164f-217">This allows you to bring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="5164f-218">Sono richiesti i valori di configurazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="5164f-218">The following configuration values are required:</span></span>
- <span data-ttu-id="5164f-219">**ID client** - L'ID client OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="5164f-219">**Client ID** - the OAuth 2.0 client ID</span></span>
- <span data-ttu-id="5164f-220">**Segreto client** - Il segreto client OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="5164f-220">**Client secret** - the OAuth 2.0 client secret</span></span>
- <span data-ttu-id="5164f-221">**URL dell'autorizzazione** - L'URL dell'autorizzazione OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="5164f-221">**Authorization URL** - the OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="5164f-222">**URL del token** - L'URL del token OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="5164f-222">**Token URL** - the OAuth 2.0 token URL</span></span>
- <span data-ttu-id="5164f-223">**Aggiorna URL** - L'URL di aggiornamento OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="5164f-223">**Refresh URL** - the OAuth 2.0 refresh URL</span></span>



<span data-ttu-id="5164f-224">[Registrare e usare connettori personalizzati in PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="5164f-224">[Register and use custom connectors in PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span></span>
<span data-ttu-id="5164f-225">[Registrare e usare connettori personalizzati in Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="5164f-225">[Register and use custom connectors in Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span></span>
