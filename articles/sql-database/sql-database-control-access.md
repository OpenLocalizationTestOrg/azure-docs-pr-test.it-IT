---
title: Concessione dell'accesso al database SQL di Azure | Documentazione Microsoft
description: Informazioni sulla concessione dell'accesso al database SQL di Microsoft Azure.
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 8e71b04c-bc38-4153-8f83-f2b14faa31d9
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 02/06/2017
ms.author: rickbyh
ms.openlocfilehash: 0ca1ccd273317d67537d31724d566625a4eb2c85
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="azure-sql-database-access-control"></a><span data-ttu-id="f4766-103">Controllo dell'accesso al database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="f4766-103">Azure SQL Database access control</span></span>
<span data-ttu-id="f4766-104">Per garantire la sicurezza, il database SQL controlla l'accesso con regole del firewall che limitano la connettività in base all'indirizzo IP, meccanismi di autenticazione che richiedono agli utenti di dimostrare la propria identità e meccanismi di autorizzazione che consentono agli utenti di usufruire solo di azioni e dati specifici.</span><span class="sxs-lookup"><span data-stu-id="f4766-104">To provide security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users to prove their identity, and authorization mechanisms limiting users to specific actions and data.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="f4766-105">Per una panoramica delle funzionalità di sicurezza del database SQL, vedere la [panoramica della sicurezza in SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-105">For an overview of the SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span> <span data-ttu-id="f4766-106">Per un'esercitazione, vedere [Proteggere il database SQL di Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-106">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>

## <a name="firewall-and-firewall-rules"></a><span data-ttu-id="f4766-107">Firewall e regole del firewall</span><span class="sxs-lookup"><span data-stu-id="f4766-107">Firewall and firewall rules</span></span>
<span data-ttu-id="f4766-108">Il database SQL di Microsoft Azure fornisce un servizio di database relazionale per Azure e altre applicazioni basate su Internet.</span><span class="sxs-lookup"><span data-stu-id="f4766-108">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="f4766-109">Per proteggere i dati, il firewall impedisce qualsiasi accesso al server di database finché non vengono specificati i computer autorizzati.</span><span class="sxs-lookup"><span data-stu-id="f4766-109">To help protect your data, firewalls prevent all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="f4766-110">Il firewall concede l'accesso ai database in base all'indirizzo IP di origine di ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="f4766-110">The firewall grants access to databases based on the originating IP address of each request.</span></span> <span data-ttu-id="f4766-111">Per altre informazioni, vedere [Panoramica sulle regole del firewall per il database SQL di Azure](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-111">For more information, see [Overview of Azure SQL Database firewall rules](sql-database-firewall-configure.md)</span></span>

<span data-ttu-id="f4766-112">Il servizio Database SQL di Azure è disponibile solo tramite la porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="f4766-112">The Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="f4766-113">Per accedere al database SQL dal computer, assicurarsi che il firewall del computer client consenta la comunicazione TCP in uscita sulla porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="f4766-113">To access a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="f4766-114">Se non sono necessarie per altre applicazioni, bloccare le connessioni in ingresso sulla porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="f4766-114">If not needed for other applications, block inbound connections on TCP port 1433.</span></span> 

<span data-ttu-id="f4766-115">Come parte del processo di connessione, le connessioni da macchine virtuali di Azure vengono reindirizzate a un indirizzo IP diverso e a una porta, univoca per ogni ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="f4766-115">As part of the connection process, connections from Azure virtual machines are redirected to a different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="f4766-116">Il numero di porta è compreso nell'intervallo che va da 11000 a 11999.</span><span class="sxs-lookup"><span data-stu-id="f4766-116">The port number is in the range from 11000 to 11999.</span></span> <span data-ttu-id="f4766-117">Per altre informazioni sulle porte TCP, vedere [Porte superiori a 1433 per ADO.NET 4.5 e il database SQL](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-117">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>

## <a name="authentication"></a><span data-ttu-id="f4766-118">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="f4766-118">Authentication</span></span>

<span data-ttu-id="f4766-119">Il database SQL supporta due tipi di autenticazione:</span><span class="sxs-lookup"><span data-stu-id="f4766-119">SQL Database supports two types of authentication:</span></span>

* <span data-ttu-id="f4766-120">**Autenticazione SQL**, che usa nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="f4766-120">**SQL Authentication**, which uses a username and password.</span></span> <span data-ttu-id="f4766-121">Durante la creazione del server logico per il database, è stato specificato un account di accesso "amministratore del server" con un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="f4766-121">When you created the logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="f4766-122">Utilizzando queste credenziali, è possibile essere autenticati in qualsiasi database di tale server in qualità di proprietario del database o "dbo".</span><span class="sxs-lookup"><span data-stu-id="f4766-122">Using these credentials, you can authenticate to any database on that server as the database owner, or "dbo."</span></span> 
* <span data-ttu-id="f4766-123">**Autenticazione di Azure Active Directory**, che usa identità gestite da Azure Active Directory ed è supportata per domini gestiti e integrati.</span><span class="sxs-lookup"><span data-stu-id="f4766-123">**Azure Active Directory Authentication**, which uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="f4766-124">[Quando possibile](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode), usare l'autenticazione di Active Directory (sicurezza integrata).</span><span class="sxs-lookup"><span data-stu-id="f4766-124">Use Active Directory authentication (integrated security) [whenever possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span></span> <span data-ttu-id="f4766-125">Se si desidera utilizzare l'autenticazione di Azure Active Directory, è necessario creare un altro amministratore del server denominato "admin Azure AD," che è autorizzato ad amministrare utenti e gruppi di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f4766-125">If you want to use Azure Active Directory Authentication, you must create another server admin called the "Azure AD admin," which is allowed to administer Azure AD users and groups.</span></span> <span data-ttu-id="f4766-126">Questo amministratore può inoltre eseguire tutte le operazioni che un amministratore del server regolare può fare.</span><span class="sxs-lookup"><span data-stu-id="f4766-126">This admin can also perform all operations that a regular server admin can.</span></span> <span data-ttu-id="f4766-127">Vedere [Connessione al Database SQL utilizzando l'autenticazione di Azure Active Directory](sql-database-aad-authentication.md) per una procedura dettagliata di come creare un amministratore di Azure AD per abilitare l'autenticazione di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="f4766-127">See [Connecting to SQL Database By Using Azure Active Directory Authentication](sql-database-aad-authentication.md) for a walkthrough of how to create an Azure AD admin to enable Azure Active Directory Authentication.</span></span>

<span data-ttu-id="f4766-128">Il motore di Database chiude le connessioni che rimangono inattive per più di 30 minuti.</span><span class="sxs-lookup"><span data-stu-id="f4766-128">The Database Engine closes connections that remain idle for more than 30 minutes.</span></span> <span data-ttu-id="f4766-129">La connessione deve accedere nuovamente prima di poter essere utilizzata.</span><span class="sxs-lookup"><span data-stu-id="f4766-129">The connection must login again before it can be used.</span></span> <span data-ttu-id="f4766-130">Per le connessioni al database SQL attive in modo continuo è necessaria la riautorizzazione (eseguita dal motore di database) almeno ogni 10 ore.</span><span class="sxs-lookup"><span data-stu-id="f4766-130">Continuously active connections to SQL Database require reauthorization (performed by the database engine) at least every 10 hours.</span></span> <span data-ttu-id="f4766-131">Il motore di database tenta la riautorizzazione usando la password inviata originariamente e non è necessario alcun input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="f4766-131">The database engine attempts reauthorization using the originally submitted password and no user input is required.</span></span> <span data-ttu-id="f4766-132">Per motivi di prestazioni quando si reimposta una password nel Database SQL, la connessione non viene autenticata di nuovo, anche se viene reimpostata a causa del pool di connessioni.</span><span class="sxs-lookup"><span data-stu-id="f4766-132">For performance reasons, when a password is reset in SQL Database, the connection is not be reauthenticated, even if the connection is reset due to connection pooling.</span></span> <span data-ttu-id="f4766-133">Ciò differisce dal comportamento del Server SQL locale.</span><span class="sxs-lookup"><span data-stu-id="f4766-133">This is different from the behavior of on-premises SQL Server.</span></span> <span data-ttu-id="f4766-134">Se la password è stata modificata poichè la connessione è stata inizialmente autorizzata, è necessario terminare la connessione e effettuarne una nuova utilizzando la nuova password.</span><span class="sxs-lookup"><span data-stu-id="f4766-134">If the password has been changed since the connection was initially authorized, the connection must be terminated and a new connection made using the new password.</span></span> <span data-ttu-id="f4766-135">Un utente con autorizzazione `KILL DATABASE CONNECTION` può terminare in modo esplicito una connessione al database SQL usando il comando [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f4766-135">A user with the `KILL DATABASE CONNECTION` permission can explicitly terminate a connection to SQL Database by using the [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) command.</span></span>

<span data-ttu-id="f4766-136">È possibile creare gli account utente nel database master e concedere le relative autorizzazioni in tutti i database sul server oppure creare gli account nel database stesso (utenti indipendenti).</span><span class="sxs-lookup"><span data-stu-id="f4766-136">User accounts can be created in the master database and can be granted permissions in all databases on the server, or they can be created in the database itself (called contained users).</span></span> <span data-ttu-id="f4766-137">Per informazioni sulla creazione e sulla gestione, vedere l'articolo su come [gestire gli account di accesso](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-137">For information on creating and managing logins, see [Manage logins](sql-database-manage-logins.md).</span></span> <span data-ttu-id="f4766-138">Per migliorare la portabilità e la scalabilità, usare utenti di database indipendente.</span><span class="sxs-lookup"><span data-stu-id="f4766-138">To enhance portability and scalabilty, use contained database users to enhance scalability.</span></span> <span data-ttu-id="f4766-139">Per altre informazioni sugli utenti indipendenti, vedere [Utenti di database indipendente: rendere portabile un database](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql) e [Database indipendenti](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span><span class="sxs-lookup"><span data-stu-id="f4766-139">For more information on contained users, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql), and [Contained Databases](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span></span>

<span data-ttu-id="f4766-140">È consigliabile usare un account dedicato per l'autenticazione dell'applicazione. In questo modo è possibile limitare le autorizzazioni concesse all'applicazione e ridurre i rischi di attività dannose, nel caso in cui il codice dell'applicazione sia vulnerabile ad attacchi SQL injection.</span><span class="sxs-lookup"><span data-stu-id="f4766-140">As a best practice your application should use a dedicated account to authenticate -- this way you can limit the permissions granted to the application and reduce the risks of malicious activity in case your application code is vulnerable to a SQL injection attack.</span></span> <span data-ttu-id="f4766-141">L'approccio consigliato consiste nel creare un [utente di database indipendente](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), consentendo così l'autenticazione dell'app direttamente nel database.</span><span class="sxs-lookup"><span data-stu-id="f4766-141">The recommended approach is to create a [contained database user](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), which allows your app to authenticate directly to the database.</span></span> 

## <a name="authorization"></a><span data-ttu-id="f4766-142">Authorization</span><span class="sxs-lookup"><span data-stu-id="f4766-142">Authorization</span></span>

<span data-ttu-id="f4766-143">Per autorizzazione si intendono le operazioni che l'utente può eseguire in un database SQL di Azure, che sono controllate dalle [appartenenze ai ruoli](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) del database e dalle [autorizzazioni a livello di oggetto](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine) dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="f4766-143">Authorization refers to what a user can do within an Azure SQL Database, and this is controlled by your user account's database [role memberships](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) and [object-level permissions](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span></span> <span data-ttu-id="f4766-144">Come procedura consigliata, è opportuno concedere agli utenti i privilegi minimi necessari.</span><span class="sxs-lookup"><span data-stu-id="f4766-144">As a best practice, you should grant users the least privileges necessary.</span></span> <span data-ttu-id="f4766-145">L'account di amministrazione del server a cui ci si sta connettendo è un membro del ruolo db_owner, che è autorizzato a eseguire qualsiasi operazione all'interno del database.</span><span class="sxs-lookup"><span data-stu-id="f4766-145">The server admin account you are connecting with is a member of db_owner, which has authority to do anything within the database.</span></span> <span data-ttu-id="f4766-146">Salvare questo account per la distribuzione degli aggiornamenti allo schema e altre operazioni di gestione.</span><span class="sxs-lookup"><span data-stu-id="f4766-146">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="f4766-147">Utilizzare l'account "ApplicationUser" con autorizzazioni più limitate per la connessione dall'applicazione al database con i privilegi minimi richiesti dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f4766-147">Use the "ApplicationUser" account with more limited permissions to connect from your application to the database with the least privileges needed by your application.</span></span> <span data-ttu-id="f4766-148">Per altre informazioni, vedere l'articolo su come [gestire gli account di accesso](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-148">For more information, see [Manage logins](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="f4766-149">In genere, solo gli amministratori hanno necessità di accedere al database `master`.</span><span class="sxs-lookup"><span data-stu-id="f4766-149">Typically, only administrators need access to the `master` database.</span></span> <span data-ttu-id="f4766-150">L'accesso di routine a ogni database utente deve avvenire tramite gli utenti non amministratori del database indipendente creati in ogni database.</span><span class="sxs-lookup"><span data-stu-id="f4766-150">Routine access to each user database should be through non-administrator contained database users created in each database.</span></span> <span data-ttu-id="f4766-151">Quando si usano gli utenti del database indipendente non è necessario creare account di accesso nel database `master`.</span><span class="sxs-lookup"><span data-stu-id="f4766-151">When you use contained database users, you do not need to create logins in the `master` database.</span></span> <span data-ttu-id="f4766-152">Per altre informazioni, vedere [Utenti di database indipendente: rendere portabile un database](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span><span class="sxs-lookup"><span data-stu-id="f4766-152">For more information, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span></span>

<span data-ttu-id="f4766-153">È consigliabile acquisire familiarità con le funzionalità seguenti, utili per limitare o elevare le autorizzazioni:</span><span class="sxs-lookup"><span data-stu-id="f4766-153">You should familiarize yourself with the following features that can be used to limit or elevate permissions:</span></span>   
* <span data-ttu-id="f4766-154">È possibile usare la [rappresentazione](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) e la [firma del modulo](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) per elevare temporaneamente le autorizzazioni in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="f4766-154">[Impersonation](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) and [module-signing](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) can be used to securely elevate permissions temporarily.</span></span>
* <span data-ttu-id="f4766-155">[Sicurezza a livello di riga](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) può essere utilizzato come limite alle cui righe un utente può accedere.</span><span class="sxs-lookup"><span data-stu-id="f4766-155">[Row-Level Security](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) can be used limit which rows a user can access.</span></span>
* <span data-ttu-id="f4766-156">[Mascheramento dei dati](sql-database-dynamic-data-masking-get-started.md) per limitare l'esposizione dei dati sensibili</span><span class="sxs-lookup"><span data-stu-id="f4766-156">[Data Masking](sql-database-dynamic-data-masking-get-started.md) can be used to limit exposure of sensitive data.</span></span>
* <span data-ttu-id="f4766-157">[Stored procedure](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) per limitare le operazioni che possono essere eseguite nel database.</span><span class="sxs-lookup"><span data-stu-id="f4766-157">[Stored procedures](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) can be used to limit the actions that can be taken on the database.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f4766-158">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="f4766-158">Next steps</span></span>

- <span data-ttu-id="f4766-159">Per una panoramica delle funzionalità di sicurezza del database SQL, vedere la [panoramica della sicurezza in SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-159">For an overview of the SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span>
- <span data-ttu-id="f4766-160">Per altre informazioni sulle regole del firewall, vedere [Regole del firewall](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-160">To learn more about firewall rules, see [Firewall rules](sql-database-firewall-configure.md).</span></span>
- <span data-ttu-id="f4766-161">Per informazioni su utenti e account di accesso, vedere l'articolo su come [gestire gli account di accesso](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-161">To learn about users and logins, see [Manage logins](sql-database-manage-logins.md).</span></span> 
- <span data-ttu-id="f4766-162">Per informazioni sul monitoraggio proattivo, vedere [controllo del database ](sql-database-auditing.md) e [Rilevamento delle minacce nel database SQL](sql-database-threat-detection.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-162">For a discussion of proactive monitoring, see [Database Auditing](sql-database-auditing.md) and [SQL Database Threat Detection](sql-database-threat-detection.md).</span></span>
- <span data-ttu-id="f4766-163">Per un'esercitazione, vedere [Proteggere il database SQL di Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="f4766-163">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>
