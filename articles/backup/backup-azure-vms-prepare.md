---
title: Preparazione dell'ambiente per il backup di macchine virtuali di Azure | Microsoft Docs
description: Assicurarsi che l'ambiente sia pronto per il backup di macchine virtuali in Azure
services: backup
documentationcenter: 
author: markgalioto
manager: carmonn
editor: 
keywords: backup; eseguire il backup;
ms.assetid: 238ab93b-8acc-4262-81b7-ce930f76a662
ms.service: backup
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 4/25/2017
ms.author: markgal;trinadhk;
ms.openlocfilehash: 072efdccaa8df5d430314d753a437b524986b53c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="prepare-your-environment-to-back-up-azure-virtual-machines"></a><span data-ttu-id="fd1e6-104">Preparare l'ambiente per il backup di macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="fd1e6-104">Prepare your environment to back up Azure virtual machines</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="fd1e6-105">Modello di Resource Manager</span><span class="sxs-lookup"><span data-stu-id="fd1e6-105">Resource Manager model</span></span>](backup-azure-arm-vms-prepare.md)
> * [<span data-ttu-id="fd1e6-106">Modello classico</span><span class="sxs-lookup"><span data-stu-id="fd1e6-106">Classic model</span></span>](backup-azure-vms-prepare.md)
>
>

<span data-ttu-id="fd1e6-107">Prima di eseguire il backup di una macchina virtuale (VM) di Azure, devono verificarsi tre condizioni.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-107">Before you can back up an Azure virtual machine (VM), there are three conditions that must exist.</span></span>

* <span data-ttu-id="fd1e6-108">È necessario creare un insieme di credenziali di backup o identificare un insieme di credenziali di backup esistente *nella stessa area della VM*.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-108">You need to create a backup vault or identify an existing backup vault *in the same region as your VM*.</span></span>
* <span data-ttu-id="fd1e6-109">Stabilire la connettività di rete tra gli indirizzi Internet pubblici di Azure e gli endpoint di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-109">Establish network connectivity between the Azure public Internet addresses and the Azure storage endpoints.</span></span>
* <span data-ttu-id="fd1e6-110">Installare l'agente di VM sulla VM.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-110">Install the VM agent on the VM.</span></span>

<span data-ttu-id="fd1e6-111">Se nell'ambiente esistono già queste condizioni, passare all'articolo [Eseguire il backup di macchine virtuali di Azure](backup-azure-vms.md).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-111">If you know these conditions already exist in your environment then proceed to the [Back up your VMs article](backup-azure-vms.md).</span></span> <span data-ttu-id="fd1e6-112">In caso contrario, continuare a leggere. Questo articolo illustra i passaggi per preparare l'ambiente per eseguire il backup di una VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-112">Otherwise, read on, this article will lead you through the steps to prepare your environment to back up an Azure VM.</span></span>

##<a name="supported-operating-system-for-backup"></a><span data-ttu-id="fd1e6-113">Sistema operativo supportato per il backup</span><span class="sxs-lookup"><span data-stu-id="fd1e6-113">Supported operating system for backup</span></span>
 * <span data-ttu-id="fd1e6-114">**Linux**: Backup di Azure supporta [un elenco di distribuzioni approvate da Azure](../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) , ad eccezione di CoreOS Linux.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-114">**Linux**: Azure Backup supports [a list of distributions that are endorsed by Azure](../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) except Core OS Linux.</span></span> <span data-ttu-id="fd1e6-115">_È possibile usare altre distribuzioni Bring Your Own Linux, a condizione che l'agente di macchine virtuali sia disponibile nella macchina virtuale e sia configurato il supporto per Python. Microsoft tuttavia non consiglia queste distribuzioni per il backup._</span><span class="sxs-lookup"><span data-stu-id="fd1e6-115">_Other Bring-Your-Own-Linux distributions also might work as long as the VM agent is available on the virtual machine and support for Python exists. However, we do not endorse those distributions for backup._</span></span>
 * <span data-ttu-id="fd1e6-116">**Windows Server**: le versioni precedenti a Windows Server 2008 R2 non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-116">**Windows Server**:  Versions older than Windows Server 2008 R2 are not supported.</span></span>


## <a name="limitations-when-backing-up-and-restoring-a-vm"></a><span data-ttu-id="fd1e6-117">Limitazioni durante il backup e il ripristino di una VM</span><span class="sxs-lookup"><span data-stu-id="fd1e6-117">Limitations when backing up and restoring a VM</span></span>
> [!NOTE]
> <span data-ttu-id="fd1e6-118">Azure offre due modelli di distribuzione per creare e usare le risorse: [Resource Manager e distribuzione classica](../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-118">Azure has two deployment models for creating and working with resources: [Resource Manager and classic](../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="fd1e6-119">L'elenco seguente indica le limitazioni quando si distribuisce usando il modello classico.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-119">The following list provides the limitations when deploying in the classic model.</span></span>
>
>

* <span data-ttu-id="fd1e6-120">Il backup di macchine virtuali con più di 16 dischi dati non è supportato.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-120">Backing up virtual machines with more than 16 data disks is not supported.</span></span>
* <span data-ttu-id="fd1e6-121">Il backup di macchine virtuali con un indirizzo IP riservato e nessun endpoint definito non è supportato.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-121">Backing up virtual machines with a reserved IP address and no defined endpoint is not supported.</span></span>
* <span data-ttu-id="fd1e6-122">I dati di backup non includono le unità di rete montate collegate alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-122">Backup data doesn't include network mounted drives attached to VM.</span></span>
* <span data-ttu-id="fd1e6-123">La sostituzione di una macchina virtuale esistente durante il ripristino non è supportata.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-123">Replacing an existing virtual machine during restore is not supported.</span></span> <span data-ttu-id="fd1e6-124">È necessario eliminare prima la macchina virtuale esistente e gli eventuali dischi associati e quindi ripristinare i dati dal backup.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-124">First delete the existing virtual machine and any associated disks, and then restore the data from backup.</span></span>
* <span data-ttu-id="fd1e6-125">L'operazione di backup e ripristino tra aree geografiche diverse non è supportata.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-125">Cross-region backup and restore is not supported.</span></span>
* <span data-ttu-id="fd1e6-126">Il backup di macchine virtuali tramite il servizio Backup di Azure è supportato in tutte le aree pubbliche di Azure (vedere l' [elenco di controllo](https://azure.microsoft.com/regions/#services) delle aree supportate).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-126">Backing up virtual machines by using the Azure Backup service is supported in all public regions of Azure (see the [checklist](https://azure.microsoft.com/regions/#services) of supported regions).</span></span> <span data-ttu-id="fd1e6-127">Se l'area che si sta cercando non è attualmente supportata, tale area non verrà visualizzata nell'elenco a discesa durante la creazione dell'insieme di credenziali.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-127">If the region that you are looking for is unsupported today, it will not appear in the dropdown list during vault creation.</span></span>
* <span data-ttu-id="fd1e6-128">Il backup di macchine virtuali con il servizio Backup di Azure è supportato soltanto per versioni specifiche dei sistemi operativi:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-128">Backing up virtual machines by using the Azure Backup service is supported only for select operating system versions:</span></span>
* <span data-ttu-id="fd1e6-129">Il ripristino di un controller di dominio di VM che fa parte di una configurazione con controller di dominio è supportato solo tramite PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-129">Restoring a domain controller (DC) VM that is part of a multi-DC configuration is supported only through PowerShell.</span></span> <span data-ttu-id="fd1e6-130">Altre informazioni sul [ripristino di un controller di dominio con più controller di dominio](backup-azure-restore-vms.md#restoring-domain-controller-vms).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-130">Read more about [restoring a multi-DC domain controller](backup-azure-restore-vms.md#restoring-domain-controller-vms).</span></span>
* <span data-ttu-id="fd1e6-131">Il ripristino delle macchine virtuali che presentano le seguenti configurazioni di rete speciali è supportato solo tramite PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-131">Restoring virtual machines that have the following special network configurations is supported only through PowerShell.</span></span> <span data-ttu-id="fd1e6-132">Le macchine virtuali create usando il flusso di lavoro di ripristino nell'interfaccia utente non potranno avere queste configurazioni di rete al termine dell'operazione di ripristino.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-132">VMs that you create by using the restore workflow in the UI will not have these network configurations after the restore operation is complete.</span></span> <span data-ttu-id="fd1e6-133">Per altre informazioni, vedere [Ripristino delle macchine virtuali con configurazioni di rete speciali](backup-azure-restore-vms.md#restoring-vms-with-special-network-configurations).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-133">To learn more, see [Restoring VMs with special network configurations](backup-azure-restore-vms.md#restoring-vms-with-special-network-configurations).</span></span>
  * <span data-ttu-id="fd1e6-134">Macchine virtuali con configurazione del servizio di bilanciamento del carico (interno ed esterno)</span><span class="sxs-lookup"><span data-stu-id="fd1e6-134">Virtual machines under load balancer configuration (internal and external)</span></span>
  * <span data-ttu-id="fd1e6-135">Macchine virtuali con più indirizzi IP riservati</span><span class="sxs-lookup"><span data-stu-id="fd1e6-135">Virtual machines with multiple reserved IP addresses</span></span>
  * <span data-ttu-id="fd1e6-136">Macchine virtuali con più schede di rete</span><span class="sxs-lookup"><span data-stu-id="fd1e6-136">Virtual machines with multiple network adapters</span></span>

## <a name="create-a-backup-vault-for-a-vm"></a><span data-ttu-id="fd1e6-137">Creare un insieme di credenziali di backup per una VM</span><span class="sxs-lookup"><span data-stu-id="fd1e6-137">Create a backup vault for a VM</span></span>
<span data-ttu-id="fd1e6-138">Un insieme di credenziali di backup è un'entità che archivia tutti i backup e i punti di ripristino che sono stati creati nel corso del tempo.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-138">A backup vault is an entity that stores all the backups and recovery points that have been created over time.</span></span> <span data-ttu-id="fd1e6-139">L'insieme di credenziali di backup contiene anche i criteri di backup che verranno applicati alle macchine virtuali di cui viene eseguito il backup.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-139">The backup vault also contains the backup policies that will be applied to the virtual machines being backed up.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fd1e6-140">A partire da marzo 2017, non è più possibile usare il portale classico per creare insiemi di credenziali di backup.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-140">Starting March 2017, you can no longer use the classic portal to create Backup vaults.</span></span> <span data-ttu-id="fd1e6-141">Gli insiemi di credenziali di backup esistenti sono ancora supportati ed è possibile [usare Azure PowerShell per creare insiemi di credenziali di backup](./backup-client-automation-classic.md#create-a-backup-vault).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-141">Existing Backup vaults are still supported, and it is possible to [use Azure PowerShell to create Backup vaults](./backup-client-automation-classic.md#create-a-backup-vault).</span></span> <span data-ttu-id="fd1e6-142">È tuttavia consigliabile creare insiemi di credenziali dei servizi di ripristino per tutte le distribuzioni, perché i miglioramenti futuri si applicheranno solo a tali insiemi di credenziali.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-142">However, Microsoft recommends you create Recovery Services vaults for all deployments because future enhancements apply to Recovery Services vaults, only.</span></span>


<span data-ttu-id="fd1e6-143">Questa figura mostra le relazioni tra le diverse entità di Backup di Azure: ![Entità e relazioni di Backup di Azure](./media/backup-azure-vms-prepare/vault-policy-vm.png)</span><span class="sxs-lookup"><span data-stu-id="fd1e6-143">This image shows the relationships between the various Azure Backup entities: ![Azure Backup entities and relationships](./media/backup-azure-vms-prepare/vault-policy-vm.png)</span></span>



## <a name="network-connectivity"></a><span data-ttu-id="fd1e6-144">Connettività di rete</span><span class="sxs-lookup"><span data-stu-id="fd1e6-144">Network connectivity</span></span>
<span data-ttu-id="fd1e6-145">Per gestire gli snapshot di una macchina virtuale, l'estensione di backup richiede la connettività agli indirizzi IP pubblici di Azure.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-145">In order to manage the VM snapshots, the backup extension needs connectivity to the Azure public IP addresses.</span></span> <span data-ttu-id="fd1e6-146">Senza la connettività Internet appropriata, si verificherà il timeout delle richieste HTTP della macchina virtuale e l'operazione di backup non verrà eseguita.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-146">Without the right Internet connectivity, the virtual machine's HTTP requests time out and the backup operation fails.</span></span> <span data-ttu-id="fd1e6-147">Se la distribuzione ha restrizioni di accesso, ad esempio, un gruppo di sicurezza di rete (NSG), scegliere una delle opzioni seguenti per specificare un percorso chiaro per il traffico di backup:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-147">If your deployment has access restrictions in place (through a network security group (NSG), for example), then choose one of these options for providing a clear path for backup traffic:</span></span>

* <span data-ttu-id="fd1e6-148">[Microsoft Azure Datacenter IP Ranges](http://www.microsoft.com/en-us/download/details.aspx?id=41653) (Intervalli di indirizzi IP dei data center di Azure): leggere l'articolo per istruzioni su come includere gli indirizzi IP nell'elenco degli elementi consentiti.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-148">[Whitelist the Azure datacenter IP ranges](http://www.microsoft.com/en-us/download/details.aspx?id=41653) - see the article for instructions on how to whitelist the IP addresses.</span></span>
* <span data-ttu-id="fd1e6-149">Distribuire un server proxy HTTP per eseguire il routing del traffico</span><span class="sxs-lookup"><span data-stu-id="fd1e6-149">Deploy an HTTP proxy server for routing traffic.</span></span>

<span data-ttu-id="fd1e6-150">Quando si decide quale opzione usare, i compromessi sono compresi tra facilità di gestione, controllo granulare e costo.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-150">When deciding which option to use, the trade-offs are between manageability, granular control, and cost.</span></span>

| <span data-ttu-id="fd1e6-151">Opzione</span><span class="sxs-lookup"><span data-stu-id="fd1e6-151">Option</span></span> | <span data-ttu-id="fd1e6-152">Vantaggi</span><span class="sxs-lookup"><span data-stu-id="fd1e6-152">Advantages</span></span> | <span data-ttu-id="fd1e6-153">Svantaggi:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-153">Disadvantages</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fd1e6-154">Aggiungere gli intervalli IP all'elenco elementi consentiti </span><span class="sxs-lookup"><span data-stu-id="fd1e6-154">Whitelist IP ranges</span></span> |<span data-ttu-id="fd1e6-155">Senza costi aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-155">No additional costs.</span></span><br><br><span data-ttu-id="fd1e6-156">Per aprire l'accesso in un gruppo di sicurezza di rete, usare il cmdlet <i>Set-AzureNetworkSecurityRule</i>.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-156">For opening access in an NSG, use the <i>Set-AzureNetworkSecurityRule</i> cmdlet.</span></span> |<span data-ttu-id="fd1e6-157">Complessità di gestione perché gli intervalli IP interessati variano nel tempo.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-157">Complex to manage as the impacted IP ranges change over time.</span></span><br><br><span data-ttu-id="fd1e6-158">Offre l'accesso a tutto l'ambiente di Azure, non solo al servizio di Archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-158">Provides access to the whole of Azure, and not just Storage.</span></span> |
| <span data-ttu-id="fd1e6-159">Proxy HTTP</span><span class="sxs-lookup"><span data-stu-id="fd1e6-159">HTTP proxy</span></span> |<span data-ttu-id="fd1e6-160">È consentito il controllo granulare nel proxy sugli URL di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-160">Granular control in the proxy over the storage URLs allowed.</span></span> <span data-ttu-id="fd1e6-161">Per impostare il controllo granulare nel proxy, vedere il sito Web all'indirizzo https://\*.blob.core.windows.net/\* I modelli di URL devono essere aggiunti all'elenco elementi consentiti.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-161">To setup granular control in the proxy, https://\*.blob.core.windows.net/\* URL Pattern needs to be whitelisted.</span></span> <span data-ttu-id="fd1e6-162">Per aggiungere all'elenco elementi consentiti solo l'account di archiviazione usato dalla macchina virtuale, vedere il sito Web all'indirizzo https://\<storageAccount\>.blob.core.windows.net/\* I modelli di URL devono essere aggiunti all'elenco elementi consentiti.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-162">To whitelist only the storage account used by the VM, https://\<storageAccount\>.blob.core.windows.net/\* URL pattern needs to be whitelisted.</span></span> <br><span data-ttu-id="fd1e6-163">Singolo punto di accesso Internet alle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-163">Single point of Internet access to VMs.</span></span><br><span data-ttu-id="fd1e6-164">Non è soggetto alle modifiche degli indirizzi IP di Azure.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-164">Not subject to Azure IP address changes.</span></span> |<span data-ttu-id="fd1e6-165">Costi aggiuntivi per l'esecuzione di una VM con il software proxy.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-165">Additional costs for running a VM with the proxy software.</span></span> |

### <a name="whitelist-the-azure-datacenter-ip-ranges"></a><span data-ttu-id="fd1e6-166">Microsoft Azure Datacenter IP Ranges </span><span class="sxs-lookup"><span data-stu-id="fd1e6-166">Whitelist the Azure datacenter IP ranges</span></span>
<span data-ttu-id="fd1e6-167">Per aggiungere gli intervalli IP dei data center di Azure all'elenco degli elementi consentiti, vedere il [sito Web di Azure](http://www.microsoft.com/en-us/download/details.aspx?id=41653) per informazioni dettagliate sugli intervalli IP e per istruzioni.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-167">To whitelist the Azure datacenter IP ranges, please see the [Azure website](http://www.microsoft.com/en-us/download/details.aspx?id=41653) for details on the IP ranges, and instructions.</span></span>

### <a name="using-an-http-proxy-for-vm-backups"></a><span data-ttu-id="fd1e6-168">Uso di un proxy HTTP per i backup delle VM</span><span class="sxs-lookup"><span data-stu-id="fd1e6-168">Using an HTTP proxy for VM backups</span></span>
<span data-ttu-id="fd1e6-169">Quando si esegue il backup di una macchina virtuale, l'estensione di backup nella VM invia i comandi di gestione degli snapshot ad Archiviazione di Azure usando un'API HTTPS.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-169">When backing up a VM, the backup extension on the VM sends the snapshot management commands to Azure Storage using an HTTPS API.</span></span> <span data-ttu-id="fd1e6-170">Eseguire il routing del traffico di estensione del backup tramite il proxy HTTP perché è l'unico componente configurato per l'accesso a Internet pubblico.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-170">Route the backup extension traffic through the HTTP proxy since it is the only component configured for access to the public Internet.</span></span>

> [!NOTE]
> <span data-ttu-id="fd1e6-171">Non esiste alcuna raccomandazione per il proxy da usare.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-171">There is no recommendation for the proxy software that should be used.</span></span> <span data-ttu-id="fd1e6-172">Assicurarsi di scegliere un proxy con persistenza in uscita e compatibile con la procedura di configurazione descritta di seguito.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-172">Ensure that you pick a proxy that has outbound stickiness and which is compatible with the configuration steps below.</span></span> <span data-ttu-id="fd1e6-173">Assicurarsi che i prodotti software di terze parti non modifichino le impostazioni del proxy</span><span class="sxs-lookup"><span data-stu-id="fd1e6-173">Make sure third party softwares do not modify the proxy settings</span></span>
>
>

<span data-ttu-id="fd1e6-174">L'immagine dell'esempio seguente visualizza i tre passaggi necessari per usare un proxy HTTP:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-174">The example image below shows the three configuration steps necessary to use an HTTP proxy:</span></span>

* <span data-ttu-id="fd1e6-175">La VM dell'app esegue il routing del traffico HTTP diretto alla rete Internet pubblica attraverso la VM del proxy.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-175">App VM routes all HTTP traffic bound for the public Internet through Proxy VM.</span></span>
* <span data-ttu-id="fd1e6-176">La VM del Proxy consente il traffico in entrata da macchine virtuali nella rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-176">Proxy VM allows incoming traffic from VMs in the virtual network.</span></span>
* <span data-ttu-id="fd1e6-177">Il gruppo di sicurezza di rete (NSG) denominato blocco NSF ha bisogno di una regola di sicurezza che consenta il traffico Internet in uscita dalla VM Proxy.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-177">The Network Security Group (NSG) named NSF-lockdown needs a security rule allowing outbound Internet traffic from Proxy VM.</span></span>

![Diagramma della distribuzione gruppo di sicurezza di rete con proxy HTTP](./media/backup-azure-vms-prepare/nsg-with-http-proxy.png)

<span data-ttu-id="fd1e6-179">Per usare un proxy HTTP per la comunicazione con la rete Internet pubblica, attenersi alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-179">To use an HTTP proxy to communicating to the public Internet, follow these steps:</span></span>

#### <a name="step-1-configure-outgoing-network-connections"></a><span data-ttu-id="fd1e6-180">Passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-180">Step 1.</span></span> <span data-ttu-id="fd1e6-181">Configurare le connessioni di rete in uscita</span><span class="sxs-lookup"><span data-stu-id="fd1e6-181">Configure outgoing network connections</span></span>
###### <a name="for-windows-machines"></a><span data-ttu-id="fd1e6-182">Per macchine Windows</span><span class="sxs-lookup"><span data-stu-id="fd1e6-182">For Windows machines</span></span>
<span data-ttu-id="fd1e6-183">Questa procedura consente di impostare la configurazione del server proxy per l'account del sistema locale.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-183">This will setup proxy server configuration for Local System Account.</span></span>

1. <span data-ttu-id="fd1e6-184">Scaricare [PsExec](https://technet.microsoft.com/sysinternals/bb897553)</span><span class="sxs-lookup"><span data-stu-id="fd1e6-184">Download [PsExec](https://technet.microsoft.com/sysinternals/bb897553)</span></span>
2. <span data-ttu-id="fd1e6-185">Eseguire il comando seguente dal prompt dei comandi con privilegi elevati,</span><span class="sxs-lookup"><span data-stu-id="fd1e6-185">Run following command from elevated prompt,</span></span>

     ```
     psexec -i -s "c:\Program Files\Internet Explorer\iexplore.exe"
     ```
     <span data-ttu-id="fd1e6-186">Si apre la finestra di Explorer.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-186">It will open internet explorer window.</span></span>
3. <span data-ttu-id="fd1e6-187">Scegliere Strumenti -> Opzioni Internet -> Connessioni -> Impostazioni LAN.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-187">Go to Tools -> Internet Options -> Connections -> LAN settings.</span></span>
4. <span data-ttu-id="fd1e6-188">Verificare le impostazioni del proxy per l'account di sistema.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-188">Verify proxy settings for System account.</span></span> <span data-ttu-id="fd1e6-189">Impostare l'IP del Proxy e la porta.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-189">Set Proxy IP and port.</span></span>
5. <span data-ttu-id="fd1e6-190">Chiudere Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-190">Close Internet Explorer.</span></span>

<span data-ttu-id="fd1e6-191">Questo comando esegue una configurazione proxy a livello di computer e verrà usato per tutto il traffico HTTP/HTTPS in uscita.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-191">This will set up a machine-wide proxy configuration, and will be used for any outgoing HTTP/HTTPS traffic.</span></span>

<span data-ttu-id="fd1e6-192">Se è stato installato un server proxy in un account utente corrente (non in un account di sistema locale), usare lo script seguente per applicare le impostazioni a SYSTEMACCOUNT:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-192">If you have setup a proxy server on a current user account(not a Local System Account), use the following script to apply them to SYSTEMACCOUNT:</span></span>

```
   $obj = Get-ItemProperty -Path Registry::”HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings\Connections"
   Set-ItemProperty -Path Registry::”HKEY_USERS\S-1-5-18\Software\Microsoft\Windows\CurrentVersion\Internet Settings\Connections" -Name DefaultConnectionSettings -Value $obj.DefaultConnectionSettings
   Set-ItemProperty -Path Registry::”HKEY_USERS\S-1-5-18\Software\Microsoft\Windows\CurrentVersion\Internet Settings\Connections" -Name SavedLegacySettings -Value $obj.SavedLegacySettings
   $obj = Get-ItemProperty -Path Registry::”HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings"
   Set-ItemProperty -Path Registry::”HKEY_USERS\S-1-5-18\Software\Microsoft\Windows\CurrentVersion\Internet Settings" -Name ProxyEnable -Value $obj.ProxyEnable
   Set-ItemProperty -Path Registry::”HKEY_USERS\S-1-5-18\Software\Microsoft\Windows\CurrentVersion\Internet Settings" -Name Proxyserver -Value $obj.Proxyserver
```

> [!NOTE]
> <span data-ttu-id="fd1e6-193">Se si nota il messaggio "(407) Autenticazione proxy obbligatoria" nel log del server proxy, verificare che l'autenticazione sia impostata correttamente.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-193">If you observe "(407)Proxy Authentication Required" in proxy server log, check your authentication is setup correctly.</span></span>
>
>

###### <a name="for-linux-machines"></a><span data-ttu-id="fd1e6-194">Per macchine Linux</span><span class="sxs-lookup"><span data-stu-id="fd1e6-194">For Linux machines</span></span>
<span data-ttu-id="fd1e6-195">Aggiungere la riga seguente al file ```/etc/environment``` :</span><span class="sxs-lookup"><span data-stu-id="fd1e6-195">Add the following line to the ```/etc/environment``` file:</span></span>

```
http_proxy=http://<proxy IP>:<proxy port>
```

<span data-ttu-id="fd1e6-196">Aggiungere le righe seguenti al file ```/etc/waagent.conf``` :</span><span class="sxs-lookup"><span data-stu-id="fd1e6-196">Add the following lines to the ```/etc/waagent.conf``` file:</span></span>

```
HttpProxy.Host=<proxy IP>
HttpProxy.Port=<proxy port>
```

#### <a name="step-2-allow-incoming-connections-on-the-proxy-server"></a><span data-ttu-id="fd1e6-197">Passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-197">Step 2.</span></span> <span data-ttu-id="fd1e6-198">Consentire le connessioni in entrata nel server proxy:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-198">Allow incoming connections on the proxy server:</span></span>
1. <span data-ttu-id="fd1e6-199">Aprire Windows Firewall nel server proxy.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-199">On the proxy server, open Windows Firewall.</span></span> <span data-ttu-id="fd1e6-200">Il modo più semplice per accedere al firewall consiste nel cercare Windows Firewall con Sicurezza avanzata.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-200">The easiest way to access the firewall is to search for Windows Firewall with Advanced Security.</span></span>

    ![Aprire il firewall](./media/backup-azure-vms-prepare/firewall-01.png)
2. <span data-ttu-id="fd1e6-202">Nella finestra di dialogo Windows Firewall fare clic con il pulsante destro del mouse su **Regole in ingresso** e scegliere **Nuova regola**.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-202">In the Windows Firewall dialog, right-click  **Inbound Rules** and click **New Rule...**.</span></span>

    ![Creare una nuova regola](./media/backup-azure-vms-prepare/firewall-02.png)
3. <span data-ttu-id="fd1e6-204">In **Creazione guidata nuova regola connessioni in entrata** scegliere l'opzione **Personalizzata** per **Tipo di regola** e fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-204">In the **New Inbound Rule Wizard**, choose the **Custom** option for the **Rule Type** and click **Next**.</span></span>
4. <span data-ttu-id="fd1e6-205">Nella schermata di selezione del **Programma** scegliere **Tutti i programmi** e fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-205">On the page to select the **Program**, choose **All Programs** and click **Next**.</span></span>
5. <span data-ttu-id="fd1e6-206">Nella pagina **Protocollo e porte** specificare le informazioni seguenti e fare clic su **Avanti**:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-206">On the **Protocol and Ports** page, enter the following information and click **Next**:</span></span>

    ![Creare una nuova regola](./media/backup-azure-vms-prepare/firewall-03.png)

   * <span data-ttu-id="fd1e6-208">Nel campo *Tipo di protocollo* scegliere *TCP*.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-208">for *Protocol type* choose *TCP*</span></span>
   * <span data-ttu-id="fd1e6-209">Nel campo *Porta locale* scegliere *Porte specifiche* e nel campo sottostante specificare la ```<Proxy Port>``` configurata.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-209">for *Local port* choose *Specific Ports*, in the field below specify the ```<Proxy Port>``` that has been configured.</span></span>
   * <span data-ttu-id="fd1e6-210">Nel campo *Porta remota* selezionare *Tutte le porte*.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-210">for *Remote port* select *All Ports*</span></span>

     <span data-ttu-id="fd1e6-211">Completare la procedura guidata facendo clic su Avanti fino al termine e assegnare un nome a questa regola.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-211">For the rest of the wizard, click all the way to the end and give this rule a name.</span></span>

#### <a name="step-3-add-an-exception-rule-to-the-nsg"></a><span data-ttu-id="fd1e6-212">Passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-212">Step 3.</span></span> <span data-ttu-id="fd1e6-213">Aggiungere una regola di eccezione al gruppo di sicurezza di rete (NSG):</span><span class="sxs-lookup"><span data-stu-id="fd1e6-213">Add an exception rule to the NSG:</span></span>
<span data-ttu-id="fd1e6-214">In un prompt dei comandi di Azure PowerShell digitare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="fd1e6-214">In an Azure PowerShell command prompt, enter the following command:</span></span>

<span data-ttu-id="fd1e6-215">Il comando aggiunge un'eccezione per il gruppo di sicurezza di rete (NSG).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-215">The following command adds an exception to the NSG.</span></span> <span data-ttu-id="fd1e6-216">Questa eccezione consente il traffico TCP da qualsiasi porta da 10.0.0.5 a qualsiasi indirizzo Internet sulla porta 80 (HTTP) o 443 (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-216">This exception allows TCP traffic from any port on 10.0.0.5 to any Internet address on port 80 (HTTP) or 443 (HTTPS).</span></span> <span data-ttu-id="fd1e6-217">Se è necessario usare una porta specifica nell'area Internet pubblica, assicurarsi di aggiungerla anche a ```-DestinationPortRange``` .</span><span class="sxs-lookup"><span data-stu-id="fd1e6-217">If you require a specific port in the public Internet, be sure to add that port to the ```-DestinationPortRange``` as well.</span></span>

```
Get-AzureNetworkSecurityGroup -Name "NSG-lockdown" |
Set-AzureNetworkSecurityRule -Name "allow-proxy " -Action Allow -Protocol TCP -Type Outbound -Priority 200 -SourceAddressPrefix "10.0.0.5/32" -SourcePortRange "*" -DestinationAddressPrefix Internet -DestinationPortRange "80-443"
```

<span data-ttu-id="fd1e6-218">*Assicurarsi di sostituire i nomi nell'esempio con quelli appropriati alla distribuzione in uso.*</span><span class="sxs-lookup"><span data-stu-id="fd1e6-218">*Ensure that you replace the names in the example with the details appropriate to your deployment.*</span></span>

## <a name="vm-agent"></a><span data-ttu-id="fd1e6-219">Agente di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="fd1e6-219">VM agent</span></span>
<span data-ttu-id="fd1e6-220">Prima di eseguire il backup della macchina virtuale di Azure, è consigliabile assicurarsi che l'agente di macchine virtuali di Azure (agente VM) sia installato correttamente nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-220">Before you can back up the Azure virtual machine, you should ensure that the Azure VM agent is correctly installed on the virtual machine.</span></span> <span data-ttu-id="fd1e6-221">Poiché al momento della creazione della macchina virtuale l'agente VM è un componente opzionale, assicurarsi che la relativa casella di controllo sia selezionata prima di eseguire il provisioning della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-221">Since the VM agent is an optional component at the time that the virtual machine is created, ensure that the check box for the VM agent is selected before the virtual machine is provisioned.</span></span>

### <a name="manual-installation-and-update"></a><span data-ttu-id="fd1e6-222">Installazione e aggiornamento manuali</span><span class="sxs-lookup"><span data-stu-id="fd1e6-222">Manual installation and update</span></span>
<span data-ttu-id="fd1e6-223">L'agente VM è già presente nelle VM create dalla raccolta di Azure.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-223">The VM agent is already present in VMs that are created from the Azure gallery.</span></span> <span data-ttu-id="fd1e6-224">Nelle macchine virtuali di cui viene eseguita la migrazione da data center locali non è installato l'agente VM.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-224">However, virtual machines that are migrated from on-premises datacenters would not have the VM agent installed.</span></span> <span data-ttu-id="fd1e6-225">Per queste VM è necessario installare esplicitamente l'agente VM.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-225">For such VMs, the VM agent needs to be installed explicitly.</span></span> <span data-ttu-id="fd1e6-226">Altre informazioni sull' [installazione dell'agente di VM in una VM esistente](http://blogs.msdn.com/b/mast/archive/2014/04/08/install-the-vm-agent-on-an-existing-azure-vm.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-226">Read more about [installing the VM agent on an existing VM](http://blogs.msdn.com/b/mast/archive/2014/04/08/install-the-vm-agent-on-an-existing-azure-vm.aspx).</span></span>

| <span data-ttu-id="fd1e6-227">**Operazione**</span><span class="sxs-lookup"><span data-stu-id="fd1e6-227">**Operation**</span></span> | <span data-ttu-id="fd1e6-228">**Windows**</span><span class="sxs-lookup"><span data-stu-id="fd1e6-228">**Windows**</span></span> | <span data-ttu-id="fd1e6-229">**Linux**</span><span class="sxs-lookup"><span data-stu-id="fd1e6-229">**Linux**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fd1e6-230">Installazione dell'agente di VM</span><span class="sxs-lookup"><span data-stu-id="fd1e6-230">Installing the VM agent</span></span> |<li><span data-ttu-id="fd1e6-231">Scaricare e installare il file [MSI per l'agente](http://go.microsoft.com/fwlink/?LinkID=394789&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-231">Download and install the [agent MSI](http://go.microsoft.com/fwlink/?LinkID=394789&clcid=0x409).</span></span> <span data-ttu-id="fd1e6-232">Per completare l'installazione sono necessari privilegi di amministratore.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-232">You will need Administrator privileges to complete the installation.</span></span> <li><span data-ttu-id="fd1e6-233">[Aggiornare le proprietà della VM](http://blogs.msdn.com/b/mast/archive/2014/04/08/install-the-vm-agent-on-an-existing-azure-vm.aspx) per indicare che l'agente è stato installato.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-233">[Update the VM property](http://blogs.msdn.com/b/mast/archive/2014/04/08/install-the-vm-agent-on-an-existing-azure-vm.aspx) to indicate that the agent is installed.</span></span> |<li> <span data-ttu-id="fd1e6-234">Installare l' [agente Linux](https://github.com/Azure/WALinuxAgent) più recente da GitHub.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-234">Install the latest [Linux agent](https://github.com/Azure/WALinuxAgent) from GitHub.</span></span> <span data-ttu-id="fd1e6-235">Per completare l'installazione sono necessari privilegi di amministratore.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-235">You will need Administrator privileges to complete the installation.</span></span> <li> <span data-ttu-id="fd1e6-236">[Aggiornare le proprietà della VM](http://blogs.msdn.com/b/mast/archive/2014/04/08/install-the-vm-agent-on-an-existing-azure-vm.aspx) per indicare che l'agente è stato installato.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-236">[Update the VM property](http://blogs.msdn.com/b/mast/archive/2014/04/08/install-the-vm-agent-on-an-existing-azure-vm.aspx) to indicate that the agent is installed.</span></span> |
| <span data-ttu-id="fd1e6-237">Aggiornamento dell'agente di VM</span><span class="sxs-lookup"><span data-stu-id="fd1e6-237">Updating the VM agent</span></span> |<span data-ttu-id="fd1e6-238">L'aggiornamento dell'agente VM è semplice quanto la reinstallazione dei [file binari dell'agente VM](http://go.microsoft.com/fwlink/?LinkID=394789&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-238">Updating the VM agent is as simple as reinstalling the [VM agent binaries](http://go.microsoft.com/fwlink/?LinkID=394789&clcid=0x409).</span></span> <br><br><span data-ttu-id="fd1e6-239">Assicurarsi che non siano in esecuzione operazioni di backup durante l'aggiornamento dell'agente VM.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-239">Ensure that no backup operation is running while the VM agent is being updated.</span></span> |<span data-ttu-id="fd1e6-240">Seguire le istruzioni sull'[aggiornamento dell'agente di VM Linux ](../virtual-machines/linux/update-agent.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-240">Follow the instructions on [updating the Linux VM agent ](../virtual-machines/linux/update-agent.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <br><br><span data-ttu-id="fd1e6-241">Assicurarsi che non siano in esecuzione operazioni di backup durante l'aggiornamento dell'agente VM.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-241">Ensure that no backup operation is running while the VM agent is being updated.</span></span> |
| <span data-ttu-id="fd1e6-242">Convalida dell'installazione dell'agente di VM</span><span class="sxs-lookup"><span data-stu-id="fd1e6-242">Validating the VM agent installation</span></span> |<li><span data-ttu-id="fd1e6-243">Passare alla cartella *C:\WindowsAzure\Packages* nella VM di Azure,</span><span class="sxs-lookup"><span data-stu-id="fd1e6-243">Navigate to the *C:\WindowsAzure\Packages* folder in the Azure VM.</span></span> <li><span data-ttu-id="fd1e6-244">che dovrebbe includere il file WaAppAgent.exe.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-244">You should find the WaAppAgent.exe file present.</span></span><li> <span data-ttu-id="fd1e6-245">Fare clic con il pulsante destro del mouse sul file, scegliere **Proprietà** e quindi selezionare la scheda **Dettagli**.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-245">Right-click the file, go to **Properties**, and then select the **Details** tab.</span></span> <span data-ttu-id="fd1e6-246">Il campo Versione prodotto deve essere 2.6.1198.718 o superiore.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-246">The Product Version field should be 2.6.1198.718 or higher.</span></span> |<span data-ttu-id="fd1e6-247">N/D</span><span class="sxs-lookup"><span data-stu-id="fd1e6-247">N/A</span></span> |

<span data-ttu-id="fd1e6-248">Per altre informazioni, vedere gli articoli sull'[agente di macchine virtuale](https://go.microsoft.com/fwLink/?LinkID=390493&clcid=0x409) e sulla relativa [installazione](https://azure.microsoft.com/blog/2014/04/15/vm-agent-and-extensions-part-2/).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-248">Learn about the [VM agent](https://go.microsoft.com/fwLink/?LinkID=390493&clcid=0x409) and [how to install it](https://azure.microsoft.com/blog/2014/04/15/vm-agent-and-extensions-part-2/).</span></span>

### <a name="backup-extension"></a><span data-ttu-id="fd1e6-249">Estensione di backup</span><span class="sxs-lookup"><span data-stu-id="fd1e6-249">Backup extension</span></span>
<span data-ttu-id="fd1e6-250">Per eseguire il backup della macchina virtuale, il servizio Backup di Azure installa un'estensione nell'agente di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-250">To back up the virtual machine, the Azure Backup service installs an extension to the VM agent.</span></span> <span data-ttu-id="fd1e6-251">Il servizio Backup di Azure applica aggiornamenti e patch all'estensione di backup senza ulteriore intervento dell'utente.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-251">The Azure Backup service seamlessly upgrades and patches the backup extension without additional user intervention.</span></span>

<span data-ttu-id="fd1e6-252">L'estensione per il backup viene installata se la macchina virtuale è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-252">The backup extension is installed if the VM is running.</span></span> <span data-ttu-id="fd1e6-253">Una macchina virtuale in esecuzione consente anche di ottenere un punto di ripristino coerente con l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-253">A running VM also provides the greatest chance of getting an application-consistent recovery point.</span></span> <span data-ttu-id="fd1e6-254">Il servizio Backup di Azure continuerà tuttavia a eseguire il backup della macchina virtuale, anche se questa è spenta e non è stato possibile installare l'estensione (macchina virtuale offline).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-254">However, the Azure Backup service will continue to back up the VM--even if it is turned off, and the extension could not be installed (aka Offline VM).</span></span> <span data-ttu-id="fd1e6-255">In questo caso, il punto di ripristino sarà *coerente con l'arresto anomalo* , come indicato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-255">In this case, the recovery point will be *crash consistent* as discussed above.</span></span>

## <a name="questions"></a><span data-ttu-id="fd1e6-256">Domande?</span><span class="sxs-lookup"><span data-stu-id="fd1e6-256">Questions?</span></span>
<span data-ttu-id="fd1e6-257">In caso di domande o se si vuole che venga inclusa una funzionalità, è possibile [inviare commenti e suggerimenti](http://aka.ms/azurebackup_feedback).</span><span class="sxs-lookup"><span data-stu-id="fd1e6-257">If you have questions, or if there is any feature that you would like to see included, [send us feedback](http://aka.ms/azurebackup_feedback).</span></span>

## <a name="next-steps"></a><span data-ttu-id="fd1e6-258">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="fd1e6-258">Next steps</span></span>
<span data-ttu-id="fd1e6-259">Ora che è stato preparato l'ambiente per il backup della VM, il passaggio logico successivo consiste nel creare un backup.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-259">Now that you have prepared your environment for backing up your VM, your next logical step is to create a backup.</span></span> <span data-ttu-id="fd1e6-260">L'articolo sulla pianificazione offre informazioni più dettagliate sul backup delle VM.</span><span class="sxs-lookup"><span data-stu-id="fd1e6-260">The planning article provides more detailed information about backing up VMs.</span></span>

* [<span data-ttu-id="fd1e6-261">Eseguire il backup di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="fd1e6-261">Back up virtual machines</span></span>](backup-azure-vms.md)
* [<span data-ttu-id="fd1e6-262">Pianificare l'infrastruttura di backup delle VM</span><span class="sxs-lookup"><span data-stu-id="fd1e6-262">Plan your VM backup infrastructure</span></span>](backup-azure-vms-introduction.md)
* [<span data-ttu-id="fd1e6-263">Gestire backup di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="fd1e6-263">Manage virtual machine backups</span></span>](backup-azure-manage-vms.md)
