---
title: i livelli nel database di Azure Cosmos aaaConsistency | Documenti Microsoft
description: "DB Cosmos Azure dispone di cinque coerenza livelli toohelp saldo finale coerenza, disponibilità e latenza compromessi."
keywords: coerenza finale, azure cosmos db, azure, Microsoft azure
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: ac399c229d0856cd811bc81568536e519af3300f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="a396c-104">Livelli di coerenza dei dati ottimizzabili in Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="a396c-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="a396c-105">È progettato Azure DB Cosmos hello messa a terra con la distribuzione globale presente per ogni modello di dati.</span><span class="sxs-lookup"><span data-stu-id="a396c-105">Azure Cosmos DB is designed from hello ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="a396c-106">È progettato toooffer stimabile a bassa latenza garanzie, un contratto di servizio disponibilità 99,99%, e ben definite più ridotti i modelli di coerenza.</span><span class="sxs-lookup"><span data-stu-id="a396c-106">It is designed toooffer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="a396c-107">Azure Cosmos DB offre attualmente cinque livelli di coerenza: assoluta, decadimento ristretto, sessione, prefisso coerente e finale.</span><span class="sxs-lookup"><span data-stu-id="a396c-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="a396c-108">Oltre ai modelli di **coerenza assoluta** e **finale** offerti in genere dai database distribuiti, Azure Cosmos DB offre altri tre modelli di coerenza attentamente codificati e operativi e ha convalidato la loro utilità in casi reali.</span><span class="sxs-lookup"><span data-stu-id="a396c-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="a396c-109">Si tratta di hello **delimitata obsolescenza**, **sessione**, e **prefisso coerenza** livelli di coerenza.</span><span class="sxs-lookup"><span data-stu-id="a396c-109">These are hello **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="a396c-110">Collettivamente questi livelli di cinque coerenza consentono toomake ben motivata compromessi tra la coerenza, disponibilità e latenza.</span><span class="sxs-lookup"><span data-stu-id="a396c-110">Collectively these five consistency levels enable you toomake well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="a396c-111">Coerenza e database distribuiti</span><span class="sxs-lookup"><span data-stu-id="a396c-111">Distributed databases and consistency</span></span>
<span data-ttu-id="a396c-112">I database distribuiti a livello commerciale rientrano in due categorie: database che non offrono opzioni di coerenza comprovabili e ben definite e database che offrono due opzioni di programmabilità estreme (coerenza assoluta e coerenza finale).</span><span class="sxs-lookup"><span data-stu-id="a396c-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="a396c-113">gli sviluppatori di applicazioni gli oneri precedente con minutia i protocolli di replica di Hello e non prevede li toomake difficile compromessi coerenza, disponibilità, latenza e velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="a396c-113">hello former burdens application developers with minutia of their replication protocols and expects them toomake difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="a396c-114">quest'ultimo Hello inserisce un toochoose pressione uno dei due estremi hello.</span><span class="sxs-lookup"><span data-stu-id="a396c-114">hello latter puts a pressure toochoose one of hello two extremes.</span></span> <span data-ttu-id="a396c-115">Nonostante hello moltissimi ricerca e proposte per i modelli di coerenza più di 50, hello community di database distribuita non è stato in grado di toocommercialize livelli di coerenza oltre la coerenza eventuale e sicuro.</span><span class="sxs-lookup"><span data-stu-id="a396c-115">Despite hello abundance of research and proposals for more than 50 consistency models, hello distributed database community has not been able toocommercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="a396c-116">COSMOS DB consente agli sviluppatori toochoose tra i modelli di coerenza ben definiti cinque lungo spettro di coerenza hello – sicuro, delimitata obsolescenza, [sessione](http://dl.acm.org/citation.cfm?id=383631), prefisso coerenza e finale.</span><span class="sxs-lookup"><span data-stu-id="a396c-116">Cosmos DB allows developers toochoose between five well-defined consistency models along hello consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![DB Cosmos Azure offre più ben definita (Media) coerenza modelli toochoose da](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="a396c-118">Hello nella tabella seguente vengono illustrate le garanzie specifiche hello che fornisce a ogni livello di coerenza.</span><span class="sxs-lookup"><span data-stu-id="a396c-118">hello following table illustrates hello specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="a396c-119">**Livelli di coerenza e garanzie**</span><span class="sxs-lookup"><span data-stu-id="a396c-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="a396c-120">Livello di coerenza</span><span class="sxs-lookup"><span data-stu-id="a396c-120">Consistency Level</span></span> | <span data-ttu-id="a396c-121">Garanzie</span><span class="sxs-lookup"><span data-stu-id="a396c-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="a396c-122">Assoluta</span><span class="sxs-lookup"><span data-stu-id="a396c-122">Strong</span></span> | <span data-ttu-id="a396c-123">Linearità</span><span class="sxs-lookup"><span data-stu-id="a396c-123">Linearizability</span></span> |
| <span data-ttu-id="a396c-124">Obsolescenza associata</span><span class="sxs-lookup"><span data-stu-id="a396c-124">Bounded Staleness</span></span> | <span data-ttu-id="a396c-125">Prefisso coerente.</span><span class="sxs-lookup"><span data-stu-id="a396c-125">Consistent Prefix.</span></span> <span data-ttu-id="a396c-126">Ritardo delle letture rispetto alle scritture in base a prefissi k o intervallo t</span><span class="sxs-lookup"><span data-stu-id="a396c-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="a396c-127">sessione</span><span class="sxs-lookup"><span data-stu-id="a396c-127">Session</span></span>   | <span data-ttu-id="a396c-128">Prefisso coerente.</span><span class="sxs-lookup"><span data-stu-id="a396c-128">Consistent Prefix.</span></span> <span data-ttu-id="a396c-129">Letture costanti, scritture costanti, lettura delle proprie scritture, scrittura basata sulle letture</span><span class="sxs-lookup"><span data-stu-id="a396c-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="a396c-130">Prefisso coerente</span><span class="sxs-lookup"><span data-stu-id="a396c-130">Consistent Prefix</span></span> | <span data-ttu-id="a396c-131">Gli aggiornamenti restituiti sono un prefisso di tutti gli aggiornamenti di hello, senza interruzioni</span><span class="sxs-lookup"><span data-stu-id="a396c-131">Updates returned are some prefix of all hello updates, with no gaps</span></span> |
| <span data-ttu-id="a396c-132">Finale</span><span class="sxs-lookup"><span data-stu-id="a396c-132">Eventual</span></span>  | <span data-ttu-id="a396c-133">Letture non in ordine</span><span class="sxs-lookup"><span data-stu-id="a396c-133">Out of order reads</span></span> |

<span data-ttu-id="a396c-134">È possibile configurare livello di coerenza predefinita hello sull'account DB Cosmos (e successivamente eseguire l'override della coerenza hello in una specifica richiesta di lettura).</span><span class="sxs-lookup"><span data-stu-id="a396c-134">You can configure hello default consistency level on your Cosmos DB account (and later override hello consistency on a specific read request).</span></span> <span data-ttu-id="a396c-135">Internamente, livello di coerenza predefinita hello applica toodata all'interno di set di partizioni hello che può estendersi su aree.</span><span class="sxs-lookup"><span data-stu-id="a396c-135">Internally, hello default consistency level applies toodata within hello partition sets which may span regions.</span></span> <span data-ttu-id="a396c-136">Circa il 73% dei tenant di Microsoft usa il livello di coerenza sessione e il 20% il livello decadimento ristretto.</span><span class="sxs-lookup"><span data-stu-id="a396c-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="a396c-137">È stato notato che circa il 3% dei clienti sperimenta i vari livelli di coerenza inizialmente prima di decidere quale sia il livello di coerenza specifico più adatto alla propria applicazione.</span><span class="sxs-lookup"><span data-stu-id="a396c-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="a396c-138">È stato osservato anche che solo il 2% dei tenant eseguono l'override dei livelli di coerenza per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="a396c-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="a396c-139">In Cosmos DB le operazioni di lettura servite con coerenza di sessione, prefisso coerente e finale sono due volte più economici delle operazioni di lettura con coerenza assoluta o decadimento ristretto.</span><span class="sxs-lookup"><span data-stu-id="a396c-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="a396c-140">Il 99,99% dei contratti di servizi di Cosmos DB riguarda complessivamente aziende leader nel settore. Tali contratti includono garanzie di coerenza per quanto riguarda disponibilità, velocità effettiva e latenza.</span><span class="sxs-lookup"><span data-stu-id="a396c-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="a396c-141">Viene impiegata una [controllo linearizability](http://dl.acm.org/citation.cfm?id=1806634), che funziona in modo continuo tramite i dati di telemetria di servizio e apertamente segnala eventuali tooyou le violazioni di verifica coerenza.</span><span class="sxs-lookup"><span data-stu-id="a396c-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations tooyou.</span></span> <span data-ttu-id="a396c-142">Per delimitata obsolescenza, monitorare e segnalare eventuali violazioni impiegate i limiti di t.</span><span class="sxs-lookup"><span data-stu-id="a396c-142">For bounded staleness, we monitor and report any violations took and t bounds.</span></span> <span data-ttu-id="a396c-143">Per tutti i cinque livelli di coerenza flessibile, è inoltre segnalare hello [metrica probabilistica con obsolescenza associata](http://dl.acm.org/citation.cfm?id=2212359) tooyou direttamente.</span><span class="sxs-lookup"><span data-stu-id="a396c-143">For all five relaxed consistency levels, we also report hello [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly tooyou.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="a396c-144">Ambito di coerenza</span><span class="sxs-lookup"><span data-stu-id="a396c-144">Scope of consistency</span></span>
<span data-ttu-id="a396c-145">granularità di Hello di verifica di coerenza è richiesta utente singolo tooa con ambito.</span><span class="sxs-lookup"><span data-stu-id="a396c-145">hello granularity of consistency is scoped tooa single user request.</span></span> <span data-ttu-id="a396c-146">Una richiesta di scrittura può corrispondono tooan insert, replace, inserire o eliminare la transazione.</span><span class="sxs-lookup"><span data-stu-id="a396c-146">A write request may correspond tooan insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="a396c-147">Come per le scritture, una transazione di lettura o alla query è anche richiesta utente singolo tooa con ambito.</span><span class="sxs-lookup"><span data-stu-id="a396c-147">As with writes, a read/query transaction is also scoped tooa single user request.</span></span> <span data-ttu-id="a396c-148">utente Hello potrebbe essere necessario toopaginate su una grande set di risultati, che si estende su più partizioni, ma ogni lettura transazione è con ambito tooa singola pagina e servito da all'interno di una singola partizione.</span><span class="sxs-lookup"><span data-stu-id="a396c-148">hello user may be required toopaginate over a large result-set, spanning multiple partitions, but each read transaction is scoped tooa single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="a396c-149">Livelli di coerenza</span><span class="sxs-lookup"><span data-stu-id="a396c-149">Consistency levels</span></span>
<span data-ttu-id="a396c-150">È possibile configurare un livello di coerenza predefinita per l'account di database che si applica a raccolte tooall (e database) con il proprio account DB Cosmos.</span><span class="sxs-lookup"><span data-stu-id="a396c-150">You can configure a default consistency level on your database account that applies tooall collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="a396c-151">Per impostazione predefinita, tutte le letture e le query eseguite su hello risorse definito dall'utente, utilizzare livello di coerenza hello predefinito specificato nell'account di database hello.</span><span class="sxs-lookup"><span data-stu-id="a396c-151">By default, all reads and queries issued against hello user-defined resources use hello default consistency level specified on hello database account.</span></span> <span data-ttu-id="a396c-152">È possibile ridurre il livello di coerenza hello di lettura o una query specifica richiesta mediante in ognuna delle hello API supportate.</span><span class="sxs-lookup"><span data-stu-id="a396c-152">You can relax hello consistency level of a specific read/query request using in each of hello supported APIs.</span></span> <span data-ttu-id="a396c-153">Esistono cinque tipi di livelli di coerenza supportati dal protocollo di replica di Azure Cosmos DB hello che forniscono un chiaro compromesso tra garanzie di coerenza specifico e le prestazioni, come descritto in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="a396c-153">There are five types of consistency levels supported by hello Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="a396c-154">**Assoluta**:</span><span class="sxs-lookup"><span data-stu-id="a396c-154">**Strong**:</span></span> 

* <span data-ttu-id="a396c-155">Coerenza assoluta offre un [linearizability](https://aphyr.com/posts/313-strong-consistency-models) con hello legge tooreturn garantita hello più recente di un elemento.</span><span class="sxs-lookup"><span data-stu-id="a396c-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with hello reads guaranteed tooreturn hello most recent version of an item.</span></span> 
* <span data-ttu-id="a396c-156">Coerenza assoluta garantisce che un'operazione di scrittura è visibile solo dopo che eseguito il commit in modo durevole quorum maggioranza dei hello delle repliche.</span><span class="sxs-lookup"><span data-stu-id="a396c-156">Strong consistency guarantees that a write is only visible after it is committed durably by hello majority quorum of replicas.</span></span> <span data-ttu-id="a396c-157">Un'operazione di scrittura sia in modo sincrono eseguito il commit in modo durevole hello primario sia quorum hello dei database secondari, o che sia interrotto.</span><span class="sxs-lookup"><span data-stu-id="a396c-157">A write is either synchronously committed durably by both hello primary and hello quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="a396c-158">Un'operazione di lettura è sempre riconosciuta leggere quorum maggioranza hello, un client non può vedere mai una scrittura uncommitted o parziale ed è sempre garantito tooread hello più recente riconosciuto scrittura.</span><span class="sxs-lookup"><span data-stu-id="a396c-158">A read is always acknowledged by hello majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed tooread hello latest acknowledged write.</span></span> 
* <span data-ttu-id="a396c-159">Gli account Cosmos DB Azure coerenza assoluta toouse configurato non è possibile associare più di una regione di Azure con il proprio account Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a396c-159">Azure Cosmos DB accounts that are configured toouse strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="a396c-160">costo di un'operazione di lettura Hello (in termini di [unità richieste](request-units.md) utilizzata) con coerenza assoluta è superiore alla sessione e finale, ma hello stesso come con obsolescenza associata.</span><span class="sxs-lookup"><span data-stu-id="a396c-160">hello cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but hello same as bounded staleness.</span></span>

<span data-ttu-id="a396c-161">**Decadimento ristretto**:</span><span class="sxs-lookup"><span data-stu-id="a396c-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="a396c-162">Coerenza con obsolescenza associata garantisce che le letture hello potrebbero rimanere indietro scritture da al massimo *K* versioni o prefissi di un elemento o *t* intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="a396c-162">Bounded staleness consistency guarantees that hello reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="a396c-163">Pertanto, quando sceglie delimitata obsolescenza, hello "obsolescenza" può essere configurata in due modi: numero di versioni *K* dell'elemento hello mediante il quale hello letture un ritardo scritture hello e intervallo di tempo hello *t*</span><span class="sxs-lookup"><span data-stu-id="a396c-163">Therefore, when choosing bounded staleness, hello "staleness" can be configured in two ways: number of versions *K* of hello item by which hello reads lag behind hello writes, and hello time interval *t*</span></span> 
* <span data-ttu-id="a396c-164">Delimitata obsolescenza offerte totale ordine globali, ad eccezione all'interno di hello "obsolescenza finestra."</span><span class="sxs-lookup"><span data-stu-id="a396c-164">Bounded staleness offers total global order except within hello "staleness window."</span></span> <span data-ttu-id="a396c-165">Hello monotonico leggere garanzie esiste all'interno di un'area all'interno e all'esterno di hello "obsolescenza finestra."</span><span class="sxs-lookup"><span data-stu-id="a396c-165">hello monotonic read guarantees exists within a region both inside and outside hello "staleness window."</span></span> 
* <span data-ttu-id="a396c-166">Il decadimento ristretto offre una maggiore garanzia di coerenza rispetto alla coerenza di sessione o finale.</span><span class="sxs-lookup"><span data-stu-id="a396c-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="a396c-167">Per le applicazioni distribuite a livello globale, è consigliabile che utilizzare con obsolescenza associata per gli scenari in cui la coerenza assoluta toohave ma si desidera inoltre 99,99% di disponibilità e a bassa latenza.</span><span class="sxs-lookup"><span data-stu-id="a396c-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like toohave strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="a396c-168">Gli account Azure Cosmos DB configurati con la coerenza con decadimento ristretto possono associare qualsiasi numero di aree di Azure con il proprio account Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a396c-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="a396c-169">Hello costo di un'operazione di lettura (in termini di RUs utilizzata) con obsolescenza associata è superiore alla sessione e la coerenza eventuale ma hello stesso come coerenza assoluta.</span><span class="sxs-lookup"><span data-stu-id="a396c-169">hello cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but hello same as strong consistency.</span></span>

<span data-ttu-id="a396c-170">**Sessione**:</span><span class="sxs-lookup"><span data-stu-id="a396c-170">**Session**:</span></span> 

* <span data-ttu-id="a396c-171">A differenza dei modelli di coerenza globale hello offerti dai livelli di coerenza obsolescenza sicuro e limitata, la coerenza di sessione è tooa con ambito sessione.</span><span class="sxs-lookup"><span data-stu-id="a396c-171">Unlike hello global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped tooa client session.</span></span> 
* <span data-ttu-id="a396c-172">La coerenza di sessione è ideale per tutti gli scenari in cui è coinvolto un dispositivo o una sessione utente poiché garantisce letture monotone, scritture monotone e garanzie di lettura di ciò che si scrive (RYW).</span><span class="sxs-lookup"><span data-stu-id="a396c-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="a396c-173">La coerenza della sessione fornisce coerenza prevedibile per una sessione e velocità effettiva di lettura massima offrendo letture e scritture di latenza più basse hello.</span><span class="sxs-lookup"><span data-stu-id="a396c-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering hello lowest latency writes and reads.</span></span> 
* <span data-ttu-id="a396c-174">Gli account Azure Cosmos DB configurati con la coerenza sessione possono associare qualsiasi numero di aree di Azure con il proprio account Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a396c-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="a396c-175">Hello costo di un'operazione di lettura (in termini di RUs utilizzata) con livello di coerenza è minore di obsolescenza sicuro e limitata, ma la coerenza eventuale più di sessione</span><span class="sxs-lookup"><span data-stu-id="a396c-175">hello cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="a396c-176"><a id="consistent-prefix"></a>
**Prefisso coerente**:</span><span class="sxs-lookup"><span data-stu-id="a396c-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="a396c-177">Prefisso coerenza garantisce che in assenza di altre scritture, hello repliche all'interno di gruppo hello finiranno per convergere.</span><span class="sxs-lookup"><span data-stu-id="a396c-177">Consistent prefix guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="a396c-178">Il prefisso coerente garantisce che le operazioni di lettura non vedano mai il fuori sequenza delle operazioni di scrittura.</span><span class="sxs-lookup"><span data-stu-id="a396c-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="a396c-179">Se sono state eseguite operazioni di scrittura in ordine di hello `A, B, C`, quindi un client riconosce una `A`, `A,B`, o `A,B,C`, ma mai ordine come `A,C` o `B,A,C`.</span><span class="sxs-lookup"><span data-stu-id="a396c-179">If writes were performed in hello order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="a396c-180">Gli account Azure Cosmos DB configurati con la coerenza con prefisso coerente possono associare qualsiasi numero di aree di Azure con il proprio account Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a396c-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="a396c-181">**Finale**:</span><span class="sxs-lookup"><span data-stu-id="a396c-181">**Eventual**:</span></span> 

* <span data-ttu-id="a396c-182">La coerenza eventuale garantisce che in assenza di altre scritture, hello repliche all'interno di gruppo hello finiranno per convergere.</span><span class="sxs-lookup"><span data-stu-id="a396c-182">Eventual consistency guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="a396c-183">La coerenza eventuale costituisce hello più debole di coerenza in cui un client può ottenere i valori di hello antecedenti hello quelli che aveva prima.</span><span class="sxs-lookup"><span data-stu-id="a396c-183">Eventual consistency is hello weakest form of consistency where a client may get hello values that are older than hello ones it had seen before.</span></span>
* <span data-ttu-id="a396c-184">La coerenza eventuale offre la consistenza in lettura più debole hello ma offerte hello latenza più bassa per le operazioni di lettura e scrittura.</span><span class="sxs-lookup"><span data-stu-id="a396c-184">Eventual consistency provides hello weakest read consistency but offers hello lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="a396c-185">Gli account Azure Cosmos DB configurati con la coerenza finale possono associare qualsiasi numero di aree di Azure con il proprio account Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a396c-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="a396c-186">Hello costo di un'operazione di lettura (in termini di RUs utilizzata) con la coerenza eventuale hello livello è minore di tutti i livelli di coerenza hello Azure Cosmos DB hello.</span><span class="sxs-lookup"><span data-stu-id="a396c-186">hello cost of a read operation (in terms of RUs consumed) with hello eventual consistency level is hello lowest of all hello Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-hello-default-consistency-level"></a><span data-ttu-id="a396c-187">Configurazione del livello di coerenza predefinita hello</span><span class="sxs-lookup"><span data-stu-id="a396c-187">Configuring hello default consistency level</span></span>
1. <span data-ttu-id="a396c-188">In hello [portale di Azure](https://portal.azure.com/)in hello Jumpbar, fare clic su **Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="a396c-188">In hello [Azure portal](https://portal.azure.com/), in hello Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="a396c-189">In hello **Azure Cosmos DB** blade, hello selezionare database account toomodify.</span><span class="sxs-lookup"><span data-stu-id="a396c-189">In hello **Azure Cosmos DB** blade, select hello database account toomodify.</span></span>
3. <span data-ttu-id="a396c-190">Nel Pannello di hello account, fare clic su **predefinito coerenza**.</span><span class="sxs-lookup"><span data-stu-id="a396c-190">In hello account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="a396c-191">In hello **uniformità predefinita** pannello, il nuovo livello di coerenza selezionare hello e fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="a396c-191">In hello **Default Consistency** blade, select hello new consistency level and click **Save**.</span></span>
   
    ![Cattura di schermata evidenziazione icona Impostazioni hello e voce uniformità predefinita](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="a396c-193">Livelli di coerenza per le query</span><span class="sxs-lookup"><span data-stu-id="a396c-193">Consistency levels for queries</span></span>
<span data-ttu-id="a396c-194">Per impostazione predefinita, per le risorse definite dall'utente, il livello di coerenza hello per le query è hello stesso come il livello di coerenza hello per legge.</span><span class="sxs-lookup"><span data-stu-id="a396c-194">By default, for user-defined resources, hello consistency level for queries is hello same as hello consistency level for reads.</span></span> <span data-ttu-id="a396c-195">Per impostazione predefinita, l'indice di hello viene aggiornato in modo sincrono in ogni istruzione insert, sostituire o eliminazione di un contenitore di DB Cosmos toohello dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="a396c-195">By default, hello index is updated synchronously on each insert, replace, or delete of an item toohello Cosmos DB container.</span></span> <span data-ttu-id="a396c-196">In questo modo le query hello toohonor hello stesso livello di coerenza del punto di letture.</span><span class="sxs-lookup"><span data-stu-id="a396c-196">This enables hello queries toohonor hello same consistency level as that of point reads.</span></span> <span data-ttu-id="a396c-197">Anche se Azure Cosmos DB è con ottimizzazione per la scrittura e supporta volumi prolungati di operazioni di scrittura, la manutenzione degli indici sincrono e la gestione delle query coerenti, è possibile configurare determinate tooupdate raccolte relativo indice in modo differito.</span><span class="sxs-lookup"><span data-stu-id="a396c-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="a396c-198">Questo tipo di indicizzazione ulteriormente migliora le prestazioni di scrittura hello ed è ideale per gli scenari di inserimento bulk quando un carico di lavoro è principalmente con intensa attività di lettura.</span><span class="sxs-lookup"><span data-stu-id="a396c-198">Lazy indexing further boosts hello write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="a396c-199">Modalità di indicizzazione</span><span class="sxs-lookup"><span data-stu-id="a396c-199">Indexing Mode</span></span> | <span data-ttu-id="a396c-200">Letture</span><span class="sxs-lookup"><span data-stu-id="a396c-200">Reads</span></span> | <span data-ttu-id="a396c-201">Query</span><span class="sxs-lookup"><span data-stu-id="a396c-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="a396c-202">Coerente (impostazione predefinita)</span><span class="sxs-lookup"><span data-stu-id="a396c-202">Consistent (default)</span></span> |<span data-ttu-id="a396c-203">Selezionare tra assoluta, con decadimento ristretto, sessione, prefisso coerente o finale</span><span class="sxs-lookup"><span data-stu-id="a396c-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="a396c-204">Selezionare tra assoluta, con obsolescenza associata, sessione o finale</span><span class="sxs-lookup"><span data-stu-id="a396c-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="a396c-205">Differita</span><span class="sxs-lookup"><span data-stu-id="a396c-205">Lazy</span></span> |<span data-ttu-id="a396c-206">Selezionare tra assoluta, con decadimento ristretto, sessione, prefisso coerente o finale</span><span class="sxs-lookup"><span data-stu-id="a396c-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="a396c-207">Finale</span><span class="sxs-lookup"><span data-stu-id="a396c-207">Eventual</span></span> |
| <span data-ttu-id="a396c-208">Nessuno</span><span class="sxs-lookup"><span data-stu-id="a396c-208">None</span></span> |<span data-ttu-id="a396c-209">Selezionare tra assoluta, con decadimento ristretto, sessione, prefisso coerente o finale</span><span class="sxs-lookup"><span data-stu-id="a396c-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="a396c-210">Non applicabile</span><span class="sxs-lookup"><span data-stu-id="a396c-210">Not applicable</span></span> |

<span data-ttu-id="a396c-211">Come con le richieste di lettura, è possibile abbassare il livello di coerenza hello di una richiesta di query specifico in ogni API.</span><span class="sxs-lookup"><span data-stu-id="a396c-211">As with read requests, you can lower hello consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a396c-212">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a396c-212">Next steps</span></span>
<span data-ttu-id="a396c-213">Se si desidera toodo più le operazioni di lettura sui livelli di coerenza e compromessi, è consigliabile hello seguenti risorse:</span><span class="sxs-lookup"><span data-stu-id="a396c-213">If you'd like toodo more reading about consistency levels and tradeoffs, we recommend hello following resources:</span></span>

* <span data-ttu-id="a396c-214">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="a396c-214">Doug Terry.</span></span> <span data-ttu-id="a396c-215">Video: Replicated Data Consistency explained through baseball (La coerenza dei dati replicati illustrata attraverso il baseball).</span><span class="sxs-lookup"><span data-stu-id="a396c-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="a396c-216">https://www.youtube.com/watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="a396c-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="a396c-217">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="a396c-217">Doug Terry.</span></span> <span data-ttu-id="a396c-218">Replicated Data Consistency explained through baseball.</span><span class="sxs-lookup"><span data-stu-id="a396c-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="a396c-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span><span class="sxs-lookup"><span data-stu-id="a396c-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="a396c-220">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="a396c-220">Doug Terry.</span></span> <span data-ttu-id="a396c-221">Session Guarantees for Weakly Consistent Replicated Data.</span><span class="sxs-lookup"><span data-stu-id="a396c-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="a396c-222">http://dl.acm.org/citation.cfm?id=383631</span><span class="sxs-lookup"><span data-stu-id="a396c-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="a396c-223">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="a396c-223">Daniel Abadi.</span></span> <span data-ttu-id="a396c-224">Gli svantaggi di coerenza di Distributed Database sistemi Design moderno: perno è solo una parte della storia hello ".</span><span class="sxs-lookup"><span data-stu-id="a396c-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of hello story”.</span></span>   
  [<span data-ttu-id="a396c-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span><span class="sxs-lookup"><span data-stu-id="a396c-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="a396c-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span><span class="sxs-lookup"><span data-stu-id="a396c-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="a396c-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span><span class="sxs-lookup"><span data-stu-id="a396c-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="a396c-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span><span class="sxs-lookup"><span data-stu-id="a396c-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="a396c-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="a396c-229">Werner Vogels.</span></span> <span data-ttu-id="a396c-230">Coerente Finale - Revisited.</span><span class="sxs-lookup"><span data-stu-id="a396c-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="a396c-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span><span class="sxs-lookup"><span data-stu-id="a396c-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="a396c-232">MONI Naor, Avishai grezzo, hello carico, capacità e disponibilità di Quorum sistemi SIAM Journal in elaborazione, v.27 n.2, 447 p.423, aprile 1998.</span><span class="sxs-lookup"><span data-stu-id="a396c-232">Moni Naor , Avishai Wool, hello Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="a396c-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="a396c-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="a396c-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Tan Roy, line-up: un linearizability completo e automatico correttore, procedimenti della conferenza ACM SIGPLAN 2010 di hello sulla lingua progettazione e implementazione, 05-10 giugno 2010, Roma, Ontario, programmazione Canada [doi > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="a396c-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of hello 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="a396c-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica, probabilisticamente delimitata obsolescenza per pratiche quorum parziale, svolgimento di hello VLDB dotazione, n.8 v. 5, 787 p.776, aprile 2012 [http:// DL.ACM.org/Citation.cfm?ID=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="a396c-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of hello VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
