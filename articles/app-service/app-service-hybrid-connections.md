---
title: Connessioni ibride del Servizio app di Azure | Microsoft Docs
description: Informazioni su come creare e usare Connessioni ibride per accedere alle risorse in reti diverse
services: app-service
documentationcenter: 
author: ccompy
manager: stefsch
editor: 
ms.assetid: 66774bde-13f5-45d0-9a70-4e9536a4f619
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/22/2017
ms.author: ccompy
ms.openlocfilehash: fef9e7b280387934cb093f51b4c8aa134a3b87e7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="azure-app-service-hybrid-connections"></a><span data-ttu-id="940fe-103">Connessioni ibride del Servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="940fe-103">Azure App Service Hybrid Connections</span></span> #

## <a name="overview"></a><span data-ttu-id="940fe-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="940fe-104">Overview</span></span> ##

<span data-ttu-id="940fe-105">Connessioni ibride è un servizio disponibile in Azure, nonché una funzionalità del Servizio app di Azure.</span><span class="sxs-lookup"><span data-stu-id="940fe-105">Hybrid Connections is both a service in Azure as well as a feature in the Azure App Service.</span></span>  <span data-ttu-id="940fe-106">Come servizio fornisce modalità di utilizzo e funzionalità superiori rispetto a quelle offerte come funzionalità del Servizio app di Azure.</span><span class="sxs-lookup"><span data-stu-id="940fe-106">As a service it has use and capabilities beyond those that are leveraged in the Azure App Service.</span></span>  <span data-ttu-id="940fe-107">Per altre informazioni su Connessioni ibride e sul suo utilizzo al di fuori del Servizio app di Azure, vedere [Protocollo per le connessioni ibride di inoltro di Azure][HCService].</span><span class="sxs-lookup"><span data-stu-id="940fe-107">To learn more about Hybrid Connections and their usage outside of the Azure App Service you can start here, [Azure Relay Hybrid Connections][HCService]</span></span>

<span data-ttu-id="940fe-108">Nel Servizio app di Azure, la funzionalità Connessioni ibride può essere usata per accedere alle risorse di applicazione presenti in altre reti.</span><span class="sxs-lookup"><span data-stu-id="940fe-108">Within the Azure App Service, hybrid connections can be used to access application resources in other networks.</span></span> <span data-ttu-id="940fe-109">Fornisce l'accesso DALLA propria app A un endpoint applicazione.</span><span class="sxs-lookup"><span data-stu-id="940fe-109">It provides access FROM your app TO an application endpoint.</span></span>  <span data-ttu-id="940fe-110">Non abilita una funzionalità alternativa per accedere all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="940fe-110">It does not enable an alternative capability to access your application.</span></span>  <span data-ttu-id="940fe-111">Quando usata nel Servizio app, ogni connessione ibrida è correlata a una singola combinazione di host e porta TCP.</span><span class="sxs-lookup"><span data-stu-id="940fe-111">As used in the App Service, each hybrid connection correlates to a single TCP host and port combination.</span></span>  <span data-ttu-id="940fe-112">Ciò significa che l'endpoint della connessione ibrida può trovarsi in qualsiasi sistema operativo e qualsiasi applicazione purché vi sia una porta TCP in ascolto.</span><span class="sxs-lookup"><span data-stu-id="940fe-112">This means that the hybrid connection endpoint can be on any operating system and any application provided you are hitting a TCP listening port.</span></span> <span data-ttu-id="940fe-113">Connessioni ibride non conosce e né deve conoscere quale sia il protocollo dell'applicazione o a quale risorsa l'utente stia accedendo,</span><span class="sxs-lookup"><span data-stu-id="940fe-113">Hybrid connections does not know or care what the application protocol is or what you are accessing.</span></span>  <span data-ttu-id="940fe-114">in quanto si limita a fornire l'accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="940fe-114">It is simply providing network access.</span></span>  


## <a name="how-it-works"></a><span data-ttu-id="940fe-115">Funzionamento</span><span class="sxs-lookup"><span data-stu-id="940fe-115">How it works</span></span> ##
<span data-ttu-id="940fe-116">La funzionalità Connessioni ibride è costituita da due chiamate in uscita a Inoltro del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="940fe-116">The hybrid connections feature consists of two outbound calls to Service Bus Relay.</span></span>  <span data-ttu-id="940fe-117">Esistono una connessione da una libreria nell'host in cui l'app è in esecuzione nel Servizio app e una connessione da Gestione connessione ibrida a Inoltro del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="940fe-117">There is a connection from a library on the host where your app is running in the app service and then there is a connection from the Hybrid Connection Manager(HCM) to Service Bus relay.</span></span>  <span data-ttu-id="940fe-118">Gestione connessione ibrida è un servizio di inoltro che viene distribuito nell'ambito dell'hosting di rete.</span><span class="sxs-lookup"><span data-stu-id="940fe-118">The HCM is a relay service that you deploy within the network hosting</span></span> 

<span data-ttu-id="940fe-119">Grazie alle due connessioni congiunte, l'app dispone di un tunnel TCP a una combinazione host:porta fissa sull'altro lato di Gestione connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-119">Through the two joined connections your app has a TCP tunnel to a fixed host:port combination on the other side of the HCM.</span></span>  <span data-ttu-id="940fe-120">La connessione usa TLS 1.2 per la sicurezza e le chiavi SAS per l'autenticazione/autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="940fe-120">The connection uses TLS 1.2 for security and SAS keys for authentication/authorization.</span></span>    

![][1]

<span data-ttu-id="940fe-121">Quando l'app effettua una richiesta DNS che corrisponde a un endpoint di Connessione ibrida configurato, il traffico TCP in uscita viene reindirizzato lungo la connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-121">When your app makes a DNS request that matches a configure Hybrid Connection endpoint, then the outbound TCP traffic will be redirected down the hybrid connection.</span></span>  

> [!NOTE]
> <span data-ttu-id="940fe-122">Ciò significa che è consigliabile usare sempre un nome DNS per la connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-122">This means that you should try to always use a DNS name for your Hybrid Connection.</span></span>  <span data-ttu-id="940fe-123">Alcuni software client non eseguono una ricerca DNS se l'endpoint usa un indirizzo IP al posto del nome DNS.</span><span class="sxs-lookup"><span data-stu-id="940fe-123">Some client software does not do a DNS lookup if the endpoint uses an IP address instead.</span></span>
>
>

<span data-ttu-id="940fe-124">Esistono due tipi di connessioni ibride: le nuove connessioni ibride che vengono offerte come servizio durante l'inoltro di Azure e le connessioni ibride BizTalk meno recenti.</span><span class="sxs-lookup"><span data-stu-id="940fe-124">There are two types of hybrid connections, the new hybrid connections that are offered as a service under Azure Relay and the older BizTalk Hybrid Connections.</span></span>  <span data-ttu-id="940fe-125">Queste ultime sono definite nel portale come Connessioni ibride BizTalk (versione classica).</span><span class="sxs-lookup"><span data-stu-id="940fe-125">The older BizTalk Hybrid Connections are referred to as Classic Hybrid Connections in the portal.</span></span>  <span data-ttu-id="940fe-126">Per altre informazioni su queste connessioni, vedere più avanti in questo documento.</span><span class="sxs-lookup"><span data-stu-id="940fe-126">There is more information later in this document about them.</span></span>

### <a name="app-service-hybrid-connection-benefits"></a><span data-ttu-id="940fe-127">Vantaggi della funzionalità Connessioni ibride del Servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="940fe-127">App Service hybrid connection benefits</span></span> ###

<span data-ttu-id="940fe-128">La funzionalità Connessioni ibride offre numerosi vantaggi tra cui:</span><span class="sxs-lookup"><span data-stu-id="940fe-128">There are a number of benefits to the hybrid connections capability including</span></span>

- <span data-ttu-id="940fe-129">Le app possono accedere in modo sicuro a servizi e sistemi locali</span><span class="sxs-lookup"><span data-stu-id="940fe-129">Apps can securely access on premises systems and services securely</span></span>
- <span data-ttu-id="940fe-130">Non richiede un endpoint accessibile tramite Internet</span><span class="sxs-lookup"><span data-stu-id="940fe-130">the feature does not require an internet accessible endpoint</span></span>
- <span data-ttu-id="940fe-131">È facile e rapida da configurare</span><span class="sxs-lookup"><span data-stu-id="940fe-131">it is quick and easy to set up</span></span>  
- <span data-ttu-id="940fe-132">Ogni connessione ibrida corrisponde a una singola combinazione host:porta, il che rappresenta un aspetto eccellente della sicurezza</span><span class="sxs-lookup"><span data-stu-id="940fe-132">each hybrid connection matches to a single host:port combination which is an excellent security aspect</span></span>
- <span data-ttu-id="940fe-133">In genere non richiede varchi nei firewall in quanto le connessioni sono tutte in uscita su porte Web standard</span><span class="sxs-lookup"><span data-stu-id="940fe-133">it normally does not require firewall holes as the connections are all outbound over standard web ports</span></span>
- <span data-ttu-id="940fe-134">Dal momento che si tratta di una funzionalità a livello di rete, è agnostica alla lingua usata dall'app e alla tecnologia usata dall'endpoint</span><span class="sxs-lookup"><span data-stu-id="940fe-134">because the feature is network level that also means that it is agnostic to the language used by your app and the technology used by the endpoint</span></span>
- <span data-ttu-id="940fe-135">Può essere usata per fornire l'accesso a più reti da una singola app.</span><span class="sxs-lookup"><span data-stu-id="940fe-135">it can be used to provide access in multiple networks from a single app</span></span> 

### <a name="things-you-cannot-do-with-hybrid-connections"></a><span data-ttu-id="940fe-136">Operazioni che non è possibile eseguire con la funzionalità Connessioni ibride</span><span class="sxs-lookup"><span data-stu-id="940fe-136">Things you cannot do with Hybrid Connections</span></span> ###

<span data-ttu-id="940fe-137">Esistono alcune operazioni che non è possibile eseguire con le connessioni ibride tra cui:</span><span class="sxs-lookup"><span data-stu-id="940fe-137">There are a few things you cannot do with hybrid connections and they include:</span></span>

- <span data-ttu-id="940fe-138">Montaggio di un'unità</span><span class="sxs-lookup"><span data-stu-id="940fe-138">mounting a drive</span></span>
- <span data-ttu-id="940fe-139">Utilizzo del protocollo UDP</span><span class="sxs-lookup"><span data-stu-id="940fe-139">using UDP</span></span>
- <span data-ttu-id="940fe-140">Accesso a servizi basati su TCP che usano porte dinamiche, ad esempio la modalità FTP passiva o la modalità passiva estesa</span><span class="sxs-lookup"><span data-stu-id="940fe-140">accessing TCP based services that use dynamic ports such as FTP Passive Mode or Extended Passive Mode</span></span>
- <span data-ttu-id="940fe-141">Supporto LDAP, in quanto talvolta richiede il protocollo UDP</span><span class="sxs-lookup"><span data-stu-id="940fe-141">LDAP support, as it sometimes requires UDP</span></span>
- <span data-ttu-id="940fe-142">Supporto di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="940fe-142">Active Directory support</span></span>

## <a name="adding-and-creating-a-hybrid-connection-in-your-app"></a><span data-ttu-id="940fe-143">Aggiunta e creazione di una connessione ibrida nell'app</span><span class="sxs-lookup"><span data-stu-id="940fe-143">Adding and Creating a Hybrid Connection in your App</span></span> ##

<span data-ttu-id="940fe-144">È possibile creare connessioni ibride tramite il portale delle app o dal portale del servizio Connessioni ibride.</span><span class="sxs-lookup"><span data-stu-id="940fe-144">Hybrid Connections can be created through the app portal or from the Hybrid Connection service portal.</span></span>  <span data-ttu-id="940fe-145">È consigliabile usare il portale delle app per creare le connessioni ibride per la propria app.</span><span class="sxs-lookup"><span data-stu-id="940fe-145">It is highly recommended that you use the app portal to create the Hybrid Connections you wish to use with your app.</span></span>  <span data-ttu-id="940fe-146">Per creare una connessione ibrida, andare al [portale di Azure][portal] e accedere all'interfaccia utente della propria app.</span><span class="sxs-lookup"><span data-stu-id="940fe-146">To create a Hybrid Connection go to the [Azure portal][portal] and go into the UI for your app.</span></span>  <span data-ttu-id="940fe-147">Selezionare **Rete > Configurare gli endpoint della connessione ibrida**.</span><span class="sxs-lookup"><span data-stu-id="940fe-147">Select **Networking > Configure your hybrid connection endpoints**.</span></span>  <span data-ttu-id="940fe-148">Da qui è possibile vedere le connessioni ibride configurate con l'app.</span><span class="sxs-lookup"><span data-stu-id="940fe-148">From here you can see the Hybrid Connections that are configured with your app</span></span>  

![][2]

<span data-ttu-id="940fe-149">Per aggiungere una nuova connessione ibrida, fare clic su Aggiungi connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-149">To add a new Hybrid Connection, click Add Hybrid Connection.</span></span>  <span data-ttu-id="940fe-150">Verrà visualizzato l'elenco delle connessioni ibride che sono già state create.</span><span class="sxs-lookup"><span data-stu-id="940fe-150">The UI that opens up lists the Hybrid Connections that you have already created.</span></span>  <span data-ttu-id="940fe-151">Per aggiungere una o più connessioni all'app, selezionare quelle desiderate e fare clic su **Aggiungi connessione ibrida selezionata**.</span><span class="sxs-lookup"><span data-stu-id="940fe-151">To add one or more of them to your app, click on the ones you want and hit **Add selected hybrid connection**.</span></span>  

![][3]

<span data-ttu-id="940fe-152">Se si intende creare una nuova connessione ibrida, fare clic su **Crea nuova connessione ibrida**.</span><span class="sxs-lookup"><span data-stu-id="940fe-152">If you want to create a new Hybrid Connection, click **Create new hybrid connection**.</span></span>  <span data-ttu-id="940fe-153">Qui occorre specificare gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="940fe-153">From here you specify the:</span></span> 

- <span data-ttu-id="940fe-154">Nome dell'endpoint</span><span class="sxs-lookup"><span data-stu-id="940fe-154">endpoint name</span></span>
- <span data-ttu-id="940fe-155">Nome host dell'endpoint</span><span class="sxs-lookup"><span data-stu-id="940fe-155">endpoint hostname</span></span>
- <span data-ttu-id="940fe-156">Porta dell'endpoint</span><span class="sxs-lookup"><span data-stu-id="940fe-156">endpoint port</span></span>
- <span data-ttu-id="940fe-157">Spazio dei nomi del bus di servizio che si intende usare.</span><span class="sxs-lookup"><span data-stu-id="940fe-157">servicebus namespace you wish to use</span></span>

![][4]

<span data-ttu-id="940fe-158">Ogni connessione ibrida è associata a uno spazio dei nomi del bus di servizio e ogni spazio dei nomi del bus di servizi si trova in un'area di Azure.</span><span class="sxs-lookup"><span data-stu-id="940fe-158">Every hybrid connection is tied to a service bus namespace and each service bus namespace is in an Azure region.</span></span>  <span data-ttu-id="940fe-159">È importante provare a usare uno spazio dei nomi del bus di servizio nella stessa area dell'app in modo da evitare la latenza indotta dalla rete.</span><span class="sxs-lookup"><span data-stu-id="940fe-159">It is important to try and use a service bus namespace in the same region as your app so as to avoid network induced latency.</span></span>

<span data-ttu-id="940fe-160">Se si vuole rimuovere la connessione ibrida dall'app, fare clic sulla connessione e selezionare **Disconnetti**.</span><span class="sxs-lookup"><span data-stu-id="940fe-160">If you want to remove your hybrid connection from your app, right click on it and select **Disconnect**.</span></span>  

<span data-ttu-id="940fe-161">È possibile visualizzare i dettagli di una connessione ibrida aggiunta all'app Web facendo semplicemente clic sulla connessione.</span><span class="sxs-lookup"><span data-stu-id="940fe-161">Once a hybrid connection is added to your web app, you can see details on it by simply clicking on it.</span></span>  

![][5]

## <a name="hybrid-connections-and-app-service-plans"></a><span data-ttu-id="940fe-162">Connessioni ibride e piani di servizio app</span><span class="sxs-lookup"><span data-stu-id="940fe-162">Hybrid Connections and App Service Plans</span></span> ##

<span data-ttu-id="940fe-163">È ora possibile creare esclusivamente le nuove connessioni ibride.</span><span class="sxs-lookup"><span data-stu-id="940fe-163">The only hybrid connections you can now make are the new hybrid connections.</span></span>  <span data-ttu-id="940fe-164">Sono disponibili solo per le SKU di prezzo Basic, Standard, Premium e per ambiente isolato.</span><span class="sxs-lookup"><span data-stu-id="940fe-164">They are only available in Basic, Standard, Premium and Isolated pricing SKUs.</span></span>  <span data-ttu-id="940fe-165">Esistono limiti legati al piano tariffario.</span><span class="sxs-lookup"><span data-stu-id="940fe-165">There are limits tied to the pricing plan.</span></span>  

| <span data-ttu-id="940fe-166">Piano tariffario</span><span class="sxs-lookup"><span data-stu-id="940fe-166">Pricing Plan</span></span> | <span data-ttu-id="940fe-167">Numero di connessioni ibride a disposizione nel piano</span><span class="sxs-lookup"><span data-stu-id="940fe-167">Number of hybrid connections usable in the plan</span></span> |
|----|----|
| <span data-ttu-id="940fe-168">Basic</span><span class="sxs-lookup"><span data-stu-id="940fe-168">Basic</span></span> | <span data-ttu-id="940fe-169">5</span><span class="sxs-lookup"><span data-stu-id="940fe-169">5</span></span> |
| <span data-ttu-id="940fe-170">Standard</span><span class="sxs-lookup"><span data-stu-id="940fe-170">Standard</span></span> | <span data-ttu-id="940fe-171">25</span><span class="sxs-lookup"><span data-stu-id="940fe-171">25</span></span> |
| <span data-ttu-id="940fe-172">Premium</span><span class="sxs-lookup"><span data-stu-id="940fe-172">Premium</span></span> | <span data-ttu-id="940fe-173">200</span><span class="sxs-lookup"><span data-stu-id="940fe-173">200</span></span> |
| <span data-ttu-id="940fe-174">Isolato</span><span class="sxs-lookup"><span data-stu-id="940fe-174">Isolated</span></span> | <span data-ttu-id="940fe-175">200</span><span class="sxs-lookup"><span data-stu-id="940fe-175">200</span></span> |

<span data-ttu-id="940fe-176">Le restrizioni previste dal piano di servizio app sono indicate anche nell'interfaccia utente del piano di servizio app che mostra quante connessioni ibride sono in uso e da quali app.</span><span class="sxs-lookup"><span data-stu-id="940fe-176">Since there are App Service Plan restrictions there is also UI in the App Service Plan that shows you how many hybrid connections are being used and by what apps.</span></span>  

![][6]

<span data-ttu-id="940fe-177">Esattamente come nella visualizzazione dell'app, è possibile vedere i dettagli sulla connessione ibrida facendo clic sulla connessione.</span><span class="sxs-lookup"><span data-stu-id="940fe-177">Just as with the app view, you can see details on your hybrid connection by clicking on it.</span></span>  <span data-ttu-id="940fe-178">Nella sezione delle proprietà mostrata di seguito si possono vedere tutte le informazioni disponibili nella visualizzazione dell'app, in più si possono vedere quante altre app nello stesso piano di servizio app usano la connessione ibrida selezionata.</span><span class="sxs-lookup"><span data-stu-id="940fe-178">In the properties shown here you can see all the information you had at the app view but can also see how many other apps in the same App Service Plan are using that hybrid connection.</span></span>

![][7]

<span data-ttu-id="940fe-179">Sebbene esista un limite al numero di endpoint della connessione ibrida che possono essere usati in un piano di servizio app, ogni connessione ibrida usata può essere associata a un numero qualsiasi di app nel piano di servizio app specifico.</span><span class="sxs-lookup"><span data-stu-id="940fe-179">While there is a limit on the number of hybrid connection endpoints that can be used in an App Service Plan, each hybrid connection used can be used across any number of apps in that App Service Plan.</span></span>  <span data-ttu-id="940fe-180">Per fare un esempio, se si dispone di 1 connessione ibrida usata in 5 app distinte nel piano di servizio app, si tratta comunque di 1 connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-180">That is to say that if I had 1 hybrid connection that I used in 5 separate apps in my App Service Plan, that is still just 1 hybrid connection.</span></span>

<span data-ttu-id="940fe-181">Oltre alla possibilità di essere usate solo nelle SKU Basic, Standard, Premium o per ambiente isolato, esiste un costo aggiuntivo per le connessioni ibride.</span><span class="sxs-lookup"><span data-stu-id="940fe-181">There is an additional cost to hybrid connections beyond being only usable in a Basic, Standard, Premium or Isolated SKU.</span></span>  <span data-ttu-id="940fe-182">Per altre informazioni sui prezzi delle connessioni ibride, vedere [Prezzi di Bus di servizio][sbpricing].</span><span class="sxs-lookup"><span data-stu-id="940fe-182">For details on hybrid connection pricing please go here: [Service Bus pricing][sbpricing].</span></span>

## <a name="hybrid-connection-manager"></a><span data-ttu-id="940fe-183">Gestione connessione ibrida</span><span class="sxs-lookup"><span data-stu-id="940fe-183">Hybrid Connection Manager</span></span> ##

<span data-ttu-id="940fe-184">Per il corretto funzionamento delle connessioni ibride, è necessario disporre di un agente di inoltro nella rete che ospita l'endpoint della connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-184">In order for hybrid connections to work you need a relay agent in the network that hosts your hybrid connection endpoint.</span></span>  <span data-ttu-id="940fe-185">L'agente di inoltro viene chiamato Gestione connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-185">That relay agent is called the Hybrid Connection Manager (HCM).</span></span>  <span data-ttu-id="940fe-186">È possibile scaricare questo strumento scegliendo **Rete > Configurare gli endpoint della connessione ibrida** nell'interfaccia utente dell'app nel [portale di Azure][portal].</span><span class="sxs-lookup"><span data-stu-id="940fe-186">This tool can be downloaded from the **Networking > Configure your hybrid connection endpoints** UI available from your app in the [Azure portal][portal].</span></span>  

<span data-ttu-id="940fe-187">Questo strumento viene eseguito in Windows Server 2008 R2 e versioni successive di Windows.</span><span class="sxs-lookup"><span data-stu-id="940fe-187">This tool runs on Windows server 2008 R2 and later versions of Windows.</span></span>  <span data-ttu-id="940fe-188">Dopo che è stato installato, lo strumento Gestione connessione ibrida viene eseguito come servizio.</span><span class="sxs-lookup"><span data-stu-id="940fe-188">Once installed the HCM runs as a service.</span></span>  <span data-ttu-id="940fe-189">Questo servizio si connette al servizio di inoltro del bus di servizio di Azure in base agli endpoint configurati.</span><span class="sxs-lookup"><span data-stu-id="940fe-189">This service connects to Azure servicebus relay based on the configured endpoints.</span></span>  <span data-ttu-id="940fe-190">Le connessioni da Gestione connessione ibrida sono in uscita sulle porte 80 e 443.</span><span class="sxs-lookup"><span data-stu-id="940fe-190">The connections from the HCM are outbound to ports 80 and 443.</span></span>    

<span data-ttu-id="940fe-191">Gestione connessione ibrida dispone di un'interfaccia utente che ne consente la configurazione.</span><span class="sxs-lookup"><span data-stu-id="940fe-191">The HCM has a UI to configure it.</span></span>  <span data-ttu-id="940fe-192">Dopo avere installato Gestione connessione ibrida, è possibile visualizzarne l'interfaccia utente eseguendo il file HybridConnectionManagerUi.exe che risiede nella directory di installazione dell'agente di inoltro.</span><span class="sxs-lookup"><span data-stu-id="940fe-192">After the HCM is installed you can bring up the UI by running the HybridConnectionManagerUi.exe that sits in the Hybrid Connection Manager installation directory.</span></span>  <span data-ttu-id="940fe-193">L'interfaccia può essere richiamata anche direttamente da Windows 10 digitando *interfaccia utente Gestione connessione ibrida* nella casella di ricerca.</span><span class="sxs-lookup"><span data-stu-id="940fe-193">It is also easily reached on Windows 10 by typing *Hybrid Connection Manager UI* in your search box.</span></span>  

<span data-ttu-id="940fe-194">Quando l'interfaccia utente di Gestione connessione ibrida viene avviata, la prima cosa che si vede è una tabella nella quale sono elencate tutte le connessioni ibride che sono configurate con questa istanza di Gestione connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-194">When the HCM UI is started, the first thing you see is a table that lists all of the hybrid connections that are configured with this instance of the HCM.</span></span>  <span data-ttu-id="940fe-195">Per apportare eventuali modifiche, è necessario eseguire l'autenticazione con Azure.</span><span class="sxs-lookup"><span data-stu-id="940fe-195">If you wish to make any changes you will need to authenticate with Azure.</span></span> 

<span data-ttu-id="940fe-196">Per aggiungere una o più connessioni ibride a Gestione connessione ibrida:</span><span class="sxs-lookup"><span data-stu-id="940fe-196">To add one or more Hybrid Connections to your HCM:</span></span>

1. <span data-ttu-id="940fe-197">Avviare l'interfaccia utente di Gestione connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-197">Start the HCM UI</span></span>
1. <span data-ttu-id="940fe-198">Fare clic su Configure another hybrid connection (Configura un'altra connessione ibrida)![][8].</span><span class="sxs-lookup"><span data-stu-id="940fe-198">Click Configure another hybrid connection ![][8]</span></span>

1. <span data-ttu-id="940fe-199">Accedere con l'account Azure.</span><span class="sxs-lookup"><span data-stu-id="940fe-199">Sign in with your Azure account</span></span>
1. <span data-ttu-id="940fe-200">Scegliere una sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="940fe-200">Choose a subscription</span></span>
1. <span data-ttu-id="940fe-201">Fare clic sulle connessioni ibride che si desidera vengano inoltrare tramite Gestione connessione ibrida. ![][9]</span><span class="sxs-lookup"><span data-stu-id="940fe-201">Click on the hybrid connections you want this HCM to relay ![][9]</span></span>

1. <span data-ttu-id="940fe-202">Fare clic su Salva.</span><span class="sxs-lookup"><span data-stu-id="940fe-202">Click Save</span></span>

<span data-ttu-id="940fe-203">Verranno visualizzate a questo punto le connessioni ibride che sono state aggiunte.</span><span class="sxs-lookup"><span data-stu-id="940fe-203">At this point you will see the hybrid connections you added.</span></span>  <span data-ttu-id="940fe-204">È inoltre possibile fare clic sulla connessione ibrida configurata e visualizzarne i dettagli.</span><span class="sxs-lookup"><span data-stu-id="940fe-204">You can also click on the configured hybrid connection and see details about the connection.</span></span>

![][10]

<span data-ttu-id="940fe-205">Affinché Gestione connessione ibrida supporti le connessioni ibride con cui è configurato, deve disporre di quanto segue:</span><span class="sxs-lookup"><span data-stu-id="940fe-205">For your HCM to be able to support the hybrid connections it is configured with, it needs:</span></span>

- <span data-ttu-id="940fe-206">Accesso TCP ad Azure sulle porte 80 e 443</span><span class="sxs-lookup"><span data-stu-id="940fe-206">TCP access to Azure over ports 80 and 443</span></span>
- <span data-ttu-id="940fe-207">Accesso TCP all'endpoint della connessione ibrida</span><span class="sxs-lookup"><span data-stu-id="940fe-207">TCP access to the hybrid connection endpoint</span></span>
- <span data-ttu-id="940fe-208">Possibilità di eseguire ricerche DNS nell'host endpoint e nello spazio dei nomi del bus di servizio di Azure.</span><span class="sxs-lookup"><span data-stu-id="940fe-208">ability to do DNS look ups on the endpoint host and the azure servicebus namespace</span></span>

<span data-ttu-id="940fe-209">Gestione connessione ibrida supporta le nuove connessioni ibride nonché le connessioni ibride BizTalk meno recenti.</span><span class="sxs-lookup"><span data-stu-id="940fe-209">The HCM supports both new hybrid connections as well as the older BizTalk hybrid connections.</span></span>

### <a name="redundancy"></a><span data-ttu-id="940fe-210">Ridondanza</span><span class="sxs-lookup"><span data-stu-id="940fe-210">Redundancy</span></span> ###

<span data-ttu-id="940fe-211">Ogni istanza di Gestione connessione ibrida può supportare più connessioni ibride.</span><span class="sxs-lookup"><span data-stu-id="940fe-211">Each HCM can support multiple hybrid connections.</span></span>  <span data-ttu-id="940fe-212">Ogni connessione ibrida specificata può inoltre essere supportata da più istanze di Gestione connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-212">Also, any given hybrid connection can be supported by multiple HCMs.</span></span>  <span data-ttu-id="940fe-213">Il comportamento predefinito consiste nell'eseguire il round robin sul traffico tra le istanze configurate di Gestione connessione ibrida per un endpoint specificato.</span><span class="sxs-lookup"><span data-stu-id="940fe-213">The default behavior is to round robin traffic across the configured HCMs for any given endpoint.</span></span>  <span data-ttu-id="940fe-214">Se si intende usufruire della disponibilità elevata nelle connessioni ibride dalla rete, è sufficiente creare istanze di Gestione connessione ibrida in computer separati.</span><span class="sxs-lookup"><span data-stu-id="940fe-214">If you want high availability on your hybrid connections from your network, simply instantiate multiple HCMs on separate machines.</span></span> 

### <a name="manually-adding-a-hybrid-connection"></a><span data-ttu-id="940fe-215">Aggiunta manuale di una connessione ibrida</span><span class="sxs-lookup"><span data-stu-id="940fe-215">Manually adding a hybrid connection</span></span> ###

<span data-ttu-id="940fe-216">Se si vuole che un'entità esterna alla propria sottoscrizione ospiti un'istanza di Gestione connessione ibrida per una connessione ibrida specificata, è possibile condividere con tale entità la stringa di connessione gateway per la connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-216">If you wish somebody outside of your subscription to host an HCM instance for a given hybrid connection, you can share with them the gateway connection string for the hybrid connection.</span></span>  <span data-ttu-id="940fe-217">Questa stringa è visibile nelle proprietà di una connessione ibrida nel [portale di Azure][portal].</span><span class="sxs-lookup"><span data-stu-id="940fe-217">You can see this in the properties for a hybrid connection in the [Azure portal][portal].</span></span> <span data-ttu-id="940fe-218">Per usare tale stringa, fare clic sul pulsante **Configure manually** (Configura manualmente) in Gestione connessione ibrida e incollare la stringa di connessione gateway.</span><span class="sxs-lookup"><span data-stu-id="940fe-218">To use that string, click the **Configure manually** button in the HCM and paste in the gateway connection string.</span></span>


## <a name="troubleshooting"></a><span data-ttu-id="940fe-219">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="940fe-219">Troubleshooting</span></span> ##

<span data-ttu-id="940fe-220">Quando la connessione ibrida è configurata con un'applicazione in esecuzione ed esiste almeno un'istanza di Gestione connessione ibrida che dispone di tale connessione ibrida configurata, lo stato nel portale è **Connesso**.</span><span class="sxs-lookup"><span data-stu-id="940fe-220">When your hybrid connection is set up with a running application and there is at least one HCM that has that hybrid connection configured, then the status will say **Connected** in the portal.</span></span>  <span data-ttu-id="940fe-221">Se lo stato non è **Connesso**, significa che l'app non funziona o che Gestione connessione ibrida non riesce a connettersi ad Azure tramite la porta 80 o 443.</span><span class="sxs-lookup"><span data-stu-id="940fe-221">If it does not say **Connected** then it means that either your app is down or your HCM cannot connect out to Azure on ports 80 or 443.</span></span>  

<span data-ttu-id="940fe-222">Il motivo principale per cui i client non riescono a connettersi al relativo endpoint è perché l'endpoint è stato specificato usando un indirizzo IP anziché un nome DNS.</span><span class="sxs-lookup"><span data-stu-id="940fe-222">The primary reason that clients cannot connect to their endpoint is because the endpoint was specified using an IP address instead of a DNS name.</span></span>  <span data-ttu-id="940fe-223">Se l'app non riesce a raggiungere l'endpoint desiderato ed è stato specificato un indirizzo IP, usare un nome DNS valido nell'host in cui Gestione connessione ibrida è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="940fe-223">If your app cannot reach the desired endpoint and you used an IP address, switch to using a DNS name that is valid on the host where the HCM is running.</span></span>  <span data-ttu-id="940fe-224">È necessario controllare anche che il nome DNS venga risolto correttamente nell'host in cui Gestione connessione ibrida è in esecuzione e che vi sia connettività tra l'host in cui Gestione connessione ibrida è in esecuzione e l'endpoint della connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-224">Other things to check are that the DNS name resolves properly on the host where the HCM is running and that there is connectivity from the host where the HCM is running to the hybrid connection endpoint.</span></span>  

<span data-ttu-id="940fe-225">Nel Servizio app è disponibile uno strumento denominato tcpping, richiamabile dalla console.</span><span class="sxs-lookup"><span data-stu-id="940fe-225">There is a tool in the App Service that can be invoked from the console called tcpping.</span></span>  <span data-ttu-id="940fe-226">Questo strumento indica se si dispone dell'accesso a un endpoint TCP, ma non se si dispone dell'accesso all'endpoint di una connessione ibrida.</span><span class="sxs-lookup"><span data-stu-id="940fe-226">This tool can tell you if you have access to a TCP endpoint but does not tell you if you have access to a hybrid connection endpoint.</span></span>  <span data-ttu-id="940fe-227">Se usato nella console per rilevare l'endpoint di una connessione ibrida, un ping con esito positivo indicherà solo che si dispone di una connessione ibrida configurata per l'app che usa la combinazione host:porta specificata.</span><span class="sxs-lookup"><span data-stu-id="940fe-227">When used in the console against a hybrid connection endpoint, a successful ping will only tell you that you have a hybrid connection configured for your app that uses that host:port combination.</span></span>  

## <a name="biztalk-hybrid-connections"></a><span data-ttu-id="940fe-228">Connessioni ibride BizTalk</span><span class="sxs-lookup"><span data-stu-id="940fe-228">BizTalk Hybrid Connections</span></span> ##

<span data-ttu-id="940fe-229">Non è più possibile usare la funzionalità Connessioni ibride BizTalk precedente per la creazione di connessioni ibride BizTalk.</span><span class="sxs-lookup"><span data-stu-id="940fe-229">The older BizTalk Hybrid Connections capability has been closed off to further BizTalk Hybrid Connection creations.</span></span>  <span data-ttu-id="940fe-230">È possibile continuare a usare le connessioni ibride BizTalk preesistenti, ma è consigliabile migrare al nuovo servizio.</span><span class="sxs-lookup"><span data-stu-id="940fe-230">You can continue using your preexisting BizTalk Hybrid Connections with your apps but should migrate to the new service.</span></span>  <span data-ttu-id="940fe-231">Rispetto alla versione di BizTalk, il nuovo servizio offre vari vantaggi tra cui:</span><span class="sxs-lookup"><span data-stu-id="940fe-231">Among the benefits in the new service over the BizTalk version are:</span></span>

- <span data-ttu-id="940fe-232">Non è richiesto alcun account BizTalk aggiuntivo</span><span class="sxs-lookup"><span data-stu-id="940fe-232">no additional BizTalk account is required</span></span>
- <span data-ttu-id="940fe-233">La versione di TLS è 1.2 anziché 1.0 come in Connessioni ibride BizTalk</span><span class="sxs-lookup"><span data-stu-id="940fe-233">TLS is 1.2 instead of 1.0 as in BizTalk Hybrid Connections</span></span>
- <span data-ttu-id="940fe-234">La comunicazione avviene sulle porte 80 e 443 usando un nome DNS per raggiungere Azure anziché gli indirizzi IP e una gamma di altre porte aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="940fe-234">Communication is over ports 80 and 443 using a DNS name to reach Azure instead of IP addresses and a range of additional other ports.</span></span>  

<span data-ttu-id="940fe-235">Per aggiungere una connessione ibrida BizTalk alla propria app, passare all'app nel [portale di Azure][portal] e fare clic su **Rete > Configurare gli endpoint della connessione ibrida**.</span><span class="sxs-lookup"><span data-stu-id="940fe-235">To add a BizTalk hybrid connection to your app, go to your app in the [Azure portal][portal] and click **Networking > Configure your hybrid connection endpoints**.</span></span>  <span data-ttu-id="940fe-236">Nella tabella Connessioni ibride (versione classica) fare clic su **Aggiungi connessione ibrida classica**.</span><span class="sxs-lookup"><span data-stu-id="940fe-236">In the Classic hybrid connections table click **Add classic hybrid connection**.</span></span>  <span data-ttu-id="940fe-237">Verrà visualizzato un elenco delle connessioni ibride BizTalk in uso.</span><span class="sxs-lookup"><span data-stu-id="940fe-237">From here you will see a list of your BizTalk hybrid connections.</span></span>  


<!--Image references-->
[1]: ./media/app-service-hybrid-connections/hybridconn-connectiondiagram.png
[2]: ./media/app-service-hybrid-connections/hybridconn-portal.png
[3]: ./media/app-service-hybrid-connections/hybridconn-addhc.png
[4]: ./media/app-service-hybrid-connections/hybridconn-createhc.png
[5]: ./media/app-service-hybrid-connections/hybridconn-properties.png
[6]: ./media/app-service-hybrid-connections/hybridconn-aspproperties.png
[7]: ./media/app-service-hybrid-connections/hybridconn-hcm.png
[8]: ./media/app-service-hybrid-connections/hybridconn-hcmadd.png
[9]: ./media/app-service-hybrid-connections/hybridconn-hcmadded.png
[10]: ./media/app-service-hybrid-connections/hybridconn-hcmdetails.png

<!--Links-->
[HCService]: http://docs.microsoft.com/azure/service-bus-relay/relay-hybrid-connections-protocol/
[portal]: http://portal.azure.com/
[oldhc]: http://docs.microsoft.com/azure/biztalk-services/integration-hybrid-connection-overview/
[sbpricing]: http://azure.microsoft.com/pricing/details/service-bus/

