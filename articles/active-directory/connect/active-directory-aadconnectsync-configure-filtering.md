---
title: 'Servizio di sincronizzazione Azure AD Connect: configurare il filtro | Documentazione Microsoft'
description: Illustra come configurare i filtri nel servizio di sincronizzazione Azure AD Connect.
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 880facf6-1192-40e9-8181-544c0759d506
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 064642ebb9cafb0c6e1b3ff306241182a95215cc
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-configure-filtering"></a><span data-ttu-id="5d9a0-103">Servizio di sincronizzazione Azure AD Connect: Configurare il filtro</span><span class="sxs-lookup"><span data-stu-id="5d9a0-103">Azure AD Connect sync: Configure filtering</span></span>
<span data-ttu-id="5d9a0-104">L'applicazione di un filtro consente di controllare quali oggetti vengono visualizzati in Azure Active Directory (Azure AD) dalla directory locale.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-104">By using filtering, you can control which objects appear in Azure Active Directory (Azure AD) from your on-premises directory.</span></span> <span data-ttu-id="5d9a0-105">La configurazione predefinita considera tutti gli oggetti in tutti i domini delle foreste configurate.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-105">The default configuration takes all objects in all domains in the configured forests.</span></span> <span data-ttu-id="5d9a0-106">In generale, questa è la configurazione consigliata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-106">In general, this is the recommended configuration.</span></span> <span data-ttu-id="5d9a0-107">Gli utenti che usano i carichi di lavoro di Office 365, come Exchange Online e Skype for Business, hanno a disposizione un elenco indirizzi globale completo per inviare messaggi di posta elettronica e chiamare chiunque.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-107">Users using Office 365 workloads, such as Exchange Online and Skype for Business, benefit from a complete Global Address List so they can send email and call everyone.</span></span> <span data-ttu-id="5d9a0-108">Con la configurazione predefinita possono usufruire della stessa esperienza resa disponibile da un'implementazione locale di Exchange o Lync.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-108">With the default configuration, they would have the same experience that they would have with an on-premises implementation of Exchange or Lync.</span></span>

<span data-ttu-id="5d9a0-109">In alcuni casi è tuttavia necessario apportare alcune modifiche alla configurazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-109">In some cases however, you're required make some changes to the default configuration.</span></span> <span data-ttu-id="5d9a0-110">Di seguito sono riportati alcuni esempi:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-110">Here are some examples:</span></span>

* <span data-ttu-id="5d9a0-111">Si prevede di usare la [topologia con più directory di Azure AD](active-directory-aadconnect-topologies.md#each-object-only-once-in-an-azure-ad-tenant).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-111">You plan to use the [multi-Azure AD directory topology](active-directory-aadconnect-topologies.md#each-object-only-once-in-an-azure-ad-tenant).</span></span> <span data-ttu-id="5d9a0-112">In tal caso è necessario applicare un filtro per controllare quali oggetti sincronizzare con una determinata directory di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-112">Then you need to apply a filter to control which objects are synchronized to a particular Azure AD directory.</span></span>
* <span data-ttu-id="5d9a0-113">Si esegue una distribuzione pilota per Azure o Office 365 e si vuole solo un subset di utenti in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-113">You run a pilot for Azure or Office 365 and you only want a subset of users in Azure AD.</span></span> <span data-ttu-id="5d9a0-114">In una distribuzione pilota di dimensioni ridotte la disponibilità di un elenco indirizzi globale completo per illustrare la funzionalità non è importante.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-114">In the small pilot, it's not important to have a complete Global Address List to demonstrate the functionality.</span></span>
* <span data-ttu-id="5d9a0-115">Si dispone di molti account del servizio e di altri account non personali non desiderati in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-115">You have many service accounts and other nonpersonal accounts that you don't want in Azure AD.</span></span>
* <span data-ttu-id="5d9a0-116">Per motivi di conformità, non si eliminano account utente locali,</span><span class="sxs-lookup"><span data-stu-id="5d9a0-116">For compliance reasons, you don't delete any user accounts on-premises.</span></span> <span data-ttu-id="5d9a0-117">li si disabilita soltanto,</span><span class="sxs-lookup"><span data-stu-id="5d9a0-117">You only disable them.</span></span> <span data-ttu-id="5d9a0-118">ma si vuole che in Azure AD siano presenti solo account attivi.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-118">But in Azure AD, you only want active accounts to be present.</span></span>

<span data-ttu-id="5d9a0-119">Questo articolo illustra come configurare i diversi metodi di filtro.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-119">This article covers how to configure the different filtering methods.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5d9a0-120">Microsoft non supporta la modifica o l'uso del servizio di sincronizzazione Azure AD Connect al di fuori delle azioni descritte in modo formale.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-120">Microsoft doesn't support modifying or operating Azure AD Connect sync outside of the actions that are formally documented.</span></span> <span data-ttu-id="5d9a0-121">Ognuna di queste azioni potrebbe provocare uno stato incoerente o non supportato del sevizio di sincronizzazione Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-121">Any of these actions might result in an inconsistent or unsupported state of Azure AD Connect sync.</span></span> <span data-ttu-id="5d9a0-122">Microsoft pertanto non offre il supporto tecnico per distribuzioni di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-122">As a result, Microsoft can't provide technical support for such deployments.</span></span>

## <a name="basics-and-important-notes"></a><span data-ttu-id="5d9a0-123">Nozioni di base e note importanti</span><span class="sxs-lookup"><span data-stu-id="5d9a0-123">Basics and important notes</span></span>
<span data-ttu-id="5d9a0-124">Nel servizio di sincronizzazione Azure AD Connect è possibile abilitare il filtro in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-124">In Azure AD Connect sync, you can enable filtering at any time.</span></span> <span data-ttu-id="5d9a0-125">Se si inizia con una configurazione predefinita del servizio di sincronizzazione della directory e successivamente si configura il filtro, gli oggetti esclusi non verranno più sincronizzati con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-125">If you start with a default configuration of directory synchronization and then configure filtering, the objects that are filtered out are no longer synchronized to Azure AD.</span></span> <span data-ttu-id="5d9a0-126">A causa di questa modifica, tutti gli oggetti in Azure AD sincronizzati in precedenza, ma successivamente esclusi, verranno eliminati in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-126">Because of this change, any objects in Azure AD that were previously synchronized but were then filtered are deleted in Azure AD.</span></span>

<span data-ttu-id="5d9a0-127">Prima di iniziare ad apportare modifiche al filtro, [disabilitare l'attività pianificata](#disable-scheduled-task) in modo da non esportare accidentalmente modifiche di cui non si è ancora verificata la correttezza.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-127">Before you start making changes to filtering, make sure that you [disable the scheduled task](#disable-scheduled-task) so you don't accidentally export changes that you haven't yet verified to be correct.</span></span>

<span data-ttu-id="5d9a0-128">Poiché il filtro può rimuovere molti oggetti contemporaneamente, prima di iniziare a esportare le modifiche in Azure AD è opportuno verificare che i nuovi filtri siano corretti.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-128">Because filtering can remove many objects at the same time, you want to make sure that your new filters are correct before you start exporting any changes to Azure AD.</span></span> <span data-ttu-id="5d9a0-129">Dopo aver completato i passaggi di configurazione, è consigliabile seguire i [passaggi di verifica](#apply-and-verify-changes) prima di esportare e apportare modifiche in Azure AD .</span><span class="sxs-lookup"><span data-stu-id="5d9a0-129">After you've completed the configuration steps, we strongly recommend that you follow the [verification steps](#apply-and-verify-changes) before you export and make changes to Azure AD.</span></span>

<span data-ttu-id="5d9a0-130">Per evitare che si elimino numerosi oggetti per errore, la funzionalità che [impedisce eliminazioni accidentali](active-directory-aadconnectsync-feature-prevent-accidental-deletes.md) è attiva per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-130">To protect you from deleting many objects by accident, the feature "[prevent accidental deletes](active-directory-aadconnectsync-feature-prevent-accidental-deletes.md)" is on by default.</span></span> <span data-ttu-id="5d9a0-131">Se si eliminano molti oggetti a causa del filtro (500, per impostazione predefinita), è necessario seguire i passaggi di questo articolo per consentire alle eliminazioni di giungere ad Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-131">If you delete many objects due to filtering (500 by default), you need to follow the steps in this article to allow the deletes to go through to Azure AD.</span></span>

<span data-ttu-id="5d9a0-132">Se si usa una build precedente a quella di novembre 2015 ([1.0.9125](active-directory-aadconnect-version-history.md#1091250)), si apporta una modifica a una configurazione di filtro e si usa il servizio di sincronizzazione delle password, è necessario attivare una sincronizzazione completa di tutte le password al termine della configurazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-132">If you use a build before November 2015 ([1.0.9125](active-directory-aadconnect-version-history.md#1091250)), make a change to a filter configuration, and use password synchronization, then you need to trigger a full sync of all passwords after you've completed the configuration.</span></span> <span data-ttu-id="5d9a0-133">Per informazioni su come attivare una sincronizzazione completa di tutte le password, vedere [Attivare una sincronizzazione completa di tutte le password](active-directory-aadconnectsync-troubleshoot-password-synchronization.md#trigger-a-full-sync-of-all-passwords).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-133">For steps on how to trigger a password full sync, see [Trigger a full sync of all passwords](active-directory-aadconnectsync-troubleshoot-password-synchronization.md#trigger-a-full-sync-of-all-passwords).</span></span> <span data-ttu-id="5d9a0-134">Se si usa la build 1.0.9125 o versione successiva, la normale azione di **sincronizzazione completa** consente anche di stabilire se le password devono essere sincronizzate e se questo passaggio aggiuntivo non è più necessario.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-134">If you're on build 1.0.9125 or later, then the regular **full synchronization** action also calculates whether passwords should be synchronized and if this extra step is no longer required.</span></span>

<span data-ttu-id="5d9a0-135">Se in Azure AD sono stati eliminati inavvertitamente oggetti **utente** a causa di un errore di filtro, è possibile ricrearli in Azure AD rimuovendo le configurazioni di filtro</span><span class="sxs-lookup"><span data-stu-id="5d9a0-135">If **user** objects were inadvertently deleted in Azure AD because of a filtering error, you can recreate the user objects in Azure AD by removing your filtering configurations.</span></span> <span data-ttu-id="5d9a0-136">e successivamente sincronizzare nuovamente le directory.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-136">Then you can synchronize your directories again.</span></span> <span data-ttu-id="5d9a0-137">Questa azione ripristina gli utenti dal Cestino in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-137">This action restores the users from the recycle bin in Azure AD.</span></span> <span data-ttu-id="5d9a0-138">Non è tuttavia possibile annullare l'eliminazione di altri tipi di oggetto.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-138">However, you can't undelete other object types.</span></span> <span data-ttu-id="5d9a0-139">Se ad esempio si elimina accidentalmente un gruppo di sicurezza usato per inserire una risorsa in un elenco di controllo di accesso, il gruppo e gli elenchi di controllo di accesso relativi non possono essere ripristinati.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-139">For example, if you accidentally delete a security group and it was used to ACL a resource, the group and its ACLs can't be recovered.</span></span>

<span data-ttu-id="5d9a0-140">Azure AD Connect elimina solo gli oggetti considerati come presenti nell'ambito.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-140">Azure AD Connect only deletes objects that it has once considered to be in scope.</span></span> <span data-ttu-id="5d9a0-141">Se in Azure AD sono presenti oggetti creati da un altro motore di sincronizzazione, ma non compresi nell'ambito, l'aggiunta del filtro non ne determina la rimozione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-141">If there are objects in Azure AD that were created by another sync engine and these objects aren't in scope, adding filtering doesn't remove them.</span></span> <span data-ttu-id="5d9a0-142">Se ad esempio si inizia con un server DirSync che ha creato una copia completa dell'intera directory in Azure AD e si installa un nuovo server del servizio di sincronizzazione Azure AD Connect contemporaneamente al filtro abilitato all'inizio, Azure AD Connect non rimuove gli oggetti aggiuntivi creati da DirSync.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-142">For example, if you start with a DirSync server that created a complete copy of your entire directory in Azure AD, and you install a new Azure AD Connect sync server in parallel with filtering enabled from the beginning, Azure AD Connect doesn't remove the extra objects that are created by DirSync.</span></span>

<span data-ttu-id="5d9a0-143">Quando si installa o si esegue l'aggiornamento a una versione più recente di Azure AD Connect, vengono conservate le configurazioni del filtro.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-143">The filtering configuration is retained when you install or upgrade to a newer version of Azure AD Connect.</span></span> <span data-ttu-id="5d9a0-144">Prima di eseguire il primo ciclo di sincronizzazione, è consigliabile verificare sempre che la configurazione non sia stata modificata inavvertitamente dopo un aggiornamento a una versione più recente.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-144">It's always a best practice to verify that the configuration wasn't inadvertently changed after an upgrade to a newer version before running the first synchronization cycle.</span></span>

<span data-ttu-id="5d9a0-145">Se si dispone di più di una foresta, è necessario applicare a ognuna le configurazioni di filtro descritte in questo argomento, presupponendo che si desideri la stessa configurazione per ogni foresta.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-145">If you have more than one forest, then you must apply the filtering configurations that are described in this topic to every forest (assuming that you want the same configuration for all of them).</span></span>

### <a name="disable-the-scheduled-task"></a><span data-ttu-id="5d9a0-146">Disabilitare l'attività pianificata</span><span class="sxs-lookup"><span data-stu-id="5d9a0-146">Disable the scheduled task</span></span>
<span data-ttu-id="5d9a0-147">Per disabilitare l'utilità di pianificazione predefinita che attiva un ciclo di sincronizzazione ogni 30 ore, seguire questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-147">To disable the built-in scheduler that triggers a synchronization cycle every 30 minutes, follow these steps:</span></span>

1. <span data-ttu-id="5d9a0-148">Passare a un prompt di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-148">Go to a PowerShell prompt.</span></span>
2. <span data-ttu-id="5d9a0-149">Eseguire `Set-ADSyncScheduler -SyncCycleEnabled $False` per disabilitare l'utilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-149">Run `Set-ADSyncScheduler -SyncCycleEnabled $False` to disable the scheduler.</span></span>
3. <span data-ttu-id="5d9a0-150">Apportare le modifiche descritte in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-150">Make the changes that are documented in this article.</span></span>
4. <span data-ttu-id="5d9a0-151">Eseguire `Set-ADSyncScheduler -SyncCycleEnabled $True` per abilitare di nuovo l'utilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-151">Run `Set-ADSyncScheduler -SyncCycleEnabled $True` to enable the scheduler again.</span></span>

<span data-ttu-id="5d9a0-152">**Se si usa una build di Azure AD Connect precedente a 1.1.105.0**</span><span class="sxs-lookup"><span data-stu-id="5d9a0-152">**If you use an Azure AD Connect build before 1.1.105.0**</span></span>  
<span data-ttu-id="5d9a0-153">Per disabilitare l'attività pianificata che attiva un ciclo di sincronizzazione ogni tre, seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-153">To disable the scheduled task that triggers a synchronization cycle every three hours, follow these steps:</span></span>

1. <span data-ttu-id="5d9a0-154">Avviare **Utilità di pianificazione** dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-154">Start **Task Scheduler** from the **Start** menu.</span></span>
2. <span data-ttu-id="5d9a0-155">In **Libreria Utilità di pianificazione** trovare l'attività denominata **Azure AD Sync Scheduler**, fare clic con il pulsante destro del mouse e scegliere **Disabilita**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-155">Directly under **Task Scheduler Library**, find the task named **Azure AD Sync Scheduler**, right-click, and select **Disable**.</span></span>  
   <span data-ttu-id="5d9a0-156">![Utilità di pianificazione](./media/active-directory-aadconnectsync-configure-filtering/taskscheduler.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-156">![Task Scheduler](./media/active-directory-aadconnectsync-configure-filtering/taskscheduler.png)</span></span>  
3. <span data-ttu-id="5d9a0-157">È ora possibile apportare modifiche alla configurazione ed eseguire manualmente il motore di sincronizzazione dalla console **Synchronization Service Manager**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-157">You can now make configuration changes and run the sync engine manually from the **Synchronization Service Manager** console.</span></span>

<span data-ttu-id="5d9a0-158">Dopo aver completato tutte le modifiche del filtro, tornare indietro e **abilitare** nuovamente l'attività.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-158">After you've completed all your filtering changes, don't forget to come back and **Enable** the task again.</span></span>

## <a name="filtering-options"></a><span data-ttu-id="5d9a0-159">Opzioni di filtro</span><span class="sxs-lookup"><span data-stu-id="5d9a0-159">Filtering options</span></span>
<span data-ttu-id="5d9a0-160">Allo strumento di sincronizzazione della directory è possibile applicare i tipi di configurazione di filtro seguenti:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-160">You can apply the following filtering configuration types to the directory synchronization tool:</span></span>

* <span data-ttu-id="5d9a0-161">[**Basato su gruppo**](#group-based-filtering): il filtro basato su un singolo gruppo può essere configurato solo durante l'installazione iniziale usando l'installazione guidata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-161">[**Group-based**](#group-based-filtering): Filtering based on a single group can only be configured on initial installation by using the installation wizard.</span></span>
* <span data-ttu-id="5d9a0-162">[**Basato su domini**](#domain-based-filtering): consente di selezionare i domini da sincronizzare con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-162">[**Domain-based**](#domain-based-filtering): By using this option, you can select which domains synchronize to Azure AD.</span></span> <span data-ttu-id="5d9a0-163">È anche possibile aggiungere e rimuovere domini dalla configurazione del motore di sincronizzazione quando si apportano modifiche all'infrastruttura locale dopo aver installato il servizio di sincronizzazione Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-163">You can also add and remove domains from the sync engine configuration when you make changes to your on-premises infrastructure after you install Azure AD Connect sync.</span></span>
* <span data-ttu-id="5d9a0-164">[**Basato su unità organizzative**](#organizational-unitbased-filtering): consente di selezionare le unità organizzative da sincronizzare con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-164">[**Organizational unit (OU)–based**](#organizational-unitbased-filtering): By using this option, you can select which OUs synchronize to Azure AD.</span></span> <span data-ttu-id="5d9a0-165">Questa opzione è disponibile in tutti i tipi di oggetto nelle unità organizzative selezionate.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-165">This option is for all object types in selected OUs.</span></span>
* <span data-ttu-id="5d9a0-166">[**Basato su attributi**](#attribute-based-filtering): consente di filtrare gli oggetti in base ai valori di attributo relativi.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-166">[**Attribute-based**](#attribute-based-filtering): By using this option, you can filter objects based on attribute values on the objects.</span></span> <span data-ttu-id="5d9a0-167">È anche possibile avere filtri diversi a seconda del tipo di oggetto.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-167">You can also have different filters for different object types.</span></span>

<span data-ttu-id="5d9a0-168">È possibile usare più opzioni di filtro contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-168">You can use multiple filtering options at the same time.</span></span> <span data-ttu-id="5d9a0-169">È possibile ad esempio usare il filtro basato su unità organizzative per includere gli oggetti solo in un'unità organizzativa.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-169">For example, you can use OU-based filtering to only include objects in one OU.</span></span> <span data-ttu-id="5d9a0-170">Allo stesso tempo, è possibile usare il filtro basato su attributi per filtrare ulteriormente gli oggetti.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-170">At the same time, you can use attribute-based filtering to filter the objects further.</span></span> <span data-ttu-id="5d9a0-171">Quando si usano più metodi di filtro, viene usato un operatore AND logico tra i filtri.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-171">When you use multiple filtering methods, the filters use a logical "AND" between the filters.</span></span>

## <a name="domain-based-filtering"></a><span data-ttu-id="5d9a0-172">Filtro basato su dominio</span><span class="sxs-lookup"><span data-stu-id="5d9a0-172">Domain-based filtering</span></span>
<span data-ttu-id="5d9a0-173">Questa sezione illustra i passaggi necessari per configurare il filtro basato su dominio.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-173">This section provides you with the steps to configure your domain filter.</span></span> <span data-ttu-id="5d9a0-174">Se sono stati aggiunti o rimossi domini nella foresta dopo l'installazione di Azure AD Connect, è necessario aggiornare anche la configurazione del filtro.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-174">If you added or removed domains in your forest after you installed Azure AD Connect, you also have to update the filtering configuration.</span></span>

<span data-ttu-id="5d9a0-175">Il modo migliore per modificare i filtri basati su domini consiste nell'eseguire l'installazione guidata e cambiare i [filtri basati su domini e su unità organizzative](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-175">The preferred way to change domain-based filtering is by running the installation wizard and changing [domain and OU filtering](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering).</span></span> <span data-ttu-id="5d9a0-176">L'installazione guidata consente di eseguire automaticamente tutte le attività descritte in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-176">The installation wizard automates all the tasks that are documented in this topic.</span></span>

<span data-ttu-id="5d9a0-177">È consigliabile seguire questa procedura solo se non è possibile eseguire l'installazione guidata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-177">You should only follow these steps if you're unable to run the installation wizard for some reason.</span></span>

<span data-ttu-id="5d9a0-178">La configurazione del filtro basato su dominio prevede questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-178">Domain-based filtering configuration consists of these steps:</span></span>

1. <span data-ttu-id="5d9a0-179">[Selezionare i domini](#select-domains-to-be-synchronized) da includere nella sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-179">[Select the domains](#select-domains-to-be-synchronized) that you want to include in the synchronization.</span></span>
2. <span data-ttu-id="5d9a0-180">Per ogni dominio aggiunto e rimosso, modificare i [profili di esecuzione](#update-run-profiles).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-180">For each added and removed domain, adjust the [run profiles](#update-run-profiles).</span></span>
3. <span data-ttu-id="5d9a0-181">[Applicare e verificare le modifiche](#apply-and-verify-changes)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-181">[Apply and verify changes](#apply-and-verify-changes).</span></span>

### <a name="select-the-domains-to-be-synchronized"></a><span data-ttu-id="5d9a0-182">Selezionare i domini da sincronizzare</span><span class="sxs-lookup"><span data-stu-id="5d9a0-182">Select the domains to be synchronized</span></span>
<span data-ttu-id="5d9a0-183">Per impostare il filtro basato su dominio, seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-183">To set the domain filter, do the following steps:</span></span>

1. <span data-ttu-id="5d9a0-184">Accedere al server che esegue il servizio di sincronizzazione Azure AD Connect usando un account membro del gruppo di sicurezza **ADSyncAdmins** .</span><span class="sxs-lookup"><span data-stu-id="5d9a0-184">Sign in to the server that is running Azure AD Connect sync by using an account that is a member of the **ADSyncAdmins** security group.</span></span>
2. <span data-ttu-id="5d9a0-185">Avviare **Synchronization Service** (Servizio di sincronizzazione) dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-185">Start **Synchronization Service** from the **Start** menu.</span></span>
3. <span data-ttu-id="5d9a0-186">Selezionare **Connectors** (Connettori) e nell'elenco **Connectors** selezionare il connettore con il tipo **Active Directory Domain Services**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-186">Select **Connectors**, and in the **Connectors** list, select the Connector with the type **Active Directory Domain Services**.</span></span> <span data-ttu-id="5d9a0-187">In **Actions** (Azioni) selezionare **Properties** (Proprietà).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-187">In **Actions**, select **Properties**.</span></span>  
   <span data-ttu-id="5d9a0-188">![Proprietà del connettore](./media/active-directory-aadconnectsync-configure-filtering/connectorproperties.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-188">![Connector properties](./media/active-directory-aadconnectsync-configure-filtering/connectorproperties.png)</span></span>  
4. <span data-ttu-id="5d9a0-189">Fare clic su **Configure Directory Partitions**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-189">Click **Configure Directory Partitions**.</span></span>
5. <span data-ttu-id="5d9a0-190">Nell'elenco **Select directory partitions** (Selezionare le partizioni di directory) selezionare e deselezionare i domini in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-190">In the **Select directory partitions** list, select and unselect domains as needed.</span></span> <span data-ttu-id="5d9a0-191">Verificare che siano selezionate solo le partizioni da sincronizzare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-191">Verify that only the partitions that you want to synchronize are selected.</span></span>  
   <span data-ttu-id="5d9a0-192">![Partitions](./media/active-directory-aadconnectsync-configure-filtering/connectorpartitions.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-192">![Partitions](./media/active-directory-aadconnectsync-configure-filtering/connectorpartitions.png)</span></span>  
   <span data-ttu-id="5d9a0-193">Se è stata modificata l'infrastruttura Active Directory locale e se sono stati aggiunti o rimossi domini dalla foresta, fare clic sul pulsante **Refresh** (Aggiorna) per ottenere un elenco aggiornato.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-193">If you've changed your on-premises Active Directory infrastructure and added or removed domains from the forest, then click the **Refresh** button to get an updated list.</span></span> <span data-ttu-id="5d9a0-194">Quando si esegue l'aggiornamento, vengono richieste le credenziali.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-194">When you refresh, you're asked for credentials.</span></span> <span data-ttu-id="5d9a0-195">Specificare le credenziali con accesso in lettura a Windows Server Active Directory.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-195">Provide any credentials with read access to Windows Server Active Directory.</span></span> <span data-ttu-id="5d9a0-196">Tali credenziali non devono necessariamente appartenere all'utente già inserito nella finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-196">It doesn't have to be the user that is prepopulated in the dialog box.</span></span>  
   <span data-ttu-id="5d9a0-197">![Aggiornamento necessario](./media/active-directory-aadconnectsync-configure-filtering/refreshneeded.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-197">![Refresh needed](./media/active-directory-aadconnectsync-configure-filtering/refreshneeded.png)</span></span>  
6. <span data-ttu-id="5d9a0-198">Al termine, fare clic su **OK** per chiudere la finestra di dialogo **Properties** (Proprietà).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-198">When you're done, close the **Properties** dialog by clicking **OK**.</span></span> <span data-ttu-id="5d9a0-199">Se sono stati rimossi domini dalla foresta, viene visualizzato un messaggio in cui è indicato che è stato rimosso un dominio e che verrà eseguita la pulizia della configurazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-199">If you removed domains from the forest, a message pop-up says that a domain was removed and that configuration will be cleaned up.</span></span>
7. <span data-ttu-id="5d9a0-200">Continuare a modificare i [profili di esecuzione](#update-run-profiles).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-200">Continue to adjust the [run profiles](#update-run-profiles).</span></span>

### <a name="update-the-run-profiles"></a><span data-ttu-id="5d9a0-201">Aggiornare i profili di esecuzione</span><span class="sxs-lookup"><span data-stu-id="5d9a0-201">Update the run profiles</span></span>
<span data-ttu-id="5d9a0-202">Se il filtro basato su domini è stato aggiornato, è necessario aggiornare anche i profili di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-202">If you've updated your domain filter, you also need to update the run profiles.</span></span>

1. <span data-ttu-id="5d9a0-203">Nell'elenco **Connectors** (Connettori) verificare che sia selezionato il connettore modificato nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-203">In the **Connectors** list, make sure that the Connector that you changed in the previous step is selected.</span></span> <span data-ttu-id="5d9a0-204">In **Actions** (Azioni) selezionare **Configure Run Profiles** (Configura profili di esecuzione).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-204">In **Actions**, select **Configure Run Profiles**.</span></span>  
   <span data-ttu-id="5d9a0-205">![Profili di esecuzione del connettore 1](./media/active-directory-aadconnectsync-configure-filtering/connectorrunprofiles1.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-205">![Connector run profiles 1](./media/active-directory-aadconnectsync-configure-filtering/connectorrunprofiles1.png)</span></span>  
2. <span data-ttu-id="5d9a0-206">Trovare e identificare i profili seguenti:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-206">Find and identify the following profiles:</span></span>
    * <span data-ttu-id="5d9a0-207">Importazione completa</span><span class="sxs-lookup"><span data-stu-id="5d9a0-207">Full Import</span></span>
    * <span data-ttu-id="5d9a0-208">sincronizzazione completa</span><span class="sxs-lookup"><span data-stu-id="5d9a0-208">Full Synchronization</span></span>
    * <span data-ttu-id="5d9a0-209">Importazione differenziale</span><span class="sxs-lookup"><span data-stu-id="5d9a0-209">Delta Import</span></span>
    * <span data-ttu-id="5d9a0-210">Sincronizzazione differenziale</span><span class="sxs-lookup"><span data-stu-id="5d9a0-210">Delta Synchronization</span></span>
    * <span data-ttu-id="5d9a0-211">Esporta</span><span class="sxs-lookup"><span data-stu-id="5d9a0-211">Export</span></span>
3. <span data-ttu-id="5d9a0-212">Per ogni profilo modificare i domini **aggiunti** e **rimossi**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-212">For each profile, adjust the **added** and **removed** domains.</span></span>
    1. <span data-ttu-id="5d9a0-213">Per ognuno dei cinque profili, seguire questa procedura per ogni dominio **aggiunto**:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-213">For each of the five profiles, do the following steps for each **added** domain:</span></span>
        1. <span data-ttu-id="5d9a0-214">Selezionare il profilo di esecuzione e fare clic su **New Step**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-214">Select the run profile and click **New Step**.</span></span>
        2. <span data-ttu-id="5d9a0-215">Nel menu a discesa **Type** (Tipo) della pagina **Configure Step** (Configura passaggio) selezionare il tipo di passaggio con lo stesso nome del profilo da configurare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-215">On the **Configure Step** page, in the **Type** drop-down menu, select the step type with the same name as the profile that you're configuring.</span></span> <span data-ttu-id="5d9a0-216">Quindi fare clic su **Next**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-216">Then click **Next**.</span></span>  
        <span data-ttu-id="5d9a0-217">![Profili di esecuzione del connettore 2](./media/active-directory-aadconnectsync-configure-filtering/runprofilesnewstep1.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-217">![Connector run profiles 2](./media/active-directory-aadconnectsync-configure-filtering/runprofilesnewstep1.png)</span></span>  
        3. <span data-ttu-id="5d9a0-218">Nell'elenco a discesa **Partition** (Partizione) della pagina **Connector Configuration** (Configurazione connettore) selezionare il nome del dominio aggiunto al filtro basato su domini.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-218">On the **Connector Configuration** page, in the **Partition** drop-down menu, select the name of the domain that you've added to your domain filter.</span></span>  
        <span data-ttu-id="5d9a0-219">![Profili di esecuzione del connettore 3](./media/active-directory-aadconnectsync-configure-filtering/runprofilesnewstep2.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-219">![Connector run profiles 3](./media/active-directory-aadconnectsync-configure-filtering/runprofilesnewstep2.png)</span></span>  
        4. <span data-ttu-id="5d9a0-220">Per chiudere la finestra di dialogo **Configure Run Profile**, fare clic su **Finish**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-220">To close the **Configure Run Profile** dialog, click **Finish**.</span></span>
    2. <span data-ttu-id="5d9a0-221">Per ognuno dei cinque profili, seguire questa procedura per ogni dominio **rimosso**:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-221">For each of the five profiles, do the following steps for each **removed** domain:</span></span>
        1. <span data-ttu-id="5d9a0-222">Selezionare il profilo di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-222">Select the run profile.</span></span>
        2. <span data-ttu-id="5d9a0-223">Se l'opzione **Value** dell'attributo **Partition** è un GUID, selezionare il passaggio di esecuzione e fare clic su **Delete Step**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-223">If the **Value** of the **Partition** attribute is a GUID, select the run step and click **Delete Step**.</span></span>  
        <span data-ttu-id="5d9a0-224">![Profili di esecuzione del connettore 4](./media/active-directory-aadconnectsync-configure-filtering/runprofilesdeletestep.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-224">![Connector run profiles 4](./media/active-directory-aadconnectsync-configure-filtering/runprofilesdeletestep.png)</span></span>  
    3. <span data-ttu-id="5d9a0-225">Verificare la modifica.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-225">Verify your change.</span></span> <span data-ttu-id="5d9a0-226">Ogni dominio da sincronizzare deve essere elencato come un passaggio in ogni profilo di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-226">Each domain that you want to synchronize should be listed as a step in each run profile.</span></span>
4. <span data-ttu-id="5d9a0-227">Per chiudere la finestra di dialogo **Configure Run Profiles**, fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-227">To close the **Configure Run Profiles** dialog, click **OK**.</span></span>
5.  <span data-ttu-id="5d9a0-228">Per completare la configurazione, è necessario eseguire un'operazione **Full import** (Importazione completa) e un'operazione **Delta sync** (Sincronizzazione delta).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-228">To complete the configuration, you need to run a **Full import** and a **Delta sync**.</span></span> <span data-ttu-id="5d9a0-229">Per continuare, vedere la sezione [Applicare e verificare le modifiche](#apply-and-verify-changes).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-229">Continue reading the section [Apply and verify changes](#apply-and-verify-changes).</span></span>

## <a name="organizational-unitbased-filtering"></a><span data-ttu-id="5d9a0-230">Filtro basato su unità organizzative</span><span class="sxs-lookup"><span data-stu-id="5d9a0-230">Organizational unit–based filtering</span></span>
<span data-ttu-id="5d9a0-231">Il modo migliore per modificare i filtri basati su unità organizzative consiste nell'eseguire l'installazione guidata e cambiare i [filtri basati su domini e su unità organizzative](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-231">The preferred way to change OU-based filtering is by running the installation wizard and changing [domain and OU filtering](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering).</span></span> <span data-ttu-id="5d9a0-232">L'installazione guidata consente di eseguire automaticamente tutte le attività descritte in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-232">The installation wizard automates all the tasks that are documented in this topic.</span></span>

<span data-ttu-id="5d9a0-233">È consigliabile seguire questa procedura solo se non è possibile eseguire l'installazione guidata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-233">You should only follow these steps if you're unable to run the installation wizard for some reason.</span></span>

<span data-ttu-id="5d9a0-234">Per configurare il filtro basato su unità organizzative, seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-234">To configure organizational unit–based filtering, do the following steps:</span></span>

1. <span data-ttu-id="5d9a0-235">Accedere al server che esegue il servizio di sincronizzazione Azure AD Connect usando un account membro del gruppo di sicurezza **ADSyncAdmins** .</span><span class="sxs-lookup"><span data-stu-id="5d9a0-235">Sign in to the server that is running Azure AD Connect sync by using an account that is a member of the **ADSyncAdmins** security group.</span></span>
2. <span data-ttu-id="5d9a0-236">Avviare **Synchronization Service** (Servizio di sincronizzazione) dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-236">Start **Synchronization Service** from the **Start** menu.</span></span>
3. <span data-ttu-id="5d9a0-237">Selezionare **Connectors** (Connettori) e nell'elenco **Connectors** selezionare il connettore con il tipo **Active Directory Domain Services**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-237">Select **Connectors**, and in the **Connectors** list, select the Connector with the type **Active Directory Domain Services**.</span></span> <span data-ttu-id="5d9a0-238">In **Actions** (Azioni) selezionare **Properties** (Proprietà).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-238">In **Actions**, select **Properties**.</span></span>  
   <span data-ttu-id="5d9a0-239">![Proprietà del connettore](./media/active-directory-aadconnectsync-configure-filtering/connectorproperties.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-239">![Connector properties](./media/active-directory-aadconnectsync-configure-filtering/connectorproperties.png)</span></span>  
4. <span data-ttu-id="5d9a0-240">Fare clic su **Configure Directory Partitions** (Configurare le partizioni di directory) selezionare il dominio da configurare e quindi fare clic su **Containers** (Contenitori).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-240">Click **Configure Directory Partitions**, select the domain that you want to configure, and then click **Containers**.</span></span>
5. <span data-ttu-id="5d9a0-241">Quando richiesto, specificare le credenziali con accesso in lettura all'istanza di Active Directory locale.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-241">When you're prompted, provide any credentials with read access to your on-premises Active Directory.</span></span> <span data-ttu-id="5d9a0-242">Tali credenziali non devono necessariamente appartenere all'utente già inserito nella finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-242">It doesn't have to be the user that is prepopulated in the dialog box.</span></span>
6. <span data-ttu-id="5d9a0-243">Nella finestra di dialogo **Select Containers** deselezionare le unità organizzative da non sincronizzare con la directory cloud e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-243">In the **Select Containers** dialog box, clear the OUs that you don’t want to synchronize with the cloud directory, and then click **OK**.</span></span>  
   <span data-ttu-id="5d9a0-244">![Unità organizzative nella finestra di dialogo Select Containers (Seleziona contenitori)](./media/active-directory-aadconnectsync-configure-filtering/ou.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-244">![OUs in the Select Containers dialog box](./media/active-directory-aadconnectsync-configure-filtering/ou.png)</span></span>  
   * <span data-ttu-id="5d9a0-245">Per sincronizzare i computer Windows 10 con Azure AD, è necessario che il contenitore **Computers** sia selezionato.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-245">The **Computers** container should be selected for your Windows 10 computers to be successfully synchronized to Azure AD.</span></span> <span data-ttu-id="5d9a0-246">Se i computer aggiunti a un dominio si trovano in altre unità organizzative, verificare che queste ultime siano selezionate.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-246">If your domain-joined computers are located in other OUs, make sure those are selected.</span></span>
   * <span data-ttu-id="5d9a0-247">Se sono presenti più foreste con trust, il contenitore **ForeignSecurityPrincipals** deve essere selezionato.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-247">The **ForeignSecurityPrincipals** container should be selected if you have multiple forests with trusts.</span></span> <span data-ttu-id="5d9a0-248">Ciò consente di risolvere l'appartenenza al gruppo di sicurezza tra foreste.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-248">This container allows cross-forest security group membership to be resolved.</span></span>
   * <span data-ttu-id="5d9a0-249">Se è stata abilitata la funzionalità di writeback dei dispositivi, è necessario che l'unità organizzativa **RegisteredDevices** sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-249">The **RegisteredDevices** OU should be selected if you enabled the device writeback feature.</span></span> <span data-ttu-id="5d9a0-250">Se si usa un'altra funzionalità di writeback, ad esempio il writeback dei gruppi, verificare che queste posizioni siano selezionate.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-250">If you use another writeback feature, such as group writeback, make sure these locations are selected.</span></span>
   * <span data-ttu-id="5d9a0-251">Selezionare le altre unità organizzative in cui si trovano Users, iNetOrgPersons, Groups, Contacts e Computers.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-251">Select any other OU where Users, iNetOrgPersons, Groups, Contacts, and Computers are located.</span></span> <span data-ttu-id="5d9a0-252">Nella figura tutte le unità organizzative si trovano nell'unità organizzativa ManagedObjects.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-252">In the picture, all these OUs are located in the ManagedObjects OU.</span></span>
   * <span data-ttu-id="5d9a0-253">Se si usa il filtro basato sui gruppi, è necessario includere l'unità organizzativa in cui si trova il gruppo.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-253">If you use group-based filtering, then the OU where the group is located must be included.</span></span>
   * <span data-ttu-id="5d9a0-254">Si noti che è possibile configurare l'eventuale sincronizzazione di nuove unità organizzative aggiunte al termine della configurazione del filtro.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-254">Note that you can configure whether new OUs that are added after the filtering configuration finishes are synchronized or not synchronized.</span></span> <span data-ttu-id="5d9a0-255">Per informazioni dettagliate, vedere la sezione che segue.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-255">See the next section for details.</span></span>
7. <span data-ttu-id="5d9a0-256">Al termine, fare clic su **OK** per chiudere la finestra di dialogo **Properties** (Proprietà).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-256">When you're done, close the **Properties** dialog by clicking **OK**.</span></span>
8. <span data-ttu-id="5d9a0-257">Per completare la configurazione, è necessario eseguire un'operazione **Full import** (Importazione completa) e un'operazione **Delta sync** (Sincronizzazione delta).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-257">To complete the configuration, you need to run a **Full import** and a **Delta sync**.</span></span> <span data-ttu-id="5d9a0-258">Per continuare, vedere la sezione [Applicare e verificare le modifiche](#apply-and-verify-changes).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-258">Continue reading the section [Apply and verify changes](#apply-and-verify-changes).</span></span>

### <a name="synchronize-new-ous"></a><span data-ttu-id="5d9a0-259">Sincronizzare nuove unità organizzative</span><span class="sxs-lookup"><span data-stu-id="5d9a0-259">Synchronize new OUs</span></span>
<span data-ttu-id="5d9a0-260">Le nuove unità organizzative create dopo la configurazione del filtro vengono sincronizzate per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-260">New OUs that are created after filtering has been configured are synchronized by default.</span></span> <span data-ttu-id="5d9a0-261">Questo stato è indicato da una casella di controllo selezionata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-261">This state is indicated by a selected check box.</span></span> <span data-ttu-id="5d9a0-262">È anche possibile deselezionare alcune unità organizzative secondarie.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-262">You can also unselect some sub-OUs.</span></span> <span data-ttu-id="5d9a0-263">A tale scopo, fare clic sulla casella per farla diventare bianca con un segno di spunta blu (stato predefinito).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-263">To get this behavior, click the box until it becomes white with a blue check mark (its default state).</span></span> <span data-ttu-id="5d9a0-264">Deselezionare le unità organizzative secondarie da non sincronizzare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-264">Then unselect any sub-OUs that you don't want to synchronize.</span></span>

<span data-ttu-id="5d9a0-265">Se tutte le unità organizzative secondarie sono sincronizzate, la casella è bianca con un segno di spunta blu.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-265">If all sub-OUs are synchronized, then the box is white with a blue check mark.</span></span>  
![Unità organizzativa con tutte le caselle selezionate](./media/active-directory-aadconnectsync-configure-filtering/ousyncnewall.png)

<span data-ttu-id="5d9a0-267">Se alcune unità organizzative secondarie sono state deselezionate, la casella è grigia con un segno di spunta bianco.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-267">If some sub-OUs have been unselected, then the box is gray with a white check mark.</span></span>  
![Unità organizzativa con alcune unità organizzative secondarie deselezionate](./media/active-directory-aadconnectsync-configure-filtering/ousyncnew.png)

<span data-ttu-id="5d9a0-269">In questa configurazione una nuova unità organizzativa creata in ManagedObjects è sincronizzata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-269">With this configuration, a new OU that was created under ManagedObjects is synchronized.</span></span>

<span data-ttu-id="5d9a0-270">L'installazione guidata di Azure AD Connect crea sempre questa configurazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-270">The Azure AD Connect installation wizard always creates this configuration.</span></span>

### <a name="dont-synchronize-new-ous"></a><span data-ttu-id="5d9a0-271">Non sincronizzare nuove unità organizzative</span><span class="sxs-lookup"><span data-stu-id="5d9a0-271">Don't synchronize new OUs</span></span>
<span data-ttu-id="5d9a0-272">È possibile configurare il motore di sincronizzazione in modo da non sincronizzare nuove unità organizzative dopo che la configurazione del filtro è stata completata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-272">You can configure the sync engine to not synchronize new OUs after the filtering configuration has finished.</span></span> <span data-ttu-id="5d9a0-273">Nell'interfaccia utente questo stato è indicato da una casella grigia a tinta unita senza alcun segno di spunta.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-273">This state is indicated in the UI by the box appearing solid gray with no check mark.</span></span> <span data-ttu-id="5d9a0-274">Per ottenere questo comportamento, fare clic sulla casella per farla diventare bianca senza alcun segno di spunta.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-274">To get this behavior, click the box until it becomes white with no check mark.</span></span> <span data-ttu-id="5d9a0-275">Selezionare quindi le unità organizzative secondarie da sincronizzare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-275">Then select the sub-OUs that you want to synchronize.</span></span>

![Unità organizzativa con la radice deselezionata](./media/active-directory-aadconnectsync-configure-filtering/oudonotsyncnew.png)

<span data-ttu-id="5d9a0-277">In questa configurazione una nuova unità organizzativa creata in ManagedObjects non è sincronizzata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-277">With this configuration, a new OU that was created under ManagedObjects isn't synchronized.</span></span>

## <a name="attribute-based-filtering"></a><span data-ttu-id="5d9a0-278">Filtro basato su attributo</span><span class="sxs-lookup"><span data-stu-id="5d9a0-278">Attribute-based filtering</span></span>
<span data-ttu-id="5d9a0-279">Per il funzionamento corretto di questi passaggi, verificare di usare la build di novembre 2015 ([1.0.9125](active-directory-aadconnect-version-history.md#1091250)) o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-279">Make sure that you're using the November 2015 ([1.0.9125](active-directory-aadconnect-version-history.md#1091250)) or later build for these steps to work.</span></span>

<span data-ttu-id="5d9a0-280">Il filtro basato su attributi è il modo più flessibile per filtrare gli oggetti.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-280">Attribute-based filtering is the most flexible way to filter objects.</span></span> <span data-ttu-id="5d9a0-281">È possibile usare la funzionalità di [provisioning dichiarativo](active-directory-aadconnectsync-understanding-declarative-provisioning.md) per controllare quasi tutti gli aspetti dei casi in cui un oggetto viene sincronizzato con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-281">You can use the power of [declarative provisioning](active-directory-aadconnectsync-understanding-declarative-provisioning.md) to control almost every aspect of when an object is synchronized to Azure AD.</span></span>

<span data-ttu-id="5d9a0-282">È possibile applicare il filtro [in ingresso](#inbound-filtering) da Active Directory al metaverse e il filtro [in uscita](#outbound-filtering) dal metaverse ad Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-282">You can apply [inbound](#inbound-filtering) filtering from Active Directory to the metaverse, and [outbound](#outbound-filtering) filtering from the metaverse to Azure AD.</span></span> <span data-ttu-id="5d9a0-283">È consigliabile applicare il filtro in ingresso perché è più semplice da gestire,</span><span class="sxs-lookup"><span data-stu-id="5d9a0-283">We recommend that you apply inbound filtering because that is the easiest to maintain.</span></span> <span data-ttu-id="5d9a0-284">mentre il filtro in uscita deve essere usato solo se è necessario per unire oggetti da più di una foresta prima che venga eseguita la valutazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-284">You should only use outbound filtering if it's required to join objects from more than one forest before the evaluation can take place.</span></span>

### <a name="inbound-filtering"></a><span data-ttu-id="5d9a0-285">Filtri in ingresso</span><span class="sxs-lookup"><span data-stu-id="5d9a0-285">Inbound filtering</span></span>
<span data-ttu-id="5d9a0-286">I filtri in ingresso usano la configurazione predefinita in base alla quale per gli oggetti diretti ad Azure AD l'attributo metaverse cloudFiltered non deve essere impostato su un valore da sincronizzare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-286">Inbound filtering uses the default configuration, where objects going to Azure AD must have the metaverse attribute cloudFiltered not set to a value to be synchronized.</span></span> <span data-ttu-id="5d9a0-287">Se il valore di questo attributo è impostato su **True**, l'oggetto non è sincronizzato.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-287">If this attribute's value is set to **True**, then the object isn't synchronized.</span></span> <span data-ttu-id="5d9a0-288">Per progettazione, il valore non deve essere impostato su **False**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-288">It shouldn't be set to **False**, by design.</span></span> <span data-ttu-id="5d9a0-289">Per verificare che altre regole possano fornire un valore, questo attributo dovrebbe avere solo i valori **True** o **NULL** (assente).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-289">To make sure other rules have the ability to contribute a value, this attribute is only supposed to have the values **True** or **NULL** (absent).</span></span>

<span data-ttu-id="5d9a0-290">Per determinare gli oggetti da sincronizzare o da non sincronizzare, durante l'applicazione del filtro in ingresso si usa l'**ambito**</span><span class="sxs-lookup"><span data-stu-id="5d9a0-290">In inbound filtering, you use the power of **scope** to determine which objects to synchronize or not synchronize.</span></span> <span data-ttu-id="5d9a0-291">dove si apportano le modifiche necessarie per rispettare i requisiti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-291">This is where you make adjustments to fit your own organization's requirements.</span></span> <span data-ttu-id="5d9a0-292">Nel modulo di ambito sono disponibili un **gruppo** e una **clausola** per determinare quando una regola di sincronizzazione è nell'ambito.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-292">The scope module has a **group** and a **clause** to determine when a sync rule is in scope.</span></span> <span data-ttu-id="5d9a0-293">Un gruppo contiene una o più clausole.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-293">A group contains one or many clauses.</span></span> <span data-ttu-id="5d9a0-294">Tra più clausole viene inserito un operatore AND logico e tra più gruppi un operatore OR logico.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-294">There is a logical "AND" between multiple clauses, and a logical "OR" between multiple groups.</span></span>

<span data-ttu-id="5d9a0-295">Ecco un esempio: </span><span class="sxs-lookup"><span data-stu-id="5d9a0-295">Let us look at an example:</span></span>  
<span data-ttu-id="5d9a0-296">![Ambito](./media/active-directory-aadconnectsync-configure-filtering/scope.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-296">![Scope](./media/active-directory-aadconnectsync-configure-filtering/scope.png)</span></span>  
<span data-ttu-id="5d9a0-297">Deve essere letto come **(department = IT) OR (department = Sales AND c = US)**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-297">This should be read as **(department = IT) OR (department = Sales AND c = US)**.</span></span>

<span data-ttu-id="5d9a0-298">Negli esempi e nei passaggi seguenti viene usato l'oggetto utente come esempio, ma l'uso può essere esteso a tutti i tipi di oggetto.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-298">In the following samples and steps, you use the user object as an example, but you can use this for all object types.</span></span>

<span data-ttu-id="5d9a0-299">Negli esempi seguenti il valore di precedenza inizia con 50.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-299">In the following samples, the precedence value starts with 50.</span></span> <span data-ttu-id="5d9a0-300">Può trattarsi di un numero qualsiasi non in uso, ma deve essere minore di 100.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-300">This can be any number not used, but should be lower than 100.</span></span>

#### <a name="negative-filtering-do-not-sync-these"></a><span data-ttu-id="5d9a0-301">Filtro negativo (non sincronizzare gli elementi indicati)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-301">Negative filtering: "do not sync these"</span></span>
<span data-ttu-id="5d9a0-302">Nell'esempio seguente vengono filtrati (non sincronizzati) tutti gli utenti per cui il valore di **extensionAttribute15** è **NoSync**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-302">In the following example, you filter out (not synchronize) all users where **extensionAttribute15** has the value **NoSync**.</span></span>

1. <span data-ttu-id="5d9a0-303">Accedere al server che esegue il servizio di sincronizzazione Azure AD Connect usando un account membro del gruppo di sicurezza **ADSyncAdmins** .</span><span class="sxs-lookup"><span data-stu-id="5d9a0-303">Sign in to the server that is running Azure AD Connect sync by using an account that is a member of the **ADSyncAdmins** security group.</span></span>
2. <span data-ttu-id="5d9a0-304">Avviare l'**editor delle regole di sincronizzazione** dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-304">Start **Synchronization Rules Editor** from the **Start** menu.</span></span>
3. <span data-ttu-id="5d9a0-305">Verifica che sia selezionata l'opzione **Inbound** (In ingresso) e fare clic su **Add New Rule** (Aggiungi nuova regola).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-305">Make sure **Inbound** is selected, and click **Add New Rule**.</span></span>
4. <span data-ttu-id="5d9a0-306">Assegnare alla regola un nome descrittivo, ad esempio "*In from AD - User DoNotSyncFilter*".</span><span class="sxs-lookup"><span data-stu-id="5d9a0-306">Give the rule a descriptive name, such as "*In from AD – User DoNotSyncFilter*".</span></span> <span data-ttu-id="5d9a0-307">Selezionare la foresta corretta, quindi selezionare **User** (Utente) come **CS object type** (Tipo di oggetto CS) e **Person** (Persona) come **MV object type** (Tipo di oggetto MV).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-307">Select the correct forest, select **User** as the **CS object type**, and select **Person** as the **MV object type**.</span></span> <span data-ttu-id="5d9a0-308">In **Link Type** (Tipo di collegamento) selezionare **Join** (Unisci).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-308">In **Link Type**, select **Join**.</span></span> <span data-ttu-id="5d9a0-309">In **Precedence** (Precedenza) digitare un valore attualmente non usato da un'altra regola di sincronizzazione, ad esempio 50, e quindi fare clic su **Next** (Avanti).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-309">In **Precedence**, type a value that isn't currently used by another synchronization rule (for example 50), and then click **Next**.</span></span>  
   <span data-ttu-id="5d9a0-310">![Descrizione in ingresso 1](./media/active-directory-aadconnectsync-configure-filtering/inbound1.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-310">![Inbound 1 description](./media/active-directory-aadconnectsync-configure-filtering/inbound1.png)</span></span>  
5. <span data-ttu-id="5d9a0-311">In **Scoping filter** (Filtro ambito) fare clic su **Add Group** (Aggiungi gruppo) e quindi fare clic su **Add Clause** (Aggiungi clausola).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-311">In **Scoping filter**, click **Add Group**, and click **Add Clause**.</span></span> <span data-ttu-id="5d9a0-312">In **Attribute** (Attributo) selezionare **ExtensionAttribute15**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-312">In **Attribute**, select **ExtensionAttribute15**.</span></span> <span data-ttu-id="5d9a0-313">Verificare che il valore del campo **Operator** (Operatore) sia impostato su **EQUAL** (UGUALE) e quindi digitare **NoSync** nella casella **Value** (Valore).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-313">Make sure that **Operator** is set to **EQUAL**, and type the value **NoSync** in the **Value** box.</span></span> <span data-ttu-id="5d9a0-314">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-314">Click **Next**.</span></span>  
   <span data-ttu-id="5d9a0-315">![Ambito in ingresso 2](./media/active-directory-aadconnectsync-configure-filtering/inbound2.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-315">![Inbound 2 scope](./media/active-directory-aadconnectsync-configure-filtering/inbound2.png)</span></span>  
6. <span data-ttu-id="5d9a0-316">Lasciare vuote le regole **Join** e quindi fare clic su **Next**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-316">Leave the **Join** rules empty, and then click **Next**.</span></span>
7. <span data-ttu-id="5d9a0-317">Fare clic su **Add Transformation** (Aggiungi trasformazione), selezionare **Constant** per **FlowType** e **cloudFiltered** come **Target Attribute** (Attributo di destinazione).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-317">Click **Add Transformation**, select the **FlowType** as **Constant**, and select **cloudFiltered** as the **Target Attribute**.</span></span> <span data-ttu-id="5d9a0-318">Nella casella di testo **Source** (Origine) digitare **True**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-318">In the **Source** text box, type **True**.</span></span> <span data-ttu-id="5d9a0-319">Fare clic su **Add** (Aggiungi) per salvare la regola.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-319">Click **Add** to save the rule.</span></span>  
   <span data-ttu-id="5d9a0-320">![Trasformazione in ingresso 3](./media/active-directory-aadconnectsync-configure-filtering/inbound3.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-320">![Inbound 3 transformation](./media/active-directory-aadconnectsync-configure-filtering/inbound3.png)</span></span>
8. <span data-ttu-id="5d9a0-321">Per completare la configurazione, è necessario eseguire un'operazione **Full sync** (Sincronizzazione completa).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-321">To complete the configuration, you need to run a **Full sync**.</span></span> <span data-ttu-id="5d9a0-322">Per continuare, vedere la sezione [Applicare e verificare le modifiche](#apply-and-verify-changes).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-322">Continue reading the section [Apply and verify changes](#apply-and-verify-changes).</span></span>

#### <a name="positive-filtering-only-sync-these"></a><span data-ttu-id="5d9a0-323">Filtro positivo (sincronizzare solo gli elementi indicati)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-323">Positive filtering: "only sync these"</span></span>
<span data-ttu-id="5d9a0-324">La creazione di un filtro positivo può essere più complessa perché è necessario considerare anche gli oggetti la cui sincronizzazione non è scontata, ad esempio le sale riunioni.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-324">Expressing positive filtering can be more challenging because you also have to consider objects that aren't obvious to be synchronized, such as conference rooms.</span></span> <span data-ttu-id="5d9a0-325">Verrà anche eseguito l'override del filtro predefinito nella regola **In from AD - User Join** predefinita.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-325">You are also going to override the default filter in the out-of-box rule **In from AD - User Join**.</span></span> <span data-ttu-id="5d9a0-326">Quando si crea il filtro personalizzato, non includere oggetti di sistema critici, oggetti di conflitti di replica, cassette postali speciali e account di servizio di Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-326">When you create your custom filter, make sure to not include critical system objects, replication conflict objects, special mailboxes, and the service accounts for Azure AD Connect.</span></span>

<span data-ttu-id="5d9a0-327">L'opzione di filtro positivo richiede due regole di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-327">The positive filtering option requires two sync rules.</span></span> <span data-ttu-id="5d9a0-328">Sono necessarie una o più regole con l'ambito corretto di oggetti da sincronizzare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-328">You need one rule (or several) with the correct scope of objects to synchronize.</span></span> <span data-ttu-id="5d9a0-329">È necessaria anche una seconda regola di sincronizzazione catch-all che esclude tutti gli oggetti non ancora identificati come oggetti da sincronizzare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-329">You also need a second catch-all sync rule that filters out all objects that haven't yet been identified as an object that should be synchronized.</span></span>

<span data-ttu-id="5d9a0-330">Nell'esempio seguente vengono sincronizzati solo gli oggetti per i quali l'attributo department ha il valore **Sales**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-330">In the following example, you only synchronize user objects where the department attribute has the value **Sales**.</span></span>

1. <span data-ttu-id="5d9a0-331">Accedere al server che esegue il servizio di sincronizzazione Azure AD Connect usando un account membro del gruppo di sicurezza **ADSyncAdmins** .</span><span class="sxs-lookup"><span data-stu-id="5d9a0-331">Sign in to the server that is running Azure AD Connect sync by using an account that is a member of the **ADSyncAdmins** security group.</span></span>
2. <span data-ttu-id="5d9a0-332">Avviare l'**editor delle regole di sincronizzazione** dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-332">Start **Synchronization Rules Editor** from the **Start** menu.</span></span>
3. <span data-ttu-id="5d9a0-333">Verifica che sia selezionata l'opzione **Inbound** (In ingresso) e fare clic su **Add New Rule** (Aggiungi nuova regola).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-333">Make sure **Inbound** is selected, and click **Add New Rule**.</span></span>
4. <span data-ttu-id="5d9a0-334">Assegnare alla regola un nome descrittivo, ad esempio "*In from AD - User Sales sync*".</span><span class="sxs-lookup"><span data-stu-id="5d9a0-334">Give the rule a descriptive name, such as "*In from AD – User Sales sync*".</span></span> <span data-ttu-id="5d9a0-335">Selezionare la foresta corretta, quindi selezionare **User** (Utente) come **CS object type** (Tipo di oggetto CS) e **Person** (Persona) come **MV object type** (Tipo di oggetto MV).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-335">Select the correct forest, select **User** as the **CS object type**, and select **Person** as the **MV object type**.</span></span> <span data-ttu-id="5d9a0-336">In **Link Type** (Tipo di collegamento) selezionare **Join** (Unisci).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-336">In **Link Type**, select **Join**.</span></span> <span data-ttu-id="5d9a0-337">In **Precedence** (Precedenza) digitare un valore attualmente non usato da un'altra regola di sincronizzazione, ad esempio 51, e quindi fare clic su **Next** (Avanti).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-337">In **Precedence**, type a value that isn't currently used by another synchronization rule (for example 51), and then click **Next**.</span></span>  
   <span data-ttu-id="5d9a0-338">![Destinazione in ingresso 4](./media/active-directory-aadconnectsync-configure-filtering/inbound4.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-338">![Inbound 4 description](./media/active-directory-aadconnectsync-configure-filtering/inbound4.png)</span></span>  
5. <span data-ttu-id="5d9a0-339">In **Scoping filter** (Filtro ambito) fare clic su **Add Group** (Aggiungi gruppo) e quindi fare clic su **Add Clause** (Aggiungi clausola).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-339">In **Scoping filter**, click **Add Group**, and click **Add Clause**.</span></span> <span data-ttu-id="5d9a0-340">In **Attribute** (Attributo) selezionare **department**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-340">In **Attribute**, select **department**.</span></span> <span data-ttu-id="5d9a0-341">Verificare che il valore del campo Operato (Operatore) sia impostato su **EQUAL** (UGUALE) e quindi digitare **Sales** nella casella **Value** (Valore).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-341">Make sure that Operator is set to **EQUAL**, and type the value **Sales** in the **Value** box.</span></span> <span data-ttu-id="5d9a0-342">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-342">Click **Next**.</span></span>  
   <span data-ttu-id="5d9a0-343">![Ambito in ingresso 5](./media/active-directory-aadconnectsync-configure-filtering/inbound5.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-343">![Inbound 5 scope](./media/active-directory-aadconnectsync-configure-filtering/inbound5.png)</span></span>  
6. <span data-ttu-id="5d9a0-344">Lasciare vuote le regole **Join** e quindi fare clic su **Next**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-344">Leave the **Join** rules empty, and then click **Next**.</span></span>
7. <span data-ttu-id="5d9a0-345">Fare clic su **Add Transformation** (Aggiungi trasformazione), selezionare **Constant** per **FlowType** e **cloudFiltered** come **Target Attribute** (Attributo di destinazione).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-345">Click **Add Transformation**, select **Constant** as the **FlowType**, and select the **cloudFiltered** as the **Target Attribute**.</span></span> <span data-ttu-id="5d9a0-346">Nella casella **Source** (Origine) digitare **False**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-346">In the **Source** box, type **False**.</span></span> <span data-ttu-id="5d9a0-347">Fare clic su **Add** (Aggiungi) per salvare la regola.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-347">Click **Add** to save the rule.</span></span>  
   <span data-ttu-id="5d9a0-348">![Trasformazione in ingresso 6](./media/active-directory-aadconnectsync-configure-filtering/inbound6.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-348">![Inbound 6 transformation](./media/active-directory-aadconnectsync-configure-filtering/inbound6.png)</span></span>  
   <span data-ttu-id="5d9a0-349">Questo è un caso particolare in cui cloudFiltered viene impostato in modo esplicito su **False**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-349">This is a special case where you explicitly set cloudFiltered to **False**.</span></span>
8. <span data-ttu-id="5d9a0-350">Ora è necessario creare la regola di sincronizzazione catch-all.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-350">We now have to create the catch-all sync rule.</span></span> <span data-ttu-id="5d9a0-351">Assegnare alla regola un nome descrittivo, ad esempio "*In from AD - User Catch-all filter*".</span><span class="sxs-lookup"><span data-stu-id="5d9a0-351">Give the rule a descriptive name, such as "*In from AD – User Catch-all filter*".</span></span> <span data-ttu-id="5d9a0-352">Selezionare la foresta corretta, quindi selezionare **User** (Utente) come **CS object type** (Tipo di oggetto CS) e **Person** (Persona) come **MV object type** (Tipo di oggetto MV).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-352">Select the correct forest, select **User** as the **CS object type**, and select **Person** as the **MV object type**.</span></span> <span data-ttu-id="5d9a0-353">In **Link Type** (Tipo di collegamento) selezionare **Join** (Unisci).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-353">In **Link Type**, select **Join**.</span></span> <span data-ttu-id="5d9a0-354">In **Precedence** (Precedenza) digitare un valore attualmente non usato da un'altra regola di sincronizzazione, ad esempio 99.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-354">In **Precedence**, type a value that isn't currently used by another Synchronization Rule (for example 99).</span></span> <span data-ttu-id="5d9a0-355">È stato selezionato un valore di precedenza più alto (precedenza inferiore) rispetto alla regola di sincronizzazione precedente,</span><span class="sxs-lookup"><span data-stu-id="5d9a0-355">You've selected a precedence value that is higher (lower precedence) than the previous sync rule.</span></span> <span data-ttu-id="5d9a0-356">ma è stato lasciato anche spazio per aggiungere in seguito più regole di sincronizzazione del filtro quando si vuole avviare la sincronizzazione di altri reparti.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-356">But you've also left some room so that you can add more filtering sync rules later when you want to start synchronizing additional departments.</span></span> <span data-ttu-id="5d9a0-357">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-357">Click **Next**.</span></span>  
   <span data-ttu-id="5d9a0-358">![Descrizione in ingresso 7](./media/active-directory-aadconnectsync-configure-filtering/inbound7.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-358">![Inbound 7 description](./media/active-directory-aadconnectsync-configure-filtering/inbound7.png)</span></span>  
9. <span data-ttu-id="5d9a0-359">Lasciare vuoto **Scoping filter** e fare clic su **Next**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-359">Leave **Scoping filter** empty, and click **Next**.</span></span> <span data-ttu-id="5d9a0-360">Un filtro vuoto indica che la regola deve essere applicata a tutti gli oggetti.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-360">An empty filter indicates that the rule is to be applied to all objects.</span></span>
10. <span data-ttu-id="5d9a0-361">Lasciare vuote le regole **Join** e quindi fare clic su **Next**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-361">Leave the **Join** rules empty, and then click **Next**.</span></span>
11. <span data-ttu-id="5d9a0-362">Fare clic su **Add Transformation** (Aggiungi trasformazione), selezionare **Constant** per **FlowType** e **cloudFiltered** come **Target Attribute** (Attributo di destinazione).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-362">Click **Add Transformation**, select **Constant** as the **FlowType**, and select **cloudFiltered** as the **Target Attribute**.</span></span> <span data-ttu-id="5d9a0-363">Nella casella **Source** (Origine) digitare **True**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-363">In the **Source** box, type **True**.</span></span> <span data-ttu-id="5d9a0-364">Fare clic su **Add** (Aggiungi) per salvare la regola.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-364">Click **Add** to save the rule.</span></span>  
    <span data-ttu-id="5d9a0-365">![Trasformazione in ingresso 3](./media/active-directory-aadconnectsync-configure-filtering/inbound3.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-365">![Inbound 3 transformation](./media/active-directory-aadconnectsync-configure-filtering/inbound3.png)</span></span>  
12. <span data-ttu-id="5d9a0-366">Per completare la configurazione, è necessario eseguire un'operazione **Full sync** (Sincronizzazione completa).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-366">To complete the configuration, you need to run a **Full sync**.</span></span> <span data-ttu-id="5d9a0-367">Per continuare, vedere la sezione [Applicare e verificare le modifiche](#apply-and-verify-changes).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-367">Continue reading the section [Apply and verify changes](#apply-and-verify-changes).</span></span>

<span data-ttu-id="5d9a0-368">Se necessario, è possibile creare più regole del primo tipo per includere altri oggetti nella sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-368">If you need to, you can create more rules of the first type where you include more objects in the synchronization.</span></span>

### <a name="outbound-filtering"></a><span data-ttu-id="5d9a0-369">Filtri in uscita</span><span class="sxs-lookup"><span data-stu-id="5d9a0-369">Outbound filtering</span></span>
<span data-ttu-id="5d9a0-370">In alcuni casi è necessario applicare il filtro solo dopo aver unito gli oggetti al metaverse.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-370">In some cases, it's necessary to do the filtering only after the objects have joined in the metaverse.</span></span> <span data-ttu-id="5d9a0-371">Per determinare se è necessario sincronizzare un oggetto, potrebbe ad esempio essere opportuno cercare l'attributo mail nella foresta di risorse e l'attributo userPrincipalName nella foresta di account.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-371">For example, it might be necessary to look at the mail attribute from the resource forest, and the userPrincipalName attribute from the account forest, to determine if an object should be synchronized.</span></span> <span data-ttu-id="5d9a0-372">In questi casi, vengono creati i filtri nella regola in uscita.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-372">In these cases, you create the filtering on the outbound rule.</span></span>

<span data-ttu-id="5d9a0-373">In questo esempio si modifica il filtro in modo che vengano sincronizzati solo gli utenti per cui entrambi gli attributi mail e userPrincipalName terminano in @contoso.com:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-373">In this example, you change the filtering so that only users that have both their mail and userPrincipalName ending in @contoso.com are synchronized:</span></span>

1. <span data-ttu-id="5d9a0-374">Accedere al server che esegue il servizio di sincronizzazione Azure AD Connect usando un account membro del gruppo di sicurezza **ADSyncAdmins** .</span><span class="sxs-lookup"><span data-stu-id="5d9a0-374">Sign in to the server that is running Azure AD Connect sync by using an account that is a member of the **ADSyncAdmins** security group.</span></span>
2. <span data-ttu-id="5d9a0-375">Avviare l'**editor delle regole di sincronizzazione** dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-375">Start **Synchronization Rules Editor** from the **Start** menu.</span></span>
3. <span data-ttu-id="5d9a0-376">In **Rules Type** (Tipo di regola) fare clic su **Outbound** (In uscita).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-376">Under **Rules Type**, click **Outbound**.</span></span>
4. <span data-ttu-id="5d9a0-377">Trovare la regola denominata **Out to AAD – User Join** e fare clic su **Edit** (Modifica).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-377">Find the rule named **Out to AAD – User Join**, and click **Edit**.</span></span>
5. <span data-ttu-id="5d9a0-378">Nel popup selezionare **Yes** (Sì) per creare una copia della regola.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-378">In the pop-up, answer **Yes** to create a copy of the rule.</span></span>
6. <span data-ttu-id="5d9a0-379">Nella pagina **Description** (Descrizione) modificare il campo **Precedence** (Precedenza) su un valore non usato, ad esempio 50.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-379">On the **Description** page, change **Precedence** to an unused value, such as 50.</span></span>
7. <span data-ttu-id="5d9a0-380">Fare clic su **Scoping filter** (Filtro ambito) nel riquadro di spostamento a sinistra e quindi fare clic su **Add clause** (Aggiungi clausola).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-380">Click **Scoping filter** on the left-hand navigation, and then click **Add clause**.</span></span> <span data-ttu-id="5d9a0-381">In **Attribute** (Attributo) selezionare **mail**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-381">In **Attribute**, select **mail**.</span></span> <span data-ttu-id="5d9a0-382">In **Operator** (Operatore) selezionare **ENDSWITH** (TERMINACON).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-382">In **Operator**, select **ENDSWITH**.</span></span> <span data-ttu-id="5d9a0-383">In **Value** (Valore) digitare **@contoso.com** e quindi fare clic su **Add clause** (Aggiungi clausola).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-383">In **Value**, type **@contoso.com**, and then click **Add clause**.</span></span> <span data-ttu-id="5d9a0-384">In **Attribute** (Attributo) selezionare **userPrincipalName**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-384">In **Attribute**, select **userPrincipalName**.</span></span> <span data-ttu-id="5d9a0-385">In **Operator** (Operatore) selezionare **ENDSWITH** (TERMINACON).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-385">In **Operator**, select **ENDSWITH**.</span></span> <span data-ttu-id="5d9a0-386">In **Value** (Valore) digitare **@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-386">In **Value**, type **@contoso.com**.</span></span>
8. <span data-ttu-id="5d9a0-387">Fare clic su **Salva**</span><span class="sxs-lookup"><span data-stu-id="5d9a0-387">Click **Save**.</span></span>
9. <span data-ttu-id="5d9a0-388">Per completare la configurazione, è necessario eseguire un'operazione **Full sync** (Sincronizzazione completa).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-388">To complete the configuration, you need to run a **Full sync**.</span></span> <span data-ttu-id="5d9a0-389">Per continuare, vedere la sezione [Applicare e verificare le modifiche](#apply-and-verify-changes).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-389">Continue reading the section [Apply and verify changes](#apply-and-verify-changes).</span></span>

## <a name="apply-and-verify-changes"></a><span data-ttu-id="5d9a0-390">Applicare e verificare le modifiche</span><span class="sxs-lookup"><span data-stu-id="5d9a0-390">Apply and verify changes</span></span>
<span data-ttu-id="5d9a0-391">Dopo aver apportato le modifiche alla configurazione, è necessario applicarle agli oggetti già presenti nel sistema.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-391">After you've made your configuration changes, you must apply them to the objects that are already present in the system.</span></span> <span data-ttu-id="5d9a0-392">È possibile anche che gli oggetti non presenti attualmente nel motore di sincronizzazione debbano essere elaborati e che il motore di sincronizzazione debba leggere di nuovo il sistema di origine per verificarne il contenuto.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-392">It might also be that the objects that aren't currently in the sync engine should be processed (and the sync engine needs to read the source system again to verify its content).</span></span>

<span data-ttu-id="5d9a0-393">Se la configurazione è stata modificata usando il filtro basato su **dominio** o su **unità organizzativa**, è necessario eseguire un'operazione **Full import** (Importazione completa), seguita da un'operazione **Delta synchronization** (Sincronizzazione delta).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-393">If you changed the configuration by using **domain** or **organizational-unit** filtering, then you need to do a **Full import**, followed by **Delta synchronization**.</span></span>

<span data-ttu-id="5d9a0-394">Se la configurazione è stata modificata usando il filtro basato su **attributi**, è necessario eseguire un'operazione **Full synchronization** (Sincronizzazione completa).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-394">If you changed the configuration by using **attribute** filtering, then you need to do a **Full synchronization**.</span></span>

<span data-ttu-id="5d9a0-395">Seguire anche questa procedura:</span><span class="sxs-lookup"><span data-stu-id="5d9a0-395">Do the following steps:</span></span>

1. <span data-ttu-id="5d9a0-396">Avviare **Synchronization Service** (Servizio di sincronizzazione) dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-396">Start **Synchronization Service** from the **Start** menu.</span></span>
2. <span data-ttu-id="5d9a0-397">Selezionare **Connectors** (Connettori).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-397">Select **Connectors**.</span></span> <span data-ttu-id="5d9a0-398">Nell'elenco **Connectors** (Connettori) selezionare il connettore in cui in precedenza è stata apportata una modifica alla configurazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-398">In the **Connectors** list, select the Connector where you made a configuration change earlier.</span></span> <span data-ttu-id="5d9a0-399">In **Actions** (Azioni) selezionare **Run** (Esegui).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-399">In **Actions**, select **Run**.</span></span>  
   <span data-ttu-id="5d9a0-400">![Esecuzione del connettore](./media/active-directory-aadconnectsync-configure-filtering/connectorrun.png)</span><span class="sxs-lookup"><span data-stu-id="5d9a0-400">![Connector run](./media/active-directory-aadconnectsync-configure-filtering/connectorrun.png)</span></span>  
3. <span data-ttu-id="5d9a0-401">In **Run profiles** (Profili di esecuzione) selezionare l'operazione indicata nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-401">In **Run profiles**, select the operation that was mentioned in the previous section.</span></span> <span data-ttu-id="5d9a0-402">Se è necessario eseguire due azioni, eseguire la seconda dopo il completamento della prima.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-402">If you need to run two actions, run the second after the first one has finished.</span></span> <span data-ttu-id="5d9a0-403">Il valore della colonna **State** (Stato) è impostato su **Idle** (Inattivo) per il connettore selezionato.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-403">(The **State** column is **Idle** for the selected connector.)</span></span>

<span data-ttu-id="5d9a0-404">Dopo la sincronizzazione, tutte le modifiche vengono inserite temporaneamente per essere esportate.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-404">After the synchronization, all changes are staged to be exported.</span></span> <span data-ttu-id="5d9a0-405">Prima di apportare effettivamente le modifiche in Azure AD, è opportuno verificare che siano tutte corrette.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-405">Before you actually make the changes in Azure AD, you want to verify that all these changes are correct.</span></span>

1. <span data-ttu-id="5d9a0-406">Avviare un prompt dei comandi e passare a `%Program Files%\Microsoft Azure AD Sync\bin`.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-406">Start a command prompt, and go to `%Program Files%\Microsoft Azure AD Sync\bin`.</span></span>
2. <span data-ttu-id="5d9a0-407">Eseguire `csexport "Name of Connector" %temp%\export.xml /f:x`.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-407">Run `csexport "Name of Connector" %temp%\export.xml /f:x`.</span></span>  
   <span data-ttu-id="5d9a0-408">Il nome del connettore si trova nel servizio di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-408">The name of the Connector is in Synchronization Service.</span></span> <span data-ttu-id="5d9a0-409">Il nome sarà simile a "contoso.com - AAD" per Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-409">It has a name similar to "contoso.com – AAD" for Azure AD.</span></span>
3. <span data-ttu-id="5d9a0-410">Eseguire `CSExportAnalyzer %temp%\export.xml > %temp%\export.csv`.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-410">Run `CSExportAnalyzer %temp%\export.xml > %temp%\export.csv`.</span></span>
4. <span data-ttu-id="5d9a0-411">A questo punto si avrà un file denominato export.csv in %temp%, che può essere esaminato in Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-411">You now have a file in %temp% named export.csv that can be examined in Microsoft Excel.</span></span> <span data-ttu-id="5d9a0-412">Questo file contiene tutte le modifiche in fase di esportazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-412">This file contains all the changes that are about to be exported.</span></span>
5. <span data-ttu-id="5d9a0-413">Apportare le modifiche necessarie ai dati o alla configurazione ed eseguire di nuovo questi passaggi (importazione, sincronizzazione e verifica) finché le modifiche che verranno esportate non saranno quelle previste.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-413">Make the necessary changes to the data or configuration, and run these steps again (Import, Synchronize, and Verify) until the changes that are about to be exported are what you expect.</span></span>

<span data-ttu-id="5d9a0-414">Al termine, esportare le modifiche in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-414">When you're satisfied, export the changes to Azure AD.</span></span>

1. <span data-ttu-id="5d9a0-415">Selezionare **Connectors** (Connettori).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-415">Select **Connectors**.</span></span> <span data-ttu-id="5d9a0-416">Nell'elenco **Connectors** (Connettori) selezionare il connettore Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-416">In the **Connectors** list, select the Azure AD Connector.</span></span> <span data-ttu-id="5d9a0-417">In **Actions** (Azioni) selezionare **Run** (Esegui).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-417">In **Actions**, select **Run**.</span></span>
2. <span data-ttu-id="5d9a0-418">In **Run profiles** (Profili di esecuzione) selezionare **Export** (Esporta).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-418">In **Run profiles**, select **Export**.</span></span>
3. <span data-ttu-id="5d9a0-419">Se le modifiche della configurazione comportano l'eliminazione di molti oggetti, viene visualizzato un errore nell'esportazione se il numero è superiore alla soglia configurata (500 per impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-419">If your configuration changes delete many objects, then you see an error in the export when the number is more than the configured threshold (by default 500).</span></span> <span data-ttu-id="5d9a0-420">Se viene visualizzato questo errore, è necessario disabilitare temporaneamente la funzionalità che [impedisce eliminazioni accidentali](active-directory-aadconnectsync-feature-prevent-accidental-deletes.md).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-420">If you see this error, then you need to temporarily disable the "[prevent accidental deletes](active-directory-aadconnectsync-feature-prevent-accidental-deletes.md)" feature.</span></span>

<span data-ttu-id="5d9a0-421">A questo punto è possibile abilitare di nuovo l'utilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-421">Now it's time to enable the scheduler again.</span></span>

1. <span data-ttu-id="5d9a0-422">Avviare **Utilità di pianificazione** dal menu **Start**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-422">Start **Task Scheduler** from the **Start** menu.</span></span>
2. <span data-ttu-id="5d9a0-423">In **Libreria Utilità di pianificazione** trovare l'attività denominata **Azure AD Sync Scheduler**, fare clic con il pulsante destro del mouse e scegliere **Abilita**.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-423">Directly under **Task Scheduler Library**, find the task named **Azure AD Sync Scheduler**, right-click, and select **Enable**.</span></span>

## <a name="group-based-filtering"></a><span data-ttu-id="5d9a0-424">Filtri basati sui gruppi</span><span class="sxs-lookup"><span data-stu-id="5d9a0-424">Group-based filtering</span></span>
<span data-ttu-id="5d9a0-425">È possibile configurare il filtro basato su gruppi la prima volta che si installa Azure AD Connect tramite l'[installazione personalizzata](active-directory-aadconnect-get-started-custom.md#sync-filtering-based-on-groups).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-425">You can configure group-based filtering the first time that you install Azure AD Connect by using [custom installation](active-directory-aadconnect-get-started-custom.md#sync-filtering-based-on-groups).</span></span> <span data-ttu-id="5d9a0-426">Tale filtro è progettato per una distribuzione pilota in cui si desidera solo un piccolo gruppo di oggetti da sincronizzare.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-426">It's intended for a pilot deployment where you want only a small set of objects to be synchronized.</span></span> <span data-ttu-id="5d9a0-427">Dopo essere stato disabilitato, il filtro basato su gruppi non può essere abilitato nuovamente.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-427">When you disable group-based filtering, it can't be enabled again.</span></span> <span data-ttu-id="5d9a0-428">L'uso del filtro basato su gruppi *non è supportato* in una configurazione personalizzata,</span><span class="sxs-lookup"><span data-stu-id="5d9a0-428">It's *not supported* to use group-based filtering in a custom configuration.</span></span> <span data-ttu-id="5d9a0-429">ma è supportato solo per configurare questa funzionalità tramite l'installazione guidata.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-429">It's only supported to configure this feature by using the installation wizard.</span></span> <span data-ttu-id="5d9a0-430">Dopo aver completato il progetto pilota, usare solo una delle altre opzioni di filtro descritte in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-430">When you've completed your pilot, then use one of the other filtering options in this topic.</span></span> <span data-ttu-id="5d9a0-431">Se si usa un filtro basato su unità organizzative insieme al filtro basato su gruppi, è necessario includere le unità organizzative in cui si trovano il gruppo e i relativi membri.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-431">When using OU-based filtering in conjunction with group-based filtering, the OU(s) where the group and its members are located must be included.</span></span>

<span data-ttu-id="5d9a0-432">Quando si sincronizzano più foreste di AD, è possibile configurare i filtri basati sui gruppi specificando un gruppo diverso per ogni istanza di AD Connector.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-432">When synchronizing multiple AD forests, you can configure group-based filtering by specifying a different group for each AD connector.</span></span> <span data-ttu-id="5d9a0-433">Per sincronizzare un utente in una foresta di AD e lo stesso utente ha uno o più oggetti entità di protezione esterna corrispondenti nelle altre foreste di AD, è necessario assicurarsi che l'oggetto utente e tutti gli oggetti entità di protezione esterna corrispondenti siano inclusi nell'ambito dei filtri basati sui gruppi.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-433">If you wish to synchronize a user in one AD forest and the same user has one or more corresponding FSP (Foreign Security Principal) objects in other AD forests, you must ensure that the user object and all its corresponding FSP objects are within group-based filtering scope.</span></span> <span data-ttu-id="5d9a0-434">Se uno o più oggetti entità di protezione esterna vengono esclusi dai filtri basati sui gruppi, l'oggetto utente non verrà sincronizzato con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5d9a0-434">If one or more of the FSP objects are excluded by group-based filtering, the user object will not be synchronized to Azure AD.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5d9a0-435">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="5d9a0-435">Next steps</span></span>
- <span data-ttu-id="5d9a0-436">Altre informazioni sulla configurazione del [servizio di sincronizzazione Azure AD Connect](active-directory-aadconnectsync-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-436">Learn more about [Azure AD Connect sync](active-directory-aadconnectsync-whatis.md) configuration.</span></span>
- <span data-ttu-id="5d9a0-437">Altre informazioni sull'[integrazione di identità locali con Azure AD](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="5d9a0-437">Learn more about [integrating your on-premises identities with Azure AD](active-directory-aadconnect.md).</span></span>
