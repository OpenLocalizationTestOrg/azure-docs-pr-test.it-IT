---
title: Procedure consigliate per l'array virtuale StorSimple | Microsoft Docs
description: Descrive le procedure consigliate per la distribuzione e la gestione dell'array virtuale StorSimple.
services: storsimple
documentationcenter: NA
author: alkohli
manager: timlt
editor: 
ms.assetid: 57ac6eeb-c47c-442d-a5f4-b360d81a76a6
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/08/2017
ms.author: alkohli
ms.openlocfilehash: 264764c5e9c32574d97beb2cc3c1bb1cfb555568
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="storsimple-virtual-array-best-practices"></a><span data-ttu-id="dfc92-103">Procedure consigliate per l'array virtuale StorSimple</span><span class="sxs-lookup"><span data-stu-id="dfc92-103">StorSimple Virtual Array best practices</span></span>
## <a name="overview"></a><span data-ttu-id="dfc92-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="dfc92-104">Overview</span></span>
<span data-ttu-id="dfc92-105">Array virtuale Microsoft Azure StorSimple è una soluzione di archiviazione integrata che consente di gestire le attività di archiviazione tra un dispositivo virtuale locale eseguito in un hypervisor e la risorsa di archiviazione cloud di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="dfc92-105">Microsoft Azure StorSimple Virtual Array is an integrated storage solution that manages storage tasks between an on-premises virtual device running in a hypervisor and Microsoft Azure cloud storage.</span></span> <span data-ttu-id="dfc92-106">L'array virtuale StorSimple è un'alternativa efficace e conveniente all'array fisico serie 8000.</span><span class="sxs-lookup"><span data-stu-id="dfc92-106">StorSimple Virtual Array is an efficient, cost-effective alternative to the 8000 series physical array.</span></span> <span data-ttu-id="dfc92-107">L'array virtuale può essere eseguito nell'infrastruttura di hypervisor esistente, supporta i protocolli iSCSI e SMB ed è adatto per scenari con uffici remoti o succursali.</span><span class="sxs-lookup"><span data-stu-id="dfc92-107">The virtual array can run on your existing hypervisor infrastructure, supports both the iSCSI and the SMB protocols, and is well-suited for remote office/branch office scenarios.</span></span> <span data-ttu-id="dfc92-108">Per altre informazioni sulle soluzioni StorSimple, vedere [Microsoft Azure StorSimple Overview](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx)(Panoramica di Microsoft Azure StorSimple).</span><span class="sxs-lookup"><span data-stu-id="dfc92-108">For more information on the StorSimple solutions, go to [Microsoft Azure StorSimple Overview](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx).</span></span>

<span data-ttu-id="dfc92-109">Questo articolo descrive le procedure consigliate implementate durante l'installazione, la distribuzione e la gestione iniziali dell'array virtuale StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-109">This article covers the best practices implemented during the initial setup, deployment, and management of the StorSimple Virtual Array.</span></span> <span data-ttu-id="dfc92-110">Le procedure consigliate forniscono le linee guida convalidate per l'installazione e la gestione dell'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-110">These best practices provide validated guidelines for the setup and management of your virtual array.</span></span> <span data-ttu-id="dfc92-111">L'articolo è destinato agli amministratori IT che si occupano della distribuzione e gestione di array virtuali nei data center.</span><span class="sxs-lookup"><span data-stu-id="dfc92-111">This article is targeted towards the IT administrators who deploy and manage the virtual arrays in their datacenters.</span></span>

<span data-ttu-id="dfc92-112">È consigliabile una revisione periodica delle procedure consigliate per assicurare che, quando vengono apportate modifiche al flusso di installazione o delle attività operative, il dispositivo continui a essere conforme.</span><span class="sxs-lookup"><span data-stu-id="dfc92-112">We recommend a periodic review of the best practices to help ensure your device is still in compliance when changes are made to the setup or operation flow.</span></span> <span data-ttu-id="dfc92-113">In caso di problemi durante l'implementazione di queste procedure consigliate relative all'array virtuale, [Contattare il supporto tecnico Microsoft](storsimple-virtual-array-log-support-ticket.md) per assistenza.</span><span class="sxs-lookup"><span data-stu-id="dfc92-113">Should you encounter any issues while implementing these best practices on your virtual array, [contact Microsoft Support](storsimple-virtual-array-log-support-ticket.md) for assistance.</span></span>

## <a name="configuration-best-practices"></a><span data-ttu-id="dfc92-114">Procedure consigliate per la configurazione</span><span class="sxs-lookup"><span data-stu-id="dfc92-114">Configuration best practices</span></span>
<span data-ttu-id="dfc92-115">Queste procedure consigliate forniscono le linee guida che occorre seguire durante l'installazione e la distribuzione iniziali degli array virtuali.</span><span class="sxs-lookup"><span data-stu-id="dfc92-115">These best practices cover the guidelines that need to be followed during the initial setup and deployment of the virtual arrays.</span></span> <span data-ttu-id="dfc92-116">Sono incluse le procedure consigliate relative a provisioning della macchina virtuale, impostazioni di Criteri di gruppo, ridimensionamento, configurazione della rete, configurazione degli account di archiviazione e creazione di condivisioni e volumi per l'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-116">These best practices include those related to the provisioning of the virtual machine, group policy settings, sizing, setting up the networking, configuring storage accounts, and creating shares and volumes for the virtual array.</span></span> 

### <a name="provisioning"></a><span data-ttu-id="dfc92-117">Provisioning</span><span class="sxs-lookup"><span data-stu-id="dfc92-117">Provisioning</span></span>
<span data-ttu-id="dfc92-118">L'array virtuale StorSimple è una macchina virtuale con provisioning nell'hypervisor (Hyper-V o VMware) del server host.</span><span class="sxs-lookup"><span data-stu-id="dfc92-118">StorSimple Virtual Array is a virtual machine (VM) provisioned on the hypervisor (Hyper-V or VMware) of your host server.</span></span> <span data-ttu-id="dfc92-119">Quando si effettua il provisioning della macchina virtuale, assicurarsi che l'host sia in grado di dedicare risorse sufficienti.</span><span class="sxs-lookup"><span data-stu-id="dfc92-119">When provisioning the virtual machine, ensure that your host is able to dedicate sufficient resources.</span></span> <span data-ttu-id="dfc92-120">Per altre informazioni, vedere i [requisiti minimi di risorse](storsimple-virtual-array-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-array-requirements) per il provisioning di un array.</span><span class="sxs-lookup"><span data-stu-id="dfc92-120">For more information, go to [minimum resource requirements](storsimple-virtual-array-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-array-requirements) to provision an array.</span></span>

<span data-ttu-id="dfc92-121">Implementare le procedure consigliate seguenti durante il provisioning di un array virtuale:</span><span class="sxs-lookup"><span data-stu-id="dfc92-121">Implement the following best practices when provisioning the virtual array:</span></span>

|  | <span data-ttu-id="dfc92-122">Hyper-V</span><span class="sxs-lookup"><span data-stu-id="dfc92-122">Hyper-V</span></span> | <span data-ttu-id="dfc92-123">VMware</span><span class="sxs-lookup"><span data-stu-id="dfc92-123">VMware</span></span> |
| --- | --- | --- |
| <span data-ttu-id="dfc92-124">**Tipo di macchina virtuale**</span><span class="sxs-lookup"><span data-stu-id="dfc92-124">**Virtual machine type**</span></span> |<span data-ttu-id="dfc92-125">**Generazione 2** per l'uso con Windows Server 2012 o versione successiva e un'immagine *VHDX* .</span><span class="sxs-lookup"><span data-stu-id="dfc92-125">**Generation 2** VM for use with Windows Server 2012 or later and a *.vhdx* image.</span></span> <br></br> <span data-ttu-id="dfc92-126">**Generazione 1** per l'uso con Windows Server 2008 o versione successiva e un'immagine *VHD* .</span><span class="sxs-lookup"><span data-stu-id="dfc92-126">**Generation 1** VM for use with a Windows Server 2008 or later and a *.vhd* image.</span></span> |<span data-ttu-id="dfc92-127">Quando si usa un'immagine *VMDK* , usare macchine virtuali versione da 8 a 11.</span><span class="sxs-lookup"><span data-stu-id="dfc92-127">Use virtual machine version 8 - 11 when using *.vmdk* image.</span></span> |
| <span data-ttu-id="dfc92-128">**Tipo di memoria**</span><span class="sxs-lookup"><span data-stu-id="dfc92-128">**Memory type**</span></span> |<span data-ttu-id="dfc92-129">Configurare come **memoria statica**.</span><span class="sxs-lookup"><span data-stu-id="dfc92-129">Configure as **static memory**.</span></span> <br></br> <span data-ttu-id="dfc92-130">Non usare l'opzione per la **memoria dinamica** .</span><span class="sxs-lookup"><span data-stu-id="dfc92-130">Do not use the **dynamic memory** option.</span></span> | |
| <span data-ttu-id="dfc92-131">**Tipo di disco dati**</span><span class="sxs-lookup"><span data-stu-id="dfc92-131">**Data disk type**</span></span> |<span data-ttu-id="dfc92-132">Effettuare il provisioning come **espansione dinamica**.</span><span class="sxs-lookup"><span data-stu-id="dfc92-132">Provision as **dynamically expanding**.</span></span><br></br> <span data-ttu-id="dfc92-133">**dimensioni fisse** richiedono molto tempo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-133">**Fixed size** takes a long time.</span></span> <br></br> <span data-ttu-id="dfc92-134">Non usare l'opzione di **differenziazione** .</span><span class="sxs-lookup"><span data-stu-id="dfc92-134">Do not use the **differencing** option.</span></span> |<span data-ttu-id="dfc92-135">Usare l'opzione per il **thin provisioning** .</span><span class="sxs-lookup"><span data-stu-id="dfc92-135">Use the **thin provision** option.</span></span> |
| <span data-ttu-id="dfc92-136">**Modifica dei dischi dati**</span><span class="sxs-lookup"><span data-stu-id="dfc92-136">**Data disk modification**</span></span> |<span data-ttu-id="dfc92-137">L'espansione o la riduzione non è consentita.</span><span class="sxs-lookup"><span data-stu-id="dfc92-137">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="dfc92-138">Il tentativo di eseguire questa operazione comporta la perdita di tutti i dati locali nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-138">An attempt to do so results in the loss of all the local data on device.</span></span> |<span data-ttu-id="dfc92-139">L'espansione o la riduzione non è consentita.</span><span class="sxs-lookup"><span data-stu-id="dfc92-139">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="dfc92-140">Il tentativo di eseguire questa operazione comporta la perdita di tutti i dati locali nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-140">An attempt to do so results in the loss of all the local data on device.</span></span> |

### <a name="sizing"></a><span data-ttu-id="dfc92-141">Ridimensionamento</span><span class="sxs-lookup"><span data-stu-id="dfc92-141">Sizing</span></span>
<span data-ttu-id="dfc92-142">Quando si ridimensiona l'array virtuale StorSimple, considerare i fattori seguenti:</span><span class="sxs-lookup"><span data-stu-id="dfc92-142">When sizing your StorSimple Virtual Array, consider the following factors:</span></span>

* <span data-ttu-id="dfc92-143">Prenotazione locale per volumi o condivisioni.</span><span class="sxs-lookup"><span data-stu-id="dfc92-143">Local reservation for volumes or shares.</span></span> <span data-ttu-id="dfc92-144">Circa il 12% dello spazio viene riservato a livello locale per ogni volume o condivisione a livelli con provisioning.</span><span class="sxs-lookup"><span data-stu-id="dfc92-144">Approximately 12% of the space is reserved on the local tier for each provisioned tiered volume or share.</span></span> <span data-ttu-id="dfc92-145">Anche circa il 10% dello spazio è riservato per un volume aggiunto in locale per il file system.</span><span class="sxs-lookup"><span data-stu-id="dfc92-145">Roughly 10% of the space is also reserved for a locally pinned volume for file system.</span></span>
* <span data-ttu-id="dfc92-146">Sovraccarico di snapshot.</span><span class="sxs-lookup"><span data-stu-id="dfc92-146">Snapshot overhead.</span></span> <span data-ttu-id="dfc92-147">Circa il 15% dello spazio a livello locale è riservato per gli snapshot.</span><span class="sxs-lookup"><span data-stu-id="dfc92-147">Roughly 15% space on the local tier is reserved for snapshots.</span></span>
* <span data-ttu-id="dfc92-148">Necessità di ripristini.</span><span class="sxs-lookup"><span data-stu-id="dfc92-148">Need for restores.</span></span> <span data-ttu-id="dfc92-149">Se l'esecuzione del ripristino fa parte di una nuova operazione, il ridimensionamento deve tenere conto dello spazio necessario per il ripristino.</span><span class="sxs-lookup"><span data-stu-id="dfc92-149">If doing restore as a new operation, sizing should account for the space needed for restore.</span></span> <span data-ttu-id="dfc92-150">Il ripristino viene eseguito in una condivisione o un volume con dimensioni uguali.</span><span class="sxs-lookup"><span data-stu-id="dfc92-150">Restore is done to a share or volume of the same size.</span></span>
* <span data-ttu-id="dfc92-151">È necessario allocare una parte del buffer per un'eventuale crescita imprevista.</span><span class="sxs-lookup"><span data-stu-id="dfc92-151">Some buffer should be allocated for any unexpected growth.</span></span>

<span data-ttu-id="dfc92-152">In base ai fattori precedenti, i requisiti per il ridimensionamento possono essere rappresentati dall'equazione seguente:</span><span class="sxs-lookup"><span data-stu-id="dfc92-152">Based on the preceding factors, the sizing requirements can be represented by the following equation:</span></span>

`Total usable local disk size = (Total provisioned locally pinned volume/share size including space for file system) + (Max (local reservation for a volume/share) for all tiered volumes/share) + (Local reservation for all tiered volumes/shares)`

`Data disk size = Total usable local disk size + Snapshot overhead + buffer for unexpected growth or new share or volume`

<span data-ttu-id="dfc92-153">Gli esempi seguenti illustrano come è possibile ridimensionare un array virtuale secondo le esigenze.</span><span class="sxs-lookup"><span data-stu-id="dfc92-153">The following examples illustrate how you can size a virtual array based on your requirements.</span></span>

#### <a name="example-1"></a><span data-ttu-id="dfc92-154">Esempio 1:</span><span class="sxs-lookup"><span data-stu-id="dfc92-154">Example 1:</span></span>
<span data-ttu-id="dfc92-155">Nell'array virtuale si vuole poter eseguire queste operazioni</span><span class="sxs-lookup"><span data-stu-id="dfc92-155">On your virtual array, you want to be able to</span></span>

* <span data-ttu-id="dfc92-156">Effettuare il provisioning di un volume o una condivisione a livelli di 2 TB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-156">provision a 2 TB tiered volume or share.</span></span>
* <span data-ttu-id="dfc92-157">Effettuare il provisioning di un volume o una condivisione a livelli di 1 TB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-157">provision a 1 TB tiered volume or share.</span></span>
* <span data-ttu-id="dfc92-158">Effettuare il provisioning di un volume o una condivisione aggiunta in locale di 300 GB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-158">provision a 300 GB of locally pinned volume or share.</span></span>

<span data-ttu-id="dfc92-159">Per i volumi o le condivisioni precedenti, si calcoleranno i requisiti di spazio a livello locale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-159">For the preceding volumes or shares, let us calculate the space requirements on the local tier.</span></span>

<span data-ttu-id="dfc92-160">Prima di tutto, per ogni volume o condivisione a livelli la prenotazione locale sarà uguale al 12% delle dimensioni del volume o della condivisione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-160">First, for each tiered volume/share, local reservation would be equal to 12% of the volume/share size.</span></span> <span data-ttu-id="dfc92-161">Per il volume o la condivisione aggiunti in locale, la prenotazione locale corrisponde al 10% delle dimensioni del volume o della condivisione aggiunti in locale (oltre alle dimensioni con provisioning).</span><span class="sxs-lookup"><span data-stu-id="dfc92-161">For the locally pinned volume/share, local reservation is 10 % of the locally pinned volume/share size (in addition to the provisioned size).</span></span> <span data-ttu-id="dfc92-162">In questo esempio sono necessari</span><span class="sxs-lookup"><span data-stu-id="dfc92-162">In this example, you need</span></span>

* <span data-ttu-id="dfc92-163">Prenotazione locale di 240 GB, per un volume o una condivisione a livelli di 2 TB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-163">240 GB local reservation (for a 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="dfc92-164">Prenotazione locale di 120 GB (per un volume o una condivisione a livelli di 1 TB).</span><span class="sxs-lookup"><span data-stu-id="dfc92-164">120 GB local reservation (for a 1 TB tiered volume/share)</span></span>
* <span data-ttu-id="dfc92-165">330 GB per un volume o una condivisione aggiunti in locale (con l'aggiunta del 10% della prenotazione locale ai 300 GB delle dimensioni con provisioning)</span><span class="sxs-lookup"><span data-stu-id="dfc92-165">330 GB for locally pinned volume or share (adding 10 % of local reservation to the 300 GB provisioned size)</span></span>

<span data-ttu-id="dfc92-166">Lo spazio totale richiesto a livello locale fino a questo punto è: 240 GB + 120 GB + 330 GB = 690 GB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-166">The total space required on the local tier so far is: 240 GB + 120 GB + 330 GB = 690 GB.</span></span>

<span data-ttu-id="dfc92-167">È quindi necessaria una quantità di spazio a livello locale pari alla singola prenotazione più grande.</span><span class="sxs-lookup"><span data-stu-id="dfc92-167">Second, we need at least as much space on the local tier as the largest single reservation.</span></span> <span data-ttu-id="dfc92-168">Questa quantità aggiuntiva viene usata nel caso in cui sia necessario eseguire il ripristino da uno snapshot cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-168">This extra amount is used in case you need to restore from a cloud snapshot.</span></span> <span data-ttu-id="dfc92-169">In questo esempio la prenotazione locale più grande è di 330 GB (inclusa la prenotazione per il file system), quindi sarà necessario aggiungere questo spazio ai 690 GB: 690 GB + 330 GB = 1020 GB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-169">In this example, the largest local reservation is 330 GB (including reservation for file system), so you would add that to the 690 GB: 690 GB + 330 GB = 1020 GB.</span></span>
<span data-ttu-id="dfc92-170">Se sono stati eseguiti altri ripristini successivi, è sempre possibile liberare spazio dall'operazione di ripristino precedente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-170">If we performed subsequent additional restores, we can always free up the space from the previous restore operation.</span></span>

<span data-ttu-id="dfc92-171">Fino a questo punto è quindi necessario il 15% dello spazio locale totale per archiviare gli snapshot locali, perciò è disponibile solo l'85%.</span><span class="sxs-lookup"><span data-stu-id="dfc92-171">Third, we need 15 % of your total local space so far to store local snapshots, so that only 85% of it is available.</span></span> <span data-ttu-id="dfc92-172">In questo esempio saranno circa 1020 GB = 0,85&ast;TB del disco dati con provisioning.</span><span class="sxs-lookup"><span data-stu-id="dfc92-172">In this example, that would be around 1020 GB = 0.85&ast;provisioned data disk TB.</span></span> <span data-ttu-id="dfc92-173">Di conseguenza, il disco dati con provisioning sarà pari a (1020&ast;(1/0,85)) = 1200 GB = 1,20 TB ~ 1,25 TB (con arrotondamento al quartile più vicino)</span><span class="sxs-lookup"><span data-stu-id="dfc92-173">So, the provisioned data disk would be (1020&ast;(1/0.85))= 1200 GB = 1.20 TB ~ 1.25 TB (rounding off to nearest quartile)</span></span>

<span data-ttu-id="dfc92-174">Considerando la crescita imprevista e i nuovi ripristini, è consigliabile effettuare il provisioning di un disco locale di circa 1,25-1,5 TB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-174">Factoring in unexpected growth and new restores, you should provision a local disk of around 1.25 - 1.5 TB.</span></span>

> [!NOTE]
> <span data-ttu-id="dfc92-175">È anche consigliabile effettuare il thin provisioning del disco locale,</span><span class="sxs-lookup"><span data-stu-id="dfc92-175">We also recommend that the local disk is thinly provisioned.</span></span> <span data-ttu-id="dfc92-176">perché lo spazio di ripristino è necessario solo quando si vogliono ripristinare dati più vecchi di cinque giorni.</span><span class="sxs-lookup"><span data-stu-id="dfc92-176">This recommendation is because the restore space is only needed when you want to restore data that is older than five days.</span></span> <span data-ttu-id="dfc92-177">Il ripristino a livello di elemento consente di ripristinare i dati degli ultimi cinque giorni senza richiedere spazio aggiuntivo per il ripristino.</span><span class="sxs-lookup"><span data-stu-id="dfc92-177">Item-level recovery allows you to restore data for the last five days without requiring the extra space for restore.</span></span>


#### <a name="example-2"></a><span data-ttu-id="dfc92-178">Esempio 2</span><span class="sxs-lookup"><span data-stu-id="dfc92-178">Example 2:</span></span>
<span data-ttu-id="dfc92-179">Nell'array virtuale si vuole poter eseguire queste operazioni</span><span class="sxs-lookup"><span data-stu-id="dfc92-179">On your virtual array, you want to be able to</span></span>

* <span data-ttu-id="dfc92-180">Effettuare il provisioning di un volume a livelli di 2 TB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-180">provision a 2 TB tiered volume</span></span>
* <span data-ttu-id="dfc92-181">Effettuare il provisioning di un volume aggiunto in locale di 300 GB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-181">provision a 300 GB locally pinned volume</span></span>

<span data-ttu-id="dfc92-182">In base al 12% della prenotazione di spazio locale per i volumi o le condivisioni a livelli e al 10% per i volumi o le condivisioni aggiunte in locale, sono necessari</span><span class="sxs-lookup"><span data-stu-id="dfc92-182">Based on 12 % of local space reservation for tiered volumes/shares and 10 % for locally pinned volumes/shares, we need</span></span>

* <span data-ttu-id="dfc92-183">Prenotazione locale di 240 GB (per un volume o una condivisione a livelli di 2 TB).</span><span class="sxs-lookup"><span data-stu-id="dfc92-183">240 GB local reservation (for 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="dfc92-184">330 GB per un volume o una condivisione aggiunti in locale (con l'aggiunta del 10% della prenotazione locale ai 300 GB dello spazio con provisioning)</span><span class="sxs-lookup"><span data-stu-id="dfc92-184">330 GB for locally pinned volume or share (adding 10% of local reservation to the 300 GB provisioned space)</span></span>

<span data-ttu-id="dfc92-185">Lo spazio totale richiesto a livello locale è: 240 GB + 330 GB + 570 GB</span><span class="sxs-lookup"><span data-stu-id="dfc92-185">Total space required on the local tier is: 240 GB + 330 GB = 570 GB</span></span>

<span data-ttu-id="dfc92-186">Lo spazio locale minimo necessario per il ripristino è 330 GB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-186">The minimum local space needed for restore is 330 GB.</span></span>

<span data-ttu-id="dfc92-187">Il 15% del disco totale viene usato per archiviare gli snapshot, perciò è disponibile solo lo 0,85.</span><span class="sxs-lookup"><span data-stu-id="dfc92-187">15 % of your total disk is used to store snapshots so that only 0.85 is available.</span></span> <span data-ttu-id="dfc92-188">Le dimensioni del disco sono quindi (900&ast;(1/0,85)) = 1,06 TB ~ 1,25 TB (con arrotondamento al quartile più vicino)</span><span class="sxs-lookup"><span data-stu-id="dfc92-188">So, the disk size is (900&ast;(1/0.85)) = 1.06 TB ~ 1.25 TB (rounding off to nearest quartile)</span></span>

<span data-ttu-id="dfc92-189">Considerando l'eventuale crescita imprevista, è consigliabile effettuare il provisioning di un disco locale di 1,25-1,5 TB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-189">Factoring in any unexpected growth, you can provision a 1.25 - 1.5 TB local disk.</span></span>

### <a name="group-policy"></a><span data-ttu-id="dfc92-190">Criteri di gruppo</span><span class="sxs-lookup"><span data-stu-id="dfc92-190">Group policy</span></span>
<span data-ttu-id="dfc92-191">Criteri di gruppo è un'infrastruttura che consente di implementare configurazioni specifiche per utenti e computer.</span><span class="sxs-lookup"><span data-stu-id="dfc92-191">Group Policy is an infrastructure that allows you to implement specific configurations for users and computers.</span></span> <span data-ttu-id="dfc92-192">Le impostazioni di Criteri di gruppo sono contenute in oggetti Criteri di gruppo collegati ai contenitori di Servizi di dominio Active Directory seguenti: siti, domini o unità organizzative (OU).</span><span class="sxs-lookup"><span data-stu-id="dfc92-192">Group Policy settings are contained in Group Policy objects (GPOs), which are linked to the following Active Directory Domain Services (AD DS) containers: sites, domains, or organizational units (OUs).</span></span> 

<span data-ttu-id="dfc92-193">Se l'array virtuale è aggiunto al dominio, è possibile applicarvi oggetti Criteri di gruppo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-193">If your virtual array is domain-joined, GPOs can be applied to it.</span></span> <span data-ttu-id="dfc92-194">Questi oggetti Criteri di gruppo possono installare applicazioni, ad esempio un software antivirus che può influire negativamente sul funzionamento dell'array virtuale StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-194">These GPOs can install applications such as an antivirus software that can adversely impact the operation of the StorSimple Virtual Array.</span></span>

<span data-ttu-id="dfc92-195">È quindi consigliabile:</span><span class="sxs-lookup"><span data-stu-id="dfc92-195">Therefore, we recommend that you:</span></span>

* <span data-ttu-id="dfc92-196">Assicurarsi che l'array virtuale sia nella propria unità organizzativa (OU) per Active Directory.</span><span class="sxs-lookup"><span data-stu-id="dfc92-196">Ensure that your virtual array is in its own organizational unit (OU) for Active Directory.</span></span>
* <span data-ttu-id="dfc92-197">Assicurarsi che nessun oggetto Criteri di gruppo venga applicato all'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-197">Make sure that no group policy objects (GPOs) are applied to your virtual array.</span></span> <span data-ttu-id="dfc92-198">È possibile bloccare l'ereditarietà per assicurarsi che l'array virtuale (nodo figlio) non erediti automaticamente alcun oggetto Criteri di gruppo dall'oggetto padre.</span><span class="sxs-lookup"><span data-stu-id="dfc92-198">You can block inheritance to ensure that the virtual array (child node) does not automatically inherit any GPOs from the parent.</span></span> <span data-ttu-id="dfc92-199">Per altre informazioni, vedere [Bloccare l'ereditarietà](https://technet.microsoft.com/library/cc731076.aspx).</span><span class="sxs-lookup"><span data-stu-id="dfc92-199">For more information, go to [block inheritance](https://technet.microsoft.com/library/cc731076.aspx).</span></span>

### <a name="networking"></a><span data-ttu-id="dfc92-200">Rete</span><span class="sxs-lookup"><span data-stu-id="dfc92-200">Networking</span></span>
<span data-ttu-id="dfc92-201">La configurazione di rete per l'array virtuale viene eseguita tramite l'interfaccia utente Web locale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-201">The network configuration for your virtual array is done through the local web UI.</span></span> <span data-ttu-id="dfc92-202">Un'interfaccia di rete virtuale è abilitata tramite l'hypervisor in cui viene effettuato il provisioning dell'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-202">A virtual network interface is enabled through the hypervisor in which the virtual array is provisioned.</span></span> <span data-ttu-id="dfc92-203">Usare la pagina [Impostazioni di rete](storsimple-virtual-array-deploy3-fs-setup.md) per configurare l'indirizzo IP, la subnet e il gateway dell'interfaccia di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-203">Use the [Network Settings](storsimple-virtual-array-deploy3-fs-setup.md) page to configure the virtual network interface IP address, subnet, and gateway.</span></span>  <span data-ttu-id="dfc92-204">È inoltre possibile configurare il server DNS primario e secondario, le impostazioni dell'ora e le impostazioni proxy facoltative per il dispositivo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-204">You can also configure the primary and secondary DNS server, time settings, and optional proxy settings for your device.</span></span> <span data-ttu-id="dfc92-205">La maggior parte della configurazione di rete è un'operazione singola.</span><span class="sxs-lookup"><span data-stu-id="dfc92-205">Most of the network configuration is a one-time setup.</span></span> <span data-ttu-id="dfc92-206">Prima di distribuire l'array virtuale, vedere la sezione [Requisiti di rete](storsimple-ova-system-requirements.md#networking-requirements) per StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-206">Review the [StorSimple networking requirements](storsimple-ova-system-requirements.md#networking-requirements) prior to deploying the virtual array.</span></span>

<span data-ttu-id="dfc92-207">Quando si distribuisce l'array virtuale, è consigliabile seguire queste procedure consigliate:</span><span class="sxs-lookup"><span data-stu-id="dfc92-207">When deploying your virtual array, we recommend that you follow these best practices:</span></span>

* <span data-ttu-id="dfc92-208">Assicurarsi che la rete in cui viene distribuito l'array virtuale abbia sempre la capacità di dedicare una larghezza di banda Internet di almeno 5 Mbps.</span><span class="sxs-lookup"><span data-stu-id="dfc92-208">Ensure that the network in which the virtual array is deployed always has the capacity to dedicate 5 Mbps Internet bandwidth (or more).</span></span>
  
  * <span data-ttu-id="dfc92-209">La larghezza di banda Internet necessaria varia a seconda delle caratteristiche del carico di lavoro e della frequenza di modifica dei dati.</span><span class="sxs-lookup"><span data-stu-id="dfc92-209">Internet bandwidth need varies depending on your workload characteristics and the rate of data change.</span></span>
  * <span data-ttu-id="dfc92-210">La modifica di dati che può essere gestita è direttamente proporzionale alla larghezza di banda Internet.</span><span class="sxs-lookup"><span data-stu-id="dfc92-210">The data change that can be handled is directly proportional to your Internet bandwidth.</span></span> <span data-ttu-id="dfc92-211">Ad esempio, quando si esegue un backup, una larghezza di banda 5 Mbps può supportare una modifica dei dati di circa 18 GB in 8 ore.</span><span class="sxs-lookup"><span data-stu-id="dfc92-211">As an example when taking a backup, a 5 Mbps bandwidth can accommodate a data change of around 18 GB in 8 hours.</span></span> <span data-ttu-id="dfc92-212">Con una larghezza di banda quattro volte maggiore (20 Mbps), è possibile gestire una modifica dei dati quadrupla (72 GB).</span><span class="sxs-lookup"><span data-stu-id="dfc92-212">With four times more bandwidth (20 Mbps), you can handle four times more data change (72 GB).</span></span>
* <span data-ttu-id="dfc92-213">Verificare che la connettività Internet sia sempre disponibile.</span><span class="sxs-lookup"><span data-stu-id="dfc92-213">Ensure connectivity to the Internet is always available.</span></span> <span data-ttu-id="dfc92-214">Le connessioni Internet sporadiche o non affidabili ai dispositivi possono comportare la perdita di accesso ai dati nel cloud e di conseguenza una configurazione non supportata.</span><span class="sxs-lookup"><span data-stu-id="dfc92-214">Sporadic or unreliable Internet connections to the devices may result in a loss of access to data in the cloud and could result in an unsupported configuration.</span></span>
* <span data-ttu-id="dfc92-215">Se si prevede di distribuire il dispositivo come server iSCSI:</span><span class="sxs-lookup"><span data-stu-id="dfc92-215">If you plan to deploy your device as an iSCSI server:</span></span>
  
  * <span data-ttu-id="dfc92-216">È consigliabile disabilitare l'opzione **Ottenere automaticamente l'indirizzo IP** (DHCP).</span><span class="sxs-lookup"><span data-stu-id="dfc92-216">We recommend that you disable the **Get IP address automatically** option (DHCP).</span></span>
  * <span data-ttu-id="dfc92-217">Configurare gli indirizzi IP statici.</span><span class="sxs-lookup"><span data-stu-id="dfc92-217">Configure static IP addresses.</span></span> <span data-ttu-id="dfc92-218">È necessario configurare un server DNS primario e secondario.</span><span class="sxs-lookup"><span data-stu-id="dfc92-218">You must configure a primary and a secondary DNS server.</span></span>
  * <span data-ttu-id="dfc92-219">Se si definiscono più interfacce di rete nell'array virtuale, solo la prima interfaccia di rete, per impostazione predefinita **Ethernet**, può connettersi al cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-219">If defining multiple network interfaces on your virtual array, only the first network interface (by default, this interface is **Ethernet**) can reach the cloud.</span></span> <span data-ttu-id="dfc92-220">Per controllare il tipo di traffico, è possibile creare più interfacce di rete virtuali nell'array virtuale, configurato come server iSCSI, e connettere queste interfacce a subnet diverse.</span><span class="sxs-lookup"><span data-stu-id="dfc92-220">To control the type of traffic, you can create multiple virtual network interfaces on your virtual array (configured as an iSCSI server) and connect those interfaces to different subnets.</span></span>
* <span data-ttu-id="dfc92-221">Per limitare solo la larghezza di banda cloud, usata dall'array virtuale, configurare la limitazione nel router o nel firewall.</span><span class="sxs-lookup"><span data-stu-id="dfc92-221">To throttle the cloud bandwidth only (used by the virtual array), configure throttling on the router or the firewall.</span></span> <span data-ttu-id="dfc92-222">Se si definisce la limitazione nell'hypervisor, saranno limitati tutti i protocolli inclusi iSCSI e SMB invece della sola larghezza di banda cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-222">If you define throttling in your hypervisor, it will throttle all the protocols including iSCSI and SMB instead of just the cloud bandwidth.</span></span>
* <span data-ttu-id="dfc92-223">Assicurarsi che sia abilitata la sincronizzazione dell'ora per hypervisor.</span><span class="sxs-lookup"><span data-stu-id="dfc92-223">Ensure that time synchronization for hypervisors is enabled.</span></span> <span data-ttu-id="dfc92-224">Se si usa Hyper-V, selezionare l'array virtuale nella console di gestione di Hyper-V, passare a **Impostazioni &gt; Servizi di integrazione** e assicurarsi che **Sincronizzazione ora** sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="dfc92-224">If using Hyper-V, select your virtual array in the Hyper-V Manager, go to **Settings &gt; Integration Services**, and ensure that the **Time synchronization** is checked.</span></span>

### <a name="storage-accounts"></a><span data-ttu-id="dfc92-225">Account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="dfc92-225">Storage accounts</span></span>
<span data-ttu-id="dfc92-226">L'array virtuale StorSimple può essere associato a un singolo account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-226">StorSimple Virtual Array can be associated with a single storage account.</span></span> <span data-ttu-id="dfc92-227">Questo account di archiviazione può essere un account di archiviazione generato automaticamente, un account nella stessa sottoscrizione del servizio o un account di archiviazione correlato a un'altra sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-227">This storage account could be an automatically generated storage account, an account in the same subscription as the service, or a storage account related to another subscription.</span></span> <span data-ttu-id="dfc92-228">Per altre informazioni, vedere come [gestire gli account di archiviazione per l'array virtuale](storsimple-virtual-array-manage-storage-accounts.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-228">For more information, see how to [manage storage accounts for your virtual array](storsimple-virtual-array-manage-storage-accounts.md).</span></span>

<span data-ttu-id="dfc92-229">Usare le raccomandazioni seguenti per gli account di archiviazione associati all'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-229">Use the following recommendations for storage accounts associated with your virtual array.</span></span>

* <span data-ttu-id="dfc92-230">Quando si collegano più array virtuali a un singolo account di archiviazione, tenere conto della capacità massima (64 TB) per un array virtuale e delle dimensioni massime (500 TB) per un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-230">When linking multiple virtual arrays with a single storage account, factor in the maximum capacity (64 TB) for a virtual array and the maximum size (500 TB) for a storage account.</span></span> <span data-ttu-id="dfc92-231">Questo limita a circa 7 il numero di array virtuali di dimensioni intere che è possibile associare a tale account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-231">This limits the number of full-sized virtual arrays that can be associated with that storage account to about 7.</span></span>
* <span data-ttu-id="dfc92-232">Quando creare un nuovo account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="dfc92-232">When creating a new storage account</span></span>
  
  * <span data-ttu-id="dfc92-233">È consigliabile crearlo nell'area più vicina all'ufficio remoto o alla succursale in cui viene distribuito l'array virtuale StorSimple per ridurre al minimo le latenze.</span><span class="sxs-lookup"><span data-stu-id="dfc92-233">We recommend that you create it in the region closest to the remote office/branch office where your StorSimple Virtual Array is deployed to minimize latencies.</span></span>
  * <span data-ttu-id="dfc92-234">Tenere presente che non è possibile spostare un account di archiviazione tra aree diverse.</span><span class="sxs-lookup"><span data-stu-id="dfc92-234">Bear in mind that you cannot move a storage account across different regions.</span></span> <span data-ttu-id="dfc92-235">Non è inoltre possibile spostare un servizio tra sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="dfc92-235">Also you cannot move a service across subscriptions.</span></span>
  * <span data-ttu-id="dfc92-236">Usare un account di archiviazione che implementa la ridondanza tra i data center.</span><span class="sxs-lookup"><span data-stu-id="dfc92-236">Use a storage account that implements redundancy between the datacenters.</span></span> <span data-ttu-id="dfc92-237">L'archiviazione con ridondanza geografica, l'archiviazione con ridondanza della zona e l'archiviazione con ridondanza locale sono tutte supportate per l'uso con l'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-237">Geo-Redundant Storage (GRS), Zone Redundant Storage (ZRS), and Locally Redundant Storage (LRS) are all supported for use with your virtual array.</span></span> <span data-ttu-id="dfc92-238">Per altre informazioni sui diversi tipi di account di archiviazione, vedere [Replica di Archiviazione di Azure](../storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-238">For more information on the different types of storage accounts, go to [Azure storage replication](../storage/common/storage-redundancy.md).</span></span>

### <a name="shares-and-volumes"></a><span data-ttu-id="dfc92-239">Condivisioni e volumi</span><span class="sxs-lookup"><span data-stu-id="dfc92-239">Shares and volumes</span></span>
<span data-ttu-id="dfc92-240">Per l'array virtuale StorSimple è possibile effettuare il provisioning di condivisioni quando è configurato come un file server e di volumi quando è configurato come server iSCSI.</span><span class="sxs-lookup"><span data-stu-id="dfc92-240">For your StorSimple Virtual Array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="dfc92-241">Le procedure consigliate per la creazione di condivisioni e volumi sono correlate alle dimensioni e al tipo configurato.</span><span class="sxs-lookup"><span data-stu-id="dfc92-241">The best practices for creating shares and volumes are related to the size and the type configured.</span></span>

#### <a name="volumeshare-size"></a><span data-ttu-id="dfc92-242">Dimensioni di volumi o condivisioni</span><span class="sxs-lookup"><span data-stu-id="dfc92-242">Volume/Share size</span></span>
<span data-ttu-id="dfc92-243">Nell'array virtuale è possibile effettuare il provisioning di condivisioni quando è configurato come un file server e di volumi quando è configurato come server iSCSI.</span><span class="sxs-lookup"><span data-stu-id="dfc92-243">On your virtual array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="dfc92-244">Le procedure consigliate per la creazione di condivisioni e volumi sono correlate alle dimensioni e al tipo configurato.</span><span class="sxs-lookup"><span data-stu-id="dfc92-244">The best practices for creating shares and volumes relate to the size and the type configured.</span></span> 

<span data-ttu-id="dfc92-245">Tenere presenti le procedure consigliate seguenti quando si effettua il provisioning di condivisioni o volumi nel dispositivo virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-245">Keep in mind the following best practices when provisioning shares or volumes on your virtual device.</span></span>

* <span data-ttu-id="dfc92-246">Le dimensioni dei file in relazione alle dimensioni con cui è stato effettuato il provisioning di una condivisione a livelli possono compromettere le prestazioni della suddivisione in livelli.</span><span class="sxs-lookup"><span data-stu-id="dfc92-246">The file sizes relative to the provisioned size of a tiered share can impact the tiering performance.</span></span> <span data-ttu-id="dfc92-247">L'utilizzo di file di grandi dimensioni può comportare il rallentamento della suddivisione in livelli. Durante l'uso di file di grandi dimensioni, è consigliabile che il file più grande sia più piccolo del 3% rispetto alle dimensioni della condivisione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-247">Working with large files could result in a slow tier out. When working with large files, we recommend that the largest file is smaller than 3% of the share size.</span></span>
* <span data-ttu-id="dfc92-248">Nell'array virtuale è possibile creare un massimo di 16 volumi o condivisioni.</span><span class="sxs-lookup"><span data-stu-id="dfc92-248">A maximum of 16 volumes/shares can be created on the virtual array.</span></span> <span data-ttu-id="dfc92-249">Per i limiti delle dimensioni dei volumi o delle condivisioni a livelli e aggiunti localmente, fare riferimento sempre ai [limiti di array virtuale StorSimple](storsimple-ova-limits.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-249">For the size limits of the locally pinned and tiered volumes/shares, always refer to the [StorSimple Virtual Array limits](storsimple-ova-limits.md).</span></span>
* <span data-ttu-id="dfc92-250">Quando si crea un volume, tenere conto anche dell'utilizzo di dati previsto, nonché della crescita futura.</span><span class="sxs-lookup"><span data-stu-id="dfc92-250">When creating a volume, factor in the expected data consumption as well as future growth.</span></span> <span data-ttu-id="dfc92-251">Il volume non può essere espanso in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="dfc92-251">The volume cannot be expanded later.</span></span>
* <span data-ttu-id="dfc92-252">Dopo aver creato il volume, non sarà possibile ridurne le dimensioni in StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-252">Once the volume has been created, you cannot shrink the size of the volume on StorSimple.</span></span>
* <span data-ttu-id="dfc92-253">Quando si scrive in un volume a livelli in StorSimple, le operazioni di I/O vengono limitate quando i dati del volume raggiungono una determinata soglia, relativamente allo spazio locale riservato per il volume.</span><span class="sxs-lookup"><span data-stu-id="dfc92-253">When writing to a tiered volume on StorSimple, when the volume data reaches a certain threshold (relative to the local space reserved for the volume), the IO is throttled.</span></span> <span data-ttu-id="dfc92-254">Se si continua a scrivere in questo volume, le operazioni di I/O rallentano in modo significativo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-254">Continuing to write to this volume slows down the IO significantly.</span></span> <span data-ttu-id="dfc92-255">Anche se è possibile scrivere in un volume a livelli oltre la capacità di cui è stato effettuato il provisioning (non viene attivamente impedito all'utente di scrivere oltre tale capacità), viene visualizzato un messaggio di notifica per segnalare il superamento della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-255">Though you can write to a tiered volume beyond its provisioned capacity (we do not actively stop the user from writing beyond the provisioned capacity), you see an alert notification to the effect that you have oversubscribed.</span></span> <span data-ttu-id="dfc92-256">Dopo aver visualizzato l'avviso, è fondamentale adottare misure correttive, ad esempio eliminare i dati del volume. L'espansione di un volume non è attualmente supportata.</span><span class="sxs-lookup"><span data-stu-id="dfc92-256">Once you see the alert, it is imperative that you take remedial measures such as delete the volume data (volume expansion is currently not supported).</span></span>
* <span data-ttu-id="dfc92-257">Per i casi d'uso di ripristino di emergenza, poiché il numero di condivisioni o volumi consentiti è pari a 16 e il numero massimo di condivisioni o volumi che possono essere elaborati in parallelo è 16, il numero di condivisioni o volumi non ha un impatto su RPO e RTO.</span><span class="sxs-lookup"><span data-stu-id="dfc92-257">For disaster recovery use cases, as the number of allowable shares/volumes is 16 and the maximum number of shares/volumes that can be processed in parallel is also 16, the number of shares/volumes does not have a bearing on your RPO and RTOs.</span></span>

#### <a name="volumeshare-type"></a><span data-ttu-id="dfc92-258">Tipo di volumi o condivisioni</span><span class="sxs-lookup"><span data-stu-id="dfc92-258">Volume/Share type</span></span>
<span data-ttu-id="dfc92-259">StorSimple supporta due tipi di volumi o condivisioni in base all'utilizzo: aggiunta in locale e a livelli.</span><span class="sxs-lookup"><span data-stu-id="dfc92-259">StorSimple supports two volume/share types based on the usage: locally pinned and tiered.</span></span> <span data-ttu-id="dfc92-260">Per i volumi o le condivisioni aggiunte in locale viene effettuato il thick provisioning, mentre per i volumi o le condivisioni a livelli viene effettuato il thin provisioning.</span><span class="sxs-lookup"><span data-stu-id="dfc92-260">Locally pinned volumes/shares are thickly provisioned whereas the tiered volumes/shares are thinly provisioned.</span></span> <span data-ttu-id="dfc92-261">Dopo la creazione, non è possibile convertire una condivisione o un volume aggiunto in locale nel tipo a livelli o *viceversa*.</span><span class="sxs-lookup"><span data-stu-id="dfc92-261">You cannot convert a locally pinned volume/share to tiered or *vice versa* once created.</span></span>

<span data-ttu-id="dfc92-262">È consigliabile implementare le procedure consigliate seguenti quando si configurano volumi o condivisioni di StorSimple:</span><span class="sxs-lookup"><span data-stu-id="dfc92-262">We recommend that you implement the following best practices when configuring StorSimple volumes/shares:</span></span>

* <span data-ttu-id="dfc92-263">Prima di creare un volume, identificare il tipo di volume in base ai carichi di lavoro che si intende distribuire.</span><span class="sxs-lookup"><span data-stu-id="dfc92-263">Identify the volume type based on the workloads that you intend to deploy before you create a volume.</span></span> <span data-ttu-id="dfc92-264">Usare volumi aggiunti in locale per i carichi di lavoro che richiedono garanzie locali per i dati, anche durante un'interruzione del servizio cloud, e latenze cloud basse.</span><span class="sxs-lookup"><span data-stu-id="dfc92-264">Use locally pinned volumes for workloads that require local guarantees of data (even during a cloud outage) and that require low cloud latencies.</span></span> <span data-ttu-id="dfc92-265">Dopo aver creato un volume nell'array virtuale, non è possibile modificare il tipo di volume da aggiunto in locale al tipo a livelli o *viceversa*.</span><span class="sxs-lookup"><span data-stu-id="dfc92-265">Once you create a volume on your virtual array, you cannot change the volume type from locally pinned to tiered or *vice-versa*.</span></span> <span data-ttu-id="dfc92-266">Ad esempio, creare volumi aggiunti in locale quando si distribuiscono carichi di lavoro SQL o carichi di lavoro che ospitano macchine virtuali e usare invece volumi a livelli per carichi di lavoro di condivisione file.</span><span class="sxs-lookup"><span data-stu-id="dfc92-266">As an example, create locally pinned volumes when deploying SQL workloads or workloads hosting virtual machines (VMs); use tiered volumes for file share workloads.</span></span>
* <span data-ttu-id="dfc92-267">Quando si utilizzano file di dimensioni elevate, selezionare l'opzione per i dati di archiviazione usati con minore frequenza.</span><span class="sxs-lookup"><span data-stu-id="dfc92-267">Check the option for less frequently used archival data when dealing with large file sizes.</span></span> <span data-ttu-id="dfc92-268">Quando si abilita questa opzione per accelerare il trasferimento dei dati nel cloud, vengono usate dimensioni del blocco di deduplicazione maggiori pari a 512 KB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-268">A larger deduplication chunk size of 512 K is used when this option is enabled to expedite the data transfer to the cloud.</span></span>

#### <a name="volume-format"></a><span data-ttu-id="dfc92-269">Formato del volume</span><span class="sxs-lookup"><span data-stu-id="dfc92-269">Volume format</span></span>
<span data-ttu-id="dfc92-270">Dopo aver creato i volumi StorSimple nel server iSCSI, è necessario inizializzarli, montarli e formattarli.</span><span class="sxs-lookup"><span data-stu-id="dfc92-270">After you create StorSimple volumes on your iSCSI server, you need to initialize, mount, and format the volumes.</span></span> <span data-ttu-id="dfc92-271">Questa operazione viene eseguita nell'host connesso al dispositivo StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-271">This operation is performed on the host connected to your StorSimple device.</span></span> <span data-ttu-id="dfc92-272">Per montare e formattare i volumi nell'host StorSimple, è opportuno seguire queste procedure consigliate.</span><span class="sxs-lookup"><span data-stu-id="dfc92-272">Following best practices are recommended when mounting and formatting volumes on the StorSimple host.</span></span>

* <span data-ttu-id="dfc92-273">Eseguire una formattazione veloce in tutti i volumi StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-273">Perform a quick format on all StorSimple volumes.</span></span>
* <span data-ttu-id="dfc92-274">Quando si formatta un volume StorSimple, usare dimensioni dell'unità di allocazione di 64 KB. Il valore predefinito è 4 KB.</span><span class="sxs-lookup"><span data-stu-id="dfc92-274">When formatting a StorSimple volume, use an allocation unit size (AUS) of 64 KB (default is 4 KB).</span></span> <span data-ttu-id="dfc92-275">Le dimensioni dell'unità di allocazione di 64 KB sono basate su test eseguiti internamente per carichi di lavoro StorSimple comuni e altri carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="dfc92-275">The 64 KB AUS is based on testing done in-house for common StorSimple workloads and other workloads.</span></span>
* <span data-ttu-id="dfc92-276">Quando si usa l'array virtuale StorSimple configurato come server iSCSI, non usare volumi con spanning o i dischi dinamici perché questi volumi o dischi non sono supportati da StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-276">When using the StorSimple Virtual Array configured as an iSCSI server, do not use spanned volumes or dynamic disks as these volumes or disks are not supported by StorSimple.</span></span>

#### <a name="share-access"></a><span data-ttu-id="dfc92-277">Accesso alle condivisioni</span><span class="sxs-lookup"><span data-stu-id="dfc92-277">Share access</span></span>
<span data-ttu-id="dfc92-278">Quando si creano condivisioni nel file server dell'array virtuale, seguire queste linee guida:</span><span class="sxs-lookup"><span data-stu-id="dfc92-278">When creating shares on your virtual array file server, follow these guidelines:</span></span>

* <span data-ttu-id="dfc92-279">Quando si crea una condivisione, assegnare un gruppo di utenti come amministratore della condivisione, invece di un singolo utente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-279">When creating a share, assign a user group as a share administrator instead of a single user.</span></span>
* <span data-ttu-id="dfc92-280">Dopo aver creato la condivisione, è possibile gestire le autorizzazioni NTFS modificando le condivisioni in Esplora risorse.</span><span class="sxs-lookup"><span data-stu-id="dfc92-280">You can manage the NTFS permissions after the share is created by editing the shares through Windows Explorer.</span></span>

#### <a name="volume-access"></a><span data-ttu-id="dfc92-281">Accesso ai volumi</span><span class="sxs-lookup"><span data-stu-id="dfc92-281">Volume access</span></span>
<span data-ttu-id="dfc92-282">Quando si configurano i volumi iSCSI nell'array virtuale StorSimple, è importante controllare l'accesso dove necessario.</span><span class="sxs-lookup"><span data-stu-id="dfc92-282">When configuring the iSCSI volumes on your StorSimple Virtual Array, it is important to control access wherever necessary.</span></span> <span data-ttu-id="dfc92-283">Per determinare quali server host possono accedere ai volumi, creare e associare i record di controllo di accesso (ACR) ai volumi StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-283">To determine which host servers can access volumes, create, and associate access control records (ACRs) with StorSimple volumes.</span></span>

<span data-ttu-id="dfc92-284">Usare le procedure consigliate seguenti quando si configurano ACR per i volumi StorSimple:</span><span class="sxs-lookup"><span data-stu-id="dfc92-284">Use the following best practices when configuring ACRs for StorSimple volumes:</span></span>

* <span data-ttu-id="dfc92-285">Associare sempre almeno un ACT a un volume.</span><span class="sxs-lookup"><span data-stu-id="dfc92-285">Always associate at least one ACR with a volume.</span></span>

* <span data-ttu-id="dfc92-286">Quando si assegnano più ACR a un volume, assicurarsi che il volume non sia esposto in modo tale da consentire l'accesso contemporaneo da parte di più host non cluster.</span><span class="sxs-lookup"><span data-stu-id="dfc92-286">When assigning more than one ACR to a volume, ensure that the volume is not exposed in a way where it can be concurrently accessed by more than one non-clustered host.</span></span> <span data-ttu-id="dfc92-287">Se sono stati assegnato più ACR a un volume, viene visualizzato un messaggio di avviso che richiede di verificare la configurazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-287">If you have assigned multiple ACRs to a volume, a warning message pops up for you to review your configuration.</span></span>

### <a name="data-security-and-encryption"></a><span data-ttu-id="dfc92-288">Sicurezza e crittografia dei dati</span><span class="sxs-lookup"><span data-stu-id="dfc92-288">Data security and encryption</span></span>
<span data-ttu-id="dfc92-289">L'array virtuale StorSimple include funzionalità di sicurezza e crittografia dei dati che assicurano la riservatezza e l'integrità dei dati.</span><span class="sxs-lookup"><span data-stu-id="dfc92-289">Your StorSimple Virtual Array has data security and encryption features that ensure the confidentiality and integrity of your data.</span></span> <span data-ttu-id="dfc92-290">Quando si usano queste funzionalità, è opportuno seguire queste procedure consigliate:</span><span class="sxs-lookup"><span data-stu-id="dfc92-290">When using these features, it is recommended that you follow these best practices:</span></span> 

* <span data-ttu-id="dfc92-291">Definire una chiave di crittografia per l'archiviazione cloud per generare la crittografia AES-256 prima dell'invio dei dati dall'array virtuale al cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-291">Define a cloud storage encryption key to generate AES-256 encryption before the data is sent from your virtual array to the cloud.</span></span> <span data-ttu-id="dfc92-292">Questa chiave non è necessaria se i dati sono crittografati inizialmente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-292">This key is not required if your data is encrypted to begin with.</span></span> <span data-ttu-id="dfc92-293">La chiave può essere generata e protetta usando un sistema di gestione delle chiavi, ad esempio l' [insieme di credenziali delle chiavi di Azure](../key-vault/key-vault-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-293">The key can be generated and kept safe using a key management system such as [Azure key vault](../key-vault/key-vault-whatis.md).</span></span>
* <span data-ttu-id="dfc92-294">Quando si configura l'account di archiviazione tramite il servizio StorSimple Manager, assicurarsi di abilitare la modalità SSL per creare un canale sicuro per la comunicazione di rete tra il dispositivo StorSimple e il cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-294">When configuring the storage account via the StorSimple Manager service, make sure that you enable the SSL mode to create a secure channel for network communication between your StorSimple device and the cloud.</span></span>
* <span data-ttu-id="dfc92-295">Rigenerare periodicamente le chiavi per gli account di archiviazione, mediante l'accesso al servizio di archiviazione di Azure, per tenere conto delle eventuali modifiche relative all'accesso in base alle modifiche apportate all'elenco di amministratori.</span><span class="sxs-lookup"><span data-stu-id="dfc92-295">Regenerate the keys for your storage accounts (by accessing the Azure Storage service) periodically to account for any changes to access based on the changed list of administrators.</span></span>
* <span data-ttu-id="dfc92-296">I dati nell'array virtuale vengono compressi e deduplicati prima di essere inviati ad Azure.</span><span class="sxs-lookup"><span data-stu-id="dfc92-296">Data on your virtual array is compressed and deduplicated before it is sent to Azure.</span></span> <span data-ttu-id="dfc92-297">Non è consigliabile usare il servizio ruolo Deduplicazione dati nell'host Windows Server.</span><span class="sxs-lookup"><span data-stu-id="dfc92-297">We don't recommend using the Data Deduplication role service on your Windows Server host.</span></span>

## <a name="operational-best-practices"></a><span data-ttu-id="dfc92-298">Procedure operative consigliate</span><span class="sxs-lookup"><span data-stu-id="dfc92-298">Operational best practices</span></span>
<span data-ttu-id="dfc92-299">Le procedure operative consigliate sono linee guida che è opportuno seguire durante la gestione o il funzionamento quotidiano dell'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-299">The operational best practices are guidelines that should be followed during the day-to-day management or operation of the virtual array.</span></span> <span data-ttu-id="dfc92-300">Queste procedure riguardano attività di gestione specifiche, ad esempio l'esecuzione di backup, il ripristino da un set di backup, l'esecuzione di un failover, la disattivazione e l'eliminazione dell'array, l'utilizzo del sistema di monitoraggio e l'integrità e l'esecuzione di analisi antivirus nell'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-300">These practices cover specific management tasks such as taking backups, restoring from a backup set, performing a failover, deactivating and deleting the array, monitoring system usage and health, and running virus scans on your virtual array.</span></span>

### <a name="backups"></a><span data-ttu-id="dfc92-301">Backup</span><span class="sxs-lookup"><span data-stu-id="dfc92-301">Backups</span></span>
<span data-ttu-id="dfc92-302">Il backup dei dati nell'array virtuale viene eseguito nel cloud in due modi, un backup giornaliero automatico predefinito dell'intero dispositivo che inizia alle 22.30 o un backup manuale su richiesta.</span><span class="sxs-lookup"><span data-stu-id="dfc92-302">The data on your virtual array is backed up to the cloud in two ways, a default automated daily backup of the entire device starting at 22:30 or via a manual on-demand backup.</span></span> <span data-ttu-id="dfc92-303">Per impostazione predefinita, il dispositivo crea automaticamente snapshot cloud giornalieri di tutti i dati che contiene.</span><span class="sxs-lookup"><span data-stu-id="dfc92-303">By default, the device automatically creates daily cloud snapshots of all the data residing on it.</span></span> <span data-ttu-id="dfc92-304">Per altre informazioni, vedere [Backup dell'array virtuale StorSimple](storsimple-virtual-array-backup.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-304">For more information, go to [back up your StorSimple Virtual Array](storsimple-virtual-array-backup.md).</span></span>

<span data-ttu-id="dfc92-305">Non è possibile modificare le impostazioni di frequenza e conservazione associate ai backup predefiniti, ma si può configurare l'ora in cui vengono avviati ogni giorno i backup giornalieri.</span><span class="sxs-lookup"><span data-stu-id="dfc92-305">The frequency and retention associated with the default backups cannot be changed but you can configure the time at which the daily backups are initiated every day.</span></span> <span data-ttu-id="dfc92-306">Quando si configura l'ora di inizio dei backup automatizzati, è consigliabile:</span><span class="sxs-lookup"><span data-stu-id="dfc92-306">When configuring the start time for the automated backups, we recommend that:</span></span>

* <span data-ttu-id="dfc92-307">Pianificare i backup per le ore non di punta.</span><span class="sxs-lookup"><span data-stu-id="dfc92-307">Schedule your backups for off-peak hours.</span></span> <span data-ttu-id="dfc92-308">L'ora di inizio del backup non deve coincidere con numerose operazioni di I/O dell'host.</span><span class="sxs-lookup"><span data-stu-id="dfc92-308">Backup start time should not coincide with numerous host IO.</span></span>
* <span data-ttu-id="dfc92-309">Avviare un backup manuale su richiesta quando si prevede di eseguire un failover del dispositivo o prima della finestra di manutenzione, per proteggere i dati nell'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-309">Initiate a manual on-demand backup when planning to perform a device failover or prior to the maintenance window, to protect the data on your virtual array.</span></span>

### <a name="restore"></a><span data-ttu-id="dfc92-310">Ripristino</span><span class="sxs-lookup"><span data-stu-id="dfc92-310">Restore</span></span>
<span data-ttu-id="dfc92-311">È possibile eseguire il ripristino da un set di backup in due modi: eseguire il ripristino in un altro volume o un'altra condivisione file o eseguire un ripristino a livello di elemento, disponibile solo in un array virtuale configurato come file server.</span><span class="sxs-lookup"><span data-stu-id="dfc92-311">You can restore from a backup set in two ways: restore to another volume or share or perform an item-level recovery (available only on a virtual array configured as a file server).</span></span> <span data-ttu-id="dfc92-312">Il ripristino a livello di elemento consente un ripristino granulare di file e cartelle da un backup cloud di tutte le condivisioni nel dispositivo StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dfc92-312">Item-level recovery allows you to do a granular recovery of files and folders from a cloud backup of all the shares on the StorSimple device.</span></span> <span data-ttu-id="dfc92-313">Per altre informazioni, vedere [Ripristinare da un backup dell'array virtuale StorSimple](storsimple-virtual-array-clone.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-313">For more information, go to [restore from a backup](storsimple-virtual-array-clone.md).</span></span>

<span data-ttu-id="dfc92-314">Quando si esegue un ripristino, tenere presenti queste linee guida:</span><span class="sxs-lookup"><span data-stu-id="dfc92-314">When performing a restore, keep the following guidelines in mind:</span></span>

* <span data-ttu-id="dfc92-315">L'array virtuale StorSimple non supporta il ripristino sul posto.</span><span class="sxs-lookup"><span data-stu-id="dfc92-315">Your StorSimple Virtual Array does not support in-place restore.</span></span> <span data-ttu-id="dfc92-316">Si può tuttavia farlo facilmente con un processo in due passaggi: liberare spazio nell'array virtuale e quindi ripristinarlo in un altro volume o un'altra condivisione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-316">This can however be readily achieved by a two-step process: make space on the virtual array and then restore to another volume/share.</span></span>
* <span data-ttu-id="dfc92-317">Quando si esegue il ripristino da un volume locale, tenere presente che sarà un'operazione a esecuzione prolungata.</span><span class="sxs-lookup"><span data-stu-id="dfc92-317">When restoring from a local volume, keep in mind the restore will be a long running operation.</span></span> <span data-ttu-id="dfc92-318">Anche se il volume può tornare rapidamente online, i dati continuano a essere idratati in background.</span><span class="sxs-lookup"><span data-stu-id="dfc92-318">Though the volume may quickly come online, the data continues to be hydrated in the background.</span></span>
* <span data-ttu-id="dfc92-319">Il tipo di volume rimane invariato durante il processo di ripristino.</span><span class="sxs-lookup"><span data-stu-id="dfc92-319">The volume type remains the same during the restore process.</span></span> <span data-ttu-id="dfc92-320">Un volume a livelli viene ripristinato in un altro volume a livelli e un volume aggiunto in locale in un altro volume aggiunto in locale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-320">A tiered volume is restored to another tiered volume and a locally pinned volume to another locally pinned volume.</span></span>
* <span data-ttu-id="dfc92-321">Quando si tenta di ripristinare un volume o una condivisione da un set di backup, anche se il processo di ripristino non riesce, è comunque possibile creare nel portale un volume o una condivisione di destinazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-321">When trying to restore a volume or a share from a backup set, if the restore job fails, a target volume or share may still be created in the portal.</span></span> <span data-ttu-id="dfc92-322">È importante eliminare questo volume o questa condivisione di destinazione inutilizzata nel portale, per ridurre al minimo eventuali problemi futuri causati da questo elemento.</span><span class="sxs-lookup"><span data-stu-id="dfc92-322">It is important that you delete this unused target volume or share in the portal to minimize any future issues arising from this element.</span></span>

### <a name="failover-and-disaster-recovery"></a><span data-ttu-id="dfc92-323">Failover e ripristino di emergenza</span><span class="sxs-lookup"><span data-stu-id="dfc92-323">Failover and disaster recovery</span></span>
<span data-ttu-id="dfc92-324">Il failover di un dispositivo consente di eseguire la migrazione dei dati da un dispositivo di *origine* nel data center a un altro dispositivo di *destinazione* situato nella stessa località geografica o in una diversa.</span><span class="sxs-lookup"><span data-stu-id="dfc92-324">A device failover allows you to migrate your data from a *source* device in the datacenter to another *target* device located in the same or a different geographical location.</span></span> <span data-ttu-id="dfc92-325">Il failover del dispositivo interessa tutto il dispositivo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-325">The device failover is for the entire device.</span></span> <span data-ttu-id="dfc92-326">Durante il failover, la proprietà dei dati del cloud passa dal dispositivo di origine al dispositivo di destinazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-326">During failover, the cloud data for the source device changes ownership to that of the target device.</span></span>

<span data-ttu-id="dfc92-327">Per l'array virtuale StorSimple è possibile eseguire il failover solo in un altro array virtuale gestito dallo stesso servizio StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="dfc92-327">For your StorSimple Virtual Array, you can only fail over to another virtual array managed by the same StorSimple Manager service.</span></span> <span data-ttu-id="dfc92-328">Non è consentito eseguire un failover in un dispositivo serie 8000 o un array gestito da un servizio StorSimple Manager diverso da quello del dispositivo di origine.</span><span class="sxs-lookup"><span data-stu-id="dfc92-328">A failover to an 8000 series device or an array managed by a different StorSimple Manager service (than the one for the source device) is not allowed.</span></span> <span data-ttu-id="dfc92-329">Per altre considerazioni sul failover, vedere i [prerequisiti per il failover del dispositivo](storsimple-virtual-array-failover-dr.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-329">To learn more about the failover considerations, go to [prerequisites for the device failover](storsimple-virtual-array-failover-dr.md).</span></span>

<span data-ttu-id="dfc92-330">Quando si esegue un failover per l'array virtuale, tenere presente quanto segue:</span><span class="sxs-lookup"><span data-stu-id="dfc92-330">When performing a fail over for your virtual array, keep the following in mind:</span></span>

* <span data-ttu-id="dfc92-331">Per un failover pianificato è consigliabile portare offline tutti i volumi o le condivisioni prima di avviare il failover.</span><span class="sxs-lookup"><span data-stu-id="dfc92-331">For a planned failover, it is a recommended best practice to take all the volumes/shares offline prior to initiating the failover.</span></span> <span data-ttu-id="dfc92-332">Seguire le istruzioni specifiche del sistema operativo per portare offline i volumi o le condivisioni prima nell'host e quindi nel dispositivo virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-332">Follow the operating system-specific instructions to take the volumes/shares offline on the host first and then take those offline on your virtual device.</span></span>
* <span data-ttu-id="dfc92-333">Per il ripristino di emergenza di un file server, è consigliabile aggiungere il dispositivo di destinazione allo stesso dominio del dispositivo di origine, in modo da risolvere automaticamente le autorizzazioni di condivisione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-333">For a file server disaster recovery (DR), we recommend that you join the target device to the same domain as the source so that the share permissions are automatically resolved.</span></span> <span data-ttu-id="dfc92-334">In questa versione è supportato solo il failover su un dispositivo di destinazione nello stesso dominio.</span><span class="sxs-lookup"><span data-stu-id="dfc92-334">Only the failover to a target device in the same domain is supported in this release.</span></span>
* <span data-ttu-id="dfc92-335">Al termine del ripristino di emergenza, il dispositivo di origine viene eliminato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-335">Once the DR is successfully completed, the source device is automatically deleted.</span></span> <span data-ttu-id="dfc92-336">Anche se il dispositivo non è più disponibile, la macchina virtuale sottoposta a provisioning nel sistema host usa ancora risorse.</span><span class="sxs-lookup"><span data-stu-id="dfc92-336">Though the device is no longer available, the virtual machine that you provisioned on the host system is still consuming resources.</span></span> <span data-ttu-id="dfc92-337">È consigliabile eliminare la macchina virtuale dal sistema host per evitare l'accumularsi dei costi.</span><span class="sxs-lookup"><span data-stu-id="dfc92-337">We recommend that you delete this virtual machine from your host system to prevent any charges from accruing.</span></span>
* <span data-ttu-id="dfc92-338">Si noti che anche se il failover non riesce, **i dati sono sempre al sicuro nel cloud**.</span><span class="sxs-lookup"><span data-stu-id="dfc92-338">Do note that even if the failover is unsuccessful, **the data is always safe in the cloud**.</span></span> <span data-ttu-id="dfc92-339">Prendere in considerazione i tre scenari seguenti in cui il failover non è stato completato correttamente:</span><span class="sxs-lookup"><span data-stu-id="dfc92-339">Consider the following three scenarios in which the failover did not complete successfully:</span></span>
  
  * <span data-ttu-id="dfc92-340">Si è verificato un errore nelle fasi iniziali del failover, ad esempio quando vengono eseguite le verifiche preliminari del ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="dfc92-340">A failure occurred in the initial stages of the failover such as when the DR pre-checks are being performed.</span></span> <span data-ttu-id="dfc92-341">In questo caso, il dispositivo di destinazione è ancora utilizzabile.</span><span class="sxs-lookup"><span data-stu-id="dfc92-341">In this situation, your target device is still usable.</span></span> <span data-ttu-id="dfc92-342">È possibile riprovare il failover nello stesso dispositivo di destinazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-342">You can retry the failover on the same target device.</span></span>
  * <span data-ttu-id="dfc92-343">Si è verificato un errore durante il processo di failover effettivo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-343">A failure occurred during the actual failover process.</span></span> <span data-ttu-id="dfc92-344">In questo caso, il dispositivo di destinazione è contrassegnato come inutilizzabile.</span><span class="sxs-lookup"><span data-stu-id="dfc92-344">In this case, the target device is marked unusable.</span></span> <span data-ttu-id="dfc92-345">È necessario eseguire il provisioning e configurare un altro array virtuale di destinazione e usarlo per il failover.</span><span class="sxs-lookup"><span data-stu-id="dfc92-345">You must provision and configure another target virtual array and use that for failover.</span></span>
  * <span data-ttu-id="dfc92-346">Il failover è stato completato, dopo di che il dispositivo di origine è stato eliminato, ma il dispositivo di destinazione presenta problemi e non è possibile accedere ai dati.</span><span class="sxs-lookup"><span data-stu-id="dfc92-346">The failover was complete following which the source device was deleted but the target device has issues and you cannot access any data.</span></span> <span data-ttu-id="dfc92-347">I dati sono comunque al sicuro nel cloud e possono essere facilmente recuperati creando un altro array virtuale, che potrà quindi essere usato come un dispositivo di destinazione per il ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="dfc92-347">The data is still safe in the cloud and can be easily retrieved by creating another virtual array and then using it as a target device for the DR.</span></span>

### <a name="deactivate"></a><span data-ttu-id="dfc92-348">Disattivare</span><span class="sxs-lookup"><span data-stu-id="dfc92-348">Deactivate</span></span>
<span data-ttu-id="dfc92-349">Quando si disattiva un array virtuale StorSimple, si interrompe la connessione tra il dispositivo e il servizio StorSimple Manager corrispondente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-349">When you deactivate a StorSimple Virtual Array, you sever the connection between the device and the corresponding StorSimple Manager service.</span></span> <span data-ttu-id="dfc92-350">La disattivazione è un'operazione **permanente** e non può essere annullata.</span><span class="sxs-lookup"><span data-stu-id="dfc92-350">Deactivation is a **permanent** operation and cannot be undone.</span></span> <span data-ttu-id="dfc92-351">Un dispositivo disattivato non può essere registrato di nuovo con il servizio StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="dfc92-351">A deactivated device cannot be registered with the StorSimple Manager service again.</span></span> <span data-ttu-id="dfc92-352">Per altre informazioni, vedere [Disattivare ed eliminare un dispositivo StorSimple](storsimple-virtual-array-deactivate-and-delete-device.md).</span><span class="sxs-lookup"><span data-stu-id="dfc92-352">For more information, go to [deactivate and delete your StorSimple Virtual Array](storsimple-virtual-array-deactivate-and-delete-device.md).</span></span>

<span data-ttu-id="dfc92-353">Quando si disattiva l'array virtuale, tenere in considerazione le procedure consigliate seguenti:</span><span class="sxs-lookup"><span data-stu-id="dfc92-353">Keep the following best practices in mind when deactivating your virtual array:</span></span>

* <span data-ttu-id="dfc92-354">Creare uno snapshot cloud di tutti i dati prima di disattivare un dispositivo virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-354">Take a cloud snapshot of all the data prior to deactivating a virtual device.</span></span> <span data-ttu-id="dfc92-355">Quando si disattiva un array virtuale, tutti i dati nel dispositivo locale vanno persi.</span><span class="sxs-lookup"><span data-stu-id="dfc92-355">When you deactivate a virtual array, all the local device data is lost.</span></span> <span data-ttu-id="dfc92-356">La creazione di uno snapshot consentirà di recuperare tutti i dati in una fase successiva.</span><span class="sxs-lookup"><span data-stu-id="dfc92-356">Taking a cloud snapshot will allow you to recover data at a later stage.</span></span>
* <span data-ttu-id="dfc92-357">Prima di disattivare un array virtuale StorSimple, assicurarsi di arrestare o eliminare i client e gli host che dipendono da tale dispositivo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-357">Before you deactivate a StorSimple Virtual Array, make sure to stop or delete clients and hosts that depend on that device.</span></span>
* <span data-ttu-id="dfc92-358">Eliminare un dispositivo disattivato se non lo si usa più, in modo da evitare l'accumularsi di addebiti.</span><span class="sxs-lookup"><span data-stu-id="dfc92-358">Delete a deactivated device if you are no longer using so that it doesn't accrue charges.</span></span>

### <a name="monitoring"></a><span data-ttu-id="dfc92-359">Monitoraggio</span><span class="sxs-lookup"><span data-stu-id="dfc92-359">Monitoring</span></span>
<span data-ttu-id="dfc92-360">Per assicurarsi che l'array virtuale StorSimple sia costantemente in uno stato integro, è necessario monitorarlo e assicurarsi di ricevere informazioni dal sistema, inclusi gli avvisi.</span><span class="sxs-lookup"><span data-stu-id="dfc92-360">To ensure that your StorSimple Virtual Array is in a continuous healthy state, you need to monitor the array and ensure that you receive information from the system including alerts.</span></span> <span data-ttu-id="dfc92-361">Per monitorare l'integrità complessiva dell'array virtuale, implementare le procedure consigliate seguenti:</span><span class="sxs-lookup"><span data-stu-id="dfc92-361">To monitor the overall health of the virtual array, implement the following best practices:</span></span>

* <span data-ttu-id="dfc92-362">Configurare il monitoraggio per tenere traccia dell'utilizzo del disco, sia del disco dati dell'array virtuale sia di quello del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-362">Configure monitoring to track the disk usage of your virtual array data disk as well as the OS disk.</span></span> <span data-ttu-id="dfc92-363">Se è in esecuzione Hyper-V, è possibile usare una combinazione di System Center Virtual Machine Manager (SCVMM) e System Center Operations Manager (SCOM) per monitorare gli host di virtualizzazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-363">If running Hyper-V, you can use a combination of System Center Virtual Machine Manager (SCVMM) and System Center Operations Manager (SCOM) to monitor your virtualization hosts.</span></span>
* <span data-ttu-id="dfc92-364">Configurare notifiche tramite posta elettronica nell'array virtuale per l'invio di avvisi in presenza di determinati livelli di utilizzo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-364">Configure email notifications on your virtual array to send alerts at certain usage levels.</span></span>                                                                                                                                                                                                

### <a name="index-search-and-virus-scan-applications"></a><span data-ttu-id="dfc92-365">Applicazioni di analisi antivirus e ricerca nell'indice</span><span class="sxs-lookup"><span data-stu-id="dfc92-365">Index search and virus scan applications</span></span>
<span data-ttu-id="dfc92-366">Un array virtuale StorSimple può creare automaticamente livelli di dati dal livello locale al cloud di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="dfc92-366">A StorSimple Virtual Array can automatically tier data from the local tier to the Microsoft Azure cloud.</span></span> <span data-ttu-id="dfc92-367">Quando si usa un'applicazione, ad esempio per la ricerca nell'indice o l'analisi antivirus, per analizzare i dati archiviati in StorSimple, è necessario fare attenzione che non venga eseguito l'accesso ai dati nel cloud e non ne venga effettuato il pull nel livello locale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-367">When an application such as an index search or a virus scan is used to scan the data stored on StorSimple, you need to take care that the cloud data does not get accessed and pulled back to the local tier.</span></span>

<span data-ttu-id="dfc92-368">Quando si configurano la scansione di virus o ricerca nell'indice nell'array virtuale, è opportuno implementare le procedure consigliate seguenti:</span><span class="sxs-lookup"><span data-stu-id="dfc92-368">We recommend that you implement the following best practices when configuring the index search or virus scan on your virtual array:</span></span>

* <span data-ttu-id="dfc92-369">Disabilitare qualsiasi operazione di analisi completa configurata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-369">Disable any automatically configured full scan operations.</span></span>
* <span data-ttu-id="dfc92-370">Per i volumi a livelli configurare l'applicazione di analisi antivirus o di ricerca dell'indice per l'esecuzione di una ricerca incrementale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-370">For tiered volumes, configure the index search or virus scan application to perform an incremental scan.</span></span> <span data-ttu-id="dfc92-371">Questa impostazione consente di analizzare solo i nuovi dati che probabilmente risiedono nel livello locale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-371">This would scan only the new data likely residing on the local tier.</span></span> <span data-ttu-id="dfc92-372">Durante un'operazione incrementale non viene eseguito l'accesso ai dati a livelli nel cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-372">The data that is tiered to the cloud is not accessed during an incremental operation.</span></span>
* <span data-ttu-id="dfc92-373">Assicurarsi di avere configurato le impostazioni e i filtri di ricerca corretti in modo che vengano analizzati solo i tipi di file desiderati.</span><span class="sxs-lookup"><span data-stu-id="dfc92-373">Ensure the correct search filters and settings are configured so that only the intended types of files get scanned.</span></span> <span data-ttu-id="dfc92-374">Ad esempio, file di immagine (JPEG, GIF e TIFF) e disegni di progettazione non devono essere analizzati durante la ricompilazione dell'indice completa o incrementale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-374">For example, image files (JPEG, GIF, and TIFF) and engineering drawings should not be scanned during the incremental or full index rebuild.</span></span>

<span data-ttu-id="dfc92-375">Se si usa il processo di indicizzazione di Windows, seguire queste linee guida:</span><span class="sxs-lookup"><span data-stu-id="dfc92-375">If using Windows indexing process, follow these guidelines:</span></span>

* <span data-ttu-id="dfc92-376">Non usare l'indicizzatore di Windows per i volumi a livelli, perché richiama grandi quantità di dati (TB) dal cloud se l'indice deve essere ricompilato frequentemente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-376">Do not use the Windows Indexer for tiered volumes as it recalls large amounts of data (TBs) from the cloud if the index needs to be rebuilt frequently.</span></span> <span data-ttu-id="dfc92-377">La ricompilazione dell'indice recupera tutti i tipi di file per indicizzarne il contenuto.</span><span class="sxs-lookup"><span data-stu-id="dfc92-377">Rebuilding the index would retrieve all file types to index their content.</span></span>
* <span data-ttu-id="dfc92-378">Usare il processo di indicizzazione di Windows per i volumi aggiunti in locale, perché per compilare l'indice verrà eseguito l'accesso solo ai dati nei livelli locali, non ai dati cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-378">Use the Windows indexing process for locally pinned volumes as this would only access data on the local tiers to build the index (the cloud data will not be accessed).</span></span>

### <a name="byte-range-locking"></a><span data-ttu-id="dfc92-379">Blocco di intervalli di byte</span><span class="sxs-lookup"><span data-stu-id="dfc92-379">Byte range locking</span></span>
<span data-ttu-id="dfc92-380">Le applicazioni possono bloccare un intervallo di byte specificato all'interno dei file.</span><span class="sxs-lookup"><span data-stu-id="dfc92-380">Applications can lock a specified range of bytes within the files.</span></span> <span data-ttu-id="dfc92-381">Se per le applicazioni che scrivono in StorSimple è abilitato il blocco di intervalli di byte, la suddivisione in livelli non funziona nell'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-381">If byte range locking is enabled on the applications that are writing to your StorSimple, then tiering does not work on your virtual array.</span></span> <span data-ttu-id="dfc92-382">Perché la suddivisione in livelli funzioni, tutte le aree del file a cui viene eseguito l'accesso devono essere sbloccate.</span><span class="sxs-lookup"><span data-stu-id="dfc92-382">For the tiering to work, all areas of the files accessed should be unlocked.</span></span> <span data-ttu-id="dfc92-383">Il blocco di intervalli di byte non è supportato con i volumi a livelli nell'array virtuale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-383">Byte range locking is not supported with tiered volumes on your virtual array.</span></span>

<span data-ttu-id="dfc92-384">Ecco alcune misure consigliate per mitigare gli effetti del blocco di intervalli di byte:</span><span class="sxs-lookup"><span data-stu-id="dfc92-384">Recommended measures to alleviate byte range locking include:</span></span>

* <span data-ttu-id="dfc92-385">Disattivare il blocco dell'intervallo di byte nella logica dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-385">Turn off byte range locking in your application logic.</span></span>
* <span data-ttu-id="dfc92-386">Usare volumi aggiunti in locale, invece che a livelli, per i dati associati all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dfc92-386">Use locally pinned volumes (instead of tiered) for the data associated with this application.</span></span> <span data-ttu-id="dfc92-387">I volumi aggiunti in locale non vengono suddivisi in livelli nel cloud.</span><span class="sxs-lookup"><span data-stu-id="dfc92-387">Locally pinned volumes do not tier into the cloud.</span></span>
* <span data-ttu-id="dfc92-388">Quando si usano volumi aggiunti in locale con abilitato il blocco di intervalli di byte, è possibile che il volume torni online prima del completamento del ripristino.</span><span class="sxs-lookup"><span data-stu-id="dfc92-388">When using locally pinned volumes with byte range locking enabled, the volume can come online before the restore is complete.</span></span> <span data-ttu-id="dfc92-389">In questi casi, è necessario attendere che il ripristino venga completato.</span><span class="sxs-lookup"><span data-stu-id="dfc92-389">In these instances, you must wait for the restore to be complete.</span></span>

## <a name="multiple-arrays"></a><span data-ttu-id="dfc92-390">Più array</span><span class="sxs-lookup"><span data-stu-id="dfc92-390">Multiple arrays</span></span>
<span data-ttu-id="dfc92-391">Può essere necessario distribuire più array virtuali per tenere conto di un working set di dati crescente che può comportare la distribuzione nel cloud, influendo quindi sulle prestazioni del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="dfc92-391">Multiple virtual arrays may need to be deployed to account for a growing working set of data that could spill onto the cloud thus affecting the performance of the device.</span></span> <span data-ttu-id="dfc92-392">In questi casi, è consigliabile ridimensionare i dispositivi man mano che il working set cresce.</span><span class="sxs-lookup"><span data-stu-id="dfc92-392">In these instances, it is best to scale devices as the working set grows.</span></span> <span data-ttu-id="dfc92-393">Ciò richiede l'aggiunta di uno o più dispositivi nel data center locale.</span><span class="sxs-lookup"><span data-stu-id="dfc92-393">This requires one or more devices to be added in the on-premises data center.</span></span> <span data-ttu-id="dfc92-394">Quando si aggiungono i dispositivi, è possibile:</span><span class="sxs-lookup"><span data-stu-id="dfc92-394">When adding the devices, you could:</span></span>

* <span data-ttu-id="dfc92-395">Suddividere il set di dati corrente.</span><span class="sxs-lookup"><span data-stu-id="dfc92-395">Split the current set of data.</span></span>
* <span data-ttu-id="dfc92-396">Distribuire nuovi carichi in nuovi dispositivi.</span><span class="sxs-lookup"><span data-stu-id="dfc92-396">Deploy new workloads to new device(s).</span></span>
* <span data-ttu-id="dfc92-397">Se si distribuiscono più array virtuali, dal punto di vista del bilanciamento del carico è consigliabile distribuire l'array in host hypervisor diversi.</span><span class="sxs-lookup"><span data-stu-id="dfc92-397">If deploying multiple virtual arrays, we recommend that from load-balancing perspective, distribute the array across different hypervisor hosts.</span></span>
* <span data-ttu-id="dfc92-398">Più array virtuali, se configurati come file server o server iSCSI, possono essere distribuiti in uno spazio dei nomi del file system distribuito.</span><span class="sxs-lookup"><span data-stu-id="dfc92-398">Multiple virtual arrays (when configured as a file server or an iSCSI server) can be deployed in a Distributed File System Namespace.</span></span> <span data-ttu-id="dfc92-399">Per i passaggi dettagliati, vedere [Distributed File System Namespace Solution with Hybrid Cloud Storage Deployment Guide](https://www.microsoft.com/download/details.aspx?id=45507)(Guida alla distribuzione di una soluzione per lo spazio dei nomi del file system distribuito con archiviazione cloud ibrida).</span><span class="sxs-lookup"><span data-stu-id="dfc92-399">For detailed steps, go to [Distributed File System Namespace Solution with Hybrid Cloud Storage Deployment Guide](https://www.microsoft.com/download/details.aspx?id=45507).</span></span> <span data-ttu-id="dfc92-400">L'uso di Replica DFS con l'array virtuale non è attualmente consigliato.</span><span class="sxs-lookup"><span data-stu-id="dfc92-400">Distributed File System Replication is currently not recommended for use with the virtual array.</span></span> 

## <a name="see-also"></a><span data-ttu-id="dfc92-401">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="dfc92-401">See also</span></span>
<span data-ttu-id="dfc92-402">Informazioni su come [amministrare l'array virtuale StorSimple](storsimple-virtual-array-manager-service-administration.md) usando il servizio StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="dfc92-402">Learn how to [administer your StorSimple Virtual Array](storsimple-virtual-array-manager-service-administration.md) via the StorSimple Manager service.</span></span>

