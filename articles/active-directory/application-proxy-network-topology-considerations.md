---
title: Considerazioni relative alla topologia aaaNetwork quando si usa il Proxy di applicazione Azure Active Directory | Documenti Microsoft
description: Tratta alcune considerazioni relative alla topologia di rete quando si usa il proxy applicazione Azure AD.
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 9b8cdd2196efeb92a74e44dde6511f7d3091a968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="network-topology-considerations-when-using-azure-active-directory-application-proxy"></a><span data-ttu-id="602b3-103">Considerazioni relative alla topologia di rete quando si usa il proxy applicazione di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="602b3-103">Network topology considerations when using Azure Active Directory Application Proxy</span></span>

<span data-ttu-id="602b3-104">Questo articolo presenta alcune considerazioni relative alla topologia di rete quando si usa il proxy applicazione di Azure Active Directory (Azure AD) per la pubblicazione delle applicazioni e il relativo accesso da remoto.</span><span class="sxs-lookup"><span data-stu-id="602b3-104">This article explains network topology considerations when using Azure Active Directory (Azure AD) Application Proxy for publishing and accessing your applications remotely.</span></span>

## <a name="traffic-flow"></a><span data-ttu-id="602b3-105">Flusso del traffico</span><span class="sxs-lookup"><span data-stu-id="602b3-105">Traffic flow</span></span>

<span data-ttu-id="602b3-106">Quando un'applicazione viene pubblicata tramite Proxy di applicazione AD Azure, il traffico proveniente da applicazioni di hello utenti toohello passa attraverso tre connessioni:</span><span class="sxs-lookup"><span data-stu-id="602b3-106">When an application is published through Azure AD Application Proxy, traffic from hello users toohello applications flows through three connections:</span></span>

1. <span data-ttu-id="602b3-107">utente di Hello si connette toohello endpoint pubblico del servizio Proxy di applicazione AD Azure in Azure</span><span class="sxs-lookup"><span data-stu-id="602b3-107">hello user connects toohello Azure AD Application Proxy service public endpoint on Azure</span></span>
2. <span data-ttu-id="602b3-108">Hello servizio Proxy di applicazione si connette toohello connettore del Proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="602b3-108">hello Application Proxy service connects toohello Application Proxy connector</span></span>
3. <span data-ttu-id="602b3-109">connettore Proxy dell'applicazione Hello si connette l'applicazione di destinazione toohello</span><span class="sxs-lookup"><span data-stu-id="602b3-109">hello Application Proxy connector connects toohello target application</span></span>

![Diagramma che illustra il flusso del traffico da applicazione tootarget utente](./media/application-proxy-network-topologies/application-proxy-three-hops.png)

## <a name="tenant-location-and-application-proxy-service"></a><span data-ttu-id="602b3-111">Località del tenant e servizio proxy applicazione</span><span class="sxs-lookup"><span data-stu-id="602b3-111">Tenant location and Application Proxy service</span></span>

<span data-ttu-id="602b3-112">Quando effettua l'iscrizione per un tenant di Azure AD, area hello del tenant è determinato dal paese hello specificate.</span><span class="sxs-lookup"><span data-stu-id="602b3-112">When you sign up for an Azure AD tenant, hello region of your tenant is determined by hello country you specify.</span></span> <span data-ttu-id="602b3-113">Quando si abilita il Proxy di applicazione, le istanze del servizio Proxy di applicazione hello per il tenant sono scelte o create in hello stesso area come tenant di Azure AD o tooit area più vicina hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-113">When you enable Application Proxy, hello Application Proxy service instances for your tenant are chosen or created in hello same region as your Azure AD tenant, or hello closest region tooit.</span></span>

<span data-ttu-id="602b3-114">Ad esempio, se l'area del tenant di Azure AD hello dall'Unione europea (Europa), tutti i connettori Proxy di applicazione utilizzano le istanze del servizio nei Data Center di Azure in hello Europa.</span><span class="sxs-lookup"><span data-stu-id="602b3-114">For example, if your Azure AD tenant’s region is hello European Union (EU), all your Application Proxy connectors use service instances in Azure datacenters in hello EU.</span></span> <span data-ttu-id="602b3-115">Quando agli utenti l'accesso pubblicazione delle applicazioni, il traffico passa attraverso le istanze del servizio Proxy di applicazione hello in questa posizione.</span><span class="sxs-lookup"><span data-stu-id="602b3-115">When your users access published applications, their traffic goes through hello Application Proxy service instances in this location.</span></span>

## <a name="considerations-for-reducing-latency"></a><span data-ttu-id="602b3-116">Considerazioni per ridurre la latenza</span><span class="sxs-lookup"><span data-stu-id="602b3-116">Considerations for reducing latency</span></span>

<span data-ttu-id="602b3-117">Tutte le soluzioni proxy introducono latenza nella connessione di rete.</span><span class="sxs-lookup"><span data-stu-id="602b3-117">All proxy solutions introduce latency into your network connection.</span></span> <span data-ttu-id="602b3-118">Indipendentemente da quale proxy o una soluzione VPN si sceglie come soluzione di accesso remoto, include sempre un set di server di attivazione hello tooinside di connessione alla rete aziendale.</span><span class="sxs-lookup"><span data-stu-id="602b3-118">No matter which proxy or VPN solution you choose as your remote access solution, it always includes a set of servers enabling hello connection tooinside your corporate network.</span></span>

<span data-ttu-id="602b3-119">Le organizzazioni includono in genere endpoint server nella rete perimetrale.</span><span class="sxs-lookup"><span data-stu-id="602b3-119">Organizations typically include server endpoints in their perimeter network.</span></span> <span data-ttu-id="602b3-120">Con Proxy dell'applicazione AD Azure, tuttavia, il traffico passa attraverso il servizio proxy hello nel cloud hello mentre connettori hello si trovano nella rete aziendale.</span><span class="sxs-lookup"><span data-stu-id="602b3-120">With Azure AD Application Proxy, however, traffic flows through hello proxy service in hello cloud while hello connectors reside on your corporate network.</span></span> <span data-ttu-id="602b3-121">Non è richiesta alcuna rete perimetrale.</span><span class="sxs-lookup"><span data-stu-id="602b3-121">No perimeter network is required.</span></span>

<span data-ttu-id="602b3-122">Nelle sezioni successive di Hello contengono toohelp suggerimenti aggiuntivi ridurre la latenza ulteriormente.</span><span class="sxs-lookup"><span data-stu-id="602b3-122">hello next sections contain additional suggestions toohelp you reduce latency even further.</span></span> 

### <a name="connector-placement"></a><span data-ttu-id="602b3-123">Posizionamento dei connettori</span><span class="sxs-lookup"><span data-stu-id="602b3-123">Connector placement</span></span>

<span data-ttu-id="602b3-124">Proxy dell'applicazione sceglie automaticamente il percorso di hello di istanze, in base alla località del tenant.</span><span class="sxs-lookup"><span data-stu-id="602b3-124">Application Proxy chooses hello location of instances for you, based on your tenant location.</span></span> <span data-ttu-id="602b3-125">Invece, si ottiene toodecide in connettore di hello tooinstall, offrendo hello caratteristiche di latenza power toodefine hello del traffico di rete.</span><span class="sxs-lookup"><span data-stu-id="602b3-125">However, you get toodecide where tooinstall hello connector, giving you hello power toodefine hello latency characteristics of your network traffic.</span></span>

<span data-ttu-id="602b3-126">Quando si configura il servizio Proxy di applicazione hello, chiedere hello seguenti domande:</span><span class="sxs-lookup"><span data-stu-id="602b3-126">When setting up hello Application Proxy service, ask hello following questions:</span></span>

* <span data-ttu-id="602b3-127">In cui si trova l'applicazione hello?</span><span class="sxs-lookup"><span data-stu-id="602b3-127">Where is hello app located?</span></span>
* <span data-ttu-id="602b3-128">La maggior parte degli utenti che accedono a hello app che si trova dove si trovano?</span><span class="sxs-lookup"><span data-stu-id="602b3-128">Where are most users who access hello app located?</span></span>
* <span data-ttu-id="602b3-129">In cui si trova l'istanza del Proxy di applicazione hello?</span><span class="sxs-lookup"><span data-stu-id="602b3-129">Where is hello Application Proxy instance located?</span></span>
* <span data-ttu-id="602b3-130">Si dispone già un Data Center tooAzure connessione di rete dedicata configurato, Azure ExpressRoute o una simile VPN?</span><span class="sxs-lookup"><span data-stu-id="602b3-130">Do you already have a dedicated network connection tooAzure datacenters set up, like Azure ExpressRoute or a similar VPN?</span></span>

<span data-ttu-id="602b3-131">connettore Hello ha toocommunicate con Azure e le applicazioni (passaggi 2 e 3 nel diagramma di flusso del traffico hello), pertanto hello posizionamento della latenza di hello influisce sul connettore hello tali due connessioni.</span><span class="sxs-lookup"><span data-stu-id="602b3-131">hello connector has toocommunicate with both Azure and your applications (steps 2 and 3 in hello Traffic flow diagram), so hello placement of hello connector affects hello latency of those two connections.</span></span> <span data-ttu-id="602b3-132">Quando si valuta la selezione di hello del connettore hello, tenere hello presente seguenti punti:</span><span class="sxs-lookup"><span data-stu-id="602b3-132">When evaluating hello placement of hello connector, keep in mind hello following points:</span></span>

* <span data-ttu-id="602b3-133">Se si desidera toouse la delega vincolata Kerberos (KCD) per single sign-on, il connettore hello deve quindi un Data Center tooa di visibilità.</span><span class="sxs-lookup"><span data-stu-id="602b3-133">If you want toouse Kerberos constrained delegation (KCD) for single sign-on, then hello connector needs a line of sight tooa datacenter.</span></span> <span data-ttu-id="602b3-134">Inoltre, server del connettore hello deve toobe di dominio.</span><span class="sxs-lookup"><span data-stu-id="602b3-134">Additionally, hello connector server needs toobe domain joined.</span></span>  
* <span data-ttu-id="602b3-135">In caso di dubbio, installare un'applicazione hello connettore più vicino toohello.</span><span class="sxs-lookup"><span data-stu-id="602b3-135">When in doubt, install hello connector closer toohello application.</span></span>

### <a name="general-approach-toominimize-latency"></a><span data-ttu-id="602b3-136">Latenza toominimize approccio generale</span><span class="sxs-lookup"><span data-stu-id="602b3-136">General approach toominimize latency</span></span>

<span data-ttu-id="602b3-137">È possibile ridurre la latenza di hello del traffico end-to-end hello ottimizzando ciascuna connessione di rete.</span><span class="sxs-lookup"><span data-stu-id="602b3-137">You can minimize hello latency of hello end-to-end traffic by optimizing each network connection.</span></span> <span data-ttu-id="602b3-138">Ogni connessione può essere ottimizzata eseguendo le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="602b3-138">Each connection can be optimized by:</span></span>

* <span data-ttu-id="602b3-139">Riduzione della distanza hello tra due estremità di hello dell'hop hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-139">Reducing hello distance between hello two ends of hello hop.</span></span>
* <span data-ttu-id="602b3-140">Scelta di hello tootraverse di rete più adatta.</span><span class="sxs-lookup"><span data-stu-id="602b3-140">Choosing hello right network tootraverse.</span></span> <span data-ttu-id="602b3-141">Ad esempio, attraversando una rete privata anziché hello Internet pubblico può risultare più veloce, a causa di collegamenti toodedicated.</span><span class="sxs-lookup"><span data-stu-id="602b3-141">For example, traversing a private network rather than hello public Internet may be faster, due toodedicated links.</span></span>

<span data-ttu-id="602b3-142">Se si dispone di un collegamento VPN o ExpressRoute dedicato tra Azure e della rete aziendale, è opportuno toouse che.</span><span class="sxs-lookup"><span data-stu-id="602b3-142">If you have a dedicated VPN or ExpressRoute link between Azure and your corporate network, you may want toouse that.</span></span>

## <a name="focus-your-optimization-strategy"></a><span data-ttu-id="602b3-143">Individuare la migliore strategia di ottimizzazione</span><span class="sxs-lookup"><span data-stu-id="602b3-143">Focus your optimization strategy</span></span>

<span data-ttu-id="602b3-144">È minimo che è possibile eseguire connessione hello toocontrol tra utenti e servizio Proxy applicazione hello ci.</span><span class="sxs-lookup"><span data-stu-id="602b3-144">There's little that you can do toocontrol hello connection between your users and hello Application Proxy service.</span></span> <span data-ttu-id="602b3-145">poiché gli utenti possono accedere alle applicazioni da una rete domestica, un bar o un paese diverso.</span><span class="sxs-lookup"><span data-stu-id="602b3-145">Users may access your apps from a home network, a coffee shop, or a different country.</span></span> <span data-ttu-id="602b3-146">In alternativa, è possibile ottimizzare le connessioni hello da hello Proxy applicazione del servizio toohello Proxy dell'applicazione connettori toohello app.</span><span class="sxs-lookup"><span data-stu-id="602b3-146">Instead, you can optimize hello connections from hello Application Proxy service toohello Application Proxy connectors toohello apps.</span></span> <span data-ttu-id="602b3-147">Si consideri l'inclusione di hello seguito modelli nell'ambiente in uso.</span><span class="sxs-lookup"><span data-stu-id="602b3-147">Consider incorporating hello following patterns in your environment.</span></span>

### <a name="pattern-1-put-hello-connector-close-toohello-application"></a><span data-ttu-id="602b3-148">Modello 1: Inserire un'applicazione hello connettore toohello Chiudi</span><span class="sxs-lookup"><span data-stu-id="602b3-148">Pattern 1: Put hello connector close toohello application</span></span>

<span data-ttu-id="602b3-149">Sul posto hello connettore toohello chiusura dell'applicazione di destinazione rete cliente hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-149">Place hello connector close toohello target application in hello customer network.</span></span> <span data-ttu-id="602b3-150">Questa configurazione riduce il passaggio 3 nella diagramma topografia hello, perché connettore hello e applicazione sono simili.</span><span class="sxs-lookup"><span data-stu-id="602b3-150">This configuration minimizes step 3 in hello topography diagram, because hello connector and application are close.</span></span> 

<span data-ttu-id="602b3-151">Se il connettore è un controller di dominio di visibilità toohello, questo modello è più vantaggioso.</span><span class="sxs-lookup"><span data-stu-id="602b3-151">If your connector needs a line of sight toohello domain controller, then this pattern is advantageous.</span></span> <span data-ttu-id="602b3-152">Molti clienti usano questo modello poiché è adatto alla maggior parte degli scenari.</span><span class="sxs-lookup"><span data-stu-id="602b3-152">Most of our customers use this pattern, because it works well for most scenarios.</span></span> <span data-ttu-id="602b3-153">Questo modello può anche essere combinato con il traffico di toooptimize 2 modello tra servizio hello e connettore hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-153">This pattern can also be combined with pattern 2 toooptimize traffic between hello service and hello connector.</span></span>

### <a name="pattern-2-take-advantage-of-expressroute-with-public-peering"></a><span data-ttu-id="602b3-154">Modello 2: Sfruttare ExpressRoute con peering pubblico</span><span class="sxs-lookup"><span data-stu-id="602b3-154">Pattern 2: Take advantage of ExpressRoute with public peering</span></span>

<span data-ttu-id="602b3-155">Se si dispone di ExpressRoute di peering pubblico, è possibile utilizzare una connessione ExpressRoute più veloce hello per il traffico tra il Proxy di applicazione e connettore hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-155">If you have ExpressRoute set up with public peering, you can use hello faster ExpressRoute connection for traffic between Application Proxy and hello connector.</span></span> <span data-ttu-id="602b3-156">connettore Hello è ancora connesso alla rete, Chiudi toohello app.</span><span class="sxs-lookup"><span data-stu-id="602b3-156">hello connector is still on your network, close toohello app.</span></span>

### <a name="pattern-3-take-advantage-of-expressroute-with-private-peering"></a><span data-ttu-id="602b3-157">Modello 3: Sfruttare ExpressRoute con peering privato</span><span class="sxs-lookup"><span data-stu-id="602b3-157">Pattern 3: Take advantage of ExpressRoute with private peering</span></span>

<span data-ttu-id="602b3-158">Se tra Azure e la rete aziendale è configurato un collegamento VPN o ExpressRoute dedicato con peering privato, è disponibile un'altra opzione.</span><span class="sxs-lookup"><span data-stu-id="602b3-158">If you have a dedicated VPN or ExpressRoute set up with private peering between Azure and your corporate network, you have another option.</span></span> <span data-ttu-id="602b3-159">In questa configurazione di rete virtuale di hello in Azure è in genere considerato un'estensione della rete aziendale hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-159">In this configuration, hello virtual network in Azure is typically considered as an extension of hello corporate network.</span></span> <span data-ttu-id="602b3-160">Pertanto è possibile installare il connettore di hello in hello Data Center di Azure e continua a soddisfare i requisiti di latenza bassa hello della connessione al connettore-app hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-160">So you can install hello connector in hello Azure datacenter, and still satisfy hello low latency requirements of hello connector-to-app connection.</span></span>

<span data-ttu-id="602b3-161">Poiché il traffico scorre attraverso una connessione dedicata, la latenza non è compromessa.</span><span class="sxs-lookup"><span data-stu-id="602b3-161">Latency is not compromised because traffic is flowing over a dedicated connection.</span></span> <span data-ttu-id="602b3-162">È inoltre possibile ottenere migliorare latenza al connettore del servizio di Proxy dell'applicazione perché il connettore hello è installato in un tooyour Chiudi Data Center di Azure posizione del tenant Azure AD.</span><span class="sxs-lookup"><span data-stu-id="602b3-162">You also get improved Application Proxy service-to-connector latency because hello connector is installed in an Azure datacenter close tooyour Azure AD tenant location.</span></span>

![Diagramma che illustra l'installazione del connettore in un data center di Azure](./media/application-proxy-network-topologies/application-proxy-expressroute-private.png)

### <a name="other-approaches"></a><span data-ttu-id="602b3-164">Altri approcci</span><span class="sxs-lookup"><span data-stu-id="602b3-164">Other approaches</span></span>

<span data-ttu-id="602b3-165">Anche se lo stato attivo hello di questo articolo è la selezione di connettore, è inoltre possibile modificare la selezione di hello di hello tooget migliore latenza le caratteristiche dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="602b3-165">Although hello focus of this article is connector placement, you can also change hello placement of hello application tooget better latency characteristics.</span></span>

<span data-ttu-id="602b3-166">Le organizzazioni spostano sempre più spesso le loro reti in ambienti in hosting.</span><span class="sxs-lookup"><span data-stu-id="602b3-166">Increasingly, organizations are moving their networks into hosted environments.</span></span> <span data-ttu-id="602b3-167">In questo modo tooplace delle App in un ambiente host che fa anche parte della rete aziendale e ancora essere all'interno di dominio hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-167">This enables them tooplace their apps in a hosted environment that is also part of their corporate network, and still be within hello domain.</span></span> <span data-ttu-id="602b3-168">In questo caso, i modelli di hello illustrati nelle sezioni precedenti hello possono essere applicato toohello nuovo percorso di applicazione.</span><span class="sxs-lookup"><span data-stu-id="602b3-168">In this case, hello patterns discussed in hello preceding sections can be applied toohello new application location.</span></span> <span data-ttu-id="602b3-169">Se si sta considerando questa opzione, vedere [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="602b3-169">If you're considering this option, see [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span>

<span data-ttu-id="602b3-170">È inoltre consigliabile organizzare i connettori utilizzando [gruppi di connettori](active-directory-application-proxy-connectors.md) App tootarget presenti in diverse posizioni e reti.</span><span class="sxs-lookup"><span data-stu-id="602b3-170">Additionally, consider organizing your connectors using [connector groups](active-directory-application-proxy-connectors.md) tootarget apps that are in different locations and networks.</span></span> 

## <a name="common-use-cases"></a><span data-ttu-id="602b3-171">Casi d'uso comuni</span><span class="sxs-lookup"><span data-stu-id="602b3-171">Common use cases</span></span>

<span data-ttu-id="602b3-172">In questa sezione si esaminano alcuni scenari comuni.</span><span class="sxs-lookup"><span data-stu-id="602b3-172">In this section, we walk through a few common scenarios.</span></span> <span data-ttu-id="602b3-173">Si supponga che hello tenant di Azure AD (e pertanto proxy servizio endpoint) si trova in hello United States (Stati Uniti).</span><span class="sxs-lookup"><span data-stu-id="602b3-173">Assume that hello Azure AD tenant (and therefore proxy service endpoint) is located in hello United States (US).</span></span> <span data-ttu-id="602b3-174">Hello come illustrato in questi casi di utilizzo si applicano anche aree tooother mondo hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-174">hello considerations discussed in these use cases also apply tooother regions around hello globe.</span></span>

<span data-ttu-id="602b3-175">In questi scenari ogni connessione viene chiamata "hop" e viene numerata per semplificare la discussione:</span><span class="sxs-lookup"><span data-stu-id="602b3-175">For these scenarios, we call each connection a "hop" and number them for easier discussion:</span></span>

- <span data-ttu-id="602b3-176">**Hop 1**: toohello utente servizio Proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="602b3-176">**Hop 1**: User toohello Application Proxy service</span></span>
- <span data-ttu-id="602b3-177">**Hop 2**: connettore Proxy dell'applicazione toohello di Proxy applicazione del servizio</span><span class="sxs-lookup"><span data-stu-id="602b3-177">**Hop 2**: Application Proxy service toohello Application Proxy connector</span></span>
- <span data-ttu-id="602b3-178">**Hop 3**: applicazione di destinazione toohello connettore Proxy dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="602b3-178">**Hop 3**: Application Proxy connector toohello target application</span></span> 

### <a name="use-case-1"></a><span data-ttu-id="602b3-179">Caso d'uso 1</span><span class="sxs-lookup"><span data-stu-id="602b3-179">Use case 1</span></span>

<span data-ttu-id="602b3-180">**Scenario:** hello app è in una rete aziendale in hello, con gli utenti di hello stessa area.</span><span class="sxs-lookup"><span data-stu-id="602b3-180">**Scenario:** hello app is in an organization's network in hello US, with users in hello same region.</span></span> <span data-ttu-id="602b3-181">Nessun ExpressRoute o VPN esiste tra hello Data Center di Azure e la rete aziendale hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-181">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="602b3-182">**Consiglio:** seguire pattern 1, illustrato nella sezione precedente hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-182">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> <span data-ttu-id="602b3-183">Per migliorare la latenza, valutare la possibilità di usare ExpressRoute, se necessario.</span><span class="sxs-lookup"><span data-stu-id="602b3-183">For improved latency, consider using ExpressRoute, if needed.</span></span>

<span data-ttu-id="602b3-184">Si tratta di un modello semplice.</span><span class="sxs-lookup"><span data-stu-id="602b3-184">This is a simple pattern.</span></span> <span data-ttu-id="602b3-185">È ottimizzare hop 3 inserendo connettore hello quasi app hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-185">You optimize hop 3 by placing hello connector near hello app.</span></span> <span data-ttu-id="602b3-186">In questo modo anche una scelta naturale, connettore hello è installato in genere operazioni di visibilità toohello app e toohello datacenter tooperform la delega vincolata Kerberos.</span><span class="sxs-lookup"><span data-stu-id="602b3-186">This is also a natural choice, because hello connector typically is installed with line of sight toohello app and toohello datacenter tooperform KCD operations.</span></span>

![Diagramma che mostra che gli utenti, proxy, connector e app sono tutti in hello](./media/application-proxy-network-topologies/application-proxy-pattern1.png)

### <a name="use-case-2"></a><span data-ttu-id="602b3-188">Caso d'uso 2</span><span class="sxs-lookup"><span data-stu-id="602b3-188">Use case 2</span></span>

<span data-ttu-id="602b3-189">**Scenario:** hello app è in una rete aziendale in hello noi, con utenti distribuiti a livello globale.</span><span class="sxs-lookup"><span data-stu-id="602b3-189">**Scenario:** hello app is in an organization's network in hello US, with users spread out globally.</span></span> <span data-ttu-id="602b3-190">Nessun ExpressRoute o VPN esiste tra hello Data Center di Azure e la rete aziendale hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-190">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="602b3-191">**Consiglio:** seguire pattern 1, illustrato nella sezione precedente hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-191">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> 

<span data-ttu-id="602b3-192">Nuovo modello comune di hello toooptimize hop è 3, dove si posiziona il connettore hello quasi app hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-192">Again, hello common pattern is toooptimize hop 3, where you place hello connector near hello app.</span></span> <span data-ttu-id="602b3-193">Passaggio 3 non è in genere dispendiosa, se è hello tutto nella stessa area.</span><span class="sxs-lookup"><span data-stu-id="602b3-193">Hop 3 is not typically expensive, if it is all within hello same region.</span></span> <span data-ttu-id="602b3-194">Tuttavia, hop 1 può essere più costosa, a seconda della posizione utente hello, perché gli utenti tra HelloWorld devono accedere l'istanza del Proxy di applicazione hello in hello Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="602b3-194">However, hop 1 can be more expensive depending on where hello user is, because users across hello world must access hello Application Proxy instance in hello US.</span></span> <span data-ttu-id="602b3-195">È opportuno notare che qualsiasi soluzione proxy presenta caratteristiche simili in relazione a utenti distribuiti in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="602b3-195">It's worth noting that any proxy solution has similar characteristics regarding users being spread out globally.</span></span>

![Diagramma che mostra che gli utenti vengono distribuiti a livello globale, ma app e connettore proxy hello sono in hello](./media/application-proxy-network-topologies/application-proxy-pattern2.png)

### <a name="use-case-3"></a><span data-ttu-id="602b3-197">Caso d'uso 3</span><span class="sxs-lookup"><span data-stu-id="602b3-197">Use case 3</span></span>

<span data-ttu-id="602b3-198">**Scenario:** hello app si trova nella rete dell'organizzazione in hello ci.</span><span class="sxs-lookup"><span data-stu-id="602b3-198">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="602b3-199">ExpressRoute con peering pubblico esiste tra Azure e hello rete aziendale.</span><span class="sxs-lookup"><span data-stu-id="602b3-199">ExpressRoute with public peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="602b3-200">**Consiglio:** seguire pattern 1 e 2, illustrato nella sezione precedente hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-200">**Recommendation:** Follow patterns 1 and 2, explained in hello previous section.</span></span>

<span data-ttu-id="602b3-201">In primo luogo, connettore hello più vicino possibile toohello app.</span><span class="sxs-lookup"><span data-stu-id="602b3-201">First, place hello connector as close as possible toohello app.</span></span> <span data-ttu-id="602b3-202">Quindi, il sistema hello utilizza automaticamente ExpressRoute per hop 2.</span><span class="sxs-lookup"><span data-stu-id="602b3-202">Then, hello system automatically uses ExpressRoute for hop 2.</span></span> 

<span data-ttu-id="602b3-203">Se il collegamento ExpressRoute hello utilizza peering pubblico, il traffico di hello tra proxy hello e connettore hello passa su tale collegamento.</span><span class="sxs-lookup"><span data-stu-id="602b3-203">If hello ExpressRoute link is using public peering, hello traffic between hello proxy and hello connector flows over that link.</span></span> <span data-ttu-id="602b3-204">L'hop 2 ha una latenza ottimizzata.</span><span class="sxs-lookup"><span data-stu-id="602b3-204">Hop 2 has optimized latency.</span></span>

![Diagramma che illustra ExpressRoute tra connettore e proxy hello](./media/application-proxy-network-topologies/application-proxy-pattern3.png)

### <a name="use-case-4"></a><span data-ttu-id="602b3-206">Caso d'uso 4</span><span class="sxs-lookup"><span data-stu-id="602b3-206">Use case 4</span></span>

<span data-ttu-id="602b3-207">**Scenario:** hello app si trova nella rete dell'organizzazione in hello ci.</span><span class="sxs-lookup"><span data-stu-id="602b3-207">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="602b3-208">ExpressRoute con peering privato esiste tra Azure e hello rete aziendale.</span><span class="sxs-lookup"><span data-stu-id="602b3-208">ExpressRoute with private peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="602b3-209">**Consiglio:** seguire pattern, 3, illustrato nella sezione precedente hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-209">**Recommendation:** Follow pattern 3, explained in hello previous section.</span></span>

<span data-ttu-id="602b3-210">Inserire il connettore hello hello Data Center toohello connesso alla rete aziendale tramite ExpressRoute di peering privato di Azure.</span><span class="sxs-lookup"><span data-stu-id="602b3-210">Place hello connector in hello Azure datacenter that is connected toohello corporate network through ExpressRoute private peering.</span></span> 

<span data-ttu-id="602b3-211">connettore Hello può essere inserita in hello Data Center di Azure.</span><span class="sxs-lookup"><span data-stu-id="602b3-211">hello connector can be placed in hello Azure datacenter.</span></span> <span data-ttu-id="602b3-212">Poiché connettore hello dispone ancora di un Data Center hello tramite rete privata hello e un'applicazione di toohello di visibilità, hop 3 rimane ottimizzato.</span><span class="sxs-lookup"><span data-stu-id="602b3-212">Since hello connector still has a line of sight toohello application and hello datacenter through hello private network, hop 3 remains optimized.</span></span> <span data-ttu-id="602b3-213">Viene anche ulteriormente ottimizzato l'hop 2.</span><span class="sxs-lookup"><span data-stu-id="602b3-213">In addition, hop 2 is optimized further.</span></span>

![Diagramma che mostra un connettore di hello in un Data Center di Azure ed ExpressRoute tra app e connettore hello](./media/application-proxy-network-topologies/application-proxy-pattern4.png)

### <a name="use-case-5"></a><span data-ttu-id="602b3-215">Caso d'uso 5</span><span class="sxs-lookup"><span data-stu-id="602b3-215">Use case 5</span></span>

<span data-ttu-id="602b3-216">**Scenario:** hello app si trova nella rete dell'organizzazione in hello Europa, con l'istanza del Proxy di applicazione hello e la maggior parte degli utenti in hello US.</span><span class="sxs-lookup"><span data-stu-id="602b3-216">**Scenario:** hello app is in an organization's network in hello EU, with hello Application Proxy instance and most users in hello US.</span></span>

<span data-ttu-id="602b3-217">**Consiglio:** connettore hello sul posto quasi app hello.</span><span class="sxs-lookup"><span data-stu-id="602b3-217">**Recommendation:** Place hello connector near hello app.</span></span> <span data-ttu-id="602b3-218">Poiché gli utenti di Stati Uniti accedono a un'istanza di Proxy dell'applicazione che si verifica in hello toobe stessa area, hop 1 non è troppo costosa.</span><span class="sxs-lookup"><span data-stu-id="602b3-218">Because US users are accessing an Application Proxy instance that happens toobe in hello same region, hop 1 is not too expensive.</span></span> <span data-ttu-id="602b3-219">L'hop 3 è ottimizzato.</span><span class="sxs-lookup"><span data-stu-id="602b3-219">Hop 3 is optimized.</span></span> <span data-ttu-id="602b3-220">È possibile utilizzare ExpressRoute toooptimize hop 2.</span><span class="sxs-lookup"><span data-stu-id="602b3-220">Consider using ExpressRoute toooptimize hop 2.</span></span> 

![Diagramma con utenti e i proxy hello US, con connettore hello e dell'applicazione hello Europa](./media/application-proxy-network-topologies/application-proxy-pattern5b.png)

<span data-ttu-id="602b3-222">In questa situazione è anche possibile prendere in considerazione l'uso di un'altra variante.</span><span class="sxs-lookup"><span data-stu-id="602b3-222">You can also consider using one other variant in this situation.</span></span> <span data-ttu-id="602b3-223">Se la maggior parte degli utenti hello organizzazione hello US, probabilità sono che la rete si estende toohello ci anche.</span><span class="sxs-lookup"><span data-stu-id="602b3-223">If most users in hello organization are in hello US, then chances are that your network extends toohello US as well.</span></span> <span data-ttu-id="602b3-224">Inserire il connettore hello in hello Stati Uniti e utilizzare un'applicazione hello dedicato rete aziendale interna riga toohello in hello Europa.</span><span class="sxs-lookup"><span data-stu-id="602b3-224">Place hello connector in hello US, and use hello dedicated internal corporate network line toohello application in hello EU.</span></span> <span data-ttu-id="602b3-225">In questo modo, gli hop 2 e 3 vengono ottimizzati.</span><span class="sxs-lookup"><span data-stu-id="602b3-225">This way hops 2 and 3 are optimized.</span></span>

![Diagramma con gli utenti, il proxy e connettore hello Stati Uniti, in Europa hello app](./media/application-proxy-network-topologies/application-proxy-pattern5c.png)

## <a name="next-steps"></a><span data-ttu-id="602b3-227">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="602b3-227">Next steps</span></span>

- [<span data-ttu-id="602b3-228">Abilitare il proxy dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="602b3-228">Enable Application Proxy</span></span>](active-directory-application-proxy-enable.md)
- [<span data-ttu-id="602b3-229">Abilitare l'accesso Single Sign-On</span><span class="sxs-lookup"><span data-stu-id="602b3-229">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
- [<span data-ttu-id="602b3-230">Abilitare l'accesso condizionale</span><span class="sxs-lookup"><span data-stu-id="602b3-230">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)
- [<span data-ttu-id="602b3-231">Risolvere i problemi che si verificano con il proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="602b3-231">Troubleshoot issues you're having with Application Proxy</span></span>](active-directory-application-proxy-troubleshoot.md)
