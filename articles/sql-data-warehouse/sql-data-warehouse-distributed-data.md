---
title: aaaHow distributed dati funziona in Azure SQL Data Warehouse | Documenti Microsoft
description: Informazioni su come i dati vengono distribuiti per altamente parallelo di elaborazione (MPP) e hello le opzioni per la distribuzione di tabelle in Azure SQL Data Warehouse e Parallel Data Warehouse.
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.assetid: bae494a6-7ac5-4c38-8ca3-ab2696c63a9f
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: tables
ms.date: 07/12/2017
ms.author: jrj;barbkess
ms.openlocfilehash: 9a712d8d5251e4391ede245105918283aaa4b193
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="distributed-data-and-distributed-tables-for-massively-parallel-processing-mpp"></a><span data-ttu-id="39152-103">Dati distribuiti e tabelle distribuite per l'elaborazione parallela elevata (Massively Parallel Processing, MPP)</span><span class="sxs-lookup"><span data-stu-id="39152-103">Distributed data and distributed tables for Massively Parallel Processing (MPP)</span></span>
<span data-ttu-id="39152-104">Informazioni sulla distribuzione dei dati utente in Azure SQL Data Warehouse e Parallel Data Warehouse, i sistemi di elaborazione parallela elevata (Massively Parallel Processing, MPP) di Microsoft.</span><span class="sxs-lookup"><span data-stu-id="39152-104">Learn how user data is distributed in Azure SQL Data Warehouse and Parallel Data Warehouse, which are Microsoft's Massively Parallel Processing (MPP) systems.</span></span> <span data-ttu-id="39152-105">La progettazione del toouse di data warehouse dati distribuiti in modo efficace consentono si tooachieve hello l'elaborazione di query vantaggi dell'architettura MPP hello.</span><span class="sxs-lookup"><span data-stu-id="39152-105">Designing your data warehouse toouse distributed data effectively helps you tooachieve hello query processing benefits of hello MPP architecture.</span></span> <span data-ttu-id="39152-106">Un numero limitato di scelte nella progettazione dei database può avere un impatto significativo nel miglioramento delle prestazioni delle query.</span><span class="sxs-lookup"><span data-stu-id="39152-106">A few database design choices can have a significant impact on improving query performance.</span></span>  

> [!NOTE]
> <span data-ttu-id="39152-107">Azure SQL Data Warehouse e hello utilizzare Parallel Data Warehouse di progettazione di elaborazione parallela massiva stesso (. MPP), ma dispongono di alcune differenze a causa di hello piattaforma sottostante.</span><span class="sxs-lookup"><span data-stu-id="39152-107">Azure SQL Data Warehouse and Parallel Data Warehouse use hello same Massively Parallel Processing (MPP) design, but they have a few differences because of hello underlying platform.</span></span> <span data-ttu-id="39152-108">SQL Data Warehouse è una piattaforma distribuita come servizio (PaaS) eseguita in Azure.</span><span class="sxs-lookup"><span data-stu-id="39152-108">SQL Data Warehouse is a Platform as a Service (PaaS) that runs on Azure.</span></span> <span data-ttu-id="39152-109">Parallel Data Warehouse viene eseguita in APS (Analytics Platform System) un'appliance locale eseguita in Windows Server.</span><span class="sxs-lookup"><span data-stu-id="39152-109">Parallel Data Warehouse runs on Analytics Platform System (APS) which is an on-premises appliance that runs on Windows Server.</span></span>
> 
> 

## <a name="what-is-distributed-data"></a><span data-ttu-id="39152-110">Che cosa sono i dati distribuiti?</span><span class="sxs-lookup"><span data-stu-id="39152-110">What is distributed data?</span></span>
<span data-ttu-id="39152-111">In SQL Data Warehouse e Parallel Data Warehouse, dati distribuiti si riferiscono toouser i dati archiviati in più percorsi tra il sistema MPP hello.</span><span class="sxs-lookup"><span data-stu-id="39152-111">In SQL Data Warehouse and Parallel Data Warehouse, distributed data refers toouser data that is stored in multiple locations across hello MPP system.</span></span> <span data-ttu-id="39152-112">Ciascuno di questi percorsi funziona come un'archiviazione indipendenti e l'unità di elaborazione che consente di eseguire query sulla relativa parte di dati hello.</span><span class="sxs-lookup"><span data-stu-id="39152-112">Each of those locations functions as an independent storage and processing unit that runs queries on its portion of hello data.</span></span> <span data-ttu-id="39152-113">Dati distribuiti sono fondamentale toorunning query in parallelo tooachieve prestazioni elevate delle query.</span><span class="sxs-lookup"><span data-stu-id="39152-113">Distributed data is fundamental toorunning queries in parallel tooachieve high query performance.</span></span>

<span data-ttu-id="39152-114">dati toodistribute, data warehouse di hello assegna ogni riga di una tabella tooone distribuita della località dell'utente.</span><span class="sxs-lookup"><span data-stu-id="39152-114">toodistribute data, hello data warehouse assigns each row of a user table tooone distributed location.</span></span>  <span data-ttu-id="39152-115">È possibile distribuire le tabelle con un metodo di distribuzione hash o un metodo round robin.</span><span class="sxs-lookup"><span data-stu-id="39152-115">You can distribute tables with a hash-distribution method or a round-robin method.</span></span> <span data-ttu-id="39152-116">metodo di distribuzione Hello viene specificato nell'istruzione CREATE TABLE hello.</span><span class="sxs-lookup"><span data-stu-id="39152-116">hello distribution method is specified in hello CREATE TABLE statement.</span></span> 

## <a name="hash-distributed-tables"></a><span data-ttu-id="39152-117">Tabelle con distribuzione hash</span><span class="sxs-lookup"><span data-stu-id="39152-117">Hash-distributed tables</span></span>
<span data-ttu-id="39152-118">Hello seguente diagramma viene illustrato come una procedura completa (tabella non distribuita) archiviata come una tabella hash distribuita.</span><span class="sxs-lookup"><span data-stu-id="39152-118">hello following diagram illustrates how a full (non-distributed table) gets stored as a hash-distributed table.</span></span> <span data-ttu-id="39152-119">Una funzione deterministica assegna ogni distribuzione tooone toobelong di righe.</span><span class="sxs-lookup"><span data-stu-id="39152-119">A deterministic function assigns each row toobelong tooone distribution.</span></span> <span data-ttu-id="39152-120">Nella definizione della tabella hello, una delle colonne hello è designata come colonna di distribuzione hello.</span><span class="sxs-lookup"><span data-stu-id="39152-120">In hello table definition, one of hello columns is designated as hello distribution column.</span></span> <span data-ttu-id="39152-121">funzione hash Hello Usa valore hello hello distribuzione colonna tooassign ogni distribuzione tooa di righe.</span><span class="sxs-lookup"><span data-stu-id="39152-121">hello hash function uses hello value in hello distribution column tooassign each row tooa distribution.</span></span>

<span data-ttu-id="39152-122">Sono presenti le considerazioni sulle prestazioni per la selezione di una colonna di distribuzione, ad esempio valori DISTINCT, inclinazione di dati e tipi di hello delle query eseguite nel sistema hello hello.</span><span class="sxs-lookup"><span data-stu-id="39152-122">There are performance considerations for hello selection of a distribution column, such as distinctness, data skew, and hello types of queries run on hello system.</span></span>

<span data-ttu-id="39152-123">![Tabella distribuita](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "Tabella distribuita")</span><span class="sxs-lookup"><span data-stu-id="39152-123">![Distributed table](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "Distributed table")</span></span>  

* <span data-ttu-id="39152-124">Ogni riga appartiene tooone distribuzione.</span><span class="sxs-lookup"><span data-stu-id="39152-124">Each row belongs tooone distribution.</span></span>  
* <span data-ttu-id="39152-125">Un algoritmo hash deterministica assegna ogni distribuzione tooone di righe.</span><span class="sxs-lookup"><span data-stu-id="39152-125">A deterministic hash algorithm assigns each row tooone distribution.</span></span>  
* <span data-ttu-id="39152-126">numero di Hello di righe della tabella per ogni distribuzione varia come illustrato da diversi formati di hello di tabelle.</span><span class="sxs-lookup"><span data-stu-id="39152-126">hello number of table rows per distribution varies as shown by hello different sizes of tables.</span></span>

## <a name="round-robin-distributed-tables"></a><span data-ttu-id="39152-127">Tabelle con distribuzione round robin</span><span class="sxs-lookup"><span data-stu-id="39152-127">Round-robin distributed tables</span></span>
<span data-ttu-id="39152-128">Una tabella di round robin distribuita distribuisce le righe di hello assegnando ogni distribuzione tooa di righe in modo sequenziale.</span><span class="sxs-lookup"><span data-stu-id="39152-128">A round-robin distributed table distributes hello rows by assigning each row tooa distribution in a sequential manner.</span></span> <span data-ttu-id="39152-129">Si tratta di dati rapido tooload in una tabella di round robin, ma le prestazioni delle query potrebbero risultare più lenta.</span><span class="sxs-lookup"><span data-stu-id="39152-129">It is quick tooload data into a round-robin table, but query performance might be slower.</span></span>  <span data-ttu-id="39152-130">Aggiunta di una tabella di round robin in genere richiede ridistribuiscono hello righe tooenable hello query tooproduce risultati corretti, che richiedono tempo.</span><span class="sxs-lookup"><span data-stu-id="39152-130">Joining a round-robin table usually requires reshuffling hello rows tooenable hello query tooproduce an accurate result, which takes time.</span></span>

## <a name="distributed-storage-locations-are-called-distributions"></a><span data-ttu-id="39152-131">Le posizioni di archiviazione distribuite sono chiamate distribuzioni</span><span class="sxs-lookup"><span data-stu-id="39152-131">Distributed storage locations are called distributions</span></span>
<span data-ttu-id="39152-132">Ogni posizione distribuita è una distribuzione.</span><span class="sxs-lookup"><span data-stu-id="39152-132">Each distributed location is called a distribution.</span></span> <span data-ttu-id="39152-133">Quando viene eseguita una query in parallelo, la parte di dati di hello ogni distribuzione esegue una query SQL.</span><span class="sxs-lookup"><span data-stu-id="39152-133">When a query runs in parallel, each distribution performs a SQL query on its portion of hello data.</span></span> <span data-ttu-id="39152-134">SQL Data Warehouse utilizza query di Database SQL toorun hello.</span><span class="sxs-lookup"><span data-stu-id="39152-134">SQL Data Warehouse uses SQL Database toorun hello query.</span></span> <span data-ttu-id="39152-135">Parallel Data Warehouse utilizza query hello toorun di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="39152-135">Parallel Data Warehouse uses SQL Server toorun hello query.</span></span> <span data-ttu-id="39152-136">Questa progettazione dell'architettura di condivisione è fondamentale tooachieving scalabilità orizzontale calcolo parallelo.</span><span class="sxs-lookup"><span data-stu-id="39152-136">This shared-nothing architecture design is fundamental tooachieving scale-out parallel computing.</span></span>

### <a name="can-i-view-hello-distributions"></a><span data-ttu-id="39152-137">È possibile visualizzare le distribuzioni di hello?</span><span class="sxs-lookup"><span data-stu-id="39152-137">Can I view hello distributions?</span></span>
<span data-ttu-id="39152-138">Ogni distribuzione presenta un ID di distribuzione ed è visibile nelle visualizzazioni di sistema che riguardano tooSQL Data Warehouse e Parallel Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="39152-138">Each distribution has a distribution ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span> <span data-ttu-id="39152-139">È possibile utilizzare le prestazioni delle query tootroubleshoot hello distribuzione ID e altri problemi.</span><span class="sxs-lookup"><span data-stu-id="39152-139">You can use hello distribution ID tootroubleshoot query performance and other problems.</span></span> <span data-ttu-id="39152-140">Per un elenco di viste di sistema hello, vedere hello [vista di sistema MPP](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="39152-140">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <a name="difference-between-a-distribution-and-a-compute-node"></a><span data-ttu-id="39152-141">Differenza tra una distribuzione e un nodo di calcolo</span><span class="sxs-lookup"><span data-stu-id="39152-141">Difference between a distribution and a Compute node</span></span>
<span data-ttu-id="39152-142">Una distribuzione è l'unità di base hello per l'archiviazione dei dati distribuiti e l'elaborazione di query parallele.</span><span class="sxs-lookup"><span data-stu-id="39152-142">A distribution is hello basic unit for storing distributed data and processing parallel queries.</span></span> <span data-ttu-id="39152-143">Le distribuzioni sono raggruppate in nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-143">Distributions are grouped into Compute nodes.</span></span> <span data-ttu-id="39152-144">Ogni nodo di calcolo tiene traccia di una o più distribuzioni.</span><span class="sxs-lookup"><span data-stu-id="39152-144">Each Compute node tracks one or more distributions.</span></span>  

* <span data-ttu-id="39152-145">Sistema della piattaforma Analitica utilizza nodi di calcolo come un componente fondamentale di funzionalità di scalabilità e l'architettura hardware hello.</span><span class="sxs-lookup"><span data-stu-id="39152-145">Analytics Platform System uses Compute nodes as a central component of hello hardware architecture and scale-out capabilities.</span></span> <span data-ttu-id="39152-146">Utilizza sempre le distribuzioni di otto per ogni nodo di calcolo, come illustrato nel diagramma hello per le tabelle hash distribuita.</span><span class="sxs-lookup"><span data-stu-id="39152-146">It always uses eight distributions per Compute node, as shown in hello diagram for hash-distributed tables.</span></span> <span data-ttu-id="39152-147">numero di nodi di calcolo, Hello e pertanto hello numero di distribuzioni, è determinato dal numero di hello dei nodi di calcolo che si acquistano per dispositivo hello.</span><span class="sxs-lookup"><span data-stu-id="39152-147">hello number of Compute nodes, and therefore hello number of distributions, is determined by hello number of Compute nodes you purchase for hello appliance.</span></span> <span data-ttu-id="39152-148">Ad esempio, se si acquistano otto nodi di calcolo, si avranno a disposizione 64 distribuzioni (8 nodi di calcolo x 8 distribuzioni/nodo).</span><span class="sxs-lookup"><span data-stu-id="39152-148">For example, if you purchase eight Compute nodes, you get 64 distributions (8 Compute nodes x 8 distributions/node).</span></span> 
* <span data-ttu-id="39152-149">SQL Data Warehouse ha un numero fisso di 60 distribuzioni e un numero variabile di nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-149">SQL Data Warehouse has a fixed number of 60 distributions and a flexible number of Compute nodes.</span></span> <span data-ttu-id="39152-150">nodi di calcolo Hello vengono implementati con risorse di elaborazione e archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="39152-150">hello Compute nodes are implemented with Azure computing and storage resources.</span></span> <span data-ttu-id="39152-151">numero di Hello di nodi di calcolo è possibile modificare il carico di lavoro di secondo toohello back-end del servizio e hello capacità di elaborazione (Dwu) specificato per data warehouse di hello.</span><span class="sxs-lookup"><span data-stu-id="39152-151">hello number of Compute nodes can change according toohello backend service workload and hello computing capacity (DWUs) you specify for hello data warehouse.</span></span> <span data-ttu-id="39152-152">Quando viene modificato il numero di hello di nodi di calcolo, modifica anche numero hello di distribuzioni per ogni nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-152">When hello number of Compute nodes changes, hello number of distributions per Compute node also changes.</span></span> 

### <a name="can-i-view-hello-compute-nodes"></a><span data-ttu-id="39152-153">È possibile visualizzare i nodi di calcolo hello?</span><span class="sxs-lookup"><span data-stu-id="39152-153">Can I view hello Compute nodes?</span></span>
<span data-ttu-id="39152-154">Ogni nodo di calcolo è un ID di nodo ed è visibile nelle visualizzazioni di sistema che riguardano tooSQL Data Warehouse e Parallel Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="39152-154">Each Compute node has a node ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span>  <span data-ttu-id="39152-155">È possibile visualizzare il nodo di calcolo hello cercando colonna node_id hello nelle viste di sistema i cui nomi iniziano con sys.pdw_nodes.</span><span class="sxs-lookup"><span data-stu-id="39152-155">You can see hello Compute node by looking for hello node_id column in system views whose names begin with sys.pdw_nodes.</span></span> <span data-ttu-id="39152-156">Per un elenco di viste di sistema hello, vedere hello [vista di sistema MPP](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="39152-156">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <span data-ttu-id="39152-157"><a name="Replicated"></a>Tabelle replicate</span><span class="sxs-lookup"><span data-stu-id="39152-157"><a name="Replicated"></a>Replicated Tables</span></span>
<span data-ttu-id="39152-158">Dispone di una tabella che viene replicata un completamente la copia della tabella hello archiviati in ciascun nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-158">A table that is replicated has a fully copy of hello table stored on each Compute node.</span></span> <span data-ttu-id="39152-159">La replica di una tabella rimuove i dati di tootransfer necessità di hello tra i nodi di calcolo prima di un'operazione join o aggregazione.</span><span class="sxs-lookup"><span data-stu-id="39152-159">Replicating a table removes hello need tootransfer data among Compute nodes before a join or aggregation.</span></span> <span data-ttu-id="39152-160">Le tabelle replicate solo sono applicabili con tabelle di piccole dimensioni a causa di hello spazio di archiviazione richiesto toostore hello completa della tabella in ogni nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-160">Replicated tables are only feasible with small tables because of hello extra storage required toostore hello full table on each compute node.</span></span>  

<span data-ttu-id="39152-161">Hello diagramma seguente mostra una tabella replicata archiviata in ogni nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-161">hello following diagram shows a replicated table that is stored on each Compute node.</span></span> <span data-ttu-id="39152-162">Per SQL Data Warehouse, tabella replicata hello è il database di distribuzione tooa completamente copiato in ogni nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-162">For SQL Data Warehouse, hello replicated table is fully copied tooa distribution database on each Compute node.</span></span> <span data-ttu-id="39152-163">Per Parallel Data Warehouse, tabella replicata hello viene memorizzata in tutti i dischi assegnati toohello del nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="39152-163">For Parallel Data Warehouse, hello replicated table is stored across all disks assigned toohello Compute node.</span></span>  <span data-ttu-id="39152-164">Questa strategia di archiviazione su disco viene implementata usando i filegroup di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="39152-164">This disk strategy is implemented by using SQL Server filegroups.</span></span>  

<span data-ttu-id="39152-165">![Tabella replicata](media/sql-data-warehouse-distributed-data/replicated-table.png "Tabella replicata")</span><span class="sxs-lookup"><span data-stu-id="39152-165">![Replicated table](media/sql-data-warehouse-distributed-data/replicated-table.png "Replicated table")</span></span> 

## <a name="next-steps"></a><span data-ttu-id="39152-166">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="39152-166">Next steps</span></span>
<span data-ttu-id="39152-167">tabelle toouse distribuiti in modo efficace, vedere [distribuzione nelle tabelle SQL Data Warehouse](sql-data-warehouse-tables-distribute.md)</span><span class="sxs-lookup"><span data-stu-id="39152-167">toouse distributed tables effectively, see [Distributing tables in SQL Data Warehouse](sql-data-warehouse-tables-distribute.md)</span></span>  

