---
title: Configurazione della diagnostica per i servizi cloud e le macchine virtuali di Azure | Documentazione Microsoft
description: Illustra come configurare le informazioni di diagnostica per il debug di servizi cloud e delle macchine virtuali di Azure in Visual Studio.
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 2516c0eb8ce470577731db9b844d5b9038465477
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="fea19-103">Configurazione della diagnostica per i servizi cloud e le macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="fea19-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="fea19-104">Per risolvere gli errori di un servizio cloud di Azure o di una macchina virtuale di Azure, è possibile configurare Diagnostica di Azure con maggiore semplicità tramite Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fea19-104">When you need to troubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="fea19-105">Diagnostica di Azure acquisisce i dati di sistema e i dati di registrazione nelle macchine virtuali e nelle istanze di macchine virtuali che eseguono il servizio cloud e trasferisce i dati all'account di archiviazione scelto.</span><span class="sxs-lookup"><span data-stu-id="fea19-105">Azure diagnostics captures system data and logging data on the virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="fea19-106">Per altre informazioni sulla registrazione di diagnostica in Azure, vedere [Abilitare la registrazione diagnostica per le app Web del Servizio app di Azure](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="fea19-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="fea19-107">Questo argomento illustra come abilitare e configurare la Diagnostica di Azure in Visual Studio, prima e dopo la distribuzione, oltre che nelle macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-107">This topic shows you how to enable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="fea19-108">Illustra anche come selezionare i tipi di informazioni di diagnostica da raccogliere e come visualizzare le informazioni dopo la raccolta.</span><span class="sxs-lookup"><span data-stu-id="fea19-108">It also shows you how to select the types of diagnostics information to collect and how to view the information after it's collected.</span></span>

<span data-ttu-id="fea19-109">È possibile configurare la Diagnostica di Azure nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="fea19-109">You can configure Azure Diagnostics in the following ways:</span></span>

* <span data-ttu-id="fea19-110">È possibile modificare le impostazioni di configurazione della diagnostica tramite la finestra di dialogo **Configurazione di diagnostica** in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fea19-110">You can change diagnostics configuration settings through the **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="fea19-111">Le impostazioni vengono salvate in un file denominato diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 o versioni precedenti).</span><span class="sxs-lookup"><span data-stu-id="fea19-111">The settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="fea19-112">In alternativa, è possibile modificare direttamente il file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-112">Alternatively, you can directly modify the configuration file.</span></span> <span data-ttu-id="fea19-113">Se si aggiorna manualmente il file, le modifiche alla configurazione verranno applicate alla successiva distribuzione del servizio cloud in Azure alla successiva esecuzione del servizio nell'emulatore.</span><span class="sxs-lookup"><span data-stu-id="fea19-113">If you manually update the file, the configuration changes will take effect the next time you deploy the cloud service to Azure or run the service in the emulator.</span></span>
* <span data-ttu-id="fea19-114">Usare **Cloud Explorer** o **Esplora server** in Visual Studio per modificare le impostazioni di diagnostica per un servizio cloud o una macchina virtuale in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="fea19-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio to change the diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="fea19-115">Modifiche alla diagnostica di Azure 2.6</span><span class="sxs-lookup"><span data-stu-id="fea19-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="fea19-116">Sono state apportate le modifiche seguenti ai progetti Azure SDK 2.6 in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fea19-116">For Azure SDK 2.6 projects in Visual Studio, the following changes were made.</span></span> <span data-ttu-id="fea19-117">Queste modifiche sono applicabili anche alle versioni successive di Azure SDK.</span><span class="sxs-lookup"><span data-stu-id="fea19-117">(These changes also apply to later versions of Azure SDK.)</span></span>

* <span data-ttu-id="fea19-118">L'emulatore locale supporta ora la diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-118">The local emulator now supports diagnostics.</span></span> <span data-ttu-id="fea19-119">È quindi possibile raccogliere dati di diagnostica e assicurare che l'applicazione crei le tracce corrette durante lo sviluppo e il testing in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fea19-119">This means you can collect diagnostics data and ensure your application is creating the right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="fea19-120">La stringa di connessione `UseDevelopmentStorage=true` abilita la raccolta di dati di diagnostica durante l'esecuzione del progetto servizio cloud in Visual Studio mediante l'emulatore di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-120">The connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using the Azure storage emulator.</span></span> <span data-ttu-id="fea19-121">Tutti i dati di diagnostica vengono raccolti nell'account di archiviazione (archivio di sviluppo).</span><span class="sxs-lookup"><span data-stu-id="fea19-121">All diagnostics data is collected in the (Development Storage) storage account.</span></span>
* <span data-ttu-id="fea19-122">La stringa di connessione dell'account di archiviazione di diagnostica (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) viene archiviata ancora una volta nel file di configurazione (.cscfg) del servizio.</span><span class="sxs-lookup"><span data-stu-id="fea19-122">The diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in the service configuration (.cscfg) file.</span></span> <span data-ttu-id="fea19-123">In Azure SDK 2.5 l'account di archiviazione di diagnostica viene specificato nel file diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="fea19-123">In Azure SDK 2.5 the diagnostics storage account was specified in the diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="fea19-124">Il funzionamento della stringa di connessione presenta alcune differenze sostanziali tra Azure SDK 2.4 e versioni precedenti e Azure SDK 2.6 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="fea19-124">There are some notable differences between how the connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="fea19-125">In Azure SDK 2.4 e versioni precedenti la stringa di connessione viene usata come runtime dal plug-in di diagnostica per ottenere le informazioni sull'account di archiviazione per il trasferimento dei log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-125">In Azure SDK 2.4 and earlier, the connection string was used as a runtime by the diagnostics plugin to get the storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="fea19-126">In Azure SDK 2.6 e versioni successive la stringa di connessione di diagnostica viene usata da Visual Studio per configurare l'estensione di diagnostica con le informazioni appropriate sull'account di archiviazione durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-126">In Azure SDK 2.6 and later, the diagnostics connection string is used by Visual Studio to configure the diagnostics extension with the appropriate storage account information during publishing.</span></span> <span data-ttu-id="fea19-127">La stringa di connessione consente di definire diversi account di archiviazione per diverse configurazioni del servizio, che verranno usate da Visual Studio durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-127">The connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="fea19-128">Poiché, tuttavia, il plug-in di diagnostica non è più disponibile (dopo Azure SDK 2.5), il solo file .cscfg non è in grado di abilitare l'estensione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-128">However, because the diagnostics plugin is no longer available (after Azure SDK 2.5), the .cscfg file by itself can't enable the Diagnostics Extension.</span></span> <span data-ttu-id="fea19-129">È necessario abilitare l'estensione separatamente tramite strumenti quali Visual Studio o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fea19-129">You have to enable the extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="fea19-130">Per semplificare il processo di configurazione dell'estensione di diagnostica con PowerShell, l'output del pacchetto da Visual Studio contiene anche il codice XML di configurazione pubblica per l'estensione di diagnostica per ogni ruolo.</span><span class="sxs-lookup"><span data-stu-id="fea19-130">To simplify the process of configuring the diagnostics extension with PowerShell, the package output from Visual Studio also contains the public configuration XML for the diagnostics extension for each role.</span></span> <span data-ttu-id="fea19-131">Visual Studio usa la stringa di connessione di diagnostica per popolare le informazioni sull'account di archiviazione presenti nella configurazione pubblica.</span><span class="sxs-lookup"><span data-stu-id="fea19-131">Visual Studio uses the diagnostics connection string to populate the storage account information present in the public configuration.</span></span> <span data-ttu-id="fea19-132">I file di configurazione pubblica vengono creati nella cartella Extensions e seguono il modello PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="fea19-132">The public config files are created in the Extensions folder and follow the pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="fea19-133">Eventuali distribuzioni basate su PowerShell possono usare questo modello per il mapping di ogni configurazione a un ruolo.</span><span class="sxs-lookup"><span data-stu-id="fea19-133">Any PowerShell based deployments can use this pattern to map each configuration to a Role.</span></span>
* <span data-ttu-id="fea19-134">La stringa di connessione nel file con estensione cscfg viene usata anche dal [portale di Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040) per accedere ai dati di diagnostica, in modo da consentirne la visualizzazione nella scheda **Monitoraggio** . La stringa di connessione è necessaria per configurare il servizio, in modo da visualizzare i dati dettagliati del monitoraggio nel portale.</span><span class="sxs-lookup"><span data-stu-id="fea19-134">The connection string in the .cscfg file is also used by the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) to access the diagnostics data so it can appear in the **Monitoring** tab. The connection string is needed to configure the service to show verbose monitoring data in the portal.</span></span>

## <a name="migrating-projects-to-azure-sdk-26-and-later"></a><span data-ttu-id="fea19-135">Migrazione di progetti in Azure SDK 2.6 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="fea19-135">Migrating projects to Azure SDK 2.6 and later</span></span>
<span data-ttu-id="fea19-136">Quando si esegue la migrazione da Azure SDK 2.5 ad Azure SDK 2.6 o versioni successivi, eventuali account di archiviazione di diagnostica specificati nel file con estensione wadcfgx rimarranno in tale posizione.</span><span class="sxs-lookup"><span data-stu-id="fea19-136">When migrating from Azure SDK 2.5 to Azure SDK 2.6 or later, if you had a diagnostics storage account specified in the .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="fea19-137">Per sfruttare la flessibilità di utilizzo di account di archiviazione diversi per configurazioni di archiviazione diverse, è necessario aggiungere manualmente la stringa di connessione al progetto.</span><span class="sxs-lookup"><span data-stu-id="fea19-137">To take advantage of the flexibility of using different storage accounts for different storage configurations, you'll have to manually add the connection string to your project.</span></span> <span data-ttu-id="fea19-138">Se si sta eseguendo la migrazione di un progetto da Azure SDK 2.4 o versioni precedenti ad Azure SDK 2.6, le stringhe di connessione di diagnostica vengono mantenute.</span><span class="sxs-lookup"><span data-stu-id="fea19-138">If you're migrating a project from Azure SDK 2.4 or earlier to Azure SDK 2.6, then the diagnostics connection strings are preserved.</span></span> <span data-ttu-id="fea19-139">Occorre tuttavia notare le modifiche relative al modo in cui le stringhe di connessione vengono gestite in Azure SDK 2.6, come illustrato nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="fea19-139">However, please note the changes in how connection strings are treated in Azure SDK 2.6 as specified in the previous section.</span></span>

### <a name="how-visual-studio-determines-the-diagnostics-storage-account"></a><span data-ttu-id="fea19-140">Modalità di determinazione dell'account di archiviazione di diagnostica da parte di Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fea19-140">How Visual Studio determines the diagnostics storage account</span></span>
* <span data-ttu-id="fea19-141">Se nel file .cscfg viene specificata una stringa di connessione di diagnostica, Visual Studio la userà per configurare l'estensione di diagnostica durante la pubblicazione e durante la generazione dei file XML di configurazione pubblica nel corso della creazione dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="fea19-141">If a diagnostics connection string is specified in the .cscfg file, Visual Studio uses it to configure the diagnostics extension when publishing, and when generating the public configuration xml files during packaging.</span></span>
* <span data-ttu-id="fea19-142">Se nel file .cscfg non viene specificata alcuna stringa di connessione di diagnostica, Visual Studio userà di nuovo l'account di archiviazione specificato nel file con estensione wadcfgx per configurare l'estensione di diagnostica durante la pubblicazione e durante la generazione dei file XML di configurazione pubblica nel corso della creazione dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="fea19-142">If no diagnostics connection string is specified in the .cscfg file, then Visual Studio falls back to using the storage account specified in the .wadcfgx file to configure the diagnostics extension when publishing, and generating the public configuration xml files when packaging.</span></span>
* <span data-ttu-id="fea19-143">La stringa di connessione di diagnostica nel file .cscfg ha la priorità rispetto all'account di archiviazione specificato nel file con estensione wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="fea19-143">The diagnostics connection string in the .cscfg file takes precedence over the storage account in the .wadcfgx file.</span></span> <span data-ttu-id="fea19-144">Se nel file .cscfg viene specificata una stringa di connessione di diagnostica, Visual Studio userà tale stringa e ignorerà l'account di archiviazione specificato nel file con estensione wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="fea19-144">If a diagnostics connection string is specified in the .cscfg file, then Visual Studio uses that and ignores the storage account in .wadcfgx.</span></span>

### <a name="what-does-the-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="fea19-145">Funzione della casella di controllo "Aggiorna le stringhe di connessione dell'archivio di sviluppo</span><span class="sxs-lookup"><span data-stu-id="fea19-145">What does the "Update development storage connection strings…"</span></span> <span data-ttu-id="fea19-146">…"</span><span class="sxs-lookup"><span data-stu-id="fea19-146">checkbox do?</span></span>
<span data-ttu-id="fea19-147">La casella di controllo **Aggiorna le stringhe di connessione dell'archivio di sviluppo per la diagnostica e la memorizzazione nella cache con le credenziali dell'account di archiviazione di Microsoft Azure quando si esegue la pubblicazione in Microsoft Azure** offre un modo semplice per aggiornare eventuali stringhe di connessione dell'account di archiviazione con l'account di archiviazione di Azure specificato durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-147">The checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing to Microsoft Azure** gives you a convenient way to update any development storage account connection strings with the Azure storage account specified during publishing.</span></span>

<span data-ttu-id="fea19-148">Ad esempio, si supponga di selezionare questa casella di controllo e che la stringa di connessione di diagnostica specifichi `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="fea19-148">For example, suppose you select this checkbox and the diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="fea19-149">Quando si pubblica il progetto in Azure, Visual Studio aggiornerà automaticamente la stringa di connessione di diagnostica con l'account di archiviazione specificato nella Pubblicazione guidata.</span><span class="sxs-lookup"><span data-stu-id="fea19-149">When you publish the project to Azure, Visual Studio will automatically update the diagnostics connection string with the storage account you specified in the Publish wizard.</span></span> <span data-ttu-id="fea19-150">Se, tuttavia, un account di archiviazione effettivo è stato specificato come stringa di connessione di diagnostica, verrà usato invece tale account.</span><span class="sxs-lookup"><span data-stu-id="fea19-150">However, if a real storage account was specified as the diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="fea19-151">Differenze della funzionalità di diagnostica tra Azure SDK 2.4 e versioni precedenti e Azure SDK 2.5 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="fea19-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="fea19-152">Se si aggiorna il progetto da Azure SDK 2.4 ad Azure SDK 2.5 o versioni successive, è consigliabile ricordare le differenze seguenti a livello di funzionalità di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-152">If you're upgrading your project from Azure SDK 2.4 to Azure SDK 2.5 or later, you should bear in mind the following diagnostics functionality differences.</span></span>

* <span data-ttu-id="fea19-153">**Le API di configurazione sono deprecate** : la configurazione a livello di codice della diagnostica è disponibile in Azure SDK 2.4 o versioni precedenti, ma è deprecata in Azure SDK 2.5 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="fea19-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="fea19-154">Se la configurazione di diagnostica è attualmente definita nel codice, sarà necessario riconfigurare completamente tali impostazioni nel progetto sottoposto a migrazione, in modo da mantenere il funzionamento della diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-154">If your diagnostics configuration is currently defined in code, you'll need to reconfigure those settings from scratch in the migrated project in order for diagnostics to keep working.</span></span> <span data-ttu-id="fea19-155">Il file di configurazione della diagnostica per Azure SDK 2.4 è diagnostics.wadcfg, mentre è diagnostics.wadcfgx per Azure SDK 2.5 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="fea19-155">The diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="fea19-156">**La diagnostica per le applicazioni del servizio cloud può essere configurata solo a livello di ruolo, non a livello di istanza.**</span><span class="sxs-lookup"><span data-stu-id="fea19-156">**Diagnostics for cloud service applications can only be configured at the role level, not at the instance level.**</span></span>
* <span data-ttu-id="fea19-157">**Ogni volta che si distribuisce l'app, le configurazioni di diagnostica vengono aggiornate** : ciò può provocare problemi di parità se si modifica la configurazione di diagnostica da Esplora server e quindi si ridistribuisce l'app.</span><span class="sxs-lookup"><span data-stu-id="fea19-157">**Every time you deploy your app, the diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="fea19-158">**In Azure SDK 2.5 e versioni successive i dump di arresto anomalo del sistema sono configurati nel file di configurazione, non nel codice** : se i dump di arresto anomalo del sistema sono configurati nel codice, sarà necessario trasferire manualmente la configurazione dal codice al file di configurazione, perché i dump di arresto anomalo del sistema non vengono trasferiti durante la migrazione in Azure SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="fea19-158">**In Azure SDK 2.5 and later, crash dumps are configured in the diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have to manually transfer the configuration from code to the configuration file, because the crash dumps aren't transferred during the migration to Azure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="fea19-159">Abilitare la diagnostica nei progetti di servizi cloud prima della distribuzione</span><span class="sxs-lookup"><span data-stu-id="fea19-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="fea19-160">In Visual Studio è possibile scegliere di raccogliere i dati di diagnostica per i ruoli eseguiti in Azure quando si esegue il servizio nell'emulatore prima di distribuirlo.</span><span class="sxs-lookup"><span data-stu-id="fea19-160">In Visual Studio, you can choose to collect diagnostics data for roles that run in Azure, when you run the service in the emulator before deploying it.</span></span> <span data-ttu-id="fea19-161">Tutte le modifiche apportate alle impostazioni di diagnostica in Visual Studio vengono salvate nel file di configurazione diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="fea19-161">All changes to diagnostics settings in Visual Studio are saved in the diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="fea19-162">Queste impostazioni di configurazione specificano l'account di archiviazione in cui i dati di diagnostica vengono salvati quando si distribuisce il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="fea19-162">These configuration settings specify the storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="to-enable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="fea19-163">Per abilitare la diagnostica in Visual Studio prima della distribuzione</span><span class="sxs-lookup"><span data-stu-id="fea19-163">To enable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="fea19-164">Dal menu di scelta rapida per il ruolo desiderato scegliere **Proprietà**, quindi selezionare la scheda **Configurazione** nella finestra **Proprietà** del ruolo.</span><span class="sxs-lookup"><span data-stu-id="fea19-164">On the shortcut menu for the role that interests you, choose **Properties**, and then choose the **Configuration** tab in the role’s **Properties** window.</span></span>
2. <span data-ttu-id="fea19-165">Nella sezione **Diagnostica** verificare che la casella di controllo **Abilita diagnostica** sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="fea19-165">In the **Diagnostics** section, make sure that the **Enable Diagnostics** check box is selected.</span></span>
   
    ![Accesso all'opzione Abilita diagnostica](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="fea19-167">Scegliere il pulsante con i puntini di sospensione (…) per specificare l'account di archiviazione in cui si vogliono archiviare i dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-167">Choose the ellipsis (…) button to specify the storage account where you want the diagnostics data to be stored.</span></span> <span data-ttu-id="fea19-168">L'account di archiviazione scelto corrisponderà al percorso di archiviazione dei dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-168">The storage account you choose will be the location where diagnostics data is stored.</span></span>
   
    ![Specificare l'account di archiviazione da usare](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="fea19-170">Nella finestra di dialogo **Crea stringa di connessione a risorsa di archiviazione** specificare se ci si vuole connettere usando l'emulatore di archiviazione di Azure, una sottoscrizione di Azure o credenziali immesse manualmente.</span><span class="sxs-lookup"><span data-stu-id="fea19-170">In the **Create Storage Connection String** dialog box, specify whether you want to connect using the Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Finestra di dialogo Account di archiviazione](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="fea19-172">Se si sceglie l'opzione Emulatore di archiviazione di Microsoft Azure, la stringa di connessione sarò impostata su UseDevelopmentStorage=true.</span><span class="sxs-lookup"><span data-stu-id="fea19-172">If you choose the Microsoft Azure Storage Emulator option, the connection string is set to UseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="fea19-173">Se si sceglie l'opzione relativa alla propria sottoscrizione, sarà possibile selezionare la sottoscrizione di Azure da usare e il nome dell'account.</span><span class="sxs-lookup"><span data-stu-id="fea19-173">If you choose the Your subscription option, you can choose the Azure subscription you want to use and the account name.</span></span> <span data-ttu-id="fea19-174">Per gestire le sottoscrizioni di Azure, è possibile usare il pulsante Manage Accounts (Gestisci account).</span><span class="sxs-lookup"><span data-stu-id="fea19-174">You can choose the Manage Accounts button to manage your Azure subscriptions.</span></span>
   * <span data-ttu-id="fea19-175">Se si sceglie l'opzione Credenziali immesse manualmente, verrà richiesta l'immissione del nome e della chiave dell'account di Azure da usare.</span><span class="sxs-lookup"><span data-stu-id="fea19-175">If you choose the Manually entered credentials option, you're prompted to enter the name and key of the Azure account you want to use.</span></span>
5. <span data-ttu-id="fea19-176">Scegliere il pulsante **Configura** per visualizzare la finestra di dialogo **Configurazione di diagnostica**.</span><span class="sxs-lookup"><span data-stu-id="fea19-176">Choose the **Configure** button to view the **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="fea19-177">Ogni scheda, ad eccezione di **Generale** e **Directory log** rappresenta un'origine di dati di diagnostica che è possibile raccogliere.</span><span class="sxs-lookup"><span data-stu-id="fea19-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="fea19-178">La scheda predefinita, **Generale**, offre le opzioni di raccolta di dati di diagnostica seguenti: **Solo errori**, **Tutte le informazioni** e **Personalizza piano**.</span><span class="sxs-lookup"><span data-stu-id="fea19-178">The default tab, **General**, offers you the following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="fea19-179">L'opzione predefinita, **Solo errori**, richiede la quantità minima di spazio di archiviazione, perché non trasferisce messaggi di avviso o di traccia.</span><span class="sxs-lookup"><span data-stu-id="fea19-179">The default option, **Errors only**, takes the least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="fea19-180">L'opzione Tutte le informazioni trasferisce la quantità più elevata di informazioni ed è quindi l'opzione più costosa in termini di risorse di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-180">The All information option transfers the most information and is, therefore, the most expensive option in terms of storage.</span></span>
   
    ![Abilitare la diagnostica e la configurazione di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="fea19-182">Per questo esempio selezionare l'opzione **Personalizza piano** , in modo da personalizzare i dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="fea19-182">For this example, select the **Custom plan** option so you can customize the data collected.</span></span>
7. <span data-ttu-id="fea19-183">La casella **Quota disco in MB** specifica la quantità di spazio da allocare nell'account di archiviazione per i dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-183">The **Disk Quota in MB** box specifies how much space you want to allocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="fea19-184">Se si vuole, è possibile cambiare il valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="fea19-184">You can change the default value if you want.</span></span>
8. <span data-ttu-id="fea19-185">In ogni scheda dei dati di diagnostica da raccogliere selezionare la rispettiva casella di controllo **Abilita il trasferimento di <log type>**.</span><span class="sxs-lookup"><span data-stu-id="fea19-185">On each tab of diagnostics data you want to collect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="fea19-186">Ad esempio, per raccogliere i log applicazioni, selezionare la casella di controllo **Abilita il trasferimento di log applicazioni** nella scheda **Log applicazioni**. Specificare anche eventuali altre informazioni richieste da ogni tipo di dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-186">For example, if you want to collect application logs, select the **Enable transfer of Application Logs** check box on the **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="fea19-187">Per informazioni sulla configurazione di ogni scheda, vedere la sezione **Configurare le origini dati di diagnostica** più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="fea19-187">See the section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="fea19-188">Dopo l'abilitazione della raccolta di tutti i dati di diagnostica desiderati, fare clic su **OK** .</span><span class="sxs-lookup"><span data-stu-id="fea19-188">After you’ve enabled collection of all the diagnostics data you want, choose the **OK** button.</span></span>
10. <span data-ttu-id="fea19-189">Eseguire il progetto di servizio cloud di Azure in Visual Studio come di consueto.</span><span class="sxs-lookup"><span data-stu-id="fea19-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="fea19-190">Quando si usa l'applicazione, le informazioni di log abilitate vengono salvate nell'account di archiviazione di Azure specificato.</span><span class="sxs-lookup"><span data-stu-id="fea19-190">As you use your application, the log information that you enabled is saved to the Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="fea19-191">Abilitare la diagnostica nelle macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="fea19-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="fea19-192">In Visual Studio è possibile scegliere di raccogliere i dati di diagnostica per le macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-192">In Visual Studio, you can choose to collect diagnostics data for Azure virtual machines.</span></span>

### <a name="to-enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="fea19-193">Per abilitare la diagnostica nelle macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="fea19-193">To enable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="fea19-194">In **Esplora server**scegliere il nodo di Azure e quindi connettersi alla sottoscrizione di Azure, se non si è già connessi.</span><span class="sxs-lookup"><span data-stu-id="fea19-194">In **Server Explorer**, choose the Azure node and then connect to your Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="fea19-195">Espandere il nodo **Macchine virtuali** .</span><span class="sxs-lookup"><span data-stu-id="fea19-195">Expand the **Virtual Machines** node.</span></span> <span data-ttu-id="fea19-196">È possibile creare una nuova macchina virtuale o selezionare una macchina virtuale già esistente.</span><span class="sxs-lookup"><span data-stu-id="fea19-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="fea19-197">Dal menu di scelta rapida per la macchina virtuale desiderata scegliere **Configura**.</span><span class="sxs-lookup"><span data-stu-id="fea19-197">On the shortcut menu for the virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="fea19-198">Verrà visualizzata la finestra di dialogo di configurazione della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="fea19-198">This shows the virtual machine configuration dialog box.</span></span>
   
    ![Configurazione di una macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="fea19-200">Se non è già installata, aggiungere l'estensione Microsoft Monitoring Agent Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="fea19-200">If it's not already installed, add the Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="fea19-201">Questa estensione consente di raccogliere dati di diagnostica per la macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-201">This extension lets you gather diagnostics data for the Azure virtual machine.</span></span> <span data-ttu-id="fea19-202">Nell'elenco Estensioni installate scegliere Microsoft Monitoring Agent Diagnostics dal menu a discesa Seleziona un'estensione disponibile.</span><span class="sxs-lookup"><span data-stu-id="fea19-202">In the Installed Extensions list, choose the Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Installazione di un'estensione di macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="fea19-204">Sono disponibili altre estensioni di diagnostica per le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="fea19-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="fea19-205">Per altre informazioni, vedere Estensioni VM e funzionalità di Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="fea19-206">Scegliere il pulsante **Aggiungi** per aggiungere l'estensione e visualizzare la rispettiva finestra di dialogo **Configurazione di diagnostica**.</span><span class="sxs-lookup"><span data-stu-id="fea19-206">Choose the **Add** button to add the extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="fea19-207">Fare clic su **Configura** per specificare un account di archiviazione e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="fea19-207">Choose the **Configure** button to specify a storage account and then choose the **OK** button.</span></span>
   
    <span data-ttu-id="fea19-208">Ogni scheda, ad eccezione di **Generale** e **Directory log** rappresenta un'origine di dati di diagnostica che è possibile raccogliere.</span><span class="sxs-lookup"><span data-stu-id="fea19-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Abilitare la diagnostica e la configurazione di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="fea19-210">La scheda predefinita, **Generale**, offre le opzioni di raccolta di dati di diagnostica seguenti: **Solo errori**, **Tutte le informazioni** e **Personalizza piano**.</span><span class="sxs-lookup"><span data-stu-id="fea19-210">The default tab, **General**, offers you the following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="fea19-211">L'opzione predefinita, **Solo errori**, richiede la quantità minima di spazio di archiviazione, perché non trasferisce messaggi di avviso o di traccia.</span><span class="sxs-lookup"><span data-stu-id="fea19-211">The default option, **Errors only**, takes the least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="fea19-212">L'opzione **Tutte le informazioni** trasferisce la quantità più elevata di informazioni ed è quindi l'opzione più costosa in termini di risorse di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-212">The **All information** option transfers the most information and is, therefore, the most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="fea19-213">Per questo esempio selezionare l'opzione **Personalizza piano** , in modo da personalizzare i dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="fea19-213">For this example, select the **Custom plan** option so you can customize the data collected.</span></span>
8. <span data-ttu-id="fea19-214">La casella **Quota disco in MB** specifica la quantità di spazio da allocare nell'account di archiviazione per i dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-214">The **Disk Quota in MB** box specifies how much space you want to allocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="fea19-215">Se si vuole, è possibile cambiare il valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="fea19-215">You can change the default value if you want.</span></span>
9. <span data-ttu-id="fea19-216">In ogni scheda dei dati di diagnostica da raccogliere selezionare la rispettiva casella di controllo **Abilita il trasferimento di <log type>**.</span><span class="sxs-lookup"><span data-stu-id="fea19-216">On each tab of diagnostics data you want to collect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="fea19-217">Ad esempio, per raccogliere i log applicazioni, selezionare la casella di controllo **Abilita il trasferimento di log applicazioni** nella scheda **Log applicazioni**. Specificare anche eventuali altre informazioni richieste da ogni tipo di dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-217">For example, if you want to collect application logs, select the **Enable transfer of Application Logs** check box on the **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="fea19-218">Per informazioni sulla configurazione di ogni scheda, vedere la sezione **Configurare le origini dati di diagnostica** più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="fea19-218">See the section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="fea19-219">Dopo l'abilitazione della raccolta di tutti i dati di diagnostica desiderati, fare clic su **OK** .</span><span class="sxs-lookup"><span data-stu-id="fea19-219">After you’ve enabled collection of all the diagnostics data you want, choose the **OK** button.</span></span>
11. <span data-ttu-id="fea19-220">Salvare il progetto aggiornato.</span><span class="sxs-lookup"><span data-stu-id="fea19-220">Save the updated project.</span></span>
    
     <span data-ttu-id="fea19-221">Nella finestra **Log attività di Microsoft Azure** verrà visualizzato un messaggio relativo al completamento dell'aggiornamento della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="fea19-221">You'll see a message in the **Microsoft Azure Activity Log** window that the virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="fea19-222">Configurare le origini dati di diagnostica</span><span class="sxs-lookup"><span data-stu-id="fea19-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="fea19-223">Dopo l'abilitazione della raccolta di dati di diagnostica, è possibile scegliere esattamente le origini dati da raccogliere e le informazioni raccolte.</span><span class="sxs-lookup"><span data-stu-id="fea19-223">After you enable diagnostics data collection, you can choose exactly what data sources you want to collect and what information is collected.</span></span> <span data-ttu-id="fea19-224">L'elenco seguente include le schede della finestra di dialogo **Configurazione di diagnostica** e informazioni sul significato di ogni opzione di configurazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-224">The following is a list of tabs in the **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="fea19-225">Log applicazioni</span><span class="sxs-lookup"><span data-stu-id="fea19-225">Application logs</span></span>
<span data-ttu-id="fea19-226">**Application logs** includono informazioni di diagnostica prodotte da un'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="fea19-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="fea19-227">Se, ad esempio, si vogliono acquisire log applicazioni, selezionare la casella di controllo **Abilita il trasferimento di log applicazioni** .</span><span class="sxs-lookup"><span data-stu-id="fea19-227">If you want to capture application logs, select the **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="fea19-228">È possibile aumentare o ridurre il numero di minuti per il trasferimento dei log applicazioni all'account di archiviazione cambiando il valore **Periodo di trasferimento (min)** .</span><span class="sxs-lookup"><span data-stu-id="fea19-228">You can increase or decrease the number of minutes when the application logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="fea19-229">È anche possibile cambiare la quantità di informazioni acquisite nel log, impostando il valore Livello log.</span><span class="sxs-lookup"><span data-stu-id="fea19-229">You can also change the amount of information captured in the log by setting the Log level value.</span></span> <span data-ttu-id="fea19-230">Ad esempio, è possibile scegliere **Dettagliato** per ottenere più informazioni oppure **Critico** per acquisire solo gli errori critici.</span><span class="sxs-lookup"><span data-stu-id="fea19-230">For example, you can choose **Verbose** to get more information or choose **Critical** to capture only critical errors.</span></span> <span data-ttu-id="fea19-231">Se è disponibile un provider di diagnostica specifico che genera log applicazioni, sarà possibile acquisirli aggiungendo il GUID alla casella **GUID provider** .</span><span class="sxs-lookup"><span data-stu-id="fea19-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding the provider’s GUID to the **Provider GUID** box.</span></span>

  ![Log applicazioni](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="fea19-233">Per altre informazioni sui log applicazioni, vedere [Abilitare la registrazione diagnostica per le app Web del Servizio app di Azure](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="fea19-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="fea19-234">Registri eventi di Windows</span><span class="sxs-lookup"><span data-stu-id="fea19-234">Windows event logs</span></span>
<span data-ttu-id="fea19-235">Per acquisire log eventi di Windows, selezionare la casella di controllo **Abilita il trasferimento dei log eventi di Windows** .</span><span class="sxs-lookup"><span data-stu-id="fea19-235">If you want to capture Windows event logs, select the **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="fea19-236">È possibile aumentare o ridurre il numero di minuti per il trasferimento dei log eventi all'account di archiviazione cambiando il valore **Periodo di trasferimento (min)** .</span><span class="sxs-lookup"><span data-stu-id="fea19-236">You can increase or decrease the number of minutes when the event logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="fea19-237">Selezionare le caselle di controllo per i tipi di eventi da tracciare.</span><span class="sxs-lookup"><span data-stu-id="fea19-237">Select the check boxes for the types of events that you want to track.</span></span>

  ![Log eventi](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="fea19-239">Se si usa Azure SDK 2.6 o versioni successive e si vuole specificare un'origine dati personalizzata, immetterla nella casella di testo **<Data source name>**, quindi scegliere il pulsante **Aggiungi** accanto alla casella.</span><span class="sxs-lookup"><span data-stu-id="fea19-239">If you're using Azure SDK 2.6 or later and want to specify a custom data source, enter it in the **<Data source name>** text box and then choose the **Add** button next to it.</span></span> <span data-ttu-id="fea19-240">L'origine dati viene aggiunta al file diagnostics.cfcfg.</span><span class="sxs-lookup"><span data-stu-id="fea19-240">The data source is added to the diagnostics.cfcfg file.</span></span>

<span data-ttu-id="fea19-241">Se si usa Azure SDK 2.5 e si vuole specificare un'origine dati personalizzata, sarà possibile aggiungerla alla sezione `WindowsEventLog` del file diagnostics.wadcfgx, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="fea19-241">If you're using Azure SDK 2.5 and want to specify a custom data source, you can add it to the `WindowsEventLog` section of the diagnostics.wadcfgx file, such as in the following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="fea19-242">Contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="fea19-242">Performance counters</span></span>
<span data-ttu-id="fea19-243">Le informazioni sui contatori delle prestazioni possono semplificare l'individuazione dei colli di bottiglia e l'ottimizzazione delle prestazioni del sistema e delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="fea19-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="fea19-244">Per altre informazioni, vedere [Creare e usare contatori di prestazioni in un'applicazione Azure](https://msdn.microsoft.com/library/azure/hh411542.aspx) .</span><span class="sxs-lookup"><span data-stu-id="fea19-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="fea19-245">Per acquisire contatori delle prestazioni, selezionare la casella di controllo **Abilita il trasferimento di contatori delle prestazioni** .</span><span class="sxs-lookup"><span data-stu-id="fea19-245">If you want to capture performance counters, select the **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="fea19-246">È possibile aumentare o ridurre il numero di minuti per il trasferimento dei log eventi all'account di archiviazione cambiando il valore **Periodo di trasferimento (min)** .</span><span class="sxs-lookup"><span data-stu-id="fea19-246">You can increase or decrease the number of minutes when the event logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="fea19-247">Selezionare le caselle di controllo per i contatori delle prestazioni da tracciare.</span><span class="sxs-lookup"><span data-stu-id="fea19-247">Select the check boxes for the performance counters that you want to track.</span></span>

  ![Contatori delle prestazioni](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="fea19-249">Per tenere traccia di un contatore delle prestazioni non incluso nell'elenco, immetterlo usando la sintassi suggerita, quindi scegliere **Aggiungi** .</span><span class="sxs-lookup"><span data-stu-id="fea19-249">To track a performance counter that isn’t listed, enter it by using the suggested syntax and then choose the **Add** button.</span></span> <span data-ttu-id="fea19-250">Il sistema operativo della macchina virtuale determina i contatori delle prestazioni di cui è possibile tenere traccia. Per altre informazioni sulla sintassi, vedere [Specificare un percorso del contatore](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="fea19-250">The operating system on the virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="fea19-251">Log infrastruttura</span><span class="sxs-lookup"><span data-stu-id="fea19-251">Infrastructure logs</span></span>
<span data-ttu-id="fea19-252">Per acquisire log infrastruttura, che includono informazioni sull'infrastruttura di diagnostica di Azure, il modulo RemoteAccess e il modulo RemoteForwarder, selezionare la casella di controllo **Abilita il trasferimento dei log dell'infrastruttura di diagnostica** .</span><span class="sxs-lookup"><span data-stu-id="fea19-252">If you want to capture infrastructure logs, which contain information about the Azure diagnostic infrastructure, the RemoteAccess module, and the RemoteForwarder module, select the **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="fea19-253">È possibile aumentare o ridurre il numero di minuti per il trasferimento dei log all'account di archiviazione modificando il valore Periodo di trasferimento (min).</span><span class="sxs-lookup"><span data-stu-id="fea19-253">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the Transfer Period (min) value.</span></span>

  ![Log dell'infrastruttura di diagnostica](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="fea19-255">Per altre informazioni, vedere [Raccogliere dati di registrazione usando Diagnostica Azure](https://msdn.microsoft.com/library/azure/gg433048.aspx) .</span><span class="sxs-lookup"><span data-stu-id="fea19-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="fea19-256">Directory log</span><span class="sxs-lookup"><span data-stu-id="fea19-256">Log directories</span></span>
<span data-ttu-id="fea19-257">Per acquisire directory di log, che includono i dati raccolti dalle directory di log per richieste di Internet Information Services (IIS), richieste non riuscite o cartelle scelte, selezionare la casella di controllo **Abilita il trasferimento di directory di log** .</span><span class="sxs-lookup"><span data-stu-id="fea19-257">If you want to capture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select the **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="fea19-258">È possibile aumentare o ridurre il numero di minuti per il trasferimento dei log all'account di archiviazione modificando il valore **Periodo di trasferimento (min)** .</span><span class="sxs-lookup"><span data-stu-id="fea19-258">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span>

<span data-ttu-id="fea19-259">È possibile selezionare le caselle dei log da raccogliere, ad esempio **Log IIS** e **Log delle richieste non riuscite**.</span><span class="sxs-lookup"><span data-stu-id="fea19-259">You can select the boxes of the logs you want to collect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="fea19-260">Vengono forniti i nomi dei contenitori di archiviazione predefiniti, ma è possibile modificarli, se si vuole.</span><span class="sxs-lookup"><span data-stu-id="fea19-260">Default storage container names are provided, but you can change the names if you want.</span></span>

<span data-ttu-id="fea19-261">È anche possibile acquisire log da qualsiasi cartella.</span><span class="sxs-lookup"><span data-stu-id="fea19-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="fea19-262">È sufficiente specificare il percorso nella sezione **Log da directory assoluta** e quindi scegliere **Aggiungi directory**.</span><span class="sxs-lookup"><span data-stu-id="fea19-262">Just specify the path in the **Log from Absolute Directory** section and then choose the **Add Directory** button.</span></span> <span data-ttu-id="fea19-263">I log verranno acquisiti nei contenitori specificati.</span><span class="sxs-lookup"><span data-stu-id="fea19-263">The logs will be captured to the specified containers.</span></span>

  ![Directory log](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="fea19-265">Log ETW</span><span class="sxs-lookup"><span data-stu-id="fea19-265">ETW logs</span></span>
<span data-ttu-id="fea19-266">Se si usa [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) e si vogliono acquisire log ETW, selezionare la casella di controllo **Abilita il trasferimento di log ETW**.</span><span class="sxs-lookup"><span data-stu-id="fea19-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want to capture ETW logs, select the **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="fea19-267">È possibile aumentare o ridurre il numero di minuti per il trasferimento dei log all'account di archiviazione modificando il valore **Periodo di trasferimento (min)** .</span><span class="sxs-lookup"><span data-stu-id="fea19-267">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span>

<span data-ttu-id="fea19-268">Gli eventi vengono acquisiti da origini eventi e manifesti evento specificati.</span><span class="sxs-lookup"><span data-stu-id="fea19-268">The events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="fea19-269">Per specificare un'origine eventi, immettere un nome nella sezione **Origini evento**, quindi scegliere **Aggiungi origine evento**.</span><span class="sxs-lookup"><span data-stu-id="fea19-269">To specify an event source, enter a name in the **Event Sources** section and then choose the **Add Event Source** button.</span></span> <span data-ttu-id="fea19-270">È analogamente possibile specificare un manifesto evento nella sezione **Manifesti evento** e quindi scegliere **Aggiungi manifesto evento**.</span><span class="sxs-lookup"><span data-stu-id="fea19-270">Similarly, you can specify an event manifest in the **Event Manifests** section and then choose the **Add Event Manifest** button.</span></span>

  ![Log ETW](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="fea19-272">Il framework ETW è supportato in ASP.NET tramite le classi nello spazio dei nomi [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span><span class="sxs-lookup"><span data-stu-id="fea19-272">The ETW framework is supported in ASP.NET through classes in the [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="fea19-273">Lo spazio dei nomi Microsoft.WindowsAzure.Diagnostics, che eredita da ed estende le classi [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) standard, consente l'uso di [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) come framework di registrazione nell'ambiente Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-273">The Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables the use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in the Azure environment.</span></span> <span data-ttu-id="fea19-274">Per altre informazioni, vedere [Controllare la registrazione e la traccia in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) e [Abilitazione di Diagnostica in servizi cloud e macchine virtuali di Azure](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="fea19-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="fea19-275">Dump di arresto anomalo del sistema</span><span class="sxs-lookup"><span data-stu-id="fea19-275">Crash dumps</span></span>
<span data-ttu-id="fea19-276">Per acquisire informazioni sulle situazioni in cui si verifica un arresto anomalo di un'istanza del ruolo, selezionare la casella di controllo **Abilita il trasferimento di dump di arresto anomalo del sistema** .</span><span class="sxs-lookup"><span data-stu-id="fea19-276">If you want to capture information about when a role instance crashes, select the **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="fea19-277">Poiché la maggior parte delle eccezioni è gestita da ASP.NET, questo è in genere utile solo per i ruoli di lavoro. È possibile aumentare o ridurre la percentuale di spazio di archiviazione dedicata ai dump di arresto anomalo del sistema modificando il valore **Quota directory (%)**.</span><span class="sxs-lookup"><span data-stu-id="fea19-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease the percentage of storage space devoted to the crash dumps by changing the **Directory Quota (%)** value.</span></span> <span data-ttu-id="fea19-278">È possibile cambiare il contenitore di archiviazione in cui vengono archiviati i dump di arresto anomalo del sistema e stabilire se si vuole acquisire un dump **Completo** o **Ridotto**.</span><span class="sxs-lookup"><span data-stu-id="fea19-278">You can change the storage container where the crash dumps are stored, and you can select whether you want to capture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="fea19-279">Vengono elencati i processi attualmente tracciati.</span><span class="sxs-lookup"><span data-stu-id="fea19-279">The processes currently being tracked are listed.</span></span> <span data-ttu-id="fea19-280">Selezionare le caselle di controllo per i processi da acquisire.</span><span class="sxs-lookup"><span data-stu-id="fea19-280">Select the check boxes for the processes that you want to capture.</span></span> <span data-ttu-id="fea19-281">Per aggiungere un altro processo all'elenco, immettere il nome del processo e quindi scegliere **Aggiungi processo** .</span><span class="sxs-lookup"><span data-stu-id="fea19-281">To add another process to the list, enter the process name and then choose the **Add Process** button.</span></span>

  ![Dump di arresto anomalo del sistema](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="fea19-283">Per altre informazioni, vedere [Controllare la registrazione e la traccia in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) e [Diagnostica di Microsoft Azure - Parte 4: Personalizzare i componenti di registrazione e modifiche a Diagnostica di Azure 1.3](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/).</span><span class="sxs-lookup"><span data-stu-id="fea19-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-the-diagnostics-data"></a><span data-ttu-id="fea19-284">Visualizzare i dati di diagnostica</span><span class="sxs-lookup"><span data-stu-id="fea19-284">View the diagnostics data</span></span>
<span data-ttu-id="fea19-285">Dopo la raccolta dei dati di diagnostica per un servizio cloud o una macchina virtuale, sarà possibile visualizzarli.</span><span class="sxs-lookup"><span data-stu-id="fea19-285">After you’ve collected the diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="to-view-cloud-service-diagnostics-data"></a><span data-ttu-id="fea19-286">Per visualizzare i dati di diagnostica del servizio cloud</span><span class="sxs-lookup"><span data-stu-id="fea19-286">To view cloud service diagnostics data</span></span>
1. <span data-ttu-id="fea19-287">Distribuire il servizio cloud come di consueto, quindi eseguirlo.</span><span class="sxs-lookup"><span data-stu-id="fea19-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="fea19-288">È possibile visualizzare i dati di diagnostica in un report generato da Visual Studio o le tabelle dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-288">You can view the diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="fea19-289">Per visualizzare i dati in un report, aprire **Cloud Explorer** o **Esplora server**, aprire il menu di scelta rapida del nodo per il ruolo desiderato, quindi scegliere **Visualizza dati di diagnostica**.</span><span class="sxs-lookup"><span data-stu-id="fea19-289">To view the data in a report, open **Cloud Explorer** or **Server Explorer**, open the shortcut menu of the node for the role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![Visualizza dati di diagnostica](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="fea19-291">Verrà visualizzato un report che mostra i dati disponibili.</span><span class="sxs-lookup"><span data-stu-id="fea19-291">A report that shows the available data appears.</span></span>
   
    ![Report Diagnostica di Microsoft Azure in Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="fea19-293">Se i dati più recenti non vengono visualizzati, potrebbe essere necessario attendere il termine del periodo di trasferimento.</span><span class="sxs-lookup"><span data-stu-id="fea19-293">If the most recent data doesn't appear, you might have to wait for the transfer period to elapse.</span></span>
   
    <span data-ttu-id="fea19-294">Scegliere il collegamento **Aggiorna** per aggiornare immediatamente i dati oppure scegliere un intervallo nell'elenco a discesa **Aggiornamento automatico** per aggiornare automaticamente i dati.</span><span class="sxs-lookup"><span data-stu-id="fea19-294">Choose the **Refresh** link to immediately update the data, or choose an interval in the **Auto-Refresh** dropdown list box to have the data updated automatically.</span></span> <span data-ttu-id="fea19-295">Per esportare i dati di errore, scegliere **Esporta in CSV** per creare un file con valori delimitati da virgole che può essere aperto in un foglio di calcolo.</span><span class="sxs-lookup"><span data-stu-id="fea19-295">To export the error data, choose the **Export to CSV** button to create a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="fea19-296">In **Cloud Explorer** o **Esplora server** aprire l'account di archiviazione associato alla distribuzione.</span><span class="sxs-lookup"><span data-stu-id="fea19-296">In **Cloud Explorer** or **Server Explorer**, open the storage account that's associated with the deployment.</span></span>
3. <span data-ttu-id="fea19-297">Aprire le tabelle di diagnostica nel visualizzatore di tabelle e quindi esaminare i dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="fea19-297">Open the diagnostics tables in the table viewer, and then review the data that you collected.</span></span> <span data-ttu-id="fea19-298">Per i log IIS e i log personalizzati sarà possibile aprire un contenitore BLOB.</span><span class="sxs-lookup"><span data-stu-id="fea19-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="fea19-299">Esaminando la tabella seguente, sarà possibile trovare la tabella o il contenitore BLOB che include i dati desiderati.</span><span class="sxs-lookup"><span data-stu-id="fea19-299">By reviewing the following table, you can find the table or blob container that contains the data that interests you.</span></span> <span data-ttu-id="fea19-300">Oltre ai dati per tale file di log, le voci della tabella contengono EventTickCount, DeploymentId, Role e RoleInstance per semplificare l'identificazione della macchina virtuale e del ruolo che hanno generato i dati e quando.</span><span class="sxs-lookup"><span data-stu-id="fea19-300">In addition to the data for that log file, the table entries contain EventTickCount, DeploymentId, Role, and RoleInstance to help you identify what virtual machine and role generated the data and when.</span></span> 
   
   | <span data-ttu-id="fea19-301">Dati di diagnostica</span><span class="sxs-lookup"><span data-stu-id="fea19-301">Diagnostic data</span></span> | <span data-ttu-id="fea19-302">Descrizione</span><span class="sxs-lookup"><span data-stu-id="fea19-302">Description</span></span> | <span data-ttu-id="fea19-303">Località</span><span class="sxs-lookup"><span data-stu-id="fea19-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="fea19-304">Log applicazioni</span><span class="sxs-lookup"><span data-stu-id="fea19-304">Application Logs</span></span> |<span data-ttu-id="fea19-305">Log generati dal codice chiamando i metodi della classe System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="fea19-305">Logs that your code generates by calling methods of the System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="fea19-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="fea19-306">WADLogsTable</span></span> |
   | <span data-ttu-id="fea19-307">Log eventi</span><span class="sxs-lookup"><span data-stu-id="fea19-307">Event Logs</span></span> |<span data-ttu-id="fea19-308">Questi dati sono tratti dai log eventi di Windows nelle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="fea19-308">This data is from the Windows event logs on the virtual machines.</span></span> <span data-ttu-id="fea19-309">Windows archivia le informazioni in questi log, ma le applicazioni e i servizi li usano anche per segnalare errori o registrare informazioni.</span><span class="sxs-lookup"><span data-stu-id="fea19-309">Windows stores information in these logs, but applications and services also use them to report errors or log information.</span></span> |<span data-ttu-id="fea19-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="fea19-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="fea19-311">Contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="fea19-311">Performance Counters</span></span> |<span data-ttu-id="fea19-312">È possibile raccogliere dati relativi a qualsiasi contatore delle prestazioni disponibile nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="fea19-312">You can collect data on any performance counter that’s available on the virtual machine.</span></span> <span data-ttu-id="fea19-313">Il sistema operativo fornisce contatori delle prestazioni, che includono molte statistiche, ad esempio relative all'utilizzo della memoria e al tempo processore.</span><span class="sxs-lookup"><span data-stu-id="fea19-313">The operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="fea19-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="fea19-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="fea19-315">Log infrastruttura</span><span class="sxs-lookup"><span data-stu-id="fea19-315">Infrastructure Logs</span></span> |<span data-ttu-id="fea19-316">Questi log sono generati dall'infrastruttura di diagnostica stessa.</span><span class="sxs-lookup"><span data-stu-id="fea19-316">These logs are generated from the diagnostics infrastructure itself.</span></span> |<span data-ttu-id="fea19-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="fea19-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="fea19-318">Log di IIS</span><span class="sxs-lookup"><span data-stu-id="fea19-318">IIS Logs</span></span> |<span data-ttu-id="fea19-319">Questi log registrano le richieste Web.</span><span class="sxs-lookup"><span data-stu-id="fea19-319">These logs record web requests.</span></span> <span data-ttu-id="fea19-320">Se il servizio cloud riceve una quantità significativa di traffico, questi log possono essere abbastanza lunghi. È quindi consigliabile raccogliere e archiviare questi dati solo quando necessario.</span><span class="sxs-lookup"><span data-stu-id="fea19-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="fea19-321">I log relativi alle richieste non riuscite sono disponibili nel contenitore BLOB in wad-iis-failedreqlogs in un percorso corrispondente a tale distribuzione, ruolo e istanza.</span><span class="sxs-lookup"><span data-stu-id="fea19-321">You can find failed-request logs in the blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="fea19-322">I log completi sono disponibili in wad-iis-logfiles.</span><span class="sxs-lookup"><span data-stu-id="fea19-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="fea19-323">Le voci per ogni file vengono inserite nella tabella WADDirectories.</span><span class="sxs-lookup"><span data-stu-id="fea19-323">Entries for each file are made in the WADDirectories table.</span></span> |
   | <span data-ttu-id="fea19-324">Dump di arresto anomalo del sistema</span><span class="sxs-lookup"><span data-stu-id="fea19-324">Crash dumps</span></span> |<span data-ttu-id="fea19-325">Queste informazioni forniscono immagini binarie del processo del servizio cloud, in genere un ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="fea19-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="fea19-326">Contenitore BLOB wad-crush-dumps</span><span class="sxs-lookup"><span data-stu-id="fea19-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="fea19-327">File di log personalizzati</span><span class="sxs-lookup"><span data-stu-id="fea19-327">Custom log files</span></span> |<span data-ttu-id="fea19-328">Registra i dati definiti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="fea19-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="fea19-329">È possibile specificare nel codice il percorso dei file di log personalizzati nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-329">You can specify in code the location of custom log files in your storage account.</span></span> <span data-ttu-id="fea19-330">Ad esempio, è possibile specificare un contenitore BLOB personalizzato.</span><span class="sxs-lookup"><span data-stu-id="fea19-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="fea19-331">Se i dati di qualsiasi tipo vengono troncati, è possibile provare ad aumentare il buffer per tale tipo di dati o ridurre l'intervallo tra i trasferimenti di dati dalla macchina virtuale all'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-331">If data of any type is truncated, you can try increasing the buffer for that data type or shortening the interval between transfers of data from the virtual machine to your storage account.</span></span>
5. <span data-ttu-id="fea19-332">(Facoltativo) Ripulire occasionalmente i dati dall'account di archiviazione per ridurre i costi di archiviazione complessivi.</span><span class="sxs-lookup"><span data-stu-id="fea19-332">(optional) Purge data from the storage account occasionally to reduce overall storage costs.</span></span>
6. <span data-ttu-id="fea19-333">Quando si esegue una distribuzione completa, il file diagnostics.cscfg (con estensione wadcfgx per Azure SDK 2.5) viene aggiornato in Azure e il servizio cloud rileva eventuali modifiche apportate alla configurazione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="fea19-333">When you do a full deployment, the diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes to your diagnostics configuration.</span></span> <span data-ttu-id="fea19-334">Se, invece, si aggiorna una distribuzione esistente, il file .cscfg non verrà aggiornato in Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-334">If you, instead, update an existing deployment, the .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="fea19-335">È comunque possibile modificare le impostazioni di diagnostica, tuttavia, eseguendo i passaggi illustrati nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="fea19-335">You can still change diagnostics settings, though, by following the steps in the next section.</span></span> <span data-ttu-id="fea19-336">Per altre informazioni sull'esecuzione di una distribuzione completa e sull'aggiornamento di una distribuzione esistente, vedere [Procedura guidata Pubblica l'applicazione Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="fea19-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="to-view-virtual-machine-diagnostics-data"></a><span data-ttu-id="fea19-337">Per visualizzare i dati di diagnostica della macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="fea19-337">To view virtual machine diagnostics data</span></span>
1. <span data-ttu-id="fea19-338">Dal menu di scelta rapida per la macchina virtuale scegliere **Visualizza dati di diagnostica**.</span><span class="sxs-lookup"><span data-stu-id="fea19-338">On the shortcut menu for the virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Visualizzare i dati di diagnostica nella macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="fea19-340">Verrà visualizzata la finestra **Riepilogo diagnostica** .</span><span class="sxs-lookup"><span data-stu-id="fea19-340">This opens the **Diagnostics summary** window.</span></span>
   
    ![Riepilogo di diagnostica della macchina virtuale di Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="fea19-342">Se i dati più recenti non vengono visualizzati, potrebbe essere necessario attendere il termine del periodo di trasferimento.</span><span class="sxs-lookup"><span data-stu-id="fea19-342">If the most recent data doesn't appear, you might have to wait for the transfer period to elapse.</span></span>
   
    <span data-ttu-id="fea19-343">Scegliere il collegamento **Aggiorna** per aggiornare immediatamente i dati oppure scegliere un intervallo nell'elenco a discesa **Aggiornamento automatico** per aggiornare automaticamente i dati.</span><span class="sxs-lookup"><span data-stu-id="fea19-343">Choose the **Refresh** link to immediately update the data, or choose an interval in the **Auto-Refresh** dropdown list box to have the data updated automatically.</span></span> <span data-ttu-id="fea19-344">Per esportare i dati di errore, scegliere **Esporta in CSV** per creare un file con valori delimitati da virgole che può essere aperto in un foglio di calcolo.</span><span class="sxs-lookup"><span data-stu-id="fea19-344">To export the error data, choose the **Export to CSV** button to create a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="fea19-345">Configurare la diagnostica del servizio cloud dopo la distribuzione</span><span class="sxs-lookup"><span data-stu-id="fea19-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="fea19-346">Se si sta esaminando un problema relativo a un servizio cloud già in esecuzione, è possibile che si voglia raccogliere dati non specificati prima della distribuzione originale del ruolo.</span><span class="sxs-lookup"><span data-stu-id="fea19-346">If you're investigating a problem with a cloud service that already running, you might want to collect data that you didn't specify before you originally deployed the role.</span></span> <span data-ttu-id="fea19-347">In questo caso è possibile iniziare a raccogliere i dati usando le impostazioni in Esplora server.</span><span class="sxs-lookup"><span data-stu-id="fea19-347">In this case, you can start to collect that data by using the settings in Server Explorer.</span></span> <span data-ttu-id="fea19-348">È possibile configurare la diagnostica per un'istanza singola o per tutte le istanze di un ruolo, in base all'apertura della finestra di dialogo Configurazione di diagnostica dal menu di scelta rapida per l'istanza o per il ruolo.</span><span class="sxs-lookup"><span data-stu-id="fea19-348">You can configure diagnostics for either a single instance or all the instances in a role, depending on whether you open the Diagnostics Configuration dialog box from the shortcut menu for the instance or the role.</span></span> <span data-ttu-id="fea19-349">Se si configura il nodo del ruolo, eventuali modifiche verranno applicate a tutte le istanze.</span><span class="sxs-lookup"><span data-stu-id="fea19-349">If you configure the role node, any changes apply to all instances.</span></span> <span data-ttu-id="fea19-350">Se si configura il nodo dell'istanza, eventuali modifiche verranno applicate solo a tale istanza.</span><span class="sxs-lookup"><span data-stu-id="fea19-350">If you configure the instance node, any changes apply to that instance only.</span></span>

### <a name="to-configure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="fea19-351">Per configurare la diagnostica per un servizio cloud in esecuzione</span><span class="sxs-lookup"><span data-stu-id="fea19-351">To configure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="fea19-352">In Esplora server espandere il nodo **Servizi cloud** , quindi espandere i nodi per trovare il ruolo o l'istanza da esaminare o entrambi.</span><span class="sxs-lookup"><span data-stu-id="fea19-352">In Server Explorer, expand the **Cloud Services** node, and then expand nodes to locate the role or instance that you want to investigate or both.</span></span>
   
    ![Configurazione di Diagnostica](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="fea19-354">Dal menu di scelta rapida per un nodo di istanza o un nodo di ruolo scegliere **Aggiorna impostazioni diagnostica**, quindi scegliere le impostazioni di diagnostica da raccogliere.</span><span class="sxs-lookup"><span data-stu-id="fea19-354">On the shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose the diagnostic settings that you want to collect.</span></span>
   
    <span data-ttu-id="fea19-355">Per informazioni sulle impostazioni di configurazione, vedere **Configurare le origini dati di diagnostica** in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="fea19-355">For information about the configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="fea19-356">Per informazioni su come visualizzare i dati di diagnostica, vedere **Visualizzare i dati di diagnostica** in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="fea19-356">For information about how to view the diagnostics data, see **View the diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="fea19-357">Se si modifica la raccolta di dati in **Esplora server**, tali modifiche rimarranno validi fino a una nuova distribuzione completa del servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="fea19-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="fea19-358">Se si usano le impostazioni di pubblicazione predefinite, le modifiche non verranno sovrascritte, perché l'impostazione di pubblicazione predefinita prevede l'aggiornamento della distribuzione esistente, invece di eseguire una ridistribuzione completa.</span><span class="sxs-lookup"><span data-stu-id="fea19-358">If you use the default publish settings, the changes are not overwritten, since the default publish setting is to update the existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="fea19-359">Per assicurare che le impostazioni vengano cancellate durante la distribuzione, passare alla scheda **Impostazioni avanzate** nella Pubblicazione guidata e deselezionare la casella di controllo **Aggiornamento distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="fea19-359">To make sure the settings clear at deployment time, go to the **Advanced Settings** tab in the Publish wizard and clear the **Deployment update** checkbox.</span></span> <span data-ttu-id="fea19-360">Quando si esegue la nuova distribuzione con tale casella di controllo deselezionata, verranno ripristinate le impostazioni del file con estensione wadcfgx (o wadcfg) definite tramite l'editor delle proprietà per il ruolo specifico.</span><span class="sxs-lookup"><span data-stu-id="fea19-360">When you redeploy with that checkbox cleared, the settings revert to those in the .wadcfgx (or .wadcfg) file as set through the Properties editor for the role.</span></span> <span data-ttu-id="fea19-361">Se si aggiorna la distribuzione, Azure manterrà le impostazioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="fea19-361">If you update your deployment, Azure keeps the old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="fea19-362">Risolvere i problemi del servizio cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="fea19-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="fea19-363">Se si verificano problemi con i progetti del servizio cloud, ad esempio un ruolo bloccato con stato "occupato", che viene riciclato ripetutamente o genera un errore di server interno, è possibile usare alcuni strumenti e tecniche per diagnosticare e risolvere questi problemi.</span><span class="sxs-lookup"><span data-stu-id="fea19-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use to diagnose and fix these problems.</span></span> <span data-ttu-id="fea19-364">Per esempi specifici di problemi comuni e soluzioni, oltre a una panoramica dei concetti e degli strumenti usati per diagnosticare e risolvere tali errori, vedere il post di blog relativo ai [Dati di diagnostica di calcolo delle soluzioni PaaS per Azure](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="fea19-364">For specific examples of common problems and solutions, as well as an overview of the concepts and tools used to diagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="fea19-365">Domande e risposte</span><span class="sxs-lookup"><span data-stu-id="fea19-365">Q & A</span></span>
<span data-ttu-id="fea19-366">**Quali sono le dimensioni del buffer e quanto dovrebbe essere grande?**</span><span class="sxs-lookup"><span data-stu-id="fea19-366">**What is the buffer size, and how large should it be?**</span></span>

<span data-ttu-id="fea19-367">In ogni istanza della macchina virtuale le quote limitano la quantità di dati di diagnostica che possono essere archiviati nel file system locale.</span><span class="sxs-lookup"><span data-stu-id="fea19-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on the local file system.</span></span> <span data-ttu-id="fea19-368">È anche possibile specificare una dimensione del buffer per ogni tipo di dato di diagnostica disponibile.</span><span class="sxs-lookup"><span data-stu-id="fea19-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="fea19-369">Tale dimensione del buffer funge da quota individuale per quel tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="fea19-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="fea19-370">Verificando la parte inferiore della finestra di dialogo, è possibile determinare la quota complessiva e la quantità di memoria rimanente.</span><span class="sxs-lookup"><span data-stu-id="fea19-370">By checking the bottom of the dialog box, you can determine the overall quota and the amount of memory that remains.</span></span> <span data-ttu-id="fea19-371">Se si specificano buffer più grandi o più tipi di dati, ci si avvicinerà alla quota complessiva.</span><span class="sxs-lookup"><span data-stu-id="fea19-371">If you specify larger buffers or more types of data, you'll approach the overall quota.</span></span> <span data-ttu-id="fea19-372">È possibile cambiare la quota complessiva, modificando il file di configurazione diagnostics.wadcfg/.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="fea19-372">You can change the overall quota by modifying the diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="fea19-373">I dati di diagnostica vengono archiviati nello stesso file system usato per i dati dell'applicazione, quindi se l'applicazione usa una quantità elevata di spazio su disco, è consigliabile non aumentare la quota di diagnostica complessiva.</span><span class="sxs-lookup"><span data-stu-id="fea19-373">The diagnostics data is stored on the same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase the overall diagnostics quota.</span></span>

<span data-ttu-id="fea19-374">**che cos'è il periodo di trasferimento e quanto deve essere lungo?**</span><span class="sxs-lookup"><span data-stu-id="fea19-374">**What is the transfer period, and how long should it be?**</span></span>

<span data-ttu-id="fea19-375">Il periodo di trasferimento corrisponde alla quantità di tempo trascorsa tra acquisizioni dei dati.</span><span class="sxs-lookup"><span data-stu-id="fea19-375">The transfer period is the amount of time that elapses between data captures.</span></span> <span data-ttu-id="fea19-376">Dopo ogni periodo di trasferimento, i dati vengono spostati dal file system locale su una macchina virtuale a tabelle nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="fea19-376">After each transfer period, data is moved from the local filesystem on a virtual machine to tables in your storage account.</span></span> <span data-ttu-id="fea19-377">Se la quantità di dati raccolta supera la quota prima del termine di un periodo di trasferimento, i dati precedenti verranno eliminati.</span><span class="sxs-lookup"><span data-stu-id="fea19-377">If the amount of data that's collected exceeds the quota before the end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="fea19-378">Se si perdono dati perché i dati superano la dimensione del buffer o la quota complessiva, è consigliabile ridurre il periodo di trasferimento.</span><span class="sxs-lookup"><span data-stu-id="fea19-378">You might want to decrease the transfer period if you're losing data because your data exceeds the buffer size or the overall quota.</span></span>

<span data-ttu-id="fea19-379">**Che fuso orario viene usato per i timestamp?**</span><span class="sxs-lookup"><span data-stu-id="fea19-379">**What time zone are the time stamps in?**</span></span>

<span data-ttu-id="fea19-380">I timestamp usano il fuso orario del data center che ospita il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="fea19-380">The time stamps are in the local time zone of the data center that hosts your cloud service.</span></span> <span data-ttu-id="fea19-381">Vengono usate le tre colonne di timestamp seguenti nelle tabelle di log.</span><span class="sxs-lookup"><span data-stu-id="fea19-381">The following three timestamp columns in the log tables are used.</span></span>

* <span data-ttu-id="fea19-382">**PreciseTimeStamp** è il timestamp ETW dell'evento,</span><span class="sxs-lookup"><span data-stu-id="fea19-382">**PreciseTimeStamp** is the ETW timestamp of the event.</span></span> <span data-ttu-id="fea19-383">ovvero l'ora di registrazione dell'evento dal client.</span><span class="sxs-lookup"><span data-stu-id="fea19-383">That is, the time the event is logged from the client.</span></span>
* <span data-ttu-id="fea19-384">**TIMESTAMP** è PreciseTimeStamp arrotondato per difetto al limite di frequenza di caricamento.</span><span class="sxs-lookup"><span data-stu-id="fea19-384">**TIMESTAMP** is PreciseTimeStamp rounded down to the upload frequency boundary.</span></span> <span data-ttu-id="fea19-385">Se la frequenza di caricamento è pari a 5 minuti e l'ora dell'evento è 00:17:12, TIMESTAMP sarà quindi pari a 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="fea19-385">So, if your upload frequency is 5 minutes and the event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="fea19-386">**Timestamp** è il timestamp in corrispondenza del quale l'entità è stata creata nella tabella di Azure.</span><span class="sxs-lookup"><span data-stu-id="fea19-386">**Timestamp** is the timestamp at which the entity was created in the Azure table.</span></span>

<span data-ttu-id="fea19-387">**Come si gestiscono i costi durante la raccolta delle informazioni di diagnostica?**</span><span class="sxs-lookup"><span data-stu-id="fea19-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="fea19-388">Le impostazioni predefinite (**Livello log** impostato su **Errore** e **Periodo di trasferimento** impostato su **1 minuto**) sono progettate per ridurre al minimo i costi.</span><span class="sxs-lookup"><span data-stu-id="fea19-388">The default settings (**Log level** set to **Error** and **Transfer period** set to **1 minute**) are designed to minimize cost.</span></span> <span data-ttu-id="fea19-389">I costi calcolati aumenteranno se si raccolgono più dati di diagnostica o si ridice il periodo di trasferimento.</span><span class="sxs-lookup"><span data-stu-id="fea19-389">Your compute costs will increase if you collect more diagnostic data or decrease the transfer period.</span></span> <span data-ttu-id="fea19-390">Non raccogliere una quantità di dati superiore a quanto necessario e non dimenticare di disabilitare la raccolta di dati quando non è più necessaria.</span><span class="sxs-lookup"><span data-stu-id="fea19-390">Don’t collect more data than you need, and don’t forget to disable data collection when you no longer need it.</span></span> <span data-ttu-id="fea19-391">È sempre possibile abilitarla di nuovo, anche in fase di esecuzione, come illustrato nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="fea19-391">You can always enable it again, even at runtime, as shown in the previous section.</span></span>

<span data-ttu-id="fea19-392">**Come si raccolgono log relativi alle richieste non riuscite da IIS?**</span><span class="sxs-lookup"><span data-stu-id="fea19-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="fea19-393">Per impostazione predefinita, IIS non raccoglie log relativi alle richieste non riuscite.</span><span class="sxs-lookup"><span data-stu-id="fea19-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="fea19-394">È possibile configurare IIS in modo che li raccolga, se si modifica il file web.config per il ruolo Web.</span><span class="sxs-lookup"><span data-stu-id="fea19-394">You can configure IIS to collect them if you edit the web.config file for your web role.</span></span>

<span data-ttu-id="fea19-395">**Non si ottengono informazioni di traccia dai metodi RoleEntryPoint quali OnStart. Qual è il problema?**</span><span class="sxs-lookup"><span data-stu-id="fea19-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="fea19-396">I metodi di RoleEntryPoint vengono chiamati nel contesto di WAIISHost.exe, non IIS.</span><span class="sxs-lookup"><span data-stu-id="fea19-396">The methods of RoleEntryPoint are called in the context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="fea19-397">Le informazioni di configurazione nel file web.config che in genere abilitano la traccia non sono applicabili in questo caso.</span><span class="sxs-lookup"><span data-stu-id="fea19-397">Therefore, the configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="fea19-398">Per risolvere il problema, aggiungere un file con estensione config al progetto di ruolo Web e assegnare al file un nome corrispondente all'assembly di output contenente il codice RoleEntryPoint.</span><span class="sxs-lookup"><span data-stu-id="fea19-398">To resolve this issue, add a .config file to your web role project, and name the file to match the output assembly that contains the RoleEntryPoint code.</span></span> <span data-ttu-id="fea19-399">Nel progetto di ruolo Web predefinito il nome del file con estensione config sarà WAIISHost.exe.config. Aggiungere quindi le righe seguenti al file:</span><span class="sxs-lookup"><span data-stu-id="fea19-399">In the default web role project, the name of the .config file would be WAIISHost.exe.config. Then add the following lines to this file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="fea19-400">Nella finestra **Proprietà** impostare la proprietà **Copia nella directory di output** su **Copia sempre**.</span><span class="sxs-lookup"><span data-stu-id="fea19-400">Now, in the **Properties** window, set the **Copy to Output Directory** property to **Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fea19-401">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="fea19-401">Next steps</span></span>
<span data-ttu-id="fea19-402">Per altre informazioni sulle registrazioni di diagnostica in Azure, vedere [Abilitazione di Diagnostica in Servizi cloud e Macchine virtuali di Azure](cloud-services/cloud-services-dotnet-diagnostics.md) e [Abilitare la registrazione diagnostica per le app Web del Servizio app di Azure](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="fea19-402">To learn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

