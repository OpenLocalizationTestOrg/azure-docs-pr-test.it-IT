---
title: aaaHow tooconfigure-replica geografica per Cache Redis di Azure | Documenti Microsoft
description: Informazioni su come tooreplicate istanze di Azure Redis Cache in aree geografiche diverse.
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: edcd6f202b51055d1a4e47ecaf11f9977d50aa81
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooconfigure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="a6e1f-103">Come tooconfigure replica geografica per Cache Redis di Azure</span><span class="sxs-lookup"><span data-stu-id="a6e1f-103">How tooconfigure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="a6e1f-104">La replica geografica fornisce un meccanismo per il collegamento di due istanze di Cache Redis di Azure di livello Premium.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="a6e1f-105">Una cache viene definita come cache collegato primario hello e altri come cache collegato secondaria hello hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-105">One cache is designated as hello primary linked cache, and hello other as hello secondary linked cache.</span></span> <span data-ttu-id="a6e1f-106">cache collegato secondaria Hello diventa di sola lettura e cache primaria toohello scritti i dati replicati cache collegato secondaria toohello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-106">hello secondary linked cache becomes read-only, and data written toohello primary cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="a6e1f-107">Questa funzionalità può essere utilizzato tooreplicate una cache nelle aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-107">This functionality can be used tooreplicate a cache across Azure regions.</span></span> <span data-ttu-id="a6e1f-108">Questo articolo fornisce una Guida tooconfiguring replica geografica, per le istanze di Cache Redis di Azure di livello Premium.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-108">This article provides a guide tooconfiguring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="a6e1f-109">Prerequisiti per la replica geografica</span><span class="sxs-lookup"><span data-stu-id="a6e1f-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="a6e1f-110">è necessario soddisfare tooconfigure replica geografica tra due cache, hello seguenti prerequisiti:</span><span class="sxs-lookup"><span data-stu-id="a6e1f-110">tooconfigure Geo-replication between two caches, hello following prerequisites must be met:</span></span>

- <span data-ttu-id="a6e1f-111">Entrambe le cache devono essere cache di [livello Premium](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="a6e1f-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="a6e1f-112">Entrambe le cache devono essere in hello stessa sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-112">Both caches must be in hello same Azure subscription.</span></span>
- <span data-ttu-id="a6e1f-113">cache collegato secondaria Hello deve essere di hello stesso prezzi livello o un piano tariffario maggiore rispetto a cache collegato primario hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-113">hello secondary linked cache must be either hello same pricing tier or a larger pricing tier than hello primary linked cache.</span></span>
- <span data-ttu-id="a6e1f-114">Se cache collegato primario hello è clustering abilitata, cache collegato secondaria hello deve disporre di clustering abilitata con hello cache collegato primario hello stesso numero di partizioni.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-114">If hello primary linked cache has clustering enabled, hello secondary linked cache must have clustering enabled with hello same number of shards as hello primary linked cache.</span></span>
- <span data-ttu-id="a6e1f-115">Entrambe le cache devono essere create e in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="a6e1f-116">La persistenza non deve essere attivata in nessuna delle due cache.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="a6e1f-117">Replica geografica tra cache di hello che stessa rete virtuale è supportato.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-117">Geo-replication between caches in hello same VNET is supported.</span></span> <span data-ttu-id="a6e1f-118">La replica geografica tra cache di diverse reti virtuali è supportata, come le reti virtuali hello due sono configurate in modo che le risorse in reti virtuali hello sono in grado di tooreach tra loro tramite connessioni TCP.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-118">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

<span data-ttu-id="a6e1f-119">Dopo aver configurata la replica geografica, hello applicate restrizioni seguenti coppia cache collegato tooyour:</span><span class="sxs-lookup"><span data-stu-id="a6e1f-119">After Geo-replication is configured, hello following restrictions apply tooyour linked cache pair:</span></span>

- <span data-ttu-id="a6e1f-120">cache collegato secondaria Hello è di sola lettura. è possibile leggere da esso, ma non è possibile scrivere tooit eventuali dati.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-120">hello secondary linked cache is read-only; you can read from it, but you can't write any data tooit.</span></span> 
- <span data-ttu-id="a6e1f-121">Tutti i dati presenti nella cache collegato secondaria hello prima che fosse aggiunto collegamento hello viene rimosso.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-121">Any data that was in hello secondary linked cache before hello link was added is removed.</span></span> <span data-ttu-id="a6e1f-122">Se hello-replica geografica viene successivamente rimosso, tuttavia, hello replicati dati restano nella cache collegato secondario hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-122">If hello Geo-replication is subsequently removed however, hello replicated data remains in hello secondary linked cache.</span></span>
- <span data-ttu-id="a6e1f-123">Non è possibile avviare un [l'operazione di ridimensionamento](cache-how-to-scale.md) nella cache o [modificare hello numero di partizioni](cache-how-to-premium-clustering.md) se cache di hello ha clustering abilitato.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change hello number of shards](cache-how-to-premium-clustering.md) if hello cache has clustering enabled.</span></span>
- <span data-ttu-id="a6e1f-124">Non è possibile abilitare la persistenza in nessuna delle cache.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="a6e1f-125">È possibile utilizzare [esportare](cache-how-to-import-export-data.md#export) con una cache, ma è possibile solo [importazione](cache-how-to-import-export-data.md#import) in hello primario collegato della cache.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into hello primary linked cache.</span></span>
- <span data-ttu-id="a6e1f-126">È possibile eliminare la cache collegata o gruppo di risorse hello che li contiene, fino a quando non si rimuove il collegamento di replica geografica hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-126">You can't delete either linked cache, or hello resource group that contains them, until you remove hello Geo-replication link.</span></span> <span data-ttu-id="a6e1f-127">Per ulteriori informazioni, vedere [perché hello operazione esito negativo quando si tenta di toodelete la cache collegata?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="a6e1f-127">For more information, see [Why did hello operation fail when I tried toodelete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="a6e1f-128">Se due cache di hello si trovano in aree geografiche diverse, i costi di rete in uscita verranno applicate toohello dati replicati in cache collegato di aree toohello secondaria.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-128">If hello two caches are in different regions, network egress costs will apply toohello data replicated across regions toohello secondary linked cache.</span></span> <span data-ttu-id="a6e1f-129">Per ulteriori informazioni, vedere [non il costo tooreplicate dei dati nelle aree di Azure?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="a6e1f-129">For more information, see [How much does it cost tooreplicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="a6e1f-130">Non si verifica alcuna cache di failover automatico toohello secondaria collegato se scendere di cache di hello primario (e relativa replica).</span><span class="sxs-lookup"><span data-stu-id="a6e1f-130">There is no automatic failover toohello secondary linked cache if hello primary cache (and its replica) go down.</span></span> <span data-ttu-id="a6e1f-131">Nelle applicazioni client toofailover di ordine, è necessario un collegamento di replica geografica toomanually Rimuovi hello e punto hello client applicazioni toohello di memorizzare nella cache che precedentemente era cache collegato secondaria hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-131">In order toofailover client applications, you would need toomanually remove hello Geo-replication link and point hello client applications toohello cache that was formerly hello secondary linked cache.</span></span> <span data-ttu-id="a6e1f-132">Per ulteriori informazioni, vedere [come funziona l'esecuzione del failover cache collegato secondaria toohello?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="a6e1f-132">For more information, see [How does failing over toohello secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="a6e1f-133">Aggiungere un collegamento di replica geografica</span><span class="sxs-lookup"><span data-stu-id="a6e1f-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="a6e1f-134">Fare clic su toolink premium due memorizza nella cache insieme per la replica geografica, **-replica geografica** dal menu di risorsa hello della cache di hello inteso come primario hello collegato memorizza nella cache e quindi fare clic su **Aggiungi collegamento di replica della cache**da hello **-replica geografica** blade.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-134">toolink two premium caches together for geo-replication, click **Geo-replication** from hello Resource menu of hello cache intended as hello primary linked cache, and then click **Add cache replication link** from hello **Geo-replication** blade.</span></span>

    ![Aggiungi collegamento](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="a6e1f-136">Fare clic sul nome della cache secondaria di hello desiderato da hello hello **cache compatibile** elenco.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-136">Click hello name of hello desired secondary cache from hello **Compatible caches** list.</span></span> <span data-ttu-id="a6e1f-137">Se la cache desiderata non viene visualizzata nell'elenco di hello, verificare che hello [prerequisiti di replica geografica](#geo-replication-prerequisites) per hello desiderato cache secondaria vengono soddisfatti.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-137">If your desired cache isn't displayed in hello list, verify that hello [Geo-replication prerequisites](#geo-replication-prerequisites) for hello desired secondary cache are met.</span></span> <span data-ttu-id="a6e1f-138">cache di hello toofilter per regione, fare clic su area geografica desiderata hello in hello mappa toodisplay solo quelli memorizza nella cache di hello **cache compatibile** elenco.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-138">toofilter hello caches by region, click hello desired region in hello map toodisplay only those caches in hello **Compatible caches** list.</span></span>

    ![Cache compatibili con la replica geografica](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="a6e1f-140">È inoltre possibile avviare il collegamento di processo o visualizzare i dettagli sulla cache di hello secondario tramite il menu di scelta rapida hello hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-140">You can also initiate hello linking process or view details about hello secondary cache by using hello context menu.</span></span>

    ![Menu di scelta rapida della replica geografica](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="a6e1f-142">Fare clic su **collegamento** toolink hello due cache insieme e iniziare il processo di replica hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-142">Click **Link** toolink hello two caches together and begin hello replication process.</span></span>

    ![Collega cache](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="a6e1f-144">È possibile visualizzare lo stato di avanzamento hello del processo di replica hello in hello **-replica geografica** blade.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-144">You can view hello progress of hello replication process on hello **Geo-replication** blade.</span></span>

    ![Stato del collegamento](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="a6e1f-146">È inoltre possibile visualizzare il collegamento stato hello hello **Panoramica** pannello per entrambe le cache di hello primario e secondario.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-146">You can also view hello linking status on hello **Overview** blade for both hello primary and secondary caches.</span></span>

    ![Stato della cache](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="a6e1f-148">Una volta completato il processo di replica hello, hello **collegamento stato** cambia troppo**Succeeded**.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-148">Once hello replication process is complete, hello **Link status** changes too**Succeeded**.</span></span>

    ![Stato della cache](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="a6e1f-150">Durante il processo di collegamento di hello, cache collegato primario hello rimane disponibile per l'utilizzo ma cache collegato secondaria hello non è disponibile fino al completamento di hello processo di collegamento.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-150">During hello linking process, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="a6e1f-151">Rimuovere un collegamento di replica geografica</span><span class="sxs-lookup"><span data-stu-id="a6e1f-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="a6e1f-152">collegamento hello tooremove tra due cache e arrestare la replica geografica, fare clic su **scollegare cache** da hello **-replica geografica** blade.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-152">tooremove hello link between two caches and stop Geo-replication, click **Unlink caches** from hello **Geo-replication** blade.</span></span>
    
    ![Scollega cache](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="a6e1f-154">Al termine del processo di scollegamento di hello, cache secondaria hello disponibile per entrambe le operazioni di lettura e scrittura.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-154">When hello unlinking process completes, hello secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="a6e1f-155">Quando viene rimosso il collegamento di replica geografica hello, hello dati replicati hello primario cache collegato rimane nella cache di hello secondario.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-155">When hello Geo-replication link is removed, hello replicated data from hello primary linked cache remains in hello secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="a6e1f-156">Domande frequenti sulla replica geografica</span><span class="sxs-lookup"><span data-stu-id="a6e1f-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="a6e1f-157">È possibile usare la replica geografica con una cache di livello Standard o Basic?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="a6e1f-158">La cache può essere utilizzato durante il collegamento hello o un processo di scollegamento?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-158">Is my cache available for use during hello linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="a6e1f-159">È possibile collegare più di due cache?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="a6e1f-160">È possibile collegare due cache da diverse sottoscrizioni di Azure?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="a6e1f-161">È possibile collegare due cache con dimensioni diverse?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="a6e1f-162">È possibile usare la replica geografica con il clustering abilitato?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="a6e1f-163">È possibile usare la replica geografica con le cache in una rete virtuale?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="a6e1f-164">È possibile utilizzare PowerShell o Azure CLI toomanage replica geografica?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-164">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="a6e1f-165">Quanto costa tooreplicate dei dati nelle aree di Azure?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-165">How much does it cost tooreplicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="a6e1f-166">Motivo per cui operazione hello non quando si tenta di toodelete la cache collegata?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-166">Why did hello operation fail when I tried toodelete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="a6e1f-167">Quale area si deve usare per la cache collegata secondaria?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="a6e1f-168">Come funziona l'esecuzione del failover cache collegato secondaria toohello?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-168">How does failing over toohello secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="a6e1f-169">È possibile usare la replica geografica con una cache di livello Standard o Basic?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="a6e1f-170">No, la replica geografica è disponibile solo per le cache del livello Premium.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-hello-linking-or-unlinking-process"></a><span data-ttu-id="a6e1f-171">La cache può essere utilizzato durante il collegamento hello o un processo di scollegamento?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-171">Is my cache available for use during hello linking or unlinking process?</span></span>

- <span data-ttu-id="a6e1f-172">Quando si collega due cache per la replica geografica, cache collegato primario hello rimane disponibile per l'utilizzo ma cache collegato secondaria hello non è disponibile fino al completamento di hello processo di collegamento.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-172">When linking two caches together for Geo-replication, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>
- <span data-ttu-id="a6e1f-173">Quando si rimuove il collegamento di replica geografica hello tra due cache, entrambe le cache rimangono disponibili per l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-173">When removing hello Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="a6e1f-174">È possibile collegare più di due cache?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="a6e1f-175">No, quando si usa la replica geografica è possibile collegare solo due cache.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="a6e1f-176">È possibile collegare due cache da diverse sottoscrizioni di Azure?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="a6e1f-177">No, entrambe le cache devono essere in hello stessa sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-177">No, both caches must be in hello same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="a6e1f-178">È possibile collegare due cache di dimensioni diverse?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="a6e1f-179">Sì, purché sia maggiore di cache collegato primario hello cache collegato secondaria hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-179">Yes, as long as hello secondary linked cache is larger than hello primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="a6e1f-180">È possibile usare la replica geografica con il clustering abilitato?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="a6e1f-181">Sì, purché entrambe sono hello stesso numero di partizioni.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-181">Yes, as long as both caches have hello same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="a6e1f-182">È possibile usare la replica geografica con le cache in una rete virtuale?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="a6e1f-183">Sì, la replica geografica di cache nelle reti virtuali è supportata.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="a6e1f-184">Replica geografica tra cache di hello che stessa rete virtuale è supportato.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-184">Geo-replication between caches in hello same VNET is supported.</span></span>
- <span data-ttu-id="a6e1f-185">La replica geografica tra cache di diverse reti virtuali è supportata, come le reti virtuali hello due sono configurate in modo che le risorse in reti virtuali hello sono in grado di tooreach tra loro tramite connessioni TCP.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-185">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-toomanage-geo-replication"></a><span data-ttu-id="a6e1f-186">È possibile utilizzare PowerShell o Azure CLI toomanage replica geografica?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-186">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>

<span data-ttu-id="a6e1f-187">In questo momento è possibile gestire solo utilizzando la replica geografica hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-187">At this time you can only manage Geo-replication using hello Azure portal.</span></span>

### <a name="how-much-does-it-cost-tooreplicate-my-data-across-azure-regions"></a><span data-ttu-id="a6e1f-188">Quanto costa tooreplicate dei dati nelle aree di Azure?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-188">How much does it cost tooreplicate my data across Azure regions?</span></span>

<span data-ttu-id="a6e1f-189">Quando si utilizza la replica geografica, i dati dalla cache collegato primario hello sono cache replicata toohello secondari collegato.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-189">When using Geo-replication, data from hello primary linked cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="a6e1f-190">Se collegato hello due cache presenti hello stessa regione di Azure, non è previsto alcun addebito per il trasferimento di dati hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-190">If hello two linked caches are in hello same Azure region, there is no charge for hello data transfer.</span></span> <span data-ttu-id="a6e1f-191">Se hello due collegate cache si trovano in diverse aree di Azure, costi di trasferimento dati-replica geografica hello sono il costo della larghezza di banda hello di replica che toohello dati di altre aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-191">If hello two linked caches are in different Azure regions, hello Geo-Replication data transfer charge is hello bandwidth cost of replicating that data toohello other Azure region.</span></span> <span data-ttu-id="a6e1f-192">Per altre informazioni, vedere [Dettagli sui prezzi per la larghezza di banda](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="a6e1f-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-hello-operation-fail-when-i-tried-toodelete-my-linked-cache"></a><span data-ttu-id="a6e1f-193">Motivo per cui operazione hello non quando si tenta di toodelete la cache collegata?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-193">Why did hello operation fail when I tried toodelete my linked cache?</span></span>

<span data-ttu-id="a6e1f-194">Quando due cache sono collegate tra loro, è possibile eliminare una cache o hello gruppo di risorse che li contiene fino a quando non si rimuove il collegamento di replica geografica hello.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-194">When two caches are linked together, you can't delete either cache or hello resource group that contains them until you remove hello Geo-replication link.</span></span> <span data-ttu-id="a6e1f-195">Se si tenta toodelete hello risorsa che contiene uno o entrambi hello collegato memorizza nella cache, hello altre risorse nel gruppo di risorse hello vengono eliminati, ma il gruppo di risorse hello rimane in hello `deleting` lo stato e qualsiasi collegato cache nel gruppo di risorse hello rimangono nella hello `running` stato.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-195">If you attempt toodelete hello resource group that contains one or both of hello linked caches, hello other resources in hello resource group are deleted, but hello resource group stays in hello `deleting` state and any linked caches in hello resource group remain in hello `running` state.</span></span> <span data-ttu-id="a6e1f-196">l'eliminazione di hello toocomplete del gruppo di risorse hello e hello collegato memorizza nella cache all'interno di esso, il collegamento di replica geografica hello interruzione come descritto in [rimuovere un collegamento di replica geografica](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="a6e1f-196">toocomplete hello deletion of hello resource group and hello linked caches within it, break hello Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="a6e1f-197">Quale area si deve usare per la cache collegata secondaria?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="a6e1f-198">In generale, è consigliabile per tooexist la cache di hello stessa regione di Azure come un'applicazione hello che vi accede.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-198">In general, it is recommended for your cache tooexist in hello same Azure region as hello application that accesses it.</span></span> <span data-ttu-id="a6e1f-199">Se l'applicazione dispone di un'area primaria e di fallback, le cache primaria e secondaria devono essere presenti in quelle stesse aree.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="a6e1f-200">Per altre informazioni sulle aree abbinate, vedere [Continuità aziendale e ripristino di emergenza nelle aree geografiche abbinate di Azure](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="a6e1f-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-toohello-secondary-linked-cache-work"></a><span data-ttu-id="a6e1f-201">Come funziona l'esecuzione del failover cache collegato secondaria toohello?</span><span class="sxs-lookup"><span data-stu-id="a6e1f-201">How does failing over toohello secondary linked cache work?</span></span>

<span data-ttu-id="a6e1f-202">Nella versione iniziale di hello di replica geografica, Cache Redis di Azure non supporta il failover automatico nelle aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-202">In hello initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="a6e1f-203">La replica geografica è usata principalmente in uno scenario di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="a6e1f-204">In uno scenario di ripristino distater i clienti devono portare fino allo stack di tutta l'applicazione hello in un'area di backup in modo coordinato anziché di utilizzare singoli componenti delle applicazioni di decidere quando tooswitch tootheir backup in modo autonomo.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-204">In a distater recovery scenario, customers should bring up hello entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when tooswitch tootheir backups on their own.</span></span> <span data-ttu-id="a6e1f-205">Questo è particolarmente rilevante tooRedis.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-205">This is especially relevant tooRedis.</span></span> <span data-ttu-id="a6e1f-206">Uno dei principali vantaggi di hello di Redis è un archivio di bassa latenza.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-206">One of hello key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="a6e1f-207">Se Redis utilizzato da un'applicazione viene eseguito il failover tooa altra area di Azure ma non il livello di calcolo di hello, hello aggiunto round trip ora avrebbe un impatto notevole sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-207">If Redis used by an application fails over tooa different Azure region but hello compute tier does not, hello added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="a6e1f-208">Per questo motivo, desideriamo tooavoid Redis errori su automaticamente a causa di problemi di disponibilità tootransient.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-208">For this reason, we would like tooavoid Redis failing over automatically due tootransient availability issues.</span></span>

<span data-ttu-id="a6e1f-209">Attualmente, tooinitiate hello failover, è necessario tooremove hello replica geografica collegamento nel portale di Azure hello e quindi modificare l'endpoint di connessione hello client Redis hello dal database secondario hello cache collegato primaria toohello (collegato in precedenza) della cache.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-209">Currently, tooinitiate hello failover, you need tooremove hello Geo-replication link in hello Azure portal, and then change hello connection end-point in hello Redis client from hello primary linked cache toohello (formerly linked) secondary cache.</span></span> <span data-ttu-id="a6e1f-210">Quando vengono disassociate due cache, hello replica hello diventa una normale lettura-scrittura cache nuovamente e accetta le richieste da client di Redis.</span><span class="sxs-lookup"><span data-stu-id="a6e1f-210">When hello two caches are disassociated, hello replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="a6e1f-211">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a6e1f-211">Next steps</span></span>

<span data-ttu-id="a6e1f-212">Altre informazioni su hello [piano Premium di Cache Redis di Azure](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="a6e1f-212">Learn more about hello [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

