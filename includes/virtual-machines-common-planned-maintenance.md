<span data-ttu-id="a4b83-101">Azure esegue periodicamente aggiornamenti tooimprove hello affidabilità, prestazioni e protezione dell'infrastruttura host hello per le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="a4b83-101">Azure periodically performs updates tooimprove hello reliability, performance, and security of hello host infrastructure for virtual machines.</span></span> <span data-ttu-id="a4b83-102">Questi aggiornamenti compresi tra l'applicazione di patch i componenti software hello hosting ambiente (ad esempio sistema operativo, hypervisor e vari agenti siano distribuiti in host hello), l'aggiornamento di componenti di rete, toohardware rimozione delle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="a4b83-102">These updates range from patching software components in hello hosting environment (like operating system, hypervisor, and various agents deployed on hello host), upgrading networking components, toohardware decommissioning.</span></span> <span data-ttu-id="a4b83-103">la maggior parte Hello di questi aggiornamenti vengono eseguite senza tutte le macchine virtuali ospitata toohello impatto.</span><span class="sxs-lookup"><span data-stu-id="a4b83-103">hello majority of these updates are performed without any impact toohello hosted virtual machines.</span></span> <span data-ttu-id="a4b83-104">Ci sono casi tuttavia in cui gli aggiornamenti hanno conseguenze:</span><span class="sxs-lookup"><span data-stu-id="a4b83-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="a4b83-105">Se la manutenzione hello non richiede un riavvio, Azure Usa hello toopause migrazione sul posto VM mentre host hello viene aggiornato.</span><span class="sxs-lookup"><span data-stu-id="a4b83-105">If hello maintenance does not require a reboot, Azure uses in-place migration toopause hello VM while hello host is updated.</span></span>

- <span data-ttu-id="a4b83-106">Se manutenzione richiede un riavvio, viene visualizzato un avviso quando viene pianificata manutenzione hello.</span><span class="sxs-lookup"><span data-stu-id="a4b83-106">If maintenance requires a reboot, you get a notice of when hello maintenance is planned.</span></span> <span data-ttu-id="a4b83-107">In questi casi, verranno anche presentate un intervallo di tempo in cui è possibile avviare manutenzione hello manualmente, in un momento appropriato.</span><span class="sxs-lookup"><span data-stu-id="a4b83-107">In these cases, you'll also be given a time window where you can start hello maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="a4b83-108">Questa pagina descrive come Microsoft Azure esegue entrambi i tipi di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="a4b83-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="a4b83-109">Per ulteriori informazioni sugli eventi non pianificati (interruzioni), vedere disponibilità hello di gestione delle macchine virtuali per [Windows] (... / articles/virtual-machines/windows/manage-availability.md) o [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="a4b83-109">For more information about unplanned events (outages), see Manage hello availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="a4b83-110">Hello di applicazioni in esecuzione in una macchina virtuale possono raccogliere informazioni sugli aggiornamenti futuri utilizzando i metadati di servizio per [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) o [Linux] (... / articles/virtual-machines/linux/instance-metadata-service.md).</span><span class="sxs-lookup"><span data-stu-id="a4b83-110">Applications running in a virtual machine can gather information about upcoming updates by using hello Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="a4b83-111">Migrazione di una VM sul posto</span><span class="sxs-lookup"><span data-stu-id="a4b83-111">In-place VM migration</span></span>

<span data-ttu-id="a4b83-112">Quando gli aggiornamenti non richiedono un riavvio completo, viene usata una migrazione in tempo reale sul posto.</span><span class="sxs-lookup"><span data-stu-id="a4b83-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="a4b83-113">Durante l'aggiornamento di hello macchina virtuale hello viene sospesa per circa 30 secondi, mantenendo la memoria hello nella RAM, mentre hello ambiente di hosting si applica patch e aggiornamenti necessari hello.</span><span class="sxs-lookup"><span data-stu-id="a4b83-113">During hello update hello virtual machine is paused for about 30 seconds, preserving hello memory in RAM, while hello hosting environment applies hello necessary updates and patches.</span></span> <span data-ttu-id="a4b83-114">macchina virtuale Hello viene quindi ripreso e il clock di hello della macchina virtuale hello viene sincronizzato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="a4b83-114">hello virtual machine is then resumed and hello clock of hello virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="a4b83-115">Per le VM nei set di disponibilità, i domini di aggiornamento vengono aggiornati uno alla volta.</span><span class="sxs-lookup"><span data-stu-id="a4b83-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="a4b83-116">Tutte le macchine virtuali in un dominio di aggiornamento (UD) in pausa, aggiornamento e quindi riavviate prima che la manutenzione pianificata Sposta toohello UD successivo.</span><span class="sxs-lookup"><span data-stu-id="a4b83-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on toohello next UD.</span></span>

<span data-ttu-id="a4b83-117">Alcune applicazioni potrebbero essere interessate da questi tipi di aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="a4b83-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="a4b83-118">Applicazioni che eseguono in tempo reale elaborazione di eventi, come i flussi multimediali o transcodifica o ad alta velocità effettiva di rete scenari, potrebbero non essere tootolerate progettato una pausa secondo 30.</span><span class="sxs-lookup"><span data-stu-id="a4b83-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed tootolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="a4b83-119">Manutenzione per cui è necessario un riavvio</span><span class="sxs-lookup"><span data-stu-id="a4b83-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="a4b83-120">Quando le macchine virtuali devono toobe riavviato per la manutenzione pianificata, ricevono una notifica in anticipo.</span><span class="sxs-lookup"><span data-stu-id="a4b83-120">When VMs need toobe rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="a4b83-121">Manutenzione pianificata ha due fasi: hello finestra self-service e una finestra di manutenzione pianificata.</span><span class="sxs-lookup"><span data-stu-id="a4b83-121">Planned maintenance has two phases: hello self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="a4b83-122">Hello **self-service finestra** consente di avviare la manutenzione hello le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="a4b83-122">hello **self-service window** lets you initiate hello maintenance on your VMs.</span></span> <span data-ttu-id="a4b83-123">Durante questo periodo, è possibile richiedere toosee ogni VM il relativo stato e verificare il risultato di hello dell'ultima richiesta di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="a4b83-123">During this time, you can query each VM toosee their status and check hello result of your last maintenance request.</span></span>

<span data-ttu-id="a4b83-124">Quando si avvia manutenzione self-service, la macchina virtuale è spostato tooa nodo che è già stato aggiornato e quindi viene acceso viene nuovamente.</span><span class="sxs-lookup"><span data-stu-id="a4b83-124">When you start self-service maintenance, your VM is moved tooa node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="a4b83-125">Poiché il riavvio di hello macchina virtuale, disco temporaneo hello viene perso e vengono aggiornati gli indirizzi IP dinamici associati con l'interfaccia di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="a4b83-125">Because hello VM reboots, hello temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="a4b83-126">Se si avvia manutenzione self-service e si verifica un errore durante il processo di hello, hello operazione viene arrestata, hello VM non viene aggiornata e viene rimossa anche da hello pianificato manutenzione iterazione.</span><span class="sxs-lookup"><span data-stu-id="a4b83-126">If you start self-service maintenance and there is an error during hello process, hello operation is stopped, hello VM is not updated and it is also removed from hello planned maintenance iteration.</span></span> <span data-ttu-id="a4b83-127">Si verrà contattati in un secondo momento con una nuova pianificazione e offerto una nuova opportunità toodo self-service la manutenzione.</span><span class="sxs-lookup"><span data-stu-id="a4b83-127">You will be contacted in a later time with a new schedule and offered a new opportunity toodo self-service maintenance.</span></span> 

<span data-ttu-id="a4b83-128">Quando viene superato finestra self-service di hello, hello **finestra di manutenzione pianificata** inizia.</span><span class="sxs-lookup"><span data-stu-id="a4b83-128">When hello self-service window has passed, hello **scheduled maintenance window** begins.</span></span> <span data-ttu-id="a4b83-129">Durante questo intervallo di tempo, è possibile comunque una query per la finestra di manutenzione hello, ma non è più possibile toostart in grado di manutenzione di hello.</span><span class="sxs-lookup"><span data-stu-id="a4b83-129">During this time window, you can still query for hello maintenance window, but no longer be able toostart hello maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="a4b83-130">Considerazioni sulla disponibilità durante la manutenzione pianificata</span><span class="sxs-lookup"><span data-stu-id="a4b83-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="a4b83-131">Se si decide di toowait fino a quando non hello pianificata la finestra di manutenzione, esistono alcuni aspetti tooconsider per la gestione di hello disponibilità più elevata delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="a4b83-131">If you decide toowait until hello planned maintenance window, there are a few things tooconsider for maintaining hello highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="a4b83-132">Aree associate</span><span class="sxs-lookup"><span data-stu-id="a4b83-132">Paired Regions</span></span>

<span data-ttu-id="a4b83-133">Ogni area di Azure è associato a un'altra area all'interno di hello stesso geografia, insieme rendono una coppia internazionale.</span><span class="sxs-lookup"><span data-stu-id="a4b83-133">Each Azure region is paired with another region within hello same geography, together they make a regional pair.</span></span> <span data-ttu-id="a4b83-134">Durante la manutenzione pianificata, Azure aggiornerà solo le macchine virtuali in una singola area di una coppia di area hello.</span><span class="sxs-lookup"><span data-stu-id="a4b83-134">During planned maintenance, Azure will only update hello VMs in a single region of a region pair.</span></span> <span data-ttu-id="a4b83-135">Ad esempio, quando si aggiorna hello macchine virtuali in North Central US, Azure non aggiornerà tutte le macchine virtuali nel centro-meridionali in hello contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="a4b83-135">For example, when updating hello Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at hello same time.</span></span> <span data-ttu-id="a4b83-136">Tuttavia, le altre aree, ad esempio Europa settentrionale può essere in fase di manutenzione in hello stesso tempo come Stati Uniti orientali.</span><span class="sxs-lookup"><span data-stu-id="a4b83-136">However, other regions such as North Europe can be under maintenance at hello same time as East US.</span></span> <span data-ttu-id="a4b83-137">Sapendo come funzionano le coppie di aree, è possibile distribuire meglio le VM tra le aree.</span><span class="sxs-lookup"><span data-stu-id="a4b83-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="a4b83-138">Per altre informazioni, vedere [Coppie di aree di Azure](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="a4b83-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="a4b83-139">Set di disponibilità e set di disponibilità</span><span class="sxs-lookup"><span data-stu-id="a4b83-139">Availability sets and scale sets</span></span>

<span data-ttu-id="a4b83-140">Quando si distribuisce un carico di lavoro nelle macchine virtuali di Azure, è possibile creare macchine virtuali di hello all'interno di un'applicazione di tooyour disponibilità set tooprovide la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="a4b83-140">When deploying a workload on Azure VMs, you can create hello VMs within an availability set tooprovide high availability tooyour application.</span></span> <span data-ttu-id="a4b83-141">Ciò assicura che in caso di interruzione o di eventi di manutenzione sia disponibile almeno una macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="a4b83-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="a4b83-142">All'interno di un set di disponibilità, singole macchine virtuali vengono distribuite tra i domini di aggiornamento too20 (UD).</span><span class="sxs-lookup"><span data-stu-id="a4b83-142">Within an availability set, individual VMs are spread across up too20 update domains (UDs).</span></span> <span data-ttu-id="a4b83-143">Durante la manutenzione pianificata, l'impatto prodotto interessa un solo dominio di aggiornamento in un dato momento</span><span class="sxs-lookup"><span data-stu-id="a4b83-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="a4b83-144">Tenere presente che ordine hello di domini di aggiornamento influenzate non necessariamente avvengono in modo sequenziale.</span><span class="sxs-lookup"><span data-stu-id="a4b83-144">Be aware that hello order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="a4b83-145">Set di scalabilità di macchine virtuali sono una risorsa di calcolo di Azure che consente di toodeploy e gestire un set di macchine virtuali identiche come una singola risorsa.</span><span class="sxs-lookup"><span data-stu-id="a4b83-145">Virtual machine scale sets are an Azure compute resource that enables you toodeploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="a4b83-146">set di scalabilità Hello viene distribuito automaticamente nei domini di aggiornamento, ad esempio macchine virtuali in un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="a4b83-146">hello scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="a4b83-147">Esattamente come con i set di disponibilità, con i set di scalabilità viene interessato un solo dominio di aggiornamento per volta.</span><span class="sxs-lookup"><span data-stu-id="a4b83-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="a4b83-148">Per ulteriori informazioni sulla configurazione delle macchine virtuali per la disponibilità elevata, vedere la disponibilità di hello di gestione delle macchine virtuali per Windows (... / articles/virtual-machines/windows/manage-availability.md) o [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="a4b83-148">For more information about configuring your virtual machines for high availability, see Manage hello availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>
