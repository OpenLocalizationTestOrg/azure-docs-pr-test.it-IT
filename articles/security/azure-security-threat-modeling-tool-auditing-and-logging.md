---
title: Controllo e registrazione - Microsoft Threat Modeling Tool - Azure | Documentazione Microsoft
description: Procedure di riduzione delle minacce esposte in Threat Modeling Tool
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 3f1933fc59862eca7ae6ee40bbd5136e449e5cf1
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-auditing-and-logging--mitigations"></a><span data-ttu-id="1386c-103">Infrastruttura di sicurezza: controllo e registrazione | Soluzioni di riduzione</span><span class="sxs-lookup"><span data-stu-id="1386c-103">Security Frame: Auditing and Logging | Mitigations</span></span> 
| <span data-ttu-id="1386c-104">Prodotto o servizio</span><span class="sxs-lookup"><span data-stu-id="1386c-104">Product/Service</span></span> | <span data-ttu-id="1386c-105">Articolo</span><span class="sxs-lookup"><span data-stu-id="1386c-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="1386c-106">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="1386c-106">**Dynamics CRM**</span></span>    | <ul><li>[<span data-ttu-id="1386c-107">Identificare le entità sensibili nella soluzione e implementare il controllo delle modifiche</span><span class="sxs-lookup"><span data-stu-id="1386c-107">Identify sensitive entities in your solution and implement change auditing</span></span>](#sensitive-entities)</li></ul> |
| <span data-ttu-id="1386c-108">**Applicazione Web**</span><span class="sxs-lookup"><span data-stu-id="1386c-108">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="1386c-109">Assicurarsi che la funzionalità di controllo e registrazione venga applicata all'applicazione</span><span class="sxs-lookup"><span data-stu-id="1386c-109">Ensure that auditing and logging is enforced on the application</span></span>](#auditing)</li><li>[<span data-ttu-id="1386c-110">Assicurarsi che la rotazione e la separazione dei log siano abilitate</span><span class="sxs-lookup"><span data-stu-id="1386c-110">Ensure that log rotation and separation are in place</span></span>](#log-rotation)</li><li>[<span data-ttu-id="1386c-111">Assicurarsi che l'applicazione non registri nel log i dati sensibili degli utenti</span><span class="sxs-lookup"><span data-stu-id="1386c-111">Ensure that the application does not log sensitive user data</span></span>](#log-sensitive-data)</li><li>[<span data-ttu-id="1386c-112">Assicurarsi che l'accesso ai file di log e di controllo sia limitato</span><span class="sxs-lookup"><span data-stu-id="1386c-112">Ensure that Audit and Log Files have Restricted Access</span></span>](#log-restricted-access)</li><li>[<span data-ttu-id="1386c-113">Assicurarsi che gli eventi di Gestione utenti vengano registrati nel log</span><span class="sxs-lookup"><span data-stu-id="1386c-113">Ensure that User Management Events are Logged</span></span>](#user-management)</li><li>[<span data-ttu-id="1386c-114">Assicurarsi che il sistema disponga di difese integrate contro l'utilizzo improprio</span><span class="sxs-lookup"><span data-stu-id="1386c-114">Ensure that the system has inbuilt defenses against misuse</span></span>](#inbuilt-defenses)</li><li>[<span data-ttu-id="1386c-115">Abilitare la registrazione diagnostica per le app Web nel servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-115">Enable diagnostics logging for web apps in Azure App Service</span></span>](#diagnostics-logging)</li></ul> |
| <span data-ttu-id="1386c-116">**Database**</span><span class="sxs-lookup"><span data-stu-id="1386c-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="1386c-117">Verificare che il controllo degli accessi sia abilitato in SQL Server</span><span class="sxs-lookup"><span data-stu-id="1386c-117">Ensure that login auditing is enabled on SQL Server</span></span>](#identify-sensitive-entities)</li><li>[<span data-ttu-id="1386c-118">Abilitare il rilevamento delle minacce in SQL Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-118">Enable Threat detection on Azure SQL</span></span>](#threat-detection)</li></ul> |
| <span data-ttu-id="1386c-119">**Archiviazione di Azure**</span><span class="sxs-lookup"><span data-stu-id="1386c-119">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="1386c-120">Usare la funzionalità di analisi di Archiviazione di Azure per controllare gli accessi di Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-120">Use Azure Storage Analytics to audit access of Azure Storage</span></span>](#analytics)</li></ul> |
| <span data-ttu-id="1386c-121">**WCF**</span><span class="sxs-lookup"><span data-stu-id="1386c-121">**WCF**</span></span> | <ul><li>[<span data-ttu-id="1386c-122">Implementare un livello di registrazione sufficiente</span><span class="sxs-lookup"><span data-stu-id="1386c-122">Implement sufficient Logging</span></span>](#sufficient-logging)</li><li>[<span data-ttu-id="1386c-123">Implementare un livello di gestione degli errori di controllo sufficiente</span><span class="sxs-lookup"><span data-stu-id="1386c-123">Implement sufficient Audit Failure Handling</span></span>](#audit-failure-handling)</li></ul> |
| <span data-ttu-id="1386c-124">**API Web**</span><span class="sxs-lookup"><span data-stu-id="1386c-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="1386c-125">Assicurarsi che la funzionalità di controllo e registrazione venga applicata nell'API Web</span><span class="sxs-lookup"><span data-stu-id="1386c-125">Ensure that auditing and logging is enforced on Web API</span></span>](#logging-web-api)</li></ul> |
| <span data-ttu-id="1386c-126">**Gateway IoT sul campo**</span><span class="sxs-lookup"><span data-stu-id="1386c-126">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="1386c-127">Assicurarsi che la funzionalità di controllo e registrazione appropriata venga applicata nel gateway sul campo</span><span class="sxs-lookup"><span data-stu-id="1386c-127">Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>](#logging-field-gateway)</li></ul> |
| <span data-ttu-id="1386c-128">**Gateway IoT cloud**</span><span class="sxs-lookup"><span data-stu-id="1386c-128">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="1386c-129">Assicurarsi che la funzionalità di controllo e registrazione appropriata venga applicata nel gateway nel cloud</span><span class="sxs-lookup"><span data-stu-id="1386c-129">Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>](#logging-cloud-gateway)</li></ul> |

## <span data-ttu-id="1386c-130"><a id="sensitive-entities"></a>Identificare le entità sensibili nella soluzione e implementare il controllo delle modifiche</span><span class="sxs-lookup"><span data-stu-id="1386c-130"><a id="sensitive-entities"></a>Identify sensitive entities in your solution and implement change auditing</span></span>

| <span data-ttu-id="1386c-131">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-131">Title</span></span>                   | <span data-ttu-id="1386c-132">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-132">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-133">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-133">**Component**</span></span>               | <span data-ttu-id="1386c-134">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="1386c-134">Dynamics CRM</span></span> | 
| <span data-ttu-id="1386c-135">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-135">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-136">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-136">Build</span></span> |  
| <span data-ttu-id="1386c-137">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-137">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-138">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-138">Generic</span></span> |
| <span data-ttu-id="1386c-139">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-139">**Attributes**</span></span>              | <span data-ttu-id="1386c-140">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-140">N/A</span></span>  |
| <span data-ttu-id="1386c-141">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-141">**References**</span></span>              | <span data-ttu-id="1386c-142">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-142">N/A</span></span>  |
| <span data-ttu-id="1386c-143">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-143">**Steps**</span></span>                   | <span data-ttu-id="1386c-144">Identificare le entità nella soluzione che contengono dati sensibili e implementare il controllo delle modifiche in tali entità e campi</span><span class="sxs-lookup"><span data-stu-id="1386c-144">Identify entities in your solution containing sensitive data and implement change auditing on those entities and fields</span></span> |

## <span data-ttu-id="1386c-145"><a id="auditing"></a>Assicurarsi che la funzionalità di controllo e registrazione venga applicata nell'applicazione</span><span class="sxs-lookup"><span data-stu-id="1386c-145"><a id="auditing"></a>Ensure that auditing and logging is enforced on the application</span></span>

| <span data-ttu-id="1386c-146">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-146">Title</span></span>                   | <span data-ttu-id="1386c-147">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-147">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-148">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-148">**Component**</span></span>               | <span data-ttu-id="1386c-149">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-149">Web Application</span></span> | 
| <span data-ttu-id="1386c-150">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-150">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-151">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-151">Build</span></span> |  
| <span data-ttu-id="1386c-152">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-152">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-153">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-153">Generic</span></span> |
| <span data-ttu-id="1386c-154">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-154">**Attributes**</span></span>              | <span data-ttu-id="1386c-155">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-155">N/A</span></span>  |
| <span data-ttu-id="1386c-156">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-156">**References**</span></span>              | <span data-ttu-id="1386c-157">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-157">N/A</span></span>  |
| <span data-ttu-id="1386c-158">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-158">**Steps**</span></span>                   | <span data-ttu-id="1386c-159">Abilitare il controllo e la registrazione su tutti i componenti.</span><span class="sxs-lookup"><span data-stu-id="1386c-159">Enable auditing and logging on all components.</span></span> <span data-ttu-id="1386c-160">I log di controllo devono acquisire il contesto utente.</span><span class="sxs-lookup"><span data-stu-id="1386c-160">Audit logs should capture user context.</span></span> <span data-ttu-id="1386c-161">Identificare tutti gli eventi importanti e registrarli nel log.</span><span class="sxs-lookup"><span data-stu-id="1386c-161">Identify all important events and log those events.</span></span> <span data-ttu-id="1386c-162">Implementare la registrazione centralizzata</span><span class="sxs-lookup"><span data-stu-id="1386c-162">Implement centralized logging</span></span> |

## <span data-ttu-id="1386c-163"><a id="log-rotation"></a>Assicurarsi che la rotazione e la separazione dei log siano abilitate</span><span class="sxs-lookup"><span data-stu-id="1386c-163"><a id="log-rotation"></a>Ensure that log rotation and separation are in place</span></span>

| <span data-ttu-id="1386c-164">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-164">Title</span></span>                   | <span data-ttu-id="1386c-165">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-165">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-166">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-166">**Component**</span></span>               | <span data-ttu-id="1386c-167">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-167">Web Application</span></span> | 
| <span data-ttu-id="1386c-168">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-168">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-169">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-169">Build</span></span> |  
| <span data-ttu-id="1386c-170">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-170">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-171">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-171">Generic</span></span> |
| <span data-ttu-id="1386c-172">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-172">**Attributes**</span></span>              | <span data-ttu-id="1386c-173">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-173">N/A</span></span>  |
| <span data-ttu-id="1386c-174">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-174">**References**</span></span>              | <span data-ttu-id="1386c-175">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-175">N/A</span></span>  |
| <span data-ttu-id="1386c-176">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-176">**Steps**</span></span>                   | <p><span data-ttu-id="1386c-177">La rotazione dei log è un processo automatizzato usato nell'amministrazione di sistema che prevede l'archiviazione dei file di log datati.</span><span class="sxs-lookup"><span data-stu-id="1386c-177">Log rotation is an automated process used in system administration in which dated log files are archived.</span></span> <span data-ttu-id="1386c-178">I server che eseguono applicazioni di grandi dimensioni spesso registrano ogni richiesta. A fronte di log ingombranti, la rotazione rappresenta un modo per limitarne le dimensioni totali mantenendo comunque l'analisi degli eventi recenti.</span><span class="sxs-lookup"><span data-stu-id="1386c-178">Servers which run large applications often log every request: in the face of bulky logs, log rotation is a way to limit the total size of the logs while still allowing analysis of recent events.</span></span> </p><p><span data-ttu-id="1386c-179">La separazione dei log si basa sulla necessità di archiviare i file di log in una partizione diversa da quella in cui viene eseguito il sistema operativo o l'applicazione al fine di evitare un attacco Denial of Service o il downgrade delle prestazioni dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="1386c-179">Log separation basically means that you have to store your log files on a different partition as where your OS/application is running on in order to avert a Denial of service attack or the downgrading of your application its performance</span></span></p>|

## <span data-ttu-id="1386c-180"><a id="log-sensitive-data"></a>Assicurarsi che l'applicazione non registri nel log i dati sensibili degli utenti</span><span class="sxs-lookup"><span data-stu-id="1386c-180"><a id="log-sensitive-data"></a>Ensure that the application does not log sensitive user data</span></span>

| <span data-ttu-id="1386c-181">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-181">Title</span></span>                   | <span data-ttu-id="1386c-182">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-183">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-183">**Component**</span></span>               | <span data-ttu-id="1386c-184">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-184">Web Application</span></span> | 
| <span data-ttu-id="1386c-185">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-185">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-186">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-186">Build</span></span> |  
| <span data-ttu-id="1386c-187">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-187">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-188">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-188">Generic</span></span> |
| <span data-ttu-id="1386c-189">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-189">**Attributes**</span></span>              | <span data-ttu-id="1386c-190">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-190">N/A</span></span>  |
| <span data-ttu-id="1386c-191">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-191">**References**</span></span>              | <span data-ttu-id="1386c-192">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-192">N/A</span></span>  |
| <span data-ttu-id="1386c-193">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-193">**Steps**</span></span>                   | <p><span data-ttu-id="1386c-194">Verificare di non registrare nei log i dati sensibili che un utente invia al sito.</span><span class="sxs-lookup"><span data-stu-id="1386c-194">Check that you do not log any sensitive data that a user submits to your site.</span></span> <span data-ttu-id="1386c-195">Verificare la registrazione intenzionale, nonché gli effetti collaterali causati da problemi di progettazione.</span><span class="sxs-lookup"><span data-stu-id="1386c-195">Check for intentional logging as well as side effects caused by design issues.</span></span> <span data-ttu-id="1386c-196">Esempi di dati sensibili:</span><span class="sxs-lookup"><span data-stu-id="1386c-196">Examples of sensitive data include:</span></span></p><ul><li><span data-ttu-id="1386c-197">Credenziali dell'utente</span><span class="sxs-lookup"><span data-stu-id="1386c-197">User Credentials</span></span></li><li><span data-ttu-id="1386c-198">Codice fiscale o altre informazioni di identificazione</span><span class="sxs-lookup"><span data-stu-id="1386c-198">Social Security number or other identifying information</span></span></li><li><span data-ttu-id="1386c-199">Numeri di carta di credito o altre informazioni finanziarie</span><span class="sxs-lookup"><span data-stu-id="1386c-199">Credit card numbers or other financial information</span></span></li><li><span data-ttu-id="1386c-200">Informazioni sulla salute</span><span class="sxs-lookup"><span data-stu-id="1386c-200">Health information</span></span></li><li><span data-ttu-id="1386c-201">Chiavi private o altri dati che potrebbero essere usati per decrittografare le informazioni crittografate</span><span class="sxs-lookup"><span data-stu-id="1386c-201">Private keys or other data that could be used to decrypt encrypted information</span></span></li><li><span data-ttu-id="1386c-202">Informazioni sul sistema o sull'applicazione che possono essere usate per attaccare l'applicazione in modo più efficace</span><span class="sxs-lookup"><span data-stu-id="1386c-202">System or application information that can be used to more effectively attack the application</span></span></li></ul>|

## <span data-ttu-id="1386c-203"><a id="log-restricted-access"></a>Assicurarsi che l'accesso ai file di log e di controllo sia limitato</span><span class="sxs-lookup"><span data-stu-id="1386c-203"><a id="log-restricted-access"></a>Ensure that Audit and Log Files have Restricted Access</span></span>

| <span data-ttu-id="1386c-204">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-204">Title</span></span>                   | <span data-ttu-id="1386c-205">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-205">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-206">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-206">**Component**</span></span>               | <span data-ttu-id="1386c-207">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-207">Web Application</span></span> | 
| <span data-ttu-id="1386c-208">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-208">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-209">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-209">Build</span></span> |  
| <span data-ttu-id="1386c-210">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-210">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-211">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-211">Generic</span></span> |
| <span data-ttu-id="1386c-212">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-212">**Attributes**</span></span>              | <span data-ttu-id="1386c-213">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-213">N/A</span></span>  |
| <span data-ttu-id="1386c-214">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-214">**References**</span></span>              | <span data-ttu-id="1386c-215">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-215">N/A</span></span>  |
| <span data-ttu-id="1386c-216">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-216">**Steps**</span></span>                   | <p><span data-ttu-id="1386c-217">Verificare che i diritti di accesso ai file di log siano impostati in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="1386c-217">Check to ensure access rights to log files are appropriately set.</span></span> <span data-ttu-id="1386c-218">Gli account dell'applicazione devono avere l'accesso in sola scrittura, mentre gli operatori e il personale di supporto devono disporre dell'accesso in sola lettura a seconda delle esigenze.</span><span class="sxs-lookup"><span data-stu-id="1386c-218">Application accounts should have write-only access and operators and support personnel should have read-only access as needed.</span></span></p><p><span data-ttu-id="1386c-219">Gli account degli amministratori sono gli unici che devono avere accesso completo.</span><span class="sxs-lookup"><span data-stu-id="1386c-219">Administrators accounts are the only accounts which should have full access.</span></span> <span data-ttu-id="1386c-220">Controllare l'ACL di Windows nei file di log per verificare che l'accesso sia limitato nel modo appropriato:</span><span class="sxs-lookup"><span data-stu-id="1386c-220">Check Windows ACL on log files to ensure they are properly restricted:</span></span></p><ul><li><span data-ttu-id="1386c-221">Gli account dell'applicazione devono disporre dell'accesso in sola scrittura</span><span class="sxs-lookup"><span data-stu-id="1386c-221">Application accounts should have write-only access</span></span></li><li><span data-ttu-id="1386c-222">Gli operatori e il personale di supporto devono disporre dell'accesso in sola lettura a seconda delle esigenze</span><span class="sxs-lookup"><span data-stu-id="1386c-222">Operators and support personnel should have read-only access as needed</span></span></li><li><span data-ttu-id="1386c-223">Gli amministratori sono gli unici account che devono avere accesso completo</span><span class="sxs-lookup"><span data-stu-id="1386c-223">Administrators are the only accounts that should have full access</span></span></li></ul>|

## <span data-ttu-id="1386c-224"><a id="user-management"></a>Assicurarsi che gli eventi di Gestione utenti vengano registrati nel log</span><span class="sxs-lookup"><span data-stu-id="1386c-224"><a id="user-management"></a>Ensure that User Management Events are Logged</span></span>

| <span data-ttu-id="1386c-225">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-225">Title</span></span>                   | <span data-ttu-id="1386c-226">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-226">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-227">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-227">**Component**</span></span>               | <span data-ttu-id="1386c-228">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-228">Web Application</span></span> | 
| <span data-ttu-id="1386c-229">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-229">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-230">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-230">Build</span></span> |  
| <span data-ttu-id="1386c-231">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-231">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-232">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-232">Generic</span></span> |
| <span data-ttu-id="1386c-233">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-233">**Attributes**</span></span>              | <span data-ttu-id="1386c-234">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-234">N/A</span></span>  |
| <span data-ttu-id="1386c-235">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-235">**References**</span></span>              | <span data-ttu-id="1386c-236">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-236">N/A</span></span>  |
| <span data-ttu-id="1386c-237">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-237">**Steps**</span></span>                   | <p><span data-ttu-id="1386c-238">Assicurarsi che l'applicazione monitori gli eventi di gestione degli utenti, quali gli accessi utente riusciti e non riusciti, le reimpostazioni e le modifiche delle password, il blocco degli account e la registrazione degli utenti.</span><span class="sxs-lookup"><span data-stu-id="1386c-238">Ensure that the application monitors user management events such as successful and failed user logins, password resets, password changes, account lockout, user registration.</span></span> <span data-ttu-id="1386c-239">Questo monitoraggio consente di rilevare comportamenti potenzialmente sospetti e di reagire con azioni appropriate.</span><span class="sxs-lookup"><span data-stu-id="1386c-239">Doing this helps to detect and react to potentially suspicious behavior.</span></span> <span data-ttu-id="1386c-240">Consente inoltre di raccogliere dati operativi, ad esempio per tenere traccia di chi accede all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1386c-240">It also enables to gather operations data; for example, to track who is accessing the application</span></span></p>|

## <span data-ttu-id="1386c-241"><a id="inbuilt-defenses"></a>Assicurarsi che il sistema disponga di difese integrate contro l'utilizzo improprio</span><span class="sxs-lookup"><span data-stu-id="1386c-241"><a id="inbuilt-defenses"></a>Ensure that the system has inbuilt defenses against misuse</span></span>

| <span data-ttu-id="1386c-242">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-242">Title</span></span>                   | <span data-ttu-id="1386c-243">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-243">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-244">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-244">**Component**</span></span>               | <span data-ttu-id="1386c-245">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-245">Web Application</span></span> | 
| <span data-ttu-id="1386c-246">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-246">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-247">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-247">Build</span></span> |  
| <span data-ttu-id="1386c-248">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-248">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-249">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-249">Generic</span></span> |
| <span data-ttu-id="1386c-250">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-250">**Attributes**</span></span>              | <span data-ttu-id="1386c-251">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-251">N/A</span></span>  |
| <span data-ttu-id="1386c-252">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-252">**References**</span></span>              | <span data-ttu-id="1386c-253">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-253">N/A</span></span>  |
| <span data-ttu-id="1386c-254">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-254">**Steps**</span></span>                   | <p><span data-ttu-id="1386c-255">È necessario impostare dei controlli che generino un'eccezione di sicurezza in caso di utilizzo improprio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1386c-255">Controls should be in place which throw security exception in case of application misuse.</span></span> <span data-ttu-id="1386c-256">Ad esempio, se la convalida dell'input è attiva e un utente malintenzionato tenta di inserire codice dannoso che non corrisponde all'espressione regolare, il sistema può generare un'eccezione di sicurezza che può essere indicativa di un utilizzo improprio.</span><span class="sxs-lookup"><span data-stu-id="1386c-256">E.g., If input validation is in place and an attacker attempts to inject malicious code that does not match the regex, a security exception can be thrown which can be an indicative of system misuse</span></span></p><p><span data-ttu-id="1386c-257">È consigliabile ad esempio registrare le eccezioni di sicurezza e le azioni intraprese per i seguenti problemi:</span><span class="sxs-lookup"><span data-stu-id="1386c-257">For example, it is recommended to have security exceptions logged and actions taken for the following issues:</span></span></p><ul><li><span data-ttu-id="1386c-258">Convalida dell'input</span><span class="sxs-lookup"><span data-stu-id="1386c-258">Input validation</span></span></li><li><span data-ttu-id="1386c-259">Violazioni di richiesta intersito falsa</span><span class="sxs-lookup"><span data-stu-id="1386c-259">CSRF violations</span></span></li><li><span data-ttu-id="1386c-260">Attacchi di forza bruta (limite massimo del numero di richieste per utente per risorsa)</span><span class="sxs-lookup"><span data-stu-id="1386c-260">Brute force (upper limit for number of requests per user per resource)</span></span></li><li><span data-ttu-id="1386c-261">Violazioni di caricamento file</span><span class="sxs-lookup"><span data-stu-id="1386c-261">File upload violations</span></span></li><ul>|

## <span data-ttu-id="1386c-262"><a id="diagnostics-logging"></a>Abilitare la registrazione diagnostica per le app Web nel servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-262"><a id="diagnostics-logging"></a>Enable diagnostics logging for web apps in Azure App Service</span></span>

| <span data-ttu-id="1386c-263">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-263">Title</span></span>                   | <span data-ttu-id="1386c-264">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-264">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-265">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-265">**Component**</span></span>               | <span data-ttu-id="1386c-266">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-266">Web Application</span></span> | 
| <span data-ttu-id="1386c-267">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-267">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-268">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-268">Build</span></span> |  
| <span data-ttu-id="1386c-269">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-269">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-270">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-270">Generic</span></span> |
| <span data-ttu-id="1386c-271">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-271">**Attributes**</span></span>              | <span data-ttu-id="1386c-272">Tipo di ambiente: Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-272">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="1386c-273">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-273">**References**</span></span>              | <span data-ttu-id="1386c-274">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-274">N/A</span></span>  |
| <span data-ttu-id="1386c-275">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-275">**Steps**</span></span> | <p><span data-ttu-id="1386c-276">Azure offre funzionalità di diagnostica integrate per facilitare il debug di un'app Web del servizio app.</span><span class="sxs-lookup"><span data-stu-id="1386c-276">Azure provides built-in diagnostics to assist with debugging an App Service web app.</span></span> <span data-ttu-id="1386c-277">La diagnostica viene applicata anche alle app per le API e alle app per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="1386c-277">It also applies to API apps and mobile apps.</span></span> <span data-ttu-id="1386c-278">App Web del servizio app offre funzionalità diagnostiche per la registrazione di informazioni sia dal server Web sia dall'applicazione Web,</span><span class="sxs-lookup"><span data-stu-id="1386c-278">App Service web apps provide diagnostic functionality for logging information from both the web server and the web application.</span></span></p><p><span data-ttu-id="1386c-279">logicamente separate in diagnostica server Web e diagnostica applicazioni.</span><span class="sxs-lookup"><span data-stu-id="1386c-279">These are logically separated into web server diagnostics and application diagnostics</span></span></p>|

## <span data-ttu-id="1386c-280"><a id="identify-sensitive-entities"></a>Verificare che il controllo degli accessi sia abilitato in SQL Server</span><span class="sxs-lookup"><span data-stu-id="1386c-280"><a id="identify-sensitive-entities"></a>Ensure that login auditing is enabled on SQL Server</span></span>

| <span data-ttu-id="1386c-281">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-281">Title</span></span>                   | <span data-ttu-id="1386c-282">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-282">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-283">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-283">**Component**</span></span>               | <span data-ttu-id="1386c-284">Database</span><span class="sxs-lookup"><span data-stu-id="1386c-284">Database</span></span> | 
| <span data-ttu-id="1386c-285">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-285">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-286">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-286">Build</span></span> |  
| <span data-ttu-id="1386c-287">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-287">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-288">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-288">Generic</span></span> |
| <span data-ttu-id="1386c-289">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-289">**Attributes**</span></span>              | <span data-ttu-id="1386c-290">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-290">N/A</span></span>  |
| <span data-ttu-id="1386c-291">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-291">**References**</span></span>              | [<span data-ttu-id="1386c-292">Configurare il controllo degli accessi</span><span class="sxs-lookup"><span data-stu-id="1386c-292">Configure Login Auditing</span></span>](https://msdn.microsoft.com/library/ms175850.aspx) |
| <span data-ttu-id="1386c-293">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-293">**Steps**</span></span> | <p><span data-ttu-id="1386c-294">Il controllo degli accessi al server di database deve essere abilitato per rilevare/confermare eventuali attacchi mirati a determinare le password di accesso.</span><span class="sxs-lookup"><span data-stu-id="1386c-294">Database Server login auditing must be enabled to detect/confirm password guessing attacks.</span></span> <span data-ttu-id="1386c-295">È importante acquisire i tentativi di accesso non riusciti.</span><span class="sxs-lookup"><span data-stu-id="1386c-295">It is important to capture failed login attempts.</span></span> <span data-ttu-id="1386c-296">L'acquisizione dei tentativi di accesso riusciti e non offre vantaggi aggiuntivi nelle indagini forensi</span><span class="sxs-lookup"><span data-stu-id="1386c-296">Capturing both successful and failed login attempts provides additional benefit during forensic investigations</span></span></p>|

## <span data-ttu-id="1386c-297"><a id="threat-detection"></a>Abilitare il rilevamento delle minacce in SQL Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-297"><a id="threat-detection"></a>Enable Threat detection on Azure SQL</span></span>

| <span data-ttu-id="1386c-298">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-298">Title</span></span>                   | <span data-ttu-id="1386c-299">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-299">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-300">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-300">**Component**</span></span>               | <span data-ttu-id="1386c-301">Database</span><span class="sxs-lookup"><span data-stu-id="1386c-301">Database</span></span> | 
| <span data-ttu-id="1386c-302">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-302">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-303">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-303">Build</span></span> |  
| <span data-ttu-id="1386c-304">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-304">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-305">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-305">SQL Azure</span></span> |
| <span data-ttu-id="1386c-306">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-306">**Attributes**</span></span>              | <span data-ttu-id="1386c-307">Versione SQL: 12</span><span class="sxs-lookup"><span data-stu-id="1386c-307">SQL Version - V12</span></span> |
| <span data-ttu-id="1386c-308">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-308">**References**</span></span>              | [<span data-ttu-id="1386c-309">Introduzione al rilevamento delle minacce nel database SQL</span><span class="sxs-lookup"><span data-stu-id="1386c-309">Get Started with SQL Database Threat Detection</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-threat-detection-get-started/)|
| <span data-ttu-id="1386c-310">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-310">**Steps**</span></span> |<p><span data-ttu-id="1386c-311">La funzionalità di rilevamento delle minacce individua le attività di database che indicano la presenza di potenziali minacce alla sicurezza nel database.</span><span class="sxs-lookup"><span data-stu-id="1386c-311">Threat Detection detects anomalous database activities indicating potential security threats to the database.</span></span> <span data-ttu-id="1386c-312">Tale funzionalità offre un nuovo livello di protezione che consente ai clienti di rilevare e di rispondere alle minacce potenziali non appena si verificano, fornendo avvisi di sicurezza sulle attività anomale.</span><span class="sxs-lookup"><span data-stu-id="1386c-312">It provides a new layer of security, which enables customers to detect and respond to potential threats as they occur by providing security alerts on anomalous activities.</span></span></p><p><span data-ttu-id="1386c-313">Gli utenti possono esaminare gli eventi sospetti tramite il servizio di controllo del database SQL di Azure per determinare se sono il risultato di un tentativo di accesso, una violazione o un exploit dei dati nel database.</span><span class="sxs-lookup"><span data-stu-id="1386c-313">Users can explore the suspicious events using Azure SQL Database Auditing to determine if they result from an attempt to access, breach or exploit data in the database.</span></span></p><p><span data-ttu-id="1386c-314">Il rilevamento delle minacce consente di affrontare le minacce potenziali al database senza dover essere esperti della sicurezza o gestire sistemi di controllo di sicurezza avanzati.</span><span class="sxs-lookup"><span data-stu-id="1386c-314">Threat Detection makes it simple to address potential threats to the database without the need to be a security expert or manage advanced security monitoring systems</span></span></p>|

## <span data-ttu-id="1386c-315"><a id="analytics"></a>Usare la funzionalità di analisi di Archiviazione di Azure per controllare gli accessi di Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-315"><a id="analytics"></a>Use Azure Storage Analytics to audit access of Azure Storage</span></span>

| <span data-ttu-id="1386c-316">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-316">Title</span></span>                   | <span data-ttu-id="1386c-317">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-317">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-318">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-318">**Component**</span></span>               | <span data-ttu-id="1386c-319">Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="1386c-319">Azure Storage</span></span> | 
| <span data-ttu-id="1386c-320">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-320">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-321">Distribuzione</span><span class="sxs-lookup"><span data-stu-id="1386c-321">Deployment</span></span> |  
| <span data-ttu-id="1386c-322">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-322">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-323">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-323">Generic</span></span> |
| <span data-ttu-id="1386c-324">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-324">**Attributes**</span></span>              | <span data-ttu-id="1386c-325">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-325">N/A</span></span> |
| <span data-ttu-id="1386c-326">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-326">**References**</span></span>              | [<span data-ttu-id="1386c-327">Uso di Analisi archiviazione per monitorare il tipo di autorizzazione</span><span class="sxs-lookup"><span data-stu-id="1386c-327">Using Storage Analytics to monitor authorization type</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#storage-analytics) |
| <span data-ttu-id="1386c-328">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-328">**Steps**</span></span> | <p><span data-ttu-id="1386c-329">Per ogni account di archiviazione è possibile abilitare la funzionalità di analisi di Archiviazione di Azure per eseguire la registrazione e archiviare i dati di metrica.</span><span class="sxs-lookup"><span data-stu-id="1386c-329">For each storage account, one can enable Azure Storage Analytics to perform logging and store metrics data.</span></span> <span data-ttu-id="1386c-330">I log di analisi dell'archiviazione rendono disponibili informazioni importanti, quali il metodo di autenticazione usato dagli utenti per accedere alla risorsa di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="1386c-330">The storage analytics logs provide important information such as authentication method used by someone when they access storage.</span></span></p><p><span data-ttu-id="1386c-331">Queste informazioni possono essere molto utili se l'accesso alla risorsa di archiviazione e strettamente protetto.</span><span class="sxs-lookup"><span data-stu-id="1386c-331">This can be really helpful if you are tightly guarding access to storage.</span></span> <span data-ttu-id="1386c-332">Ad esempio, nell'archivio BLOB è possibile impostare tutti i contenitori su privato e implementare l'uso di un servizio di firma di accesso condiviso per tutte le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="1386c-332">For example, in Blob Storage you can set all of the containers to private and implement the use of an SAS service throughout your applications.</span></span> <span data-ttu-id="1386c-333">È quindi possibile controllare i log regolarmente per verificare se l'accesso ai BLOB viene eseguito con chiavi dell'account di archiviazione, cosa che può indicare una violazione della sicurezza, o se i BLOB sono pubblici ma non dovrebbero esserlo.</span><span class="sxs-lookup"><span data-stu-id="1386c-333">Then you can check the logs regularly to see if your blobs are accessed using the storage account keys, which may indicate a breach of security, or if the blobs are public but they shouldn’t be.</span></span></p>|

## <span data-ttu-id="1386c-334"><a id="sufficient-logging"></a>Implementare un livello di registrazione sufficiente</span><span class="sxs-lookup"><span data-stu-id="1386c-334"><a id="sufficient-logging"></a>Implement sufficient Logging</span></span>

| <span data-ttu-id="1386c-335">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-335">Title</span></span>                   | <span data-ttu-id="1386c-336">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-336">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-337">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-337">**Component**</span></span>               | <span data-ttu-id="1386c-338">WCF</span><span class="sxs-lookup"><span data-stu-id="1386c-338">WCF</span></span> | 
| <span data-ttu-id="1386c-339">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-339">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-340">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-340">Build</span></span> |  
| <span data-ttu-id="1386c-341">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-341">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-342">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="1386c-342">.NET Framework</span></span> |
| <span data-ttu-id="1386c-343">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-343">**Attributes**</span></span>              | <span data-ttu-id="1386c-344">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-344">N/A</span></span>  |
| <span data-ttu-id="1386c-345">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-345">**References**</span></span>              | <span data-ttu-id="1386c-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="1386c-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="1386c-347">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-347">**Steps**</span></span> | <p><span data-ttu-id="1386c-348">La mancanza di un'audit trail adeguata dopo un attacco può compromettere le indagini forensi.</span><span class="sxs-lookup"><span data-stu-id="1386c-348">The lack of a proper audit trail after a security incident can hamper forensic efforts.</span></span> <span data-ttu-id="1386c-349">Windows Communication Foundation (WCF) offre la possibilità di registrare i tentativi di autenticazione riusciti e/o non riusciti.</span><span class="sxs-lookup"><span data-stu-id="1386c-349">Windows Communication Foundation (WCF) offers the ability to log successful and/or failed authentication attempts.</span></span></p><p><span data-ttu-id="1386c-350">La registrazione dei tentativi di autenticazione non riusciti può avvisare gli amministratori di potenziali attacchi di forza bruta.</span><span class="sxs-lookup"><span data-stu-id="1386c-350">Logging failed authentication attempts can warn administrators of potential brute-force attacks.</span></span> <span data-ttu-id="1386c-351">Analogamente, la registrazione di eventi di autenticazione riusciti può offrire una utile audit trail in presenza di compromissioni dei account validi.</span><span class="sxs-lookup"><span data-stu-id="1386c-351">Similarly, logging successful authentication events can provide a useful audit trail when a legitimate account is compromised.</span></span> <span data-ttu-id="1386c-352">Abilitare la funzionalità di controllo di sicurezza del servizio di WCF</span><span class="sxs-lookup"><span data-stu-id="1386c-352">Enable WCF's service security audit feature</span></span> |

### <a name="example"></a><span data-ttu-id="1386c-353">Esempio</span><span class="sxs-lookup"><span data-stu-id="1386c-353">Example</span></span>
<span data-ttu-id="1386c-354">Di seguito è riportato un esempio di configurazione con la funzionalità di controllo abilitata</span><span class="sxs-lookup"><span data-stu-id="1386c-354">The following is an example configuration with auditing enabled</span></span>
```
<system.serviceModel>
    <behaviors>
        <serviceBehaviors>
            <behavior name=""NewBehavior"">
                <serviceSecurityAudit auditLogLocation=""Default""
                suppressAuditFailure=""false"" 
                serviceAuthorizationAuditLevel=""SuccessAndFailure""
                messageAuthenticationAuditLevel=""SuccessAndFailure"" />
                ...
            </behavior>
        </servicebehaviors>
    </behaviors>
</system.serviceModel>
```

## <span data-ttu-id="1386c-355"><a id="audit-failure-handling"></a>Implementare un livello di gestione degli errori di controllo sufficiente</span><span class="sxs-lookup"><span data-stu-id="1386c-355"><a id="audit-failure-handling"></a>Implement sufficient Audit Failure Handling</span></span>

| <span data-ttu-id="1386c-356">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-356">Title</span></span>                   | <span data-ttu-id="1386c-357">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-357">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-358">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-358">**Component**</span></span>               | <span data-ttu-id="1386c-359">WCF</span><span class="sxs-lookup"><span data-stu-id="1386c-359">WCF</span></span> | 
| <span data-ttu-id="1386c-360">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-360">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-361">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-361">Build</span></span> |  
| <span data-ttu-id="1386c-362">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-362">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-363">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="1386c-363">.NET Framework</span></span> |
| <span data-ttu-id="1386c-364">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-364">**Attributes**</span></span>              | <span data-ttu-id="1386c-365">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-365">N/A</span></span>  |
| <span data-ttu-id="1386c-366">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-366">**References**</span></span>              | <span data-ttu-id="1386c-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="1386c-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="1386c-368">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-368">**Steps**</span></span> | <p><span data-ttu-id="1386c-369">La soluzione sviluppata è configurata in modo da non generare eccezioni quando non riesce a scrivere in un log di controllo.</span><span class="sxs-lookup"><span data-stu-id="1386c-369">Developed solution is configured not to generate an exception when it fails to write to an audit log.</span></span> <span data-ttu-id="1386c-370">Se WCF è configurato per non generare un'eccezione quando non è in grado di scrivere un log di controllo, il programma non viene avvisato dell'errore ed è possibile che il controllo degli eventi critici della protezione non avvenga.</span><span class="sxs-lookup"><span data-stu-id="1386c-370">If WCF is configured not to throw an exception when it is unable to write to an audit log, the program will not be notified of the failure and auditing of critical security events may not occur.</span></span></p>|

### <a name="example"></a><span data-ttu-id="1386c-371">Esempio</span><span class="sxs-lookup"><span data-stu-id="1386c-371">Example</span></span>
<span data-ttu-id="1386c-372">L'elemento `<behavior/>` seguente del file di configurazione WCF indica a WCF di non notificare all'applicazione quando WCF non riesce a scrivere in un log di controllo.</span><span class="sxs-lookup"><span data-stu-id="1386c-372">The `<behavior/>` element of the WCF configuration file below instructs WCF to not notify the application when WCF fails to write to an audit log.</span></span>
````
<behaviors>
    <serviceBehaviors>
        <behavior name="NewBehavior">
            <serviceSecurityAudit auditLogLocation="Application"
            suppressAuditFailure="true"
            serviceAuthorizationAuditLevel="Success"
            messageAuthenticationAuditLevel="Success" />
        </behavior>
    </serviceBehaviors>
</behaviors>
````
<span data-ttu-id="1386c-373">Configurare WCF in modo da notificare al programma ogni volta che non riesce a scrivere in un log di controllo.</span><span class="sxs-lookup"><span data-stu-id="1386c-373">Configure WCF to notify the program whenever it is unable to write to an audit log.</span></span> <span data-ttu-id="1386c-374">Il programma deve disporre di uno schema di notifica alternativo per avvisare l'organizzazione che le audit trail non vengono mantenute.</span><span class="sxs-lookup"><span data-stu-id="1386c-374">The program should have an alternative notification scheme in place to alert the organization that audit trails are not being maintained.</span></span> 

## <span data-ttu-id="1386c-375"><a id="logging-web-api"></a>Assicurarsi che la funzionalità di controllo e registrazione venga applicata nell'API Web</span><span class="sxs-lookup"><span data-stu-id="1386c-375"><a id="logging-web-api"></a>Ensure that auditing and logging is enforced on Web API</span></span>

| <span data-ttu-id="1386c-376">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-376">Title</span></span>                   | <span data-ttu-id="1386c-377">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-377">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-378">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-378">**Component**</span></span>               | <span data-ttu-id="1386c-379">API Web</span><span class="sxs-lookup"><span data-stu-id="1386c-379">Web API</span></span> | 
| <span data-ttu-id="1386c-380">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-380">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-381">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-381">Build</span></span> |  
| <span data-ttu-id="1386c-382">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-382">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-383">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-383">Generic</span></span> |
| <span data-ttu-id="1386c-384">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-384">**Attributes**</span></span>              | <span data-ttu-id="1386c-385">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-385">N/A</span></span>  |
| <span data-ttu-id="1386c-386">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-386">**References**</span></span>              | <span data-ttu-id="1386c-387">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-387">N/A</span></span>  |
| <span data-ttu-id="1386c-388">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-388">**Steps**</span></span> | <span data-ttu-id="1386c-389">Abilitare il controllo e la registrazione su tutte le API Web.</span><span class="sxs-lookup"><span data-stu-id="1386c-389">Enable auditing and logging on Web APIs.</span></span> <span data-ttu-id="1386c-390">I log di controllo devono acquisire il contesto utente.</span><span class="sxs-lookup"><span data-stu-id="1386c-390">Audit logs should capture user context.</span></span> <span data-ttu-id="1386c-391">Identificare tutti gli eventi importanti e registrarli nel log.</span><span class="sxs-lookup"><span data-stu-id="1386c-391">Identify all important events and log those events.</span></span> <span data-ttu-id="1386c-392">Implementare la registrazione centralizzata</span><span class="sxs-lookup"><span data-stu-id="1386c-392">Implement centralized logging</span></span> |

## <span data-ttu-id="1386c-393"><a id="logging-field-gateway"></a>Assicurarsi che la funzionalità di controllo e registrazione appropriata venga applicata nel gateway sul campo</span><span class="sxs-lookup"><span data-stu-id="1386c-393"><a id="logging-field-gateway"></a>Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>

| <span data-ttu-id="1386c-394">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-394">Title</span></span>                   | <span data-ttu-id="1386c-395">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-396">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-396">**Component**</span></span>               | <span data-ttu-id="1386c-397">Gateway IoT sul campo</span><span class="sxs-lookup"><span data-stu-id="1386c-397">IoT Field Gateway</span></span> | 
| <span data-ttu-id="1386c-398">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-398">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-399">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-399">Build</span></span> |  
| <span data-ttu-id="1386c-400">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-400">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-401">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-401">Generic</span></span> |
| <span data-ttu-id="1386c-402">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-402">**Attributes**</span></span>              | <span data-ttu-id="1386c-403">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-403">N/A</span></span>  |
| <span data-ttu-id="1386c-404">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-404">**References**</span></span>              | <span data-ttu-id="1386c-405">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-405">N/A</span></span>  |
| <span data-ttu-id="1386c-406">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-406">**Steps**</span></span> | <p><span data-ttu-id="1386c-407">Quando più dispositivi si connettono a un gateway sul campo, assicurarsi che i tentativi di connessione e lo stato di autenticazione (esito positivo o negativo) per i singoli dispositivi vengano registrati e conservati nel gateway sul campo.</span><span class="sxs-lookup"><span data-stu-id="1386c-407">When multiple devices connect to a Field Gateway, ensure that connection attempts and authentication status (success or failure) for individual devices are logged and maintained on the Field Gateway.</span></span></p><p><span data-ttu-id="1386c-408">Nei casi in cui il gateway sul campo gestisca le credenziali IoT Hub per i singoli dispositivi, assicurarsi anche che il controllo venga eseguito durante il recupero di queste credenziali. Sviluppare un processo per caricare periodicamente i log nella risorsa di archiviazione Azure/IoT Hub per la conservazione a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="1386c-408">Also, in cases where Field Gateway is maintaining the IoT Hub credentials for individual devices, ensure that auditing is performed when these credentials are retrieved.Develop a process to periodically upload the logs to Azure IoT Hub/storage for long term retention.</span></span></p> |

## <span data-ttu-id="1386c-409"><a id="logging-cloud-gateway"></a>Assicurarsi che la funzionalità di controllo e registrazione appropriata venga applicata nel gateway nel cloud</span><span class="sxs-lookup"><span data-stu-id="1386c-409"><a id="logging-cloud-gateway"></a>Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>

| <span data-ttu-id="1386c-410">Titolo</span><span class="sxs-lookup"><span data-stu-id="1386c-410">Title</span></span>                   | <span data-ttu-id="1386c-411">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1386c-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1386c-412">**Componente**</span><span class="sxs-lookup"><span data-stu-id="1386c-412">**Component**</span></span>               | <span data-ttu-id="1386c-413">Gateway IoT cloud</span><span class="sxs-lookup"><span data-stu-id="1386c-413">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="1386c-414">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="1386c-414">**SDL Phase**</span></span>               | <span data-ttu-id="1386c-415">Compilare</span><span class="sxs-lookup"><span data-stu-id="1386c-415">Build</span></span> |  
| <span data-ttu-id="1386c-416">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="1386c-416">**Applicable Technologies**</span></span> | <span data-ttu-id="1386c-417">Generico</span><span class="sxs-lookup"><span data-stu-id="1386c-417">Generic</span></span> |
| <span data-ttu-id="1386c-418">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="1386c-418">**Attributes**</span></span>              | <span data-ttu-id="1386c-419">N/D</span><span class="sxs-lookup"><span data-stu-id="1386c-419">N/A</span></span>  |
| <span data-ttu-id="1386c-420">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="1386c-420">**References**</span></span>              | [<span data-ttu-id="1386c-421">Introduzione al monitoraggio delle operazioni IoT Hub</span><span class="sxs-lookup"><span data-stu-id="1386c-421">Introduction to IoT Hub operations monitoring</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-operations-monitoring/) |
| <span data-ttu-id="1386c-422">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="1386c-422">**Steps**</span></span> | <p><span data-ttu-id="1386c-423">Progettare la raccolta e l'archiviazione dei dati di controllo raccolti tramite il monitoraggio delle operazioni IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="1386c-423">Design for collecting and storing audit data gathered through IoT Hub Operations Monitoring.</span></span> <span data-ttu-id="1386c-424">Abilitare le categorie di monitoraggio seguenti:</span><span class="sxs-lookup"><span data-stu-id="1386c-424">Enable the following monitoring categories:</span></span></p><ul><li><span data-ttu-id="1386c-425">Operazioni relative alle identità dei dispositivi</span><span class="sxs-lookup"><span data-stu-id="1386c-425">Device identity operations</span></span></li><li><span data-ttu-id="1386c-426">Comunicazioni da dispositivo a cloud</span><span class="sxs-lookup"><span data-stu-id="1386c-426">Device-to-cloud communications</span></span></li><li><span data-ttu-id="1386c-427">Comunicazioni da cloud a dispositivo</span><span class="sxs-lookup"><span data-stu-id="1386c-427">Cloud-to-device communications</span></span></li><li><span data-ttu-id="1386c-428">Connessioni</span><span class="sxs-lookup"><span data-stu-id="1386c-428">Connections</span></span></li><li><span data-ttu-id="1386c-429">Caricamenti di file</span><span class="sxs-lookup"><span data-stu-id="1386c-429">File uploads</span></span></li></ul>|