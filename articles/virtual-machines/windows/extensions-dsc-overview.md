---
title: Configurazione dello stato per una panoramica di Azure aaaDesired | Documenti Microsoft
description: "Panoramica per l'utilizzo di gestore di estensioni di Microsoft Azure hello per PowerShell Desired State Configuration. Inclusi prerequisiti, architettura, cmdlet e così via."
services: virtual-machines-windows
documentationcenter: 
author: zjalexander
manager: timlt
editor: 
tags: azure-service-management,azure-resource-manager
keywords: 
ms.assetid: bbacbc93-1e7b-4611-a3ec-e3320641f9ba
ms.service: virtual-machines-windows
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: na
ms.date: 01/09/2017
ms.author: zachal
ms.openlocfilehash: b0337a2f1124f35e5e40c1478bd7530427e59d44
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="introduction-toohello-azure-desired-state-configuration-extension-handler"></a><span data-ttu-id="d3d63-104">Gestore di estensioni di Azure DSC toohello introduzione</span><span class="sxs-lookup"><span data-stu-id="d3d63-104">Introduction toohello Azure Desired State Configuration extension handler</span></span>
[!INCLUDE [learn-about-deployment-models](../../../includes/learn-about-deployment-models-both-include.md)]

<span data-ttu-id="d3d63-105">Hello agente VM di Azure e le estensioni associate fanno parte di hello servizi infrastruttura di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-105">hello Azure VM Agent and associated Extensions are part of hello Microsoft Azure Infrastructure Services.</span></span> <span data-ttu-id="d3d63-106">Le estensioni VM sono componenti software che estendono le funzionalità di macchina virtuale hello e semplificano le operazioni di gestione diverse VM.</span><span class="sxs-lookup"><span data-stu-id="d3d63-106">VM Extensions are software components that extend hello VM functionality and simplify various VM management operations.</span></span> <span data-ttu-id="d3d63-107">Ad esempio, hello estensione VMAccess può essere utilizzato tooreset una password dell'amministratore o hello Custom Script estensione può essere utilizzato tooexecute uno script nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-107">For example, hello VMAccess extension can be used tooreset an administrator's password, or hello Custom Script extension can be used tooexecute a script on hello VM.</span></span>

<span data-ttu-id="d3d63-108">Questo articolo descrive hello estensione PowerShell DSC Desired State Configuration () per le macchine virtuali di Azure come parte di hello Azure PowerShell SDK.</span><span class="sxs-lookup"><span data-stu-id="d3d63-108">This article introduces hello PowerShell Desired State Configuration (DSC) Extension for Azure VMs as part of hello Azure PowerShell SDK.</span></span> <span data-ttu-id="d3d63-109">È possibile utilizzare i nuovi cmdlet tooupload e applicare una configurazione DSC PowerShell in una macchina virtuale di Azure abilitata con l'estensione DSC PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-109">You can use new cmdlets tooupload and apply a PowerShell DSC configuration on an Azure VM enabled with hello PowerShell DSC extension.</span></span> <span data-ttu-id="d3d63-110">chiamate di estensione DSC PowerShell Hello in hello tooenact PowerShell DSC ha ricevuto la configurazione DSC in hello VM.</span><span class="sxs-lookup"><span data-stu-id="d3d63-110">hello PowerShell DSC extension calls into PowerShell DSC tooenact hello received DSC configuration on hello VM.</span></span> <span data-ttu-id="d3d63-111">Questa funzionalità è anche disponibile tramite hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-111">This functionality is also available through hello Azure portal.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="d3d63-112">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="d3d63-112">Prerequisites</span></span>
<span data-ttu-id="d3d63-113">**Computer locale** toointeract con hello estensione della macchina virtuale di Azure, è necessario toouse entrambi hello portale di Azure o hello Azure PowerShell SDK.</span><span class="sxs-lookup"><span data-stu-id="d3d63-113">**Local machine** toointeract with hello Azure VM extension, you need toouse either hello Azure portal or hello Azure PowerShell SDK.</span></span> 

<span data-ttu-id="d3d63-114">**Agente guest** hello macchina virtuale di Azure è configurata per la configurazione DSC hello deve toobe un sistema operativo che supporta Windows Management Framework (WMF) 4.0 o 5.0.</span><span class="sxs-lookup"><span data-stu-id="d3d63-114">**Guest Agent** hello Azure VM that is configured by hello DSC configuration needs toobe an OS that supports either Windows Management Framework (WMF) 4.0 or 5.0.</span></span> <span data-ttu-id="d3d63-115">elenco completo di Hello versioni supportate del sistema operativo è reperibile in hello [cronologia delle versioni estensione DSC](https://blogs.msdn.microsoft.com/powershell/2014/11/20/release-history-for-the-azure-dsc-extension/).</span><span class="sxs-lookup"><span data-stu-id="d3d63-115">hello full list of supported OS versions can be found at hello [DSC Extension Version History](https://blogs.msdn.microsoft.com/powershell/2014/11/20/release-history-for-the-azure-dsc-extension/).</span></span>

## <a name="terms-and-concepts"></a><span data-ttu-id="d3d63-116">Termini e concetti</span><span class="sxs-lookup"><span data-stu-id="d3d63-116">Terms and concepts</span></span>
<span data-ttu-id="d3d63-117">Questa guida si presuppone una certa familiarità con hello seguenti concetti:</span><span class="sxs-lookup"><span data-stu-id="d3d63-117">This guide presumes familiarity with hello following concepts:</span></span>

<span data-ttu-id="d3d63-118">Configurazione: documento di configurazione DSC.</span><span class="sxs-lookup"><span data-stu-id="d3d63-118">Configuration - A DSC configuration document.</span></span> 

<span data-ttu-id="d3d63-119">Nodo: destinazione per una configurazione DSC.</span><span class="sxs-lookup"><span data-stu-id="d3d63-119">Node - A target for a DSC configuration.</span></span> <span data-ttu-id="d3d63-120">In questo documento, "il termine nodo" fa sempre riferimento tooan macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-120">In this document, "node" always refers tooan Azure VM.</span></span>

<span data-ttu-id="d3d63-121">Dati di configurazione: file con estensione psd1 contenente i dati ambientali per una configurazione.</span><span class="sxs-lookup"><span data-stu-id="d3d63-121">Configuration Data - A .psd1 file containing environmental data for a configuration</span></span>

## <a name="architectural-overview"></a><span data-ttu-id="d3d63-122">Panoramica dell'architettura</span><span class="sxs-lookup"><span data-stu-id="d3d63-122">Architectural overview</span></span>
<span data-ttu-id="d3d63-123">Hello estensione DSC di Azure Usa hello agente VM di Azure framework toodeliver, applicare e segnalare le configurazioni DSC in esecuzione in macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-123">hello Azure DSC extension uses hello Azure VM Agent framework toodeliver, enact, and report on DSC configurations running on Azure VMs.</span></span> <span data-ttu-id="d3d63-124">estensione DSC Hello prevede un file con estensione zip che contiene almeno un documento di configurazione e un set di parametri forniti tramite Azure PowerShell SDK hello o hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-124">hello DSC extension expects a .zip file containing at least a configuration document, and a set of parameters provided either through hello Azure PowerShell SDK or through hello Azure portal.</span></span>

<span data-ttu-id="d3d63-125">Estensione hello viene chiamato per hello prima volta, viene eseguito un processo di installazione.</span><span class="sxs-lookup"><span data-stu-id="d3d63-125">When hello extension is called for hello first time, it runs an installation process.</span></span> <span data-ttu-id="d3d63-126">Questo processo installa una versione di hello Windows Management Framework (WMF) utilizzando hello seguente logica:</span><span class="sxs-lookup"><span data-stu-id="d3d63-126">This process installs a version of hello Windows Management Framework (WMF) using hello following logic:</span></span>

1. <span data-ttu-id="d3d63-127">Se Windows Server 2016 hello del sistema operativo VM di Azure, viene eseguita alcuna azione.</span><span class="sxs-lookup"><span data-stu-id="d3d63-127">If hello Azure VM OS is Windows Server 2016, no action is taken.</span></span> <span data-ttu-id="d3d63-128">Windows Server 2016 già versione più recente di hello di PowerShell installata.</span><span class="sxs-lookup"><span data-stu-id="d3d63-128">Windows Server 2016 already has hello latest version of PowerShell installed.</span></span>
2. <span data-ttu-id="d3d63-129">Se hello `wmfVersion` proprietà viene specificata la versione di hello WMF è installati, a meno che non è compatibile con sistema operativo della macchina virtuale di hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-129">If hello `wmfVersion` property is specified, that version of hello WMF is installed unless it is incompatible with hello VM's OS.</span></span>
3. <span data-ttu-id="d3d63-130">Se non `wmfVersion` proprietà viene specificata, viene installato hello più recente versione applicabile di hello WMF.</span><span class="sxs-lookup"><span data-stu-id="d3d63-130">If no `wmfVersion` property is specified, hello latest applicable version of hello WMF is installed.</span></span>

<span data-ttu-id="d3d63-131">L'installazione di WMF hello richiede un riavvio.</span><span class="sxs-lookup"><span data-stu-id="d3d63-131">Installation of hello WMF requires a reboot.</span></span> <span data-ttu-id="d3d63-132">Dopo il riavvio, estensione hello Scarica i file con estensione zip hello specificato in hello `modulesUrl` proprietà.</span><span class="sxs-lookup"><span data-stu-id="d3d63-132">After reboot, hello extension downloads hello .zip file specified in hello `modulesUrl` property.</span></span> <span data-ttu-id="d3d63-133">Se questo percorso nell'archiviazione blob di Azure, è possibile specificare un token di firma di accesso condiviso in hello `sasToken` tooaccess proprietà hello file.</span><span class="sxs-lookup"><span data-stu-id="d3d63-133">If this location is in Azure blob storage, a SAS token can be specified in hello `sasToken` property tooaccess hello file.</span></span> <span data-ttu-id="d3d63-134">Dopo aver ZIP hello viene scaricato e decompresso, hello definito nella funzione di configurazione `configurationFunction` esecuzione file MOF di hello toogenerate.</span><span class="sxs-lookup"><span data-stu-id="d3d63-134">After hello .zip is downloaded and unpacked, hello configuration function defined in `configurationFunction` is run toogenerate hello MOF file.</span></span> <span data-ttu-id="d3d63-135">estensione Hello esegue quindi `Start-DscConfiguration -Force` nel file MOF di hello generato.</span><span class="sxs-lookup"><span data-stu-id="d3d63-135">hello extension then runs `Start-DscConfiguration -Force` on hello generated MOF file.</span></span> <span data-ttu-id="d3d63-136">estensione Hello acquisisce l'output e lo scrive nuovamente toohello canale lo stato di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-136">hello extension captures output and writes it back out toohello Azure Status Channel.</span></span> <span data-ttu-id="d3d63-137">Da questo momento, hello Gestione configurazione locale DSC gestisce il monitoraggio e correzione come di consueto.</span><span class="sxs-lookup"><span data-stu-id="d3d63-137">From this point on, hello DSC LCM handles monitoring and correction as normal.</span></span> 

## <a name="powershell-cmdlets"></a><span data-ttu-id="d3d63-138">Cmdlet PowerShell</span><span class="sxs-lookup"><span data-stu-id="d3d63-138">PowerShell cmdlets</span></span>
<span data-ttu-id="d3d63-139">I cmdlet di PowerShell possono essere utilizzati con Gestione risorse di Azure o hello toopackage modello di distribuzione classica, pubblicano e monitorare le distribuzioni di estensione DSC.</span><span class="sxs-lookup"><span data-stu-id="d3d63-139">PowerShell cmdlets can be used with Azure Resource Manager or hello classic deployment model toopackage, publish, and monitor DSC extension deployments.</span></span> <span data-ttu-id="d3d63-140">i cmdlet seguenti elencati Hello sono moduli di distribuzione classica hello, ma "Azure" può essere sostituito con modello di gestione risorse di Azure hello toouse "Azure Resource Manager".</span><span class="sxs-lookup"><span data-stu-id="d3d63-140">hello following cmdlets listed are hello classic deployment modules, but "Azure" can be replaced with "AzureRm" toouse hello Azure Resource Manager model.</span></span> <span data-ttu-id="d3d63-141">Ad esempio, `Publish-AzureVMDscConfiguration` utilizza hello modello di distribuzione classico, in cui `Publish-AzureRmVMDscConfiguration` Usa Gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-141">For example,  `Publish-AzureVMDscConfiguration` uses hello classic deployment model, where `Publish-AzureRmVMDscConfiguration` uses Azure Resource Manager.</span></span> 

<span data-ttu-id="d3d63-142">`Publish-AzureVMDscConfiguration`accetta un file di configurazione, esegue l'analisi per le risorse DSC dipendenti e crea un file zip contenente hello e configurazione di hello tooenact necessarie risorse DSC.</span><span class="sxs-lookup"><span data-stu-id="d3d63-142">`Publish-AzureVMDscConfiguration` takes in a configuration file, scans it for dependent DSC resources, and creates a .zip file containing hello configuration and DSC resources needed tooenact hello configuration.</span></span> <span data-ttu-id="d3d63-143">Inoltre, è possibile creare pacchetti hello in locale utilizzando hello `-ConfigurationArchivePath` parametro.</span><span class="sxs-lookup"><span data-stu-id="d3d63-143">It can also create hello package locally using hello `-ConfigurationArchivePath` parameter.</span></span> <span data-ttu-id="d3d63-144">In caso contrario, pubblica l'archiviazione di blob tooAzure file con estensione zip hello e protegge con un token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="d3d63-144">Otherwise, it publishes hello .zip file tooAzure blob storage and secures it with a SAS token.</span></span>

<span data-ttu-id="d3d63-145">file con estensione zip Hello creati da questo cmdlet ha script di configurazione con estensione ps1 hello nella radice di hello della cartella di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-145">hello .zip file created by this cmdlet has hello .ps1 configuration script at hello root of hello archive folder.</span></span> <span data-ttu-id="d3d63-146">Risorse hanno inserito nella cartella di archiviazione hello cartella del modulo di hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-146">Resources have hello module folder placed in hello archive folder.</span></span> 

<span data-ttu-id="d3d63-147">`Set-AzureVMDscExtension`Inserisce le impostazioni di hello necessarie hello estensione DSC PowerShell in un oggetto configurazione macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="d3d63-147">`Set-AzureVMDscExtension` injects hello settings needed by hello PowerShell DSC extension into a VM configuration object.</span></span> <span data-ttu-id="d3d63-148">Nel modello di distribuzione classica hello, modifiche alla macchina virtuale hello deve essere applicato tooan macchina virtuale di Azure con `Update-AzureVM`.</span><span class="sxs-lookup"><span data-stu-id="d3d63-148">In hello classic deployment model, hello VM changes must be applied tooan Azure VM with `Update-AzureVM`.</span></span> 

<span data-ttu-id="d3d63-149">`Get-AzureVMDscExtension`Recupera lo stato dell'estensione DSC hello di una determinata macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="d3d63-149">`Get-AzureVMDscExtension` retrieves hello DSC extension status of a particular VM.</span></span> 

<span data-ttu-id="d3d63-150">`Get-AzureVMDscExtensionStatus`Recupera informazioni sullo stato hello di configurazione di DSC hello applicata dal gestore dell'estensione DSC hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-150">`Get-AzureVMDscExtensionStatus` retrieves hello status of hello DSC configuration enacted by hello DSC extension handler.</span></span> <span data-ttu-id="d3d63-151">Questa azione può essere eseguita su una singola VM o su un gruppo di VM.</span><span class="sxs-lookup"><span data-stu-id="d3d63-151">This action can be performed on a single VM, or group of VMs.</span></span>

<span data-ttu-id="d3d63-152">`Remove-AzureVMDscExtension`Rimuove il gestore di estensioni di hello da una macchina virtuale specificata.</span><span class="sxs-lookup"><span data-stu-id="d3d63-152">`Remove-AzureVMDscExtension` removes hello extension handler from a given virtual machine.</span></span> <span data-ttu-id="d3d63-153">Questo cmdlet non **non** rimuovere la configurazione di hello, disinstallare WMF hello o modificare le impostazioni applicata hello nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-153">This cmdlet does **not** remove hello configuration, uninstall hello WMF, or change hello applied settings on hello virtual machine.</span></span> <span data-ttu-id="d3d63-154">Rimuove solo il gestore dell'estensione hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-154">It only removes hello extension handler.</span></span> 

<span data-ttu-id="d3d63-155">**Differenze principali tra cmdlet ASM e cmdlet di Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="d3d63-155">**Key differences in ASM and Azure Resource Manager cmdlets**</span></span>

* <span data-ttu-id="d3d63-156">I cmdlet di Azure Resource Manager sono sincroni,</span><span class="sxs-lookup"><span data-stu-id="d3d63-156">Azure Resource Manager cmdlets are synchronous.</span></span> <span data-ttu-id="d3d63-157">mentre i cmdlet di Gestione dei servizi di Azure sono asincroni.</span><span class="sxs-lookup"><span data-stu-id="d3d63-157">ASM cmdlets are asynchronous.</span></span>
* <span data-ttu-id="d3d63-158">ResourceGroupName, VMName, ArchiveStorageAccountName, Version e Location sono tutti parametri obbligatori in Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d3d63-158">ResourceGroupName, VMName, ArchiveStorageAccountName, Version, and Location are all required parameters in Azure Resource Manager.</span></span>
* <span data-ttu-id="d3d63-159">ArchiveResourceGroupName è un nuovo parametro facoltativo per Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d3d63-159">ArchiveResourceGroupName is a new optional parameter for Azure Resource Manager.</span></span> <span data-ttu-id="d3d63-160">È possibile specificare questo parametro quando l'account di archiviazione appartiene tooa gruppo di risorse diverso rispetto a hello uno in cui viene creato macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-160">You can specify this parameter when your storage account belongs tooa different resource group than hello one where hello virtual machine is created.</span></span>
* <span data-ttu-id="d3d63-161">ConfigurationArchive è denominato ArchiveBlobName in Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d3d63-161">ConfigurationArchive is called ArchiveBlobName in Azure Resource Manager</span></span>
* <span data-ttu-id="d3d63-162">ContainerName è denominato ArchiveContainerName in Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d3d63-162">ContainerName is called ArchiveContainerName in Azure Resource Manager</span></span>
* <span data-ttu-id="d3d63-163">StorageEndpointSuffix è denominato ArchiveStorageEndpointSuffix in Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d3d63-163">StorageEndpointSuffix is called ArchiveStorageEndpointSuffix in Azure Resource Manager</span></span>
* <span data-ttu-id="d3d63-164">opzione di aggiornamento automatico di Hello è stato aggiunto tooAzure tooenable Gestione risorse di hello estensione gestore toohello versione più recente come e quando è disponibile l'aggiornamento automatico.</span><span class="sxs-lookup"><span data-stu-id="d3d63-164">hello AutoUpdate switch has been added tooAzure Resource Manager tooenable automatic updating of hello extension handler toohello latest version as and when it is available.</span></span> <span data-ttu-id="d3d63-165">Si noti che questo parametro ha toocause potenziali hello viene riavviato nel hello VM quando una nuova versione di hello che WMF viene rilasciato.</span><span class="sxs-lookup"><span data-stu-id="d3d63-165">Note this parameter has hello potential toocause reboots on hello VM when a new version of hello WMF is released.</span></span> 

## <a name="azure-portal-functionality"></a><span data-ttu-id="d3d63-166">Funzionalità del portale di Azure</span><span class="sxs-lookup"><span data-stu-id="d3d63-166">Azure portal functionality</span></span>
<span data-ttu-id="d3d63-167">Sfoglia tooa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="d3d63-167">Browse tooa VM.</span></span> <span data-ttu-id="d3d63-168">In Impostazioni -> Generale fare clic su "Estensioni".</span><span class="sxs-lookup"><span data-stu-id="d3d63-168">Under Settings -> General click "Extensions."</span></span> <span data-ttu-id="d3d63-169">Verrà creato un nuovo riquadro.</span><span class="sxs-lookup"><span data-stu-id="d3d63-169">A new pane is created.</span></span> <span data-ttu-id="d3d63-170">Fare clic su Add e selezionare PowerShell DSC.</span><span class="sxs-lookup"><span data-stu-id="d3d63-170">Click "Add" and select PowerShell DSC.</span></span>

<span data-ttu-id="d3d63-171">portale di Hello richiede input.</span><span class="sxs-lookup"><span data-stu-id="d3d63-171">hello portal needs input.</span></span>
<span data-ttu-id="d3d63-172">**Configuration Modules or Script**(Moduli o script di configurazione): questo è un campo obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="d3d63-172">**Configuration Modules or Script**: This field is mandatory.</span></span> <span data-ttu-id="d3d63-173">È necessario un file con estensione ps1 che contiene uno script di configurazione o un file ZIP con uno script di configurazione con estensione ps1 nella directory principale di hello e tutte le risorse dipendenti nelle cartelle di modulo all'interno di hello ZIP.</span><span class="sxs-lookup"><span data-stu-id="d3d63-173">Requires a .ps1 file containing a configuration script, or a .zip file with a .ps1 configuration script at hello root, and all dependent resources in module folders within hello .zip.</span></span> <span data-ttu-id="d3d63-174">Può essere creato con hello `Publish-AzureVMDscConfiguration -ConfigurationArchivePath` cmdlet inclusi in hello Azure PowerShell SDK.</span><span class="sxs-lookup"><span data-stu-id="d3d63-174">It can be created with hello `Publish-AzureVMDscConfiguration -ConfigurationArchivePath` cmdlet included in hello Azure PowerShell SDK.</span></span> <span data-ttu-id="d3d63-175">file con estensione zip Hello verrà caricate nell'archiviazione blob utente protetto da un token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="d3d63-175">hello .zip file is uploaded into your user blob storage secured by a SAS token.</span></span> 

<span data-ttu-id="d3d63-176">**Configuration Data PSD1 File**(File PSD1 dati di configurazione): questo è un campo facoltativo.</span><span class="sxs-lookup"><span data-stu-id="d3d63-176">**Configuration Data PSD1 File**: This field is optional.</span></span> <span data-ttu-id="d3d63-177">Se la configurazione richiede un file di dati di configurazione in psd1, utilizzare tooselect questo campo è e caricarlo archiviazione blob di tooyour utente, in cui si è protetto da un token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="d3d63-177">If your configuration requires a configuration data file in .psd1, use this field tooselect it and upload it tooyour user blob storage, where it is secured by a SAS token.</span></span> 

<span data-ttu-id="d3d63-178">**Module-Qualified Name of Configuration**: i file con estensione .ps1 possono avere più funzioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="d3d63-178">**Module-Qualified Name of Configuration**: .ps1 files can have multiple configuration functions.</span></span> <span data-ttu-id="d3d63-179">Immettere il nome di hello dello script con estensione PS1 di configurazione hello seguito da un '\' e il nome della funzione di configurazione hello hello.</span><span class="sxs-lookup"><span data-stu-id="d3d63-179">Enter hello name of hello configuration .ps1 script followed by a  '\' and hello name of hello configuration function.</span></span> <span data-ttu-id="d3d63-180">Ad esempio, se lo script con estensione ps1 ha nome hello "configuration.ps1" e la configurazione di hello è "IisInstall", immettere:`configuration.ps1\IisInstall`</span><span class="sxs-lookup"><span data-stu-id="d3d63-180">For example, if your .ps1 script has hello name "configuration.ps1", and hello configuration is "IisInstall", you would enter: `configuration.ps1\IisInstall`</span></span>

<span data-ttu-id="d3d63-181">**Gli argomenti di configurazione**: se la funzione di configurazione hello accetta argomenti, immetterli in questa pagina in formato hello `argumentName1=value1,argumentName2=value2`.</span><span class="sxs-lookup"><span data-stu-id="d3d63-181">**Configuration Arguments**: If hello configuration function takes arguments, enter them in here in hello format `argumentName1=value1,argumentName2=value2`.</span></span> <span data-ttu-id="d3d63-182">Questo formato è diverso rispetto a quello in cui vengono accettati gli argomenti di configurazione tramite i cmdlet di PowerShell o i modelli di Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d3d63-182">Note this format is a different format than how configuration arguments are accepted through PowerShell cmdlets or Resource Manager templates.</span></span> 

## <a name="getting-started"></a><span data-ttu-id="d3d63-183">introduttiva</span><span class="sxs-lookup"><span data-stu-id="d3d63-183">Getting started</span></span>
<span data-ttu-id="d3d63-184">Hello estensione DSC di Azure accetta i documenti di configurazione DSC e li successivamente vengono eseguiti in macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3d63-184">hello Azure DSC extension takes in DSC configuration documents and enacts them on Azure VMs.</span></span> <span data-ttu-id="d3d63-185">Di seguito è riportato un semplice esempio di configurazione.</span><span class="sxs-lookup"><span data-stu-id="d3d63-185">A simple example of a configuration follows.</span></span> <span data-ttu-id="d3d63-186">Salvarlo in locale come "IisInstall.ps1":</span><span class="sxs-lookup"><span data-stu-id="d3d63-186">Save it locally as "IisInstall.ps1":</span></span>

```powershell
configuration IISInstall 
{ 
    node "localhost"
    { 
        WindowsFeature IIS 
        { 
            Ensure = "Present" 
            Name = "Web-Server"                       
        } 
    } 
}
```

<span data-ttu-id="d3d63-187">Hello seguendo i passaggi sul posto hello IisInstall.ps1 script hello specificato macchina virtuale, eseguire la configurazione hello e segnalare lo stato.</span><span class="sxs-lookup"><span data-stu-id="d3d63-187">hello following steps place hello IisInstall.ps1 script on hello specified VM, execute hello configuration, and report back on status.</span></span>
###<a name="classic-model"></a><span data-ttu-id="d3d63-188">Modello classico</span><span class="sxs-lookup"><span data-stu-id="d3d63-188">Classic model</span></span>
```powershell
#Azure PowerShell cmdlets are required
Import-Module Azure

#Use an existing Azure Virtual Machine, 'DscDemo1'
$demoVM = Get-AzureVM DscDemo1

#Publish hello configuration script into user storage.
Publish-AzureVMDscConfiguration -ConfigurationPath ".\IisInstall.ps1" -StorageContext $storageContext -Verbose -Force

#Set hello VM toorun hello DSC configuration
Set-AzureVMDscExtension -VM $demoVM -ConfigurationArchive "IisInstall.ps1.zip" -StorageContext $storageContext -ConfigurationName "IisInstall" -Verbose

#Update hello configuration of an Azure Virtual Machine
$demoVM | Update-AzureVM -Verbose

#check on status
Get-AzureVMDscExtensionStatus -VM $demovm -Verbose
```
###<a name="azure-resource-manager-model"></a><span data-ttu-id="d3d63-189">Modello di Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d3d63-189">Azure Resource Manager model</span></span>

```powershell
$resourceGroup = "dscVmDemo"
$location = "westus"
$vmName = "myVM"
$storageName = "demostorage"
#Publish hello configuration script into user storage
Publish-AzureRmVMDscConfiguration -ConfigurationPath .\iisInstall.ps1 -ResourceGroupName $resourceGroup -StorageAccountName $storageName -force
#Set hello VM toorun hello DSC configuration
Set-AzureRmVmDscExtension -Version 2.21 -ResourceGroupName $resourceGroup -VMName $vmName -ArchiveStorageAccountName $storageName -ArchiveBlobName iisInstall.ps1.zip -AutoUpdate:$true -ConfigurationName "IISInstall"

```

## <a name="logging"></a><span data-ttu-id="d3d63-190">Registrazione</span><span class="sxs-lookup"><span data-stu-id="d3d63-190">Logging</span></span>
<span data-ttu-id="d3d63-191">I log vengono inseriti in:</span><span class="sxs-lookup"><span data-stu-id="d3d63-191">Logs are placed in:</span></span>

<span data-ttu-id="d3d63-192">C:\WindowsAzure\Logs\Plugins\Microsoft.Powershell.DSC\[Numero versione]</span><span class="sxs-lookup"><span data-stu-id="d3d63-192">C:\WindowsAzure\Logs\Plugins\Microsoft.Powershell.DSC\[Version Number]</span></span>

## <a name="next-steps"></a><span data-ttu-id="d3d63-193">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="d3d63-193">Next steps</span></span>
<span data-ttu-id="d3d63-194">Per ulteriori informazioni su PowerShell DSC, [visitare Centro documentazione di PowerShell hello](https://msdn.microsoft.com/powershell/dsc/overview).</span><span class="sxs-lookup"><span data-stu-id="d3d63-194">For more information about PowerShell DSC, [visit hello PowerShell documentation center](https://msdn.microsoft.com/powershell/dsc/overview).</span></span> 

<span data-ttu-id="d3d63-195">Esaminare hello [il modello di gestione risorse di Azure per l'estensione DSC hello](extensions-dsc-template.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d3d63-195">Examine hello [Azure Resource Manager template for hello DSC extension](extensions-dsc-template.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> 

<span data-ttu-id="d3d63-196">funzionalità aggiuntive di toofind è possibile gestire con PowerShell DSC, [Sfoglia raccolta PowerShell hello](https://www.powershellgallery.com/packages?q=DscResource&x=0&y=0) per più risorse DSC.</span><span class="sxs-lookup"><span data-stu-id="d3d63-196">toofind additional functionality you can manage with PowerShell DSC, [browse hello PowerShell gallery](https://www.powershellgallery.com/packages?q=DscResource&x=0&y=0) for more DSC resources.</span></span>

<span data-ttu-id="d3d63-197">Per ulteriori informazioni sul passaggio di parametri sensibili in configurazioni, vedere [gestire le credenziali in modo sicuro con gestore dell'estensione DSC hello](extensions-dsc-credentials.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d3d63-197">For details on passing sensitive parameters into configurations, see [Manage credentials securely with hello DSC extension handler](extensions-dsc-credentials.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

