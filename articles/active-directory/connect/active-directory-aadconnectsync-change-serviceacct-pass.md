---
title: 'Sincronizzazione di Azure AD Connect: la modifica di account del servizio di sincronizzazione connettersi hello Azure AD | Documenti Microsoft'
description: Il documento di questo argomento descrive la chiave di crittografia hello e come tooabandon dopo password hello viene modificato.
services: active-directory
keywords: Account del servizio Azure AD Sync, password
documentationcenter: 
author: cychua
manager: femila
editor: 
ms.assetid: 76b19162-8b16-4960-9e22-bd64e6675ecc
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 11948ac4662f722e4f684ef6c9b9ccdc6387e60f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="changing-hello-azure-ad-connect-sync-service-account-password"></a><span data-ttu-id="49a27-104">Modifica password account del servizio sincronizzazione hello Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="49a27-104">Changing hello Azure AD Connect sync service account password</span></span>
<span data-ttu-id="49a27-105">Se si modifica password account del servizio sincronizzazione hello Azure AD Connect, hello servizio di sincronizzazione non sarà in grado di avviare correttamente finché non si hanno abbandonato la chiave di crittografia hello e reinizializzata password account del servizio sincronizzazione hello Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="49a27-105">If you change hello  Azure AD Connect sync service account password, hello Synchronization Service will not be able start correctly until you have abandoned hello encryption key and reinitialized hello Azure AD Connect sync service account password.</span></span> 

<span data-ttu-id="49a27-106">Azure AD Connect, come parte di hello Synchronization Services utilizza una password di hello toostore chiave di crittografia di hello di dominio Active Directory e gli account del servizio Azure AD.</span><span class="sxs-lookup"><span data-stu-id="49a27-106">Azure AD Connect, as part of hello Synchronization Services uses an encryption key toostore hello passwords of hello AD DS and Azure AD service accounts.</span></span>  <span data-ttu-id="49a27-107">Questi account vengono crittografati prima di essere archiviati nel database di hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-107">These accounts are encrypted before they are stored in hello database.</span></span> 

<span data-ttu-id="49a27-108">Hello chiave di crittografia utilizzata sia protetta con [Windows Data Protection (DPAPI)](https://msdn.microsoft.com/library/ms995355.aspx).</span><span class="sxs-lookup"><span data-stu-id="49a27-108">hello encryption key used is secured using [Windows Data Protection (DPAPI)](https://msdn.microsoft.com/library/ms995355.aspx).</span></span> <span data-ttu-id="49a27-109">DPAPI protegge chiave di crittografia di hello utilizzando hello **password dell'account di servizio hello Azure AD Connect sincronizzazione**.</span><span class="sxs-lookup"><span data-stu-id="49a27-109">DPAPI protects hello encryption key using hello **password of hello Azure AD Connect sync service account**.</span></span> 

<span data-ttu-id="49a27-110">Se è necessario toochange password account del servizio hello è possibile utilizzare le procedure di hello in [chiave di crittografia Abandoning hello Azure AD Sync connettersi](#abandoning-the-azure-ad-connect-sync-encryption-key) tooaccomplish questo.</span><span class="sxs-lookup"><span data-stu-id="49a27-110">If you need toochange hello service account password you can use hello procedures in [Abandoning hello Azure AD Connect Sync encryption key](#abandoning-the-azure-ad-connect-sync-encryption-key) tooaccomplish this.</span></span>  <span data-ttu-id="49a27-111">Queste procedure devono essere utilizzate anche se è necessario chiave di crittografia hello tooabandon per qualsiasi motivo.</span><span class="sxs-lookup"><span data-stu-id="49a27-111">These procedures should also be used if you need tooabandon hello encryption key for any reason.</span></span>

##<a name="issues-that-arise-from-changing-hello-password"></a><span data-ttu-id="49a27-112">Problemi causati da Modifica password hello</span><span class="sxs-lookup"><span data-stu-id="49a27-112">Issues that arise from changing hello password</span></span>
<span data-ttu-id="49a27-113">Sono presenti due elementi che devono toobe eseguita quando si modifica la password di account di servizio hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-113">There are two things that need toobe done when you change hello service account password.</span></span>

<span data-ttu-id="49a27-114">In primo luogo, è necessario password hello toochange in Gestione controllo servizi Windows hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-114">First, you need toochange hello password under hello Windows Service Control Manager.</span></span>  <span data-ttu-id="49a27-115">Finché non si risolve questo problema, verranno visualizzati gli errori seguenti:</span><span class="sxs-lookup"><span data-stu-id="49a27-115">Until this issue is resolved you will see following errors:</span></span>


- <span data-ttu-id="49a27-116">Se si tenta di hello toostart il servizio di sincronizzazione in Gestione controllo servizi di Windows, viene visualizzato l'errore hello "**Windows non è stato possibile avviare il servizio di Microsoft Azure AD Sync hello nel Computer locale**".</span><span class="sxs-lookup"><span data-stu-id="49a27-116">If you try toostart hello Synchronization Service in Windows Service Control Manager, you receive hello error "**Windows could not start hello Microsoft Azure AD Sync service on Local Computer**".</span></span> <span data-ttu-id="49a27-117">**Errore 1069: Impossibile avviare il servizio hello a causa di errore di accesso tooa.** "</span><span class="sxs-lookup"><span data-stu-id="49a27-117">**Error 1069: hello service did not start due tooa logon failure.**"</span></span>
- <span data-ttu-id="49a27-118">In Visualizzatore eventi di Windows hello registro eventi di sistema contiene un errore con **7038 ID evento** e il messaggio "**hello servizio ADSync era toolog Impossibile sul come con password hello attualmente configurata a causa di toohello seguente errore: nome utente Hello o password non è corretta.** "</span><span class="sxs-lookup"><span data-stu-id="49a27-118">Under Windows Event Viewer, hello system event log contains an error with **Event ID 7038** and message “**hello ADSync service was unable toolog on as with hello currently configured password due toohello following error: hello user name or password is incorrect.**"</span></span>

<span data-ttu-id="49a27-119">In secondo luogo, in determinate condizioni, se hello password viene aggiornata, hello servizio di sincronizzazione non più possibile recuperare la chiave di crittografia hello tramite DPAPI.</span><span class="sxs-lookup"><span data-stu-id="49a27-119">Second, under specific conditions, if hello password is updated, hello Synchronization Service can no longer retrieve hello encryption key via DPAPI.</span></span> <span data-ttu-id="49a27-120">Senza la chiave di crittografia hello hello da che servizio di sincronizzazione non è possibile decrittografare hello toosynchronize obbligatorio di password a / locale AD e Azure AD.</span><span class="sxs-lookup"><span data-stu-id="49a27-120">Without hello encryption key, hello Synchronization Service cannot decrypt hello passwords required toosynchronize to/from on-premises AD and Azure AD.</span></span>
<span data-ttu-id="49a27-121">Verranno visualizzati gli errori seguenti:</span><span class="sxs-lookup"><span data-stu-id="49a27-121">You will see errors such as:</span></span>

- <span data-ttu-id="49a27-122">In Gestione controllo servizi di Windows, se si tenta di hello toostart servizio di sincronizzazione e non è possibile recuperare la chiave di crittografia hello non riesce con errore "* * Windows non è stato possibile avviare Microsoft Azure AD Sync hello nel Computer locale.</span><span class="sxs-lookup"><span data-stu-id="49a27-122">Under Windows Service Control Manager, if you try toostart hello Synchronization Service and it cannot retrieve hello encryption key, it fails with error “**Windows could not start hello Microsoft Azure AD Sync on Local Computer.</span></span> <span data-ttu-id="49a27-123">Per ulteriori informazioni, esaminare il registro eventi di sistema hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-123">For more information, review hello System Event log.</span></span> <span data-ttu-id="49a27-124">Se questo è un servizio non Microsoft, contattare il fornitore del servizio di hello e fare riferimento a codice di errore specifico tooservice * *-21451857952 * * *. "</span><span class="sxs-lookup"><span data-stu-id="49a27-124">If this is a non-Microsoft service, contact hello service vendor, and refer tooservice-specific error code **-21451857952****.”</span></span>
- <span data-ttu-id="49a27-125">In Visualizzatore eventi di Windows, log eventi dell'applicazione hello contiene un errore con **6028 ID evento** e messaggio di errore *"**chiave di crittografia hello del server non è accessibile.* *"*</span><span class="sxs-lookup"><span data-stu-id="49a27-125">Under Windows Event Viewer, hello application event log contains an error with **Event ID 6028** and error message *“**hello server encryption key cannot be accessed.**”*</span></span>

<span data-ttu-id="49a27-126">tooensure che non si ricevono questi errori, seguire le procedure di hello in [chiave di crittografia Abandoning hello Azure AD Sync connettersi](#abandoning-the-azure-ad-connect-sync-encryption-key) quando si modifica la password di hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-126">tooensure that you do not receive these errors, follow hello procedures in [Abandoning hello Azure AD Connect Sync encryption key](#abandoning-the-azure-ad-connect-sync-encryption-key) when changing hello password.</span></span>
 
## <a name="abandoning-hello-azure-ad-connect-sync-encryption-key"></a><span data-ttu-id="49a27-127">Chiave di crittografia di abbandono hello Azure AD Connect Sync</span><span class="sxs-lookup"><span data-stu-id="49a27-127">Abandoning hello Azure AD Connect Sync encryption key</span></span>
>[!IMPORTANT]
><span data-ttu-id="49a27-128">Hello nelle procedure seguenti si applicano solo AD tooAzure Connetti compilazione 1.1.443.0 precedente o successiva.</span><span class="sxs-lookup"><span data-stu-id="49a27-128">hello following procedures only apply tooAzure AD Connect build 1.1.443.0 or older.</span></span>

<span data-ttu-id="49a27-129">Utilizzare hello seguente chiave di crittografia di procedure tooabandon hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-129">Use hello following procedures tooabandon hello encryption key.</span></span>

### <a name="what-toodo-if-you-need-tooabandon-hello-encryption-key"></a><span data-ttu-id="49a27-130">Quali toodo se occorre una chiave di crittografia hello tooabandon</span><span class="sxs-lookup"><span data-stu-id="49a27-130">What toodo if you need tooabandon hello encryption key</span></span>

<span data-ttu-id="49a27-131">Se è necessaria una chiave di crittografia hello tooabandon, questa scheda hello tooaccomplish le procedure seguenti.</span><span class="sxs-lookup"><span data-stu-id="49a27-131">If you need tooabandon hello encryption key, use hello following procedures tooaccomplish this.</span></span>

1. [<span data-ttu-id="49a27-132">Chiave di crittografia esistente hello abbandonare</span><span class="sxs-lookup"><span data-stu-id="49a27-132">Abandon hello existing encryption key</span></span>](#abandon-the-existing-encryption-key)

2. [<span data-ttu-id="49a27-133">Specificare la password hello di hello account di dominio Active Directory</span><span class="sxs-lookup"><span data-stu-id="49a27-133">Provide hello password of hello AD DS account</span></span>](#provide-the-password-of-the-ad-ds-account)

3. [<span data-ttu-id="49a27-134">Reinizializzare la password di hello di hello account di Azure AD sync</span><span class="sxs-lookup"><span data-stu-id="49a27-134">Reinitialize hello password of hello Azure AD sync account</span></span>](#reinitialize-the-password-of-the-azure-ad-sync-account)

4. [<span data-ttu-id="49a27-135">Avviare il servizio di sincronizzazione hello</span><span class="sxs-lookup"><span data-stu-id="49a27-135">Start hello Synchronization Service</span></span>](#start-the-synchronization-service)

#### <a name="abandon-hello-existing-encryption-key"></a><span data-ttu-id="49a27-136">Chiave di crittografia esistente hello abbandonare</span><span class="sxs-lookup"><span data-stu-id="49a27-136">Abandon hello existing encryption key</span></span>
<span data-ttu-id="49a27-137">Abbandonare chiave di crittografia esistente hello in modo che nuova chiave di crittografia può essere creati:</span><span class="sxs-lookup"><span data-stu-id="49a27-137">Abandon hello existing encryption key so that new encryption key can be created:</span></span>

1. <span data-ttu-id="49a27-138">Accedi tooyour Server di connettersi AD Azure come amministratore.</span><span class="sxs-lookup"><span data-stu-id="49a27-138">Log in tooyour Azure AD Connect Server as administrator.</span></span>

2. <span data-ttu-id="49a27-139">Avviare una nuova sessione di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="49a27-139">Start a new PowerShell session.</span></span>

3. <span data-ttu-id="49a27-140">Passare toofolder:`$env:Program Files\Microsoft Azure AD Sync\bin\`</span><span class="sxs-lookup"><span data-stu-id="49a27-140">Navigate toofolder: `$env:Program Files\Microsoft Azure AD Sync\bin\`</span></span>

4. <span data-ttu-id="49a27-141">Eseguire il comando hello:`./miiskmu.exe /a`</span><span class="sxs-lookup"><span data-stu-id="49a27-141">Run hello command: `./miiskmu.exe /a`</span></span>

![Utilità per la chiave di crittografia del servizio di sincronizzazione Azure AD Connect](media/active-directory-aadconnectsync-encryption-key/key5.png)

#### <a name="provide-hello-password-of-hello-ad-ds-account"></a><span data-ttu-id="49a27-143">Specificare la password hello di hello account di dominio Active Directory</span><span class="sxs-lookup"><span data-stu-id="49a27-143">Provide hello password of hello AD DS account</span></span>
<span data-ttu-id="49a27-144">Le password esistenti di hello archiviate hello database non possono essere decrittografate, è necessario tooprovide hello, servizio di sincronizzazione con la password di hello dell'account di dominio Active Directory hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-144">As hello existing passwords stored inside hello database can no longer be decrypted, you need tooprovide hello Synchronization Service with hello password of hello AD DS account.</span></span> <span data-ttu-id="49a27-145">Hello servizio di sincronizzazione consente di crittografare le password hello usando hello nuova chiave di crittografia:</span><span class="sxs-lookup"><span data-stu-id="49a27-145">hello Synchronization Service encrypts hello passwords using hello new encryption key:</span></span>

1. <span data-ttu-id="49a27-146">Avviare hello Synchronization Service Manager (servizio di sincronizzazione iniziale →).</span><span class="sxs-lookup"><span data-stu-id="49a27-146">Start hello Synchronization Service Manager (START → Synchronization Service).</span></span>
</br><span data-ttu-id="49a27-147">![Sync Service Manager](./media/active-directory-aadconnectsync-service-manager-ui/startmenu.png)</span><span class="sxs-lookup"><span data-stu-id="49a27-147">![Sync Service Manager](./media/active-directory-aadconnectsync-service-manager-ui/startmenu.png)</span></span>  
2. <span data-ttu-id="49a27-148">Passare toohello **connettori** scheda.</span><span class="sxs-lookup"><span data-stu-id="49a27-148">Go toohello **Connectors** tab.</span></span>
3. <span data-ttu-id="49a27-149">Seleziona hello **Active Directory Connector** corrispondente tooyour AD locale.</span><span class="sxs-lookup"><span data-stu-id="49a27-149">Select hello **AD Connector** that corresponds tooyour on-premises AD.</span></span> <span data-ttu-id="49a27-150">Se si dispone di più di un connettore di Active Directory, è possibile ripetere hello seguendo i passaggi per ognuna di esse.</span><span class="sxs-lookup"><span data-stu-id="49a27-150">If you have more than one AD connector, repeat hello following steps for each of them.</span></span>
4. <span data-ttu-id="49a27-151">In **Azioni** selezionare **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="49a27-151">Under **Actions**, select **Properties**.</span></span>
5. <span data-ttu-id="49a27-152">Nella finestra di dialogo popup hello, selezionare **connettersi foresta Directory tooActive**:</span><span class="sxs-lookup"><span data-stu-id="49a27-152">In hello pop-up dialog, select **Connect tooActive Directory Forest**:</span></span>
6. <span data-ttu-id="49a27-153">Immettere la password di hello dell'account di dominio Active Directory hello in hello **Password** casella di testo.</span><span class="sxs-lookup"><span data-stu-id="49a27-153">Enter hello password of hello AD DS account in hello **Password** textbox.</span></span> <span data-ttu-id="49a27-154">Se non si conosce la password, è necessario impostare tooa noto valore prima di eseguire questo passaggio.</span><span class="sxs-lookup"><span data-stu-id="49a27-154">If you do not know its password, you must set it tooa known value before performing this step.</span></span>
7. <span data-ttu-id="49a27-155">Fare clic su **OK** toosave hello nuova password e finestra di dialogo popup hello Chiudi.</span><span class="sxs-lookup"><span data-stu-id="49a27-155">Click **OK** toosave hello new password and close hello pop-up dialog.</span></span>
<span data-ttu-id="49a27-156">![Utilità per la chiave di crittografia del servizio di sincronizzazione Azure AD Connect](media/active-directory-aadconnectsync-encryption-key/key6.png)</span><span class="sxs-lookup"><span data-stu-id="49a27-156">![Azure AD Connect Sync Encryption Key Utility](media/active-directory-aadconnectsync-encryption-key/key6.png)</span></span>

#### <a name="reinitialize-hello-password-of-hello-azure-ad-sync-account"></a><span data-ttu-id="49a27-157">Reinizializzare la password di hello di hello account di Azure AD sync</span><span class="sxs-lookup"><span data-stu-id="49a27-157">Reinitialize hello password of hello Azure AD sync account</span></span>
<span data-ttu-id="49a27-158">È possibile fornire direttamente la password di hello del servizio di Azure AD hello, toohello account servizio di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="49a27-158">You cannot directly provide hello password of hello Azure AD service account toohello Synchronization Service.</span></span> <span data-ttu-id="49a27-159">In alternativa, è necessario toouse hello cmdlet **Aggiungi ADSyncAADServiceAccount** tooreinitialize hello account del servizio Azure AD.</span><span class="sxs-lookup"><span data-stu-id="49a27-159">Instead, you need toouse hello cmdlet **Add-ADSyncAADServiceAccount** tooreinitialize hello Azure AD service account.</span></span> <span data-ttu-id="49a27-160">cmdlet di Hello Reimposta password dell'account hello e rende disponibile toohello servizio di sincronizzazione:</span><span class="sxs-lookup"><span data-stu-id="49a27-160">hello cmdlet resets hello account password and makes it available toohello Synchronization Service:</span></span>

1. <span data-ttu-id="49a27-161">Avviare una nuova sessione di PowerShell nel server di Azure AD Connect hello.</span><span class="sxs-lookup"><span data-stu-id="49a27-161">Start a new PowerShell session on hello Azure AD Connect server.</span></span>
2. <span data-ttu-id="49a27-162">Eseguire il cmdlet `Add-ADSyncAADServiceAccount`.</span><span class="sxs-lookup"><span data-stu-id="49a27-162">Run cmdlet `Add-ADSyncAADServiceAccount`.</span></span>
3. <span data-ttu-id="49a27-163">Nella finestra di dialogo popup hello, fornire le credenziali di amministratore globale di hello Azure AD per il tenant di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="49a27-163">In hello pop-up dialog, provide hello Azure AD Global admin credentials for your Azure AD tenant.</span></span>
<span data-ttu-id="49a27-164">![Utilità per la chiave di crittografia del servizio di sincronizzazione Azure AD Connect](media/active-directory-aadconnectsync-encryption-key/key7.png)</span><span class="sxs-lookup"><span data-stu-id="49a27-164">![Azure AD Connect Sync Encryption Key Utility](media/active-directory-aadconnectsync-encryption-key/key7.png)</span></span>
4. <span data-ttu-id="49a27-165">Se ha esito positivo, verrà visualizzato hello prompt dei comandi di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="49a27-165">If it is successful, you will see hello PowerShell command prompt.</span></span>

#### <a name="start-hello-synchronization-service"></a><span data-ttu-id="49a27-166">Avviare il servizio di sincronizzazione hello</span><span class="sxs-lookup"><span data-stu-id="49a27-166">Start hello Synchronization Service</span></span>
<span data-ttu-id="49a27-167">Ora che hello servizio di sincronizzazione ha chiave di crittografia toohello di accesso e tutte le password di hello è necessario, è possibile riavviare il servizio di hello in Gestione controllo servizi Windows hello:</span><span class="sxs-lookup"><span data-stu-id="49a27-167">Now that hello Synchronization Service has access toohello encryption key and all hello passwords it needs, you can restart hello service in hello Windows Service Control Manager:</span></span>


1. <span data-ttu-id="49a27-168">Passare tooWindows Gestione controllo servizi (Services → avvio).</span><span class="sxs-lookup"><span data-stu-id="49a27-168">Go tooWindows Service Control Manager (START → Services).</span></span>
2. <span data-ttu-id="49a27-169">Selezionare **Microsoft Azure AD Sync** e fare clic su Riavvia.</span><span class="sxs-lookup"><span data-stu-id="49a27-169">Select **Microsoft Azure AD Sync** and click Restart.</span></span>

## <a name="next-steps"></a><span data-ttu-id="49a27-170">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="49a27-170">Next steps</span></span>
<span data-ttu-id="49a27-171">**Argomenti generali**</span><span class="sxs-lookup"><span data-stu-id="49a27-171">**Overview topics**</span></span>

* [<span data-ttu-id="49a27-172">Servizio di sincronizzazione Azure AD Connect: Comprendere e personalizzare la sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="49a27-172">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)

* [<span data-ttu-id="49a27-173">Integrazione delle identità locali con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="49a27-173">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
