---
title: navigazione con facet di tooimplement aaaHow in ricerca di Azure | Documenti Microsoft
description: Aggiungere la navigazione con facet tooapplications che si integrano con ricerca di Azure, un servizio di ricerca cloud ospitato in Microsoft Azure.
services: search
documentationcenter: 
author: HeidiSteen
manager: mblythe
editor: 
ms.assetid: cdf98fd4-63fd-4b50-b0b0-835cb08ad4d3
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 3/10/2017
ms.author: heidist
ms.openlocfilehash: c1e6bf9dc55d0044525db79e37d35a50ded5a736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooimplement-faceted-navigation-in-azure-search"></a><span data-ttu-id="95eb5-103">Come tooimplement navigazione con facet in ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="95eb5-103">How tooimplement faceted navigation in Azure Search</span></span>
<span data-ttu-id="95eb5-104">L'esplorazione in base a facet è un meccanismo di filtro che consente un'esplorazione drill-down mirata nelle applicazioni di ricerca.</span><span class="sxs-lookup"><span data-stu-id="95eb5-104">Faceted navigation is a filtering mechanism that provides self-directed drilldown navigation in search applications.</span></span> <span data-ttu-id="95eb5-105">il termine Hello 'navigazione con facet' può essere poco note, ma probabilmente già utilizzato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="95eb5-105">hello term 'faceted navigation' may be unfamiliar, but you've probably used it before.</span></span> <span data-ttu-id="95eb5-106">Come hello nel seguente esempio viene illustrato, navigazione con facet è teoricamente hello categorie usate toofilter risultati.</span><span class="sxs-lookup"><span data-stu-id="95eb5-106">As hello following example shows, faceted navigation is nothing more than hello categories used toofilter results.</span></span>

 ![Job Portal Demo di Ricerca di Azure][1]

<span data-ttu-id="95eb5-108">Navigazione con facet è un toosearch di punto di ingresso alternativo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-108">Faceted navigation is an alternative entry point toosearch.</span></span> <span data-ttu-id="95eb5-109">Offre un comodo tootyping alternativo espressioni complesse ricerca manualmente.</span><span class="sxs-lookup"><span data-stu-id="95eb5-109">It offers a convenient alternative tootyping complex search expressions by hand.</span></span> <span data-ttu-id="95eb5-110">I facet consentono di trovare ciò che si sta cercando con una percentuale di successo accertata.</span><span class="sxs-lookup"><span data-stu-id="95eb5-110">Facets can help you find what you're looking for, while ensuring that you don’t get zero results.</span></span> <span data-ttu-id="95eb5-111">Gli sviluppatori di facet consentono di esporre i criteri di ricerca utili di hello per spostarsi tra l'insieme delle ricerche.</span><span class="sxs-lookup"><span data-stu-id="95eb5-111">As a developer, facets let you expose hello most useful search criteria for navigating your search corpus.</span></span> <span data-ttu-id="95eb5-112">Nelle applicazioni di vendita online, l'esplorazione in base a facet si basa spesso sulle marche, sui reparti (scarpe per bambini), sulla taglia, sul prezzo, sulla popolarità e sulle classificazioni.</span><span class="sxs-lookup"><span data-stu-id="95eb5-112">In online retail applications, faceted navigation is often built over brands, departments (kid’s shoes), size, price, popularity, and ratings.</span></span> 

<span data-ttu-id="95eb5-113">L'implementazione dell'esplorazione in base a facet si distingue tra le tecnologie di ricerca.</span><span class="sxs-lookup"><span data-stu-id="95eb5-113">Implementing faceted navigation differs across search technologies.</span></span> <span data-ttu-id="95eb5-114">Nella Ricerca di Azure, l'esplorazione in base a facet viene creata in fase di query, usando campi attribuiti precedenti nello schema.</span><span class="sxs-lookup"><span data-stu-id="95eb5-114">In Azure Search, faceted navigation is built at query time, using fields that you previously attributed in your schema.</span></span>

-   <span data-ttu-id="95eb5-115">Nelle query hello che l'applicazione viene compilata, è necessario che invii una query *i parametri di query facet* tooget hello disponibili filtro valori di facet per il documento di set di risultati.</span><span class="sxs-lookup"><span data-stu-id="95eb5-115">In hello queries that your application builds, a query must send *facet query parameters* tooget hello available facet filter values for that document result set.</span></span>

-   <span data-ttu-id="95eb5-116">tooactually trim hello set di risultati di documento, un'applicazione hello inoltre necessario applicare un `$filter` espressione.</span><span class="sxs-lookup"><span data-stu-id="95eb5-116">tooactually trim hello document result set, hello application must also apply a `$filter` expression.</span></span>

<span data-ttu-id="95eb5-117">Nell'ambiente di sviluppo di applicazioni, la scrittura di codice che crea query costituisce bulk hello del lavoro hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-117">In your application development, writing code that constructs queries constitutes hello bulk of hello work.</span></span> <span data-ttu-id="95eb5-118">Molti dei comportamenti dell'applicazione hello che ci si aspetta da una navigazione con facet vengono forniti dal servizio hello, incluso il supporto incorporato per la definizione di intervalli e il recupero di conteggi per i risultati di facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-118">Many of hello application behaviors that you would expect from faceted navigation are provided by hello service, including built-in support for defining ranges and getting counts for facet results.</span></span> <span data-ttu-id="95eb5-119">servizio di Hello include inoltre impostazioni predefinite ragionevoli che consentono di evitare le strutture di navigazione difficile da gestire.</span><span class="sxs-lookup"><span data-stu-id="95eb5-119">hello service also includes sensible defaults that help you avoid unwieldy navigation structures.</span></span> 

## <a name="sample-code-and-demo"></a><span data-ttu-id="95eb5-120">Demo e codice di esempio</span><span class="sxs-lookup"><span data-stu-id="95eb5-120">Sample code and demo</span></span>
<span data-ttu-id="95eb5-121">Questo articolo usa un portale di ricerca dei processi come esempio.</span><span class="sxs-lookup"><span data-stu-id="95eb5-121">This article uses a job search portal as an example.</span></span> <span data-ttu-id="95eb5-122">esempio Hello viene implementato come un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="95eb5-122">hello example is implemented as an ASP.NET MVC application.</span></span>

-   <span data-ttu-id="95eb5-123">Visualizzare e testare hello lavoro demo online in [Demo portale processo di ricerca di Azure](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="95eb5-123">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="95eb5-124">Scaricare codice hello da hello [repository di esempi di Azure su GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="95eb5-124">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

## <a name="get-started"></a><span data-ttu-id="95eb5-125">Attività iniziali</span><span class="sxs-lookup"><span data-stu-id="95eb5-125">Get started</span></span>
<span data-ttu-id="95eb5-126">Se lo sviluppo di nuove toosearch, toothink modo migliore di hello di navigazione con facet è che consente di visualizzare il possibilità hello per la ricerca automatica diretto.</span><span class="sxs-lookup"><span data-stu-id="95eb5-126">If you're new toosearch development, hello best way toothink of faceted navigation is that it shows hello possibilities for self-directed search.</span></span> <span data-ttu-id="95eb5-127">Si tratta di un tipo di esperienza di ricerca drill-down, basata su filtri predefiniti usati per limitare rapidamente i risultati di ricerca tramite semplici azioni in un solo clic.</span><span class="sxs-lookup"><span data-stu-id="95eb5-127">It’s a type of drill-down search experience, based on predefined filters, used for quickly narrowing down search results through point-and-click actions.</span></span> 

### <a name="interaction-model"></a><span data-ttu-id="95eb5-128">Modello di interazione</span><span class="sxs-lookup"><span data-stu-id="95eb5-128">Interaction model</span></span>

<span data-ttu-id="95eb5-129">Hello un'esperienza di ricerca per la navigazione con facet è possibile iniziare a comprendere, come una sequenza di query che si svolgano in azioni di risposta toouser iterativa.</span><span class="sxs-lookup"><span data-stu-id="95eb5-129">hello search experience for faceted navigation is iterative, so let’s start by understanding it as a sequence of queries that unfold in response toouser actions.</span></span>

<span data-ttu-id="95eb5-130">punto di partenza Hello è una pagina dell'applicazione che fornisce funzioni di navigazione con facet, in genere nella periferia hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-130">hello starting point is an application page that provides faceted navigation, typically placed on hello periphery.</span></span> <span data-ttu-id="95eb5-131">L'esplorazione in base a facet è spesso una struttura ad albero, con caselle di controllo per ogni valore o testo selezionabile.</span><span class="sxs-lookup"><span data-stu-id="95eb5-131">Faceted navigation is often a tree structure, with checkboxes for each value, or clickable text.</span></span> 

1. <span data-ttu-id="95eb5-132">Una query inviata tooAzure ricerca specifica struttura di navigazione con facet hello tramite uno o più parametri di query di facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-132">A query sent tooAzure Search specifies hello faceted navigation structure via one or more facet query parameters.</span></span> <span data-ttu-id="95eb5-133">Ad esempio, in cui potrebbe includere query hello `facet=Rating`, ad esempio con un `:values` o `:sort` toofurther opzione perfezionare presentazione hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-133">For instance, hello query might include `facet=Rating`, perhaps with a `:values` or `:sort` option toofurther refine hello presentation.</span></span>
2. <span data-ttu-id="95eb5-134">livello di presentazione Hello esegue il rendering di una pagina di ricerca che fornisce funzioni di navigazione con facet, tramite il facet hello specificato nella richiesta di hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-134">hello presentation layer renders a search page that provides faceted navigation, using hello facets specified on hello request.</span></span>
3. <span data-ttu-id="95eb5-135">Ha una struttura di navigazione con facet che include una valutazione, si fa clic su "4" tooindicate che devono essere visualizzati solo i prodotti con una classificazione 4 o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="95eb5-135">Given a faceted navigation structure that includes Rating, you click "4" tooindicate that only products with a rating of 4 or higher should be shown.</span></span> 
4. <span data-ttu-id="95eb5-136">In risposta, un'applicazione hello invia una query che include`$filter=Rating ge 4`</span><span class="sxs-lookup"><span data-stu-id="95eb5-136">In response, hello application sends a query that includes `$filter=Rating ge 4`</span></span> 
5. <span data-ttu-id="95eb5-137">Hello presentazione livello hello pagina aggiornamenti, che mostra un set di risultati ridotto, contenente solo gli elementi che soddisfano i criteri nuovi hello (in questo caso, i prodotti con classificazione 4 e successive).</span><span class="sxs-lookup"><span data-stu-id="95eb5-137">hello presentation layer updates hello page, showing a reduced result set, containing just those items that satisfy hello new criteria (in this case, products rated 4 and up).</span></span>

<span data-ttu-id="95eb5-138">Il facet è un parametro di query, da non confondere con l'input della query.</span><span class="sxs-lookup"><span data-stu-id="95eb5-138">A facet is a query parameter, but do not confuse it with query input.</span></span> <span data-ttu-id="95eb5-139">Non viene mai usato come criterio di selezione in una query.</span><span class="sxs-lookup"><span data-stu-id="95eb5-139">It is never used as selection criteria in a query.</span></span> <span data-ttu-id="95eb5-140">Considerare invece facet parametri di query come input toohello struttura che viene restituita nella risposta hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-140">Instead, think of facet query parameters as inputs toohello navigation structure that comes back in hello response.</span></span> <span data-ttu-id="95eb5-141">Per ogni parametro di query facet che è fornire, ricerca di Azure restituisce il numero di documenti presenti risultati parziali di hello per ogni valore del facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-141">For each facet query parameter you provide, Azure Search evaluates how many documents are in hello partial results for each facet value.</span></span>

<span data-ttu-id="95eb5-142">Hello preavviso `$filter` nel passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="95eb5-142">Notice hello `$filter` in step 4.</span></span> <span data-ttu-id="95eb5-143">filtro di Hello è un aspetto importante della navigazione con facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-143">hello filter is an important aspect of faceted navigation.</span></span> <span data-ttu-id="95eb5-144">Sebbene i facet e i filtri sono indipendenti in hello API, è necessario entrambi esperienza hello toodeliver desiderato.</span><span class="sxs-lookup"><span data-stu-id="95eb5-144">Although facets and filters are independent in hello API, you need both toodeliver hello experience you intend.</span></span> 

### <a name="app-design-pattern"></a><span data-ttu-id="95eb5-145">Schema progettuale di app</span><span class="sxs-lookup"><span data-stu-id="95eb5-145">App design pattern</span></span>

<span data-ttu-id="95eb5-146">Nel codice dell'applicazione, il modello di hello è toouse facet parametri tooreturn hello navigazione con facet struttura delle query con risultati di facet, oltre a un'espressione $filter.</span><span class="sxs-lookup"><span data-stu-id="95eb5-146">In application code, hello pattern is toouse facet query parameters tooreturn hello faceted navigation structure along with facet results, plus a $filter expression.</span></span>  <span data-ttu-id="95eb5-147">Hello filtro espressione handle hello click (evento) nel valore del facet hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-147">hello filter expression handles hello click event on hello facet value.</span></span> <span data-ttu-id="95eb5-148">Si consideri hello `$filter` espressione come codice hello dietro la rimozione effettiva hello dei risultati della ricerca ha restituito il livello di presentazione toohello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-148">Think of hello `$filter` expression as hello code behind hello actual trimming of search results returned toohello presentation layer.</span></span> <span data-ttu-id="95eb5-149">Dato un facet di colori, fare clic su hello colore rosso viene implementata tramite un `$filter` espressione che seleziona solo gli elementi che hanno un colore di rosso.</span><span class="sxs-lookup"><span data-stu-id="95eb5-149">Given a Colors facet, clicking hello color Red is implemented through a `$filter` expression that selects only those items that have a color of red.</span></span> 

### <a name="query-basics"></a><span data-ttu-id="95eb5-150">Nozioni di base sulle query</span><span class="sxs-lookup"><span data-stu-id="95eb5-150">Query basics</span></span>

<span data-ttu-id="95eb5-151">In Ricerca di Azure una richiesta viene specificata tramite uno o più parametri di query (vedere [Eseguire ricerche nei documenti](http://msdn.microsoft.com/library/azure/dn798927.aspx) per una descrizione di ciascuno di essi).</span><span class="sxs-lookup"><span data-stu-id="95eb5-151">In Azure Search, a request is specified through one or more query parameters (see [Search Documents](http://msdn.microsoft.com/library/azure/dn798927.aspx) for a description of each one).</span></span> <span data-ttu-id="95eb5-152">Nessuno dei parametri di query hello sono obbligatori, ma è necessario avere almeno un affinché toobe una query valida.</span><span class="sxs-lookup"><span data-stu-id="95eb5-152">None of hello query parameters are required, but you must have at least one in order for a query toobe valid.</span></span>

<span data-ttu-id="95eb5-153">Precisione, compreso come hello toofilter possibilità out riscontri irrilevanti, è possibile ottenere tramite una o entrambe queste espressioni:</span><span class="sxs-lookup"><span data-stu-id="95eb5-153">Precision, understood as hello ability toofilter out irrelevant hits, is achieved through one or both of these expressions:</span></span>

-   <span data-ttu-id="95eb5-154">**ricerca =**</span><span class="sxs-lookup"><span data-stu-id="95eb5-154">**search=**</span></span>  
    <span data-ttu-id="95eb5-155">il valore di Hello di questo parametro costituisce l'espressione di ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-155">hello value of this parameter constitutes hello search expression.</span></span> <span data-ttu-id="95eb5-156">Potrebbe essere una singola parte di testo o un'espressione di ricerca complessa che include più termini e operatori.</span><span class="sxs-lookup"><span data-stu-id="95eb5-156">It might be a single piece of text, or a complex search expression that includes multiple terms and operators.</span></span> <span data-ttu-id="95eb5-157">Un'espressione di ricerca viene utilizzata nel server di hello, per la ricerca full-text, l'esecuzione di query i campi ricercabili nell'indice hello per la corrispondenza di termini, restituendo i risultati in ordine di priorità.</span><span class="sxs-lookup"><span data-stu-id="95eb5-157">On hello server, a search expression is used for full-text search, querying searchable fields in hello index for matching terms, returning results in rank order.</span></span> <span data-ttu-id="95eb5-158">Se si imposta `search` toonull, esecuzione di query è hello intero indice (vale a dire `search=*`).</span><span class="sxs-lookup"><span data-stu-id="95eb5-158">If you set `search` toonull, query execution is over hello entire index (that is, `search=*`).</span></span> <span data-ttu-id="95eb5-159">In questo caso, gli altri elementi di hello di query, ad esempio un `$filter` o profilo di punteggio, è fattori principali che interessano i documenti vengono restituiti hello `($filter`) e in quale ordine (`scoringProfile` o `$orderby`).</span><span class="sxs-lookup"><span data-stu-id="95eb5-159">In this case, other elements of hello query, such as a `$filter` or scoring profile, are hello primary factors affecting which documents are returned `($filter`) and in what order (`scoringProfile` or `$orderby`).</span></span>

-   <span data-ttu-id="95eb5-160">**$filter=**</span><span class="sxs-lookup"><span data-stu-id="95eb5-160">**$filter=**</span></span>  
    <span data-ttu-id="95eb5-161">Un filtro è un meccanismo potente per la limitazione delle dimensioni di hello dei risultati della ricerca in base ai valori hello degli attributi di un documento specifico.</span><span class="sxs-lookup"><span data-stu-id="95eb5-161">A filter is a powerful mechanism for limiting hello size of search results based on hello values of specific document attributes.</span></span> <span data-ttu-id="95eb5-162">Oggetto `$filter` viene valutata per prima, seguita da logica di facet che genera i valori disponibili hello e i conteggi corrispondenti per ogni valore</span><span class="sxs-lookup"><span data-stu-id="95eb5-162">A `$filter` is evaluated first, followed by faceting logic that generates hello available values and corresponding counts for each value</span></span>

<span data-ttu-id="95eb5-163">Espressioni di ricerca complesso ridurre le prestazioni di hello di query hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-163">Complex search expressions decrease hello performance of hello query.</span></span> <span data-ttu-id="95eb5-164">Laddove possibile, utilizzare precisione tooincrease espressioni di filtro ben costruito e migliorare le prestazioni delle query.</span><span class="sxs-lookup"><span data-stu-id="95eb5-164">Where possible, use well-constructed filter expressions tooincrease precision and improve query performance.</span></span>

<span data-ttu-id="95eb5-165">toobetter comprendere come un filtro aggiunge maggiore precisione, confrontare un tooone di espressione di ricerca complessa che include un'espressione di filtro:</span><span class="sxs-lookup"><span data-stu-id="95eb5-165">toobetter understand how a filter adds more precision, compare a complex search expression tooone that includes a filter expression:</span></span>

-   `GET /indexes/hotel/docs?search=lodging budget +Seattle –motel +parking`
-   `GET /indexes/hotel/docs?search=lodging&$filter=City eq ‘Seattle’ and Parking and Type ne ‘motel’`

<span data-ttu-id="95eb5-166">Entrambe le query sono valide, ma hello in secondo luogo è superiore se si sta cercando non motel con parcheggio Seattle.</span><span class="sxs-lookup"><span data-stu-id="95eb5-166">Both queries are valid, but hello second is superior if you’re looking for non-motels with parking in Seattle.</span></span>
-   <span data-ttu-id="95eb5-167">prima di query Hello si basa su tali parole specifiche non indicate nei campi stringa come nome, descrizione e qualsiasi altro campo contenente dati ricercabili o essere indicati.</span><span class="sxs-lookup"><span data-stu-id="95eb5-167">hello first query relies on those specific words being mentioned or not mentioned in string fields like Name, Description, and any other field containing searchable data.</span></span>
-   <span data-ttu-id="95eb5-168">query secondo Hello Cerca corrispondenze precise su dati strutturati ed è probabile che toobe molto più accurata.</span><span class="sxs-lookup"><span data-stu-id="95eb5-168">hello second query looks for precise matches on structured data and is likely toobe much more accurate.</span></span>

<span data-ttu-id="95eb5-169">Nelle applicazioni che includono l'esplorazione in base a facet, è necessario assicurarsi che ogni azione dell'utente su una struttura di esplorazione in base a facet sia accompagnata da una restrizione dei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="95eb5-169">In applications that include faceted navigation, make sure that each user action over a faceted navigation structure is accompanied by a narrowing of search results.</span></span> <span data-ttu-id="95eb5-170">toonarrow risultati, utilizzare un'espressione di filtro.</span><span class="sxs-lookup"><span data-stu-id="95eb5-170">toonarrow results, use a filter expression.</span></span>

<a name="howtobuildit"></a>

## <a name="build-a-faceted-navigation-app"></a><span data-ttu-id="95eb5-171">Creare un'app di esplorazione in base a facet</span><span class="sxs-lookup"><span data-stu-id="95eb5-171">Build a faceted navigation app</span></span>
<span data-ttu-id="95eb5-172">Per implementare lo spostamento con facet con ricerca di Azure nel codice dell'applicazione che crea la richiesta di ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-172">You implement faceted navigation with Azure Search in your application code that builds hello search request.</span></span> <span data-ttu-id="95eb5-173">navigazione con facet Hello si basa su elementi dello schema definito in precedenza.</span><span class="sxs-lookup"><span data-stu-id="95eb5-173">hello faceted navigation relies on elements in your schema that you defined previously.</span></span>

<span data-ttu-id="95eb5-174">Predefiniti nell'indice di ricerca è hello `Facetable [true|false]` indicizza attributo, impostare su tooenable campi selezionati o disabilitare l'uso in una struttura di navigazione con facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-174">Predefined in your search index is hello `Facetable [true|false]` index attribute, set on selected fields tooenable or disable their use in a faceted navigation structure.</span></span> <span data-ttu-id="95eb5-175">Senza `"Facetable" = true`un campo non può essere usato nell'esplorazione in base a facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-175">Without `"Facetable" = true`, a field cannot be used in facet navigation.</span></span>

<span data-ttu-id="95eb5-176">livello di presentazione Hello nel codice fornisce l'esperienza utente hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-176">hello presentation layer in your code provides hello user experience.</span></span> <span data-ttu-id="95eb5-177">È necessario elencare costituenti hello di navigazione con facet hello, ad esempio hello etichetta, i valori, le caselle di controllo e conteggio hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-177">It should list hello constituent parts of hello faceted navigation, such as hello label, values, check boxes, and hello count.</span></span> <span data-ttu-id="95eb5-178">Hello API REST di ricerca di Azure è indipendente dalla piattaforma, quindi utilizzare la lingua e la piattaforma desiderata.</span><span class="sxs-lookup"><span data-stu-id="95eb5-178">hello Azure Search REST API is platform agnostic, so use whatever language and platform you want.</span></span> <span data-ttu-id="95eb5-179">importante Hello è con stato dell'interfaccia utente aggiornato elementi dell'interfaccia utente tooinclude che supportano incrementale aggiornano ogni facet aggiuntivi selezionati.</span><span class="sxs-lookup"><span data-stu-id="95eb5-179">hello important thing is tooinclude UI elements that support incremental refresh, with updated UI state as each additional facet is selected.</span></span> 

<span data-ttu-id="95eb5-180">In fase di query, il codice dell'applicazione crea una richiesta che include `facet=[string]`, un parametro di richiesta che fornisce hello toofacet di campo da.</span><span class="sxs-lookup"><span data-stu-id="95eb5-180">At query time, your application code creates a request that includes `facet=[string]`, a request parameter that provides hello field toofacet by.</span></span> <span data-ttu-id="95eb5-181">Una query può avere più facet, ad esempio `&facet=color&facet=category&facet=rating`, ciascuno separato da un carattere e commerciale (&).</span><span class="sxs-lookup"><span data-stu-id="95eb5-181">A query can have multiple facets, such as `&facet=color&facet=category&facet=rating`, each one separated by an ampersand (&) character.</span></span>

<span data-ttu-id="95eb5-182">Il codice dell'applicazione è necessario creare anche un `$filter` hello toohandle espressione scegliere gli eventi di navigazione con facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-182">Application code must also construct a `$filter` expression toohandle hello click events in faceted navigation.</span></span> <span data-ttu-id="95eb5-183">Oggetto `$filter` riduce i risultati della ricerca hello, utilizzando il valore di facet hello come criteri di filtro.</span><span class="sxs-lookup"><span data-stu-id="95eb5-183">A `$filter` reduces hello search results, using hello facet value as filter criteria.</span></span>

<span data-ttu-id="95eb5-184">Ricerca di Azure restituisce i risultati della ricerca hello, in base a uno o più termini immessi dall'utente, insieme a struttura di navigazione con facet toohello di aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="95eb5-184">Azure Search returns hello search results, based on one or more terms that you enter, along with updates toohello faceted navigation structure.</span></span> <span data-ttu-id="95eb5-185">In Ricerca di Azure l'esplorazione in base a facet è una costruzione a livello singolo, con valori di facet, che calcola il numero di risultati trovati per ciascuno di essi.</span><span class="sxs-lookup"><span data-stu-id="95eb5-185">In Azure Search, faceted navigation is a single-level construction, with facet values, and counts of how many results are found for each one.</span></span>

<span data-ttu-id="95eb5-186">In hello le sezioni seguenti, si accettano informazioni dettagliate su come toobuild ogni parte.</span><span class="sxs-lookup"><span data-stu-id="95eb5-186">In hello following sections, we take a closer look at how toobuild each part.</span></span>

<a name="buildindex"></a>

## <a name="build-hello-index"></a><span data-ttu-id="95eb5-187">Compilare l'indice di hello</span><span class="sxs-lookup"><span data-stu-id="95eb5-187">Build hello index</span></span>
<span data-ttu-id="95eb5-188">Facet è abilitato singolo campo per campo in indice hello, tramite l'attributo di indice: `"Facetable": true`.</span><span class="sxs-lookup"><span data-stu-id="95eb5-188">Faceting is enabled on a field-by-field basis in hello index, via this index attribute: `"Facetable": true`.</span></span>  
<span data-ttu-id="95eb5-189">Tutti i tipi di campo che possono essere usati in esplorazione in base a facet sono `Facetable` per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="95eb5-189">All field types that could possibly be used in faceted navigation are `Facetable` by default.</span></span> <span data-ttu-id="95eb5-190">Tali tipi di campi includono `Edm.String`, `Edm.DateTimeOffset`, e tutti i tipi di campi numerici di hello (in pratica, tutti i tipi di campo sono facetable tranne `Edm.GeographyPoint`, che non può essere usato nel riquadro di navigazione con facet).</span><span class="sxs-lookup"><span data-stu-id="95eb5-190">Such field types include `Edm.String`, `Edm.DateTimeOffset`, and all hello numeric field types (essentially, all field types are facetable except `Edm.GeographyPoint`, which can’t be used in faceted navigation).</span></span> 

<span data-ttu-id="95eb5-191">Quando si compila un indice, tooexplicitly facet di attivare una procedura consigliata per la navigazione con facet è disattivata per i campi che non devono mai essere utilizzati come facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-191">When building an index, a best practice for faceted navigation is tooexplicitly turn faceting off for fields that should never be used as a facet.</span></span>  <span data-ttu-id="95eb5-192">In particolare, i campi di stringhe per i valori singleton, ad esempio un nome di prodotto o ID, devono essere impostati troppo`"Facetable": false` tooprevent loro accidentale e inefficaci utilizzano nel riquadro di navigazione con facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-192">In particular, string fields for singleton values, such as an ID or product name, should be set too`"Facetable": false` tooprevent their accidental (and ineffective) use in faceted navigation.</span></span> <span data-ttu-id="95eb5-193">Attivazione facet off in cui non è necessario mantenere ridotte le dimensioni di hello dell'indice hello e in genere migliora le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="95eb5-193">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

<span data-ttu-id="95eb5-194">Di seguito è parte dello schema di hello per app di esempio hello processo portale Demo, tagliati delle dimensioni di hello tooreduce alcuni attributi:</span><span class="sxs-lookup"><span data-stu-id="95eb5-194">Following is part of hello schema for hello Job Portal Demo sample app, trimmed of some attributes tooreduce hello size:</span></span>

```json
{
  ...
  "name": "nycjobs",
  "fields": [
    { “name”: "id",                 "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "job_id",             "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "agency",              "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "posting_type",        "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "num_of_positions",    "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "business_title",      "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "civil_service_title", "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "title_code_no",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "level",               "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_from",   "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_to",     "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_frequency",    "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "work_location",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
…
    { “name”: "geo_location",        "type": "Edm.GeographyPoint",     "searchable": false, "filterable": true, ...  "facetable": false, ... },
    { “name”: "tags",                "type": "Collection(Edm.String)", "searchable": true,  "filterable": true, ...  "facetable": true, ...  }
  ],
…
}
```

<span data-ttu-id="95eb5-195">Come si può notare nello schema di esempio hello, `Facetable` è disattivata per i campi stringa non devono essere utilizzati come facet, ad esempio i valori di ID.</span><span class="sxs-lookup"><span data-stu-id="95eb5-195">As you can see in hello sample schema, `Facetable` is turned off for string fields that shouldn’t be used as facets, such as ID values.</span></span> <span data-ttu-id="95eb5-196">Attivazione facet off in cui non è necessario mantenere ridotte le dimensioni di hello dell'indice hello e in genere migliora le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="95eb5-196">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

> [!TIP]
> <span data-ttu-id="95eb5-197">Come procedura consigliata, includono il set completo di hello di attributi dell'indice per ogni campo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-197">As a best practice, include hello full set of index attributes for each field.</span></span> <span data-ttu-id="95eb5-198">Anche se `Facetable` è per impostazione predefinita per quasi tutti i campi, impostazione intenzionalmente ogni attributo consentono di valutare le implicazioni di hello di ogni decisione di schema.</span><span class="sxs-lookup"><span data-stu-id="95eb5-198">Although `Facetable` is on by default for almost all fields, purposely setting each attribute can help you think through hello implications of each schema decision.</span></span> 

<a name="checkdata"></a>

## <a name="check-hello-data"></a><span data-ttu-id="95eb5-199">Controllare i dati di hello</span><span class="sxs-lookup"><span data-stu-id="95eb5-199">Check hello data</span></span>
<span data-ttu-id="95eb5-200">qualità Hello dei dati ha un effetto diretto sulla se struttura di navigazione con facet hello viene materializzato come previsto.</span><span class="sxs-lookup"><span data-stu-id="95eb5-200">hello quality of your data has a direct effect on whether hello faceted navigation structure materializes as you expect it to.</span></span> <span data-ttu-id="95eb5-201">Influisce anche sulla facilità hello di creazione di set di risultati di filtri tooreduce hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-201">It also affects hello ease of constructing filters tooreduce hello result set.</span></span>

<span data-ttu-id="95eb5-202">Se si desidera toofacet marchio o prezzo, ogni documento deve contenere i valori per *NomeMarchio* e *ProductPrice* che sono validi, coerenti e produttivi come opzione di filtro.</span><span class="sxs-lookup"><span data-stu-id="95eb5-202">If you want toofacet by Brand or Price, each document should contain values for *BrandName* and *ProductPrice* that are valid, consistent, and productive as a filter option.</span></span>

<span data-ttu-id="95eb5-203">Ecco alcuni promemoria di quali tooscrub per:</span><span class="sxs-lookup"><span data-stu-id="95eb5-203">Here are a few reminders of what tooscrub for:</span></span>

* <span data-ttu-id="95eb5-204">Per ogni campo che si desidera toofacet da, è necessario stabilire se contiene valori che sono adatti come filtri di ricerca attiva.</span><span class="sxs-lookup"><span data-stu-id="95eb5-204">For every field that you want toofacet by, ask yourself whether it contains values that are suitable as filters in self-directed search.</span></span> <span data-ttu-id="95eb5-205">i valori Hello devono essere sufficientemente distintive breve e descrittivo toooffer una scelta tra le opzioni di concorrenza non crittografata.</span><span class="sxs-lookup"><span data-stu-id="95eb5-205">hello values should be short, descriptive, and sufficiently distinctive toooffer a clear choice between competing options.</span></span>
* <span data-ttu-id="95eb5-206">Errori di ortografia o valori quasi corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="95eb5-206">Misspellings or nearly matching values.</span></span> <span data-ttu-id="95eb5-207">Se si facet sul colore e i valori dei campi includono arancione e Ornage (un errore di ortografia), un facet in base a campo di colori hello preleverebbe entrambi.</span><span class="sxs-lookup"><span data-stu-id="95eb5-207">If you facet on Color, and field values include Orange and Ornage (a misspelling), a facet based on hello Color field would pick up both.</span></span>
* <span data-ttu-id="95eb5-208">Il testo con maiuscole e minuscole e può inoltre provocare danni all'esplorazione in base a facet con arancione e Arancione visualizzati come due valori diversi.</span><span class="sxs-lookup"><span data-stu-id="95eb5-208">Mixed case text can also wreak havoc in faceted navigation, with orange and Orange appearing as two different values.</span></span> 
* <span data-ttu-id="95eb5-209">Versioni singole e plurale di hello stesso valore può comportare un facet separato per ogni.</span><span class="sxs-lookup"><span data-stu-id="95eb5-209">Single and plural versions of hello same value can result in a separate facet for each.</span></span>

<span data-ttu-id="95eb5-210">Come è facile immaginare, molta attenzione nella preparazione dei dati hello è un aspetto essenziale di navigazione con facet effettivo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-210">As you can imagine, diligence in preparing hello data is an essential aspect of effective faceted navigation.</span></span>

<a name="presentationlayer"></a>

## <a name="build-hello-ui"></a><span data-ttu-id="95eb5-211">Compilare hello dell'interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="95eb5-211">Build hello UI</span></span>
<span data-ttu-id="95eb5-212">Utilizzo dal livello di presentazione hello possibile scoprire i requisiti che potrebbero non riuscire in caso contrario e comprendere quali funzionalità sono essenziale toohello Guida esperienza di ricerca.</span><span class="sxs-lookup"><span data-stu-id="95eb5-212">Working back from hello presentation layer can help you uncover requirements that might be missed otherwise, and understand which capabilities are essential toohello search experience.</span></span>

<span data-ttu-id="95eb5-213">In termini di navigazione con facet, pagina web o l'applicazione visualizza la struttura di navigazione con facet hello rileva l'input dell'utente nella pagina hello e inserisce gli elementi modificato hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-213">In terms of faceted navigation, your web or application page displays hello faceted navigation structure, detects user input on hello page, and inserts hello changed elements.</span></span> 

<span data-ttu-id="95eb5-214">Per le applicazioni web, in genere utilizzato AJAX nel livello di presentazione hello perché consente modifiche incrementali toorefresh.</span><span class="sxs-lookup"><span data-stu-id="95eb5-214">For web applications, AJAX is commonly used in hello presentation layer because it allows you toorefresh incremental changes.</span></span> <span data-ttu-id="95eb5-215">È anche possibile usare ASP.NET MVC o qualsiasi altra piattaforma di visualizzazione in grado di connettersi tramite HTTP tooan servizio di ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="95eb5-215">You could also use ASP.NET MVC or any other visualization platform that can connect tooan Azure Search service over HTTP.</span></span> <span data-ttu-id="95eb5-216">applicazione di esempio Hello a cui fa riferimento in questo articolo: hello **Demo portale processo di ricerca di Azure** – avviene toobe un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="95eb5-216">hello sample application referenced throughout this article -- hello **Azure Search Job Portal Demo** – happens toobe an ASP.NET MVC application.</span></span>

<span data-ttu-id="95eb5-217">Nell'esempio hello, navigazione con facet viene compilata in hello pagina dei risultati di ricerca.</span><span class="sxs-lookup"><span data-stu-id="95eb5-217">In hello sample, faceted navigation is built into hello search results page.</span></span> <span data-ttu-id="95eb5-218">Hello seguente esempio, tratto da hello `index.cshtml` file dell'applicazione di esempio hello, Mostra hello statica struttura HTML per visualizzare la navigazione con facet su ricerca hello pagina di risultati.</span><span class="sxs-lookup"><span data-stu-id="95eb5-218">hello following example, taken from hello `index.cshtml` file of hello sample application, shows hello static HTML structure for displaying faceted navigation on hello search results page.</span></span> <span data-ttu-id="95eb5-219">elenco Hello di facet viene compilato o ricompilato in modo dinamico quando si invia un termine di ricerca, selezionare o deseleziona un facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-219">hello list of facets is built or rebuilt dynamically when you submit a search term, or select or clear a facet.</span></span>

```html
<div class="widget sidebar-widget jobs-filter-widget">
  <h5 class="widget-title">Filter Results</h5>
    <p id="filterReset"></p>
    <div class="widget-content">

      <h6 id="businessTitleFacetTitle">Business Title</h6>
      <ul class="filter-list" id="business_title_facets">
      </ul>

      <h6>Location</h6>
      <ul class="filter-list" id="posting_type_facets">
      </ul>

      <h6>Posting Type</h6>
      <ul class="filter-list" id="posting_type_facets"></ul>

      <h6>Minimum Salary</h6>
      <ul class="filter-list" id="salary_range_facets">
      </ul>

  </div>
</div>
```

<span data-ttu-id="95eb5-220">Hello seguente frammento di codice hello `index.cshtml` pagina compila dinamicamente hello HTML toodisplay hello prima del facet, il titolo di Business.</span><span class="sxs-lookup"><span data-stu-id="95eb5-220">hello following code snippet from hello `index.cshtml` page dynamically builds hello HTML toodisplay hello first facet, Business Title.</span></span> <span data-ttu-id="95eb5-221">Funzioni simili compilare dinamicamente hello HTML per hello altri facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-221">Similar functions dynamically build hello HTML for hello other facets.</span></span> <span data-ttu-id="95eb5-222">Ogni facet ha un'etichetta e un conteggio, che visualizza il numero di hello di elementi trovati per il risultato del facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-222">Each facet has a label and a count, which displays hello number of items found for that facet result.</span></span>

```js
function UpdateBusinessTitleFacets(data) {
  var facetResultsHTML = '';
  for (var i = 0; i < data.length; i++) {
    facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseBusinessTitleFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
  }

  $("#business_title_facets").html(facetResultsHTML);
}
```

> [!TIP]
> <span data-ttu-id="95eb5-223">Quando si progetta una pagina di risultati di ricerca hello, tenere presente tooadd un meccanismo per la cancellazione di facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-223">When you design hello search results page, remember tooadd a mechanism for clearing facets.</span></span> <span data-ttu-id="95eb5-224">Se si aggiungono le caselle di controllo, è possibile visualizzare facilmente come i filtri tooclear hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-224">If you add check boxes, you can easily see how tooclear hello filters.</span></span> <span data-ttu-id="95eb5-225">Per altri layout potrebbe essere necessario un modello di navigazione o un altro approccio creativo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-225">For other layouts, you might need a breadcrumb pattern or another creative approach.</span></span> <span data-ttu-id="95eb5-226">Ad esempio, nell'applicazione di esempio processo ricerca portale hello, è possibile fare clic su hello `[X]` dopo un facet di hello tooclear facet selezionato.</span><span class="sxs-lookup"><span data-stu-id="95eb5-226">For example, in hello Job Search Portal sample application, you can click hello `[X]` after a selected facet tooclear hello facet.</span></span>

<a name="buildquery"></a>

## <a name="build-hello-query"></a><span data-ttu-id="95eb5-227">Compilare la query hello</span><span class="sxs-lookup"><span data-stu-id="95eb5-227">Build hello query</span></span>
<span data-ttu-id="95eb5-228">il codice Hello scritto per la compilazione di query è necessario specificare tutte le parti di una query valida, incluse le espressioni di ricerca, facet, filtri, il punteggio profili – qualsiasi elemento utilizzato tooformulate una richiesta.</span><span class="sxs-lookup"><span data-stu-id="95eb5-228">hello code that you write for building queries should specify all parts of a valid query, including search expressions, facets, filters, scoring profiles– anything used tooformulate a request.</span></span> <span data-ttu-id="95eb5-229">In questa sezione vengono analizzate in facet rientrano in una query e come vengono utilizzati filtri con facet toodeliver ridotto set di risultati.</span><span class="sxs-lookup"><span data-stu-id="95eb5-229">In this section, we explore where facets fit into a query, and how filters are used with facets toodeliver a reduced result set.</span></span>

<span data-ttu-id="95eb5-230">Si noti che i facet sono parte integrante di questa applicazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="95eb5-230">Notice that facets are integral in this sample application.</span></span> <span data-ttu-id="95eb5-231">esperienza di ricerca Hello in hello processo portale Demo viene progettata attorno a filtri e la navigazione con facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-231">hello search experience in hello Job Portal Demo is designed around faceted navigation and filters.</span></span> <span data-ttu-id="95eb5-232">la selezione host principali Hello di navigazione con facet nella pagina hello illustra l'importanza.</span><span class="sxs-lookup"><span data-stu-id="95eb5-232">hello prominent placement of faceted navigation on hello page demonstrates its importance.</span></span> 

<span data-ttu-id="95eb5-233">Un esempio è spesso toobegin un buon punto.</span><span class="sxs-lookup"><span data-stu-id="95eb5-233">An example is often a good place toobegin.</span></span> <span data-ttu-id="95eb5-234">Hello seguente esempio, tratto da hello `JobsSearch.cs` file, le compilazioni in base una richiesta che crea la navigazione facet qualifica, posizione, tipo di registrazione e stipendio minimo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-234">hello following example, taken from hello `JobsSearch.cs` file, builds a request that creates facet navigation based on Business Title, Location, Posting Type, and Minimum Salary.</span></span> 

```cs
SearchParameters sp = new SearchParameters()
{
  ...
  // Add facets
  Facets = new List<String>() { "business_title", "posting_type", "level", "salary_range_from,interval:50000" },
};
```

<span data-ttu-id="95eb5-235">Un parametro di query del facet è impostato il campo tooa e in base al tipo di dati hello, può essere parametrizzato ulteriormente dall'elenco delimitato da virgole che include `count:<integer>`, `sort:<>`, `interval:<integer>`, e `values:<list>`.</span><span class="sxs-lookup"><span data-stu-id="95eb5-235">A facet query parameter is set tooa field and depending on hello data type, can be further parameterized by comma-delimited list that includes `count:<integer>`, `sort:<>`, `interval:<integer>`, and `values:<list>`.</span></span> <span data-ttu-id="95eb5-236">Durante l'impostazione di intervalli è supportato un elenco di valori per i dati numerici.</span><span class="sxs-lookup"><span data-stu-id="95eb5-236">A values list is supported for numeric data when setting up ranges.</span></span> <span data-ttu-id="95eb5-237">Per informazioni dettagliate, vedere [Eseguire ricerche nei documenti (API di Ricerca di Azure)](http://msdn.microsoft.com/library/azure/dn798927.aspx) .</span><span class="sxs-lookup"><span data-stu-id="95eb5-237">See [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) for usage details.</span></span>

<span data-ttu-id="95eb5-238">Insieme a facet, richiesta hello formulata dall'applicazione deve essere basati anche filtri toonarrow verso il basso il set di hello di documenti in base alla selezione di un valore di facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-238">Along with facets, hello request formulated by your application should also build filters toonarrow down hello set of candidate documents based on a facet value selection.</span></span> <span data-ttu-id="95eb5-239">Per un archivio di biciclette, navigazione con facet include indicazioni tooquestions come *quali colori, i produttori e i tipi di biciclette sono disponibili?*.</span><span class="sxs-lookup"><span data-stu-id="95eb5-239">For a bike store, faceted navigation provides clues tooquestions like *What colors, manufacturers, and types of bikes are available?*.</span></span> <span data-ttu-id="95eb5-240">Il filtro risponde a domande come *Quali biciclette sono mountain bike rosse in questa fascia di prezzo?*.</span><span class="sxs-lookup"><span data-stu-id="95eb5-240">Filtering answers questions like *Which exact bikes are red, mountain bikes, in this price range?*.</span></span> <span data-ttu-id="95eb5-241">Quando si fa clic su "Red" tooindicate che devono essere visualizzati solo i prodotti di colore rossi, applicazione di hello query successiva hello invia include `$filter=Color eq ‘Red’`.</span><span class="sxs-lookup"><span data-stu-id="95eb5-241">When you click "Red" tooindicate that only Red products should be shown, hello next query hello application sends includes `$filter=Color eq ‘Red’`.</span></span>

<span data-ttu-id="95eb5-242">Hello seguente frammento di codice hello `JobsSearch.cs` pagina aggiunge hello selezionato qualifica toohello filtro se si seleziona un valore dal facet qualifica hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-242">hello following code snippet from hello `JobsSearch.cs` page adds hello selected Business Title toohello filter if you select a value from hello Business Title facet.</span></span>

```cs
if (businessTitleFacet != "")
  filter = "business_title eq '" + businessTitleFacet + "'";
```

<a name="tips"></a> 

## <a name="tips-and-best-practices"></a><span data-ttu-id="95eb5-243">Suggerimenti e procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="95eb5-243">Tips and best practices</span></span>

### <a name="indexing-tips"></a><span data-ttu-id="95eb5-244">Suggerimenti per l'indicizzazione</span><span class="sxs-lookup"><span data-stu-id="95eb5-244">Indexing tips</span></span>
<span data-ttu-id="95eb5-245">**Migliorare l'efficienza di un indice se non si usa una casella di ricerca**</span><span class="sxs-lookup"><span data-stu-id="95eb5-245">**Improve index efficiency if you don't use a Search box**</span></span>

<span data-ttu-id="95eb5-246">Se l'applicazione utilizza esclusivamente di navigazione con facet (ovvero, nessuna casella di ricerca), è possibile contrassegnare il campo hello come `searchable=false`, `facetable=true` tooproduce un indice più compatto.</span><span class="sxs-lookup"><span data-stu-id="95eb5-246">If your application uses faceted navigation exclusively (that is, no search box), you can mark hello field as `searchable=false`, `facetable=true` tooproduce a more compact index.</span></span> <span data-ttu-id="95eb5-247">Inoltre, l'indicizzazione viene eseguita solo su valori di facet intere, con nessuna interruzione di word o indicizzazione hello parti dei componenti di un valore più parole.</span><span class="sxs-lookup"><span data-stu-id="95eb5-247">In addition, indexing occurs only on whole facet values, with no word-break or indexing of hello component parts of a multi-word value.</span></span>

<span data-ttu-id="95eb5-248">**Specificare quali campi possono essere usati come facet**</span><span class="sxs-lookup"><span data-stu-id="95eb5-248">**Specify which fields can be used as facets**</span></span>

<span data-ttu-id="95eb5-249">Tenere presente che hello dello schema di indice hello determina quali campi sono disponibili toouse come facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-249">Recall that hello schema of hello index determines which fields are available toouse as a facet.</span></span> <span data-ttu-id="95eb5-250">Se che un campo è facetable, query hello specifica quali toofacet campi da.</span><span class="sxs-lookup"><span data-stu-id="95eb5-250">Assuming a field is facetable, hello query specifies which fields toofacet by.</span></span> <span data-ttu-id="95eb5-251">mediante il quale si è i facet di campo di Hello fornisce i valori hello vengono visualizzate sotto l'etichetta hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-251">hello field by which you are faceting provides hello values that appear below hello label.</span></span> 

<span data-ttu-id="95eb5-252">i valori Hello visualizzati in ogni etichetta vengono recuperati dall'indice di hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-252">hello values that appear under each label are retrieved from hello index.</span></span> <span data-ttu-id="95eb5-253">Ad esempio, se hello campo facet è *colore*, i valori hello disponibili per altre opzioni di filtro sono hello i valori del campo - rosso, bianco e così via.</span><span class="sxs-lookup"><span data-stu-id="95eb5-253">For example, if hello facet field is *Color*, hello values available for additional filtering are hello values for that field - Red, Black, and so forth.</span></span>

<span data-ttu-id="95eb5-254">Per valori numerici e data/ora solo, è possibile impostare in modo esplicito i valori nel campo facet hello (ad esempio, `facet=Rating,values:1|2|3|4|5`).</span><span class="sxs-lookup"><span data-stu-id="95eb5-254">For Numeric and DateTime values only, you can explicitly set values on hello facet field (for example, `facet=Rating,values:1|2|3|4|5`).</span></span> <span data-ttu-id="95eb5-255">Un elenco di valori è consentito per questi tipi toosimplify hello separazione campi dei risultati di facet in intervalli contigui (entrambi gli intervalli in base a valori numerici o periodi di tempo).</span><span class="sxs-lookup"><span data-stu-id="95eb5-255">A values list is allowed for these field types toosimplify hello separation of facet results into contiguous ranges (either ranges based on numeric values or time periods).</span></span> 

<span data-ttu-id="95eb5-256">**Per impostazione predefinita, è possibile avere un solo livello di esplorazione in base a facet**</span><span class="sxs-lookup"><span data-stu-id="95eb5-256">**By default you can only have one level of faceted navigation**</span></span> 

<span data-ttu-id="95eb5-257">Come accennato, non esiste alcun supporto diretto per la nidificazione facet in una gerarchia.</span><span class="sxs-lookup"><span data-stu-id="95eb5-257">As noted, there is no direct support for nesting facets in a hierarchy.</span></span> <span data-ttu-id="95eb5-258">Per impostazione predefinita, l'esplorazione in base a facet in Ricerca di Azure supporta solo un livello di filtri.</span><span class="sxs-lookup"><span data-stu-id="95eb5-258">By default, faceted navigation in Azure Search only supports one level of filters.</span></span> <span data-ttu-id="95eb5-259">Tuttavia, esistono soluzioni alternative.</span><span class="sxs-lookup"><span data-stu-id="95eb5-259">However, workarounds do exist.</span></span> <span data-ttu-id="95eb5-260">È possibile codificare una struttura gerarchica facet in un `Collection(Edm.String)` con un punto di ingresso per singola gerarchia.</span><span class="sxs-lookup"><span data-stu-id="95eb5-260">You can encode a hierarchical facet structure in a `Collection(Edm.String)` with one entry point per hierarchy.</span></span> <span data-ttu-id="95eb5-261">Implementazione di questa soluzione esula dall'ambito di hello di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-261">Implementing this workaround is beyond hello scope of this article.</span></span> 

### <a name="querying-tips"></a><span data-ttu-id="95eb5-262">Suggerimenti per le query</span><span class="sxs-lookup"><span data-stu-id="95eb5-262">Querying tips</span></span>
<span data-ttu-id="95eb5-263">**Convalidare i campi**</span><span class="sxs-lookup"><span data-stu-id="95eb5-263">**Validate fields**</span></span>

<span data-ttu-id="95eb5-264">Se si compila l'elenco di hello di facet in modo dinamico in base all'input utente non attendibile, convalidare che i nomi di hello di campi con facet hello sono validi.</span><span class="sxs-lookup"><span data-stu-id="95eb5-264">If you build hello list of facets dynamically based on untrusted user input, validate that hello names of hello faceted fields are valid.</span></span> <span data-ttu-id="95eb5-265">O, creazione di URL, utilizzando nomi hello di escape `Uri.EscapeDataString()` .NET o hello equivalente nella piattaforma a scelta.</span><span class="sxs-lookup"><span data-stu-id="95eb5-265">Or, escape hello names when building URLs by using either `Uri.EscapeDataString()` in .NET, or hello equivalent in your platform of choice.</span></span>

### <a name="filtering-tips"></a><span data-ttu-id="95eb5-266">Suggerimenti per i filtri</span><span class="sxs-lookup"><span data-stu-id="95eb5-266">Filtering tips</span></span>
<span data-ttu-id="95eb5-267">**Aumentare la precisione della ricerca con i filtri**</span><span class="sxs-lookup"><span data-stu-id="95eb5-267">**Increase search precision with filters**</span></span>

<span data-ttu-id="95eb5-268">Usare i filtri.</span><span class="sxs-lookup"><span data-stu-id="95eb5-268">Use filters.</span></span> <span data-ttu-id="95eb5-269">Se si utilizzano solo espressioni di ricerca da solo, lo stemming potrebbe causare un toobe documento restituito che non dispone di valore del facet preciso hello in uno dei relativi campi.</span><span class="sxs-lookup"><span data-stu-id="95eb5-269">If you rely on just search expressions alone, stemming could cause a document toobe returned that doesn’t have hello precise facet value in any of its fields.</span></span>

<span data-ttu-id="95eb5-270">**Aumentare le prestazioni della ricerca con i filtri**</span><span class="sxs-lookup"><span data-stu-id="95eb5-270">**Increase search performance with filters**</span></span>

<span data-ttu-id="95eb5-271">I filtri restringono set hello di documenti di candidati per la ricerca ed escluderli dal calcolo della pertinenza.</span><span class="sxs-lookup"><span data-stu-id="95eb5-271">Filters narrow down hello set of candidate documents for search and exclude them from ranking.</span></span> <span data-ttu-id="95eb5-272">Se si dispone di un ampio set di documenti, l'uso di un drill-down di facet selettivo spesso consente un miglioramento significativo delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="95eb5-272">If you have a large set of documents, using a selective facet drill-down often gives you better performance.</span></span>
  
<span data-ttu-id="95eb5-273">**Filtrare solo i campi con facet hello**</span><span class="sxs-lookup"><span data-stu-id="95eb5-273">**Filter only hello faceted fields**</span></span>

<span data-ttu-id="95eb5-274">In con facet drill-down, si vorrà probabilmente tooonly includono documenti che contengono il valore di facet hello in un campo specifico (con facet), non in un punto qualsiasi tra tutti i campi ricercabili.</span><span class="sxs-lookup"><span data-stu-id="95eb5-274">In faceted drill-down, you typically want tooonly include documents that have hello facet value in a specific (faceted) field, not anywhere across all searchable fields.</span></span> <span data-ttu-id="95eb5-275">Aggiunta di un filtro ribadiscono il campo di destinazione hello indirizzando hello servizio toosearch solo nel campo con facet di hello per un valore corrispondente.</span><span class="sxs-lookup"><span data-stu-id="95eb5-275">Adding a filter reinforces hello target field by directing hello service toosearch only in hello faceted field for a matching value.</span></span>

<span data-ttu-id="95eb5-276">**Ridurre i risultati di facet con altri filtri**</span><span class="sxs-lookup"><span data-stu-id="95eb5-276">**Trim facet results with more filters**</span></span>

<span data-ttu-id="95eb5-277">Risultati di facet sono documenti trovati nei risultati di ricerca hello che corrispondono a un termine di facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-277">Facet results are documents found in hello search results that match a facet term.</span></span> <span data-ttu-id="95eb5-278">Nel seguente esempio, nei risultati della ricerca per hello *il cloud computing*, 254 elementi dispongono inoltre di *interno specifica* come tipo di contenuto.</span><span class="sxs-lookup"><span data-stu-id="95eb5-278">In hello following example, in search results for *cloud computing*, 254 items also have *internal specification* as a content type.</span></span> <span data-ttu-id="95eb5-279">Gli elementi non si escludono necessariamente a vicenda.</span><span class="sxs-lookup"><span data-stu-id="95eb5-279">Items are not necessarily mutually exclusive.</span></span> <span data-ttu-id="95eb5-280">Se un elemento soddisfa i criteri di hello di entrambi i filtri, è espresso in ognuno di essi.</span><span class="sxs-lookup"><span data-stu-id="95eb5-280">If an item meets hello criteria of both filters, it is counted in each one.</span></span> <span data-ttu-id="95eb5-281">È possibile quando la duplicazione facet su `Collection(Edm.String)` campi, che sono spesso utilizzati tooimplement documento tag.</span><span class="sxs-lookup"><span data-stu-id="95eb5-281">This duplication is possible when faceting on `Collection(Edm.String)` fields, which are often used tooimplement document tagging.</span></span>

        Search term: "cloud computing"
        Content type
           Internal specification (254)
           Video (10) 

<span data-ttu-id="95eb5-282">In generale, se risulta che i risultati di facet in modo coerente le dimensioni sono eccessive, è consigliabile aggiungere più utenti vengono filtrati toogive ulteriori opzioni per limitare la ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-282">In general, if you find that facet results are consistently too large, we recommend that you add more filters toogive users more options for narrowing hello search.</span></span>

### <a name="tips-about-result-count"></a><span data-ttu-id="95eb5-283">Suggerimenti sul conteggio dei risultati</span><span class="sxs-lookup"><span data-stu-id="95eb5-283">Tips about result count</span></span>

<span data-ttu-id="95eb5-284">**Limitazione del numero di elementi nel riquadro di navigazione facet hello hello**</span><span class="sxs-lookup"><span data-stu-id="95eb5-284">**Limit hello number of items in hello facet navigation**</span></span>

<span data-ttu-id="95eb5-285">Per ogni campo con facet nell'albero di navigazione hello, è previsto un limite predefinito di 10 valori.</span><span class="sxs-lookup"><span data-stu-id="95eb5-285">For each faceted field in hello navigation tree, there is a default limit of 10 values.</span></span> <span data-ttu-id="95eb5-286">Questa impostazione predefinita è utile per le strutture di navigazione perché mantiene i valori hello dimensioni gestibili tooa dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="95eb5-286">This default makes sense for navigation structures because it keeps hello values list tooa manageable size.</span></span> <span data-ttu-id="95eb5-287">È possibile eseguire l'override di predefinito hello assegnando un valore toocount.</span><span class="sxs-lookup"><span data-stu-id="95eb5-287">You can override hello default by assigning a value toocount.</span></span>

* <span data-ttu-id="95eb5-288">`&facet=city,count:5`Specifica che solo hello primi cinque città trovata nell'espressione top hello classificati i risultati vengono restituite come risultato un facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-288">`&facet=city,count:5` specifies that only hello first five cities found in hello top ranked results are returned as a facet result.</span></span> <span data-ttu-id="95eb5-289">Si consideri una query di esempio con un termine di ricerca di "aeroporto" e 32 corrispondenze.</span><span class="sxs-lookup"><span data-stu-id="95eb5-289">Consider a sample query with a search term of “airport” and 32 matches.</span></span> <span data-ttu-id="95eb5-290">Se la query hello specifica `&facet=city,count:5`, solo i primi cinque città univoche in hello con la maggior parte dei documenti nei risultati della ricerca hello sono inclusi in hello hello risultati facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-290">If hello query specifies `&facet=city,count:5`, only hello first five unique cities with hello most documents in hello search results are included in hello facet results.</span></span>

<span data-ttu-id="95eb5-291">Si noti hello distinzione tra i risultati di facet e i risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="95eb5-291">Notice hello distinction between facet results and search results.</span></span> <span data-ttu-id="95eb5-292">Risultati della ricerca sono tutti i documenti che corrispondono a query hello hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-292">Search results are all hello documents that match hello query.</span></span> <span data-ttu-id="95eb5-293">Risultati di facet sono hello corrispondente per ogni valore del facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-293">Facet results are hello matches for each facet value.</span></span> <span data-ttu-id="95eb5-294">Nell'esempio hello, i risultati della ricerca includono i nomi di città che non sono presenti nell'elenco di classificazione facet hello (5 in questo esempio).</span><span class="sxs-lookup"><span data-stu-id="95eb5-294">In hello example, search results include City names that are not in hello facet classification list (5 in our example).</span></span> <span data-ttu-id="95eb5-295">I risultati che vengono filtrati tramite l'esplorazione in base a facet diventano visibili quando si cancellano i facet o si scelgono altri facet oltre a città.</span><span class="sxs-lookup"><span data-stu-id="95eb5-295">Results that are filtered out through faceted navigation become visible when you clear facets, or choose other facets besides City.</span></span> 

> [!NOTE]
> <span data-ttu-id="95eb5-296">La discussione relativa a `count` quando ne esiste più di un tipo potrebbe portare a confusione.</span><span class="sxs-lookup"><span data-stu-id="95eb5-296">Discussing `count` when there is more than one type can be confusing.</span></span> <span data-ttu-id="95eb5-297">Hello nella tabella seguente offre un breve riepilogo dell'utilizzo di termini hello nell'API di ricerca di Azure, il codice di esempio e documentazione.</span><span class="sxs-lookup"><span data-stu-id="95eb5-297">hello following table offers a brief summary of how hello term is used in Azure Search API, sample code, and documentation.</span></span> 

* `@colorFacet.count`<br/>
  <span data-ttu-id="95eb5-298">Nel codice di presentazione, dovrebbe essere un parametro del conteggio facet hello, toodisplay utilizzati hello numero dei risultati di facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-298">In presentation code, you should see a count parameter on hello facet, used toodisplay hello number of facet results.</span></span> <span data-ttu-id="95eb5-299">Nei risultati di facet, conteggio indica il numero di hello di documenti che corrispondono a termine facet hello o intervalli.</span><span class="sxs-lookup"><span data-stu-id="95eb5-299">In facet results, count indicates hello number of documents that match on hello facet term or range.</span></span>
* `&facet=City,count:12`<br/>
  <span data-ttu-id="95eb5-300">In una query con facet, è possibile impostare il valore di tooa count.</span><span class="sxs-lookup"><span data-stu-id="95eb5-300">In a facet query, you can set count tooa value.</span></span>  <span data-ttu-id="95eb5-301">valore predefinito di Hello è 10, ma è possibile impostare una posizione superiore o inferiore.</span><span class="sxs-lookup"><span data-stu-id="95eb5-301">hello default is 10, but you can set it higher or lower.</span></span> <span data-ttu-id="95eb5-302">Impostazione `count:12` Ottiene hello prime 12 corrispondenze nei risultati di facet per il numero di documento.</span><span class="sxs-lookup"><span data-stu-id="95eb5-302">Setting `count:12` gets hello top 12 matches in facet results by document count.</span></span>
* <span data-ttu-id="95eb5-303">"`@odata.count`"</span><span class="sxs-lookup"><span data-stu-id="95eb5-303">"`@odata.count`"</span></span><br/>
  <span data-ttu-id="95eb5-304">In risposta alle query hello, questo valore indica il numero di hello di elementi corrispondenti nei risultati della ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-304">In hello query response, this value indicates hello number of matching items in hello search results.</span></span> <span data-ttu-id="95eb5-305">In Media, è maggiore di somma hello di tutti i facet risultati combinati, a causa di toohello presenza di elementi corrispondenti al termine di ricerca hello, ma senza corrispondenze di valore del facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-305">On average, it’s larger than hello sum of all facet results combined, due toohello presence of items that match hello search term, but have no facet value matches.</span></span>

<span data-ttu-id="95eb5-306">**Ottenere i conteggi nei risultati di facet**</span><span class="sxs-lookup"><span data-stu-id="95eb5-306">**Get counts in facet results**</span></span>

<span data-ttu-id="95eb5-307">Quando si aggiunge una query con facet tooa di filtro, si consiglia di istruzione di facet hello tooretain (ad esempio, `facet=Rating&$filter=Rating ge 4`).</span><span class="sxs-lookup"><span data-stu-id="95eb5-307">When you add a filter tooa faceted query, you might want tooretain hello facet statement (for example, `facet=Rating&$filter=Rating ge 4`).</span></span> <span data-ttu-id="95eb5-308">Tecnicamente, i facet = classificazione non è necessaria, ma mantenendo restituisce conteggi hello dei valori di facet per le classificazioni, 4 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="95eb5-308">Technically, facet=Rating isn’t needed, but keeping it returns hello counts of facet values for ratings 4 and higher.</span></span> <span data-ttu-id="95eb5-309">Ad esempio, se si sceglie "4" e hello query include un filtro per maggiore o uguale troppo "4", i conteggi vengono restituiti per ogni classificazione è 4 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="95eb5-309">For example, if you click "4" and hello query includes a filter for greater or equal too"4", counts are returned for each rating that is 4 and higher.</span></span>  

<span data-ttu-id="95eb5-310">**Verificare di ottenere conteggi di facet accurati**</span><span class="sxs-lookup"><span data-stu-id="95eb5-310">**Make sure you get accurate facet counts**</span></span>

<span data-ttu-id="95eb5-311">In determinate circostanze, è possibile che i conteggi di facet non corrispondono a set di risultati hello (vedere [navigazione con facet in ricerca di Azure (post di forum)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span><span class="sxs-lookup"><span data-stu-id="95eb5-311">Under certain circumstances, you might find that facet counts do not match hello result sets (see [Faceted navigation in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span></span>

<span data-ttu-id="95eb5-312">I conteggi di facet possono essere corrette a causa di architettura di partizionamento orizzontale toohello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-312">Facet counts can be inaccurate due toohello sharding architecture.</span></span> <span data-ttu-id="95eb5-313">Ogni indice di ricerca include più partizioni, e ogni partizione segnala facet primi N hello dal numero di documenti, è quindi combinato in un singolo risultato.</span><span class="sxs-lookup"><span data-stu-id="95eb5-313">Every search index has multiple shards, and each shard reports hello top N facets by document count, which is then combined into a single result.</span></span> <span data-ttu-id="95eb5-314">Se alcune partizioni hanno molti valori corrispondenti, mentre altri hanno meno, è possibile che alcuni valori di facet sono mancanti o in conteggiati in risultati hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-314">If some shards have many matching values, while others have fewer, you may find that some facet values are missing or under-counted in hello results.</span></span>

<span data-ttu-id="95eb5-315">Sebbene questo comportamento potrebbe cambiare in qualsiasi momento, se si verifica oggi questo comportamento, è possibile aggirare il problema artificialmente eccessi nella misurazione conteggio hello:<number> tooa grande numero tooenforce completo reporting da ogni partizione.</span><span class="sxs-lookup"><span data-stu-id="95eb5-315">Although this behavior could change at any time, if you encounter this behavior today, you can work around it by artificially inflating hello count:<number> tooa large number tooenforce full reporting from each shard.</span></span> <span data-ttu-id="95eb5-316">Se hello valore del conteggio: è maggiore o uguale toohello numero di valori univoci nel campo hello, si sono certi risultati accurati.</span><span class="sxs-lookup"><span data-stu-id="95eb5-316">If hello value of count: is greater than or equal toohello number of unique values in hello field, you are guaranteed accurate results.</span></span> <span data-ttu-id="95eb5-317">Tuttavia, quando i conteggi di documenti sono elevati, si verifica una riduzione delle prestazioni ed è quindi consigliabile usare questa opzione con cautela.</span><span class="sxs-lookup"><span data-stu-id="95eb5-317">However, when document counts are high, there is a performance penalty, so use this option judiciously.</span></span>

### <a name="user-interface-tips"></a><span data-ttu-id="95eb5-318">Suggerimenti per l'interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="95eb5-318">User interface tips</span></span>
<span data-ttu-id="95eb5-319">**Aggiungere etichette per ogni campo nella navigazione facet**</span><span class="sxs-lookup"><span data-stu-id="95eb5-319">**Add labels for each field in facet navigation**</span></span>

<span data-ttu-id="95eb5-320">Le etichette vengono in genere definite nel modulo o hello HTML (`index.cshtml` nell'applicazione di esempio hello).</span><span class="sxs-lookup"><span data-stu-id="95eb5-320">Labels are typically defined in hello HTML or form (`index.cshtml` in hello sample application).</span></span> <span data-ttu-id="95eb5-321">Non esiste alcuna API in Ricerca di Azure per le etichette di navigazione facet o qualsiasi altro metadato.</span><span class="sxs-lookup"><span data-stu-id="95eb5-321">There is no API in Azure Search for facet navigation labels or any other metadata.</span></span>

<a name="rangefacets"></a>

## <a name="filter-based-on-a-range"></a><span data-ttu-id="95eb5-322">Filtro basato su un intervallo</span><span class="sxs-lookup"><span data-stu-id="95eb5-322">Filter based on a range</span></span>
<span data-ttu-id="95eb5-323">L'esplorazione in base a facet su intervalli di valori è un requisito comune delle applicazioni di ricerca.</span><span class="sxs-lookup"><span data-stu-id="95eb5-323">Faceting over ranges of values is a common search application requirement.</span></span> <span data-ttu-id="95eb5-324">Gli intervalli sono supportati per i dati numerici e i valori DateTime.</span><span class="sxs-lookup"><span data-stu-id="95eb5-324">Ranges are supported for numeric data and DateTime values.</span></span> <span data-ttu-id="95eb5-325">Per ulteriori informazioni su ogni approccio in [Eseguire ricerche nei documenti (API di Ricerca di Azure)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span><span class="sxs-lookup"><span data-stu-id="95eb5-325">You can read more about each approach in [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span></span>

<span data-ttu-id="95eb5-326">Ricerca di Azure semplifica la creazione degli intervalli fornendo due approcci per l'elaborazione di un intervallo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-326">Azure Search simplifies range construction by providing two approaches for computing a range.</span></span> <span data-ttu-id="95eb5-327">Per entrambi gli approcci, ricerca di Azure crea hello gli intervalli appropriati, dati gli input hello che ci hai fornito.</span><span class="sxs-lookup"><span data-stu-id="95eb5-327">For both approaches, Azure Search creates hello appropriate ranges given hello inputs you’ve provided.</span></span> <span data-ttu-id="95eb5-328">Ad esempio, se si specificano valori di intervallo di 10|20|30, vengono creati automaticamente gli intervalli 0-10, 10-20, 20-30.</span><span class="sxs-lookup"><span data-stu-id="95eb5-328">For instance, if you specify range values of 10|20|30, it automatically creates ranges of 0-10, 10-20, 20-30.</span></span> <span data-ttu-id="95eb5-329">L'applicazione può facoltativamente rimuovere qualsiasi intervallo vuoto.</span><span class="sxs-lookup"><span data-stu-id="95eb5-329">Your application can optionally remove any intervals that are empty.</span></span> 

<span data-ttu-id="95eb5-330">**Approccio 1: Utilizzare il parametro di intervallo hello**</span><span class="sxs-lookup"><span data-stu-id="95eb5-330">**Approach 1: Use hello interval parameter**</span></span>  
<span data-ttu-id="95eb5-331">facet di prezzo tooset in incrementi di 10, è necessario specificare:`&facet=price,interval:10`</span><span class="sxs-lookup"><span data-stu-id="95eb5-331">tooset price facets in $10 increments, you would specify: `&facet=price,interval:10`</span></span>

<span data-ttu-id="95eb5-332">**Approccio 2: utilizzare un elenco di valori**</span><span class="sxs-lookup"><span data-stu-id="95eb5-332">**Approach 2: Use a values list**</span></span>  
<span data-ttu-id="95eb5-333">Per dati numerici, è possibile usare un elenco di valori.</span><span class="sxs-lookup"><span data-stu-id="95eb5-333">For numeric data, you can use a values list.</span></span>  <span data-ttu-id="95eb5-334">Intervallo di facet hello per prendere in considerazione un `listPrice` campo, visualizzato come segue:</span><span class="sxs-lookup"><span data-stu-id="95eb5-334">Consider hello facet range for a `listPrice` field, rendered as follows:</span></span>

  ![Elenco di valori di esempio][5]

<span data-ttu-id="95eb5-336">toospecify un intervallo del facet come hello in hello che precede la cattura di schermata, utilizzare un elenco di valori:</span><span class="sxs-lookup"><span data-stu-id="95eb5-336">toospecify a facet range like hello one in hello preceding screen shot, use a values list:</span></span>

    facet=listPrice,values:10|25|100|500|1000|2500

<span data-ttu-id="95eb5-337">Ogni intervallo viene compilato utilizzando 0 come punto di partenza, un valore dall'elenco di hello come un endpoint e quindi vengono tagliate hello precedente toocreate discreti intervalli.</span><span class="sxs-lookup"><span data-stu-id="95eb5-337">Each range is built using 0 as a starting point, a value from hello list as an endpoint, and then trimmed of hello previous range toocreate discrete intervals.</span></span> <span data-ttu-id="95eb5-338">Ricerca di Azure esegue questa operazione nell'ambito dell'esplorazione in base facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-338">Azure Search does these things as part of faceted navigation.</span></span> <span data-ttu-id="95eb5-339">Non si dispone di codice toowrite per la struttura di ogni intervallo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-339">You do not have toowrite code for structuring each interval.</span></span>

### <a name="build-a-filter-for-a-range"></a><span data-ttu-id="95eb5-340">Creare un filtro per un intervallo</span><span class="sxs-lookup"><span data-stu-id="95eb5-340">Build a filter for a range</span></span>
<span data-ttu-id="95eb5-341">documenti toofilter in base a un intervallo selezionato, è possibile utilizzare hello `"ge"` e `"lt"` operatori in un'espressione di due parti che definisce l'endpoint di hello dell'intervallo di hello di filtro.</span><span class="sxs-lookup"><span data-stu-id="95eb5-341">toofilter documents based on a range you select, you can use hello `"ge"` and `"lt"` filter operators in a two-part expression that defines hello endpoints of hello range.</span></span> <span data-ttu-id="95eb5-342">Ad esempio, se si sceglie hello intervallo 10 a 25 per un `listPrice` campo filtro hello sarebbe `$filter=listPrice ge 10 and listPrice lt 25`.</span><span class="sxs-lookup"><span data-stu-id="95eb5-342">For example, if you choose hello range 10-25 for a `listPrice` field, hello filter would be `$filter=listPrice ge 10 and listPrice lt 25`.</span></span> <span data-ttu-id="95eb5-343">Nell'esempio di codice hello, espressione di filtro hello utilizza **priceFrom** e **priceTo** endpoint hello tooset di parametri.</span><span class="sxs-lookup"><span data-stu-id="95eb5-343">In hello sample code, hello filter expression uses **priceFrom** and **priceTo** parameters tooset hello endpoints.</span></span> 

  ![Query per un intervallo di valori][6]

<a name="geofacets"></a> 

## <a name="filter-based-on-distance"></a><span data-ttu-id="95eb5-345">Filtro basato sulla distanza</span><span class="sxs-lookup"><span data-stu-id="95eb5-345">Filter based on distance</span></span>
<span data-ttu-id="95eb5-346">Toosee comuni di filtri che consentono scegliere un archivio, ristorante o destinazione in base alla relativa posizione corrente di prossimità tooyour.</span><span class="sxs-lookup"><span data-stu-id="95eb5-346">It’s common toosee filters that help you choose a store, restaurant, or destination based on its proximity tooyour current location.</span></span> <span data-ttu-id="95eb5-347">Questo tipo di filtro potrebbe somigliare all'esplorazione in base a facet, ma è semplicemente un filtro.</span><span class="sxs-lookup"><span data-stu-id="95eb5-347">While this type of filter might look like faceted navigation, it’s just a filter.</span></span> <span data-ttu-id="95eb5-348">Viene menzionato per coloro che cercano in particolare consigli di implementazione per tale problema particolare di progettazione.</span><span class="sxs-lookup"><span data-stu-id="95eb5-348">We mention it here for those of you who are specifically looking for implementation advice for that particular design problem.</span></span>

<span data-ttu-id="95eb5-349">Sono disponibili due funzioni geospaziali in Ricerca di Azure, **geo.distance** e **geo.intersects**.</span><span class="sxs-lookup"><span data-stu-id="95eb5-349">There are two Geospatial functions in Azure Search, **geo.distance** and **geo.intersects**.</span></span>

* <span data-ttu-id="95eb5-350">Hello **Distance** funzione restituisce la distanza hello in chilometri tra due punti.</span><span class="sxs-lookup"><span data-stu-id="95eb5-350">hello **geo.distance** function returns hello distance in kilometers between two points.</span></span> <span data-ttu-id="95eb5-351">Un punto è un campo e altro è una costante passata come parte del filtro hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-351">One point is a field and other is a constant passed as part of hello filter.</span></span> 
* <span data-ttu-id="95eb5-352">Hello **geo.intersects** funzione restituisce true se un punto specificato si trova all'interno di un dato poligono.</span><span class="sxs-lookup"><span data-stu-id="95eb5-352">hello **geo.intersects** function returns true if a given point is within a given polygon.</span></span> <span data-ttu-id="95eb5-353">punto Hello è un campo e hello poligono viene specificato come un elenco di coordinate passato come parte del filtro hello costante.</span><span class="sxs-lookup"><span data-stu-id="95eb5-353">hello point is a field and hello polygon is specified as a constant list of coordinates passed as part of hello filter.</span></span>

<span data-ttu-id="95eb5-354">È possibile trovare alcuni esempi di filtri in [Sintassi dell'espressione di OData (Ricerca di Azure)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span><span class="sxs-lookup"><span data-stu-id="95eb5-354">You can find filter examples in [OData expression syntax (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span></span>

<a name="tryitout"></a>

## <a name="try-hello-demo"></a><span data-ttu-id="95eb5-355">Provare la demo hello</span><span class="sxs-lookup"><span data-stu-id="95eb5-355">Try hello demo</span></span>
<span data-ttu-id="95eb5-356">Hello Demo portale processo di ricerca di Azure è disponibili esempi di hello a cui fa riferimento in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="95eb5-356">hello Azure Search Job Portal Demo contains hello examples referenced in this article.</span></span>

-   <span data-ttu-id="95eb5-357">Visualizzare e testare hello lavoro demo online in [Demo portale processo di ricerca di Azure](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="95eb5-357">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="95eb5-358">Scaricare codice hello da hello [repository di esempi di Azure su GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="95eb5-358">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

<span data-ttu-id="95eb5-359">Mentre si lavora con i risultati della ricerca, guardare URL hello per le modifiche nella costruzione delle query.</span><span class="sxs-lookup"><span data-stu-id="95eb5-359">As you work with search results, watch hello URL for changes in query construction.</span></span> <span data-ttu-id="95eb5-360">Questa applicazione si verifica tooappend facet toohello URI per la selezione di ciascuno di essi.</span><span class="sxs-lookup"><span data-stu-id="95eb5-360">This application happens tooappend facets toohello URI as you select each one.</span></span>

1. <span data-ttu-id="95eb5-361">funzionalità di mapping hello toouse di app demo hello e ottenere una chiave Bing Maps da hello [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span><span class="sxs-lookup"><span data-stu-id="95eb5-361">toouse hello mapping functionality of hello demo app, get a Bing Maps key from hello [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span></span> <span data-ttu-id="95eb5-362">Incollare il codice su una chiave esistente hello hello `index.cshtml` pagina.</span><span class="sxs-lookup"><span data-stu-id="95eb5-362">Paste it over hello existing key in hello `index.cshtml` page.</span></span> <span data-ttu-id="95eb5-363">Hello `BingApiKey` impostazione hello `Web.config` file non viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="95eb5-363">hello `BingApiKey` setting in hello `Web.config` file is not used.</span></span> 

2. <span data-ttu-id="95eb5-364">Eseguire un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-364">Run hello application.</span></span> <span data-ttu-id="95eb5-365">Presentazione di hello facoltativo o chiudere la finestra di dialogo hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-365">Take hello optional tour, or dismiss hello dialog box.</span></span>
   
3. <span data-ttu-id="95eb5-366">Immettere un termine di ricerca, ad esempio "analista" e fare clic sull'icona di ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-366">Enter a search term, such as "analyst", and click hello Search icon.</span></span> <span data-ttu-id="95eb5-367">query di Hello viene eseguita rapidamente.</span><span class="sxs-lookup"><span data-stu-id="95eb5-367">hello query executes quickly.</span></span>
   
   <span data-ttu-id="95eb5-368">Una struttura di navigazione con facet viene restituita anche con i risultati della ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="95eb5-368">A faceted navigation structure is also returned with hello search results.</span></span> <span data-ttu-id="95eb5-369">Nella pagina di risultati di ricerca hello, struttura di navigazione con facet hello include i conteggi per ogni risultato del facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-369">In hello search result page, hello faceted navigation structure includes counts for each facet result.</span></span> <span data-ttu-id="95eb5-370">Non sono stati selezionati facet e quindi vengono restituiti tutti i risultati corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="95eb5-370">No facets are selected, so all matching results are returned.</span></span>
   
   ![Risultati della ricerca prima della selezione di facet][11]

4. <span data-ttu-id="95eb5-372">Fare clic su un valore per Business Title, Location o Minimum Salary.</span><span class="sxs-lookup"><span data-stu-id="95eb5-372">Click a Business Title, Location, or Minimum Salary.</span></span> <span data-ttu-id="95eb5-373">Facet sono null nella ricerca iniziale hello, ma come assumono i valori, i risultati della ricerca hello vengono rimossi elementi che non corrispondono.</span><span class="sxs-lookup"><span data-stu-id="95eb5-373">Facets were null on hello initial search, but as they take on values, hello search results are trimmed of items that no longer match.</span></span>
   
   ![Risultati della ricerca dopo la selezione di facet][12]

5. <span data-ttu-id="95eb5-375">query con facet di tooclear hello in modo che è possibile provare a comportamenti di query diverse, fare clic su hello `[X]` dopo hello selezionato facet hello tooclear di facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-375">tooclear hello faceted query so that you can try different query behaviors, click hello `[X]` after hello selected facets tooclear hello facets.</span></span>
   
<a name="nextstep"></a>

## <a name="learn-more"></a><span data-ttu-id="95eb5-376">Altre informazioni</span><span class="sxs-lookup"><span data-stu-id="95eb5-376">Learn more</span></span>
<span data-ttu-id="95eb5-377">Guardare [Azure Search Deep Dive](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410) (Approfondimenti su Ricerca di Azure).</span><span class="sxs-lookup"><span data-stu-id="95eb5-377">Watch [Azure Search Deep Dive](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span></span> <span data-ttu-id="95eb5-378">45:25, vi è una dimostrazione su come tooimplement facet.</span><span class="sxs-lookup"><span data-stu-id="95eb5-378">At 45:25, there is a demo on how tooimplement facets.</span></span>

<span data-ttu-id="95eb5-379">Per ulteriori informazioni dettagliate sui principi di progettazione per la navigazione con facet, è consigliabile hello seguenti collegamenti:</span><span class="sxs-lookup"><span data-stu-id="95eb5-379">For more insights on design principles for faceted navigation, we recommend hello following links:</span></span>

* [<span data-ttu-id="95eb5-380">Progettazione per la ricerca con esplorazione in base a facet</span><span class="sxs-lookup"><span data-stu-id="95eb5-380">Designing for Faceted Search</span></span>](http://www.uie.com/articles/faceted_search/)
* [<span data-ttu-id="95eb5-381">Modelli di progettazione: esplorazione in base a facet</span><span class="sxs-lookup"><span data-stu-id="95eb5-381">Design Patterns: Faceted Navigation</span></span>](http://alistapart.com/article/design-patterns-faceted-navigation)


<!--Anchors-->
[How toobuild it]: #howtobuildit
[Build hello presentation layer]: #presentationlayer
[Build hello index]: #buildindex
[Check for data quality]: #checkdata
[Build hello query]: #buildquery
[Tips on how toocontrol faceted navigation]: #tips
[Faceted navigation based on range values]: #rangefacets
[Faceted navigation based on GeoPoints]: #geofacets
[Try it out]: #tryitout

<!--Image references-->
[1]: ./media/search-faceted-navigation/azure-search-faceting-example.PNG
[2]: ./media/search-faceted-navigation/Facet-2-CSHTML.PNG
[3]: ./media/search-faceted-navigation/Facet-3-schema.PNG
[4]: ./media/search-faceted-navigation/Facet-4-SearchMethod.PNG
[5]: ./media/search-faceted-navigation/Facet-5-Prices.PNG
[6]: ./media/search-faceted-navigation/Facet-6-buildfilter.PNG
[7]: ./media/search-faceted-navigation/Facet-7-appstart.png
[8]: ./media/search-faceted-navigation/Facet-8-appbike.png
[9]: ./media/search-faceted-navigation/Facet-9-appbikefaceted.png
[10]: ./media/search-faceted-navigation/Facet-10-appTitle.png
[11]: ./media/search-faceted-navigation/faceted-search-before-facets.png
[12]: ./media/search-faceted-navigation/faceted-search-after-facets.png

<!--Link references-->
[Designing for Faceted Search]: http://www.uie.com/articles/faceted_search/
[Design Patterns: Faceted Navigation]: http://alistapart.com/article/design-patterns-faceted-navigation
[Create your first application]: search-create-first-solution.md
[OData expression syntax (Azure Search)]: http://msdn.microsoft.com/library/azure/dn798921.aspx
[Azure Search Adventure Works Demo]: https://azuresearchadventureworksdemo.codeplex.com/
[http://www.odata.org/documentation/odata-version-2-0/overview/]: http://www.odata.org/documentation/odata-version-2-0/overview/ 
[Faceting on Azure Search forum post]: ../faceting-on-azure-search.md?forum=azuresearch
[Search Documents (Azure Search API)]: http://msdn.microsoft.com/library/azure/dn798927.aspx

