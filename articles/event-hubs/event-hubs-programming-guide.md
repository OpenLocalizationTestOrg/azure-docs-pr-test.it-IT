---
title: Guida alla programmazione per Hub eventi di Azure | Documentazione Microsoft
description: Scrivere il codice per Hub eventi di Azure mediante Azure .NET SDK.
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 405ec2b27b488b570c4a5c86e4950ff98233360e
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="eea69-103">Guida alla programmazione di Hub eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-103">Event Hubs programming guide</span></span>

<span data-ttu-id="eea69-104">Questo articolo prende in esame alcuni scenari comuni nella scrittura di codice tramite Hub eventi di Azure e Azure .NET SDK.</span><span class="sxs-lookup"><span data-stu-id="eea69-104">This article discusses some common scenarios in writing code using Azure Event Hubs and the Azure .NET SDK.</span></span> <span data-ttu-id="eea69-105">Si presuppone una conoscenza preliminare di Hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="eea69-106">Per una panoramica sui concetti relativi a Hub eventi, vedere [Panoramica di Hub eventi](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="eea69-106">For a conceptual overview of Event Hubs, see the [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="eea69-107">Publisher di eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-107">Event publishers</span></span>

<span data-ttu-id="eea69-108">L'invio di eventi a un hub eventi viene eseguito tramite una connessione AMQP 1.0 o HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="eea69-108">You send events to an event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="eea69-109">La scelta del protocollo da usare e di quando usarlo dipende dallo scenario specifico.</span><span class="sxs-lookup"><span data-stu-id="eea69-109">The choice of which to use and when depends on the specific scenario being addressed.</span></span> <span data-ttu-id="eea69-110">Le connessioni AMQP 1.0 sono misurate come connessioni negoziate nel bus di servizio e sono più appropriate in scenari in cui sono frequenti volumi di messaggi più elevati e con requisiti di latenza inferiori, perché offrono un canale di messaggistica persistente.</span><span class="sxs-lookup"><span data-stu-id="eea69-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="eea69-111">Si crea e si gestisce Hub eventi con la classe [NamespaceManager][] .</span><span class="sxs-lookup"><span data-stu-id="eea69-111">You create and manage Event Hubs using the [NamespaceManager][] class.</span></span> <span data-ttu-id="eea69-112">Quando si usano le API gestite da .NET, i costrutti primari per la pubblicazione dei dati in Hub eventi sono le classi [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) e [EventData][].</span><span class="sxs-lookup"><span data-stu-id="eea69-112">When using the .NET managed APIs, the primary constructs for publishing data to Event Hubs are the [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="eea69-113">[EventHubClient][] offre il canale di comunicazione AMQP tramite il quale gli eventi vengono inviati all'hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-113">[EventHubClient][] provides the AMQP communication channel over which events are sent to the event hub.</span></span> <span data-ttu-id="eea69-114">La classe [EventData][] rappresenta un evento e viene usata per pubblicare i messaggi in un hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-114">The [EventData][] class represents an event, and is used to publish messages to an event hub.</span></span> <span data-ttu-id="eea69-115">Questa classe include il corpo, alcuni metadati e informazioni di intestazione sull'evento.</span><span class="sxs-lookup"><span data-stu-id="eea69-115">This class includes the body, some metadata, and header information about the event.</span></span> <span data-ttu-id="eea69-116">Altre proprietà vengono aggiunte all'oggetto [EventData][] quando passa attraverso un hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-116">Other properties are added to the [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="eea69-117">Introduzione</span><span class="sxs-lookup"><span data-stu-id="eea69-117">Get started</span></span>

<span data-ttu-id="eea69-118">Le classi .NET che supportano Hub eventi fanno parte dell'assembly Microsoft.ServiceBus.dll.</span><span class="sxs-lookup"><span data-stu-id="eea69-118">The .NET classes that support Event Hubs are provided in the Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="eea69-119">Il modo più semplice per fare riferimento all'API del bus di servizio e configurare l'applicazione con tutte le dipendenze del bus di servizio consiste nello scaricare il [pacchetto NuGet del bus di servizio](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="eea69-119">The easiest way to reference the Service Bus API and to configure your application with all of the Service Bus dependencies is to download the [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="eea69-120">In alternativa, è possibile usare [Console di gestione pacchetti](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="eea69-120">Alternatively, you can use the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="eea69-121">A tale scopo, eseguire il comando seguente nella finestra della [Console di gestione pacchetti](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) :</span><span class="sxs-lookup"><span data-stu-id="eea69-121">To do so, issue the following command in the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="eea69-122">Creare un hub eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-122">Create an event hub</span></span>
<span data-ttu-id="eea69-123">È possibile utilizzare la classe [NamespaceManager][] per creare gli hub di eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-123">You can use the [NamespaceManager][] class to create Event Hubs.</span></span> <span data-ttu-id="eea69-124">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="eea69-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="eea69-125">Nella maggior parte dei casi, è consigliabile usare i metodi [CreateEventHubIfNotExists][] per evitare di generare eccezioni se il servizio viene riavviato.</span><span class="sxs-lookup"><span data-stu-id="eea69-125">In most cases, it is recommended that you use the [CreateEventHubIfNotExists][] methods to avoid generating exceptions if the service restarts.</span></span> <span data-ttu-id="eea69-126">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="eea69-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="eea69-127">Tutte le operazioni di creazione di Hub eventi, tra cui [CreateEventHubIfNotExists][], richiedono di **gestire** le autorizzazioni per lo spazio dei nomi in questione.</span><span class="sxs-lookup"><span data-stu-id="eea69-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on the namespace in question.</span></span> <span data-ttu-id="eea69-128">Se si desidera limitare le autorizzazioni delle applicazioni publisher o consumer, è possibile evitare queste chiamate alle operazioni di creazione nel codice di produzione quando si usano credenziali con autorizzazioni limitate.</span><span class="sxs-lookup"><span data-stu-id="eea69-128">If you want to limit the permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="eea69-129">La classe [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) contiene informazioni dettagliate su un hub eventi, tra cui le regole di autorizzazione, l'intervallo di conservazione dei messaggi, gli ID di partizione, lo stato e il percorso.</span><span class="sxs-lookup"><span data-stu-id="eea69-129">The [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including the authorization rules, the message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="eea69-130">È possibile usare questa classe per aggiornare i metadati in un hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-130">You can use this class to update the metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="eea69-131">Creare un client di Hub eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-131">Create an Event Hubs client</span></span>
<span data-ttu-id="eea69-132">La classe primaria per interagire con Hub eventi è [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="eea69-132">The primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="eea69-133">Questa classe fornisce funzionalità di mittente e destinatario.</span><span class="sxs-lookup"><span data-stu-id="eea69-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="eea69-134">È possibile creare un'istanza di questa classe usando il metodo [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) , come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="eea69-134">You can instantiate this class using the [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in the following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="eea69-135">Questo metodo usa le informazioni di connessione del bus di servizio nella sezione `appSettings` del file App.config.</span><span class="sxs-lookup"><span data-stu-id="eea69-135">This method uses the Service Bus connection information in the App.config file, in the `appSettings` section.</span></span> <span data-ttu-id="eea69-136">Per un esempio dell'XML di `appSettings` usato per archiviare le informazioni di connessione del bus di servizio, vedere la documentazione per il metodo [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) .</span><span class="sxs-lookup"><span data-stu-id="eea69-136">For an example of the `appSettings` XML used to store the Service Bus connection information, see the documentation for the [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="eea69-137">È anche possibile creare il client da una stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="eea69-137">Another option is to create the client from a connection string.</span></span> <span data-ttu-id="eea69-138">Questa opzione funziona bene quando si usano i ruoli di lavoro di Azure, poiché è possibile archiviare la stringa nelle proprietà di configurazione per il lavoro.</span><span class="sxs-lookup"><span data-stu-id="eea69-138">This option works well when using Azure worker roles, because you can store the string in the configuration properties for the worker.</span></span> <span data-ttu-id="eea69-139">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="eea69-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="eea69-140">La stringa di connessione avrà un formato uguale a quello presente nel file App.config per i metodi precedenti:</span><span class="sxs-lookup"><span data-stu-id="eea69-140">The connection string will be in the same format as it appears in the App.config file for the previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="eea69-141">Infine è anche possibile creare un oggetto [EventHubClient][] da un'istanza di [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory), come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="eea69-141">Finally, it is also possible to create an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in the following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="eea69-142">È importante notare che oggetti [EventHubClient][] aggiuntivi creati da un'istanza di factory di messaggistica riutilizzeranno la stessa connessione TCP sottostante.</span><span class="sxs-lookup"><span data-stu-id="eea69-142">It is important to note that additional [EventHubClient][] objects created from a messaging factory instance will reuse the same underlying TCP connection.</span></span> <span data-ttu-id="eea69-143">Di conseguenza, questi oggetti prevedono un limite sul lato client per la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="eea69-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="eea69-144">Il metodo [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) riutilizza una singola factory di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="eea69-144">The [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="eea69-145">Se è necessario molto elevata velocità effettiva di un singolo mittente, è possibile creare più factory di messaggistica e un oggetto [EventHubClient][] factory di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="eea69-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-to-an-event-hub"></a><span data-ttu-id="eea69-146">Inviare eventi a un hub eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-146">Send events to an event hub</span></span>
<span data-ttu-id="eea69-147">Gli eventi vengono inviati a un hub eventi tramite la creazione di un'istanza [EventData][] e l'invio di quest'ultima con il metodo [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_).</span><span class="sxs-lookup"><span data-stu-id="eea69-147">You send events to an event hub by creating an [EventData][] instance and sending it via the [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="eea69-148">Questo metodo accetta un singolo parametro dell'istanza di [EventData][] e lo invia in modo sincrono a un hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-148">This method takes a single [EventData][] instance parameter and synchronously sends it to an event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="eea69-149">Serializzazione degli eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-149">Event serialization</span></span>
<span data-ttu-id="eea69-150">La classe [EventData][] ha [quattro costruttori di overload](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) che accettano una serie di parametri, ad esempio un oggetto, un serializzatore, una matrice di byte o un flusso.</span><span class="sxs-lookup"><span data-stu-id="eea69-150">The [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="eea69-151">È inoltre possibile creare un'istanza della classe [EventData][] e impostare il flusso del corpo in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="eea69-151">It is also possible to instantiate the [EventData][] class and set the body stream afterwards.</span></span> <span data-ttu-id="eea69-152">Quando si usa JSON con [EventData][]è possibile usare **Encoding.UTF8.GetBytes()** per recuperare la matrice di byte per una stringa con codifica JSON.</span><span class="sxs-lookup"><span data-stu-id="eea69-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** to retrieve the byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="eea69-153">Chiave di partizione</span><span class="sxs-lookup"><span data-stu-id="eea69-153">Partition key</span></span>
<span data-ttu-id="eea69-154">La classe [EventData][] ha una proprietà [PartitionKey][] che consente al mittente di specificare un valore che viene eseguito con hash per produrre un'assegnazione di partizione.</span><span class="sxs-lookup"><span data-stu-id="eea69-154">The [EventData][] class has a [PartitionKey][] property that enables the sender to specify a value that is hashed to produce a partition assignment.</span></span> <span data-ttu-id="eea69-155">L'uso di una chiave di partizione assicura che tutti gli eventi con la stessa chiave vengano inviati alla stessa partizione nell'hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-155">Using a partition key ensures that all the events with the same key are sent to the same partition in the event hub.</span></span> <span data-ttu-id="eea69-156">Le chiavi di partizione comuni includono ID sessione utente e ID mittente univoci.</span><span class="sxs-lookup"><span data-stu-id="eea69-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="eea69-157">La proprietà [PartitionKey][] è facoltativa e può essere specificata quando si usa il metodo [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_)o [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_).</span><span class="sxs-lookup"><span data-stu-id="eea69-157">The [PartitionKey][] property is optional and can be provided when using the [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="eea69-158">Se non si specifica un valore per [PartitionKey][], gli eventi inviati vengono distribuiti alle partizioni tramite un modello round robin.</span><span class="sxs-lookup"><span data-stu-id="eea69-158">If you do not provide a value for [PartitionKey][], sent events are distributed to partitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="eea69-159">Considerazioni sulla disponibilità</span><span class="sxs-lookup"><span data-stu-id="eea69-159">Availability considerations</span></span>

<span data-ttu-id="eea69-160">L'uso di una chiave di partizione è facoltativo. È consigliabile valutare attentamente se farne uso o meno.</span><span class="sxs-lookup"><span data-stu-id="eea69-160">Using a partition key is optional, and you should consider carefully whether or not to use one.</span></span> <span data-ttu-id="eea69-161">La chiave di partizione è un'ottima scelta se l'ordine degli eventi è importante.</span><span class="sxs-lookup"><span data-stu-id="eea69-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="eea69-162">Quando si usa una chiave di partizione, queste partizioni richiedono la disponibilità in un singolo nodo. Nel tempo possono verificarsi interruzioni, ad esempio al riavvio dei nodi di calcolo e all'applicazione di patch.</span><span class="sxs-lookup"><span data-stu-id="eea69-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="eea69-163">Di conseguenza, se si imposta un ID di partizione e per qualche motivo la partizione diventa non disponibile, il tentativo di accedere ai dati della partizione avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="eea69-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt to access the data in that partition will fail.</span></span> <span data-ttu-id="eea69-164">Se è prioritaria la disponibilità elevata, non specificare alcuna chiave di partizione. In questo caso gli eventi verranno inviati alle partizioni con il modello round robin descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="eea69-164">If high availability is most important, do not specify a partition key; in that case events will be sent to partitions using the round-robin model described previously.</span></span> <span data-ttu-id="eea69-165">In questo scenario viene esercitata una scelta esplicita tra disponibilità (nessun ID di partizione) e coerenza (aggiunta di eventi a un ID di partizione).</span><span class="sxs-lookup"><span data-stu-id="eea69-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events to a partition ID).</span></span>

<span data-ttu-id="eea69-166">Va anche considerata la gestione dei ritardi nell'elaborazione degli eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="eea69-167">In alcuni casi è preferibile eliminare i dati e riprovare anziché continuare a provare e mantenere attiva l'elaborazione, poiché ciò può sommare altro ritardo all'elaborazione downstream.</span><span class="sxs-lookup"><span data-stu-id="eea69-167">In some cases it might be better to drop data and retry than to try and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="eea69-168">Con i titoli azionari, ad esempio, è consigliabile attendere il completamento dell'aggiornamento dei dati, ma nel caso di una chat in tempo reale o in uno scenario VOIP è preferibile ottenere i dati rapidamente, anche se non sono completi.</span><span class="sxs-lookup"><span data-stu-id="eea69-168">For example, with a stock ticker it's better to wait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have the data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="eea69-169">Considerati gli aspetti relativi alla disponibilità, in questi scenari è possibile scegliere una tra le strategie di gestione degli errori seguenti:</span><span class="sxs-lookup"><span data-stu-id="eea69-169">Given these availability considerations, in these scenarios you might choose one of the following error handling strategies:</span></span>

- <span data-ttu-id="eea69-170">Arresto (arresto della lettura da Hub eventi fino alla risoluzione del problema)</span><span class="sxs-lookup"><span data-stu-id="eea69-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="eea69-171">Eliminazione (i messaggi non sono importanti, eliminarli)</span><span class="sxs-lookup"><span data-stu-id="eea69-171">Drop (messages aren’t important, drop them)</span></span>
- <span data-ttu-id="eea69-172">Ripetizione (nuovo tentativo di invio dei messaggi quando possibile)</span><span class="sxs-lookup"><span data-stu-id="eea69-172">Retry (retry the messages as you see fit)</span></span>
- <span data-ttu-id="eea69-173">[Mancato recapito dei messaggi](../service-bus-messaging/service-bus-dead-letter-queues.md) (usare una coda o un altro hub eventi per evitare il recapito dei soli messaggi che non è possibile elaborare)</span><span class="sxs-lookup"><span data-stu-id="eea69-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub to dead letter only the messages you couldn’t process)</span></span>

<span data-ttu-id="eea69-174">Per altre informazioni e una discussione sui compromessi tra disponibilità e coerenza, vedere [Availability and consistency in Event Hubs (Disponibilità e coerenza in Hub eventi)](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="eea69-174">For more information and a discussion about the trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="eea69-175">Operazioni di invio di eventi in batch</span><span class="sxs-lookup"><span data-stu-id="eea69-175">Batch event send operations</span></span>
<span data-ttu-id="eea69-176">L'invio di eventi in batch può aumentare la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="eea69-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="eea69-177">Il metodo [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) accetta un parametro **IEnumerable** di tipo [EventData][] e invia l'intero batch come operazione atomica all'hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-177">The [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends the entire batch as an atomic operation to the event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="eea69-178">Si noti che un singolo batch non deve superare il limite di 256 KB di un evento.</span><span class="sxs-lookup"><span data-stu-id="eea69-178">Note that a single batch must not exceed the 256 KB limit of an event.</span></span> <span data-ttu-id="eea69-179">Inoltre, ogni messaggio nel batch usa la stessa identità del publisher.</span><span class="sxs-lookup"><span data-stu-id="eea69-179">Additionally, each message in the batch uses the same publisher identity.</span></span> <span data-ttu-id="eea69-180">È responsabilità del mittente verificare che il batch non superi la dimensione massima dell'evento.</span><span class="sxs-lookup"><span data-stu-id="eea69-180">It is the responsibility of the sender to ensure that the batch does not exceed the maximum event size.</span></span> <span data-ttu-id="eea69-181">In questo caso, viene generato un errore di **invio** del client.</span><span class="sxs-lookup"><span data-stu-id="eea69-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="eea69-182">Inviare in modo asincrono e inviare a livello di scalabilità</span><span class="sxs-lookup"><span data-stu-id="eea69-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="eea69-183">È anche possibile inviare eventi a un hub eventi in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="eea69-183">You can also send events to an event hub asynchronously.</span></span> <span data-ttu-id="eea69-184">L'invio asincrono può consentire di aumentare la velocità con cui un client può inviare gli eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-184">Sending asynchronously can increase the rate at which a client is able to send events.</span></span> <span data-ttu-id="eea69-185">Entrambi i metodi [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) e [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) sono disponibili nelle versioni asincrone che restituiscono un oggetto [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx).</span><span class="sxs-lookup"><span data-stu-id="eea69-185">Both the [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="eea69-186">Sebbene questa tecnica possa consentire di aumentare la velocità effettiva, può anche provocare l'invio continuo di eventi da parte del client anche in presenza di limitazioni imposte dal servizio Hub eventi e ciò può comportare errori del client o perdita di messaggi, se l'implementazione non avviene correttamente.</span><span class="sxs-lookup"><span data-stu-id="eea69-186">While this technique can increase throughput, it can also cause the client to continue to send events even while it is being throttled by the Event Hubs service and can result in the client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="eea69-187">Inoltre, è possibile usare la proprietà [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) nel client per controllare le opzioni di ripetizione dei tentativi nel client.</span><span class="sxs-lookup"><span data-stu-id="eea69-187">In addition, you can use the [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on the client to control client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="eea69-188">Creare un mittente di partizione</span><span class="sxs-lookup"><span data-stu-id="eea69-188">Create a partition sender</span></span>
<span data-ttu-id="eea69-189">Sebbene sia più comune inviare eventi a un hub eventi senza una chiave di partizione, in alcuni casi è possibile inviare gli eventi direttamente a una partizione specifica.</span><span class="sxs-lookup"><span data-stu-id="eea69-189">Although it is most common to send events to an event hub without a partition key, in some cases you might want to send events directly to a given partition.</span></span> <span data-ttu-id="eea69-190">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="eea69-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="eea69-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) restituisce un oggetto [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) che è possibile usare per pubblicare eventi in una partizione specifica dell'hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use to publish events to a specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="eea69-192">Consumer di eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-192">Event consumers</span></span>
<span data-ttu-id="eea69-193">Hub eventi dispone di due modelli principali per l'utilizzo di eventi: ricevitori diretti e astrazioni di livello superiore, ad esempio [EventProcessorHost][].</span><span class="sxs-lookup"><span data-stu-id="eea69-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="eea69-194">I ricevitori diretti sono responsabili del coordinamento del proprio accesso alle partizioni in un gruppo di consumer.</span><span class="sxs-lookup"><span data-stu-id="eea69-194">Direct receivers are responsible for their own coordination of access to partitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="eea69-195">Consumer diretto</span><span class="sxs-lookup"><span data-stu-id="eea69-195">Direct consumer</span></span>
<span data-ttu-id="eea69-196">Il modo più diretto per leggere da una partizione all'interno di un gruppo di consumer consiste nell'uso della classe [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) .</span><span class="sxs-lookup"><span data-stu-id="eea69-196">The most direct way to read from a partition within a consumer group is to use the [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="eea69-197">Per creare un'istanza di questa classe, è necessario usare un'istanza della classe [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) .</span><span class="sxs-lookup"><span data-stu-id="eea69-197">To create an instance of this class, you must use an instance of the [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="eea69-198">Nell'esempio seguente, è necessario specificare l'ID di partizione quando si crea il ricevitore per il gruppo di consumer.</span><span class="sxs-lookup"><span data-stu-id="eea69-198">In the following example, the partition ID must be specified when creating the receiver for the consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="eea69-199">Il metodo [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) dispone di diversi overload che facilitano il controllo sul lettore creato.</span><span class="sxs-lookup"><span data-stu-id="eea69-199">The [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over the reader being created.</span></span> <span data-ttu-id="eea69-200">Questi metodi includono la specifica di un offset sotto forma di stringa o timestamp e la possibilità di specificare se includere questo offset nel flusso restituito o iniziare dopo di esso.</span><span class="sxs-lookup"><span data-stu-id="eea69-200">These methods include specifying an offset as either a string or timestamp, and the ability to specify whether to include this specified offset in the returned stream, or start after it.</span></span> <span data-ttu-id="eea69-201">Dopo aver creato il ricevitore, è possibile iniziare a ricevere gli eventi nell'oggetto restituito.</span><span class="sxs-lookup"><span data-stu-id="eea69-201">After you create the receiver, you can start receiving events on the returned object.</span></span> <span data-ttu-id="eea69-202">Il metodo [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) dispone di quattro overload che controllano i parametri dell'operazione receive, ad esempio le dimensioni di batch e il tempo di attesa.</span><span class="sxs-lookup"><span data-stu-id="eea69-202">The [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control the receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="eea69-203">È possibile usare le versioni asincrone di questi metodi per aumentare la velocità effettiva di un consumer.</span><span class="sxs-lookup"><span data-stu-id="eea69-203">You can use the asynchronous versions of these methods to increase the throughput of a consumer.</span></span> <span data-ttu-id="eea69-204">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="eea69-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="eea69-205">Per una partizione specifica, i messaggi vengono ricevuti nell'ordine in cui sono stati inviati all'hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-205">With respect to a specific partition, the messages are received in the order in which they were sent to the event hub.</span></span> <span data-ttu-id="eea69-206">L'offset è un token di stringa usato per identificare un messaggio in una partizione.</span><span class="sxs-lookup"><span data-stu-id="eea69-206">The offset is a string token used to identify a message in a partition.</span></span>

<span data-ttu-id="eea69-207">Si noti che una singola partizione all'interno di un gruppo di consumer non può avere più di cinque lettori concorrenti connessi in un determinato momento.</span><span class="sxs-lookup"><span data-stu-id="eea69-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="eea69-208">Quando i reader si connettono o si disconnettono, le relative sessioni potrebbero rimanere attive per alcuni minuti prima che il servizio riconosca che si sono disconnessi.</span><span class="sxs-lookup"><span data-stu-id="eea69-208">As readers connect or become disconnected, their sessions might stay active for several minutes before the service recognizes that they have disconnected.</span></span> <span data-ttu-id="eea69-209">In questo intervallo, la riconnessione a una partizione potrebbe non riuscire.</span><span class="sxs-lookup"><span data-stu-id="eea69-209">During this time, reconnecting to a partition may fail.</span></span> <span data-ttu-id="eea69-210">Per un esempio completo di scrittura di un ricevitore diretto per Hub eventi, vedere l'esempio relativo ai [ricevitori diretti per gli hub eventi](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) .</span><span class="sxs-lookup"><span data-stu-id="eea69-210">For a complete example of writing a direct receiver for Event Hubs, see the [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="eea69-211">Host processore di eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-211">Event processor host</span></span>
<span data-ttu-id="eea69-212">La classe [EventProcessorHost][] elabora i dati da Hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-212">The [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="eea69-213">È consigliabile usare questa implementazione durante la creazione di reader di eventi sulla piattaforma .NET.</span><span class="sxs-lookup"><span data-stu-id="eea69-213">You should use this implementation when building event readers on the .NET platform.</span></span> <span data-ttu-id="eea69-214">[EventProcessorHost][] fornisce un ambiente di runtime thread-safe, multiprocesso e sicuro per le implementazioni del processore di eventi che fornisce inoltre la gestione di lease di Checkpoint e la partizione.</span><span class="sxs-lookup"><span data-stu-id="eea69-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="eea69-215">Per usare la classe [EventProcessorHost][], è possibile implementare [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="eea69-215">To use the [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="eea69-216">Questa interfaccia contiene tre metodi:</span><span class="sxs-lookup"><span data-stu-id="eea69-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="eea69-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="eea69-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="eea69-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="eea69-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="eea69-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="eea69-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="eea69-220">Per avviare l'elaborazione di eventi, creare un'istanza [EventProcessorHost][]fornendo i parametri appropriati per l'hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-220">To start event processing, instantiate [EventProcessorHost][], providing the appropriate parameters for your event hub.</span></span> <span data-ttu-id="eea69-221">Chiamare quindi [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) per registrare l'implementazione di [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) con il runtime.</span><span class="sxs-lookup"><span data-stu-id="eea69-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) to register your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with the runtime.</span></span> <span data-ttu-id="eea69-222">A questo punto, l'host tenta di acquisire un lease per ogni partizione nell'hub eventi tramite un algoritmo "greedy".</span><span class="sxs-lookup"><span data-stu-id="eea69-222">At this point, the host will attempt to acquire a lease on every partition in the event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="eea69-223">Tali lease dureranno per un determinato intervallo di tempo e quindi devono essere rinnovati.</span><span class="sxs-lookup"><span data-stu-id="eea69-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="eea69-224">Appena nuovi nodi, in questo caso istanze di lavoro, passano online, inviano prenotazioni di lease e nel tempo il carico passa tra i nodi man mano che ognuno tenta di acquisire più lease.</span><span class="sxs-lookup"><span data-stu-id="eea69-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time the load shifts between nodes as each attempts to acquire more leases.</span></span>

![Host processore di eventi](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="eea69-226">Con il passare del tempo, viene stabilito un equilibrio.</span><span class="sxs-lookup"><span data-stu-id="eea69-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="eea69-227">Questa funzionalità dinamica consente il ridimensionamento automatico basato su CPU da applicare ai consumer per la scalabilità verticale e orizzontale.</span><span class="sxs-lookup"><span data-stu-id="eea69-227">This dynamic capability enables CPU-based autoscaling to be applied to consumers for both scale-up and scale-down.</span></span> <span data-ttu-id="eea69-228">Poiché gli hub eventi non hanno una conoscenza diretta del numero di messaggi, l'utilizzo medio della CPU è spesso il meccanismo migliore per misurare la scala back-end o di consumer.</span><span class="sxs-lookup"><span data-stu-id="eea69-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often the best mechanism to measure back end or consumer scale.</span></span> <span data-ttu-id="eea69-229">Se i publisher iniziano a pubblicare più eventi di quelli che i consumer possono elaborare, l'aumento della CPU nei consumer può essere usato per applicare la scalabilità automatica sul numero di istanze di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eea69-229">If publishers begin to publish more events than consumers can process, the CPU increase on consumers can be used to cause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="eea69-230">La classe [EventProcessorHost][] implementa inoltre un meccanismo di impostazione di checkpoint basato sull'archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="eea69-230">The [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="eea69-231">Questo meccanismo archivia l'offset per ogni partizione, in modo che ogni consumer possa determinare qual è stato l'ultimo checkpoint per il consumer precedente.</span><span class="sxs-lookup"><span data-stu-id="eea69-231">This mechanism stores the offset on a per partition basis, so that each consumer can determine what the last checkpoint from the previous consumer was.</span></span> <span data-ttu-id="eea69-232">Man mano che le partizioni passano tra i nodi tramite lease, questo è il meccanismo di sincronizzazione che semplifica lo spostamento del carico.</span><span class="sxs-lookup"><span data-stu-id="eea69-232">As partitions transition between nodes via leases, this is the synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="eea69-233">Revoca di publisher</span><span class="sxs-lookup"><span data-stu-id="eea69-233">Publisher revocation</span></span>
<span data-ttu-id="eea69-234">Oltre alle funzionalità di runtime avanzate di [EventProcessorHost][], Hub eventi consente anche di revocare i publisher per impedire a publisher specifici di inviare eventi a un hub eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-234">In addition to the advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order to block specific publishers from sending event to an event hub.</span></span> <span data-ttu-id="eea69-235">Queste funzionalità sono particolarmente utili in situazioni in cui il token di un autore è stato compromesso o un aggiornamento software sta causando un comportamento non appropriato.</span><span class="sxs-lookup"><span data-stu-id="eea69-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them to behave inappropriately.</span></span> <span data-ttu-id="eea69-236">In queste situazioni, l'identità dell'autore, che fa parte del relativo token di firma di accesso condiviso, può essere bloccata impedendo la pubblicazione di eventi.</span><span class="sxs-lookup"><span data-stu-id="eea69-236">In these situations, the publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="eea69-237">Per altre informazioni sulla revoca di publisher e su come eseguire l'invio a Hub eventi come publisher, vedere l'esempio relativo alla [pubblicazione sicura su larga scala in Hub eventi](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab).</span><span class="sxs-lookup"><span data-stu-id="eea69-237">For more information about publisher revocation and how to send to Event Hubs as a publisher, see the [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="eea69-238">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="eea69-238">Next steps</span></span>
<span data-ttu-id="eea69-239">Per altre informazioni sugli scenari di Hub eventi, visitare i collegamenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="eea69-239">To learn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="eea69-240">Panoramica dell'API di Hub eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="eea69-241">Che cos'è Hub eventi?</span><span class="sxs-lookup"><span data-stu-id="eea69-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="eea69-242">Disponibilità e coerenza nell'Hub eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="eea69-243">Riferimento all'API dell'host processore di eventi</span><span class="sxs-lookup"><span data-stu-id="eea69-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

<span data-ttu-id="eea69-244">[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager</span><span class="sxs-lookup"><span data-stu-id="eea69-244">[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager</span></span>
<span data-ttu-id="eea69-245">[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient</span><span class="sxs-lookup"><span data-stu-id="eea69-245">[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient</span></span>
<span data-ttu-id="eea69-246">[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata</span><span class="sxs-lookup"><span data-stu-id="eea69-246">[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata</span></span>
<span data-ttu-id="eea69-247">[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists</span><span class="sxs-lookup"><span data-stu-id="eea69-247">[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists</span></span>
<span data-ttu-id="eea69-248">[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey</span><span class="sxs-lookup"><span data-stu-id="eea69-248">[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey</span></span>
<span data-ttu-id="eea69-249">[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost</span><span class="sxs-lookup"><span data-stu-id="eea69-249">[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost</span></span>
