---
title: Accedere ai log delle applicazioni YARN in HDInsight basato su Linux - Azure | Microsoft Docs
description: "Informazioni su come accedere ai log dell’applicazione YARN in un cluster HDInsight (Hadoop) basato su Linux tramite la riga di comando e un browser web."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 3ec08d20-4f19-4a8e-ac86-639c04d2f12e
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/31/2017
ms.author: larryfr
ms.openlocfilehash: fbbbddc47f24a46eac9bc64d4420ee8429ed4ad1
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="access-yarn-application-logs-on-linux-based-hdinsight"></a><span data-ttu-id="5936b-103">Accedere ai log delle applicazioni YARN in HDInsight basato su Linux</span><span class="sxs-lookup"><span data-stu-id="5936b-103">Access YARN application logs on Linux-based HDInsight</span></span>

<span data-ttu-id="5936b-104">Informazioni su come accedere ai log di applicazioni YARN (Yet Another Resource Negotiator) in un cluster Hadoop in Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="5936b-104">Learn how to access the logs for YARN (Yet Another Resource Negotiator) applications on a Hadoop cluster in Azure HDInsight.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5936b-105">I passaggi descritti in questo documento richiedono un cluster HDInsight che usa Linux.</span><span class="sxs-lookup"><span data-stu-id="5936b-105">The steps in this document require an HDInsight cluster that uses Linux.</span></span> <span data-ttu-id="5936b-106">Linux è l'unico sistema operativo usato in HDInsight versione 3.4 o successiva.</span><span class="sxs-lookup"><span data-stu-id="5936b-106">Linux is the only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="5936b-107">Per altre informazioni, vedere l'articolo sul [controllo delle versioni del componente di HDInsight](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="5936b-107">For more information, see [HDInsight component versioning](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span>

## <span data-ttu-id="5936b-108"><a name="YARNTimelineServer"></a>Server di sequenza temporale YARN</span><span class="sxs-lookup"><span data-stu-id="5936b-108"><a name="YARNTimelineServer"></a>YARN Timeline Server</span></span>

<span data-ttu-id="5936b-109">Il [server di sequenza temporale YARN](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) offre informazioni generiche sulle applicazioni completate e informazioni sulle applicazioni specifiche del framework, tramite due interfacce diverse.</span><span class="sxs-lookup"><span data-stu-id="5936b-109">The [YARN Timeline Server](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) provides generic information on completed applications and framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="5936b-110">In particolare:</span><span class="sxs-lookup"><span data-stu-id="5936b-110">Specifically:</span></span>

* <span data-ttu-id="5936b-111">L'archiviazione e il recupero di informazioni generiche sulle applicazioni nei cluster HDInsight sono stati abilitati a partire dalla versione 3.1.1.374.</span><span class="sxs-lookup"><span data-stu-id="5936b-111">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="5936b-112">Il componente di informazioni sulle applicazioni specifiche del framework del server di sequenza temporale non è attualmente disponibile nei cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="5936b-112">The framework-specific application information component of the Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="5936b-113">Le informazioni generiche sulle applicazioni includono i seguenti tipi di dati:</span><span class="sxs-lookup"><span data-stu-id="5936b-113">Generic information on applications includes the following type of data:</span></span>

* <span data-ttu-id="5936b-114">ID applicazione, un identificatore univoco di un'applicazione</span><span class="sxs-lookup"><span data-stu-id="5936b-114">The application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="5936b-115">Utente che ha avviato l'applicazione</span><span class="sxs-lookup"><span data-stu-id="5936b-115">The user who started the application</span></span>
* <span data-ttu-id="5936b-116">Informazioni sui tentativi effettuati per completare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="5936b-116">Information on attempts made to complete the application</span></span>
* <span data-ttu-id="5936b-117">Contenitori usati da qualsiasi tentativo dell'applicazione specifico</span><span class="sxs-lookup"><span data-stu-id="5936b-117">The containers used by any given application attempt</span></span>

## <span data-ttu-id="5936b-118"><a name="YARNAppsAndLogs"></a>Log e applicazioni YARN</span><span class="sxs-lookup"><span data-stu-id="5936b-118"><a name="YARNAppsAndLogs"></a>YARN applications and logs</span></span>

<span data-ttu-id="5936b-119">YARN supporta diversi modelli di programmazione, tra cui MapReduce, separando la gestione delle risorse dalla pianificazione e dal monitoraggio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5936b-119">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="5936b-120">YARN usa un oggetto *ResourceManager* (RM) globale, oggetti *NodeManagers* (NM) per ogni nodo di lavoro e oggetti *ApplicationMasters* (AM) per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="5936b-120">YARN uses a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="5936b-121">L'AM per applicazione negozia le risorse (CPU, memoria, disco e rete) per l'esecuzione dell'applicazione con l'RM.</span><span class="sxs-lookup"><span data-stu-id="5936b-121">The per-application AM negotiates resources (CPU, memory, disk, network) for running your application with the RM.</span></span> <span data-ttu-id="5936b-122">L'oggetto RM opera con gli oggetti NM per concedere queste risorse come *contenitori*.</span><span class="sxs-lookup"><span data-stu-id="5936b-122">The RM works with NMs to grant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="5936b-123">L'AM è responsabile del monitoraggio dello stato dei contenitori assegnati dall'RM.</span><span class="sxs-lookup"><span data-stu-id="5936b-123">The AM is responsible for tracking the progress of the containers assigned to it by the RM.</span></span> <span data-ttu-id="5936b-124">A seconda del tipo, un'applicazione può richiedere più contenitori.</span><span class="sxs-lookup"><span data-stu-id="5936b-124">An application may require many containers depending on the nature of the application.</span></span>

<span data-ttu-id="5936b-125">Ogni applicazione può essere costituita da più *tentativi dell'applicazione*.</span><span class="sxs-lookup"><span data-stu-id="5936b-125">Each application may consist of multiple *application attempts*.</span></span> <span data-ttu-id="5936b-126">Se si verifica un errore in un'applicazione, è possibile ripetere un nuovo tentativo.</span><span class="sxs-lookup"><span data-stu-id="5936b-126">If an application fails, it may be retried as a new attempt.</span></span> <span data-ttu-id="5936b-127">Ogni tentativo viene eseguito in un contenitore.</span><span class="sxs-lookup"><span data-stu-id="5936b-127">Each attempt runs in a container.</span></span> <span data-ttu-id="5936b-128">In un certo senso, un contenitore offre il contesto per le unità di base del lavoro eseguito da un'applicazione YARN.</span><span class="sxs-lookup"><span data-stu-id="5936b-128">In a sense, a container provides the context for basic unit of work performed by a YARN application.</span></span> <span data-ttu-id="5936b-129">Tutto il lavoro fatto all'interno del contesto di un contenitore viene eseguito nel singolo nodo di lavoro in cui è stato allocato il contenitore.</span><span class="sxs-lookup"><span data-stu-id="5936b-129">All work that is done within the context of a container is performed on the single worker node on which the container was allocated.</span></span> <span data-ttu-id="5936b-130">Per altri riferimenti, vedere [Concetti YARN][YARN-concepts].</span><span class="sxs-lookup"><span data-stu-id="5936b-130">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="5936b-131">I log applicazione (e i log contenitore associati) sono essenziali per il debug di applicazioni Hadoop problematiche.</span><span class="sxs-lookup"><span data-stu-id="5936b-131">Application logs (and the associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="5936b-132">YARN offre un framework utile per la raccolta, l'aggregazione e l'archiviazione dei log applicazioni tramite la funzionalità di [aggregazione dei log][log-aggregation].</span><span class="sxs-lookup"><span data-stu-id="5936b-132">YARN provides a nice framework for collecting, aggregating, and storing application logs with the [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="5936b-133">La funzione di aggregazione dei log rende più deterministico l'accesso ai log dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5936b-133">The Log Aggregation feature makes accessing application logs more deterministic.</span></span> <span data-ttu-id="5936b-134">Aggrega i log di tutti i contenitori in un nodo di lavoro e li archivia come file di log aggregati per ogni nodo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="5936b-134">It aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node.</span></span> <span data-ttu-id="5936b-135">Quando un'applicazione termina, il log viene archiviato nel file system predefinito.</span><span class="sxs-lookup"><span data-stu-id="5936b-135">The log is stored on the default file system after an application finishes.</span></span> <span data-ttu-id="5936b-136">L'applicazione può usare centinaia o migliaia di contenitori, ma i log di tutti i contenitori eseguiti su un singolo nodo di lavoro vengono sempre aggregati in un unico file.</span><span class="sxs-lookup"><span data-stu-id="5936b-136">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node are always aggregated to a single file.</span></span> <span data-ttu-id="5936b-137">Pertanto, sarà sempre disponibile un unico log per ogni nodo di lavoro usato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5936b-137">So there is only 1 log per worker node used by your application.</span></span> <span data-ttu-id="5936b-138">La funzione di aggregazione dei log è abilitata per impostazione predefinita nei cluster HDInsight versione 3.0 o successiva.</span><span class="sxs-lookup"><span data-stu-id="5936b-138">Log Aggregation is enabled by default on HDInsight clusters version 3.0 and above.</span></span> <span data-ttu-id="5936b-139">I log aggregati sono disponibili nella risorsa di archiviazione predefinita per il cluster.</span><span class="sxs-lookup"><span data-stu-id="5936b-139">Aggregated logs are located in default storage for the cluster.</span></span> <span data-ttu-id="5936b-140">Il percorso seguente è il percorso HDFS dei log:</span><span class="sxs-lookup"><span data-stu-id="5936b-140">The following path is the HDFS path to the logs:</span></span>

    /app-logs/<user>/logs/<applicationId>

<span data-ttu-id="5936b-141">In questo percorso, `user` è il nome dell'utente che ha avviato l'applicazione e</span><span class="sxs-lookup"><span data-stu-id="5936b-141">In the path, `user` is the name of the user who started the application.</span></span> <span data-ttu-id="5936b-142">`applicationId` è l'identificatore univoco assegnato a un'applicazione dall'oggetto YARN RM.</span><span class="sxs-lookup"><span data-stu-id="5936b-142">The `applicationId` is the unique identifier assigned to an application by the YARN RM.</span></span>

<span data-ttu-id="5936b-143">I log aggregati non sono leggibili direttamente perché vengono scritti in un oggetto [TFile][T-file], un [formato binario][binary-format] indicizzato dal contenitore.</span><span class="sxs-lookup"><span data-stu-id="5936b-143">The aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="5936b-144">Usare i log di YARN ResourceManager o gli strumenti dell'interfaccia della riga di comando per visualizzare i log come testo normale per le applicazioni o i contenitori di interesse.</span><span class="sxs-lookup"><span data-stu-id="5936b-144">Use the YARN ResourceManager logs or CLI tools to view these logs as plain text for applications or containers of interest.</span></span>

## <a name="yarn-cli-tools"></a><span data-ttu-id="5936b-145">Strumenti dell’interfaccia di riga di comando YARN</span><span class="sxs-lookup"><span data-stu-id="5936b-145">YARN CLI tools</span></span>

<span data-ttu-id="5936b-146">Per utilizzare gli strumenti dell'interfaccia della riga di comando YARN, è innanzitutto necessario connettersi al cluster HDInsight tramite SSH.</span><span class="sxs-lookup"><span data-stu-id="5936b-146">To use the YARN CLI tools, you must first connect to the HDInsight cluster using SSH.</span></span> <span data-ttu-id="5936b-147">Per altre informazioni, vedere [Usare SSH con HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="5936b-147">For information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>

<span data-ttu-id="5936b-148">È possibile visualizzare questi log come testo normale eseguendo uno dei seguenti comandi:</span><span class="sxs-lookup"><span data-stu-id="5936b-148">You can view these logs as plain text by running one of the following commands:</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>

<span data-ttu-id="5936b-149">Quando si eseguono questi comandi, specificare le informazioni relative a &lt;applicationId>, &lt;user-who-started-the-application>, &lt;containerId> e &lt;worker-node-address>.</span><span class="sxs-lookup"><span data-stu-id="5936b-149">Specify the &lt;applicationId>, &lt;user-who-started-the-application>, &lt;containerId>, and &lt;worker-node-address> information when running these commands.</span></span>

## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="5936b-150">Interfaccia utente di ResourceManager YARN</span><span class="sxs-lookup"><span data-stu-id="5936b-150">YARN ResourceManager UI</span></span>

<span data-ttu-id="5936b-151">L'interfaccia utente di YARN ResourceManager viene eseguita sul nodo head del cluster</span><span class="sxs-lookup"><span data-stu-id="5936b-151">The YARN ResourceManager UI runs on the cluster headnode.</span></span> <span data-ttu-id="5936b-152">ed è accessibile tramite l'interfaccia utente Web di Ambari.</span><span class="sxs-lookup"><span data-stu-id="5936b-152">It is accessed through the Ambari web UI.</span></span> <span data-ttu-id="5936b-153">Per visualizzare i log di YARN, procedere come segue:</span><span class="sxs-lookup"><span data-stu-id="5936b-153">Use the following steps to view the YARN logs:</span></span>

1. <span data-ttu-id="5936b-154">Nel browser Web, accedere a https://CLUSTERNAME.azurehdinsight.net.</span><span class="sxs-lookup"><span data-stu-id="5936b-154">In your web browser, navigate to https://CLUSTERNAME.azurehdinsight.net.</span></span> <span data-ttu-id="5936b-155">Sostituire CLUSTERNAME con il nome del cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="5936b-155">Replace CLUSTERNAME with the name of your HDInsight cluster.</span></span>
2. <span data-ttu-id="5936b-156">Nell'elenco dei servizi a sinistra, selezionare **YARN**.</span><span class="sxs-lookup"><span data-stu-id="5936b-156">From the list of services on the left, select **YARN**.</span></span>

    ![Servizio Yarn selezionato](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnservice.png)
3. <span data-ttu-id="5936b-158">Dall’elenco a discesa **Collegamenti rapidi** selezionare uno dei nodi head del cluster e quindi **Log ResourceManager**.</span><span class="sxs-lookup"><span data-stu-id="5936b-158">From the **Quick Links** dropdown, select one of the cluster head nodes and then select **ResourceManager Log**.</span></span>

    ![Collegamenti rapidi Yarn](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnquicklinks.png)

    <span data-ttu-id="5936b-160">Viene visualizzato un elenco di collegamenti ai log YARN.</span><span class="sxs-lookup"><span data-stu-id="5936b-160">You are presented with a list of links to YARN logs.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
