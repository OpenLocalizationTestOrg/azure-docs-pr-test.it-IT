---
title: modelli di distribuzione aaaCreate per le applicazioni di logica di Azure | Documenti Microsoft
description: Creare modelli di Azure Resource Manager per la distribuzione delle app per la logica e la gestione dei rilasci
services: logic-apps
documentationcenter: .net,nodejs,java
author: jeffhollan
manager: anneta
editor: 
ms.assetid: 85928ec6-d7cb-488e-926e-2e5db89508ee
ms.service: logic-apps
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.custom: H1Hack27Feb2017
ms.date: 10/18/2016
ms.author: LADocs; jehollan
ms.openlocfilehash: 2f09445f10a376a745d6acbba94ca29d5f79fc09
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-templates-for-logic-apps-deployment-and-release-management"></a><span data-ttu-id="7c21c-103">Creare modelli per la distribuzione delle app per la logica e la gestione dei rilasci</span><span class="sxs-lookup"><span data-stu-id="7c21c-103">Create templates for logic apps deployment and release management</span></span>

<span data-ttu-id="7c21c-104">Dopo aver creata un'app di logica, è possibile toocreate come un modello di gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="7c21c-104">After a logic app has been created, you might want toocreate it as an Azure Resource Manager template.</span></span>
<span data-ttu-id="7c21c-105">In questo modo, è possibile distribuire facilmente hello logica app tooany ambiente o il gruppo di risorse in cui potrebbe essere necessario.</span><span class="sxs-lookup"><span data-stu-id="7c21c-105">This way, you can easily deploy hello logic app tooany environment or resource group where you might need it.</span></span>
<span data-ttu-id="7c21c-106">Per altre informazioni sui modelli di Resource Manager, vedere gli articoli su [creazione di modelli di Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) e [distribuzione delle risorse con i modelli di Azure Resource Manager](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="7c21c-106">For more about Resource Manager templates, see [authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) and [deploying resources by using Azure Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="logic-app-deployment-template"></a><span data-ttu-id="7c21c-107">Modello di distribuzione di app per la logica</span><span class="sxs-lookup"><span data-stu-id="7c21c-107">Logic app deployment template</span></span>

<span data-ttu-id="7c21c-108">Un'app per la logica dispone di tre componenti di base:</span><span class="sxs-lookup"><span data-stu-id="7c21c-108">A logic app has three basic components:</span></span>

* <span data-ttu-id="7c21c-109">**Risorse app logica**: contiene informazioni sugli elementi quali prezzi piano, il percorso e definizione di flusso di lavoro hello.</span><span class="sxs-lookup"><span data-stu-id="7c21c-109">**Logic app resource**: Contains information about things like pricing plan, location, and hello workflow definition.</span></span>
* <span data-ttu-id="7c21c-110">**Definizione del flusso di lavoro**: descrive i passaggi del flusso di lavoro e come motore di App per la logica di hello deve essere eseguita del flusso di lavoro hello logica dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7c21c-110">**Workflow definition**: Describes your logic app's workflow steps and how hello Logic Apps engine should execute hello workflow.</span></span>
<span data-ttu-id="7c21c-111">È possibile visualizzare questa definizione nella finestra **Visualizzazione Codice** dell'app per la logica.</span><span class="sxs-lookup"><span data-stu-id="7c21c-111">You can view this definition in your logic app's **Code View** window.</span></span>
<span data-ttu-id="7c21c-112">Nella risorsa di applicazione hello logica, è possibile trovare questa definizione in hello `definition` proprietà.</span><span class="sxs-lookup"><span data-stu-id="7c21c-112">In hello logic app resource, you can find this definition in hello `definition` property.</span></span>
* <span data-ttu-id="7c21c-113">**Connessioni**: fa riferimento a risorse tooseparate archiviano in modo sicuro i metadati relativi a tutte le connessioni connettore, ad esempio una stringa di connessione e un token di accesso.</span><span class="sxs-lookup"><span data-stu-id="7c21c-113">**Connections**: Refers tooseparate resources that securely store metadata about any connector connections, such as a connection string and an access token.</span></span>
<span data-ttu-id="7c21c-114">Nella risorsa di applicazione hello logica, la logica app fa riferimento a queste risorse in hello `parameters` sezione.</span><span class="sxs-lookup"><span data-stu-id="7c21c-114">In hello logic app resource, your logic app references these resources in hello `parameters` section.</span></span>

<span data-ttu-id="7c21c-115">È possibile visualizzare tutti questi elementi delle app per la logica esistenti usando uno strumento come [Esplora inventario risorse di Azure](http://resources.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7c21c-115">You can view all these pieces of existing logic apps by using a tool like [Azure Resource Explorer](http://resources.azure.com).</span></span>

<span data-ttu-id="7c21c-116">toomake un modello per un'app di logica toouse con distribuzioni del gruppo di risorse, è necessario definire le risorse di hello e parametri in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="7c21c-116">toomake a template for a logic app toouse with resource group deployments, you must define hello resources and parameterize as needed.</span></span>
<span data-ttu-id="7c21c-117">Ad esempio, se si distribuisce tooa sviluppo, test e ambiente di produzione, può essere opportuno i database SQL tooa toouse connessione diverse stringhe in ogni ambiente.</span><span class="sxs-lookup"><span data-stu-id="7c21c-117">For example, if you're deploying tooa development, test, and production environment, you likely want toouse different connection strings tooa SQL database in each environment.</span></span>
<span data-ttu-id="7c21c-118">In alternativa, è possibile toodeploy in diverse sottoscrizioni o gruppi di risorse.</span><span class="sxs-lookup"><span data-stu-id="7c21c-118">Or, you might want toodeploy within different subscriptions or resource groups.</span></span>  

## <a name="create-a-logic-app-deployment-template"></a><span data-ttu-id="7c21c-119">Creare un modello di distribuzione di app per la logica</span><span class="sxs-lookup"><span data-stu-id="7c21c-119">Create a logic app deployment template</span></span>

<span data-ttu-id="7c21c-120">toohave modo più semplice di Hello un modello di distribuzione app logica valida è toouse il [Visual Studio Tools per App per la logica](logic-apps-deploy-from-vs.md).</span><span class="sxs-lookup"><span data-stu-id="7c21c-120">hello easiest way toohave a valid logic app deployment template is toouse the [Visual Studio Tools for Logic Apps](logic-apps-deploy-from-vs.md).</span></span>
<span data-ttu-id="7c21c-121">strumenti di Visual Studio Hello generano un modello di distribuzione valido che può essere utilizzato in qualsiasi percorso o la sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="7c21c-121">hello Visual Studio tools generate a valid deployment template that can be used across any subscription or location.</span></span>

<span data-ttu-id="7c21c-122">Esistono altri strumenti utili per la creazione di un modello di distribuzione di app per la logica.</span><span class="sxs-lookup"><span data-stu-id="7c21c-122">A few other tools can assist you as you create a logic app deployment template.</span></span>
<span data-ttu-id="7c21c-123">È possibile creare manualmente, vale a dire usando hello risorse già descritto qui toocreate parametri in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="7c21c-123">You can author by hand, that is, by using hello resources already discussed here toocreate parameters as needed.</span></span>
<span data-ttu-id="7c21c-124">Un'altra opzione è toouse un [autore del modello app logica](https://github.com/jeffhollan/LogicAppTemplateCreator) modulo di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7c21c-124">Another option is toouse a [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator) PowerShell module.</span></span> <span data-ttu-id="7c21c-125">Questo modulo open source valuta innanzitutto hello logica app e le connessioni che utilizza e quindi genera risorse modello con i parametri necessari hello per la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="7c21c-125">This open-source module first evaluates hello logic app and any connections that it is using, and then generates template resources with hello necessary parameters for deployment.</span></span>
<span data-ttu-id="7c21c-126">Ad esempio, se si dispone di un'app di logica che riceve un messaggio da una coda di Service Bus di Azure e aggiunge dati tooan Azure SQL database, strumento hello mantiene tutta la logica dell'orchestrazione hello e Parametrizza hello SQL e le stringhe di connessione di Service Bus in modo che possano essere impostati in fase di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="7c21c-126">For example, if you have a logic app that receives a message from an Azure Service Bus queue and adds data tooan Azure SQL database, hello tool preserves all hello orchestration logic and parameterizes hello SQL and Service Bus connection strings so that they can be set at deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="7c21c-127">Le connessioni devono essere all'interno di hello hello logica app stesso gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="7c21c-127">Connections must be within hello same resource group as hello logic app.</span></span>
>
>

### <a name="install-hello-logic-app-template-powershell-module"></a><span data-ttu-id="7c21c-128">Installare il modulo PowerShell di modello di hello logica app</span><span class="sxs-lookup"><span data-stu-id="7c21c-128">Install hello logic app template PowerShell module</span></span>
<span data-ttu-id="7c21c-129">modulo di Hello più semplice modo tooinstall hello è tramite hello [PowerShell Gallery](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), utilizzando il comando hello `Install-Module -Name LogicAppTemplate`.</span><span class="sxs-lookup"><span data-stu-id="7c21c-129">hello easiest way tooinstall hello module is via hello [PowerShell Gallery](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), by using hello command `Install-Module -Name LogicAppTemplate`.</span></span>  

<span data-ttu-id="7c21c-130">È anche possibile installare il modulo di PowerShell hello manualmente:</span><span class="sxs-lookup"><span data-stu-id="7c21c-130">You also can install hello PowerShell module manually:</span></span>

1. <span data-ttu-id="7c21c-131">Scaricare la versione più recente di hello di hello [autore del modello app logica](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span><span class="sxs-lookup"><span data-stu-id="7c21c-131">Download hello latest release of hello [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span></span>  
2. <span data-ttu-id="7c21c-132">Estrarre la cartella hello nella cartella del modulo di PowerShell (in genere `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span><span class="sxs-lookup"><span data-stu-id="7c21c-132">Extract hello folder in your PowerShell module folder (usually `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span></span>

<span data-ttu-id="7c21c-133">Per hello modulo toowork con qualsiasi tenant e sottoscrizione accesso token, è consigliabile utilizzarlo con hello [ARMClient](https://github.com/projectkudu/ARMClient) strumento da riga di comando.</span><span class="sxs-lookup"><span data-stu-id="7c21c-133">For hello module toowork with any tenant and subscription access token, we recommend that you use it with hello [ARMClient](https://github.com/projectkudu/ARMClient) command-line tool.</span></span>  <span data-ttu-id="7c21c-134">Questo [post di blog ](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) illustra ARMClient in modo più dettagliato.</span><span class="sxs-lookup"><span data-stu-id="7c21c-134">This [blog post](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) discusses ARMClient in more detail.</span></span>

### <a name="generate-a-logic-app-template-by-using-powershell"></a><span data-ttu-id="7c21c-135">Generare un modello di app per la logica tramite PowerShell</span><span class="sxs-lookup"><span data-stu-id="7c21c-135">Generate a logic app template by using PowerShell</span></span>
<span data-ttu-id="7c21c-136">Dopo l'installazione di PowerShell, è possibile generare un modello utilizzando hello comando seguente:</span><span class="sxs-lookup"><span data-stu-id="7c21c-136">After PowerShell is installed, you can generate a template by using hello following command:</span></span>

`armclient token $SubscriptionId | Get-LogicAppTemplate -LogicApp MyApp -ResourceGroup MyRG -SubscriptionId $SubscriptionId -Verbose | Out-File C:\template.json`

<span data-ttu-id="7c21c-137">`$SubscriptionId`ID di sottoscrizione di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="7c21c-137">`$SubscriptionId` is hello Azure subscription ID.</span></span> <span data-ttu-id="7c21c-138">Questa riga ottiene innanzitutto un accesso token tramite ARMClient, quindi invia tramite pipe tramite toohello script di PowerShell e quindi crea il modello di hello in un file JSON.</span><span class="sxs-lookup"><span data-stu-id="7c21c-138">This line first gets an access token via ARMClient, then pipes it through toohello PowerShell script, and then creates hello template in a JSON file.</span></span>

## <a name="add-parameters-tooa-logic-app-template"></a><span data-ttu-id="7c21c-139">Aggiungere modello di applicazione di parametri tooa logica</span><span class="sxs-lookup"><span data-stu-id="7c21c-139">Add parameters tooa logic app template</span></span>
<span data-ttu-id="7c21c-140">Dopo aver creato il modello di applicazione logica, è possibile continuare tooadd o modificare i parametri che potrebbero essere necessari.</span><span class="sxs-lookup"><span data-stu-id="7c21c-140">After you create your logic app template, you can continue tooadd or modify parameters that you might need.</span></span> <span data-ttu-id="7c21c-141">Ad esempio, se la definizione include un ID di risorsa tooan funzione Azure o di un flusso di lavoro annidato che si prevede di toodeploy in un'unica distribuzione, è possibile aggiungere ulteriori modelli tooyour di risorse e parametrizzare ID in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="7c21c-141">For example, if your definition includes a resource ID tooan Azure function or nested workflow that you plan toodeploy in a single deployment, you can add more resources tooyour template and parameterize IDs as needed.</span></span> <span data-ttu-id="7c21c-142">Hello vale tooany riferimenti toocustom API o Swagger endpoint desiderato toodeploy con ogni gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="7c21c-142">hello same applies tooany references toocustom APIs or Swagger endpoints you expect toodeploy with each resource group.</span></span>

## <a name="deploy-a-logic-app-template"></a><span data-ttu-id="7c21c-143">Distribuire un modello di app per la logica</span><span class="sxs-lookup"><span data-stu-id="7c21c-143">Deploy a logic app template</span></span>

<span data-ttu-id="7c21c-144">È possibile distribuire il modello utilizzando qualsiasi strumento come PowerShell, l'API REST [gestione del rilascio di Visual Studio Team Services](#team-services)e la distribuzione dei modelli tramite hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="7c21c-144">You can deploy your template by using any tools like PowerShell, REST API, [Visual Studio Team Services Release Management](#team-services), and template deployment through hello Azure portal.</span></span>
<span data-ttu-id="7c21c-145">I valori hello toostore per i parametri, è inoltre consigliabile creare un [file parametro](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span><span class="sxs-lookup"><span data-stu-id="7c21c-145">Also, toostore hello values for parameters, we recommend that you create a [parameter file](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span></span>
<span data-ttu-id="7c21c-146">Informazioni su come troppo[distribuire le risorse con i modelli di gestione risorse di Azure e PowerShell](../azure-resource-manager/resource-group-template-deploy.md) o [distribuire le risorse con i modelli di gestione risorse di Azure e Azure portal hello](../azure-resource-manager/resource-group-template-deploy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="7c21c-146">Learn how too[deploy resources with Azure Resource Manager templates and PowerShell](../azure-resource-manager/resource-group-template-deploy.md) or [deploy resources with Azure Resource Manager templates and hello Azure portal](../azure-resource-manager/resource-group-template-deploy-portal.md).</span></span>

### <a name="authorize-oauth-connections"></a><span data-ttu-id="7c21c-147">Autorizzare le connessioni OAuth</span><span class="sxs-lookup"><span data-stu-id="7c21c-147">Authorize OAuth connections</span></span>

<span data-ttu-id="7c21c-148">Dopo la distribuzione, hello logica app funziona end-to-end con parametri validi.</span><span class="sxs-lookup"><span data-stu-id="7c21c-148">After deployment, hello logic app works end-to-end with valid parameters.</span></span>
<span data-ttu-id="7c21c-149">Tuttavia, è comunque necessario autorizzare OAuth connessioni toogenerate un token di accesso valido.</span><span class="sxs-lookup"><span data-stu-id="7c21c-149">However, you must still authorize OAuth connections toogenerate a valid access token.</span></span>
<span data-ttu-id="7c21c-150">tooauthorize OAuth connessioni, aprire hello logica app nella logica di progettazione di App hello e autorizzare le connessioni.</span><span class="sxs-lookup"><span data-stu-id="7c21c-150">tooauthorize OAuth connections, open hello logic app in hello Logic Apps Designer, and authorize these connections.</span></span> <span data-ttu-id="7c21c-151">O per la distribuzione automatica, è possibile utilizzare un tooeach tooconsent script connessione OAuth.</span><span class="sxs-lookup"><span data-stu-id="7c21c-151">Or for automated deployment, you can use a script tooconsent tooeach OAuth connection.</span></span>
<span data-ttu-id="7c21c-152">Nel progetto [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) è presente uno script di esempio su GitHub.</span><span class="sxs-lookup"><span data-stu-id="7c21c-152">There's an example script on GitHub under the [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) project.</span></span>

<a name="team-services"></a>
## <a name="visual-studio-team-services-release-management"></a><span data-ttu-id="7c21c-153">Visual Studio Team Services Release Management</span><span class="sxs-lookup"><span data-stu-id="7c21c-153">Visual Studio Team Services Release Management</span></span>

<span data-ttu-id="7c21c-154">Uno scenario comune per la distribuzione e gestione di un ambiente è uno strumento come gestione del rilascio in Visual Studio Team Services con un modello di distribuzione app logica toouse.</span><span class="sxs-lookup"><span data-stu-id="7c21c-154">A common scenario for deploying and managing an environment is toouse a tool like Release Management in Visual Studio Team Services, with a logic app deployment template.</span></span> <span data-ttu-id="7c21c-155">Visual Studio Team Services include un [distribuzione gruppo di risorse di Azure](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) attività che è possibile aggiungere build tooany o della pipeline di rilascio.</span><span class="sxs-lookup"><span data-stu-id="7c21c-155">Visual Studio Team Services includes a [Deploy Azure Resource Group](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) task that you can add tooany build or release pipeline.</span></span> <span data-ttu-id="7c21c-156">È necessario toohave un [dell'entità servizio](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) per l'autorizzazione toodeploy, quindi è possibile generare la definizione di versione hello.</span><span class="sxs-lookup"><span data-stu-id="7c21c-156">You need toohave a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) for authorization toodeploy, and then you can generate hello release definition.</span></span>

1. <span data-ttu-id="7c21c-157">In Release Management selezionare **Vuoto** per creare una definizione vuota.</span><span class="sxs-lookup"><span data-stu-id="7c21c-157">In Release Management, select **Empty** so that you create an empty definition.</span></span>

    ![Creare una definizione vuota][1]

2. <span data-ttu-id="7c21c-159">Scegliere tutte le risorse che necessarie per questa operazione, probabilmente inclusi hello logica app modello generato manualmente o come parte di hello processo di compilazione.</span><span class="sxs-lookup"><span data-stu-id="7c21c-159">Choose any resources you need for this, most likely including hello logic app template that is generated manually or as part of hello build process.</span></span>
3. <span data-ttu-id="7c21c-160">Aggiungere un'attività **Distribuzione gruppo di risorse di Azure** .</span><span class="sxs-lookup"><span data-stu-id="7c21c-160">Add an **Azure Resource Group Deployment** task.</span></span>
4. <span data-ttu-id="7c21c-161">Configurare con un [dell'entità servizio](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/)e fare riferimento ai file di modello e i parametri di modello hello.</span><span class="sxs-lookup"><span data-stu-id="7c21c-161">Configure with a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/), and reference hello Template and Template Parameters files.</span></span>
5. <span data-ttu-id="7c21c-162">Continuare toobuild passaggi nel processo di rilascio hello per qualsiasi altro ambiente, dei test automatizzati o responsabili approvazione in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="7c21c-162">Continue toobuild out steps in hello release process for any other environment, automated test, or approvers as needed.</span></span>

<!-- Image References -->
[1]: ./media/logic-apps-create-deploy-template/emptyreleasedefinition.png
