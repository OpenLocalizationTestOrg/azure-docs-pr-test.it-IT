---
title: esercitazione di aggiornamento di aaaService infrastruttura app | Documenti Microsoft
description: In questo articolo vengono esaminati esperienza hello di distribuzione di un'applicazione di Service Fabric, modificare il codice hello e implementazione di un aggiornamento tramite Visual Studio.
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: a3181a7a-9ab1-4216-b07a-05b79bd826a4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: d069ff0b291018dbac846e65cddff1e9d73d156c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-tutorial-using-visual-studio"></a><span data-ttu-id="5cbcc-103">Esercitazione sull'aggiornamento di un'applicazione di Service Fabric tramite Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5cbcc-103">Service Fabric application upgrade tutorial using Visual Studio</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="5cbcc-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="5cbcc-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="5cbcc-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5cbcc-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="5cbcc-106">Azure Service Fabric semplifica il processo di hello di aggiornamento di applicazioni cloud assicurando che vengano aggiornati solo i servizi modificati, e che lo stato di applicazioni sia monitorato durante l'intero processo di aggiornamento hello.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-106">Azure Service Fabric simplifies hello process of upgrading cloud applications by ensuring that only changed services are upgraded, and that application health is monitored throughout hello upgrade process.</span></span> <span data-ttu-id="5cbcc-107">Inoltre automaticamente il rollback hello toohello precedente versione dell'applicazione in presenza di problemi.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-107">It also automatically rolls back hello application toohello previous version upon encountering issues.</span></span> <span data-ttu-id="5cbcc-108">Gli aggiornamenti dell'applicazione di Service Fabric sono *i tempi di inattività di Zero*, dal momento che un'applicazione hello può essere aggiornata senza tempi di inattività.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-108">Service Fabric application upgrades are *Zero Downtime*, since hello application can be upgraded with no downtime.</span></span> <span data-ttu-id="5cbcc-109">Questa esercitazione sono trattati come toocomplete un aggiornamento in sequenza da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-109">This tutorial covers how toocomplete a rolling upgrade from Visual Studio.</span></span>

## <a name="step-1-build-and-publish-hello-visual-objects-sample"></a><span data-ttu-id="5cbcc-110">Passaggio 1: Creare e pubblicare: esempio hello oggetti visivi</span><span class="sxs-lookup"><span data-stu-id="5cbcc-110">Step 1: Build and publish hello Visual Objects sample</span></span>
<span data-ttu-id="5cbcc-111">Scaricare innanzitutto hello [oggetti visivi](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) da GitHub.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-111">First, download hello [Visual Objects](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) application from GitHub.</span></span> <span data-ttu-id="5cbcc-112">Quindi, compilare e pubblicare un'applicazione hello facendo clic sul progetto di applicazione hello **VisualObjects**e selezionando hello **pubblica** comando nella voce di menu hello Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-112">Then, build and publish hello application by right-clicking on hello application project, **VisualObjects**, and selecting hello **Publish** command in hello Service Fabric menu item.</span></span>

![Menu di scelta rapida per un'applicazione di Service Fabric][image1]

<span data-ttu-id="5cbcc-114">Selezione **pubblica** , viene visualizzata una finestra popup, ed è possibile impostare hello **profilo di destinazione** troppo**PublishProfiles\Local.xml**.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-114">Selecting **Publish** brings up a popup, and you can set hello **Target profile** too**PublishProfiles\Local.xml**.</span></span> <span data-ttu-id="5cbcc-115">Hello finestra dovrebbe essere simile hello seguenti prima di scegliere **pubblica**.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-115">hello window should look like hello following before you click **Publish**.</span></span>

![Pubblicazione di un'applicazione di Service Fabric][image2]

<span data-ttu-id="5cbcc-117">Ora è possibile fare clic su **pubblica** nella finestra di dialogo hello.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-117">Now you can click **Publish** in hello dialog box.</span></span> <span data-ttu-id="5cbcc-118">È possibile utilizzare [Service Fabric Explorer tooview cluster e hello applicazione hello](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-118">You can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="5cbcc-119">applicazione di oggetti visivi Hello è un servizio web che è possibile passare tooby digitando [http://localhost:8081visualobjects/](http://localhost:8081/visualobjects/) nella barra degli indirizzi del browser hello.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-119">hello Visual Objects application has a web service that you can go tooby typing [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) in hello address bar of your browser.</span></span>  <span data-ttu-id="5cbcc-120">Dovrebbe essere 10 oggetti visivi mobili gli spostamenti nella schermata Ciao.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-120">You should see 10 floating visual objects moving around on hello screen.</span></span>

<span data-ttu-id="5cbcc-121">**Nota:** se la distribuzione troppo`Cloud.xml` profilo (Azure Service Fabric), un'applicazione hello quindi deve essere disponibile all'indirizzo **http://{ServiceFabricName}. { Region}.cloudapp.Azure.com:8081/visualobjects/**.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-121">**NOTE:** If deploying too`Cloud.xml` profile (Azure Service Fabric), hello application should then be available at **http://{ServiceFabricName}.{Region}.cloudapp.azure.com:8081/visualobjects/**.</span></span> <span data-ttu-id="5cbcc-122">Assicurarsi di avere `8081/TCP` configurato nel servizio di bilanciamento del carico hello (trovare hello bilanciamento del carico in hello stesso gruppo di risorse come istanza di Service Fabric hello).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-122">Make sure you do have `8081/TCP` configured in hello Load Balancer (find hello Load Balancer in hello same resource group as hello Service Fabric instance).</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="5cbcc-123">Passaggio 2: Aggiornare: esempio hello oggetti visivi</span><span class="sxs-lookup"><span data-stu-id="5cbcc-123">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="5cbcc-124">È possibile notare che con la versione di hello che è stato distribuito nel passaggio 1, gli oggetti visivi hello non ruotare.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-124">You might notice that with hello version that was deployed in step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="5cbcc-125">Eseguire l'aggiornamento si tooone questa applicazione in cui gli oggetti visivi hello inoltre ruotare.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-125">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="5cbcc-126">Selezionare il progetto VisualObjects.ActorService hello all'interno di hello soluzione VisualObjects e aprire hello **VisualObjectActor.cs** file.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-126">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello **VisualObjectActor.cs** file.</span></span> <span data-ttu-id="5cbcc-127">All'interno del file, passare il metodo toohello `MoveObject`, impostare come commento `visualObject.Move(false)`e rimuovere il commento `visualObject.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-127">Within that file, go toohello method `MoveObject`, comment out `visualObject.Move(false)`, and uncomment `visualObject.Move(true)`.</span></span> <span data-ttu-id="5cbcc-128">Questa modifica del codice ruota oggetti hello dopo l'aggiornamento di servizio hello.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-128">This code change rotates hello objects after hello service is upgraded.</span></span>  <span data-ttu-id="5cbcc-129">**È ora possibile creare (non ricompilare) hello soluzione**, quali compilazioni hello modificato progetti.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-129">**Now you can build (not rebuild) hello solution**, which builds hello modified projects.</span></span> <span data-ttu-id="5cbcc-130">Se si seleziona *Ricompila tutto*, si dispone di versioni di hello tooupdate per tutti i progetti di hello.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-130">If you select *Rebuild all*, you have tooupdate hello versions for all hello projects.</span></span>

<span data-ttu-id="5cbcc-131">È anche necessario tooversion l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-131">We also need tooversion our application.</span></span> <span data-ttu-id="5cbcc-132">modifica della versione di hello toomake dopo fare clic su hello **VisualObjects** progetto, è possibile utilizzare Visual Studio hello **modifica manifesto versioni** opzione.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-132">toomake hello version changes after you right-click on hello **VisualObjects** project, you can use hello Visual Studio **Edit Manifest Versions** option.</span></span> <span data-ttu-id="5cbcc-133">Se si seleziona questa opzione viene visualizzata la finestra di dialogo hello per le versioni edition come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="5cbcc-133">Selecting this option brings up hello dialog box for edition versions as follows:</span></span>

![Finestra di dialogo del controllo delle versioni][image3]

<span data-ttu-id="5cbcc-135">Aggiornamento di versioni hello per hello modificare progetti e ai pacchetti di codice, insieme a tooversion applicazione hello 2.0.0.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-135">Update hello versions for hello modified projects and their code packages, along with hello application tooversion 2.0.0.</span></span> <span data-ttu-id="5cbcc-136">Dopo aver apportato modifiche di hello, manifesto hello dovrebbe essere simile hello seguente (parti in grassetto mostrano le modifiche di hello):</span><span class="sxs-lookup"><span data-stu-id="5cbcc-136">After hello changes are made, hello manifest should look like hello following (bold portions show hello changes):</span></span>

![Aggiornamento di versioni][image4]

<span data-ttu-id="5cbcc-138">strumenti di Visual Studio Hello è possono eseguire il rollup automatico delle versioni quando si seleziona **aggiornare automaticamente versioni dell'applicazione e servizio**.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-138">hello Visual Studio tools can do automatic rollups of versions upon selecting **Automatically update application and service versions**.</span></span> <span data-ttu-id="5cbcc-139">Se si utilizza [SemVer](http://www.semver.org), è necessario utilizzare codice hello tooupdate e/o configurazione pacchetto versione solo se tale opzione è selezionata.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-139">If you use [SemVer](http://www.semver.org), you need tooupdate hello code and/or configuration package version alone if that option is selected.</span></span>

<span data-ttu-id="5cbcc-140">Salvare le modifiche di hello e controllare hello **hello aggiornamento applicazione** casella.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-140">Save hello changes, and now check hello **Upgrade hello Application** box.</span></span>

## <a name="step-3--upgrade-your-application"></a><span data-ttu-id="5cbcc-141">Passaggio 3: Aggiornare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="5cbcc-141">Step 3:  Upgrade your application</span></span>
<span data-ttu-id="5cbcc-142">Acquisire familiarità con hello [parametri di aggiornamento dell'applicazione](service-fabric-application-upgrade-parameters.md) hello e [processo di aggiornamento](service-fabric-application-upgrade.md) tooget una buona conoscenza di hello vari parametri, valori di timeout e criterio di integrità che è possibile l'aggiornamento applicare.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-142">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion that can be applied.</span></span> <span data-ttu-id="5cbcc-143">Questa procedura dettagliata, criteri di valutazione di integrità servizio hello sono impostato toohello predefinito (modalità non monitorata).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-143">For this walkthrough, hello service health evaluation criterion is set toohello default (unmonitored mode).</span></span> <span data-ttu-id="5cbcc-144">È possibile configurare queste impostazioni selezionando **configurare impostazioni di aggiornamento** e quindi modificando i parametri di hello in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-144">You can configure these settings by selecting **Configure Upgrade Settings** and then modifying hello parameters as desired.</span></span>

<span data-ttu-id="5cbcc-145">Ora siamo tutti i set di un'applicazione hello toostart aggiornamento selezionando **pubblica**.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-145">Now we are all set toostart hello application upgrade by selecting **Publish**.</span></span> <span data-ttu-id="5cbcc-146">Questa opzione consente di aggiornare il tooversion applicazione 2.0.0, in cui gli oggetti hello ruotare.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-146">This option upgrades your application tooversion 2.0.0, in which hello objects rotate.</span></span> <span data-ttu-id="5cbcc-147">Service Fabric aggiornato un dominio di aggiornamento alla volta (alcuni oggetti vengono aggiornati per primi, seguito da altri utenti) e il servizio hello rimane accessibile durante l'aggiornamento di hello.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-147">Service Fabric upgrades one update domain at a time (some objects are updated first, followed by others), and hello service remains accessible during hello upgrade.</span></span> <span data-ttu-id="5cbcc-148">Servizio di accesso toohello può essere verificato tramite il client (browser).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-148">Access toohello service can be checked through your client (browser).</span></span>  

<span data-ttu-id="5cbcc-149">A questo punto, come hello viene eseguito l'aggiornamento dell'applicazione, è possibile monitorarlo con Service Fabric Explorer, utilizzando hello **gli aggiornamenti in corso** scheda applicazioni hello.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-149">Now, as hello application upgrade proceeds, you can monitor it with Service Fabric Explorer, by using hello **Upgrades in Progress** tab under hello applications.</span></span>

<span data-ttu-id="5cbcc-150">In pochi minuti, tutti i domini di aggiornamento devono essere aggiornati (completato) e finestra di output di Visual Studio hello deve indicare anche che l'aggiornamento hello viene completata.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-150">In a few minutes, all update domains should be upgraded (completed), and hello Visual Studio output window should also state that hello upgrade is completed.</span></span> <span data-ttu-id="5cbcc-151">E che si trova *tutti* ora la rotazione di oggetti visivi di hello nella finestra del browser.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-151">And you should find that *all* hello visual objects in your browser window are now rotating!</span></span>

<span data-ttu-id="5cbcc-152">È possibile desidera tootry versioni hello e spostando dalla versione 2.0.0 tooversion 3.0.0 come esercizio, o anche da versione 2.0.0 nuovamente tooversion 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-152">You may want tootry changing hello versions, and moving from version 2.0.0 tooversion 3.0.0 as an exercise, or even from version 2.0.0 back tooversion 1.0.0.</span></span> <span data-ttu-id="5cbcc-153">Provare a usare toomake di criteri di integrità e timeout manualmente familiarità con esse.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-153">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="5cbcc-154">Durante la distribuzione di cluster di Azure come tooan anziché cluster locale tooa, parametri hello utilizzati potrebbero essere toodiffer.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-154">When deploying tooan Azure cluster as opposed tooa local cluster, hello parameters used may have toodiffer.</span></span> <span data-ttu-id="5cbcc-155">È consigliabile impostare i timeout hello conservativamente.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-155">We recommend that you set hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5cbcc-156">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="5cbcc-156">Next steps</span></span>
<span data-ttu-id="5cbcc-157">[Aggiornamento di un'applicazione di Service Fabric mediante PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) descrive la procedura di aggiornamento di un'applicazione tramite PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5cbcc-157">[Upgrading your application using PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="5cbcc-158">Controllare l'aggiornamento dell'applicazione tramite i [parametri di aggiornamento](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-158">Control how your application is upgraded by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="5cbcc-159">Apportare aggiornamenti applicazione compatibile da learning come toouse [la serializzazione dei dati](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-159">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="5cbcc-160">Informazioni su come toouse funzionalità avanzate durante l'aggiornamento dell'applicazione riferendosi troppo[argomenti avanzati](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-160">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="5cbcc-161">Risolvere i problemi comuni negli aggiornamenti dell'applicazione riferendosi passaggi toohello [gli aggiornamenti dell'applicazione di risoluzione dei problemi](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="5cbcc-161">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

[image1]: media/service-fabric-application-upgrade-tutorial/upgrade7.png
[image2]: media/service-fabric-application-upgrade-tutorial/upgrade1.png
[image3]: media/service-fabric-application-upgrade-tutorial/upgrade5.png
[image4]: media/service-fabric-application-upgrade-tutorial/upgrade6.png
