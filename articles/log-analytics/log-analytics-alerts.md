---
title: Informazioni sugli avvisi in Log Analytics di Azure | Microsoft Docs
description: Gli avvisi in Log Analytics identificano le informazioni importanti nel repository OMS e possono notificare i problemi all'utente in modo proattivo o richiamare le azioni per tentare di correggerle.  In questo articolo vengono descritti i diversi tipi di regole di avviso e come vengono definite.
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6cfd2a46-b6a2-4f79-a67b-08ce488f9a91
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: bwren
ms.openlocfilehash: 951e76d3fb18d9e433b148e82d4d6cee9417ce6d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="understanding-alerts-in-log-analytics"></a><span data-ttu-id="40bd9-104">Informazioni sugli avvisi in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="40bd9-104">Understanding alerts in Log Analytics</span></span>

<span data-ttu-id="40bd9-105">Gli avvisi in Log Analytics identificano informazioni importanti nel repository di Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="40bd9-105">Alerts in Log Analytics identify important information in your Log Analytics repository.</span></span>  <span data-ttu-id="40bd9-106">Questo articolo contiene informazioni dettagliate sul funzionamento delle regole di avviso in Log Analytics e la descrizione delle differenze tra diversi tipi di regole di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-106">This article provides details of how alert rules in Log Analytics work and describes the differences between different types of alert rules.</span></span>

<span data-ttu-id="40bd9-107">Per il processo di creazione delle regole di avviso, vedere gli articoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="40bd9-107">For the process of creating alert rules, see the following articles:</span></span>

- <span data-ttu-id="40bd9-108">Creare regole di avviso tramite il [portale di Azure](log-analytics-alerts-creating.md)</span><span class="sxs-lookup"><span data-stu-id="40bd9-108">Create alert rules using [Azure portal](log-analytics-alerts-creating.md)</span></span>
- <span data-ttu-id="40bd9-109">Creare regole di avviso tramite il [modello di Resource Manager](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="40bd9-109">Create alert rules using [Resource Manager template](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span></span>
- <span data-ttu-id="40bd9-110">Creare regole di avviso tramite l'[API REST](log-analytics-api-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="40bd9-110">Create alert rules using [REST API](log-analytics-api-alerts.md)</span></span>


## <a name="alert-rules"></a><span data-ttu-id="40bd9-111">Regole di avviso</span><span class="sxs-lookup"><span data-stu-id="40bd9-111">Alert rules</span></span>

<span data-ttu-id="40bd9-112">Gli avvisi vengono creati da regole di avviso che eseguono automaticamente ricerche log a intervalli regolari.</span><span class="sxs-lookup"><span data-stu-id="40bd9-112">Alerts are created by alert rules that automatically run log searches at regular intervals.</span></span>  <span data-ttu-id="40bd9-113">Se i risultati della ricerca log corrispondono a criteri specifici viene creato un record di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-113">If the results of the log search match particular criteria then an alert record is created.</span></span>  <span data-ttu-id="40bd9-114">La regola può quindi eseguire automaticamente una o più azioni per notificare l'avviso all'utente in modo proattivo o richiamare un altro processo.</span><span class="sxs-lookup"><span data-stu-id="40bd9-114">The rule can then automatically run one or more actions to proactively notify you of the alert or invoke another process.</span></span>  <span data-ttu-id="40bd9-115">I diversi tipi di regole di avviso usano una logica diversa per eseguire l'analisi.</span><span class="sxs-lookup"><span data-stu-id="40bd9-115">Different types of alert rules use different logic to perform this analysis.</span></span>

![Avvisi Log Analytics](media/log-analytics-alerts/overview.png)

<span data-ttu-id="40bd9-117">Le regole di avviso vengono definite dai dettagli seguenti:</span><span class="sxs-lookup"><span data-stu-id="40bd9-117">Alert Rules are defined by the following details:</span></span>

- <span data-ttu-id="40bd9-118">**Ricerca log**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-118">**Log search**.</span></span>  <span data-ttu-id="40bd9-119">La query eseguita ogni volta che viene attivata la regola di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-119">The query that runs every time the alert rule fires.</span></span>  <span data-ttu-id="40bd9-120">I record restituiti da questa query vengono usati per determinare se viene creato un avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-120">The records returned by this query is used to determine whether an alert is created.</span></span>
- <span data-ttu-id="40bd9-121">**Intervallo di tempo**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-121">**Time window**.</span></span>  <span data-ttu-id="40bd9-122">Specifica l'intervallo di tempo per la query.</span><span class="sxs-lookup"><span data-stu-id="40bd9-122">Specifies the time range for the query.</span></span>  <span data-ttu-id="40bd9-123">La query restituisce solo i record creati in questo intervallo dell'ora corrente.</span><span class="sxs-lookup"><span data-stu-id="40bd9-123">The query returns only records that were created within this range of the current time.</span></span>  <span data-ttu-id="40bd9-124">Può essere un valore qualsiasi compreso tra 5 minuti e 24 ore.</span><span class="sxs-lookup"><span data-stu-id="40bd9-124">This can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="40bd9-125">Ad esempio, se l'intervallo di tempo è impostato su 60 minuti e la query viene eseguita alle 13.15 , vengono restituiti solo i record creati tra le 12.15 e le 13.15.</span><span class="sxs-lookup"><span data-stu-id="40bd9-125">For example, If the time window is set to 60 minutes, and the query is run at 1:15 PM, only records created between 12:15 PM and 1:15 PM is returned.</span></span>
- <span data-ttu-id="40bd9-126">**Frequenza**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-126">**Frequency**.</span></span>  <span data-ttu-id="40bd9-127">Specifica la frequenza con cui deve essere eseguita la query.</span><span class="sxs-lookup"><span data-stu-id="40bd9-127">Specifies how often the query should be run.</span></span> <span data-ttu-id="40bd9-128">Può essere un valore qualsiasi compreso tra 5 minuti e 24 ore.</span><span class="sxs-lookup"><span data-stu-id="40bd9-128">Can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="40bd9-129">Deve essere uguale o minore dell'intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="40bd9-129">Should be equal to or less than the time window.</span></span>  <span data-ttu-id="40bd9-130">Se il valore è maggiore dell'intervallo di tempo, si rischia di omettere il record.</span><span class="sxs-lookup"><span data-stu-id="40bd9-130">If the value is greater than the time window, then you risk records being missed.</span></span><br><span data-ttu-id="40bd9-131">Si considerino ad esempio un intervallo di tempo di 30 minuti e una frequenza pari a 60 minuti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-131">For example, consider a time window of 30 minutes and a frequency of 60 minutes.</span></span>  <span data-ttu-id="40bd9-132">Una query eseguita alle 13:00 restituirà i record compresi tra le 12:30 e le 13:00.</span><span class="sxs-lookup"><span data-stu-id="40bd9-132">If the query is run at 1:00, it returns records between 12:30 and 1:00 PM.</span></span>  <span data-ttu-id="40bd9-133">La volta successiva, la query verrà eseguita alle 14:00 e restituirà i record compresi tra le 13:30 e le 14:00.</span><span class="sxs-lookup"><span data-stu-id="40bd9-133">The next time the query would run is 2:00 when it would return records between 1:30 and 2:00.</span></span>  <span data-ttu-id="40bd9-134">Qualsiasi record creato tra le 13:00 e 13:30 non verrà mai valutato.</span><span class="sxs-lookup"><span data-stu-id="40bd9-134">Any records created between 1:00 and 1:30 would never be evaluated.</span></span>
- <span data-ttu-id="40bd9-135">**Soglia**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-135">**Threshold**.</span></span>  <span data-ttu-id="40bd9-136">Per determinare se è necessario creare un avviso, vengono valutati i risultati della ricerca log.</span><span class="sxs-lookup"><span data-stu-id="40bd9-136">The results of the log search are evaluated to determine whether an alert should be created.</span></span>  <span data-ttu-id="40bd9-137">La soglia è diversa per i diversi tipi di regole di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-137">The threshold is different for the different types of alert rules.</span></span>

<span data-ttu-id="40bd9-138">Ogni regola di avviso di Log Analytics è di uno fra due tipi.</span><span class="sxs-lookup"><span data-stu-id="40bd9-138">Each alert rule in Log Analytics is one of two types.</span></span>  <span data-ttu-id="40bd9-139">Ognuno di questi tipi viene descritto in dettaglio nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-139">Each of these types is described in detail in the sections that follow.</span></span>

- <span data-ttu-id="40bd9-140">**[Numero di risultati](#number-of-results-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-140">**[Number of results](#number-of-results-alert-rules)**.</span></span> <span data-ttu-id="40bd9-141">Singolo avviso creato quando i record di numeri restituiti dalla ricerca log superano un numero specificato.</span><span class="sxs-lookup"><span data-stu-id="40bd9-141">Single alert created when the number records returned by the log search exceed a specified number.</span></span>
- <span data-ttu-id="40bd9-142">**[Unità di misura della metrica](#metric-measurement-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-142">**[Metric measurement](#metric-measurement-alert-rules)**.</span></span>  <span data-ttu-id="40bd9-143">Avviso creato per ogni oggetto nei risultati della ricerca log quando i valori superano la soglia specificata.</span><span class="sxs-lookup"><span data-stu-id="40bd9-143">Alert created for each object in the results of the log search with values that exceed specified threshold.</span></span>

<span data-ttu-id="40bd9-144">Di seguito sono riportate le differenze tra i tipi di regola di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-144">The differences between alert rule types are as follows.</span></span>

- <span data-ttu-id="40bd9-145">La regola di avvivo **Numero di risultati** crea sempre un avviso singolo, mentre le regola di avviso **Unità di misura della metrica** crea un avviso per ogni oggetto che supera la soglia.</span><span class="sxs-lookup"><span data-stu-id="40bd9-145">**Number of results** alert rule will always create a single alert while **Metric measurement** alert rule creates an alert for each object that exceeds the threshold.</span></span>
- <span data-ttu-id="40bd9-146">Le regole di avviso **Numero di risultati** creano un avviso quando la soglia viene superata una sola volta.</span><span class="sxs-lookup"><span data-stu-id="40bd9-146">**Number of results** alert rules create an alert when the threshold is exceeded a single time.</span></span> <span data-ttu-id="40bd9-147">Le regole di avviso **Unità di misura della metrica** possono creare un avviso quando viene superata la soglia più di una volta in un intervallo di tempo specifico.</span><span class="sxs-lookup"><span data-stu-id="40bd9-147">**Metric measurement** alert rules can create an alert when the threshold is exceeded a certain number of times over a particular time interval.</span></span>

## <a name="number-of-results-alert-rules"></a><span data-ttu-id="40bd9-148">Regole di avviso Numero di risultati</span><span class="sxs-lookup"><span data-stu-id="40bd9-148">Number of results alert rules</span></span>
<span data-ttu-id="40bd9-149">Le regole di avviso **Numero di risultati** creano un singolo avviso quando il numero di record restituiti dalla query di ricerca supera la soglia specificata.</span><span class="sxs-lookup"><span data-stu-id="40bd9-149">**Number of results** alert rules create a single alert when the number of records returned by the search query exceed the specified threshold.</span></span>

### <a name="threshold"></a><span data-ttu-id="40bd9-150">Soglia</span><span class="sxs-lookup"><span data-stu-id="40bd9-150">Threshold</span></span>
<span data-ttu-id="40bd9-151">La soglia per una regola di avviso **Numero di risultati** è semplicemente maggiore o minore di un particolare valore.</span><span class="sxs-lookup"><span data-stu-id="40bd9-151">The threshold for a **Number of results** alert rule is simply greater than or less than a particular value.</span></span>  <span data-ttu-id="40bd9-152">Se il numero di record restituiti dalla ricerca log corrisponde a questi criteri, viene creato un avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-152">If the number of records returned by the log search match this criteria, then an alert is created.</span></span>

### <a name="scenarios"></a><span data-ttu-id="40bd9-153">Scenari</span><span class="sxs-lookup"><span data-stu-id="40bd9-153">Scenarios</span></span>

#### <a name="events"></a><span data-ttu-id="40bd9-154">Eventi</span><span class="sxs-lookup"><span data-stu-id="40bd9-154">Events</span></span>
<span data-ttu-id="40bd9-155">Questo tipo di regola di avviso è adatto per l'uso con eventi come quelli dei log eventi di Windows, Syslog e log personalizzati.</span><span class="sxs-lookup"><span data-stu-id="40bd9-155">This type of alert rule is ideal for working with events such as Windows event logs, Syslog, and Custom logs.</span></span>  <span data-ttu-id="40bd9-156">È consigliabile creare un avviso quando viene creato un evento di errore specifico o vengono creati più eventi di errore entro un intervallo di tempo specifico.</span><span class="sxs-lookup"><span data-stu-id="40bd9-156">You may want to create an alert when a particular error event gets created, or when multiple error events are created within a particular time window.</span></span>

<span data-ttu-id="40bd9-157">Per generare un avviso su un singolo evento, impostare un numero di risultati maggiore di 0 e la frequenza e l'intervallo di tempo su 5 minuti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-157">To alert on a single event, set the number of results to greater than 0 and both the frequency and time window to 5 minutes.</span></span>  <span data-ttu-id="40bd9-158">Queste impostazioni attivano l'esecuzione della query ogni 5 minuti e controllano l'occorrenza di un singolo evento che è stato creato dopo l'ultima esecuzione della query.</span><span class="sxs-lookup"><span data-stu-id="40bd9-158">That runs the query every 5 minutes and check for the occurrence of a single event that was created since the last time the query was run.</span></span>  <span data-ttu-id="40bd9-159">Una frequenza maggiore può ritardare il tempo tra l'evento raccolto e la creazione dell'avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-159">A longer frequency may delay the time between the event being collected and the alert being created.</span></span>

<span data-ttu-id="40bd9-160">Alcune applicazioni possono registrare un errore occasionale che non deve necessariamente generare un avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-160">Some applications may log an occasional error that shouldn't necessarily raise an alert.</span></span>  <span data-ttu-id="40bd9-161">Ad esempio, l'applicazione può ripetere il processo che ha creato l'evento di errore e riuscire quindi al tentativo al successivo.</span><span class="sxs-lookup"><span data-stu-id="40bd9-161">For example, the application may retry the process that created the error event and then succeed the next time.</span></span>  <span data-ttu-id="40bd9-162">In questo caso, non è consigliabile creare l'avviso, a meno che in un intervallo di tempo specifico non vengano creati più eventi.</span><span class="sxs-lookup"><span data-stu-id="40bd9-162">In this case, you may not want to create the alert unless multiple events are created within a particular time window.</span></span>  

<span data-ttu-id="40bd9-163">In alcuni casi, è possibile creare un avviso in assenza di un evento.</span><span class="sxs-lookup"><span data-stu-id="40bd9-163">In some cases, you may want to create an alert in the absence of an event.</span></span>  <span data-ttu-id="40bd9-164">Ad esempio, un processo può registrare eventi regolari per indicare che funziona correttamente.</span><span class="sxs-lookup"><span data-stu-id="40bd9-164">For example, a process may log regular events to indicate that it's working properly.</span></span>  <span data-ttu-id="40bd9-165">Se non viene registrato uno di questi eventi in un intervallo di tempo specifico, dovrà essere creato un avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-165">If it doesn't log one of these events within a particular time window, then an alert should be created.</span></span>  <span data-ttu-id="40bd9-166">In questo caso è necessario impostare la soglia su **minore di 1**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-166">In this case you would set the threshold to **less than 1**.</span></span>

#### <a name="performance-alerts"></a><span data-ttu-id="40bd9-167">Avvisi di prestazioni</span><span class="sxs-lookup"><span data-stu-id="40bd9-167">Performance alerts</span></span>
<span data-ttu-id="40bd9-168">[I dati sulle prestazioni](log-analytics-data-sources-performance-counters.md) vengono archiviato come record nel repository OMS in modo analogo agli eventi.</span><span class="sxs-lookup"><span data-stu-id="40bd9-168">[Performance data](log-analytics-data-sources-performance-counters.md) is stored as records in the OMS repository similar to events.</span></span>  <span data-ttu-id="40bd9-169">Se si vuole generare un avviso quando un contatore delle prestazioni supera una determinata soglia, tale soglia deve essere inclusa nella query.</span><span class="sxs-lookup"><span data-stu-id="40bd9-169">If you want to alert when a performance counter exceeds a particular threshold, then that threshold should be included in the query.</span></span>

<span data-ttu-id="40bd9-170">Ad esempio, se si vuole generare un avviso quando il processore è in esecuzione oltre il 90%, usare una query come la seguente con la soglia per la regola di avviso **maggiore di 0**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-170">For example, if you wanted to alert when the processor runs over 90%, you would use a query like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" CounterValue>90

<span data-ttu-id="40bd9-171">Se si vuole generare un avviso quando la media del processore è oltre il 90% per un determinato intervallo di tempo, usare una query con il [comando measure](log-analytics-search-reference.md#commands) come la seguente con la soglia per la regola di avviso **maggiore di 0**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-171">If you wanted to alert when the processor averaged over 90% for a particular time window, you would use a query using the [measure command](log-analytics-search-reference.md#commands) like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer | where AggregatedValue>90

>[!NOTE]
> <span data-ttu-id="40bd9-172">Se l'area di lavoro è stata aggiornata al [nuovo linguaggio di query di Log Analytics](log-analytics-log-search-upgrade.md), le query precedenti verranno sostituite da quelle seguenti: `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span><span class="sxs-lookup"><span data-stu-id="40bd9-172">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following: `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span></span>


## <a name="metric-measurement-alert-rules"></a><span data-ttu-id="40bd9-173">Regole di avviso Unità di misura della metrica</span><span class="sxs-lookup"><span data-stu-id="40bd9-173">Metric measurement alert rules</span></span>

>[!NOTE]
> <span data-ttu-id="40bd9-174">Le regole di avviso Unità di misura della metrica sono attualmente disponibili in anteprima pubblica.</span><span class="sxs-lookup"><span data-stu-id="40bd9-174">Metric measurement alert rules are currently in public preview.</span></span>

<span data-ttu-id="40bd9-175">Le regole di avviso **Unità di misura della metrica** creano un avviso per ogni oggetto in una query con un valore che supera una soglia specificata.</span><span class="sxs-lookup"><span data-stu-id="40bd9-175">**Metric measurement** alert rules create an alert for each object in a query with a value that exceeds a specified threshold.</span></span>  <span data-ttu-id="40bd9-176">Presentano le differenze seguenti dalle regole di avviso **Numero di risultati**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-176">They have the following distinct differences from **Number of results** alert rules.</span></span>

#### <a name="log-search"></a><span data-ttu-id="40bd9-177">Ricerca log</span><span class="sxs-lookup"><span data-stu-id="40bd9-177">Log search</span></span>
<span data-ttu-id="40bd9-178">Sebbene sia possibile usare qualsiasi query per una regola di avviso **Numero di risultati**, esistono requisiti specifici della query per una regola di avviso per l'unità di misura della metrica.</span><span class="sxs-lookup"><span data-stu-id="40bd9-178">While you can use any query for a **Number of results** alert rule, there are specific requirements the query for a metric measurement alert rule.</span></span>  <span data-ttu-id="40bd9-179">Deve includere un [comando di misurazione](log-analytics-search-reference.md#commands) per raggruppare i risultati in un campo specifico.</span><span class="sxs-lookup"><span data-stu-id="40bd9-179">It must include a [Measure command](log-analytics-search-reference.md#commands) to group the results on a particular field.</span></span> <span data-ttu-id="40bd9-180">Questo comando deve includere gli elementi seguenti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-180">This command must include the following elements.</span></span>

- <span data-ttu-id="40bd9-181">**Funzione di aggregazione**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-181">**Aggregate function**.</span></span>  <span data-ttu-id="40bd9-182">Determina il calcolo che viene eseguito e potenzialmente un campo numerico da aggregare.</span><span class="sxs-lookup"><span data-stu-id="40bd9-182">Determines the calculation that is performed and potentially a numeric field to aggregate.</span></span>  <span data-ttu-id="40bd9-183">Ad esempio, **count()** restituirà il numero di record nella query, **avg(CounterValue)** restituirà la media del campo CounterValue nell'intervallo.</span><span class="sxs-lookup"><span data-stu-id="40bd9-183">For example, **count()** will return the number of records in the query, **avg(CounterValue)** will return the average of the CounterValue field over the interval.</span></span>
- <span data-ttu-id="40bd9-184">**Campo Gruppo**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-184">**Group Field**.</span></span>  <span data-ttu-id="40bd9-185">Viene creato un record con un valore aggregato per ogni istanza di questo campo e può essere generato un avviso per ognuno di essi.</span><span class="sxs-lookup"><span data-stu-id="40bd9-185">A record with an aggregated value is created for each instance of this field, and an alert can be generated for each.</span></span>  <span data-ttu-id="40bd9-186">Ad esempio, se si desidera generare un avviso per ogni computer, si userà **dal Computer**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-186">For example, if you wanted to generate an alert for each computer, you would use **by Computer**.</span></span>   
- <span data-ttu-id="40bd9-187">**Intervallo**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-187">**Interval**.</span></span>  <span data-ttu-id="40bd9-188">Definisce l'intervallo di tempo in cui i dati vengono aggregati.</span><span class="sxs-lookup"><span data-stu-id="40bd9-188">Defines the time interval over which the data is aggregated.</span></span>  <span data-ttu-id="40bd9-189">Ad esempio, se è stato specificato **5minutes**, viene creato un record per ogni istanza del campo Gruppo aggregato a intervalli di 5 minuti nella finestra temporale specificata per l'avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-189">For example, if you specified **5minutes**, a record would be created for each instance of the group field aggregated at 5 minute intervals over the time window specified for the alert.</span></span>

#### <a name="threshold"></a><span data-ttu-id="40bd9-190">Soglia</span><span class="sxs-lookup"><span data-stu-id="40bd9-190">Threshold</span></span>
<span data-ttu-id="40bd9-191">La soglia per le regole di avviso Unità di misurazione della metrica è definita da un valore di aggregazione e da un numero di violazioni della sicurezza.</span><span class="sxs-lookup"><span data-stu-id="40bd9-191">The threshold for Metric measurement alert rules is defined by an aggregate value and a number of breaches.</span></span>  <span data-ttu-id="40bd9-192">Se qualsiasi punto dati in una ricerca di log supera questo valore, ciò viene considerato una violazione.</span><span class="sxs-lookup"><span data-stu-id="40bd9-192">If any data point in the log search exceeds this value, it's considered a breach.</span></span>  <span data-ttu-id="40bd9-193">Se il numero di violazioni per un oggetto nei risultati supera il valore specificato, viene creato un avviso per l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="40bd9-193">If the number of breaches in for any object in the results exceeds the specified value, then an alert is created for that object.</span></span>

#### <a name="example"></a><span data-ttu-id="40bd9-194">Esempio</span><span class="sxs-lookup"><span data-stu-id="40bd9-194">Example</span></span>
<span data-ttu-id="40bd9-195">Si consideri uno scenario in cui si desidera creare un avviso se l'uso del processo di un computer supera il 90% tre volte in 30 minuti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-195">Consider a scenario where you wanted an alert if any computer exceeded processor utilization of 90% three times over 30 minutes.</span></span>  <span data-ttu-id="40bd9-196">Si deve creare una regola di avviso con i dettagli seguenti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-196">You would create an alert rule with the following details.</span></span>  

<span data-ttu-id="40bd9-197">**Query:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span><span class="sxs-lookup"><span data-stu-id="40bd9-197">**Query:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span></span><br><span data-ttu-id="40bd9-198">
**Intervallo di tempo:** 30 minuti</span><span class="sxs-lookup"><span data-stu-id="40bd9-198">
**Time window:** 30 minutes</span></span><br><span data-ttu-id="40bd9-199">
**Frequenza di avviso:** 5 minuti</span><span class="sxs-lookup"><span data-stu-id="40bd9-199">
**Alert frequency:** 5 minutes</span></span><br><span data-ttu-id="40bd9-200">
**Valore di aggregazione:** maggiore di 90</span><span class="sxs-lookup"><span data-stu-id="40bd9-200">
**Aggregate value:** Great than 90</span></span><br><span data-ttu-id="40bd9-201">
**Attiva l'avviso in base a:** violazioni totali maggiori di 5</span><span class="sxs-lookup"><span data-stu-id="40bd9-201">
**Trigger alert based on:** Total breaches Greater than 5</span></span><br>

<span data-ttu-id="40bd9-202">La query crea un valore medio per ogni computer a intervalli di 5 minuti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-202">The query would create an average value for each computer at 5 minute intervals.</span></span>  <span data-ttu-id="40bd9-203">Questa query verrebbe eseguita ogni 5 minuti per i dati raccolti nei 30 minuti precedenti.</span><span class="sxs-lookup"><span data-stu-id="40bd9-203">This query would be run every 5 minutes for data collected over the previous 30 minutes.</span></span>  <span data-ttu-id="40bd9-204">Di seguito sono illustrati dati di esempio per tre computer.</span><span class="sxs-lookup"><span data-stu-id="40bd9-204">Sample data is shown below for three computers.</span></span>

![Risultati della query di esempio](media/log-analytics-alerts/metrics-measurement-sample-graph.png)

<span data-ttu-id="40bd9-206">In questo esempio, verranno creati avvisi separati per srv02 e srv03 poiché hanno superato la soglia del 90% 3 volte nell'intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="40bd9-206">In this example, separate alerts would be created for srv02 and srv03 since they breached the 90% threshold 3 times over the time window.</span></span>  <span data-ttu-id="40bd9-207">Se **Attiva l'avviso in base:** venisse modificato in **Consecutivo** verrebbe creato un avviso solo per srv03 poiché ha violato la soglia di 3 volte consecutive.</span><span class="sxs-lookup"><span data-stu-id="40bd9-207">If the **Trigger alert based on:** were changed to **Consecutive** then an alert would be created only for srv03 since it breached the threshold for 3 consecutive samples.</span></span>

## <a name="alert-records"></a><span data-ttu-id="40bd9-208">Record di avvisi</span><span class="sxs-lookup"><span data-stu-id="40bd9-208">Alert records</span></span>
<span data-ttu-id="40bd9-209">I record degli avvisi creati dalle regole di avviso in Log Analytics hanno un **Tipo** impostato su **Avviso** e **SourceSystem** impostato su **OMS**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-209">Alert records created by alert rules in Log Analytics have a **Type** of **Alert** and a **SourceSystem** of **OMS**.</span></span>  <span data-ttu-id="40bd9-210">Includono le proprietà elencate nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="40bd9-210">They have the properties in the following table.</span></span>

| <span data-ttu-id="40bd9-211">Proprietà</span><span class="sxs-lookup"><span data-stu-id="40bd9-211">Property</span></span> | <span data-ttu-id="40bd9-212">Descrizione</span><span class="sxs-lookup"><span data-stu-id="40bd9-212">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="40bd9-213">Tipo</span><span class="sxs-lookup"><span data-stu-id="40bd9-213">Type</span></span> |<span data-ttu-id="40bd9-214">*Avviso*</span><span class="sxs-lookup"><span data-stu-id="40bd9-214">*Alert*</span></span> |
| <span data-ttu-id="40bd9-215">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="40bd9-215">SourceSystem</span></span> |<span data-ttu-id="40bd9-216">*OMS*</span><span class="sxs-lookup"><span data-stu-id="40bd9-216">*OMS*</span></span> |
| <span data-ttu-id="40bd9-217">*Object*</span><span class="sxs-lookup"><span data-stu-id="40bd9-217">*Object*</span></span>  | <span data-ttu-id="40bd9-218">[Gli avvisi di misurazione della metrica](#metric-measurement-alert-rules) avranno una proprietà per il campo di Gruppo.</span><span class="sxs-lookup"><span data-stu-id="40bd9-218">[Metric measurement alerts](#metric-measurement-alert-rules) will have a property for the group field.</span></span>  <span data-ttu-id="40bd9-219">Ad esempio, se la ricerca log si raggruppa sul computer, il record dell'avviso contiene un campo Computer con il nome del computer come valore.</span><span class="sxs-lookup"><span data-stu-id="40bd9-219">For example, if the log search groups on Computer, the alert record with have a Computer field with the name of the computer as the value.</span></span>
| <span data-ttu-id="40bd9-220">AlertName</span><span class="sxs-lookup"><span data-stu-id="40bd9-220">AlertName</span></span> |<span data-ttu-id="40bd9-221">Nome dell'avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-221">Name of the alert.</span></span> |
| <span data-ttu-id="40bd9-222">AlertSeverity</span><span class="sxs-lookup"><span data-stu-id="40bd9-222">AlertSeverity</span></span> |<span data-ttu-id="40bd9-223">Livello di gravità dell'avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-223">Severity level of the alert.</span></span> |
| <span data-ttu-id="40bd9-224">LinkToSearchResults</span><span class="sxs-lookup"><span data-stu-id="40bd9-224">LinkToSearchResults</span></span> |<span data-ttu-id="40bd9-225">Collegamento alla ricerca nei log di Log Analytics che restituisce i record della query che ha creato l'avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-225">Link to Log Analytics log search that returns the records from the query that created the alert.</span></span> |
| <span data-ttu-id="40bd9-226">Query</span><span class="sxs-lookup"><span data-stu-id="40bd9-226">Query</span></span> |<span data-ttu-id="40bd9-227">Testo della query eseguita.</span><span class="sxs-lookup"><span data-stu-id="40bd9-227">Text of the query that was run.</span></span> |
| <span data-ttu-id="40bd9-228">QueryExecutionEndTime</span><span class="sxs-lookup"><span data-stu-id="40bd9-228">QueryExecutionEndTime</span></span> |<span data-ttu-id="40bd9-229">Fine dell'intervallo di tempo per la query.</span><span class="sxs-lookup"><span data-stu-id="40bd9-229">End of the time range for the query.</span></span> |
| <span data-ttu-id="40bd9-230">QueryExecutionStartTime</span><span class="sxs-lookup"><span data-stu-id="40bd9-230">QueryExecutionStartTime</span></span> |<span data-ttu-id="40bd9-231">Inizio dell'intervallo di tempo per la query.</span><span class="sxs-lookup"><span data-stu-id="40bd9-231">Start of the time range for the query.</span></span> |
| <span data-ttu-id="40bd9-232">ThresholdOperator</span><span class="sxs-lookup"><span data-stu-id="40bd9-232">ThresholdOperator</span></span> | <span data-ttu-id="40bd9-233">Operatore usato dalla regola di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-233">Operator that was used by the alert rule.</span></span> |
| <span data-ttu-id="40bd9-234">ThresholdValue</span><span class="sxs-lookup"><span data-stu-id="40bd9-234">ThresholdValue</span></span> | <span data-ttu-id="40bd9-235">Valore usato dalla regola di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-235">Value that was used by the alert rule.</span></span> |
| <span data-ttu-id="40bd9-236">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="40bd9-236">TimeGenerated</span></span> |<span data-ttu-id="40bd9-237">Data e ora in cui è stato creato l'avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-237">Date and time the alert was created.</span></span> |

<span data-ttu-id="40bd9-238">Sono disponibili altri tipi di record di avviso creati dalla [soluzione Gestione avvisi](log-analytics-solution-alert-management.md) e dalle [esportazioni di Power BI](log-analytics-powerbi.md).</span><span class="sxs-lookup"><span data-stu-id="40bd9-238">There are other kinds of alert records created by the [Alert Management solution](log-analytics-solution-alert-management.md) and by [Power BI exports](log-analytics-powerbi.md).</span></span>  <span data-ttu-id="40bd9-239">Questi record hanno un **Tipo** impostato su **Avviso** ma vengono distinti da relativo **SourceSystem**.</span><span class="sxs-lookup"><span data-stu-id="40bd9-239">These all have a **Type** of **Alert** but are distinguished by their **SourceSystem**.</span></span>


## <a name="next-steps"></a><span data-ttu-id="40bd9-240">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="40bd9-240">Next steps</span></span>
* <span data-ttu-id="40bd9-241">Installare la [soluzione Gestione avvisi](log-analytics-solution-alert-management.md) per analizzare gli avvisi creati in Log Analytics insieme agli avvisi raccolti da System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="40bd9-241">Install the [Alert Management solution](log-analytics-solution-alert-management.md) to analyze alerts created in Log Analytics along with alerts collected from System Center Operations Manager.</span></span>
* <span data-ttu-id="40bd9-242">Altre informazioni sulle [ricerche nei log](log-analytics-log-searches.md) che possono generare avvisi.</span><span class="sxs-lookup"><span data-stu-id="40bd9-242">Read more about [log searches](log-analytics-log-searches.md) that can generate alerts.</span></span>
* <span data-ttu-id="40bd9-243">Completare una procedura dettagliata per la [configurazione di un webhook](log-analytics-alerts-webhooks.md) con una regola di avviso.</span><span class="sxs-lookup"><span data-stu-id="40bd9-243">Complete a walkthrough for [configuring a webook](log-analytics-alerts-webhooks.md) with an alert rule.</span></span>  
* <span data-ttu-id="40bd9-244">Informazioni su come scrivere [runbook in Automazione di Azure](https://azure.microsoft.com/documentation/services/automation) per la risoluzione dei problemi identificati dagli avvisi.</span><span class="sxs-lookup"><span data-stu-id="40bd9-244">Learn how to write [runbooks in Azure Automation](https://azure.microsoft.com/documentation/services/automation) to remediate problems identified by alerts.</span></span>
