---
title: Connettersi ad Azure HDInsight usando Strumenti Data Lake per Visual Studio | Microsoft Docs
description: Informazioni su come installare e usare Strumenti Data Lake per Visual Studio per connettersi a cluster Hadoop in Azure HDInsight ed eseguire query Hive.
keywords: strumenti Hadoop, query Hive, Visual Studio, Hadoop in Visual Studio
services: HDInsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: ce9c572a-1e98-46bf-9581-13a9767f1fa5
ms.service: hdinsight
ms.custom: hdinsightactive,hdiseo17may2017
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/23/2017
ms.author: jgao
ms.openlocfilehash: f7eff70ece5e8dc7e0c5983871d40bd1f6eafff2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="connect-to-azure-hdinsight-and-run-hive-queries-using-data-lake-tools-for-visual-studio"></a><span data-ttu-id="d7ad0-104">Connettersi ad Azure HDInsight ed eseguire query Hive usando Strumenti Data Lake per Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d7ad0-104">Connect to Azure HDInsight and run Hive queries using Data Lake Tools for Visual Studio</span></span>

<span data-ttu-id="d7ad0-105">Informazioni su come usare Strumenti Data Lake per Visual Studio per connettersi a cluster Hadoop in [Azure HDInsight](hdinsight-hadoop-introduction.md) e inviare query Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-105">Learn how to use Data Lake Tools for Visual Studio to connect to Hadoop clusters in [Azure HDInsight](hdinsight-hadoop-introduction.md) and submit Hive queries.</span></span> <span data-ttu-id="d7ad0-106">Per altre informazioni sull'uso di HDInsight, vedere [Introduzione a HDInsight](hdinsight-hadoop-introduction.md) e [Introduzione all'uso di HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-106">For more information about using HDInsight, see [Introduction to HDInsight](hdinsight-hadoop-introduction.md) and [Get started with HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span></span> <span data-ttu-id="d7ad0-107">Per altre informazioni sulla connessione a un cluster Storm, vedere [Sviluppo di topologie C# per Apache Storm in HDInsight mediante Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-107">For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span></span>

<span data-ttu-id="d7ad0-108">È possibile usare Data Lake Tools per Visual Studio per accedere sia a Data Lake Analytics che a HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-108">Data Lake Tools for Visual Studio can be used to access both Data Lake Analytics and HDInsight.</span></span>  <span data-ttu-id="d7ad0-109">Per informazioni su Data Lake Tools, vedere [Esercitazione: Sviluppare script U-SQL con Data Lake Tools per Visual Studio](../data-lake-analytics/data-lake-analytics-data-lake-tools-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-109">For the information about Data Lake Tools, see [Tutorial: develop U-SQL scripts using Data Lake Tools for Visual Studio](../data-lake-analytics/data-lake-analytics-data-lake-tools-get-started.md).</span></span>

<span data-ttu-id="d7ad0-110">**Prerequisiti**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-110">**Prerequisites**</span></span>

<span data-ttu-id="d7ad0-111">Per completare questa esercitazione e usare Data Lake Tools in Visual Studio, sono necessari gli elementi seguenti.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-111">To complete this tutorial and use the Data Lake Tools in Visual Studio, you'll need the following:</span></span>

* <span data-ttu-id="d7ad0-112">Un cluster HDInsight di Azure: per crearne uno, vedere [Esercitazione su Hadoop: Introduzione all'uso di Hadoop in HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-112">An Azure HDInsight cluster: To create one, see [Get started using Linux-based HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md)</span></span>
* <span data-ttu-id="d7ad0-113">Una workstation con il seguente software:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-113">A workstation with the following software:</span></span>
  
  * <span data-ttu-id="d7ad0-114">Windows 10, Windows 8.1, Windows 8 o Windows 7.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-114">Windows 10, Windows 8.1, Windows 8, or Windows 7.</span></span>
  * <span data-ttu-id="d7ad0-115">Visual Studio 2013/2015/2017.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-115">Visual Studio 2013/2015/2017.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="d7ad0-116">Attualmente, Data Lake Tools per Visual Studio è disponibile solo con la versione in lingua inglese.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-116">Currently, the Data Lake Tools for Visual Studio only come with the English version.</span></span>
    > 
    > 

## <a name="install-data-lake-tools-for-visual-studio"></a><span data-ttu-id="d7ad0-117">Installare Data Lake Tools per Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d7ad0-117">Install Data Lake Tools for Visual Studio</span></span>

<span data-ttu-id="d7ad0-118">Gli strumenti Data Lake Tools vengono installati per impostazione predefinita per Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-118">Data Lake Tools is installed by default for Visual Studio 2017.</span></span> <span data-ttu-id="d7ad0-119">Nelle versioni precedenti è possibile installarli tramite l'[Installazione guidata piattaforma Web](https://www.microsoft.com/web/downloads/).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-119">For older versions, you can install it using the [Web Platform Installer](https://www.microsoft.com/web/downloads/).</span></span> <span data-ttu-id="d7ad0-120">È necessario scegliere quello che corrisponde alla versione di Visual Studio in uso.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-120">You must choose the one that matches your version of Visual Studio.</span></span> <span data-ttu-id="d7ad0-121">Se Visual Studio non è installato, è possibile installare la versione più recente di Visual Studio Community e Azure SDK usando l'[Installazione guidata piattaforma Web](https://www.microsoft.com/web/downloads/):</span><span class="sxs-lookup"><span data-stu-id="d7ad0-121">If you don't have Visual Studio installed, you can install the latest Visual Studio Community and Azure SDK using the [Web Platform Installer](https://www.microsoft.com/web/downloads/):</span></span>

<span data-ttu-id="d7ad0-122">![Installazione guidata piattaforma Web per Strumenti Azure Data Lake per Visual Studio.](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png "Usare l'Installazione guidata piattaforma Web per installare Strumenti Azure Data Lake per Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-122">![Data Lake Tools for Visual Studio Web Platform installer.](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png "Use Web Platform Installer to install Data Lake Tools for Visual Studio")</span></span>

## <a name="connect-to-azure-subscriptions"></a><span data-ttu-id="d7ad0-123">Connettersi alle sottoscrizioni di Azure</span><span class="sxs-lookup"><span data-stu-id="d7ad0-123">Connect to Azure subscriptions</span></span>
<span data-ttu-id="d7ad0-124">Data Lake Tools per Visual Studio consente di connettersi a cluster HDInsight ed eseguire alcune operazioni di gestione di base e query Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-124">Data Lake Tools for Visual Studio allows you to connect to your HDInsight clusters, perform some basic management operations, and run Hive queries.</span></span>

> [!NOTE]
> <span data-ttu-id="d7ad0-125">Per informazioni sulla connessione a un cluster Hadoop generico, vedere l'articolo relativo alla [scrittura e all'invio di query Hive con Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-125">For information on connecting to a generic Hadoop cluster, see [Write and submit Hive queries using Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx).</span></span>
> 
> 

<span data-ttu-id="d7ad0-126">**Per connettersi alla sottoscrizione di Azure**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-126">**To connect to your Azure subscription**</span></span>

1. <span data-ttu-id="d7ad0-127">Aprire Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-127">Open Visual Studio.</span></span>
2. <span data-ttu-id="d7ad0-128">Scegliere **Esplora server** dal menu **Visualizza** per aprire la finestra Esplora server.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-128">From the **View** menu, click **Server Explorer** to open the Server Explorer window.</span></span>
3. <span data-ttu-id="d7ad0-129">Espandere **Azure** e quindi **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-129">Expand **Azure**, and then expand **HDInsight**.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="d7ad0-130">Si noti che la finestra **Elenco attività HDInsight** è aperta.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-130">Notice the **HDInsight Task List** window should be open.</span></span> <span data-ttu-id="d7ad0-131">Se non viene visualizzata, scegliere **Altre finestre** dal menu **Visualizza** e quindi fare clic su **HDInsight Task List Window** (Finestra elenco attività HDInsight).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-131">If you don't see it, click **Other Windows** from the **View** menu, and then click **HDInsight Task List Window**.</span></span>  
   > 
   > 
4. <span data-ttu-id="d7ad0-132">Immettere le credenziali della sottoscrizione di Azure e fare clic su **Accedi**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-132">Enter your Azure subscription credentials, and then click **Sign In**.</span></span> <span data-ttu-id="d7ad0-133">Questa operazione è necessaria solo se non si è mai eseguita la connessione alla sottoscrizione di Azure da Visual Studio sulla workstation.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-133">This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.</span></span>
5. <span data-ttu-id="d7ad0-134">In Esplora server verrà visualizzato un elenco di cluster HDInsight esistenti.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-134">In Server Explorer, you'll see a list of existing HDInsight clusters.</span></span> <span data-ttu-id="d7ad0-135">Se non sono disponibili cluster, è possibile crearne uno usando il portale di Azure, Azure PowerShell o HDInsight SDK.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-135">If you don't have any clusters, you can create one by using the Azure portal, Azure PowerShell, or the HDInsight SDK.</span></span> <span data-ttu-id="d7ad0-136">Per altre informazioni, vedere [Creare cluster Hadoop in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-136">For more information, see [Create HDInsight clusters](hdinsight-hadoop-provision-linux-clusters.md).</span></span>
   
   <span data-ttu-id="d7ad0-137">![Elenco di cluster in Esplora server di Strumenti Data Lake per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png "Esplora server di Strumenti Data Lake per Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-137">![Data Lake Tools for Visual Studio Server Explorer cluster list](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png "Data Lake Tools for Visual Studio Server Explorer")</span></span>
6. <span data-ttu-id="d7ad0-138">Espandere un cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-138">Expand an HDInsight cluster.</span></span> <span data-ttu-id="d7ad0-139">Verranno visualizzati i **database Hive**, un account di archiviazione predefinito, gli account di archiviazione collegati e il **log del servizio Hadoop**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-139">You'll see **Hive Databases**, a default storage account, linked storage accounts, and **Hadoop Service log**.</span></span> <span data-ttu-id="d7ad0-140">È possibile espandere ulteriormente le entità.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-140">You can further expand the entities.</span></span>

<span data-ttu-id="d7ad0-141">Dopo la connessione alla sottoscrizione di Azure, sarà possibile eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-141">After you've connected to your Azure subscription, you'll be able to do the following:</span></span>

<span data-ttu-id="d7ad0-142">**Per connettersi al portale di Azure da Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-142">**To connect to the Azure portal from Visual Studio**</span></span>

* <span data-ttu-id="d7ad0-143">In Esplora server espandere **Azure** > **HDInsight**, fare clic con il pulsante destro del mouse su un cluster HDInsight e quindi scegliere **Manage Cluster in Azure portal** (Gestisci cluster nel portale di Azure).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-143">From Server Explorer, expand **Azure** > **HDInsight**, right-click an HDInsight cluster, and then click **Manage Cluster in Azure portal**.</span></span>

<span data-ttu-id="d7ad0-144">**Per porre domande e fornire commenti e suggerimenti da Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-144">**To ask questions and provide feedback from Visual Studio**</span></span>

* <span data-ttu-id="d7ad0-145">Nel menu **Strumenti** scegliere **HDInsight** e quindi fare clic su **Forum MSDN** per porre domande oppure su **Commenti e suggerimenti**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-145">From the **Tools** menu, click **HDInsight**, and then click **MSDN Forum** to ask questions, or click **Give Feedback**.</span></span>

## <a name="navigate-the-linked-resources"></a><span data-ttu-id="d7ad0-146">Esplorare le risorse collegate</span><span class="sxs-lookup"><span data-stu-id="d7ad0-146">Navigate the linked resources</span></span>
<span data-ttu-id="d7ad0-147">Da Esplora server è possibile visualizzare l'account di archiviazione predefinito e qualsiasi account di archiviazione collegato.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-147">From Server Explorer, you can see the default storage account and any linked storage accounts.</span></span> <span data-ttu-id="d7ad0-148">Se si espande l'account di archiviazione predefinito, è possibile visualizzare i contenitori presenti.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-148">If you expand the default storage account, you can see the containers on the storage account.</span></span> <span data-ttu-id="d7ad0-149">L'account di archiviazione predefinito e il contenitore predefinito sono contrassegnati.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-149">The default storage account and the default container are marked.</span></span> <span data-ttu-id="d7ad0-150">Per visualizzare i contenuti, è possibile anche fare clic su uno dei contenitori con il pulsante destro del mouse.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-150">You can also right-click any of the containers to view the contents.</span></span>

<span data-ttu-id="d7ad0-151">![Elenco di risorse collegate in Esplora server di Strumenti Data Lake per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png "Elenco di risorse collegate")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-151">![Data Lake Tools for Visual Studio server explorer list linked resources](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png "list linked resources")</span></span>

<span data-ttu-id="d7ad0-152">Dopo aver aperto un contenitore, è possibile usare i pulsanti seguenti per caricare, eliminare e scaricare i BLOB:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-152">After opening a container, you can use the following buttons to upload, delete, and download blobs:</span></span>

<span data-ttu-id="d7ad0-153">![Operazioni sui BLOB in Esplora Server per Data Lake Tools per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.blob.operations.png "Caricare, eliminare e scaricare BLOB")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-153">![Data Lake Tools for Visual Studio server explorer blob operations](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.blob.operations.png "upload, delete, and download blobs")</span></span>

## <a name="run-a-hive-query"></a><span data-ttu-id="d7ad0-154">Eseguire una query Hive</span><span class="sxs-lookup"><span data-stu-id="d7ad0-154">Run a Hive query</span></span>
<span data-ttu-id="d7ad0-155">[Apache Hive](http://hive.apache.org) è un'infrastruttura di data warehouse basata su Hadoop che consente di fornire funzionalità di riepilogo, query e analisi di dati.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-155">[Apache Hive](http://hive.apache.org) is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis.</span></span> <span data-ttu-id="d7ad0-156">Data Lake Tools per Visual Studio supporta l'esecuzione di query Hive da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-156">Data Lake Tools for Visual Studio supports running Hive queries from Visual Studio.</span></span> <span data-ttu-id="d7ad0-157">Per altre informazioni su Hive, vedere [Usare Hive con HDInsight](hdinsight-use-hive.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-157">For more information about Hive, see [Use Hive with HDInsight](hdinsight-use-hive.md).</span></span>

<span data-ttu-id="d7ad0-158">Testare script Hive in un cluster HDInsight è un'operazione che può richiedere molto tempo,</span><span class="sxs-lookup"><span data-stu-id="d7ad0-158">It is time consuming to test Hive script against an HDInsight cluster.</span></span> <span data-ttu-id="d7ad0-159">ad esempio alcuni minuti.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-159">It could take several minutes or more.</span></span> <span data-ttu-id="d7ad0-160">Data Lake Tools per Visual Studio consente di eseguire la convalida dello script Hive in locale senza connettersi a un cluster attivo.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-160">Data Lake Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.</span></span>

<span data-ttu-id="d7ad0-161">Data Lake Tools per Visual Studio consente inoltre agli utenti di visualizzare i contenuti del processo Hive raccogliendo ed esponendo i log YARN di alcuni processi Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-161">Data Lake Tools for Visual Studio also enables users to see what’s inside the Hive job by collecting and surfacing the YARN logs of certain Hive jobs.</span></span>

### <a name="view-the-hivesampletable"></a><span data-ttu-id="d7ad0-162">Visualizzare **hivesampletable**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-162">View the **hivesampletable**</span></span>
<span data-ttu-id="d7ad0-163">I cluster HDInsight includono una tabella Hive di esempio denominata *hivesampletable*.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-163">All HDInsight clusters come with a sample Hive table called *hivesampletable*.</span></span> <span data-ttu-id="d7ad0-164">Questa tabella verrà usata per mostrare come elencare tabelle Hive, visualizzare gli schemi di tabella ed elencare le righe nella tabella Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-164">We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.</span></span>

<span data-ttu-id="d7ad0-165">**Per elencare tabelle Hive e visualizzare lo schema di tabella Hive**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-165">**To list Hive tables and view Hive table schema**</span></span>

1. <span data-ttu-id="d7ad0-166">In **Esplora server** espandere **Azure** > **HDInsight** > cluster desiderato > **Hive Databases** (Database Hive) > **default** (predefinito) > **hivesampletable** per visualizzare lo schema della tabella.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-166">From **Server Explorer**, expand **Azure** > **HDInsight** > the cluster of your choice > **Hive Databases** > **Default** > **hivesampletable** to see the table schema.</span></span>
2. <span data-ttu-id="d7ad0-167">Fare clic con il pulsante destro del mouse su **hivesampletable** e quindi scegliere **Visualizza prime 100 righe** per elencare le righe.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-167">Right-click **hivesampletable**, and then click **View Top 100 Rows** to list the rows.</span></span> <span data-ttu-id="d7ad0-168">Questa operazione equivale ad eseguire la seguente query Hive mediante il driver ODBC di Hive:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-168">It is equivalent to running the following Hive query using Hive ODBC driver:</span></span>
   
     <span data-ttu-id="d7ad0-169">SELECT * FROM hivesampletable LIMIT 100</span><span class="sxs-lookup"><span data-stu-id="d7ad0-169">SELECT * FROM hivesampletable LIMIT 100</span></span>
   
   <span data-ttu-id="d7ad0-170">È possibile personalizzare il numero delle righe.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-170">You can customize the row count.</span></span>
   
   <span data-ttu-id="d7ad0-171">![Strumenti Data Lake: query sullo schema Hive HDInsight in Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png "risultati delle query Hive")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-171">![Data Lake Tools: HDInsight Hive Visual Studio schema query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png "Hive query results")</span></span>

### <a name="create-hive-tables"></a><span data-ttu-id="d7ad0-172">Creare tabelle Hive</span><span class="sxs-lookup"><span data-stu-id="d7ad0-172">Create Hive tables</span></span>
<span data-ttu-id="d7ad0-173">Per creare una tabella Hive è possibile usare l'interfaccia utente grafica o query Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-173">You can use the GUI to create a Hive table or use Hive queries.</span></span> <span data-ttu-id="d7ad0-174">Per informazioni sull'uso di query Hive, vedere [Eseguire query Hive](#run.queries).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-174">For information about using Hive queries, see [Run Hive queries](#run.queries).</span></span>

<span data-ttu-id="d7ad0-175">**Per creare una tabella Hive**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-175">**To create a Hive table**</span></span>

1. <span data-ttu-id="d7ad0-176">In **Esplora server** espandere **Azure** > **Cluster HDInsight** > un cluster HDInsight > **Hive Databases** (Database Hive) e quindi fare clic con il pulsante destro del mouse su **default** (predefinito) e scegliere **Crea tabella**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-176">From **Server Explorer**, expand **Azure** > **HDInsight Clusters** an HDInsight cluster > **Hive Databases**, then right-click **default**, and click **Create Table**.</span></span>
2. <span data-ttu-id="d7ad0-177">Configurare la tabella.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-177">Configure the table.</span></span>
3. <span data-ttu-id="d7ad0-178">Fare clic su **Crea tabella** per inviare il processo per creare la nuova tabella Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-178">Click **Create Table** to submit the job to create the new Hive table.</span></span>
   
    <span data-ttu-id="d7ad0-179">![Strumenti Data Lake: creazione di una tabella Hive con gli strumenti di HDInsight per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png "Creare una tabella Hive")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-179">![Data Lake Tools: HDInsight Visual Studio Tools create hive table](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png "Create Hive table")</span></span>

### <span data-ttu-id="d7ad0-180"><a name="run.queries"></a>Convalidare ed eseguire query Hive</span><span class="sxs-lookup"><span data-stu-id="d7ad0-180"><a name="run.queries"></a>Validate and run Hive queries</span></span>
<span data-ttu-id="d7ad0-181">Esistono due modi per creare ed eseguire query Hive:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-181">There are two ways to create and run Hive queries:</span></span>

* <span data-ttu-id="d7ad0-182">Creare query ad hoc</span><span class="sxs-lookup"><span data-stu-id="d7ad0-182">Create ad-hoc queries</span></span>
* <span data-ttu-id="d7ad0-183">Creare un'applicazione Hive</span><span class="sxs-lookup"><span data-stu-id="d7ad0-183">Create a Hive application</span></span>

<span data-ttu-id="d7ad0-184">**Per creare, convalidare ed eseguire query ad hoc**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-184">**To create, validate, and run ad-hoc queries**</span></span>

1. <span data-ttu-id="d7ad0-185">In **Esplora server** espandere **Azure** e quindi **Cluster HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-185">From **Server Explorer**, expand **Azure**, and then expand **HDInsight Clusters**.</span></span>
2. <span data-ttu-id="d7ad0-186">Fare clic con il pulsante destro del mouse sul cluster in cui si desidera eseguire la query, quindi scegliere **Scrivi una query Hive**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-186">Right-click the cluster where you want to run the query, and then click **Write a Hive Query**.</span></span>
3. <span data-ttu-id="d7ad0-187">Immettere le query Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-187">Enter the Hive queries.</span></span> <span data-ttu-id="d7ad0-188">Si noti che l'editor Hive supporta IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-188">Notice the Hive editor supports IntelliSense.</span></span> <span data-ttu-id="d7ad0-189">Data Lake Tools per Visual Studio supporta il caricamento di metadati remoti durante la modifica dello script Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-189">Data Lake Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script.</span></span> <span data-ttu-id="d7ad0-190">Ad esempio, quando si digita "SELECT * FROM", IntelliSense elenca tutti i nomi di tabella suggeriti.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-190">For example, when you type "SELECT * FROM", the IntelliSense lists all the suggested table names.</span></span> <span data-ttu-id="d7ad0-191">Quando si specifica un nome di tabella, i nomi delle colonne sono elencati da IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-191">When a table name is specified, the column names are listed by the IntelliSense.</span></span> <span data-ttu-id="d7ad0-192">Gli strumenti supportano quasi tutte le funzioni definite dall'utente predefinite, le sottoquery e le istruzioni DML Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-192">The tools support almost all Hive DML statements, subqueries, and the built-in UDFs.</span></span>
   
    <span data-ttu-id="d7ad0-193">![Strumenti Data Lake: IntelliSense negli strumenti di HDInsight per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png "IntelliSense in U-SQL")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-193">![Data Lake Tools: HDInsight Visual Studio Tools IntelliSense](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png "U-SQL IntelliSense")</span></span>
   
    <span data-ttu-id="d7ad0-194">![Strumenti Data Lake: IntelliSense negli strumenti di HDInsight per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png "IntelliSense in U-SQL")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-194">![Data Lake Tools: HDInsight Visual Studio Tools IntelliSense](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png "U-SQL IntelliSense")</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="d7ad0-195">Verranno elencati solo i metadati dei cluster selezionati nella barra degli strumenti HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-195">Only the metadata of the clusters that is selected in HDInsight Toolbar will be suggested.</span></span>
   > 
   > 
4. <span data-ttu-id="d7ad0-196">Facoltativo: fare clic su **Convalida script** per verificare la presenza di eventuali errori di sintassi nello script.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-196">(Optional): Click **Validate Script** to check the script syntax errors.</span></span>
   
    <span data-ttu-id="d7ad0-197">![Strumenti Data Lake: convalida locale in Strumenti Data Lake per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png "Convalidare uno script")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-197">![Data Lake Tools: Data Lake Tools for Visual Studio local validation](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png "Validate script")</span></span>
5. <span data-ttu-id="d7ad0-198">Fare clic su **Submit** (Invio) o **Submit (Advanced)** (Invio - Avanzato).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-198">Click **Submit** or **Submit (Advanced)**.</span></span> <span data-ttu-id="d7ad0-199">L'opzione di invio avanzato consente di configurare le impostazioni per **Job Name** (Nome processo), **Arguments** (Argomenti), **Additional Configurations** (Configurazioni aggiuntive) e **Status Directory** (Directory stato) per lo script:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-199">With the advanced submit option, you'll configure **Job Name**, **Arguments**, **Additional Configurations**, and **Status Directory** for the script:</span></span>
   
    <span data-ttu-id="d7ad0-200">![Query Hive Hadoop HDInsight](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png "Inviare query")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-200">![HDInsight Hadoop hive query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png "Submit queries")</span></span>
   
    <span data-ttu-id="d7ad0-201">Dopo l'invio, è possibile visualizzare una finestra di **riepilogo del processo Hive** .</span><span class="sxs-lookup"><span data-stu-id="d7ad0-201">After you submit the job, you see a **Hive Job Summary** window.</span></span>
   
    <span data-ttu-id="d7ad0-202">![Riepilogo di una query Hive di Hadoop di HDInsight](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png "Riepilogo processo Hive")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-202">![Summary of an HDInsight Hadoop Hive query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png "Hive job summary")</span></span>
6. <span data-ttu-id="d7ad0-203">Usare il pulsante **Refresh** (Aggiorna) per aggiornare lo stato del processo finché non risulta **Completed** (Completato).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-203">Use the **Refresh** button to update the status until the job status changes to **Completed**.</span></span>
7. <span data-ttu-id="d7ad0-204">Fare clic sui collegamenti in basso per visualizzare **Job Query** (Query processo), **Job Output** (Output processo), **Job log** (Log processo) o **Yarn log** (Log YARN).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-204">Click the links at the bottom to see the following: **Job Query**, **Job Output**, **Job log**, or **Yarn log**.</span></span>

<span data-ttu-id="d7ad0-205">**Per creare ed eseguire una soluzione Hive**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-205">**To create and run a Hive solution**</span></span>

1. <span data-ttu-id="d7ad0-206">Scegliere **Nuovo** dal menu **File** e quindi fare clic su **Progetto**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-206">From the **FILE** menu, click **New**, and then click **Project**.</span></span>
2. <span data-ttu-id="d7ad0-207">Selezionare **HDInsight** nel riquadro sinistro e **Hive Application** (Applicazione Hive) nel riquadro centrale, immettere le proprietà e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-207">Select **HDInsight** from the left pane, select **Hive Application** in the middle pane, enter the properties, and then click **OK**.</span></span>
   
    <span data-ttu-id="d7ad0-208">![Strumenti Data Lake: nuovo progetto Hive in Strumenti di Visual Studio per HDInsight](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png "Creare applicazioni Hive da Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-208">![Data Lake Tools: HDInsight Visual Studio Tools new hive project](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png "Create Hive applications from Visual Studio")</span></span>
3. <span data-ttu-id="d7ad0-209">In **Esplora soluzioni** fare doppio clic su **Script.hql** per aprirlo.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-209">From **Solution Explorer**, double-click **Script.hql** to open it.</span></span>
4. <span data-ttu-id="d7ad0-210">Per convalidare lo script Hive, è possibile fare clic sul pulsante **Validate Script** (Convalida script) oppure fare clic con il pulsante destro del mouse sullo script nell'editor di Hive e quindi scegliere **Validate Script** (Convalida script) dal menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-210">To validate the Hive script, you can click the **Validate Script** button, or right-click the script in the Hive editor, and then click **Validate Script** from the context menu.</span></span>

### <a name="view-hive-jobs"></a><span data-ttu-id="d7ad0-211">Visualizzare processi Hive</span><span class="sxs-lookup"><span data-stu-id="d7ad0-211">View Hive jobs</span></span>
<span data-ttu-id="d7ad0-212">È possibile visualizzare query di processo, output di processo, log di processo e log Yarn per i processi Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-212">You can view job queries, job output, job logs, and Yarn logs for Hive jobs.</span></span> <span data-ttu-id="d7ad0-213">Per altre informazioni, vedere la schermata precedente.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-213">For more information, see the previous screenshot.</span></span>

<span data-ttu-id="d7ad0-214">La versione più recente degli strumenti consente di visualizzare i contenuti dei processi Hive raccogliendo ed esponendo i log YARN.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-214">The most recent release of the tools allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs.</span></span> <span data-ttu-id="d7ad0-215">Un log YARN consente di analizzare eventuali problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-215">A YARN log can help you investigating performance issues.</span></span> <span data-ttu-id="d7ad0-216">Per altre informazioni su come HDInsight raccoglie i log YARN, vedere [Accedere ai log dell'applicazione HDInsight a livello di codice](hdinsight-hadoop-access-yarn-app-logs.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-216">For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically](hdinsight-hadoop-access-yarn-app-logs.md).</span></span>

<span data-ttu-id="d7ad0-217">**Per visualizzare processi Hive**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-217">**To view Hive jobs**</span></span>

1. <span data-ttu-id="d7ad0-218">In **Esplora server** espandere **Azure** e quindi **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-218">From **Server Explorer**, expand **Azure**, and then expand **HDInsight**.</span></span>
2. <span data-ttu-id="d7ad0-219">Fare clic con il pulsante destro del mouse su un cluster HDInsight, quindi scegliere **Visualizza processi**.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-219">Right-click an HDInsight cluster, and then click **View Jobs**.</span></span> <span data-ttu-id="d7ad0-220">Verrà visualizzato l'elenco di processi Hive eseguiti nel cluster.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-220">You'll see a list of the Hive jobs that ran on the cluster.</span></span>
3. <span data-ttu-id="d7ad0-221">Fare clic su un processo incluso nell'elenco dei processi per selezionarlo e quindi usare la finestra **Hive Job Summary** (Riepilogo processo Hive) per aprire **Job Query** (Query processo), **Job Output** (Output processo), **Job Log** (Log processo) o **Yarn log** (Log YARN).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-221">Click a job in the job list to select it, and then use the **Hive Job Summary** window to open **Job Query**, **Job Output**, **Job Log**, or **Yarn log**.</span></span>
   
    <span data-ttu-id="d7ad0-222">![Strumenti Data Lake: visualizzazione dei processi Hive negli strumenti di HDInsight per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png "Visualizzare processi Hive")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-222">![Data Lake Tools: HDInsight Visual Studio Tools view Hive jobs](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png "View Hive jobs")</span></span>

### <a name="faster-path-hive-execution-via-hiveserver2"></a><span data-ttu-id="d7ad0-223">Esecuzione di processi Hive più veloce tramite HiveServer2</span><span class="sxs-lookup"><span data-stu-id="d7ad0-223">Faster path Hive execution via HiveServer2</span></span>
> [!NOTE]
> <span data-ttu-id="d7ad0-224">Questa funzionalità è disponibile solo per i cluster HDInsight versione 3.2 e successive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-224">This feature only works on HDInsight cluster version 3.2 and newer.</span></span>
> 
> 

<span data-ttu-id="d7ad0-225">In precedenza, i processi Hive venivano inviati da Data Lake Tools tramite [WebHCat](https://cwiki.apache.org/confluence/display/Hive/WebHCat), noto anche come Templeton.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-225">The Data Lake Tools used to submit Hive jobs via [WebHCat](https://cwiki.apache.org/confluence/display/Hive/WebHCat) (also known as Templeton).</span></span> <span data-ttu-id="d7ad0-226">Per restituire i dettagli del processo e le informazioni sugli errori occorreva molto tempo.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-226">It took a long time to return job details and error information.</span></span>
<span data-ttu-id="d7ad0-227">Per risolvere questo problema di prestazioni, Data Lake Tools esegue i processi Hive direttamente nel cluster tramite HiveServer2, ignorando così i protocolli RDP/SSH.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-227">In order to solve this performance issue, the Data Lake Tools executes Hive jobs directly in the cluster through HiveServer2, so that it bypasses RDP/SSH.</span></span>
<span data-ttu-id="d7ad0-228">Oltre a ottenere prestazioni migliori, gli utenti possono visualizzare Hive in grafici Tez e i dettagli dell'attività.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-228">In addition to better performance, users can also view Hive on Tez graphs, and the Task details.</span></span>

<span data-ttu-id="d7ad0-229">Per cluster HDInsight versione 3.2 o successiva, è disponibile un pulsante **Execute via HiveServer2** (Esegui tramite HiveServer2):</span><span class="sxs-lookup"><span data-stu-id="d7ad0-229">For HDInsight cluster version 3.2 or later, you can see an **Execute via HiveServer2** button:</span></span>

<span data-ttu-id="d7ad0-230">![Esecuzione tramite HiveServer2 in Strumenti Data Lake per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png "Eseguire query Hive usando HiveServer2")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-230">![Data Lake visual studio Tools execute via hiveserver2](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png "Execute Hive queries using HiveServer2")</span></span>

<span data-ttu-id="d7ad0-231">È anche possibile visualizzare i log in streaming in tempo reale e i grafici del processo, se si esegue la query Hive in Tex.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-231">And you can see the logs streamed back in real-time and see the job graphs if the Hive query is executed in Tez.</span></span>

<span data-ttu-id="d7ad0-232">![Esecuzione di processi Hive più veloce in Strumenti Data Lake per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png "Visualizzare i grafici dei processi")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-232">![Data Lake visual studio Tools fast path hive execution](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png "View job graphs")</span></span>

<span data-ttu-id="d7ad0-233">**Differenza tra l'esecuzione di query tramite HiveServer2 e l'invio di query tramite WebHCat**</span><span class="sxs-lookup"><span data-stu-id="d7ad0-233">**Difference between executing queries via HiveServer2 and Submitting Queries via WebHCat**</span></span>

<span data-ttu-id="d7ad0-234">L'esecuzione di query tramite HiveServer2 presenta numerosi vantaggi in termini di prestazioni, ma anche diverse limitazioni.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-234">Even though executing queries via HiveServer2 has many performance benefits, it has several limitations.</span></span> <span data-ttu-id="d7ad0-235">Alcune delle limitazioni non sono adatte all'utilizzo per scopi di produzione.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-235">Some of the limitations are not suitable for production usage.</span></span> <span data-ttu-id="d7ad0-236">La tabella seguente illustra le differenze:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-236">The following table shows the differences:</span></span>

|  | <span data-ttu-id="d7ad0-237">Esecuzione tramite HiveServer2</span><span class="sxs-lookup"><span data-stu-id="d7ad0-237">Executing via HiveServer2</span></span> | <span data-ttu-id="d7ad0-238">Invio tramite WebHCat</span><span class="sxs-lookup"><span data-stu-id="d7ad0-238">Submitting via WebHCat</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d7ad0-239">Eseguire query</span><span class="sxs-lookup"><span data-stu-id="d7ad0-239">Execute queries</span></span> |<span data-ttu-id="d7ad0-240">Elimina il sovraccarico in WebHCat, che avvia un processo MapReduce denominato "TempletonControllerJob".</span><span class="sxs-lookup"><span data-stu-id="d7ad0-240">Eliminates the overhead in WebHCat (which launches a MapReduce Job named “TempletonControllerJob”).</span></span> |<span data-ttu-id="d7ad0-241">Se la query viene eseguita tramite WebHCat, WebHCat avvierà un processo MapReduce con il quale viene introdotta latenza aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-241">As long as a query is executed via WebHCat, WebHCat will launch a MapReduce job which introduces additional latency.</span></span> |
| <span data-ttu-id="d7ad0-242">Trasmettere log</span><span class="sxs-lookup"><span data-stu-id="d7ad0-242">Stream logs back</span></span> |<span data-ttu-id="d7ad0-243">Quasi in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-243">In near real-time.</span></span> |<span data-ttu-id="d7ad0-244">I log di esecuzione del processo sono disponibili solo al termine del processo.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-244">The job execution logs are available only when the job is finished.</span></span> |
| <span data-ttu-id="d7ad0-245">Visualizzare la cronologia processo</span><span class="sxs-lookup"><span data-stu-id="d7ad0-245">View job history</span></span> |<span data-ttu-id="d7ad0-246">Se una query viene eseguita tramite HiveServer2, la relativa cronologia processo (log del processo e output del processo) non viene mantenuta.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-246">If a query is executed via HiveServer2, its job history (job log, job output) is not preserved.</span></span> <span data-ttu-id="d7ad0-247">L'applicazione può essere visualizzata nell'interfaccia utente di YARN con informazioni limitate.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-247">The application can be viewed in YARN UI with limited information.</span></span> |<span data-ttu-id="d7ad0-248">Se una query viene eseguita tramite WebHCat, la relativa cronologia processo (il log del processo, l'output del processo) viene mantenuta e può essere visualizzata tramite Visual Studio, HDInsight SDK o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-248">If a query is executed via WebHCat, it’s job history (job log, job output) is preserved and can be viewed using Visual Studio/HDInsight SDK/PowerShell.</span></span> |
| <span data-ttu-id="d7ad0-249">Chiudere la finestra</span><span class="sxs-lookup"><span data-stu-id="d7ad0-249">Close window</span></span> |<span data-ttu-id="d7ad0-250">L'esecuzione tramite HiveServer2 è "sincrona", di conseguenza è necessario mantenere le finestre aperte. Se le finestre vengono chiuse, l'esecuzione della query verrà annullata.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-250">Executing via HiveServer2 is a “synchronous” way so you must keep the windows open; if the windows are closed then the query execution will be canceled.</span></span> |<span data-ttu-id="d7ad0-251">L'invio tramite WebHCat è "asincrono", pertanto è possibile inviare la query tramite WebHCat e chiudere Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-251">Submitting via WebHCat is a “asynchronous” way so you can submit the query via WebHCat and close Visual Studio.</span></span> <span data-ttu-id="d7ad0-252">È possibile tornare in questa pagina e visualizzare i risultati in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-252">You can come back and see the results at any time.</span></span> |

### <a name="tez-hive-job-performance-graph"></a><span data-ttu-id="d7ad0-253">Grafico delle prestazioni del processo Hive Tez</span><span class="sxs-lookup"><span data-stu-id="d7ad0-253">Tez Hive job performance graph</span></span>
<span data-ttu-id="d7ad0-254">Data Lake Tools supporta la visualizzazione di grafici delle prestazioni per i processi Hive eseguiti dal motore di esecuzione Tez.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-254">The Data Lake Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine.</span></span> <span data-ttu-id="d7ad0-255">Per informazioni su come abilitare Tez, vedere l'articolo relativo all'[uso di Hive in HDInsight](hdinsight-use-hive.md).</span><span class="sxs-lookup"><span data-stu-id="d7ad0-255">For information on enabling Tez, see [use Hive in HDInsight](hdinsight-use-hive.md).</span></span> <span data-ttu-id="d7ad0-256">Dopo avere inviato un processo Hive in Visual Studio, Visual Studio mostra il grafico al termine del processo.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-256">After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.</span></span>  <span data-ttu-id="d7ad0-257">Per ottenere l'ultimo stato del processo, potrebbe essere necessario fare clic sul pulsante **Aggiorna** .</span><span class="sxs-lookup"><span data-stu-id="d7ad0-257">You might need to click the **Refresh** button to get the latest job status.</span></span>

> [!NOTE]
> <span data-ttu-id="d7ad0-258">Questa funzionalità è disponibile solo per le versioni del cluster HDInsight successive alla 3.2.4.593 e funzionano solo per i processi completati, se il processo è stato inviato tramite WebHCat. Questo grafico viene visualizzato quando si esegue la query tramite HiveServer2.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-258">This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs (if you submitted your job through WebHCat; this graph will show when you execute your query through HiveServer2).</span></span> <span data-ttu-id="d7ad0-259">Si possono usare cluster basati sia su Windows che su Linux.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-259">This works for both Windows and Linux-based clusters.</span></span>
> 
> 

<span data-ttu-id="d7ad0-260">![Grafico delle prestazioni di Tez in Hive in Hadoop](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png "Stato del processo")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-260">![hadoop hive tez performance graph](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png "Job status")</span></span>

<span data-ttu-id="d7ad0-261">Per comprendere meglio la query Hive, in questa versione è stata aggiunta la visualizzazione degli operatori Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-261">To help you understand your Hive query better, the tools add the Hive Operator view in this release.</span></span> <span data-ttu-id="d7ad0-262">Per visualizzare tutti gli operatori all'interno di un vertice, è sufficiente fare doppio clic sui vertici del grafico del processo.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-262">You just need to double-click on the vertices of the job graph and you can see all the operators inside the vertex.</span></span> <span data-ttu-id="d7ad0-263">Per visualizzare altri dettagli di un operatore specifico, passare il puntatore sull'operatore.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-263">You can also hover on a particular operator to view more details of this operator.</span></span>

### <a name="task-execution-view-for-hive-on-tez-jobs"></a><span data-ttu-id="d7ad0-264">Visualizzazione dell'esecuzione dell'attività per i processi Hive in Tez</span><span class="sxs-lookup"><span data-stu-id="d7ad0-264">Task execution view for Hive on Tez jobs</span></span>
<span data-ttu-id="d7ad0-265">È possibile usare la visualizzazione dell'esecuzione dell'attività per i processi Hive in Tez per ottenere informazioni strutturate e visive per i processi Hive e per visualizzare informazioni dettagliate sul processo.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-265">The Task execution view for Hive on Tez jobs can be used to get structured & visualized information for Hive jobs, and get more job details.</span></span> <span data-ttu-id="d7ad0-266">Quando si verificano problemi di prestazioni, questa visualizzazione consente di ottenere altri dettagli,</span><span class="sxs-lookup"><span data-stu-id="d7ad0-266">When there are performance issues, you can use the view to get further details.</span></span> <span data-ttu-id="d7ad0-267">ad esempio il funzionamento di ogni attività e le relative informazioni dettagliate (lettura-scrittura dei dati, ora di inizio/fine della pianificazione e così via), per poter regolare le configurazioni del processo o l'architettura del sistema in base alle informazioni visualizzate.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-267">For example, how each task operates and the detailed information about each task (data read/write, schedule/start/end time, etc.), so that you can tune job configurations or system architecture based on the visualized information.</span></span>

<span data-ttu-id="d7ad0-268">![Visualizzazione dell'esecuzione dell'attività in Strumenti Data Lake per Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png "Visualizzazione dell'esecuzione dell'attività")</span><span class="sxs-lookup"><span data-stu-id="d7ad0-268">![Data Lake Visual Studio Tools task execution view](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png "Task execution view")</span></span>

## <a name="run-pig-scripts"></a><span data-ttu-id="d7ad0-269">Eseguire script Pig</span><span class="sxs-lookup"><span data-stu-id="d7ad0-269">Run Pig scripts</span></span>
<span data-ttu-id="d7ad0-270">Data Lake Tools per Visual Studio supporta la creazione di script Pig e il relativo invio a cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-270">Data Lake Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters.</span></span> <span data-ttu-id="d7ad0-271">Gli utenti possono creare un progetto Pig dal modello e quindi inviare lo script ai cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-271">Users can create a Pig project from template, and then submit the script to HDInsight clusters.</span></span>

## <a name="feedbacks--known-issues"></a><span data-ttu-id="d7ad0-272">Commenti e suggerimenti e problemi noti</span><span class="sxs-lookup"><span data-stu-id="d7ad0-272">Feedbacks & Known issues</span></span>
* <span data-ttu-id="d7ad0-273">Attualmente i risultati di HiveServer2 vengono visualizzati in modalità solo testo, che non è ideale.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-273">Currently HiveServer2 results are displayed in pure text fashion which is not ideal.</span></span> <span data-ttu-id="d7ad0-274">La correzione del problema è attualmente in corso.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-274">We are working on fixing that.</span></span>
* <span data-ttu-id="d7ad0-275">Se i risultati iniziano con valori NULL, non vengono visualizzati.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-275">If the results are started with NULL values, currently the results are not shown.</span></span> <span data-ttu-id="d7ad0-276">Poiché questo problema è stato risolto, nel caso blocchi l'attività è possibile inviare un messaggio di posta elettronica o contattare il team di supporto.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-276">We have fixed this issue and if you are blocked on this issue, feel free to drop us an email or contact support team.</span></span>
* <span data-ttu-id="d7ad0-277">Lo script HQL creato da Visual Studio viene codificato a seconda dell'impostazione dell'area locale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-277">The HQL script created by Visual Studio is encoded depending on user’s local region setting.</span></span> <span data-ttu-id="d7ad0-278">È possibile che lo script non venga eseguito correttamente se l'utente lo carica nel cluster come binario.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-278">It may not execute correctly if user uploads the script to cluster as binary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d7ad0-279">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="d7ad0-279">Next steps</span></span>
<span data-ttu-id="d7ad0-280">In questo articolo è stato illustrato come connettersi a cluster HDInsight da Visual Studio, usando il pacchetto Data Lake Tools (HDInsight), e come eseguire una query Hive.</span><span class="sxs-lookup"><span data-stu-id="d7ad0-280">In this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Data Lake (HDInsight) Tools package, and how to run a Hive query.</span></span> <span data-ttu-id="d7ad0-281">Per altre informazioni, vedere:</span><span class="sxs-lookup"><span data-stu-id="d7ad0-281">For more information, see:</span></span>

* [<span data-ttu-id="d7ad0-282">Usare Hive di Hadoop in HDInsight</span><span class="sxs-lookup"><span data-stu-id="d7ad0-282">Use Hadoop Hive in HDInsight</span></span>](hdinsight-use-hive.md)
* [<span data-ttu-id="d7ad0-283">Introduzione all'uso di Hadoop in HDInsight</span><span class="sxs-lookup"><span data-stu-id="d7ad0-283">Get started using Hadoop in HDInsight</span></span>](hdinsight-hadoop-linux-tutorial-get-started.md)
* [<span data-ttu-id="d7ad0-284">Inviare processi Hadoop in HDInsight</span><span class="sxs-lookup"><span data-stu-id="d7ad0-284">Submit Hadoop jobs in HDInsight</span></span>](hdinsight-submit-hadoop-jobs-programmatically.md)
* [<span data-ttu-id="d7ad0-285">Analizzare i dati di Twitter con Hadoop in HDInsight</span><span class="sxs-lookup"><span data-stu-id="d7ad0-285">Analyze Twitter data with Hadoop in HDInsight</span></span>](hdinsight-analyze-twitter-data.md)

