---
title: Autenticazione e autorizzazione del bus di servizio di Azure | Documentazione Microsoft
description: Autenticare le app sul bus di servizio usando l'autenticazione con firma di accesso condiviso (SAS).
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 18bad0ed-1cee-4a5c-a377-facc4785c8c9
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/09/2017
ms.author: sethm
ms.openlocfilehash: 28fb41499c919e5006f1be7daa97610c2a0583af
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="service-bus-authentication-and-authorization"></a><span data-ttu-id="125d2-103">Autenticazione e autorizzazione del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="125d2-103">Service Bus authentication and authorization</span></span>

<span data-ttu-id="125d2-104">Le applicazioni possono eseguire l'autenticazione al bus di servizio di Azure usando l'autenticazione con firma di accesso condiviso (SAS).</span><span class="sxs-lookup"><span data-stu-id="125d2-104">Applications can authenticate to Azure Service Bus using Shared Access Signature (SAS) authentication.</span></span> <span data-ttu-id="125d2-105">L'autenticazione della firma di accesso condiviso consente alle applicazioni di eseguire l'autenticazione al bus di servizio tramite una chiave di accesso configurata nello spazio dei nomi o nell'entità a cui sono associati diritti specifici.</span><span class="sxs-lookup"><span data-stu-id="125d2-105">Shared Access Signature authentication enables applications to authenticate to Service Bus using an access key configured on the namespace, or on the entity with which specific rights are associated.</span></span> <span data-ttu-id="125d2-106">È quindi possibile usare questa chiave per generare un token di firma di accesso condiviso che i client possono usare per eseguire l'autenticazione al bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="125d2-106">You can then use this key to generate a Shared Access Signature token that clients can use to authenticate to Service Bus.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="125d2-107">È consigliabile utilizzare SAS invece di Azure AD Access Control (anche noto come Servizio di controllo di accesso o ACS), perché quest'ultimo verrà deprecato.</span><span class="sxs-lookup"><span data-stu-id="125d2-107">You should use SAS instead of Azure Active Directory Access Control (also known as Access Control Service or ACS), as ACS is being deprecated.</span></span> <span data-ttu-id="125d2-108">La firma di accesso condiviso offre uno schema di autenticazione per il bus di servizio semplice, flessibile e di facile utilizzo.</span><span class="sxs-lookup"><span data-stu-id="125d2-108">SAS provides a simple, flexible, and easy-to-use authentication scheme for Service Bus.</span></span> <span data-ttu-id="125d2-109">Le applicazioni possono usare la firma di accesso condiviso in scenari in cui non è necessario gestire la nozione di "utente" autorizzato.</span><span class="sxs-lookup"><span data-stu-id="125d2-109">Applications can use SAS in scenarios in which they do not need to manage the notion of an authorized "user."</span></span> <span data-ttu-id="125d2-110">Per altre informazioni, vedere [questo post di blog](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/).</span><span class="sxs-lookup"><span data-stu-id="125d2-110">For more information, see [this blog post](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/).</span></span>

## <a name="shared-access-signature-authentication"></a><span data-ttu-id="125d2-111">Autenticazione della firma di accesso condiviso</span><span class="sxs-lookup"><span data-stu-id="125d2-111">Shared Access Signature authentication</span></span>

<span data-ttu-id="125d2-112">[autenticazione della firma di accesso condiviso](service-bus-sas.md) garantisce l'accesso dell'utente alle risorse del bus di servizio con diritti specifici.</span><span class="sxs-lookup"><span data-stu-id="125d2-112">[SAS authentication](service-bus-sas.md) enables you to grant a user access to Service Bus resources with specific rights.</span></span> <span data-ttu-id="125d2-113">Nel bus di servizio, l'autenticazione della firma di accesso condiviso implica la configurazione di una chiave di crittografia con i relativi diritti in una risorsa del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="125d2-113">SAS authentication in Service Bus involves the configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="125d2-114">I client possono quindi ottenere l'accesso a questa risorsa presentando un token di firma di accesso condiviso composto dall'URI della risorsa a cui si vuole accedere e da una scadenza firmata con la chiave configurata.</span><span class="sxs-lookup"><span data-stu-id="125d2-114">Clients can then gain access to that resource by presenting a SAS token, which consists of the resource URI being accessed and an expiry signed with the configured key.</span></span>

<span data-ttu-id="125d2-115">È possibile configurare le chiavi per la firma di accesso condiviso in uno spazio dei nomi del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="125d2-115">You can configure keys for SAS on a Service Bus namespace.</span></span> <span data-ttu-id="125d2-116">La chiave si applica a tutte le entità di messaggistica nello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="125d2-116">The key applies to all messaging entities in that namespace.</span></span> <span data-ttu-id="125d2-117">È anche possibile configurare le chiavi nelle code e negli argomenti del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="125d2-117">You can also configure keys on Service Bus queues and topics.</span></span> <span data-ttu-id="125d2-118">SAS è anche supportato in [Inoltro di Azure](../service-bus-relay/relay-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="125d2-118">SAS is also supported on [Azure Relay](../service-bus-relay/relay-authentication-and-authorization.md).</span></span>

<span data-ttu-id="125d2-119">Per usare la firma di accesso condiviso, è possibile configurare un oggetto [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) in uno spazio dei nomi, una coda o un argomento.</span><span class="sxs-lookup"><span data-stu-id="125d2-119">To use SAS, you can configure a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a namespace, queue, or topic.</span></span> <span data-ttu-id="125d2-120">Questa regola include gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="125d2-120">This rule consists of the following elements:</span></span>

* <span data-ttu-id="125d2-121">*KeyName* che identifica la regola.</span><span class="sxs-lookup"><span data-stu-id="125d2-121">*KeyName* that identifies the rule.</span></span>
* <span data-ttu-id="125d2-122">*PrimaryKey* che è una chiave di crittografia usata per firmare/convalidare i token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="125d2-122">*PrimaryKey* is a cryptographic key used to sign/validate SAS tokens.</span></span>
* <span data-ttu-id="125d2-123">*SecondaryKey* che è una chiave di crittografia usata per firmare/convalidare i token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="125d2-123">*SecondaryKey* is a cryptographic key used to sign/validate SAS tokens.</span></span>
* <span data-ttu-id="125d2-124">*Rights* che rappresenta la raccolta di diritti Listen, Send o Manage concessi.</span><span class="sxs-lookup"><span data-stu-id="125d2-124">*Rights* representing the collection of Listen, Send, or Manage rights granted.</span></span>

<span data-ttu-id="125d2-125">Le regole di autorizzazione configurate a livello di spazio dei nomi possono garantire l'accesso a tutte le entità in uno spazio dei nomi per i client con token firmati che usano la chiave corrispondente.</span><span class="sxs-lookup"><span data-stu-id="125d2-125">Authorization rules configured at the namespace level can grant access to all entities in a namespace for clients with tokens signed using the corresponding key.</span></span> <span data-ttu-id="125d2-126">In uno spazio dei nomi, una coda o un argomento del bus di servizio è possibile configurare fino a 12 regole di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="125d2-126">Up to 12 such authorization rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="125d2-127">Per impostazione predefinita, un oggetto [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) con tutti i diritti viene configurato per ogni spazio dei nomi quando ne viene eseguito il provisioning per la prima volta.</span><span class="sxs-lookup"><span data-stu-id="125d2-127">By default, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) with all rights is configured for every namespace when it is first provisioned.</span></span>

<span data-ttu-id="125d2-128">Per accedere a un'entità, è necessario un token di firma di accesso condiviso generato usando un oggetto [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="125d2-128">To access an entity, the client requires a SAS token generated using a specific [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="125d2-129">Il token di firma di accesso condiviso viene generato usando l'algoritmo HMAC-SHA256 di una stringa di risorsa composta dall'URI della risorsa a cui si vuole accedere e da una scadenza, seguiti da una chiave di crittografia associata alla regola di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="125d2-129">The SAS token is generated using the HMAC-SHA256 of a resource string that consists of the resource URI to which access is claimed, and an expiry with a cryptographic key associated with the authorization rule.</span></span>

<span data-ttu-id="125d2-130">Il supporto per l'autenticazione della firma di accesso condiviso per il bus di servizio è incluso in Azure .NET SDK 2.0 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="125d2-130">SAS authentication support for Service Bus is included in the Azure .NET SDK versions 2.0 and later.</span></span> <span data-ttu-id="125d2-131">Nella firma di accesso condiviso è incluso il supporto per un oggetto [SharedAccessAuthorizationRule](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="125d2-131">SAS includes support for a [SharedAccessAuthorizationRule](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="125d2-132">Tutte le API che accettano una stringa di connessione come parametro includono il supporto per le stringhe di connessione della firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="125d2-132">All APIs that accept a connection string as a parameter include support for SAS connection strings.</span></span>

## <a name="next-steps"></a><span data-ttu-id="125d2-133">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="125d2-133">Next steps</span></span>

- <span data-ttu-id="125d2-134">Per altre informazioni su SAS, vedere [Autenticazione del bus di servizio con firme di accesso condiviso](service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="125d2-134">Continue reading [Service Bus authentication with Shared Access Signatures](service-bus-sas.md) for more details about SAS.</span></span>
- <span data-ttu-id="125d2-135">[Changes To ACS Enabled namespaces](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/) (modifiche agli spazi dei nomi basati su ACS).</span><span class="sxs-lookup"><span data-stu-id="125d2-135">[Changes To ACS Enabled namespaces.](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/)</span></span>
- <span data-ttu-id="125d2-136">Per informazioni corrispondenti sull'autenticazione in Inoltro di Azure, vedere [Autenticazione e autorizzazione di Inoltro di Azure](../service-bus-relay/relay-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="125d2-136">For corresponding information about Azure Relay authentication and authorization, see [Azure Relay authentication and authorization](../service-bus-relay/relay-authentication-and-authorization.md).</span></span> 

