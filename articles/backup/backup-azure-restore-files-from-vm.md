---
title: 'Backup di Azure: ripristinare file e cartelle da un backup di VM di Azure | Microsoft Docs'
description: Ripristinare i file da un punto di ripristino della macchina virtuale di Azure
services: backup
documentationcenter: dev-center-name
author: pvrk
manager: shivamg
keywords: ripristino a livello di elemento; ripristino di file da un backup di VM di Azure; ripristinare file da VM di Azure
ms.assetid: f1c067a2-4826-4da4-b97a-c5fd6c189a77
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/20/2017
ms.author: pullabhk;markgal
ms.openlocfilehash: 1a62a0ed83d61272c032ac0377a54099ed118db4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="recover-files-from-azure-virtual-machine-backup"></a><span data-ttu-id="1409f-104">Ripristinare i file da un backup della macchina virtuale di Azure</span><span class="sxs-lookup"><span data-stu-id="1409f-104">Recover files from Azure virtual machine backup</span></span>

<span data-ttu-id="1409f-105">Backup di Azure offre hello funzionalità toorestore [macchine virtuali di Azure e i dischi](./backup-azure-arm-restore-vms.md) da backup di macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="1409f-105">Azure backup provides hello capability toorestore [Azure VMs and disks](./backup-azure-arm-restore-vms.md) from Azure VM backups.</span></span> <span data-ttu-id="1409f-106">Questo articolo illustra come è possibile ripristinare elementi, come file e cartelle, da un backup di VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="1409f-106">Now this article explains how you can recover items such as files and folders from an Azure VM backup.</span></span>

> [!Note]
> <span data-ttu-id="1409f-107">Questa funzionalità è disponibile per le macchine virtuali di Azure distribuiti tramite il modello di gestione risorse hello e protetto tooa archivio di servizi di ripristino.</span><span class="sxs-lookup"><span data-stu-id="1409f-107">This feature is available for Azure VMs deployed using hello Resource Manager model and protected tooa Recovery services vault.</span></span>
> <span data-ttu-id="1409f-108">Il ripristino di file da un backup della VM crittografato non è supportato.</span><span class="sxs-lookup"><span data-stu-id="1409f-108">File recovery from an encrypted VM backup is not supported.</span></span>
>

## <a name="mount-hello-volume-and-copy-files"></a><span data-ttu-id="1409f-109">Montare hello volume e copia i file</span><span class="sxs-lookup"><span data-stu-id="1409f-109">Mount hello volume and copy files</span></span>

1. <span data-ttu-id="1409f-110">Sign in hello [portale di Azure](http://portal.Azure.com).</span><span class="sxs-lookup"><span data-stu-id="1409f-110">Sign into hello [Azure portal](http://portal.Azure.com).</span></span> <span data-ttu-id="1409f-111">Trovare hello rilevanti Recovery services insieme di credenziali e backup dell'elemento hello necessario.</span><span class="sxs-lookup"><span data-stu-id="1409f-111">Find hello relevant Recovery services vault and hello required backup item.</span></span>

2. <span data-ttu-id="1409f-112">Nel Pannello di elemento di Backup hello, fare clic su **ripristino di File**</span><span class="sxs-lookup"><span data-stu-id="1409f-112">On hello Backup Item blade, click **File Recovery**</span></span>

    ![Aprire la voce di backup dell'insieme di credenziali di Servizi di ripristino](./media/backup-azure-restore-files-from-vm/open-vault-item.png)

    <span data-ttu-id="1409f-114">Hello **ripristino File** apre blade.</span><span class="sxs-lookup"><span data-stu-id="1409f-114">hello **File Recovery** blade opens.</span></span>

    ![Pannello Ripristino file](./media/backup-azure-restore-files-from-vm/file-recovery-blade.png)

3. <span data-ttu-id="1409f-116">Da hello **selezionare il punto di ripristino** dal menu a discesa, un punto di ripristino selezionare hello che contiene file hello desiderato.</span><span class="sxs-lookup"><span data-stu-id="1409f-116">From hello **Select recovery point** drop-down menu, select hello recovery point that contains hello files you want.</span></span> <span data-ttu-id="1409f-117">Per impostazione predefinita, il punto di ripristino più recente hello è già selezionato.</span><span class="sxs-lookup"><span data-stu-id="1409f-117">By default, hello latest recovery point is already selected.</span></span>

4. <span data-ttu-id="1409f-118">Fare clic su **scaricare eseguibile** (per la macchina virtuale Windows Azure) o **Download Script** (per la macchina virtuale di Azure Linux) software hello toodownload che userai toocopy file hello punto di ripristino.</span><span class="sxs-lookup"><span data-stu-id="1409f-118">Click **Download Executable** (for Windows Azure VM) or **Download Script** (for Linux Azure VM) toodownload hello software that you'll use toocopy files from hello recovery point.</span></span>

  <span data-ttu-id="1409f-119">file eseguibile o script Hello crea una connessione tra computer locali hello e hello specificato punto di ripristino.</span><span class="sxs-lookup"><span data-stu-id="1409f-119">hello executable/script creates a connection between hello local computer and hello specified recovery point.</span></span>

5. <span data-ttu-id="1409f-120">È necessario un password toorun hello scaricato script o file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="1409f-120">You need a password toorun hello downloaded script/executable.</span></span> <span data-ttu-id="1409f-121">È possibile copiare la password di hello dal portale di hello con accanto alla copia hello password hello generato</span><span class="sxs-lookup"><span data-stu-id="1409f-121">You can copy hello password from hello portal using hello copy button beside hello generated password</span></span>

    ![Password generata](./media/backup-azure-restore-files-from-vm/generated-pswd.png)

6. <span data-ttu-id="1409f-123">Nel computer in cui si desidera file hello toorecover hello eseguire hello eseguibile o lo script.</span><span class="sxs-lookup"><span data-stu-id="1409f-123">On hello computer where you want toorecover hello files, run hello executable/script.</span></span> <span data-ttu-id="1409f-124">È necessario eseguire il file eseguibile/script con le credenziali di amministratore.</span><span class="sxs-lookup"><span data-stu-id="1409f-124">You must run it with Administrator credentials.</span></span> <span data-ttu-id="1409f-125">Se si esegue uno script hello in un computer con accesso limitato, verificare l'accesso a è:</span><span class="sxs-lookup"><span data-stu-id="1409f-125">If you run hello script on a computer with restricted access, ensure there is access to:</span></span>

    - <span data-ttu-id="1409f-126">download.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="1409f-126">download.microsoft.com</span></span>
    - <span data-ttu-id="1409f-127">Endpoint di Azure usati per i backup di VM di Azure</span><span class="sxs-lookup"><span data-stu-id="1409f-127">Azure endpoints used for Azure VM backups</span></span>
    - <span data-ttu-id="1409f-128">porta in uscita 3260</span><span class="sxs-lookup"><span data-stu-id="1409f-128">outbound port 3260</span></span>

   <span data-ttu-id="1409f-129">Per Linux, script hello richiede componenti 'open-iscsi' e 'lshw' tooconnect toohello punto di ripristino.</span><span class="sxs-lookup"><span data-stu-id="1409f-129">For Linux, hello script requires 'open-iscsi' and 'lshw' components tooconnect toohello recovery point.</span></span> <span data-ttu-id="1409f-130">Se non quelli esistenti nel computer di hello in cui viene eseguito, richiesto per componenti in questione autorizzazione tooinstall hello e li installa al consenso.</span><span class="sxs-lookup"><span data-stu-id="1409f-130">If those do not exist on hello machine where it is run, it asks for permission tooinstall hello relevant components and installs them upon consent.</span></span>
   
   <span data-ttu-id="1409f-131">Immettere la password di hello copiata dal portale di hello quando richiesto.</span><span class="sxs-lookup"><span data-stu-id="1409f-131">Enter hello password copied from hello portal when prompted.</span></span> <span data-ttu-id="1409f-132">Dopo avere immesso la password valida hello script hello si connette il punto di ripristino toohello.</span><span class="sxs-lookup"><span data-stu-id="1409f-132">Once hello valid password is entered hello scripts connects toohello recovery point.</span></span>
      
    ![Pannello Ripristino file](./media/backup-azure-restore-files-from-vm/executable-output.png)
    
   
   <span data-ttu-id="1409f-134">È possibile eseguire script hello in tutti i computer con sistema operativo hello stesso (o compatibile) come backup hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1409f-134">You can run hello script on any machine that has hello same (or compatible) operating system as hello backed-up VM.</span></span> <span data-ttu-id="1409f-135">Vedere hello [tabella del sistema operativo compatibile](backup-azure-restore-files-from-vm.md#compatible-os) per sistemi operativi compatibili.</span><span class="sxs-lookup"><span data-stu-id="1409f-135">See hello [Compatible OS table](backup-azure-restore-files-from-vm.md#compatible-os) for compatible operating systems.</span></span> <span data-ttu-id="1409f-136">Se hello protetto virtuale di Azure Usa macchina in che spazi di archiviazione di Windows (per le macchine virtuali di Windows Azure) o Arrays(for Linux VMs) LVM/RAID, sarà possibile eseguire hello eseguibile o lo script hello stessa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1409f-136">If hello protected Azure virtual machine uses Windows Storage Spaces (for Windows Azure VMs) or LVM/RAID Arrays(for Linux VMs), then you can't run hello executable/script on hello same virtual machine.</span></span> <span data-ttu-id="1409f-137">Eseguirlo invece in qualsiasi altro computer con un sistema operativo compatibile.</span><span class="sxs-lookup"><span data-stu-id="1409f-137">Instead, run it on any other machine with a compatible operating system.</span></span>

### <a name="compatible-os"></a><span data-ttu-id="1409f-138">Sistema operativo compatibile</span><span class="sxs-lookup"><span data-stu-id="1409f-138">Compatible OS</span></span>

#### <a name="for-windows"></a><span data-ttu-id="1409f-139">Per Windows</span><span class="sxs-lookup"><span data-stu-id="1409f-139">For Windows</span></span>

<span data-ttu-id="1409f-140">Hello nella seguente tabella mostra hello compatibilità tra i sistemi operativi server e computer.</span><span class="sxs-lookup"><span data-stu-id="1409f-140">hello following table shows hello compatibility between server and computer operating systems.</span></span> <span data-ttu-id="1409f-141">Quando si esegue il ripristino dei file, non è possibile ripristinare i file tra sistemi operativi non compatibili.</span><span class="sxs-lookup"><span data-stu-id="1409f-141">When recovering files, you can't restore files between incompatible operating systems.</span></span>

|<span data-ttu-id="1409f-142">Sistema operativo del server</span><span class="sxs-lookup"><span data-stu-id="1409f-142">Server OS</span></span> | <span data-ttu-id="1409f-143">Sistema operativo compatibile del client</span><span class="sxs-lookup"><span data-stu-id="1409f-143">Compatible client OS</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="1409f-144">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="1409f-144">Windows Server 2012 R2</span></span> | <span data-ttu-id="1409f-145">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="1409f-145">Windows 8.1</span></span> |
| <span data-ttu-id="1409f-146">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="1409f-146">Windows Server 2012</span></span>    | <span data-ttu-id="1409f-147">Windows 8</span><span class="sxs-lookup"><span data-stu-id="1409f-147">Windows 8</span></span>  |
| <span data-ttu-id="1409f-148">Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="1409f-148">Windows Server 2008 R2</span></span> | <span data-ttu-id="1409f-149">Windows 7</span><span class="sxs-lookup"><span data-stu-id="1409f-149">Windows 7</span></span>   |

#### <a name="for-linux"></a><span data-ttu-id="1409f-150">Per Linux</span><span class="sxs-lookup"><span data-stu-id="1409f-150">For Linux</span></span>

<span data-ttu-id="1409f-151">In Linux, requisito fondamentale hello è tale hello del sistema operativo della macchina hello in cui viene eseguito uno script hello deve supportare filesystem hello di hello file presenti nella hello backup VM Linux.</span><span class="sxs-lookup"><span data-stu-id="1409f-151">In Linux, hello fundamental requirement is that hello OS of hello machine where hello script is run should support hello filesystem of hello files present in hello backed-up Linux VM.</span></span> <span data-ttu-id="1409f-152">Durante la selezione di uno script di hello toorun macchina, verificare che come indicato nella tabella hello riportata di seguito contiene versioni del sistema operativo e hello compatibili hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-152">While selecting a machine toorun hello script, please ensure it has hello compatible OS and hello versions as mentioned in hello table below.</span></span>

|<span data-ttu-id="1409f-153">Sistema operativo Linux</span><span class="sxs-lookup"><span data-stu-id="1409f-153">Linux OS</span></span> | <span data-ttu-id="1409f-154">Versioni</span><span class="sxs-lookup"><span data-stu-id="1409f-154">Versions</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="1409f-155">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="1409f-155">Ubuntu</span></span> | <span data-ttu-id="1409f-156">12.04 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="1409f-156">12.04 and above</span></span> |
| <span data-ttu-id="1409f-157">CentOS</span><span class="sxs-lookup"><span data-stu-id="1409f-157">CentOS</span></span> | <span data-ttu-id="1409f-158">6.5 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="1409f-158">6.5 and above</span></span>  |
| <span data-ttu-id="1409f-159">RHEL</span><span class="sxs-lookup"><span data-stu-id="1409f-159">RHEL</span></span> | <span data-ttu-id="1409f-160">6.7 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="1409f-160">6.7 and above</span></span> |
| <span data-ttu-id="1409f-161">Debian</span><span class="sxs-lookup"><span data-stu-id="1409f-161">Debian</span></span> | <span data-ttu-id="1409f-162">7 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="1409f-162">7 and above</span></span> |
| <span data-ttu-id="1409f-163">Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="1409f-163">Oracle Linux</span></span> | <span data-ttu-id="1409f-164">6.4 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="1409f-164">6.4 and above</span></span> |

<span data-ttu-id="1409f-165">script Hello inoltre richiede python e bash tooexecute componenti e connettersi in modo sicuro toohello punto di ripristino.</span><span class="sxs-lookup"><span data-stu-id="1409f-165">hello script also requires python and bash components tooexecute and connect securely toohello recovery point.</span></span>

|<span data-ttu-id="1409f-166">Componente</span><span class="sxs-lookup"><span data-stu-id="1409f-166">Component</span></span> | <span data-ttu-id="1409f-167">Versione</span><span class="sxs-lookup"><span data-stu-id="1409f-167">Version</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="1409f-168">bash</span><span class="sxs-lookup"><span data-stu-id="1409f-168">bash</span></span> | <span data-ttu-id="1409f-169">4 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="1409f-169">4 and above</span></span> |
| <span data-ttu-id="1409f-170">python</span><span class="sxs-lookup"><span data-stu-id="1409f-170">python</span></span> | <span data-ttu-id="1409f-171">2.6.6 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="1409f-171">2.6.6 and above</span></span>  |


### <a name="identifying-volumes"></a><span data-ttu-id="1409f-172">Identificazione dei volumi</span><span class="sxs-lookup"><span data-stu-id="1409f-172">Identifying Volumes</span></span>

#### <a name="for-windows"></a><span data-ttu-id="1409f-173">Per Windows</span><span class="sxs-lookup"><span data-stu-id="1409f-173">For Windows</span></span>

<span data-ttu-id="1409f-174">Quando si esegue l'eseguibile hello, sistema operativo hello hello nuovi volumi montati e assegna le lettere di unità.</span><span class="sxs-lookup"><span data-stu-id="1409f-174">When you run hello exectuable, hello operating system mounts hello new volumes and assigns drive letters.</span></span> <span data-ttu-id="1409f-175">È possibile utilizzare Esplora risorse o Esplora File toobrowse tali unità.</span><span class="sxs-lookup"><span data-stu-id="1409f-175">You can use Windows Explorer or File Explorer toobrowse those drives.</span></span> <span data-ttu-id="1409f-176">Hello lettere di unità assegnate toohello volumi potrebbero non essere hello stesse lettere come hello macchina virtuale originale, tuttavia, hello il nome del volume viene mantenuta.</span><span class="sxs-lookup"><span data-stu-id="1409f-176">hello drive letters assigned toohello volumes may not be hello same letters as hello original virtual machine, however, hello volume name is preserved.</span></span> <span data-ttu-id="1409f-177">Ad esempio, se hello volume nella macchina virtuale originale hello era "disco dati (e:\)", che può essere collegato come volume "disco dati ('Qualsiasi lettera di unità disponibile':\) nel computer locale hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-177">For example, if hello volume on hello original virtual machine was “Data Disk (E:\)”, that volume can be attached as “Data Disk ('Any drive letter available':\) on hello local computer.</span></span> <span data-ttu-id="1409f-178">Esplorare tutti i volumi indicati nell'output di hello dello script fino a individuare il file/cartella.</span><span class="sxs-lookup"><span data-stu-id="1409f-178">Browse through all volumes mentioned in hello script output until you find your files/folder.</span></span>  
       
   ![Pannello Ripristino file](./media/backup-azure-restore-files-from-vm/volumes-attached.png)
           
#### <a name="for-linux"></a><span data-ttu-id="1409f-180">Per Linux</span><span class="sxs-lookup"><span data-stu-id="1409f-180">For Linux</span></span>

<span data-ttu-id="1409f-181">In Linux, volumi hello hello del punto di ripristino sono montati toohello cartella in cui viene eseguito uno script hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-181">In Linux, hello volumes of hello recovery point are mounted toohello folder where hello script is run.</span></span> <span data-ttu-id="1409f-182">Hello collegati dischi, volumi e montaggio corrispondente hello percorsi sono visualizzati di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="1409f-182">hello attached disks, volumes and hello corresponding mount paths are shown accordingly.</span></span> <span data-ttu-id="1409f-183">Questi percorsi di montaggio sono visibili toousers con accesso al livello radice.</span><span class="sxs-lookup"><span data-stu-id="1409f-183">These mount paths are visible toousers having root level access.</span></span> <span data-ttu-id="1409f-184">Esplorare i volumi di hello indicati nell'output di hello script.</span><span class="sxs-lookup"><span data-stu-id="1409f-184">Browse through hello volumes mentioned in hello script output.</span></span>

  ![Pannello Ripristino file per Linux](./media/backup-azure-restore-files-from-vm/linux-mount-paths.png)
  

## <a name="closing-hello-connection"></a><span data-ttu-id="1409f-186">Chiusura della connessione hello</span><span class="sxs-lookup"><span data-stu-id="1409f-186">Closing hello connection</span></span>

<span data-ttu-id="1409f-187">Dopo aver identificato i file hello e copiarli tooa posizione di archiviazione locale, rimuovere o smontare unità aggiuntive hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-187">After identifying hello files and copying them tooa local storage location, remove (or unmount) hello additional drives.</span></span> <span data-ttu-id="1409f-188">toounmount hello unità, hello **ripristino File** fare clic su pannello nel portale di Azure hello **smontare dischi**.</span><span class="sxs-lookup"><span data-stu-id="1409f-188">toounmount hello drives, on hello **File Recovery** blade in hello Azure portal, click **Unmount Disks**.</span></span>

![Smontare i dischi](./media/backup-azure-restore-files-from-vm/unmount-disks3.png)

<span data-ttu-id="1409f-190">Una volta dischi hello sono stati smontati, viene visualizzato un messaggio per comunicarti che ha avuto esito positivo.</span><span class="sxs-lookup"><span data-stu-id="1409f-190">Once hello disks have been unmounted, you receive a message letting you know it was successful.</span></span> <span data-ttu-id="1409f-191">Potrebbe richiedere alcuni minuti per toorefresh connessione hello in modo che sia possibile rimuovere i dischi di hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-191">It may take a few minutes for hello connection toorefresh so that you can remove hello disks.</span></span>

<span data-ttu-id="1409f-192">In Linux, dopo il punto di ripristino toohello hello connessione viene interrotta, hello del sistema operativo non rimuove i percorsi di montaggio corrispondente hello automaticamente.</span><span class="sxs-lookup"><span data-stu-id="1409f-192">In Linux, after hello connection toohello recovery point is severed, hello OS doesn't remove hello corresponding mount paths automatically.</span></span> <span data-ttu-id="1409f-193">Vengono forniti come volumi "orfano" e sono visibili, ma verrà generato un errore quando si file hello accesso/scrittura.</span><span class="sxs-lookup"><span data-stu-id="1409f-193">These exist as "orphan" volumes and they are visible but throw an error when you access/write hello files.</span></span> <span data-ttu-id="1409f-194">Questi percorsi possono essere rimossi manualmente.</span><span class="sxs-lookup"><span data-stu-id="1409f-194">They can be manually removed.</span></span> <span data-ttu-id="1409f-195">script di Hello, quando eseguito, identifica tali volumi esistenti da punti di ripristino precedente e pulisce al consenso.</span><span class="sxs-lookup"><span data-stu-id="1409f-195">hello script, when run, identifies any such volumes existing from any previous recovery points and cleans them up upon consent.</span></span>

## <a name="special-configurations"></a><span data-ttu-id="1409f-196">Configurazioni speciali</span><span class="sxs-lookup"><span data-stu-id="1409f-196">Special configurations</span></span>

### <a name="dynamic-disks"></a><span data-ttu-id="1409f-197">Dischi dinamici</span><span class="sxs-lookup"><span data-stu-id="1409f-197">Dynamic Disks</span></span>

<span data-ttu-id="1409f-198">Se hello macchina virtuale di Azure che è stato eseguito il backup di volumi che si estendono su più dischi (volumi con spanning e con striping) e/o a tolleranza di errore (volumi con mirroring e RAID-5) nei dischi dinamici non è possibile eseguire uno script eseguibile hello hello stessa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1409f-198">If hello Azure VM that was backed up has volumes that span multiple disks (spanned and striped volumes) and/or fault-tolerant volumes (mirrored and RAID-5 volumes) on dynamic disks, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="1409f-199">Al contrario, eseguire uno script eseguibile hello in qualsiasi altro computer con un sistema operativo compatibile.</span><span class="sxs-lookup"><span data-stu-id="1409f-199">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="windows-storage-spaces"></a><span data-ttu-id="1409f-200">Spazi di archiviazione di Windows</span><span class="sxs-lookup"><span data-stu-id="1409f-200">Windows Storage Spaces</span></span>

<span data-ttu-id="1409f-201">Spazi di archiviazione di Windows è una tecnologia di archiviazione di Windows che consente l'archiviazione toovirtualize.</span><span class="sxs-lookup"><span data-stu-id="1409f-201">Windows Storage Spaces is a technology in Windows storage that enables you toovirtualize storage.</span></span> <span data-ttu-id="1409f-202">Con spazi di archiviazione di Windows è possibile raggruppare dischi standard del settore in pool di archiviazione e quindi creare dischi virtuali, detti spazi di archiviazione dallo spazio disponibile di hello in tali pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="1409f-202">With Windows Storage Spaces you can group industry-standard disks into storage pools, and then create virtual disks, called storage spaces, from hello available space in those storage pools.</span></span>

<span data-ttu-id="1409f-203">Se hello macchina virtuale di Azure che è stato eseguito il backup Usa spazi di archiviazione di Windows, quindi è possibile eseguire uno script eseguibile hello in hello stessa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1409f-203">If hello Azure VM that was backed up uses Windows Storage Spaces, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="1409f-204">Al contrario, eseguire uno script eseguibile hello in qualsiasi altro computer con un sistema operativo compatibile.</span><span class="sxs-lookup"><span data-stu-id="1409f-204">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="lvmraid-arrays"></a><span data-ttu-id="1409f-205">LVM/matrici RAID</span><span class="sxs-lookup"><span data-stu-id="1409f-205">LVM/RAID Arrays</span></span>

<span data-ttu-id="1409f-206">In Linux, il gestore di volumi logici (LVM) e/o software nelle matrici RAID sono volumi logici toomanage usato su più dischi.</span><span class="sxs-lookup"><span data-stu-id="1409f-206">In Linux, Logical volume manager (LVM) and/or software RAID Arrays are used toomanage logical volumes over multiple disks.</span></span> <span data-ttu-id="1409f-207">Se il backup di VM Linux hello utilizza LVM e/o nelle matrici RAID, è possibile eseguire script hello in hello stessa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1409f-207">If hello backed up Linux VM uses LVM and/or RAID Arrays, you can't run hello script on hello same VM.</span></span> <span data-ttu-id="1409f-208">Invece di eseguire script hello in qualsiasi altro computer con sistema operativo compatibile e che supporta file System del backup di VM hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-208">Instead run hello script on any other machine with compatible OS and which supports filesystem of hello backed up VM.</span></span>

<span data-ttu-id="1409f-209">output di Hello script Visualizza hello LVM e/o i dischi nelle matrici RAID e volumi hello con tipo di partizione hello come illustrato di seguito</span><span class="sxs-lookup"><span data-stu-id="1409f-209">hello script output displays hello LVM and/or RAID Arrays disks and hello volumes with hello partition type as shown below</span></span>

   ![Pannello dell'output LVM per Linux](./media/backup-azure-restore-files-from-vm/linux-LVMOutput.png)
   
<span data-ttu-id="1409f-211">Hello seguenti comandi necessario toobe eseguire da hello utente toobring queste partizioni online.</span><span class="sxs-lookup"><span data-stu-id="1409f-211">hello following commands need toobe run by hello user toobring these partitions online.</span></span> 

<span data-ttu-id="1409f-212">**Per le partizioni LVM**</span><span class="sxs-lookup"><span data-stu-id="1409f-212">**For LVM Partitions**</span></span>

```
$ pvs <volume name as shown above in hello script output> 
```
<span data-ttu-id="1409f-213">Elenca i nomi dei gruppi di volumi hello in un volume fisico.</span><span class="sxs-lookup"><span data-stu-id="1409f-213">This lists hello volume group names under a physical volume.</span></span>

```
$ lvdisplay <volume-group-name from hello pvs command’s results> 
```
<span data-ttu-id="1409f-214">Elenca tutti i volumi logici, i nomi e i relativi percorsi in un gruppo di volumi.</span><span class="sxs-lookup"><span data-stu-id="1409f-214">This lists all logical volumes, names and their paths in a volume group.</span></span>

```
$ mount <LV path> </mountpath>
```
<span data-ttu-id="1409f-215">toomount percorso toohello hello volumi logici di propria scelta.</span><span class="sxs-lookup"><span data-stu-id="1409f-215">toomount hello logical volumes toohello path of your choice.</span></span>


<span data-ttu-id="1409f-216">**Per le matrici RAID**</span><span class="sxs-lookup"><span data-stu-id="1409f-216">**For RAID Arrays**</span></span>

```
$ mdadm –detail –scan
```
<span data-ttu-id="1409f-217">Consente di visualizzare informazioni dettagliate su tutti i dischi RAID.</span><span class="sxs-lookup"><span data-stu-id="1409f-217">This displays details about all raid disks.</span></span> <span data-ttu-id="1409f-218">verranno visualizzato come disco RAID rilevante Hello`/dev/mdm/<RAID array name in hello backed up VM>`</span><span class="sxs-lookup"><span data-stu-id="1409f-218">hello relevant RAID disk will be displayed as `/dev/mdm/<RAID array name in hello backed up VM>`</span></span>

<span data-ttu-id="1409f-219">Utilizzare il comando di montaggio hello se dispone di dischi RAID hello volumi fisici.</span><span class="sxs-lookup"><span data-stu-id="1409f-219">Use hello mount command if hello RAID disk has physical volumes.</span></span>
```
$ mount [RAID Disk Path] [/mounthpath]
```

<span data-ttu-id="1409f-220">Se il disco RAID dispone di un altro LVM configurate Segui hello stessa procedura descritta sopra per le partizioni LVM con il nome del volume hello Nome disco RAID hello</span><span class="sxs-lookup"><span data-stu-id="1409f-220">If this RAID disk has another LVM configured in it then follow hello same procedure as outlined above for LVM partitions with hello volume name being hello RAID Disk name</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="1409f-221">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="1409f-221">Troubleshooting</span></span>

<span data-ttu-id="1409f-222">Se si verificano problemi durante il recupero di file di macchine virtuali hello, controllare hello per ulteriori informazioni nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="1409f-222">If you have problems while recovering files from hello virtual machines, check hello following table for additional information.</span></span>

| <span data-ttu-id="1409f-223">Messaggio di errore/scenario</span><span class="sxs-lookup"><span data-stu-id="1409f-223">Error Message / Scenario</span></span> | <span data-ttu-id="1409f-224">Possibile causa</span><span class="sxs-lookup"><span data-stu-id="1409f-224">Probable Cause</span></span> | <span data-ttu-id="1409f-225">Azione consigliata</span><span class="sxs-lookup"><span data-stu-id="1409f-225">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="1409f-226">Output exe: *eccezione toohello destinazione connessione*</span><span class="sxs-lookup"><span data-stu-id="1409f-226">Exe output: *Exception connecting toohello target*</span></span> |<span data-ttu-id="1409f-227">Script non è in grado di tooaccess hello punto di ripristino</span><span class="sxs-lookup"><span data-stu-id="1409f-227">Script is not able tooaccess hello recovery point</span></span> | <span data-ttu-id="1409f-228">Controllare se il computer hello soddisfa i requisiti di accesso hello indicati in precedenza</span><span class="sxs-lookup"><span data-stu-id="1409f-228">Check whether hello machine fulfills hello access requirements mentioned above</span></span>|  
|   <span data-ttu-id="1409f-229">Output exe: *destinazione hello è già stato registrato tramite una sessione ISCSI.*</span><span class="sxs-lookup"><span data-stu-id="1409f-229">Exe output: *hello target has already been logged in via an ISCSI session.*</span></span> |   <span data-ttu-id="1409f-230">script Hello già è stato eseguito nella stessa macchina e hello le unità sono state allegate hello</span><span class="sxs-lookup"><span data-stu-id="1409f-230">hello script was already executed on hello same machine and hello drives have been attached</span></span> |   <span data-ttu-id="1409f-231">volumi Hello hello del punto di ripristino sono già stati associati.</span><span class="sxs-lookup"><span data-stu-id="1409f-231">hello volumes of hello recovery point have already been attached.</span></span> <span data-ttu-id="1409f-232">NON può essere montati con hello stessa unità di hello macchina virtuale originale.</span><span class="sxs-lookup"><span data-stu-id="1409f-232">They may NOT be mounted with hello same drive letters of hello original VM.</span></span> <span data-ttu-id="1409f-233">Esplorare tutti i volumi disponibili hello in Esplora file hello per il file</span><span class="sxs-lookup"><span data-stu-id="1409f-233">Browse through all hello available volumes in hello file explorer for your file</span></span> |
| <span data-ttu-id="1409f-234">Output exe: *questo script non è valido perché è necessario smontare dischi hello attraverso il limite di 12 ore hello portale/superato. Scaricare un nuovo script dal portale hello.*</span><span class="sxs-lookup"><span data-stu-id="1409f-234">Exe output: *This script is invalid because hello disks have been dismounted via portal/exceeded hello 12-hr limit. Please download a new script from hello portal.*</span></span> |    <span data-ttu-id="1409f-235">è necessario smontare dischi Hello dal portale di hello o superato il limite di hello 12 ore</span><span class="sxs-lookup"><span data-stu-id="1409f-235">hello disks have been dismounted from hello portal or hello 12-hr limit exceeded</span></span> |  <span data-ttu-id="1409f-236">Non è possibile eseguire questo specifico file con estensione exe perché non è più valido.</span><span class="sxs-lookup"><span data-stu-id="1409f-236">This particular exe is now invalid and can’t be run.</span></span> <span data-ttu-id="1409f-237">Se si desidera tooaccess hello i file di tale ripristino punto nel tempo, visitare il portale di hello per un nuovo file exe</span><span class="sxs-lookup"><span data-stu-id="1409f-237">If you want tooaccess hello files of that recovery point-in-time, visit hello portal for a new exe</span></span>|
| <span data-ttu-id="1409f-238">Nel computer di hello in cui viene eseguito exe hello: nuovi volumi hello non vengono smontati dopo hello lo smontaggio del pulsante</span><span class="sxs-lookup"><span data-stu-id="1409f-238">On hello machine where hello exe is run: hello new volumes are not dismounted after hello dismount button is clicked</span></span> |    <span data-ttu-id="1409f-239">iniziatore ISCSI Hello computer hello non risponde/aggiornare la destinazione toohello di connessione e la gestione di cache di hello</span><span class="sxs-lookup"><span data-stu-id="1409f-239">hello ISCSI initiator on hello machine is not responding/refreshing its connection toohello target and maintaining hello cache</span></span> |    <span data-ttu-id="1409f-240">Attendere alcuni minuti dopo hello lo smontaggio del pulsante.</span><span class="sxs-lookup"><span data-stu-id="1409f-240">Wait for some mins after hello dismount button is pressed.</span></span> <span data-ttu-id="1409f-241">Se i nuovi volumi hello non sono ancora disinstallati, passare attraverso tutti i volumi di hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-241">If hello new volumes are still not dismounted, please browse through all hello volumes.</span></span> <span data-ttu-id="1409f-242">Questo viene smontato hello iniziatore toorefresh hello connessione hello volume e con un messaggio di errore di forza che hello disco non è disponibile</span><span class="sxs-lookup"><span data-stu-id="1409f-242">This forces hello initiator toorefresh hello connection and hello volume is dismounted with an error message that hello disk is not available</span></span>|
| <span data-ttu-id="1409f-243">Output exe: Script è stato eseguito correttamente ma "Nuovi volumi collegati" non sono visualizzati nell'output di hello script</span><span class="sxs-lookup"><span data-stu-id="1409f-243">Exe output: Script is run successfully but “New volumes attached” is not displayed on hello script output</span></span> |   <span data-ttu-id="1409f-244">Si tratta di un errore temporaneo</span><span class="sxs-lookup"><span data-stu-id="1409f-244">This is a transient error</span></span>   | <span data-ttu-id="1409f-245">volumi Hello potrebbero aver già allegati.</span><span class="sxs-lookup"><span data-stu-id="1409f-245">hello volumes would have been already attached.</span></span> <span data-ttu-id="1409f-246">Aprire Esplora toobrowse.</span><span class="sxs-lookup"><span data-stu-id="1409f-246">Open Explorer toobrowse.</span></span> <span data-ttu-id="1409f-247">Se si utilizza hello stesso computer per l'esecuzione di script ogni volta, si consiglia di riavviare il computer hello e hello elenco deve essere visualizzato nelle esecuzioni successive exe hello.</span><span class="sxs-lookup"><span data-stu-id="1409f-247">If you are using hello same machine for running scripts every time, consider restarting hello machine and hello list should be displayed in hello subsequent exe runs.</span></span> |
| <span data-ttu-id="1409f-248">Specifiche di Linux: non è possibile tooview hello desiderato volumi</span><span class="sxs-lookup"><span data-stu-id="1409f-248">Linux specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="1409f-249">Hello del sistema operativo della macchina hello in cui viene eseguito uno script hello potrebbe non riconoscere hello filesystem sottostante di hello backup VM</span><span class="sxs-lookup"><span data-stu-id="1409f-249">hello OS of hello machine where hello script is run may not recognize hello underlying filesystem of hello backed up VM</span></span> | <span data-ttu-id="1409f-250">Verifica se il punto di ripristino hello è l'arresto anomalo del sistema coerente o coerenti con i file.</span><span class="sxs-lookup"><span data-stu-id="1409f-250">Check whether hello recovery point is crash consistent or file-consistent.</span></span> <span data-ttu-id="1409f-251">Se lo script in un altro computer il cui sistema operativo riconosce hello hello coerente, l'esecuzione del file di backup del file System della macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="1409f-251">If file consistent, run hello script on another machine whose OS recognizes hello backed up VM's filesystem</span></span> |
| <span data-ttu-id="1409f-252">Specifiche di Windows: non è possibile tooview hello desiderato volumi</span><span class="sxs-lookup"><span data-stu-id="1409f-252">Windows specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="1409f-253">dischi Hello collegati ma non sono stati configurati i volumi di hello</span><span class="sxs-lookup"><span data-stu-id="1409f-253">hello disks may have been attached but hello volumes were not configured</span></span> | <span data-ttu-id="1409f-254">Dalla schermata di Gestione disco hello, identificare un punto di ripristino correlati toohello hello dischi aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="1409f-254">From hello disk management screen, identify hello additional disks related toohello recovery point.</span></span> <span data-ttu-id="1409f-255">Se uno di questi dischi è non in linea in stato di provare a renderli online facendo clic sul disco hello e fare clic su 'In linea'</span><span class="sxs-lookup"><span data-stu-id="1409f-255">If any of these disks are in offline state try making them online by right-clicking on hello disk and click 'Online'</span></span>|
