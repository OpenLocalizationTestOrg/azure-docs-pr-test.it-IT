



<span data-ttu-id="eb358-101">A seconda di ambiente e le scelte, script di hello può creare tutta l'infrastruttura cluster hello, tra cui hello rete virtuale di Azure, gli account di archiviazione, servizi cloud, controller di dominio, i database SQL locali o remoti, il nodo head e cluster aggiuntivo nodi.</span><span class="sxs-lookup"><span data-stu-id="eb358-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="eb358-102">In alternativa, utilizzare infrastruttura di Azure preesistente e creare solo nodi del cluster HPC hello script hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="eb358-103">Per informazioni generali sulla pianificazione di un cluster HPC Pack, vedere hello [valutazione del prodotto e alla pianificazione](https://technet.microsoft.com/library/jj899596.aspx) e [Introduzione](https://technet.microsoft.com/library/jj899590.aspx) contenuto nella libreria TechNet di HPC Pack 2012 R2 hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="eb358-104">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="eb358-104">Prerequisites</span></span>
* <span data-ttu-id="eb358-105">**Sottoscrizione di Azure**: È possibile utilizzare una sottoscrizione in un servizio Azure globale o Azure China hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="eb358-106">Ai termini della sottoscrizione influiscono sul numero di hello e tipo dei nodi del cluster che è possibile distribuire.</span><span class="sxs-lookup"><span data-stu-id="eb358-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="eb358-107">Per informazioni, vedere [Limiti, quote e vincoli delle sottoscrizioni e dei servizi di Microsoft Azure](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="eb358-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="eb358-108">**Computer client Windows con Azure PowerShell 0.8.10 o versione successiva installato e configurato**: vedere [Guida introduttiva di Azure PowerShell](/powershell/azureps-cmdlets-docs) per installazione istruzioni e i passaggi tooconnect tooyour sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="eb358-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="eb358-109">**Script di distribuzione IaaS di HPC Pack**: scaricare e decomprimere hello versione dello script hello hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="eb358-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="eb358-110">Controllare la versione di hello dello script di hello eseguendo `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="eb358-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="eb358-111">In questo articolo si basa sulla versione 4.5.2 dello script hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="eb358-112">**File di configurazione script**: creare un file XML che script hello utilizza un cluster HPC tooconfigure hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="eb358-113">Per informazioni ed esempi, vedere le sezioni più avanti in questo articolo e hello file Manual.rtf che accompagna script di distribuzione hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="eb358-114">Sintassi</span><span class="sxs-lookup"><span data-stu-id="eb358-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="eb358-115">Eseguire script hello come amministratore.</span><span class="sxs-lookup"><span data-stu-id="eb358-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="eb358-116">parameters</span><span class="sxs-lookup"><span data-stu-id="eb358-116">Parameters</span></span>
* <span data-ttu-id="eb358-117">**ConfigFile**: Specifica il percorso file hello hello configurazione toodescribe hello HPC del cluster di file.</span><span class="sxs-lookup"><span data-stu-id="eb358-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="eb358-118">Vedere informazioni sui file di configurazione hello in questo argomento, o nel file hello Manual.rtf nella cartella hello contenente script hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="eb358-119">**AdminUserName**: Specifica il nome utente hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="eb358-120">Se la foresta di domini hello creata dallo script hello, questa diventa nome utente dell'amministratore locale hello per tutte le macchine virtuali e il nome di amministratore di dominio hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="eb358-121">Se esiste già una foresta di domini hello, si specifica utente di dominio hello hello tooinstall di nome utente amministratore locale HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="eb358-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="eb358-122">**AdminPassword**: specifica la password dell'amministratore di hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="eb358-123">Se non specificato nella riga di comando hello, script hello richiede password hello tooinput.</span><span class="sxs-lookup"><span data-stu-id="eb358-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="eb358-124">**HPCImageName** (facoltativo): specifica un cluster HPC hello toodeploy nome immagine di macchina virtuale di HPC Pack hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="eb358-125">Deve essere un'immagine fornita da Microsoft HPC Pack da hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="eb358-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="eb358-126">Se non viene specificato hello (consigliato in genere), script sceglie hello più recente pubblicata [HPC Pack 2012 R2 immagine](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="eb358-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="eb358-127">immagine più recente di Hello è basata su Windows Server 2012 R2 Datacenter con HPC Pack 2012 R2 Update 3.</span><span class="sxs-lookup"><span data-stu-id="eb358-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="eb358-128">Se non si specifica un'immagine HPC Pack valida, la distribuzione avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="eb358-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="eb358-129">**File di registro** (facoltativo): percorso del file di registro distribuzione hello specifica.</span><span class="sxs-lookup"><span data-stu-id="eb358-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="eb358-130">Se non specificato, script hello crea un file di log nella directory temp di hello del hello che esegue script hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="eb358-131">**Force** (facoltativo): Elimina tutte le richieste di conferma hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="eb358-132">**NoCleanOnFailure** (facoltativo): Specifica che le macchine virtuali di Azure che non vengono distribuiti hello non vengono rimossi.</span><span class="sxs-lookup"><span data-stu-id="eb358-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="eb358-133">Rimuovere manualmente queste macchine virtuali prima di eseguire nuovamente la distribuzione di hello script toocontinue hello o hello distribuzione potrebbe non riuscire.</span><span class="sxs-lookup"><span data-stu-id="eb358-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="eb358-134">**PSSessionSkipCACheck** (facoltativo): per ogni servizio cloud con macchine virtuali distribuite da questo script, un certificato autofirmato viene generato automaticamente da Azure e hello tutte le macchine virtuali nel servizio cloud hello Usa questo certificato, come impostazione predefinita Windows hello Certificato di gestione (WinRM) remoto.</span><span class="sxs-lookup"><span data-stu-id="eb358-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="eb358-135">funzionalità di toodeploy HPC in queste macchine virtuali di Azure, per impostazione predefinita script hello installa temporaneamente questi certificati nel Computer locale hello\\archivio Autorità di certificazione radice attendibili di hello client computer toosuppress hello sicurezza "CA non attendibile" Errore durante l'esecuzione dello script.</span><span class="sxs-lookup"><span data-stu-id="eb358-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="eb358-136">i certificati di Hello vengono rimossi al termine dello script hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="eb358-137">Se viene specificato questo parametro, i certificati di hello non sono installati nel computer client hello e hello sicurezza l'avviso.</span><span class="sxs-lookup"><span data-stu-id="eb358-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="eb358-138">Questo parametro non è consigliato per distribuzioni di produzione.</span><span class="sxs-lookup"><span data-stu-id="eb358-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="eb358-139">Esempio</span><span class="sxs-lookup"><span data-stu-id="eb358-139">Example</span></span>
<span data-ttu-id="eb358-140">esempio Hello crea un cluster HPC Pack utilizzando il file di configurazione *MyConfigFile.xml*e specifica le credenziali di amministratore per l'installazione cluster hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="eb358-141">Considerazioni aggiuntive</span><span class="sxs-lookup"><span data-stu-id="eb358-141">Additional considerations</span></span>
* <span data-ttu-id="eb358-142">script Hello possibile consentire l'invio di processi tramite portale web di HPC Pack hello o hello API REST di HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="eb358-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="eb358-143">script Hello può facoltativamente eseguire script di pre e post-configurazione personalizzati nel nodo head hello se si desidera software aggiuntivo tooinstall o configurare altre impostazioni.</span><span class="sxs-lookup"><span data-stu-id="eb358-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="eb358-144">File di configurazione</span><span class="sxs-lookup"><span data-stu-id="eb358-144">Configuration file</span></span>
<span data-ttu-id="eb358-145">file di configurazione Hello per lo script di distribuzione hello è un file XML.</span><span class="sxs-lookup"><span data-stu-id="eb358-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="eb358-146">file di schema Hello hpciaasclusterconfig.xsd si trova nella cartella script di distribuzione IaaS di HPC Pack hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="eb358-147">**IaaSClusterConfig** hello di elemento radice del file di configurazione hello, che contiene gli elementi figlio di hello descritti in dettaglio nel file hello Manual.rtf nella cartella script di distribuzione hello.</span><span class="sxs-lookup"><span data-stu-id="eb358-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

