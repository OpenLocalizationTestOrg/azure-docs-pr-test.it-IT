---
title: integrazione di aaaContinuous in Visual Studio Team Services con i progetti di gruppo di risorse di Azure | Documenti Microsoft
description: Viene descritto come tooset integrazione continua in Visual Studio Team Services usando il gruppo di risorse di Azure la distribuzione di progetti in Visual Studio.
services: visual-studio-online
documentationcenter: na
author: mlearned
manager: erickson-doug
editor: 
ms.assetid: b81c172a-be87-4adc-861e-d20b94be9e38
ms.service: azure-resource-manager
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/01/2016
ms.author: mlearned
ms.openlocfilehash: 0fe4a4b8989ee323e8ef2206fa4ebed503025670
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="continuous-integration-in-visual-studio-team-services-using-azure-resource-group-deployment-projects"></a><span data-ttu-id="943f5-103">Integrazione continua in Visual Studio Team Services con i progetti di distribuzione Gruppo di risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="943f5-103">Continuous integration in Visual Studio Team Services using Azure Resource Group deployment projects</span></span>
<span data-ttu-id="943f5-104">toodeploy un modello di Azure, di eseguire attività nelle varie fasi: compilazione, Test, copia tooAzure (detto anche "Gestione temporanea") e il modello di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="943f5-104">toodeploy an Azure template, you perform tasks in various stages: Build, Test, Copy tooAzure (also called "Staging"), and Deploy Template.</span></span> <span data-ttu-id="943f5-105">Esistono due modi diversi toodeploy modelli tooVisual Studio Team Services (Visual Studio Team Services).</span><span class="sxs-lookup"><span data-stu-id="943f5-105">There are two different ways toodeploy templates tooVisual Studio Team Services (VS Team Services).</span></span> <span data-ttu-id="943f5-106">Entrambi i metodi forniscono hello stessi risultati, quindi scegliere hello che meglio si adatta il flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="943f5-106">Both methods provide hello same results, so choose hello one that best fits your workflow.</span></span>

1. <span data-ttu-id="943f5-107">Aggiungere una definizione di compilazione tooyour singolo passaggio che esegue uno script di PowerShell hello incluso nel progetto di distribuzione gruppo di risorse di Azure hello (Deploy-azureresourcegroup.ps1).</span><span class="sxs-lookup"><span data-stu-id="943f5-107">Add a single step tooyour build definition that runs hello PowerShell script that’s included in hello Azure Resource Group deployment project (Deploy-AzureResourceGroup.ps1).</span></span> <span data-ttu-id="943f5-108">script Hello copia gli elementi e quindi distribuisce il modello di hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-108">hello script copies artifacts and then deploys hello template.</span></span>
2. <span data-ttu-id="943f5-109">Aggiungere più istruzioni di compilazione di VS Team Services, ognuna delle quali esegue un'attività della fase.</span><span class="sxs-lookup"><span data-stu-id="943f5-109">Add multiple VS Team Services build steps, each one performing a stage task.</span></span>

<span data-ttu-id="943f5-110">Questo articolo illustra entrambe le opzioni.</span><span class="sxs-lookup"><span data-stu-id="943f5-110">This article demonstrates both options.</span></span> <span data-ttu-id="943f5-111">prima opzione Hello presenta il vantaggio di hello di utilizzando hello stesso script utilizzato dagli sviluppatori in Visual Studio e fornire coerenza all'interno del ciclo di vita di hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-111">hello first option has hello advantage of using hello same script used by developers in Visual Studio and providing consistency throughout hello lifecycle.</span></span> <span data-ttu-id="943f5-112">seconda opzione Hello offre uno script semplice toohello alternativo.</span><span class="sxs-lookup"><span data-stu-id="943f5-112">hello second option offers a convenient alternative toohello built-in script.</span></span> <span data-ttu-id="943f5-113">Entrambe le procedure presuppongono che sia già disponibile un progetto di distribuzione di Visual Studio archiviato in VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="943f5-113">Both procedures assume you already have a Visual Studio deployment project checked into VS Team Services.</span></span>

## <a name="copy-artifacts-tooazure"></a><span data-ttu-id="943f5-114">Copia gli elementi tooAzure</span><span class="sxs-lookup"><span data-stu-id="943f5-114">Copy artifacts tooAzure</span></span>
<span data-ttu-id="943f5-115">Se si dispone di tutti gli elementi necessari per la distribuzione del modello, indipendentemente dal scenario hello, è necessario assegnare toothem di accesso di gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="943f5-115">Regardless of hello scenario, if you have any artifacts that are needed for template deployment, you must give Azure Resource Manager access toothem.</span></span> <span data-ttu-id="943f5-116">Questi elementi possono includere file, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="943f5-116">These artifacts can include files such as:</span></span>

* <span data-ttu-id="943f5-117">Modelli annidati</span><span class="sxs-lookup"><span data-stu-id="943f5-117">Nested templates</span></span>
* <span data-ttu-id="943f5-118">Script di configurazione e script DSC</span><span class="sxs-lookup"><span data-stu-id="943f5-118">Configuration scripts and DSC scripts</span></span>
* <span data-ttu-id="943f5-119">File binari dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="943f5-119">Application binaries</span></span>

### <a name="nested-templates-and-configuration-scripts"></a><span data-ttu-id="943f5-120">Modelli annidati e script di configurazione</span><span class="sxs-lookup"><span data-stu-id="943f5-120">Nested Templates and Configuration Scripts</span></span>
<span data-ttu-id="943f5-121">Quando si utilizzano modelli hello forniti da Visual Studio o compilate con i frammenti di codice di Visual Studio, hello script di PowerShell fasi non solo gli elementi di hello, anche Parametrizza hello URI per le risorse di hello per distribuzioni diverse.</span><span class="sxs-lookup"><span data-stu-id="943f5-121">When you use hello templates provided by Visual Studio (or built with Visual Studio snippets), hello PowerShell script not only stages hello artifacts, it also parameterizes hello URI for hello resources for different deployments.</span></span> <span data-ttu-id="943f5-122">script Hello quindi copia contenitore protetto di hello elementi tooa in Azure, viene creato un token di firma di accesso condiviso per tale contenitore e quindi passa l'informazione sulla distribuzione modello toohello.</span><span class="sxs-lookup"><span data-stu-id="943f5-122">hello script then copies hello artifacts tooa secure container in Azure, creates a SaS token for that container, and then passes that information on toohello template deployment.</span></span> <span data-ttu-id="943f5-123">Vedere [creare una distribuzione modello](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn ulteriori informazioni sui modelli nidificati.</span><span class="sxs-lookup"><span data-stu-id="943f5-123">See [Create a template deployment](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn more about nested templates.</span></span>  <span data-ttu-id="943f5-124">Quando si utilizza l'attività in Visual Studio Team Services, è necessario selezionare l'attività appropriata hello per la distribuzione del modello e se necessario, passare i valori di parametro da hello passaggio toohello distribuzione del modello di gestione temporanea.</span><span class="sxs-lookup"><span data-stu-id="943f5-124">When using tasks in VS Team Services, you must select hello appropriate tasks for your template deployment and if necessary, pass parameter values from hello staging step toohello template deployment.</span></span>

## <a name="set-up-continuous-deployment-in-vs-team-services"></a><span data-ttu-id="943f5-125">Configurare la distribuzione continua in VS Team Services</span><span class="sxs-lookup"><span data-stu-id="943f5-125">Set up continuous deployment in VS Team Services</span></span>
<span data-ttu-id="943f5-126">script di PowerShell toocall hello in Visual Studio Team Services, è necessario tooupdate la definizione di compilazione.</span><span class="sxs-lookup"><span data-stu-id="943f5-126">toocall hello PowerShell script in VS Team Services, you need tooupdate your build definition.</span></span> <span data-ttu-id="943f5-127">In breve, hello passaggi:</span><span class="sxs-lookup"><span data-stu-id="943f5-127">In brief, hello steps are:</span></span> 

1. <span data-ttu-id="943f5-128">Modificare la definizione di compilazione hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-128">Edit hello build definition.</span></span>
2. <span data-ttu-id="943f5-129">Configurare l'autorizzazione di Azure in VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="943f5-129">Set up Azure authorization in VS Team Services.</span></span>
3. <span data-ttu-id="943f5-130">Aggiungere un'istruzione di compilazione di Azure PowerShell che fa riferimento a script di PowerShell hello nel progetto di distribuzione di hello il gruppo di risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="943f5-130">Add an Azure PowerShell build step that references hello PowerShell script in hello Azure Resource Group deployment project.</span></span>
4. <span data-ttu-id="943f5-131">Impostare il valore di hello di hello *- ArtifactsStagingDirectory* toowork parametro con un progetto compilato in Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="943f5-131">Set hello value of hello *-ArtifactsStagingDirectory* parameter toowork with a project built in VS Team Services.</span></span>

### <a name="detailed-walkthrough-for-option-1"></a><span data-ttu-id="943f5-132">Procedura dettagliata per l'opzione 1</span><span class="sxs-lookup"><span data-stu-id="943f5-132">Detailed walkthrough for Option 1</span></span>
<span data-ttu-id="943f5-133">Hello nelle procedure seguenti consentono di eseguire distribuzione continua tooconfigure necessari passaggi di hello in Visual Studio Team Services con una singola attività che esegue uno script di PowerShell hello nel progetto.</span><span class="sxs-lookup"><span data-stu-id="943f5-133">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using a single task that runs hello PowerShell script in your project.</span></span> 

1. <span data-ttu-id="943f5-134">Modificare la definizione di compilazione di VS Team Services e aggiungere un'istruzione di compilazione di Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="943f5-134">Edit your VS Team Services build definition and add an Azure PowerShell build step.</span></span> <span data-ttu-id="943f5-135">Selezionare la definizione di compilazione hello in hello **le definizioni di compilazione** categoria e quindi scegliere hello **modifica** collegamento.</span><span class="sxs-lookup"><span data-stu-id="943f5-135">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![Modificare la definizione di compilazione][0]
2. <span data-ttu-id="943f5-137">Aggiungere un nuovo **Azure PowerShell** passaggio toohello compilazione definizione di compilazione e quindi scegliere hello **Aggiungi istruzione di compilazione...**</span><span class="sxs-lookup"><span data-stu-id="943f5-137">Add a new **Azure PowerShell** build step toohello build definition and then choose hello **Add build step…**</span></span> <span data-ttu-id="943f5-138">.</span><span class="sxs-lookup"><span data-stu-id="943f5-138">button.</span></span>
   
   ![Aggiungere un'istruzione di compilazione][1]
3. <span data-ttu-id="943f5-140">Scegliere hello **attività di distribuzione** categoria, seleziona hello **Azure PowerShell** attività e quindi scegliere il relativo **Aggiungi** pulsante.</span><span class="sxs-lookup"><span data-stu-id="943f5-140">Choose hello **Deploy task** category, select hello **Azure PowerShell** task, and then choose its **Add** button.</span></span>
   
   ![Aggiungere attività][2]
4. <span data-ttu-id="943f5-142">Scegliere hello **Azure PowerShell** istruzione di compilazione, quindi compilare i relativi valori.</span><span class="sxs-lookup"><span data-stu-id="943f5-142">Choose hello **Azure PowerShell** build step and then fill in its values.</span></span>
   
   1. <span data-ttu-id="943f5-143">Se si dispone già di un endpoint di servizio di Azure aggiunta tooVS Team Services, scegliere la sottoscrizione hello in hello **sottoscrizione Azure** casella di riepilogo a discesa e quindi ignora toohello nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="943f5-143">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box and then skip toohello next section.</span></span> 
      
      <span data-ttu-id="943f5-144">Se non si dispone di un endpoint di servizio di Azure in Visual Studio Team Services, è necessario tooadd uno.</span><span class="sxs-lookup"><span data-stu-id="943f5-144">If you don’t have an Azure service endpoint in VS Team Services, you need tooadd one.</span></span> <span data-ttu-id="943f5-145">In questa sottosezione illustra il processo di hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-145">This subsection takes you through hello process.</span></span> <span data-ttu-id="943f5-146">Se l'account di Azure Usa un account Microsoft (ad esempio Hotmail), è necessario eseguire hello seguendo i passaggi tooget un'entità servizio di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="943f5-146">If your Azure account uses a Microsoft account (such as Hotmail), you must take hello following steps tooget a Service Principal authentication.</span></span>
   2. <span data-ttu-id="943f5-147">Scegliere hello **Gestisci** collegamento successivo toohello **sottoscrizione Azure** casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="943f5-147">Choose hello **Manage** link next toohello **Azure Subscription** drop-down list box.</span></span>
      
      ![Gestire le sottoscrizioni di Azure][3]
   3. <span data-ttu-id="943f5-149">Scegliere **Azure** in hello **nuovo Endpoint del servizio** casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="943f5-149">Choose **Azure** in hello **New Service Endpoint** drop-down list box.</span></span>
      
      ![Nuovo endpoint di servizio][4]
   4. <span data-ttu-id="943f5-151">In hello **Aggiungi sottoscrizione di Azure** la finestra di dialogo, seleziona hello **dell'entità servizio** opzione.</span><span class="sxs-lookup"><span data-stu-id="943f5-151">In hello **Add Azure Subscription** dialog box, select hello **Service Principal** option.</span></span>
      
      ![Oggetto entità servizio][5]
   5. <span data-ttu-id="943f5-153">Aggiungere il toohello di informazioni di sottoscrizione di Azure **Aggiungi sottoscrizione di Azure** la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="943f5-153">Add your Azure subscription information toohello **Add Azure Subscription** dialog box.</span></span> <span data-ttu-id="943f5-154">È necessario hello tooprovide seguenti elementi:</span><span class="sxs-lookup"><span data-stu-id="943f5-154">You need tooprovide hello following items:</span></span>
      
      * <span data-ttu-id="943f5-155">ID sottoscrizione</span><span class="sxs-lookup"><span data-stu-id="943f5-155">Subscription Id</span></span>
      * <span data-ttu-id="943f5-156">Nome sottoscrizione</span><span class="sxs-lookup"><span data-stu-id="943f5-156">Subscription Name</span></span>
      * <span data-ttu-id="943f5-157">ID entità servizio</span><span class="sxs-lookup"><span data-stu-id="943f5-157">Service Principal Id</span></span>
      * <span data-ttu-id="943f5-158">Chiave entità servizio</span><span class="sxs-lookup"><span data-stu-id="943f5-158">Service Principal Key</span></span>
      * <span data-ttu-id="943f5-159">ID tenant</span><span class="sxs-lookup"><span data-stu-id="943f5-159">Tenant Id</span></span>
   6. <span data-ttu-id="943f5-160">Aggiungere un nome di toohello la scelta **sottoscrizione** casella nome.</span><span class="sxs-lookup"><span data-stu-id="943f5-160">Add a name of your choice toohello **Subscription** name box.</span></span> <span data-ttu-id="943f5-161">Questo valore viene visualizzato più avanti in hello **sottoscrizione Azure** elenco a discesa in Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="943f5-161">This value appears later in hello **Azure Subscription** drop-down list in VS Team Services.</span></span> 
   7. <span data-ttu-id="943f5-162">Se non si conosce l'ID sottoscrizione Azure, è possibile utilizzare uno dei seguenti comandi tooretrieve hello è.</span><span class="sxs-lookup"><span data-stu-id="943f5-162">If you don’t know your Azure subscription ID, you can use one of hello following commands tooretrieve it.</span></span>
      
      <span data-ttu-id="943f5-163">Per gli script di Azure PowerShell usare:</span><span class="sxs-lookup"><span data-stu-id="943f5-163">For PowerShell scripts, use:</span></span>
      
      `Get-AzureRmSubscription`
      
      <span data-ttu-id="943f5-164">Per l'interfaccia della riga di comando di Azure usare:</span><span class="sxs-lookup"><span data-stu-id="943f5-164">For Azure CLI, use:</span></span>
      
      `azure account show`
   8. <span data-ttu-id="943f5-165">tooget un ID dell'entità servizio, la chiave dell'entità servizio e ID Tenant, attenersi alla procedura hello in [applicazione creare Active Directory e l'entità servizio utilizzando portale](resource-group-create-service-principal-portal.md) o [l'autenticazione di un'entità servizio con Gestione risorse di Azure](resource-group-authenticate-service-principal.md).</span><span class="sxs-lookup"><span data-stu-id="943f5-165">tooget a Service Principal ID, Service Principal Key, and Tenant ID, follow hello procedure in [Create Active Directory application and service principal using portal](resource-group-create-service-principal-portal.md) or [Authenticating a service principal with Azure Resource Manager](resource-group-authenticate-service-principal.md).</span></span>
   9. <span data-ttu-id="943f5-166">Aggiungi hello toohello valori ID dell'entità servizio, la chiave dell'entità servizio e ID Tenant **Aggiungi sottoscrizione di Azure** finestra di dialogo, quindi scegliere hello **OK** pulsante.</span><span class="sxs-lookup"><span data-stu-id="943f5-166">Add hello Service Principal ID, Service Principal Key, and Tenant ID values toohello **Add Azure Subscription** dialog box and then choose hello **OK** button.</span></span>
      
      <span data-ttu-id="943f5-167">È ora disponibile un hello toorun toouse dell'entità servizio valido script di PowerShell di Azure.</span><span class="sxs-lookup"><span data-stu-id="943f5-167">You now have a valid Service Principal toouse toorun hello Azure PowerShell script.</span></span>
5. <span data-ttu-id="943f5-168">Modificare la definizione di compilazione hello e scegliere hello **Azure PowerShell** istruzione di compilazione.</span><span class="sxs-lookup"><span data-stu-id="943f5-168">Edit hello build definition and choose hello **Azure PowerShell** build step.</span></span> <span data-ttu-id="943f5-169">Selezionare la sottoscrizione hello in hello **sottoscrizione Azure** casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="943f5-169">Select hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="943f5-170">(Se la sottoscrizione hello non viene visualizzata, scegliere hello **aggiornamento** hello successivo pulsante **Gestisci** collegamento.)</span><span class="sxs-lookup"><span data-stu-id="943f5-170">(If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.)</span></span> 
   
   ![Configurare l'attività di compilazione di Azure PowerShell][8]
6. <span data-ttu-id="943f5-172">Fornire un toohello percorso script deploy-azureresourcegroup.ps1 PowerShell.</span><span class="sxs-lookup"><span data-stu-id="943f5-172">Provide a path toohello Deploy-AzureResourceGroup.ps1 PowerShell script.</span></span> <span data-ttu-id="943f5-173">toodo, scegliere hello puntini di sospensione (…) pulsante Avanti toohello **percorso dello Script** passare script deploy-azureresourcegroup.ps1 PowerShell toohello hello **script** cartella del progetto, selezionare e quindi scegliere hello **OK** pulsante.</span><span class="sxs-lookup"><span data-stu-id="943f5-173">toodo this, choose hello ellipsis (…) button next toohello **Script Path** box, navigate toohello Deploy-AzureResourceGroup.ps1 PowerShell script in hello **Scripts** folder of your project, select it, and then choose hello **OK** button.</span></span>    
   
   ![Scegliere il percorso tooscript][9]
7. <span data-ttu-id="943f5-175">Dopo aver selezionato script hello, script di aggiornamento hello percorso toohello in modo che viene eseguito dalla hello Build.StagingDirectory (hello stessa directory che *ArtifactsLocation* è impostato su).</span><span class="sxs-lookup"><span data-stu-id="943f5-175">After you select hello script, update hello path toohello script so that it’s run from hello Build.StagingDirectory (hello same directory that *ArtifactsLocation* is set to).</span></span> <span data-ttu-id="943f5-176">Questo scopo, è possibile aggiungere "$(Build.StagingDirectory)/" toohello inizio del percorso dello script hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-176">You can do this by adding “$(Build.StagingDirectory)/” toohello beginning of hello script path.</span></span>
   
    ![Modifica percorso tooscript][10]
8. <span data-ttu-id="943f5-178">In hello **argomenti Script** immettere hello seguenti parametri (in una singola riga).</span><span class="sxs-lookup"><span data-stu-id="943f5-178">In hello **Script Arguments** box, enter hello following parameters (in a single line).</span></span> <span data-ttu-id="943f5-179">Quando si esegue uno script hello in Visual Studio, è possibile visualizzare come utilizza Visual Studio hello parametri hello **Output** finestra.</span><span class="sxs-lookup"><span data-stu-id="943f5-179">When you run hello script in Visual Studio, you can see how VS uses hello parameters in hello **Output** window.</span></span> <span data-ttu-id="943f5-180">È possibile utilizzare come punto di partenza per l'impostazione di valori di parametro hello in dell'istruzione di compilazione.</span><span class="sxs-lookup"><span data-stu-id="943f5-180">You can use this as a starting point for setting hello parameter values in your build step.</span></span>
   
   | <span data-ttu-id="943f5-181">.</span><span class="sxs-lookup"><span data-stu-id="943f5-181">Parameter</span></span> | <span data-ttu-id="943f5-182">Descrizione</span><span class="sxs-lookup"><span data-stu-id="943f5-182">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="943f5-183">-ResourceGroupLocation</span><span class="sxs-lookup"><span data-stu-id="943f5-183">-ResourceGroupLocation</span></span> |<span data-ttu-id="943f5-184">il valore di posizione geografica in cui si trova, ad esempio il gruppo di risorse hello Hello **eastus** o **'Stati Uniti orientali'**.</span><span class="sxs-lookup"><span data-stu-id="943f5-184">hello geo-location value where hello resource group is located, such as **eastus** or **'East US'**.</span></span> <span data-ttu-id="943f5-185">(Aggiungere le virgolette singole se è presente uno spazio nel nome hello). Per altre informazioni, vedere [Aree di Azure](https://azure.microsoft.com/en-us/regions/).</span><span class="sxs-lookup"><span data-stu-id="943f5-185">(Add single quotes if there's a space in hello name.) See [Azure Regions](https://azure.microsoft.com/en-us/regions/) for more information.</span></span> |
   | <span data-ttu-id="943f5-186">-ResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="943f5-186">-ResourceGroupName</span></span> |<span data-ttu-id="943f5-187">nome Hello hello del gruppo di risorse usato per la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="943f5-187">hello name of hello resource group used for this deployment.</span></span> |
   | <span data-ttu-id="943f5-188">-UploadArtifacts</span><span class="sxs-lookup"><span data-stu-id="943f5-188">-UploadArtifacts</span></span> |<span data-ttu-id="943f5-189">Questo parametro, se presente, specifica che gli elementi che devono toobe caricato tooAzure dal sistema locale hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-189">This parameter, when present, specifies that artifacts that need toobe uploaded tooAzure from hello local system.</span></span> <span data-ttu-id="943f5-190">È necessario solo tooset questa opzione se la distribuzione modello richiede elementi aggiuntivi che si desidera toostage hello lo script di PowerShell (ad esempio gli script di configurazione o modelli annidati).</span><span class="sxs-lookup"><span data-stu-id="943f5-190">You only need tooset this switch if your template deployment requires extra artifacts that you want toostage using hello PowerShell script (such as configuration scripts or nested templates).</span></span> |
   | <span data-ttu-id="943f5-191">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="943f5-191">-StorageAccountName</span></span> |<span data-ttu-id="943f5-192">nome Hello hello dell'account di archiviazione usati toostage elementi per la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="943f5-192">hello name of hello storage account used toostage artifacts for this deployment.</span></span> <span data-ttu-id="943f5-193">Questo parametro viene usato solo se si sta eseguendo la gestione temporanea di elementi per la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="943f5-193">This parameter is only used if you are staging artifacts for deployment.</span></span> <span data-ttu-id="943f5-194">Se questo parametro viene specificato, viene creato un nuovo account di archiviazione se script hello non ha creato uno durante una distribuzione precedente.</span><span class="sxs-lookup"><span data-stu-id="943f5-194">If this parameter is supplied, a new storage account is created if hello script has not created one during a previous deployment.</span></span> <span data-ttu-id="943f5-195">Se viene specificato il parametro hello, account di archiviazione hello deve esistere.</span><span class="sxs-lookup"><span data-stu-id="943f5-195">If hello parameter is specified, hello storage account must already exist.</span></span> |
   | <span data-ttu-id="943f5-196">-StorageAccountResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="943f5-196">-StorageAccountResourceGroupName</span></span> |<span data-ttu-id="943f5-197">nome Hello hello del gruppo di risorse associato con account di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-197">hello name of hello resource group associated with hello storage account.</span></span> <span data-ttu-id="943f5-198">Questo parametro è obbligatorio solo se si specifica un valore per il parametro StorageAccountName hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-198">This parameter is required only if you provide a value for hello StorageAccountName parameter.</span></span> |
   | <span data-ttu-id="943f5-199">-TemplateFile</span><span class="sxs-lookup"><span data-stu-id="943f5-199">-TemplateFile</span></span> |<span data-ttu-id="943f5-200">Hello percorso toohello file modello nel progetto di distribuzione di hello il gruppo di risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="943f5-200">hello path toohello template file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="943f5-201">tooenhance flessibilità, usare un percorso per questo parametro è il percorso relativo toohello di hello script di PowerShell anziché un percorso assoluto.</span><span class="sxs-lookup"><span data-stu-id="943f5-201">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="943f5-202">-TemplateParametersFile</span><span class="sxs-lookup"><span data-stu-id="943f5-202">-TemplateParametersFile</span></span> |<span data-ttu-id="943f5-203">Hello percorso toohello file dei parametri nel progetto di distribuzione di hello il gruppo di risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="943f5-203">hello path toohello parameters file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="943f5-204">tooenhance flessibilità, usare un percorso per questo parametro è il percorso relativo toohello di hello script di PowerShell anziché un percorso assoluto.</span><span class="sxs-lookup"><span data-stu-id="943f5-204">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="943f5-205">-ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="943f5-205">-ArtifactStagingDirectory</span></span> |<span data-ttu-id="943f5-206">Questo parametro consente di script di PowerShell hello SA cartella hello in cui devono essere copiati i file binari del progetto hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-206">This parameter lets hello PowerShell script know hello folder from where hello project’s binary files should be copied.</span></span> <span data-ttu-id="943f5-207">Questo valore sostituisce il valore di predefinito hello utilizzato da uno script di PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-207">This value overrides hello default value used by hello PowerShell script.</span></span> <span data-ttu-id="943f5-208">Per utilizzare Visual Studio Team Services, impostare il valore di hello: $(Build.StagingDirectory) - ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="943f5-208">For VS Team Services use, set hello value to: -ArtifactStagingDirectory $(Build.StagingDirectory)</span></span> |
   
   <span data-ttu-id="943f5-209">Ecco un esempio di argomenti dello script, la riga è interrotta per facilitare la lettura:</span><span class="sxs-lookup"><span data-stu-id="943f5-209">Here’s a script arguments example (line broken for readability):</span></span>
   
   ```    
   -ResourceGroupName 'MyGroup' -ResourceGroupLocation 'eastus' -TemplateFile '..\templates\azuredeploy.json' 
   -TemplateParametersFile '..\templates\azuredeploy.parameters.json' -UploadArtifacts -StorageAccountName 'mystorageacct' 
   –StorageAccountResourceGroupName 'Default-Storage-EastUS' -ArtifactStagingDirectory '$(Build.StagingDirectory)'    
   ```
   
   <span data-ttu-id="943f5-210">Al termine, hello **argomenti Script** casella dovrebbe essere simile a hello seguente elenco:</span><span class="sxs-lookup"><span data-stu-id="943f5-210">When you’re finished, hello **Script Arguments** box should resemble hello following list:</span></span>
   
   ![Argomenti script][11]
9. <span data-ttu-id="943f5-212">Dopo aver aggiunto tutti gli elementi richiesti toohello Azure PowerShell istruzione di compilazione di hello, scegliere hello **coda** compilare pulsante toobuild hello progetto.</span><span class="sxs-lookup"><span data-stu-id="943f5-212">After you’ve added all hello required items toohello Azure PowerShell build step, choose hello **Queue** build button toobuild hello project.</span></span> <span data-ttu-id="943f5-213">Hello **compilare** schermata mostra l'output di hello dalla hello script di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="943f5-213">hello **Build** screen shows hello output from hello PowerShell script.</span></span>

### <a name="detailed-walkthrough-for-option-2"></a><span data-ttu-id="943f5-214">Procedura dettagliata per l'opzione 2</span><span class="sxs-lookup"><span data-stu-id="943f5-214">Detailed walkthrough for Option 2</span></span>
<span data-ttu-id="943f5-215">Hello nelle procedure seguenti consentono di eseguire distribuzione continua tooconfigure necessari passaggi di hello in Visual Studio Team Services con attività predefinite di hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-215">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using hello built-in tasks.</span></span>

1. <span data-ttu-id="943f5-216">Modificare le Visual Studio Team Services compilazione definizione tooadd due nuove istruzioni di compilazione.</span><span class="sxs-lookup"><span data-stu-id="943f5-216">Edit your VS Team Services build definition tooadd two new build steps.</span></span> <span data-ttu-id="943f5-217">Selezionare la definizione di compilazione hello in hello **le definizioni di compilazione** categoria e quindi scegliere hello **modifica** collegamento.</span><span class="sxs-lookup"><span data-stu-id="943f5-217">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![Modificare la definizione di compilazione][12]
2. <span data-ttu-id="943f5-219">Istruzioni di compilazione hello Aggiungi nuova definizione di compilazione toohello utilizzando hello **Aggiungi istruzione di compilazione...**</span><span class="sxs-lookup"><span data-stu-id="943f5-219">Add hello new build steps toohello build definition using hello **Add build step…**</span></span> <span data-ttu-id="943f5-220">.</span><span class="sxs-lookup"><span data-stu-id="943f5-220">button.</span></span>
   
   ![Aggiungere un'istruzione di compilazione][13]
3. <span data-ttu-id="943f5-222">Scegliere hello **Distribuisci** categoria attività, seleziona hello **copia dei File di Azure** attività e quindi scegliere il relativo **Aggiungi** pulsante.</span><span class="sxs-lookup"><span data-stu-id="943f5-222">Choose hello **Deploy** task category, select hello **Azure File Copy** task, and then choose its **Add** button.</span></span>
   
   ![Aggiungere l'attività Copia dei file di Azure][14]
4. <span data-ttu-id="943f5-224">Scegliere hello **distribuzione gruppo di risorse di Azure** attività, quindi scegliere il relativo **Aggiungi** pulsante e quindi **Chiudi** hello **attività catalogo**.</span><span class="sxs-lookup"><span data-stu-id="943f5-224">Choose hello **Azure Resource Group Deployment** task, then choose its **Add** button and then **Close** hello **Task Catalog**.</span></span>
   
   ![Aggiungere attività Distribuzione gruppo di risorse di Azure][15]
5. <span data-ttu-id="943f5-226">Scegliere hello **copia dei File di Azure** compilare i relativi valori e delle attività.</span><span class="sxs-lookup"><span data-stu-id="943f5-226">Choose hello **Azure File Copy** task and fill in its values.</span></span>
   
   <span data-ttu-id="943f5-227">Se si dispone già di un endpoint di servizio di Azure aggiunta tooVS Team Services, scegliere la sottoscrizione hello in hello **sottoscrizione Azure** casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="943f5-227">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="943f5-228">Se non si dispone di una sottoscrizione vedere l'[opzione 1](#detailed-walkthrough-for-option-1) per istruzioni sull'impostazione di una sottoscrizione in VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="943f5-228">If you do not have a subscription, see [Option 1](#detailed-walkthrough-for-option-1) for instructions on setting one up in VS Team Services.</span></span>
   
   * <span data-ttu-id="943f5-229">Origine: immettere **$(Build.StagingDirectory)**</span><span class="sxs-lookup"><span data-stu-id="943f5-229">Source - enter **$(Build.StagingDirectory)**</span></span>
   * <span data-ttu-id="943f5-230">Tipo di connessione ad Azure: selezionare **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="943f5-230">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="943f5-231">Sottoscrizione di Azure RM - sottoscrizione selezionare hello per account di archiviazione hello da toouse in hello **sottoscrizione Azure** casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="943f5-231">Azure RM Subscription - select hello subscription for hello storage account you want toouse in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="943f5-232">Se la sottoscrizione hello non viene visualizzata, scegliere hello **aggiornamento** hello successivo pulsante **Gestisci** collegamento.</span><span class="sxs-lookup"><span data-stu-id="943f5-232">If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.</span></span>
   * <span data-ttu-id="943f5-233">Tipo di destinazione: selezionare **Blob di Azure**</span><span class="sxs-lookup"><span data-stu-id="943f5-233">Destination Type - select **Azure Blob**</span></span>
   * <span data-ttu-id="943f5-234">RM Account di archiviazione - selezione dell'account di archiviazione hello si vorrebbe toouse per gli elementi di gestione temporanea</span><span class="sxs-lookup"><span data-stu-id="943f5-234">RM Storage Account - select hello storage account you would like toouse for staging artifacts</span></span>
   * <span data-ttu-id="943f5-235">Nome del contenitore - immettere il nome di hello del contenitore hello desideri toouse per la gestione temporanea; può essere qualsiasi nome di contenitore valido, ma utilizzare una definizione di compilazione toothis dedicato</span><span class="sxs-lookup"><span data-stu-id="943f5-235">Container Name - enter hello name of hello container you would like toouse for staging; it can be any valid container name, but use one dedicated toothis build definition</span></span>
   
   <span data-ttu-id="943f5-236">Per i valori di output di hello:</span><span class="sxs-lookup"><span data-stu-id="943f5-236">For hello output values:</span></span>
   
   * <span data-ttu-id="943f5-237">URI contenitore di archiviazione: immettere **artifactsLocation**</span><span class="sxs-lookup"><span data-stu-id="943f5-237">Storage Container URI - enter **artifactsLocation**</span></span>
   * <span data-ttu-id="943f5-238">Token di firma di accesso condiviso contenitore di archiviazione: immettere **artifactsLocationSasToken**</span><span class="sxs-lookup"><span data-stu-id="943f5-238">Storage Container SAS Token - enter **artifactsLocationSasToken**</span></span>
   
   ![Configurare l'attività Copia dei file di Azure][16]
6. <span data-ttu-id="943f5-240">Scegliere hello **distribuzione gruppo di risorse di Azure** istruzione di compilazione, quindi compilare i relativi valori.</span><span class="sxs-lookup"><span data-stu-id="943f5-240">Choose hello **Azure Resource Group Deployment** build step and then fill in its values.</span></span>
   
   * <span data-ttu-id="943f5-241">Tipo di connessione ad Azure: selezionare **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="943f5-241">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="943f5-242">Sottoscrizione di Azure RM - sottoscrizione hello selezionare per la distribuzione in hello **sottoscrizione Azure** casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="943f5-242">Azure RM Subscription - select hello subscription for deployment in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="943f5-243">In genere si tratterà hello stessa sottoscrizione utilizzata nel passaggio precedente hello</span><span class="sxs-lookup"><span data-stu-id="943f5-243">This will usually be hello same subscription used in hello previous step</span></span>
   * <span data-ttu-id="943f5-244">Azione - selezionare **Creare o aggiornare un gruppo di risorse**</span><span class="sxs-lookup"><span data-stu-id="943f5-244">Action - select **Create or Update Resource Group**</span></span>
   * <span data-ttu-id="943f5-245">Gruppo di risorse - selezionare un gruppo di risorse o immettere nome hello del nuovo gruppo di risorse per la distribuzione di hello</span><span class="sxs-lookup"><span data-stu-id="943f5-245">Resource Group - select a resource group or enter hello name of a new resource group for hello deployment</span></span>
   * <span data-ttu-id="943f5-246">Posizione - hello selezionare per il gruppo di risorse hello</span><span class="sxs-lookup"><span data-stu-id="943f5-246">Location - select hello location for hello resource group</span></span>
   * <span data-ttu-id="943f5-247">Modello - immettere hello percorso e nome di hello modello toobe distribuito anteponendo **$(Build.StagingDirectory)**, ad esempio: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span><span class="sxs-lookup"><span data-stu-id="943f5-247">Template - enter hello path and name of hello template toobe deployed prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span></span>
   * <span data-ttu-id="943f5-248">Parametri di modello, immettere il percorso di hello e nome di hello parametri toobe utilizzato, anteponendo **$(Build.StagingDirectory)**, ad esempio: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span><span class="sxs-lookup"><span data-stu-id="943f5-248">Template Parameters - enter hello path and name of hello parameters toobe used, prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span></span>
   * <span data-ttu-id="943f5-249">Eseguire l'override di parametri di modello - immettere o copiare e incollare hello seguente codice:</span><span class="sxs-lookup"><span data-stu-id="943f5-249">Override Template Parameters - enter or copy and paste hello following code:</span></span>
     
     ```    
     -_artifactsLocation $(artifactsLocation) -_artifactsLocationSasToken (ConvertTo-SecureString -String "$(artifactsLocationSasToken)" -AsPlainText -Force)
     ```
     ![Configurare l'attività Distribuzione gruppo di risorse di Azure][17]
7. <span data-ttu-id="943f5-251">Dopo aver aggiunto tutti gli elementi di hello richiesto, salvare la definizione di compilazione hello e scegliere **Accoda nuova compilazione** nella parte superiore di hello.</span><span class="sxs-lookup"><span data-stu-id="943f5-251">After you’ve added all hello required items, save hello build definition and choose **Queue new build** at hello top.</span></span>

## <a name="next-steps"></a><span data-ttu-id="943f5-252">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="943f5-252">Next steps</span></span>
<span data-ttu-id="943f5-253">Lettura [Panoramica di gestione risorse di Azure](azure-resource-manager/resource-group-overview.md) toolearn ulteriori informazioni su Gestione risorse di Azure e i gruppi di risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="943f5-253">Read [Azure Resource Manager overview](azure-resource-manager/resource-group-overview.md) toolearn more about Azure Resource Manager and Azure resource groups.</span></span>

[0]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough1.png
[1]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough2.png
[2]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough3.png
[3]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough4.png
[4]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough5.png
[5]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough6.png
[8]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough9.png
[9]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough10.png
[10]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough11b.png
[11]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough12.png
[12]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough13.png
[13]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough14.png
[14]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough15.png
[15]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough16.png
[16]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough17.png
[17]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough18.png
