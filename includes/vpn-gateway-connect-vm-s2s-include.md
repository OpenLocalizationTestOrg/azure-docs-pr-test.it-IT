<span data-ttu-id="f9e05-101">È possibile connettersi a una VM distribuita nella rete virtuale creando una connessione Desktop remoto alla VM.</span><span class="sxs-lookup"><span data-stu-id="f9e05-101">You can connect to a VM that is deployed to your VNet by creating a Remote Desktop Connection to your VM.</span></span> <span data-ttu-id="f9e05-102">Il modo migliore per verificare inizialmente che è possibile connettersi alla VM consiste nel connettersi usando il rispettivo indirizzo IP privato, invece del nome del computer.</span><span class="sxs-lookup"><span data-stu-id="f9e05-102">The best way to initially verify that you can connect to your VM is to connect by using its private IP address, rather than computer name.</span></span> <span data-ttu-id="f9e05-103">Ciò consente di verificare se è possibile connettersi, non se la risoluzione dei nomi è configurata correttamente.</span><span class="sxs-lookup"><span data-stu-id="f9e05-103">That way, you are testing to see if you can connect, not whether name resolution is configured properly.</span></span>

1. <span data-ttu-id="f9e05-104">Individuare l'indirizzo IP privato.</span><span class="sxs-lookup"><span data-stu-id="f9e05-104">Locate the private IP address.</span></span> <span data-ttu-id="f9e05-105">È possibile trovare l'indirizzo IP privato di una macchina virtuale in più modi.</span><span class="sxs-lookup"><span data-stu-id="f9e05-105">You can find the private IP address of a VM in multiple ways.</span></span> <span data-ttu-id="f9e05-106">Di seguito sono illustrate le procedure da seguire se si usa il portale di Azure o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f9e05-106">Below, we show the steps for the Azure portal and for PowerShell.</span></span>

  - <span data-ttu-id="f9e05-107">Portale di Azure: individuare la macchina virtuale nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="f9e05-107">Azure portal - Locate your virtual machine in the Azure portal.</span></span> <span data-ttu-id="f9e05-108">Visualizzare le proprietà per la VM.</span><span class="sxs-lookup"><span data-stu-id="f9e05-108">View the properties for the VM.</span></span> <span data-ttu-id="f9e05-109">Viene elencato l'indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="f9e05-109">The private IP address is listed.</span></span>

  - <span data-ttu-id="f9e05-110">PowerShell: usare l'esempio per visualizzare un elenco di macchine virtuali e di indirizzi IP privati dai gruppi di risorse.</span><span class="sxs-lookup"><span data-stu-id="f9e05-110">PowerShell - Use the example to view a list of VMs and private IP addresses from your resource groups.</span></span> <span data-ttu-id="f9e05-111">Non è necessario modificare questo esempio prima di usarlo.</span><span class="sxs-lookup"><span data-stu-id="f9e05-111">You don't need to modify this example before using it.</span></span>

    ```powershell
    $VMs = Get-AzureRmVM
    $Nics = Get-AzureRmNetworkInterface | Where VirtualMachine -ne $null

    foreach($Nic in $Nics)
    {
      $VM = $VMs | Where-Object -Property Id -eq $Nic.VirtualMachine.Id
      $Prv = $Nic.IpConfigurations | Select-Object -ExpandProperty PrivateIpAddress
      $Alloc = $Nic.IpConfigurations | Select-Object -ExpandProperty PrivateIpAllocationMethod
      Write-Output "$($VM.Name): $Prv,$Alloc"
    }
    ```

2. <span data-ttu-id="f9e05-112">Verificare di essere connessi alla rete virtuale usando la connessione VPN.</span><span class="sxs-lookup"><span data-stu-id="f9e05-112">Verify that you are connected to your VNet using the VPN connection.</span></span>
3. <span data-ttu-id="f9e05-113">Aprire la **connessione Desktop remoto** digitando "RDP" o "Connessione Desktop remoto" nella casella di ricerca sulla barra delle applicazioni, quindi selezionare Connessione Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="f9e05-113">Open **Remote Desktop Connection** by typing "RDP" or "Remote Desktop Connection" in the search box on the taskbar, then select Remote Desktop Connection.</span></span> <span data-ttu-id="f9e05-114">È anche possibile aprire una connessione Desktop remoto usando il comando "mstsc" in PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f9e05-114">You can also open Remote Desktop Connection using the 'mstsc' command in PowerShell.</span></span> 
4. <span data-ttu-id="f9e05-115">In Connessione Desktop remoto immettere l'indirizzo IP privato della VM.</span><span class="sxs-lookup"><span data-stu-id="f9e05-115">In Remote Desktop Connection, enter the private IP address of the VM.</span></span> <span data-ttu-id="f9e05-116">È possibile fare clic su "Mostra opzioni" per modificare altre impostazioni e quindi connettersi.</span><span class="sxs-lookup"><span data-stu-id="f9e05-116">You can click "Show Options" to adjust additional settings, then connect.</span></span>

### <a name="to-troubleshoot-an-rdp-connection-to-a-vm"></a><span data-ttu-id="f9e05-117">Per risolvere i problemi di una connessione RDP a una VM</span><span class="sxs-lookup"><span data-stu-id="f9e05-117">To troubleshoot an RDP connection to a VM</span></span>

<span data-ttu-id="f9e05-118">Se si verificano problemi di connessione a una macchina virtuale tramite la connessione VPN, controllare gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9e05-118">If you are having trouble connecting to a virtual machine over your VPN connection, check the following:</span></span>

- <span data-ttu-id="f9e05-119">Verificare che la connessione VPN sia attiva.</span><span class="sxs-lookup"><span data-stu-id="f9e05-119">Verify that your VPN connection is successful.</span></span>
- <span data-ttu-id="f9e05-120">Verificare che venga effettuata la connessione all'indirizzo IP privato per la VM.</span><span class="sxs-lookup"><span data-stu-id="f9e05-120">Verify that you are connecting to the private IP address for the VM.</span></span>
- <span data-ttu-id="f9e05-121">Se è possibile connettersi alla VM usando l'indirizzo IP privato, ma non il nome del computer, verificare di avere configurato correttamente il valore per DNS.</span><span class="sxs-lookup"><span data-stu-id="f9e05-121">If you can connect to the VM using the private IP address, but not the computer name, verify that you have configured DNS properly.</span></span> <span data-ttu-id="f9e05-122">Per altre informazioni sul funzionamento della risoluzione dei nomi per le macchine virtuali, vedere [Risoluzione dei nomi per le macchine virtuali](../articles/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md).</span><span class="sxs-lookup"><span data-stu-id="f9e05-122">For more information about how name resolution works for VMs, see [Name Resolution for VMs](../articles/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md).</span></span>
- <span data-ttu-id="f9e05-123">Per altre informazioni sulle connessioni RDP, vedere [Risolvere i problemi delle connessioni Desktop remoto a una macchina virtuale](../articles/virtual-machines/windows/troubleshoot-rdp-connection.md).</span><span class="sxs-lookup"><span data-stu-id="f9e05-123">For more information about RDP connections, see [Troubleshoot Remote Desktop connections to a VM](../articles/virtual-machines/windows/troubleshoot-rdp-connection.md).</span></span>