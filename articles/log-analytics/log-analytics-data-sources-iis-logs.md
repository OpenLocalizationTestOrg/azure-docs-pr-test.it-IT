---
title: aaaIIS registra nel Log Analitica | Documenti Microsoft
description: "Internet Information Services (IIS) archivia le attività dell'utente in file log che possono essere raccolti da Log Analytics.  In questo articolo viene descritto come tooconfigure raccolta di log di IIS e i dettagli del record di hello che ha creato nel repository OMS hello."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: cec5ff0a-01f5-4262-b2e8-e3db7b7467d2
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/12/2017
ms.author: bwren
ms.openlocfilehash: c5575351090cdabaf651bcb49867794ee3a4b6e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="iis-logs-in-log-analytics"></a><span data-ttu-id="5cae3-104">Log di IIS in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="5cae3-104">IIS logs in Log Analytics</span></span>
<span data-ttu-id="5cae3-105">Internet Information Services (IIS) archivia le attività dell'utente in file log che possono essere raccolti da Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="5cae3-105">Internet Information Services (IIS) stores user activity in log files that can be collected by Log Analytics.</span></span>  

![Log di IIS](media/log-analytics-data-sources-iis-logs/overview.png)

## <a name="configuring-iis-logs"></a><span data-ttu-id="5cae3-107">Configurazione dei log di IIS</span><span class="sxs-lookup"><span data-stu-id="5cae3-107">Configuring IIS logs</span></span>
<span data-ttu-id="5cae3-108">Log Analytics raccoglie le voci dai file log creati da IIS, quindi è necessario [configurare la registrazione in IIS](https://technet.microsoft.com/library/hh831775.aspx).</span><span class="sxs-lookup"><span data-stu-id="5cae3-108">Log Analytics collects entries from log files created by IIS, so you must [configure IIS for logging](https://technet.microsoft.com/library/hh831775.aspx).</span></span>

<span data-ttu-id="5cae3-109">Log Analytics supporta solo i file log IIS archiviati in formato W3C e non supporta campi personalizzati o IIS Advanced Logging.</span><span class="sxs-lookup"><span data-stu-id="5cae3-109">Log Analytics only supports IIS log files stored in W3C format and does not support custom fields or IIS Advanced Logging.</span></span>  
<span data-ttu-id="5cae3-110">Log Analytics non raccoglie log in formato nativo NCSA o IIS.</span><span class="sxs-lookup"><span data-stu-id="5cae3-110">Log Analytics does not collect logs in NCSA or IIS native format.</span></span>

<span data-ttu-id="5cae3-111">Configurare i log di IIS in Log Analitica da hello [menu dati nelle impostazioni di registro Analitica](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="5cae3-111">Configure IIS logs in Log Analytics from hello [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>  <span data-ttu-id="5cae3-112">Non occorre selezionare nessuna impostazione oltre a **Raccogli i file di log IIS in formato W3C**.</span><span class="sxs-lookup"><span data-stu-id="5cae3-112">There is no configuration required other than selecting **Collect W3C format IIS log files**.</span></span>

<span data-ttu-id="5cae3-113">È consigliabile quando si abilita la raccolta di log IIS, è necessario configurare impostazione rollover del log IIS hello in ogni server.</span><span class="sxs-lookup"><span data-stu-id="5cae3-113">We recommend that when you enable IIS log collection, you should configure hello IIS log rollover setting on each server.</span></span>

## <a name="data-collection"></a><span data-ttu-id="5cae3-114">Raccolta dei dati</span><span class="sxs-lookup"><span data-stu-id="5cae3-114">Data collection</span></span>
<span data-ttu-id="5cae3-115">Log Analytics raccoglie le voci dei log di IIS da ogni origine connessa a intervalli di circa 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="5cae3-115">Log Analytics collects IIS log entries from each connected source approximately every 15 minutes.</span></span>  <span data-ttu-id="5cae3-116">agente Hello registra al suo posto in ogni log di eventi raccolti da.</span><span class="sxs-lookup"><span data-stu-id="5cae3-116">hello agent records its place in each event log that it collects from.</span></span>  <span data-ttu-id="5cae3-117">Se l'agente hello è offline, quindi Log Analitica raccoglie gli eventi dall'ultimo libero, anche se tali eventi sono stati creati mentre hello agent era offline.</span><span class="sxs-lookup"><span data-stu-id="5cae3-117">If hello agent goes offline, then Log Analytics collects events from where it last left off, even if those events were created while hello agent was offline.</span></span>

## <a name="iis-log-record-properties"></a><span data-ttu-id="5cae3-118">Proprietà dei record del log di IIS</span><span class="sxs-lookup"><span data-stu-id="5cae3-118">IIS log record properties</span></span>
<span data-ttu-id="5cae3-119">I record di log IIS sono un tipo di **W3CIISLog** e dispone di proprietà hello in hello nella tabella seguente:</span><span class="sxs-lookup"><span data-stu-id="5cae3-119">IIS log records have a type of **W3CIISLog** and have hello properties in hello following table:</span></span>

| <span data-ttu-id="5cae3-120">Proprietà</span><span class="sxs-lookup"><span data-stu-id="5cae3-120">Property</span></span> | <span data-ttu-id="5cae3-121">Descrizione</span><span class="sxs-lookup"><span data-stu-id="5cae3-121">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="5cae3-122">Computer</span><span class="sxs-lookup"><span data-stu-id="5cae3-122">Computer</span></span> |<span data-ttu-id="5cae3-123">Nome del computer hello hello eventi raccolti da.</span><span class="sxs-lookup"><span data-stu-id="5cae3-123">Name of hello computer that hello event was collected from.</span></span> |
| <span data-ttu-id="5cae3-124">cIP</span><span class="sxs-lookup"><span data-stu-id="5cae3-124">cIP</span></span> |<span data-ttu-id="5cae3-125">Indirizzo IP del client hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-125">IP address of hello client.</span></span> |
| <span data-ttu-id="5cae3-126">csMethod</span><span class="sxs-lookup"><span data-stu-id="5cae3-126">csMethod</span></span> |<span data-ttu-id="5cae3-127">Metodo della richiesta di hello, ad esempio GET o POST.</span><span class="sxs-lookup"><span data-stu-id="5cae3-127">Method of hello request such as GET or POST.</span></span> |
| <span data-ttu-id="5cae3-128">csReferer</span><span class="sxs-lookup"><span data-stu-id="5cae3-128">csReferer</span></span> |<span data-ttu-id="5cae3-129">Sito che hello utente seguito un collegamento dal sito corrente toohello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-129">Site that hello user followed a link from toohello current site.</span></span> |
| <span data-ttu-id="5cae3-130">csUserAgent</span><span class="sxs-lookup"><span data-stu-id="5cae3-130">csUserAgent</span></span> |<span data-ttu-id="5cae3-131">Tipo di browser del client hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-131">Browser type of hello client.</span></span> |
| <span data-ttu-id="5cae3-132">csUserName</span><span class="sxs-lookup"><span data-stu-id="5cae3-132">csUserName</span></span> |<span data-ttu-id="5cae3-133">Nome di hello autenticato l'utente che ha avuto accesso server hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-133">Name of hello authenticated user that accessed hello server.</span></span> <span data-ttu-id="5cae3-134">Gli utenti anonimi sono indicati da un trattino.</span><span class="sxs-lookup"><span data-stu-id="5cae3-134">Anonymous users are indicated by a hyphen.</span></span> |
| <span data-ttu-id="5cae3-135">csUriStem</span><span class="sxs-lookup"><span data-stu-id="5cae3-135">csUriStem</span></span> |<span data-ttu-id="5cae3-136">Destinazione della richiesta di hello, ad esempio una pagina web.</span><span class="sxs-lookup"><span data-stu-id="5cae3-136">Target of hello request such as a web page.</span></span> |
| <span data-ttu-id="5cae3-137">csUriQuery</span><span class="sxs-lookup"><span data-stu-id="5cae3-137">csUriQuery</span></span> |<span data-ttu-id="5cae3-138">Query, se presente, tale client hello cercava tooperform.</span><span class="sxs-lookup"><span data-stu-id="5cae3-138">Query, if any, that hello client was trying tooperform.</span></span> |
| <span data-ttu-id="5cae3-139">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="5cae3-139">ManagementGroupName</span></span> |<span data-ttu-id="5cae3-140">Nome del gruppo di gestione di hello per gli agenti di Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="5cae3-140">Name of hello management group for Operations Manager agents.</span></span>  <span data-ttu-id="5cae3-141">Per gli altri agenti, corrisponde ad AOI-\<ID area di lavoro\></span><span class="sxs-lookup"><span data-stu-id="5cae3-141">For other agents, this is AOI-\<workspace ID\></span></span> |
| <span data-ttu-id="5cae3-142">RemoteIPCountry</span><span class="sxs-lookup"><span data-stu-id="5cae3-142">RemoteIPCountry</span></span> |<span data-ttu-id="5cae3-143">Paese dell'indirizzo IP di hello del client hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-143">Country of hello IP address of hello client.</span></span> |
| <span data-ttu-id="5cae3-144">RemoteIPLatitude</span><span class="sxs-lookup"><span data-stu-id="5cae3-144">RemoteIPLatitude</span></span> |<span data-ttu-id="5cae3-145">Latitudine dell'indirizzo IP del client hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-145">Latitude of hello client IP address.</span></span> |
| <span data-ttu-id="5cae3-146">RemoteIPLongitude</span><span class="sxs-lookup"><span data-stu-id="5cae3-146">RemoteIPLongitude</span></span> |<span data-ttu-id="5cae3-147">Longitudine dell'indirizzo IP del client hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-147">Longitude of hello client IP address.</span></span> |
| <span data-ttu-id="5cae3-148">scStatus</span><span class="sxs-lookup"><span data-stu-id="5cae3-148">scStatus</span></span> |<span data-ttu-id="5cae3-149">Codice stato HTTP.</span><span class="sxs-lookup"><span data-stu-id="5cae3-149">HTTP status code.</span></span> |
| <span data-ttu-id="5cae3-150">scSubStatus</span><span class="sxs-lookup"><span data-stu-id="5cae3-150">scSubStatus</span></span> |<span data-ttu-id="5cae3-151">Codice errore dello stato secondario.</span><span class="sxs-lookup"><span data-stu-id="5cae3-151">Substatus error code.</span></span> |
| <span data-ttu-id="5cae3-152">scWin32Status</span><span class="sxs-lookup"><span data-stu-id="5cae3-152">scWin32Status</span></span> |<span data-ttu-id="5cae3-153">Codice di stato Windows.</span><span class="sxs-lookup"><span data-stu-id="5cae3-153">Windows status code.</span></span> |
| <span data-ttu-id="5cae3-154">sIP</span><span class="sxs-lookup"><span data-stu-id="5cae3-154">sIP</span></span> |<span data-ttu-id="5cae3-155">Indirizzo IP del server web hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-155">IP address of hello web server.</span></span> |
| <span data-ttu-id="5cae3-156">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="5cae3-156">SourceSystem</span></span> |<span data-ttu-id="5cae3-157">OpsMgr</span><span class="sxs-lookup"><span data-stu-id="5cae3-157">OpsMgr</span></span> |
| <span data-ttu-id="5cae3-158">sPort</span><span class="sxs-lookup"><span data-stu-id="5cae3-158">sPort</span></span> |<span data-ttu-id="5cae3-159">Porta su hello server hello client connesso.</span><span class="sxs-lookup"><span data-stu-id="5cae3-159">Port on hello server hello client connected to.</span></span> |
| <span data-ttu-id="5cae3-160">sSiteName</span><span class="sxs-lookup"><span data-stu-id="5cae3-160">sSiteName</span></span> |<span data-ttu-id="5cae3-161">Nome del sito IIS hello.</span><span class="sxs-lookup"><span data-stu-id="5cae3-161">Name of hello IIS site.</span></span> |
| <span data-ttu-id="5cae3-162">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="5cae3-162">TimeGenerated</span></span> |<span data-ttu-id="5cae3-163">Data e ora voce hello è stata registrata.</span><span class="sxs-lookup"><span data-stu-id="5cae3-163">Date and time hello entry was logged.</span></span> |
| <span data-ttu-id="5cae3-164">TimeTaken</span><span class="sxs-lookup"><span data-stu-id="5cae3-164">TimeTaken</span></span> |<span data-ttu-id="5cae3-165">Richiesta di lunghezza di hello tooprocess tempo in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="5cae3-165">Length of time tooprocess hello request in milliseconds.</span></span> |

## <a name="log-searches-with-iis-logs"></a><span data-ttu-id="5cae3-166">Ricerche nei log con i log di IIS</span><span class="sxs-lookup"><span data-stu-id="5cae3-166">Log searches with IIS logs</span></span>
<span data-ttu-id="5cae3-167">Hello nella tabella seguente vengono forniti esempi di query di log che recuperano i record di log IIS.</span><span class="sxs-lookup"><span data-stu-id="5cae3-167">hello following table provides different examples of log queries that retrieve IIS log records.</span></span>

| <span data-ttu-id="5cae3-168">Query</span><span class="sxs-lookup"><span data-stu-id="5cae3-168">Query</span></span> | <span data-ttu-id="5cae3-169">Descrizione</span><span class="sxs-lookup"><span data-stu-id="5cae3-169">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="5cae3-170">Type=W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="5cae3-170">Type=W3CIISLog</span></span> |<span data-ttu-id="5cae3-171">Tutti i record del log di IIS.</span><span class="sxs-lookup"><span data-stu-id="5cae3-171">All IIS log records.</span></span> |
| <span data-ttu-id="5cae3-172">Type=W3CIISLog scStatus=500</span><span class="sxs-lookup"><span data-stu-id="5cae3-172">Type=W3CIISLog scStatus=500</span></span> |<span data-ttu-id="5cae3-173">Tutti i record del log IIS con stato restituito pari a 500.</span><span class="sxs-lookup"><span data-stu-id="5cae3-173">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="5cae3-174">Tipo=W3CIISLog &#124; Measure count() by cIP</span><span class="sxs-lookup"><span data-stu-id="5cae3-174">Type=W3CIISLog &#124; Measure count() by cIP</span></span> |<span data-ttu-id="5cae3-175">Numero di voci del log di IIS in base all'indirizzo IP del client.</span><span class="sxs-lookup"><span data-stu-id="5cae3-175">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="5cae3-176">Tipo=W3CIISLog csHost="www.contoso.com" &#124; Measure count() by csUriStem</span><span class="sxs-lookup"><span data-stu-id="5cae3-176">Type=W3CIISLog csHost="www.contoso.com" &#124; Measure count() by csUriStem</span></span> |<span data-ttu-id="5cae3-177">Conteggio di IIS voci dall'URL per hello host www.contoso.com di log.</span><span class="sxs-lookup"><span data-stu-id="5cae3-177">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="5cae3-178">Tipo=W3CIISLog &#124; Measure Sum(csBytes) by Computer &#124; top 500000</span><span class="sxs-lookup"><span data-stu-id="5cae3-178">Type=W3CIISLog &#124; Measure Sum(csBytes) by Computer &#124; top 500000</span></span> |<span data-ttu-id="5cae3-179">Numero totale di byte ricevuti da ogni computer che esegue IIS.</span><span class="sxs-lookup"><span data-stu-id="5cae3-179">Total bytes received by each IIS computer.</span></span> |

>[!NOTE]
> <span data-ttu-id="5cae3-180">Se l'area di lavoro è stato aggiornato toohello [Analitica Log nuovo linguaggio di query](log-analytics-log-search-upgrade.md), quindi hello sopra query modificherebbe toohello seguente.</span><span class="sxs-lookup"><span data-stu-id="5cae3-180">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="5cae3-181">Query</span><span class="sxs-lookup"><span data-stu-id="5cae3-181">Query</span></span> | <span data-ttu-id="5cae3-182">Descrizione</span><span class="sxs-lookup"><span data-stu-id="5cae3-182">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="5cae3-183">W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="5cae3-183">W3CIISLog</span></span> |<span data-ttu-id="5cae3-184">Tutti i record del log di IIS.</span><span class="sxs-lookup"><span data-stu-id="5cae3-184">All IIS log records.</span></span> |
| <span data-ttu-id="5cae3-185">W3CIISLog &#124; where scStatus==500</span><span class="sxs-lookup"><span data-stu-id="5cae3-185">W3CIISLog &#124; where scStatus==500</span></span> |<span data-ttu-id="5cae3-186">Tutti i record del log IIS con stato restituito pari a 500.</span><span class="sxs-lookup"><span data-stu-id="5cae3-186">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="5cae3-187">W3CIISLog &#124; summarize count() by cIP</span><span class="sxs-lookup"><span data-stu-id="5cae3-187">W3CIISLog &#124; summarize count() by cIP</span></span> |<span data-ttu-id="5cae3-188">Numero di voci del log di IIS in base all'indirizzo IP del client.</span><span class="sxs-lookup"><span data-stu-id="5cae3-188">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="5cae3-189">W3CIISLog &#124; where csHost=="www.contoso.com" &#124; summarize count() by csUriStem</span><span class="sxs-lookup"><span data-stu-id="5cae3-189">W3CIISLog &#124; where csHost=="www.contoso.com" &#124; summarize count() by csUriStem</span></span> |<span data-ttu-id="5cae3-190">Conteggio di IIS voci dall'URL per hello host www.contoso.com di log.</span><span class="sxs-lookup"><span data-stu-id="5cae3-190">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="5cae3-191">W3CIISLog &#124; summarize sum(csBytes) by Computer &#124; take 500000</span><span class="sxs-lookup"><span data-stu-id="5cae3-191">W3CIISLog &#124; summarize sum(csBytes) by Computer &#124; take 500000</span></span> |<span data-ttu-id="5cae3-192">Numero totale di byte ricevuti da ogni computer che esegue IIS.</span><span class="sxs-lookup"><span data-stu-id="5cae3-192">Total bytes received by each IIS computer.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="5cae3-193">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="5cae3-193">Next steps</span></span>
* <span data-ttu-id="5cae3-194">Configurare altri toocollect Log Analitica [origini dati](log-analytics-data-sources.md) per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="5cae3-194">Configure Log Analytics toocollect other [data sources](log-analytics-data-sources.md) for analysis.</span></span>
* <span data-ttu-id="5cae3-195">Informazioni su [log ricerche](log-analytics-log-searches.md) tooanalyze hello dati raccolti da origini dati e le soluzioni.</span><span class="sxs-lookup"><span data-stu-id="5cae3-195">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
* <span data-ttu-id="5cae3-196">Configurare gli avvisi nel registro Analitica tooproactively notifica di condizioni importanti riscontrate nei log IIS.</span><span class="sxs-lookup"><span data-stu-id="5cae3-196">Configure alerts in Log Analytics tooproactively notify you of important conditions found in IIS logs.</span></span>
