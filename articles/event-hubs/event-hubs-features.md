---
title: "Panoramica delle funzionalità aaaAzure hub eventi | Documenti Microsoft"
description: "Panoramica e informazioni dettagliate sulle funzionalità di Hub eventi di Azure"
services: event-hubs
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 8094e48abc8455ed725d4d5d3f9895f431441e2b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-features-overview"></a><span data-ttu-id="79bce-103">Panoramica delle funzionalità di Hub eventi</span><span class="sxs-lookup"><span data-stu-id="79bce-103">Event Hubs features overview</span></span>

<span data-ttu-id="79bce-104">Hub eventi di Azure è una servizio di elaborazione degli eventi scalabile che inserisce ed elabora grandi volumi di eventi e dati, con bassa latenza e affidabilità elevata.</span><span class="sxs-lookup"><span data-stu-id="79bce-104">Azure Event Hubs is a scalable event processing service that ingests and processes large volumes of events and data, with low latency and high reliability.</span></span> <span data-ttu-id="79bce-105">Vedere [che cos'è l'hub di eventi?](event-hubs-what-is-event-hubs.md) per una panoramica di alto livello di servizio hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-105">See [What is Event Hubs?](event-hubs-what-is-event-hubs.md) for a high-level overview of hello service.</span></span>

<span data-ttu-id="79bce-106">In questo articolo si basa sulle informazioni hello hello [Panoramica](event-hubs-what-is-event-hubs.md)e vengono forniti dettagli tecnici e implementazione sui componenti di hub eventi e funzionalità.</span><span class="sxs-lookup"><span data-stu-id="79bce-106">This article builds on hello information in hello [overview](event-hubs-what-is-event-hubs.md), and provides technical and implementation details about Event Hubs components and features.</span></span>

## <a name="event-publishers"></a><span data-ttu-id="79bce-107">Publisher di eventi</span><span class="sxs-lookup"><span data-stu-id="79bce-107">Event publishers</span></span>

<span data-ttu-id="79bce-108">Qualsiasi entità che invia l'hub di eventi tooan dati è un producer di eventi o *publisher di eventi*.</span><span class="sxs-lookup"><span data-stu-id="79bce-108">Any entity that sends data tooan event hub is an event producer, or *event publisher*.</span></span> <span data-ttu-id="79bce-109">Gli autori di eventi possono pubblicare eventi usando HTTPS o AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="79bce-109">Event publishers can publish events using HTTPS or AMQP 1.0.</span></span> <span data-ttu-id="79bce-110">I Publisher di eventi utilizzare un tooidentify token di firma di accesso condiviso (SAS) stessi tooan hub eventi e possono avere un'identità univoca o utilizzare un token di firma di accesso condiviso comune.</span><span class="sxs-lookup"><span data-stu-id="79bce-110">Event publishers use a Shared Access Signature (SAS) token tooidentify themselves tooan event hub, and can have a unique identity, or use a common SAS token.</span></span>

### <a name="publishing-an-event"></a><span data-ttu-id="79bce-111">Pubblicazione di un evento</span><span class="sxs-lookup"><span data-stu-id="79bce-111">Publishing an event</span></span>

<span data-ttu-id="79bce-112">È possibile pubblicare un evento tramite AMQP 1.0 o HTTPS.</span><span class="sxs-lookup"><span data-stu-id="79bce-112">You can publish an event via AMQP 1.0 or HTTPS.</span></span> <span data-ttu-id="79bce-113">Hub eventi fornisce [classi e le librerie client](event-hubs-dotnet-framework-api-overview.md) per la pubblicazione di hub di eventi eventi tooan da client .NET.</span><span class="sxs-lookup"><span data-stu-id="79bce-113">Event Hubs provides [client libraries and classes](event-hubs-dotnet-framework-api-overview.md) for publishing events tooan event hub from .NET clients.</span></span> <span data-ttu-id="79bce-114">Per altre piattaforme e runtime, è possibile utilizzare qualsiasi client AMQP 1.0, ad esempio [Apache Qpid](http://qpid.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="79bce-114">For other runtimes and platforms, you can use any AMQP 1.0 client, such as [Apache Qpid](http://qpid.apache.org/).</span></span> <span data-ttu-id="79bce-115">È possibile pubblicare eventi singolarmente o in batch.</span><span class="sxs-lookup"><span data-stu-id="79bce-115">You can publish events individually, or batched.</span></span> <span data-ttu-id="79bce-116">Una singola pubblicazione (istanza dei dati dell'evento) ha un limite di 256 KB, indipendentemente dal fatto che si tratti di un singolo evento o di un batch.</span><span class="sxs-lookup"><span data-stu-id="79bce-116">A single publication (event data instance) has a limit of 256 KB, regardless of whether it is a single event or a batch.</span></span> <span data-ttu-id="79bce-117">La pubblicazione di eventi di dimensioni superiori alla soglia determina un errore.</span><span class="sxs-lookup"><span data-stu-id="79bce-117">Publishing events larger than this threshold results in an error.</span></span> <span data-ttu-id="79bce-118">È una procedura consigliata per i server di pubblicazione toobe consapevoli delle partizioni all'interno di hub eventi hello e specificare tooonly un *chiave di partizione* (introdotto nella sezione successiva hello) o la propria identità tramite il token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="79bce-118">It is a best practice for publishers toobe unaware of partitions within hello event hub and tooonly specify a *partition key* (introduced in hello next section), or their identity via their SAS token.</span></span>

<span data-ttu-id="79bce-119">Hello scelta toouse AMQP e HTTPS è toohello specifico scenario di utilizzo.</span><span class="sxs-lookup"><span data-stu-id="79bce-119">hello choice toouse AMQP or HTTPS is specific toohello usage scenario.</span></span> <span data-ttu-id="79bce-120">AMQP richiede stabilimento hello di un socket bidirezionale persistente in aggiunta tootransport livello security (TLS) o SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="79bce-120">AMQP requires hello establishment of a persistent bidirectional socket in addition tootransport level security (TLS) or SSL/TLS.</span></span> <span data-ttu-id="79bce-121">AMQP è maggiori costi di rete durante l'inizializzazione di sessione hello, tuttavia, HTTPS richiede un sovraccarico SSL aggiuntivo per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="79bce-121">AMQP has higher network costs when initializing hello session, however HTTPS requires additional SSL overhead for every request.</span></span> <span data-ttu-id="79bce-122">AMQP offre prestazioni più elevate per i server di pubblicazione più attivi.</span><span class="sxs-lookup"><span data-stu-id="79bce-122">AMQP has higher performance for frequent publishers.</span></span>

![Hub eventi](./media/event-hubs-features/partition_keys.png)

<span data-ttu-id="79bce-124">Hub eventi garantisce che tutti gli eventi che condividono un valore di chiave di partizione vengano recapitati in ordine e toohello stessa partizione.</span><span class="sxs-lookup"><span data-stu-id="79bce-124">Event Hubs ensures that all events sharing a partition key value are delivered in order, and toohello same partition.</span></span> <span data-ttu-id="79bce-125">Se le chiavi di partizione vengono utilizzate con i criteri di server di pubblicazione, quindi hello identità dell'editore hello e valore hello hello della chiave di partizione deve corrispondere.</span><span class="sxs-lookup"><span data-stu-id="79bce-125">If partition keys are used with publisher policies, then hello identity of hello publisher and hello value of hello partition key must match.</span></span> <span data-ttu-id="79bce-126">In caso contrario, si verifica un errore.</span><span class="sxs-lookup"><span data-stu-id="79bce-126">Otherwise, an error occurs.</span></span>

### <a name="publisher-policy"></a><span data-ttu-id="79bce-127">Criteri di autore</span><span class="sxs-lookup"><span data-stu-id="79bce-127">Publisher policy</span></span>

<span data-ttu-id="79bce-128">Hub eventi consente un controllo granulare degli autori di eventi tramite *criteri di autore*.</span><span class="sxs-lookup"><span data-stu-id="79bce-128">Event Hubs enables granular control over event publishers through *publisher policies*.</span></span> <span data-ttu-id="79bce-129">Criteri dei Publisher sono funzionalità di runtime progettate toofacilitate un numero elevato di server di pubblicazione di eventi indipendente.</span><span class="sxs-lookup"><span data-stu-id="79bce-129">Publisher policies are run-time features designed toofacilitate large numbers of independent event publishers.</span></span> <span data-ttu-id="79bce-130">Con i criteri dei publisher, ogni server di pubblicazione viene usato un identificatore univoco durante la pubblicazione di hub di eventi eventi tooan, tramite hello meccanismo seguente:</span><span class="sxs-lookup"><span data-stu-id="79bce-130">With publisher policies, each publisher uses its own unique identifier when publishing events tooan event hub, using hello following mechanism:</span></span>

```
//[my namespace].servicebus.windows.net/[event hub name]/publishers/[my publisher name]
```

<span data-ttu-id="79bce-131">Non si dispone di nomi di server di pubblicazione toocreate anticipatamente, ma il token di firma di accesso condiviso hello usato per la pubblicazione di un evento, in identità dei publisher indipendenti tooensure ordine devono corrispondere.</span><span class="sxs-lookup"><span data-stu-id="79bce-131">You don't have toocreate publisher names ahead of time, but they must match hello SAS token used when publishing an event, in order tooensure independent publisher identities.</span></span> <span data-ttu-id="79bce-132">Quando si utilizzano i criteri dei publisher, hello **PartitionKey** toohello nome del server di pubblicazione è impostato.</span><span class="sxs-lookup"><span data-stu-id="79bce-132">When using publisher policies, hello **PartitionKey** value is set toohello publisher name.</span></span> <span data-ttu-id="79bce-133">toowork al correttamente, tali valori devono corrispondere.</span><span class="sxs-lookup"><span data-stu-id="79bce-133">toowork properly, these values must match.</span></span>

## <a name="capture"></a><span data-ttu-id="79bce-134">Acquisizione</span><span class="sxs-lookup"><span data-stu-id="79bce-134">Capture</span></span>

<span data-ttu-id="79bce-135">[Acquisizione di hub eventi](event-hubs-capture-overview.md) consente tooautomatically acquisizione hello flusso di dati in hub eventi e salvarlo tooyour scelta di un account di archiviazione Blob o un account del servizio di Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="79bce-135">[Event Hubs Capture](event-hubs-capture-overview.md) enables you tooautomatically capture hello streaming data in Event Hubs and save it tooyour choice of either a Blob storage account, or an Azure Data Lake Service account.</span></span> <span data-ttu-id="79bce-136">È possibile abilitare l'acquisizione dal portale di Azure hello e specificare una dimensione minima e l'acquisizione di hello tooperform finestra ora.</span><span class="sxs-lookup"><span data-stu-id="79bce-136">You can enable Capture from hello Azure portal, and specify a minimum size and time window tooperform hello capture.</span></span> <span data-ttu-id="79bce-137">Utilizza acquisizione hub eventi, specificare il proprio account di archiviazione Blob di Azure e un contenitore o account di servizio di Azure Data Lake, ovvero hello toostore utilizzati i dati acquisiti.</span><span class="sxs-lookup"><span data-stu-id="79bce-137">Using Event Hubs Capture, you specify your own Azure Blob Storage account and container, or Azure Data Lake Service account, which is used toostore hello captured data.</span></span> <span data-ttu-id="79bce-138">Dati acquisiti viene scritto nel formato di Apache Avro hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-138">Captured data is written in hello Apache Avro format.</span></span>

## <a name="partitions"></a><span data-ttu-id="79bce-139">Partitions</span><span class="sxs-lookup"><span data-stu-id="79bce-139">Partitions</span></span>

<span data-ttu-id="79bce-140">Hub eventi fornisce flusso di messaggi tramite un modello consumer partizionato in cui ogni consumer legge solo un sottoinsieme specifico o una partizione, hello del flusso di messaggi.</span><span class="sxs-lookup"><span data-stu-id="79bce-140">Event Hubs provides message streaming through a partitioned consumer pattern in which each consumer only reads a specific subset, or partition, of hello message stream.</span></span> <span data-ttu-id="79bce-141">Questo modello consente la scalabilità orizzontale per l'elaborazione di eventi e fornisce altre funzionalità incentrate sul flusso non disponibili in code e argomenti.</span><span class="sxs-lookup"><span data-stu-id="79bce-141">This pattern enables horizontal scale for event processing and provides other stream-focused features that are unavailable in queues and topics.</span></span>

<span data-ttu-id="79bce-142">Una partizione è una sequenza ordinata di eventi contenuta in un hub eventi.</span><span class="sxs-lookup"><span data-stu-id="79bce-142">A partition is an ordered sequence of events that is held in an event hub.</span></span> <span data-ttu-id="79bce-143">Quando gli eventi più recenti arrivano, vengono aggiunti toohello fine di questa sequenza.</span><span class="sxs-lookup"><span data-stu-id="79bce-143">As newer events arrive, they are added toohello end of this sequence.</span></span> <span data-ttu-id="79bce-144">Una partizione può essere considerata come "registro commit".</span><span class="sxs-lookup"><span data-stu-id="79bce-144">A partition can be thought of as a "commit log."</span></span>

![Hub eventi](./media/event-hubs-features/partition.png)

<span data-ttu-id="79bce-146">Hub eventi conserva i dati per un periodo di conservazione configurato che è applicabile a tutte le partizioni nell'hub eventi hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-146">Event Hubs retains data for a configured retention time that applies across all partitions in hello event hub.</span></span> <span data-ttu-id="79bce-147">Gli eventi scadono su base temporale; non è possibile eliminarli in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="79bce-147">Events expire on a time basis; you cannot explicitly delete them.</span></span> <span data-ttu-id="79bce-148">Poiché le partizioni sono indipendenti e contengono una sequenza specifica di dati, presentano spesso velocità di crescita diverse.</span><span class="sxs-lookup"><span data-stu-id="79bce-148">Because partitions are independent and contain their own sequence of data, they often grow at different rates.</span></span>

![Hub eventi](./media/event-hubs-features/multiple_partitions.png)

<span data-ttu-id="79bce-150">numero di Hello di partizioni specificato al momento della creazione e deve essere compreso tra 2 e 32.</span><span class="sxs-lookup"><span data-stu-id="79bce-150">hello number of partitions is specified at creation and must be between 2 and 32.</span></span> <span data-ttu-id="79bce-151">il numero di partizioni Hello non modificabile, pertanto è consigliabile a lungo termine scalabilità quando si imposta il numero di partizioni.</span><span class="sxs-lookup"><span data-stu-id="79bce-151">hello partition count is not changeable, so you should consider long-term scale when setting partition count.</span></span> <span data-ttu-id="79bce-152">Le partizioni sono un meccanismo di organizzazione dei dati che si riferisce toohello parallelismo downstream necessario nelle applicazioni consumer.</span><span class="sxs-lookup"><span data-stu-id="79bce-152">Partitions are a data organization mechanism that relates toohello downstream parallelism required in consuming applications.</span></span> <span data-ttu-id="79bce-153">Hello numero di partizioni in un hub eventi è direttamente correlato toohello numero di lettori simultanei previsto toohave.</span><span class="sxs-lookup"><span data-stu-id="79bce-153">hello number of partitions in an event hub directly relates toohello number of concurrent readers you expect toohave.</span></span> <span data-ttu-id="79bce-154">È possibile aumentare il numero di hello di partizioni di là 32 contattando il team di hello hub eventi.</span><span class="sxs-lookup"><span data-stu-id="79bce-154">You can increase hello number of partitions beyond 32 by contacting hello Event Hubs team.</span></span>

<span data-ttu-id="79bce-155">Mentre le partizioni siano identificabili e possono essere inviate toodirectly, inviare direttamente tooa partizione non è consigliata.</span><span class="sxs-lookup"><span data-stu-id="79bce-155">While partitions are identifiable and can be sent toodirectly, sending directly tooa partition is not recommended.</span></span> <span data-ttu-id="79bce-156">In alternativa, è possibile utilizzare costrutti di livello superiore introdotti in hello [publisher di eventi](#event-publishers) e [capacità](#capacity) sezioni.</span><span class="sxs-lookup"><span data-stu-id="79bce-156">Instead, you can use higher level constructs introduced in hello [Event publisher](#event-publishers) and [Capacity](#capacity) sections.</span></span> 

<span data-ttu-id="79bce-157">Le partizioni vengono riempite con una sequenza di dati di evento che contengono il corpo di hello dell'evento hello, un contenitore delle proprietà definite dall'utente e i metadati, ad esempio l'offset nella partizione di hello e il relativo numero di sequenza flusso hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-157">Partitions are filled with a sequence of event data which contains hello body of hello event, a user-defined property bag, and metadata such as its offset in hello partition and its number in hello stream sequence.</span></span>

<span data-ttu-id="79bce-158">Per ulteriori informazioni sulle partizioni e compromesso hello tra disponibilità e affidabilità, vedere hello [Guida alla programmazione di hub eventi](event-hubs-programming-guide.md#partition-key) hello e [disponibilità e la coerenza in hub eventi](event-hubs-availability-and-consistency.md) articolo .</span><span class="sxs-lookup"><span data-stu-id="79bce-158">For more information about partitions and hello trade-off between availability and reliability, see hello [Event Hubs programming guide](event-hubs-programming-guide.md#partition-key) and hello [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md) article.</span></span>

### <a name="partition-key"></a><span data-ttu-id="79bce-159">Chiave di partizione</span><span class="sxs-lookup"><span data-stu-id="79bce-159">Partition key</span></span>

<span data-ttu-id="79bce-160">È possibile utilizzare un [chiave di partizione](event-hubs-programming-guide.md#partition-key) toomap dati dell'evento in ingresso in partizioni specifiche a scopo di hello di organizzazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="79bce-160">You can use a [partition key](event-hubs-programming-guide.md#partition-key) toomap incoming event data into specific partitions for hello purpose of data organization.</span></span> <span data-ttu-id="79bce-161">chiave di partizione Hello è un valore fornito dal mittente passato a un hub di eventi.</span><span class="sxs-lookup"><span data-stu-id="79bce-161">hello partition key is a sender-supplied value passed into an event hub.</span></span> <span data-ttu-id="79bce-162">Viene elaborato tramite una funzione di hashing statica, che crea l'assegnazione della partizione hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-162">It is processed through a static hashing function, which creates hello partition assignment.</span></span> <span data-ttu-id="79bce-163">Se non si specifica una chiave di partizione quando si pubblica un evento, viene usata un'assegnazione round robin.</span><span class="sxs-lookup"><span data-stu-id="79bce-163">If you don't specify a partition key when publishing an event, a round-robin assignment is used.</span></span>

<span data-ttu-id="79bce-164">publisher di eventi Hello è consapevole solo della chiave di partizione e non gli eventi di hello toowhich di hello partizione vengono pubblicati.</span><span class="sxs-lookup"><span data-stu-id="79bce-164">hello event publisher is only aware of its partition key, not hello partition toowhich hello events are published.</span></span> <span data-ttu-id="79bce-165">Questa separazione della chiave e partizione isola mittente hello tooknow troppo sull'elaborazione a valle di hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-165">This decoupling of key and partition insulates hello sender from needing tooknow too much about hello downstream processing.</span></span> <span data-ttu-id="79bce-166">Una per ogni dispositivo o utente univoco identità rende una buona chiave di partizione, ma gli altri attributi, ad esempio area geografica possono essere anche usato toogroup eventi correlati in un'unica partizione.</span><span class="sxs-lookup"><span data-stu-id="79bce-166">A per-device or user unique identity makes a good partition key, but other attributes such as geography can also be used toogroup related events into a single partition.</span></span>

## <a name="sas-tokens"></a><span data-ttu-id="79bce-167">Token di firma di accesso condiviso</span><span class="sxs-lookup"><span data-stu-id="79bce-167">SAS tokens</span></span>

<span data-ttu-id="79bce-168">Hub eventi Usa *firme di accesso condiviso*, che sono disponibili a livello di hub eventi e di spazio dei nomi di hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-168">Event Hubs uses *Shared Access Signatures*, which are available at hello namespace and event hub level.</span></span> <span data-ttu-id="79bce-169">Un token SAS viene generato da una chiave SAS ed è un hash SHA di un URL, codificato in un formato specifico.</span><span class="sxs-lookup"><span data-stu-id="79bce-169">A SAS token is generated from a SAS key and is an SHA hash of a URL, encoded in a specific format.</span></span> <span data-ttu-id="79bce-170">Usa nome hello della chiave di hello (criterio) e del token hello, hub eventi può rigenerare l'hash hello e pertanto autenticare il mittente di hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-170">Using hello name of hello key (policy) and hello token, Event Hubs can regenerate hello hash and thus authenticate hello sender.</span></span> <span data-ttu-id="79bce-171">In genere, i token di firma di accesso condiviso per gli autori di eventi vengono creati con privilegi solo di **invio** per un hub eventi specifico.</span><span class="sxs-lookup"><span data-stu-id="79bce-171">Normally, SAS tokens for event publishers are created with only **send** privileges on a specific event hub.</span></span> <span data-ttu-id="79bce-172">Questo meccanismo di URL token di firma di accesso condiviso è hello base introdotte in criteri dell'editore hello identificazione del publisher.</span><span class="sxs-lookup"><span data-stu-id="79bce-172">This SAS token URL mechanism is hello basis for publisher identification introduced in hello publisher policy.</span></span> <span data-ttu-id="79bce-173">Per altre informazioni sull'uso di SAS, vedere [Autenticazione della firma di accesso condiviso con il bus di servizio](../service-bus-messaging/service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="79bce-173">For more information about working with SAS, see [Shared Access Signature Authentication with Service Bus](../service-bus-messaging/service-bus-sas.md).</span></span>

## <a name="event-consumers"></a><span data-ttu-id="79bce-174">Consumer di eventi</span><span class="sxs-lookup"><span data-stu-id="79bce-174">Event consumers</span></span>

<span data-ttu-id="79bce-175">Qualsiasi entità che legge i dati dell'evento da un hub eventi è un *consumer eventi*.</span><span class="sxs-lookup"><span data-stu-id="79bce-175">Any entity that reads event data from an event hub is an *event consumer*.</span></span> <span data-ttu-id="79bce-176">Tutti i consumer di hub eventi si connettono tramite una sessione AMQP 1.0 hello e gli eventi vengono recapitati tramite sessione hello man mano che diventano disponibili.</span><span class="sxs-lookup"><span data-stu-id="79bce-176">All Event Hubs consumers connect via hello AMQP 1.0 session and events are delivered through hello session as they become available.</span></span> <span data-ttu-id="79bce-177">client Hello non è necessario toopoll per la disponibilità dei dati.</span><span class="sxs-lookup"><span data-stu-id="79bce-177">hello client does not need toopoll for data availability.</span></span>

### <a name="consumer-groups"></a><span data-ttu-id="79bce-178">Gruppi di utenti</span><span class="sxs-lookup"><span data-stu-id="79bce-178">Consumer groups</span></span>

<span data-ttu-id="79bce-179">meccanismo di pubblicazione/sottoscrizione Hello degli hub di eventi viene abilitato tramite *gruppi di consumer*.</span><span class="sxs-lookup"><span data-stu-id="79bce-179">hello publish/subscribe mechanism of Event Hubs is enabled through *consumer groups*.</span></span> <span data-ttu-id="79bce-180">Un gruppo di consumer è una vista (stato, posizione o offset) di un intero hub eventi.</span><span class="sxs-lookup"><span data-stu-id="79bce-180">A consumer group is a view (state, position, or offset) of an entire event hub.</span></span> <span data-ttu-id="79bce-181">Gruppi di consumer consentono a più applicazioni consumer tooeach dispone di una vista separata del flusso di eventi hello e flusso di hello tooread in modo indipendente in base alle proprie esigenze e con i propri offset.</span><span class="sxs-lookup"><span data-stu-id="79bce-181">Consumer groups enable multiple consuming applications tooeach have a separate view of hello event stream, and tooread hello stream independently at their own pace and with their own offsets.</span></span>

<span data-ttu-id="79bce-182">In un flusso di architettura di elaborazione, ogni applicazione downstream equivale tooa gruppo di consumer.</span><span class="sxs-lookup"><span data-stu-id="79bce-182">In a stream processing architecture, each downstream application equates tooa consumer group.</span></span> <span data-ttu-id="79bce-183">Se si desidera toowrite archiviazione toolong termine dei dati evento, tale applicazione del writer di archiviazione è un gruppo di consumer.</span><span class="sxs-lookup"><span data-stu-id="79bce-183">If you want toowrite event data toolong-term storage, then that storage writer application is a consumer group.</span></span> <span data-ttu-id="79bce-184">L'elaborazione di eventi complessi può essere quindi eseguita da un altro gruppo di consumer separato.</span><span class="sxs-lookup"><span data-stu-id="79bce-184">Complex event processing can then be performed by another, separate consumer group.</span></span> <span data-ttu-id="79bce-185">È possibile accedere alla partizioni solo tramite un gruppo di consumer.</span><span class="sxs-lookup"><span data-stu-id="79bce-185">You can only access partitions through a consumer group.</span></span> <span data-ttu-id="79bce-186">In una partizione per un gruppo di consumer ci possono essere al massimo cinque lettori simultanei; è tuttavia **consigliabile che in una partizione per un gruppo di consumer ci sia solo un ricevitore attivo**.</span><span class="sxs-lookup"><span data-stu-id="79bce-186">There can be at most 5 concurrent readers on a partition per consumer group; however **it is recommended that there is only one active receiver on a partition per consumer group**.</span></span> <span data-ttu-id="79bce-187">In un hub eventi è sempre un gruppo di consumer predefinito e creare i gruppi di consumer too20 per un hub di eventi di livello Standard.</span><span class="sxs-lookup"><span data-stu-id="79bce-187">There is always a default consumer group in an event hub, and you can create up too20 consumer groups for a Standard tier event hub.</span></span>

<span data-ttu-id="79bce-188">Hello negli esempi seguenti vengono convenzione dell'URI gruppo consumer hello:</span><span class="sxs-lookup"><span data-stu-id="79bce-188">hello following are examples of hello consumer group URI convention:</span></span>

```http
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #1]
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #2]
```

<span data-ttu-id="79bce-189">Hello figura seguente viene illustrata l'architettura dell'elaborazione di flusso hub eventi hello:</span><span class="sxs-lookup"><span data-stu-id="79bce-189">hello following figure shows hello Event Hubs stream processing architecture:</span></span>

![Hub eventi](./media/event-hubs-features/event_hubs_architecture.png)

### <a name="stream-offsets"></a><span data-ttu-id="79bce-191">Offset di flusso</span><span class="sxs-lookup"><span data-stu-id="79bce-191">Stream offsets</span></span>

<span data-ttu-id="79bce-192">Un *offset* hello posizione di un evento all'interno di una partizione.</span><span class="sxs-lookup"><span data-stu-id="79bce-192">An *offset* is hello position of an event within a partition.</span></span> <span data-ttu-id="79bce-193">Un offset può essere considerato come un cursore sul lato client.</span><span class="sxs-lookup"><span data-stu-id="79bce-193">You can think of an offset as a client-side cursor.</span></span> <span data-ttu-id="79bce-194">offset Hello è un byte la numerazione dell'evento hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-194">hello offset is a byte numbering of hello event.</span></span> <span data-ttu-id="79bce-195">Questo offset consente toospecify di consumer (lettore) un punto nel flusso di eventi hello da cui desiderano eseguire la lettura degli eventi toobegin un evento.</span><span class="sxs-lookup"><span data-stu-id="79bce-195">This offset enables an event consumer (reader) toospecify a point in hello event stream from which they want toobegin reading events.</span></span> <span data-ttu-id="79bce-196">È possibile specificare offset hello come timestamp o come un valore di offset.</span><span class="sxs-lookup"><span data-stu-id="79bce-196">You can specify hello offset as a timestamp or as an offset value.</span></span> <span data-ttu-id="79bce-197">I consumer sono responsabili per l'archiviazione dei valori di offset all'esterno di hello servizio hub eventi.</span><span class="sxs-lookup"><span data-stu-id="79bce-197">Consumers are responsible for storing their own offset values outside of hello Event Hubs service.</span></span> <span data-ttu-id="79bce-198">All'interno di una partizione, ogni evento include un offset.</span><span class="sxs-lookup"><span data-stu-id="79bce-198">Within a partition, each event includes an offset.</span></span>

![Hub eventi](./media/event-hubs-features/partition_offset.png)

### <a name="checkpointing"></a><span data-ttu-id="79bce-200">Checkpoint</span><span class="sxs-lookup"><span data-stu-id="79bce-200">Checkpointing</span></span>

<span data-ttu-id="79bce-201">*Checkpoint* è un processo mediante il quale i lettori contrassegnano o eseguono il commit della propria posizione all'interno di una sequenza di eventi di partizione.</span><span class="sxs-lookup"><span data-stu-id="79bce-201">*Checkpointing* is a process by which readers mark or commit their position within a partition event sequence.</span></span> <span data-ttu-id="79bce-202">Creazione di checkpoint hello responsabilità del consumer hello e viene eseguita in una base per ogni partizione all'interno di un gruppo di consumer.</span><span class="sxs-lookup"><span data-stu-id="79bce-202">Checkpointing is hello responsibility of hello consumer and occurs on a per-partition basis within a consumer group.</span></span> <span data-ttu-id="79bce-203">Questa responsabilità significa che per ogni gruppo di consumer, ogni reader della partizione deve tenere traccia della posizione corrente nel flusso di eventi hello e può informare il servizio di hello quando il flusso di dati hello considera completo.</span><span class="sxs-lookup"><span data-stu-id="79bce-203">This responsibility means that for each consumer group, each partition reader must keep track of its current position in hello event stream, and can inform hello service when it considers hello data stream complete.</span></span>

<span data-ttu-id="79bce-204">Se un reader si disconnette da una partizione, quando si riconnette inizia a leggere al checkpoint hello che è stato inviato in precedenza dall'ultimo reader hello della partizione in tale gruppo di consumer.</span><span class="sxs-lookup"><span data-stu-id="79bce-204">If a reader disconnects from a partition, when it reconnects it begins reading at hello checkpoint that was previously submitted by hello last reader of that partition in that consumer group.</span></span> <span data-ttu-id="79bce-205">Quando hello reader si connette, passa questo toohello offset evento hub toospecify hello percorso in cui lettura toostart.</span><span class="sxs-lookup"><span data-stu-id="79bce-205">When hello reader connects, it passes this offset toohello event hub toospecify hello location at which toostart reading.</span></span> <span data-ttu-id="79bce-206">In questo modo, è possibile utilizzare checkpoint tooboth contrassegnare gli eventi come "completamento" per le applicazioni downstream, e si verifica resilienza tooprovide se un failover tra reader in esecuzione in computer diversi.</span><span class="sxs-lookup"><span data-stu-id="79bce-206">In this way, you can use checkpointing tooboth mark events as "complete" by downstream applications, and tooprovide resiliency if a failover between readers running on different machines occurs.</span></span> <span data-ttu-id="79bce-207">È possibile tooreturn tooolder dati specificando un offset inferiore da questo processo di creazione di checkpoint.</span><span class="sxs-lookup"><span data-stu-id="79bce-207">It is possible tooreturn tooolder data by specifying a lower offset from this checkpointing process.</span></span> <span data-ttu-id="79bce-208">Tramite questo meccanismo il checkpoint consente sia la resilienza del failover che la riproduzione del flusso di eventi.</span><span class="sxs-lookup"><span data-stu-id="79bce-208">Through this mechanism, checkpointing enables both failover resiliency and event stream replay.</span></span>

### <a name="common-consumer-tasks"></a><span data-ttu-id="79bce-209">Attività comuni del consumer</span><span class="sxs-lookup"><span data-stu-id="79bce-209">Common consumer tasks</span></span>

<span data-ttu-id="79bce-210">Tutti i consumer di Hub eventi si connettono tramite una sessione AMQP 1.0 e un canale di comunicazione bidirezionale in grado di riconoscere lo stato.</span><span class="sxs-lookup"><span data-stu-id="79bce-210">All Event Hubs consumers connect via an AMQP 1.0 session, a state-aware bidirectional communication channel.</span></span> <span data-ttu-id="79bce-211">Ogni partizione dispone di una sessione AMQP 1.0 che facilita il trasporto hello di eventi isolati dalla partizione.</span><span class="sxs-lookup"><span data-stu-id="79bce-211">Each partition has an AMQP 1.0 session that facilitates hello transport of events segregated by partition.</span></span>

#### <a name="connect-tooa-partition"></a><span data-ttu-id="79bce-212">Connettersi tooa partizione</span><span class="sxs-lookup"><span data-stu-id="79bce-212">Connect tooa partition</span></span>

<span data-ttu-id="79bce-213">Quando ci si connette toopartitions, è comune toouse pratica leasing partizioni toospecific connessioni di meccanismo toocoordinate lettore.</span><span class="sxs-lookup"><span data-stu-id="79bce-213">When connecting toopartitions, it is common practice toouse a leasing mechanism toocoordinate reader connections toospecific partitions.</span></span> <span data-ttu-id="79bce-214">In questo modo, è possibile per ogni partizione in un consumer gruppo toohave un solo reader attivo.</span><span class="sxs-lookup"><span data-stu-id="79bce-214">This way, it is possible for every partition in a consumer group toohave only one active reader.</span></span> <span data-ttu-id="79bce-215">Creazione di checkpoint, leasing e la gestione di lettori sono semplificati tramite hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) classe per i client .NET.</span><span class="sxs-lookup"><span data-stu-id="79bce-215">Checkpointing, leasing, and managing readers are simplified by using hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) class for .NET clients.</span></span> <span data-ttu-id="79bce-216">Host processore di eventi Hello è un agente consumer intelligente.</span><span class="sxs-lookup"><span data-stu-id="79bce-216">hello Event Processor Host is an intelligent consumer agent.</span></span>

#### <a name="read-events"></a><span data-ttu-id="79bce-217">Leggere gli eventi</span><span class="sxs-lookup"><span data-stu-id="79bce-217">Read events</span></span>

<span data-ttu-id="79bce-218">Dopo una sessione AMQP 1.0 e il collegamento viene aperta per una partizione specifica, gli eventi vengono recapitati client toohello AMQP 1.0 dal servizio hub eventi hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-218">After an AMQP 1.0 session and link is opened for a specific partition, events are delivered toohello AMQP 1.0 client by hello Event Hubs service.</span></span> <span data-ttu-id="79bce-219">Questo meccanismo di recapito permette una velocità effettiva più elevata e una latenza più bassa rispetto ai meccanismi basati su pull, ad esempio HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="79bce-219">This delivery mechanism enables higher throughput and lower latency than pull-based mechanisms such as HTTP GET.</span></span> <span data-ttu-id="79bce-220">Come gli eventi vengono inviati toohello client, ogni istanza di dati di evento contiene metadati importanti, come numero di sequenza e offset hello che vengono utilizzati toofacilitate checkpoint nella sequenza di eventi hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-220">As events are sent toohello client, each event data instance contains important metadata such as hello offset and sequence number that are used toofacilitate checkpointing on hello event sequence.</span></span>

<span data-ttu-id="79bce-221">Dati evento:</span><span class="sxs-lookup"><span data-stu-id="79bce-221">Event data:</span></span>
* <span data-ttu-id="79bce-222">Offset</span><span class="sxs-lookup"><span data-stu-id="79bce-222">Offset</span></span>
* <span data-ttu-id="79bce-223">Numero di sequenza</span><span class="sxs-lookup"><span data-stu-id="79bce-223">Sequence number</span></span>
* <span data-ttu-id="79bce-224">Corpo</span><span class="sxs-lookup"><span data-stu-id="79bce-224">Body</span></span>
* <span data-ttu-id="79bce-225">Proprietà utente</span><span class="sxs-lookup"><span data-stu-id="79bce-225">User properties</span></span>
* <span data-ttu-id="79bce-226">Proprietà di sistema</span><span class="sxs-lookup"><span data-stu-id="79bce-226">System properties</span></span>

<span data-ttu-id="79bce-227">È l'offset di hello toomanage responsabilità.</span><span class="sxs-lookup"><span data-stu-id="79bce-227">It is your responsibility toomanage hello offset.</span></span>

## <a name="capacity"></a><span data-ttu-id="79bce-228">Capacity</span><span class="sxs-lookup"><span data-stu-id="79bce-228">Capacity</span></span>

<span data-ttu-id="79bce-229">Hub eventi presenta un'architettura parallela altamente scalabile e vi sono alcuni fattori chiave tooconsider, durante il ridimensionamento e scalabilità.</span><span class="sxs-lookup"><span data-stu-id="79bce-229">Event Hubs has a highly scalable parallel architecture and there are several key factors tooconsider when sizing and scaling.</span></span>

### <a name="throughput-units"></a><span data-ttu-id="79bce-230">Unità elaborate</span><span class="sxs-lookup"><span data-stu-id="79bce-230">Throughput units</span></span>

<span data-ttu-id="79bce-231">capacità di Hello velocità effettiva degli hub di eventi è controllata dal *unità di velocità effettiva*.</span><span class="sxs-lookup"><span data-stu-id="79bce-231">hello throughput capacity of Event Hubs is controlled by *throughput units*.</span></span> <span data-ttu-id="79bce-232">Le unità elaborate sono unità di capacità pre-acquistate.</span><span class="sxs-lookup"><span data-stu-id="79bce-232">Throughput units are pre-purchased units of capacity.</span></span> <span data-ttu-id="79bce-233">Un'unità di velocità effettiva singolo include hello seguenti capacità:</span><span class="sxs-lookup"><span data-stu-id="79bce-233">A single throughput unit includes hello following capacity:</span></span>

* <span data-ttu-id="79bce-234">In entrata: backup too1 MB al secondo o 1000 eventi al secondo (a seconda del valore per primo)</span><span class="sxs-lookup"><span data-stu-id="79bce-234">Ingress: Up too1 MB per second or 1000 events per second (whichever comes first)</span></span>
* <span data-ttu-id="79bce-235">In uscita: backup too2 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="79bce-235">Egress: Up too2 MB per second</span></span>

<span data-ttu-id="79bce-236">Oltrepassato la capacità di hello di hello acquistata unità di velocità effettiva, in entrata è limitato e un [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) viene restituito.</span><span class="sxs-lookup"><span data-stu-id="79bce-236">Beyond hello capacity of hello purchased throughput units, ingress is throttled and a [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) is returned.</span></span> <span data-ttu-id="79bce-237">In uscita non genera eccezioni di limitazione delle richieste, ma è comunque limitata toohello capacità di hello unità di velocità effettiva acquistata.</span><span class="sxs-lookup"><span data-stu-id="79bce-237">Egress does not produce throttling exceptions, but is still limited toohello capacity of hello purchased throughput units.</span></span> <span data-ttu-id="79bce-238">Se si ricevono eccezioni relative alla velocità pubblicazione o sono previsti volumi in uscita maggiori toosee, essere toocheck che il numero di unità di velocità effettiva acquistate per spazio dei nomi hello.</span><span class="sxs-lookup"><span data-stu-id="79bce-238">If you receive publishing rate exceptions or are expecting toosee higher egress, be sure toocheck how many throughput units you have purchased for hello namespace.</span></span> <span data-ttu-id="79bce-239">È possibile gestire le unità di velocità effettiva in hello **scala** pannello degli spazi dei nomi hello in hello [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="79bce-239">You can manage throughput units on hello **Scale** blade of hello namespaces in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="79bce-240">È inoltre possibile gestire le unità di velocità effettiva a livello di programmazione utilizzando hello [API degli hub di eventi](event-hubs-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="79bce-240">You can also manage throughput units programmatically using hello [Event Hubs APIs](event-hubs-api-overview.md).</span></span>

<span data-ttu-id="79bce-241">Le unità elaborate vengo o fatturate su base oraria e sono pre-acquistate.</span><span class="sxs-lookup"><span data-stu-id="79bce-241">Throughput units are billed per hour and are pre-purchased.</span></span> <span data-ttu-id="79bce-242">Una volta acquistate, le unità elaborate vengono fatturate per un minimo di un'ora.</span><span class="sxs-lookup"><span data-stu-id="79bce-242">Once purchased, throughput units are billed for a minimum of one hour.</span></span> <span data-ttu-id="79bce-243">Backup too20 unità di velocità effettiva possono essere acquistate per uno spazio dei nomi dell'hub eventi e vengono condivise tra tutti gli hub eventi hello dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="79bce-243">Up too20 throughput units can be purchased for an Event Hubs namespace and are shared across all Event Hubs in hello namespace.</span></span>

<span data-ttu-id="79bce-244">È possibile acquistare ulteriori unità di velocità effettiva in blocchi di 20 unità di velocità effettiva too100, contattando il supporto tecnico di Azure.</span><span class="sxs-lookup"><span data-stu-id="79bce-244">More throughput units can be purchased in blocks of 20, up too100 throughput units, by contacting Azure support.</span></span> <span data-ttu-id="79bce-245">Inoltre, è possibile acquistare blocchi di 100 unità elaborate.</span><span class="sxs-lookup"><span data-stu-id="79bce-245">Beyond that, you can also purchase blocks of 100 throughput units.</span></span>

<span data-ttu-id="79bce-246">È consigliabile bilanciare la velocità effettiva unità e le partizioni tooachieve una scalabilità ottimale.</span><span class="sxs-lookup"><span data-stu-id="79bce-246">We recommend that you balance throughput units and partitions tooachieve optimal scale.</span></span> <span data-ttu-id="79bce-247">Una singola partizione ha una scala massima di una unità elaborata.</span><span class="sxs-lookup"><span data-stu-id="79bce-247">A single partition has a maximum scale of one throughput unit.</span></span> <span data-ttu-id="79bce-248">Hello numero di unità di velocità effettiva deve essere minore o uguale toohello numero di partizioni in un hub eventi.</span><span class="sxs-lookup"><span data-stu-id="79bce-248">hello number of throughput units should be less than or equal toohello number of partitions in an event hub.</span></span>

<span data-ttu-id="79bce-249">Per informazioni dettagliate sui prezzi di Hub eventi, vedere [Prezzi di Hub eventi ](https://azure.microsoft.com/pricing/details/event-hubs/).</span><span class="sxs-lookup"><span data-stu-id="79bce-249">For detailed Event Hubs pricing information, see [Event Hubs pricing](https://azure.microsoft.com/pricing/details/event-hubs/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="79bce-250">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="79bce-250">Next steps</span></span>

<span data-ttu-id="79bce-251">Per ulteriori informazioni sugli hub di eventi, visitare hello seguenti collegamenti:</span><span class="sxs-lookup"><span data-stu-id="79bce-251">For more information about Event Hubs, visit hello following links:</span></span>

* <span data-ttu-id="79bce-252">Iniziare con un'[esercitazione di Hub eventi][Event Hubs tutorial]</span><span class="sxs-lookup"><span data-stu-id="79bce-252">Get started with an [Event Hubs tutorial][Event Hubs tutorial]</span></span>
* [<span data-ttu-id="79bce-253">Guida alla programmazione di Hub eventi</span><span class="sxs-lookup"><span data-stu-id="79bce-253">Event Hubs programming guide</span></span>](event-hubs-programming-guide.md)
* [<span data-ttu-id="79bce-254">Disponibilità e coerenza nell'Hub eventi</span><span class="sxs-lookup"><span data-stu-id="79bce-254">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="79bce-255">Domande frequenti su Hub eventi</span><span class="sxs-lookup"><span data-stu-id="79bce-255">Event Hubs FAQ</span></span>](event-hubs-faq.md)
* <span data-ttu-id="79bce-256">[Esempi di Hub eventi][]</span><span class="sxs-lookup"><span data-stu-id="79bce-256">[Event Hubs samples][]</span></span>

[Event Hubs tutorial]: event-hubs-dotnet-standard-getstarted-send.md
[Esempi di Hub eventi]: https://github.com/Azure/azure-event-hubs/tree/master/samples
