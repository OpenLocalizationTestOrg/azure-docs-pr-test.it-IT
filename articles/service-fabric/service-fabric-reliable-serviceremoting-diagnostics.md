---
title: Monitoraggio e diagnostica di Azure ServiceFabric | Microsoft Docs
description: "Questo articolo illustra le funzionalità monitoraggio delle prestazioni disponibili nel runtime di Service Fabric Reliable ServiceRemoting, inclusi i contatori delle prestazioni emessi dal runtime."
services: service-fabric
documentationcenter: .net
author: suchiagicha
manager: timlt
editor: suchiagicha
ms.assetid: 1c229923-670a-4634-ad59-468ff781ad18
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: suchiagicha
ms.openlocfilehash: f54e157654fb15d2f7ff48ddc666c6c8803c75a2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="diagnostics-and-performance-monitoring-for-reliable-service-remoting"></a><span data-ttu-id="257a5-103">Diagnostica e monitoraggio delle prestazioni per Reliable Service Remoting</span><span class="sxs-lookup"><span data-stu-id="257a5-103">Diagnostics and performance monitoring for Reliable Service Remoting</span></span>
<span data-ttu-id="257a5-104">Il runtime Reliable ServiceRemoting genera [i contatori delle prestazioni](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx)</span><span class="sxs-lookup"><span data-stu-id="257a5-104">The Reliable ServiceRemoting runtime emits  [performance counters](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span></span> <span data-ttu-id="257a5-105">che forniscono informazioni utili per comprendere il funzionamento di ServiceRemoting e per eseguire la risoluzione dei problemi e il monitoraggio delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-105">These provide insights into how the ServiceRemoting is operating and help with troubleshooting and performance monitoring.</span></span>


## <a name="performance-counters"></a><span data-ttu-id="257a5-106">Contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="257a5-106">Performance counters</span></span>
<span data-ttu-id="257a5-107">Il runtime di Reliable ServiceRemoting definisce le categorie di contatori delle prestazioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="257a5-107">The Reliable ServiceRemoting runtime defines the following performance counter categories:</span></span>

| <span data-ttu-id="257a5-108">Categoria</span><span class="sxs-lookup"><span data-stu-id="257a5-108">Category</span></span> | <span data-ttu-id="257a5-109">Descrizione</span><span class="sxs-lookup"><span data-stu-id="257a5-109">Description</span></span> |
| --- | --- |
| <span data-ttu-id="257a5-110">Servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-110">Service Fabric Service</span></span> |<span data-ttu-id="257a5-111">Contatori specifici per Azure Service Fabric Serivce Remoting, ad esempio tempo medio impiegato per elaborare la richiesta</span><span class="sxs-lookup"><span data-stu-id="257a5-111">Counters specific to Azure Service Fabric Service Remoting , for example, average time taken to process request</span></span> |
| <span data-ttu-id="257a5-112">Metodo del servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-112">Service Fabric Service Method</span></span> |<span data-ttu-id="257a5-113">Contatori specifici dei metodi implementati da Service Fabric Remoting Service, ad esempio per la frequenza con cui viene richiamato un metodo di un servizio</span><span class="sxs-lookup"><span data-stu-id="257a5-113">Counters specific to methods implemented by Service Fabric Remoting Service, for example, how often a service method is invoked</span></span> |

<span data-ttu-id="257a5-114">Ognuna di queste categorie include uno o più contatori.</span><span class="sxs-lookup"><span data-stu-id="257a5-114">Each of the preceding categories has one or more counters.</span></span>

<span data-ttu-id="257a5-115">L'applicazione [Performance Monitor di Windows](https://technet.microsoft.com/library/cc749249.aspx) , disponibile per impostazione predefinita nel sistema operativo Windows, può essere usata per raccogliere e visualizzare i dati dei contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-115">The [Windows Performance Monitor](https://technet.microsoft.com/library/cc749249.aspx) application that is available by default in the Windows operating system can be used to collect and view performance counter data.</span></span> <span data-ttu-id="257a5-116">[Diagnostica di Azure](../cloud-services/cloud-services-dotnet-diagnostics.md) rappresenta una valida alternativa per la raccolta di tali dati e il relativo caricamento nelle tabelle di Azure.</span><span class="sxs-lookup"><span data-stu-id="257a5-116">[Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md) is another option for collecting performance counter data and uploading it to Azure tables.</span></span>

### <a name="performance-counter-instance-names"></a><span data-ttu-id="257a5-117">Nomi delle istanze dei contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="257a5-117">Performance counter instance names</span></span>
<span data-ttu-id="257a5-118">Un cluster con un numero elevato di servizi o partizioni di ServiceRemoting disporrà di un numero considerevole di istanze di contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-118">A cluster that has a large number of  ServiceRemoting services or partitions have a large number of  performance counter instances.</span></span> <span data-ttu-id="257a5-119">I nomi delle istanze possono facilitare l'identificazione della partizione specifica e del metodo del servizio (se applicabile) a cui l'istanza è associata.</span><span class="sxs-lookup"><span data-stu-id="257a5-119">The performance counter instance names can help in identifying the specific partition and Service method (if applicable) that the performance counter instance is associated with.</span></span>

#### <a name="service-fabric-service-category"></a><span data-ttu-id="257a5-120">Categoria del servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-120">Service Fabric Service category</span></span>
<span data-ttu-id="257a5-121">Per la categoria `Service Fabric Service`, i nomi delle istanze dei contatori sono nel formato seguente:</span><span class="sxs-lookup"><span data-stu-id="257a5-121">For the category `Service Fabric Service`, the counter instance names are in the following format:</span></span>

`ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="257a5-122">*ServiceFabricPartitionID* è la rappresentazione sotto forma di stringa dell'ID partizione di Service Fabric a cui è associata l'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-122">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="257a5-123">L'ID partizione è un GUID e la relativa rappresentazione di stringa viene generata tramite il metodo [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) con l'identificatore di formato "D".</span><span class="sxs-lookup"><span data-stu-id="257a5-123">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="257a5-124">*ServiceReplicaOrInstanceId* è la rappresentazione sotto forma di stringa di Service Fabric Replica/ID dell'istanza a cui è associata l'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-124">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="257a5-125">*ServiceRuntimeInternalID* è la rappresentazione sotto forma di stringa di un numero intero a 64 bit generato dal runtime di Fabric Service per l'uso interno.</span><span class="sxs-lookup"><span data-stu-id="257a5-125">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="257a5-126">Viene incluso nel nome dell'istanza del contatore delle prestazioni per assicurarne l'univocità ed evitare conflitti con altri nomi di istanze di contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-126">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="257a5-127">Agli utenti non serve tentare di interpretare questa parte del nome dell'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-127">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="257a5-128">Di seguito è riportato un esempio di un nome di istanza per un contatore appartenente alla categoria `Service Fabric Service` :</span><span class="sxs-lookup"><span data-stu-id="257a5-128">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service` category:</span></span>

`2740af29-78aa-44bc-a20b-7e60fb783264_635650083799324046_5008379932`

<span data-ttu-id="257a5-129">Nell'esempio precedente `2740af29-78aa-44bc-a20b-7e60fb783264` è la rappresentazione sotto forma di stringa dell'ID partizione di Service Fabric, `635650083799324046` è la rappresentazione sotto forma di stringa di Replica/InstanceId e `5008379932` è l'ID a 64 bit generato per l'uso interno del runtime.</span><span class="sxs-lookup"><span data-stu-id="257a5-129">In the preceding example, `2740af29-78aa-44bc-a20b-7e60fb783264` is the string representation of the Service Fabric partition ID, `635650083799324046` is string representation of Replica/InstanceId and `5008379932` is the 64-bit ID that is generated for the runtime's internal use.</span></span>

#### <a name="service-fabric-service-method-category"></a><span data-ttu-id="257a5-130">Categoria del metodo del servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-130">Service Fabric Service Method category</span></span>
<span data-ttu-id="257a5-131">Per la categoria `Service Fabric Service Method`, i nomi delle istanze dei contatori sono nel formato seguente:</span><span class="sxs-lookup"><span data-stu-id="257a5-131">For the category `Service Fabric Service Method`, the counter instance names are in the following format:</span></span>

`MethodName_ServiceRuntimeMethodId_ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="257a5-132">*MethodName* è il nome del metodo del servizio a cui è associata l'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-132">*MethodName* is the name of the service method that the performance counter instance is associated with.</span></span> <span data-ttu-id="257a5-133">Il formato del nome del metodo è determinato in base a una parte della logica del runtime di Fabric Service che cerca di trovare un compromesso tra la leggibilità del nome e i vincoli relativi alla lunghezza massima dei nomi delle istanze dei contatori delle prestazioni in Windows.</span><span class="sxs-lookup"><span data-stu-id="257a5-133">The format of the method name is determined based on some logic in the Fabric Service runtime that balances the readability of the name with constraints on the maximum length of the performance counter instance names on Windows.</span></span>

<span data-ttu-id="257a5-134">*ServiceRuntimeMethodId* è la rappresentazione sotto forma di stringa di un numero intero a 32 bit generato dal runtime di Fabric Service per l'uso interno.</span><span class="sxs-lookup"><span data-stu-id="257a5-134">*ServiceRuntimeMethodId* is the string representation of a 32-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="257a5-135">Viene incluso nel nome dell'istanza del contatore delle prestazioni per assicurarne l'univocità ed evitare conflitti con altri nomi di istanze di contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-135">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="257a5-136">Agli utenti non serve tentare di interpretare questa parte del nome dell'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-136">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="257a5-137">*ServiceFabricPartitionID* è la rappresentazione sotto forma di stringa dell'ID partizione di Service Fabric a cui è associata l'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-137">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="257a5-138">L'ID partizione è un GUID e la relativa rappresentazione di stringa viene generata tramite il metodo [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) con l'identificatore di formato "D".</span><span class="sxs-lookup"><span data-stu-id="257a5-138">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="257a5-139">*ServiceReplicaOrInstanceId* è la rappresentazione sotto forma di stringa di Service Fabric Replica/ID dell'istanza a cui è associata l'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-139">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="257a5-140">*ServiceRuntimeInternalID* è la rappresentazione sotto forma di stringa di un numero intero a 64 bit generato dal runtime di Fabric Service per l'uso interno.</span><span class="sxs-lookup"><span data-stu-id="257a5-140">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="257a5-141">Viene incluso nel nome dell'istanza del contatore delle prestazioni per assicurarne l'univocità ed evitare conflitti con altri nomi di istanze di contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-141">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="257a5-142">Agli utenti non serve tentare di interpretare questa parte del nome dell'istanza del contatore delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="257a5-142">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="257a5-143">Di seguito è riportato un esempio di un nome di istanza per un contatore appartenente alla categoria `Service Fabric Service Method` :</span><span class="sxs-lookup"><span data-stu-id="257a5-143">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service Method` category:</span></span>

`ivoicemailboxservice.leavemessageasync_2_89383d32-e57e-4a9b-a6ad-57c6792aa521_635650083804480486_5008380`

<span data-ttu-id="257a5-144">Nell'esempio precedente `ivoicemailboxservice.leavemessageasync` è il nome del metodo, `2` è l'ID a 32 bit generato per l'uso interno del runtime, `89383d32-e57e-4a9b-a6ad-57c6792aa521` è la rappresentazione sotto forma di stringa dell'ID partizione di Service Fabric, `635650083804480486` è la rappresentazione sotto forma di stringa di Service Fabric Replica/ID istanza e `5008380` è l'ID a 64 bit generato per l'uso interno del runtime.</span><span class="sxs-lookup"><span data-stu-id="257a5-144">In the preceding example, `ivoicemailboxservice.leavemessageasync` is the method name, `2` is the 32-bit ID generated for the runtime's internal use, `89383d32-e57e-4a9b-a6ad-57c6792aa521` is the string representation of the Service Fabric partition ID,`635650083804480486` is the string representation of the Service Fabric Replica/Instance ID and `5008380` is the 64-bit ID generated for the runtime's internal use.</span></span>

## <a name="list-of-performance-counters"></a><span data-ttu-id="257a5-145">Elenco di contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="257a5-145">List of Performance counters</span></span>
### <a name="service-method-performance-counters"></a><span data-ttu-id="257a5-146">Contatori delle prestazioni dei metodi servizi</span><span class="sxs-lookup"><span data-stu-id="257a5-146">Service method performance counters</span></span>

<span data-ttu-id="257a5-147">Il runtime di Reliable Service pubblica i contatori delle prestazioni seguenti relativi all'esecuzione dei metodi dei servizi.</span><span class="sxs-lookup"><span data-stu-id="257a5-147">The Reliable Service runtime publishes the following performance counters related to the execution of service methods.</span></span>

| <span data-ttu-id="257a5-148">Nome categoria</span><span class="sxs-lookup"><span data-stu-id="257a5-148">Category name</span></span> | <span data-ttu-id="257a5-149">Nome contatore</span><span class="sxs-lookup"><span data-stu-id="257a5-149">Counter name</span></span> | <span data-ttu-id="257a5-150">Descrizione</span><span class="sxs-lookup"><span data-stu-id="257a5-150">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="257a5-151">Metodo del servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-151">Service Fabric Service Method</span></span> |<span data-ttu-id="257a5-152">Invocations/Sec</span><span class="sxs-lookup"><span data-stu-id="257a5-152">Invocations/Sec</span></span> |<span data-ttu-id="257a5-153">Numero di volte in cui il metodo del servizio viene richiamato al secondo</span><span class="sxs-lookup"><span data-stu-id="257a5-153">Number of times that the  service method is invoked per second</span></span> |
| <span data-ttu-id="257a5-154">Metodo del servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-154">Service Fabric Service Method</span></span> |<span data-ttu-id="257a5-155">Average milliseconds per invocation</span><span class="sxs-lookup"><span data-stu-id="257a5-155">Average milliseconds per invocation</span></span> |<span data-ttu-id="257a5-156">Tempo necessario per eseguire il metodo del servizio in millisecondi</span><span class="sxs-lookup"><span data-stu-id="257a5-156">Time taken to execute the service method in milliseconds</span></span> |
| <span data-ttu-id="257a5-157">Metodo del servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-157">Service Fabric Service Method</span></span> |<span data-ttu-id="257a5-158">Exceptions thrown/Sec</span><span class="sxs-lookup"><span data-stu-id="257a5-158">Exceptions thrown/Sec</span></span> |<span data-ttu-id="257a5-159">Numero di volte in cui il metodo del servizio attore ha generato un'eccezione al secondo</span><span class="sxs-lookup"><span data-stu-id="257a5-159">Number of times that the service method threw an exception per second</span></span> |

### <a name="service-request-processing-performance-counters"></a><span data-ttu-id="257a5-160">Contatori delle prestazioni di elaborazione delle richieste dei servizi</span><span class="sxs-lookup"><span data-stu-id="257a5-160">Service request processing performance counters</span></span>
<span data-ttu-id="257a5-161">Quando un client richiama un metodo tramite un oggetto proxy di servizio, viene generato un messaggio di richiesta inviato in rete al servizio remoting.</span><span class="sxs-lookup"><span data-stu-id="257a5-161">When a client invokes a method via a service proxy object, it results in a request message being sent over the network to the remoting service.</span></span> <span data-ttu-id="257a5-162">Il servizio elabora il messaggio di richiesta e invia una risposta al client.</span><span class="sxs-lookup"><span data-stu-id="257a5-162">The service processes the request message and sends a response back to the client.</span></span> <span data-ttu-id="257a5-163">Il runtime di Reliable ServiceRemoting pubblica i contatori delle prestazioni seguenti relativi all’elaborazione delle richieste dei servizi.</span><span class="sxs-lookup"><span data-stu-id="257a5-163">The Reliable ServiceRemoting runtime publishes the following performance counters related to service request processing.</span></span>

| <span data-ttu-id="257a5-164">Nome categoria</span><span class="sxs-lookup"><span data-stu-id="257a5-164">Category name</span></span> | <span data-ttu-id="257a5-165">Nome contatore</span><span class="sxs-lookup"><span data-stu-id="257a5-165">Counter name</span></span> | <span data-ttu-id="257a5-166">Descrizione</span><span class="sxs-lookup"><span data-stu-id="257a5-166">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="257a5-167">Servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-167">Service Fabric Service</span></span> |<span data-ttu-id="257a5-168"># of outstanding requests</span><span class="sxs-lookup"><span data-stu-id="257a5-168"># of outstanding requests</span></span> |<span data-ttu-id="257a5-169">Numero di richieste elaborate nel servizio</span><span class="sxs-lookup"><span data-stu-id="257a5-169">Number of requests being processed in the service</span></span> |
| <span data-ttu-id="257a5-170">Servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-170">Service Fabric Service</span></span> |<span data-ttu-id="257a5-171">Average milliseconds per request</span><span class="sxs-lookup"><span data-stu-id="257a5-171">Average milliseconds per request</span></span> |<span data-ttu-id="257a5-172">Tempo richiesto (in millisecondi) dal servizio per elaborare una richiesta</span><span class="sxs-lookup"><span data-stu-id="257a5-172">Time taken (in milliseconds) by the service to process a request</span></span> |
| <span data-ttu-id="257a5-173">Servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-173">Service Fabric Service</span></span> |<span data-ttu-id="257a5-174">Average milliseconds for request deserialization</span><span class="sxs-lookup"><span data-stu-id="257a5-174">Average milliseconds for request deserialization</span></span> |<span data-ttu-id="257a5-175">Tempo richiesto (in millisecondi) per deserializzare il messaggio di richiesta del servizio quando viene ricevuto nel servizio</span><span class="sxs-lookup"><span data-stu-id="257a5-175">Time taken (in milliseconds) to deserialize service request message when it is received at the service</span></span> |
| <span data-ttu-id="257a5-176">Servizio Service Fabric</span><span class="sxs-lookup"><span data-stu-id="257a5-176">Service Fabric Service</span></span> |<span data-ttu-id="257a5-177">Average milliseconds for response serialization</span><span class="sxs-lookup"><span data-stu-id="257a5-177">Average milliseconds for response serialization</span></span> |<span data-ttu-id="257a5-178">Tempo richiesto (in millisecondi) per serializzare il messaggio di risposta del servizio nel servizio prima dell’invio della risposta al client</span><span class="sxs-lookup"><span data-stu-id="257a5-178">Time taken (in milliseconds) to serialize the service response message at the service before the response is sent to the client</span></span> |

## <a name="next-steps"></a><span data-ttu-id="257a5-179">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="257a5-179">Next steps</span></span>
* [<span data-ttu-id="257a5-180">Codice di esempio</span><span class="sxs-lookup"><span data-stu-id="257a5-180">Sample code</span></span>](https://github.com/Azure/servicefabric-samples)
* [<span data-ttu-id="257a5-181">Provider di EventSource in PerfView</span><span class="sxs-lookup"><span data-stu-id="257a5-181">EventSource providers in PerfView</span></span>](https://blogs.msdn.microsoft.com/vancem/2012/07/09/introduction-tutorial-logging-etw-events-in-c-system-diagnostics-tracing-eventsource/)
