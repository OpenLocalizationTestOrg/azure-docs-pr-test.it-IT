---
title: aaaOptimize algoritmi in Azure Machine Learning | Documenti Microsoft
description: Viene illustrato come impostare parametri di toochoose hello ottimale per un algoritmo in Azure Machine Learning.
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: fbf2f71abdbce19483fb048d67a39cbb368a928e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="choose-parameters-toooptimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="8195a-103">Scegliere i parametri toooptimize algoritmi in Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="8195a-103">Choose parameters toooptimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="8195a-104">In questo argomento viene descritto come toochoose hello destra hyperparameter impostare per un algoritmo in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="8195a-104">This topic describes how toochoose hello right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="8195a-105">La maggior parte degli algoritmi di machine learning sono tooset parametri.</span><span class="sxs-lookup"><span data-stu-id="8195a-105">Most machine learning algorithms have parameters tooset.</span></span> <span data-ttu-id="8195a-106">Durante il training di un modello, è necessario tooprovide valori per tali parametri.</span><span class="sxs-lookup"><span data-stu-id="8195a-106">When you train a model, you need tooprovide values for those parameters.</span></span> <span data-ttu-id="8195a-107">efficacia Hello del modello con training hello dipende dai parametri di modello di hello prescelto.</span><span class="sxs-lookup"><span data-stu-id="8195a-107">hello efficacy of hello trained model depends on hello model parameters that you choose.</span></span> <span data-ttu-id="8195a-108">Hello processo di individuazione set ottimale di hello dei parametri è noto come *selezione del modello*.</span><span class="sxs-lookup"><span data-stu-id="8195a-108">hello process of finding hello optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="8195a-109">Esistono vari selezione modello toodo di modi.</span><span class="sxs-lookup"><span data-stu-id="8195a-109">There are various ways toodo model selection.</span></span> <span data-ttu-id="8195a-110">La convalida incrociata è uno dei metodi hello più ampiamente utilizzato per la selezione di modello in machine learning ed è un meccanismo di selezione del modello predefinito hello in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="8195a-110">In machine learning, cross-validation is one of hello most widely used methods for model selection, and it is hello default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="8195a-111">Poiché Azure Machine Learning supporta R e Python, è sempre possibile implementare i relativi meccanismi di selezione del modello tramite R o Python.</span><span class="sxs-lookup"><span data-stu-id="8195a-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="8195a-112">Esistono quattro passaggi nel processo di hello di hello migliore set di parametri di ricerca:</span><span class="sxs-lookup"><span data-stu-id="8195a-112">There are four steps in hello process of finding hello best parameter set:</span></span>

1. <span data-ttu-id="8195a-113">**Definire spazio parametro hello**: per l'algoritmo di hello, innanzitutto stabilire i valori di parametro corretti hello da tooconsider.</span><span class="sxs-lookup"><span data-stu-id="8195a-113">**Define hello parameter space**: For hello algorithm, first decide hello exact parameter values you want tooconsider.</span></span>
2. <span data-ttu-id="8195a-114">**Definire le impostazioni di convalida incrociata hello**: decidere come la convalida incrociata toochoose Raggruppa per set di dati hello.</span><span class="sxs-lookup"><span data-stu-id="8195a-114">**Define hello cross-validation settings**: Decide how toochoose cross-validation folds for hello dataset.</span></span>
3. <span data-ttu-id="8195a-115">**Definire la metrica hello**: decidere quali toouse metrica per la determinazione hello miglior set di parametri, ad esempio accuratezza, quadratico medio, errore, precisione, richiamo o punteggio f.</span><span class="sxs-lookup"><span data-stu-id="8195a-115">**Define hello metric**: Decide what metric toouse for determining hello best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="8195a-116">**Eseguire il training, valutare e confrontare**: svolte dai, basata sulla metrica errore hello definita per ogni combinazione univoca di valori di parametro hello, la convalida incrociata.</span><span class="sxs-lookup"><span data-stu-id="8195a-116">**Train, evaluate, and compare**: For each unique combination of hello parameter values, cross-validation is carried out by and based on hello error metric you define.</span></span> <span data-ttu-id="8195a-117">Dopo la valutazione e confronto, è possibile scegliere modello di prestazioni migliori hello.</span><span class="sxs-lookup"><span data-stu-id="8195a-117">After evaluation and comparison, you can choose hello best-performing model.</span></span>

<span data-ttu-id="8195a-118">Hello seguente immagine illustra Mostra come questo può essere realizzato in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="8195a-118">hello following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![Trovare il set di parametri migliore hello](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-hello-parameter-space"></a><span data-ttu-id="8195a-120">Definire spazio parametro hello</span><span class="sxs-lookup"><span data-stu-id="8195a-120">Define hello parameter space</span></span>
<span data-ttu-id="8195a-121">È possibile definire il parametro hello impostato in fase di inizializzazione modello hello.</span><span class="sxs-lookup"><span data-stu-id="8195a-121">You can define hello parameter set at hello model initialization step.</span></span> <span data-ttu-id="8195a-122">riquadro dei parametri di tutti gli algoritmi di machine learning Hello è disponibili due modalità trainer: *singolo parametro* e *Parameterrange*.</span><span class="sxs-lookup"><span data-stu-id="8195a-122">hello parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="8195a-123">Scegliere la modalità intervallo di parametri.</span><span class="sxs-lookup"><span data-stu-id="8195a-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="8195a-124">Nella modalità intervallo di parametri è possibile immettere più valori per ogni parametro.</span><span class="sxs-lookup"><span data-stu-id="8195a-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="8195a-125">Nella casella di testo hello, è possibile immettere valori separati da virgola.</span><span class="sxs-lookup"><span data-stu-id="8195a-125">You can enter comma-separated values in hello text box.</span></span>

![Albero delle decisioni a due classi con innalzamento, parametro singolo](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="8195a-127">In alternativa, è possibile definire i punti massimo e minimo di hello di griglia hello e hello del numero totale di punti toobe generato con **Usa il generatore di intervallo**.</span><span class="sxs-lookup"><span data-stu-id="8195a-127">Alternately, you can define hello maximum and minimum points of hello grid and hello total number of points toobe generated with **Use Range Builder**.</span></span> <span data-ttu-id="8195a-128">Per impostazione predefinita, i valori dei parametri hello vengono generati su una scala lineare.</span><span class="sxs-lookup"><span data-stu-id="8195a-128">By default, hello parameter values are generated on a linear scale.</span></span> <span data-ttu-id="8195a-129">Tuttavia, se **scala logaritmica** è selezionata, vengono generati valori hello in scala logaritmica hello (rapporto hello tra punti adiacenti hello è costante anziché la relativa differenza).</span><span class="sxs-lookup"><span data-stu-id="8195a-129">But if **Log Scale** is checked, hello values are generated in hello log scale (that is, hello ratio of hello adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="8195a-130">Per i parametri Integer, è possibile definire un intervallo tramite un segno meno.</span><span class="sxs-lookup"><span data-stu-id="8195a-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="8195a-131">Ad esempio, "1-10" significa che tutti i numeri interi compresi tra 1 e 10 (inclusi) formano il set di parametri di hello.</span><span class="sxs-lookup"><span data-stu-id="8195a-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form hello parameter set.</span></span> <span data-ttu-id="8195a-132">È supportata anche una modalità mista.</span><span class="sxs-lookup"><span data-stu-id="8195a-132">A mixed mode is also supported.</span></span> <span data-ttu-id="8195a-133">Ad esempio, hello set di parametri "1-10, 20, 50" includono numeri interi da 1 a 10, 20 e 50.</span><span class="sxs-lookup"><span data-stu-id="8195a-133">For example, hello parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Albero delle decisioni a due classi con innalzamento, intervallo di parametri](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="8195a-135">Definire le riduzioni di convalida incrociata</span><span class="sxs-lookup"><span data-stu-id="8195a-135">Define cross-validation folds</span></span>
<span data-ttu-id="8195a-136">Hello [Partition and Sample] [ partition-and-sample] modulo può essere utilizzato toorandomly assegnare riduzioni toohello dati.</span><span class="sxs-lookup"><span data-stu-id="8195a-136">hello [Partition and Sample][partition-and-sample] module can be used toorandomly assign folds toohello data.</span></span> <span data-ttu-id="8195a-137">Nel seguente esempio di configurazione per il modulo hello di hello, si definiscono cinque sezioni e assegna in modo casuale una sezione numero di istanze esempio toohello.</span><span class="sxs-lookup"><span data-stu-id="8195a-137">In hello following sample configuration for hello module, we define five folds and randomly assign a fold number toohello sample instances.</span></span>

![Partition and sample (Partizione ed esempio)](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-hello-metric"></a><span data-ttu-id="8195a-139">Definire la metrica hello</span><span class="sxs-lookup"><span data-stu-id="8195a-139">Define hello metric</span></span>
<span data-ttu-id="8195a-140">Hello [ottimizzare modello Iperparametri] [ tune-model-hyperparameters] modulo fornisce il supporto per la scelta in modo empirico hello miglior set di parametri per un set di dati e l'algoritmo specificato.</span><span class="sxs-lookup"><span data-stu-id="8195a-140">hello [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing hello best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="8195a-141">Inoltre tooother informazioni hello training del modello, hello **proprietà** riquadro di questo modulo include la metrica hello per determinare il set di parametri migliore hello.</span><span class="sxs-lookup"><span data-stu-id="8195a-141">In addition tooother information regarding training hello model, hello **Properties** pane of this module includes hello metric for determining hello best parameter set.</span></span> <span data-ttu-id="8195a-142">E ha due elenchi a discesa rispettivamente per gli algoritmi di classificazione e di regressione.</span><span class="sxs-lookup"><span data-stu-id="8195a-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="8195a-143">Se l'algoritmo hello presi in considerazione è un algoritmo di classificazione, la metrica di regressione hello viene ignorata e viceversa.</span><span class="sxs-lookup"><span data-stu-id="8195a-143">If hello algorithm under consideration is a classification algorithm, hello regression metric is ignored and vice versa.</span></span> <span data-ttu-id="8195a-144">In questo esempio specifico, è la metrica hello **accuratezza**.</span><span class="sxs-lookup"><span data-stu-id="8195a-144">In this specific example, hello metric is **Accuracy**.</span></span>   

![Organizzare i parametri](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="8195a-146">Eseguire il training, valutare e confrontare</span><span class="sxs-lookup"><span data-stu-id="8195a-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="8195a-147">Hello stesso [ottimizzare modello Iperparametri] [ tune-model-hyperparameters] modulo esegue il training di tutti i modelli di hello che corrispondono a set di parametri toohello, valuta diverse metriche e quindi Crea modello sottoposto a training con mapping più appropriato di hello basato su hello metrica che scelta.</span><span class="sxs-lookup"><span data-stu-id="8195a-147">hello same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all hello models that correspond toohello parameter set, evaluates various metrics, and then creates hello best-trained model based on hello metric you choose.</span></span> <span data-ttu-id="8195a-148">Tale modulo dispone di due input obbligatori:</span><span class="sxs-lookup"><span data-stu-id="8195a-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="8195a-149">strumento di apprendimento senza training Hello</span><span class="sxs-lookup"><span data-stu-id="8195a-149">hello untrained learner</span></span>
* <span data-ttu-id="8195a-150">set di dati Hello</span><span class="sxs-lookup"><span data-stu-id="8195a-150">hello dataset</span></span>

<span data-ttu-id="8195a-151">modulo di Hello dispone anche di un set di dati di input facoltativo.</span><span class="sxs-lookup"><span data-stu-id="8195a-151">hello module also has an optional dataset input.</span></span> <span data-ttu-id="8195a-152">Connettersi hello dataset con un set di dati obbligatorio riduzione informazioni toohello input.</span><span class="sxs-lookup"><span data-stu-id="8195a-152">Connect hello dataset with fold information toohello mandatory dataset input.</span></span> <span data-ttu-id="8195a-153">Se non è assegnata qualsiasi informazione di riduzione hello set di dati, una 10-fold la convalida incrociata viene eseguita automaticamente per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="8195a-153">If hello dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="8195a-154">Se non è stata effettuata l'assegnazione riduzione hello e viene fornito un set di dati di convalida alla porta di set di dati facoltativo hello, viene scelta una modalità train, test e hello primo set di dati è il modello di hello tootrain utilizzati per ogni combinazione di parametri.</span><span class="sxs-lookup"><span data-stu-id="8195a-154">If hello fold assignment is not done and a validation dataset is provided at hello optional dataset port, then a train-test mode is chosen and hello first dataset is used tootrain hello model for each parameter combination.</span></span>

![Classificatore dell'albero delle decisioni con innalzamento](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="8195a-156">modello Hello viene quindi valutata sul set di dati di hello convalida.</span><span class="sxs-lookup"><span data-stu-id="8195a-156">hello model is then evaluated on hello validation dataset.</span></span> <span data-ttu-id="8195a-157">Hello lasciato la porta di output di hello modulo Mostra metriche come funzioni di valori di parametro.</span><span class="sxs-lookup"><span data-stu-id="8195a-157">hello left output port of hello module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="8195a-158">Hello destra porta di output fornisce modello con training hello corrispondente al modello di prestazioni migliori toohello in base toohello scelto metrica (**accuratezza** in questo caso).</span><span class="sxs-lookup"><span data-stu-id="8195a-158">hello right output port gives hello trained model that corresponds toohello best-performing model according toohello chosen metric (**Accuracy** in this case).</span></span>  

![Set di dati di convalida](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="8195a-160">È possibile visualizzare i parametri esatti di hello scelti visualizzando hello porta di output di destra.</span><span class="sxs-lookup"><span data-stu-id="8195a-160">You can see hello exact parameters chosen by visualizing hello right output port.</span></span> <span data-ttu-id="8195a-161">Questo modello può essere utilizzato per la valutazione in un set di test o in un servizio web operativo dopo il salvataggio come modello per il training.</span><span class="sxs-lookup"><span data-stu-id="8195a-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
