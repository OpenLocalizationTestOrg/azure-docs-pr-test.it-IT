---
title: Preparare la pubblicazione o la distribuzione di un'applicazione di Azure da Visual Studio | Documentazione Microsoft
description: Informazioni sulle procedure per la configurazione di servizi cloud e dell'account di archiviazione e per la configurazione dell'applicazione Azure.
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 92ee2f9e-ec49-4c7a-900d-620abe5e9d8a
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: cc4fb87e559f554634ae062a59bee31f0831da64
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="prepare-to-publish-or-deploy-an-azure-application-from-visual-studio"></a><span data-ttu-id="b0e4e-103">Preparare la pubblicazione o la distribuzione di un'applicazione di Azure da Visual Studio</span><span class="sxs-lookup"><span data-stu-id="b0e4e-103">Prepare to Publish or Deploy an Azure Application from Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="b0e4e-104">Overview</span><span class="sxs-lookup"><span data-stu-id="b0e4e-104">Overview</span></span>
<span data-ttu-id="b0e4e-105">Per potere pubblicare un progetto di servizio cloud, è prima di tutto necessario configurare i servizi seguenti:</span><span class="sxs-lookup"><span data-stu-id="b0e4e-105">Before you can publish a cloud service project, you must set up the following services:</span></span>

* <span data-ttu-id="b0e4e-106">Un **servizio cloud** per l'esecuzione dei ruoli nell'ambiente Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-106">A **cloud service** to run your roles in the Azure environment</span></span>
* <span data-ttu-id="b0e4e-107">Un **account di archiviazione** che fornisce l'accesso ai servizi BLOB, code e tabelle.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-107">A **storage account** that provides access to the Blob, Queue, and Table services.</span></span>

<span data-ttu-id="b0e4e-108">Usare le procedure seguenti per impostare questi servizi e configurare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-108">Use the following procedures to set up these services and configure your application</span></span>

## <a name="create-a-cloud-service"></a><span data-ttu-id="b0e4e-109">Creare un servizio cloud</span><span class="sxs-lookup"><span data-stu-id="b0e4e-109">Create a cloud service</span></span>
<span data-ttu-id="b0e4e-110">Per pubblicare un servizio cloud in Azure, è prima di tutto necessario creare un servizio cloud, che esegue i ruoli nell'ambiente Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-110">To publish a cloud service to Azure, you must first create a cloud service, which runs your roles in the Azure environment.</span></span> <span data-ttu-id="b0e4e-111">È possibile creare un servizio cloud nel [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885)come descritto nella sezione **Per creare un servizio cloud usando il portale di Azure classico**, più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-111">You can create a cloud service in the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), as described in the section **To create a cloud service by using the Azure classic portal**, later in this topic.</span></span> <span data-ttu-id="b0e4e-112">È anche possibile creare un servizio cloud in Visual Studio usando la Pubblicazione guidata.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-112">You can also create a cloud service in Visual Studio by using the publishing wizard.</span></span>

### <a name="to-create-a-cloud-service-by-using-visual-studio"></a><span data-ttu-id="b0e4e-113">Per creare un servizio cloud usando Visual Studio</span><span class="sxs-lookup"><span data-stu-id="b0e4e-113">To create a cloud service by using Visual Studio</span></span>
1. <span data-ttu-id="b0e4e-114">Aprire il menu di scelta rapida per il progetto Azure, quindi scegliere **Pubblica**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-114">Open the shortcut menu for the Azure project, and choose **Publish**.</span></span>

    ![VST_PublishMenu](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/vst-publish-menu.png)
2. <span data-ttu-id="b0e4e-116">Se non è ancora stato fatto, accedere con il nome utente e la password dell'account Microsoft o dell'account aziendale associato alla sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-116">If you haven't signed in, sign in with your username and password for the Microsoft account or organizational account that's associated with your Azure subscription.</span></span>
3. <span data-ttu-id="b0e4e-117">Scegliere il pulsante **Avanti** per passare alle pagina **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-117">Choose the **Next** button to advance to the **Settings** page.</span></span>

    ![Impostazioni comuni della Pubblicazione guidata](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/publish-settings-page.png)
4. <span data-ttu-id="b0e4e-119">Nell'elenco **Servizi cloud** scegliere **Crea nuovo**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-119">In the **Cloud Services** list, choose **Create New**.</span></span> <span data-ttu-id="b0e4e-120">La finestra di dialogo **Crea Servizi di Azure** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-120">The **Create Azure Services** dialog appears.</span></span>
5. <span data-ttu-id="b0e4e-121">Immettere il nome del servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-121">Enter the name of your cloud service.</span></span> <span data-ttu-id="b0e4e-122">Il nome fa parte dell'URL per il servizio, quindi deve essere globalmente univoco.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-122">The name forms part of the URL for your service and therefore must be globally unique.</span></span> <span data-ttu-id="b0e4e-123">Nel nome non viene fatta distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-123">The name is not case-sensitive.</span></span>

### <a name="to-create-a-cloud-service-by-using-the-azure-classic-portal"></a><span data-ttu-id="b0e4e-124">Per creare un servizio cloud usando il portale di Azure classico</span><span class="sxs-lookup"><span data-stu-id="b0e4e-124">To create a cloud service by using the Azure classic portal</span></span>
1. <span data-ttu-id="b0e4e-125">Accedere al [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkId=253103) nel sito Web Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-125">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span></span>
2. <span data-ttu-id="b0e4e-126">(Facoltativo) Per visualizzare un elenco di servizi cloud già creati, selezionare il collegamento Servizi cloud sul lato sinistro della pagina.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-126">(optional) To display a list of cloud services that you've already created, choose the Cloud Services link on the left side of the page.</span></span>
3. <span data-ttu-id="b0e4e-127">Fare clic sull'icona **+** nell'angolo inferiore sinistro, quindi scegliere **Servizio cloud** dal menu visualizzato.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-127">Choose the **+** icon in the lower-left corner, and then choose **Cloud Service** on the menu that appears.</span></span> <span data-ttu-id="b0e4e-128">Verrà visualizzata un'altra schermata con due opzioni disponibili, **Creazione rapida** e **Creazione personalizzata**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-128">Another screen with two options, **Quick Create** and **Custom Create**, appears.</span></span> <span data-ttu-id="b0e4e-129">L'opzione **Creazione rapida**consente di creare un servizio cloud semplicemente specificandone l'URL e l'area in cui sarà ospitato fisicamente.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-129">If you choose **Quick Create**, you can create a cloud service just by specifying its URL and the region where it will be physically hosted.</span></span> <span data-ttu-id="b0e4e-130">L'opzione **Creazione personalizzata**consente di pubblicare immediatamente un servizio cloud specificando un pacchetto (file con estensione .cspkg), un file di configurazione (file con estensione .cscfg) e un certificato.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-130">If you choose **Custom Create**, you can immediately publish a cloud service by specifying a package (.cspkg file), a configuration (.cscfg) file, and a certificate.</span></span> <span data-ttu-id="b0e4e-131">La Creazione personalizzata non è necessaria se si intende pubblicare il servizio cloud usando il comando **Pubblica** in un progetto Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-131">Custom Create isn’t required if you intend to publish your cloud service by using the **Publish** command in an Azure project.</span></span> <span data-ttu-id="b0e4e-132">Il comando **Pubblica** è disponibile nel menu di scelta rapida per un progetto Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-132">The **Publish** command is available on the shortcut menu for an Azure project.</span></span>
4. <span data-ttu-id="b0e4e-133">Scegliere l'opzione **Creazione rapida** per pubblicare il servizio cloud in un secondo momento usando Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-133">Choose **Quick Create** to later publish your cloud service by using Visual Studio.</span></span>
5. <span data-ttu-id="b0e4e-134">Specificare un nome per il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-134">Specify a name for your cloud service.</span></span> <span data-ttu-id="b0e4e-135">Accanto al nome verrà visualizzato l'URL completo.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-135">The complete URL appears next to the name.</span></span>
6. <span data-ttu-id="b0e4e-136">Nell'elenco scegliere l'area in cui si trova la maggior parte degli utenti.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-136">In the list, choose the region where most of your users are located.</span></span>
7. <span data-ttu-id="b0e4e-137">Nella parte inferiore della finestra fare clic sul collegamento **Crea servizio cloud** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-137">At the bottom of the window, choose the **Create Cloud Service** link.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="b0e4e-138">Creare un account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="b0e4e-138">Create a storage account</span></span>
<span data-ttu-id="b0e4e-139">Un account di archiviazione fornisce l'accesso ai servizi BLOB, code e tabelle.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-139">A storage account provides access to the Blob, Queue, and Table services.</span></span> <span data-ttu-id="b0e4e-140">È possibile creare un account di archiviazione usando Visual Studio o il [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkId=253103).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-140">You can create a storage account by using Visual Studio or the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103).</span></span>

### <a name="to-create-a-storage-account-by-using-visual-studio"></a><span data-ttu-id="b0e4e-141">Per creare un account di archiviazione usando Visual Studio</span><span class="sxs-lookup"><span data-stu-id="b0e4e-141">To create a storage account by using Visual Studio</span></span>
1. <span data-ttu-id="b0e4e-142">In **Esplora soluzioni** aprire il menu di scelta rapida per il nodo **Archiviazione**, quindi scegliere **Crea account di archiviazione**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-142">In **Solution Explorer**, open the shortcut menu for the **Storage** node, and then choose **Create Storage Account**.</span></span>

    ![Creare un nuovo account di archiviazione di Azure](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/IC744166.png)
2. <span data-ttu-id="b0e4e-144">Selezionare o immettere le informazioni seguenti per il nuovo account di archiviazione nella finestra di dialogo **Crea account di archiviazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-144">Select or enter the following information for the new storage account in the **Create Storage Account** dialog box.</span></span>

   * <span data-ttu-id="b0e4e-145">Sottoscrizione di Azure a cui aggiungere l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-145">The Azure subscription to which you want to add the storage account.</span></span>
   * <span data-ttu-id="b0e4e-146">Nome da usare per il nuovo account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-146">The name you want to use for the new storage account.</span></span>
   * <span data-ttu-id="b0e4e-147">Area o set di affinità (ad esempio Stati Uniti occidentali o Asia orientale).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-147">The region or affinity group (such as West US or East Asia).</span></span>
   * <span data-ttu-id="b0e4e-148">Tipo di replica da usare per l'account di archiviazione, ad esempio Con ridondanza geografica.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-148">The type of replication you want to use for the storage account, such as Geo-Redundant.</span></span>
3. <span data-ttu-id="b0e4e-149">Al termine dell'operazione scegliere **Crea**. Il nuovo account di archiviazione viene visualizzato nell'elenco **Archiviazione** in **Esplora server**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-149">When you’re done, choose **Create**.The new storage account appears in the **Storage** list in **Server Explorer**.</span></span>

### <a name="to-create-a-storage-account-by-using-the-azure-classic-portal"></a><span data-ttu-id="b0e4e-150">Per creare un account di archiviazione usando il portale di Azure classico</span><span class="sxs-lookup"><span data-stu-id="b0e4e-150">To create a storage account by using the Azure classic portal</span></span>
1. <span data-ttu-id="b0e4e-151">Accedere al [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkId=253103) nel sito Web Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-151">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span></span>
2. <span data-ttu-id="b0e4e-152">(Facoltativo) Per visualizzare gli account di archiviazione, fare clic sul collegamento **Archiviazione** nel riquadro sul lato sinistro della pagina.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-152">(Optional) To view your storage accounts, choose the **Storage** link in the panel on the left side of the page.</span></span>
3. <span data-ttu-id="b0e4e-153">Nell'angolo inferiore sinistro della pagina fare clic sull'icona **+** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-153">In the lower-left corner of the page, choose the **+** icon.</span></span>
4. <span data-ttu-id="b0e4e-154">Nel menu visualizzato scegliere **Archiviazione**, quindi **Creazione rapida**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-154">In the menu that appears, choose **Storage**, and then choose **Quick Create**.</span></span>
5. <span data-ttu-id="b0e4e-155">Assegnare un nome all'account di archiviazione che rappresenterà un URL univoco.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-155">Give the storage account a name that will result in a unique url.</span></span>
6. <span data-ttu-id="b0e4e-156">Assegnare un nome al servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-156">Give your cloud service a name.</span></span> <span data-ttu-id="b0e4e-157">Accanto al nome verrà visualizzato l'URL completo.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-157">The complete URL appears next to the name.</span></span>
7. <span data-ttu-id="b0e4e-158">Nell'elenco delle aree scegliere l'area in cui si trova la maggior parte degli utenti.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-158">In the list of regions, choose a region where most of your users are located.</span></span>
8. <span data-ttu-id="b0e4e-159">Specificare se si vuole abilitare la replica geografica.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-159">Specify whether you want to enable geo-replication.</span></span> <span data-ttu-id="b0e4e-160">Se la si abilita, i dati saranno salvati in più ubicazioni fisiche per ridurre i rischi di perdita dei dati.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-160">If you enable geo-replication, your data will be saved in multiple physical locations to reduce the chance of loss.</span></span> <span data-ttu-id="b0e4e-161">Questa funzionalità rende più costoso il processo di archiviazione. Tuttavia è possibile ridurre il costo abilitando la georilevazione quando si crea l'account di archiviazione anziché aggiungere la funzionalità in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-161">This feature makes storage more expensive, but you can reduce the cost by enabling geo-location when you create the storage account instead of adding the feature later.</span></span> <span data-ttu-id="b0e4e-162">Per altre informazioni, vedere [Replica geografica](http://go.microsoft.com/fwlink/?LinkId=253108).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-162">For more information, see [Geo-replication](http://go.microsoft.com/fwlink/?LinkId=253108).</span></span>
9. <span data-ttu-id="b0e4e-163">Nella parte inferiore della finestra fare clic sul collegamento **Crea account di archiviazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-163">At the bottom of the window, choose the **Create Storage Account** link.</span></span>

<span data-ttu-id="b0e4e-164">Dopo la creazione dell'account di archiviazione, saranno visualizzati gli URL che è possibile usare per accedere alle risorse di ogni servizio di archiviazione di Azure, nonché la chiavi di accesso primaria e secondaria per l'account.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-164">After you create your storage account, you will see the URLs that you can use to access resources in each of the Azure storage services, and also the primary and secondary access keys for your account.</span></span> <span data-ttu-id="b0e4e-165">Questi tasti possono essere usati per autenticare le richieste eseguite in relazione ai servizi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-165">You use these keys to authenticate requests made against the storage services.</span></span>

> [!NOTE]
> <span data-ttu-id="b0e4e-166">La chiave di accesso secondaria fornisce lo stesso accesso all'account di archiviazione offerto da quella primaria e viene generata come backup nel caso in cui la chiave di accesso primaria dovesse essere compromessa.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-166">The secondary access key provides the same access to your storage account as the primary access key and is generated as a backup should your primary access key be compromised.</span></span> <span data-ttu-id="b0e4e-167">È anche consigliabile rigenerare regolarmente le chiavi di accesso.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-167">Additionally, it is recommended that you regenerate your access keys on a regular basis.</span></span> <span data-ttu-id="b0e4e-168">È possibile modificare l'impostazione di una stringa di connessione per usare la chiave secondaria mentre si rigenera quella primaria, quindi procedere nuovamente alla modifica per usare la chiave primaria rigenerata mentre si rigenera quella secondaria.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-168">You can modify a connection string setting to use the secondary key while you regenerate the primary key, then you can modify it to use the regenerated primary key while you regenerate the secondary key.</span></span>
>
>

## <a name="configure-your-app-to-use-services-provided-by-the-storage-account"></a><span data-ttu-id="b0e4e-169">Configurare l'app per usare servizi forniti dall'account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="b0e4e-169">Configure your app to use services provided by the storage account</span></span>
<span data-ttu-id="b0e4e-170">È necessario configurare un ruolo che acceda ai servizi di archiviazione per usare i servizi di archiviazione di Azure creati.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-170">You must configure any role that accesses storage services to use the Azure storage services that you have created.</span></span> <span data-ttu-id="b0e4e-171">A questo scopo, è possibile usare più configurazioni del servizio per il progetto Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-171">To do this, you can use multiple service configurations for your Azure project.</span></span> <span data-ttu-id="b0e4e-172">Per impostazione predefinita, nel progetto Azure vengono create due configurazioni.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-172">By default, two are created in your Azure project.</span></span> <span data-ttu-id="b0e4e-173">L'uso di più configurazioni del servizio consente di usare la stessa stringa di connessione nel codice, ma la stringa di connessione in ogni configurazione del servizio avrà un valore diverso.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-173">By using multiple service configurations, you can use the same connection string in your code, but have a different value for a connection string in each service configuration.</span></span> <span data-ttu-id="b0e4e-174">Ad esempio, è possibile usare una configurazione del servizio per eseguire ed effettuare il debug dell'applicazione in locale usando l'emulatore di archiviazione di Azure e una configurazione del servizio diversa per pubblicare l'applicazione in Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-174">For example, you can use one service configuration to run and debug your application locally using the Azure storage emulator and a different service configuration to publish your application to Azure.</span></span> <span data-ttu-id="b0e4e-175">Per altre informazioni sulle configurazioni del servizio, vedere [Configurazione di un progetto Azure usando configurazioni del servizio multiple](vs-azure-tools-multiple-services-project-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-175">For more information about service configurations, see [Configuring Your Azure Project Using Multiple Service Configurations](vs-azure-tools-multiple-services-project-configurations.md).</span></span>

### <a name="to-configure-your-application-to-use-services-that-the-storage-account-provides"></a><span data-ttu-id="b0e4e-176">Per configurare l'applicazione per usare i servizi forniti dall'account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="b0e4e-176">To configure your application to use services that the storage account provides</span></span>
1. <span data-ttu-id="b0e4e-177">In Visual Studio aprire la soluzione Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-177">In Visual Studio open your Azure solution.</span></span> <span data-ttu-id="b0e4e-178">In Esplora soluzioni aprire il menu di scelta rapida per ogni ruolo nel progetto Azure che accede ai servizi di archiviazione e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-178">In Solution Explorer, open the shortcut menu for each role in your Azure project that accesses the storage services and choose **Properties**.</span></span> <span data-ttu-id="b0e4e-179">Una pagina con il nome del ruolo viene visualizzata nell'editor di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-179">A page with the name of the role is displayed in the Visual Studio editor.</span></span> <span data-ttu-id="b0e4e-180">La pagina visualizza i campi per la scheda **Configurazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-180">The page displays the fields for the **Configuration** tab.</span></span>
2. <span data-ttu-id="b0e4e-181">Nelle pagine delle proprietà per il ruolo scegliere **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-181">In the property pages for the role, choose **Settings**.</span></span>
3. <span data-ttu-id="b0e4e-182">Nell'elenco **Configurazione del servizio** scegliere il nome della configurazione del servizio da modificare.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-182">In the **Service Configuration** list, choose the name of the service configuration that you want to edit.</span></span> <span data-ttu-id="b0e4e-183">Per apportare modifiche a tutte le configurazioni del servizio per questo ruolo, è possibile scegliere **Tutte le configurazioni**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-183">If you want to make changes to all of the service configurations for this role, you can choose **All Configurations**.</span></span>  <span data-ttu-id="b0e4e-184">Per altre informazioni su come aggiornare le configurazioni del servizio, vedere la sezione **Gestire le stringhe di connessione per gli account di archiviazione** nell'argomento [Configurare i ruoli per un servizio cloud di Azure con Visual Studio](vs-azure-tools-configure-roles-for-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-184">For more information about how to update service configurations, see the section **Manage Connection Strings for Storage Accounts** in the topic [Configure the Roles for an Azure Cloud Service with Visual Studio](vs-azure-tools-configure-roles-for-cloud-service.md).</span></span>
4. <span data-ttu-id="b0e4e-185">Per modificare un'impostazione della stringa di connessione, scegliere il pulsante **…**</span><span class="sxs-lookup"><span data-stu-id="b0e4e-185">To modify any connection string settings, choose the **…**</span></span> <span data-ttu-id="b0e4e-186">accanto all'impostazione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-186">button next to the setting.</span></span> <span data-ttu-id="b0e4e-187">Verrà visualizzata la finestra di dialogo **Crea stringa di connessione a risorsa di archiviazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-187">The **Create Storage Connection String** dialog box appears.</span></span>
5. <span data-ttu-id="b0e4e-188">In **Connetti tramite** scegliere l'opzione **Sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-188">Under **Connect using**, choose the **Your subscription** option.</span></span>
6. <span data-ttu-id="b0e4e-189">Nell'elenco **Sottoscrizione** scegliere la sottoscrizione da usare.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-189">In the **Subscription** list, choose your subscription.</span></span> <span data-ttu-id="b0e4e-190">Se l'elenco delle sottoscrizioni non include quella desiderata, selezionare il collegamento **Download impostazioni di pubblicazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-190">If the list of subscriptions doesn't include the one that you want, choose the **Download Publish Settings** link.</span></span>
7. <span data-ttu-id="b0e4e-191">Scegliere il nome dell'account di archiviazione dall'elenco **Nome account** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-191">In the **Account name** list, choose your storage account name.</span></span> <span data-ttu-id="b0e4e-192">Gli strumenti di Azure ottengono le credenziali dell'account di archiviazione automaticamente tramite il file con estensione publishsettings.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-192">Azure Tools obtains storage account credentials automatically by using the .publishsettings file.</span></span> <span data-ttu-id="b0e4e-193">Per specificare le credenziali dell'account di archiviazione manualmente, scegliere l'opzione **Credenziali immesse manualmente** e quindi continuare la procedura.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-193">To specify your storage account credentials manually, choose the **Manually entered credentials** option, and then continue with this procedure.</span></span> <span data-ttu-id="b0e4e-194">È possibile ottenere la chiave primaria e il nome dell'account di archiviazione dal [portale di Azure classico](http://go.microsoft.com/fwlink/p/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-194">You can get your storage account name and primary key from the [Azure classic portal](http://go.microsoft.com/fwlink/p/?LinkID=213885).</span></span> <span data-ttu-id="b0e4e-195">Se non si vogliono specificare le impostazioni dell'account di archiviazione manualmente, fare clic sul pulsante **OK** per chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-195">If you don’t want to specify your storage account settings manually, choose the **OK** button to close the dialog box.</span></span>
8. <span data-ttu-id="b0e4e-196">Fare clic sul collegamento **Immettere le credenziali dell'account di archiviazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-196">Choose the **Enter storage account** credentials link.</span></span>
9. <span data-ttu-id="b0e4e-197">Nella casella **Nome account** immettere il nome dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-197">In the **Account name** box, enter the name of your storage account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="b0e4e-198">Accedere al [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885)e quindi fare clic su **Archiviazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-198">Log into the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), and then choose the **Storage** button.</span></span> <span data-ttu-id="b0e4e-199">Il portale mostra un elenco di account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-199">The portal shows a list of storage accounts.</span></span> <span data-ttu-id="b0e4e-200">Se si sceglie un account, viene aperta una pagina corrispondente.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-200">If you choose an account, a page for it opens.</span></span> <span data-ttu-id="b0e4e-201">È possibile copiare il nome dell'account di archiviazione da questa pagina.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-201">You can copy the name of the storage account from this page.</span></span> <span data-ttu-id="b0e4e-202">Se si usa una versione precedente del portale classico, il nome dell'account di archiviazione viene indicato nella visualizzazione **Account di archiviazione** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-202">If you are using a previous version of the classic portal, the name of your storage account appears in the **Storage Accounts** view.</span></span> <span data-ttu-id="b0e4e-203">Per copiare questo nome, evidenziarlo nella finestra **Proprietà** della visualizzazione e premere CTRL+C.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-203">To copy this name, highlight it in the **Properties** window of this view, and then choose the Ctrl-C keys.</span></span> <span data-ttu-id="b0e4e-204">Per incollare il nome in Visual Studio, fare clic nella casella di testo **Nome account** e premere CTRL+V.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-204">To paste the name into Visual Studio, choose the **Account name** text box, and then choose the Ctrl+V keys.</span></span>
   >
   >
10. <span data-ttu-id="b0e4e-205">Nella casella **Chiave account** immettere la chiave primaria oppure copiarla dal [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885)e incollarla.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-205">In the **Account key** box, enter your primary key, or copy and paste it from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
     <span data-ttu-id="b0e4e-206">Per copiare la chiave:</span><span class="sxs-lookup"><span data-stu-id="b0e4e-206">To copy this key:</span></span>

    1. <span data-ttu-id="b0e4e-207">Nella parte inferiore della pagina per l'account di archiviazione appropriato selezionare il pulsante **Gestisci chiavi** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-207">At the bottom of the page for the appropriate storage account, choose the **Manage Keys** button.</span></span>
    2. <span data-ttu-id="b0e4e-208">Nella pagina **Gestisci chiavi di accesso** selezionare il testo della chiave di accesso primaria, quindi premere CTRL+C.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-208">On the **Manage Keys Access** page, select the text of the primary access key, and then choose the Ctrl+C keys.</span></span>
    3. <span data-ttu-id="b0e4e-209">Negli strumenti di Azure incollare la chiave nella casella **Chiave account** .</span><span class="sxs-lookup"><span data-stu-id="b0e4e-209">In Azure Tools, paste the key into the **Account key** box.</span></span>
    4. <span data-ttu-id="b0e4e-210">È necessario selezionare una delle opzioni seguenti per determinare le modalità di accesso del servizio all'account di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="b0e4e-210">You must select one of the following options to determine how the service will access the storage account:</span></span>

       * <span data-ttu-id="b0e4e-211">**Usa HTTP**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-211">**Use HTTP**.</span></span> <span data-ttu-id="b0e4e-212">Si tratta dell'opzione standard.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-212">This is the standard option.</span></span> <span data-ttu-id="b0e4e-213">Ad esempio: `http://<account name>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-213">For example, `http://<account name>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="b0e4e-214">**Usa HTTPS** per una connessione sicura.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-214">**Use HTTPS** for a secure connection.</span></span> <span data-ttu-id="b0e4e-215">Ad esempio: `https://<accountname>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-215">For example, `https://<accountname>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="b0e4e-216">**Specifica endpoint personalizzati** per ciascuno dei tre servizi.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-216">**Specify custom endpoints** for each of the three services.</span></span> <span data-ttu-id="b0e4e-217">È quindi possibile digitare questi endpoint nel campo per il servizio specifico.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-217">You can then type these endpoints into the field for the specific service.</span></span>

         > [!NOTE]
         > <span data-ttu-id="b0e4e-218">Se si creano endpoint personalizzati, sarà possibile creare una stringa di connessione più complessa.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-218">If you create custom endpoints, you can create a more complex connection string.</span></span> <span data-ttu-id="b0e4e-219">Quando si usa questo formato stringa, è possibile specificare endpoint del servizio di archiviazione che includono un nome di dominio personalizzato registrato per l'account di archiviazione con il servizio BLOB.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-219">When you use this string format, you can specify storage service endpoints that include a custom domain name that you have registered for your storage account with the Blob service.</span></span> <span data-ttu-id="b0e4e-220">È anche possibile concedere l'accesso solo alle risorse BLOB in un singolo contenitore, tramite una firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-220">Also you can grant access only to blob resources in a single container through a shared access signature.</span></span> <span data-ttu-id="b0e4e-221">Per altre informazioni sulla creazione di endpoint personalizzati, vedere [Configurare le stringhe di connessione di archiviazione di Azure](storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-221">For more information about how to create custom endpoints, see [Configure Azure Storage Connection Strings](storage/common/storage-configure-connection-string.md).</span></span>
         >
         >
11. <span data-ttu-id="b0e4e-222">Per salvare queste modifiche della stringa di connessione, scegliere **OK**, quindi scegliere il pulsante **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-222">To save these connection string changes, choose the **OK** button and then choose the **Save** button on the toolbar.</span></span> <span data-ttu-id="b0e4e-223">Dopo avere salvato queste modifiche, è possibile ottenere il valore di questa stringa di connessione nel codice tramite [GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-223">After you save these changes, you can get the value of this connection string in your code by using [GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx).</span></span> <span data-ttu-id="b0e4e-224">Quando si pubblica l'applicazione in Azure, scegliere la configurazione del servizio che contiene l'account di archiviazione di Azure per la stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-224">When you publish your application to Azure, choose the service configuration that contains the Azure storage account for the connection string.</span></span> <span data-ttu-id="b0e4e-225">Dopo la pubblicazione, verificare che l'applicazione funzioni come previsto rispetto ai servizi di archiviazione Azure.</span><span class="sxs-lookup"><span data-stu-id="b0e4e-225">After your application is published, verify that the application works as expected against the Azure storage services</span></span>

## <a name="next-steps"></a><span data-ttu-id="b0e4e-226">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="b0e4e-226">Next steps</span></span>
<span data-ttu-id="b0e4e-227">Per ulteriori informazioni sulla pubblicazione di app in Azure da Visual Studio, vedere [Pubblicazione di un servizio Cloud con gli strumenti di Azure](vs-azure-tools-publishing-a-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="b0e4e-227">To learn more about publishing apps to Azure from Visual Studio, see [Publishing a Cloud Service using the Azure Tools](vs-azure-tools-publishing-a-cloud-service.md).</span></span>
