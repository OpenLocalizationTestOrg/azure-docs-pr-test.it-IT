---
title: aaaCreate un nodo head di HPC Pack in una macchina virtuale di Azure | Documenti Microsoft
description: Informazioni su come toouse hello distribuzione di gestione risorse di hello e del portale Azure modello toocreate un nodo head di Microsoft HPC Pack 2012 R2 in una macchina virtuale di Azure.
services: virtual-machines-windows
documentationcenter: 
author: dlepow
manager: timlt
editor: 
tags: azure-resource-manager,hpc-pack
ms.assetid: e6a13eaf-9124-47b4-8d75-2bc4672b8f21
ms.service: virtual-machines-windows
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 12/29/2016
ms.author: danlep
ms.openlocfilehash: 3ddefb74b053a48a15f1ba1ca8edbc0192da51a8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-hello-head-node-of-an-hpc-pack-cluster-in-an-azure-vm-with-a-marketplace-image"></a><span data-ttu-id="398a0-103">Creare il nodo head di hello di un cluster HPC Pack in una macchina virtuale di Azure con un'immagine del Marketplace</span><span class="sxs-lookup"><span data-stu-id="398a0-103">Create hello head node of an HPC Pack cluster in an Azure VM with a Marketplace image</span></span>
<span data-ttu-id="398a0-104">Utilizzare un [immagine di macchina virtuale di Microsoft HPC Pack 2012 R2](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/) da hello Azure Marketplace e hello toocreate portale Azure hello nodo head di un cluster HPC.</span><span class="sxs-lookup"><span data-stu-id="398a0-104">Use a [Microsoft HPC Pack 2012 R2 virtual machine image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/) from hello Azure Marketplace and hello Azure portal toocreate hello head node of an HPC cluster.</span></span> <span data-ttu-id="398a0-105">L'immagine di macchina virtuale HPC Pack è basata su Windows Server 2012 R2 Datacenter con HPC Pack 2012 R2 Update 3 preinstallato.</span><span class="sxs-lookup"><span data-stu-id="398a0-105">This HPC Pack VM image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 pre-installed.</span></span> <span data-ttu-id="398a0-106">Usare questo nodo head per una distribuzione basata sul modello di verifica di HPC Pack in Azure.</span><span class="sxs-lookup"><span data-stu-id="398a0-106">Use this head node for a proof of concept deployment of HPC Pack in Azure.</span></span> <span data-ttu-id="398a0-107">È quindi possibile aggiungere calcolo nodi toohello toorun HPC i carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="398a0-107">You can then add compute nodes toohello cluster toorun HPC workloads.</span></span>

> [!TIP]
> <span data-ttu-id="398a0-108">completamento del cluster HPC Pack 2012 R2 in Azure che include nodi di calcolo e del nodo head hello toodeploy, è consigliabile utilizzare un metodo automatico.</span><span class="sxs-lookup"><span data-stu-id="398a0-108">toodeploy a complete HPC Pack 2012 R2 cluster in Azure that includes hello head node and compute nodes, we recommend that you use an automated method.</span></span> <span data-ttu-id="398a0-109">Le opzioni includono hello [script di distribuzione IaaS di HPC Pack](classic/hpcpack-cluster-powershell-script.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json) e modelli di gestione risorse, ad esempio hello [cluster HPC Pack per i carichi di lavoro di Windows](https://azure.microsoft.com/marketplace/partners/microsofthpc/newclusterwindowscn/).</span><span class="sxs-lookup"><span data-stu-id="398a0-109">Options include hello [HPC Pack IaaS deployment script](classic/hpcpack-cluster-powershell-script.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json) and Resource Manager templates such as hello [HPC Pack cluster for Windows workloads](https://azure.microsoft.com/marketplace/partners/microsofthpc/newclusterwindowscn/).</span></span> <span data-ttu-id="398a0-110">I modelli di Resource Manager sono disponibili anche per i [cluster Microsoft HPC Pack 2016](https://github.com/MsHpcPack/HPCPack2016/tree/master/newcluster-templates).</span><span class="sxs-lookup"><span data-stu-id="398a0-110">Resource Manager templates are also available for [Microsoft HPC Pack 2016 clusters](https://github.com/MsHpcPack/HPCPack2016/tree/master/newcluster-templates).</span></span> 
> 
> 

## <a name="planning-considerations"></a><span data-ttu-id="398a0-111">Considerazioni sulla pianificazione</span><span class="sxs-lookup"><span data-stu-id="398a0-111">Planning considerations</span></span>
<span data-ttu-id="398a0-112">Come illustrato nella seguente illustrazione hello, si distribuisce nodo head di HPC Pack hello in un dominio di Active Directory in una rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="398a0-112">As shown in hello following figure, you deploy hello HPC Pack head node in an Active Directory domain in an Azure virtual network.</span></span>

![Nodo head HPC Pack][headnode]

* <span data-ttu-id="398a0-114">**Dominio di Active Directory**: hello deve essere un nodo head HPC Pack 2012 R2 aggiunti a un dominio di Active Directory tooan in Azure prima di avviare i servizi HPC hello nei hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="398a0-114">**Active Directory domain**: hello HPC Pack 2012 R2 head node must be joined tooan Active Directory domain in Azure before you start hello HPC services on hello VM.</span></span> <span data-ttu-id="398a0-115">Come illustrato in questo articolo per una prova di distribuzione, è possibile alzare di livello macchina virtuale creata per il nodo head hello come controller di dominio prima di avviare i servizi HPC hello hello.</span><span class="sxs-lookup"><span data-stu-id="398a0-115">As shown in this article, for a proof of concept deployment, you can promote hello VM you create for hello head node as a domain controller before starting hello HPC services.</span></span> <span data-ttu-id="398a0-116">Un'altra opzione è toodeploy un controller di dominio separato e foresta in Azure toowhich join hello macchina virtuale del nodo head.</span><span class="sxs-lookup"><span data-stu-id="398a0-116">Another option is toodeploy a separate domain controller and forest in Azure toowhich you join hello head node VM.</span></span>

* <span data-ttu-id="398a0-117">**Modello di distribuzione**: per la maggior parte delle nuove distribuzioni, Microsoft consiglia di utilizzare il modello di distribuzione del hello Gestione risorse.</span><span class="sxs-lookup"><span data-stu-id="398a0-117">**Deployment model**: For most new deployments, Microsoft recommends that you use hello Resource Manager deployment model.</span></span> <span data-ttu-id="398a0-118">Questo articolo presuppone che si usi questo modello di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="398a0-118">This article assumes that you use this deployment model.</span></span>

* <span data-ttu-id="398a0-119">**Rete virtuale di Azure**: quando si usa hello Gestione risorse distribuzione toodeploy hello head nodo del modello, specificare o creare una rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="398a0-119">**Azure virtual network**: When you use hello Resource Manager deployment model toodeploy hello head node, you specify or create an Azure virtual network.</span></span> <span data-ttu-id="398a0-120">È possibile utilizzare la rete virtuale hello è necessario toojoin hello nodo head tooan dominio Active Directory esistente.</span><span class="sxs-lookup"><span data-stu-id="398a0-120">You use hello virtual network if you need toojoin hello head node tooan existing Active Directory domain.</span></span> <span data-ttu-id="398a0-121">È inoltre necessario successive tooadd del nodo di calcolo cluster toohello macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="398a0-121">You also need it later tooadd compute node VMs toohello cluster.</span></span>

## <a name="steps-toocreate-hello-head-node"></a><span data-ttu-id="398a0-122">Nodo head di passaggi toocreate hello</span><span class="sxs-lookup"><span data-stu-id="398a0-122">Steps toocreate hello head node</span></span>
<span data-ttu-id="398a0-123">Di seguito sono passaggi di alto livello toouse hello toocreate portale Azure una macchina virtuale di Azure per il nodo head di HPC Pack hello con modello di distribuzione di gestione risorse di hello.</span><span class="sxs-lookup"><span data-stu-id="398a0-123">Following are high-level steps toouse hello Azure portal toocreate an Azure VM for hello HPC Pack head node by using hello Resource Manager deployment model.</span></span> 

1. <span data-ttu-id="398a0-124">Se si desidera toocreate una nuova foresta di Active Directory in Azure con il controller di dominio separato macchine virtuali, è toouse un [modello di gestione risorse](https://github.com/Azure/azure-quickstart-templates/tree/master/active-directory-new-domain-ha-2-dc).</span><span class="sxs-lookup"><span data-stu-id="398a0-124">If you want toocreate a new Active Directory forest in Azure with separate domain controller VMs, one option is toouse a [Resource Manager template](https://github.com/Azure/azure-quickstart-templates/tree/master/active-directory-new-domain-ha-2-dc).</span></span> <span data-ttu-id="398a0-125">Per un semplice modello di prova di distribuzione, ha un preciso tooomit questo passaggio e configurare il nodo head hello macchina virtuale come controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="398a0-125">For a simple proof of concept deployment, it's fine tooomit this step and configure hello head node VM itself as a domain controller.</span></span> <span data-ttu-id="398a0-126">Le opzioni sono descritte più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="398a0-126">This option is described later in this article.</span></span>
2. <span data-ttu-id="398a0-127">In hello [HPC Pack 2012 R2 in Windows Server 2012 R2 pagina](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/) hello Azure Marketplace, fare clic su **crea macchina virtuale**.</span><span class="sxs-lookup"><span data-stu-id="398a0-127">On hello [HPC Pack 2012 R2 on Windows Server 2012 R2 page](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/) in hello Azure Marketplace, click **Create Virtual Machine**.</span></span> 
3. <span data-ttu-id="398a0-128">Nel portale hello hello **HPC Pack 2012 R2 in Windows Server 2012 R2** pagina, seleziona hello **Gestione risorse** modello di distribuzione e quindi fare clic su **crea**.</span><span class="sxs-lookup"><span data-stu-id="398a0-128">In hello portal, on hello **HPC Pack 2012 R2 on Windows Server 2012 R2** page, select hello **Resource Manager** deployment model and then click **Create**.</span></span>
   
    ![Immagine di HPC Pack][marketplace]
4. <span data-ttu-id="398a0-130">Utilizzare le impostazioni di hello tooconfigure portale hello e creare hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="398a0-130">Use hello portal tooconfigure hello settings and create hello VM.</span></span> <span data-ttu-id="398a0-131">Se si tooAzure nuovo, seguire l'esercitazione hello [creare una macchina virtuale di Windows nel portale di Azure hello](../virtual-machines-windows-hero-tutorial.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="398a0-131">If you're new tooAzure, follow hello tutorial [Create a Windows virtual machine in hello Azure portal](../virtual-machines-windows-hero-tutorial.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="398a0-132">Per una prova di distribuzione, è in genere accettare hello predefinita o impostazioni consigliate.</span><span class="sxs-lookup"><span data-stu-id="398a0-132">For a proof of concept deployment, you can usually accept hello default or recommended settings.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="398a0-133">Se si desidera toojoin hello nodo head tooan esistente di dominio Active Directory in Azure, assicurarsi di che specificare la rete virtuale di hello per quel dominio durante la creazione di hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="398a0-133">If you want toojoin hello head node tooan existing Active Directory domain in Azure, make sure you specify hello virtual network for that domain when creating hello VM.</span></span>
   > 
   > 
5. <span data-ttu-id="398a0-134">Dopo aver creato hello VM e hello macchina virtuale è in esecuzione, [connettersi toohello VM](connect-logon.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) da Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="398a0-134">After you create hello VM and hello VM is running, [connect toohello VM](connect-logon.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) by Remote Desktop.</span></span> 
6. <span data-ttu-id="398a0-135">Creare un join foresta di domini di Active Directory di hello VM tooan scegliendo una delle seguenti opzioni hello:</span><span class="sxs-lookup"><span data-stu-id="398a0-135">Join hello VM tooan Active Directory domain forest by choosing one of hello following options:</span></span>
   
   * <span data-ttu-id="398a0-136">Hello VM è stato creato in una rete virtuale Azure con una foresta di domini esistente, unire in join dell'insieme di strutture di hello VM toohello utilizzando gli strumenti di Server Manager o Windows PowerShell standard.</span><span class="sxs-lookup"><span data-stu-id="398a0-136">If you created hello VM in an Azure virtual network with an existing domain forest, join hello VM toohello forest by using standard Server Manager or Windows PowerShell tools.</span></span> <span data-ttu-id="398a0-137">Eseguire quindi il riavvio.</span><span class="sxs-lookup"><span data-stu-id="398a0-137">Then restart.</span></span>
   * <span data-ttu-id="398a0-138">Se si crea una nuova rete virtuale (senza una foresta di domini esistente) hello VM, quindi alzare di livello hello VM come controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="398a0-138">If you created hello VM in a new virtual network (without an existing domain forest), then promote hello VM as a domain controller.</span></span> <span data-ttu-id="398a0-139">Utilizzare i passaggi standard tooinstall e configurare il ruolo di servizi di dominio Active Directory hello nel nodo head hello.</span><span class="sxs-lookup"><span data-stu-id="398a0-139">Use standard steps tooinstall and configure hello Active Directory Domain Services role on hello head node.</span></span> <span data-ttu-id="398a0-140">Per informazioni dettagliate, vedere [Installare una nuova foresta di Active Directory di Windows Server 2012](https://technet.microsoft.com/library/jj574166.aspx).</span><span class="sxs-lookup"><span data-stu-id="398a0-140">For detailed steps, see [Install a New Windows Server 2012 Active Directory Forest](https://technet.microsoft.com/library/jj574166.aspx).</span></span>
7. <span data-ttu-id="398a0-141">Dopo aver hello macchina virtuale è in esecuzione e tooan aggiunti a un insieme di strutture Active Directory, avviare i servizi di HPC Pack hello come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="398a0-141">After hello VM is running and is joined tooan Active Directory forest, start hello HPC Pack services as follows:</span></span>
   
    <span data-ttu-id="398a0-142">a.</span><span class="sxs-lookup"><span data-stu-id="398a0-142">a.</span></span> <span data-ttu-id="398a0-143">Connessione macchina virtuale utilizzando un account di dominio che è un membro del gruppo Administrators locale hello del nodo head toohello.</span><span class="sxs-lookup"><span data-stu-id="398a0-143">Connect toohello head node VM using a domain account that is a member of hello local Administrators group.</span></span> <span data-ttu-id="398a0-144">Ad esempio, utilizzare account di amministratore hello impostate al momento della creazione macchina virtuale del nodo head hello.</span><span class="sxs-lookup"><span data-stu-id="398a0-144">For example, use hello administrator account you set up when you created hello head node VM.</span></span>
   
    <span data-ttu-id="398a0-145">b.</span><span class="sxs-lookup"><span data-stu-id="398a0-145">b.</span></span> <span data-ttu-id="398a0-146">Per una configurazione del nodo head predefinito, avviare Windows PowerShell come amministratore e digitare hello riportato di seguito:</span><span class="sxs-lookup"><span data-stu-id="398a0-146">For a default head node configuration, start Windows PowerShell as an administrator and type hello following:</span></span>
   
    ```PowerShell
    & $env:CCP_HOME\bin\HPCHNPrepare.ps1 –DBServerInstance ".\ComputeCluster"
    ```
   
    <span data-ttu-id="398a0-147">Può richiedere alcuni minuti per hello HPC Pack servizi toostart.</span><span class="sxs-lookup"><span data-stu-id="398a0-147">It can take several minutes for hello HPC Pack services toostart.</span></span>
   
    <span data-ttu-id="398a0-148">Per ulteriori opzioni per la configurazione del nodo head, digitare `get-help HPCHNPrepare.ps1`.</span><span class="sxs-lookup"><span data-stu-id="398a0-148">For additional head node configuration options, type `get-help HPCHNPrepare.ps1`.</span></span>

## <a name="next-steps"></a><span data-ttu-id="398a0-149">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="398a0-149">Next steps</span></span>
* <span data-ttu-id="398a0-150">È ora possibile lavorare con i nodi head hello del cluster HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="398a0-150">You can now work with hello head node of your HPC Pack cluster.</span></span> <span data-ttu-id="398a0-151">Ad esempio, avviare Gestione Cluster HPC e hello completo [elenco attività di distribuzione](https://technet.microsoft.com/library/jj884141.aspx).</span><span class="sxs-lookup"><span data-stu-id="398a0-151">For example, start HPC Cluster Manager, and complete hello [Deployment To-do List](https://technet.microsoft.com/library/jj884141.aspx).</span></span>
* <span data-ttu-id="398a0-152">Se si desidera tooincrease hello del cluster di calcolo della capacità su richiesta, aggiungere [nodi di potenziamento di Azure](classic/hpcpack-cluster-node-burst.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json) in un servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="398a0-152">If you want tooincrease hello cluster compute capacity on-demand, add [Azure burst nodes](classic/hpcpack-cluster-node-burst.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json) in a cloud service.</span></span> 
* <span data-ttu-id="398a0-153">Provare a eseguire un test di carico nel cluster hello.</span><span class="sxs-lookup"><span data-stu-id="398a0-153">Try running a test workload on hello cluster.</span></span> <span data-ttu-id="398a0-154">Per un esempio, vedere hello HPC Pack [Guida introduttiva](https://technet.microsoft.com/library/jj884144).</span><span class="sxs-lookup"><span data-stu-id="398a0-154">For an example, see hello HPC Pack [getting started guide](https://technet.microsoft.com/library/jj884144).</span></span>

<!--Image references-->
[headnode]: ./media/hpcpack-cluster-headnode/headnode.png
[marketplace]: ./media/hpcpack-cluster-headnode/marketplace.png
