---
title: Modelli di applicazione di SQL Server in macchine virtuali | Microsoft Docs
description: Questo articolo descrive i modelli di applicazione per SQL Server in macchine virtuali di Azure. Offre agli architetti e agli sviluppatori di soluzioni una base solida per l'architettura e il design efficace delle applicazioni.
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: a716de21e21148a082f49f0f416b14ca0eaa8192
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="c4207-104">Modelli di applicazione e strategie di sviluppo per SQL Server in Macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="c4207-104">Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines</span></span>
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a><span data-ttu-id="c4207-105">Riepilogo:</span><span class="sxs-lookup"><span data-stu-id="c4207-105">Summary:</span></span>
<span data-ttu-id="c4207-106">Determinare quale modello o quali modelli dell'applicazione usare per le applicazioni basate su SQL Server in ambiente Azure è un'importante decisione di progettazione e richiede una conoscenza approfondita del funzionamento congiunto di SQL Server con ciascun componente dell'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="c4207-106">Determining which application pattern or patterns to use for your SQL-Server-based applications in Azure environment is an important design decision and it requires a solid understanding of how SQL Server and each infrastructure component of Azure work together.</span></span> <span data-ttu-id="c4207-107">Con i servizi di infrastruttura di Azure è possibile eseguire facilmente la migrazione, la manutenzione e il monitoraggio delle applicazioni SQL Server esistenti compilate nella piattaforma Windows Server in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-107">With SQL Server in Azure Infrastructure Services, you can easily migrate, maintain, and monitor your existing SQL Server applications built-on Windows Server to virtual machines in Azure.</span></span>

<span data-ttu-id="c4207-108">Lo scopo di questo articolo è di fornire agli architetti e agli sviluppatori soluzioni una base solida per l'architettura e il design efficace delle applicazioni, che potranno seguire nella migrazione di applicazioni esistenti in Azure oltre che nello sviluppo di nuove applicazioni in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-108">The goal of this article is to provide solution architects and developers a foundation for good application architecture and design, which they can follow when migrating existing applications to Azure as well as developing new applications in Azure.</span></span>

<span data-ttu-id="c4207-109">Per ogni modello di applicazione sono disponibili uno scenario locale, la rispettiva soluzione abilitata per il cloud e i consigli tecnici correlati.</span><span class="sxs-lookup"><span data-stu-id="c4207-109">For each application pattern, you will find an on-premises scenario, its respective cloud-enabled solution, and the related technical recommendations.</span></span> <span data-ttu-id="c4207-110">L'articolo discute inoltre strategie di sviluppo specifiche di Azure che consentono di progettare correttamente le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="c4207-110">In addition, the article discusses Azure-specific development strategies so that you can design your applications correctly.</span></span> <span data-ttu-id="c4207-111">A causa dell'elevato numero di possibili modelli di applicazione, è consigliabile che gli architetti e gli sviluppatori scelgano i modelli più appropriati per i relativi utenti e applicazioni.</span><span class="sxs-lookup"><span data-stu-id="c4207-111">Due to the many possible application patterns, it’s recommended that architects and developers should choose the most appropriate pattern for their applications and users.</span></span>

<span data-ttu-id="c4207-112">**Collaboratori tecnici:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span><span class="sxs-lookup"><span data-stu-id="c4207-112">**Technical Contributors:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span></span>

<span data-ttu-id="c4207-113">**Revisori tecnici:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman, Xin Jin</span><span class="sxs-lookup"><span data-stu-id="c4207-113">**Technical Reviewers:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman, Xin Jin</span></span>

## <a name="introduction"></a><span data-ttu-id="c4207-114">Introduzione</span><span class="sxs-lookup"><span data-stu-id="c4207-114">Introduction</span></span>
<span data-ttu-id="c4207-115">È possibile sviluppare numerosi tipi di applicazioni di più livelli separando i componenti dei diversi livelli di applicazione in computer diversi e in componenti separati.</span><span class="sxs-lookup"><span data-stu-id="c4207-115">You can develop many types of n-tier applications by separating the components of the different application layers on different machines as well as in separate components.</span></span> <span data-ttu-id="c4207-116">Ad esempio, è possibile inserire i componenti dell'applicazione client e le regole di business in una macchina, i componenti del livello Web front-end e del livello di accesso ai dati in un'altra macchina e un livello di database back-end in una macchina diversa.</span><span class="sxs-lookup"><span data-stu-id="c4207-116">For example, you can place the client application and business rules components in one machine, front-end web tier and data access tier components in another machine, and a back-end database tier in another machine.</span></span> <span data-ttu-id="c4207-117">Questo tipo di strutturazione contribuisce a isolare i diversi livelli.</span><span class="sxs-lookup"><span data-stu-id="c4207-117">This kind of structuring helps isolate each tier from each other.</span></span> <span data-ttu-id="c4207-118">Se si cambia la provenienza dei dati, non sarà necessario modificare l'applicazione client o Web, ma solo i componenti del livello di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="c4207-118">If you change where data comes from, you don’t need to change the client or web application but only the data access tier components.</span></span>

<span data-ttu-id="c4207-119">Una tipica applicazione *a più livelli* include il livello presentazione, il livello business e il livello dati:</span><span class="sxs-lookup"><span data-stu-id="c4207-119">A typical *n-tier* application includes the presentation tier, the business tier, and the data tier:</span></span>

| <span data-ttu-id="c4207-120">Livello</span><span class="sxs-lookup"><span data-stu-id="c4207-120">Tier</span></span> | <span data-ttu-id="c4207-121">Description</span><span class="sxs-lookup"><span data-stu-id="c4207-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c4207-122">**Presentazione**</span><span class="sxs-lookup"><span data-stu-id="c4207-122">**Presentation**</span></span> |<span data-ttu-id="c4207-123">Il *livello presentazione* (livello Web, livello front-end) è il livello in cui gli utenti interagiscono con un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-123">The *presentation tier* (web tier, front-end tier) is the layer in which users interact with an application.</span></span> |
| <span data-ttu-id="c4207-124">**Business**</span><span class="sxs-lookup"><span data-stu-id="c4207-124">**Business**</span></span> |<span data-ttu-id="c4207-125">Il *livello business* (livello intermedio) è quello usato dal livello presentazione e dal livello dati per comunicare tra loro e include la funzionalità centrale del sistema.</span><span class="sxs-lookup"><span data-stu-id="c4207-125">The *business tier* (middle tier) is the layer that the presentation tier and the data tier use to communicate with each other and includes the core functionality of the system.</span></span> |
| <span data-ttu-id="c4207-126">**Dati**</span><span class="sxs-lookup"><span data-stu-id="c4207-126">**Data**</span></span> |<span data-ttu-id="c4207-127">Il *livello dati* è fondamentalmente il server su cui vengono archiviati i dati di un'applicazione (ad esempio, un server che esegue SQL Server).</span><span class="sxs-lookup"><span data-stu-id="c4207-127">The *data tier* is basically the server that stores an application's data (for example, a server running SQL Server).</span></span> |

<span data-ttu-id="c4207-128">I livelli di applicazione rappresentano i raggruppamenti logici della funzionalità e dei componenti in un'applicazione, mentre i livelli rappresentano la distribuzione fisica delle funzionalità e dei componenti su server fisici, computer, reti o posizioni remote separate.</span><span class="sxs-lookup"><span data-stu-id="c4207-128">Application layers describe the logical groupings of the functionality and components in an application; whereas tiers describe the physical distribution of the functionality and components on separate physical servers, computers, networks, or remote locations.</span></span> <span data-ttu-id="c4207-129">I livelli di un'applicazione possono risiedere sullo stesso computer fisico (lo stesso livello) o possono essere distribuiti su computer separati (più livelli) e i componenti in ogni livello comunicano con i componenti in altri livelli attraverso interfacce ben definite.</span><span class="sxs-lookup"><span data-stu-id="c4207-129">The layers of an application may reside on the same physical computer (the same tier) or may be distributed over separate computers (n-tier), and the components in each layer communicate with components in other layers through well-defined interfaces.</span></span> <span data-ttu-id="c4207-130">Si pensi al termine "livello" come a modelli di distribuzione fisica, ad esempio due livelli, tre livelli e più livelli.</span><span class="sxs-lookup"><span data-stu-id="c4207-130">You can think of the term tier as referring to physical distribution patterns such as two-tier, three-tier, and n-tier.</span></span> <span data-ttu-id="c4207-131">Un **modello di applicazione a 2 livelli** contiene due livelli di applicazione: server applicazioni e server di database.</span><span class="sxs-lookup"><span data-stu-id="c4207-131">A **2-tier application pattern** contains two application tiers: application server and database server.</span></span> <span data-ttu-id="c4207-132">La comunicazione diretta avviene tra il server applicazioni e il server di database.</span><span class="sxs-lookup"><span data-stu-id="c4207-132">The direct communication happens between the application server and the database server.</span></span> <span data-ttu-id="c4207-133">Il server applicazioni contiene componenti sia del livello Web sia del livello business.</span><span class="sxs-lookup"><span data-stu-id="c4207-133">The application server contains both web-tier and business-tier components.</span></span> <span data-ttu-id="c4207-134">Un **modello di applicazione a 3 livelli**contiene tre livelli di applicazione: server Web, server applicazioni, che contiene il livello di logica di business e/o i componenti di accesso ai dati del livello business, e infine il server di database.</span><span class="sxs-lookup"><span data-stu-id="c4207-134">In **3-tier application pattern**, there are three application tiers: web server, application server, which contains the business logic tier and/or business tier data access components, and the database server.</span></span> <span data-ttu-id="c4207-135">La comunicazione tra il server Web e il server di database avviene tramite il server applicazioni.</span><span class="sxs-lookup"><span data-stu-id="c4207-135">The communication between the web server and the database server happens over the application server.</span></span> <span data-ttu-id="c4207-136">Per informazioni approfondite sui livelli di applicazione e sui livelli, vedere la [Guida all'architettura delle applicazioni Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).</span><span class="sxs-lookup"><span data-stu-id="c4207-136">For detailed information on application layers and tiers, see [Microsoft Application Architecture Guide](https://msdn.microsoft.com/library/ff650706.aspx).</span></span>

<span data-ttu-id="c4207-137">Prima di iniziare a leggere questo articolo occorre conoscere i concetti fondamentali di SQL Server e di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-137">Before you start reading this article, you should have knowledge on the fundamental concepts of SQL Server and Azure.</span></span> <span data-ttu-id="c4207-138">Per altre informazioni, vedere la [documentazione online di SQL Server](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-server-iaas-overview.md) e [Azure.com](https://azure.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="c4207-138">For information, see [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and [Azure.com](https://azure.microsoft.com/).</span></span>

<span data-ttu-id="c4207-139">Questo articolo descrive diversi modelli di applicazione che possono essere idonei alle applicazioni semplici nonché alle applicazioni aziendali altamente complesse.</span><span class="sxs-lookup"><span data-stu-id="c4207-139">This article describes several application patterns that can be suitable for your simple applications as well as the highly complex enterprise applications.</span></span> <span data-ttu-id="c4207-140">Prima di descrivere nel dettaglio ogni modello, è consigliabile acquisire familiarità con i servizi di archiviazione dei dati disponibili in Azure, ad esempio [Archiviazione di Azure](../../../storage/common/storage-introduction.md), [Database SQL di Azure](../../../sql-database/sql-database-technical-overview.md) e [SQL Server in una macchina virtuale di Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-140">Before detailing each pattern, we recommend that you should familiarize yourself with the available data storage services in Azure, such as [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), and [SQL Server in an Azure Virtual Machine](virtual-machines-windows-sql-server-iaas-overview.md).</span></span> <span data-ttu-id="c4207-141">Per prendere le migliori decisioni in termini di progettazione delle applicazioni, è necessario comprendere chiaramente quale servizio di archiviazione dei dati usare e quando usarlo.</span><span class="sxs-lookup"><span data-stu-id="c4207-141">To make the best design decisions for your applications, understand when to use which data storage service clearly.</span></span>

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a><span data-ttu-id="c4207-142">È consigliabile scegliere SQL Server in una macchina virtuale di Azure nelle condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-142">Choose SQL Server in an Azure Virtual Machine, when:</span></span>
* <span data-ttu-id="c4207-143">È necessario controllare SQL Server e Windows,</span><span class="sxs-lookup"><span data-stu-id="c4207-143">You need control on SQL Server and Windows.</span></span> <span data-ttu-id="c4207-144">ad esempio la versione, determinati aggiornamenti rapidi e la configurazione delle prestazioni di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-144">For example, this might include the SQL Server version, special hotfixes, performance configuration, etc.</span></span>
* <span data-ttu-id="c4207-145">È necessario disporre di una piena compatibilità con SQL Server installato in locale e si desidera spostare le applicazioni esistenti in Azure senza doverle convertire.</span><span class="sxs-lookup"><span data-stu-id="c4207-145">You need a full compatibility with SQL Server on-premises and want to move existing applications to Azure as-is.</span></span>
* <span data-ttu-id="c4207-146">Si desidera sfruttare le funzionalità dell'ambiente Azure, ma il database SQL di Azure non supporta tutte le funzionalità richieste dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-146">You want to leverage the capabilities of the Azure environment but Azure SQL Database does not support all the features that your application requires.</span></span> <span data-ttu-id="c4207-147">Queste funzionalità possono includere gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-147">This could include the following areas:</span></span>
  
  * <span data-ttu-id="c4207-148">**Dimensioni del database**: alla data di aggiornamento del presente articolo, il database SQL supporta un database con dimensioni massime pari a 1 TB di dati.</span><span class="sxs-lookup"><span data-stu-id="c4207-148">**Database size**: At the time this article was updated, SQL Database supports a database of up to 1 TB of data.</span></span> <span data-ttu-id="c4207-149">Se l'applicazione in uso richiede oltre 1 TB di dati e non si desidera implementare soluzioni di partizionamento orizzontale personalizzate, si consiglia di usare SQL Server in una macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-149">If your application requires more than 1 TB of data and you don’t want to implement custom sharding solutions, it’s recommended that you use SQL Server in an Azure Virtual Machine.</span></span> <span data-ttu-id="c4207-150">Per informazioni aggiornate, vedere [Scalabilità orizzontale di database SQL di Azure](https://msdn.microsoft.com/library/azure/dn495641.aspx) e [Livelli di servizio e livelli di prestazioni del database SQL di Azure](../../../sql-database/sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-150">For the latest information, see [Scaling Out Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn495641.aspx) and [Azure SQL Database Service Tiers and Performance Levels](../../../sql-database/sql-database-service-tiers.md).</span></span>
  * <span data-ttu-id="c4207-151">**Conformità HIPAA**: si consiglia ai clienti che operano nel settore sanitario e ai fornitori di software indipendenti (ISV) di scegliere [SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-server-iaas-overview.md) invece del [database SQL di Azure](../../../sql-database/sql-database-technical-overview.md) in quanto SQL Server in una macchina virtuale di Azure è protetto dal Contratto di società in affari HIPAA (BAA).</span><span class="sxs-lookup"><span data-stu-id="c4207-151">**HIPAA compliance**: Healthcare customers and Independent Software Vendors (ISVs) might choose [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) instead of [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) because SQL Server in an Azure Virtual Machine is covered by HIPAA Business Associate Agreement (BAA).</span></span> <span data-ttu-id="c4207-152">Per informazioni sulla conformità, vedere [Centro protezione di Microsoft Azure: conformità](https://azure.microsoft.com/support/trust-center/compliance/).</span><span class="sxs-lookup"><span data-stu-id="c4207-152">For information on compliance, see [Microsoft Azure Trust Center: Compliance](https://azure.microsoft.com/support/trust-center/compliance/).</span></span>
  * <span data-ttu-id="c4207-153">**Funzionalità a livello di istanza**: al momento il database SQL non supporta funzionalità esterne al database, ad esempio i server collegati, i processi di SQL Agent, FileStream, Service Broker e così via.</span><span class="sxs-lookup"><span data-stu-id="c4207-153">**Instance-level features**: At this time, SQL Database doesn’t support features that live outside of the database (such as Linked Servers, Agent jobs, FileStream, Service Broker, etc.).</span></span> <span data-ttu-id="c4207-154">Per altre informazioni, vedere [Linee guida e limitazioni per il database SQL di Azure](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span><span class="sxs-lookup"><span data-stu-id="c4207-154">For more information, see [Azure SQL Database Guidelines and Limitations](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span></span>

## <a name="1-tier-simple-single-virtual-machine"></a><span data-ttu-id="c4207-155">1 livello (semplice): singola macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="c4207-155">1-tier (simple): single virtual machine</span></span>
<span data-ttu-id="c4207-156">In questo modello di applicazione l'applicazione e il database SQL Server vengono distribuiti a una macchina virtuale autonoma in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-156">In this application pattern, you deploy your SQL Server application and database to a standalone virtual machine in Azure.</span></span> <span data-ttu-id="c4207-157">La stessa macchina virtuale contiene l'applicazione client o Web, i componenti business, il livello di accesso ai dati e il server di database.</span><span class="sxs-lookup"><span data-stu-id="c4207-157">The same virtual machine contains your client/web application, business components, data access layer, and the database server.</span></span> <span data-ttu-id="c4207-158">I codici di presentazione, business e accesso ai dati sono logicamente separati, ma fisicamente situati in un singolo server.</span><span class="sxs-lookup"><span data-stu-id="c4207-158">The presentation, business, and data access code are logically separated but are physically located in a single-server machine.</span></span> <span data-ttu-id="c4207-159">Gran parte dei clienti inizia con questo modello di applicazione per poi scalare aggiungendo altri ruoli Web o macchine virtuali al proprio sistema.</span><span class="sxs-lookup"><span data-stu-id="c4207-159">Most customers start with this application pattern and then, they scale out by adding more web roles or virtual machines to their system.</span></span>

<span data-ttu-id="c4207-160">Questo modello di applicazione è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-160">This application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-161">Si desidera eseguire una semplice migrazione alla piattaforma Azure per valutare se questa risponde o meno ai requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-161">You want to perform a simple migration to Azure platform to evaluate whether the platform answers your application’s requirements or not.</span></span>
* <span data-ttu-id="c4207-162">Si desidera conservare tutti i livelli di applicazione ospitati sulla stessa macchina virtuale nello stesso data center di Azure allo scopo di ridurre la latenza tra livelli.</span><span class="sxs-lookup"><span data-stu-id="c4207-162">You want to keep all the application tiers hosted in the same virtual machine in the same Azure data center to reduce the latency between tiers.</span></span>
* <span data-ttu-id="c4207-163">Si desidera eseguire rapidamente il provisioning degli ambienti di sviluppo e test per brevi periodi di tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-163">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c4207-164">Si desidera eseguire test di stress per diversi livelli di carico di lavoro ma, allo stesso tempo, non si desidera essere proprietari di molte macchine fisiche di cui eseguire la manutenzione per tutto il tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-164">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="c4207-165">Il diagramma seguente illustra un semplice scenario locale e il modo in cui è possibile distribuire la soluzione abilitata per il cloud su una singola macchina virtuale in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-165">The following diagram demonstrates a simple on-premises scenario and how you can deploy its cloud enabled solution in a single virtual machine in Azure.</span></span>

![Modello dell'applicazione a 1 livello](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

<span data-ttu-id="c4207-167">La distribuzione del livello business (componenti logica di business e accesso ai dati) sullo stesso livello fisico del livello presentazione può massimizzare le prestazioni dell'applicazione, a meno che non si ricorra a un livello separato per evitare eventuali problemi relativi alla scalabilità o alla sicurezza.</span><span class="sxs-lookup"><span data-stu-id="c4207-167">Deploying the business layer (business logic and data access components) on the same physical tier as the presentation layer can maximize application performance, unless you must use a separate tier due to scalability or security concerns.</span></span>

<span data-ttu-id="c4207-168">Poiché è molto comune iniziare con questo modello, può essere utile consultare l'articolo seguente per informazioni sulla migrazione dei dati in una macchina virtuale di SQL Server: [Migrazione di un database a SQL Server su una macchina virtuale di Azure](virtual-machines-windows-migrate-sql.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-168">Since this is a very common pattern to start with, you might find the following article on migration useful for moving your data to your SQL Server VM: [Migrating a Database to SQL Server on an Azure VM](virtual-machines-windows-migrate-sql.md).</span></span>

## <a name="3-tier-simple-multiple-virtual-machines"></a><span data-ttu-id="c4207-169">3 livelli (semplice): più macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="c4207-169">3-tier (simple): multiple virtual machines</span></span>
<span data-ttu-id="c4207-170">In questo modello di applicazione un'applicazione a 3 livelli viene distribuita in Azure inserendo ogni livello dell'applicazione in una diversa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-170">In this application pattern, you deploy a 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="c4207-171">Questo modello fornisce un ambiente flessibile per semplici scenari di scalabilità verticale e orizzontale.</span><span class="sxs-lookup"><span data-stu-id="c4207-171">This provides a flexible environment for an easy scale-up and scale-out scenarios.</span></span> <span data-ttu-id="c4207-172">Quando una macchina virtuale contiene l'applicazione client o Web, un'altra ospita i componenti business e un'altra ospita il server di database.</span><span class="sxs-lookup"><span data-stu-id="c4207-172">When one virtual machine contains your client/web application, the other one hosts your business components, and the other one hosts the database server.</span></span>

<span data-ttu-id="c4207-173">Questo modello di applicazione è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-173">This application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-174">Si desidera eseguire la migrazione di applicazioni di database complesse in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-174">You want to perform a migration of complex database applications to Azure Virtual Machines.</span></span>
* <span data-ttu-id="c4207-175">Si desidera che livelli di applicazioni diversi siano ospitati in aree diverse.</span><span class="sxs-lookup"><span data-stu-id="c4207-175">You want different application tiers to be hosted in different regions.</span></span> <span data-ttu-id="c4207-176">Ad esempio, è possibile che siano presenti database condivisi e distribuiti a più aree a scopo di creazione di report.</span><span class="sxs-lookup"><span data-stu-id="c4207-176">For example, you might have shared databases that are deployed to multiple regions for reporting purposes.</span></span>
* <span data-ttu-id="c4207-177">Si desidera spostare le applicazioni aziendali dalle piattaforme virtualizzate locali in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-177">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span> <span data-ttu-id="c4207-178">Per una discussione dettagliata sulle applicazioni aziendali, vedere il [relativo argomento](https://msdn.microsoft.com/library/aa267045.aspx).</span><span class="sxs-lookup"><span data-stu-id="c4207-178">For a detailed discussion on enterprise applications, see [What is an Enterprise Application](https://msdn.microsoft.com/library/aa267045.aspx).</span></span>
* <span data-ttu-id="c4207-179">Si desidera eseguire rapidamente il provisioning degli ambienti di sviluppo e test per brevi periodi di tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-179">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c4207-180">Si desidera eseguire test di stress per diversi livelli di carico di lavoro ma, allo stesso tempo, non si desidera essere proprietari di molte macchine fisiche di cui eseguire la manutenzione per tutto il tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-180">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="c4207-181">Il diagramma seguente illustra come distribuire una semplice applicazione a 3 livelli in Azure inserendo ogni livello di applicazione in una diversa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-181">The following diagram demonstrates how you can place a simple 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span>

![modello di applicazione a 3 livelli](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

<span data-ttu-id="c4207-183">In questo modello di applicazione è presente una sola macchina virtuale in ogni livello.</span><span class="sxs-lookup"><span data-stu-id="c4207-183">In this application pattern, there is only one virtual machine (VM) in each tier.</span></span> <span data-ttu-id="c4207-184">Se si dispone di più macchine virtuali in Azure, si consiglia di configurare una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-184">If you have multiple VMs in Azure, we recommend that you set up a virtual network.</span></span> <span data-ttu-id="c4207-185">[rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md) crea un limite di sicurezza attendibile e consente alle macchine virtuali di comunicare tra loro tramite un indirizzo IP privato.</span><span class="sxs-lookup"><span data-stu-id="c4207-185">[Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) creates a trusted security boundary and also allows VMs to communicate among themselves over the private IP address.</span></span> <span data-ttu-id="c4207-186">A tale scopo, assicurarsi sempre che tutte le connessioni Internet siano indirizzate solo al livello presentazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-186">In addition, always make sure that all Internet connections only go to the presentation tier.</span></span> <span data-ttu-id="c4207-187">Quando si segue questo modello di applicazione, è necessario gestire le regole del gruppo di sicurezza di rete per controllare l'accesso.</span><span class="sxs-lookup"><span data-stu-id="c4207-187">When following this application pattern, manage the network security group rules to control access.</span></span> <span data-ttu-id="c4207-188">Per altre informazioni, vedere [Consentire l'accesso esterno alla VM mediante il portale di Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c4207-188">For more information, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c4207-189">Nel diagramma i protocolli Internet possono essere TCP, UDP, HTTP o HTTPS.</span><span class="sxs-lookup"><span data-stu-id="c4207-189">In the diagram, Internet Protocols can be TCP, UDP, HTTP, or HTTPS.</span></span>

> [!NOTE]
> <span data-ttu-id="c4207-190">La configurazione di una rete virtuale in Azure è gratuita.</span><span class="sxs-lookup"><span data-stu-id="c4207-190">Setting up a virtual network in Azure is free of charge.</span></span> <span data-ttu-id="c4207-191">Verrà tuttavia addebitata una tariffa per il gateway VPN a cui si connette localmente.</span><span class="sxs-lookup"><span data-stu-id="c4207-191">However, you are charged for the VPN gateway that connects to on-premises.</span></span> <span data-ttu-id="c4207-192">Questo addebito dipende dalla lunghezza del periodo di tempo in cui viene fornita e resa disponibile la connessione.</span><span class="sxs-lookup"><span data-stu-id="c4207-192">This charge is based on the amount of time that connection is provisioned and available.</span></span>
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a><span data-ttu-id="c4207-193">2 e 3 livelli con scalabilità orizzontale del livello presentazione</span><span class="sxs-lookup"><span data-stu-id="c4207-193">2-tier and 3-tier with presentation tier scale-out</span></span>
<span data-ttu-id="c4207-194">In questo modello di applicazione un'applicazione a 2 o a 3 livelli viene distribuita in Macchine virtuali di Azure inserendo ogni livello di applicazione in una diversa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-194">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="c4207-195">È anche possibile scalare orizzontalmente il livello presentazione a causa del maggior volume di richieste client in entrata.</span><span class="sxs-lookup"><span data-stu-id="c4207-195">In addition, you scale out the presentation tier due to increased volume of incoming client requests.</span></span>

<span data-ttu-id="c4207-196">Questo modello di applicazione è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-196">This application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-197">Si desidera spostare le applicazioni aziendali dalle piattaforme virtualizzate locali in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-197">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span>
* <span data-ttu-id="c4207-198">È opportuno scalare orizzontalmente il livello presentazione a causa del maggior volume di richieste client in entrata.</span><span class="sxs-lookup"><span data-stu-id="c4207-198">You want to scale out the presentation tier due to increased volume of incoming client requests.</span></span>
* <span data-ttu-id="c4207-199">Si desidera eseguire rapidamente il provisioning degli ambienti di sviluppo e test per brevi periodi di tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-199">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c4207-200">Si desidera eseguire test di stress per diversi livelli di carico di lavoro ma, allo stesso tempo, non si desidera essere proprietari di molte macchine fisiche di cui eseguire la manutenzione per tutto il tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-200">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="c4207-201">Si desidera essere proprietari di un ambiente di infrastrutture che sia possibile scalare verticalmente su richiesta.</span><span class="sxs-lookup"><span data-stu-id="c4207-201">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="c4207-202">Il diagramma seguente illustra come inserire i livelli di applicazione in più macchine virtuali in Azure scalando orizzontalmente il livello presentazione a causa del maggior volume di richieste client in entrata.</span><span class="sxs-lookup"><span data-stu-id="c4207-202">The following diagram demonstrates how you can place the application tiers in multiple virtual machines in Azure by scaling out the presentation tier due to increased volume of incoming client requests.</span></span> <span data-ttu-id="c4207-203">Come osservato nel diagramma, il servizio di bilanciamento del carico di Azure è responsabile della distribuzione del traffico tra più macchine virtuali e determina inoltre il server Web a cui connettersi.</span><span class="sxs-lookup"><span data-stu-id="c4207-203">As seen in the diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server to connect to.</span></span> <span data-ttu-id="c4207-204">La presenza di più istanze di server Web dietro il servizio di bilanciamento del carico assicura la disponibilità elevata del livello presentazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-204">Having multiple instances of the web servers behind a load balancer ensures the high availability of the presentation tier.</span></span>

![Modello dell'applicazione: scalabilità orizzontale del livello presentazione](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a><span data-ttu-id="c4207-206">Procedure consigliate per i modelli a 2, 3 o più livelli con più macchine virtuali in un solo livello</span><span class="sxs-lookup"><span data-stu-id="c4207-206">Best practices for 2-tier, 3-tier, or n-tier patterns that have multiple VMs in one tier</span></span>
<span data-ttu-id="c4207-207">Si consiglia di collocare le macchine virtuali appartenenti allo stesso livello nello stesso servizio cloud e nello stesso set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="c4207-207">It’s recommended that you place the virtual machines that belong to the same tier in the same cloud service and in the same the availability set.</span></span> <span data-ttu-id="c4207-208">Ad esempio, inserire un set di server Web in **CloudService1** e **AvailabilitySet1** e un set di server di database in **CloudService2** e **AvailabilitySet2**.</span><span class="sxs-lookup"><span data-stu-id="c4207-208">For example, place a set of web servers in **CloudService1** and **AvailabilitySet1** and a set of database servers in **CloudService2** and **AvailabilitySet2**.</span></span> <span data-ttu-id="c4207-209">Un set di disponibilità in Azure consente di collocare i nodi a disponibilità elevata in domini di errore e domini di aggiornamento separati.</span><span class="sxs-lookup"><span data-stu-id="c4207-209">An availability set in Azure enables you to place the high availability nodes into separate fault domains and upgrade domains.</span></span>

<span data-ttu-id="c4207-210">Per sfruttare più istanze di macchine virtuali di un livello è necessario configurare il servizio di bilanciamento del carico di Azure tra livelli di applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-210">To leverage multiple VM instances of a tier, you need to configure Azure Load Balancer between application tiers.</span></span> <span data-ttu-id="c4207-211">Per configurare il servizio di bilanciamento del carico in ogni livello, creare un endpoint con carico bilanciato separatamente sulle macchine virtuali di ogni livello.</span><span class="sxs-lookup"><span data-stu-id="c4207-211">To configure Load Balancer in each tier, create a load-balanced endpoint on each tier’s VMs separately.</span></span> <span data-ttu-id="c4207-212">Per un livello specifico, creare prima le macchine virtuali nello stesso servizio cloud:</span><span class="sxs-lookup"><span data-stu-id="c4207-212">For a specific tier, first create VMs in the same cloud service.</span></span> <span data-ttu-id="c4207-213">questo garantisce che abbiano lo stesso indirizzo IP virtuale pubblico.</span><span class="sxs-lookup"><span data-stu-id="c4207-213">This ensures that they have the same public Virtual IP address.</span></span> <span data-ttu-id="c4207-214">Creare quindi un endpoint su una delle macchine virtuali su tale livello</span><span class="sxs-lookup"><span data-stu-id="c4207-214">Next, create an endpoint on one of the virtual machines on that tier.</span></span> <span data-ttu-id="c4207-215">e assegnarlo ad altre macchine virtuali sullo stesso livello per il servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="c4207-215">Then, assign the same endpoint to the other virtual machines on that tier for load balancing.</span></span> <span data-ttu-id="c4207-216">Creando un set con bilanciamento del carico si distribuisce il traffico tra più macchine virtuali e si consente al servizio di bilanciamento del carico di determinare a quale nodo connettersi in caso di errore del nodo della macchina virtuale back-end.</span><span class="sxs-lookup"><span data-stu-id="c4207-216">By creating a load-balanced set, you distribute traffic across multiple virtual machines and also allow the Load Balancer to determine which node to connect when a backend VM node fails.</span></span> <span data-ttu-id="c4207-217">Ad esempio, la presenza di più istanze di server Web dietro il servizio di bilanciamento del carico assicura la disponibilità elevata del livello presentazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-217">For example, having multiple instances of the web servers behind a load balancer ensures the high availability of the presentation tier.</span></span>

<span data-ttu-id="c4207-218">Come procedura consigliata, assicurarsi sempre che tutte le connessioni Internet siano indirizzate prima al livello presentazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-218">As a best practice, always make sure that all internet connections first go to the presentation tier.</span></span> <span data-ttu-id="c4207-219">Il livello presentazione accede al livello business, che a sua volta accede al livello dati.</span><span class="sxs-lookup"><span data-stu-id="c4207-219">The presentation layer accesses the business tier, and then the business tier accesses the data tier.</span></span> <span data-ttu-id="c4207-220">Per altre informazioni su come consentire l'accesso al livello di presentazione, vedere [Consentire l'accesso esterno alla VM mediante il portale di Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c4207-220">For more information on how to allow access to the presentation layer, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c4207-221">Si noti che il servizio di bilanciamento del carico in Azure ha un funzionamento simile agli stessi servizi in un ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="c4207-221">Note that the Load Balancer in Azure works similar to load balancers in an on-premises environment.</span></span> <span data-ttu-id="c4207-222">Per altre informazioni, vedere [Bilanciamento del carico per i servizi di infrastruttura di Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c4207-222">For more information, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c4207-223">Si consiglia inoltre di configurare una rete privata per le macchine virtuali mediante la rete virtuale di Azure,</span><span class="sxs-lookup"><span data-stu-id="c4207-223">In addition, we recommend that you set up a private network for your virtual machines by using Azure Virtual Network.</span></span> <span data-ttu-id="c4207-224">che consente la comunicazione tra le due reti tramite l'indirizzo IP privato.</span><span class="sxs-lookup"><span data-stu-id="c4207-224">This allows them to communicate among themselves over the private IP address.</span></span> <span data-ttu-id="c4207-225">Per altre informazioni, vedere [rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-225">For more information, see [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span>

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a><span data-ttu-id="c4207-226">2 e 3 livelli con scalabilità orizzontale del livello business</span><span class="sxs-lookup"><span data-stu-id="c4207-226">2-tier and 3-tier with business tier scale-out</span></span>
<span data-ttu-id="c4207-227">In questo modello di applicazione un'applicazione a 2 o a 3 livelli viene distribuita in Macchine virtuali di Azure inserendo ogni livello di applicazione in una diversa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-227">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="c4207-228">Data la complessità dell'applicazione, può essere opportuno distribuire i componenti del server applicazioni a più macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c4207-228">In addition, you might want to distribute the application server components to multiple virtual machines due to the complexity of your application.</span></span>

<span data-ttu-id="c4207-229">Questo modello di applicazione è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-229">This application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-230">Si desidera spostare le applicazioni aziendali dalle piattaforme virtualizzate locali in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-230">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span>
* <span data-ttu-id="c4207-231">Si desidera distribuire i componenti del server applicazioni a più macchine virtuali data la complessità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-231">You want to distribute the application server components to multiple virtual machines due to the complexity of your application.</span></span>
* <span data-ttu-id="c4207-232">Si desidera spostare le applicazioni line-of-business locali con elevato contenuto di logica di business in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-232">You want to move business logic heavy on-premises LOB (line-of-business) applications to Azure Virtual Machines.</span></span> <span data-ttu-id="c4207-233">Le applicazioni line-of-business sono un set di applicazioni per computer di importanza critica per la gestione di un'azienda, ad esempio applicazioni di contabilità, risorse umane, retribuzione, gestione della catena di fornitura e pianificazione delle risorse.</span><span class="sxs-lookup"><span data-stu-id="c4207-233">LOB applications are a set of critical computer applications that are vital to running an enterprise, such as accounting, human resources (HR), payroll, supply chain management, and resource planning applications.</span></span>
* <span data-ttu-id="c4207-234">Si desidera eseguire rapidamente il provisioning degli ambienti di sviluppo e test per brevi periodi di tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-234">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c4207-235">Si desidera eseguire test di stress per diversi livelli di carico di lavoro ma, allo stesso tempo, non si desidera essere proprietari di molte macchine fisiche di cui eseguire la manutenzione per tutto il tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-235">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="c4207-236">Si desidera essere proprietari di un ambiente di infrastrutture che sia possibile scalare verticalmente su richiesta.</span><span class="sxs-lookup"><span data-stu-id="c4207-236">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="c4207-237">Il diagramma seguente illustra uno scenario locale e la relativa soluzione abilitata per il cloud.</span><span class="sxs-lookup"><span data-stu-id="c4207-237">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c4207-238">In questo scenario i livelli di applicazione vengono inseriti in più macchine virtuali in Azure scalando orizzontalmente il livello business, che contiene i componenti del livello di logica di business e di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="c4207-238">In this scenario, you place the application tiers in multiple virtual machines in Azure by scaling out the business tier, which contains the business logic tier and data access components.</span></span> <span data-ttu-id="c4207-239">Come osservato nel diagramma, il servizio di bilanciamento del carico di Azure è responsabile della distribuzione del traffico tra più macchine virtuali e determina inoltre il server Web a cui connettersi.</span><span class="sxs-lookup"><span data-stu-id="c4207-239">As seen in the diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server to connect to.</span></span> <span data-ttu-id="c4207-240">La presenza di più istanze di server applicazioni dietro il servizio di bilanciamento del carico assicura la disponibilità elevata del livello business.</span><span class="sxs-lookup"><span data-stu-id="c4207-240">Having multiple instances of the application servers behind a load balancer ensures the high availability of the business tier.</span></span> <span data-ttu-id="c4207-241">Per altre informazioni, vedere [Procedure consigliate per i modelli a 2, 3 o più livelli con più macchine virtuali in un solo livello](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span><span class="sxs-lookup"><span data-stu-id="c4207-241">For more information, see [Best practices for 2-tier, 3-tier, or n-tier application patterns that have multiple virtual machines in one tier](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span></span>

![Modello dell'applicazione con scalabilità orizzontale del livello business](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a><span data-ttu-id="c4207-243">2 e 3 livelli con scalabilità orizzontale e disponibilità elevata e ripristino di emergenza (HADR) dei livelli presentazione e business</span><span class="sxs-lookup"><span data-stu-id="c4207-243">2-tier and 3-tier with presentation and business tiers scale-out and HADR</span></span>
<span data-ttu-id="c4207-244">In questo modello di applicazione un'applicazione a 2 o a 3 livelli viene distribuita in Macchine virtuali di Azure distribuendo i componenti del livello presentazione (server Web) e del livello business (server applicazioni) a più macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c4207-244">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by distributing the presentation tier (web server) and the business tier (application server) components to multiple virtual machines.</span></span> <span data-ttu-id="c4207-245">Vengono inoltre implementate soluzioni a disponibilità elevata e di ripristino di emergenza per i propri database in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-245">In addition, you implement high-availability and disaster recovery solutions for your databases in Azure virtual machines.</span></span>

<span data-ttu-id="c4207-246">Questo modello di applicazione è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-246">This application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-247">Si desidera spostare applicazioni aziendali dalle piattaforme virtualizzate locali in Azure mediante l'implementazione delle capacità di disponibilità elevata e ripristino di emergenza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-247">You want to move enterprise applications from virtualized platforms on-premises to Azure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="c4207-248">Si desidera scalare orizzontalmente il livello presentazione e il livello business a causa del maggior volume di richieste client in entrata e della complessità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-248">You want to scale out the presentation tier and the business tier due to increased volume of incoming client requests and the complexity of your application.</span></span>
* <span data-ttu-id="c4207-249">Si desidera eseguire rapidamente il provisioning degli ambienti di sviluppo e test per brevi periodi di tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-249">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c4207-250">Si desidera eseguire test di stress per diversi livelli di carico di lavoro ma, allo stesso tempo, non si desidera essere proprietari di molte macchine fisiche di cui eseguire la manutenzione per tutto il tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-250">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="c4207-251">Si desidera essere proprietari di un ambiente di infrastrutture che sia possibile scalare verticalmente su richiesta.</span><span class="sxs-lookup"><span data-stu-id="c4207-251">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="c4207-252">Il diagramma seguente illustra uno scenario locale e la relativa soluzione abilitata per il cloud.</span><span class="sxs-lookup"><span data-stu-id="c4207-252">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c4207-253">In questo scenario i componenti del livello presentazione e del livello business vengono scalati orizzontalmente in più macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-253">In this scenario, you scale out the presentation tier and the business tier components in multiple virtual machines in Azure.</span></span> <span data-ttu-id="c4207-254">Vengono inoltre implementate tecniche a disponibilità elevata e di ripristino di emergenza (HADR) per i database SQL in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-254">In addition, you implement high availability and disaster recovery (HADR) techniques for SQL Server databases in Azure.</span></span>

<span data-ttu-id="c4207-255">L'esecuzione di più copie di un'applicazione in macchine virtuali diverse assicura che si eseguirà il bilanciamento del carico delle richieste tra le diverse macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c4207-255">Running multiple copies of an application in different VMs make sure that you are load balancing requests across them.</span></span> <span data-ttu-id="c4207-256">Quando si hanno più macchine virtuali è necessario assicurarsi che siano tutte accessibili e in esecuzione nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="c4207-256">When you have multiple virtual machines, you need to make sure that all your VMs are accessible and running at one point in time.</span></span> <span data-ttu-id="c4207-257">Se si configura il bilanciamento del carico, Azure Load Balancer terrà traccia dell'integrità delle VM, dirigendo correttamente le chiamate in entrata ai nodi funzionanti della VM.</span><span class="sxs-lookup"><span data-stu-id="c4207-257">If you configure load balancing, Azure Load Balancer tracks the health of VMs and directs incoming calls to the healthy functioning VM nodes properly.</span></span> <span data-ttu-id="c4207-258">Per informazioni su come configurare il bilanciamento del carico delle macchine virtuali, vedere [Bilanciamento del carico per i servizi di infrastruttura di Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c4207-258">For information on how to set up load balancing of the virtual machines, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="c4207-259">La presenza di più istanze di server Web e applicazioni dietro il servizio di bilanciamento del carico assicura la disponibilità elevata del livello presentazione e business.</span><span class="sxs-lookup"><span data-stu-id="c4207-259">Having multiple instances of web and application servers behind a load balancer ensures the high availability of the presentation and business tiers.</span></span>

![Scalabilità orizzontale e disponibilità elevata](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a><span data-ttu-id="c4207-261">Procedure consigliate per i modelli di applicazione che richiedono disponibilità elevata e ripristino di emergenza (HADR) per SQL Server</span><span class="sxs-lookup"><span data-stu-id="c4207-261">Best practices for application patterns requiring SQL HADR</span></span>
<span data-ttu-id="c4207-262">Quando si configurano le soluzioni a disponibilità elevata e di ripristino di emergenza per SQL Server in Macchine virtuali di Azure, la configurazione di una rete virtuale con [Rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md) è obbligatoria.</span><span class="sxs-lookup"><span data-stu-id="c4207-262">When you set up SQL Server high availability and disaster recovery solutions in Azure Virtual Machines, setting up a virtual network for your virtual machines using [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is mandatory.</span></span>  <span data-ttu-id="c4207-263">Le macchine virtuali nell'ambito di una rete virtuale disporranno di un indirizzo IP privato stabile anche dopo un'interruzione del servizio. In tal modo sarà possibile evitare i tempi di aggiornamento richiesti per la risoluzione dei nomi DNS.</span><span class="sxs-lookup"><span data-stu-id="c4207-263">Virtual machines within a Virtual Network will have a stable private IP address even after a service downtime, thus you can avoid the update time required for DNS name resolution.</span></span> <span data-ttu-id="c4207-264">La rete virtuale consente inoltre di estendere la propria rete locale ad Azure, creando un limite di sicurezza attendibile.</span><span class="sxs-lookup"><span data-stu-id="c4207-264">In addition, the virtual network allows you to extend your on-premises network to Azure and creates a trusted security boundary.</span></span> <span data-ttu-id="c4207-265">Se l'applicazione è caratterizzata da limitazioni di dominio aziendale, ad esempio l'autenticazione Windows o Active Directory, la configurazione della [Rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md) è obbligatoria.</span><span class="sxs-lookup"><span data-stu-id="c4207-265">For example, if your application has corporate domain restrictions (such as, Windows authentication, Active Directory), setting up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is necessary.</span></span>

<span data-ttu-id="c4207-266">La maggior parte dei clienti che esegue codice di produzione su Azure mantiene repliche sia primarie sia secondarie in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-266">Most of customers, who are running production code on Azure, are keeping both primary and secondary replicas in Azure.</span></span>

<span data-ttu-id="c4207-267">Per informazioni approfondite ed esercitazioni sulle tecniche di disponibilità elevata e di ripristino di emergenza, vedere [Disponibilità elevata e ripristino di emergenza di SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-267">For comprehensive information and tutorials on high availability and disaster recovery techniques, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a><span data-ttu-id="c4207-268">2 e 3 livelli con Macchine virtuali di Azure e Servizi cloud</span><span class="sxs-lookup"><span data-stu-id="c4207-268">2-tier and 3-tier using Azure VMs and Cloud Services</span></span>
<span data-ttu-id="c4207-269">In questo modello di applicazione, un'applicazione a 2 o a 3 livelli viene distribuita in Azure usando sia i [Servizi cloud di Azure](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (ruoli Web e di lavoro - Platform as a Service (PaaS)) sia [Macchine virtuali di Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Infrastructure as a Service (IaaS)).</span><span class="sxs-lookup"><span data-stu-id="c4207-269">In this application pattern, you deploy 2-tier or 3-tier application to Azure by using both [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (web and worker roles - Platform as a Service (PaaS)) and [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Infrastructure as a Service (IaaS)).</span></span> <span data-ttu-id="c4207-270">L'uso dei [Servizi cloud di Azure](https://azure.microsoft.com/documentation/services/cloud-services/) per il livello presentazione o business e di SQL Server in [Macchine virtuali di Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) per il livello dati è vantaggioso per gran parte delle applicazioni in esecuzione su Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-270">Using [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) for the presentation tier/business tier and SQL Server in [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) for the data tier is beneficial for most applications running on Azure.</span></span> <span data-ttu-id="c4207-271">Il motivo è che l'esecuzione di un'istanza di calcolo su Servizi cloud consente di eseguire facilmente la gestione, la distribuzione, il monitoraggio e la scalabilità orizzontale.</span><span class="sxs-lookup"><span data-stu-id="c4207-271">The reason is that having a compute instance running on Cloud Services provides an easy management, deployment, monitoring, and scale-out.</span></span>

<span data-ttu-id="c4207-272">Grazie a Servizi cloud, Azure gestisce automaticamente l'infrastruttura, esegue la manutenzione di routine, applica patch ai sistemi operativi e tenta di correggere gli errori hardware e del servizio.</span><span class="sxs-lookup"><span data-stu-id="c4207-272">With Cloud Services, Azure maintains the infrastructure for you, performs routine maintenance, patches the operating systems, and attempts to recover from service and hardware failures.</span></span> <span data-ttu-id="c4207-273">Quando è necessario scalare orizzontalmente l'applicazione, sono disponibili opzioni di scalabilità orizzontale manuali e automatiche per il progetto di servizio cloud semplicemente aumentando o riducendo il numero di istanze o di macchine virtuali in uso da parte dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-273">When your application needs scale-out, automatic, and manual scale-out options are available for your cloud service project by increasing or decreasing the number of instances or virtual machines that are used by your application.</span></span> <span data-ttu-id="c4207-274">È anche possibile usare Visual Studio localmente per distribuire l'applicazione a un progetto di servizio cloud in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-274">In addition, you can use on-premises Visual Studio to deploy your application to a cloud service project in Azure.</span></span>

<span data-ttu-id="c4207-275">Riepilogando, se non si desidera gestire attività amministrative prolungate per il livello presentazione o business e l'applicazione in uso non richiede alcuna configurazione complessa del software o del sistema operativo, usare i Servizi cloud di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-275">In summary, if you don’t want to own extensive administrative tasks for the presentation/business tier and your application does not require any complex configuration of software or the operating system, use Azure Cloud Services.</span></span> <span data-ttu-id="c4207-276">Se il database SQL di Azure non supporta tutte le funzionalità che si stanno cercando, usare SQL Server in una macchina virtuale di Azure per il livello dati.</span><span class="sxs-lookup"><span data-stu-id="c4207-276">If Azure SQL Database does not support all the features you are looking for, use SQL Server in an Azure Virtual Machine for the data tier.</span></span> <span data-ttu-id="c4207-277">L'esecuzione di un'applicazione sui Servizi cloud di Azure e l'archiviazione di dati in Macchine virtuali di Azure combinano i vantaggi di entrambi i servizi.</span><span class="sxs-lookup"><span data-stu-id="c4207-277">Running an application on Azure Cloud Services and storing data in Azure Virtual Machines combines the benefits of both services.</span></span> <span data-ttu-id="c4207-278">Per un confronto dettagliato, vedere la sezione [Confronto delle strategie di sviluppo Web in Azure](#comparing-web-development-strategies-in-azure)in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="c4207-278">For a detailed comparison, see the section in this topic on [Comparing development strategies in Azure](#comparing-web-development-strategies-in-azure).</span></span>

<span data-ttu-id="c4207-279">In questo modello di applicazione il livello presentazione include un ruolo Web, cioè un componente dei Servizi cloud in esecuzione nell'ambiente Azure personalizzato per la programmazione delle applicazioni Web supportata da IIS e ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c4207-279">In this application pattern, the presentation tier includes a web role, which is a Cloud Services component running in the Azure execution environment and it is customized for web application programming as supported by IIS and ASP.NET.</span></span> <span data-ttu-id="c4207-280">Il livello business o back-end include un ruolo di lavoro, cioè un componente dei Servizi cloud in esecuzione nell'ambiente di Azure, utile per lo sviluppo generalizzato, che potrebbe eseguire l'elaborazione in background di un ruolo Web.</span><span class="sxs-lookup"><span data-stu-id="c4207-280">The business or backend tier includes a worker role, which is a Cloud Services component running in the Azure execution environment and it is useful for generalized development, and may perform background processing for a web role.</span></span> <span data-ttu-id="c4207-281">Il livello di database risiede in una macchina virtuale SQL Server in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-281">The database tier resides in a SQL Server virtual machine in Azure.</span></span> <span data-ttu-id="c4207-282">La comunicazione tra il livello presentazione e il livello di database avviene direttamente oppure attraverso il livello business (componenti del ruolo di lavoro).</span><span class="sxs-lookup"><span data-stu-id="c4207-282">The communication between the presentation tier and the database tier happens directly or over the business tier – worker role components.</span></span>

<span data-ttu-id="c4207-283">Questo modello di applicazione è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-283">This application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-284">Si desidera spostare applicazioni aziendali dalle piattaforme virtualizzate locali in Azure mediante l'implementazione delle capacità di disponibilità elevata e ripristino di emergenza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-284">You want to move enterprise applications from virtualized platforms on-premises to Azure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="c4207-285">Si desidera essere proprietari di un ambiente di infrastrutture che sia possibile scalare verticalmente su richiesta.</span><span class="sxs-lookup"><span data-stu-id="c4207-285">You want to own an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="c4207-286">Il database SQL di Azure non supporta tutte le funzionalità di cui necessita l'applicazione in uso.</span><span class="sxs-lookup"><span data-stu-id="c4207-286">Azure SQL Database does not support all the features that your application or database needs.</span></span>
* <span data-ttu-id="c4207-287">Si desidera eseguire test di stress per diversi livelli di carico di lavoro ma, allo stesso tempo, non si desidera essere proprietari di molte macchine fisiche di cui eseguire la manutenzione per tutto il tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-287">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="c4207-288">Il diagramma seguente illustra uno scenario locale e la relativa soluzione abilitata per il cloud.</span><span class="sxs-lookup"><span data-stu-id="c4207-288">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c4207-289">In questo scenario il livello presentazione viene inserito in ruoli Web, il livello business in ruoli di lavoro e il livello dati in macchine virtuali in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-289">In this scenario, you place the presentation tier in web roles, the business tier in worker roles but the data tier in virtual machines in Azure.</span></span> <span data-ttu-id="c4207-290">L'esecuzione di più copie del livello presentazione in diversi ruoli di lavoro assicura che si eseguirà il bilanciamento del carico delle richieste tra di essi.</span><span class="sxs-lookup"><span data-stu-id="c4207-290">Running multiple copies of the presentation tier in different web roles ensures to load balance requests across them.</span></span> <span data-ttu-id="c4207-291">Quando si combinano i servizi cloud di Azure con le macchine virtuali di Azure si consiglia di configurare anche la [rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="c4207-291">When you combine Azure Cloud Services with Azure Virtual Machines, we recommend that you set up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) as well.</span></span> <span data-ttu-id="c4207-292">Con la [Rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md)è possibile disporre di indirizzi IP privati stabili e persistenti nell'ambito dello stesso servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="c4207-292">With [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), you can have stable and persistent private IP addresses within the same cloud service in the cloud.</span></span> <span data-ttu-id="c4207-293">Dopo avere definito una rete virtuale per le macchine virtuali e i servizi cloud, questi potranno cominciare a comunicare tra loro attraverso l'indirizzo IP privato.</span><span class="sxs-lookup"><span data-stu-id="c4207-293">Once you define a virtual network for your virtual machines and cloud services, they can start communicating among themselves over the private IP address.</span></span> <span data-ttu-id="c4207-294">In aggiunta, se le macchine virtuali e i ruoli Web o di lavoro di Azure si trovano nella stessa [Rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md) si ottengono una latenza minima e una connettività più sicura.</span><span class="sxs-lookup"><span data-stu-id="c4207-294">In addition, having virtual machines and Azure web/worker roles in the same [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) provides low latency and more secure connectivity.</span></span> <span data-ttu-id="c4207-295">Per altre informazioni, vedere [Informazioni sul servizio cloud](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-295">For more information, see [What is a cloud service](../../../cloud-services/cloud-services-choose-me.md).</span></span>

<span data-ttu-id="c4207-296">Come osservato nel diagramma, il servizio di bilanciamento del carico di Azure distribuisce il traffico tra più macchine virtuali e inoltre determina a quale server Web o server applicazioni connettersi.</span><span class="sxs-lookup"><span data-stu-id="c4207-296">As seen in the diagram, Azure Load Balancer distributes traffic across multiple virtual machines and also determines which web server or application server to connect to.</span></span> <span data-ttu-id="c4207-297">La presenza di più istanze di server Web e applicazioni dietro il servizio di bilanciamento del carico assicura la disponibilità elevata dei livelli presentazione e business.</span><span class="sxs-lookup"><span data-stu-id="c4207-297">Having multiple instances of the web and application servers behind a load balancer ensures the high availability of the presentation tier and the business tier.</span></span> <span data-ttu-id="c4207-298">Per altre informazioni, vedere [Procedure consigliate per i modelli di applicazione che richiedono disponibilità elevata e ripristino di emergenza (HADR) per SQL Server](#best-practices-for-application-patterns-requiring-sql-hadr).</span><span class="sxs-lookup"><span data-stu-id="c4207-298">For more information, see [Best practices for application patterns requiring SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span></span>

![Modelli dell'applicazione con Servizi cloud](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

<span data-ttu-id="c4207-300">Un altro approccio all'implementazione di questo modello di applicazione consiste nell'usare un ruolo Web consolidato che contenga componenti del livello presentazione e del livello business, come illustrato nel diagramma seguente.</span><span class="sxs-lookup"><span data-stu-id="c4207-300">Another approach to implement this application pattern is to use a consolidated web role that contains both presentation tier and business tier components as shown in the following diagram.</span></span> <span data-ttu-id="c4207-301">Questo modello di applicazione è utile per le applicazioni che richiedono un design con stato.</span><span class="sxs-lookup"><span data-stu-id="c4207-301">This application pattern is useful for applications that require stateful design.</span></span> <span data-ttu-id="c4207-302">Poiché Azure fornisce nodi di calcolo senza stato su ruoli Web e di lavoro, si consiglia di implementare una logica per memorizzare lo stato della sessione mediante una delle tecnologie seguenti: [Cache di Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [Archiviazione tabelle di Azure](../../../cosmos-db/table-storage-how-to-use-dotnet.md) o [Database SQL di Azure](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-302">Since Azure provides stateless compute nodes on web and worker roles, we recommend that you implement a logic to store session state using one of the following technologies: [Azure Caching](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) or [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span>

![Modelli dell'applicazione con Servizi cloud](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a><span data-ttu-id="c4207-304">Modello con macchine virtuali di Azure, database SQL di Azure e servizio app di Azure (app Web)</span><span class="sxs-lookup"><span data-stu-id="c4207-304">Pattern with Azure VMs, Azure SQL Database, and Azure App Service (Web Apps)</span></span>
<span data-ttu-id="c4207-305">L'obiettivo principale di questo modello di applicazione è mostrare come combinare i componenti IaaS (Infrastructure as a Service) con i componenti PaaS (Platform as a Service) di Azure nella propria soluzione.</span><span class="sxs-lookup"><span data-stu-id="c4207-305">The primary goal of this application pattern is to show you how to combine Azure infrastructure as a service (IaaS) components with Azure platform-as-a-service components (PaaS) in your solution.</span></span> <span data-ttu-id="c4207-306">Il modello è incentrato sul database SQL di Azure per l'archiviazione di dati relazionali</span><span class="sxs-lookup"><span data-stu-id="c4207-306">This pattern is focused on Azure SQL Database for relational data storage.</span></span> <span data-ttu-id="c4207-307">e non include SQL Server in una macchina virtuale di Azure, che invece fa parte dell'offerta IaaS di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-307">It does not include SQL Server in an Azure virtual machine, which is part of the Azure infrastructure as a service offering.</span></span>

<span data-ttu-id="c4207-308">In questo modello di applicazione, un'applicazione di database viene distribuita in Azure mediante l'inserimento dei livelli presentazione e business nella stessa macchina virtuale e tramite l'accesso a un database nei server di database SQL (Database SQL) di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-308">In this application pattern, you deploy a database application to Azure by placing the presentation and business tiers in the same virtual machine and accessing a database in Azure SQL Database (SQL Database) servers.</span></span> <span data-ttu-id="c4207-309">È possibile implementare il livello presentazione usando le tradizionali soluzioni Web basate su IIS</span><span class="sxs-lookup"><span data-stu-id="c4207-309">You can implement the presentation tier by using traditional IIS-based web solutions.</span></span> <span data-ttu-id="c4207-310">oppure è possibile implementare un livello presentazione/business combinato usando le [App Web di Azure](https://azure.microsoft.com/documentation/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="c4207-310">Or, you can implement a combined presentation and business tier by using [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span></span>

<span data-ttu-id="c4207-311">Questo modello di applicazione è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-311">This application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-312">È già stato configurato un server di database SQL esistente in Azure e si desidera testare rapidamente l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-312">You already have an existing SQL Database server configured in Azure and you want to test your application quickly.</span></span>
* <span data-ttu-id="c4207-313">Si desidera testare le capacità dell'ambiente Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-313">You want to test the capabilities of Azure environment.</span></span>
* <span data-ttu-id="c4207-314">Si desidera eseguire rapidamente il provisioning degli ambienti di sviluppo e test per brevi periodi di tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-314">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c4207-315">I componenti della logica di business e dell'accesso ai dati possono già essere inclusi in un'applicazione Web completa.</span><span class="sxs-lookup"><span data-stu-id="c4207-315">Your business logic and data access components can be self-contained within a web application.</span></span>

<span data-ttu-id="c4207-316">Il diagramma seguente illustra uno scenario locale e la relativa soluzione abilitata per il cloud.</span><span class="sxs-lookup"><span data-stu-id="c4207-316">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c4207-317">In questo scenario si collocano i livelli di applicazione in un'unica macchina virtuale in Azure e si accede ai dati nel database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-317">In this scenario, you place the application tiers in a single virtual machine in Azure and access data in Azure SQL Database.</span></span>

![Modello dell'applicazione misto](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

<span data-ttu-id="c4207-319">Se si sceglie di implementare un livello Web/applicazione combinato mediante App Web di Azure, si consiglia di mantenere il livello intermedio o di applicazione come librerie DLL nel contesto di un'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="c4207-319">If you choose to implement a combined web and application tier by using Azure Web Apps, we recommend that you keep the middle-tier or application tier as dynamic-link libraries (DLLs) in the context of a web application.</span></span>

<span data-ttu-id="c4207-320">Per altre informazioni sulle tecniche di programmazione, leggere i consigli offerti nella sezione [Confronto delle strategie di sviluppo Web in Azure](#comparing-web-development-strategies-in-azure) al termine di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="c4207-320">In addition, review the recommendations given in the [Comparing web development strategies in Azure](#comparing-web-development-strategies-in-azure) section at the end of this article to learn more about programming techniques.</span></span>

## <a name="n-tier-hybrid-application-pattern"></a><span data-ttu-id="c4207-321">Modello dell'applicazione ibrido a più livelli</span><span class="sxs-lookup"><span data-stu-id="c4207-321">N-tier hybrid application pattern</span></span>
<span data-ttu-id="c4207-322">Nel modello dell'applicazione ibrido a più livelli l'applicazione viene implementata in più livelli distribuiti localmente e su Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-322">In n-tier hybrid application pattern, you implement your application in multiple tiers distributed between on-premises and Azure.</span></span> <span data-ttu-id="c4207-323">Di conseguenza, viene creato un sistema ibrido flessibile e riutilizzabile, che sarà possibile modificare o al quale si potrà aggiungere uno specifico livello senza modificare gli altri.</span><span class="sxs-lookup"><span data-stu-id="c4207-323">Therefore, you create a flexible and reusable hybrid system, which you can modify or add a specific tier without changing the other tiers.</span></span> <span data-ttu-id="c4207-324">Per estendere la propria rete aziendale al cloud, viene usato il servizio [Rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="c4207-324">To extend your corporate network to the cloud, you use [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) service.</span></span>

<span data-ttu-id="c4207-325">Questo modello di applicazione ibrido è utile nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-325">This hybrid application pattern is useful when:</span></span>

* <span data-ttu-id="c4207-326">Si desidera creare applicazioni da eseguire in parte sul cloud e in parte localmente.</span><span class="sxs-lookup"><span data-stu-id="c4207-326">You want to build applications that run partly in the cloud and partly on-premises.</span></span>
* <span data-ttu-id="c4207-327">Si desidera eseguire la migrazione sul cloud di tutti o di alcuni elementi di un'applicazione locale esistente.</span><span class="sxs-lookup"><span data-stu-id="c4207-327">You want to migrate some or all elements of an existing on-premises application to the cloud.</span></span>
* <span data-ttu-id="c4207-328">Si desidera spostare le applicazioni aziendali dalle piattaforme virtualizzate locali su Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-328">You want to move enterprise applications from on-premises virtualized platforms to Azure.</span></span>
* <span data-ttu-id="c4207-329">Si desidera essere proprietari di un ambiente di infrastrutture che sia possibile scalare verticalmente su richiesta.</span><span class="sxs-lookup"><span data-stu-id="c4207-329">You want to own an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="c4207-330">Si desidera eseguire rapidamente il provisioning degli ambienti di sviluppo e test per brevi periodi di tempo.</span><span class="sxs-lookup"><span data-stu-id="c4207-330">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c4207-331">Si desidera trovare un modo efficace in termini di costi per eseguire i backup delle applicazioni di database aziendali.</span><span class="sxs-lookup"><span data-stu-id="c4207-331">You want a cost effective way to take backups for enterprise database applications.</span></span>

<span data-ttu-id="c4207-332">Il diagramma seguente illustra un modello dell'applicazione ibrido a più livelli distribuito localmente e su Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-332">The following diagram demonstrates an n-tier hybrid application pattern that spans across on-premises and Azure.</span></span> <span data-ttu-id="c4207-333">Come illustrato nel diagramma, l'infrastruttura locale include il controller di dominio dei [Servizi di dominio Active Directory](https://technet.microsoft.com/library/hh831484.aspx) per supportare l'autenticazione e l'autorizzazione degli utenti.</span><span class="sxs-lookup"><span data-stu-id="c4207-333">As shown in the diagram, on-premises infrastructure includes [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) domain controller to support user authentication and authorization.</span></span> <span data-ttu-id="c4207-334">Si noti che il diagramma illustra uno scenario in cui alcune parti del livello dati risiedono in un data center locale, mentre altre parti risiedono in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-334">Note that the diagram demonstrates a scenario, where some parts of the data tier live in an on-premises data center whereas some parts of the data tier live in Azure.</span></span> <span data-ttu-id="c4207-335">A seconda delle esigenze applicative, è possibile implementare molti altri scenari ibridi.</span><span class="sxs-lookup"><span data-stu-id="c4207-335">Depending on your application’s needs, you can implement several other hybrid scenarios.</span></span> <span data-ttu-id="c4207-336">Ad esempio, è possibile mantenere il livello presentazione e il livello business in un ambiente locale, mantenendo però il livello dati in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-336">For example, you might keep the presentation tier and the business tier in an on-premises environment but the data tier in Azure.</span></span>

![Modello dell'applicazione a più livelli](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

<span data-ttu-id="c4207-338">In Azure è possibile usare Active Directory come directory cloud autonoma dell'organizzazione oppure integrare l'istanza locale esistente di Active Directory con [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="c4207-338">In Azure, you can use Active Directory as a standalone cloud directory for your organization, or you can also integrate existing on-premises Active Directory with [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span></span> <span data-ttu-id="c4207-339">Come illustrato nel diagramma, i componenti del livello business possono accedere a più origini dati, ad esempio a [SQL Server in Azure](virtual-machines-windows-sql-server-iaas-overview.md) attraverso un indirizzo IP interno privato, a un'istanza di SQL Server locale tramite la [rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md) oppure al [database SQL](../../../sql-database/sql-database-technical-overview.md) usando le tecnologie del provider di dati .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4207-339">As seen in the diagram, the business tier components can access to multiple data sources, such as to [SQL Server in Azure](virtual-machines-windows-sql-server-iaas-overview.md) via a private internal IP address, to on-premises SQL Server via [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), or to [SQL Database](../../../sql-database/sql-database-technical-overview.md) using the .NET Framework data provider technologies.</span></span> <span data-ttu-id="c4207-340">In questo diagramma il database SQL di Azure è un servizio di archiviazione dati opzionale.</span><span class="sxs-lookup"><span data-stu-id="c4207-340">In this diagram, Azure SQL Database is an optional data storage service.</span></span>

<span data-ttu-id="c4207-341">Nel modello di applicazione ibrido a più livelli è possibile implementare il seguente flusso di lavoro nell'ordine specificato:</span><span class="sxs-lookup"><span data-stu-id="c4207-341">In n-tier hybrid application pattern, you can implement the following workflow in the order specified:</span></span>

1. <span data-ttu-id="c4207-342">Identificare le applicazioni di database aziendali che devono essere spostate nel cloud usando [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span><span class="sxs-lookup"><span data-stu-id="c4207-342">Identify enterprise database applications that need to be moved up to cloud by using the [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span></span> <span data-ttu-id="c4207-343">MAP Toolkit raccoglie i dati di inventario e di prestazioni dai computer che si desidera destinare alla virtualizzazione e fornisce consigli sulla capacità e sulla pianificazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-343">The MAP Toolkit gathers inventory and performance data from computers you are considering for virtualization and provides recommendations on capacity and assessment planning.</span></span>
2. <span data-ttu-id="c4207-344">Pianificare le risorse e la configurazione necessarie nella piattaforma Azure, ad esempio gli account di archiviazione e le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c4207-344">Plan the resources and configuration needed in the Azure platform, such as storage accounts and virtual machines.</span></span>
3. <span data-ttu-id="c4207-345">Configurare la connettività tra la rete aziendale locale e la [Rete virtuale di Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-345">Set up network connectivity between the corporate network on-premises and [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="c4207-346">Per configurare la connessione tra la rete aziendale locale e una macchina virtuale in Azure, usare uno dei due metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-346">To set up the connection between the corporate network on-premises and a virtual machine in Azure, use one of the following two methods:</span></span>
   
   1. <span data-ttu-id="c4207-347">Stabilire una connessione tra la rete locale e Azure tramite endpoint pubblici su una macchina virtuale in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-347">Establish a connection between on-premises and Azure via public end points on a virtual machine in Azure.</span></span> <span data-ttu-id="c4207-348">Questo metodo consente di configurare facilmente e usare l'autenticazione di SQL Server sulla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-348">This method provides an easy setup and enables you to use SQL Server authentication in your virtual machine.</span></span> <span data-ttu-id="c4207-349">Inoltre, è necessario impostare le regole di gruppo di sicurezza di rete per controllare il traffico pubblico alla VM.</span><span class="sxs-lookup"><span data-stu-id="c4207-349">In addition, set up your network security group rules to control public traffic to the VM.</span></span> <span data-ttu-id="c4207-350">Per altre informazioni, vedere [Consentire l'accesso esterno alla VM mediante il portale di Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c4207-350">For more information, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>
   2. <span data-ttu-id="c4207-351">Stabilire una connessione tra la rete locale e Azure tramite il tunnel VPN di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-351">Establish a connection between on-premises and Azure via Azure Virtual Private network (VPN) tunnel.</span></span> <span data-ttu-id="c4207-352">Questo metodo consente di estendere i criteri di dominio a una macchina virtuale in Azure,</span><span class="sxs-lookup"><span data-stu-id="c4207-352">This method allows you to extend domain policies to a virtual machine in Azure.</span></span> <span data-ttu-id="c4207-353">nonché di configurare le regole del firewall e usare l'autenticazione di Windows nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-353">In addition, you can set up firewall rules and use Windows authentication in your virtual machine.</span></span> <span data-ttu-id="c4207-354">Attualmente, Azure supporta le connessioni sicure VPN da sito a sito e VPN da punto a sito:</span><span class="sxs-lookup"><span data-stu-id="c4207-354">Currently, Azure supports secure site-to-site VPN and point-to-site VPN connections:</span></span>
      
      * <span data-ttu-id="c4207-355">Con la connessione da sito a sito sicura è possibile stabilire la connettività di rete tra la rete locale e la rete virtuale in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-355">With secure site-to-site connection, you can establish network connectivity between your on-premises network and your virtual network in Azure.</span></span> <span data-ttu-id="c4207-356">Questo tipo di connessione è consigliato per connettere l'ambiente del data center locale ad Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-356">It is recommended for connecting your on-premises data center environment to Azure.</span></span>
      * <span data-ttu-id="c4207-357">Con la connessione da punto a sito sicura è possibile stabilire la connettività di rete tra la rete virtuale in Azure e i singoli computer in esecuzione ovunque.</span><span class="sxs-lookup"><span data-stu-id="c4207-357">With secure point-to-site connection, you can establish network connectivity between your virtual network in Azure and your individual computers running anywhere.</span></span> <span data-ttu-id="c4207-358">Questo tipo di connessione è consigliato principalmente a scopo di sviluppo e test.</span><span class="sxs-lookup"><span data-stu-id="c4207-358">It is mostly recommended for development and test purposes.</span></span>
      
      <span data-ttu-id="c4207-359">Per informazioni sulle modalità di connessione a SQL Server in Azure, vedere [Connettersi a una macchina virtuale di SQL Server in Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-359">For information on how to connect to SQL Server in Azure, see [Connect to a SQL Server Virtual Machine on Azure](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="c4207-360">Configurare i processi e gli avvisi pianificati per il backup dei dati locali sul disco di una macchina virtuale in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-360">Set up scheduled jobs and alerts that back up on-premises data in a virtual machine disk in Azure.</span></span> <span data-ttu-id="c4207-361">Per altre informazioni, vedere [Backup e ripristino di SQL Server con il servizio di archiviazione BLOB di Azure](https://msdn.microsoft.com/library/jj919148.aspx) e [Backup e ripristino per SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-361">For more information, see [SQL Server Backup and Restore with Azure Blob Storage Service](https://msdn.microsoft.com/library/jj919148.aspx) and [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span>
5. <span data-ttu-id="c4207-362">A seconda delle esigenze applicative è possibile implementare uno tra i tre scenari comuni seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-362">Depending on your application’s needs, you can implement one of the following three common scenarios:</span></span>
   
   1. <span data-ttu-id="c4207-363">È possibile mantenere il server Web, il server applicazioni e i dati non sensibili in un server di database in Azure, mentre è possibile mantenere i dati sensibili in locale.</span><span class="sxs-lookup"><span data-stu-id="c4207-363">You can keep your web server, application server, and insensitive data in a database server in Azure whereas you keep the sensitive data on-premises.</span></span>
   2. <span data-ttu-id="c4207-364">È possibile mantenere il server Web e il server applicazioni in locale, mentre è possibile mantenere il server di database su una macchina virtuale in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-364">You can keep your web server and application server on-premises whereas the database server in a virtual machine in Azure.</span></span>
   3. <span data-ttu-id="c4207-365">È possibile mantenere il server di database, il server Web e il server applicazioni in locale, mentre è possibile mantenere le repliche di database su macchine virtuali in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-365">You can keep your database server, web server, and application server on-premises whereas you keep the database replicas in virtual machines in Azure.</span></span> <span data-ttu-id="c4207-366">Questa impostazione consente ai server Web o alle applicazioni di accedere alle repliche del database in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-366">This setting allows the on-premises web servers or reporting applications to access the database replicas in Azure.</span></span> <span data-ttu-id="c4207-367">Di conseguenza, è possibile ridurre il carico di lavoro in un database locale.</span><span class="sxs-lookup"><span data-stu-id="c4207-367">Therefore, you can achieve to lower the workload in an on-premises database.</span></span> <span data-ttu-id="c4207-368">Si consiglia di implementare questo scenario per i carichi di lavoro a elevato utilizzo di lettura e a scopo di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="c4207-368">We recommend that you implement this scenario for heavy read workloads and developmental purposes.</span></span> <span data-ttu-id="c4207-369">Per informazioni sulla creazione di repliche di database in Azure, vedere i Gruppi di disponibilità AlwaysOn in [Disponibilità elevata e ripristino di emergenza di SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-369">For information on creating database replicas in Azure, see AlwaysOn Availability Groups at [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="comparing-web-development-strategies-in-azure"></a><span data-ttu-id="c4207-370">Confronto delle strategie di sviluppo Web in Azure</span><span class="sxs-lookup"><span data-stu-id="c4207-370">Comparing web development strategies in Azure</span></span>
<span data-ttu-id="c4207-371">Per implementare e distribuire un'applicazione basata su SQL Server a più livelli in Azure, è possibile usare uno dei due metodi di programmazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4207-371">To implement and deploy a multi-tier SQL Server-based application in Azure, you can use one of the following two programming methods:</span></span>

* <span data-ttu-id="c4207-372">Configurare un server Web tradizionale (IIS - Internet Information Services) in Azure e accedere ai database in SQL Server in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-372">Set up a traditional web server (IIS - Internet Information Services) in Azure and access databases in SQL Server in Azure Virtual Machines.</span></span>
* <span data-ttu-id="c4207-373">Implementare e distribuire un servizio cloud in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-373">Implement and deploy a cloud service to Azure.</span></span> <span data-ttu-id="c4207-374">Assicurarsi quindi che questo servizio cloud possa accedere ai database in SQL Server in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-374">Then, make sure that this cloud service can access databases in SQL Server in Azure Virtual machines.</span></span> <span data-ttu-id="c4207-375">Un servizio cloud può includere più ruoli Web e di lavoro.</span><span class="sxs-lookup"><span data-stu-id="c4207-375">A cloud service can include multiple web and worker roles.</span></span>

<span data-ttu-id="c4207-376">La tabella seguente illustra un confronto tra lo sviluppo Web tradizionale con Servizi cloud di Azure e App Web di Azure per quanto riguarda SQL Server in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-376">The following table provides a comparison of traditional web development with Azure Cloud Services and Azure Web Apps with respect to SQL Server in Azure Virtual Machines.</span></span> <span data-ttu-id="c4207-377">La tabella include App Web di Azure, in quanto è possibile usare SQL Server nella macchina virtuale di Azure come origine dati per App Web di Azure tramite l'indirizzo IP virtuale pubblico o il nome DNS.</span><span class="sxs-lookup"><span data-stu-id="c4207-377">The table includes Azure Web Apps as it is possible to use SQL Server in Azure VM as a data source for Azure Web Apps via its public virtual IP address or DNS name.</span></span>

|  | <span data-ttu-id="c4207-378">Sviluppo Web tradizionale nelle macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="c4207-378">Traditional web development in Azure Virtual Machines</span></span> | <span data-ttu-id="c4207-379">Servizi cloud in Azure</span><span class="sxs-lookup"><span data-stu-id="c4207-379">Cloud Services in Azure</span></span> | <span data-ttu-id="c4207-380">Hosting Web con app Web di Azure</span><span class="sxs-lookup"><span data-stu-id="c4207-380">Web Hosting with Azure Web Apps</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="c4207-381">**Migrazione delle applicazioni in locale**</span><span class="sxs-lookup"><span data-stu-id="c4207-381">**Application Migration from on-premises**</span></span> |<span data-ttu-id="c4207-382">Applicazioni esistenti così come sono.</span><span class="sxs-lookup"><span data-stu-id="c4207-382">Existing applications as-is.</span></span> |<span data-ttu-id="c4207-383">Le applicazioni devono disporre di ruoli Web e di ruoli di lavoro.</span><span class="sxs-lookup"><span data-stu-id="c4207-383">Applications need web and worker roles.</span></span> |<span data-ttu-id="c4207-384">Applicazioni esistenti così come sono, ma adatte per applicazioni e servizi Web indipendenti che richiedono una rapida scalabilità.</span><span class="sxs-lookup"><span data-stu-id="c4207-384">Existing applications as-is but suited for self-contained web applications and web services that require quick scalability.</span></span> |
| <span data-ttu-id="c4207-385">**Sviluppo e distribuzione**</span><span class="sxs-lookup"><span data-stu-id="c4207-385">**Development and Deployment**</span></span> |<span data-ttu-id="c4207-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, Gestione IIS, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c4207-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, IIS Manager, PowerShell.</span></span> |<span data-ttu-id="c4207-387">Visual Studio, Azure SDK, TFS, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c4207-387">Visual Studio, Azure SDK, TFS, PowerShell.</span></span> <span data-ttu-id="c4207-388">Ogni servizio cloud dispone di due ambienti in cui è possibile distribuire il pacchetto e la configurazione del servizio: gestione temporanea e produzione.</span><span class="sxs-lookup"><span data-stu-id="c4207-388">Each cloud service has two environments to which you can deploy your service package and configuration: staging and production.</span></span> <span data-ttu-id="c4207-389">È possibile distribuire un servizio cloud nell'ambiente di gestione temporanea per testarlo prima di promuoverlo alla produzione.</span><span class="sxs-lookup"><span data-stu-id="c4207-389">You can deploy a cloud service to the staging environment to test it before you promote it to production.</span></span> |<span data-ttu-id="c4207-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c4207-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy, PowerShell.</span></span> |
| <span data-ttu-id="c4207-391">**Amministrazione e installazione**</span><span class="sxs-lookup"><span data-stu-id="c4207-391">**Administration and Setup**</span></span> |<span data-ttu-id="c4207-392">Si è responsabili delle attività amministrative relative ad applicazione, dati, regole del firewall, rete virtuale e sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="c4207-392">You are responsible for administrative tasks on the application, data, firewall rules, virtual network, and operating system.</span></span> |<span data-ttu-id="c4207-393">Si è responsabili delle attività amministrative relative ad applicazione, dati, regole del firewall e rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-393">You are responsible for administrative tasks on the application, data, firewall rules, and virtual network.</span></span> |<span data-ttu-id="c4207-394">Si è responsabili delle attività amministrative relative solo ad applicazione e dati.</span><span class="sxs-lookup"><span data-stu-id="c4207-394">You are responsible for administrative tasks on the application and data only.</span></span> |
| <span data-ttu-id="c4207-395">**Disponibilità elevata e ripristino di emergenza (HADR, High Availability and Disaster Recovery)**</span><span class="sxs-lookup"><span data-stu-id="c4207-395">**High Availability and Disaster Recovery (HADR)**</span></span> |<span data-ttu-id="c4207-396">Si consiglia di posizionare le macchine virtuali nello stesso set di disponibilità e nello stesso servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="c4207-396">We recommend that you place virtual machines in the same availability set and in the same cloud service.</span></span> <span data-ttu-id="c4207-397">L'inserimento delle macchine virtuali nello stesso set di disponibilità consente ad Azure di collocare i nodi a disponibilità elevata in domini di errore e domini di aggiornamento separati.</span><span class="sxs-lookup"><span data-stu-id="c4207-397">Keeping your VMs in the same availability set allows Azure to place the high availability nodes into separate fault domains and upgrade domains.</span></span> <span data-ttu-id="c4207-398">In maniera analoga, l'inserimento delle macchine virtuali nello stesso servizio cloud consente al servizio di bilanciamento del carico e alle macchine virtuali di comunicare direttamente tra loro attraverso la rete locale nell'ambito di un data center di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-398">Similarly, keeping your VMs in the same cloud service enables load balancing and VMs can communicate directly with one another over the local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="c4207-399">L'utente è responsabile dell'implementazione di una soluzione di disponibilità elevata e ripristino di emergenza per SQL Server in Macchine virtuali di Azure per evitare qualsiasi tempo di inattività.</span><span class="sxs-lookup"><span data-stu-id="c4207-399">You are responsible for implementing a high availability and disaster recovery solution for SQL Server in Azure Virtual Machines to avoid any downtime.</span></span> <span data-ttu-id="c4207-400">Per le tecnologie HADR supportate, vedere l'argomento relativo alla [Disponibilità elevata e ripristino di emergenza di SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-400">For supported HADR technologies, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span><br/><br/><span data-ttu-id="c4207-401">Si è responsabili del backup dei propri dati e delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="c4207-401">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="c4207-402">Azure può spostare le macchine virtuali in caso di esito negativo della macchina host nel data center a causa di problemi hardware.</span><span class="sxs-lookup"><span data-stu-id="c4207-402">Azure can move your virtual machines if the host machine in the data center fails due to hardware issues.</span></span> <span data-ttu-id="c4207-403">Potrebbero anche verificarsi tempi di inattività pianificati della macchina virtuale quando si eseguono aggiornamenti di sicurezza o software della macchina host.</span><span class="sxs-lookup"><span data-stu-id="c4207-403">In addition, there could be planned downtime of your VM when the host machine is updated for security or software updates.</span></span> <span data-ttu-id="c4207-404">Di conseguenza, si consiglia di mantenere almeno due macchine virtuali in ogni livello di applicazione per garantirne una disponibilità continua.</span><span class="sxs-lookup"><span data-stu-id="c4207-404">Therefore, we recommend that you maintain at least two VMs in each application tier to ensure the continuous availability.</span></span> <span data-ttu-id="c4207-405">Azure non fornisce contratti di servizio per una singola macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c4207-405">Azure does not provide SLA for a single virtual machine.</span></span> <span data-ttu-id="c4207-406">Per altre informazioni, vedere [Informazioni tecniche sulla resilienza di Azure](../../../resiliency/resiliency-technical-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-406">For more information, see [Azure resiliency technical guidance](../../../resiliency/resiliency-technical-guidance.md).</span></span> |<span data-ttu-id="c4207-407">Azure gestisce gli errori risultanti dall'hardware sottostante o dal software del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="c4207-407">Azure manages the failures resulting from the underlying hardware or operating system software.</span></span> <span data-ttu-id="c4207-408">Si consiglia di implementare più istanze di un ruolo Web o di lavoro per garantire la disponibilità elevata dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-408">We recommend that you implement multiple instances of a web or worker role to ensure the high availability of your application.</span></span> <span data-ttu-id="c4207-409">Per informazioni, vedere [Contratti di servizio per servizi cloud, macchine virtuali e reti virtuali](http://www.microsoft.com/download/details.aspx?id=38427) e [Ripristino di emergenza e disponibilità elevata per le applicazioni basate su Microsoft Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span><span class="sxs-lookup"><span data-stu-id="c4207-409">For information, see [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and [Disaster recovery and high availability for Azure applications](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span></span><br/><br/><span data-ttu-id="c4207-410">Si è responsabili del backup dei propri dati e delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="c4207-410">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="c4207-411">Per i database che risiedono in un database SQL Server in una macchina virtuale di Azure, l'utente è responsabile dell'implementazione di una soluzione di disponibilità elevata e ripristino di emergenza per evitare qualsiasi tempo di inattività.</span><span class="sxs-lookup"><span data-stu-id="c4207-411">For databases residing in a SQL Server database in an Azure VM, you are responsible for implementing a high availability and disaster recovery solution to avoid any downtime.</span></span> <span data-ttu-id="c4207-412">Per le tecnologie HADR supportate, vedere Disponibilità elevata e ripristino di emergenza di SQL Server in Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-412">For supported HDAR technologies, see High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines.</span></span><br/><br/><span data-ttu-id="c4207-413">**Mirroring del database in SQL Server**: uso con i servizi cloud di Azure (ruoli Web/di lavoro).</span><span class="sxs-lookup"><span data-stu-id="c4207-413">**SQL Server Database Mirroring**: Use with Azure Cloud Services (web/worker roles).</span></span> <span data-ttu-id="c4207-414">Le macchine virtuali di SQL Server e un progetto di servizio cloud possono risiedere nella stessa rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-414">SQL Server VMs and a cloud service project can be in the same Azure Virtual Network.</span></span> <span data-ttu-id="c4207-415">Se la macchina virtuale di SQL Server non si trova nella stessa rete virtuale, è necessario creare un alias di SQL Server per indirizzare la comunicazione all'istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-415">If SQL Server VM is not in the same Virtual Network, you need to create a SQL Server Alias to route communication to the instance of SQL Server.</span></span> <span data-ttu-id="c4207-416">Inoltre, il nome di alias deve corrispondere al nome di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-416">In addition, the alias name must match the SQL Server name.</span></span> |<span data-ttu-id="c4207-417">La disponibilità elevata viene ereditata da ruoli di lavoro di Azure, archiviazione BLOB di Azure e database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-417">High Availability is inherited from Azure worker roles, Azure blob storage, and Azure SQL Database.</span></span> <span data-ttu-id="c4207-418">Il servizio di archiviazione di Azure gestisce ad esempio tre repliche di tutti i dati di BLOB, tabelle e code.</span><span class="sxs-lookup"><span data-stu-id="c4207-418">For example, Azure Storage maintains three replicas of all blob, table, and queue data.</span></span> <span data-ttu-id="c4207-419">In qualsiasi momento, il database SQL di Azure mantiene tre repliche di dati in esecuzione: una replica primaria e due repliche secondarie.</span><span class="sxs-lookup"><span data-stu-id="c4207-419">At any one time, Azure SQL Database keeps three replicas of data running—one primary replica and two secondary replicas.</span></span> <span data-ttu-id="c4207-420">Per altre informazioni, vedere [Archiviazione di Azure](https://azure.microsoft.com/documentation/services/storage/) e [Informazioni sul database SQL](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-420">For more information, see [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) and [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span><br/><br/><span data-ttu-id="c4207-421">Quando si usa SQL Server nella macchina virtuale di Azure come origine dati per App Web di Azure, tenere presente che App Web di Azure non supporta la rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-421">When using SQL Server in Azure VM as a data source for Azure Web Apps, keep in mind that Azure Web Apps does not support Azure Virtual Network.</span></span> <span data-ttu-id="c4207-422">In altri termini, tutte le connessioni da App Web di Azure alle macchine virtuali di SQL Server in Azure devono attraversare gli endpoint pubblici delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c4207-422">In other words, all connections from Azure Web Apps to SQL Server VMs in Azure must go through public end points of virtual machines.</span></span> <span data-ttu-id="c4207-423">Questo potrebbe causare alcune limitazioni per gli scenari di disponibilità elevata e ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="c4207-423">This might cause some limitations for high availability and disaster recovery scenarios.</span></span> <span data-ttu-id="c4207-424">Ad esempio, l'applicazione client su App Web di Azure che si connette alla macchina virtuale di SQL Server con il mirroring del database non potrebbe connettersi al nuovo server primario, in quanto il mirroring richiede la configurazione della rete virtuale di Azure tra le macchine virtuali host di SQL Server in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-424">For example, the client application on Azure Web Apps connecting to SQL Server VM with database mirroring would not be able to connect to the new primary server as database mirroring requires that you set up Azure Virtual Network between SQL Server host VMs in Azure.</span></span> <span data-ttu-id="c4207-425">Pertanto, l'utilizzo del **mirroring del database SQL Server** con App Web di Azure non è attualmente supportato.</span><span class="sxs-lookup"><span data-stu-id="c4207-425">Therefore, using **SQL Server Database Mirroring** with Azure Web Apps is not supported currently.</span></span><br/><br/><span data-ttu-id="c4207-426">**Gruppi di disponibilità di SQL Server AlwaysOn**: è possibile configurare i gruppi di disponibilità di SQL Server AlwaysOn quando si usa App Web di Azure con le VM di SQL Server in Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-426">**SQL Server AlwaysOn Availability Groups**: You can set up AlwaysOn Availability Groups when using Azure Web Apps with SQL Server VMs in Azure.</span></span> <span data-ttu-id="c4207-427">Tuttavia, è necessario configurare il listener del gruppo di disponibilità AlwaysOn per indirizzare la comunicazione alla replica primaria tramite endpoint pubblici con bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="c4207-427">But you need to configure AlwaysOn Availability Group Listener to route the communication to the primary replica via public load-balanced endpoints.</span></span> |
| <span data-ttu-id="c4207-428">**Connettività di più sedi locali**</span><span class="sxs-lookup"><span data-stu-id="c4207-428">**cross-premises Connectivity**</span></span> |<span data-ttu-id="c4207-429">È possibile usare la rete virtuale di Azure per la connessione in locale.</span><span class="sxs-lookup"><span data-stu-id="c4207-429">You can use Azure Virtual Network to connect to on-premises.</span></span> |<span data-ttu-id="c4207-430">È possibile usare la rete virtuale di Azure per la connessione in locale.</span><span class="sxs-lookup"><span data-stu-id="c4207-430">You can use Azure Virtual Network to connect to on-premises.</span></span> |<span data-ttu-id="c4207-431">La rete virtuale di Azure è supportata.</span><span class="sxs-lookup"><span data-stu-id="c4207-431">Azure Virtual Network is supported.</span></span> <span data-ttu-id="c4207-432">Per altre informazioni, vedere l'articolo relativo all' [integrazione della rete virtuale delle app Web](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span><span class="sxs-lookup"><span data-stu-id="c4207-432">For more information, see [Web Apps Virtual Network Integration](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span></span> |
| <span data-ttu-id="c4207-433">**Scalabilità**</span><span class="sxs-lookup"><span data-stu-id="c4207-433">**Scalability**</span></span> |<span data-ttu-id="c4207-434">L'aumento delle prestazioni del servizio è possibile incrementando le dimensioni della macchina virtuale o aggiungendo più dischi.</span><span class="sxs-lookup"><span data-stu-id="c4207-434">Scale-up is available by increasing the virtual machine sizes or adding more disks.</span></span> <span data-ttu-id="c4207-435">Per altre informazioni sulle dimensioni della macchina virtuale, vedere [Dimensioni delle macchine virtuali in Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c4207-435">For more information about virtual machine sizes, see [Virtual Machine Sizes for Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span><br/><br/><span data-ttu-id="c4207-436">**Per server di database**: la scalabilità orizzontale è disponibile tramite tecniche di partizionamento del database e gruppi di disponibilità AlwaysOn di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-436">**For Database Server**: Scale-out is available via database partitioning techniques and SQL Server AlwaysOn Availability groups.</span></span><br/><br/><span data-ttu-id="c4207-437">Per i carichi di lavoro con operazioni di lettura intense, è possibile usare i [gruppi di disponibilità AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx) su più nodi secondari nonché la replica di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-437">For heavy read workloads, you can use [AlwaysOn Availability Groups](https://msdn.microsoft.com/library/hh510230.aspx) on multiple secondary nodes as well as SQL Server Replication.</span></span><br/><br/><span data-ttu-id="c4207-438">Per i carichi di lavoro con operazioni di lettura intense è possibile implementare il partizionamento orizzontale dei dati tra più server fisici per ridimensionare le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="c4207-438">For heavy write workloads, you can implement horizontal partitioning data across multiple physical servers to provide application scale-out.</span></span><br/><br/><span data-ttu-id="c4207-439">È anche possibile implementare la scalabilità orizzontale usando [SQL Server con il routing dipendente dai dati](https://technet.microsoft.com/library/cc966448.aspx).</span><span class="sxs-lookup"><span data-stu-id="c4207-439">In addition, you can implement a scale-out by using [SQL Server with Data Dependent Routing](https://technet.microsoft.com/library/cc966448.aspx).</span></span> <span data-ttu-id="c4207-440">Con il routing dipendente dai dati è necessario implementare il meccanismo di partizionamento nell'applicazione client, in genere nel livello business, per indirizzare le richieste del database a più nodi SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-440">With Data Dependent Routing (DDR), you need to implement the partitioning mechanism in the client application, typically in the business tier layer, to route the database requests to multiple SQL Server nodes.</span></span> <span data-ttu-id="c4207-441">Il livello business contiene mapping alla modalità di partizionamento dei dati e al nodo che contiene i dati.</span><span class="sxs-lookup"><span data-stu-id="c4207-441">The business tier contains mappings to how the data is partitioned and which node contains the data.</span></span><br/><br/><span data-ttu-id="c4207-442">È possibile applicare la scalabilità alle applicazioni in cui vengono eseguite le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c4207-442">You can scale applications that are running virtual machines.</span></span> <span data-ttu-id="c4207-443">Per altre informazioni, vedere l'articolo su [come ridimensionare un'applicazione](../../../cloud-services/cloud-services-how-to-scale.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-443">For more information, see [How to Scale an Application](../../../cloud-services/cloud-services-how-to-scale.md).</span></span><br/><br/><span data-ttu-id="c4207-444">**Nota importante**: la funzionalità di **scalabilità automatica** di Azure consente di aumentare o ridurre automaticamente il numero di macchine virtuali usate dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-444">**Important Note**: The **AutoScale** feature in Azure allows you to automatically increase or decrease the Virtual Machines that are used by your application.</span></span> <span data-ttu-id="c4207-445">In questo modo l'esperienza degli utenti finali non è compromessa nei periodi di massima attività e le macchine virtuali sono spente quando la domanda è bassa.</span><span class="sxs-lookup"><span data-stu-id="c4207-445">This feature guarantees that the end-user experience is not affected negatively during peak periods, and VMs are shut down when the demand is low.</span></span> <span data-ttu-id="c4207-446">È consigliabile non impostare l'opzione di scalabilità automatica per il servizio cloud se include macchine virtuali di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4207-446">It’s recommended that you do not set the AutoScale option for your cloud service if it includes SQL Server VMs.</span></span> <span data-ttu-id="c4207-447">La funzionalità di scalabilità automatica, infatti, consente ad Azure di avviare una macchina virtuale quando l'utilizzo della CPU in tale macchina virtuale è superiore rispetto a una certa soglia e di spegnerla quando l'utilizzo della CPU scende al di sotto di tale soglia.</span><span class="sxs-lookup"><span data-stu-id="c4207-447">The reason is that the AutoScale feature lets Azure to turn on a virtual machine when the CPU usage in that VM is higher than some threshold, and to turn off a virtual machine when the CPU usage goes lower than it.</span></span> <span data-ttu-id="c4207-448">Si tratta di una funzionalità utile per le applicazioni senza stato, ad esempio i server Web, in cui tutte le macchine virtuali possono gestire il carico di lavoro senza riferimenti allo stato precedente.</span><span class="sxs-lookup"><span data-stu-id="c4207-448">The AutoScale feature is useful for stateless applications, such as web servers, where any VM can manage the workload without any references to any previous state.</span></span> <span data-ttu-id="c4207-449">Tuttavia, la funzionalità di scalabilità automatica non è utile per le applicazioni con stato come SQL Server in cui solo un'istanza consente la scrittura nel database.</span><span class="sxs-lookup"><span data-stu-id="c4207-449">However, the AutoScale feature is not useful for stateful applications, such as SQL Server, where only one instance allows writing to the database.</span></span> |<span data-ttu-id="c4207-450">L'aumento delle prestazioni del servizio è possibile tramite l'uso di più ruoli Web e più ruoli di lavoro.</span><span class="sxs-lookup"><span data-stu-id="c4207-450">Scale-up is available by using multiple web and worker roles.</span></span> <span data-ttu-id="c4207-451">Per altre informazioni sulle dimensioni delle macchine virtuali per i ruoli Web e di lavoro, vedere l'articolo su come [configurare le dimensioni per i servizi cloud](../../../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-451">For more information about virtual machine sizes for web roles and worker roles, see [Configure Sizes for Cloud Services](../../../cloud-services/cloud-services-sizes-specs.md).</span></span><br/><br/><span data-ttu-id="c4207-452">Quando si usano i **servizi cloud**è possibile definire più ruoli per distribuire l'elaborazione e conseguire la scalabilità flessibile dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-452">When using **Cloud Services**, you can define multiple roles to distribute processing and also achieve flexible scaling of your application.</span></span> <span data-ttu-id="c4207-453">Ogni servizio cloud include uno o più ruoli Web e/o di lavoro, ognuno con i rispettivi file e configurazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-453">Each cloud service includes one or more web roles and/or worker roles, each with its own application files and configuration.</span></span> <span data-ttu-id="c4207-454">È possibile scalare verticalmente un servizio cloud aumentando il numero di istanze del ruolo (macchine virtuali) distribuite per un ruolo o riducendo il numero di istanze del ruolo.</span><span class="sxs-lookup"><span data-stu-id="c4207-454">You can scale-up a cloud service by increasing the number of role instances (virtual machines) deployed for a role and scale-down a cloud service by decreasing the number of role instances.</span></span> <span data-ttu-id="c4207-455">Per informazioni dettagliate, vedere [Modelli di esecuzione di Azure](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-455">For detailed information, see [Azure Execution Models](../../../cloud-services/cloud-services-choose-me.md).</span></span><br/><br/><span data-ttu-id="c4207-456">La scalabilità orizzontale è disponibile tramite il supporto di Azure per la disponibilità elevata integrato nei [Contratti di servizio per servizi cloud, macchine virtuali e reti virtuali](http://www.microsoft.com/download/details.aspx?id=38427) e bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="c4207-456">Scale-out is available via built-in Azure high availability support through [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and Load Balancer.</span></span><br/><br/><span data-ttu-id="c4207-457">Per un'applicazione a più livelli, si consiglia di connettere l'applicazione dei ruoli di lavoro o Web alle VM virtuali del server di database tramite la rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-457">For a multi-tier application, we recommend that you connect web/worker roles application to database server VMs via Azure Virtual Network.</span></span> <span data-ttu-id="c4207-458">Azure offre inoltre il bilanciamento del carico per macchine virtuali nello stesso servizio cloud, distribuendo le richieste degli utenti tra le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c4207-458">In addition, Azure provides load balancing for VMs in the same cloud service, spreading user requests across them.</span></span> <span data-ttu-id="c4207-459">Le macchine virtuali connesse in tale modo saranno in grado di comunicare direttamente tra loro sulla rete locale in un data center di Azure.</span><span class="sxs-lookup"><span data-stu-id="c4207-459">Virtual machines connected in this way can communicate directly with one another over the local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="c4207-460">È possibile impostare la **scalabilità automatica** nel portale di Azure, oltre alle ore di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-460">You can set up **AutoScale** on the Azure portal as well as the schedule times.</span></span> <span data-ttu-id="c4207-461">Per altre informazione, vedere [Come configurare la scalabilità automatica per un servizio cloud nel portale](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-461">For more information, see [How to configure auto scaling for a Cloud Service in the portal](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span></span> |<span data-ttu-id="c4207-462">**Scalabilità orizzontale e verticale**: è possibile aumentare o ridurre le dimensioni dell'istanza (VM) riservata per il sito Web.</span><span class="sxs-lookup"><span data-stu-id="c4207-462">**Scale up and down**: You can increase/decrease the size of the instance (VM) reserved for your web site.</span></span><br/><br/><span data-ttu-id="c4207-463">Scalabilità orizzontale: è possibile aggiungere altre istanze riservate (VM) per il sito Web.</span><span class="sxs-lookup"><span data-stu-id="c4207-463">Scale out: You can add more reserved instances (VMs) for your web site.</span></span><br/><br/><span data-ttu-id="c4207-464">È possibile impostare la **scalabilità automatica** nel portale, oltre alle ore di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="c4207-464">You can set up **AutoScale** on the portal as well as the schedule times.</span></span> <span data-ttu-id="c4207-465">Per altre informazioni, vedere l'articolo su [come ridimensionare le app Web](../../../app-service-web/web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-465">For more information, see [How to Scale Web Apps](../../../app-service-web/web-sites-scale.md).</span></span> |

<span data-ttu-id="c4207-466">Per altre informazioni sulla scelta tra i metodi di programmazione disponibili, vedere [Confronto tra App Web di Azure, servizi cloud e VM di Azure](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-466">For more information on choosing between these programming methods, see [Azure Web Apps, Cloud Services, and VMs: When to use which](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c4207-467">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="c4207-467">Next Steps</span></span>
<span data-ttu-id="c4207-468">Per altre informazioni sull'esecuzione di SQL Server in Macchine virtuali di Azure, vedere [Panoramica di SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c4207-468">For more information on running SQL Server in Azure Virtual machines, see [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

