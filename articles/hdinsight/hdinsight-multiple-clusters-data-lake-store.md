---
title: "HDInsight più cluster con un account archivio Azure Data Lake - Azure aaaUse | Documenti Microsoft"
description: "Informazioni su come toouse più di un HDInsight cluster con un singolo account archivio Data Lake"
keywords: archiviazione hdinsight, hdfs, dati strutturati, dati non strutturati, data lake store
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="5cafd-104">Usare più cluster HDInsight con un account Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="5cafd-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="5cafd-105">A partire dalla versione 3.5 di HDInsight, è possibile creare cluster HDInsight con account archivio Azure Data Lake come file System predefinito hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="5cafd-106">Supportando l'archiviazione illimitata, Data Lake Store è ideale non solo per l'hosting di grandi quantità di dati, ma anche per l'hosting di più cluster HDInsight che condividono un unico account Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="5cafd-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="5cafd-107">Per instructionson come toocreate un HDInsight cluster con archivio Data Lake come archiviazione hello, vedere [HDInsight creare cluster con archivio Data Lake](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="5cafd-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="5cafd-108">Questo articolo fornisce amministratore dell'archivio Data Lake toohello indicazioni per la configurazione di un singolo e condivise Account Data Lake archiviare che può essere utilizzato in più **active** cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="5cafd-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="5cafd-109">Questi consigli si applicano toohosting Hadoop protetto nonché non sicure più cluster in un account archivio Data Lake condiviso.</span><span class="sxs-lookup"><span data-stu-id="5cafd-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="5cafd-110">ACL a livello di file e cartella di Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="5cafd-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="5cafd-111">Hello parte restante di questo articolo si presuppone che esista una buona conoscenza dei file e cartelle livello ACL nell'archivio Azure Data Lake, come descritto in dettaglio [controllo degli accessi in archivio Azure Data Lake](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="5cafd-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="5cafd-112">Configurazione di Data Lake Store per più cluster HDInsight</span><span class="sxs-lookup"><span data-stu-id="5cafd-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="5cafd-113">Richiedere una gerarchia di cartelle a due livelli prendano indicazioni hello tooexplain per l'utilizzo di cluster HDInsight vengono con un account archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="5cafd-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="5cafd-114">È consigliabile avere un account archivio Data Lake con struttura di cartelle hello **/cluster/finance**.</span><span class="sxs-lookup"><span data-stu-id="5cafd-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="5cafd-115">Con questa struttura, tutti i cluster di hello necessari hello Finance organizzazione possono usare /clusters/finance come percorso di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="5cafd-116">In futuro, se un'altra organizzazione, ad esempio Marketing, desidera che il cluster HDInsight toocreate con hello stesso account archivio Data Lake, è stato possibile creare /clusters/marketing hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="5cafd-117">Per il momento si userà solo **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="5cafd-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="5cafd-118">tooenable toobe di struttura questa cartella può essere utilizzato in modo efficace dai cluster HDInsight, amministratore di archivio Data Lake hello deve assegnare le autorizzazioni appropriate, come descritto nella tabella hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="5cafd-119">autorizzazioni Hello illustrate nella tabella hello corrispondono tooAccess ACL e non gli ACL predefinito.</span><span class="sxs-lookup"><span data-stu-id="5cafd-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="5cafd-120">Cartella</span><span class="sxs-lookup"><span data-stu-id="5cafd-120">Folder</span></span>  |<span data-ttu-id="5cafd-121">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="5cafd-121">Permissions</span></span>  |<span data-ttu-id="5cafd-122">utente proprietario</span><span class="sxs-lookup"><span data-stu-id="5cafd-122">Owning user</span></span>  |<span data-ttu-id="5cafd-123">gruppo proprietario</span><span class="sxs-lookup"><span data-stu-id="5cafd-123">Owning group</span></span>  | <span data-ttu-id="5cafd-124">Utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-124">Named user</span></span> | <span data-ttu-id="5cafd-125">Autorizzazioni utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-125">Named user permissions</span></span> | <span data-ttu-id="5cafd-126">Gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-126">Named group</span></span> | <span data-ttu-id="5cafd-127">Autorizzazioni gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="5cafd-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="5cafd-128">rwxr-x--x</span></span>  |<span data-ttu-id="5cafd-129">admin</span><span class="sxs-lookup"><span data-stu-id="5cafd-129">admin</span></span> |<span data-ttu-id="5cafd-130">admin</span><span class="sxs-lookup"><span data-stu-id="5cafd-130">admin</span></span>  |<span data-ttu-id="5cafd-131">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="5cafd-131">Service principal</span></span> |<span data-ttu-id="5cafd-132">--x</span><span class="sxs-lookup"><span data-stu-id="5cafd-132">--x</span></span>  |<span data-ttu-id="5cafd-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5cafd-133">FINGRP</span></span>   |<span data-ttu-id="5cafd-134">r-x</span><span class="sxs-lookup"><span data-stu-id="5cafd-134">r-x</span></span>         |
|<span data-ttu-id="5cafd-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="5cafd-135">/clusters</span></span> | <span data-ttu-id="5cafd-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="5cafd-136">rwxr-x--x</span></span> |<span data-ttu-id="5cafd-137">admin</span><span class="sxs-lookup"><span data-stu-id="5cafd-137">admin</span></span> |<span data-ttu-id="5cafd-138">admin</span><span class="sxs-lookup"><span data-stu-id="5cafd-138">admin</span></span> |<span data-ttu-id="5cafd-139">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="5cafd-139">Service principal</span></span> |<span data-ttu-id="5cafd-140">--x</span><span class="sxs-lookup"><span data-stu-id="5cafd-140">--x</span></span>  |<span data-ttu-id="5cafd-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5cafd-141">FINGRP</span></span> |<span data-ttu-id="5cafd-142">r-x</span><span class="sxs-lookup"><span data-stu-id="5cafd-142">r-x</span></span>         |
|<span data-ttu-id="5cafd-143">/clusters/finance</span><span class="sxs-lookup"><span data-stu-id="5cafd-143">/clusters/finance</span></span> | <span data-ttu-id="5cafd-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="5cafd-144">rwxr-x--t</span></span> |<span data-ttu-id="5cafd-145">admin</span><span class="sxs-lookup"><span data-stu-id="5cafd-145">admin</span></span> |<span data-ttu-id="5cafd-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5cafd-146">FINGRP</span></span>  |<span data-ttu-id="5cafd-147">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="5cafd-147">Service principal</span></span> |<span data-ttu-id="5cafd-148">rwx</span><span class="sxs-lookup"><span data-stu-id="5cafd-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="5cafd-149">Nella tabella di hello,</span><span class="sxs-lookup"><span data-stu-id="5cafd-149">In hello table,</span></span>

- <span data-ttu-id="5cafd-150">**amministrazione** è autore hello e amministratore di hello account archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="5cafd-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="5cafd-151">**Entità servizio** è hello Azure Active Directory (AAD) entità servizio associata a hello account.</span><span class="sxs-lookup"><span data-stu-id="5cafd-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="5cafd-152">**FINGRP** è un gruppo di utenti creato in AAD che contenga gli utenti da hello organizzazione Finance.</span><span class="sxs-lookup"><span data-stu-id="5cafd-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="5cafd-153">Per istruzioni su come toocreate un'applicazione AAD (che crea un'entità servizio), vedere [creare un'applicazione AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="5cafd-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="5cafd-154">Per istruzioni su come toocreate un gruppo di utenti in AAD, vedere [la gestione dei gruppi in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="5cafd-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="5cafd-155">Tooconsider alcuni punti chiave.</span><span class="sxs-lookup"><span data-stu-id="5cafd-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="5cafd-156">struttura di cartelle di livello due Hello (**/cluster/finance/**) deve essere creato e il provisioning con le autorizzazioni appropriate dall'amministratore di archivio Data Lake hello **prima** utilizzando l'account di archiviazione hello per i cluster.</span><span class="sxs-lookup"><span data-stu-id="5cafd-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="5cafd-157">Questa struttura non viene creata automaticamente durante la creazione dei cluster.</span><span class="sxs-lookup"><span data-stu-id="5cafd-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="5cafd-158">esempio Hello precedente si consiglia di impostare hello appartenenza gruppo di **/cluster/finance** come **FINGRP** permessi e **r-x** accedere tooFINGRP toohello intera gerarchia di cartelle a partire dalla radice hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="5cafd-159">In questo modo si garantisce che i membri di hello del FINGRP possono esplorare la struttura di cartella hello a partire dalla radice.</span><span class="sxs-lookup"><span data-stu-id="5cafd-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="5cafd-160">In caso di hello quando le entità di servizio diversi AAD è possibile creare cluster in **/cluster/finance**, hello sticky bit (quando impostato su hello **finance** cartella) garantisce che le cartelle creati da un servizio Impossibile eliminare l'entità da altre hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="5cafd-161">Quando la struttura di cartelle hello e le autorizzazioni siano soddisfatti, processo di creazione del cluster HDInsight crea un loaction di archiviazione specifici per i cluster in **/cluster/finance/**.</span><span class="sxs-lookup"><span data-stu-id="5cafd-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="5cafd-162">Ad esempio, è possibile archiviazione hello per un cluster con hello Nome fincluster01 **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="5cafd-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="5cafd-163">Hello proprietà e le autorizzazioni per le cartelle di hello create dal cluster HDInsight è illustrato nella tabella hello qui.</span><span class="sxs-lookup"><span data-stu-id="5cafd-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="5cafd-164">Cartella</span><span class="sxs-lookup"><span data-stu-id="5cafd-164">Folder</span></span>  |<span data-ttu-id="5cafd-165">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="5cafd-165">Permissions</span></span>  |<span data-ttu-id="5cafd-166">utente proprietario</span><span class="sxs-lookup"><span data-stu-id="5cafd-166">Owning user</span></span>  |<span data-ttu-id="5cafd-167">gruppo proprietario</span><span class="sxs-lookup"><span data-stu-id="5cafd-167">Owning group</span></span>  | <span data-ttu-id="5cafd-168">Utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-168">Named user</span></span> | <span data-ttu-id="5cafd-169">Autorizzazioni utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-169">Named user permissions</span></span> | <span data-ttu-id="5cafd-170">Gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-170">Named group</span></span> | <span data-ttu-id="5cafd-171">Autorizzazioni gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="5cafd-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="5cafd-172">/clusters/finanace/ fincluster01</span><span class="sxs-lookup"><span data-stu-id="5cafd-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="5cafd-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="5cafd-173">rwxr-x---</span></span>  |<span data-ttu-id="5cafd-174">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="5cafd-174">Service Principal</span></span> |<span data-ttu-id="5cafd-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5cafd-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="5cafd-176">Suggerimenti per i dati di input e di output del processo</span><span class="sxs-lookup"><span data-stu-id="5cafd-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="5cafd-177">È consigliabile processo tooa dei dati di input e output da un processo di hello essere archiviati in una cartella di fuori **/cluster**.</span><span class="sxs-lookup"><span data-stu-id="5cafd-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="5cafd-178">In questo modo si garantisce che anche se hello specifici per i cluster cartella tooreclaim eliminati alcuni spazio di archiviazione, hello processo input e output sono ancora disponibili per un utilizzo futuro.</span><span class="sxs-lookup"><span data-stu-id="5cafd-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="5cafd-179">In tal caso, verificare che la gerarchia di cartelle hello per l'archiviazione hello processo input e output consenta appropriato livello di accesso per hello dell'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="5cafd-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="5cafd-180">Limite di cluster che condividono un unico account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="5cafd-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="5cafd-181">limite Hello hello numero di cluster che è possibile condividere un singolo account archivio Data Lake dipende dal carico di lavoro hello in esecuzione su tali cluster.</span><span class="sxs-lookup"><span data-stu-id="5cafd-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="5cafd-182">Presenza di troppi cluster o i carichi di lavoro genera un notevole carico nei cluster hello che condividono un account di archiviazione potrebbe hello storage account ingresso/uscita tooget limitate.</span><span class="sxs-lookup"><span data-stu-id="5cafd-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="5cafd-183">Supporto per gli ACL predefiniti</span><span class="sxs-lookup"><span data-stu-id="5cafd-183">Support for Default-ACLs</span></span>

<span data-ttu-id="5cafd-184">Quando si crea un'entità servizio con accesso utente specifico (come illustrato nella tabella hello precedente), è consigliabile **non** aggiunta hello denominato utente con un valore predefinito-ACL.</span><span class="sxs-lookup"><span data-stu-id="5cafd-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="5cafd-185">Utilizzo dei risultati di ACL predefiniti nell'assegnazione hello di 770 autorizzazioni per l'utente proprietario, gruppo di appartenenza e altri l'accesso utente denominato provisioning.</span><span class="sxs-lookup"><span data-stu-id="5cafd-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="5cafd-186">Sebbene non sottragga autorizzazioni all'utente proprietario (7) o al gruppo proprietario (7), il valore predefinito di 770 sottrae tutte le autorizzazioni agli altri membri (0).</span><span class="sxs-lookup"><span data-stu-id="5cafd-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="5cafd-187">Di conseguenza, un problema noto con una particolari casi di utilizzo illustrato in dettaglio in hello [problemi noti e soluzioni alternative](#known-issues-and-workarounds) sezione.</span><span class="sxs-lookup"><span data-stu-id="5cafd-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="5cafd-188">Problemi noti e soluzioni alternative</span><span class="sxs-lookup"><span data-stu-id="5cafd-188">Known issues and workarounds</span></span>

<span data-ttu-id="5cafd-189">Questa sezione elenca hello conosciuti per l'uso di HDInsight con archivio Data Lake e le relative soluzioni.</span><span class="sxs-lookup"><span data-stu-id="5cafd-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="5cafd-190">Risorse YARN localizzate visibili pubblicamente</span><span class="sxs-lookup"><span data-stu-id="5cafd-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="5cafd-191">Quando viene creato un nuovo account archivio Azure Data Lake, viene eseguito automaticamente il provisioning directory radice hello con accesso ACL autorizzazione bits set too770.</span><span class="sxs-lookup"><span data-stu-id="5cafd-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="5cafd-192">cartella Hello radice proprietario l'utente è set toohello che hello account (amministratore archivio Data Lake hello) creato e hello appartenenza gruppo toohello gruppo primario dell'utente hello che ha creato l'account di hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="5cafd-193">Per gli altri membri non è previsto alcun tipo di acceso.</span><span class="sxs-lookup"><span data-stu-id="5cafd-193">No access is provided for "others".</span></span>

<span data-ttu-id="5cafd-194">Queste impostazioni sono note tooaffect uno specifico HDInsight casi di utilizzo acquisiti in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="5cafd-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="5cafd-195">Invio processo potrebbe non riuscire con un messaggio di errore simile toothis:</span><span class="sxs-lookup"><span data-stu-id="5cafd-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="5cafd-196">Come indicato nella hello che YARN JIRA collegato in precedenza, durante la localizzazione di risorse pubbliche, hello localizzatore convalida hello tutte le risorse richieste sono effettivamente pubbliche selezionando le relative autorizzazioni sul sistema di file remoto hello.</span><span class="sxs-lookup"><span data-stu-id="5cafd-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="5cafd-197">Eventuali LocalResource che non soddisfano questa condizione vengono rifiutate per la localizzazione.</span><span class="sxs-lookup"><span data-stu-id="5cafd-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="5cafd-198">salve controllo delle autorizzazioni, include file toohello e accesso in lettura per "altri".</span><span class="sxs-lookup"><span data-stu-id="5cafd-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="5cafd-199">Questo scenario non funziona della casella quando si ospita il cluster HDInsight su Azure Data Lake, poiché Azure Data Lake Nega l'accesso troppo "altri" a livello di cartella radice.</span><span class="sxs-lookup"><span data-stu-id="5cafd-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="5cafd-200">Soluzione alternativa</span><span class="sxs-lookup"><span data-stu-id="5cafd-200">Workaround</span></span>
<span data-ttu-id="5cafd-201">Lettura-esecuzione set di autorizzazioni per **altri** tramite la gerarchia di hello, ad esempio, in  **/** , **/cluster** e   **/cluster/finance**  come illustrato nella tabella hello precedente.</span><span class="sxs-lookup"><span data-stu-id="5cafd-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="5cafd-202">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="5cafd-202">See also</span></span>

* [<span data-ttu-id="5cafd-203">Creare un cluster HDInsight con Archivio Data Lake</span><span class="sxs-lookup"><span data-stu-id="5cafd-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


