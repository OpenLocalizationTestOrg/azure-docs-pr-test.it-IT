---
title: aaaAvailability imposta per le macchine virtuali Windows in Azure | Documenti Microsoft
description: "Informazioni su hello progettazione e implementazione di linee guida fondamentali per la distribuzione di set di disponibilità in servizi di infrastruttura di Azure."
documentationcenter: 
services: virtual-machines-windows
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: f9449f58-664b-4d5d-82f6-84c5d083047f
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: cc35fd1e913434d9facb94116edb1b1c30447c71
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-availability-sets-guidelines-for-windows-vms"></a><span data-ttu-id="c36b5-103">Linee guida per i set di disponibilità di Azure per macchine virtuali Windows</span><span class="sxs-lookup"><span data-stu-id="c36b5-103">Azure availability sets guidelines for Windows VMs</span></span>

[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-intro](../../../includes/virtual-machines-windows-infrastructure-guidelines-intro.md)]

<span data-ttu-id="c36b5-104">In questo articolo è incentrata sulla comprensione hello necessario passaggi di pianificazione per la disponibilità delle applicazioni di tooensure imposta rimangono accessibili durante gli eventi pianificati o non pianificati.</span><span class="sxs-lookup"><span data-stu-id="c36b5-104">This article focuses on understanding hello required planning steps for availability sets tooensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="c36b5-105">Linee guida di implementazione per i set di disponibilità</span><span class="sxs-lookup"><span data-stu-id="c36b5-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="c36b5-106">Decisioni:</span><span class="sxs-lookup"><span data-stu-id="c36b5-106">Decisions:</span></span>

* <span data-ttu-id="c36b5-107">Il numero di set di disponibilità necessaria per hello diversi livelli e ruoli nell'infrastruttura di applicazioni?</span><span class="sxs-lookup"><span data-stu-id="c36b5-107">How many availability sets do you need for hello various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="c36b5-108">Attività:</span><span class="sxs-lookup"><span data-stu-id="c36b5-108">Tasks:</span></span>

* <span data-ttu-id="c36b5-109">Definire il numero di hello di macchine virtuali in ogni livello di applicazione, che è necessario.</span><span class="sxs-lookup"><span data-stu-id="c36b5-109">Define hello number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="c36b5-110">Determinare se è necessario numero hello tooadjust di toobe di domini di errore o di aggiornamento utilizzato per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c36b5-110">Determine if you need tooadjust hello number of fault or update domains toobe used for your application.</span></span>
* <span data-ttu-id="c36b5-111">Definire il set di disponibilità hello necessario utilizzando la convenzione di denominazione e le macchine virtuali in esse contenuti.</span><span class="sxs-lookup"><span data-stu-id="c36b5-111">Define hello required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="c36b5-112">Una macchina virtuale può risiedere soltanto in un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="c36b5-112">A VM can only reside in one availability set.</span></span>

## <a name="availability-sets"></a><span data-ttu-id="c36b5-113">Set di disponibilità</span><span class="sxs-lookup"><span data-stu-id="c36b5-113">Availability sets</span></span>
<span data-ttu-id="c36b5-114">In Azure, macchine virtuali (VM) può essere inserite raggruppamento logico di tooa chiamato set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="c36b5-114">In Azure, virtual machines (VMs) can be placed in tooa logical grouping called an availability set.</span></span> <span data-ttu-id="c36b5-115">Quando si creano le macchine virtuali all'interno di un set di disponibilità, hello piattaforma Azure distribuisce il posizionamento di hello di tali macchine virtuali tra hello infrastruttura sottostante.</span><span class="sxs-lookup"><span data-stu-id="c36b5-115">When you create VMs within an availability set, hello Azure platform distributes hello placement of those VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="c36b5-116">Deve esistere un toohello evento di manutenzione pianificata della piattaforma Azure o di un hardware sottostante o errore di infrastruttura, usare hello del set di disponibilità garantisce che almeno una macchina virtuale rimane in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="c36b5-116">Should there be a planned maintenance event toohello Azure platform or an underlying hardware / infrastructure fault, hello use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="c36b5-117">La procedura consigliata prevede che le applicazioni non risiedano in una singola macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c36b5-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="c36b5-118">Un set di disponibilità che contiene una singola macchina virtuale non può ottenere alcuna protezione dagli eventi pianificati o all'interno di hello piattaforma Azure.</span><span class="sxs-lookup"><span data-stu-id="c36b5-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within hello Azure platform.</span></span> <span data-ttu-id="c36b5-119">Hello [SLA di Azure](https://azure.microsoft.com/support/legal/sla/virtual-machines) richiede due o più macchine virtuali all'interno di una disponibilità set tooallow hello distribuzione di macchine virtuali tra hello infrastruttura sottostante.</span><span class="sxs-lookup"><span data-stu-id="c36b5-119">hello [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set tooallow hello distribution of VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="c36b5-120">Se si utilizza [archiviazione Premium di Azure](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello SLA di Azure si applica tooa singola macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c36b5-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA applies tooa single VM.</span></span>

<span data-ttu-id="c36b5-121">infrastruttura Hello in Azure è diviso in cluster hardware toomultiple.</span><span class="sxs-lookup"><span data-stu-id="c36b5-121">hello underlying infrastructure in Azure is divided in toomultiple hardware clusters.</span></span> <span data-ttu-id="c36b5-122">Ogni cluster hardware può supportare una gamma di dimensioni delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="c36b5-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="c36b5-123">Un set di disponibilità può essere ospitato solo in un singolo cluster hardware in un determinato momento.</span><span class="sxs-lookup"><span data-stu-id="c36b5-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="c36b5-124">Pertanto, hello intervallo di dimensioni delle macchine Virtuali che possono essere presenti in un unico set di disponibilità è limitato toohello intervallo di dimensioni delle macchine Virtuali dal cluster hardware hello è supportati.</span><span class="sxs-lookup"><span data-stu-id="c36b5-124">Therefore, hello range of VM sizes that can exist in a single availability set is limited toohello range of VM sizes supported by hello hardware cluster.</span></span> <span data-ttu-id="c36b5-125">cluster hardware Hello per set di disponibilità hello è selezionato quando hello prima macchina virtuale nel set di disponibilità hello viene distribuito o avvio hello prima macchina virtuale in un set di disponibilità in cui tutte le macchine virtuali sono attualmente in stato di arresto-deallocazione hello.</span><span class="sxs-lookup"><span data-stu-id="c36b5-125">hello hardware cluster for hello availability set is selected when hello first VM in hello availability set is deployed or when starting hello first VM in an availability set where all VMs are currently in hello stopped-deallocated state.</span></span> <span data-ttu-id="c36b5-126">Hello comando PowerShell seguente può essere utilizzato toodetermine hello intervallo di dimensioni disponibili per un set di disponibilità: "Get-AzureRmVMSize - ResourceGroupName \<stringa\> - AvailabilitySetName \<stringa\> "</span><span class="sxs-lookup"><span data-stu-id="c36b5-126">hello following PowerShell command can be used toodetermine hello range of VM sizes available for an availability set: "Get-AzureRmVMSize -ResourceGroupName \<string\> -AvailabilitySetName \<string\>"</span></span>

<span data-ttu-id="c36b5-127">Ogni cluster hardware è suddivisa in domini di aggiornamento toomultiple e domini di errore.</span><span class="sxs-lookup"><span data-stu-id="c36b5-127">Each hardware cluster is divided in toomultiple update domains and fault domains.</span></span> <span data-ttu-id="c36b5-128">Tali domini sono definiti in base agli host che condividono un ciclo di aggiornamento comune o un'infrastruttura fisica simile, ad esempio quella di alimentazione e rete.</span><span class="sxs-lookup"><span data-stu-id="c36b5-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="c36b5-129">Azure distribuisce automaticamente le macchine virtuali all'interno di un set tra domini toomaintain disponibilità e la tolleranza di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="c36b5-129">Azure automatically distributes your VMs within an availability set across domains toomaintain availability and fault tolerance.</span></span> <span data-ttu-id="c36b5-130">A seconda delle dimensioni di hello dell'applicazione e il numero di hello di macchine virtuali all'interno di un set di disponibilità, è possibile modificare il numero di hello dei domini desiderato toouse.</span><span class="sxs-lookup"><span data-stu-id="c36b5-130">Depending on hello size of your application and hello number of VMs within an availability set, you can adjust hello number of domains you wish toouse.</span></span> <span data-ttu-id="c36b5-131">Altre informazioni su [gestione della disponibilità e uso dei domini di aggiornamento e di errore](manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="c36b5-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="c36b5-132">Quando si progetta l'infrastruttura dell'applicazione, pianificare i livelli di applicazione hello in uso.</span><span class="sxs-lookup"><span data-stu-id="c36b5-132">When designing your application infrastructure, plan hello application tiers that you use.</span></span> <span data-ttu-id="c36b5-133">Macchine virtuali di gruppo che servono hello stesso scopo tooavailability set, ad esempio un set di disponibilità per le macchine virtuali front-end che esegue IIS.</span><span class="sxs-lookup"><span data-stu-id="c36b5-133">Group VMs that serve hello same purpose in tooavailability sets, such as an availability set for your front-end VMs running IIS.</span></span> <span data-ttu-id="c36b5-134">Creare un set di disponibilità distinto per le VM back-end che eseguono SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c36b5-134">Create a separate availability set for your back-end VMs running SQL Server.</span></span> <span data-ttu-id="c36b5-135">obiettivo di Hello è tooensure che ogni componente dell'applicazione è protetto da un set di disponibilità e almeno una volta istanza rimanga sempre in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="c36b5-135">hello goal is tooensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="c36b5-136">Servizi di bilanciamento del carico possono essere utilizzate davanti a ogni toowork di livello applicazione insieme a un set di disponibilità e assicurarsi che il traffico può essere sempre indirizzato tooa esegue l'istanza.</span><span class="sxs-lookup"><span data-stu-id="c36b5-136">Load balancers can be utilized in front of each application tier toowork alongside an availability set and ensure traffic can always be routed tooa running instance.</span></span> <span data-ttu-id="c36b5-137">Senza un bilanciamento del carico, le macchine virtuali possono restare in esecuzione durante gli eventi pianificati e di manutenzione, ma l'utente finale potrebbe non essere in grado di tooresolve li se hello VM primaria non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="c36b5-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able tooresolve them if hello primary VM is unavailable.</span></span>

<span data-ttu-id="c36b5-138">Progettare l'applicazione per la disponibilità elevata a livello di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="c36b5-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="c36b5-139">procedura consigliata Hello è troppo[utilizzare dischi gestiti per le macchine virtuali in un Set di disponibilità](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="c36b5-139">hello best practice is too[use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="c36b5-140">Se i dischi non gestiti attualmente in uso, è consigliabile troppo[convertire le macchine virtuali nel Set di disponibilità di dischi gestiti di toouse](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="c36b5-140">If you are currently using unmanaged disks, we highly recommend you too[convert VMs in Availability Set toouse Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c36b5-141">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="c36b5-141">Next steps</span></span>
[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-windows-infrastructure-guidelines-next-steps.md)]
