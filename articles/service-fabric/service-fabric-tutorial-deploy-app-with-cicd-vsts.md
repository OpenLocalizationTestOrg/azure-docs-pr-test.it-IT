---
title: Distribuire un'applicazione di Azure Service Fabric con integrazione continua (Team Services) | Microsoft Docs
description: Informazioni su come configurare l'integrazione e la distribuzione continue per un'applicazione di Service Fabric tramite Visual Studio Team Services.  Distribuire un'applicazione in un cluster di Service Fabric in Azure.
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotNet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/09/2017
ms.author: ryanwi
ms.openlocfilehash: 631f9794994530092d05a33b06ebf8c07f331649
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="deploy-an-application-with-cicd-to-a-service-fabric-cluster"></a><span data-ttu-id="46920-104">Distribuire un'applicazione con integrazione continua/distribuzione continua in un cluster di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="46920-104">Deploy an application with CI/CD to a Service Fabric cluster</span></span>
<span data-ttu-id="46920-105">Questa esercitazione è la terza di una serie e illustra come configurare l'integrazione continua e la distribuzione continua per un'applicazione di Azure Service Fabric tramite Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="46920-105">This tutorial is part three of a series and describes how to set up continuous integration and deployment for an Azure Service Fabric application using Visual Studio Team Services.</span></span>  <span data-ttu-id="46920-106">È necessaria un'applicazione di Service Fabric esistente. Viene usata come esempio l'applicazione creata in [Compilare un'applicazione .NET](service-fabric-tutorial-create-dotnet-app.md).</span><span class="sxs-lookup"><span data-stu-id="46920-106">An existing Service Fabric application is needed, the application created in [Build a .NET application](service-fabric-tutorial-create-dotnet-app.md) is used as an example.</span></span>

<span data-ttu-id="46920-107">Nella terza parte della serie si apprenderà come:</span><span class="sxs-lookup"><span data-stu-id="46920-107">In part three of the series, you learn how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="46920-108">Aggiungere il controllo del codice sorgente al progetto</span><span class="sxs-lookup"><span data-stu-id="46920-108">Add source control to your project</span></span>
> * <span data-ttu-id="46920-109">Creare una definizione di compilazione in Team Services</span><span class="sxs-lookup"><span data-stu-id="46920-109">Create a build definition in Team Services</span></span>
> * <span data-ttu-id="46920-110">Creare una definizione di versione in Team Services</span><span class="sxs-lookup"><span data-stu-id="46920-110">Create a release definition in Team Services</span></span>
> * <span data-ttu-id="46920-111">Distribuire automaticamente e aggiornare un'applicazione</span><span class="sxs-lookup"><span data-stu-id="46920-111">Automatically deploy and upgrade an application</span></span>

<span data-ttu-id="46920-112">In questa serie di esercitazioni si apprenderà come:</span><span class="sxs-lookup"><span data-stu-id="46920-112">In this tutorial series you learn how to:</span></span>
> [!div class="checklist"]
> * [<span data-ttu-id="46920-113">Creare un'applicazione di Service Fabric .NET</span><span class="sxs-lookup"><span data-stu-id="46920-113">Build a .NET Service Fabric application</span></span>](service-fabric-tutorial-create-dotnet-app.md)
> * [<span data-ttu-id="46920-114">Distribuire l'applicazione in un cluster remoto</span><span class="sxs-lookup"><span data-stu-id="46920-114">Deploy the application to a remote cluster</span></span>](service-fabric-tutorial-deploy-app-to-party-cluster.md)
> * <span data-ttu-id="46920-115">Configurare l'integrazione continua e la distribuzione continua usando Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="46920-115">Configure CI/CD using Visual Studio Team Services</span></span>

## <a name="prerequisites"></a><span data-ttu-id="46920-116">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="46920-116">Prerequisites</span></span>
<span data-ttu-id="46920-117">Prima di iniziare questa esercitazione:</span><span class="sxs-lookup"><span data-stu-id="46920-117">Before you begin this tutorial:</span></span>
- <span data-ttu-id="46920-118">Se non si ha una sottoscrizione di Azure, creare un [account gratuito](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)</span><span class="sxs-lookup"><span data-stu-id="46920-118">If you don't have an Azure subscription, create a [free account](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)</span></span>
- <span data-ttu-id="46920-119">[Installare Visual Studio 2017](https://www.visualstudio.com/) e installare i carichi di lavoro **Sviluppo di Azure** e **Sviluppo ASP.NET e Web**.</span><span class="sxs-lookup"><span data-stu-id="46920-119">[Install Visual Studio 2017](https://www.visualstudio.com/) and install the **Azure development** and **ASP.NET and web development** workloads.</span></span>
- <span data-ttu-id="46920-120">[Installare Service Fabric SDK](service-fabric-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="46920-120">[Install the Service Fabric SDK](service-fabric-get-started.md)</span></span>
- <span data-ttu-id="46920-121">Creare un'applicazione di Service Fabric, ad esempio [eseguendo questa esercitazione](service-fabric-tutorial-create-dotnet-app.md).</span><span class="sxs-lookup"><span data-stu-id="46920-121">Create a Service Fabric application, for example by [following this tutorial](service-fabric-tutorial-create-dotnet-app.md).</span></span> 
- <span data-ttu-id="46920-122">Creare un cluster di Service Fabric per Windows in Azure, ad esempio [eseguendo questa esercitazione](service-fabric-tutorial-create-cluster-azure-ps.md)</span><span class="sxs-lookup"><span data-stu-id="46920-122">Create a Windows Service Fabric cluster on Azure, for example by [following this tutorial](service-fabric-tutorial-create-cluster-azure-ps.md)</span></span>
- <span data-ttu-id="46920-123">Creare un [account di Team Services](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services).</span><span class="sxs-lookup"><span data-stu-id="46920-123">Create a [Team Services account](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services).</span></span>

## <a name="download-the-voting-sample-application"></a><span data-ttu-id="46920-124">Scaricare l'applicazione di voto di esempio</span><span class="sxs-lookup"><span data-stu-id="46920-124">Download the Voting sample application</span></span>
<span data-ttu-id="46920-125">Se l'applicazione di voto di esempio non è stata compilata nella [parte 1 di questa serie di esercitazioni](service-fabric-tutorial-create-dotnet-app.md), è possibile scaricarla.</span><span class="sxs-lookup"><span data-stu-id="46920-125">If you did not build the Voting sample application in [part one of this tutorial series](service-fabric-tutorial-create-dotnet-app.md), you can download it.</span></span> <span data-ttu-id="46920-126">In una finestra di comando eseguire il comando seguente per clonare il repository dell'app di esempio nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="46920-126">In a command window, run the following command to clone the sample app repository to your local machine.</span></span>

```
git clone https://github.com/Azure-Samples/service-fabric-dotnet-quickstart
```

## <a name="prepare-a-publish-profile"></a><span data-ttu-id="46920-127">Preparare un profilo di pubblicazione</span><span class="sxs-lookup"><span data-stu-id="46920-127">Prepare a publish profile</span></span>
<span data-ttu-id="46920-128">Dopo aver [creato un'applicazione](service-fabric-tutorial-create-dotnet-app.md) e [distribuito l'applicazione in Azure](service-fabric-tutorial-deploy-app-to-party-cluster.md), si è pronti per configurare l'integrazione continua.</span><span class="sxs-lookup"><span data-stu-id="46920-128">Now that you've [created an application](service-fabric-tutorial-create-dotnet-app.md) and have [deployed the application to Azure](service-fabric-tutorial-deploy-app-to-party-cluster.md), you're ready to set up continuous integration.</span></span>  <span data-ttu-id="46920-129">Prima di tutto, preparare un profilo di pubblicazione all'interno dell'applicazione destinato all'uso da parte del processo di distribuzione eseguito in Team Services.</span><span class="sxs-lookup"><span data-stu-id="46920-129">First, prepare a publish profile within your application for use by the deployment process that executes within Team Services.</span></span>  <span data-ttu-id="46920-130">Il profilo di pubblicazione deve essere configurato impostando il cluster preparato in precedenza come destinazione.</span><span class="sxs-lookup"><span data-stu-id="46920-130">The publish profile should be configured to target the cluster that you've previously created.</span></span>  <span data-ttu-id="46920-131">Avviare Visual Studio e aprire un progetto di applicazione di Service Fabric esistente.</span><span class="sxs-lookup"><span data-stu-id="46920-131">Start Visual Studio and open an existing Service Fabric application project.</span></span>  <span data-ttu-id="46920-132">In **Esplora soluzioni** fare clic con il pulsante destro del mouse sull'applicazione e scegliere **Pubblica**.</span><span class="sxs-lookup"><span data-stu-id="46920-132">In **Solution Explorer**, right-click the application and select **Publish...**.</span></span>

<span data-ttu-id="46920-133">Scegliere un profilo di destinazione all'interno del progetto di applicazione da usare per il flusso di lavoro di integrazione continua, ad esempio Cloud.</span><span class="sxs-lookup"><span data-stu-id="46920-133">Choose a target profile within your application project to use for your continuous integration workflow, for example Cloud.</span></span>  <span data-ttu-id="46920-134">Specificare l'endpoint di connessione del cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-134">Specify the cluster connection endpoint.</span></span>  <span data-ttu-id="46920-135">Selezionare la casella di controllo **Aggiorna l'applicazione** in modo che l'applicazione venga aggiornata per ogni distribuzione in Team Services.</span><span class="sxs-lookup"><span data-stu-id="46920-135">Check the **Upgrade the Application** checkbox so that your application upgrades for each deployment in Team Services.</span></span>  <span data-ttu-id="46920-136">Fare clic sul collegamento ipertestuale **Salva** per salvare le impostazioni per il profilo di pubblicazione e quindi fare clic su **Annulla** per chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="46920-136">Click the **Save** hyperlink to save the settings to the publish profile and then click **Cancel** to close the dialog box.</span></span>  

![Profilo di push][publish-app-profile]

## <a name="share-your-visual-studio-solution-to-a-new-team-services-git-repo"></a><span data-ttu-id="46920-138">Condividere la soluzione di Visual Studio in un nuovo repository GIT di Team Services</span><span class="sxs-lookup"><span data-stu-id="46920-138">Share your Visual Studio solution to a new Team Services Git repo</span></span>
<span data-ttu-id="46920-139">È possibile condividere i file di origine dell'applicazione in un progetto team in Team Services, in modo da poter generare le compilazioni.</span><span class="sxs-lookup"><span data-stu-id="46920-139">Share your application source files to a team project in Team Services so you can generate builds.</span></span>  

<span data-ttu-id="46920-140">Creare un nuovo repository Git locale per il progetto selezionando **Aggiungi al controllo del codice sorgente** -> **Git** sulla barra di stato nell'angolo inferiore destro di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="46920-140">Create a new local Git repo for your project by selecting **Add to Source Control** -> **Git** on the status bar in the lower right-hand corner of Visual Studio.</span></span> 

<span data-ttu-id="46920-141">Nella visualizzazione **Push** in **Team Explorer**, selezionare il pulsante **Pubblica repository GIT** nella sezione **Effettua il push in Visual Studio Team Services**.</span><span class="sxs-lookup"><span data-stu-id="46920-141">In the **Push** view in **Team Explorer**, select the **Publish Git Repo** button under **Push to Visual Studio Team Services**.</span></span>

![Pubblicare il repository GIT][push-git-repo]

<span data-ttu-id="46920-143">Controllare la posta elettronica e selezionare il proprio account nell'elenco a discesa **Dominio Team Services**.</span><span class="sxs-lookup"><span data-stu-id="46920-143">Verify your email and select your account in the **Team Services Domain** drop-down.</span></span> <span data-ttu-id="46920-144">Immettere il nome del repository e selezionare **Pubblica repository**.</span><span class="sxs-lookup"><span data-stu-id="46920-144">Enter your repository name and select **Publish repository**.</span></span>

![Pubblicare il repository GIT][publish-code]

<span data-ttu-id="46920-146">Con la pubblicazione del repository viene creato un nuovo progetto team nell'account con lo stesso nome del repository locale.</span><span class="sxs-lookup"><span data-stu-id="46920-146">Publishing the repo creates a new team project in your account with the same name as the local repo.</span></span> <span data-ttu-id="46920-147">Per creare il repository in un progetto team esistente, fare clic su **Avanzate** accanto al nome del **Repository** e selezionare un progetto team.</span><span class="sxs-lookup"><span data-stu-id="46920-147">To create the repo in an existing team project, click **Advanced** next to **Repository** name and select a team project.</span></span> <span data-ttu-id="46920-148">È possibile visualizzare il codice sul Web selezionando **Visualizza nel Web**.</span><span class="sxs-lookup"><span data-stu-id="46920-148">You can view your code on the web by selecting **See it on the web**.</span></span>

## <a name="configure-continuous-delivery-with-vsts"></a><span data-ttu-id="46920-149">Configurare il recapito continuo con VSTS</span><span class="sxs-lookup"><span data-stu-id="46920-149">Configure Continuous Delivery with VSTS</span></span>
<span data-ttu-id="46920-150">Una definizione di compilazione di Team Services descrive un flusso di lavoro costituito da un set di istruzioni di compilazione che vengono eseguite in sequenza.</span><span class="sxs-lookup"><span data-stu-id="46920-150">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="46920-151">Creare una definizione di compilazione che produce un pacchetto di applicazione di Service Fabric e altri elementi, per la distribuzione in un cluster di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="46920-151">Create a build definition that that produces a Service Fabric application package, and other artifacts, to deploy to a Service Fabric cluster.</span></span> <span data-ttu-id="46920-152">Sono disponibili maggiori informazioni sulle [definizioni di compilazione di Team Services](https://www.visualstudio.com/docs/build/define/create).</span><span class="sxs-lookup"><span data-stu-id="46920-152">Learn more about [Team Services build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span> 

<span data-ttu-id="46920-153">Una definizione di versione di Team Services descrive un flusso di lavoro che distribuisce un pacchetto di applicazione in un cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-153">A Team Services release definition describes a workflow that deploys an application package to a cluster.</span></span> <span data-ttu-id="46920-154">Se usate insieme, la definizione di compilazione e la definizione di versione eseguono l'intero flusso di lavoro a partire dai file di origine fino alla creazione di un'applicazione funzionante nel cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-154">When used together, the build definition and release definition execute the entire workflow starting with source files to ending with a running application in your cluster.</span></span> <span data-ttu-id="46920-155">Sono disponibili maggiori informazioni sulle [definizioni di versione](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition)di Team Services.</span><span class="sxs-lookup"><span data-stu-id="46920-155">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-build-definition"></a><span data-ttu-id="46920-156">Creare una definizione di compilazione</span><span class="sxs-lookup"><span data-stu-id="46920-156">Create a build definition</span></span>
<span data-ttu-id="46920-157">Aprire un Web browser e passare al nuovo progetto team all'indirizzo: https://myaccount.visualstudio.com/Voting/Voting%20Team/_git/Voting.</span><span class="sxs-lookup"><span data-stu-id="46920-157">Open a web browser and navigate to your new team project at: https://myaccount.visualstudio.com/Voting/Voting%20Team/_git/Voting .</span></span> 

<span data-ttu-id="46920-158">Selezionare la scheda **Compilazione e versione**, **Compilazioni** e quindi **+ Nuova definizione**.</span><span class="sxs-lookup"><span data-stu-id="46920-158">Select the **Build & Release** tab, then **Builds**, then **+ New definition**.</span></span>  <span data-ttu-id="46920-159">In **Seleziona un modello** selezionare il modello **Applicazione Azure Service Fabric** e quindi fare clic su **Applica**.</span><span class="sxs-lookup"><span data-stu-id="46920-159">In **Select a template**, select the **Azure Service Fabric Application** template and click **Apply**.</span></span> 

![Scegliere il modello di compilazione][select-build-template] 

<span data-ttu-id="46920-161">L'applicazione di voto contiene un progetto .NET Core ed è quindi necessario aggiungere un'attività che consenta di ripristinare le dipendenze.</span><span class="sxs-lookup"><span data-stu-id="46920-161">The voting application contains a .NET Core project, so add a task that restores the dependencies.</span></span> <span data-ttu-id="46920-162">Nella visualizzazione **Attività** selezionare **+ Aggiungi attività** in basso a sinistra.</span><span class="sxs-lookup"><span data-stu-id="46920-162">In the **Tasks** view, select **+ Add Task** in the bottom left.</span></span> <span data-ttu-id="46920-163">Eseguire la ricerca di "Riga di comando" per trovare l'attività della riga di comando e quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="46920-163">Search on "Command Line" to find the command-line task, then click **Add**.</span></span> 

![Aggiungere un'attività][add-task] 

<span data-ttu-id="46920-165">Nella nuova attività, immettere "Run dotnet.exe" in **Nome visualizzato**, "dotnet.exe" in **Strumento**e "restore" in **Argomenti**.</span><span class="sxs-lookup"><span data-stu-id="46920-165">In the new task, enter "Run dotnet.exe" in **Display name**, "dotnet.exe" in **Tool**, and "restore" in **Arguments**.</span></span> 

![Nuova attività][new-task] 

<span data-ttu-id="46920-167">Nella visualizzazione **Trigger** fare clic sull'opzione **Abilita questo trigger** in **Integrazione continua**.</span><span class="sxs-lookup"><span data-stu-id="46920-167">In the **Triggers** view, click the **Enable this trigger** switch under **Continuous Integration**.</span></span> 

<span data-ttu-id="46920-168">Selezionare **Salva e accoda** e immettere "Hosted VS2017" in **Coda agente**.</span><span class="sxs-lookup"><span data-stu-id="46920-168">Select **Save & queue** and enter "Hosted VS2017" as the **Agent queue**.</span></span> <span data-ttu-id="46920-169">Selezionare **Accoda** per avviare manualmente una compilazione.</span><span class="sxs-lookup"><span data-stu-id="46920-169">Select **Queue** to manually start a build.</span></span>  <span data-ttu-id="46920-170">Le compilazioni vengono attivate anche al momento del push o dell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="46920-170">Builds also triggers upon push or check-in.</span></span>

<span data-ttu-id="46920-171">Per controllare lo stato di avanzamento della compilazione, passare alla scheda **Compilazioni**.  Dopo aver verificato che la compilazione viene eseguita correttamente, definire una definizione di versione per la distribuzione dell'applicazione in un cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-171">To check your build progress, switch to the **Builds** tab.  Once you verify that the build executes successfully, define a release definition that deploys your application to a cluster.</span></span> 

### <a name="create-a-release-definition"></a><span data-ttu-id="46920-172">Creare una definizione di versione</span><span class="sxs-lookup"><span data-stu-id="46920-172">Create a release definition</span></span>  

<span data-ttu-id="46920-173">Selezionare la scheda **Compilazione e versione**, **Versioni** e quindi **+ Nuova definizione**.</span><span class="sxs-lookup"><span data-stu-id="46920-173">Select the **Build & Release** tab, then **Releases**, then **+ New definition**.</span></span>  <span data-ttu-id="46920-174">In **Crea definizione di versione** selezionare il modello **Distribuzione di Azure Service Fabric** dall'elenco e fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="46920-174">In **Create release definition**, select the **Azure Service Fabric Deployment** template from the list and click **Next**.</span></span>  <span data-ttu-id="46920-175">Scegliere l'origine **Compilazione**, selezionare la casella **Distribuzione continua** e fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="46920-175">Select the **Build** source, check the **Continuous deployment** box, and click **Create**.</span></span> 

<span data-ttu-id="46920-176">Nella visualizzazione **Ambienti** fare clic su **Aggiungi** a destra di **Connessione cluster**.</span><span class="sxs-lookup"><span data-stu-id="46920-176">In the **Environments** view, click **Add** to the right of **Cluster Connection**.</span></span>  <span data-ttu-id="46920-177">Specificare il nome di connessione "mysftestcluster", l'endpoint del cluster "tcp://mysftestcluster.westus.cloudapp.azure.com:19000" e le credenziali di Azure Active Directory o di un certificato per il cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-177">Specify a connection name of "mysftestcluster", a cluster endpoint of "tcp://mysftestcluster.westus.cloudapp.azure.com:19000", and the Azure Active Directory or certificate credentials for the cluster.</span></span> <span data-ttu-id="46920-178">Definire le credenziali di Azure Active Directory da usare per connettersi al cluster nei campi **Nome utente** e **Password**.</span><span class="sxs-lookup"><span data-stu-id="46920-178">For Azure Active Directory credentials, define the credentials you want to use to connect to the cluster in the **Username** and **Password** fields.</span></span> <span data-ttu-id="46920-179">Per l'autenticazione basata su certificato, definire la codifica Base64 del file del certificato client nel campo **Certificato client**.</span><span class="sxs-lookup"><span data-stu-id="46920-179">For certificate-based authentication, define the Base64 encoding of the client certificate file in the **Client Certificate** field.</span></span>  <span data-ttu-id="46920-180">Per informazioni su come ottenere questo valore, vedere la finestra popup di guida su tale campo.</span><span class="sxs-lookup"><span data-stu-id="46920-180">See the help pop-up on that field for info on how to get that value.</span></span>  <span data-ttu-id="46920-181">Se il certificato è protetto da password, definire la password nel campo **Password** .</span><span class="sxs-lookup"><span data-stu-id="46920-181">If your certificate is password-protected, define the password in the **Password** field.</span></span>  <span data-ttu-id="46920-182">Fare clic su **Salva** per salvare la definizione di versione.</span><span class="sxs-lookup"><span data-stu-id="46920-182">Click **Save** to save the release definition.</span></span>

![Aggiungere la connessione cluster][add-cluster-connection] 

<span data-ttu-id="46920-184">Fare clic su **Esegui su agente** e quindi selezionare **Hosted VS2017** per **Coda di distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="46920-184">Click **Run on agent**, then select **Hosted VS2017** for **Deployment queue**.</span></span> <span data-ttu-id="46920-185">Fare clic su **Salva** per salvare la definizione di versione.</span><span class="sxs-lookup"><span data-stu-id="46920-185">Click **Save** to save the release definition.</span></span>

![Esegui su agente][run-on-agent]

<span data-ttu-id="46920-187">Selezionare **+Release** -> **Crea versione** -> **Crea** per creare manualmente una versione.</span><span class="sxs-lookup"><span data-stu-id="46920-187">Select **+Release** -> **Create Release** -> **Create** to manually create a release.</span></span>  <span data-ttu-id="46920-188">Verificare che la distribuzione venga completata correttamente e che l'applicazione sia in esecuzione nel cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-188">Verify that the deployment succeeded and the application is running in the cluster.</span></span>  <span data-ttu-id="46920-189">Aprire un Web browser e passare a [http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span><span class="sxs-lookup"><span data-stu-id="46920-189">Open a web browser and navigate to [http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span></span>  <span data-ttu-id="46920-190">Si noti la versione dell'applicazione, in questo esempio è "1.0.0.20170616.3".</span><span class="sxs-lookup"><span data-stu-id="46920-190">Note the application version, in this example it is "1.0.0.20170616.3".</span></span> 

## <a name="commit-and-push-changes-trigger-a-release"></a><span data-ttu-id="46920-191">Eseguire commit e push delle modifiche, attivare la compilazione di una versione</span><span class="sxs-lookup"><span data-stu-id="46920-191">Commit and push changes, trigger a release</span></span>
<span data-ttu-id="46920-192">Per verificare che la pipeline di integrazione continua funzioni correttamente, è possibile archiviare alcune modifiche al codice in Team Services.</span><span class="sxs-lookup"><span data-stu-id="46920-192">To verify that the continuous integration pipeline is functioning by checking in some code changes to Team Services.</span></span>    

<span data-ttu-id="46920-193">Durante la scrittura del codice, le modifiche vengono rilevate automaticamente da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="46920-193">As you write your code, your changes are automatically tracked by Visual Studio.</span></span> <span data-ttu-id="46920-194">Per eseguire il commit delle modifiche nel repository GIT locale, selezionare l'icona di modifiche in sospeso (</span><span class="sxs-lookup"><span data-stu-id="46920-194">Commit changes to your local Git repository by selecting the pending changes icon (</span></span>![In sospeso][pending]<span data-ttu-id="46920-196">) sulla barra di stato in basso a destra.</span><span class="sxs-lookup"><span data-stu-id="46920-196">) from the status bar in the bottom right.</span></span>

<span data-ttu-id="46920-197">Nella visualizzazione **Modifiche** in Team Explorer aggiungere un messaggio che descrive l'aggiornamento ed eseguire il commit delle modifiche.</span><span class="sxs-lookup"><span data-stu-id="46920-197">On the **Changes** view in Team Explorer, add a message describing your update and commit your changes.</span></span>

![Esegui commit di tutto][changes]

<span data-ttu-id="46920-199">Selezionare l'icona della barra di stato delle modifiche non pubblicate (![Modifiche non pubblicate][unpublished-changes]) oppure la visualizzazione Sincronizza in Team Explorer.</span><span class="sxs-lookup"><span data-stu-id="46920-199">Select the unpublished changes status bar icon (![Unpublished changes][unpublished-changes]) or the Sync view in Team Explorer.</span></span> <span data-ttu-id="46920-200">Selezionare **Push** per aggiornare il codice in Team Services/TFS.</span><span class="sxs-lookup"><span data-stu-id="46920-200">Select **Push** to update your code in Team Services/TFS.</span></span>

![Effettuare il push delle modifiche][push]

<span data-ttu-id="46920-202">Il push delle modifiche in Team Services attiva automaticamente una compilazione.</span><span class="sxs-lookup"><span data-stu-id="46920-202">Pushing the changes to Team Services automatically triggers a build.</span></span>  <span data-ttu-id="46920-203">Quando la definizione di compilazione viene completata correttamente, viene creata automaticamente una versione con avvio dell'aggiornamento dell'applicazione nel cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-203">When the build definition successfully completes, a release is automatically created and starts upgrading the application on the cluster.</span></span>

<span data-ttu-id="46920-204">Per controllare lo stato di avanzamento della compilazione, passare alla scheda **Compilazioni** in **Team Explorer** in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="46920-204">To check your build progress, switch to the **Builds** tab in **Team Explorer** in Visual Studio.</span></span>  <span data-ttu-id="46920-205">Dopo aver verificato che la compilazione viene eseguita correttamente, definire una definizione di versione per la distribuzione dell'applicazione in un cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-205">Once you verify that the build executes successfully, define a release definition that deploys your application to a cluster.</span></span>

<span data-ttu-id="46920-206">Verificare che la distribuzione venga completata correttamente e che l'applicazione sia in esecuzione nel cluster.</span><span class="sxs-lookup"><span data-stu-id="46920-206">Verify that the deployment succeeded and the application is running in the cluster.</span></span>  <span data-ttu-id="46920-207">Aprire un Web browser e passare a [http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span><span class="sxs-lookup"><span data-stu-id="46920-207">Open a web browser and navigate to [http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span></span>  <span data-ttu-id="46920-208">Prendere nota della versione dell'applicazione, che in questo esempio è "1.0.0.20170815.3".</span><span class="sxs-lookup"><span data-stu-id="46920-208">Note the application version, in this example it is "1.0.0.20170815.3".</span></span>

![Service Fabric Explorer][sfx1]

## <a name="update-the-application"></a><span data-ttu-id="46920-210">Aggiornare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="46920-210">Update the application</span></span>
<span data-ttu-id="46920-211">Apportare modifiche al codice nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="46920-211">Make code changes in the application.</span></span>  <span data-ttu-id="46920-212">Salvare le modifiche ed eseguirne il commit, come descritto nei passaggi precedenti.</span><span class="sxs-lookup"><span data-stu-id="46920-212">Save and commit the changes, following the previous steps.</span></span>

<span data-ttu-id="46920-213">Dopo l'avvio dell'aggiornamento dell'applicazione, è possibile controllare lo stato di aggiornamento in Service Fabric Explorer:</span><span class="sxs-lookup"><span data-stu-id="46920-213">Once the upgrade of the application begins, you can watch the upgrade progress in Service Fabric Explorer:</span></span>

![Service Fabric Explorer][sfx2]

<span data-ttu-id="46920-215">L'aggiornamento dell'applicazione potrebbe richiedere alcuni minuti.</span><span class="sxs-lookup"><span data-stu-id="46920-215">The application upgrade may take several minutes.</span></span> <span data-ttu-id="46920-216">Una volta completato l'aggiornamento, l'applicazione eseguirà la versione successiva,</span><span class="sxs-lookup"><span data-stu-id="46920-216">When the upgrade is complete, the application will be running the next version.</span></span>  <span data-ttu-id="46920-217">in questo esempio la versione "1.0.0.20170815.4".</span><span class="sxs-lookup"><span data-stu-id="46920-217">In this example "1.0.0.20170815.4".</span></span>

![Service Fabric Explorer][sfx3]

## <a name="next-steps"></a><span data-ttu-id="46920-219">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="46920-219">Next steps</span></span>
<span data-ttu-id="46920-220">In questa esercitazione si è appreso come:</span><span class="sxs-lookup"><span data-stu-id="46920-220">In this tutorial, you learned how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="46920-221">Aggiungere il controllo del codice sorgente al progetto</span><span class="sxs-lookup"><span data-stu-id="46920-221">Add source control to your project</span></span>
> * <span data-ttu-id="46920-222">Creare una definizione di compilazione</span><span class="sxs-lookup"><span data-stu-id="46920-222">Create a build definition</span></span>
> * <span data-ttu-id="46920-223">Creare una definizione di versione</span><span class="sxs-lookup"><span data-stu-id="46920-223">Create a release definition</span></span>
> * <span data-ttu-id="46920-224">Distribuire automaticamente e aggiornare un'applicazione</span><span class="sxs-lookup"><span data-stu-id="46920-224">Automatically deploy and upgrade an application</span></span>

<span data-ttu-id="46920-225">Dopo aver distribuito un'applicazione e configurato l'integrazione continua, provare le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="46920-225">Now that you have deployed an application and configured continuous integration, try the following:</span></span>
- [<span data-ttu-id="46920-226">Aggiornare un'app</span><span class="sxs-lookup"><span data-stu-id="46920-226">Upgrade an app</span></span>](service-fabric-application-upgrade.md)
- [<span data-ttu-id="46920-227">Testare un'app</span><span class="sxs-lookup"><span data-stu-id="46920-227">Test an app</span></span>](service-fabric-testability-overview.md) 
- [<span data-ttu-id="46920-228">Monitorare e diagnosticare</span><span class="sxs-lookup"><span data-stu-id="46920-228">Monitor and diagnose</span></span>](service-fabric-diagnostics-overview.md)


<!-- Image References -->
[publish-app-profile]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/PublishAppProfile.png
[push-git-repo]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/PublishGitRepo.png
[publish-code]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/PublishCode.png
[select-build-template]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SelectBuildTemplate.png
[add-task]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/AddTask.png
[new-task]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/NewTask.png
[set-continuous-integration]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SetContinuousIntegration.png
[add-cluster-connection]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/AddClusterConnection.png
[sfx1]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SFX1.png
[sfx2]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SFX2.png
[sfx3]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SFX3.png
[pending]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/Pending.png
[changes]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/Changes.png
[unpublished-changes]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/UnpublishedChanges.png
[push]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/Push.png
[continuous-delivery-with-VSTS]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/VSTS-Dialog.png
[new-service-endpoint]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/NewServiceEndpoint.png
[new-service-endpoint-dialog]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/NewServiceEndpointDialog.png
[run-on-agent]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/RunOnAgent.png