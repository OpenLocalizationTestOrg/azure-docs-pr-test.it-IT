---
title: aaaCreate, modificare o eliminare una rete virtuale di Azure peering | Documenti Microsoft
description: Informazioni su come toocreate, modificare o eliminare un peering di rete virtuale.
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: jdial
ms.openlocfilehash: 70f85364ab23e23533ad276aeec0156cebe89be5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-change-or-delete-a-virtual-network-peering"></a><span data-ttu-id="c8cc6-103">Creare, modificare o eliminare un peering reti virtuali</span><span class="sxs-lookup"><span data-stu-id="c8cc6-103">Create, change, or delete a virtual network peering</span></span>

<span data-ttu-id="c8cc6-104">Informazioni su come toocreate, modificare o eliminare un peering di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-104">Learn how toocreate, change, or delete a virtual network peering.</span></span> <span data-ttu-id="c8cc6-105">Consente di peering di rete virtuale è tooconnect due reti virtuali in hello stesso percorso di Azure tramite hello rete backbone di Azure.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-105">Virtual network peering enables you tooconnect two virtual networks in hello same Azure location through hello Azure backbone network.</span></span> <span data-ttu-id="c8cc6-106">Una volta il peering, due reti virtuali hello vengono ancora gestite come risorse diverse.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-106">Once peered, hello two virtual networks are still managed as separate resources.</span></span> <span data-ttu-id="c8cc6-107">Le risorse in una rete virtuale di comunicano con hello stessa larghezza di banda e latenza come se fosse risorse hello in hello stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-107">Resources in either virtual network communicate with hello same latency and bandwidth as if hello resources were in hello same virtual network.</span></span> <span data-ttu-id="c8cc6-108">Se non si ha familiarità con la rete virtuale peering, si consiglia di leggere hello [Panoramica peer della rete virtuale](virtual-network-peering-overview.md) e completamento hello [creare un'esercitazione di peering reti virtuali](virtual-network-create-peering.md), prima del completamento attività Hello in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-108">If you're not familiar with virtual network peering, we recommend reading hello [Virtual network peering overview](virtual-network-peering-overview.md) and completing hello [Create a virtual network peering tutorial](virtual-network-create-peering.md), before completing hello tasks in this article.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="c8cc6-109">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="c8cc6-109">Before you begin</span></span>

<span data-ttu-id="c8cc6-110">Completare hello seguenti attività prima di completare i passaggi descritti in qualsiasi sezione di questo articolo:</span><span class="sxs-lookup"><span data-stu-id="c8cc6-110">Complete hello following tasks before completing steps in any section of this article:</span></span>

- <span data-ttu-id="c8cc6-111">Hello revisione [Azure limita](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) toolearn articolo sui limiti per il peering.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-111">Review hello [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article toolearn about limits for peering.</span></span>
- <span data-ttu-id="c8cc6-112">Accedi toohello portale di Azure, Azure interfaccia della riga di comando (CLI) o Azure PowerShell con un account di Azure.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-112">Log in toohello Azure portal, Azure command-line interface (CLI), or Azure PowerShell with an Azure account.</span></span> <span data-ttu-id="c8cc6-113">Se non si ha un account Azure, registrarsi per ottenere un [account per la versione di prova gratuita](https://azure.microsoft.com/free).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-113">If you don't already have an Azure account, sign up for a [free trial account](https://azure.microsoft.com/free).</span></span>
- <span data-ttu-id="c8cc6-114">Se l'utilizzo di PowerShell comandi toocomplete attività in questo articolo, [installare e configurare Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-114">If using PowerShell commands toocomplete tasks in this article, [install and configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="c8cc6-115">Verificare di disporre di hello più recente dei cmdlet di Azure PowerShell hello installato.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-115">Ensure you have hello most recent version of hello Azure PowerShell cmdlets installed.</span></span> <span data-ttu-id="c8cc6-116">Guida di tooget per i comandi di PowerShell, con esempi, digitare `get-help <command> -full`.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-116">tooget help for PowerShell commands, with examples, type `get-help <command> -full`.</span></span>
- <span data-ttu-id="c8cc6-117">Se tramite l'interfaccia della riga di comando (CLI) Azure comandi toocomplete attività in questo articolo, [installare e configurare hello Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-117">If using Azure Command-line interface (CLI) commands toocomplete tasks in this article, [install and configure hello Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="c8cc6-118">Verificare di disporre di versione più recente di hello di hello Azure CLI installato.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-118">Ensure you have hello most recent version of hello Azure CLI installed.</span></span> <span data-ttu-id="c8cc6-119">Guida di tooget per i comandi CLI, digitare `az <command> --help`.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-119">tooget help for CLI commands, type `az <command> --help`.</span></span> <span data-ttu-id="c8cc6-120">Anziché installare hello CLI e relativi prerequisiti, è possibile usare hello Shell di Cloud di Azure.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-120">Rather than installing hello CLI and its pre-requisites, you can use hello Azure Cloud Shell.</span></span> <span data-ttu-id="c8cc6-121">Hello Azure Cloud Shell è una shell Bash gratuita che è possibile eseguire direttamente all'interno di hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-121">hello Azure Cloud Shell is a free Bash shell that you can run directly within hello Azure portal.</span></span> <span data-ttu-id="c8cc6-122">Hello Shell Cloud ha hello CLI di Azure preinstallato e configurato toouse con l'account.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-122">hello Cloud Shell has hello Azure CLI preinstalled and configured toouse with your account.</span></span> <span data-ttu-id="c8cc6-123">hello toouse Shell Cloud, fare clic su hello Cloud Shell **> _** pulsante nella parte superiore di hello di hello [portale](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-123">toouse hello Cloud Shell, click hello Cloud Shell **>_** button at hello top of hello [portal](https://portal.azure.com).</span></span> 

## <a name="create-a-peering"></a><span data-ttu-id="c8cc6-124">Creare un peering</span><span class="sxs-lookup"><span data-stu-id="c8cc6-124">Create a peering</span></span>

>[!NOTE]
><span data-ttu-id="c8cc6-125">Esistono diversi requisiti, vincoli, e considerazioni toosuccessfully creare una rete virtuale peering.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-125">There are several requirements, constraints, and considerations toosuccessfully create a virtual network peering.</span></span> <span data-ttu-id="c8cc6-126">Prima di creare un peering, assicurarsi di avere familiarizzato con hello [requisiti e vincoli](#requirements-and-constraints) e [delle autorizzazioni necessarie](#permissions).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-126">Before creating a peering, ensure you've familiarized yourself with hello [requirements and constraints](#requirements-and-constraints) and [required permissions](#permissions).</span></span>
>

1. <span data-ttu-id="c8cc6-127">Accedi toohello [portale](https://portal.azure.com) con un account assegnato hello necessario [ruolo o autorizzazioni](#permissions).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-127">Log in toohello [portal](https://portal.azure.com) with an account that is assigned hello necessary [role or permissions](#permissions).</span></span>
2. <span data-ttu-id="c8cc6-128">Nella casella hello contenente testo hello *individuare risorse* nella parte superiore di hello di hello portale di Azure, digitare *reti virtuali*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-128">In hello box that contains hello text *Search resources* at hello top of hello Azure portal, type *virtual networks*.</span></span> <span data-ttu-id="c8cc6-129">Quando **le reti virtuali** viene visualizzato nei risultati della ricerca hello, selezionarlo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-129">When **Virtual networks** appears in hello search results, click it.</span></span> <span data-ttu-id="c8cc6-130">Non selezionare **le reti virtuali (classico)** se esso viene visualizzato nell'elenco di hello, non è possibile creare un peering da una rete virtuale venga distribuita tramite il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-130">Do not select **Virtual networks (classic)** if it appears in hello list, as you cannot create a peering from a virtual network deployed through hello classic deployment model.</span></span>
3. <span data-ttu-id="c8cc6-131">In hello **le reti virtuali** pannello visualizzato, fare clic su desiderato toocreate un peer per la rete virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-131">In hello **Virtual networks** blade that appears, click hello virtual network you want toocreate a peering for.</span></span>
4. <span data-ttu-id="c8cc6-132">Nel riquadro di hello che viene visualizzato per la rete virtuale di hello è selezionata, fare clic su **peering** in hello **impostazioni** sezione.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-132">In hello pane that appears for hello virtual network you selected, click **Peerings** in hello **SETTINGS** section.</span></span>
5. <span data-ttu-id="c8cc6-133">Fare clic su **+ Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-133">Click **+ Add**.</span></span> 
6. <span data-ttu-id="c8cc6-134"><a name="add-peering"></a>In hello **aggiungere peering** pannello, immettere o selezionare i valori per hello seguenti impostazioni:</span><span class="sxs-lookup"><span data-stu-id="c8cc6-134"><a name="add-peering"></a>In hello **Add peering** blade, enter or select values for hello following settings:</span></span>
    - <span data-ttu-id="c8cc6-135">**Nome:** hello nome per il peering hello deve essere univoco all'interno di rete virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-135">**Name:** hello name for hello peering must be unique within hello virtual network.</span></span>
    - <span data-ttu-id="c8cc6-136">**Il modello di distribuzione di rete virtuale:** selezionare quali hello di modello di distribuzione virtuale di rete da toopeer con è stata distribuita tramite.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-136">**Virtual network deployment model:** Select which deployment model hello virtual network you want toopeer with was deployed through.</span></span>
    - <span data-ttu-id="c8cc6-137">**Conosce l'ID di risorsa:** se si dispone di accesso in lettura toohello rete virtuale da toopeer con, lasciare deselezionata questa casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-137">**I know my resource ID:** If you have read access toohello virtual network you want toopeer with, leave this checkbox unchecked.</span></span> <span data-ttu-id="c8cc6-138">Se non si dispone di rete virtuale di accesso in lettura toohello o si desidera toopeer con sottoscrizione, questa casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-138">If you don't have read access toohello virtual network or subscription you want toopeer with, check this box.</span></span> <span data-ttu-id="c8cc6-139">Immettere l'ID di risorsa completa hello della rete virtuale di hello da toopeer con in hello **ID risorsa** casella che si verificava quando è stata selezionata la casella hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-139">Enter hello full resource ID of hello virtual network you want toopeer with in hello **Resource ID** box that appeared when you checked hello box.</span></span> <span data-ttu-id="c8cc6-140">Immettere l'ID deve essere per una rete virtuale presente in risorse di Hello hello Azure stesso [percorso](https://azure.microsoft.com/regions) come questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-140">hello resource ID you enter must be for a virtual network that exists in hello same Azure [location](https://azure.microsoft.com/regions) as this virtual network.</span></span> <span data-ttu-id="c8cc6-141">ID di risorsa completo Hello appare similetroppo/sottoscrizioni/<Id>/providers/Microsoft.Network/virtualNetworks//ResourceGroups / < resource-group-name > < virtual-network-name >.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-141">hello full resource ID looks similar too/subscriptions/<Id>/resourceGroups/<resource-group-name>/providers/Microsoft.Network/virtualNetworks/<virtual-network-name>.</span></span> <span data-ttu-id="c8cc6-142">È possibile ottenere l'ID di risorsa hello per una rete virtuale visualizzando le proprietà di hello per una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-142">You can get hello resource ID  for a virtual network by viewing hello properties for a virtual network.</span></span> <span data-ttu-id="c8cc6-143">proprietà hello tooview per una rete virtuale, vedere toolearn [gestire reti virtuali](virtual-network-manage-network.md#view-vnet).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-143">toolearn how tooview hello properties for a virtual network, see [Manage virtual networks](virtual-network-manage-network.md#view-vnet).</span></span>
    - <span data-ttu-id="c8cc6-144">**Sottoscrizione:** hello seleziona [sottoscrizione](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription) della rete virtuale hello desiderato toopeer con.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-144">**Subscription:** Select hello [subscription](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription) of hello virtual network you want toopeer with.</span></span> <span data-ttu-id="c8cc6-145">Il numero di sottoscrizioni che vengono elencate dipende dal numero di sottoscrizioni a cui l'account ha accesso in lettura.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-145">One or more subscriptions are listed, depending on how many subscriptions your account has read access to.</span></span> <span data-ttu-id="c8cc6-146">Se è stata selezionata hello **ID risorsa** casella di controllo, questa impostazione non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-146">If you checked hello **Resource ID** checkbox, this setting isn't available.</span></span> <span data-ttu-id="c8cc6-147">È possibile eseguire il peering di reti virtuali in sottoscrizioni diverse purché entrambe le reti virtuali siano state create tramite Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-147">You can peer virtual networks in different subscriptions as long as both virtual networks were created through Resource Manager.</span></span> <span data-ttu-id="c8cc6-148">toopeer possibilità Hello per le sottoscrizioni create tramite diversi modelli di distribuzione è in versione di anteprima.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-148">hello ability toopeer across subscriptions created through different deployment models is in preview release.</span></span> <span data-ttu-id="c8cc6-149">Registrazione per l'anteprima di hello prima di creare un peering tra reti virtuali distribuite attraverso diversi modelli di distribuzione esistenti in diverse sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-149">Register for hello preview before creating a peering between virtual networks deployed through different deployment models that exist in different subscriptions.</span></span> <span data-ttu-id="c8cc6-150">Per ulteriori informazioni su tooregister per l'anteprima di hello e [peer reti virtuali create mediante modelli di distribuzione diversi in diverse sottoscrizioni](create-peering-different-deployment-models-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-150">Learn more about how tooregister for hello preview and [peer virtual networks created through different deployment models in different subscriptions](create-peering-different-deployment-models-subscriptions.md).</span></span>
    - <span data-ttu-id="c8cc6-151">**Rete virtuale:** selezionare hello rete virtuale da toopeer con.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-151">**Virtual network:** Select hello virtual network you want toopeer with.</span></span> <span data-ttu-id="c8cc6-152">È possibile selezionare una rete virtuale creata tramite un modello di distribuzione di Azure, ma la rete virtuale hello deve essere nella stessa posizione di rete virtuale di hello sta avvio hello peering da hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-152">You can select a virtual network created through either Azure deployment model, but hello virtual network must be in hello same location as hello virtual network you're initiating hello peering from.</span></span> <span data-ttu-id="c8cc6-153">È necessario disporre lettura rete virtuale toohello di accesso per tale toobe visibile nell'elenco di hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-153">You must have read access toohello virtual network for it toobe visible in hello list.</span></span> <span data-ttu-id="c8cc6-154">Se è presente una rete virtuale, ma grigio, è possibile che lo spazio di indirizzo hello per la rete virtuale hello si sovrappone con spazio di indirizzi hello per questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-154">If a virtual network is listed, but grayed out, it may be because hello address space for hello virtual network overlaps with hello address space for this virtual network.</span></span> <span data-ttu-id="c8cc6-155">Se gli spazi indirizzi delle reti virtuali si sovrappongono, non è possibile eseguire il peering.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-155">If virtual network address spaces overlap, they cannot be peered.</span></span> <span data-ttu-id="c8cc6-156">Se è stata selezionata hello **ID risorsa** casella di controllo, questa impostazione non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-156">If you checked hello **Resource ID** checkbox, this setting isn't available.</span></span>
    - <span data-ttu-id="c8cc6-157">**Consentire l'accesso di rete virtuale:** selezionare **abilitato** (impostazione predefinita), se si desidera che la comunicazione tra reti virtuali hello due tooenable.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-157">**Allow virtual network access:** Select **Enabled** (default) if you want tooenable communication between hello two virtual networks.</span></span> <span data-ttu-id="c8cc6-158">Consente la comunicazione tra reti virtuali, risorse connesse tooeither toocommunicate di rete virtuale con l'altro con hello stessa larghezza di banda e latenza, come se fossero connesso toohello stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-158">Enabling communication between virtual networks allows resources connected tooeither virtual network toocommunicate with each other with hello same bandwidth and latency as if they were connected toohello same virtual network.</span></span> <span data-ttu-id="c8cc6-159">Tutte le comunicazioni tra le risorse in due reti virtuali hello sono su hello Azure rete privata.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-159">All communication between resources in hello two virtual networks is over hello Azure private network.</span></span> <span data-ttu-id="c8cc6-160">Hello **VirtualNetwork** tag predefinito per i gruppi di sicurezza di rete comprende la rete virtuale hello e peering reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-160">hello **VirtualNetwork** default tag for network security groups encompasses hello virtual network and peered virtual network.</span></span> <span data-ttu-id="c8cc6-161">altre informazioni sulle toolearn rete tag predefiniti gruppo di sicurezza, leggere hello [Panoramica di gruppi di sicurezza di rete](virtual-networks-nsg.md#default-tags) articolo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-161">toolearn more about network security group default tags, read hello [Network security groups overview](virtual-networks-nsg.md#default-tags) article.</span></span>  <span data-ttu-id="c8cc6-162">Selezionare **disabilitato** se non si desidera toohello tooflow traffico peering reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-162">Select **Disabled** if you don't want traffic tooflow toohello peered virtual network.</span></span> <span data-ttu-id="c8cc6-163">È possibile selezionare **disabilitato** se si è stato effettuato il peering una rete virtuale con un'altra rete virtuale, ma in alcuni casi si toodisable il flusso del traffico tra reti virtuali hello due.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-163">You might select **Disabled** if you've peered a virtual network with another virtual network, but occasionally want toodisable traffic flow between hello two virtual networks.</span></span> <span data-ttu-id="c8cc6-164">L'abilitazione/disabilitazione può risultare più pratica che eliminare e ricreare i peering.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-164">You may find enabling/disabling is more convenient than deleting and re-creating peerings.</span></span> <span data-ttu-id="c8cc6-165">Quando questa impostazione è disabilitata, non il flusso del traffico tra hello peering reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-165">When this setting is disabled, traffic doesn't flow between hello peered virtual networks.</span></span>
    - <span data-ttu-id="c8cc6-166">**Consentire il traffico inoltrato:** controllare questo toohello di traffico inoltrato tooallow casella peering reti virtuali (il traffico non è stato originato nella rete virtuale di peering hello) rete virtuale di tooflow toothis.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-166">**Allow forwarded traffic:** Check this box tooallow traffic forwarded toohello peered virtual network (traffic not originating in hello peered virtual network) tooflow toothis virtual network.</span></span> <span data-ttu-id="c8cc6-167">Inoltro del traffico è comune per la distribuzione di un dispositivo di rete virtuale nella rete virtuale di hello si sta peering con e create route definite dall'utente tooforward traffico tramite appliance di hello rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-167">Traffic forwarding is common when you've deployed a network virtual appliance in hello virtual network you're peering with and created user-defined routes tooforward traffic through hello network virtual appliance.</span></span> <span data-ttu-id="c8cc6-168">Se si lascia questa casella non è selezionata (impostazione predefinita), il traffico inoltrato dalla rete virtuale di peering hello non può passare toothis di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-168">If you leave this box unchecked (default), traffic forwarded from hello peered virtual network cannot flow toothis virtual network.</span></span> <span data-ttu-id="c8cc6-169">Durante l'abilitazione di questa funzionalità consente il traffico di hello inoltrato tramite il peering hello, non creare le route definite dall'utente o dispositivi di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-169">While enabling this capability allows hello forwarded traffic through hello peering, it does not create any user-defined routes or network virtual appliances.</span></span> <span data-ttu-id="c8cc6-170">Le route definite dall'utente e le appliance virtuali di rete vengono create separatamente.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-170">User-defined routes and network virtual appliances are created separately.</span></span> <span data-ttu-id="c8cc6-171">Informazioni sulle [route definite dall'utente](virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-171">Learn about [user-defined routes](virtual-networks-udr-overview.md).</span></span>
    - <span data-ttu-id="c8cc6-172">**Consenti transito gateway:** questa casella di controllo se si dispone di una rete virtuale di rete virtuale gateway toothis collegato e si desidera tooallow traffico da hello peering tooflow di rete virtuale tramite il gateway hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-172">**Allow gateway transit:** Check this box if you have a virtual network gateway attached toothis virtual network and want tooallow traffic from hello peered virtual network tooflow through hello gateway.</span></span> <span data-ttu-id="c8cc6-173">Ad esempio, la rete virtuale sia collegato tooan rete locale tramite un gateway di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-173">For example, this virtual network may be attached tooan on-premises network through a virtual network gateway.</span></span> <span data-ttu-id="c8cc6-174">Controllo di che questa casella consente il traffico dal hello peering tooflow di rete virtuale tramite rete virtuale di hello gateway toothis associata.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-174">Checking this box allows traffic from hello peered virtual network tooflow through hello gateway attached toothis virtual network.</span></span> <span data-ttu-id="c8cc6-175">Se si seleziona questa casella, rete virtuale di peering hello non può avere un gateway configurato.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-175">If you check this box, hello peered virtual network cannot have a gateway configured.</span></span> <span data-ttu-id="c8cc6-176">rete virtuale di peering Hello deve avere hello **Usa gateway remoto** casella di controllo selezionata quando l'impostazione hello peering da hello altra rete virtuale toothis di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-176">hello peered virtual network must have hello **Use remote gateway** checkbox checked when setting up hello peering from hello other virtual network toothis virtual network.</span></span> <span data-ttu-id="c8cc6-177">Se si lascia questa casella non è selezionata (impostazione predefinita), il traffico di rete virtuale di peering hello ancora flussi di rete virtuale toothis, ma non può passare da una rete virtuale di rete virtuale gateway toothis associata.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-177">If you leave this box unchecked (default), traffic from hello peered virtual network still flows toothis virtual network, but cannot flow through a virtual network gateway attached toothis virtual network.</span></span> <span data-ttu-id="c8cc6-178">Altre informazioni sui [gateway di rete virtuale](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-178">Learn more about [virtual network gateways](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti).</span></span> 
    
    <span data-ttu-id="c8cc6-179">Non è possibile abilitare questa opzione se si esegue il peering di una rete virtuale (Resource Manager) con una rete virtuale (versione classica).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-179">You cannot enable this option if you're peering a virtual network (Resource Manager) with a virtual network (classic).</span></span> <span data-ttu-id="c8cc6-180">Se il traffico hello passa tra due reti virtuali hello, hello (classico) traffico di rete virtuale non può passare da una rete di virtuale di rete gateway toohello collegato (gestione delle risorse).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-180">Though hello traffic flows between hello two virtual networks, hello virtual network (classic) traffic cannot flow through a network gateway attached toohello virtual network (Resource Manager).</span></span>
    - <span data-ttu-id="c8cc6-181">**Usare i gateway remoti:** controllare il traffico tooallow casella da tooflow questa rete virtuale tramite una rete virtuale gateway toohello collegato rete virtuale con cui sta peering.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-181">**Use remote gateways:** Check this box tooallow traffic from this virtual network tooflow through a virtual network gateway attached toohello virtual network you're peering with.</span></span> <span data-ttu-id="c8cc6-182">Ad esempio, sta peering con la rete virtuale hello ha un gateway VPN associato che consente la comunicazione tooan della rete locale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-182">For example, hello virtual network you're peering with has a VPN gateway attached that enables communication tooan on-premises network.</span></span>  <span data-ttu-id="c8cc6-183">Selezionando questa casella consente il traffico dal tooflow rete virtuale tramite hello VPN gateway toohello collegato il peering reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-183">Checking this box allows traffic from this virtual network tooflow through hello VPN gateway attached toohello peered virtual network.</span></span> <span data-ttu-id="c8cc6-184">Se si seleziona questa casella, rete virtuale di peering hello deve disporre di un tooit collegato gateway di rete virtuale e hello **consentire transito gateway** casella di controllo selezionata.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-184">If you check this box, hello peered virtual network must have a virtual network gateway attached tooit and must have hello **Allow gateway transit** checkbox checked.</span></span> <span data-ttu-id="c8cc6-185">Se si lascia questa casella non è selezionata (impostazione predefinita), dalla rete virtuale di peering hello ancora traffico toothis virtuale di rete, ma non può passare da una rete virtuale di rete virtuale gateway toothis associata.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-185">If you leave this box unchecked (default), traffic from hello peered virtual network can still flow toothis virtual network, but cannot flow through a virtual network gateway attached toothis virtual network.</span></span> 
    
    <span data-ttu-id="c8cc6-186">Non è possibile abilitare questa opzione se si esegue il peering di una rete virtuale (Resource Manager) con una rete virtuale (versione classica).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-186">You cannot enable this option if you're peering a virtual network (Resource Manager) with a virtual network (classic).</span></span> <span data-ttu-id="c8cc6-187">Anche se il traffico hello passa tra due reti virtuali hello, traffico di rete virtuale (gestione delle risorse) hello non può passare da una rete gateway toohello collegato rete virtuale (classica).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-187">Though hello traffic flows between hello two virtual networks, hello virtual network (Resource Manager) traffic cannot flow through a network gateway attached toohello virtual network (classic).</span></span>
7. <span data-ttu-id="c8cc6-188">Fare clic su hello **OK** pulsante tooadd hello subnet toohello rete virtuale selezionata.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-188">Click hello **OK** button tooadd hello subnet toohello virtual network you selected.</span></span>

### <a name="commands"></a><span data-ttu-id="c8cc6-189">Comandi:</span><span class="sxs-lookup"><span data-stu-id="c8cc6-189">Commands</span></span>

|<span data-ttu-id="c8cc6-190">Strumento</span><span class="sxs-lookup"><span data-stu-id="c8cc6-190">Tool</span></span>|<span data-ttu-id="c8cc6-191">Comando</span><span class="sxs-lookup"><span data-stu-id="c8cc6-191">Command</span></span>|
|---|---|
|<span data-ttu-id="c8cc6-192">CLI</span><span class="sxs-lookup"><span data-stu-id="c8cc6-192">CLI</span></span>|[<span data-ttu-id="c8cc6-193">az network vnet peering create</span><span class="sxs-lookup"><span data-stu-id="c8cc6-193">az network vnet peering create</span></span>](/cli/azure/network/vnet/peering#create?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="c8cc6-194">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c8cc6-194">PowerShell</span></span>|[<span data-ttu-id="c8cc6-195">Add-AzureRmVirtualNetworkPeering</span><span class="sxs-lookup"><span data-stu-id="c8cc6-195">Add-AzureRmVirtualNetworkPeering</span></span>](/powershell/module/azurerm.network/add-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json)|


### <a name="scenarios"></a><span data-ttu-id="c8cc6-196">Scenari</span><span class="sxs-lookup"><span data-stu-id="c8cc6-196">Scenarios</span></span>

<span data-ttu-id="c8cc6-197">Un peering di rete virtuale verrà creato tra reti virtuali create tramite hello stesso o diversi modelli di distribuzione esistenti in hello sottoscrizioni uguale o diverse.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-197">A virtual network peering is created between virtual networks created through hello same, or different deployment models that exist in hello same, or different subscriptions.</span></span> <span data-ttu-id="c8cc6-198">Completare un'esercitazione dettagliata per uno dei seguenti scenari hello:</span><span class="sxs-lookup"><span data-stu-id="c8cc6-198">Complete a step-by-step tutorial for one of hello following scenarios:</span></span>
 
|<span data-ttu-id="c8cc6-199">Modello di distribuzione di Azure</span><span class="sxs-lookup"><span data-stu-id="c8cc6-199">Azure deployment model</span></span>  | <span data-ttu-id="c8cc6-200">Subscription</span><span class="sxs-lookup"><span data-stu-id="c8cc6-200">Subscription</span></span>  |
|---------|---------|
|<span data-ttu-id="c8cc6-201">Entrambi Resource Manager</span><span class="sxs-lookup"><span data-stu-id="c8cc6-201">Both Resource Manager</span></span> |[<span data-ttu-id="c8cc6-202">Uguale</span><span class="sxs-lookup"><span data-stu-id="c8cc6-202">Same</span></span>](virtual-network-create-peering.md)|
| |[<span data-ttu-id="c8cc6-203">Diversa</span><span class="sxs-lookup"><span data-stu-id="c8cc6-203">Different</span></span>](create-peering-different-subscriptions.md)|
|<span data-ttu-id="c8cc6-204">Uno di Resource Manager, uno della versione classica</span><span class="sxs-lookup"><span data-stu-id="c8cc6-204">One Resource Manager, one classic</span></span>     |[<span data-ttu-id="c8cc6-205">Uguale</span><span class="sxs-lookup"><span data-stu-id="c8cc6-205">Same</span></span>](create-peering-different-deployment-models.md)|
| |[<span data-ttu-id="c8cc6-206">Diversa</span><span class="sxs-lookup"><span data-stu-id="c8cc6-206">Different</span></span>](create-peering-different-deployment-models-subscriptions.md)|

## <a name="view-or-change-peering-settings"></a><span data-ttu-id="c8cc6-207">Visualizzare o modificare le impostazioni dei peering</span><span class="sxs-lookup"><span data-stu-id="c8cc6-207">View or change peering settings</span></span>

1. <span data-ttu-id="c8cc6-208">Accedi toohello [portale](https://portal.azure.com) con un account assegnato hello necessario [ruolo o autorizzazioni](#permissions).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-208">Log in toohello [portal](https://portal.azure.com) with an account that is assigned hello necessary [role or permissions](#permissions).</span></span>
2. <span data-ttu-id="c8cc6-209">Nella casella hello contenente testo hello *individuare risorse* nella parte superiore di hello di hello portale di Azure, digitare *reti virtuali*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-209">In hello box that contains hello text *Search resources* at hello top of hello Azure portal, type *virtual networks*.</span></span> <span data-ttu-id="c8cc6-210">Quando **le reti virtuali** viene visualizzato nei risultati della ricerca hello, selezionarlo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-210">When **Virtual networks** appears in hello search results, click it.</span></span>
3. <span data-ttu-id="c8cc6-211">In hello **le reti virtuali** pannello visualizzato, fare clic su desiderato toocreate un peer per la rete virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-211">In hello **Virtual networks** blade that appears, click hello virtual network you want toocreate a peering for.</span></span>
4. <span data-ttu-id="c8cc6-212">Nel riquadro di hello che viene visualizzato per la rete virtuale di hello è selezionata, fare clic su **peering** in hello **impostazioni** sezione.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-212">In hello pane that appears for hello virtual network you selected, click **Peerings** in hello **SETTINGS** section.</span></span>
5. <span data-ttu-id="c8cc6-213">Fare clic su hello peering tooview desiderato oppure modificare le impostazioni per.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-213">Click hello peering you want tooview or change settings for.</span></span>
6. <span data-ttu-id="c8cc6-214">Modificare l'impostazione appropriata hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-214">Change hello appropriate setting.</span></span> <span data-ttu-id="c8cc6-215">Informazioni sulle opzioni di hello per ogni impostazione [passaggio 6](#add-peering) di hello creare una sezione di peering di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-215">Read about hello options for each setting in [step 6](#add-peering) of hello Create a peering section of this article.</span></span> 

    >[!NOTE]
    ><span data-ttu-id="c8cc6-216">Esistono diversi requisiti, vincoli, e considerazioni toosuccessfully creare una rete virtuale peering.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-216">There are several requirements, constraints, and considerations toosuccessfully create a virtual network peering.</span></span> <span data-ttu-id="c8cc6-217">Prima di creare un peering, assicurarsi di avere familiarizzato con hello [requisiti e vincoli](#requirements-and-constraints) e [delle autorizzazioni necessarie](#permissions).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-217">Before creating a peering, ensure you've familiarized yourself with hello [requirements and constraints](#requirements-and-constraints) and [required permissions](#permissions).</span></span>
    >

7. <span data-ttu-id="c8cc6-218">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-218">Click **Save**.</span></span>

<span data-ttu-id="c8cc6-219">**Comandi**</span><span class="sxs-lookup"><span data-stu-id="c8cc6-219">**Commands**</span></span>

|<span data-ttu-id="c8cc6-220">Strumento</span><span class="sxs-lookup"><span data-stu-id="c8cc6-220">Tool</span></span>|<span data-ttu-id="c8cc6-221">Comando</span><span class="sxs-lookup"><span data-stu-id="c8cc6-221">Command</span></span>|
|---|---|
|<span data-ttu-id="c8cc6-222">CLI</span><span class="sxs-lookup"><span data-stu-id="c8cc6-222">CLI</span></span>|<span data-ttu-id="c8cc6-223">[elenco di peering reti virtuali rete AZ](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#list) toolist peering per una rete virtuale, [az Mostra peering reti virtuali di rete](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#show) tooshow impostazioni per il peering specifico, e [az aggiornamento peering reti virtuali di rete](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#update) impostazioni peer toochange.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-223">[az network vnet peering list](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#list) toolist peerings for a virtual network, [az network vnet peering show](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#show) tooshow settings for a specific peering, and [az network vnet peering update](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#update) toochange peering settings.</span></span>|
|<span data-ttu-id="c8cc6-224">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c8cc6-224">PowerShell</span></span>|<span data-ttu-id="c8cc6-225">[Get-AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/get-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) tooretrieve consente di visualizzare le impostazioni peer e [Set AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/set-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) toochange impostazioni.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-225">[Get-AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/get-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) tooretrieve view peering settings and [Set-AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/set-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) toochange settings.</span></span>|

## <a name="delete-a-peering"></a><span data-ttu-id="c8cc6-226">Eliminare un peering</span><span class="sxs-lookup"><span data-stu-id="c8cc6-226">Delete a peering</span></span>
<span data-ttu-id="c8cc6-227">Quando viene eliminato un peering, toohello peering rete virtuale non è più flussi di traffico da una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-227">When a peering is deleted, traffic from a virtual network no longer flows toohello peered virtual network.</span></span> <span data-ttu-id="c8cc6-228">Quando sono peering reti virtuali distribuite tramite Gestione risorse, ogni rete virtuale ha un peer toohello altra rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-228">When virtual networks deployed through Resource Manager are peered, each virtual network has a peering toohello other virtual network.</span></span> <span data-ttu-id="c8cc6-229">Se l'eliminazione di hello peering da una rete virtuale disabilita la comunicazione tra reti virtuali hello hello, non eliminare hello peering da hello altra rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-229">Though deleting hello peering from one virtual network disables hello communication between hello virtual networks, it does not delete hello peering from hello other virtual network.</span></span> <span data-ttu-id="c8cc6-230">Hello stato peering per hello peering che esiste in hello altra rete virtuale è **Disconnected**.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-230">hello peering status for hello peering that exists in hello other virtual network is **Disconnected**.</span></span> <span data-ttu-id="c8cc6-231">Non è possibile ricreare hello peering fino a quando non si ricreare hello peering nella rete virtuale prima di hello e lo stato di peering hello virtuale sia per le reti modifiche troppo*connesso*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-231">You cannot recreate hello peering until you re-create hello peering in hello first virtual network and hello peering status for both virtual networks changes too*Connected*.</span></span> 

<span data-ttu-id="c8cc6-232">Se si desidera toocommunicate reti virtuali, a volte, ma non sempre, anziché l'eliminazione di un peering, è possibile impostare hello **consentire l'accesso di rete virtuale** impostazione troppo**disabilitato** invece.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-232">If you want virtual networks toocommunicate sometimes, but not always, rather than deleting a peering, you can set hello **Allow virtual network access** setting too**Disabled** instead.</span></span> <span data-ttu-id="c8cc6-233">toolearn, vedere passaggio 6 di hello [creare un peering](#create-peering) sezione di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-233">toolearn how, read step 6 of hello [Create a peering](#create-peering) section of this article.</span></span> <span data-ttu-id="c8cc6-234">Disabilitare e abilitare l'accesso alla rete può risultare più facile che eliminare e ricreare i peering.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-234">You may find disabling and enabling network access easier than deleting and recreating peerings.</span></span>

1. <span data-ttu-id="c8cc6-235">Accedi toohello [portale](https://portal.azure.com) con un account assegnato hello necessario [ruolo o autorizzazioni](#permissions).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-235">Log in toohello [portal](https://portal.azure.com) with an account that is assigned hello necessary [role or permissions](#permissions).</span></span>
2. <span data-ttu-id="c8cc6-236">Nella casella hello contenente testo hello *individuare risorse* nella parte superiore di hello di hello portale di Azure, digitare *reti virtuali*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-236">In hello box that contains hello text *Search resources* at hello top of hello Azure portal, type *virtual networks*.</span></span> <span data-ttu-id="c8cc6-237">Quando **le reti virtuali** viene visualizzato nei risultati della ricerca hello, selezionarlo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-237">When **Virtual networks** appears in hello search results, click it.</span></span>
3. <span data-ttu-id="c8cc6-238">In hello **le reti virtuali** pannello visualizzato, fare clic su rete virtuale di hello da toodelete un peering da.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-238">In hello **Virtual networks** blade that appears, click hello virtual network you want toodelete a peering from.</span></span>
4. <span data-ttu-id="c8cc6-239">Nel pannello hello che viene visualizzato per la rete virtuale di hello è selezionata, fare clic su **peering** in **impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-239">In hello blade that appears for hello virtual network you selected, click **Peerings** under **Settings**.</span></span>
5. <span data-ttu-id="c8cc6-240">Selezionare nell'elenco hello di peering che viene visualizzato nel Pannello di peering hello, hello rapida peering si desidera toodelete **eliminare**, quindi **Sì** hello toodelete peering dalla prima rete virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-240">In hello list of peerings that appears in hello peerings blade, right-click hello peering you want toodelete, click **Delete**, then **Yes** toodelete hello peering from hello first virtual network.</span></span>
6. <span data-ttu-id="c8cc6-241">Hello completo precedenti passaggi toodelete hello peering da hello altra rete virtuale nel peering hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-241">Complete hello previous steps toodelete hello peering from hello other virtual network in hello peering.</span></span>

<span data-ttu-id="c8cc6-242">**Comandi**</span><span class="sxs-lookup"><span data-stu-id="c8cc6-242">**Commands**</span></span>

|<span data-ttu-id="c8cc6-243">Strumento</span><span class="sxs-lookup"><span data-stu-id="c8cc6-243">Tool</span></span>|<span data-ttu-id="c8cc6-244">Comando</span><span class="sxs-lookup"><span data-stu-id="c8cc6-244">Command</span></span>|
|---|---|
|<span data-ttu-id="c8cc6-245">CLI</span><span class="sxs-lookup"><span data-stu-id="c8cc6-245">CLI</span></span>|[<span data-ttu-id="c8cc6-246">az network vnet peering delete</span><span class="sxs-lookup"><span data-stu-id="c8cc6-246">az network vnet peering delete</span></span>](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="c8cc6-247">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c8cc6-247">PowerShell</span></span>|[<span data-ttu-id="c8cc6-248">Remove-AzureRmVirtualNetworkPeering</span><span class="sxs-lookup"><span data-stu-id="c8cc6-248">Remove-AzureRmVirtualNetworkPeering</span></span>](/powershell/module/azurerm.network/remove-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="requirements-and-constraints"></a><span data-ttu-id="c8cc6-249">Requisiti e vincoli</span><span class="sxs-lookup"><span data-stu-id="c8cc6-249">Requirements and constraints</span></span> 

- <span data-ttu-id="c8cc6-250">le reti virtuali Hello che peer è necessario disporre di spazi di indirizzi IP non sovrapposte.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-250">hello virtual networks you peer must have non-overlapping IP address spaces.</span></span>
- <span data-ttu-id="c8cc6-251">Non è possibile aggiungere o eliminare spazi di indirizzi in una rete virtuale dopo che ne è stato eseguito il peering con un'altra rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-251">You can't add address spaces to, or delete address spaces from a virtual network once a virtual network is peered with another virtual network.</span></span> <span data-ttu-id="c8cc6-252">tooadd o rimuovere spazi degli indirizzi, hello di eliminazione peering, aggiungere o rimuovere gli spazi degli indirizzi di hello, quindi ricreare il peering hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-252">tooadd or remove address spaces, delete hello peering, add or remove hello address spaces, then re-create hello peering.</span></span> <span data-ttu-id="c8cc6-253">spazi di indirizzi tooadd o rimuovere gli spazi degli indirizzi da reti virtuali, leggere hello [crea, modifica o Elimina le reti virtuali](virtual-network-manage-network.md#add-address-spaces) articolo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-253">tooadd address spaces to, or remove address spaces from virtual networks, read hello [Create, change, or delete virtual networks](virtual-network-manage-network.md#add-address-spaces) article.</span></span> 
- <span data-ttu-id="c8cc6-254">È possibile notare due reti virtuali distribuite tramite Gestione risorse o una rete virtuale distribuito tramite Gestione risorse con una rete virtuale venga distribuita tramite il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-254">You can peer two virtual networks deployed through Resource Manager or a virtual network deployed through Resource Manager with a virtual network deployed through hello classic deployment model.</span></span> <span data-ttu-id="c8cc6-255">Non è possibile esaminare due reti virtuali create tramite il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-255">You cannot peer two virtual networks created through hello classic deployment model.</span></span> <span data-ttu-id="c8cc6-256">Se non si ha familiarità con i modelli di distribuzione di Azure, leggere hello [modelli di distribuzione Azure comprendere](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) articolo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-256">If you're not familiar with Azure deployment models, read hello [Understand Azure deployment models](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> <span data-ttu-id="c8cc6-257">È possibile utilizzare un [Gateway VPN](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) tooconnect due reti virtuali create tramite il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-257">You can use a [VPN Gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) tooconnect two virtual networks created through hello classic deployment model.</span></span>
- <span data-ttu-id="c8cc6-258">Quando si peering due reti virtuali create a Resource Manager, un peering deve essere configurato per ogni rete virtuale nel peering hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-258">When peering two virtual networks created through Resource Manager, a peering must be configured for each virtual network in hello peering.</span></span> <span data-ttu-id="c8cc6-259">Quando si crea hello peering toohello seconda rete virtuale dalla rete virtuale prima di hello, lo stato di peering hello è *avviato*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-259">When you create hello peering toohello second virtual network from hello first virtual network, hello peering status is *Initiated*.</span></span>  <span data-ttu-id="c8cc6-260">Quando si crea hello peering da hello rete virtuale secondo toohello prima rete virtuale, lo stato di peering è *connesso*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-260">When you create hello peering from hello second virtual network toohello first virtual network, its peering status is *Connected*.</span></span> <span data-ttu-id="c8cc6-261">Se si visualizza lo stato di peering hello per la rete virtuale prima di hello, viene visualizzato lo stato modificato da *avviato* troppo*connesso*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-261">If you view hello peering status for hello first virtual network, you see its status changed from *Initiated* too*Connected*.</span></span> <span data-ttu-id="c8cc6-262">peering Hello non è stata stabilita correttamente fino a quando lo stato di peering hello per entrambi peering di reti virtuali è *connesso*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-262">hello peering is not successfully established until hello peering status for both virtual network peerings is *Connected*.</span></span> 
- <span data-ttu-id="c8cc6-263">Quando peering una rete virtuale creata tramite Gestione risorse con una rete virtuale creata tramite il modello di distribuzione classica hello, configurare solo un peering per la rete virtuale di hello distribuita tramite Gestione risorse.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-263">When peering a virtual network created through Resource Manager with a virtual network created through hello classic deployment model, you only configure a peering for hello virtual network deployed through Resource Manager.</span></span> <span data-ttu-id="c8cc6-264">È possibile configurare peering per una rete virtuale (classica) o tra due reti virtuali distribuite tramite il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-264">You cannot configure peering for a virtual network (classic), or between two virtual networks deployed through hello classic deployment model.</span></span> <span data-ttu-id="c8cc6-265">Quando si crea hello peering dalla rete virtuale di toohello (Resource Manager) di rete virtuale hello (classico), lo stato di peering hello è *aggiornamento*, quindi subito modifiche troppo*connesso*.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-265">When you create hello peering from hello virtual network (Resource Manager) toohello virtual network (Classic), hello peering status is *Updating*, then shortly changes too*Connected*.</span></span>   
- <span data-ttu-id="c8cc6-266">Un peering viene stabilito tra due reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-266">A peering is established between two virtual networks.</span></span> <span data-ttu-id="c8cc6-267">I peering non sono transitivi.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-267">Peerings are not transitive.</span></span> <span data-ttu-id="c8cc6-268">Se si creano peering tra:</span><span class="sxs-lookup"><span data-stu-id="c8cc6-268">If you create peerings between:</span></span>
    - <span data-ttu-id="c8cc6-269">VirtualNetwork1 e VirtualNetwork2</span><span class="sxs-lookup"><span data-stu-id="c8cc6-269">VirtualNetwork1 & VirtualNetwork2</span></span>
    - <span data-ttu-id="c8cc6-270">VirtualNetwork2 e VirtualNetwork3</span><span class="sxs-lookup"><span data-stu-id="c8cc6-270">VirtualNetwork2 & VirtualNetwork3</span></span>

  <span data-ttu-id="c8cc6-271">Non vengono stabiliti peering tra la VirtualNetwork1 e la VirtualNetwork3 tramite la VirtualNetwork2.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-271">There is no peering between VirtualNetwork1 and VirtualNetwork3 through VirtualNetwork2.</span></span> <span data-ttu-id="c8cc6-272">Se si desidera che una rete virtuale peering tra VirtualNetwork1 e VirtualNetwork3 toocreate, è necessario toocreate un peering tra VirtualNetwork1 e VirtualNetwork3.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-272">If you want toocreate a virtual network peering between VirtualNetwork1 and VirtualNetwork3, you have toocreate a peering between VirtualNetwork1 and VirtualNetwork3.</span></span>
- <span data-ttu-id="c8cc6-273">Non è possibile risolvere i nomi nelle reti virtuali con peering usando la risoluzione dei nomi di Azure predefinita.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-273">You can't resolve names in peered virtual networks using default Azure name resolution.</span></span> <span data-ttu-id="c8cc6-274">i nomi tooresolve in altre reti virtuali, è necessario utilizzare un server DNS personalizzato.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-274">tooresolve names in other virtual networks, you must use a custom DNS server.</span></span> <span data-ttu-id="c8cc6-275">modalità di lettura tooset configurare il proprio server DNS, toolearn hello [risoluzione dei nomi utilizzando il proprio server DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server) articolo.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-275">toolearn how tooset up your own DNS server, read hello [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server) article.</span></span>
- <span data-ttu-id="c8cc6-276">Le risorse in entrambe le reti virtuali nel peering hello possono comunicare tra loro hello stessa larghezza di banda e latenza come se fossero hello stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-276">Resources in both virtual networks in hello peering can communicate with each other with hello same bandwidth and latency as if they were in hello same virtual network.</span></span> <span data-ttu-id="c8cc6-277">Ogni dimensione di macchina virtuale presenta tuttavia una specifica larghezza di banda di rete massima.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-277">Each virtual machine size has its own maximum network bandwidth however.</span></span> <span data-ttu-id="c8cc6-278">ulteriori informazioni sulla larghezza di banda di rete massima per le dimensioni di macchina virtuale diversa, leggere hello toolearn [Windows](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) o [Linux](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) gli articoli di dimensioni di macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-278">toolearn more about maximum network bandwidth for different virtual machine sizes, read hello [Windows](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) or [Linux](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) virtual machine sizes articles.</span></span>
- <span data-ttu-id="c8cc6-279">È possibile connettersi a reti virtuali, distribuite tramite Gestione risorse che sono in hello stesso, o diverse sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-279">You can peer virtual networks deployed through Resource Manager that are in hello same, or different subscriptions.</span></span>
- <span data-ttu-id="c8cc6-280">È possibile connettersi a reti virtuali distribuite attraverso diversi modelli di distribuzione che sono in hello stesso, o diverse sottoscrizioni (anteprima).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-280">You can peer virtual networks deployed through different deployment models that are in hello same, or different subscriptions (preview).</span></span> 
- <span data-ttu-id="c8cc6-281">Hello sottoscrizioni che sono entrambe le reti virtuali devono essere associato toohello stesso tenant di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-281">hello subscriptions that both virtual networks are in must be associated toohello same Azure Active Directory tenant.</span></span> <span data-ttu-id="c8cc6-282">Se non si ha già un tenant di AD, è possibile [crearne uno](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch) rapidamente.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-282">If you don't already have an AD tenant, you can quickly [create one](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch).</span></span> <span data-ttu-id="c8cc6-283">È possibile utilizzare un [Gateway VPN](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) tooconnect due reti virtuali presenti in diverse sottoscrizioni associate toodifferent tenant di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-283">You can use a [VPN Gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) tooconnect two virtual networks that exist in different subscriptions associated toodifferent Active Directory tenants.</span></span>
- <span data-ttu-id="c8cc6-284">Una rete virtuale può essere il peering tooanother rete virtuale e il traffico di rete virtuale tooanother connessi con un gateway di rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-284">A virtual network can be peered tooanother virtual network, and also be connected tooanother virtual network with an Azure virtual network gateway.</span></span> <span data-ttu-id="c8cc6-285">Quando le reti virtuali sono connessi tramite il peering e un gateway, il traffico tra reti virtuali hello convogliato tramite configurazione peering hello, anziché gateway hello.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-285">When virtual networks are connected through both peering and a gateway, traffic between hello virtual networks flows through hello peering configuration, rather than hello gateway.</span></span>
- <span data-ttu-id="c8cc6-286">È previsto un importo minimo per il traffico in ingresso e in uscita che usa un peering di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-286">There is a nominal charge for ingress and egress traffic that utilizes a virtual network peering.</span></span> <span data-ttu-id="c8cc6-287">Per ulteriori informazioni, vedere hello [pagina dei prezzi](https://azure.microsoft.com/pricing/details/virtual-network).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-287">For more information, see hello [pricing page](https://azure.microsoft.com/pricing/details/virtual-network).</span></span>


## <a name="permissions"></a><span data-ttu-id="c8cc6-288">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="c8cc6-288">Permissions</span></span>

<span data-ttu-id="c8cc6-289">Hello che è utilizzare una rete virtuale peering toocreate devono disporre hello necessarie ruolo o autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="c8cc6-289">hello accounts you use toocreate a virtual network peering must have hello necessary role or permissions.</span></span> <span data-ttu-id="c8cc6-290">Ad esempio, se si sono stati peering due reti virtuali denominate myVnetA e myVnetB, all'account deve essere assegnato hello seguente ruolo minimo o autorizzazioni per ogni rete virtuale:</span><span class="sxs-lookup"><span data-stu-id="c8cc6-290">For example, if you were peering two virtual networks named myVnetA and myVnetB, your account must be assigned hello following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="c8cc6-291">Rete virtuale</span><span class="sxs-lookup"><span data-stu-id="c8cc6-291">Virtual network</span></span>|<span data-ttu-id="c8cc6-292">Modello di distribuzione</span><span class="sxs-lookup"><span data-stu-id="c8cc6-292">Deployment model</span></span>|<span data-ttu-id="c8cc6-293">Ruolo</span><span class="sxs-lookup"><span data-stu-id="c8cc6-293">Role</span></span>|<span data-ttu-id="c8cc6-294">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="c8cc6-294">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="c8cc6-295">myVnetA</span><span class="sxs-lookup"><span data-stu-id="c8cc6-295">myVnetA</span></span>|<span data-ttu-id="c8cc6-296">Gestione risorse</span><span class="sxs-lookup"><span data-stu-id="c8cc6-296">Resource Manager</span></span>|[<span data-ttu-id="c8cc6-297">Collaboratore di rete</span><span class="sxs-lookup"><span data-stu-id="c8cc6-297">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="c8cc6-298">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="c8cc6-298">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="c8cc6-299">Classico</span><span class="sxs-lookup"><span data-stu-id="c8cc6-299">Classic</span></span>|[<span data-ttu-id="c8cc6-300">Collaboratore reti virtuali classiche</span><span class="sxs-lookup"><span data-stu-id="c8cc6-300">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="c8cc6-301">N/D</span><span class="sxs-lookup"><span data-stu-id="c8cc6-301">N/A</span></span>|
|<span data-ttu-id="c8cc6-302">myVnetB</span><span class="sxs-lookup"><span data-stu-id="c8cc6-302">myVnetB</span></span>|<span data-ttu-id="c8cc6-303">Gestione risorse</span><span class="sxs-lookup"><span data-stu-id="c8cc6-303">Resource Manager</span></span>|[<span data-ttu-id="c8cc6-304">Collaboratore di rete</span><span class="sxs-lookup"><span data-stu-id="c8cc6-304">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="c8cc6-305">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="c8cc6-305">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="c8cc6-306">Classico</span><span class="sxs-lookup"><span data-stu-id="c8cc6-306">Classic</span></span>|[<span data-ttu-id="c8cc6-307">Collaboratore reti virtuali classiche</span><span class="sxs-lookup"><span data-stu-id="c8cc6-307">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="c8cc6-308">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="c8cc6-308">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="c8cc6-309">Altre informazioni, vedere [ruoli predefiniti](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) e l'assegnazione di autorizzazioni specifiche troppo[ruoli personalizzati](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) Gestione risorse (solo).</span><span class="sxs-lookup"><span data-stu-id="c8cc6-309">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions too[custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="c8cc6-310"><a name="next-steps"></a>Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="c8cc6-310"><a name="next-steps"></a>Next steps</span></span>

<span data-ttu-id="c8cc6-311">Informazioni su come toocreate un [topologia di rete hub e spoke](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering)</span><span class="sxs-lookup"><span data-stu-id="c8cc6-311">Learn how toocreate a [hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering)</span></span> 
