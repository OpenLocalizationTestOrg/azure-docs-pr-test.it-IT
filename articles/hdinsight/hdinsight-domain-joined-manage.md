---
title: Gestire cluster HDInsight aggiunti al dominio - Azure | Microsoft Docs
description: Come configurare i cluster HDInsight aggiunti al dominio
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: 
ms.assetid: 6ebc4d2f-2f6a-4e1e-ab6d-af4db6b4c87c
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/25/2016
ms.author: saurinsh
ms.openlocfilehash: 9b56ce6cc5bdd3b8d48d047751e978cad08598e1
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="manage-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="7df0b-103">Gestione dei cluster HDInsight aggiunti al dominio (anteprima)</span><span class="sxs-lookup"><span data-stu-id="7df0b-103">Manage Domain-joined HDInsight clusters (Preview)</span></span>
<span data-ttu-id="7df0b-104">Informazioni su utenti e ruoli nei cluster HDInsight aggiunti al dominio e su come gestire i cluster HDInsight aggiunti al dominio.</span><span class="sxs-lookup"><span data-stu-id="7df0b-104">Learn the users and the roles in Domain-joined HDInsight, and how to manage domain-joined HDInsight clusters.</span></span>

## <a name="users-of-domain-joined-hdinsight-clusters"></a><span data-ttu-id="7df0b-105">Utenti dei cluster HDInsight aggiunti al dominio</span><span class="sxs-lookup"><span data-stu-id="7df0b-105">Users of Domain-joined HDInsight clusters</span></span>
<span data-ttu-id="7df0b-106">Un cluster HDInsight non aggiunto al dominio dispone di due account utente creati durante la creazione del cluster:</span><span class="sxs-lookup"><span data-stu-id="7df0b-106">An HDInsight cluster that is not domain-joined has two user accounts that are created during the cluster creation:</span></span>

* <span data-ttu-id="7df0b-107">**Amministratore Ambari**: questo account è denominato anche *Utente Hadoop* o *Utente HTTP*.</span><span class="sxs-lookup"><span data-stu-id="7df0b-107">**Ambari admin**: This account is also known as *Hadoop user* or *HTTP user*.</span></span> <span data-ttu-id="7df0b-108">Può essere usato per accedere ad Ambari all'indirizzo https://&lt;nomecluster>.azurehdinsight.net.</span><span class="sxs-lookup"><span data-stu-id="7df0b-108">This account can be used to log on to Ambari at https://&lt;clustername>.azurehdinsight.net.</span></span> <span data-ttu-id="7df0b-109">oppure per eseguire query sulle viste di Ambari, eseguire i processi tramite strumenti esterni (ad esempio PowerShell, Templeton, Visual Studio) e per eseguire l'autenticazione con Hive ODBC Driver e gli strumenti di Business Intelligence (ad esempio Excel, PowerBI o Tableau).</span><span class="sxs-lookup"><span data-stu-id="7df0b-109">It can also be used to run queries on Ambari views, execute jobs via external tools (i.e. PowerShell, Templeton, Visual Studio), and authenticate with the Hive ODBC driver and BI tools (i.e. Excel, PowerBI, or Tableau).</span></span>
* <span data-ttu-id="7df0b-110">**Utente SSH**: questo account può essere usato con SSH e per eseguire comandi sudo.</span><span class="sxs-lookup"><span data-stu-id="7df0b-110">**SSH user**:  This account can be used with SSH, and execute sudo commands.</span></span> <span data-ttu-id="7df0b-111">Dispone di privilegi root nelle VM Linux.</span><span class="sxs-lookup"><span data-stu-id="7df0b-111">It has root privileges to the Linux VMs.</span></span>

<span data-ttu-id="7df0b-112">Un cluster HDInsight aggiunto a un dominio ha tre nuovi utenti, oltre all'amministratore di Ambari e all'utente SSH.</span><span class="sxs-lookup"><span data-stu-id="7df0b-112">A domain-joined HDInsight cluster has three new users in addition to Ambari Admin and SSH user.</span></span>

* <span data-ttu-id="7df0b-113">**Amministrazione Ranger**: questo account è l'account di amministratore Ranger locale di Apache.</span><span class="sxs-lookup"><span data-stu-id="7df0b-113">**Ranger admin**:  This account is the local Apache Ranger admin account.</span></span> <span data-ttu-id="7df0b-114">Non si tratta di un utente del dominio di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7df0b-114">It is not an active directory domain user.</span></span> <span data-ttu-id="7df0b-115">Questo account può essere usato per configurare criteri e creare altri utenti amministratori o amministratori con delega (i quali potranno gestire i criteri).</span><span class="sxs-lookup"><span data-stu-id="7df0b-115">This account can be used to setup policies and make other users admins or delegated admins (so that those users can manage policies).</span></span> <span data-ttu-id="7df0b-116">Per impostazione predefinita, il nome utente è *admin* e la password corrisponde alla password dell'amministratore Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-116">By default, the username is *admin* and the password is the same as the Ambari admin password.</span></span> <span data-ttu-id="7df0b-117">La password può essere aggiornata dalla pagina delle impostazioni di Ranger.</span><span class="sxs-lookup"><span data-stu-id="7df0b-117">The password can be updated from the Settings page in Ranger.</span></span>
* <span data-ttu-id="7df0b-118">**Utente del dominio di amministrazione cluster**: questo account corrisponde a un utente del dominio di Active Directory designato come amministratore del cluster Hadoop che include Ambari e Ranger.</span><span class="sxs-lookup"><span data-stu-id="7df0b-118">**Cluster admin domain user**: This account is an active directory domain user designated as the Hadoop cluster admin including Ambari and Ranger.</span></span> <span data-ttu-id="7df0b-119">Durante la creazione del cluster, è necessario fornire le credenziali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="7df0b-119">You must provide this user’s credentials during cluster creation.</span></span> <span data-ttu-id="7df0b-120">L'utente dispone dei privilegi seguenti:</span><span class="sxs-lookup"><span data-stu-id="7df0b-120">This user has the following privileges:</span></span>

  * <span data-ttu-id="7df0b-121">Aggiunta di computer al dominio e posizionamento degli stessi all'interno dell'unità organizzativa specificata in fase di creazione del cluster.</span><span class="sxs-lookup"><span data-stu-id="7df0b-121">Join machines to the domain and place them within the OU that you specify during cluster creation.</span></span>
  * <span data-ttu-id="7df0b-122">Creazione delle entità di servizio nell'unità organizzativa specificata in fase di creazione del cluster.</span><span class="sxs-lookup"><span data-stu-id="7df0b-122">Create service principals within the OU that you specify during cluster creation.</span></span>
  * <span data-ttu-id="7df0b-123">Creazione delle voci DNS inverse.</span><span class="sxs-lookup"><span data-stu-id="7df0b-123">Create reverse DNS entries.</span></span>

    <span data-ttu-id="7df0b-124">Tenere presente che questi privilegi sono gli stessi di altri utenti di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7df0b-124">Note the other AD users also have these privileges.</span></span>

    <span data-ttu-id="7df0b-125">Il cluster contiene alcuni endpoint (ad esempio, Templeton) non gestiti tramite Ranger e pertanto non sicuri.</span><span class="sxs-lookup"><span data-stu-id="7df0b-125">There are some end points within the cluster (for example, Templeton) which are not managed by Ranger, and hence are not secure.</span></span> <span data-ttu-id="7df0b-126">Questi endpoint sono bloccati per tutti gli utenti, tranne l'utente del dominio di amministrazione del cluster.</span><span class="sxs-lookup"><span data-stu-id="7df0b-126">These end points are locked down for all users except the cluster admin domain user.</span></span>
* <span data-ttu-id="7df0b-127">**Normale**: durante la creazione del cluster, è possibile specificare più gruppi di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7df0b-127">**Regular**: During cluster creation, you can provide multiple active directory groups.</span></span> <span data-ttu-id="7df0b-128">Gli utenti di questi gruppi verranno sincronizzati con Ranger e Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-128">The users in these groups will be synced to Ranger and Ambari.</span></span> <span data-ttu-id="7df0b-129">Questi utenti del dominio potranno accedere solo agli endpoint gestiti tramite Ranger (ad esempio, Hiveserver2).</span><span class="sxs-lookup"><span data-stu-id="7df0b-129">These users are domain users and will have access to only Ranger-managed endpoints (for example, Hiveserver2).</span></span> <span data-ttu-id="7df0b-130">A questi utenti potranno essere applicati tutti i criteri di controllo e controllo degli accessi in base al ruolo.</span><span class="sxs-lookup"><span data-stu-id="7df0b-130">All the RBAC policies and auditing will be applicable to these users.</span></span>

## <a name="roles-of-domain-joined-hdinsight-clusters"></a><span data-ttu-id="7df0b-131">Ruoli dei cluster HDInsight aggiunti al dominio</span><span class="sxs-lookup"><span data-stu-id="7df0b-131">Roles of Domain-joined HDInsight clusters</span></span>
<span data-ttu-id="7df0b-132">I cluster HDInsight aggiunti al dominio includono i seguenti ruoli:</span><span class="sxs-lookup"><span data-stu-id="7df0b-132">Domain-joined HDInsight have the following roles:</span></span>

* <span data-ttu-id="7df0b-133">Amministratore del cluster</span><span class="sxs-lookup"><span data-stu-id="7df0b-133">Cluster Administrator</span></span>
* <span data-ttu-id="7df0b-134">Operatore del cluster</span><span class="sxs-lookup"><span data-stu-id="7df0b-134">Cluster Operator</span></span>
* <span data-ttu-id="7df0b-135">Amministratore del servizio</span><span class="sxs-lookup"><span data-stu-id="7df0b-135">Service Administrator</span></span>
* <span data-ttu-id="7df0b-136">Operatore del servizio</span><span class="sxs-lookup"><span data-stu-id="7df0b-136">Service Operator</span></span>
* <span data-ttu-id="7df0b-137">Utente del cluster</span><span class="sxs-lookup"><span data-stu-id="7df0b-137">Cluster User</span></span>

<span data-ttu-id="7df0b-138">**Per visualizzare le autorizzazioni associate a questi ruoli**</span><span class="sxs-lookup"><span data-stu-id="7df0b-138">**To see the permissions of these roles**</span></span>

1. <span data-ttu-id="7df0b-139">Aprire l'interfaccia utente per la gestione di Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-139">Open the Ambari Management UI.</span></span>  <span data-ttu-id="7df0b-140">Vedere [Open the Ambari Management UI](#open-the-ambari-management-ui) (Aprire l'interfaccia utente per la gestione di Ambari).</span><span class="sxs-lookup"><span data-stu-id="7df0b-140">See [Open the Ambari Management UI](#open-the-ambari-management-ui).</span></span>
2. <span data-ttu-id="7df0b-141">Fare clic su **Roles** (Ruoli) nel menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="7df0b-141">From the left menu, click **Roles**.</span></span>
3. <span data-ttu-id="7df0b-142">Fare clic sul punto interrogativo blu per visualizzare le autorizzazioni:</span><span class="sxs-lookup"><span data-stu-id="7df0b-142">Click the blue question mark to see the permissions:</span></span>

    ![Autorizzazioni dei ruoli dei cluster HDInsight aggiunti al dominio](./media/hdinsight-domain-joined-manage/hdinsight-domain-joined-roles-permissions.png)

## <a name="open-the-ambari-management-ui"></a><span data-ttu-id="7df0b-144">Aprire l'interfaccia utente per la gestione di Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-144">Open the Ambari Management UI</span></span>
1. <span data-ttu-id="7df0b-145">Accedere al [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7df0b-145">Sign on to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="7df0b-146">Aprire il cluster HDInsight in un pannello.</span><span class="sxs-lookup"><span data-stu-id="7df0b-146">Open your HDInsight cluster in a blade.</span></span> <span data-ttu-id="7df0b-147">Vedere [Elencare e visualizzare i cluster](hdinsight-administer-use-management-portal.md#list-and-show-clusters).</span><span class="sxs-lookup"><span data-stu-id="7df0b-147">See [List and show clusters](hdinsight-administer-use-management-portal.md#list-and-show-clusters).</span></span>
3. <span data-ttu-id="7df0b-148">Fare clic su **Dashboard** nel menu principale per aprire Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-148">Click **Dashboard** from the top menu to open Ambari.</span></span>
4. <span data-ttu-id="7df0b-149">Eseguire l'accesso usando il nome utente e la password di amministratore del cluster.</span><span class="sxs-lookup"><span data-stu-id="7df0b-149">Log on to Ambari using the cluster administrator domain user name and password.</span></span>
5. <span data-ttu-id="7df0b-150">Fare clic sul menu a discesa **Admin** (Amministratore) in alto a destra e quindi fare clic su **Manage Ambari** (Gestisci Ambari).</span><span class="sxs-lookup"><span data-stu-id="7df0b-150">Click the **Admin** dropdown menu from the upper right corner, and then click **Manage Ambari**.</span></span>

    ![Gestire Ambari nel cluster HDInsight aggiunto al dominio](./media/hdinsight-domain-joined-manage/hdinsight-domain-joined-manage-ambari.png)

    <span data-ttu-id="7df0b-152">L'interfaccia utente ha il seguente aspetto:</span><span class="sxs-lookup"><span data-stu-id="7df0b-152">The UI looks like:</span></span>

    ![Interfaccia utente della gestione di Ambari nel cluster HDInsight aggiunto al dominio](./media/hdinsight-domain-joined-manage/hdinsight-domain-joined-ambari-management-ui.png)

## <a name="list-the-domain-users-synchronized-from-your-active-directory"></a><span data-ttu-id="7df0b-154">Elencare gli utenti del dominio sincronizzati da Active Directory</span><span class="sxs-lookup"><span data-stu-id="7df0b-154">List the domain users synchronized from your Active Directory</span></span>
1. <span data-ttu-id="7df0b-155">Aprire l'interfaccia utente per la gestione di Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-155">Open the Ambari Management UI.</span></span>  <span data-ttu-id="7df0b-156">Vedere [Open the Ambari Management UI](#open-the-ambari-management-ui) (Aprire l'interfaccia utente per la gestione di Ambari).</span><span class="sxs-lookup"><span data-stu-id="7df0b-156">See [Open the Ambari Management UI](#open-the-ambari-management-ui).</span></span>
2. <span data-ttu-id="7df0b-157">Scegliere **Users**(Utenti) dal menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="7df0b-157">From the left menu, click **Users**.</span></span> <span data-ttu-id="7df0b-158">Verranno visualizzati tutti gli utenti sincronizzati da Active Directory al cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="7df0b-158">You shall see all the users synced from your Active Directory to the HDInsight cluster.</span></span>

    ![Elenco degli utenti dell'interfaccia per la gestione di Ambari nel cluster HDInsight aggiunto al dominio](./media/hdinsight-domain-joined-manage/hdinsight-domain-joined-ambari-management-ui-users.png)

## <a name="list-the-domain-groups-synchronized-from-your-active-directory"></a><span data-ttu-id="7df0b-160">Elencare gli utenti del dominio sincronizzati da Active Directory</span><span class="sxs-lookup"><span data-stu-id="7df0b-160">List the domain groups synchronized from your Active Directory</span></span>
1. <span data-ttu-id="7df0b-161">Aprire l'interfaccia utente per la gestione di Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-161">Open the Ambari Management UI.</span></span>  <span data-ttu-id="7df0b-162">Vedere [Open the Ambari Management UI](#open-the-ambari-management-ui) (Aprire l'interfaccia utente per la gestione di Ambari).</span><span class="sxs-lookup"><span data-stu-id="7df0b-162">See [Open the Ambari Management UI](#open-the-ambari-management-ui).</span></span>
2. <span data-ttu-id="7df0b-163">Scegliere **Groups** (Gruppi) dal menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="7df0b-163">From the left menu, click **Groups**.</span></span> <span data-ttu-id="7df0b-164">Verranno visualizzati tutti i gruppi sincronizzati da Active Directory al cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="7df0b-164">You shall see all the groups synced from your Active Directory to the HDInsight cluster.</span></span>

    ![Elenco dei gruppi dell'interfaccia utente per la gestione di Ambari nel cluster HDInsight aggiunto al dominio](./media/hdinsight-domain-joined-manage/hdinsight-domain-joined-ambari-management-ui-groups.png)

## <a name="configure-hive-views-permissions"></a><span data-ttu-id="7df0b-166">Configurare le autorizzazioni delle viste Hive</span><span class="sxs-lookup"><span data-stu-id="7df0b-166">Configure Hive Views permissions</span></span>
1. <span data-ttu-id="7df0b-167">Aprire l'interfaccia utente per la gestione di Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-167">Open the Ambari Management UI.</span></span>  <span data-ttu-id="7df0b-168">Vedere [Open the Ambari Management UI](#open-the-ambari-management-ui) (Aprire l'interfaccia utente per la gestione di Ambari).</span><span class="sxs-lookup"><span data-stu-id="7df0b-168">See [Open the Ambari Management UI](#open-the-ambari-management-ui).</span></span>
2. <span data-ttu-id="7df0b-169">Fare clic su **Views** (Viste) nel menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="7df0b-169">From the left menu, click **Views**.</span></span>
3. <span data-ttu-id="7df0b-170">Fare clic su **HIVE** per visualizzare i dettagli.</span><span class="sxs-lookup"><span data-stu-id="7df0b-170">Click **HIVE** to show the details.</span></span>

    ![Viste Hive dell'interfaccia utente per la gestione di Ambari nel cluster HDInsight aggiunto al dominio](./media/hdinsight-domain-joined-manage/hdinsight-domain-joined-ambari-management-ui-hive-views.png)
4. <span data-ttu-id="7df0b-172">Fare clic sul collegamento **Hive View** (Vista Hive) per configurare le viste Hive.</span><span class="sxs-lookup"><span data-stu-id="7df0b-172">Click the **Hive View** link to configure Hive Views.</span></span>
5. <span data-ttu-id="7df0b-173">Scorrere verso il basso fino alla sezione **Permissions** Autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="7df0b-173">Scroll down to the **Permissions** section.</span></span>

    ![Configurare le autorizzazioni delle viste Hive nell'interfaccia utente per la gestione di Ambari nel cluster HDInsight aggiunto al dominio](./media/hdinsight-domain-joined-manage/hdinsight-domain-joined-ambari-management-ui-hive-views-permissions.png)
6. <span data-ttu-id="7df0b-175">Fare clic su **Add User** (Aggiungi utente) o **Add group** (Aggiungi gruppo), quindi specificare gli utenti o i gruppi autorizzati a usare le viste Hive.</span><span class="sxs-lookup"><span data-stu-id="7df0b-175">Click **Add User** or **Add Group**, and then specify the users or groups that can use Hive Views.</span></span>

## <a name="configure-users-for-the-roles"></a><span data-ttu-id="7df0b-176">Configurare i ruoli degli utenti</span><span class="sxs-lookup"><span data-stu-id="7df0b-176">Configure users for the roles</span></span>
 <span data-ttu-id="7df0b-177">Per visualizzare un elenco dei ruoli con le relative autorizzazioni, vedere [Roles of Domain-joined HDInsight clusters](#roles-of-domain---joined-hdinsight-clusters) (Ruoli dei cluster HDInsight aggiunti al dominio).</span><span class="sxs-lookup"><span data-stu-id="7df0b-177">To see a list of roles and their permissions, see [Roles of Domain-joined HDInsight clusters](#roles-of-domain---joined-hdinsight-clusters).</span></span>

1. <span data-ttu-id="7df0b-178">Aprire l'interfaccia utente per la gestione di Ambari.</span><span class="sxs-lookup"><span data-stu-id="7df0b-178">Open the Ambari Management UI.</span></span>  <span data-ttu-id="7df0b-179">Vedere [Open the Ambari Management UI](#open-the-ambari-management-ui) (Aprire l'interfaccia utente per la gestione di Ambari).</span><span class="sxs-lookup"><span data-stu-id="7df0b-179">See [Open the Ambari Management UI](#open-the-ambari-management-ui).</span></span>
2. <span data-ttu-id="7df0b-180">Fare clic su **Roles** (Ruoli) nel menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="7df0b-180">From the left menu, click **Roles**.</span></span>
3. <span data-ttu-id="7df0b-181">Fare clic su **Add User** (Aggiungi utente) o su **Add Group** (Aggiungi gruppo) per assegnare utenti e gruppi a ruoli diversi.</span><span class="sxs-lookup"><span data-stu-id="7df0b-181">Click **Add User** or **Add Group** to assign users and groups to different roles.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7df0b-182">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="7df0b-182">Next steps</span></span>
* <span data-ttu-id="7df0b-183">Per configurare un cluster HDInsight aggiunto al dominio, vedere [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md) (Configurare i cluster HDInsight aggiunti al dominio).</span><span class="sxs-lookup"><span data-stu-id="7df0b-183">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="7df0b-184">Per configurare i criteri ed eseguire query Hive, vedere [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md) (Configurare criteri Hive per cluster HDInsight aggiunti al dominio).</span><span class="sxs-lookup"><span data-stu-id="7df0b-184">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="7df0b-185">Per eseguire query Hive usando SSH nei cluster HDInsight aggiunti al dominio, vedere [Usare SSH con HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="7df0b-185">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
