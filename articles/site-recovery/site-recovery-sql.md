---
title: Eseguire la replica di applicazioni con SQL Server e Azure Site Recovery | Microsoft Docs
description: "Questo articolo descrive come eseguire la replica di SQL Server con Azure Site Recovery per ottenere le funzionalità di ripristino di emergenza di SQL Server."
services: site-recovery
documentationcenter: 
author: prateek9us
manager: gauravd
editor: 
ms.assetid: 9126f5e8-e9ed-4c31-b6b4-bf969c12c184
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: pratshar
ms.openlocfilehash: e53f60979e01a0eabe118d3ae6457a61bd4b0ded
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="protect-sql-server-using-sql-server-disaster-recovery-and-azure-site-recovery"></a><span data-ttu-id="246e5-103">Proteggere SQL Server con il ripristino di emergenza di SQL Server e Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="246e5-103">Protect SQL Server using SQL Server disaster recovery and Azure Site Recovery</span></span>

<span data-ttu-id="246e5-104">Questo articolo descrive come proteggere il back-end SQL Server di un'applicazione usando una combinazione di [Azure Site Recovery](site-recovery-overview.md) e tecnologie di continuità aziendale e ripristino di emergenza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="246e5-104">This article describes how to protect the SQL Server back end of an application using a combination of SQL Server business continuity and disaster recovery (BCDR) technologies, and [Azure Site Recovery](site-recovery-overview.md).</span></span>

<span data-ttu-id="246e5-105">Prima di iniziare, acquisire familiarità con le funzionalità di ripristino di emergenza di SQL Server, come il clustering di failover, i gruppi di disponibilità AlwaysOn, il mirroring del database e il log shipping.</span><span class="sxs-lookup"><span data-stu-id="246e5-105">Before you start, make sure you understand SQL Server disaster recovery capabilities, including failover clustering, Always On availability groups, database mirroring, and log shipping.</span></span>


## <a name="sql-server-deployments"></a><span data-ttu-id="246e5-106">Distribuzioni di SQL Server</span><span class="sxs-lookup"><span data-stu-id="246e5-106">SQL Server deployments</span></span>

<span data-ttu-id="246e5-107">Molti carichi di lavoro usano come base SQL Server, che può essere integrato con app come SharePoint, Dynamics e SAP per implementare servizi dati.</span><span class="sxs-lookup"><span data-stu-id="246e5-107">Many workloads use SQL Server as a foundation, and it can be integrated with apps such as SharePoint, Dynamics, and SAP, to implement data services.</span></span>  <span data-ttu-id="246e5-108">È possibile distribuire SQL Server in diversi modi.</span><span class="sxs-lookup"><span data-stu-id="246e5-108">SQL Server can be deployed in a number of ways:</span></span>

* <span data-ttu-id="246e5-109">**SQL Server autonomo**: SQL Server e tutti i database sono ospitati in un singolo computer (fisico o una macchina virtuale).</span><span class="sxs-lookup"><span data-stu-id="246e5-109">**Standalone SQL Server**: SQL Server and all databases are hosted on a single machine (physical or a virtual).</span></span> <span data-ttu-id="246e5-110">Se è virtualizzato, il clustering dell'host viene usato per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="246e5-110">When virtualized, host clustering is used for local high availability.</span></span> <span data-ttu-id="246e5-111">La disponibilità elevata a livello di guest non viene implementata.</span><span class="sxs-lookup"><span data-stu-id="246e5-111">Guest-level high availability isn't implemented.</span></span>
* <span data-ttu-id="246e5-112">**Istanze di clustering di failover di SQL Server (AlwaysOn)**: due o più nodi che eseguono istanze di SQL Server con dischi condivisi vengono configurati in un cluster di failover di Windows.</span><span class="sxs-lookup"><span data-stu-id="246e5-112">**SQL Server Failover Clustering Instances (Always On FCI)**: Two or more nodes running SQL Server instanced with shared disks are configured in a Windows Failover cluster.</span></span> <span data-ttu-id="246e5-113">Se un nodo è inattivo, il cluster può effettuare il failover di SQL Server in un'altra istanza.</span><span class="sxs-lookup"><span data-stu-id="246e5-113">If a node is down, the cluster can fail SQL Server over to another instance.</span></span> <span data-ttu-id="246e5-114">Questa configurazione viene in genere usata per implementare la disponibilità elevata in un sito primario.</span><span class="sxs-lookup"><span data-stu-id="246e5-114">This setup is typically used to implement high availability at a primary site.</span></span> <span data-ttu-id="246e5-115">Questa distribuzione non offre la protezione da errori o interruzioni nel livello dell'archiviazione condivisa.</span><span class="sxs-lookup"><span data-stu-id="246e5-115">This deployment doesn't protect against failure or outage in the shared storage layer.</span></span> <span data-ttu-id="246e5-116">Un disco condiviso può essere implementato con iSCSI, Fibre Channel o VHDX condiviso.</span><span class="sxs-lookup"><span data-stu-id="246e5-116">A shared disk can be implemented using iSCSI, fiber channel or shared vhdx.</span></span>
* <span data-ttu-id="246e5-117">**Gruppi di disponibilità SQL AlwaysOn**: due o più nodi vengono configurati in un cluster non condiviso con i database SQL Server configurati in un gruppo di disponibilità con replica sincrona e failover automatico.</span><span class="sxs-lookup"><span data-stu-id="246e5-117">**SQL Always On Availability Groups**: Two or more nodes are set up in a shared nothing cluster, with SQL Server databases configured in an availability group, with synchronous replication and automatic failover.</span></span>

 <span data-ttu-id="246e5-118">Per ripristinare i database in un sito remoto, in questo articolo vengono sfruttate le tecnologie di ripristino di emergenza native di SQL riportate di seguito:</span><span class="sxs-lookup"><span data-stu-id="246e5-118">This article leverages the following native SQL disaster recovery technologies for recovering databases to a remote site:</span></span>

* <span data-ttu-id="246e5-119">Gruppi di disponibilità SQL AlwaysOn, per supportare il ripristino di emergenza per SQL Server 2012 o 2014 Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="246e5-119">SQL Always On Availability Groups, to provide for disaster recovery for SQL Server 2012 or 2014 Enterprise editions.</span></span>
* <span data-ttu-id="246e5-120">Mirroring del database SQL in modalità protezione elevata, per SQL Server Standard Edition (qualsiasi versione) o SQL Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="246e5-120">SQL database mirroring in high safety mode, for SQL Server Standard edition (any version), or for SQL Server 2008 R2.</span></span>

## <a name="site-recovery-support"></a><span data-ttu-id="246e5-121">Supporto di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="246e5-121">Site Recovery support</span></span>

### <a name="supported-scenarios"></a><span data-ttu-id="246e5-122">Scenari supportati</span><span class="sxs-lookup"><span data-stu-id="246e5-122">Supported scenarios</span></span>
<span data-ttu-id="246e5-123">Site Recovery può proteggere SQL Server, come riepilogato nella tabella.</span><span class="sxs-lookup"><span data-stu-id="246e5-123">Site Recovery can protect SQL Server as summarized in the table.</span></span>

<span data-ttu-id="246e5-124">**Scenario**</span><span class="sxs-lookup"><span data-stu-id="246e5-124">**Scenario**</span></span> | <span data-ttu-id="246e5-125">**In un sito secondario**</span><span class="sxs-lookup"><span data-stu-id="246e5-125">**To a secondary site**</span></span> | <span data-ttu-id="246e5-126">**In Azure**</span><span class="sxs-lookup"><span data-stu-id="246e5-126">**To Azure**</span></span>
--- | --- | ---
<span data-ttu-id="246e5-127">**Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="246e5-127">**Hyper-V**</span></span> | <span data-ttu-id="246e5-128">Sì</span><span class="sxs-lookup"><span data-stu-id="246e5-128">Yes</span></span> | <span data-ttu-id="246e5-129">Sì</span><span class="sxs-lookup"><span data-stu-id="246e5-129">Yes</span></span>
<span data-ttu-id="246e5-130">**VMware**</span><span class="sxs-lookup"><span data-stu-id="246e5-130">**VMware**</span></span> | <span data-ttu-id="246e5-131">Sì</span><span class="sxs-lookup"><span data-stu-id="246e5-131">Yes</span></span> | <span data-ttu-id="246e5-132">Sì</span><span class="sxs-lookup"><span data-stu-id="246e5-132">Yes</span></span>
<span data-ttu-id="246e5-133">**Server fisico**</span><span class="sxs-lookup"><span data-stu-id="246e5-133">**Physical server**</span></span> | <span data-ttu-id="246e5-134">Sì</span><span class="sxs-lookup"><span data-stu-id="246e5-134">Yes</span></span> | <span data-ttu-id="246e5-135">Sì</span><span class="sxs-lookup"><span data-stu-id="246e5-135">Yes</span></span>

### <a name="supported-sql-server-versions"></a><span data-ttu-id="246e5-136">Versioni di SQL Server supportate</span><span class="sxs-lookup"><span data-stu-id="246e5-136">Supported SQL Server versions</span></span>
<span data-ttu-id="246e5-137">Per gli scenari supportati, sono supportate le versioni di SQL Server seguenti:</span><span class="sxs-lookup"><span data-stu-id="246e5-137">These SQL Server versions are supported, for the supported scenarios:</span></span>

* <span data-ttu-id="246e5-138">SQL Server 2016 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-138">SQL Server 2016 Enterprise and Standard</span></span>
* <span data-ttu-id="246e5-139">SQL Server 2014 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-139">SQL Server 2014 Enterprise and Standard</span></span>
* <span data-ttu-id="246e5-140">SQL Server 2012 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-140">SQL Server 2012 Enterprise and Standard</span></span>
* <span data-ttu-id="246e5-141">SQL Server 2008 R2 Enterprise e Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-141">SQL Server 2008 R2 Enterprise and Standard</span></span>

### <a name="supported-sql-server-integration"></a><span data-ttu-id="246e5-142">Supporto dell'integrazione con SQL Server</span><span class="sxs-lookup"><span data-stu-id="246e5-142">Supported SQL Server integration</span></span>

<span data-ttu-id="246e5-143">Site Recovery può essere integrato con le tecnologie di continuità aziendale e ripristino di emergenza native di SQL Server riepilogate nella tabella per fornire una soluzione di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="246e5-143">Site Recovery can be integrated with native SQL Server BCDR technologies summarized in the table, to provide a disaster recovery solution.</span></span>

<span data-ttu-id="246e5-144">**Funzionalità**</span><span class="sxs-lookup"><span data-stu-id="246e5-144">**Feature**</span></span> | <span data-ttu-id="246e5-145">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="246e5-145">**Details**</span></span> | <span data-ttu-id="246e5-146">**SQL Server**</span><span class="sxs-lookup"><span data-stu-id="246e5-146">**SQL Server**</span></span> |
--- | --- | ---
<span data-ttu-id="246e5-147">**Gruppo di disponibilità AlwaysOn**</span><span class="sxs-lookup"><span data-stu-id="246e5-147">**Always On availability group**</span></span> | <span data-ttu-id="246e5-148">Ognuna delle istanze autonome multiple di SQL Server viene eseguita in un cluster di failover con più nodi.</span><span class="sxs-lookup"><span data-stu-id="246e5-148">Multiple standalone instances of SQL Server each run in a failover cluster that has multiple nodes.</span></span><br/><br/><span data-ttu-id="246e5-149">I database possono essere raggruppati in gruppi di failover che possono essere copiati (con mirroring) in istanze di SQL Server in modo che non sia necessaria alcuna archiviazione condivisa.</span><span class="sxs-lookup"><span data-stu-id="246e5-149">Databases can be grouped into failover groups that can be copied (mirrored) on SQL Server instances so that no shared storage is needed.</span></span><br/><br/><span data-ttu-id="246e5-150">Fornisce il ripristino di emergenza tra un sito primario e uno o più siti secondari.</span><span class="sxs-lookup"><span data-stu-id="246e5-150">Provides disaster recovery between a primary site and one or more secondary sites.</span></span> <span data-ttu-id="246e5-151">Due nodi possono essere configurati in un cluster non condiviso con i database di SQL Server configurati in un gruppo di disponibilità con replica sincrona e failover automatico.</span><span class="sxs-lookup"><span data-stu-id="246e5-151">Two nodes can be set up in a shared nothing cluster with SQL Server databases configured in an availability group with synchronous replication and automatic failover.</span></span> | <span data-ttu-id="246e5-152">SQL Server 2014 e 2012 Enterprise</span><span class="sxs-lookup"><span data-stu-id="246e5-152">SQL Server 2014 & 2012 Enterprise edition</span></span>
<span data-ttu-id="246e5-153">**Clustering di failover (istanza del cluster di failover AlwaysOn)**</span><span class="sxs-lookup"><span data-stu-id="246e5-153">**Failover clustering (Always On FCI)**</span></span> | <span data-ttu-id="246e5-154">SQL Server usa il clustering di failover di Windows per l'elevata disponibilità dei carichi di lavoro SQL Server locali.</span><span class="sxs-lookup"><span data-stu-id="246e5-154">SQL Server leverages Windows failover clustering for high availability of on-premises SQL Server workloads.</span></span><br/><br/><span data-ttu-id="246e5-155">I nodi che eseguono le istanze di SQL Server con dischi condivisi sono configurati in un cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="246e5-155">Nodes running instances of SQL Server with shared disks are configured in a failover cluster.</span></span> <span data-ttu-id="246e5-156">Se un'istanza non è attiva, il cluster esegue il failover in un'altra istanza.</span><span class="sxs-lookup"><span data-stu-id="246e5-156">If an instance is down the cluster fails over to different one.</span></span><br/><br/><span data-ttu-id="246e5-157">Il cluster non protegge da errori o interruzioni nell'archiviazione condivisa.</span><span class="sxs-lookup"><span data-stu-id="246e5-157">The cluster doesn't protect against failure or outages in shared storage.</span></span> <span data-ttu-id="246e5-158">Il disco condiviso può essere implementato con iSCSI, fibre channel o VHDX condivisi.</span><span class="sxs-lookup"><span data-stu-id="246e5-158">The shared disk can be implemented with iSCSI, fiber channel, or shared VHDXs.</span></span> | <span data-ttu-id="246e5-159">Edizioni SQL Server Enterprise</span><span class="sxs-lookup"><span data-stu-id="246e5-159">SQL Server Enterprise editions</span></span><br/><br/><span data-ttu-id="246e5-160">Edizione SQL Server Standard (limitata a soli due nodi)</span><span class="sxs-lookup"><span data-stu-id="246e5-160">SQL Server Standard edition (limited to two nodes only)</span></span>
<span data-ttu-id="246e5-161">**Mirroring del database (modalità di protezione elevata)**</span><span class="sxs-lookup"><span data-stu-id="246e5-161">**Database mirroring (high safety mode)**</span></span> | <span data-ttu-id="246e5-162">Protegge un singolo database in una singola copia secondaria.</span><span class="sxs-lookup"><span data-stu-id="246e5-162">Protects a single database to a single secondary copy.</span></span> <span data-ttu-id="246e5-163">Disponibile nelle modalità di replica a protezione elevata (sincrona) e a prestazione elevata (asincrona).</span><span class="sxs-lookup"><span data-stu-id="246e5-163">Available in both high safety (synchronous) and high performance (asynchronous) replication modes.</span></span> <span data-ttu-id="246e5-164">Non richiede un cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="246e5-164">Doesn’t require a failover cluster.</span></span> | <span data-ttu-id="246e5-165">SQL Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="246e5-165">SQL Server 2008 R2</span></span><br/><br/><span data-ttu-id="246e5-166">Tutte le edizioni di SQL Server Enterprise</span><span class="sxs-lookup"><span data-stu-id="246e5-166">SQL Server Enterprise all editions</span></span>
<span data-ttu-id="246e5-167">**SQL Server autonomo**</span><span class="sxs-lookup"><span data-stu-id="246e5-167">**Standalone SQL Server**</span></span> | <span data-ttu-id="246e5-168">SQL Server e il database si trovano in un singolo server (fisico o virtuale).</span><span class="sxs-lookup"><span data-stu-id="246e5-168">The SQL Server and database are hosted on a single server (physical or virtual).</span></span> <span data-ttu-id="246e5-169">Il clustering dell'host viene usato per la disponibilità elevata se il server è virtuale.</span><span class="sxs-lookup"><span data-stu-id="246e5-169">Host clustering is used for high availability if the server is virtual.</span></span> <span data-ttu-id="246e5-170">Nessuna disponibilità elevata a livello di guest.</span><span class="sxs-lookup"><span data-stu-id="246e5-170">No guest-level high availability.</span></span> | <span data-ttu-id="246e5-171">Edizione Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-171">Enterprise or Standard edition</span></span>

## <a name="deployment-recommendations"></a><span data-ttu-id="246e5-172">Indicazioni di distribuzione</span><span class="sxs-lookup"><span data-stu-id="246e5-172">Deployment recommendations</span></span>

<span data-ttu-id="246e5-173">Nella tabella seguente vengono riepilogate le indicazioni per l'integrazione delle tecnologie di continuità aziendale e ripristino di emergenza (BCDR) di SQL Server con Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="246e5-173">This table summarizes our recommendations for integrating SQL Server BCDR technologies with Site Recovery.</span></span>

| <span data-ttu-id="246e5-174">**Versione**</span><span class="sxs-lookup"><span data-stu-id="246e5-174">**Version**</span></span> | <span data-ttu-id="246e5-175">**Edizione**</span><span class="sxs-lookup"><span data-stu-id="246e5-175">**Edition**</span></span> | <span data-ttu-id="246e5-176">**Distribuzione**</span><span class="sxs-lookup"><span data-stu-id="246e5-176">**Deployment**</span></span> | <span data-ttu-id="246e5-177">**Da locale a locale**</span><span class="sxs-lookup"><span data-stu-id="246e5-177">**On-prem to on-prem**</span></span> | <span data-ttu-id="246e5-178">**Da locale ad Azure**</span><span class="sxs-lookup"><span data-stu-id="246e5-178">**On-prem to Azure**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="246e5-179">SQL Server 2014 o 2012</span><span class="sxs-lookup"><span data-stu-id="246e5-179">SQL Server 2014 or 2012</span></span> |<span data-ttu-id="246e5-180">Enterprise</span><span class="sxs-lookup"><span data-stu-id="246e5-180">Enterprise</span></span> |<span data-ttu-id="246e5-181">Istanza del cluster di failover</span><span class="sxs-lookup"><span data-stu-id="246e5-181">Failover cluster instance</span></span> |<span data-ttu-id="246e5-182">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="246e5-182">Always On availability groups</span></span> |<span data-ttu-id="246e5-183">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="246e5-183">Always On availability groups</span></span> |
|| <span data-ttu-id="246e5-184">Enterprise</span><span class="sxs-lookup"><span data-stu-id="246e5-184">Enterprise</span></span> |<span data-ttu-id="246e5-185">Gruppo di disponibilità AlwaysOn per la disponibilità elevata</span><span class="sxs-lookup"><span data-stu-id="246e5-185">Always On availability groups for high availability</span></span> |<span data-ttu-id="246e5-186">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="246e5-186">Always On availability groups</span></span> |<span data-ttu-id="246e5-187">Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="246e5-187">Always On availability groups</span></span> | |
|| <span data-ttu-id="246e5-188">Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-188">Standard</span></span> |<span data-ttu-id="246e5-189">Istanza del cluster di failover (FCI)</span><span class="sxs-lookup"><span data-stu-id="246e5-189">Failover cluster instance (FCI)</span></span> |<span data-ttu-id="246e5-190">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="246e5-190">Site Recovery replication with local mirror</span></span> |<span data-ttu-id="246e5-191">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="246e5-191">Site Recovery replication with local mirror</span></span> | |
|| <span data-ttu-id="246e5-192">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-192">Enterprise or Standard</span></span> |<span data-ttu-id="246e5-193">Autonoma</span><span class="sxs-lookup"><span data-stu-id="246e5-193">Standalone</span></span> |<span data-ttu-id="246e5-194">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="246e5-194">Site Recovery replication</span></span> |<span data-ttu-id="246e5-195">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="246e5-195">Site Recovery replication</span></span> | |
| <span data-ttu-id="246e5-196">SQL Server 2008 R2 o 2008</span><span class="sxs-lookup"><span data-stu-id="246e5-196">SQL Server 2008 R2 or 2008</span></span> |<span data-ttu-id="246e5-197">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-197">Enterprise or Standard</span></span> |<span data-ttu-id="246e5-198">Istanza del cluster di failover (FCI)</span><span class="sxs-lookup"><span data-stu-id="246e5-198">Failover cluster instance (FCI)</span></span> |<span data-ttu-id="246e5-199">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="246e5-199">Site Recovery replication with local mirror</span></span> |<span data-ttu-id="246e5-200">Replica di Site Recovery con mirror locale</span><span class="sxs-lookup"><span data-stu-id="246e5-200">Site Recovery replication with local mirror</span></span> |
|| <span data-ttu-id="246e5-201">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-201">Enterprise or Standard</span></span> |<span data-ttu-id="246e5-202">Autonoma</span><span class="sxs-lookup"><span data-stu-id="246e5-202">Standalone</span></span> |<span data-ttu-id="246e5-203">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="246e5-203">Site Recovery replication</span></span> |<span data-ttu-id="246e5-204">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="246e5-204">Site Recovery replication</span></span> | |
| <span data-ttu-id="246e5-205">SQL Server (qualsiasi versione)</span><span class="sxs-lookup"><span data-stu-id="246e5-205">SQL Server (Any version)</span></span> |<span data-ttu-id="246e5-206">Enterprise o Standard</span><span class="sxs-lookup"><span data-stu-id="246e5-206">Enterprise or Standard</span></span> |<span data-ttu-id="246e5-207">Istanza del cluster di failover: applicazione DTC</span><span class="sxs-lookup"><span data-stu-id="246e5-207">Failover cluster instance - DTC application</span></span> |<span data-ttu-id="246e5-208">Replica di Site Recovery</span><span class="sxs-lookup"><span data-stu-id="246e5-208">Site Recovery replication</span></span> |<span data-ttu-id="246e5-209">Non supportato</span><span class="sxs-lookup"><span data-stu-id="246e5-209">Not Supported</span></span> |

## <a name="deployment-prerequisites"></a><span data-ttu-id="246e5-210">Prerequisiti di distribuzione</span><span class="sxs-lookup"><span data-stu-id="246e5-210">Deployment prerequisites</span></span>

* <span data-ttu-id="246e5-211">Distribuzione di SQL Server locale che esegue una versione supportata di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="246e5-211">An on-premises SQL Server deployment, running a supported SQL Server version.</span></span> <span data-ttu-id="246e5-212">In genere è necessario anche Active Directory per il server SQL.</span><span class="sxs-lookup"><span data-stu-id="246e5-212">Typically, you also need Active Directory for your SQL server.</span></span>
* <span data-ttu-id="246e5-213">Requisiti per lo scenario che si vuole distribuire.</span><span class="sxs-lookup"><span data-stu-id="246e5-213">The requirements for the scenario you want to deploy.</span></span> <span data-ttu-id="246e5-214">Per altre informazioni sui requisiti per il supporto, vedere gli articoli relativi alla [replica in Azure](site-recovery-support-matrix-to-azure.md) e [in locale](site-recovery-support-matrix.md) e ai [prerequisiti per la distribuzione](site-recovery-prereq.md).</span><span class="sxs-lookup"><span data-stu-id="246e5-214">Learn more about support requirements for [replication to Azure](site-recovery-support-matrix-to-azure.md) and [on-premises](site-recovery-support-matrix.md), and [deployment prerequisites](site-recovery-prereq.md).</span></span>
* <span data-ttu-id="246e5-215">Per configurare il ripristino in Azure, eseguire lo strumento [Azure Virtual Machine Readiness Assessment](http://www.microsoft.com/download/details.aspx?id=40898) nelle macchine virtuali di SQL Server per verificare che siano compatibili con Azure e Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="246e5-215">To set up recovery in Azure, run the [Azure Virtual Machine Readiness Assessment](http://www.microsoft.com/download/details.aspx?id=40898) tool on your SQL Server virtual machines, to make sure they're compatible with Azure and Site Recovery.</span></span>

## <a name="set-up-active-directory"></a><span data-ttu-id="246e5-216">Configurare Active Directory</span><span class="sxs-lookup"><span data-stu-id="246e5-216">Set up Active Directory</span></span>

<span data-ttu-id="246e5-217">Per garantire la corretta esecuzione di SQL Server, configurare Active Directory nel sito di ripristino secondario.</span><span class="sxs-lookup"><span data-stu-id="246e5-217">Set up Active Directory, in the secondary recovery site, for SQL Server to run properly.</span></span>

* <span data-ttu-id="246e5-218">**Organizzazione di piccole dimensioni**: in presenza di un numero ridotto di applicazioni e di un singolo controller di dominio per il sito locale, se si vuole effettuare il failover dell'intero sito è consigliabile usare la replica di Site Recovery per replicare il controller di dominio nel data center secondario o in Azure.</span><span class="sxs-lookup"><span data-stu-id="246e5-218">**Small enterprise**—With a small number of applications, and single domain controller for the on-premises site, if you want to fail over the entire site, we recommend you use Site Recovery replication to replicate the domain controller to the secondary datacenter, or to Azure.</span></span>
* <span data-ttu-id="246e5-219">**Organizzazione di medie o grandi dimensioni**: se si hanno un numero elevato di applicazioni e una foresta Active Directory e si vuole effettuare il failover per applicazione o carico di lavoro, è consigliabile configurare un controller di dominio aggiuntivo nel data center secondario o in Azure.</span><span class="sxs-lookup"><span data-stu-id="246e5-219">**Medium to large enterprise**—If you have a large number of applications, an Active Directory forest, and you want to fail over by application or workload, we recommend you set up an additional domain controller in the secondary datacenter, or in Azure.</span></span> <span data-ttu-id="246e5-220">Se si usano gruppi di disponibilità AlwaysOn per il ripristino in un sito remoto, è consigliabile configurare un altro controller di dominio aggiuntivo nel sito secondario o in Azure, da usare per l'istanza di SQL Server ripristinata.</span><span class="sxs-lookup"><span data-stu-id="246e5-220">If you're using Always On availability groups to recover to a remote site, we recommend you set up another additional domain controller on the secondary site or in Azure, to use for the recovered SQL Server instance.</span></span>

<span data-ttu-id="246e5-221">Le istruzioni in questo articolo presuppongono che sia disponibile un controller di dominio nella posizione secondaria.</span><span class="sxs-lookup"><span data-stu-id="246e5-221">The instructions in this article presume that a domain controller is available in the secondary location.</span></span> <span data-ttu-id="246e5-222">[Altre informazioni](site-recovery-active-directory.md) sulla protezione di Active Directory con Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="246e5-222">[Read more](site-recovery-active-directory.md) about protecting Active Directory with Site Recovery.</span></span>


## <a name="integrate-with-sql-server-always-on-for-replication-to-azure"></a><span data-ttu-id="246e5-223">Eseguire l'integrazione con SQL Server AlwaysOn per la replica in Azure</span><span class="sxs-lookup"><span data-stu-id="246e5-223">Integrate with SQL Server Always On for replication to Azure</span></span>

<span data-ttu-id="246e5-224">È necessario eseguire queste operazioni:</span><span class="sxs-lookup"><span data-stu-id="246e5-224">Here's what you need to do:</span></span>

1. <span data-ttu-id="246e5-225">Importare gli script nell'account di Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="246e5-225">Import scripts into your Azure Automation account.</span></span> <span data-ttu-id="246e5-226">Sono inclusi gli script per il failover del gruppo di disponibilità SQL in una [macchina virtuale di Resource Manager](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAG.ps1) e una [macchina virtuale classica](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAGClassic.ps1).</span><span class="sxs-lookup"><span data-stu-id="246e5-226">This contains the scripts to failover SQL Availability Group in a [Resource Manager virtual machine](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAG.ps1) and a [Classic virtual machine](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAGClassic.ps1).</span></span>

    <span data-ttu-id="246e5-227">[![Distribuzione in Azure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span><span class="sxs-lookup"><span data-stu-id="246e5-227">[![Deploy to Azure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span></span>


1. <span data-ttu-id="246e5-228">Aggiungere ASR-SQL-FailoverAG come azione preliminare del primo gruppo del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="246e5-228">Add ASR-SQL-FailoverAG as a pre action of the first group of the recovery plan.</span></span>

1. <span data-ttu-id="246e5-229">Seguire le istruzioni disponibili nello script per creare una variabile di automazione in modo da specificare il nome dei gruppi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="246e5-229">Follow the instructions available in the script to create an automation variable to provide the name of the availability groups.</span></span>

### <a name="steps-to-do-a-test-failover"></a><span data-ttu-id="246e5-230">Passaggi per eseguire un failover di test</span><span class="sxs-lookup"><span data-stu-id="246e5-230">Steps to do a test failover</span></span>

<span data-ttu-id="246e5-231">SQL AlwaysOn non supporta il failover di test in modo nativo.</span><span class="sxs-lookup"><span data-stu-id="246e5-231">SQL Always On doesn’t natively support test failover.</span></span> <span data-ttu-id="246e5-232">È quindi consigliabile eseguire queste operazioni:</span><span class="sxs-lookup"><span data-stu-id="246e5-232">Therefore, we recommend the following:</span></span>

1. <span data-ttu-id="246e5-233">Configurare [Backup di Azure](../backup/backup-azure-vms.md) nella macchina virtuale che ospita la replica del gruppo di disponibilità in Azure.</span><span class="sxs-lookup"><span data-stu-id="246e5-233">Set up [Azure Backup](../backup/backup-azure-vms.md) on the virtual machine that hosts the availability group replica in Azure.</span></span>

1. <span data-ttu-id="246e5-234">Prima di attivare il failover di test del piano di ripristino, ripristinare la macchina virtuale dal backup creato nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="246e5-234">Before triggering test failover of the recovery plan, recover the virtual machine from the backup taken in the previous step.</span></span>

    ![<span data-ttu-id="246e5-235">Eseguire il ripristino da Backup di Azure</span><span class="sxs-lookup"><span data-stu-id="246e5-235">Restore from Azure Backup</span></span> ](./media/site-recovery-sql/restore-from-backup.png)

1. <span data-ttu-id="246e5-236">[Forzare un quorum](https://docs.microsoft.com/sql/sql-server/failover-clusters/windows/force-a-wsfc-cluster-to-start-without-a-quorum#PowerShellProcedure) nella macchina virtuale ripristinata dal backup.</span><span class="sxs-lookup"><span data-stu-id="246e5-236">[Force a quorum](https://docs.microsoft.com/sql/sql-server/failover-clusters/windows/force-a-wsfc-cluster-to-start-without-a-quorum#PowerShellProcedure) in the virtual machine restored from backup.</span></span>

1. <span data-ttu-id="246e5-237">Aggiornare l'indirizzo IP del listener a un indirizzo IP disponibile nella rete di failover di test.</span><span class="sxs-lookup"><span data-stu-id="246e5-237">Update IP of the listener to an IP available in the test failover network.</span></span>

    ![Aggiornare l'indirizzo IP del listener](./media/site-recovery-sql/update-listener-ip.png)

1. <span data-ttu-id="246e5-239">Portare online il listener.</span><span class="sxs-lookup"><span data-stu-id="246e5-239">Bring listener online.</span></span>

    ![Portare online il listener](./media/site-recovery-sql/bring-listener-online.png)

1. <span data-ttu-id="246e5-241">Creare un servizio di bilanciamento del carico con un indirizzo IP creato nel pool di indirizzi IP front-end corrispondente al listener di ogni gruppo di disponibilità e con la macchina virtuale SQL aggiunta nel pool back-end.</span><span class="sxs-lookup"><span data-stu-id="246e5-241">Create a load balancer with one IP created under frontend IP pool corresponding to each availability group listener and with the SQL virtual machine added in the backend pool.</span></span>

     ![<span data-ttu-id="246e5-242">Creazione del servizio di bilanciamento del carico - Pool di indirizzi front-end</span><span class="sxs-lookup"><span data-stu-id="246e5-242">Create Load Balancer - Frontend IP pool</span></span> ](./media/site-recovery-sql/create-load-balancer1.png)

    ![<span data-ttu-id="246e5-243">Creazione del servizio di bilanciamento del carico - Pool back-end</span><span class="sxs-lookup"><span data-stu-id="246e5-243">Create Load Balancer - Backend pool</span></span> ](./media/site-recovery-sql/create-load-balancer2.png)

1. <span data-ttu-id="246e5-244">Effettuare un failover di test del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="246e5-244">Do a test failover of the recovery plan.</span></span>

### <a name="steps-to-do-a-failover"></a><span data-ttu-id="246e5-245">Passaggi per eseguire un failover</span><span class="sxs-lookup"><span data-stu-id="246e5-245">Steps to do a failover</span></span>

<span data-ttu-id="246e5-246">Dopo aver aggiunto lo script nel piano di ripristino e aver convalidato il piano di ripristino tramite un failover di test, è possibile eseguire il failover del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="246e5-246">Once you have added the script in the recovery plan and validated the recovery plan by doing a test failover, you can do failover of the recovery plan.</span></span>


## <a name="integrate-with-sql-server-always-on-for-replication-to-a-secondary-on-premises-site"></a><span data-ttu-id="246e5-247">Eseguire l'integrazione con SQL Server AlwaysOn per la replica in un sito secondario locale</span><span class="sxs-lookup"><span data-stu-id="246e5-247">Integrate with SQL Server Always On for replication to a secondary on-premises site</span></span>

<span data-ttu-id="246e5-248">Se SQL Server usa gruppi di disponibilità per la disponibilità elevata o un'istanza di clustering di failover, è consigliabile usare gruppi di disponibilità anche nel sito di ripristino.</span><span class="sxs-lookup"><span data-stu-id="246e5-248">If the SQL Server is using availability groups for high availability (or an FCI), we recommend using availability groups on the recovery site as well.</span></span> <span data-ttu-id="246e5-249">Si noti che ciò si applica alle app che non usano transazioni distribuite.</span><span class="sxs-lookup"><span data-stu-id="246e5-249">Note that this applies to apps that don't use distributed transactions.</span></span>

1. <span data-ttu-id="246e5-250">[Configurare i database](https://msdn.microsoft.com/library/hh213078.aspx) in gruppi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="246e5-250">[Configure databases](https://msdn.microsoft.com/library/hh213078.aspx) into availability groups.</span></span>
1. <span data-ttu-id="246e5-251">Creare una rete virtuale nel sito secondario.</span><span class="sxs-lookup"><span data-stu-id="246e5-251">Create a virtual network on the secondary site.</span></span>
1. <span data-ttu-id="246e5-252">Configurare una connessione VPN da sito a sito tra la rete virtuale e il sito primario.</span><span class="sxs-lookup"><span data-stu-id="246e5-252">Set up a site-to-site VPN connection between the virtual network, and the primary site.</span></span>
1. <span data-ttu-id="246e5-253">Creare una macchina virtuale nel sito di ripristino e installarvi SQL Server.</span><span class="sxs-lookup"><span data-stu-id="246e5-253">Create a virtual machine on the recovery site, and install SQL Server on it.</span></span>
1. <span data-ttu-id="246e5-254">Estendere i gruppi di disponibilità AlwaysOn esistenti alla nuova VM di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="246e5-254">Extend the existing Always On availability groups to the new SQL Server VM.</span></span> <span data-ttu-id="246e5-255">Configurare l'istanza di SQL Server come una copia di replica asincrona.</span><span class="sxs-lookup"><span data-stu-id="246e5-255">Configure this SQL Server instance as an asynchronous replica copy.</span></span>
1. <span data-ttu-id="246e5-256">Creare un listener del gruppo di disponibilità o aggiornare il listener esistente per includere la macchina virtuale di replica asincrona.</span><span class="sxs-lookup"><span data-stu-id="246e5-256">Create an availability group listener, or update the existing listener to include the asynchronous replica virtual machine.</span></span>
1. <span data-ttu-id="246e5-257">Verificare che la farm dell'applicazione sia configurata con il listener.</span><span class="sxs-lookup"><span data-stu-id="246e5-257">Make sure that the application farm is set up using the listener.</span></span> <span data-ttu-id="246e5-258">Se è configurata con il nome del server di database, aggiornarla per usare il listener in modo che non debba essere riconfigurata dopo il failover.</span><span class="sxs-lookup"><span data-stu-id="246e5-258">If it's setup up using the database server name, update it to use the listener, so you don't need to reconfigure it after the failover.</span></span>

<span data-ttu-id="246e5-259">Per le applicazioni che usano transazioni distribuite, è consigliabile distribuire Site Recovery con la [replica da sito a sito di VM VMware/server fisici](site-recovery-vmware-to-vmware.md).</span><span class="sxs-lookup"><span data-stu-id="246e5-259">For applications that use distributed transactions, we recommend you deploy Site Recovery with [VMware/physical server site-to-site replication](site-recovery-vmware-to-vmware.md).</span></span>

### <a name="recovery-plan-considerations"></a><span data-ttu-id="246e5-260">Considerazioni sul piano di ripristino</span><span class="sxs-lookup"><span data-stu-id="246e5-260">Recovery plan considerations</span></span>
1. <span data-ttu-id="246e5-261">Aggiungere questo script di esempio alla libreria VMM nei siti primari e secondari.</span><span class="sxs-lookup"><span data-stu-id="246e5-261">Add this sample script to the VMM library, on the primary and secondary sites.</span></span>

        Param(
        [string]$SQLAvailabilityGroupPath
        )
        import-module sqlps
        Switch-SqlAvailabilityGroup -Path $SQLAvailabilityGroupPath -AllowDataLoss -force

1. <span data-ttu-id="246e5-262">Quando si crea un piano di ripristino per l'applicazione, aggiungere un'azione preliminare al passaggio di script Group-1 che richiami lo script per eseguire il failover dei gruppi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="246e5-262">When you create a recovery plan for the application, add a pre action to Group-1 scripted step, that invokes the script to fail over availability groups.</span></span>

## <a name="protect-a-standalone-sql-server"></a><span data-ttu-id="246e5-263">Proteggere un'istanza di SQL Server autonoma</span><span class="sxs-lookup"><span data-stu-id="246e5-263">Protect a standalone SQL Server</span></span>

<span data-ttu-id="246e5-264">In questo scenario, è consigliabile usare la replica di Site Recovery per proteggere il computer SQL Server.</span><span class="sxs-lookup"><span data-stu-id="246e5-264">In this scenario, we recommend that you use Site Recovery replication to protect the SQL Server machine.</span></span> <span data-ttu-id="246e5-265">La procedura esatta varia a seconda che SQL Server sia configurato come VM o server fisico e che si voglia eseguire la replica in Azure o in un sito secondario locale.</span><span class="sxs-lookup"><span data-stu-id="246e5-265">The exact steps will depend whether SQL Server is a VM or a physical server, and whether you want to replicate to Azure or a secondary on-premises site.</span></span> <span data-ttu-id="246e5-266">Vedere l'articolo relativo agli [scenari di Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="246e5-266">Learn about [Site Recovery scenarios](site-recovery-overview.md).</span></span>

## <a name="protect-a-sql-server-cluster-standard-editionwindows-server-2008-r2"></a><span data-ttu-id="246e5-267">Proteggere un cluster SQL Server (Standard Edition/Windows Server 2008 R2)</span><span class="sxs-lookup"><span data-stu-id="246e5-267">Protect a SQL Server cluster (standard edition/Windows Server 2008 R2)</span></span>

<span data-ttu-id="246e5-268">Per un cluster che esegue SQL Server Standard Edition o SQL Server 2008 R2, è consigliabile usare la replica di Site Recovery per proteggere SQL Server.</span><span class="sxs-lookup"><span data-stu-id="246e5-268">For a cluster running SQL Server Standard edition, or SQL Server 2008 R2, we recommend you use Site Recovery replication to protect SQL Server.</span></span>

### <a name="on-premises-to-on-premises"></a><span data-ttu-id="246e5-269">Da sito locale a sito locale</span><span class="sxs-lookup"><span data-stu-id="246e5-269">On-premises to on-premises</span></span>

* <span data-ttu-id="246e5-270">Se l'app usa transazioni distribuite, è consigliabile distribuire [Site Recovery con la replica SAN](site-recovery-vmm-san.md) per un ambiente Hyper-V oppure la replica da [server fisico/VMware a VMware](site-recovery-vmware-to-vmware.md) per un ambiente VMware.</span><span class="sxs-lookup"><span data-stu-id="246e5-270">If the app uses distributed transactions we recommend you deploy [Site Recovery with SAN replication](site-recovery-vmm-san.md) for a Hyper-V environment, or [VMware/physical server to VMware](site-recovery-vmware-to-vmware.md) for a VMware environment.</span></span>
* <span data-ttu-id="246e5-271">Per le applicazioni non DTC, usare l'approccio precedente per ripristinare il cluster come un server autonomo sfruttando un mirror del database a protezione elevata locale.</span><span class="sxs-lookup"><span data-stu-id="246e5-271">For non-DTC applications, use the above approach to recover the cluster as a standalone server, by leveraging a local high safety DB mirror.</span></span>

### <a name="on-premises-to-azure"></a><span data-ttu-id="246e5-272">Da sito locale ad Azure</span><span class="sxs-lookup"><span data-stu-id="246e5-272">On-premises to Azure</span></span>

<span data-ttu-id="246e5-273">Site Recovery non offre il supporto di cluster guest durante la replica in Azure.</span><span class="sxs-lookup"><span data-stu-id="246e5-273">Site Recovery doesn't provide guest cluster support when replicating to Azure.</span></span> <span data-ttu-id="246e5-274">Inoltre, SQL Server non fornisce una soluzione di ripristino di emergenza a costo contenuto per l'edizione Standard.</span><span class="sxs-lookup"><span data-stu-id="246e5-274">SQL Server also doesn't provide a low-cost disaster recovery solution for Standard edition.</span></span> <span data-ttu-id="246e5-275">In questo scenario, è consigliabile proteggere il cluster SQL Server locale in un'istanza di SQL Server autonoma e ripristinarlo in Azure.</span><span class="sxs-lookup"><span data-stu-id="246e5-275">In this scenario, we recommend you protect the on-premises SQL Server cluster to a standalone SQL Server, and recover it in Azure.</span></span>

1. <span data-ttu-id="246e5-276">Configurare un'istanza di SQL Server autonoma aggiuntiva nel sito locale.</span><span class="sxs-lookup"><span data-stu-id="246e5-276">Configure an additional standalone SQL Server instance on the on-premises site.</span></span>
1. <span data-ttu-id="246e5-277">Configurare l'istanza in modo che funga da mirror per i database da proteggere.</span><span class="sxs-lookup"><span data-stu-id="246e5-277">Configure the instance to serve as a mirror for the databases you want to protect.</span></span> <span data-ttu-id="246e5-278">Configurare il mirroring in modalità protezione elevata.</span><span class="sxs-lookup"><span data-stu-id="246e5-278">Configure mirroring in high safety mode.</span></span>
1. <span data-ttu-id="246e5-279">Configurare Site Recovery nel sito locale, per [Hyper-V](site-recovery-hyper-v-site-to-azure.md) o [VM VMware/server fisici](site-recovery-vmware-to-azure-classic.md).</span><span class="sxs-lookup"><span data-stu-id="246e5-279">Configure Site Recovery on the on-premises site, for ([Hyper-V](site-recovery-hyper-v-site-to-azure.md) or [VMware VMs/physical servers)](site-recovery-vmware-to-azure-classic.md).</span></span>
1. <span data-ttu-id="246e5-280">Usare la replica di Site Recovery per eseguire la replica della nuova istanza di SQL Server in Azure.</span><span class="sxs-lookup"><span data-stu-id="246e5-280">Use Site Recovery replication to replicate the new SQL Server instance to Azure.</span></span> <span data-ttu-id="246e5-281">Trattandosi di una copia mirror a protezione elevata, verrà sincronizzata con il cluster primario, ma verrà replicata in Azure con la replica di Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="246e5-281">Since it's a high safety mirror copy, it will be synchronized with the primary cluster, but it will be replicated to Azure using Site Recovery replication.</span></span>


![Cluster standard](./media/site-recovery-sql/standalone-cluster-local.png)

### <a name="failback-considerations"></a><span data-ttu-id="246e5-283">Considerazioni sul failback</span><span class="sxs-lookup"><span data-stu-id="246e5-283">Failback considerations</span></span>

<span data-ttu-id="246e5-284">Per i cluster SQL Server Standard, il failback dopo un failover non pianificato richiede un backup e un ripristino di SQL Server dall'istanza del mirror al cluster originale, con ridefinizione del mirror.</span><span class="sxs-lookup"><span data-stu-id="246e5-284">For SQL Server Standard clusters, failback after an unplanned failover requires a SQL server backup and restore, from the mirror instance to the original cluster, with reestablishment of the mirror.</span></span>

## <a name="next-steps"></a><span data-ttu-id="246e5-285">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="246e5-285">Next steps</span></span>
<span data-ttu-id="246e5-286">[Altre informazioni](site-recovery-components.md) sull'architettura di Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="246e5-286">[Learn more](site-recovery-components.md) about Site Recovery architecture.</span></span>
