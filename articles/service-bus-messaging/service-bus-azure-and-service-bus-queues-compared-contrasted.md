---
title: Code di archiviazione di Azure e code del bus di servizio - Analogie e differenze | Microsoft Docs
description: Analizza i punti in comune e le differenze tra i due tipi di code offerti da Azure.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: tysonn
ms.assetid: f07301dc-ca9b-465c-bd5b-a0f99bab606b
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/07/2017
ms.author: sethm
ms.openlocfilehash: 555759073507219188b59af76a82be74b112c57c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="storage-queues-and-service-bus-queues---compared-and-contrasted"></a><span data-ttu-id="6123b-103">Analogie e differenze tra le code di archiviazione e le code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-103">Storage queues and Service Bus queues - compared and contrasted</span></span>
<span data-ttu-id="6123b-104">Questo articolo analizza le differenze e le analogie presenti tra i due tipi di code offerte attualmente da Microsoft Azure: code di archiviazione e code del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-104">This article analyzes the differences and similarities between the two types of queues offered by Microsoft Azure today: Storage queues and Service Bus queues.</span></span> <span data-ttu-id="6123b-105">Grazie a queste informazioni, è possibile confrontare e contrapporre le rispettive tecnologie ed essere quindi in grado di fare una scelta più oculata riguardo alla soluzione che soddisfa meglio le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="6123b-105">By using this information, you can compare and contrast the respective technologies and be able to make a more informed decision about which solution best meets your needs.</span></span>

## <a name="introduction"></a><span data-ttu-id="6123b-106">Introduzione</span><span class="sxs-lookup"><span data-stu-id="6123b-106">Introduction</span></span>
<span data-ttu-id="6123b-107">Azure supporta due tipi di meccanismi di code: **code di archiviazione** e **code del bus di servizio**.</span><span class="sxs-lookup"><span data-stu-id="6123b-107">Azure supports two types of queue mechanisms: **Storage queues** and **Service Bus queues**.</span></span>

<span data-ttu-id="6123b-108">Le **code di archiviazione**, che fanno parte dell'infrastruttura di [Archiviazione di Azure](https://azure.microsoft.com/services/storage/), offrono una semplice interfaccia per operazioni di ricezione/inserimento/visualizzazione basata su REST, che determina una messaggistica affidabile e persistente all'interno di un servizio e tra i servizi.</span><span class="sxs-lookup"><span data-stu-id="6123b-108">**Storage queues**, which are part of the [Azure storage](https://azure.microsoft.com/services/storage/) infrastructure, feature a simple REST-based GET/PUT/PEEK interface, providing reliable, persistent messaging within and between services.</span></span>

<span data-ttu-id="6123b-109">Le **code del bus di servizio** fanno parte di un'infrastruttura di [messaggistica di Azure](https://azure.microsoft.com/services/service-bus/) più ampia che supporta accodamento, pubblicazione/sottoscrizione e modelli di integrazione più avanzati.</span><span class="sxs-lookup"><span data-stu-id="6123b-109">**Service Bus queues** are part of a broader [Azure messaging](https://azure.microsoft.com/services/service-bus/) infrastructure that supports queuing as well as publish/subscribe, and more advanced integration patterns.</span></span> <span data-ttu-id="6123b-110">Per altre informazioni su code, argomenti e sottoscrizioni del bus di servizio, vedere la [panoramica del bus di servizio](service-bus-messaging-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6123b-110">For more information about Service Bus queues/topics/subscriptions, see the [overview of Service Bus](service-bus-messaging-overview.md).</span></span>

<span data-ttu-id="6123b-111">Anche se entrambe le tecnologie di accodamento sono disponibili contemporaneamente, le code di archiviazione sono state introdotte per prime, come meccanismo dedicato di archiviazione code basato sui servizi di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="6123b-111">While both queuing technologies exist concurrently, Storage queues were introduced first, as a dedicated queue storage mechanism built on top of Azure Storage services.</span></span> <span data-ttu-id="6123b-112">Le code del bus di servizio sono basate sulla più ampia infrastruttura di "messaggistica" progettata per integrare applicazioni e componenti delle applicazioni che usano più protocolli di comunicazione, contratti dati, domini di trust e/o ambienti di rete.</span><span class="sxs-lookup"><span data-stu-id="6123b-112">Service Bus queues are built on top of the broader "messaging" infrastructure designed to integrate applications or application components that may span multiple communication protocols, data contracts, trust domains, and/or network environments.</span></span>

## <a name="technology-selection-considerations"></a><span data-ttu-id="6123b-113">Considerazioni sulla selezione della tecnologia</span><span class="sxs-lookup"><span data-stu-id="6123b-113">Technology selection considerations</span></span>
<span data-ttu-id="6123b-114">Sia le code di archiviazione sia le code del bus di servizio sono implementazioni del servizio di accodamento messaggi attualmente disponibile in Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="6123b-114">Both Storage queues and Service Bus queues are implementations of the message queuing service currently offered on Microsoft Azure.</span></span> <span data-ttu-id="6123b-115">Ogni tecnologia presenta un set di funzionalità leggermente diverso, pertanto è possibile scegliere l'una o l'altra, o entrambe, a seconda delle esigenze della particolare soluzione in uso o di un problema aziendale o tecnico da risolvere.</span><span class="sxs-lookup"><span data-stu-id="6123b-115">Each has a slightly different feature set, which means you can choose one or the other, or use both, depending on the needs of your particular solution or business/technical problem you are solving.</span></span>

<span data-ttu-id="6123b-116">Quando si stabilisce la tecnologia di accodamento che soddisfa lo scopo di una determinata soluzione, è consigliabile che gli architetti e gli sviluppatori di soluzioni tengano in considerazione le indicazioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="6123b-116">When determining which queuing technology fits the purpose for a given solution, solution architects and developers should consider the recommendations below.</span></span> <span data-ttu-id="6123b-117">Per altri dettagli, vedere la sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="6123b-117">For more details, see the next section.</span></span>

<span data-ttu-id="6123b-118">Gli architetti e gli sviluppatori di soluzioni **dovrebbero considerare l'uso delle code di Azure** quando:</span><span class="sxs-lookup"><span data-stu-id="6123b-118">As a solution architect/developer, **you should consider using Storage queues** when:</span></span>

* <span data-ttu-id="6123b-119">L'applicazione deve archiviare in una coda oltre 80 GB di messaggi la cui durata è inferiore a 7 giorni.</span><span class="sxs-lookup"><span data-stu-id="6123b-119">Your application must store over 80 GB of messages in a queue, where the messages have a lifetime shorter than 7 days.</span></span>
* <span data-ttu-id="6123b-120">L'applicazione deve tenere traccia dello stato dell'elaborazione di un messaggio all'interno della coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-120">Your application wants to track progress for processing a message inside of the queue.</span></span> <span data-ttu-id="6123b-121">Ciò si rivela utile se si verifica un arresto anomalo del processo di lavoro tramite cui si elabora il messaggio.</span><span class="sxs-lookup"><span data-stu-id="6123b-121">This is useful if the worker processing a message crashes.</span></span> <span data-ttu-id="6123b-122">Queste informazioni possono quindi essere usate in un processo di lavoro successivo per continuare dal punto in cui è stato interrotto il processo di lavoro precedente.</span><span class="sxs-lookup"><span data-stu-id="6123b-122">A subsequent worker can then use that information to continue from where the prior worker left off.</span></span>
* <span data-ttu-id="6123b-123">Sono necessari i log sul lato server di tutte le transazioni eseguite nelle code.</span><span class="sxs-lookup"><span data-stu-id="6123b-123">You require server side logs of all of the transactions executed against your queues.</span></span>

<span data-ttu-id="6123b-124">Gli architetti e gli sviluppatori di soluzioni **dovrebbero considerare l'uso delle code del bus di servizio** quando:</span><span class="sxs-lookup"><span data-stu-id="6123b-124">As a solution architect/developer, **you should consider using Service Bus queues** when:</span></span>

* <span data-ttu-id="6123b-125">La soluzione deve essere in grado di ricevere messaggi senza dover eseguire il polling della coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-125">Your solution must be able to receive messages without having to poll the queue.</span></span> <span data-ttu-id="6123b-126">Con il bus di servizio, è possibile ottenere questo risultato mediante l'operazione di ricezione con polling prolungato che usa i protocolli basati su TCP supportati dal bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-126">With Service Bus, this can be achieved through the use of the long-polling receive operation using the TCP-based protocols that Service Bus supports.</span></span>
* <span data-ttu-id="6123b-127">La soluzione deve garantire il recapito ordinato FIFO (First In First Out) da parte della coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-127">Your solution requires the queue to provide a guaranteed first-in-first-out (FIFO) ordered delivery.</span></span>
* <span data-ttu-id="6123b-128">Si vuole una configurazione simmetrica in Azure e su Windows Server (cloud privato).</span><span class="sxs-lookup"><span data-stu-id="6123b-128">You want a symmetric experience in Azure and on Windows Server (private cloud).</span></span> <span data-ttu-id="6123b-129">Per altre informazioni, vedere [Bus di servizio per Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span><span class="sxs-lookup"><span data-stu-id="6123b-129">For more information, see [Service Bus for Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span></span>
* <span data-ttu-id="6123b-130">La soluzione deve essere in grado di eseguire il rilevamento duplicato automatico.</span><span class="sxs-lookup"><span data-stu-id="6123b-130">Your solution must be able to support automatic duplicate detection.</span></span>
* <span data-ttu-id="6123b-131">L'applicazione deve elaborare i messaggi come flussi paralleli a esecuzione prolungata (i messaggi sono associati a un flusso tramite la proprietà [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) del messaggio).</span><span class="sxs-lookup"><span data-stu-id="6123b-131">You want your application to process messages as parallel long-running streams (messages are associated with a stream using the [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on the message).</span></span> <span data-ttu-id="6123b-132">In questo modello ogni nodo dell'applicazione che utilizza il servizio entra in competizione con gli altri nodi per l'acquisizione dei flussi anziché dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="6123b-132">In this model, each node in the consuming application competes for streams, as opposed to messages.</span></span> <span data-ttu-id="6123b-133">Quando un flusso viene assegnato a un nodo basato sul servizio, tale nodo può esaminare lo stato del flusso dell'applicazione mediante transazioni.</span><span class="sxs-lookup"><span data-stu-id="6123b-133">When a stream is given to a consuming node, the node can examine the state of the application stream state using transactions.</span></span>
* <span data-ttu-id="6123b-134">Per la soluzione sono necessari atomicità e comportamento transazionale in caso di invio o ricezione di più messaggi da una coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-134">Your solution requires transactional behavior and atomicity when sending or receiving multiple messages from a queue.</span></span>
* <span data-ttu-id="6123b-135">La caratteristica relativa alla durata (TTL) del carico di lavoro specifico dell'applicazione può superare il periodo di 7 giorni.</span><span class="sxs-lookup"><span data-stu-id="6123b-135">The time-to-live (TTL) characteristic of the application-specific workload can exceed the 7-day period.</span></span>
* <span data-ttu-id="6123b-136">L'applicazione gestisce messaggi che possono superare i 64 KB ma che probabilmente non si avvicineranno al limite dei 256 KB</span><span class="sxs-lookup"><span data-stu-id="6123b-136">Your application handles messages that can exceed 64 KB but will not likely approach the 256 KB limit.</span></span>
* <span data-ttu-id="6123b-137">È necessario fornire un modello di accesso basato sui ruoli alle code e autorizzazioni/diritti diversi per mittenti e destinatari.</span><span class="sxs-lookup"><span data-stu-id="6123b-137">You deal with a requirement to provide a role-based access model to the queues, and different rights/permissions for senders and receivers.</span></span>
* <span data-ttu-id="6123b-138">Le dimensioni della coda non supereranno gli 80 GB.</span><span class="sxs-lookup"><span data-stu-id="6123b-138">Your queue size will not grow larger than 80 GB.</span></span>
* <span data-ttu-id="6123b-139">Si vuole usare il protocollo di messaggistica basato sugli standard AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="6123b-139">You want to use the AMQP 1.0 standards-based messaging protocol.</span></span> <span data-ttu-id="6123b-140">Per altre informazioni su AMQP, vedere [Panoramica di AMQP per il bus di servizio](service-bus-amqp-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6123b-140">For more information about AMQP, see [Service Bus AMQP Overview](service-bus-amqp-overview.md).</span></span>
* <span data-ttu-id="6123b-141">È possibile prevedere un'eventuale migrazione dalla comunicazione punto a punto basata sulla coda a un modello di scambio dei messaggi mediante il quale viene garantita un'integrazione continua di destinatari aggiuntivi (sottoscrittori), mediante ognuno dei quali vengono ricevute copie separate di alcuni o di tutti i messaggi inviati alla coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-141">You can envision an eventual migration from queue-based point-to-point communication to a message exchange pattern that enables seamless integration of additional receivers (subscribers), each of which receives independent copies of either some or all messages sent to the queue.</span></span> <span data-ttu-id="6123b-142">Quest'ultima viene definita funzionalità di pubblicazione/sottoscrizione a livello nativo fornita dal bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-142">The latter refers to the publish/subscribe capability natively provided by Service Bus.</span></span>
* <span data-ttu-id="6123b-143">La soluzione di messaggistica deve garantire il recapito "At-Most-Once" senza che sia necessario sviluppare i componenti aggiuntivi dell'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="6123b-143">Your messaging solution must be able to support the "At-Most-Once" delivery guarantee without the need for you to build the additional infrastructure components.</span></span>
* <span data-ttu-id="6123b-144">Si desidera essere in grado di pubblicare e usare batch di messaggi.</span><span class="sxs-lookup"><span data-stu-id="6123b-144">You would like to be able to publish and consume batches of messages.</span></span>

## <a name="comparing-storage-queues-and-service-bus-queues"></a><span data-ttu-id="6123b-145">Confronto tra code di archiviazione e code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-145">Comparing Storage queues and Service Bus queues</span></span>
<span data-ttu-id="6123b-146">Le tabelle nelle sezioni seguenti forniscono un raggruppamento logico delle funzionalità relative alle code e offrono la possibilità di un confronto immediato delle funzionalità disponibili sia nelle code di archiviazione sia in quelle del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-146">The tables in the following sections provide a logical grouping of queue features and let you compare, at a glance, the capabilities available in both Storage queues and Service Bus queues.</span></span>

## <a name="foundational-capabilities"></a><span data-ttu-id="6123b-147">Funzionalità fondamentali</span><span class="sxs-lookup"><span data-stu-id="6123b-147">Foundational capabilities</span></span>
<span data-ttu-id="6123b-148">Questa sezione confronta alcune delle funzionalità di accodamento fondamentali fornite dalle code di archiviazione e dalle code del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-148">This section compares some of the fundamental queuing capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6123b-149">Criteri di confronto</span><span class="sxs-lookup"><span data-stu-id="6123b-149">Comparison Criteria</span></span> | <span data-ttu-id="6123b-150">Code di archiviazione</span><span class="sxs-lookup"><span data-stu-id="6123b-150">Storage queues</span></span> | <span data-ttu-id="6123b-151">Code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-151">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6123b-152">Garanzia di ordinamento</span><span class="sxs-lookup"><span data-stu-id="6123b-152">Ordering guarantee</span></span> |<span data-ttu-id="6123b-153">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-153">**No**</span></span> <br/><br><span data-ttu-id="6123b-154">Per altre informazioni, vedere la prima nota della sezione "Informazioni aggiuntive".</span><span class="sxs-lookup"><span data-stu-id="6123b-154">For more information, see the first note in the “Additional Information” section.</span></span></br> |<span data-ttu-id="6123b-155">**Sì - First-In-First-Out (FIFO)**</span><span class="sxs-lookup"><span data-stu-id="6123b-155">**Yes - First-In-First-Out (FIFO)**</span></span><br/><br><span data-ttu-id="6123b-156">(tramite l'uso di sessioni di messaggistica)</span><span class="sxs-lookup"><span data-stu-id="6123b-156">(through the use of messaging sessions)</span></span> |
| <span data-ttu-id="6123b-157">Garanzia di recapito</span><span class="sxs-lookup"><span data-stu-id="6123b-157">Delivery guarantee</span></span> |<span data-ttu-id="6123b-158">**At-Least-Once**</span><span class="sxs-lookup"><span data-stu-id="6123b-158">**At-Least-Once**</span></span> |<span data-ttu-id="6123b-159">**At-Least-Once**</span><span class="sxs-lookup"><span data-stu-id="6123b-159">**At-Least-Once**</span></span><br/><br/><span data-ttu-id="6123b-160">**At-Most-Once**</span><span class="sxs-lookup"><span data-stu-id="6123b-160">**At-Most-Once**</span></span> |
| <span data-ttu-id="6123b-161">Supporto per l'operazione atomica</span><span class="sxs-lookup"><span data-stu-id="6123b-161">Atomic operation support</span></span> |<span data-ttu-id="6123b-162">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-162">**No**</span></span> |<span data-ttu-id="6123b-163">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-163">**Yes**</span></span><br/><br/> |
| <span data-ttu-id="6123b-164">Comportamento di ricezione</span><span class="sxs-lookup"><span data-stu-id="6123b-164">Receive behavior</span></span> |<span data-ttu-id="6123b-165">**Non-blocking**</span><span class="sxs-lookup"><span data-stu-id="6123b-165">**Non-blocking**</span></span><br/><br/><span data-ttu-id="6123b-166">(viene completata immediatamente se non vengono trovati altri messaggi)</span><span class="sxs-lookup"><span data-stu-id="6123b-166">(completes immediately if no new message is found)</span></span> |<span data-ttu-id="6123b-167">**Blocking with/without timeout**</span><span class="sxs-lookup"><span data-stu-id="6123b-167">**Blocking with/without timeout**</span></span><br/><br/><span data-ttu-id="6123b-168">(offre disponibilità di polling prolungato o la ["Tecnica Comet"](http://go.microsoft.com/fwlink/?LinkId=613759))</span><span class="sxs-lookup"><span data-stu-id="6123b-168">(offers long polling, or the ["Comet technique"](http://go.microsoft.com/fwlink/?LinkId=613759))</span></span><br/><br/><span data-ttu-id="6123b-169">**Non-blocking**</span><span class="sxs-lookup"><span data-stu-id="6123b-169">**Non-blocking**</span></span><br/><br/><span data-ttu-id="6123b-170">(solo tramite l'uso di interfaccia API gestita di .NET)</span><span class="sxs-lookup"><span data-stu-id="6123b-170">(through the use of .NET managed API only)</span></span> |
| <span data-ttu-id="6123b-171">API di tipo push</span><span class="sxs-lookup"><span data-stu-id="6123b-171">Push-style API</span></span> |<span data-ttu-id="6123b-172">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-172">**No**</span></span> |<span data-ttu-id="6123b-173">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-173">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-174">Interfaccia API di .NET per sessioni [OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) e **OnMessage**.</span><span class="sxs-lookup"><span data-stu-id="6123b-174">[OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) and **OnMessage** sessions .NET API.</span></span> |
| <span data-ttu-id="6123b-175">Modalità di ricezione</span><span class="sxs-lookup"><span data-stu-id="6123b-175">Receive mode</span></span> |<span data-ttu-id="6123b-176">**Visualizzazione e lease**</span><span class="sxs-lookup"><span data-stu-id="6123b-176">**Peek & Lease**</span></span> |<span data-ttu-id="6123b-177">**Visualizzazione e blocco**</span><span class="sxs-lookup"><span data-stu-id="6123b-177">**Peek & Lock**</span></span><br/><br/><span data-ttu-id="6123b-178">**Ricezione ed eliminazione**</span><span class="sxs-lookup"><span data-stu-id="6123b-178">**Receive & Delete**</span></span> |
| <span data-ttu-id="6123b-179">Modalità di accesso esclusivo</span><span class="sxs-lookup"><span data-stu-id="6123b-179">Exclusive access mode</span></span> |<span data-ttu-id="6123b-180">**Basato sul lease**</span><span class="sxs-lookup"><span data-stu-id="6123b-180">**Lease-based**</span></span> |<span data-ttu-id="6123b-181">**Basato sul blocco**</span><span class="sxs-lookup"><span data-stu-id="6123b-181">**Lock-based**</span></span> |
| <span data-ttu-id="6123b-182">Durata lease/blocco</span><span class="sxs-lookup"><span data-stu-id="6123b-182">Lease/Lock duration</span></span> |<span data-ttu-id="6123b-183">**30 secondi (impostazione predefinita)**</span><span class="sxs-lookup"><span data-stu-id="6123b-183">**30 seconds (default)**</span></span><br/><br/><span data-ttu-id="6123b-184">**7 giorni (durata massima)** (È possibile rinnovare o rilasciare un lease di messaggio tramite l'interfaccia API di [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx)).</span><span class="sxs-lookup"><span data-stu-id="6123b-184">**7 days (maximum)** (You can renew or release a message lease using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.)</span></span> |<span data-ttu-id="6123b-185">**60 secondi (impostazione predefinita)**</span><span class="sxs-lookup"><span data-stu-id="6123b-185">**60 seconds (default)**</span></span><br/><br/><span data-ttu-id="6123b-186">È possibile rinnovare un blocco di messaggio tramite l'interfaccia API di [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock).</span><span class="sxs-lookup"><span data-stu-id="6123b-186">You can renew a message lock using the [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.</span></span> |
| <span data-ttu-id="6123b-187">Precisione lease/blocco</span><span class="sxs-lookup"><span data-stu-id="6123b-187">Lease/Lock precision</span></span> |<span data-ttu-id="6123b-188">**Livello di messaggio**</span><span class="sxs-lookup"><span data-stu-id="6123b-188">**Message level**</span></span><br/><br/><span data-ttu-id="6123b-189">(ogni messaggio può avere un valore di timeout diverso che è possibile aggiornare come necessario durante l'elaborazione del messaggio tramite l'interfaccia API [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx)).</span><span class="sxs-lookup"><span data-stu-id="6123b-189">(each message can have a different timeout value, which you can then update as needed while processing the message, by using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API)</span></span> |<span data-ttu-id="6123b-190">**Livello di coda**</span><span class="sxs-lookup"><span data-stu-id="6123b-190">**Queue level**</span></span><br/><br/><span data-ttu-id="6123b-191">(ogni coda ha una precisione di blocco applicata a tutti i relativi messaggi, tuttavia è possibile rinnovare il blocco tramite l'interfaccia API [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock)).</span><span class="sxs-lookup"><span data-stu-id="6123b-191">(each queue has a lock precision applied to all of its messages, but you can renew the lock using the [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.)</span></span> |
| <span data-ttu-id="6123b-192">Ricezione in batch</span><span class="sxs-lookup"><span data-stu-id="6123b-192">Batched receive</span></span> |<span data-ttu-id="6123b-193">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-193">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-194">(specifica esplicitamente il numero di messaggi durante il recupero dei messaggi, fino a un massimo di 32 messaggi).</span><span class="sxs-lookup"><span data-stu-id="6123b-194">(explicitly specifying message count when retrieving messages, up to a maximum of 32 messages)</span></span> |<span data-ttu-id="6123b-195">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-195">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-196">(abilita implicitamente una proprietà di prelettura o esplicitamente tramite l'uso di transazioni).</span><span class="sxs-lookup"><span data-stu-id="6123b-196">(implicitly enabling a pre-fetch property or explicitly through the use of transactions)</span></span> |
| <span data-ttu-id="6123b-197">Invio in batch</span><span class="sxs-lookup"><span data-stu-id="6123b-197">Batched send</span></span> |<span data-ttu-id="6123b-198">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-198">**No**</span></span> |<span data-ttu-id="6123b-199">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-199">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-200">(tramite l'uso di transazioni o invio in batch sul lato client).</span><span class="sxs-lookup"><span data-stu-id="6123b-200">(through the use of transactions or client-side batching)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6123b-201">Informazioni aggiuntive</span><span class="sxs-lookup"><span data-stu-id="6123b-201">Additional information</span></span>
* <span data-ttu-id="6123b-202">In genere i messaggi nelle code di archiviazione sono ordinati in base al principio FIFO (First-In-First-Out), ma in alcuni casi possono risultare non in ordine, ad esempio quando la durata del timeout di visibilità di un messaggio scade a seguito dell'arresto anomalo di un'applicazione client durante l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="6123b-202">Messages in Storage queues are typically first-in-first-out, but sometimes they can be out of order; for example, when a message's visibility timeout duration expires (for example, as a result of a client application crashing during processing).</span></span> <span data-ttu-id="6123b-203">Quando il timeout di visibilità scade, il messaggio risulta nuovamente visibile nella coda in modo che un altro utente possa rimuoverlo.</span><span class="sxs-lookup"><span data-stu-id="6123b-203">When the visibility timeout expires, the message becomes visible again on the queue for another worker to dequeue it.</span></span> <span data-ttu-id="6123b-204">A questo punto, il messaggio reso nuovamente visibile può essere posizionato nella coda (per poter essere rimosso di nuovo) dopo un messaggio originariamente accodato dopo quest'ultimo.</span><span class="sxs-lookup"><span data-stu-id="6123b-204">At that point, the newly visible message might be placed in the queue (to be dequeued again) after a message that was originally enqueued after it.</span></span>
* <span data-ttu-id="6123b-205">Il modello FIFO garantito nelle code del bus di servizio richiede l'uso di sessioni di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="6123b-205">The guaranteed FIFO pattern in Service Bus queues requires the use of messaging sessions.</span></span> <span data-ttu-id="6123b-206">Se l'applicazione termina di funzionare in maniera anomala durante l'elaborazione di un messaggio ricevuto nella modalità **Visualizzazione e blocco**, la prossima volta che un ricevitore di code accetta una sessione di messaggistica, l'applicazione verrà avviata con il messaggio non recapitato dopo la scadenza della relativa durata (TTL).</span><span class="sxs-lookup"><span data-stu-id="6123b-206">In the event that the application crashes while processing a message received in the **Peek & Lock** mode, the next time a queue receiver accepts a messaging session, it will start with the failed message after its time-to-live (TTL) period expires.</span></span>
* <span data-ttu-id="6123b-207">Le code di archiviazione sono progettate per supportare scenari di accodamento standard, ad esempio il disaccoppiamento di componenti dell'applicazione per aumentare la scalabilità e la tolleranza di errore, il livellamento del carico e la creazione di flussi di lavoro di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="6123b-207">Storage queues are designed to support standard queuing scenarios, such as decoupling application components to increase scalability and tolerance for failures, load leveling, and building process workflows.</span></span>
* <span data-ttu-id="6123b-208">Le code del bus di servizio supportano la garanzia di recapito *At-Least-Once*.</span><span class="sxs-lookup"><span data-stu-id="6123b-208">Service Bus queues support the *At-Least-Once* delivery guarantee.</span></span> <span data-ttu-id="6123b-209">La semantica *At-Most-Once* può anche essere supportata tramite lo stato della sessione per archiviare lo stato dell'applicazione e tramite le transazioni per ricevere i messaggi in modo atomico e aggiornare lo stato della sessione.</span><span class="sxs-lookup"><span data-stu-id="6123b-209">In addition, the *At-Most-Once* semantic can be supported by using session state to store the application state and by using transactions to atomically receive messages and update the session state.</span></span>
* <span data-ttu-id="6123b-210">Le code di archiviazione offrono un modello di programmazione uniforme e coerente tra code, tabelle e BLOB, sia per i team di sviluppo che per i team operativi.</span><span class="sxs-lookup"><span data-stu-id="6123b-210">Storage queues provide a uniform and consistent programming model across queues, tables, and BLOBs – both for developers and for operations teams.</span></span>
* <span data-ttu-id="6123b-211">Le code del bus di servizio offrono supporto per le transazioni locali nel contesto di una singola coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-211">Service Bus queues provide support for local transactions in the context of a single queue.</span></span>
* <span data-ttu-id="6123b-212">La modalità **Ricezione ed eliminazione** supportata dal bus di servizio offre la possibilità di ridurre il numero di operazioni di messaggistica (e relativo costo) in cambio di una garanzia di recapito più bassa.</span><span class="sxs-lookup"><span data-stu-id="6123b-212">The **Receive and Delete** mode supported by Service Bus provides the ability to reduce the messaging operation count (and associated cost) in exchange for lowered delivery assurance.</span></span>
* <span data-ttu-id="6123b-213">Le code di archiviazione offrono lease con possibilità di estensione per i messaggi.</span><span class="sxs-lookup"><span data-stu-id="6123b-213">Storage queues provide leases with the ability to extend the leases for messages.</span></span> <span data-ttu-id="6123b-214">In questo modo i processi di lavoro possono gestire lease brevi nei messaggi.</span><span class="sxs-lookup"><span data-stu-id="6123b-214">This allows the workers to maintain short leases on messages.</span></span> <span data-ttu-id="6123b-215">Pertanto, se un processo di lavoro viene arrestato in modo anomalo, il messaggio può essere elaborato di nuovo rapidamente da un altro processo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="6123b-215">Thus, if a worker crashes, the message can be quickly processed again by another worker.</span></span> <span data-ttu-id="6123b-216">Inoltre, tramite un processo di lavoro è possibile estendere il lease in un messaggio se l'elaborazione di quest'ultimo richiede più tempo del lease corrente.</span><span class="sxs-lookup"><span data-stu-id="6123b-216">In addition, a worker can extend the lease on a message if it needs to process it longer than the current lease time.</span></span>
* <span data-ttu-id="6123b-217">Le code di archiviazione offrono un timeout di visibilità che può essere impostato al momento dell'inserimento o della rimozione dalla coda di un messaggio.</span><span class="sxs-lookup"><span data-stu-id="6123b-217">Storage queues offer a visibility timeout that you can set upon the enqueueing or dequeuing of a message.</span></span> <span data-ttu-id="6123b-218">È anche possibile aggiornare un messaggio con valori di lease diversi in fase di esecuzione, nonché aggiornare valori diversi nei messaggi presenti nella stessa coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-218">In addition, you can update a message with different lease values at run-time, and update different values across messages in the same queue.</span></span> <span data-ttu-id="6123b-219">I timeout dei blocchi del bus di servizio vengono definiti nei metadati della coda. È tuttavia possibile rinnovare il blocco chiamando il metodo [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock).</span><span class="sxs-lookup"><span data-stu-id="6123b-219">Service Bus lock timeouts are defined in the queue metadata; however, you can renew the lock by calling the [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) method.</span></span>
* <span data-ttu-id="6123b-220">Il timeout massimo per un'operazione di ricezione del blocco nelle code del bus di servizio è di 24 giorni.</span><span class="sxs-lookup"><span data-stu-id="6123b-220">The maximum timeout for a blocking receive operation in Service Bus queues is 24 days.</span></span> <span data-ttu-id="6123b-221">I timeout basati su REST, tuttavia, hanno un valore massimo di 55 secondi.</span><span class="sxs-lookup"><span data-stu-id="6123b-221">However, REST-based timeouts have a maximum value of 55 seconds.</span></span>
* <span data-ttu-id="6123b-222">Il batch sul lato client fornito dal bus di servizio consente a un client di coda di inviare in batch più messaggi in una singola operazione di invio.</span><span class="sxs-lookup"><span data-stu-id="6123b-222">Client-side batching provided by Service Bus enables a queue client to batch multiple messages into a single send operation.</span></span> <span data-ttu-id="6123b-223">L'invio in batch è disponibile solo per le operazioni di invio asincrone.</span><span class="sxs-lookup"><span data-stu-id="6123b-223">Batching is only available for asynchronous send operations.</span></span>
* <span data-ttu-id="6123b-224">Caratteristiche quali la capacità massima di 200 TB (capacità ancora superiore se gli account vengono virtualizzati) e la disponibilità in numero illimitato rendono le code di archiviazione una piattaforma ideale per i provider SaaS.</span><span class="sxs-lookup"><span data-stu-id="6123b-224">Features such as the 200 TB ceiling of Storage queues (more when you virtualize accounts) and unlimited queues make it an ideal platform for SaaS providers.</span></span>
* <span data-ttu-id="6123b-225">Le code di archiviazione forniscono un meccanismo di controllo di accesso delegato flessibile ed efficiente.</span><span class="sxs-lookup"><span data-stu-id="6123b-225">Storage queues provide a flexible and performant delegated access control mechanism.</span></span>

## <a name="advanced-capabilities"></a><span data-ttu-id="6123b-226">Funzionalità avanzate</span><span class="sxs-lookup"><span data-stu-id="6123b-226">Advanced capabilities</span></span>
<span data-ttu-id="6123b-227">Questa sezione confronta le funzionalità avanzate fornite dalle code di archiviazione e dalle code del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-227">This section compares advanced capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6123b-228">Criteri di confronto</span><span class="sxs-lookup"><span data-stu-id="6123b-228">Comparison Criteria</span></span> | <span data-ttu-id="6123b-229">Code di archiviazione</span><span class="sxs-lookup"><span data-stu-id="6123b-229">Storage queues</span></span> | <span data-ttu-id="6123b-230">Code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-230">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6123b-231">Recapito pianificato</span><span class="sxs-lookup"><span data-stu-id="6123b-231">Scheduled delivery</span></span> |<span data-ttu-id="6123b-232">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-232">**Yes**</span></span> |<span data-ttu-id="6123b-233">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-233">**Yes**</span></span> |
| <span data-ttu-id="6123b-234">Mancato recapito automatico dei messaggi</span><span class="sxs-lookup"><span data-stu-id="6123b-234">Automatic dead lettering</span></span> |<span data-ttu-id="6123b-235">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-235">**No**</span></span> |<span data-ttu-id="6123b-236">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-236">**Yes**</span></span> |
| <span data-ttu-id="6123b-237">Valore TTL di accodamento aumentato</span><span class="sxs-lookup"><span data-stu-id="6123b-237">Increasing queue time-to-live value</span></span> |<span data-ttu-id="6123b-238">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-238">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-239">(tramite aggiornamento sul posto del timeout di visibilità)</span><span class="sxs-lookup"><span data-stu-id="6123b-239">(via in-place update of visibility timeout)</span></span> |<span data-ttu-id="6123b-240">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-240">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-241">(specificato tramite una funzione API dedicata)</span><span class="sxs-lookup"><span data-stu-id="6123b-241">(provided via a dedicated API function)</span></span> |
| <span data-ttu-id="6123b-242">Supporto messaggi non elaborabili</span><span class="sxs-lookup"><span data-stu-id="6123b-242">Poison message support</span></span> |<span data-ttu-id="6123b-243">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-243">**Yes**</span></span> |<span data-ttu-id="6123b-244">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-244">**Yes**</span></span> |
| <span data-ttu-id="6123b-245">Aggiornamento sul posto</span><span class="sxs-lookup"><span data-stu-id="6123b-245">In-place update</span></span> |<span data-ttu-id="6123b-246">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-246">**Yes**</span></span> |<span data-ttu-id="6123b-247">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-247">**Yes**</span></span> |
| <span data-ttu-id="6123b-248">Log delle transazioni sul lato server</span><span class="sxs-lookup"><span data-stu-id="6123b-248">Server-side transaction log</span></span> |<span data-ttu-id="6123b-249">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-249">**Yes**</span></span> |<span data-ttu-id="6123b-250">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-250">**No**</span></span> |
| <span data-ttu-id="6123b-251">Metriche di archiviazione</span><span class="sxs-lookup"><span data-stu-id="6123b-251">Storage metrics</span></span> |<span data-ttu-id="6123b-252">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-252">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-253">**Metrica al minuto**: specifica metriche in tempo reale relative a disponibilità, TPS, numero di chiamate API, numero di errori e molto altro, aggregate per minuto e segnalate entro pochi minuti rispetto agli eventi in fase di produzione.</span><span class="sxs-lookup"><span data-stu-id="6123b-253">**Minute Metrics**: provides real-time metrics for availability, TPS, API call counts, error counts, and more, all in real time (aggregated per minute and reported within a few minutes from what just happened in production.</span></span> <span data-ttu-id="6123b-254">Per altre informazioni, vedere [About Storage Analytics Metrics](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics) (Informazioni sulle metriche di analisi dell'archiviazione).</span><span class="sxs-lookup"><span data-stu-id="6123b-254">For more information, see [About Storage Analytics Metrics](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics).</span></span> |<span data-ttu-id="6123b-255">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-255">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-256">(query in blocco tramite chiamate a [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues))</span><span class="sxs-lookup"><span data-stu-id="6123b-256">(bulk queries by calling [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues))</span></span> |
| <span data-ttu-id="6123b-257">Gestione dello stato</span><span class="sxs-lookup"><span data-stu-id="6123b-257">State management</span></span> |<span data-ttu-id="6123b-258">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-258">**No**</span></span> |<span data-ttu-id="6123b-259">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-259">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span><span class="sxs-lookup"><span data-stu-id="6123b-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span></span> |
| <span data-ttu-id="6123b-261">Inoltro automatico dei messaggi</span><span class="sxs-lookup"><span data-stu-id="6123b-261">Message auto-forwarding</span></span> |<span data-ttu-id="6123b-262">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-262">**No**</span></span> |<span data-ttu-id="6123b-263">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-263">**Yes**</span></span> |
| <span data-ttu-id="6123b-264">Funzione di eliminazione della coda</span><span class="sxs-lookup"><span data-stu-id="6123b-264">Purge queue function</span></span> |<span data-ttu-id="6123b-265">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-265">**Yes**</span></span> |<span data-ttu-id="6123b-266">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-266">**No**</span></span> |
| <span data-ttu-id="6123b-267">Gruppi di messaggi</span><span class="sxs-lookup"><span data-stu-id="6123b-267">Message groups</span></span> |<span data-ttu-id="6123b-268">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-268">**No**</span></span> |<span data-ttu-id="6123b-269">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-269">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-270">(tramite l'uso di sessioni di messaggistica)</span><span class="sxs-lookup"><span data-stu-id="6123b-270">(through the use of messaging sessions)</span></span> |
| <span data-ttu-id="6123b-271">Stato dell'applicazione per gruppo di messaggi</span><span class="sxs-lookup"><span data-stu-id="6123b-271">Application state per message group</span></span> |<span data-ttu-id="6123b-272">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-272">**No**</span></span> |<span data-ttu-id="6123b-273">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-273">**Yes**</span></span> |
| <span data-ttu-id="6123b-274">Rilevamento duplicati</span><span class="sxs-lookup"><span data-stu-id="6123b-274">Duplicate detection</span></span> |<span data-ttu-id="6123b-275">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-275">**No**</span></span> |<span data-ttu-id="6123b-276">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-276">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-277">(configurabile sul lato del mittente)</span><span class="sxs-lookup"><span data-stu-id="6123b-277">(configurable on the sender side)</span></span> |
| <span data-ttu-id="6123b-278">Esplorazione di gruppi di messaggi</span><span class="sxs-lookup"><span data-stu-id="6123b-278">Browsing message groups</span></span> |<span data-ttu-id="6123b-279">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-279">**No**</span></span> |<span data-ttu-id="6123b-280">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-280">**Yes**</span></span> |
| <span data-ttu-id="6123b-281">Recupero delle sessioni di messaggistica per ID</span><span class="sxs-lookup"><span data-stu-id="6123b-281">Fetching message sessions by ID</span></span> |<span data-ttu-id="6123b-282">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-282">**No**</span></span> |<span data-ttu-id="6123b-283">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-283">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6123b-284">Informazioni aggiuntive</span><span class="sxs-lookup"><span data-stu-id="6123b-284">Additional information</span></span>
* <span data-ttu-id="6123b-285">Entrambe le tecnologie di accodamento consentono di pianificare il recapito di un messaggio in un momento successivo.</span><span class="sxs-lookup"><span data-stu-id="6123b-285">Both queuing technologies enable a message to be scheduled for delivery at a later time.</span></span>
* <span data-ttu-id="6123b-286">La funzionalità di inoltro automatico consente a migliaia di code di inoltrare automaticamente i propri messaggi a una singola coda dalla quale l'applicazione ricevente preleva il messaggio.</span><span class="sxs-lookup"><span data-stu-id="6123b-286">Queue auto-forwarding enables thousands of queues to auto-forward their messages to a single queue, from which the receiving application consumes the message.</span></span> <span data-ttu-id="6123b-287">Questo meccanismo consente di ottenere un valore elevato di sicurezza, di controllare il flusso e di isolare le aree di archiviazione tra i server di pubblicazione dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="6123b-287">You can use this mechanism to achieve security, control flow, and isolate storage between each message publisher.</span></span>
* <span data-ttu-id="6123b-288">Le code di archiviazione offrono supporto per l'aggiornamento del contenuto del messaggio.</span><span class="sxs-lookup"><span data-stu-id="6123b-288">Storage queues provide support for updating message content.</span></span> <span data-ttu-id="6123b-289">Questa funzionalità consente di rendere permanenti le informazioni sullo stato e gli aggiornamenti sull'avanzamento incrementale all'interno del messaggio, in modo che sia possibile elaborare quest'ultimo dall'ultimo checkpoint noto anziché dall'inizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-289">You can use this functionality for persisting state information and incremental progress updates into the message so that it can be processed from the last known checkpoint, instead of starting from scratch.</span></span> <span data-ttu-id="6123b-290">Con le code del bus di servizio è possibile abilitare lo stesso scenario mediante sessioni di messaggistica</span><span class="sxs-lookup"><span data-stu-id="6123b-290">With Service Bus queues, you can enable the same scenario through the use of message sessions.</span></span> <span data-ttu-id="6123b-291">Le sessioni consentono di salvare e recuperare lo stato di elaborazione dell'applicazione tramite [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) e [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState).</span><span class="sxs-lookup"><span data-stu-id="6123b-291">Sessions enable you to save and retrieve the application processing state (by using [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) and [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState)).</span></span>
* <span data-ttu-id="6123b-292">La funzionalità [messaggi non recapitabili](service-bus-dead-letter-queues.md), supportata solo dalle code del bus di servizio, può essere utile per isolare i messaggi che non possono essere elaborati correttamente dall'applicazione ricevente o quando i messaggi non possono essere recapitati a causa di una proprietà di durata (TTL) scaduta.</span><span class="sxs-lookup"><span data-stu-id="6123b-292">[Dead lettering](service-bus-dead-letter-queues.md), which is only supported by Service Bus queues, can be useful for isolating messages that cannot be processed successfully by the receiving application or when messages cannot reach their destination due to an expired time-to-live (TTL) property.</span></span> <span data-ttu-id="6123b-293">Tramite il valore TTL viene specificata la durata del messaggio nella coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-293">The TTL value specifies how long a message remains in the queue.</span></span> <span data-ttu-id="6123b-294">Con il bus di servizio, il messaggio verrà spostato in una coda speciale denominata $DeadLetterQueue allo scadere del periodo TTL.</span><span class="sxs-lookup"><span data-stu-id="6123b-294">With Service Bus, the message will be moved to a special queue called $DeadLetterQueue when the TTL period expires.</span></span>
* <span data-ttu-id="6123b-295">Per trovare messaggi "non elaborabili" nelle code di archiviazione, durante la rimozione di un messaggio dalla coda l'applicazione esamina la proprietà **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)** del messaggio.</span><span class="sxs-lookup"><span data-stu-id="6123b-295">To find "poison" messages in Storage queues, when dequeuing a message the application examines the **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)** property of the message.</span></span> <span data-ttu-id="6123b-296">Se il valore della proprietà **DequeueCount** supera la soglia specificata, l'applicazione sposta il messaggio in una coda di "messaggio non recapitabile" definita dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6123b-296">If **DequeueCount** is greater than a given threshold, the application moves the message to an application-defined "dead letter" queue.</span></span>
* <span data-ttu-id="6123b-297">Le code di archiviazione consentono di ottenere un log dettagliato di tutte le transazioni eseguite nella coda, nonché le metriche aggregate.</span><span class="sxs-lookup"><span data-stu-id="6123b-297">Storage queues enable you to obtain a detailed log of all of the transactions executed against the queue, as well as aggregated metrics.</span></span> <span data-ttu-id="6123b-298">Queste opzioni sono entrambe utili per il debug e per comprendere in che modo l'applicazione usa le code di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="6123b-298">Both of these options are useful for debugging and understanding how your application uses Storage queues.</span></span> <span data-ttu-id="6123b-299">Inoltre, sono utili per l'ottimizzazione delle prestazioni dell'applicazione e per la riduzione dei costi d'uso delle code.</span><span class="sxs-lookup"><span data-stu-id="6123b-299">They are also useful for performance-tuning your application and reducing the costs of using queues.</span></span>
* <span data-ttu-id="6123b-300">Il concetto di "sessione di messaggistica" supportato dal bus di servizio consente di associare a uno specifico destinatario i messaggi appartenenti a un determinato gruppo logico. Il destinatario crea a sua volta un'affinità di tipo sessione tra i messaggi e i relativi destinatari.</span><span class="sxs-lookup"><span data-stu-id="6123b-300">The concept of "message sessions" supported by Service Bus enables messages that belong to a certain logical group to be associated with a given receiver, which in turn creates a session-like affinity between messages and their respective receivers.</span></span> <span data-ttu-id="6123b-301">È possibile abilitare questa funzionalità avanzata nel bus di servizio impostando la proprietà [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) in un messaggio.</span><span class="sxs-lookup"><span data-stu-id="6123b-301">You can enable this advanced functionality in Service Bus by setting the [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on a message.</span></span> <span data-ttu-id="6123b-302">I destinatari possono quindi restare in ascolto su un ID di sessione specifico e ricevere messaggi in cui viene condiviso l'identificatore di sessione specificato.</span><span class="sxs-lookup"><span data-stu-id="6123b-302">Receivers can then listen on a specific session ID and receive messages that share the specified session identifier.</span></span>
* <span data-ttu-id="6123b-303">La funzionalità di rilevamento di duplicazione supportata dalle code del bus di servizio rimuove automaticamente i messaggi duplicati inviati a una coda o a un argomento, in base al valore della proprietà [MessageID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId).</span><span class="sxs-lookup"><span data-stu-id="6123b-303">The duplication detection functionality supported by Service Bus queues automatically removes duplicate messages sent to a queue or topic, based on the value of the [MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) property.</span></span>

## <a name="capacity-and-quotas"></a><span data-ttu-id="6123b-304">Capacità e quote</span><span class="sxs-lookup"><span data-stu-id="6123b-304">Capacity and quotas</span></span>
<span data-ttu-id="6123b-305">Questa sezione confronta le code di Azure e le code del bus di servizio in termini di [capacità e quote](service-bus-quotas.md).</span><span class="sxs-lookup"><span data-stu-id="6123b-305">This section compares Storage queues and Service Bus queues from the perspective of [capacity and quotas](service-bus-quotas.md) that may apply.</span></span>

| <span data-ttu-id="6123b-306">Criteri di confronto</span><span class="sxs-lookup"><span data-stu-id="6123b-306">Comparison Criteria</span></span> | <span data-ttu-id="6123b-307">Code di archiviazione</span><span class="sxs-lookup"><span data-stu-id="6123b-307">Storage queues</span></span> | <span data-ttu-id="6123b-308">Code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-308">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6123b-309">Dimensioni massime della coda</span><span class="sxs-lookup"><span data-stu-id="6123b-309">Maximum queue size</span></span> |<span data-ttu-id="6123b-310">**500 TB**</span><span class="sxs-lookup"><span data-stu-id="6123b-310">**500 TB**</span></span><br/><br/><span data-ttu-id="6123b-311">(limitate alla [capacità di un singolo account di archiviazione](../storage/common/storage-introduction.md#queue-storage))</span><span class="sxs-lookup"><span data-stu-id="6123b-311">(limited to a [single storage account capacity](../storage/common/storage-introduction.md#queue-storage))</span></span> |<span data-ttu-id="6123b-312">**Da 1 GB a 80 GB**</span><span class="sxs-lookup"><span data-stu-id="6123b-312">**1 GB to 80 GB**</span></span><br/><br/><span data-ttu-id="6123b-313">(valori definiti al momento della creazione della coda e dell'[abilitazione del partizionamento](service-bus-partitioning.md). Vedere la sezione "Informazioni aggiuntive").</span><span class="sxs-lookup"><span data-stu-id="6123b-313">(defined upon creation of a queue and [enabling partitioning](service-bus-partitioning.md) – see the “Additional Information” section)</span></span> |
| <span data-ttu-id="6123b-314">Dimensioni massime del messaggio</span><span class="sxs-lookup"><span data-stu-id="6123b-314">Maximum message size</span></span> |<span data-ttu-id="6123b-315">**64 KB**</span><span class="sxs-lookup"><span data-stu-id="6123b-315">**64 KB**</span></span><br/><br/><span data-ttu-id="6123b-316">(48 KB quando si usa una codifica **Base64**)</span><span class="sxs-lookup"><span data-stu-id="6123b-316">(48 KB when using **Base64** encoding)</span></span><br/><br/><span data-ttu-id="6123b-317">Poiché Azure supporta messaggi di grandi dimensioni combinando code e BLOB, è possibile accodare fino a 200 GB per un singolo elemento.</span><span class="sxs-lookup"><span data-stu-id="6123b-317">Azure supports large messages by combining queues and blobs – at which point you can enqueue up to 200GB for a single item.</span></span> |<span data-ttu-id="6123b-318">**256 KB** o **1 MB**</span><span class="sxs-lookup"><span data-stu-id="6123b-318">**256 KB** or **1 MB**</span></span><br/><br/><span data-ttu-id="6123b-319">(inclusi l'intestazione e il corpo, dimensioni massime dell'intestazione: 64 KB).</span><span class="sxs-lookup"><span data-stu-id="6123b-319">(including both header and body, maximum header size: 64 KB).</span></span><br/><br/><span data-ttu-id="6123b-320">Dipende dal [livello di servizio](service-bus-premium-messaging.md).</span><span class="sxs-lookup"><span data-stu-id="6123b-320">Depends on the [service tier](service-bus-premium-messaging.md).</span></span> |
| <span data-ttu-id="6123b-321">Durata TTL massima del messaggio</span><span class="sxs-lookup"><span data-stu-id="6123b-321">Maximum message TTL</span></span> |<span data-ttu-id="6123b-322">**7 giorni**</span><span class="sxs-lookup"><span data-stu-id="6123b-322">**7 days**</span></span> |**`TimeSpan.Max`** |
| <span data-ttu-id="6123b-323">Numero massimo di code</span><span class="sxs-lookup"><span data-stu-id="6123b-323">Maximum number of queues</span></span> |<span data-ttu-id="6123b-324">**Illimitato**</span><span class="sxs-lookup"><span data-stu-id="6123b-324">**Unlimited**</span></span> |<span data-ttu-id="6123b-325">**10.000**</span><span class="sxs-lookup"><span data-stu-id="6123b-325">**10,000**</span></span><br/><br/><span data-ttu-id="6123b-326">(per spazio dei nomi del servizio, può essere aumentato)</span><span class="sxs-lookup"><span data-stu-id="6123b-326">(per service namespace, can be increased)</span></span> |
| <span data-ttu-id="6123b-327">Numero massimo di client concorrenti</span><span class="sxs-lookup"><span data-stu-id="6123b-327">Maximum number of concurrent clients</span></span> |<span data-ttu-id="6123b-328">**Illimitato**</span><span class="sxs-lookup"><span data-stu-id="6123b-328">**Unlimited**</span></span> |<span data-ttu-id="6123b-329">**Illimitato**</span><span class="sxs-lookup"><span data-stu-id="6123b-329">**Unlimited**</span></span><br/><br/><span data-ttu-id="6123b-330">(limite di 100 connessioni simultanee applicato solo alla comunicazione basata su protocollo TCP)</span><span class="sxs-lookup"><span data-stu-id="6123b-330">(100 concurrent connection limit only applies to TCP protocol-based communication)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6123b-331">Informazioni aggiuntive</span><span class="sxs-lookup"><span data-stu-id="6123b-331">Additional information</span></span>
* <span data-ttu-id="6123b-332">Bus di servizio impone l'applicazione dei limiti di dimensione della coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-332">Service Bus enforces queue size limits.</span></span> <span data-ttu-id="6123b-333">Le dimensioni massime della coda vengono specificate al momento della creazione della coda stessa e possono avere un valore compreso tra 1 e 80 GB.</span><span class="sxs-lookup"><span data-stu-id="6123b-333">The maximum queue size is specified upon creation of the queue and can have a value between 1 and 80 GB.</span></span> <span data-ttu-id="6123b-334">Se viene raggiunto il valore delle dimensioni della coda impostato al momento della creazione, i successivi messaggi in arrivo verranno rifiutati e il codice chiamante riceverà un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="6123b-334">If the queue size value set on creation of the queue is reached, additional incoming messages will be rejected and an exception will be received by the calling code.</span></span> <span data-ttu-id="6123b-335">Per altre informazioni sulle quote nel bus di servizio, vedere [Quote del bus di servizio](service-bus-quotas.md).</span><span class="sxs-lookup"><span data-stu-id="6123b-335">For more information about quotas in Service Bus, see [Service Bus Quotas](service-bus-quotas.md).</span></span>
* <span data-ttu-id="6123b-336">Nel [livello Standard](service-bus-premium-messaging.md), è possibile creare code del bus di servizio in dimensioni di 1, 2, 3, 4 o 5 GB (il valore predefinito è 1 GB).</span><span class="sxs-lookup"><span data-stu-id="6123b-336">In the [Standard tier](service-bus-premium-messaging.md), you can create Service Bus queues in 1, 2, 3, 4, or 5 GB sizes (the default is 1 GB).</span></span> <span data-ttu-id="6123b-337">Nel livello Premium, è possibile creare code con dimensioni fino a 80 GB.</span><span class="sxs-lookup"><span data-stu-id="6123b-337">In the Premium tier, you can create queues up to 80 GB in size.</span></span> <span data-ttu-id="6123b-338">Nel livello Standard, con il partizionamento abilitato (ovvero l'impostazione predefinita), il bus di servizio crea 16 partizioni per ogni GB specificato.</span><span class="sxs-lookup"><span data-stu-id="6123b-338">In Standard tier, with partitioning enabled (which is the default), Service Bus creates 16 partitions for each GB you specify.</span></span> <span data-ttu-id="6123b-339">Di conseguenza, se si crea una coda di 5 GB di dimensioni, con 16 partizioni la dimensione massima della coda diventa (5 * 16) = 80 GB.</span><span class="sxs-lookup"><span data-stu-id="6123b-339">As such, if you create a queue that is 5 GB in size, with 16 partitions the maximum queue size becomes (5 * 16) = 80 GB.</span></span> <span data-ttu-id="6123b-340">È possibile vedere le dimensioni massime della coda o dell'argomento partizionato esaminando la voce corrispondente nel [portale di Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="6123b-340">You can see the maximum size of your partitioned queue or topic by looking at its entry on the [Azure portal][Azure portal].</span></span> <span data-ttu-id="6123b-341">Nel livello Premium, vengono create solo 2 partizioni per ogni coda.</span><span class="sxs-lookup"><span data-stu-id="6123b-341">In the Premium tier, only 2 partitions are created per queue.</span></span>
* <span data-ttu-id="6123b-342">Per le code di archiviazione, se il contenuto del messaggio non è XML, deve avere la codifica **Base64**.</span><span class="sxs-lookup"><span data-stu-id="6123b-342">With Storage queues, if the content of the message is not XML-safe, then it must be **Base64** encoded.</span></span> <span data-ttu-id="6123b-343">Se per il messaggio non è stata usata la codifica **Base64**, il payload dell'utente può essere fino a 48 KB, anziché 64.</span><span class="sxs-lookup"><span data-stu-id="6123b-343">If you **Base64**-encode the message, the user payload can be up to 48 KB, instead of 64 KB.</span></span>
* <span data-ttu-id="6123b-344">Con le code del bus di servizio, ogni messaggio archiviato in una coda è costituito da due parti: un'intestazione e un corpo.</span><span class="sxs-lookup"><span data-stu-id="6123b-344">With Service Bus queues, each message stored in a queue is composed of two parts: a header and a body.</span></span> <span data-ttu-id="6123b-345">Le dimensioni totali del messaggio non possono superare la dimensione massima del messaggio supportata dal livello di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-345">The total size of the message cannot exceed the maximum message size supported by the service tier.</span></span>
* <span data-ttu-id="6123b-346">Se le comunicazioni tra client e code del bus di servizio vengono stabilite tramite il protocollo TCP, il numero massimo di connessioni simultanee a una singola coda del bus di servizio è limitato a 100.</span><span class="sxs-lookup"><span data-stu-id="6123b-346">When clients communicate with Service Bus queues over the TCP protocol, the maximum number of concurrent connections to a single Service Bus queue is limited to 100.</span></span> <span data-ttu-id="6123b-347">Questo numero è condiviso tra mittenti e destinatari.</span><span class="sxs-lookup"><span data-stu-id="6123b-347">This number is shared between senders and receivers.</span></span> <span data-ttu-id="6123b-348">Se viene raggiunta questa quota, le successive richieste di connessioni aggiuntive verranno rifiutate e il codice chiamante riceverà un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="6123b-348">If this quota is reached, subsequent requests for additional connections will be rejected and an exception will be received by the calling code.</span></span> <span data-ttu-id="6123b-349">Questo limite non viene imposto ai client tramite cui viene effettuata la connessione alle code mediante l'API basata su REST.</span><span class="sxs-lookup"><span data-stu-id="6123b-349">This limit is not imposed on clients connecting to the queues using REST-based API.</span></span>
* <span data-ttu-id="6123b-350">Se si richiedono più di 10.000 code in un unico spazio dei nomi del bus di servizio, è possibile contattare il team di supporto tecnico di Azure e richiedere un aumento.</span><span class="sxs-lookup"><span data-stu-id="6123b-350">If you require more than 10,000 queues in a single Service Bus namespace, you can contact the Azure support team and request an increase.</span></span> <span data-ttu-id="6123b-351">Per ottenere oltre 10.000 code con il bus di servizio, è anche possibile creare spazi dei nomi aggiuntivi tramite il [portale di Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="6123b-351">To scale beyond 10,000 queues with Service Bus, you can also create additional namespaces using the [Azure portal][Azure portal].</span></span>

## <a name="management-and-operations"></a><span data-ttu-id="6123b-352">Gestione e operazioni</span><span class="sxs-lookup"><span data-stu-id="6123b-352">Management and operations</span></span>
<span data-ttu-id="6123b-353">Questa sezione confronta le funzionalità di gestione fornite dalle code di archiviazione e dalle code del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-353">This section compares the management features provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6123b-354">Criteri di confronto</span><span class="sxs-lookup"><span data-stu-id="6123b-354">Comparison Criteria</span></span> | <span data-ttu-id="6123b-355">Code di archiviazione</span><span class="sxs-lookup"><span data-stu-id="6123b-355">Storage queues</span></span> | <span data-ttu-id="6123b-356">Code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-356">Service Bus queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6123b-357">Protocollo di gestione</span><span class="sxs-lookup"><span data-stu-id="6123b-357">Management protocol</span></span> |<span data-ttu-id="6123b-358">**REST su HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6123b-358">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="6123b-359">**REST su HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6123b-359">**REST over HTTPS**</span></span> |
| <span data-ttu-id="6123b-360">Protocollo runtime</span><span class="sxs-lookup"><span data-stu-id="6123b-360">Runtime protocol</span></span> |<span data-ttu-id="6123b-361">**REST su HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6123b-361">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="6123b-362">**REST su HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6123b-362">**REST over HTTPS**</span></span><br/><br/><span data-ttu-id="6123b-363">**Standard AMQP 1.0 (TCP con TLS)**</span><span class="sxs-lookup"><span data-stu-id="6123b-363">**AMQP 1.0 Standard (TCP with TLS)**</span></span> |
| <span data-ttu-id="6123b-364">API .NET</span><span class="sxs-lookup"><span data-stu-id="6123b-364">.NET API</span></span> |<span data-ttu-id="6123b-365">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-365">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-366">(API client di archiviazione .NET)</span><span class="sxs-lookup"><span data-stu-id="6123b-366">(.NET Storage Client API)</span></span> |<span data-ttu-id="6123b-367">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-367">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-368">(API del bus di servizio .NET)</span><span class="sxs-lookup"><span data-stu-id="6123b-368">(.NET Service Bus API)</span></span> |
| <span data-ttu-id="6123b-369">C++ nativo</span><span class="sxs-lookup"><span data-stu-id="6123b-369">Native C++</span></span> |<span data-ttu-id="6123b-370">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-370">**Yes**</span></span> |<span data-ttu-id="6123b-371">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-371">**Yes**</span></span> |
| <span data-ttu-id="6123b-372">API Java</span><span class="sxs-lookup"><span data-stu-id="6123b-372">Java API</span></span> |<span data-ttu-id="6123b-373">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-373">**Yes**</span></span> |<span data-ttu-id="6123b-374">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-374">**Yes**</span></span> |
| <span data-ttu-id="6123b-375">API PHP</span><span class="sxs-lookup"><span data-stu-id="6123b-375">PHP API</span></span> |<span data-ttu-id="6123b-376">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-376">**Yes**</span></span> |<span data-ttu-id="6123b-377">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-377">**Yes**</span></span> |
| <span data-ttu-id="6123b-378">API Node.js</span><span class="sxs-lookup"><span data-stu-id="6123b-378">Node.js API</span></span> |<span data-ttu-id="6123b-379">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-379">**Yes**</span></span> |<span data-ttu-id="6123b-380">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-380">**Yes**</span></span> |
| <span data-ttu-id="6123b-381">Supporto metadati arbitrario</span><span class="sxs-lookup"><span data-stu-id="6123b-381">Arbitrary metadata support</span></span> |<span data-ttu-id="6123b-382">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-382">**Yes**</span></span> |<span data-ttu-id="6123b-383">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-383">**No**</span></span> |
| <span data-ttu-id="6123b-384">Regole di denominazione delle code</span><span class="sxs-lookup"><span data-stu-id="6123b-384">Queue naming rules</span></span> |<span data-ttu-id="6123b-385">**Può contenere fino a 63 caratteri**</span><span class="sxs-lookup"><span data-stu-id="6123b-385">**Up to 63 characters long**</span></span><br/><br/><span data-ttu-id="6123b-386">(le lettere del nome di una coda devono essere minuscole).</span><span class="sxs-lookup"><span data-stu-id="6123b-386">(Letters in a queue name must be lowercase.)</span></span> |<span data-ttu-id="6123b-387">**Può contenere fino a 260**</span><span class="sxs-lookup"><span data-stu-id="6123b-387">**Up to 260 characters long**</span></span><br/><br/><span data-ttu-id="6123b-388">(i percorsi e i nomi di code non fanno distinzione tra maiuscole e minuscole).</span><span class="sxs-lookup"><span data-stu-id="6123b-388">(Queue paths and names are case-insensitive.)</span></span> |
| <span data-ttu-id="6123b-389">Funzione di recupero della lunghezza della coda</span><span class="sxs-lookup"><span data-stu-id="6123b-389">Get queue length function</span></span> |<span data-ttu-id="6123b-390">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-390">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-391">(valore indicativo se i messaggi scadono dopo il TTL senza essere eliminati).</span><span class="sxs-lookup"><span data-stu-id="6123b-391">(Approximate value if messages expire beyond the TTL without being deleted.)</span></span> |<span data-ttu-id="6123b-392">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-392">**Yes**</span></span><br/><br/><span data-ttu-id="6123b-393">(Valore esatto e temporizzato).</span><span class="sxs-lookup"><span data-stu-id="6123b-393">(Exact, point-in-time value.)</span></span> |
| <span data-ttu-id="6123b-394">Funzione di visualizzazione</span><span class="sxs-lookup"><span data-stu-id="6123b-394">Peek function</span></span> |<span data-ttu-id="6123b-395">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-395">**Yes**</span></span> |<span data-ttu-id="6123b-396">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-396">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6123b-397">Informazioni aggiuntive</span><span class="sxs-lookup"><span data-stu-id="6123b-397">Additional information</span></span>
* <span data-ttu-id="6123b-398">Le code di archiviazione forniscono supporto per gli attributi arbitrari applicabili alla descrizione della coda, sotto forma di coppie nome-valore.</span><span class="sxs-lookup"><span data-stu-id="6123b-398">Storage queues provide support for arbitrary attributes that can be applied to the queue description, in the form of name/value pairs.</span></span>
* <span data-ttu-id="6123b-399">Entrambe le tecnologie di coda consentono di visualizzare un messaggio senza doverlo bloccare. Questa funzionalità può essere utile quando si implementa uno strumento di esplorazione delle code.</span><span class="sxs-lookup"><span data-stu-id="6123b-399">Both queue technologies offer the ability to peek a message without having to lock it, which can be useful when implementing a queue explorer/browser tool.</span></span>
* <span data-ttu-id="6123b-400">Le API gestite .NET di messaggistica negoziata del bus di servizio usano le connessioni TCP full-duplex per ottenere migliori livelli di prestazioni rispetto a REST su HTTP e supportano il protocollo standard AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="6123b-400">The Service Bus .NET brokered messaging APIs leverage full-duplex TCP connections for improved performance when compared to REST over HTTP, and they support the AMQP 1.0 standard protocol.</span></span>
* <span data-ttu-id="6123b-401">I nomi delle code di archiviazione possono avere una lunghezza compresa tra 3 e 63 caratteri e contenere lettere minuscole, numeri e trattini.</span><span class="sxs-lookup"><span data-stu-id="6123b-401">Names of Storage queues can be 3-63 characters long, can contain lowercase letters, numbers, and hyphens.</span></span> <span data-ttu-id="6123b-402">Per altre informazioni, vedere [Naming Queues and Metadata](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata) (Denominazione di code e metadati).</span><span class="sxs-lookup"><span data-stu-id="6123b-402">For more information, see [Naming Queues and Metadata](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata).</span></span>
* <span data-ttu-id="6123b-403">I nomi delle code del bus di servizio possono avere una lunghezza massima di 260 caratteri e presentano regole di denominazione meno restrittive.</span><span class="sxs-lookup"><span data-stu-id="6123b-403">Service Bus queue names can be up to 260 characters long and have less restrictive naming rules.</span></span> <span data-ttu-id="6123b-404">I nomi delle code del bus di servizio possono contenere lettere, numeri, punti, trattini e caratteri di sottolineatura.</span><span class="sxs-lookup"><span data-stu-id="6123b-404">Service Bus queue names can contain letters, numbers, periods, hyphens, and underscores.</span></span>

## <a name="authentication-and-authorization"></a><span data-ttu-id="6123b-405">Autenticazione e autorizzazione</span><span class="sxs-lookup"><span data-stu-id="6123b-405">Authentication and authorization</span></span>
<span data-ttu-id="6123b-406">Questa sezione illustra le funzionalità di autenticazione e autorizzazione supportate dalle code di archiviazione e dalle code del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-406">This section discusses the authentication and authorization features supported by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6123b-407">Criteri di confronto</span><span class="sxs-lookup"><span data-stu-id="6123b-407">Comparison Criteria</span></span> | <span data-ttu-id="6123b-408">Code di archiviazione</span><span class="sxs-lookup"><span data-stu-id="6123b-408">Storage queues</span></span> | <span data-ttu-id="6123b-409">Code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-409">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6123b-410">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="6123b-410">Authentication</span></span> |<span data-ttu-id="6123b-411">**Chiave simmetrica**</span><span class="sxs-lookup"><span data-stu-id="6123b-411">**Symmetric key**</span></span> |<span data-ttu-id="6123b-412">**Chiave simmetrica**</span><span class="sxs-lookup"><span data-stu-id="6123b-412">**Symmetric key**</span></span> |
| <span data-ttu-id="6123b-413">Modello di protezione</span><span class="sxs-lookup"><span data-stu-id="6123b-413">Security model</span></span> |<span data-ttu-id="6123b-414">Accesso delegato tramite token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="6123b-414">Delegated access via SAS tokens.</span></span> |<span data-ttu-id="6123b-415">SAS</span><span class="sxs-lookup"><span data-stu-id="6123b-415">SAS</span></span> |
| <span data-ttu-id="6123b-416">Federazione del provider di identità</span><span class="sxs-lookup"><span data-stu-id="6123b-416">Identity provider federation</span></span> |<span data-ttu-id="6123b-417">**No**</span><span class="sxs-lookup"><span data-stu-id="6123b-417">**No**</span></span> |<span data-ttu-id="6123b-418">**Sì**</span><span class="sxs-lookup"><span data-stu-id="6123b-418">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6123b-419">Informazioni aggiuntive</span><span class="sxs-lookup"><span data-stu-id="6123b-419">Additional information</span></span>
* <span data-ttu-id="6123b-420">Ogni richiesta a entrambe le tecnologie di accodamento deve essere autenticata.</span><span class="sxs-lookup"><span data-stu-id="6123b-420">Every request to either of the queuing technologies must be authenticated.</span></span> <span data-ttu-id="6123b-421">Le code pubbliche con accesso anonimo non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="6123b-421">Public queues with anonymous access are not supported.</span></span> <span data-ttu-id="6123b-422">L'uso di [SAS](service-bus-sas.md) consente di ovviare a questo inconveniente tramite la pubblicazione di una firma SAS di sola scrittura, di sola lettura o anche di accesso completo.</span><span class="sxs-lookup"><span data-stu-id="6123b-422">Using [SAS](service-bus-sas.md), you can address this scenario by publishing a write-only SAS, read-only SAS, or even a full-access SAS.</span></span>
* <span data-ttu-id="6123b-423">Lo schema di autenticazione offerto dalle code di archiviazione prevede l'uso di una chiave simmetrica, ovvero un codice HMAC (Hash Message Authentication Code) basato su hash calcolato dall'algoritmo SHA-256 e codificato come stringa **Base64**.</span><span class="sxs-lookup"><span data-stu-id="6123b-423">The authentication scheme provided by Storage queues involves the use of a symmetric key, which is a hash-based Message Authentication Code (HMAC), computed with the SHA-256 algorithm and encoded as a **Base64** string.</span></span> <span data-ttu-id="6123b-424">Per altre informazioni sul relativo protocollo, vedere [Authentication for the Azure Storage Services](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services) (Autenticazione per i servizi di archiviazione di Azure).</span><span class="sxs-lookup"><span data-stu-id="6123b-424">For more information about the respective protocol, see [Authentication for the Azure Storage Services](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services).</span></span> <span data-ttu-id="6123b-425">Le code del bus di servizio supportano un modello simile mediante l'uso di chiavi simmetriche.</span><span class="sxs-lookup"><span data-stu-id="6123b-425">Service Bus queues support a similar model using symmetric keys.</span></span> <span data-ttu-id="6123b-426">Per altre informazioni, vedere [Autenticazione della firma di accesso condiviso con il bus di servizio](service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="6123b-426">For more information, see [Shared Access Signature Authentication with Service Bus](service-bus-sas.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="6123b-427">Conclusioni</span><span class="sxs-lookup"><span data-stu-id="6123b-427">Conclusion</span></span>
<span data-ttu-id="6123b-428">Acquisendo una comprensione più profonda delle due tecnologie, si sarà in grado di prendere una decisione più oculata circa la tecnologia di accodamento da usare e il momento in cui adottarla.</span><span class="sxs-lookup"><span data-stu-id="6123b-428">By gaining a deeper understanding of the two technologies, you will be able to make a more informed decision on which queue technology to use, and when.</span></span> <span data-ttu-id="6123b-429">La scelta di usare le code di archiviazione o le code del bus di servizio si basa chiaramente su diversi fattori,</span><span class="sxs-lookup"><span data-stu-id="6123b-429">The decision on when to use Storage queues or Service Bus queues clearly depends on a number of factors.</span></span> <span data-ttu-id="6123b-430">che possono dipendere soprattutto dalle singole esigenze dell'applicazione in uso e dalla relativa architettura.</span><span class="sxs-lookup"><span data-stu-id="6123b-430">These factors may depend heavily on the individual needs of your application and its architecture.</span></span> <span data-ttu-id="6123b-431">Se l'applicazione usa già le funzionalità principali di Microsoft Azure, sarà opportuno scegliere le code di Azure, specialmente se sono richieste funzionalità di comunicazione e messaggistica di base tra servizi o se sono necessarie code con dimensioni maggiori di 80 GB.</span><span class="sxs-lookup"><span data-stu-id="6123b-431">If your application already uses the core capabilities of Microsoft Azure, you may prefer to choose Storage queues, especially if you require basic communication and messaging between services or need queues that can be larger than 80 GB in size.</span></span>

<span data-ttu-id="6123b-432">Poiché offrono numerose funzionalità avanzate quali sessioni, transazioni rilevamento duplicati, mancato recapito automatico dei messaggi e funzionalità di pubblicazione e sottoscrizione permanente, le code del bus di servizio possono rappresentare la soluzione migliore quando si sviluppa un'applicazione ibrida o se l'applicazione in uso richiede comunque tali funzionalità.</span><span class="sxs-lookup"><span data-stu-id="6123b-432">Because Service Bus queues provide a number of advanced features, such as sessions, transactions, duplicate detection, automatic dead-lettering, and durable publish/subscribe capabilities, they may be a preferred choice if you are building a hybrid application or if your application otherwise requires these features.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6123b-433">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="6123b-433">Next steps</span></span>
<span data-ttu-id="6123b-434">Gli articoli seguenti offrono ulteriori indicazioni e informazioni sull'uso delle code di archiviazione e delle code del bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="6123b-434">The following articles provide more guidance and information about using Storage queues or Service Bus queues.</span></span>

* [<span data-ttu-id="6123b-435">Introduzione alle code del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-435">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="6123b-436">Come usare il servizio di archiviazione code</span><span class="sxs-lookup"><span data-stu-id="6123b-436">How to Use the Queue Storage Service</span></span>](../storage/queues/storage-dotnet-how-to-use-queues.md)
* [<span data-ttu-id="6123b-437">Procedure consigliate per il miglioramento delle prestazioni tramite la messaggistica negoziata del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-437">Best practices for performance improvements using Service Bus brokered messaging</span></span>](service-bus-performance-improvements.md)
* [<span data-ttu-id="6123b-438">Introduzione alle code e agli argomenti del bus di servizio di Azure (post di blog)</span><span class="sxs-lookup"><span data-stu-id="6123b-438">Introducing Queues and Topics in Azure Service Bus (blog post)</span></span>](http://www.code-magazine.com/article.aspx?quickid=1112041)
* [<span data-ttu-id="6123b-439">Guida per gli sviluppatori del bus di servizio</span><span class="sxs-lookup"><span data-stu-id="6123b-439">The Developer's Guide to Service Bus</span></span>](http://www.cloudcasts.net/devguide/Default.aspx?id=11030)
* [<span data-ttu-id="6123b-440">Uso del servizio di accodamento in Azure</span><span class="sxs-lookup"><span data-stu-id="6123b-440">Using the Queuing Service in Azure</span></span>](http://www.developerfusion.com/article/120197/using-the-queuing-service-in-windows-azure/)

[Azure portal]: https://portal.azure.com

