---
title: Autenticazione RADIUS e server Azure MFA | Microsoft Docs
description: "Questa è la pagina di Azure Multi-Factor Authentication contenente le informazioni utili per distribuire l'autenticazione RADIUS e il server Azure Multi-Factor Authentication."
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: f4ba0fb2-2be9-477e-9bea-04c7340c8bce
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 02/26/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: H1Hack27Feb2017, it-pro
ms.openlocfilehash: a4c52cc40b17902d92f7a94028ddb3c641911e8d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="integrate-radius-authentication-with-azure-multi-factor-authentication-server"></a><span data-ttu-id="51f63-103">Integrare l'autenticazione con il server Azure Multi-Factor Authentication</span><span class="sxs-lookup"><span data-stu-id="51f63-103">Integrate RADIUS authentication with Azure Multi-Factor Authentication Server</span></span>
<span data-ttu-id="51f63-104">Usare la sezione autenticazione RADIUS del server Azure MFA per abilitare e configurare l'autenticazione RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-104">Use the RADIUS Authentication section of Azure MFA Server to enable and configure RADIUS authentication.</span></span> <span data-ttu-id="51f63-105">RADIUS è un protocollo standard per accettare le richieste di autenticazione e per elaborare le richieste.</span><span class="sxs-lookup"><span data-stu-id="51f63-105">RADIUS is a standard protocol to accept authentication requests and to process those requests.</span></span> <span data-ttu-id="51f63-106">Il server Azure Multi-Factor Authentication funziona come un server RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-106">The Azure Multi-Factor Authentication Server acts as a RADIUS server.</span></span> <span data-ttu-id="51f63-107">Inserirlo tra il client RADIUS (ad esempio un accessorio VPN) e la destinazione di autenticazione, che potrebbe essere Active Directory (AD), una directory LDAP o un altro server RADIUS per aggiungere Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="51f63-107">Insert it between your RADIUS client (VPN appliance) and your authentication target, which could be Active Directory (AD), an LDAP directory, or another RADIUS server to add Azure Multi-Factor Authentication.</span></span> <span data-ttu-id="51f63-108">Per far funzionare Azure Multi-Factor Authentication (MFA), è necessario configurare il server Azure MFA in modo che possa comunicare con i server client e la destinazione di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="51f63-108">For Azure Multi-Factor Authentication (MFA) to function, you must configure the Azure MFA Server so that it can communicate with both the client servers and the authentication target.</span></span> <span data-ttu-id="51f63-109">Il server Azure MFA accetta richieste da un client RADIUS, convalida le credenziali rispetto alla destinazione di autenticazione, aggiunge Azure Multi-Factor Authentication e invia una risposta al client RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-109">The Azure MFA Server accepts requests from a RADIUS client, validates credentials against the authentication target, adds Azure Multi-Factor Authentication, and sends a response back to the RADIUS client.</span></span> <span data-ttu-id="51f63-110">La richiesta di autenticazione avrà esito positivo solo se l'autenticazione principale e Azure Multi-Factor Authentication hanno esito positivo.</span><span class="sxs-lookup"><span data-stu-id="51f63-110">The authentication request only succeeds if both the primary authentication and the Azure Multi-Factor Authentication succeed.</span></span>

> [!NOTE]
> <span data-ttu-id="51f63-111">Il server MFA supporta solo i protocolli RADIUS PAP (Password Authentication Protocol) e MSCHAPv2 (Microsoft Challenge Handshake Authentication Protocol) quando agisce da server RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-111">The MFA Server only supports PAP (password authentication protocol) and MSCHAPv2 (Microsoft's Challenge-Handshake Authentication Protocol) RADIUS protocols when acting as a RADIUS server.</span></span>  <span data-ttu-id="51f63-112">Quando il server MFA agisce come proxy RADIUS per un altro server RADIUS che supporta tale protocollo, è possibile usare altri protocolli, ad esempio EAP (Extensible Authentication Protocol).</span><span class="sxs-lookup"><span data-stu-id="51f63-112">Other protocols, like EAP (extensible authentication protocol), can be used when the MFA server acts as a RADIUS proxy to another RADIUS server that supports that protocol.</span></span>
>
> <span data-ttu-id="51f63-113">In questa configurazione i token OATH e SMS unidirezionali non funzionano perché il server MFA non è in grado di avviare una risposta RADIUS in attesa corretta tramite protocolli alternativi.</span><span class="sxs-lookup"><span data-stu-id="51f63-113">In this configuration, one-way SMS and OATH tokens don't work since the MFA Server can't initiate a successful RADIUS Challenge response using alternative protocols.</span></span>

![Autenticazione RADIUS](./media/multi-factor-authentication-get-started-server-rdg/radius.png)

## <a name="add-a-radius-client"></a><span data-ttu-id="51f63-115">Aggiungere un client RADIUS</span><span class="sxs-lookup"><span data-stu-id="51f63-115">Add a RADIUS client</span></span>
<span data-ttu-id="51f63-116">Per configurare l'autenticazione RADIUS, installare il Server Azure Multi-Factor Authentication su un server Windows.</span><span class="sxs-lookup"><span data-stu-id="51f63-116">To configure RADIUS authentication, install the Azure Multi-Factor Authentication Server on a Windows server.</span></span> <span data-ttu-id="51f63-117">Se si dispone di un ambiente Active Directory, il server deve appartenere al dominio all'interno della rete.</span><span class="sxs-lookup"><span data-stu-id="51f63-117">If you have an Active Directory environment, the server should be joined to the domain inside the network.</span></span> <span data-ttu-id="51f63-118">Utilizzare la procedura seguente per configurare il Server Azure Multi-Factor Authentication:</span><span class="sxs-lookup"><span data-stu-id="51f63-118">Use the following procedure to configure the Azure Multi-Factor Authentication Server:</span></span>

1. <span data-ttu-id="51f63-119">Nel server Azure Multi-Factor Authentication fare clic sull'icona autenticazione RADIUS nel menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="51f63-119">In the Azure Multi-Factor Authentication Server, click the RADIUS Authentication icon in the left menu.</span></span>
2. <span data-ttu-id="51f63-120">Selezionare la casella di controllo **Abilita autenticazione RADIUS**.</span><span class="sxs-lookup"><span data-stu-id="51f63-120">Check the **Enable RADIUS authentication** checkbox.</span></span>
3. <span data-ttu-id="51f63-121">Nella scheda Client modificare le porte di autenticazione e accounting se il servizio RADIUS di Azure MFA deve attendere le richieste RADIUS su porte non standard.</span><span class="sxs-lookup"><span data-stu-id="51f63-121">On the Clients tab, change the Authentication and Accounting ports if the Azure MFA RADIUS service needs to listen for RADIUS requests on non-standard ports.</span></span>
4. <span data-ttu-id="51f63-122">Fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="51f63-122">Click **Add**.</span></span>
5. <span data-ttu-id="51f63-123">Immettere l'indirizzo IP dell'accessorio/server che eseguirà l'autenticazione al server Azure Multi-Factor Authentication, il nome di un'applicazione (facoltativo) e un segreto condiviso.</span><span class="sxs-lookup"><span data-stu-id="51f63-123">Enter the IP address of the appliance/server that will authenticate to the Azure Multi-Factor Authentication Server, an application name (optional), and a shared secret.</span></span>

  <span data-ttu-id="51f63-124">Il nome dell'applicazione viene visualizzato nei report di Azure Multi-Factor Authentication e potrebbe essere visualizzato all'interno di messaggi di autenticazione dell'app mobile o SMS.</span><span class="sxs-lookup"><span data-stu-id="51f63-124">The application name appears in Azure Multi-Factor Authentication reports and may be displayed within SMS or Mobile App authentication messages.</span></span>

  <span data-ttu-id="51f63-125">Il segreto condiviso dovrà essere lo stesso per il server Azure Multi-Factor Authentication e l'accessorio/server.</span><span class="sxs-lookup"><span data-stu-id="51f63-125">The shared secret needs to be the same on both the Azure Multi-Factor Authentication Server and appliance/server.</span></span>

6. <span data-ttu-id="51f63-126">Se tutti gli utenti sono già stati o verranno importati nel server e saranno soggetti all'autenticazione a più fattori, selezionare la casella **Richiedi corrispondenza utente di Multi-Factor Authentication**.</span><span class="sxs-lookup"><span data-stu-id="51f63-126">Check the **Require Multi-Factor Authentication user match** box if all users have been or will be imported into the Server and subject to multi-factor authentication.</span></span> <span data-ttu-id="51f63-127">Se un numero significativo di utenti non è ancora stato importato nel server e/o non sarà soggetto alla verifica in due passaggi, lasciare deselezionata la casella.</span><span class="sxs-lookup"><span data-stu-id="51f63-127">If a significant number of users have not yet been imported into the Server and/or will be exempt from two-step verification, leave the box unchecked.</span></span>
7. <span data-ttu-id="51f63-128">Selezionare la casella **Abilita token OATH di fallback** se si desidera usare i passcode OATH dalle app mobili per la verifica come fallback per chiamate fuori banda, SMS o notifiche push.</span><span class="sxs-lookup"><span data-stu-id="51f63-128">Check the **Enable fallback OATH token** box if you want to use OATH passcodes from mobile verification apps as a fallback to the out-of-band phone call, SMS, or push notification.</span></span>
8. <span data-ttu-id="51f63-129">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="51f63-129">Click **OK**.</span></span>

<span data-ttu-id="51f63-130">Ripetere i passaggi da 4 a 8 per aggiungere tutti i client RADIUS che si desidera.</span><span class="sxs-lookup"><span data-stu-id="51f63-130">Repeat steps 4 through 8 to add as many additional RADIUS clients as you need.</span></span>

## <a name="configure-your-radius-client"></a><span data-ttu-id="51f63-131">Configurare il client RADIUS</span><span class="sxs-lookup"><span data-stu-id="51f63-131">Configure your RADIUS client</span></span>

1. <span data-ttu-id="51f63-132">Fare clic sulla scheda **Destinazione**.</span><span class="sxs-lookup"><span data-stu-id="51f63-132">Click the **Target** tab.</span></span>
2. <span data-ttu-id="51f63-133">Se il server Azure MFA è installato in un server aggiunto a un dominio in un ambiente Active Directory, selezionare il dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="51f63-133">If the Azure MFA Server is installed on a domain-joined server in an Active Directory environment, select Windows domain.</span></span>
3. <span data-ttu-id="51f63-134">Se gli utenti devono essere autenticati in una directory LDAP, selezionare **Binding LDAP**.</span><span class="sxs-lookup"><span data-stu-id="51f63-134">If users should be authenticated against an LDAP directory, select **LDAP bind**.</span></span>

  <span data-ttu-id="51f63-135">Per usare il binding LDAP, fare clic sull'icona di integrazione della directory e modificare la configurazione LDAP nella scheda Impostazioni in modo da associare il Server alla directory.</span><span class="sxs-lookup"><span data-stu-id="51f63-135">To use LDAP bind, click the Directory Integration icon and edit the LDAP configuration on the Settings tab so that the Server can bind to your directory.</span></span> <span data-ttu-id="51f63-136">Le istruzioni per la configurazione LDAP sono disponibili nella [Guida alla configurazione del proxy LDAP](multi-factor-authentication-get-started-server-ldap.md).</span><span class="sxs-lookup"><span data-stu-id="51f63-136">Instructions for configuring LDAP can be found in the [LDAP Proxy configuration guide](multi-factor-authentication-get-started-server-ldap.md).</span></span>

4. <span data-ttu-id="51f63-137">Se gli utenti devono essere autenticati in un altro server RADIUS, selezionare il/i server RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-137">If users should be authenticated against another RADIUS server, select RADIUS server(s).</span></span>
5. <span data-ttu-id="51f63-138">Fare clic su **Aggiungi** per configurare il server in cui il server Azure MFA userà il proxy per le richieste RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-138">Click **Add** to configure the server to which the Azure MFA Server will proxy the RADIUS requests.</span></span>
6. <span data-ttu-id="51f63-139">Nella finestra di dialogo Aggiungi server RADIUS immettere l'indirizzo IP del server RADIUS e un segreto condiviso.</span><span class="sxs-lookup"><span data-stu-id="51f63-139">In the Add RADIUS Server dialog box, enter the IP address of the RADIUS server and a shared secret.</span></span>

  <span data-ttu-id="51f63-140">Il segreto condiviso deve essere lo stesso per il server RADIUS e per il server Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="51f63-140">The shared secret needs to be the same on both the Azure Multi-Factor Authentication Server and RADIUS server.</span></span> <span data-ttu-id="51f63-141">Se il server RADIUS utilizza porte diverse, modificare le porte di autenticazione e Accounting.</span><span class="sxs-lookup"><span data-stu-id="51f63-141">Change the Authentication port and Accounting port if different ports are used by the RADIUS server.</span></span>

7. <span data-ttu-id="51f63-142">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="51f63-142">Click **OK**.</span></span>
8. <span data-ttu-id="51f63-143">Aggiungere il server Azure MFA come client RADIUS negli altri server RADIUS in modo che questo elabori le richieste di accesso ricevute dal server Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="51f63-143">Add the Azure MFA Server as a RADIUS client in the other RADIUS server so that it can process access requests sent to it from the Azure MFA Server.</span></span> <span data-ttu-id="51f63-144">Usare lo stesso segreto condiviso configurato nel server Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="51f63-144">Use the same shared secret configured in the Azure Multi-Factor Authentication Server.</span></span>

<span data-ttu-id="51f63-145">Ripetere questi passaggi per aggiungere altri server RADIUS e configurare l'ordine in cui il server Azure MFA deve chiamarli con i pulsanti **Move Up** (Sposta su) e **Sposta giù**.</span><span class="sxs-lookup"><span data-stu-id="51f63-145">Repeat these steps to add more RADIUS servers and configure the order in which the Azure MFA Server should call them with the **Move Up** and **Move Down** buttons.</span></span>

<span data-ttu-id="51f63-146">In questo modo è stata completata la configurazione del Server Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="51f63-146">This completes the Azure Multi-Factor Authentication Server configuration.</span></span> <span data-ttu-id="51f63-147">Il Server è in attesa sulle porte configurate per le richieste di accesso RADIUS dai client configurati.</span><span class="sxs-lookup"><span data-stu-id="51f63-147">The Server is now listening on the configured ports for RADIUS access requests from the configured clients.</span></span>   

## <a name="radius-client-configuration"></a><span data-ttu-id="51f63-148">Configurazione del client RADIUS</span><span class="sxs-lookup"><span data-stu-id="51f63-148">RADIUS Client configuration</span></span>
<span data-ttu-id="51f63-149">Per configurare il client RADIUS, utilizzare le linee guida:</span><span class="sxs-lookup"><span data-stu-id="51f63-149">To configure the RADIUS client, use the guidelines:</span></span>

* <span data-ttu-id="51f63-150">Configurare il dispositivo/server per l'autenticazione RADIUS per l'indirizzo IP del Server di Azure Multi-Factor Authentication, che fungerà da server RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-150">Configure your appliance/server to authenticate via RADIUS to the Azure Multi-Factor Authentication Server’s IP address, which will act as the RADIUS server.</span></span>
* <span data-ttu-id="51f63-151">Usare lo stesso segreto condiviso configurato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="51f63-151">Use the same shared secret that was configured earlier.</span></span>
* <span data-ttu-id="51f63-152">Impostare il timeout di RADIUS su un valore compreso tra 30 e 60 secondi in modo da rendere disponibile una quantità di tempo sufficiente per convalidare le credenziali dell'utente, eseguire l'autenticazione in due passaggi, ricevere la risposta e quindi rispondere alla richiesta di accesso RADIUS.</span><span class="sxs-lookup"><span data-stu-id="51f63-152">Configure the RADIUS timeout to 30-60 seconds so that there is time to validate the user’s credentials, perform two-step verification, receive their response, and then respond to the RADIUS access request.</span></span>
