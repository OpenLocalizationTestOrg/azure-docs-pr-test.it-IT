---
title: Copiare i dati da BLOB di Archiviazione di Azure ad Archivio Data Lake| Microsoft Docs
description: Usare lo strumento AdlCopy per copiare i dati da BLOB di Archiviazione di Azure ad Archivio Data Lake
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: dc273ef8-96ef-47a6-b831-98e8a777a5c1
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 06/29/2017
ms.author: nitinme
ms.openlocfilehash: 68f44991432a76c2ef1c79ec6dffdea4c62bcb17
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="copy-data-from-azure-storage-blobs-to-data-lake-store"></a><span data-ttu-id="b4065-103">Copiare i dati da BLOB di Archiviazione di Azure ad Archivio Data Lake</span><span class="sxs-lookup"><span data-stu-id="b4065-103">Copy data from Azure Storage Blobs to Data Lake Store</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="b4065-104">Con DistCp</span><span class="sxs-lookup"><span data-stu-id="b4065-104">Using DistCp</span></span>](data-lake-store-copy-data-wasb-distcp.md)
> * [<span data-ttu-id="b4065-105">Con AdlCopy</span><span class="sxs-lookup"><span data-stu-id="b4065-105">Using AdlCopy</span></span>](data-lake-store-copy-data-azure-storage-blob.md)
>
>

<span data-ttu-id="b4065-106">Azure Data Lake Store fornisce uno strumento da riga di comando, [AdlCopy](http://aka.ms/downloadadlcopy), per copiare dati dalle origini seguenti:</span><span class="sxs-lookup"><span data-stu-id="b4065-106">Azure Data Lake Store provides a command line tool, [AdlCopy](http://aka.ms/downloadadlcopy), to copy data from the following sources:</span></span>

* <span data-ttu-id="b4065-107">Dal BLOB di Archiviazione di Azure a Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="b4065-107">From Azure Storage Blobs into Data Lake Store.</span></span> <span data-ttu-id="b4065-108">Non è possibile usare lo strumento AdlCopy per copiare dati da Archivio Data Lake ai BLOB di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="b4065-108">You cannot use AdlCopy to copy data from Data Lake Store to Azure Storage blobs.</span></span>
* <span data-ttu-id="b4065-109">Tra due account di Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="b4065-109">Between two Azure Data Lake Store accounts.</span></span>

<span data-ttu-id="b4065-110">È anche possibile usare lo strumento AdlCopy in due modi diversi:</span><span class="sxs-lookup"><span data-stu-id="b4065-110">Also, you can use the AdlCopy tool in two different modes:</span></span>

* <span data-ttu-id="b4065-111">**Autonomo**, in cui lo strumento usa le risorse di Archivio Data Lake per eseguire l'attività.</span><span class="sxs-lookup"><span data-stu-id="b4065-111">**Standalone**, where the tool uses Data Lake Store resources to perform the task.</span></span>
* <span data-ttu-id="b4065-112">**Tramite un account di Analisi Data Lake**, in cui le unità assegnate all'account di Analisi Data Lake vengono usate per eseguire l'operazione di copia.</span><span class="sxs-lookup"><span data-stu-id="b4065-112">**Using a Data Lake Analytics account**, where the units assigned to your Data Lake Analytics account are used to perform the copy operation.</span></span> <span data-ttu-id="b4065-113">È consigliabile scegliere questa opzione se si intende eseguire le attività di copia in modo prevedibile.</span><span class="sxs-lookup"><span data-stu-id="b4065-113">You might want to use this option when you are looking to perform the copy tasks in a predictable manner.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b4065-114">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="b4065-114">Prerequisites</span></span>
<span data-ttu-id="b4065-115">Per eseguire le procedure descritte nell'articolo è necessario:</span><span class="sxs-lookup"><span data-stu-id="b4065-115">Before you begin this article, you must have the following:</span></span>

* <span data-ttu-id="b4065-116">**Una sottoscrizione di Azure**.</span><span class="sxs-lookup"><span data-stu-id="b4065-116">**An Azure subscription**.</span></span> <span data-ttu-id="b4065-117">Vedere [Ottenere una versione di valutazione gratuita di Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="b4065-117">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="b4065-118">**BLOB di Archiviazione di Azure** con alcuni dati.</span><span class="sxs-lookup"><span data-stu-id="b4065-118">**Azure Storage Blobs** container with some data.</span></span>
* <span data-ttu-id="b4065-119">**Un account di Archivio Data Lake di Azure**.</span><span class="sxs-lookup"><span data-stu-id="b4065-119">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="b4065-120">Per istruzioni su come crearne uno, vedere [Introduzione ad Archivio Data Lake di Azure](data-lake-store-get-started-portal.md)</span><span class="sxs-lookup"><span data-stu-id="b4065-120">For instructions on how to create one, see [Get started with Azure Data Lake Store](data-lake-store-get-started-portal.md)</span></span>
* <span data-ttu-id="b4065-121">**Un account di Azure Data Lake Analytics (facoltativo)**. Per istruzioni su come creare un account di Data Lake Store, vedere [Introduzione ad Azure Data Lake Analytics con il portale di Azure](../data-lake-analytics/data-lake-analytics-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="b4065-121">**Azure Data Lake Analytics account (optional)** - See [Get started with Azure Data Lake Analytics](../data-lake-analytics/data-lake-analytics-get-started-portal.md) for instructions on how to create a Data Lake Store account.</span></span>
* <span data-ttu-id="b4065-122">**Lo strumento AdlCopy**.</span><span class="sxs-lookup"><span data-stu-id="b4065-122">**AdlCopy tool**.</span></span> <span data-ttu-id="b4065-123">Installare lo strumento AdlCopy da [http://aka.ms/downloadadlcopy](http://aka.ms/downloadadlcopy).</span><span class="sxs-lookup"><span data-stu-id="b4065-123">Install the AdlCopy tool from [http://aka.ms/downloadadlcopy](http://aka.ms/downloadadlcopy).</span></span>

## <a name="syntax-of-the-adlcopy-tool"></a><span data-ttu-id="b4065-124">Sintassi dello strumento AdlCopy</span><span class="sxs-lookup"><span data-stu-id="b4065-124">Syntax of the AdlCopy tool</span></span>
<span data-ttu-id="b4065-125">Usare la sintassi seguente per usare lo strumento AdlCopy</span><span class="sxs-lookup"><span data-stu-id="b4065-125">Use the following syntax to work with the AdlCopy tool</span></span>

    AdlCopy /Source <Blob or Data Lake Store source> /Dest <Data Lake Store destination> /SourceKey <Key for Blob account> /Account <Data Lake Analytics account> /Unit <Number of Analytics units> /Pattern

<span data-ttu-id="b4065-126">I parametri nella sintassi sono descritti di seguito:</span><span class="sxs-lookup"><span data-stu-id="b4065-126">The parameters in the syntax are described below:</span></span>

| <span data-ttu-id="b4065-127">Opzione</span><span class="sxs-lookup"><span data-stu-id="b4065-127">Option</span></span> | <span data-ttu-id="b4065-128">Descrizione</span><span class="sxs-lookup"><span data-stu-id="b4065-128">Description</span></span> |
| --- | --- |
| <span data-ttu-id="b4065-129">Sorgente</span><span class="sxs-lookup"><span data-stu-id="b4065-129">Source</span></span> |<span data-ttu-id="b4065-130">Specifica il percorso dei dati di origine nel BLOB di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="b4065-130">Specifies the location of the source data in the Azure storage blob.</span></span> <span data-ttu-id="b4065-131">L'origine può essere un contenitore BLOB, un BLOB o un altro account Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="b4065-131">The source can be a blob container, a blob, or another Data Lake Store account.</span></span> |
| <span data-ttu-id="b4065-132">Dest</span><span class="sxs-lookup"><span data-stu-id="b4065-132">Dest</span></span> |<span data-ttu-id="b4065-133">Specifica la destinazione di Archivio Data Lake in cui eseguire la copia.</span><span class="sxs-lookup"><span data-stu-id="b4065-133">Specifies the Data Lake Store destination to copy to.</span></span> |
| <span data-ttu-id="b4065-134">SourceKey</span><span class="sxs-lookup"><span data-stu-id="b4065-134">SourceKey</span></span> |<span data-ttu-id="b4065-135">Specifica la chiave di accesso alle risorse di archiviazione per l'origine BLOB di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="b4065-135">Specifies the storage access key for the Azure storage blob source.</span></span> <span data-ttu-id="b4065-136">La chiave è necessaria solo se l'origine è un contenitore BLOB o un BLOB.</span><span class="sxs-lookup"><span data-stu-id="b4065-136">This is required only if the source is a blob container or a blob.</span></span> |
| <span data-ttu-id="b4065-137">Account</span><span class="sxs-lookup"><span data-stu-id="b4065-137">Account</span></span> |<span data-ttu-id="b4065-138">**Facoltativo**.</span><span class="sxs-lookup"><span data-stu-id="b4065-138">**Optional**.</span></span> <span data-ttu-id="b4065-139">Scegliere questa opzione se si vuole usare l'account di Analisi Azure Data Lake per eseguire il processo di copia.</span><span class="sxs-lookup"><span data-stu-id="b4065-139">Use this if you want to use Azure Data Lake Analytics account to run the copy job.</span></span> <span data-ttu-id="b4065-140">Se si usa l'opzione /Account nella sintassi ma non si specifica un account di Analisi Data Lake, AdlCopy usa un account predefinito per eseguire il processo.</span><span class="sxs-lookup"><span data-stu-id="b4065-140">If you use the /Account option in the syntax but do not specify a Data Lake Analytics account, AdlCopy uses a default account to run the job.</span></span> <span data-ttu-id="b4065-141">Inoltre, se si sceglie questa opzione, è necessario aggiungere l'origine (BLOB di Archiviazione di Azure) e la destinazione (Archivio Azure Data Lake) come origini dati per l'account di Analisi Data Lake.</span><span class="sxs-lookup"><span data-stu-id="b4065-141">Also, if you use this option, you must add the source (Azure Storage Blob) and destination (Azure Data Lake Store) as data sources for your Data Lake Analytics account.</span></span> |
| <span data-ttu-id="b4065-142">Unità</span><span class="sxs-lookup"><span data-stu-id="b4065-142">Units</span></span> |<span data-ttu-id="b4065-143">Specifica il numero di unità di Analisi Data Lake che verranno usate per il processo di copia.</span><span class="sxs-lookup"><span data-stu-id="b4065-143">Specifies the number of Data Lake Analytics units that will be used for the copy job.</span></span> <span data-ttu-id="b4065-144">Questa opzione è obbligatoria se si usa l'opzione **/Account** per specificare l'account di Analisi Data Lake.</span><span class="sxs-lookup"><span data-stu-id="b4065-144">This option is mandatory if you use the **/Account** option to specify the Data Lake Analytics account.</span></span> |
| <span data-ttu-id="b4065-145">Modello</span><span class="sxs-lookup"><span data-stu-id="b4065-145">Pattern</span></span> |<span data-ttu-id="b4065-146">Specifica un modello regex che indica quali BLOB o file copiare.</span><span class="sxs-lookup"><span data-stu-id="b4065-146">Specifies a regex pattern that indicates which blobs or files to copy.</span></span> <span data-ttu-id="b4065-147">AdlCopy usa la corrispondenza tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="b4065-147">AdlCopy uses case-sensitive matching.</span></span> <span data-ttu-id="b4065-148">La copia di tutti gli elementi è il criterio predefinito usato quando non viene specificato alcun modello.</span><span class="sxs-lookup"><span data-stu-id="b4065-148">The default pattern used when no pattern is specified is to copy all items.</span></span> <span data-ttu-id="b4065-149">Non è consentito specificare più criteri file.</span><span class="sxs-lookup"><span data-stu-id="b4065-149">Specifying multiple file patterns is not supported.</span></span> |

## <a name="use-adlcopy-as-standalone-to-copy-data-from-an-azure-storage-blob"></a><span data-ttu-id="b4065-150">Usare AdlCopy (come file autonomo) per copiare i dati da un BLOB di Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="b4065-150">Use AdlCopy (as standalone) to copy data from an Azure Storage blob</span></span>
1. <span data-ttu-id="b4065-151">Aprire un prompt dei comandi e passare alla directory in cui è installato AdlCopy, in genere `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="b4065-151">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="b4065-152">Eseguire il comando seguente per copiare un BLOB specifico dal contenitore di origine a un'istanza di Archivio Data Lake:</span><span class="sxs-lookup"><span data-stu-id="b4065-152">Run the following command to copy a specific blob from the source container to a Data Lake Store:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container>

    <span data-ttu-id="b4065-153">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="b4065-153">For example:</span></span>

        AdlCopy /source https://mystorage.blob.core.windows.net/mycluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/909f2b.log /dest swebhdfs://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ==

    >[AZURE.NOTE] <span data-ttu-id="b4065-154">La sintassi precedente specifica il file da copiare in una cartella dell'account Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="b4065-154">The syntax above specifies the file to be copied to a folder in the Data Lake Store account.</span></span> <span data-ttu-id="b4065-155">Se il nome della cartella specificato non esiste, lo strumento AdlCopy crea una cartella.</span><span class="sxs-lookup"><span data-stu-id="b4065-155">AdlCopy tool creates a folder if the specified folder name does not exist.</span></span>

    <span data-ttu-id="b4065-156">Verrà richiesto di immettere le credenziali per la sottoscrizione di Azure in cui si trova l'account Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="b4065-156">You will be prompted to enter the credentials for the Azure subscription under which you have your Data Lake Store account.</span></span> <span data-ttu-id="b4065-157">L'output visualizzato sarà simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="b4065-157">You will see an output similar to the following:</span></span>

        Initializing Copy.
        Copy Started.
        100% data copied.
        Finishing Copy.
        Copy Completed. 1 file copied.

1. <span data-ttu-id="b4065-158">È inoltre possibile copiare tutti i BLOB da un contenitore all'account di Archivio Data Lake tramite il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="b4065-158">You can also copy all the blobs from one container to the Data Lake Store account using the following command:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/ /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container>        

    <span data-ttu-id="b4065-159">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="b4065-159">For example:</span></span>

        AdlCopy /Source https://mystorage.blob.core.windows.net/mycluster/example/data/gutenberg/ /dest adl://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ==

### <a name="performance-considerations"></a><span data-ttu-id="b4065-160">Considerazioni sulle prestazioni</span><span class="sxs-lookup"><span data-stu-id="b4065-160">Performance considerations</span></span>

<span data-ttu-id="b4065-161">Quando si esegue una copia da un account di Archiviazione BLOB di Azure, è possibile che alcune operazioni siano limitate nell'ambito dell'archiviazione BLOB.</span><span class="sxs-lookup"><span data-stu-id="b4065-161">If you are copying from an Azure Blob Storage account, you may be throttled during copy on the blob storage side.</span></span> <span data-ttu-id="b4065-162">In questo caso le prestazioni del processo di copia diminuiranno.</span><span class="sxs-lookup"><span data-stu-id="b4065-162">This will degrade the performance of your copy job.</span></span> <span data-ttu-id="b4065-163">Per altre informazioni sui limiti di Archiviazione BLOB di Azure, vedere i limiti di Archiviazione di Azure in [Sottoscrizione di Azure e limiti, quote e vincoli dei servizi](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="b4065-163">To learn more about the limits of Azure Blob Storage, see Azure Storage limits at [Azure subscription and service limits](../azure-subscription-service-limits.md).</span></span>

## <a name="use-adlcopy-as-standalone-to-copy-data-from-another-data-lake-store-account"></a><span data-ttu-id="b4065-164">Usare AdlCopy (come file autonomo) per copiare i dati da un altro account di Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="b4065-164">Use AdlCopy (as standalone) to copy data from another Data Lake Store account</span></span>
<span data-ttu-id="b4065-165">È anche possibile usare AdlCopy per copiare dati tra due account Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="b4065-165">You can also use AdlCopy to copy data between two Data Lake Store accounts.</span></span>

1. <span data-ttu-id="b4065-166">Aprire un prompt dei comandi e passare alla directory in cui è installato AdlCopy, in genere `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="b4065-166">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="b4065-167">Eseguire il comando seguente per copiare un file specifico da un account Data Lake Store a un altro.</span><span class="sxs-lookup"><span data-stu-id="b4065-167">Run the following command to copy a specific file from one Data Lake Store account to another.</span></span>

        AdlCopy /Source adl://<source_adls_account>.azuredatalakestore.net/<path_to_file> /dest adl://<dest_adls_account>.azuredatalakestore.net/<path>/

    <span data-ttu-id="b4065-168">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="b4065-168">For example:</span></span>

        AdlCopy /Source adl://mydatastore.azuredatalakestore.net/mynewfolder/909f2b.log /dest adl://mynewdatalakestore.azuredatalakestore.net/mynewfolder/

   > [!NOTE]
   > <span data-ttu-id="b4065-169">La sintassi precedente specifica il file da copiare in una cartella dell'account Data Lake Store di destinazione.</span><span class="sxs-lookup"><span data-stu-id="b4065-169">The syntax above specifies the file to be copied to a folder in the destination Data Lake Store account.</span></span> <span data-ttu-id="b4065-170">Se il nome della cartella specificato non esiste, lo strumento AdlCopy crea una cartella.</span><span class="sxs-lookup"><span data-stu-id="b4065-170">AdlCopy tool creates a folder if the specified folder name does not exist.</span></span>
   >
   >

    <span data-ttu-id="b4065-171">Verrà richiesto di immettere le credenziali per la sottoscrizione di Azure in cui si trova l'account Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="b4065-171">You will be prompted to enter the credentials for the Azure subscription under which you have your Data Lake Store account.</span></span> <span data-ttu-id="b4065-172">L'output visualizzato sarà simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="b4065-172">You will see an output similar to the following:</span></span>

        Initializing Copy.
        Copy Started.|
        100% data copied.
        Finishing Copy.
        Copy Completed. 1 file copied.
3. <span data-ttu-id="b4065-173">Il comando seguente consente di copiare tutti i file da una cartella specifica dell'account Data Lake Store di origine in una cartella dell'account Data Lake Store di destinazione.</span><span class="sxs-lookup"><span data-stu-id="b4065-173">The following command copies all files from a specific folder in the source Data Lake Store account to a folder in the destination Data Lake Store account.</span></span>

        AdlCopy /Source adl://mydatastore.azuredatalakestore.net/mynewfolder/ /dest adl://mynewdatalakestore.azuredatalakestore.net/mynewfolder/

### <a name="performance-considerations"></a><span data-ttu-id="b4065-174">Considerazioni sulle prestazioni</span><span class="sxs-lookup"><span data-stu-id="b4065-174">Performance considerations</span></span>

<span data-ttu-id="b4065-175">Quando si usa AdlCopy come strumento autonomo, la copia viene eseguita su risorse gestite di Azure condivise.</span><span class="sxs-lookup"><span data-stu-id="b4065-175">When using AdlCopy as a standalone tool, the copy is run on shared, Azure managed resources.</span></span> <span data-ttu-id="b4065-176">Le prestazioni che è possibile ottenere in questo ambiente dipendono dal carico del sistema e dalle risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="b4065-176">The performance you may get in this environment depends on system load and available resources.</span></span> <span data-ttu-id="b4065-177">Questa modalità è più adatta ai trasferimenti di piccole dimensioni eseguiti ad hoc.</span><span class="sxs-lookup"><span data-stu-id="b4065-177">This mode is best used for small transfers on an ad hoc basis.</span></span> <span data-ttu-id="b4065-178">Quando si usa AdlCopy come strumento autonomo, non è necessario impostare alcun parametro.</span><span class="sxs-lookup"><span data-stu-id="b4065-178">No parameters need to be tuned when using AdlCopy as a standalone tool.</span></span>

## <a name="use-adlcopy-with-data-lake-analytics-account-to-copy-data"></a><span data-ttu-id="b4065-179">Usare AdlCopy (con un account Data Lake Analytics) per copiare i dati</span><span class="sxs-lookup"><span data-stu-id="b4065-179">Use AdlCopy (with Data Lake Analytics account) to copy data</span></span>
<span data-ttu-id="b4065-180">È anche possibile usare l'account di Analisi Data Lake per eseguire il processo AdlCopy per copiare dati da BLOB di Archiviazione di Azure ad Archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="b4065-180">You can also use your Data Lake Analytics account to run the AdlCopy job to copy data from Azure storage blobs to Data Lake Store.</span></span> <span data-ttu-id="b4065-181">In genere si sceglie questa opzione quando i dati da spostare sono nell'ordine di gigabyte e terabyte e si vuole una velocità effettiva delle prestazioni migliore e prevedibile.</span><span class="sxs-lookup"><span data-stu-id="b4065-181">You would typically use this option when the data to be moved is in the range of gigabytes and terabytes, and you want better and predictable performance throughput.</span></span>

<span data-ttu-id="b4065-182">Per usare l'account Data Lake Analytics con AdlCopy per eseguire la copia da un BLOB di Archiviazione di Azure, l'origine (BLOB di Archiviazione di Azure) deve essere aggiunta come origine dati per l'account Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="b4065-182">To use your Data Lake Analytics account with AdlCopy to copy from an Azure Storage Blob, the source (Azure Storage Blob) must be added as a data source for your Data Lake Analytics account.</span></span> <span data-ttu-id="b4065-183">Per istruzioni sull'aggiunta di origini dati aggiuntive all'account di Data Lake Analytics, vedere [Gestire Analisi Data Lake tramite il portale di Azure](../data-lake-analytics/data-lake-analytics-manage-use-portal.md#manage-data-sources).</span><span class="sxs-lookup"><span data-stu-id="b4065-183">For instructions on adding additional data sources to your Data Lake Analytics account, see [Manage Data Lake Analytics account data sources](../data-lake-analytics/data-lake-analytics-manage-use-portal.md#manage-data-sources).</span></span>

> [!NOTE]
> <span data-ttu-id="b4065-184">Se si esegue la copia da un account Azure Data Lake Store come origine tramite un account Data Lake Analytics, non è necessario associare l'account Data Lake Store all'account Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="b4065-184">If you are copying from an Azure Data Lake Store account as the source using a Data Lake Analytics account, you do not need to associate the Data Lake Store account with the Data Lake Analytics account.</span></span> <span data-ttu-id="b4065-185">È necessario associare l'archivio di origine con l'account Data Lake Analytics solo quando l'origine è un account di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="b4065-185">The requirement to associate the source store with the Data Lake Analytics account is only when the source is an Azure Storage account.</span></span>
>
>

<span data-ttu-id="b4065-186">Eseguire il comando seguente per copiare da un BLOB di Archiviazione di Azure a un account Data Lake Store tramite un account Data Lake Analytics:</span><span class="sxs-lookup"><span data-stu-id="b4065-186">Run the following command to copy from an Azure Storage blob to a Data Lake Store account using Data Lake Analytics account:</span></span>

    AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container> /Account <data_lake_analytics_account> /Unit <number_of_data_lake_analytics_units_to_be_used>

<span data-ttu-id="b4065-187">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="b4065-187">For example:</span></span>

    AdlCopy /Source https://mystorage.blob.core.windows.net/mycluster/example/data/gutenberg/ /dest swebhdfs://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ== /Account mydatalakeanalyticaccount /Units 2

<span data-ttu-id="b4065-188">Analogamente, eseguire il comando seguente per copiare da un BLOB di Archiviazione di Azure a un account Data Lake Store tramite un account Data Lake Analytics:</span><span class="sxs-lookup"><span data-stu-id="b4065-188">Similarly, run the following command to copy from an Azure Storage blob to a Data Lake Store account using Data Lake Analytics account:</span></span>

    AdlCopy /Source adl://mysourcedatalakestore.azuredatalakestore.net/mynewfolder/ /dest adl://mydestdatastore.azuredatalakestore.net/mynewfolder/ /Account mydatalakeanalyticaccount /Units 2

### <a name="performance-considerations"></a><span data-ttu-id="b4065-189">Considerazioni sulle prestazioni</span><span class="sxs-lookup"><span data-stu-id="b4065-189">Performance considerations</span></span>

<span data-ttu-id="b4065-190">Quando si copiano dati nell'ordine di terabyte, l'uso di AdlCopy con il proprio account di Azure Data Lake Analytics consente di ottenere prestazioni migliori e più prevedibili.</span><span class="sxs-lookup"><span data-stu-id="b4065-190">When copying data in the range of terabytes, using AdlCopy with your own Azure Data Lake Analytics account provides better and more predictable performance.</span></span> <span data-ttu-id="b4065-191">Il parametro da impostare è il numero di unità di Azure Data Lake Analytics da usare per il processo di copia.</span><span class="sxs-lookup"><span data-stu-id="b4065-191">The parameter that should be tuned is the number of Azure Data Lake Analytics Units to use for the copy job.</span></span> <span data-ttu-id="b4065-192">L'aumento del numero di unità si traduce in un aumento delle prestazioni del processo di copia.</span><span class="sxs-lookup"><span data-stu-id="b4065-192">Increasing the number of units will increase the performance of your copy job.</span></span> <span data-ttu-id="b4065-193">Per ogni file da copiare, è possibile usare al massimo un'unità.</span><span class="sxs-lookup"><span data-stu-id="b4065-193">Each file to be copied can use maximum one unit.</span></span> <span data-ttu-id="b4065-194">Se si specificano più unità rispetto al numero di file da copiare, le prestazioni non aumentano.</span><span class="sxs-lookup"><span data-stu-id="b4065-194">Specifying more units than the number of files being copied will not increase performance.</span></span>

## <a name="use-adlcopy-to-copy-data-using-pattern-matching"></a><span data-ttu-id="b4065-195">Usare AdlCopy per copiare i dati usando la corrispondenza dei modelli</span><span class="sxs-lookup"><span data-stu-id="b4065-195">Use AdlCopy to copy data using pattern matching</span></span>
<span data-ttu-id="b4065-196">Questa sezione descrive come usare AdlCopy per copiare i dati da un'origine (nell'esempio di seguito un BLOB di Archiviazione di Azure) a un account Data Lake Store di destinazione tramite la corrispondenza dei modelli.</span><span class="sxs-lookup"><span data-stu-id="b4065-196">In this section, you learn how to use AdlCopy to copy data from a source (in our example below we use Azure Storage Blob) to a destination Data Lake Store account using pattern matching.</span></span> <span data-ttu-id="b4065-197">Ad esempio, è possibile usare la procedura seguente per copiare tutti i file con estensione csv dal BLOB di origine alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="b4065-197">For example, you can use the steps below to copy all files with .csv extension from the source blob to the destination.</span></span>

1. <span data-ttu-id="b4065-198">Aprire un prompt dei comandi e passare alla directory in cui è installato AdlCopy, in genere `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="b4065-198">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="b4065-199">Eseguire il comando seguente per copiare tutti i file con estensione *.csv da un BLOB specifico del contenitore di origine a Data Lake Store:</span><span class="sxs-lookup"><span data-stu-id="b4065-199">Run the following command to copy all files with *.csv extension from a specific blob from the source container to a Data Lake Store:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container> /Pattern *.csv

    <span data-ttu-id="b4065-200">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="b4065-200">For example:</span></span>

        AdlCopy /source https://mystorage.blob.core.windows.net/mycluster/HdiSamples/HdiSamples/FoodInspectionData/ /dest adl://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ== /Pattern *.csv

## <a name="billing"></a><span data-ttu-id="b4065-201">Fatturazione</span><span class="sxs-lookup"><span data-stu-id="b4065-201">Billing</span></span>
* <span data-ttu-id="b4065-202">Se si usa lo strumento AdlCopy in modalità autonoma, verranno fatturati i costi di uscita per lo spostamento dei dati, se l'account di origine di Archiviazione di Azure non si trova nella stessa area di Archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="b4065-202">If you use the AdlCopy tool as standalone you will be billed for egress costs for moving data, if the source Azure Storage account is not in the same region as the Data Lake Store.</span></span>
* <span data-ttu-id="b4065-203">Se si usa lo strumento AdlCopy con l'account di Analisi Data Lake, verranno applicati i [Prezzi di Analisi Data Lake](https://azure.microsoft.com/pricing/details/data-lake-analytics/) standard.</span><span class="sxs-lookup"><span data-stu-id="b4065-203">If you use the AdlCopy tool with your Data Lake Analytics account, standard [Data Lake Analytics billing rates](https://azure.microsoft.com/pricing/details/data-lake-analytics/) will apply.</span></span>

## <a name="considerations-for-using-adlcopy"></a><span data-ttu-id="b4065-204">Considerazioni sull'uso di AdlCopy</span><span class="sxs-lookup"><span data-stu-id="b4065-204">Considerations for using AdlCopy</span></span>
* <span data-ttu-id="b4065-205">AdlCopy (per la versione 1.0.5) supporta la copia dei dati da origini che collettivamente contengono migliaia di file e cartelle.</span><span class="sxs-lookup"><span data-stu-id="b4065-205">AdlCopy (for version 1.0.5), supports copying data from sources that collectively have more than thousands of files and folders.</span></span> <span data-ttu-id="b4065-206">Tuttavia, in caso di problemi durante la copia di un set di dati grande, è possibile distribuire file e cartelle in sottocartelle diverse e usare il percorso per tali sottocartelle come origine.</span><span class="sxs-lookup"><span data-stu-id="b4065-206">However, if you encounter issues copying a large dataset, you can distribute the files/folders into different sub-folders and use the path to those sub-folders as the source instead.</span></span>

## <a name="performance-considerations-for-using-adlcopy"></a><span data-ttu-id="b4065-207">Considerazioni sulle prestazioni per l'uso di AdlCopy</span><span class="sxs-lookup"><span data-stu-id="b4065-207">Performance considerations for using AdlCopy</span></span>

<span data-ttu-id="b4065-208">AdlCopy supporta la copia dei dati che contengono migliaia di file e cartelle.</span><span class="sxs-lookup"><span data-stu-id="b4065-208">AdlCopy supports copying data containing thousands of files and folders.</span></span> <span data-ttu-id="b4065-209">Se si verificano problemi con la copia di un set di dati di grandi dimensioni, è comunque possibile distribuire file e cartelle in sottocartelle più piccole.</span><span class="sxs-lookup"><span data-stu-id="b4065-209">However, if you encounter issues copying a large dataset, you can distribute the files/folders into smaller sub-folders.</span></span> <span data-ttu-id="b4065-210">AdlCopy è stato creato per copie ad hoc.</span><span class="sxs-lookup"><span data-stu-id="b4065-210">AdlCopy was built for ad hoc copies.</span></span> <span data-ttu-id="b4065-211">Se si tenta di copiare dati su base periodica, è consigliabile usare [Azure Data Factory](../data-factory/data-factory-azure-datalake-connector.md) che consente gestire completamente le operazioni di copia.</span><span class="sxs-lookup"><span data-stu-id="b4065-211">If you are trying to copy data on a recurring basis, you should consider using [Azure Data Factory](../data-factory/data-factory-azure-datalake-connector.md) that provides full management around the copy operations.</span></span>

## <a name="release-notes"></a><span data-ttu-id="b4065-212">Note sulla versione</span><span class="sxs-lookup"><span data-stu-id="b4065-212">Release notes</span></span>
* <span data-ttu-id="b4065-213">1.0.13 - Se si copiano dati nello stesso account Azure Data Lake Store tramite più comandi adlcopy, non è più necessario immettere di nuovo le credenziali per ogni esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b4065-213">1.0.13 - If you are copying data to the same Azure Data Lake Store account across multiple adlcopy commands, you do not need to reenter your credentials for each run anymore.</span></span> <span data-ttu-id="b4065-214">Adlcopy memorizza ora nella cache queste informazioni tra le diverse esecuzioni.</span><span class="sxs-lookup"><span data-stu-id="b4065-214">Adlcopy will now cache that information across multiple runs.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b4065-215">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="b4065-215">Next steps</span></span>
* [<span data-ttu-id="b4065-216">Proteggere i dati in Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="b4065-216">Secure data in Data Lake Store</span></span>](data-lake-store-secure-data.md)
* [<span data-ttu-id="b4065-217">Usare Azure Data Lake Analytics con Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="b4065-217">Use Azure Data Lake Analytics with Data Lake Store</span></span>](../data-lake-analytics/data-lake-analytics-get-started-portal.md)
* [<span data-ttu-id="b4065-218">Usare Azure HDInsight con Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="b4065-218">Use Azure HDInsight with Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
