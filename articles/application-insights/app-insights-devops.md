---
title: 'Monitoraggio delle prestazioni delle applicazioni Web: Azure Application Insights | Microsoft Docs'
description: Funzione di Application Insights nel ciclo devOps
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: 479522a9-ff5c-471e-a405-b8fa221aedb3
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 03/14/2017
ms.author: bwren
ms.openlocfilehash: de94633cabaa7a1562a5a4839a8a8924da91a283
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="deep-diagnostics-for-web-apps-and-services-with-application-insights"></a><span data-ttu-id="a9c2e-103">Diagnostica completa per servizi e app Web con Application Insights</span><span class="sxs-lookup"><span data-stu-id="a9c2e-103">Deep diagnostics for web apps and services with Application Insights</span></span>
## <a name="why-do-i-need-application-insights"></a><span data-ttu-id="a9c2e-104">Funzione di Application Insights</span><span class="sxs-lookup"><span data-stu-id="a9c2e-104">Why do I need Application Insights?</span></span>
<span data-ttu-id="a9c2e-105">Application Insights consente di monitorare l'app Web in esecuzione,</span><span class="sxs-lookup"><span data-stu-id="a9c2e-105">Application Insights monitors your running web app.</span></span> <span data-ttu-id="a9c2e-106">segnalando errori e problemi di prestazioni e aiutando ad analizzare l'utilizzo dell'app da parte dei clienti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-106">It tells you about failures and performance issues, and helps you analyze how customers use your app.</span></span> <span data-ttu-id="a9c2e-107">Può essere utilizzato per le app in esecuzione su molte piattaforme (ASP.NET, J2EE, Node.js, ...) e può essere ospitato nel cloud oppure in locale.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-107">It works for apps running on many platforms (ASP.NET, J2EE, Node.js, ...) and is hosted either in the Cloud or on-premises.</span></span> 

![Aspetti della complessità della distribuzione di app Web](./media/app-insights-devops/010.png)

<span data-ttu-id="a9c2e-109">È essenziale per monitorare un'applicazione moderna in esecuzione</span><span class="sxs-lookup"><span data-stu-id="a9c2e-109">It's essential to monitor a modern application while it is running.</span></span> <span data-ttu-id="a9c2e-110">e, in particolare, per rilevare gli errori prima che si presentino ai clienti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-110">Most importantly, you want to detect failures before most of your customers do.</span></span> <span data-ttu-id="a9c2e-111">È anche utile per rilevare e correggere i problemi di prestazioni che, pur non essendo gravi, possono rallentare il sistema o causare inconvenienti agli utenti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-111">You also want to discover and fix performance issues that, while not catastrophic, perhaps slow things down or cause some inconvenience to your users.</span></span> <span data-ttu-id="a9c2e-112">Quando invece il sistema funziona in modo soddisfacente, è opportuno sapere se gli utenti usano le funzionalità più recenti</span><span class="sxs-lookup"><span data-stu-id="a9c2e-112">And when the system is performing to your satisfaction, you want to know what the users are doing with it: Are they using the latest feature?</span></span> <span data-ttu-id="a9c2e-113">e se stanno traendo vantaggio dal programma.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-113">Are they succeeding with it?</span></span>

<span data-ttu-id="a9c2e-114">Le applicazioni Web di tipo moderno sono sviluppate in un'ottica continuativa: dal momento del rilascio, si osserva l'utilità per gli utenti di una nuova funzionalità o di un miglioramento e, sulla base delle informazioni raccolte, si pianifica lo sviluppo successivo.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-114">Modern web applications are developed in a cycle of continuous delivery: release a new feature or improvement; observe how well it works for the users; plan the next increment of development based on that knowledge.</span></span> <span data-ttu-id="a9c2e-115">In questo ciclo, l'osservazione riveste un ruolo fondamentale.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-115">A key part of this cycle is the observation phase.</span></span> <span data-ttu-id="a9c2e-116">Application Insights offre gli strumenti necessari per monitorare le prestazioni e l'utilizzo di un'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-116">Application Insights provides the tools to monitor a web application for performance and usage.</span></span>

<span data-ttu-id="a9c2e-117">Tra questi, l'aspetto più importante è la diagnostica, con le diagnosi che ne conseguono.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-117">The most important aspect of this process is diagnostics and diagnosis.</span></span> <span data-ttu-id="a9c2e-118">Il mancato funzionamento dell'applicazione comporta una perdita di business.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-118">If the application fails, then business is being lost.</span></span> <span data-ttu-id="a9c2e-119">Pertanto, il principale ruolo di un framework di monitoraggio è quello di rilevare gli errori in modo affidabile, notificarli immediatamente e presentare le informazioni necessarie per diagnosticare il problema.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-119">The prime role of a monitoring framework is therefore to detect failures reliably, notify you immediately, and to present you with the information needed to diagnose the problem.</span></span> <span data-ttu-id="a9c2e-120">Application Insights permette di fare esattamente questo.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-120">This is exactly what Application Insights does.</span></span>

### <a name="where-do-bugs-come-from"></a><span data-ttu-id="a9c2e-121">Da dove provengono i bug?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-121">Where do bugs come from?</span></span>
<span data-ttu-id="a9c2e-122">Gli errori nei sistemi Web sono in genere causati da problemi di configurazione o difetti nell'interazione fra i numerosi componenti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-122">Failures in web systems typically arise from configuration issues or bad interactions between their many components.</span></span> <span data-ttu-id="a9c2e-123">Pertanto, quando si affronta un problema in un sito attivo, per prima cosa è necessario identificarne l'origine: qual è il componente o la relazione che lo provoca?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-123">The first task when tackling a live site incident is therefore to identify the locus of the problem: which component or relationship is the cause?</span></span>

<span data-ttu-id="a9c2e-124">I professionisti di più lunga data ricorderanno quando ogni programma informatico veniva eseguito in un solo computer.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-124">Some of us, those with gray hair, can remember a simpler era in which a computer program ran in one computer.</span></span> <span data-ttu-id="a9c2e-125">Gli sviluppatori lo testavano molto accuratamente prima di renderlo disponibile.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-125">The developers would test it thoroughly before shipping it; and having shipped it, would rarely see or think about it again.</span></span> <span data-ttu-id="a9c2e-126">Dopo averlo reso disponibile, raramente lo rivedevano né ci pensavano più, mentre gli utenti facevano i conti con i bug che rimanevano al suo interno per molti anni a venire.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-126">The users would have to put up with the residual bugs for many years.</span></span> 

<span data-ttu-id="a9c2e-127">Ora è cambiato tutto.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-127">Things are so very different now.</span></span> <span data-ttu-id="a9c2e-128">Le app sono eseguibili su un'ampia gamma di dispositivi e può essere difficile garantirne sempre lo stesso identico comportamento.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-128">Your app has a plethora of different devices to run on, and it can be difficult to guarantee the exact same behavior on each one.</span></span> <span data-ttu-id="a9c2e-129">L'hosting delle app nel cloud permette di correggere i bug rapidamente, ma implica anche una concorrenza continua e l'aspettativa di una frequente introduzione di nuove funzionalità.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-129">Hosting apps in the cloud means bugs can be fixed fast, but it also means continuous competition and the expectation of new features at frequent intervals.</span></span> 

<span data-ttu-id="a9c2e-130">Stando così le cose, l'unico modo per esercitare un controllo costante sul numero di bug è un testing delle unità automatizzato.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-130">In these conditions, the only way to keep a firm control on the bug count is automated unit testing.</span></span> <span data-ttu-id="a9c2e-131">Sarebbe impossibile ritestare tutto manualmente a ogni distribuzione.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-131">It would be impossible to manually re-test everything on every delivery.</span></span> <span data-ttu-id="a9c2e-132">Il testing delle unità ormai è parte integrante del processo di compilazione.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-132">Unit test is now a commonplace part of the build process.</span></span> <span data-ttu-id="a9c2e-133">Strumenti come Xamarin Test Cloud consentono il testing automatizzato dell'interfaccia utente all'interno più versioni dei browser.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-133">Tools such as the Xamarin Test Cloud help by providing automated UI testing on multiple browser versions.</span></span> <span data-ttu-id="a9c2e-134">Queste prove consentono di ridurre al minimo il numero di bug presenti in un'app.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-134">These testing regimes allow us to hope that the rate of bugs found inside an app can be kept to a minimum.</span></span>

<span data-ttu-id="a9c2e-135">Le applicazioni Web tipiche includono molti componenti live.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-135">Typical web applications have many live components.</span></span> <span data-ttu-id="a9c2e-136">Oltre al client (in un'app browser o per dispositivi) e al server Web, sarà probabilmente presente una notevole l'elaborazione di back-end.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-136">In addition to the client (in a browser or device app) and the web server, there's likely to be substantial backend processing.</span></span> <span data-ttu-id="a9c2e-137">Il back-end è probabilmente una pipeline di componenti o una raccolta di parti che interagiscono tra loro.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-137">Perhaps the backend is a pipeline of components, or a looser collection of collaborating pieces.</span></span> <span data-ttu-id="a9c2e-138">Molti di questi non saranno sotto controllo dell'utente, ma servizi esterni da cui dipende tutto.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-138">And many of them won't be in your control - they're external services on which you depend.</span></span>

<span data-ttu-id="a9c2e-139">In configurazioni come queste può essere difficile e dispendioso testare o prevedere ogni errore possibile e immaginabile al di fuori del sistema live.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-139">In configurations like these, it can be difficult and uneconomical to test for, or foresee, every possible failure mode, other than in the live system itself.</span></span> 

### <a name="questions-"></a><span data-ttu-id="a9c2e-140">Domande...</span><span class="sxs-lookup"><span data-stu-id="a9c2e-140">Questions ...</span></span>
<span data-ttu-id="a9c2e-141">Alcune domande da chiedersi durante lo sviluppo di un sistema Web:</span><span class="sxs-lookup"><span data-stu-id="a9c2e-141">Some questions we ask when we're developing a web system:</span></span>

* <span data-ttu-id="a9c2e-142">L'app si arresta in modo anomalo?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-142">Is my app crashing?</span></span> 
* <span data-ttu-id="a9c2e-143">Cosa succede esattamente?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-143">What exactly happened?</span></span> <span data-ttu-id="a9c2e-144">Se si è verificato un errore in una richiesta, bisogna indagare per sapere tutto.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-144">- If it failed a request, I want to know how it got there.</span></span> <span data-ttu-id="a9c2e-145">Serve una traccia degli eventi...</span><span class="sxs-lookup"><span data-stu-id="a9c2e-145">We need a trace of events...</span></span>
* <span data-ttu-id="a9c2e-146">L'app è abbastanza veloce?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-146">Is my app fast enough?</span></span> <span data-ttu-id="a9c2e-147">Quanto tempo ci mette per rispondere a una normale richiesta?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-147">How long does it take to respond to typical requests?</span></span>
* <span data-ttu-id="a9c2e-148">Il server riesce a gestire il carico?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-148">Can the server handle the load?</span></span> <span data-ttu-id="a9c2e-149">Quando aumenta la frequenza delle richieste, il tempo di risposta rimane costante?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-149">When the rate of requests rises, does the response time hold steady?</span></span>
* <span data-ttu-id="a9c2e-150">Qual è il livello di reazione delle dipendenze (le API REST, i database e gli altri componenti chiamati dall'app)?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-150">How responsive are my dependencies - the REST APIs, databases and other components that my app calls.</span></span> <span data-ttu-id="a9c2e-151">In particolare, se il sistema è lento, è dovuto al componente oppure si ricevono risposte lente da un altro utente?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-151">In particular, if the system is slow, is it my component, or am I getting slow responses from someone else?</span></span>
* <span data-ttu-id="a9c2e-152">L'app è attiva o bloccata?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-152">Is my app Up or Down?</span></span> <span data-ttu-id="a9c2e-153">È visibile in tutto il mondo?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-153">Can it be seen from around the world?</span></span> <span data-ttu-id="a9c2e-154">È utile sapere se si arresta...</span><span class="sxs-lookup"><span data-stu-id="a9c2e-154">Let me know if it stops....</span></span>
* <span data-ttu-id="a9c2e-155">Qual è la causa radice?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-155">What is the root cause?</span></span> <span data-ttu-id="a9c2e-156">L'errore si è verificato al livello di un componente o di una dipendenza?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-156">Was the failure in my component or a dependency?</span></span> <span data-ttu-id="a9c2e-157">Si tratta di un problema di comunicazione?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-157">Is it a communication issue?</span></span>
* <span data-ttu-id="a9c2e-158">Quanti sono gli utenti interessati?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-158">How many users are impacted?</span></span> <span data-ttu-id="a9c2e-159">Se i più problemi da affrontare sono più di uno, qual è il più importante?</span><span class="sxs-lookup"><span data-stu-id="a9c2e-159">If I have more than one issue to tackle, which is the most important?</span></span>

## <a name="what-is-application-insights"></a><span data-ttu-id="a9c2e-160">Informazioni su Azure Application Insights</span><span class="sxs-lookup"><span data-stu-id="a9c2e-160">What is Application Insights?</span></span>
![Flusso di lavoro di base di Application Insights](./media/app-insights-devops/020.png)

1. <span data-ttu-id="a9c2e-162">Application Insights consente di instrumentare l'app, inviandone i dati di telemetria durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-162">Application Insights instruments your app and sends telemetry about it while the app is running.</span></span> <span data-ttu-id="a9c2e-163">È possibile compilare l'SDK di Application Insights direttamente nell'applicazione oppure applicare la strumentazione in fase di runtime.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-163">Either you can build the Application Insights SDK into the app, or you can apply instrumentation at runtime.</span></span> <span data-ttu-id="a9c2e-164">Il primo metodo è più flessibile, perché consente di aggiungere i propri dati di telemetria ai normali moduli.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-164">The former method is more flexible, as you can add your own telemetry to the regular modules.</span></span>
2. <span data-ttu-id="a9c2e-165">I dati di telemetria vengono inviati al portale di Application Insights, in cui verranno archiviati ed elaborati.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-165">The telemetry is sent to the Application Insights portal, where it is stored and processed.</span></span> <span data-ttu-id="a9c2e-166">(Pur essendo ospitato in Microsoft Azure, Application Insights consente di monitorare tutte le app Web e non solo le app di Azure.)</span><span class="sxs-lookup"><span data-stu-id="a9c2e-166">(Although Application Insights is hosted in Microsoft Azure, it can monitor any web apps - not just Azure apps.)</span></span>
3. <span data-ttu-id="a9c2e-167">I dati di telemetria vengono forniti sotto forma di grafici e tabelle di eventi.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-167">The telemetry is presented to you in the form of charts and tables of events.</span></span>

<span data-ttu-id="a9c2e-168">Esistono due tipi principali di telemetria: istanze non elaborate e istanze aggregate.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-168">There are two main types of telemetry: aggregated and raw instances.</span></span> 

* <span data-ttu-id="a9c2e-169">I dati delle istanze includono, ad esempio, il report di una richiesta ricevuta da un'app Web.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-169">Instance data includes, for example, a report of a request that has been received by your web app.</span></span> <span data-ttu-id="a9c2e-170">Se si desidera cercare ed esaminare i dettagli di una richiesta, è possibile farlo mediante lo strumento di ricerca del portale di Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-170">You can find for and inspect the details of a request using the Search tool in the Application Insights portal.</span></span> <span data-ttu-id="a9c2e-171">L'istanza includerà, ad esempio, i dati sul tempo impiegato dall'app per rispondere alla richiesta, nonché l'URL richiesto, una posizione indicativa del client e altro ancora.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-171">The instance would include data such as how long your app took to respond to the request, as well as the requested URL, approximate location of the client, and other data.</span></span>
* <span data-ttu-id="a9c2e-172">I dati aggregati includono il numero di eventi per unità di tempo, in modo che sia possibile confrontare la frequenza delle richieste con i tempi di risposta.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-172">Aggregated data includes counts of events per unit time, so that you can compare the rate of requests with the response times.</span></span> <span data-ttu-id="a9c2e-173">È inoltre inclusa la media di metriche quali i tempi di risposta alle richieste.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-173">It also includes averages of metrics such as request response times.</span></span>

<span data-ttu-id="a9c2e-174">Le principali categorie di dati sono:</span><span class="sxs-lookup"><span data-stu-id="a9c2e-174">The main categories of data are:</span></span>

* <span data-ttu-id="a9c2e-175">Richieste inviate all'app (in genere richieste HTTP), con i dati sull'URL, sul tempo di risposta e sull'esito positivo o negativo.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-175">Requests to your app (usually HTTP requests), with data on URL, response time, and success or failure.</span></span>
* <span data-ttu-id="a9c2e-176">Le dipendenze, ovvero le chiamate REST e SQL effettuate dall'app, complete di URI, tempi di risposta ed esiti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-176">Dependencies - REST and SQL calls made by your app, also with URI, response times and success</span></span>
* <span data-ttu-id="a9c2e-177">Le eccezioni, incluse le analisi dello stack.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-177">Exceptions, including stack traces.</span></span>
* <span data-ttu-id="a9c2e-178">I dati di visualizzazione delle pagine, provenienti dai browser degli utenti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-178">Page view data, which come from the users' browsers.</span></span>
* <span data-ttu-id="a9c2e-179">Metriche come i contatori delle prestazioni, nonché metriche scritte manualmente.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-179">Metrics such as performance counters, as well as metrics you write yourself.</span></span> 
* <span data-ttu-id="a9c2e-180">Eventi personalizzati utilizzabili per tenere traccia degli eventi aziendali.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-180">Custom events that you can use to track business events</span></span>
* <span data-ttu-id="a9c2e-181">Tracce del log a scopo di debug.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-181">Log traces used for debugging.</span></span>

## <a name="case-study-real-madrid-fc"></a><span data-ttu-id="a9c2e-182">Case study: Real Madrid C.F.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-182">Case Study: Real Madrid F.C.</span></span>
<span data-ttu-id="a9c2e-183">Il servizio Web del [Real Madrid Football Club](http://www.realmadrid.com/) serve circa 450 milioni di tifosi in tutto il mondo,</span><span class="sxs-lookup"><span data-stu-id="a9c2e-183">The web service of [Real Madrid Football Club](http://www.realmadrid.com/) serves about 450 million fans around the world.</span></span> <span data-ttu-id="a9c2e-184">che vi accedono tramite Web browser e dalle app per dispositivi mobili della società</span><span class="sxs-lookup"><span data-stu-id="a9c2e-184">Fans access it both through web browsers and the Club's mobile apps.</span></span> <span data-ttu-id="a9c2e-185">non solo per prenotare i biglietti, ma anche per consultare informazioni e guardare clip video sui risultati, i giocatori e le partite in programma.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-185">Fans can not only book tickets, but also access information and video clips on results, players and upcoming games.</span></span> <span data-ttu-id="a9c2e-186">I tifosi possono eseguire ricerche applicando filtri come, ad esempio, il numero di goal segnati.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-186">They can search with filters such as numbers of goals scored.</span></span> <span data-ttu-id="a9c2e-187">Inoltre, sono disponibili i collegamenti ai social media.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-187">There are also links to social media.</span></span> <span data-ttu-id="a9c2e-188">L'esperienza utente è altamente personalizzata e progettata come strumento di comunicazione bidirezionale per coinvolgere i tifosi.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-188">The user experience is highly personalized, and is designed as a two-way communication to engage fans.</span></span>

<span data-ttu-id="a9c2e-189">La soluzione [è un sistema di servizi e applicazioni in Microsoft Azure](https://www.microsoft.com/en-us/enterprise/microsoftcloud/realmadrid.aspx).</span><span class="sxs-lookup"><span data-stu-id="a9c2e-189">The solution [is a system of services and applications on Microsoft Azure](https://www.microsoft.com/en-us/enterprise/microsoftcloud/realmadrid.aspx).</span></span> <span data-ttu-id="a9c2e-190">La scalabilità è un requisito essenziale: il traffico è variabile e può raggiungere volumi molto elevati prima, dopo e durante le partite.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-190">Scalability is a key requirement: traffic is variable and can reach very high volumes during and around matches.</span></span>

<span data-ttu-id="a9c2e-191">Per il Real Madrid, è fondamentale monitorare le prestazioni del sistema.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-191">For Real Madrid, it's vital to monitor the system's performance.</span></span> <span data-ttu-id="a9c2e-192">Application Insights di Azure offre una panoramica completa di tutto il sistema, garantendo un livello di servizio elevato e affidabile.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-192">Azure Application Insights provides a comprehensive view across the system, ensuring a reliable and high level of service.</span></span> 

<span data-ttu-id="a9c2e-193">Inoltre, la società può sapere tutto dei tifosi: dove sono (in Spagna si trova solo il 3%), quanto sono interessati a giocatori, risultati storici e le partite in calendario e come rispondono ai risultati degli incontri.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-193">The Club also gets in-depth understanding of its fans: where they are (only 3% are in Spain), what interest they have in players, historical results, and upcoming games, and how they respond to match outcomes.</span></span>

<span data-ttu-id="a9c2e-194">La maggior parte dei dati di telemetria viene raccolta automaticamente senza alcun codice aggiuntivo, il che semplifica la soluzione, riducendo la complessità operativa.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-194">Most of this telemetry data is automatically collected with no added code, which  simplified the solution and reduced operational complexity.</span></span>  <span data-ttu-id="a9c2e-195">Per il Real Madrid, Application Insights gestisce ogni mese 3,8 miliardi di punti di telemetria.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-195">For Real Madrid, Application Insights deals with 3.8 billion telemetry points each month.</span></span>

<span data-ttu-id="a9c2e-196">Per consultare i propri dati di telemetria, il Real Madrid usa il modulo PowerBI.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-196">Real Madrid uses the Power BI module to view their telemetry.</span></span>

![Visualizzazione di Power BI per Application Insights Telemetry](./media/app-insights-devops/080.png)

## <a name="smart-detection"></a><span data-ttu-id="a9c2e-198">Rilevamento intelligente</span><span class="sxs-lookup"><span data-stu-id="a9c2e-198">Smart detection</span></span>
<span data-ttu-id="a9c2e-199">La [diagnostica proattiva](app-insights-proactive-diagnostics.md) è una funzionalità recente.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-199">[Proactive diagnostics](app-insights-proactive-diagnostics.md) is a recent feature.</span></span> <span data-ttu-id="a9c2e-200">Senza richiedere configurazioni particolari da parte dell'utente, Application Insights rileva automaticamente gli aumenti atipici nella frequenza degli errori dell'app e fornisce avvisi a tale riguardo.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-200">Without any special configuration by you, Application Insights automatically detects and alerts you about unusual rises in failure rates in your app.</span></span> <span data-ttu-id="a9c2e-201">È intelligente al punto tale da ignorare gli errori occasionali, come anche l'incremento degli errori semplicemente riconducibile a un aumento delle richieste.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-201">It's smart enough to ignore a background of occasional failures, and also rises that are simply proportionate to a rise in requests.</span></span> <span data-ttu-id="a9c2e-202">Ad esempio, se si verifica un errore in uno dei servizi da cui dipende l'utente o se una nuova build appena distribuita non funziona bene, l'utente lo saprà semplicemente controllando la posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-202">So for example, if there's a failure in one of the services you depend on, or if the new build you just deployed isn't working so well, then you'll know about it as soon as you look at your email.</span></span> <span data-ttu-id="a9c2e-203">Saranno inoltre disponibili webhook che consentiranno di attivare altre app.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-203">(And there are webhooks so that you can trigger other apps.)</span></span>

<span data-ttu-id="a9c2e-204">Un altro aspetto di questa funzionalità è che consente di eseguire un'approfondita analisi giornaliera dei dati di telemetria, finalizzata a individuare schemi delle prestazioni atipici altrimenti difficili da rilevare,</span><span class="sxs-lookup"><span data-stu-id="a9c2e-204">Another aspect of this feature performs a daily in-depth analysis of your telemetry, looking for unusual patterns of performance that are hard to discover.</span></span> <span data-ttu-id="a9c2e-205">come un rallentamento delle prestazioni associato a una particolare area geografica oppure a una determinata versione di un browser.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-205">For example, it can find slow performance associated with a particular geographical area, or with a particular browser version.</span></span>

<span data-ttu-id="a9c2e-206">In entrambi i casi, nell'avviso non sono indicati solo i sintomi osservati, ma anche i dati necessari per diagnosticare il problema, ad esempio report sulle eccezioni pertinenti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-206">In both cases, the alert not only tells you the symptoms it's discovered, but also gives you data you need to help diagnose the problem, such as relevant exception reports.</span></span>

![Messaggio di posta dalla diagnostica proattiva](./media/app-insights-devops/030.png)

<span data-ttu-id="a9c2e-208">Ricorda il cliente Samtec: "Ultimamente, durante una migrazione completa delle funzionalità, abbiamo scoperto che un database sottodimensionato stava raggiungendo i limiti di risorse e provocava timeout.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-208">Customer Samtec said: "During a recent feature cutover, we found an under-scaled database that was hitting its resource limits and causing timeouts.</span></span> <span data-ttu-id="a9c2e-209">Gli avvisi proattivi si sono presentati al momento stesso di valutare il problema, praticamente in tempo reale, come promesso.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-209">Proactive detection alerts came through literally as we were triaging the issue, very near real time as advertised.</span></span> <span data-ttu-id="a9c2e-210">Questi e gli altri avvisi della piattaforma Azure ci hanno aiutato a risolvere il problema quasi nell'immediato.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-210">This alert coupled with the Azure platform alerts helped us almost instantly fix the issue.</span></span> <span data-ttu-id="a9c2e-211">Tempo di inattività totale: neanche 10 minuti."</span><span class="sxs-lookup"><span data-stu-id="a9c2e-211">Total downtime < 10 minutes."</span></span>

## <a name="live-metrics-stream"></a><span data-ttu-id="a9c2e-212">Flusso di metriche live</span><span class="sxs-lookup"><span data-stu-id="a9c2e-212">Live Metrics Stream</span></span>
<span data-ttu-id="a9c2e-213">Distribuire l'ultima build può generare ansia.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-213">Deploying the latest build can be an anxious experience.</span></span> <span data-ttu-id="a9c2e-214">Se si presenta un problema, è bene saperlo subito, in modo da poterci ripensare, se necessario.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-214">If there are any problems, you want to know about them right away, so that you can back out if necessary.</span></span> <span data-ttu-id="a9c2e-215">Flusso metriche attive offre le metriche essenziali con una latenza di circa un secondo.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-215">Live Metrics Stream gives you key metrics with a latency of about one second.</span></span>

![Metriche attive](./media/app-insights-devops/040.png)

<span data-ttu-id="a9c2e-217">E consente di analizzare immediatamente un campione di errori o eccezioni.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-217">And lets you immediately inspect a sample of any failures or exceptions.</span></span>

![Eventi di errore live](./media/app-insights-devops/live-stream-failures.png)

## <a name="application-map"></a><span data-ttu-id="a9c2e-219">Mappa delle applicazioni</span><span class="sxs-lookup"><span data-stu-id="a9c2e-219">Application Map</span></span>
<span data-ttu-id="a9c2e-220">La mappa delle applicazioni individua automaticamente la topologia dell'applicazione, aggiungendovi informazioni sulle prestazioni per consentire all'utente di identificare con facilità i colli di bottiglia e i flussi problematici nell'intero ambiente distribuito.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-220">Application Map automatically discovers your application topology, laying the performance information on top of it, to let you easily identify performance bottlenecks and problematic flows across your distributed environment.</span></span> <span data-ttu-id="a9c2e-221">Questa caratteristica consente di individuare le dipendenze delle applicazioni dai servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-221">It allows you to discover application dependencies on Azure Services.</span></span> <span data-ttu-id="a9c2e-222">È possibile stabilire se il problema sia correlato al codice o alle dipendenze, nonché analizzare la diagnosi da un'unica posizione.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-222">You can triage the problem by understanding if it is code-related or dependency related and from a single place drill into related diagnostics experience.</span></span> <span data-ttu-id="a9c2e-223">Ad esempio, l'applicazione potrebbe non funzionare correttamente a causa di un calo delle prestazioni a livello di SQL.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-223">For example, your application may be failing due to performance degradation in SQL tier.</span></span> <span data-ttu-id="a9c2e-224">Con la mappa delle applicazioni è possibile vedere immediatamente il problema e risalire ai dettagli in SQL Index Advisor o Query Insights.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-224">With application map, you can see it immediately and drill into the SQL Index Advisor or Query Insights experience.</span></span>

![Mappa delle applicazioni](./media/app-insights-devops/050.png)

## <a name="application-insights-analytics"></a><span data-ttu-id="a9c2e-226">Analytics in Application Insights</span><span class="sxs-lookup"><span data-stu-id="a9c2e-226">Application Insights Analytics</span></span>
<span data-ttu-id="a9c2e-227">Con [Analytics](app-insights-analytics.md)è possibile scrivere query arbitrarie in un efficace linguaggio simile a SQL.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-227">With [Analytics](app-insights-analytics.md), you can write arbitrary queries in a powerful SQL-like language.</span></span>  <span data-ttu-id="a9c2e-228">Effettuare la diagnosi nell'intero stack diventa facile, perché il confluire di diverse prospettive permette di porre le domande corrette per correlare le prestazioni del servizio alle metriche aziendali e all'esperienza del cliente.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-228">Diagnosing across the entire app stack becomes easy as various perspectives get connected and you can ask the right questions to correlate Service Performance with Business Metrics and Customer Experience.</span></span> 

<span data-ttu-id="a9c2e-229">È possibile eseguire query di tutte le istanze di telemetria e dei dati non elaborati archiviati nel portale.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-229">You can query all your telemetry instance and metric raw data stored in the portal.</span></span> <span data-ttu-id="a9c2e-230">Il linguaggio include filtri, join, aggregazioni e altre operazioni.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-230">The language includes filter, join, aggregation, and other operations.</span></span> <span data-ttu-id="a9c2e-231">È possibile calcolare i campi ed eseguire analisi statistiche</span><span class="sxs-lookup"><span data-stu-id="a9c2e-231">You can calculate fields and perform statistical analysis.</span></span> <span data-ttu-id="a9c2e-232">e sono disponibili visualizzazioni grafiche e tabulari.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-232">There are both tabular and graphical visualizations.</span></span>

![Query di Analisi e grafico dei risultati](./media/app-insights-devops/025.png)

<span data-ttu-id="a9c2e-234">Ad esempio, è facile:</span><span class="sxs-lookup"><span data-stu-id="a9c2e-234">For example, it's easy to:</span></span>

* <span data-ttu-id="a9c2e-235">Segmentare i dati sulle prestazioni delle richieste dell'applicazione suddividendo i clienti in livelli per comprenderne l'esperienza.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-235">Segment your application’s request performance data by customer tiers to understand their experience.</span></span>
* <span data-ttu-id="a9c2e-236">Cercare specifici codici di errore o nomi di eventi personalizzati durante l'analisi dei siti attivi.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-236">Search for specific error codes or custom event names during live site investigations.</span></span>
* <span data-ttu-id="a9c2e-237">Esaminare l'utilizzo delle app da parte di determinati clienti per comprendere come vengono acquisite e adottate le funzionalità.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-237">Drill down into the app usage of specific customers to understand how features are acquired and adopted.</span></span>
* <span data-ttu-id="a9c2e-238">Tenere traccia di sessioni e tempi di risposta di determinati utenti per consentire al team operativo e di supporto di fornire assistenza in tempi immediati.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-238">Track sessions and response times for specific users to enable support and operations teams to provide instant customer support.</span></span>
* <span data-ttu-id="a9c2e-239">Individuare le funzionalità più utilizzate nelle app per rispondere alle domande sulla priorità delle funzionalità.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-239">Determine frequently used app features to answer feature prioritization questions.</span></span>

<span data-ttu-id="a9c2e-240">Dichiara il cliente DNN: "Application Insights è quanto ci mancava per poter combinare, ordinare, interrogare e filtrare i dati a dovere.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-240">Customer DNN said: "Application Insights has provided us with the missing part of the equation for being able to combine, sort, query, and filter data as needed.</span></span> <span data-ttu-id="a9c2e-241">Permettendo al nostro team di mettere in campo il proprio ingegno e la propria esperienza per trovare i dati con un linguaggio di query avanzato, questa soluzione ci ha consentito di risalire a informazioni e risolvere problemi che nemmeno sapevamo di avere.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-241">Allowing our team to use their own ingenuity and experience to find data with a powerful query language has allowed us to find insights and solve problems we didn't even know we had.</span></span> <span data-ttu-id="a9c2e-242">Da domande del tipo *"Mi chiedo se...*" sono emerse molte risposte interessanti."</span><span class="sxs-lookup"><span data-stu-id="a9c2e-242">A lot of interesting answers come from the questions starting with *'I wonder if...'.*"</span></span>

## <a name="development-tools-integration"></a><span data-ttu-id="a9c2e-243">Integrazione di strumenti di sviluppo</span><span class="sxs-lookup"><span data-stu-id="a9c2e-243">Development tools integration</span></span>
### <a name="configuring-application-insights"></a><span data-ttu-id="a9c2e-244">Configurazione di Application Insights</span><span class="sxs-lookup"><span data-stu-id="a9c2e-244">Configuring Application Insights</span></span>
<span data-ttu-id="a9c2e-245">In Visual Studio ed Eclipse sono disponibili strumenti per configurare i pacchetti SDK corretti per il progetto in fase di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-245">Visual Studio and Eclipse have tools to configure the correct SDK packages for the project you are developing.</span></span> <span data-ttu-id="a9c2e-246">È disponibile un comando di menu per aggiungere Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-246">There's a menu command to add Application Insights.</span></span>

<span data-ttu-id="a9c2e-247">Se si usa un framework di registrazione delle tracce, ad esempio Log4N, NLog o System.Diagnostics.Trace, verrà visualizzata l'opzione per inviare i log ad Application Insights insieme ad altri dati di telemetria, per consentire di mettere facilmente in relazione le tracce con le richieste, le chiamate a dipendenze e le eccezioni.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-247">If you happen to be using a trace logging framework such as Log4N, NLog, or System.Diagnostics.Trace, then you get the option to send the logs to Application Insights along with the other telemetry, so that you can easily correlate the traces with requests, dependency calls, and exceptions.</span></span>

### <a name="search-telemetry-in-visual-studio"></a><span data-ttu-id="a9c2e-248">Ricercare i dati di telemetria in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a9c2e-248">Search telemetry in Visual Studio</span></span>
<span data-ttu-id="a9c2e-249">Durante lo sviluppo e il debug di una funzionalità, è possibile visualizzare e cercare i dati di telemetria direttamente in Visual Studio, utilizzando le stesse funzionalità di ricerca del portale Web.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-249">While developing and debugging a feature, you can view and search the telemetry directly in Visual Studio, using the same search facilities as in the web portal.</span></span>

<span data-ttu-id="a9c2e-250">Inoltre, quando Application Insights esegue un'eccezione, è possibile visualizzare il punto dati in Visual Studio e passare direttamente al codice pertinente.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-250">And when Application Insights logs an exception, you can view the data point in Visual Studio and jump straight to the relevant code.</span></span>

![Ricerca di Visual Studio](./media/app-insights-devops/060.png)

<span data-ttu-id="a9c2e-252">Durante il debug, è possibile scegliere di mantenere i dati di telemetria nel computer su cui si esegue lo sviluppo, visualizzandoli in Visual Studio, ma senza inviarli al portale.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-252">During debugging, you have the option to keep the telemetry in your development machine, viewing it in Visual Studio but without sending it to the portal.</span></span> <span data-ttu-id="a9c2e-253">Con l'opzione locale si evita di mischiare il debug e la telemetria della produzione.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-253">This local option avoids mixing debugging with production telemetry.</span></span>

### <a name="build-annotations"></a><span data-ttu-id="a9c2e-254">Annotazioni sulla compilazione</span><span class="sxs-lookup"><span data-stu-id="a9c2e-254">Build annotations</span></span>
<span data-ttu-id="a9c2e-255">Se si utilizza Visual Studio Team Services per compilare e distribuire l'app, nei grafici sul portale vengono visualizzate annotazioni sulla distribuzione.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-255">If you use Visual Studio Team Services to build and deploy your app, deployment annotations show up on charts in the portal.</span></span> <span data-ttu-id="a9c2e-256">Qualunque effetto sulle metriche dovuto alla versione più recente risulterà molto evidente.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-256">If your latest release had any effect on the metrics, it becomes obvious.</span></span>

![Annotazioni sulla compilazione](./media/app-insights-devops/070.png)

### <a name="work-items"></a><span data-ttu-id="a9c2e-258">Elementi di lavoro</span><span class="sxs-lookup"><span data-stu-id="a9c2e-258">Work items</span></span>
<span data-ttu-id="a9c2e-259">Quando viene generato un avviso, Application Insights può creare automaticamente un elemento di lavoro nel sistema di tracciamento delle attività.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-259">When an alert is raised, Application Insights can automatically create a work item in your work tracking system.</span></span>

## <a name="but-what-about"></a><span data-ttu-id="a9c2e-260">Altri aspetti</span><span class="sxs-lookup"><span data-stu-id="a9c2e-260">But what about...?</span></span>
* <span data-ttu-id="a9c2e-261">[Privacy e archiviazione](app-insights-data-retention-privacy.md): i dati di telemetria vengono conservati nei server sicuri di Azure.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-261">[Privacy and storage](app-insights-data-retention-privacy.md) - Your telemetry is kept on Azure secure servers.</span></span>
* <span data-ttu-id="a9c2e-262">Prestazioni. L'impatto è molto basso.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-262">Performance - the impact is very low.</span></span> <span data-ttu-id="a9c2e-263">I dati di telemetria sono organizzati in batch.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-263">Telemetry is batched.</span></span>
* <span data-ttu-id="a9c2e-264">[Prezzi](app-insights-pricing.md): il servizio è gratuito finché i volumi sono ridotti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-264">[Pricing](app-insights-pricing.md) - You can get started for free, and that continues while you're in low volume.</span></span>


## <a name="video"></a><span data-ttu-id="a9c2e-265">Video</span><span class="sxs-lookup"><span data-stu-id="a9c2e-265">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/112/player]

## <a name="next-steps"></a><span data-ttu-id="a9c2e-266">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a9c2e-266">Next steps</span></span>
<span data-ttu-id="a9c2e-267">Iniziare a usare Application Insights è semplice.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-267">Getting started with Application Insights is easy.</span></span> <span data-ttu-id="a9c2e-268">Le opzioni principali sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="a9c2e-268">The main options are:</span></span>

* <span data-ttu-id="a9c2e-269">Instrumentare un'app Web già in esecuzione,</span><span class="sxs-lookup"><span data-stu-id="a9c2e-269">Instrument an already-running web app.</span></span> <span data-ttu-id="a9c2e-270">ottenendo tutti i dati di telemetria delle prestazioni predefiniti.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-270">This gives you all the built-in performance telemetry.</span></span> <span data-ttu-id="a9c2e-271">Questa opzione è disponibile per [Java](app-insights-java-live.md) e [server IIS](app-insights-monitor-performance-live-website-now.md), nonché per le [App Web di Azure](app-insights-azure.md).</span><span class="sxs-lookup"><span data-stu-id="a9c2e-271">It's available for [Java](app-insights-java-live.md) and [IIS servers](app-insights-monitor-performance-live-website-now.md), and also for [Azure web apps](app-insights-azure.md).</span></span>
* <span data-ttu-id="a9c2e-272">Instrumentare il progetto in fase di sviluppo,</span><span class="sxs-lookup"><span data-stu-id="a9c2e-272">Instrument your project during development.</span></span> <span data-ttu-id="a9c2e-273">cosa possibile per le app [ASP.NET](app-insights-asp-net.md) o [Java](app-insights-java-get-started.md), nonché per [Node. js](app-insights-nodejs.md) e una serie di [altri tipi](app-insights-platforms.md).</span><span class="sxs-lookup"><span data-stu-id="a9c2e-273">You can do this for [ASP.NET](app-insights-asp-net.md) or [Java](app-insights-java-get-started.md) apps, as well as [Node.js](app-insights-nodejs.md) and a host of [other types](app-insights-platforms.md).</span></span> 
* <span data-ttu-id="a9c2e-274">Instrumentare [qualsiasi pagina Web](app-insights-javascript.md) aggiungendo un breve frammento di codice.</span><span class="sxs-lookup"><span data-stu-id="a9c2e-274">Instrument [any web page](app-insights-javascript.md) by adding a short code snippet.</span></span>

