---
title: Pubblicare applicazioni HDInsight in Azure | Microsoft Docs
description: Informazioni su come creare e pubblicare applicazioni HDInsight.
services: hdinsight
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 14aef891-7a37-4cf1-8f7d-ca923565c783
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/25/2017
ms.author: jgao
ms.openlocfilehash: 6aa66cac35bc317fc87003e6c3d824544c53de88
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="publish-hdinsight-applications-into-the-azure-marketplace"></a><span data-ttu-id="7a2eb-103">Pubblicare applicazioni HDInsight in Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="7a2eb-103">Publish HDInsight applications into the Azure Marketplace</span></span>
<span data-ttu-id="7a2eb-104">Un'applicazione HDInsight è un'applicazione che gli utenti possono installare in un cluster HDInsight basato su Linux.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-104">An HDInsight application is an application that users can install on a Linux-based HDInsight cluster.</span></span> <span data-ttu-id="7a2eb-105">Queste applicazioni possono essere sviluppate da Microsoft, da fornitori di software indipendenti (ISV) o dall'utente.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-105">These applications can be developed by Microsoft, independent software vendors (ISV) or by yourself.</span></span> <span data-ttu-id="7a2eb-106">In questo articolo si apprenderà come pubblicare un'applicazione HDInsight in Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-106">In this article, you learn how to publish an HDInsight application into the Azure Marketplace.</span></span>  <span data-ttu-id="7a2eb-107">Per informazioni generali sulla pubblicazione in Azure Marketplace, vedere [Pubblicare un'offerta in Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-107">For general information about publishing into the Azure Marketplace, see [publish an offer to the Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span></span>

<span data-ttu-id="7a2eb-108">Le applicazioni HDInsight usano il modello *Bring Your Own License (BYOL)* , in cui il provider dell'applicazione è responsabile di concedere in licenza l'applicazione agli utenti finali e agli utenti finali vengono addebitate da Azure solo le risorse create, ad esempio il cluster HDInsight e le VM o i nodi.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-108">HDInsight applications use the *Bring Your Own License (BYOL)* model, where application provider is responsible for licensing the application to end-users, and end-users are only charged by Azure for the resources they create, such as the HDInsight cluster and its VMs/nodes.</span></span> <span data-ttu-id="7a2eb-109">Attualmente la fatturazione per l'applicazione in sé non viene effettuata con Azure.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-109">Currently, billing for the application itself is not done through Azure.</span></span>

<span data-ttu-id="7a2eb-110">Altro articolo correlato all'applicazione HDInsight:</span><span class="sxs-lookup"><span data-stu-id="7a2eb-110">Other HDInsight application-related article:</span></span>

* <span data-ttu-id="7a2eb-111">[Installare applicazioni HDInsight](hdinsight-apps-install-applications.md): informazioni su come installare un'applicazione HDInsight nei cluster.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-111">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how to install an HDInsight application to your clusters.</span></span>
* <span data-ttu-id="7a2eb-112">[Installare applicazioni HDInsight personalizzate](hdinsight-apps-install-custom-applications.md): informazioni su come installare e testare applicazioni HDInsight personalizzate.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-112">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how to install and test custom HDInsight applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7a2eb-113">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="7a2eb-113">Prerequisites</span></span>
<span data-ttu-id="7a2eb-114">Prima di inviare l'applicazione personalizzata al marketplace, è necessario crearla e testarla.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-114">To submit your custom application to the marketplace, you must have created and tested your custom application.</span></span> <span data-ttu-id="7a2eb-115">Vedere gli articoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="7a2eb-115">See the following articles:</span></span>

* <span data-ttu-id="7a2eb-116">[Installare applicazioni HDInsight personalizzate](hdinsight-apps-install-custom-applications.md): informazioni su come installare e testare applicazioni HDInsight personalizzate.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-116">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how to install and test custom HDInsight applications.</span></span>

<span data-ttu-id="7a2eb-117">È anche necessario registrare l'account per sviluppatore.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-117">You must also have registered your developer account.</span></span> <span data-ttu-id="7a2eb-118">Vedere [Pubblicare un'offerta in Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) e [Creare un account di Microsoft Developer](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-118">See [publish an offer to the Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) and [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>

## <a name="define-application"></a><span data-ttu-id="7a2eb-119">Definire l'applicazione</span><span class="sxs-lookup"><span data-stu-id="7a2eb-119">Define application</span></span>
<span data-ttu-id="7a2eb-120">La pubblicazione di applicazioni in Azure Marketplace richiede due passaggi.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-120">There are two steps involved for publishing applications to the Azure Marketplace.</span></span>  <span data-ttu-id="7a2eb-121">Prima si definisce un file **createUiDef.json** per indicare i cluster con cui è compatibile l'applicazione e quindi si pubblica il modello dal portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-121">First you define a **createUiDef.json** file to indicate which clusters your application is compatible with; and then you publish the template from the Azure portal.</span></span> <span data-ttu-id="7a2eb-122">La sezione seguente rappresenta un file createUiDef.json di esempio.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-122">The following section is a sample createUiDef.json file.</span></span>

    {
        "handler": "Microsoft.HDInsight",
        "version": "0.0.1-preview",
        "clusterFilters": {
            "types": ["Hadoop", "HBase", "Storm", "Spark"],
            "tiers": ["Standard", "Premium"],
            "versions": ["3.4"]
        }
    }


| <span data-ttu-id="7a2eb-123">Campo</span><span class="sxs-lookup"><span data-stu-id="7a2eb-123">Field</span></span> | <span data-ttu-id="7a2eb-124">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7a2eb-124">Description</span></span> | <span data-ttu-id="7a2eb-125">Valori possibili</span><span class="sxs-lookup"><span data-stu-id="7a2eb-125">Possible values</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7a2eb-126">types</span><span class="sxs-lookup"><span data-stu-id="7a2eb-126">types</span></span> |<span data-ttu-id="7a2eb-127">Tipi di cluster con cui è compatibile l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-127">The cluster types that the application is compatible with.</span></span> |<span data-ttu-id="7a2eb-128">Hadoop, HBase, Storm, Spark (o qualsiasi combinazione di questi valori)</span><span class="sxs-lookup"><span data-stu-id="7a2eb-128">Hadoop, HBase, Storm, Spark, (or any combination of these)</span></span> |
| <span data-ttu-id="7a2eb-129">tiers</span><span class="sxs-lookup"><span data-stu-id="7a2eb-129">tiers</span></span> |<span data-ttu-id="7a2eb-130">Livelli di cluster con cui è compatibile l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-130">The cluster tiers that the application is compatible with.</span></span> |<span data-ttu-id="7a2eb-131">Standard, Premium (o entrambi)</span><span class="sxs-lookup"><span data-stu-id="7a2eb-131">Standard, Premium, (or both)</span></span> |
| <span data-ttu-id="7a2eb-132">versions</span><span class="sxs-lookup"><span data-stu-id="7a2eb-132">versions</span></span> |<span data-ttu-id="7a2eb-133">Tipi di cluster HDInsight con cui è compatibile l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-133">The HDInsight cluster types that the application is compatible with.</span></span> |<span data-ttu-id="7a2eb-134">3.4</span><span class="sxs-lookup"><span data-stu-id="7a2eb-134">3.4</span></span> |

## <a name="application-install-script"></a><span data-ttu-id="7a2eb-135">Script di installazione dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="7a2eb-135">Application install script</span></span>
<span data-ttu-id="7a2eb-136">Ogni volta che un'applicazione viene installata in un cluster, esistente o nuovo, viene creato un nodo perimetrale e lo script di installazione dell'applicazione viene eseguito su di esso.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-136">Whenever an application is installed on a cluster (either an existing one or a new one), an edge node is created and the application install script is run on it.</span></span>
  > [!IMPORTANT]
  > <span data-ttu-id="7a2eb-137">Il nome dello script di installazione dell'applicazione deve essere univoco per un determinato cluster con il formato seguente.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-137">The name of the application install script names must be unique for a particular cluster with the following format.</span></span>
  > 
  > <span data-ttu-id="7a2eb-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span><span class="sxs-lookup"><span data-stu-id="7a2eb-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span></span>
  > 
  > <span data-ttu-id="7a2eb-139">Si noti che il nome dello script è composto da tre parti:</span><span class="sxs-lookup"><span data-stu-id="7a2eb-139">Note there are three parts to the script name:</span></span>
  > 
  > 1. <span data-ttu-id="7a2eb-140">Un prefisso del nome file che includerà il nome dell'applicazione o un nome rilevante per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-140">A script name prefix, which shall include either the application name or a name relevant to the application.</span></span>
  > 2. <span data-ttu-id="7a2eb-141">Un "-" per migliorare la leggibilità.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-141">A "-" for readability.</span></span>
  > 3. <span data-ttu-id="7a2eb-142">Una funzione stringa univoca con il nome dell'applicazione come parametro.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-142">A unique string function with the application name as the parameter.</span></span>
  > 
  > <span data-ttu-id="7a2eb-143">Ad esempio, la stringa indicata sopra alla fine diventerà: hue-install-v0-4wkahss55hlas nell'elenco di azioni script persistenti.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-143">An example is the above ends up becoming: hue-install-v0-4wkahss55hlas in the persisted script action list.</span></span> <span data-ttu-id="7a2eb-144">Per un payload JSON di esempio, vedere [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-144">For a sample JSON payload, see [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span></span>
  > 
<span data-ttu-id="7a2eb-145">Lo script di installazione deve avere le caratteristiche seguenti:</span><span class="sxs-lookup"><span data-stu-id="7a2eb-145">The installation script must have the following characteristics:</span></span>
1. <span data-ttu-id="7a2eb-146">Assicurarsi che lo script sia idempotente.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-146">Ensure that the script is idempotent.</span></span> <span data-ttu-id="7a2eb-147">Le chiamate multiple alo script devono produrre lo stesso risultato.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-147">Multiple calls to the script should produce the same result.</span></span>
2. <span data-ttu-id="7a2eb-148">Lo script deve disporre di versioni correttamente.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-148">The script should be properly versioned.</span></span> <span data-ttu-id="7a2eb-149">Usare un percorso diverso per lo script quando si aggiorna o si testano le modifiche in modo che i clienti che tentano di installare l'applicazione non siano interessati.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-149">Use a different location for the script when you are upgrading or testing out changes so that customers that are trying to install the application are not affected.</span></span> 
3. <span data-ttu-id="7a2eb-150">Aggiungere registrazioni adeguate agli script in ogni punto.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-150">Add adequate logging to the scripts at each point.</span></span> <span data-ttu-id="7a2eb-151">In genere i log degli script sono l'unico modo per eseguire il debug di problemi di installazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-151">Usually the script logs are the only way to debug application installation issues.</span></span>
4. <span data-ttu-id="7a2eb-152">Assicurarsi che le chiamate ai servizi esterni o le risorse dispongano di tentativi adeguati in modo che l'installazione non subisca i problemi di rete temporanei.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-152">Ensure that calls to external services or resources have adequate retries so that the installation is not affected by transient network issues.</span></span>
5. <span data-ttu-id="7a2eb-153">Se lo script avvia i servizi sui nodi, verificare che i servizi siano monitorati e configurati per l'avvio automatico in caso di riavvio del nodo.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-153">If your script is starting services on the nodes, ensure that the services are monitored and configured to start automatically in case of node reboots.</span></span>

## <a name="package-application"></a><span data-ttu-id="7a2eb-154">Inserire l'applicazione in un pacchetto</span><span class="sxs-lookup"><span data-stu-id="7a2eb-154">Package application</span></span>
<span data-ttu-id="7a2eb-155">Creare un file ZIP contenente tutti i file necessari per installare le applicazioni HDInsight.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-155">Create a zip file that contains all required files for installing your HDInsight applications.</span></span> <span data-ttu-id="7a2eb-156">Il file ZIP sarà necessario in [Pubblicare l'applicazione](#publish-application).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-156">You need the zip file in [Publish application](#publish-application).</span></span>

* <span data-ttu-id="7a2eb-157">[createUiDefinition.json](#define-application).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-157">[createUiDefinition.json](#define-application).</span></span>
* <span data-ttu-id="7a2eb-158">mainTemplate.json.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-158">mainTemplate.json.</span></span> <span data-ttu-id="7a2eb-159">Vedere un esempio in [Installare applicazioni HDInsight personalizzate](hdinsight-apps-install-custom-applications.md).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-159">See a sample at [Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md).</span></span>
* <span data-ttu-id="7a2eb-160">Tutti gli script necessari.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-160">All required scripts.</span></span>

> [!NOTE]
> <span data-ttu-id="7a2eb-161">I file dell'applicazione (inclusi eventuali file dell'applicazione Web) possono trovarsi in qualsiasi endpoint accessibile pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-161">The application files (including web application files if there is any) can be located on any publicly accessible endpoint.</span></span>
> 

## <a name="publish-application"></a><span data-ttu-id="7a2eb-162">Pubblicare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="7a2eb-162">Publish application</span></span>
<span data-ttu-id="7a2eb-163">Seguire questa procedura per pubblicare un'applicazione HDInsight:</span><span class="sxs-lookup"><span data-stu-id="7a2eb-163">Follow the following steps to publish an HDInsight application:</span></span>

1. <span data-ttu-id="7a2eb-164">Accedere al [portale di pubblicazione di Azure](https://publish.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-164">Sign on to the [Azure Publishing portal](https://publish.windowsazure.com/).</span></span>
2. <span data-ttu-id="7a2eb-165">Fare clic su **Modelli di soluzioni** per creare un nuovo modello di soluzione.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-165">Click **Solution templates** from the left to create a new solution template.</span></span>
3. <span data-ttu-id="7a2eb-166">Immettere un titolo, quindi fare clic su **Create a new solution template** (Crea un nuovo modello di soluzione).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-166">Enter a title, and then click **Create a new solution template**.</span></span>
4. <span data-ttu-id="7a2eb-167">Fare clic su **Create Dev Center account and join the Azure program** (Creare un account Dev Center e partecipare al programma di Azure) per registrare la società, se non è ancora stato fatto.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-167">Click **Create Dev Center account and join the Azure program** to register your company if you haven't done so.</span></span>  <span data-ttu-id="7a2eb-168">Vedere [Creare un account di Microsoft Developer](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-168">See [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>
5. <span data-ttu-id="7a2eb-169">Fare clic su **Define some Topologies to get Started**(Definire alcune topologie per iniziare).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-169">Click **Define some Topologies to get Started**.</span></span> <span data-ttu-id="7a2eb-170">Un modello di soluzione è un elemento padre per tutte le relative topologie.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-170">A solution template is a "parent" to all its topologies.</span></span> <span data-ttu-id="7a2eb-171">È possibile definire più topologie in un singolo modello di soluzione/offerta.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-171">You can define multiple topologies in one offer/solution template.</span></span> <span data-ttu-id="7a2eb-172">Quando un'offerta passa alla fase di gestione temporanea, passano a tale fase anche tutte le relative topologie.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-172">When an offer is pushed to staging, it is pushed with all its topologies.</span></span> 
6. <span data-ttu-id="7a2eb-173">Immettere il nome di una topologia, quindi fare clic sul segno più.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-173">Enter a topology name, and then click the plus sign.</span></span>
7. <span data-ttu-id="7a2eb-174">Immettere una nuova versione, quindi fare clic sul segno più.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-174">Enter a new version, and then click the Plus sign.</span></span>
8. <span data-ttu-id="7a2eb-175">Caricare il file ZIP preparato in [Inserire l'applicazione in un pacchetto](#package-application).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-175">Upload the zip file prepared in [Package application](#package-application).</span></span>  
9. <span data-ttu-id="7a2eb-176">Fare clic su **Request Certification**(Richiedi certificazione).</span><span class="sxs-lookup"><span data-stu-id="7a2eb-176">Click **Request Certification**.</span></span> <span data-ttu-id="7a2eb-177">Il team di certificazione Microsoft esaminerà i file e certificherà la topologia.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-177">The Microsoft certification team will review the files and certify the topology.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7a2eb-178">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="7a2eb-178">Next steps</span></span>
* <span data-ttu-id="7a2eb-179">[Installare applicazioni HDInsight](hdinsight-apps-install-applications.md): informazioni su come installare un'applicazione HDInsight nei cluster.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-179">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how to install an HDInsight application to your clusters.</span></span>
* <span data-ttu-id="7a2eb-180">[Installare applicazioni HDInsight personalizzate](hdinsight-apps-install-custom-applications.md): informazioni su come distribuire in HDInsight un'applicazione HDInsight non pubblicata.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-180">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): learn how to deploy an unpublished HDInsight application to HDInsight.</span></span>
* <span data-ttu-id="7a2eb-181">[Personalizzare cluster HDInsight basati su Linux tramite Azioni script](hdinsight-hadoop-customize-cluster-linux.md): informazioni su come usare Azioni script per installare applicazioni aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-181">[Customize Linux-based HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster-linux.md): learn how to use Script Action to install additional applications.</span></span>
* <span data-ttu-id="7a2eb-182">[Creare cluster Hadoop basati su Linux in HDInsight tramite modelli ARM](hdinsight-hadoop-create-linux-clusters-arm-templates.md): informazioni su come chiamare i modelli di Azure Resource Manager per creare cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-182">[Create Linux-based Hadoop clusters in HDInsight using Azure Resource Manager templates](hdinsight-hadoop-create-linux-clusters-arm-templates.md): learn how to call Resource Manager templates to create HDInsight clusters.</span></span>
* <span data-ttu-id="7a2eb-183">[Use empty edge nodes in HDInsight](hdinsight-apps-use-edge-node.md)(Usare nodi perimetrali vuoti in HDInsight): informazioni su come usare un nodo perimetrale vuoto per l'accesso a cluster HDInsight, il test di applicazioni HDInsight e l'hosting di applicazioni HDInsight.</span><span class="sxs-lookup"><span data-stu-id="7a2eb-183">[Use empty edge nodes in HDInsight](hdinsight-apps-use-edge-node.md): learn how to use an empty edge node for accessing HDInsight cluster, testing HDInsight applications, and hosting HDInsight applications.</span></span>

