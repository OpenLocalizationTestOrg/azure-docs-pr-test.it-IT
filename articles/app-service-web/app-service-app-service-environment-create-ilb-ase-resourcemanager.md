---
title: aaaHow tooCreate un bilanciamento del carico interno ASE con Azure Resource Manager modelli | Documenti Microsoft
description: Informazioni su come toocreate un interno caricare ASE di bilanciamento del carico tramite modelli di gestione risorse di Azure.
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 091decb6-b0de-42a1-9f2f-c18d9b2e67df
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: stefsch
ms.openlocfilehash: 16db20eccc232ccc73107fcc8291de180fb2a323
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="how-toocreate-an-ilb-ase-using-azure-resource-manager-templates"></a><span data-ttu-id="5bdef-103">Come tooCreate un bilanciamento del carico interno ASE utilizzando Azure modelli di gestione risorse</span><span class="sxs-lookup"><span data-stu-id="5bdef-103">How tooCreate an ILB ASE Using Azure Resource Manager Templates</span></span>

> [!NOTE] 
> <span data-ttu-id="5bdef-104">Questo articolo è sull'ambiente del servizio App v1 hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-104">This article is about hello App Service Environment v1.</span></span> <span data-ttu-id="5bdef-105">È una versione più recente di hello ambiente del servizio App che è più facile toouse e viene eseguito sull'infrastruttura più potente.</span><span class="sxs-lookup"><span data-stu-id="5bdef-105">There is a newer version of hello App Service Environment that is easier toouse and runs on more powerful infrastructure.</span></span> <span data-ttu-id="5bdef-106">informazioni sulla nuova versione di hello iniziare con hello toolearn [toohello introduzione ambiente del servizio App](../app-service/app-service-environment/intro.md).</span><span class="sxs-lookup"><span data-stu-id="5bdef-106">toolearn more about hello new version start with hello [Introduction toohello App  Service Environment](../app-service/app-service-environment/intro.md).</span></span>
>

## <a name="overview"></a><span data-ttu-id="5bdef-107">Panoramica</span><span class="sxs-lookup"><span data-stu-id="5bdef-107">Overview</span></span>
<span data-ttu-id="5bdef-108">È possibile creare ambienti del servizio app con un indirizzo interno di rete virtuale anziché un indirizzo VIP pubblico.</span><span class="sxs-lookup"><span data-stu-id="5bdef-108">App Service Environments can be created with a virtual network internal address instead of a public VIP.</span></span>  <span data-ttu-id="5bdef-109">Questo indirizzo interno è fornito da un componente Azure denominato servizio di bilanciamento del carico interno hello (ILB).</span><span class="sxs-lookup"><span data-stu-id="5bdef-109">This internal address is provided by an Azure component called hello internal load balancer (ILB).</span></span>  <span data-ttu-id="5bdef-110">ASE un bilanciamento del carico interno può essere creata usando hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="5bdef-110">An ILB ASE can be created using hello Azure portal.</span></span>  <span data-ttu-id="5bdef-111">L'ambiente può anche essere creato con l'automazione, usando i modelli di Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="5bdef-111">It can also be created using automation by way of Azure Resource Manager templates.</span></span>  <span data-ttu-id="5bdef-112">In questo articolo vengono illustrati i passaggi di hello e sintassi necessari toocreate ASE un bilanciamento del carico interno con modelli di gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="5bdef-112">This article walks through hello steps and syntax needed toocreate an ILB ASE with Azure Resource Manager templates.</span></span>

<span data-ttu-id="5bdef-113">L'automazione della creazione di un ambiente del servizio app con servizio di bilanciamento del carico interno prevede tre passaggi:</span><span class="sxs-lookup"><span data-stu-id="5bdef-113">There are three steps involved in automating creation of an ILB ASE:</span></span>

1. <span data-ttu-id="5bdef-114">Primo ASE di base hello viene creato in una rete virtuale usando un indirizzo di bilanciamento del carico interno anziché un VIP pubblico.</span><span class="sxs-lookup"><span data-stu-id="5bdef-114">First hello base ASE is created in a virtual network using an internal load balancer address instead of a public VIP.</span></span>  <span data-ttu-id="5bdef-115">Come parte di questo passaggio, un nome di dominio radice viene assegnato toohello ASE di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="5bdef-115">As part of this step, a root domain name is assigned toohello ILB ASE.</span></span>
2. <span data-ttu-id="5bdef-116">Dopo aver caricato hello che ase di bilanciamento del carico interno viene creato, un certificato SSL.</span><span class="sxs-lookup"><span data-stu-id="5bdef-116">Once hello ILB ASE is created, an SSL certificate is uploaded.</span></span>  
3. <span data-ttu-id="5bdef-117">Hello caricato certificato SSL viene assegnato esplicitamente toohello ASE di bilanciamento del carico interno come il proprio certificato SSL "default".</span><span class="sxs-lookup"><span data-stu-id="5bdef-117">hello uploaded SSL certificate is explicitly assigned toohello ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="5bdef-118">Questo certificato SSL da utilizzare per tooapps traffico SSL su hello ASE ILB quando hello App vengono risolti utilizzando hello comuni radice dominio assegnato toohello ASE (ad esempio https://someapp.mycustomrootcomain.com)</span><span class="sxs-lookup"><span data-stu-id="5bdef-118">This SSL certificate will be used for SSL traffic tooapps on hello ILB ASE when hello apps are addressed using hello common root domain assigned toohello ASE (e.g. https://someapp.mycustomrootcomain.com)</span></span>

## <a name="creating-hello-base-ilb-ase"></a><span data-ttu-id="5bdef-119">Creazione di hello ASE di bilanciamento del carico interno di Base</span><span class="sxs-lookup"><span data-stu-id="5bdef-119">Creating hello Base ILB ASE</span></span>
<span data-ttu-id="5bdef-120">Un modello di Azure Resource Manager di esempio e il file dei parametri associati sono disponibili in GitHub [qui][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="5bdef-120">An example Azure Resource Manager template, and its associated parameters file, are available on GitHub [here][quickstartilbasecreate].</span></span>

<span data-ttu-id="5bdef-121">La maggior parte dei parametri di hello in hello *azuredeploy.parameters.json* file sono comuni toocreating entrambi ASEs di bilanciamento del carico interno, nonché ASEs associato VIP pubblico tooa.</span><span class="sxs-lookup"><span data-stu-id="5bdef-121">Most of hello parameters in hello *azuredeploy.parameters.json* file are common toocreating both ILB ASEs, as well as ASEs bound tooa public VIP.</span></span>  <span data-ttu-id="5bdef-122">Hello elenco riportato di seguito chiama un'attenzione particolare i parametri out o che sono univoci, quando si crea un ASE di bilanciamento del carico interno:</span><span class="sxs-lookup"><span data-stu-id="5bdef-122">hello list below calls out parameters of special note, or that are unique, when creating an ILB ASE:</span></span>

* <span data-ttu-id="5bdef-123">*interalLoadBalancingMode*: nella maggior parte dei casi, impostare questo too3, ovvero sia il traffico sulle porte 80/443 HTTP/HTTPS, e le porte canale dati di controllo/hello resta in attesa del servizio FTP hello tooby su hello ASE, verranno associati tooan ILB allocate rete virtuale indirizzo interno.</span><span class="sxs-lookup"><span data-stu-id="5bdef-123">*interalLoadBalancingMode*:  In most cases set this too3, which means both HTTP/HTTPS traffic on ports 80/443, and hello control/data channel ports listened tooby hello FTP service on hello ASE, will be bound tooan ILB allocated virtual network internal address.</span></span>  <span data-ttu-id="5bdef-124">Se questa proprietà è invece impostata too2, hello solo il servizio FTP relative porte (canali di controllo e i dati) verranno associate indirizzo tooan ILB, mentre il traffico HTTP/HTTPS hello rimarrà sul VIP pubblico hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-124">If this property is instead set too2, then only hello FTP service related ports (both control and data channels) will be bound tooan ILB address, while hello HTTP/HTTPS traffic will remain on hello public VIP.</span></span>
* <span data-ttu-id="5bdef-125">*suffisso DNS*: questo parametro definisce dominio di radice hello predefinito che verrà assegnato ASE toohello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-125">*dnsSuffix*:  This parameter defines hello default root domain that will be assigned toohello ASE.</span></span>  <span data-ttu-id="5bdef-126">Nella variante pubblica di hello del servizio App di Azure, dominio radice di hello predefinito per tutte le app web è *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="5bdef-126">In hello public variation of Azure App Service, hello default root domain for all web apps is *azurewebsites.net*.</span></span>  <span data-ttu-id="5bdef-127">Tuttavia, poiché la rete virtuale del cliente interno tooa ASE un bilanciamento del carico interno, può non essere dominio di radice del servizio di rilevamento toouse hello pubblico predefinito.</span><span class="sxs-lookup"><span data-stu-id="5bdef-127">However since an ILB ASE is internal tooa customer's virtual network, it doesn't make sense toouse hello public service's default root domain.</span></span>  <span data-ttu-id="5bdef-128">Un ambiente del servizio app con servizio di bilanciamento del carico interno deve invece avere un dominio radice predefinito appropriato per la rete virtuale interna dell'azienda.</span><span class="sxs-lookup"><span data-stu-id="5bdef-128">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span>  <span data-ttu-id="5bdef-129">Ad esempio, un ipotetico di Contoso Corporation potrebbe utilizzare un dominio radice predefinito di *contoso.com interna* per le app che sono previsti tooonly sia risolvibile e accessibile in rete virtuale di Contoso.</span><span class="sxs-lookup"><span data-stu-id="5bdef-129">For example, a hypothetical Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended tooonly be resolvable and accessible within Contoso's virtual network.</span></span> 
* <span data-ttu-id="5bdef-130">*ipSslAddressCount*: questo parametro viene automaticamente impostato come valore predefinito tooa valore pari a 0 in hello *azuredeploy.json* file perché il bilanciamento del carico interno ASEs avere solo un singolo indirizzo di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="5bdef-130">*ipSslAddressCount*:  This parameter is automatically defaulted tooa value of 0 in hello *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span>  <span data-ttu-id="5bdef-131">Nessun indirizzo IP SSL esplicita per ASE un bilanciamento del carico interno e pertanto il pool di indirizzi IP SSL per un bilanciamento del carico interno di ASE hello deve essere impostato toozero, in caso contrario si verificherà un errore di provisioning.</span><span class="sxs-lookup"><span data-stu-id="5bdef-131">There are no explicit IP-SSL addresses for an ILB ASE, and hence hello IP-SSL address pool for an ILB ASE must be set toozero, otherwise a provisioning error will occur.</span></span> 

<span data-ttu-id="5bdef-132">Una volta hello *azuredeploy.parameters.json* file è stato compilato per ASE un bilanciamento del carico interno, hello ASE ILB può quindi essere creato utilizzando hello seguente frammento di codice di Powershell.</span><span class="sxs-lookup"><span data-stu-id="5bdef-132">Once hello *azuredeploy.parameters.json* file has been filled in for an ILB ASE, hello ILB ASE can then be created using hello following Powershell code snippet.</span></span>  <span data-ttu-id="5bdef-133">Modificare hello toomatch di percorsi di file in cui risiedono i file di modello di hello Azure Resource Manager nel computer.</span><span class="sxs-lookup"><span data-stu-id="5bdef-133">Change hello file PATHs toomatch where hello Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="5bdef-134">Ricordare anche toosupply i propri valori per nome della distribuzione Azure Resource Manager hello e nome del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="5bdef-134">Also remember toosupply your own values for hello Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="5bdef-135">Dopo aver hello Azure Resource Manager modello inviato che richiederà alcune ore per hello ASE ILB toobe creato.</span><span class="sxs-lookup"><span data-stu-id="5bdef-135">After hello Azure Resource Manager template is submitted it will take a few hours for hello ILB ASE toobe created.</span></span>  <span data-ttu-id="5bdef-136">Una volta completata la creazione di hello, hello ASE ILB verrà visualizzati nel portale di hello UX nell'elenco di hello degli ambienti di servizio App per la sottoscrizione di hello che ha attivato la distribuzione di hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-136">Once hello creation completes, hello ILB ASE will show up in hello portal UX in hello list of App Service Environments for hello subscription that triggered hello deployment.</span></span>

## <a name="uploading-and-configuring-hello-default-ssl-certificate"></a><span data-ttu-id="5bdef-137">Caricamento e la configurazione hello "Default" certificato SSL</span><span class="sxs-lookup"><span data-stu-id="5bdef-137">Uploading and Configuring hello "Default" SSL Certificate</span></span>
<span data-ttu-id="5bdef-138">Una volta hello che ase di bilanciamento del carico interno viene creato, un certificato SSL deve essere associato a ASE hello come l'uso di certificati SSL predefinita"hello" per stabilire tooapps connessioni SSL.</span><span class="sxs-lookup"><span data-stu-id="5bdef-138">Once hello ILB ASE is created, an SSL certificate should be associated with hello ASE as hello "default" SSL certificate use for establishing SSL connections tooapps.</span></span>  <span data-ttu-id="5bdef-139">Continuare l'esempio di Contoso Corporation ipotetico hello, hello del ASE predefinito DNS suffisso è *contoso.com interna*, quindi una connessione troppo*https://some-random-app.internal-contoso.com*richiede un certificato SSL valido per **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="5bdef-139">Continuing with hello hypothetical Contoso Corporation example, if hello ASE's default DNS suffix is *internal-contoso.com*, then a connection too*https://some-random-app.internal-contoso.com* requires an SSL certificate that is valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="5bdef-140">Esistono diversi modi tooobtain un certificato SSL valido inclusi autorità di certificazione interne, acquistare un certificato da un'autorità di certificazione esterna e l'utilizzo di un certificato autofirmato.</span><span class="sxs-lookup"><span data-stu-id="5bdef-140">There are a variety of ways tooobtain a valid SSL certificate including internal CAs, purchasing a certificate from an external issuer, and using a self-signed certificate.</span></span>  <span data-ttu-id="5bdef-141">Indipendentemente dall'origine hello del certificato SSL di hello, hello seguenti attributi di certificato necessario toobe configurato correttamente:</span><span class="sxs-lookup"><span data-stu-id="5bdef-141">Regardless of hello source of hello SSL certificate, hello following certificate attributes need toobe configured properly:</span></span>

* <span data-ttu-id="5bdef-142">*Oggetto*: questo attributo deve essere impostato troppo **.your-radice-dominio-here.com*</span><span class="sxs-lookup"><span data-stu-id="5bdef-142">*Subject*:  This attribute must be set too**.your-root-domain-here.com*</span></span>
* <span data-ttu-id="5bdef-143">*Nome alternativo del soggetto*: questo attributo deve includere entrambe **.your-radice-dominio-here.com*, e **.scm.your-radice-dominio-here.com*.  motivo per la seconda voce hello Hello è tale toohello connessioni SSL sito SCM/Kudu associato a ogni app verrà effettuata utilizzando un indirizzo del modulo hello *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="5bdef-143">*Subject Alternative Name*:  This attribute must include both **.your-root-domain-here.com*, and **.scm.your-root-domain-here.com*.  hello reason for hello second entry is that SSL connections toohello SCM/Kudu site associated with each app will be made using an address of hello form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="5bdef-144">Dopo aver ottenuto un certificato SSL valido sono necessari altri due passaggi preliminari.</span><span class="sxs-lookup"><span data-stu-id="5bdef-144">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span>  <span data-ttu-id="5bdef-145">certificato SSL Hello deve toobe convertito/salvato come file con estensione pfx.</span><span class="sxs-lookup"><span data-stu-id="5bdef-145">hello SSL certificate needs toobe converted/saved as a .pfx file.</span></span>  <span data-ttu-id="5bdef-146">Tenere presente il file con estensione pfx hello deve tooinclude tutti intermedi e i certificati radice e deve inoltre toobe protetto da password.</span><span class="sxs-lookup"><span data-stu-id="5bdef-146">Remember that hello .pfx file needs tooinclude all intermediate and root certificates, and also needs toobe secured with a password.</span></span>

<span data-ttu-id="5bdef-147">File con estensione pfx risultante hello deve quindi toobe convertito in una stringa base64 perché verrà caricato il certificato SSL hello utilizzando un modello di gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="5bdef-147">Then hello resultant .pfx file needs toobe converted into a base64 string because hello SSL certificate will be uploaded using an Azure Resource Manager template.</span></span>  <span data-ttu-id="5bdef-148">Poiché i modelli di gestione risorse di Azure sono file di testo, file con estensione pfx hello deve toobe convertito in una stringa base 64 in modo che può essere incluso come un parametro di modello hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-148">Since Azure Resource Manager templates are text files, hello .pfx file needs toobe converted into a base64 string so it can be included as a parameter of hello template.</span></span>

<span data-ttu-id="5bdef-149">frammento di codice Powershell Hello seguente viene illustrato un esempio di generazione di un certificato autofirmato, esportazione hello certificato come file con estensione pfx, conversione di file con estensione pfx hello in base 64 in una stringa codificata e salvando hello base64 codifica file separato tooa di stringa.</span><span class="sxs-lookup"><span data-stu-id="5bdef-149">hello Powershell code snippet below shows an example of generating a self-signed certificate, exporting hello certificate as a .pfx file, converting hello .pfx file into a base64 encoded string, and then saving hello base64 encoded string tooa separate file.</span></span>  <span data-ttu-id="5bdef-150">Hello codice di Powershell per la codifica base64 è stata adattata dall'hello [Blog di script di Powershell][examplebase64encoding].</span><span class="sxs-lookup"><span data-stu-id="5bdef-150">hello Powershell code for base64 encoding was adapted from hello [Powershell Scripts Blog][examplebase64encoding].</span></span>

    $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

    $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
    $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

    $fileName = "exportedcert.pfx"
    Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

    $fileContentBytes = get-content -encoding byte $fileName
    $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
    $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="5bdef-151">Una volta certificato SSL hello è stata generata e stringa con codifica base64 tooa convertito, hello modello di esempio di gestione risorse di Azure su GitHub per [configurazione certificato SSL predefinito di hello] [ configuringDefaultSSLCertificate] può essere utilizzato.</span><span class="sxs-lookup"><span data-stu-id="5bdef-151">Once hello SSL certificate has been successfully generated and converted tooa base64 encoded string, hello example Azure Resource Manager template on GitHub for [configuring hello default SSL certificate][configuringDefaultSSLCertificate] can be used.</span></span>

<span data-ttu-id="5bdef-152">i parametri in hello Hello *azuredeploy.parameters.json* file sono elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="5bdef-152">hello parameters in hello *azuredeploy.parameters.json* file are listed below:</span></span>

* <span data-ttu-id="5bdef-153">*appServiceEnvironmentName*: nome hello di hello ASE ILB da configurare.</span><span class="sxs-lookup"><span data-stu-id="5bdef-153">*appServiceEnvironmentName*:  hello name of hello ILB ASE being configured.</span></span>
* <span data-ttu-id="5bdef-154">*existingAseLocation*: stringa di testo contenente hello regione di Azure in cui hello ASE di bilanciamento del carico interno è stato distribuito.</span><span class="sxs-lookup"><span data-stu-id="5bdef-154">*existingAseLocation*:  Text string containing hello Azure region where hello ILB ASE was deployed.</span></span>  <span data-ttu-id="5bdef-155">Ad esempio "Stati Uniti centro-meridionali".</span><span class="sxs-lookup"><span data-stu-id="5bdef-155">For example:  "South Central US".</span></span>
* <span data-ttu-id="5bdef-156">*pfxBlobString*: hello based64 codificato rappresentazione di stringa del file con estensione pfx hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-156">*pfxBlobString*:  hello based64 encoded string representation of hello .pfx file.</span></span>  <span data-ttu-id="5bdef-157">Tramite il frammento di codice hello illustrato in precedenza, si sarebbe copiare hello stringa contenuto in "exportedcert.pfx.b64" e incollarlo come valore di hello di hello *pfxBlobString* attributo.</span><span class="sxs-lookup"><span data-stu-id="5bdef-157">Using hello code snippet shown earlier, you would copy hello string contained in "exportedcert.pfx.b64" and paste it in as hello value of hello *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="5bdef-158">*password*: file con estensione pfx hello toosecure hello password utilizzata.</span><span class="sxs-lookup"><span data-stu-id="5bdef-158">*password*:  hello password used toosecure hello .pfx file.</span></span>
* <span data-ttu-id="5bdef-159">*certificateThumbprint*: hello identificazione personale del certificato.</span><span class="sxs-lookup"><span data-stu-id="5bdef-159">*certificateThumbprint*:  hello certificate's thumbprint.</span></span>  <span data-ttu-id="5bdef-160">Se si recupera il valore da Powershell (ad esempio *$certificate. Identificazione personale* da hello frammento di codice precedente), è possibile utilizzare il valore di hello come-è.</span><span class="sxs-lookup"><span data-stu-id="5bdef-160">If you retrieve this value from Powershell (e.g. *$certificate.Thumbprint* from hello earlier code snippet), you can use hello value as-is.</span></span>  <span data-ttu-id="5bdef-161">Se si copia il valore di hello dalla finestra di dialogo certificato Windows hello, tenere presente, tuttavia toostrip out spazi hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-161">However if you copy hello value from hello Windows certificate dialog, remember toostrip out hello extraneous spaces.</span></span>  <span data-ttu-id="5bdef-162">Hello *certificateThumbprint* dovrebbe essere simile al seguente: AF3143EB61D43F6727842115BB7F17BBCECAECAE</span><span class="sxs-lookup"><span data-stu-id="5bdef-162">hello *certificateThumbprint* should look something like:  AF3143EB61D43F6727842115BB7F17BBCECAECAE</span></span>
* <span data-ttu-id="5bdef-163">*Nomecertificato*: un identificatore di stringa di propria scelta utilizzato certificato hello tooidentity.</span><span class="sxs-lookup"><span data-stu-id="5bdef-163">*certificateName*:  A friendly string identifier of your own choosing used tooidentity hello certificate.</span></span>  <span data-ttu-id="5bdef-164">nome di Hello viene utilizzato come parte di gestione risorse di Azure identificatore hello per hello *Microsoft.Web/certificates* entità che rappresenta il certificato SSL hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-164">hello name is used as part of hello unique Azure Resource Manager identifier for hello *Microsoft.Web/certificates* entity representing hello SSL certificate.</span></span>  <span data-ttu-id="5bdef-165">nome Hello **deve** terminare con hello successivo suffisso: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="5bdef-165">hello name **must** end with hello following suffix:  \_yourASENameHere_InternalLoadBalancingASE.</span></span>  <span data-ttu-id="5bdef-166">Il suffisso viene utilizzato dal portale hello come un indicatore che hello certificato viene utilizzato per proteggere un ASE abilitata al bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="5bdef-166">This suffix is used by hello portal as an indicator that hello certificate is used for securing an ILB-enabled ASE.</span></span>

<span data-ttu-id="5bdef-167">Un esempio abbreviato di *azuredeploy.parameters.json* è illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="5bdef-167">An abbreviated example of *azuredeploy.parameters.json* is shown below:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="5bdef-168">Una volta hello *azuredeploy.parameters.json* file è stato compilato, il certificato SSL predefinito di hello può essere configurato tramite hello seguente frammento di codice di Powershell.</span><span class="sxs-lookup"><span data-stu-id="5bdef-168">Once hello *azuredeploy.parameters.json* file has been filled in, hello default SSL certificate can be configured using hello following Powershell code snippet.</span></span>  <span data-ttu-id="5bdef-169">Modificare hello toomatch di percorsi di file in cui risiedono i file di modello di hello Azure Resource Manager nel computer.</span><span class="sxs-lookup"><span data-stu-id="5bdef-169">Change hello file PATHs toomatch where hello Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="5bdef-170">Ricordare anche toosupply i propri valori per nome della distribuzione Azure Resource Manager hello e nome del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="5bdef-170">Also remember toosupply your own values for hello Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="5bdef-171">Dopo aver hello Azure Resource Manager modello inviato che richiederà circa 40 minuti minuti per modifica di hello ASE tooapply front-end.</span><span class="sxs-lookup"><span data-stu-id="5bdef-171">After hello Azure Resource Manager template is submitted it will take roughly forty minutes minutes per ASE front-end tooapply hello change.</span></span>  <span data-ttu-id="5bdef-172">Ad esempio, con valore predefinito è ASE dimensioni utilizzando due server front-end, modello hello richiederà intorno a un'ora e toocomplete di venti minuti.</span><span class="sxs-lookup"><span data-stu-id="5bdef-172">For example, with a default sized ASE using two front-ends, hello template will take around one hour and twenty minutes toocomplete.</span></span>  <span data-ttu-id="5bdef-173">Durante l'esecuzione di modello hello hello ASE non saranno in grado di tooscaled.</span><span class="sxs-lookup"><span data-stu-id="5bdef-173">While hello template is running hello ASE will not be able tooscaled.</span></span>  

<span data-ttu-id="5bdef-174">Dopo aver completato il modello di hello, App in hello ASE di bilanciamento del carico interno è possibile accedere tramite HTTPS e le connessioni hello verranno protetti tramite certificato SSL di hello predefinito.</span><span class="sxs-lookup"><span data-stu-id="5bdef-174">Once hello template completes, apps on hello ILB ASE can be accessed over HTTPS and hello connections will be secured using hello default SSL certificate.</span></span>  <span data-ttu-id="5bdef-175">certificato SSL di Hello predefinito da utilizzare quando le app su hello ASE di bilanciamento del carico interno vengono risolti utilizzando una combinazione del nome dell'applicazione hello e nome host predefinito hello.</span><span class="sxs-lookup"><span data-stu-id="5bdef-175">hello default SSL certificate will be used when apps on hello ILB ASE are addressed using a combination of hello application name plus hello default hostname.</span></span>  <span data-ttu-id="5bdef-176">Ad esempio *https://mycustomapp.internal-contoso.com* utilizzerà il certificato SSL predefinito di hello per **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="5bdef-176">For example *https://mycustomapp.internal-contoso.com* would use hello default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="5bdef-177">Tuttavia, come App in esecuzione nel servizio multi-tenant pubblico di hello, gli sviluppatori possono inoltre configurare i nomi host personalizzati per singole App e quindi configurare le associazioni certificato SNI SSL univoche per le singole applicazioni.</span><span class="sxs-lookup"><span data-stu-id="5bdef-177">However, just like apps running on hello public multi-tenant service, developers can also configure custom host names for individual apps, and then configure unique SNI SSL certificate bindings for individual apps.</span></span>  

## <a name="getting-started"></a><span data-ttu-id="5bdef-178">introduttiva</span><span class="sxs-lookup"><span data-stu-id="5bdef-178">Getting started</span></span>
<span data-ttu-id="5bdef-179">tooget avviato con gli ambienti del servizio App, vedere [tooApp introduzione dell'ambiente del servizio](app-service-app-service-environment-intro.md)</span><span class="sxs-lookup"><span data-stu-id="5bdef-179">tooget started with App Service Environments, see [Introduction tooApp Service Environment](app-service-app-service-environment-intro.md)</span></span>

<span data-ttu-id="5bdef-180">Tutti gli articoli e in che modo-per per gli ambienti del servizio App sono disponibili in hello [file Leggimi per gli ambienti del servizio dell'applicazione](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="5bdef-180">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[quickstartilbasecreate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-create/
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/ 

