---
title: Panoramica di bilanciamento del carico aaaAzure | Documenti Microsoft
description: "Panoramica di funzionalità, architettura e implementazione di Azure Load Balancer. Informazioni sul funzionamento di bilanciamento del carico hello e sfruttato tale opportunità nel cloud hello."
services: load-balancer
documentationcenter: na
author: kumudd
manager: timlt
editor: 
ms.assetid: 0f313dc0-f007-4cee-b2b9-f542357925a3
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/24/2016
ms.author: kumud
ms.openlocfilehash: 2376a02f7cbbbed6a90f216419c0c3d30f594272
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-load-balancer-overview"></a><span data-ttu-id="ad8be-104">Panoramica del servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="ad8be-104">Azure Load Balancer overview</span></span>

<span data-ttu-id="ad8be-105">Bilanciamento del carico di Azure offre prestazioni elevate, disponibilità e la rete tooyour applicazioni.</span><span class="sxs-lookup"><span data-stu-id="ad8be-105">Azure Load Balancer delivers high availability and network performance tooyour applications.</span></span> <span data-ttu-id="ad8be-106">Si tratta di un servizio di bilanciamento del carico di livello 4 (TCP, UDP) che distribuisce il traffico in ingresso tra istanze integre di servizi definiti in un set con carico bilanciato.</span><span class="sxs-lookup"><span data-stu-id="ad8be-106">It is a Layer 4 (TCP, UDP) load balancer that distributes incoming traffic among healthy instances of services defined in a load-balanced set.</span></span>

<span data-ttu-id="ad8be-107">Azure Load Balancer può essere configurato per:</span><span class="sxs-lookup"><span data-stu-id="ad8be-107">Azure Load Balancer can be configured to:</span></span>

* <span data-ttu-id="ad8be-108">Caricare il saldo in ingresso Internet traffico toovirtual macchine.</span><span class="sxs-lookup"><span data-stu-id="ad8be-108">Load balance incoming Internet traffic toovirtual machines.</span></span> <span data-ttu-id="ad8be-109">Questa configurazione è nota come [bilanciamento del carico Internet tra più macchine virtuali o servizi](load-balancer-internet-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ad8be-109">This configuration is known as [Internet-facing load balancing](load-balancer-internet-overview.md).</span></span>
* <span data-ttu-id="ad8be-110">Bilanciare il carico del traffico tra macchine virtuali in una rete virtuale, tra macchine virtuali nei servizi cloud o tra computer locali e macchine virtuali in una rete virtuale cross-premise.</span><span class="sxs-lookup"><span data-stu-id="ad8be-110">Load balance traffic between virtual machines in a virtual network, between virtual machines in cloud services, or between on-premises computers and virtual machines in a cross-premises virtual network.</span></span> <span data-ttu-id="ad8be-111">Questa configurazione è nota come [bilanciamento del carico interno](load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ad8be-111">This configuration is known as [internal load balancing](load-balancer-internal-overview.md).</span></span>
* <span data-ttu-id="ad8be-112">Inoltrare il traffico esterno tooa macchina virtuale specifica.</span><span class="sxs-lookup"><span data-stu-id="ad8be-112">Forward external traffic tooa specific virtual machine.</span></span>

<span data-ttu-id="ad8be-113">Tutte le risorse nel cloud hello necessario raggiungibile da Internet hello un toobe di indirizzo IP pubblico.</span><span class="sxs-lookup"><span data-stu-id="ad8be-113">All resources in hello cloud need a public IP address toobe reachable from hello Internet.</span></span> <span data-ttu-id="ad8be-114">infrastruttura di cloud Hello in Azure Usa gli indirizzi IP non instradabili per le risorse.</span><span class="sxs-lookup"><span data-stu-id="ad8be-114">hello cloud infrastructure in Azure uses non-routable IP addresses for its resources.</span></span> <span data-ttu-id="ad8be-115">Azure Usa il servizio NAT (Network address translation) con toohello toocommunicate gli indirizzi IP pubblico Internet.</span><span class="sxs-lookup"><span data-stu-id="ad8be-115">Azure uses network address translation (NAT) with public IP addresses toocommunicate toohello Internet.</span></span>

## <a name="azure-deployment-models"></a><span data-ttu-id="ad8be-116">Modelli di distribuzione di Azure</span><span class="sxs-lookup"><span data-stu-id="ad8be-116">Azure deployment models</span></span>

<span data-ttu-id="ad8be-117">È importante toounderstand hello differenze hello Azure classico e Gestione risorse [modelli di distribuzione](../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="ad8be-117">It's important toounderstand hello differences between hello Azure classic and Resource Manager [deployment models](../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="ad8be-118">Azure Load Balancer viene configurato in modo diverso in ogni modello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-118">Azure Load Balancer is configured differently in each model.</span></span>

### <a name="azure-classic-deployment-model"></a><span data-ttu-id="ad8be-119">Modello di distribuzione classica di Azure</span><span class="sxs-lookup"><span data-stu-id="ad8be-119">Azure classic deployment model</span></span>

<span data-ttu-id="ad8be-120">Macchine virtuali distribuite all'interno di un servizio cloud possono essere raggruppati toouse un bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="ad8be-120">Virtual machines deployed within a cloud service boundary can be grouped toouse a load balancer.</span></span> <span data-ttu-id="ad8be-121">In questo modello un indirizzo IP pubblico e un nome di dominio completo (FQDN) assegnati servizio cloud tooa.</span><span class="sxs-lookup"><span data-stu-id="ad8be-121">In this model a public IP address and a Fully Qualified Domain Name, (FQDN) are assigned tooa cloud service.</span></span> <span data-ttu-id="ad8be-122">servizio di bilanciamento del carico Hello porta traduzione e bilancia il carico del traffico di rete hello tramite indirizzo IP pubblico hello per il servizio cloud hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-122">hello load balancer does port translation and load balances hello network traffic by using hello public IP address for hello cloud service.</span></span>

<span data-ttu-id="ad8be-123">Il traffico con carico bilanciato è definito dagli endpoint.</span><span class="sxs-lookup"><span data-stu-id="ad8be-123">Load-balanced traffic is defined by endpoints.</span></span> <span data-ttu-id="ad8be-124">Endpoint di traduzione porte hanno una relazione uno a uno tra hello assegnato pubblico porta dell'indirizzo IP pubblico hello e hello locale assegnato servizio toohello su una macchina virtuale specifica.</span><span class="sxs-lookup"><span data-stu-id="ad8be-124">Port translation endpoints have a one-to-one relationship between hello public-assigned port of hello public IP address and hello local port assigned toohello service on a specific virtual machine.</span></span> <span data-ttu-id="ad8be-125">Gli endpoint di bilanciamento del carico hanno una relazione uno-a-molti tra l'indirizzo IP pubblico hello e hello locale porte assegnate toohello services nelle macchine virtuali hello nel servizio cloud hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-125">Load balancing endpoints have a one-to-many relationship between hello public IP address and hello local ports assigned toohello services on hello virtual machines in hello cloud service.</span></span>

![Bilanciamento del carico di Azure nel modello di distribuzione classica hello](./media/load-balancer-overview/asm-lb.png)

<span data-ttu-id="ad8be-127">Figura 1: bilanciamento del carico di Azure nel modello di distribuzione classica hello</span><span class="sxs-lookup"><span data-stu-id="ad8be-127">Figure 1 - Azure Load Balancer in hello classic deployment model</span></span>

<span data-ttu-id="ad8be-128">etichetta del dominio per l'indirizzo IP pubblico hello che utilizza Bilanciamento carico per questo modello di distribuzione hello Hello è \<nome del servizio cloud\>. cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="ad8be-128">hello domain label for hello public IP address that hello load balancer uses for this deployment model is \<cloud service name\>.cloudapp.net.</span></span> <span data-ttu-id="ad8be-129">Hello figura seguente illustra hello bilanciamento del carico di Azure in questo modello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-129">hello following graphic shows hello Azure Load Balancer in this model.</span></span>

### <a name="azure-resource-manager-deployment-model"></a><span data-ttu-id="ad8be-130">Modello di distribuzione di Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ad8be-130">Azure Resource Manager deployment model</span></span>

<span data-ttu-id="ad8be-131">Nel modello di distribuzione di gestione risorse di hello non è toocreate è necessario un servizio Cloud.</span><span class="sxs-lookup"><span data-stu-id="ad8be-131">In hello Resource Manager deployment model there is no need toocreate a Cloud service.</span></span> <span data-ttu-id="ad8be-132">servizio di bilanciamento del carico Hello viene creato tooexplicitly instradare il traffico tra più macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="ad8be-132">hello load balancer is created tooexplicitly route traffic among multiple virtual machines.</span></span>

<span data-ttu-id="ad8be-133">Un indirizzo IP pubblico è una singola risorsa con un'etichetta di dominio (nome DNS).</span><span class="sxs-lookup"><span data-stu-id="ad8be-133">A public IP address is an individual resource that has a domain label (DNS name).</span></span> <span data-ttu-id="ad8be-134">indirizzo IP pubblico Hello è associata a una risorsa di bilanciamento del carico hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-134">hello public IP address is associated with hello load balancer resource.</span></span> <span data-ttu-id="ad8be-135">Regole di bilanciamento del carico e delle regole NAT in ingresso utilizzano l'indirizzo IP pubblico hello come hello endpoint Internet per le risorse di hello che ricevono il traffico con bilanciamento del carico di rete.</span><span class="sxs-lookup"><span data-stu-id="ad8be-135">Load balancer rules and inbound NAT rules use hello public IP address as hello Internet endpoint for hello resources that are receiving load-balanced network traffic.</span></span>

<span data-ttu-id="ad8be-136">Un indirizzo IP pubblico o privato viene assegnato a macchina virtuale tooa di toohello rete interfaccia risorsa collegata.</span><span class="sxs-lookup"><span data-stu-id="ad8be-136">A private or public IP address is assigned toohello network interface resource attached tooa virtual machine.</span></span> <span data-ttu-id="ad8be-137">Una volta un'interfaccia di rete viene aggiunto a pool di indirizzi IP del tooa di bilanciamento del carico back-end, bilanciamento del carico hello è in grado di toosend con bilanciamento del carico di traffico di rete in base alle regole di bilanciamento del carico hello che vengono create.</span><span class="sxs-lookup"><span data-stu-id="ad8be-137">Once a network interface is added tooa load balancer's back-end IP address pool, hello load balancer is able toosend load-balanced network traffic based on hello load-balanced rules that are created.</span></span>

<span data-ttu-id="ad8be-138">Hello immagine seguente mostra hello bilanciamento del carico di Azure in questo modello:</span><span class="sxs-lookup"><span data-stu-id="ad8be-138">hello following graphic shows hello Azure Load Balancer in this model:</span></span>

![Azure Load Balancer in Resource Manager](./media/load-balancer-overview/arm-lb.png)

<span data-ttu-id="ad8be-140">Figura 2. Azure Load Balancer in Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ad8be-140">Figure 2 - Azure Load Balancer in Resource Manager</span></span>

<span data-ttu-id="ad8be-141">servizio di bilanciamento del carico Hello può essere gestita tramite Gestione risorse basato su modelli, API e strumenti.</span><span class="sxs-lookup"><span data-stu-id="ad8be-141">hello load balancer can be managed through Resource Manager-based templates, APIs, and tools.</span></span> <span data-ttu-id="ad8be-142">toolearn più su Gestione risorse, vedere hello [Panoramica di gestione risorse](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ad8be-142">toolearn more about Resource Manager, see hello [Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span></span>

## <a name="load-balancer-features"></a><span data-ttu-id="ad8be-143">Funzionalità del bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="ad8be-143">Load Balancer features</span></span>

* <span data-ttu-id="ad8be-144">Distribuzione basata su hash</span><span class="sxs-lookup"><span data-stu-id="ad8be-144">Hash-based distribution</span></span>

    <span data-ttu-id="ad8be-145">Il servizio di bilanciamento del carico di Azure usa un algoritmo di distribuzione basato su hash.</span><span class="sxs-lookup"><span data-stu-id="ad8be-145">Azure Load Balancer uses a hash-based distribution algorithm.</span></span> <span data-ttu-id="ad8be-146">Per impostazione predefinita, Usa un hash di 5 tuple composto da indirizzo IP di origine, porta di origine, destinazione IP, porta di destinazione e protocollo tipo toomap traffico tooavailable server.</span><span class="sxs-lookup"><span data-stu-id="ad8be-146">By default, it uses a 5-tuple hash composed of source IP, source port, destination IP, destination port, and protocol type toomap traffic tooavailable servers.</span></span> <span data-ttu-id="ad8be-147">La persistenza viene mantenuta solo *all'interno* di una sessione di trasporto.</span><span class="sxs-lookup"><span data-stu-id="ad8be-147">It provides stickiness only *within* a transport session.</span></span> <span data-ttu-id="ad8be-148">I pacchetti hello sarà stessa sessione TCP o UDP indirizzate toohello stessa istanza dietro a endpoint con bilanciamento del carico hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-148">Packets in hello same TCP or UDP session will be directed toohello same instance behind hello load-balanced endpoint.</span></span> <span data-ttu-id="ad8be-149">Quando hello client chiude e riapre la connessione hello o avvia una nuova sessione da hello stesso IP di origine, hello modifiche della porta di origine.</span><span class="sxs-lookup"><span data-stu-id="ad8be-149">When hello client closes and reopens hello connection or starts a new session from hello same source IP, hello source port changes.</span></span> <span data-ttu-id="ad8be-150">Ciò potrebbe causare hello traffico toogo tooa altro endpoint in un altro Data Center.</span><span class="sxs-lookup"><span data-stu-id="ad8be-150">This may cause hello traffic toogo tooa different endpoint in a different datacenter.</span></span>

    <span data-ttu-id="ad8be-151">Per altre informazioni dettagliate, vedere [Modalità di distribuzione del servizio di bilanciamento del carico (affinità IP di origine)](load-balancer-distribution-mode.md).</span><span class="sxs-lookup"><span data-stu-id="ad8be-151">For more details, see [Load balancer distribution mode](load-balancer-distribution-mode.md).</span></span> <span data-ttu-id="ad8be-152">Hello immagine seguente mostra la distribuzione basata su hash hello:</span><span class="sxs-lookup"><span data-stu-id="ad8be-152">hello following graphic shows hello hash-based distribution:</span></span>

    ![Distribuzione basata su hash](./media/load-balancer-overview/load-balancer-distribution.png)

    <span data-ttu-id="ad8be-154">Figura 3. Distribuzione basata su hash</span><span class="sxs-lookup"><span data-stu-id="ad8be-154">Figure 3 - Hash based distribution</span></span>

* <span data-ttu-id="ad8be-155">Port forwarding</span><span class="sxs-lookup"><span data-stu-id="ad8be-155">Port forwarding</span></span>

    <span data-ttu-id="ad8be-156">Il servizio di bilanciamento del carico di Azure consente di controllare la gestione della comunicazione in ingresso.</span><span class="sxs-lookup"><span data-stu-id="ad8be-156">Azure Load Balancer gives you control over how inbound communication is managed.</span></span> <span data-ttu-id="ad8be-157">Questa comunicazione include il traffico avviato da host Internet, macchine virtuali in altri servizi cloud o reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="ad8be-157">This communication includes traffic initiated from Internet hosts, virtual machines in other cloud services, or virtual networks.</span></span> <span data-ttu-id="ad8be-158">Questo controllo è rappresentato da un endpoint, detto anche endpoint di input.</span><span class="sxs-lookup"><span data-stu-id="ad8be-158">This control is represented by an endpoint (also called an input endpoint).</span></span>

    <span data-ttu-id="ad8be-159">Un endpoint di input è in ascolto su una porta pubblica e inoltra il traffico della porta interna tooan.</span><span class="sxs-lookup"><span data-stu-id="ad8be-159">An input endpoint listens on a public port and forwards traffic tooan internal port.</span></span> <span data-ttu-id="ad8be-160">È possibile mappare hello stesso porte per un endpoint interno o esterno o utilizzare una porta diversa per loro.</span><span class="sxs-lookup"><span data-stu-id="ad8be-160">You can map hello same ports for an internal or external endpoint or use a different port for them.</span></span> <span data-ttu-id="ad8be-161">Ad esempio, si può avere un tooport toolisten di web server configurato 81 mentre mapping degli endpoint pubblici hello è la porta 80.</span><span class="sxs-lookup"><span data-stu-id="ad8be-161">For example, you can have a web server configured toolisten tooport 81 while hello public endpoint mapping is port 80.</span></span> <span data-ttu-id="ad8be-162">creazione di Hello di un endpoint pubblico genera la creazione di hello di un'istanza del servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="ad8be-162">hello creation of a public endpoint triggers hello creation of a load balancer instance.</span></span>

    <span data-ttu-id="ad8be-163">Quando create usando hello portale di Azure, portale hello crea automaticamente gli endpoint toohello virtual machine hello Remote Desktop Protocol (RDP) e il traffico della sessione di Windows PowerShell remoto.</span><span class="sxs-lookup"><span data-stu-id="ad8be-163">When created using hello Azure portal, hello portal automatically creates endpoints toohello virtual machine for hello Remote Desktop Protocol (RDP) and remote Windows PowerShell session traffic.</span></span> <span data-ttu-id="ad8be-164">È possibile utilizzare questi endpoint tooremotely amministrare macchina virtuale hello su hello Internet.</span><span class="sxs-lookup"><span data-stu-id="ad8be-164">You can use these endpoints tooremotely administer hello virtual machine over hello Internet.</span></span>

* <span data-ttu-id="ad8be-165">Riconfigurazione automatica</span><span class="sxs-lookup"><span data-stu-id="ad8be-165">Automatic reconfiguration</span></span>

    <span data-ttu-id="ad8be-166">Il servizio di bilanciamento del carico di Azure si riconfigura immediatamente quando si aumentano o si riducono le istanze.</span><span class="sxs-lookup"><span data-stu-id="ad8be-166">Azure Load Balancer instantly reconfigures itself when you scale instances up or down.</span></span> <span data-ttu-id="ad8be-167">La riconfigurazione, ad esempio, si verifica quando si aumenta hello conteggio delle istanze per i ruoli web/di lavoro in un servizio cloud o quando si aggiungono macchine virtuali in hello stesso con bilanciamento del carico impostato.</span><span class="sxs-lookup"><span data-stu-id="ad8be-167">For example, this reconfiguration happens when you increase hello instance count for web/worker roles in a cloud service or when you add additional virtual machines into hello same load-balanced set.</span></span>

* <span data-ttu-id="ad8be-168">Monitoraggio del servizio</span><span class="sxs-lookup"><span data-stu-id="ad8be-168">Service monitoring</span></span>

    <span data-ttu-id="ad8be-169">Bilanciamento del carico di Azure può probe di integrità hello di hello diverse istanze del server.</span><span class="sxs-lookup"><span data-stu-id="ad8be-169">Azure Load Balancer can probe hello health of hello various server instances.</span></span> <span data-ttu-id="ad8be-170">Quando un probe ha esito negativo toorespond, bilanciamento del carico hello interrompe l'invio di nuove connessioni toohello le istanze di tipo non integro.</span><span class="sxs-lookup"><span data-stu-id="ad8be-170">When a probe fails toorespond, hello load balancer stops sending new connections toohello unhealthy instances.</span></span> <span data-ttu-id="ad8be-171">Ciò non influisce sulle connessioni esistenti.</span><span class="sxs-lookup"><span data-stu-id="ad8be-171">Existing connections are not impacted.</span></span>

    <span data-ttu-id="ad8be-172">Sono supportati tre tipi di probe:</span><span class="sxs-lookup"><span data-stu-id="ad8be-172">Three types of probes are supported:</span></span>

    + <span data-ttu-id="ad8be-173">**Probe di agente guest (nella piattaforma come un servizio macchine virtuali solo):** agente guest hello macchina virtuale hello prevede l'utilizzo di bilanciamento del carico hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-173">**Guest agent probe (on Platform as a Service Virtual Machines only):** hello load balancer utilizes hello guest agent inside hello virtual machine.</span></span> <span data-ttu-id="ad8be-174">è in ascolto Hello agente guest e risponde con una risposta HTTP 200 OK solo quando hello istanza è nello stato ready hello (ad esempio hello istanza non è in uno stato ad esempio disponibilità, il riciclo o arresto).</span><span class="sxs-lookup"><span data-stu-id="ad8be-174">hello guest agent listens and responds with an HTTP 200 OK response only when hello instance is in hello ready state (i.e. hello instance is not in a state like busy, recycling, or stopping).</span></span> <span data-ttu-id="ad8be-175">Se l'errore dell'agente di hello toorespond con un HTTP 200 OK, segni di bilanciamento carico di hello hello istanza e arresta l'istanza toothat il traffico di invio.</span><span class="sxs-lookup"><span data-stu-id="ad8be-175">If hello agent fails toorespond with an HTTP 200 OK, hello load balancer marks hello instance as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="ad8be-176">servizio di bilanciamento del carico Hello continua istanza hello tooping.</span><span class="sxs-lookup"><span data-stu-id="ad8be-176">hello load balancer continues tooping hello instance.</span></span> <span data-ttu-id="ad8be-177">Se l'agente guest hello risponde con un HTTP 200, bilanciamento del carico hello invierà nuovamente istanza toothat di traffico.</span><span class="sxs-lookup"><span data-stu-id="ad8be-177">If hello guest agent responds with an HTTP 200, hello load balancer will send traffic toothat instance again.</span></span> <span data-ttu-id="ad8be-178">Quando si utilizza un ruolo web, il codice del sito Web viene eseguito in genere w3wp.exe, non è monitorato da hello infrastruttura di Azure né dall'agente guest.</span><span class="sxs-lookup"><span data-stu-id="ad8be-178">When you're using a web role, your website code typically runs in w3wp.exe, which is not monitored by hello Azure fabric or guest agent.</span></span> <span data-ttu-id="ad8be-179">Ciò significa che gli errori in w3wp.exe (ad esempio, le risposte HTTP 500) non saranno segnalate toohello l'agente guest e bilanciamento del carico hello non riconoscerà tootake istanza dalla rotazione.</span><span class="sxs-lookup"><span data-stu-id="ad8be-179">This means that failures in w3wp.exe (e.g. HTTP 500 responses) will not be reported toohello guest agent, and hello load balancer will not know tootake that instance out of rotation.</span></span>
    + <span data-ttu-id="ad8be-180">**Probe personalizzato HTTP:** questo probe esegue l'override di probe di hello predefinito (agente guest).</span><span class="sxs-lookup"><span data-stu-id="ad8be-180">**HTTP custom probe:** This probe overrides hello default (guest agent) probe.</span></span> <span data-ttu-id="ad8be-181">È possibile utilizzare toocreate la propria integrità hello toodetermine di logica personalizzata hello istanza del ruolo.</span><span class="sxs-lookup"><span data-stu-id="ad8be-181">You can use it toocreate your own custom logic toodetermine hello health of hello role instance.</span></span> <span data-ttu-id="ad8be-182">servizio di bilanciamento del carico Hello regolarmente eseguiranno il probe dell'endpoint (ogni 15 secondi, per impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="ad8be-182">hello load balancer will regularly probe your endpoint (every 15 seconds, by default).</span></span> <span data-ttu-id="ad8be-183">istanza di Hello viene considerato toobe nella rotazione se il servizio risponde con un ACK TCP o HTTP 200 entro il periodo di timeout hello (valore predefinito è 31 secondi).</span><span class="sxs-lookup"><span data-stu-id="ad8be-183">hello instance is considered toobe in rotation if it responds with a TCP ACK or HTTP 200 within hello timeout period (default of 31 seconds).</span></span> <span data-ttu-id="ad8be-184">Ciò è utile per implementare la propria istanze tooremove logica dalla rotazione del bilanciamento carico di hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-184">This is useful for implementing your own logic tooremove instances from hello load balancer's rotation.</span></span> <span data-ttu-id="ad8be-185">Ad esempio, è possibile configurare hello istanza tooreturn uno stato non-200 se istanza hello è superiore al 90% della CPU.</span><span class="sxs-lookup"><span data-stu-id="ad8be-185">For example, you can configure hello instance tooreturn a non-200 status if hello instance is above 90% CPU.</span></span> <span data-ttu-id="ad8be-186">Per i ruoli web che utilizzano w3wp.exe, è anche possibile ottenere automaticamente il monitoraggio del sito Web, poiché gli errori nel codice del sito Web restituiscono un probe di stato non-200 toohello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-186">For web roles that use w3wp.exe, you also get automatic monitoring of your website, since failures in your website code return a non-200 status toohello probe.</span></span>
    + <span data-ttu-id="ad8be-187">**Probe personalizzato TCP:** questo probe si basa sulla porta probe ha esito positivo TCP sessione stabilimento tooa definito.</span><span class="sxs-lookup"><span data-stu-id="ad8be-187">**TCP custom probe:** This probe relies on successful TCP session establishment tooa defined probe port.</span></span>

    <span data-ttu-id="ad8be-188">Per ulteriori informazioni, vedere hello [schema LoadBalancerProbe](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span><span class="sxs-lookup"><span data-stu-id="ad8be-188">For more information, see hello [LoadBalancerProbe schema](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span></span>

* <span data-ttu-id="ad8be-189">Source NAT</span><span class="sxs-lookup"><span data-stu-id="ad8be-189">Source NAT</span></span>

    <span data-ttu-id="ad8be-190">Tutti toohello il traffico in uscita viene sottoposto a Internet che ha origine il servizio NAT (SNAT) di origine utilizzando hello stesso indirizzo VIP come hello il traffico in ingresso.</span><span class="sxs-lookup"><span data-stu-id="ad8be-190">All outbound traffic toohello Internet that originates from your service undergoes source NAT (SNAT) by using hello same VIP address as hello incoming traffic.</span></span> <span data-ttu-id="ad8be-191">Questo processo offre tre importanti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="ad8be-191">SNAT provides important benefits:</span></span>

    + <span data-ttu-id="ad8be-192">In questo modo facile aggiornamento e ripristino di emergenza di servizi, poiché hello che VIP può essere dinamicamente mappato tooanother istanza del servizio hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-192">It enables easy upgrade and disaster recovery of services, since hello VIP can be dynamically mapped tooanother instance of hello service.</span></span>
    + <span data-ttu-id="ad8be-193">Semplifica la gestione dell'elenco di controllo di accesso (ACL).</span><span class="sxs-lookup"><span data-stu-id="ad8be-193">It makes access control list (ACL) management easier.</span></span> <span data-ttu-id="ad8be-194">Tali elenchi espressi in termini di VIP non si modificano in caso di ridimensionamento o ridistribuzione dei servizi.</span><span class="sxs-lookup"><span data-stu-id="ad8be-194">ACLs expressed in terms of VIPs do not change as services scale up, down, or get redeployed.</span></span>

    <span data-ttu-id="ad8be-195">configurazione di bilanciamento del carico Hello supporta cono completo NAT per UDP.</span><span class="sxs-lookup"><span data-stu-id="ad8be-195">hello load balancer configuration supports full cone NAT for UDP.</span></span> <span data-ttu-id="ad8be-196">Cono completo NAT è un tipo di NAT dove porta hello consente le connessioni in ingresso da un host esterno (nella richiesta in uscita tooan risposta).</span><span class="sxs-lookup"><span data-stu-id="ad8be-196">Full cone NAT is a type of NAT where hello port allows inbound connections from any external host (in response tooan outbound request).</span></span>

    <span data-ttu-id="ad8be-197">Per ogni nuova connessione in uscita che avvia una macchina virtuale, una porta in uscita è allocata anche dal servizio di bilanciamento del carico hello.</span><span class="sxs-lookup"><span data-stu-id="ad8be-197">For each new outbound connection that a virtual machine initiates, an outbound port is also allocated by hello load balancer.</span></span> <span data-ttu-id="ad8be-198">host esterno Hello vede il traffico con una porta virtuale allocata VIP IP.</span><span class="sxs-lookup"><span data-stu-id="ad8be-198">hello external host sees traffic with a virtual IP (VIP)-allocated port.</span></span> <span data-ttu-id="ad8be-199">Per gli scenari che richiedono un numero elevato di connessioni in uscita, è consigliabile toouse [indirizzo IP pubblico a livello di istanza](../virtual-network/virtual-networks-instance-level-public-ip.md) indirizzi in modo che le macchine virtuali hello dispongono di un indirizzo IP in uscita dedicato per SNAT.</span><span class="sxs-lookup"><span data-stu-id="ad8be-199">For scenarios that require a large number of outbound connections, it is recommended toouse [instance-level public IP](../virtual-network/virtual-networks-instance-level-public-ip.md) addresses so that hello VMs have a dedicated outbound IP address for SNAT.</span></span> <span data-ttu-id="ad8be-200">In questo modo si riduce il rischio di hello di esaurimento delle porte.</span><span class="sxs-lookup"><span data-stu-id="ad8be-200">This reduces hello risk of port exhaustion.</span></span>

    <span data-ttu-id="ad8be-201">Per altre informazioni su questo argomento, vedere l'articolo [le Connessioni in uscita](load-balancer-outbound-connections.md).</span><span class="sxs-lookup"><span data-stu-id="ad8be-201">Please see [outbound connections](load-balancer-outbound-connections.md) article for more details on this topic.</span></span>

### <a name="support-for-multiple-load-balanced-ip-addresses-for-virtual-machines"></a><span data-ttu-id="ad8be-202">Supporto per più indirizzi IP con carico bilanciato per le macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="ad8be-202">Support for multiple load-balanced IP addresses for virtual machines</span></span>
<span data-ttu-id="ad8be-203">È possibile assegnare più di un bilanciamento del carico pubblico tooa set di indirizzi IP delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="ad8be-203">You can assign more than one load-balanced public IP address tooa set of virtual machines.</span></span> <span data-ttu-id="ad8be-204">Grazie a questa funzionalità, è possibile ospitare più siti Web SSL e/o più listener gruppo di disponibilità AlwaysOn di SQL Server su hello stesso insieme di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="ad8be-204">With this ability, you can host multiple SSL websites and/or multiple SQL Server AlwaysOn Availability Group listeners on hello same set of virtual machines.</span></span> <span data-ttu-id="ad8be-205">Per altre informazioni, vedere [Indirizzi VIP multipli per un servizio cloud](load-balancer-multivip.md).</span><span class="sxs-lookup"><span data-stu-id="ad8be-205">For more information, see [Multiple VIPs per cloud service](load-balancer-multivip.md).</span></span>

[!INCLUDE [load-balancer-compare-tm-ag-lb-include.md](../../includes/load-balancer-compare-tm-ag-lb-include.md)]

## <a name="limitations"></a><span data-ttu-id="ad8be-206">Limitazioni</span><span class="sxs-lookup"><span data-stu-id="ad8be-206">Limitations</span></span>

<span data-ttu-id="ad8be-207">I pool di back-end di bilanciamento del carico possono contenere qualsiasi SKU VM, ad eccezione del livello Basic.</span><span class="sxs-lookup"><span data-stu-id="ad8be-207">Load Balancer backend pools can contain any VM SKU except Basic tier.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ad8be-208">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="ad8be-208">Next steps</span></span>

- <span data-ttu-id="ad8be-209">Altre informazioni sulla [Panoramica del bilanciamento del carico Internet](load-balancer-internet-overview.md)</span><span class="sxs-lookup"><span data-stu-id="ad8be-209">Learn more about [Internet-facing load balancer](load-balancer-internet-overview.md)</span></span>

- <span data-ttu-id="ad8be-210">Altre informazioni sulla [Panoramica del bilanciamento del carico interno](load-balancer-internal-overview.md)</span><span class="sxs-lookup"><span data-stu-id="ad8be-210">Learn more about [Internal load balancer overview](load-balancer-internal-overview.md)</span></span>

- <span data-ttu-id="ad8be-211">Creare un [servizio di bilanciamento del carico Internet](load-balancer-get-started-internet-portal.md)</span><span class="sxs-lookup"><span data-stu-id="ad8be-211">Create an [Internet-facing load balancer](load-balancer-get-started-internet-portal.md)</span></span>

- <span data-ttu-id="ad8be-212">Informazioni su alcune delle hello altre chiavi [funzionalità di rete](../networking/networking-overview.md) di Azure</span><span class="sxs-lookup"><span data-stu-id="ad8be-212">Learn about some of hello other key [networking capabilities](../networking/networking-overview.md) of Azure</span></span>

