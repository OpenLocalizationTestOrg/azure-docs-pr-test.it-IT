## <a name="prerequisites"></a><span data-ttu-id="909ee-101">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="909ee-101">Prerequisites</span></span>
<span data-ttu-id="909ee-102">Prima di è possibile scrivere codice per la gestione della rete CDN, è necessario toodo alcuni tooenable preparazione toointeract il nostro codice con hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="909ee-102">Before we can write CDN management code, we need toodo some preparation tooenable our code toointeract with hello Azure Resource Manager.</span></span>  <span data-ttu-id="909ee-103">toodo, è necessario:</span><span class="sxs-lookup"><span data-stu-id="909ee-103">toodo this, you'll need to:</span></span>

* <span data-ttu-id="909ee-104">Creare un hello toocontain gruppo di risorse profilo CDN è stato creato in questa esercitazione</span><span class="sxs-lookup"><span data-stu-id="909ee-104">Create a resource group toocontain hello CDN profile we create in this tutorial</span></span>
* <span data-ttu-id="909ee-105">Configurare l'autenticazione tooprovide di Azure Active Directory per l'applicazione</span><span class="sxs-lookup"><span data-stu-id="909ee-105">Configure Azure Active Directory tooprovide authentication for our application</span></span>
* <span data-ttu-id="909ee-106">Applicare le autorizzazioni di gruppo di risorse toohello in modo che solo utenti autorizzati da nostri tenant di Azure AD è possibile interagire con il profilo CDN</span><span class="sxs-lookup"><span data-stu-id="909ee-106">Apply permissions toohello resource group so that only authorized users from our Azure AD tenant can interact with our CDN profile</span></span>

### <a name="creating-hello-resource-group"></a><span data-ttu-id="909ee-107">Creazione del gruppo di risorse hello</span><span class="sxs-lookup"><span data-stu-id="909ee-107">Creating hello resource group</span></span>
1. <span data-ttu-id="909ee-108">Accedere al hello [portale Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="909ee-108">Log into hello [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="909ee-109">Fare clic su hello **New** pulsante nella parte superiore sinistra hello e quindi **Management**, e **gruppo di risorse**.</span><span class="sxs-lookup"><span data-stu-id="909ee-109">Click hello **New** button in hello upper left, and then **Management**, and **Resource Group**.</span></span>

    ![Creazione di un nuovo gruppo di risorse](./media/cdn-app-dev-prep/cdn-new-rg-1-include.png)
3. <span data-ttu-id="909ee-111">Assegnare al gruppo di risorse il nome *CdnConsoleTutorial*.</span><span class="sxs-lookup"><span data-stu-id="909ee-111">Call your resource group *CdnConsoleTutorial*.</span></span>  <span data-ttu-id="909ee-112">Selezionare la sottoscrizione e scegliere un percorso locale.</span><span class="sxs-lookup"><span data-stu-id="909ee-112">Select your subscription and choose a location near you.</span></span>  <span data-ttu-id="909ee-113">Se si desidera, è possibile fare clic su hello **toodashboard Pin** casella di controllo toopin hello risorsa toohello dashboard del gruppo nel portale di hello.</span><span class="sxs-lookup"><span data-stu-id="909ee-113">If you wish, you may click hello **Pin toodashboard** checkbox toopin hello resource group toohello dashboard in hello portal.</span></span>  <span data-ttu-id="909ee-114">Questo rende più semplice toofind in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="909ee-114">This will make it easier toofind later.</span></span>  <span data-ttu-id="909ee-115">Dopo avere eseguito le selezioni, fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="909ee-115">After you've made your selections, click **Create**.</span></span>

    ![Gruppo di risorse hello denominazione](./media/cdn-app-dev-prep/cdn-new-rg-2-include.png)
4. <span data-ttu-id="909ee-117">Dopo aver creato il gruppo di risorse hello, se si non blocca tooyour dashboard, è possibile trovare facendo **Sfoglia**, quindi **gruppi di risorse**.</span><span class="sxs-lookup"><span data-stu-id="909ee-117">After hello resource group is created, if you didn't pin it tooyour dashboard, you can find it by clicking **Browse**, then **Resource Groups**.</span></span>  <span data-ttu-id="909ee-118">Fare clic su tooopen gruppo di risorse hello è.</span><span class="sxs-lookup"><span data-stu-id="909ee-118">Click hello resource group tooopen it.</span></span>  <span data-ttu-id="909ee-119">Annotare l' **ID sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="909ee-119">Make a note of your **Subscription ID**.</span></span>  <span data-ttu-id="909ee-120">Sarà necessario più avanti.</span><span class="sxs-lookup"><span data-stu-id="909ee-120">We'll need it later.</span></span>

    ![Gruppo di risorse hello denominazione](./media/cdn-app-dev-prep/cdn-subscription-id-include.png)

### <a name="creating-hello-azure-ad-application-and-applying-permissions"></a><span data-ttu-id="909ee-122">Creazione di un'applicazione hello Azure AD e l'applicazione di autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="909ee-122">Creating hello Azure AD application and applying permissions</span></span>
<span data-ttu-id="909ee-123">Esistono due approcci tooapp l'autenticazione con Azure Active Directory: singoli utenti o a un'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="909ee-123">There are two approaches tooapp authentication with Azure Active Directory: Individual users or a service principal.</span></span> <span data-ttu-id="909ee-124">Un'entità servizio è simile tooa account del servizio di Windows.</span><span class="sxs-lookup"><span data-stu-id="909ee-124">A service principal is similar tooa service account in Windows.</span></span>  <span data-ttu-id="909ee-125">Anziché concedere un toointeract autorizzazioni utente specifico con i profili di rete CDN hello, è invece autorizzazioni hello toohello servizio principale.</span><span class="sxs-lookup"><span data-stu-id="909ee-125">Instead of granting a particular user permissions toointeract with hello CDN profiles, we instead grant hello permissions toohello service principal.</span></span>  <span data-ttu-id="909ee-126">Le entità servizio in genere vengono usate per i processi automatizzati e non interattivi.</span><span class="sxs-lookup"><span data-stu-id="909ee-126">Service principals are generally used for automated, non-interactive processes.</span></span>  <span data-ttu-id="909ee-127">Anche se in questa esercitazione è la scrittura di un'app console interattiva, ci concentreremo sull'approccio principale hello del servizio.</span><span class="sxs-lookup"><span data-stu-id="909ee-127">Even though this tutorial is writing an interactive console app, we'll focus on hello service principal approach.</span></span>

<span data-ttu-id="909ee-128">La creazione di un'entità servizio è costituita da diversi passaggi, compresa la creazione di un'applicazione Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="909ee-128">Creating a service principal consists of several steps, including creating an Azure Active Directory application.</span></span>  <span data-ttu-id="909ee-129">toodo, verrà troppo[seguire questa esercitazione](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="909ee-129">toodo this, we're going too[follow this tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="909ee-130">Essere toofollow che tutti i passaggi hello hello [esercitazione collegato](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="909ee-130">Be sure toofollow all hello steps in hello [linked tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>  <span data-ttu-id="909ee-131">È *estremamente importante* eseguirla esattamente come descritto.</span><span class="sxs-lookup"><span data-stu-id="909ee-131">It is *extremely important* that you complete it exactly as described.</span></span>  <span data-ttu-id="909ee-132">Verificare che toonote il **ID tenant**, **nome dominio tenant** (comunemente un *. c o m* dominio a meno che non è stato specificato un dominio personalizzato), **ID client** , e **chiave di autenticazione client**, come è necessario in seguito.</span><span class="sxs-lookup"><span data-stu-id="909ee-132">Make sure toonote your **tenant ID**, **tenant domain name** (commonly a *.onmicrosoft.com* domain unless you've specified a custom domain), **client ID**, and **client authentication key**, as we will need these later.</span></span>  <span data-ttu-id="909ee-133">Essere tooguard prestare particolare attenzione i **ID client** e **chiave di autenticazione client**, come le credenziali possono essere usata da chiunque tooexecute operazioni come entità servizio hello.</span><span class="sxs-lookup"><span data-stu-id="909ee-133">Be very careful tooguard your **client ID** and **client authentication key**, as these credentials can be used by anyone tooexecute operations as hello service principal.</span></span>
>
> <span data-ttu-id="909ee-134">Quando si ottiene toohello passaggio denominato Configura applicazione multi-tenant, selezionare **n**.</span><span class="sxs-lookup"><span data-stu-id="909ee-134">When you get toohello step named Configure multi-tenant application, select **No**.</span></span>
>
> <span data-ttu-id="909ee-135">Quando si otterrà passaggio toohello [assegnare applicazione toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), gruppo di risorse hello utilizzo creato in precedenza, *CdnConsoleTutorial*, ma anziché hello **lettore** ruolo, assegnare Hello **collaboratore profilo CDN** ruolo.</span><span class="sxs-lookup"><span data-stu-id="909ee-135">When you get toohello step [Assign application toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), use hello resource group we created earlier,  *CdnConsoleTutorial*, but instead of hello **Reader** role, assign hello **CDN Profile Contributor** role.</span></span>  <span data-ttu-id="909ee-136">Dopo aver assegnato hello applicazione hello **collaboratore profilo CDN** ruolo in un gruppo di risorse, esercitazione toothis restituito.</span><span class="sxs-lookup"><span data-stu-id="909ee-136">After you assign hello application hello **CDN Profile Contributor** role on your resource group, return toothis tutorial.</span></span> 
>
>

<span data-ttu-id="909ee-137">Dopo aver creato il hello principale e assegnati di servizio **collaboratore profilo CDN** ruolo, hello **utenti** pannello per il gruppo di risorse dovrebbe essere simile toothis.</span><span class="sxs-lookup"><span data-stu-id="909ee-137">Once you've created your service principal and assigned hello **CDN Profile Contributor** role, hello **Users** blade for your resource group should look similar toothis.</span></span>

![Pannello Utenti](./media/cdn-app-dev-prep/cdn-service-principal-include.png)

### <a name="interactive-user-authentication"></a><span data-ttu-id="909ee-139">Autenticazione utente interattiva</span><span class="sxs-lookup"><span data-stu-id="909ee-139">Interactive user authentication</span></span>
<span data-ttu-id="909ee-140">Se, invece di un'entità servizio, invece si desidera utilizzare l'autenticazione utente interattivo, il processo di hello è molto simile toothat per un'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="909ee-140">If, instead of a service principal, you'd rather have interactive individual user authentication, hello process is very similar toothat for a service principal.</span></span>  <span data-ttu-id="909ee-141">In effetti, sarà necessario toofollow hello stessa procedura, ma alcune modifiche minori.</span><span class="sxs-lookup"><span data-stu-id="909ee-141">In fact, you will need toofollow hello same procedure, but make a few minor changes.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="909ee-142">Solo, seguire questa procedura se si sceglie l'autenticazione utente toouse anziché un'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="909ee-142">Only follow these next steps if you are choosing toouse individual user authentication instead of a service principal.</span></span>
>
>

1. <span data-ttu-id="909ee-143">Quando si crea l'applicazione, invece di **Applicazione Web** scegliere **Applicazione nativa**.</span><span class="sxs-lookup"><span data-stu-id="909ee-143">When creating your application, instead of **Web Application**, choose **Native application**.</span></span>

    ![Applicazione nativa](./media/cdn-app-dev-prep/cdn-native-application-include.png)
2. <span data-ttu-id="909ee-145">Nella pagina successiva di hello, verrà richiesto di immettere un **URI di reindirizzamento**.</span><span class="sxs-lookup"><span data-stu-id="909ee-145">On hello next page, you will be prompted for a **redirect URI**.</span></span>  <span data-ttu-id="909ee-146">Hello URI non verrà convalidato, ma tenere presente i valori immessi.</span><span class="sxs-lookup"><span data-stu-id="909ee-146">hello URI won't be validated, but remember what you entered.</span></span>  <span data-ttu-id="909ee-147">Sarà necessario più avanti.</span><span class="sxs-lookup"><span data-stu-id="909ee-147">You'll need it later.</span></span>
3. <span data-ttu-id="909ee-148">Nessun toocreate necessità è un **chiave di autenticazione client**.</span><span class="sxs-lookup"><span data-stu-id="909ee-148">There is no need toocreate a **client authentication key**.</span></span>
4. <span data-ttu-id="909ee-149">Invece di assegnare un toohello dell'entità servizio **collaboratore profilo CDN** ruolo, verrà tooassign singoli utenti o gruppi.</span><span class="sxs-lookup"><span data-stu-id="909ee-149">Instead of assigning a service principal toohello **CDN Profile Contributor** role, we're going tooassign individual users or groups.</span></span>  <span data-ttu-id="909ee-150">In questo esempio, si noterà che è stato assegnato *utente Demo CDN* toohello **collaboratore profilo CDN** ruolo.</span><span class="sxs-lookup"><span data-stu-id="909ee-150">In this example, you can see that I've assigned  *CDN Demo User* toohello **CDN Profile Contributor** role.</span></span>  

    ![Accesso del singolo utente](./media/cdn-app-dev-prep/cdn-aad-user-include.png)
