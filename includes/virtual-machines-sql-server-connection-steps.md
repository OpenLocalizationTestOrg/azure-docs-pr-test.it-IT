### <a name="open-tcp-ports-in-hello-windows-firewall-for-hello-default-instance-of-hello-database-engine"></a><span data-ttu-id="af468-101">Porte TCP aperte nel firewall di Windows hello per l'istanza predefinita di hello di hello motore di Database</span><span class="sxs-lookup"><span data-stu-id="af468-101">Open TCP ports in hello Windows firewall for hello default instance of hello Database Engine</span></span>
1. <span data-ttu-id="af468-102">Connessione macchina virtuale toohello con Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="af468-102">Connect toohello virtual machine with Remote Desktop.</span></span> <span data-ttu-id="af468-103">Per istruzioni dettagliate sulla connessione toohello VM, vedere [aprire una VM SQL con Desktop remoto](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span><span class="sxs-lookup"><span data-stu-id="af468-103">For detailed instructions on connecting toohello VM, see [Open a SQL VM with Remote Desktop](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span></span>
2. <span data-ttu-id="af468-104">Una volta effettuato l'accesso, nella schermata Start hello digitare **WF.msc**, quindi premere INVIO.</span><span class="sxs-lookup"><span data-stu-id="af468-104">Once logged in, at hello Start screen, type **WF.msc**, and then hit ENTER.</span></span>
   
    ![Avviare il programma Firewall hello](./media/virtual-machines-sql-server-connection-steps/12Open-WF.png)
3. <span data-ttu-id="af468-106">In hello **Windows Firewall con sicurezza avanzata**, in hello riquadro sinistro, destro **regole connessioni in entrata**, quindi fare clic su **nuova regola** nel riquadro azioni hello.</span><span class="sxs-lookup"><span data-stu-id="af468-106">In hello **Windows Firewall with Advanced Security**, in hello left pane, right-click **Inbound Rules**, and then click **New Rule** in hello action pane.</span></span>
   
    ![Nuova regola](./media/virtual-machines-sql-server-connection-steps/13New-FW-Rule.png)
4. <span data-ttu-id="af468-108">In hello **in ingresso Creazione guidata nuova regola** nella finestra di dialogo **tipo di regola**selezionare **porta**e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="af468-108">In hello **New Inbound Rule Wizard** dialog box, under **Rule Type**, select **Port**, and then click **Next**.</span></span>
5. <span data-ttu-id="af468-109">In hello **protocollo e porte** finestra di dialogo, hello predefinito **TCP**.</span><span class="sxs-lookup"><span data-stu-id="af468-109">In hello **Protocol and Ports** dialog, use hello default **TCP**.</span></span> <span data-ttu-id="af468-110">In hello **porte locali specifiche** casella, quindi hello tipo numero di porta dell'istanza hello hello motore di Database (**1433** per l'istanza predefinita di hello o un altro per la porta privata hello nel passaggio endpoint hello).</span><span class="sxs-lookup"><span data-stu-id="af468-110">In hello **Specific local ports** box, then type hello port number of hello instance of hello Database Engine (**1433** for hello default instance or your choice for hello private port in hello endpoint step).</span></span>
   
    ![Porta TCP 1433](./media/virtual-machines-sql-server-connection-steps/14Port-1433.png)
6. <span data-ttu-id="af468-112">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="af468-112">Click **Next**.</span></span>
7. <span data-ttu-id="af468-113">In hello **azione** nella finestra di dialogo **Consenti connessione hello**, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="af468-113">In hello **Action** dialog box, select **Allow hello connection**, and then click **Next**.</span></span>
   
    <span data-ttu-id="af468-114">**Nota sulla sicurezza:** selezionando **Consenti solo connessione hello sicura** può fornire protezione aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="af468-114">**Security Note:** Selecting **Allow hello connection if it is secure** can provide additional security.</span></span> <span data-ttu-id="af468-115">Selezionare questa opzione se si desiderano tooconfigure ulteriori opzioni di sicurezza nell'ambiente in uso.</span><span class="sxs-lookup"><span data-stu-id="af468-115">Select this option if you want tooconfigure additional security options in your environment.</span></span>
   
    ![Consentire le connessioni](./media/virtual-machines-sql-server-connection-steps/15Allow-Connection.png)
8. <span data-ttu-id="af468-117">In hello **profilo** nella finestra di dialogo **pubblica**, **privata**, e **dominio**.</span><span class="sxs-lookup"><span data-stu-id="af468-117">In hello **Profile** dialog box, select **Public**, **Private**, and **Domain**.</span></span> <span data-ttu-id="af468-118">Quindi fare clic su **Next**.</span><span class="sxs-lookup"><span data-stu-id="af468-118">Then click **Next**.</span></span>
   
    <span data-ttu-id="af468-119">**Nota sulla sicurezza:** selezionando **pubblica** consente l'accesso tramite internet hello.</span><span class="sxs-lookup"><span data-stu-id="af468-119">**Security Note:**  Selecting **Public** allows access over hello internet.</span></span> <span data-ttu-id="af468-120">Se possibile, scegliere un profilo più restrittivo.</span><span class="sxs-lookup"><span data-stu-id="af468-120">Whenever possible, select a more restrictive profile.</span></span>
   
    ![Profilo Pubblico](./media/virtual-machines-sql-server-connection-steps/16Public-Private-Domain-Profile.png)
9. <span data-ttu-id="af468-122">In hello **nome** nella finestra di dialogo digitare un nome e una descrizione per questa regola e quindi fare clic su **fine**.</span><span class="sxs-lookup"><span data-stu-id="af468-122">In hello **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>
   
    ![Nome regola](./media/virtual-machines-sql-server-connection-steps/17Rule-Name.png)

<span data-ttu-id="af468-124">Aprire altre porte per altri componenti in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="af468-124">Open additional ports for other components as needed.</span></span> <span data-ttu-id="af468-125">Per ulteriori informazioni, vedere [configurazione hello Windows Firewall tooAllow accesso a SQL Server](http://msdn.microsoft.com/library/cc646023.aspx).</span><span class="sxs-lookup"><span data-stu-id="af468-125">For more information, see [Configuring hello Windows Firewall tooAllow SQL Server Access](http://msdn.microsoft.com/library/cc646023.aspx).</span></span>

### <a name="configure-sql-server-toolisten-on-hello-tcp-protocol"></a><span data-ttu-id="af468-126">Configurare SQL Server toolisten su hello protocollo TCP</span><span class="sxs-lookup"><span data-stu-id="af468-126">Configure SQL Server toolisten on hello TCP protocol</span></span>

[!INCLUDE [Enable TCP](virtual-machines-sql-server-connection-tcp-protocol.md)]

### <a name="configure-sql-server-for-mixed-mode-authentication"></a><span data-ttu-id="af468-127">Configurare SQL Server per l'autenticazione in modalità mista</span><span class="sxs-lookup"><span data-stu-id="af468-127">Configure SQL Server for mixed mode authentication</span></span>
<span data-ttu-id="af468-128">Hello il motore di Database di SQL Server non è possibile utilizzare l'autenticazione di Windows senza l'ambiente di dominio.</span><span class="sxs-lookup"><span data-stu-id="af468-128">hello SQL Server Database Engine cannot use Windows Authentication without domain environment.</span></span> <span data-ttu-id="af468-129">tooconnect toohello motore di Database da un altro computer, configurare SQL Server per l'autenticazione modalità mista.</span><span class="sxs-lookup"><span data-stu-id="af468-129">tooconnect toohello Database Engine from another computer, configure SQL Server for mixed mode authentication.</span></span> <span data-ttu-id="af468-130">L'autenticazione in modalità mista consente sia l'autenticazione di SQL Server sia l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="af468-130">Mixed mode authentication allows both SQL Server Authentication and Windows Authentication.</span></span>

> [!NOTE]
> <span data-ttu-id="af468-131">Se è stata configurata una Rete virtuale di Azure con un ambiente di dominio configurato, potrebbe non essere necessario configurare l'autenticazione in modalità mista.</span><span class="sxs-lookup"><span data-stu-id="af468-131">Configuring mixed mode authentication might not be necessary if you have configured an Azure Virtual Network with a configured domain environment.</span></span>
> 
> 

1. <span data-ttu-id="af468-132">Durante la macchina virtuale connessa toohello, nella pagina iniziale di hello, digitare **SQL Server Management Studio** e fare clic sull'icona selezionata hello.</span><span class="sxs-lookup"><span data-stu-id="af468-132">While connected toohello virtual machine, on hello Start page, type **SQL Server Management Studio** and click hello selected icon.</span></span>
   
    <span data-ttu-id="af468-133">Hello prima apertura di Management Studio, è necessario creare l'ambiente di hello utenti Management Studio.</span><span class="sxs-lookup"><span data-stu-id="af468-133">hello first time you open Management Studio it must create hello users Management Studio environment.</span></span> <span data-ttu-id="af468-134">L'operazione potrebbe richiedere alcuni istanti.</span><span class="sxs-lookup"><span data-stu-id="af468-134">This may take a few moments.</span></span>
2. <span data-ttu-id="af468-135">Management Studio presenta hello **connettersi tooServer** la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="af468-135">Management Studio presents hello **Connect tooServer** dialog box.</span></span> <span data-ttu-id="af468-136">In hello **nome Server** casella, il nome del tipo hello di hello macchina virtuale tooconnect toohello motore di Database con Esplora oggetti hello (anziché il nome di macchina virtuale hello è inoltre possibile utilizzare **(local)** o singolo periodo come hello **nome Server**).</span><span class="sxs-lookup"><span data-stu-id="af468-136">In hello **Server name** box, type hello name of hello virtual machine tooconnect toohello Database Engine  with hello Object Explorer (Instead of hello virtual machine name you can also use **(local)** or a single period as hello **Server name**).</span></span> <span data-ttu-id="af468-137">Selezionare **l'autenticazione di Windows**, lasciando  ***your_VM_name*\your_local_administrator** in hello **nome utente** casella.</span><span class="sxs-lookup"><span data-stu-id="af468-137">Select **Windows Authentication**, and leave ***your_VM_name*\your_local_administrator** in hello **User name** box.</span></span> <span data-ttu-id="af468-138">Fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="af468-138">Click **Connect**.</span></span>
   
    ![Connettersi tooServer](./media/virtual-machines-sql-server-connection-steps/19Connect-to-Server.png)
3. <span data-ttu-id="af468-140">In SQL Server Management Studio Esplora oggetti fare doppio clic su nome hello dell'istanza di hello di SQL Server (nome della macchina virtuale hello) e quindi fare clic su **proprietà**.</span><span class="sxs-lookup"><span data-stu-id="af468-140">In SQL Server Management Studio Object Explorer, right-click hello name of hello instance of SQL Server (hello virtual machine name), and then click **Properties**.</span></span>
   
    ![Proprietà del server](./media/virtual-machines-sql-server-connection-steps/20Server-Properties.png)
4. <span data-ttu-id="af468-142">In hello **sicurezza** pagina **l'autenticazione Server**selezionare **modalità di autenticazione di Windows e SQL Server**e quindi fare clic su **OK** .</span><span class="sxs-lookup"><span data-stu-id="af468-142">On hello **Security** page, under **Server authentication**, select **SQL Server and Windows Authentication mode**, and then click **OK**.</span></span>
   
    ![Selezione della modalità di autenticazione](./media/virtual-machines-sql-server-connection-steps/21Mixed-Mode.png)
5. <span data-ttu-id="af468-144">Nella finestra di dialogo SQL Server Management Studio hello, fare clic su **OK** tooacknowledge hello requisito toorestart SQL Server.</span><span class="sxs-lookup"><span data-stu-id="af468-144">In hello SQL Server Management Studio dialog box, click **OK** tooacknowledge hello requirement toorestart SQL Server.</span></span>
6. <span data-ttu-id="af468-145">In Esplora oggetti fare clic con il pulsante destro del mouse sul server e quindi scegliere **Riavvia**.</span><span class="sxs-lookup"><span data-stu-id="af468-145">In Object Explorer, right-click your server, and then click **Restart**.</span></span> <span data-ttu-id="af468-146">(Se SQL Server Agent è in esecuzione, anch'esso dovrà essere riavviato).</span><span class="sxs-lookup"><span data-stu-id="af468-146">(If SQL Server Agent is running, it must also be restarted.)</span></span>
   
    ![Riavvia](./media/virtual-machines-sql-server-connection-steps/22Restart2.png)
7. <span data-ttu-id="af468-148">Nella finestra di dialogo SQL Server Management Studio hello, fare clic su **Sì** tooagree che si desidera toorestart SQL Server.</span><span class="sxs-lookup"><span data-stu-id="af468-148">In hello SQL Server Management Studio dialog box, click **Yes** tooagree that you want toorestart SQL Server.</span></span>

### <a name="create-sql-server-authentication-logins"></a><span data-ttu-id="af468-149">Creare gli account di accesso di SQL Server</span><span class="sxs-lookup"><span data-stu-id="af468-149">Create SQL Server authentication logins</span></span>
<span data-ttu-id="af468-150">tooconnect toohello motore di Database da un altro computer, è necessario creare almeno un accesso con autenticazione SQL Server.</span><span class="sxs-lookup"><span data-stu-id="af468-150">tooconnect toohello Database Engine from another computer, you must create at least one SQL Server authentication login.</span></span>

1. <span data-ttu-id="af468-151">In SQL Server Management Studio Esplora oggetti espandere la cartella hello hello dell'istanza del server in cui si desidera toocreate hello nuovo account di accesso.</span><span class="sxs-lookup"><span data-stu-id="af468-151">In SQL Server Management Studio Object Explorer, expand hello folder of hello server instance in which you want toocreate hello new login.</span></span>
2. <span data-ttu-id="af468-152">Pulsante destro del mouse hello **sicurezza** cartella, scegliere troppo**nuovo**e selezionare **account di accesso...** .</span><span class="sxs-lookup"><span data-stu-id="af468-152">Right-click hello **Security** folder, point too**New**, and select **Login...**.</span></span>
   
    ![Nuovo account di accesso](./media/virtual-machines-sql-server-connection-steps/23New-Login.png)
3. <span data-ttu-id="af468-154">In hello **accesso - nuovo** della finestra di dialogo hello **generale** pagina, immettere il nome di hello del nuovo utente hello in hello **nome account di accesso** casella.</span><span class="sxs-lookup"><span data-stu-id="af468-154">In hello **Login - New** dialog box, on hello **General** page, enter hello name of hello new user in hello **Login name** box.</span></span>
4. <span data-ttu-id="af468-155">Selezionare **Autenticazione di SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="af468-155">Select **SQL Server authentication**.</span></span>
5. <span data-ttu-id="af468-156">In hello **Password** casella, immettere una password per hello nuovo utente.</span><span class="sxs-lookup"><span data-stu-id="af468-156">In hello **Password** box, enter a password for hello new user.</span></span> <span data-ttu-id="af468-157">Immettere nuovamente quella password in hello **Conferma Password** casella.</span><span class="sxs-lookup"><span data-stu-id="af468-157">Enter that password again into hello **Confirm Password** box.</span></span>
6. <span data-ttu-id="af468-158">Selezionare opzioni di imposizione hello password necessarie (**Applica criteri password**, **Imponi scadenza password**, e **cambiamento obbligatorio password all'accesso successivo**).</span><span class="sxs-lookup"><span data-stu-id="af468-158">Select hello password enforcement options required (**Enforce password policy**, **Enforce password expiration**, and **User must change password at next login**).</span></span> <span data-ttu-id="af468-159">Se si utilizza questo account di accesso per se stessi, non è necessaria una modifica della password all'accesso successivo hello toorequire.</span><span class="sxs-lookup"><span data-stu-id="af468-159">If you are using this login for yourself, you do not need toorequire a password change at hello next login.</span></span>
7. <span data-ttu-id="af468-160">Da hello **database predefinito** , selezionare un database predefinito per l'account di accesso hello.</span><span class="sxs-lookup"><span data-stu-id="af468-160">From hello **Default database** list, select a default database for hello login.</span></span> <span data-ttu-id="af468-161">**master** hello predefinito per questa opzione.</span><span class="sxs-lookup"><span data-stu-id="af468-161">**master** is hello default for this option.</span></span> <span data-ttu-id="af468-162">Se non è ancora stato creato un database utente, lasciare questa impostazione è troppo**master**.</span><span class="sxs-lookup"><span data-stu-id="af468-162">If you have not yet created a user database, leave this set too**master**.</span></span>
   
    ![Proprietà account di accesso](./media/virtual-machines-sql-server-connection-steps/24Test-Login.png)
8. <span data-ttu-id="af468-164">Nel caso di accesso di hello prima che si sta creando, è consigliabile toodesignate questo account di accesso come amministratore di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="af468-164">If this is hello first login you are creating, you may want toodesignate this login as a SQL Server administrator.</span></span> <span data-ttu-id="af468-165">In tal caso, hello **i ruoli del Server** controllo pagina **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="af468-165">If so, on hello **Server Roles** page, check **sysadmin**.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="af468-166">I membri del ruolo predefinito del server sysadmin di hello sono controllo completo di hello motore di Database.</span><span class="sxs-lookup"><span data-stu-id="af468-166">Members of hello sysadmin fixed server role have complete control of hello Database Engine.</span></span> <span data-ttu-id="af468-167">È consigliabile limitare attentamente le appartenenze a questo ruolo.</span><span class="sxs-lookup"><span data-stu-id="af468-167">You should carefully restrict membership in this role.</span></span>
   > 
   > 
   
   ![sysadmin](./media/virtual-machines-sql-server-connection-steps/25sysadmin.png)
9. <span data-ttu-id="af468-169">Fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="af468-169">Click OK.</span></span>

<span data-ttu-id="af468-170">Per ulteriori informazioni sugli account di accesso di SQL Server, vedere [Creazione di un account di accesso](http://msdn.microsoft.com/library/aa337562.aspx).</span><span class="sxs-lookup"><span data-stu-id="af468-170">For more information about SQL Server logins, see [Create a Login](http://msdn.microsoft.com/library/aa337562.aspx).</span></span>

