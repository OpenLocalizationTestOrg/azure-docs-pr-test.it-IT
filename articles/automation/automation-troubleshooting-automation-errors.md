---
title: Risoluzione dei problemi comuni di Automazione di Azure | Documentazione Microsoft
description: Questo articolo fornisce informazioni utili per la risoluzione dei problemi e la correzione degli errori comuni di Automazione di Azure.
services: automation
documentationcenter: 
author: mgoedtel
manager: stevenka
editor: tysonn
tags: top-support-issue
keywords: errore di automazione, risoluzione dei problemi, problema
ms.assetid: 5f3cfe61-70b0-4e9c-b892-d02daaeee07d
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/26/2017
ms.author: sngun; v-reagie
ms.openlocfilehash: 64548d91e98754210cc5185d9d759141cc0621d3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshooting-common-issues-in-azure-automation"></a><span data-ttu-id="9ce2d-104">Risoluzione dei problemi comuni in Automazione di Azure</span><span class="sxs-lookup"><span data-stu-id="9ce2d-104">Troubleshooting common issues in Azure Automation</span></span> 
<span data-ttu-id="9ce2d-105">Questo articolo fornisce informazioni utili per la risoluzione degli errori comuni che si possono verificare in Automazione di Azure e suggerisce possibili soluzioni.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-105">This article provides help troubleshooting common errors you might experience in Azure Automation and suggests possible solutions to resolve them.</span></span>

## <a name="authentication-errors-when-working-with-azure-automation-runbooks"></a><span data-ttu-id="9ce2d-106">Errori di autenticazione durante l'utilizzo di runbook di Automazione di Azure</span><span class="sxs-lookup"><span data-stu-id="9ce2d-106">Authentication errors when working with Azure Automation runbooks</span></span>
### <a name="scenario-sign-in-to-azure-account-failed"></a><span data-ttu-id="9ce2d-107">Scenario: Accesso all'account Azure non riuscito</span><span class="sxs-lookup"><span data-stu-id="9ce2d-107">Scenario: Sign in to Azure Account failed</span></span>
<span data-ttu-id="9ce2d-108">**Errore:** viene visualizzato l'errore "Unknown_user_type: tipo di utente sconosciuto" quando si usa uno dei due cmdlet seguenti: Add-AzureAccount o Login-AzureRmAccount.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-108">**Error:** You receive the error "Unknown_user_type: Unknown User Type" when working with the Add-AzureAccount or Login-AzureRmAccount cmdlets.</span></span>

<span data-ttu-id="9ce2d-109">**Motivo dell'errore:** questo errore si verifica se il nome dell'asset delle credenziali non è valido o se il nome utente e la password usati per impostare l'asset delle credenziali di automazione non sono validi.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-109">**Reason for the error:** This error occurs if the credential asset name is not valid or if the username and password that you used to setup the Automation credential asset are not valid.</span></span>

<span data-ttu-id="9ce2d-110">**Suggerimenti sulla risoluzione dei problemi:** per determinare la causa del problema, seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="9ce2d-110">**Troubleshooting tips:** In order to determine what's wrong, take the following steps:</span></span>  

1. <span data-ttu-id="9ce2d-111">Assicurarsi che non siano presenti caratteri speciali, ad esempio il carattere **@** nel nome dell'asset delle credenziali di automazione usato per connettersi ad Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-111">Make sure that you don’t have any special characters, including the **@** character in the Automation credential asset name that you are using to connect to Azure.</span></span>  
2. <span data-ttu-id="9ce2d-112">Verificare che sia possibile usare il nome utente e la password archiviati nelle credenziali di Automazione di Azure nell'editor di PowerShell ISE locale.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-112">Check that you can use the username and password that are stored in the Azure Automation credential in your local PowerShell ISE editor.</span></span> <span data-ttu-id="9ce2d-113">A questo scopo è possibile eseguire i cmdlet seguenti in PowerShell ISE:</span><span class="sxs-lookup"><span data-stu-id="9ce2d-113">You can do this by running the following cmdlets in the PowerShell ISE:</span></span>  

        $Cred = Get-Credential  
        #Using Azure Service Management   
        Add-AzureAccount –Credential $Cred  
        #Using Azure Resource Manager  
        Login-AzureRmAccount –Credential $Cred
3. <span data-ttu-id="9ce2d-114">Se l'autenticazione non riesce in locale, significa che le credenziali di Azure Active Directory non sono state configurate correttamente.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-114">If your authentication fails locally, this means that you haven’t set up your Azure Active Directory credentials properly.</span></span> <span data-ttu-id="9ce2d-115">Per ottenere la configurazione corretta dell'account Azure Active Directory, vedere il post di blog relativo all' [autenticazione in Azure con Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) .</span><span class="sxs-lookup"><span data-stu-id="9ce2d-115">Refer to [Authenticating to Azure using Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) blog post to get the Azure Active Directory account set up correctly.</span></span>  

### <a name="scenario-unable-to-find-the-azure-subscription"></a><span data-ttu-id="9ce2d-116">Scenario: Non è possibile trovare la sottoscrizione di Azure</span><span class="sxs-lookup"><span data-stu-id="9ce2d-116">Scenario: Unable to find the Azure subscription</span></span>
<span data-ttu-id="9ce2d-117">**Errore:** viene visualizzato l'errore "impossibile trovare la sottoscrizione denominata ``<subscription name>``" quando si usano i cmdlet Select-AzureSubscription o Select-AzureRmSubscription.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-117">**Error:** You receive the error "The subscription named ``<subscription name>`` cannot be found" when working with the Select-AzureSubscription or Select-AzureRmSubscription cmdlets.</span></span>

<span data-ttu-id="9ce2d-118">**Motivo dell'errore:** questo errore si verifica se il nome della sottoscrizione non è valido o se l'utente di Azure Active Directory che sta tentando di ottenere i dettagli della sottoscrizione non è configurato come amministratore della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-118">**Reason for the error:** This error occurs if the subscription name is not valid or if the Azure Active Directory user who is trying to get the subscription details is not configured as an admin of the subscription.</span></span>

<span data-ttu-id="9ce2d-119">**Suggerimenti per la risoluzione dei problemi:** per determinare se l'autenticazione in Azure è stata eseguita correttamente e se si ha accesso alla sottoscrizione che si sta tentando di selezionare, seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="9ce2d-119">**Troubleshooting tips:** In order to determine if you have properly authenticated to Azure and have access to the subscription you are trying to select, take the following steps:</span></span>  

1. <span data-ttu-id="9ce2d-120">Assicurarsi di eseguire il cmdlet **Add-AzureAccount** prima del cmdlet **Select-AzureSubscription**.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-120">Make sure that you run the **Add-AzureAccount** before running the **Select-AzureSubscription** cmdlet.</span></span>  
2. <span data-ttu-id="9ce2d-121">Se viene ancora visualizzato questo messaggio di errore, modificare il codice aggiungendo il cmdlet **Get-AzureSubscription** dopo **Add-AzureAccount**, quindi eseguire il codice.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-121">If you still see this error message, modify your code by adding the **Get-AzureSubscription** cmdlet following the **Add-AzureAccount** cmdlet and then execute the code.</span></span>  <span data-ttu-id="9ce2d-122">A questo punto, verificare se l'output di Get-AzureSubscription contiene i dettagli della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-122">Now verify if the output of Get-AzureSubscription contains your subscription details.</span></span>  

   * <span data-ttu-id="9ce2d-123">Se nell'output non vengono visualizzati i dettagli della sottoscrizione, significa che non è ancora stata inizializzata.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-123">If you don't see any subscription details in the output, this means that the subscription isn’t initialized yet.</span></span>  
   * <span data-ttu-id="9ce2d-124">Se nell'output vengono visualizzati i dettagli della sottoscrizione, assicurarsi di usare il nome o l'ID della sottoscrizione corretto con il cmdlet **Select-AzureSubscription** .</span><span class="sxs-lookup"><span data-stu-id="9ce2d-124">If you do see the subscription details in the output, confirm that you are using the correct subscription name or ID with the **Select-AzureSubscription** cmdlet.</span></span>   

### <a name="scenario-authentication-to-azure-failed-because-multi-factor-authentication-is-enabled"></a><span data-ttu-id="9ce2d-125">Scenario: L'autenticazione in Azure non è riuscita perché è abilitata l'autenticazione a più fattori</span><span class="sxs-lookup"><span data-stu-id="9ce2d-125">Scenario: Authentication to Azure failed because multi-factor authentication is enabled</span></span>
<span data-ttu-id="9ce2d-126">**Errore:** viene visualizzato un errore simile al seguente "Add-AzureAccount: AADSTS50079: è necessario eseguire la registrazione di autenticazione avanzata (pagina di registrazione)" durante l'autenticazione in Azure con il nome utente e la password di Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-126">**Error:** You receive the error “Add-AzureAccount: AADSTS50079: Strong authentication enrollment (proof-up) is required” when authenticating to Azure with your Azure username and password.</span></span>

<span data-ttu-id="9ce2d-127">**Motivo dell'errore:** se nell'account Azure è abilitata l'autenticazione a più fattori, non è possibile usare un utente di Azure Active Directory per l'autenticazione in Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-127">**Reason for the error:** If you have multi-factor authentication on your Azure account, you can't use an Azure Active Directory user to authenticate to Azure.</span></span>  <span data-ttu-id="9ce2d-128">È invece necessario usare un certificato o un'entità servizio per l'autenticazione in Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-128">Instead, you need to use a certificate or a service principal to authenticate to Azure.</span></span>

<span data-ttu-id="9ce2d-129">**Suggerimenti per la risoluzione dei problemi:** per usare un certificato con i cmdlet di gestione del servizio di Azure, vedere il blog relativo alla [creazione e all'aggiunta di un certificato per la gestione dei servizi Azure.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span><span class="sxs-lookup"><span data-stu-id="9ce2d-129">**Troubleshooting tips:** To use a certificate with the Azure Service Management cmdlets, refer to [creating and adding a certificate to manage Azure services.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span></span> <span data-ttu-id="9ce2d-130">Per usare un'entità servizio con i cmdlet di Azure Resource Manager, vedere l'argomento relativo alla [creazione di un'entità servizio tramite il portale di Azure](../azure-resource-manager/resource-group-create-service-principal-portal.md) e quello relativo all'[autenticazione di un'entità servizio con Azure Resource Manager.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span><span class="sxs-lookup"><span data-stu-id="9ce2d-130">To use a service principal with Azure Resource Manager cmdlets, refer to [creating service principal using Azure portal](../azure-resource-manager/resource-group-create-service-principal-portal.md) and [authenticating a service principal with Azure Resource Manager.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span></span>

## <a name="common-errors-when-working-with-runbooks"></a><span data-ttu-id="9ce2d-131">Errori comuni durante l'utilizzo di runbook</span><span class="sxs-lookup"><span data-stu-id="9ce2d-131">Common errors when working with runbooks</span></span>
### <a name="scenario-the-runbook-job-start-was-attempted-three-times-but-it-failed-to-start-each-time"></a><span data-ttu-id="9ce2d-132">Scenario: l'avvio del processo runbook è stato tentato per tre volte, ma non è mai riuscito</span><span class="sxs-lookup"><span data-stu-id="9ce2d-132">Scenario: The runbook job start was attempted three times, but it failed to start each time</span></span>
<span data-ttu-id="9ce2d-133">**Errore:** il runbook ha esito negativo con l'errore "L’esecuzione del processo è stata tentata per tre volte, ma non è riuscita".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-133">**Error:** Your runbook fails with the error "“The job was tried three times but it failed."</span></span>

<span data-ttu-id="9ce2d-134">**Motivo dell'errore:** questo errore può dipendere dalle cause seguenti:</span><span class="sxs-lookup"><span data-stu-id="9ce2d-134">**Reason for the error:** This error can be caused by the following reasons:</span></span>  

1. <span data-ttu-id="9ce2d-135">Limite di memoria.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-135">Memory Limit.</span></span>  <span data-ttu-id="9ce2d-136">Esistono dei limiti di quantità di memoria allocata a una sandbox con [limiti del servizio di automazione](../azure-subscription-service-limits.md#automation-limits), pertanto un processo potrebbe non riuscire se utilizza più di 400 MB di memoria.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-136">We have documented limits on how much memory allocated to a Sandbox  [Automation service limits](../azure-subscription-service-limits.md#automation-limits) so a job may fail it if is using more than 400 MB of memory.</span></span> 

2. <span data-ttu-id="9ce2d-137">Modulo incompatibile.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-137">Module Incompatible.</span></span>  <span data-ttu-id="9ce2d-138">Ciò può verificarsi se le dipendenze del modulo non sono corrette, e se non lo sono il runbook restituisce in genere il messaggio "Comando non trovato" o "Non è possibile associare il parametro".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-138">This can occur if module dependencies are not correct and if they are not, your runbook will typically return a “Command not found” or "Cannot bind parameter" message.</span></span> 

<span data-ttu-id="9ce2d-139">**Suggerimenti per la risoluzione dei problemi:** una qualsiasi delle soluzioni seguenti consente di correggere il problema.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-139">**Troubleshooting tips:** Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="9ce2d-140">Metodi consigliati per operare entro il limite di memoria sono, ad esempio, dividere il carico di lavoro tra diversi runbook, non elaborare tutti i dati in memoria, non scrivere output non necessari dai runbook oppure tenere in considerazione il numero di checkpoint scritti nei runbook del flusso di lavoro PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-140">Suggested methods to work within the memory limit are to split the workload between multiple runbooks, not process as much data in memory, not to write unnecessary output from your runbooks, or consider how many checkpoints you write into your PowerShell workflow runbooks.</span></span>  

* <span data-ttu-id="9ce2d-141">È necessario aggiornare i moduli di Azure eseguendo i passaggi [Come aggiornare i moduli Azure PowerShell in automazione di Azure](automation-update-azure-modules.md).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-141">You need to update your Azure modules by following the steps [How to update Azure PowerShell modules in Azure Automation](automation-update-azure-modules.md).</span></span>  


### <a name="scenario-runbook-fails-because-of-deserialized-object"></a><span data-ttu-id="9ce2d-142">Scenario: Runbook con esito negativo a causa di un oggetto deserializzato</span><span class="sxs-lookup"><span data-stu-id="9ce2d-142">Scenario: Runbook fails because of deserialized object</span></span>
<span data-ttu-id="9ce2d-143">**Errore:** il runbook non riesce con l'errore "Non è possibile associare il parametro ``<ParameterName>``.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-143">**Error:** Your runbook fails with the error "Cannot bind parameter ``<ParameterName>``.</span></span> <span data-ttu-id="9ce2d-144">Non è possibile convertire il valore ``<ParameterType>`` del tipo ``<ParameterType>`` deserializzato nel tipo ``<ParameterType>``".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-144">Cannot convert the ``<ParameterType>`` value of type Deserialized ``<ParameterType>`` to type ``<ParameterType>``".</span></span>

<span data-ttu-id="9ce2d-145">**Motivo dell'errore:** se il runbook è un flusso di lavoro di PowerShell, archivia gli oggetti complessi in un formato deserializzato per rendere persistente lo stato del runbook se il flusso di lavoro viene sospeso.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-145">**Reason for the error:** If your runbook is a PowerShell Workflow, it stores complex objects in a deserialized format in order to persist your runbook state if the workflow is suspended.</span></span>  

<span data-ttu-id="9ce2d-146">**Suggerimenti per la risoluzione dei problemi:**</span><span class="sxs-lookup"><span data-stu-id="9ce2d-146">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="9ce2d-147">una qualsiasi delle tre soluzioni seguenti consente di correggere questo problema.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-147">Any of the following three solutions will fix this problem:</span></span>

1. <span data-ttu-id="9ce2d-148">Se si inviano tramite pipe oggetti complessi da un cmdlet a altro, eseguire il wrapping dei cmdlet in un InlineScript.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-148">If you are piping complex objects from one cmdlet to another, wrap these cmdlets in an InlineScript.</span></span>  
2. <span data-ttu-id="9ce2d-149">Passare il nome o il valore necessario dall'oggetto complesso invece di passare l'intero oggetto.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-149">Pass the name or value that you need from the complex object instead of passing the entire object.</span></span>  
3. <span data-ttu-id="9ce2d-150">Usare un runbook di PowerShell invece di un runbook del flusso di lavoro PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-150">Use a PowerShell runbook instead of a PowerShell Workflow runbook.</span></span>  

### <a name="scenario-runbook-job-failed-because-the-allocated-quota-exceeded"></a><span data-ttu-id="9ce2d-151">Scenario: Processo del Runbook non riuscito per il superamento della quota allocata</span><span class="sxs-lookup"><span data-stu-id="9ce2d-151">Scenario: Runbook job failed because the allocated quota exceeded</span></span>
<span data-ttu-id="9ce2d-152">**Errore:** il processo del runbook non riesce con l'errore "È stata raggiunta la quota per il tempo di esecuzione totale mensile dei processi per la sottoscrizione".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-152">**Error:** Your runbook job fails with the error "The quota for the monthly total job run time has been reached for this subscription".</span></span>

<span data-ttu-id="9ce2d-153">**Motivo dell'errore:** questo errore si verifica quando l'esecuzione del processo supera la quota disponibile di 500 minuti per l'account.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-153">**Reason for the error:** This error occurs when the job execution exceeds the 500-minute free quota for your account.</span></span> <span data-ttu-id="9ce2d-154">Questa quota si applica a tutti i tipi di attività di esecuzione del processo, ad esempio il test di un processo, l'avvio di un processo dal portale, l'esecuzione di un processo con webhook e la pianificazione di un processo da eseguire tramite il portale di Azure o nel proprio data center.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-154">This quota applies to all types of job execution tasks such as testing a job, starting a job from the portal, executing a job by using webhooks and scheduling a job to execute by using either the Azure portal or in your datacenter.</span></span> <span data-ttu-id="9ce2d-155">Per altre informazioni sui prezzi relativi all'automazione, vedere [Prezzi di Automazione](https://azure.microsoft.com/pricing/details/automation/).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-155">To learn more about pricing for Automation see [Automation pricing](https://azure.microsoft.com/pricing/details/automation/).</span></span>

<span data-ttu-id="9ce2d-156">**Suggerimenti sulla risoluzione dei problemi:** se si vogliono usare più di 500 minuti di elaborazione al mese, si dovrà modificare la sottoscrizione dal livello gratuito al livello Basic.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-156">**Troubleshooting tips:** If you want to use more than 500 minutes of processing per month you will need to change your subscription from the Free tier to the Basic tier.</span></span> <span data-ttu-id="9ce2d-157">È possibile eseguire l'aggiornamento al livello Basic seguendo questa procedura.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-157">You can upgrade to the Basic tier by taking the following steps:</span></span>  

1. <span data-ttu-id="9ce2d-158">Accedere alla sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-158">Sign in to your Azure subscription</span></span>  
2. <span data-ttu-id="9ce2d-159">Selezionare l'account di automazione che si vuole aggiornare.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-159">Select the Automation account you wish to upgrade</span></span>  
3. <span data-ttu-id="9ce2d-160">Fare clic su **Impostazioni** > **Piano tariffario e utilizzo** > **Piano tariffario**</span><span class="sxs-lookup"><span data-stu-id="9ce2d-160">Click on **Settings** > **Pricing tier and Usage** > **Pricing tier**</span></span>  
4. <span data-ttu-id="9ce2d-161">Nel pannello **Scegliere il piano tariffario** selezionare **Basic**</span><span class="sxs-lookup"><span data-stu-id="9ce2d-161">On the **Choose your pricing tier** blade, select **Basic**</span></span>    

### <a name="scenario-cmdlet-not-recognized-when-executing-a-runbook"></a><span data-ttu-id="9ce2d-162">Scenario: Cmdlet non riconosciuto durante l'esecuzione di un runbook</span><span class="sxs-lookup"><span data-stu-id="9ce2d-162">Scenario: Cmdlet not recognized when executing a runbook</span></span>
<span data-ttu-id="9ce2d-163">**Errore:** il processo del runbook ha esito negativo e restituisce un errore simile al seguente "``<cmdlet name>``: il termine ``<cmdlet name>`` non viene riconosciuto come nome di cmdlet, funzione, file di script o programma eseguibile".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-163">**Error:** Your runbook job fails with the error "``<cmdlet name>``: The term ``<cmdlet name>`` is not recognized as the name of a cmdlet, function, script file, or operable program."</span></span>

<span data-ttu-id="9ce2d-164">**Motivo dell'errore:** questo errore si verifica quando il motore di PowerShell non trova il cmdlet usato nel runbook.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-164">**Reason for the error:** This error is caused when the PowerShell engine cannot find the cmdlet you are using in your runbook.</span></span>  <span data-ttu-id="9ce2d-165">È possibile che il modulo che contiene il cmdlet non sia incluso nell'account, che esista un conflitto di nome con il nome di un runbook o che il cmdlet sia presente anche in un altro modulo e che Automazione non possa risolvere il nome.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-165">This could be because the module containing the cmdlet is missing from the account, there is a name conflict with a runbook name, or the cmdlet also exists in another module and Automation cannot resolve the name.</span></span>

<span data-ttu-id="9ce2d-166">**Suggerimenti per la risoluzione dei problemi:** una qualsiasi delle soluzioni seguenti consente di correggere il problema.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-166">**Troubleshooting tips:** Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="9ce2d-167">Verificare di aver immesso correttamente il nome del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-167">Check that you have entered the cmdlet name correctly.</span></span>  
* <span data-ttu-id="9ce2d-168">Assicurarsi che il cmdlet esista nell'account di automazione e che non siano presenti conflitti.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-168">Make sure the cmdlet exists in your Automation account and that there are no conflicts.</span></span> <span data-ttu-id="9ce2d-169">Per verificare se il cmdlet è presente, aprire un runbook in modalità di modifica e cercare il cmdlet nella libreria o eseguire **Get-Command ``<CommandName>``**.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-169">To verify if the cmdlet is present, open a runbook in edit mode and search for the cmdlet you want to find in the library or run **Get-Command ``<CommandName>``**.</span></span>  <span data-ttu-id="9ce2d-170">Dopo aver verificato che il cmdlet è disponibile per l'account e che non ci sono conflitti di nomi con altri cmdlet o runbook, aggiungerlo all'area di disegno e assicurarsi di usare un set di parametri valido nel runbook.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-170">Once you have validated that the cmdlet is available to the account, and that there are no name conflicts with other cmdlets or runbooks, add it to the canvas and ensure that you are using a valid parameter set in your runbook.</span></span>  
* <span data-ttu-id="9ce2d-171">Nel caso di un conflitto di nomi e se il cmdlet è disponibile in due moduli diversi, è possibile risolvere questo problema usando il nome completo per il cmdlet.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-171">If you do have a name conflict and the cmdlet is available in two different modules, you can resolve this by using the fully qualified name for the cmdlet.</span></span> <span data-ttu-id="9ce2d-172">Ad esempio, usare **ModuleName\CmdletName**.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-172">For example, you can use **ModuleName\CmdletName**.</span></span>  
* <span data-ttu-id="9ce2d-173">Se si eseguono i runbook in locale in un gruppo di lavoro ibrido, verificare che il modulo/cmdlet sia installato nel computer che ospita il processo di lavoro ibrido.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-173">If you are executing the runbook on-premises in a hybrid worker group, then make sure that the module/cmdlet is installed on the machine that hosts the hybrid worker.</span></span>

### <a name="scenario-a-long-running-runbook-consistently-fails-with-the-exception-the-job-cannot-continue-running-because-it-was-repeatedly-evicted-from-the-same-checkpoint"></a><span data-ttu-id="9ce2d-174">Scenario: un runbook a esecuzione prolungata ha esito negativo e restituisce un'eccezione simile alla seguente "L'esecuzione del processo non può continuare perché è stato rimosso ripetutamente dallo stesso checkpoint".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-174">Scenario: A long running runbook consistently fails with the exception: "The job cannot continue running because it was repeatedly evicted from the same checkpoint".</span></span>
<span data-ttu-id="9ce2d-175">**Motivo dell'errore:** si tratta di un comportamento previsto, causato dalla "condivisione equa" del monitoraggio dei processi in Automazione di Azure, che prevede la sospensione automatica di un runbook se viene eseguito per più di 3 ore.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-175">**Reason for the error:** This is by design behavior due to the "Fair Share" monitoring of processes within Azure Automation, which automatically suspends a runbook if it executes longer than 3 hours.</span></span> <span data-ttu-id="9ce2d-176">Tuttavia, il messaggio di errore restituito non offre opzioni relative ai passaggi successivi.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-176">However, the error message returned does not provide "what next" options.</span></span> <span data-ttu-id="9ce2d-177">Un runbook può essere sospeso per una serie di motivi.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-177">A runbook can be suspended for a number of reasons.</span></span> <span data-ttu-id="9ce2d-178">Le sospensioni si verificano principalmente a causa di errori.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-178">Suspends happen mostly due to errors.</span></span> <span data-ttu-id="9ce2d-179">Ad esempio, un'eccezione non rilevata in un runbook, un errore di rete o un arresto anomalo nel ruolo di lavoro Runbook che esegue il runbook: in tutti questi casi, il runbook viene sospeso e quando riprende viene avviato dall'ultimo checkpoint.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-179">For example, an uncaught exception in a runbook, a network failure, or a crash on the Runbook Worker running the runbook, will all cause the runbook to be suspended and start from its last checkpoint when resumed.</span></span>

<span data-ttu-id="9ce2d-180">**Suggerimenti per la risoluzione dei problemi:** la soluzione documentata per evitare questo problema consiste nell'usare i checkpoint in un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-180">**Troubleshooting tips:** The documented solution to avoid this issue is to use Checkpoints in a workflow.</span></span>  <span data-ttu-id="9ce2d-181">Per altre informazioni, vedere [Informazioni sul flusso di lavoro di Windows PowerShell](automation-powershell-workflow.md#checkpoints).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-181">To learn more refer to [Learning PowerShell Workflows](automation-powershell-workflow.md#checkpoints).</span></span>  <span data-ttu-id="9ce2d-182">Una spiegazione più completa della "condivisione equa" e dei checkpoint è disponibile nell'articolo del blog dedicato all'[uso dei checkpoint nei runbook](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-182">A more thorough explanation of "Fair Share" and Checkpoint can be found in this blog article [Using Checkpoints in Runbooks](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span></span>

## <a name="common-errors-when-importing-modules"></a><span data-ttu-id="9ce2d-183">Errori comuni durante l'importazione di moduli</span><span class="sxs-lookup"><span data-stu-id="9ce2d-183">Common errors when importing modules</span></span>
### <a name="scenario-module-fails-to-import-or-cmdlets-cant-be-executed-after-importing"></a><span data-ttu-id="9ce2d-184">Scenario: L'importazione del modulo non riesce o i cmdlet non possono essere eseguiti dopo l'importazione</span><span class="sxs-lookup"><span data-stu-id="9ce2d-184">Scenario: Module fails to import or cmdlets can't be executed after importing</span></span>
<span data-ttu-id="9ce2d-185">**Errore:** l'importazione di un modulo ha esito negativo oppure riesce ma non viene estratto alcun cmdlet.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-185">**Error:** A module fails to import or imports successfully, but no cmdlets are extracted.</span></span>

<span data-ttu-id="9ce2d-186">**Motivo dell'errore:** di seguito sono elencati alcuni motivi comuni che possono causare un'importazione errata di un modulo in Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-186">**Reason for the error:** Some common reasons that a module might not successfully import to Azure Automation are:</span></span>  

* <span data-ttu-id="9ce2d-187">La struttura non corrisponde a quella in cui il modulo dovrebbe essere incluso ai fini dell'automazione.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-187">The structure does not match the structure that Automation needs it to be in.</span></span>  
* <span data-ttu-id="9ce2d-188">Il modulo è dipendente da un altro modulo che non è stato distribuito nel proprio account di automazione.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-188">The module is dependent on another module that has not been deployed to your Automation account.</span></span>  
* <span data-ttu-id="9ce2d-189">Le dipendenze del modulo non si trovano nella cartella.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-189">The module is missing its dependencies in the folder.</span></span>  
* <span data-ttu-id="9ce2d-190">Il cmdlet **New AzureRmAutomationModule** viene usato per caricare il modulo e non è stato specificato il percorso di archiviazione completo oppure il modulo non è stato caricato con un URL accessibile pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-190">The **New-AzureRmAutomationModule** cmdlet is being used to upload the module, and you have not given the full storage path or have not loaded the module by using a publicly accessible URL.</span></span>  

<span data-ttu-id="9ce2d-191">**Suggerimenti per la risoluzione dei problemi:**</span><span class="sxs-lookup"><span data-stu-id="9ce2d-191">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="9ce2d-192">una qualsiasi delle soluzioni seguenti consente di correggere il problema.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-192">Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="9ce2d-193">Assicurarsi che il modulo rispetti il formato seguente:</span><span class="sxs-lookup"><span data-stu-id="9ce2d-193">Make sure that the module follows the following format:</span></span>  
  <span data-ttu-id="9ce2d-194">ModuleName.Zip **->** Nome modulo o numero versione **->** (ModuleName.psm1, ModuleName.psd1)</span><span class="sxs-lookup"><span data-stu-id="9ce2d-194">ModuleName.Zip **->** ModuleName or Version Number **->** (ModuleName.psm1, ModuleName.psd1)</span></span>
* <span data-ttu-id="9ce2d-195">Aprire il file con estensione psd1 e vedere se il modulo include dipendenze.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-195">Open the .psd1 file and see if the module has any dependencies.</span></span>  <span data-ttu-id="9ce2d-196">In caso affermativo, caricare i moduli nell'account di automazione.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-196">If it does, upload these modules to the Automation account.</span></span>  
* <span data-ttu-id="9ce2d-197">Assicurarsi che le eventuali DLL a cui viene fatto riferimento siano presenti nella cartella del modulo.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-197">Make sure that any referenced .dlls are present in the module folder.</span></span>  

## <a name="common-errors-when-working-with-desired-state-configuration-dsc"></a><span data-ttu-id="9ce2d-198">Errori comuni durante l'utilizzo di Desired State Configuration (DSC)</span><span class="sxs-lookup"><span data-stu-id="9ce2d-198">Common errors when working with Desired State Configuration (DSC)</span></span>
### <a name="scenario-node-is-in-failed-status-with-a-not-found-error"></a><span data-ttu-id="9ce2d-199">Scenario: Lo stato di Node risulta non riuscito con un errore "Non trovato"</span><span class="sxs-lookup"><span data-stu-id="9ce2d-199">Scenario: Node is in failed status with a “Not found” error</span></span>
<span data-ttu-id="9ce2d-200">**Errore:** il nodo presenta un report con stato **Non riuscito** e contiene l'errore "Impossibile recuperare l'azione dal server https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``)/GetDscAction perché non è stata trovata una configurazione ``<guid>`` valida".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-200">**Error:** The node has a report with **Failed** status and containing the error "The attempt to get the action from server https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``)/GetDscAction failed because a valid configuration ``<guid>`` cannot be found.”</span></span>

<span data-ttu-id="9ce2d-201">**Motivo dell'errore:** questo errore si verifica in genere quando al nodo viene assegnato un nome di configurazione, ad esempio ABC, anziché un nome di configurazione nodo, ad esempio ABC.WebServer.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-201">**Reason for the error:** This error typically occurs when the node is assigned to a configuration name (e.g. ABC) instead of a node configuration name (e.g. ABC.WebServer).</span></span>  

<span data-ttu-id="9ce2d-202">**Suggerimenti per la risoluzione dei problemi:**</span><span class="sxs-lookup"><span data-stu-id="9ce2d-202">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="9ce2d-203">Assicurarsi di assegnare al nodo un "nome di configurazione di nodo" e non un "nome di configurazione".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-203">Make sure that you are assigning the node with "node configuration name" and not the "configuration name".</span></span>  
* <span data-ttu-id="9ce2d-204">È possibile assegnare a un nodo una configurazione di nodo usando il portale di Azure o un cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-204">You can assign a node configuration to a node using Azure portal or with a PowerShell cmdlet.</span></span>

  * <span data-ttu-id="9ce2d-205">Per assegnare a un nodo una configurazione nodo mediante il portale di Azure, aprire il pannello **Nodi DSC**, selezionare un nodo e quindi fare clic sul pulsante **Assegna configurazione nodo**.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-205">In order to assign a node configuration to a node using Azure portal, open the **DSC Nodes** blade, then select a node and click on **Assign node configuration** button.</span></span>  
  * <span data-ttu-id="9ce2d-206">Per assegnare a un nodo una configurazione nodo mediante PowerShell, usare il cmdlet **Set-AzureRmAutomationDscNode** .</span><span class="sxs-lookup"><span data-stu-id="9ce2d-206">In order to assign a node configuration to a node using PowerShell cmdlet, use **Set-AzureRmAutomationDscNode** cmdlet</span></span>

### <a name="scenario--no-node-configurations-mof-files-were-produced-when-a-configuration-is-compiled"></a><span data-ttu-id="9ce2d-207">Scenario: non sono state prodotte configurazioni di nodo (file con estensione MOF) durante la compilazione di una configurazione</span><span class="sxs-lookup"><span data-stu-id="9ce2d-207">Scenario:  No node configurations (MOF files) were produced when a configuration is compiled</span></span>
<span data-ttu-id="9ce2d-208">**Errore:** il processo di compilazione di DSC viene sospeso e restituisce un errore simile al seguente "La compilazione è stata completata, ma non sono stati generati file con estensione mof di configurazione nodo".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-208">**Error:** Your DSC compilation job suspends with the error: “Compilation completed successfully, but no node configuration .mofs were generated”.</span></span>

<span data-ttu-id="9ce2d-209">**Motivo dell'errore:** quando l'espressione accanto alla parola chiave **Node** nella configurazione di DSC restituisce $null, non vengono prodotte configurazioni di nodo.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-209">**Reason for the error:** When the expression following the **Node** keyword in the DSC configuration evaluates to $null then no node configurations will be produced.</span></span>    

<span data-ttu-id="9ce2d-210">**Suggerimenti per la risoluzione dei problemi:**</span><span class="sxs-lookup"><span data-stu-id="9ce2d-210">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="9ce2d-211">una qualsiasi delle soluzioni seguenti consente di correggere il problema.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-211">Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="9ce2d-212">Verificare che l'espressione accanto alla parola chiave **Node** nella definizione di configurazione non restituisca $null.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-212">Make sure that the expression next to the **Node** keyword in the configuration definition is not evaluating to $null.</span></span>  
* <span data-ttu-id="9ce2d-213">Se durante la compilazione della configurazione si passano dei dati di configurazione, verificare di specificare i valori previsti necessari per la configurazione da [ConfigurationData](automation-dsc-compile.md#configurationdata).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-213">If you are passing ConfigurationData when compiling the configuration, make sure that you are passing the expected values that the configuration requires from [ConfigurationData](automation-dsc-compile.md#configurationdata).</span></span>

### <a name="scenario--the-dsc-node-report-becomes-stuck-in-progress-state"></a><span data-ttu-id="9ce2d-214">Scenario: il report relativo al nodo DSC rimane bloccato sullo stato "in corso"</span><span class="sxs-lookup"><span data-stu-id="9ce2d-214">Scenario:  The DSC node report becomes stuck “in progress” state</span></span>
<span data-ttu-id="9ce2d-215">**Errore:** l'agente DSC restituisce un errore simile al seguente "Nessuna istanza trovata con i valori di proprietà specificati".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-215">**Error:** DSC Agent outputs “No instance found with given property values.”</span></span>

<span data-ttu-id="9ce2d-216">**Motivo dell'errore:** è stato eseguito l'aggiornamento alla versione WMF e WMI è stato danneggiato.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-216">**Reason for the error:** You have upgraded your WMF version and have corrupted WMI.</span></span>  

<span data-ttu-id="9ce2d-217">**Suggerimenti per la risoluzione dei problemi:** seguire le istruzioni riportate in [Limitazioni e problemi noti di DSC](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) per risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-217">**Troubleshooting tips:** Follow the instructions in the [DSC known issues and limitations](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) to fix the issue.</span></span>

### <a name="scenario--unable-to-use-a-credential-in-a-dsc-configuration"></a><span data-ttu-id="9ce2d-218">Scenario: non è possibile usare le credenziali in una configurazione DSC</span><span class="sxs-lookup"><span data-stu-id="9ce2d-218">Scenario:  Unable to use a credential in a DSC configuration</span></span>
<span data-ttu-id="9ce2d-219">**Errore:** il processo di compilazione di DSC è stato sospeso con un errore simile al seguente "Si è verificato un errore System.InvalidOperationException durante l'elaborazione della proprietà "Credential" di tipo ``<some resource name>``: la conversione e l'archiviazione di una password crittografata come testo non crittografato sono consentite solo se PSDscAllowPlainTextPassword è impostato su true".</span><span class="sxs-lookup"><span data-stu-id="9ce2d-219">**Error:** Your DSC compilation job was suspended with the error: “System.InvalidOperationException error processing property 'Credential' of type ``<some resource name>``: Converting and storing an encrypted password as plaintext is allowed only if PSDscAllowPlainTextPassword is set to true”.</span></span>

<span data-ttu-id="9ce2d-220">**Motivo dell'errore:** in una configurazione sono state usate credenziali, ma non è stato passato l'oggetto **ConfigurationData** corretto per impostare **PSDscAllowPlainTextPassword** su true per ogni configurazione nodo.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-220">**Reason for the error:** You have used a credential in a configuration but didn’t provide proper **ConfigurationData** to set **PSDscAllowPlainTextPassword** to true for each node configuration.</span></span>  

<span data-ttu-id="9ce2d-221">**Suggerimenti per la risoluzione dei problemi:**</span><span class="sxs-lookup"><span data-stu-id="9ce2d-221">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="9ce2d-222">Verificare di passare l'oggetto **ConfigurationData** corretto per impostare **PSDscAllowPlainTextPassword** su true per ogni configurazione nodo indicata nella configurazione.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-222">Make sure to pass in the proper **ConfigurationData** to set **PSDscAllowPlainTextPassword** to true for each node configuration mentioned in the configuration.</span></span> <span data-ttu-id="9ce2d-223">Per altre informazioni, vedere [la sezione relativa agli asset in Azure Automation DSC](automation-dsc-compile.md#assets).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-223">For more information, refer to [assets in Azure Automation DSC](automation-dsc-compile.md#assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="9ce2d-224">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="9ce2d-224">Next steps</span></span>
<span data-ttu-id="9ce2d-225">Se è stata seguita la procedura precedente per la risoluzione dei problemi e non è stata trovata la risposta necessaria, è possibile vedere le opzioni di supporto aggiuntive seguenti.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-225">If you have followed the troubleshooting steps above and can't find the answer, you can review the additional support options below.</span></span>

* <span data-ttu-id="9ce2d-226">Ottenere assistenza dagli esperti di Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-226">Get help from Azure experts.</span></span> <span data-ttu-id="9ce2d-227">Inviare il problema al [forum MSDN dedicato ad Azure o a Stack Overflow](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-227">Submit your issue to the [MSDN Azure or Stack Overflow forums.](https://azure.microsoft.com/support/forums/).</span></span>
* <span data-ttu-id="9ce2d-228">Archiviare un incidente del supporto tecnico di Azure.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-228">File an Azure support incident.</span></span> <span data-ttu-id="9ce2d-229">Aprire il [sito del supporto tecnico di Azure](https://azure.microsoft.com/support/options/) e fare clic su **Ottieni supporto** in **Supporto tecnico e di fatturazione**.</span><span class="sxs-lookup"><span data-stu-id="9ce2d-229">Go to the [Azure Support site](https://azure.microsoft.com/support/options/) and click **Get support** under **Technical and billing support**.</span></span>
* <span data-ttu-id="9ce2d-230">Se si sta cercando una soluzione per i runbook oppure un modulo di integrazione di Automazione di Azure, inviare una richiesta di script a [Script Center](https://azure.microsoft.com/documentation/scripts/) .</span><span class="sxs-lookup"><span data-stu-id="9ce2d-230">Post a Script Request on [Script Center](https://azure.microsoft.com/documentation/scripts/) if you are looking for an Azure Automation runbook solution or an integration module.</span></span>
* <span data-ttu-id="9ce2d-231">Inviare commenti o suggerimenti oppure richieste di funzionalità per Automazione di Azure al forum dedicato ai [suggerimenti degli utenti](https://feedback.azure.com/forums/34192--general-feedback).</span><span class="sxs-lookup"><span data-stu-id="9ce2d-231">Post feedback or feature requests for Azure Automation on [User Voice](https://feedback.azure.com/forums/34192--general-feedback).</span></span>
