---
<span data-ttu-id="5f23f-101">titolo: aaa "lezione dell'esercitazione di Azure Analysis Services 4: creare relazioni | Descrizione di "Microsoft Docs: viene descritto come relazioni toocreate in hello progetto tutorial Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="5f23f-101">title: aaa"Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs" description: Describes how toocreate relationships in hello Azure Analysis Services tutorial project.</span></span> <span data-ttu-id="5f23f-102">servizi: documentationcenter di analysis services: ' autore: manager minewiskan: erikre editor: ' tag: '</span><span class="sxs-lookup"><span data-stu-id="5f23f-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="5f23f-103">ms. AssetID: ms. Service: ms. DevLang analysis services: ms. topic NA: ms. tgt_pltfrm get-started-article: Workload NA: ms. date na: author 26/05/2017: owend</span><span class="sxs-lookup"><span data-stu-id="5f23f-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="5f23f-104">Lezione 4: Creare relazioni</span><span class="sxs-lookup"><span data-stu-id="5f23f-104">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="5f23f-105">In questa lezione si verificare hello relazioni create automaticamente durante l'importazione dei dati e aggiungono nuove relazioni tra tabelle diverse.</span><span class="sxs-lookup"><span data-stu-id="5f23f-105">In this lesson, you verify hello relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="5f23f-106">Una relazione è una connessione tra due tabelle che stabilisce la modalità dati hello in tali tabelle devono essere correlati.</span><span class="sxs-lookup"><span data-stu-id="5f23f-106">A relationship is a connection between two tables that establishes how hello data in those tables should be correlated.</span></span> <span data-ttu-id="5f23f-107">Ad esempio, nella tabella DimProduct hello e tabella DimProductSubcategory hello hanno una relazione basata su fatti hello che ogni prodotto appartiene tooa subcategory.</span><span class="sxs-lookup"><span data-stu-id="5f23f-107">For example, hello DimProduct table and hello DimProductSubcategory table have a relationship based on hello fact that each product belongs tooa subcategory.</span></span> <span data-ttu-id="5f23f-108">vedere, più toolearn [relazioni](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="5f23f-108">toolearn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="5f23f-109">Stimato toocomplete ora questa lezione: **10 minuti**</span><span class="sxs-lookup"><span data-stu-id="5f23f-109">Estimated time toocomplete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="5f23f-110">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="5f23f-110">Prerequisites</span></span>  
<span data-ttu-id="5f23f-111">Questo argomento fa parte di un'esercitazione sulla creazione di modelli tabulari, con lezioni che è consigliabile completare nell'ordine indicato.</span><span class="sxs-lookup"><span data-stu-id="5f23f-111">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="5f23f-112">Prima di eseguire attività di hello in questa lezione, è necessario avere completato la lezione precedente hello: [lezione 3: contrassegna come tabella data](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="5f23f-112">Before performing hello tasks in this lesson, you should have completed hello previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="5f23f-113">Esaminare le relazioni esistenti e aggiungere nuove relazioni</span><span class="sxs-lookup"><span data-stu-id="5f23f-113">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="5f23f-114">Quando sono stati importati dati usando recupera dati, sarà possibile ottenere sette tabelle dal database AdventureWorksDW2014 hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-114">When you imported data by using Get Data, you got seven tables from hello AdventureWorksDW2014 database.</span></span> <span data-ttu-id="5f23f-115">In genere, quando si importano dati da un'origine relazionale, le relazioni esistenti vengono importate automaticamente insieme ai dati hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-115">Generally, when you import data from a relational source, existing relationships are automatically imported together with hello data.</span></span> <span data-ttu-id="5f23f-116">Tuttavia, prima di procedere alla creazione del modello è necessario verificare che le relazioni create tra le tabelle siano appropriate.</span><span class="sxs-lookup"><span data-stu-id="5f23f-116">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="5f23f-117">Per gli scopi di questa esercitazione vengono aggiunte tre nuove relazioni.</span><span class="sxs-lookup"><span data-stu-id="5f23f-117">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="tooreview-existing-relationships"></a><span data-ttu-id="5f23f-118">relazioni esistenti tooreview</span><span class="sxs-lookup"><span data-stu-id="5f23f-118">tooreview existing relationships</span></span>  
  
1.  <span data-ttu-id="5f23f-119">Fare clic su hello **modello** menu > **vista modello** > **vista diagramma**.</span><span class="sxs-lookup"><span data-stu-id="5f23f-119">Click hello **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="5f23f-120">Hello Progettazione modelli viene ora visualizzato nella vista diagramma, un formato grafico la visualizzazione di tutte le tabelle di hello importate, con linee tra di essi.</span><span class="sxs-lookup"><span data-stu-id="5f23f-120">hello model designer now appears in Diagram View, a graphical format displaying all hello tables you imported with lines between them.</span></span> <span data-ttu-id="5f23f-121">linee di Hello tra le tabelle indicano le relazioni di hello che sono state create automaticamente durante l'importazione dei dati hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-121">hello lines between tables indicate hello relationships that were automatically created when you imported hello data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="5f23f-123">Includere la maggior parte delle tabelle di hello possibile tramite i controlli della mini mappa nell'angolo inferiore destro hello di progettazione di modelli di hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-123">Include as many of hello tables as possible by using minimap controls in hello lower-right corner of hello model designer.</span></span> <span data-ttu-id="5f23f-124">È possibile anche fare clic su e trascinare posizioni toodifferent tabelle, riunire più vicino a tabelle o inserirli in un ordine particolare.</span><span class="sxs-lookup"><span data-stu-id="5f23f-124">You can also click and drag tables toodifferent locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="5f23f-125">Spostamento di tabelle non influenza le relazioni di hello già tra le tabelle di hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-125">Moving tables does not affect hello relationships already between hello tables.</span></span> <span data-ttu-id="5f23f-126">tooview tutte le colonne di hello in una determinata tabella, fare clic e trascinare un tooexpand bordo di tabella o renderla più piccola.</span><span class="sxs-lookup"><span data-stu-id="5f23f-126">tooview all hello columns in a particular table, click and drag on a table edge tooexpand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="5f23f-127">Fare clic hello linea continua tra hello **DimCustomer** tabella e hello **DimGeography** tabella.</span><span class="sxs-lookup"><span data-stu-id="5f23f-127">Click hello solid line between hello **DimCustomer** table and hello **DimGeography** table.</span></span> <span data-ttu-id="5f23f-128">linea continua di Hello tra queste due tabelle viene illustrata che questa relazione è attiva, vale a dire, che viene utilizzato per impostazione predefinita durante il calcolo delle formule DAX.</span><span class="sxs-lookup"><span data-stu-id="5f23f-128">hello solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="5f23f-129">Hello preavviso **GeographyKey** colonna hello **DimCustomer** tabella e hello **GeographyKey** colonna hello **DimGeography** tabella appaiono ora entrambe all'interno di una casella.</span><span class="sxs-lookup"><span data-stu-id="5f23f-129">Notice hello **GeographyKey** column in hello **DimCustomer** table and hello **GeographyKey** column in hello **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="5f23f-130">Queste colonne vengono utilizzate nella relazione hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-130">These columns are used in hello relationship.</span></span> <span data-ttu-id="5f23f-131">Hello proprietà della relazione sono ora visualizzate nella hello **proprietà** finestra.</span><span class="sxs-lookup"><span data-stu-id="5f23f-131">hello relationship’s properties now also appear in hello **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="5f23f-132">Inoltre toousing hello Progettazione modelli in vista diagramma, è inoltre possibile utilizzare hello Gestisci relazioni della finestra di dialogo tooshow hello le relazioni tra tutte le tabelle in un formato di tabella.</span><span class="sxs-lookup"><span data-stu-id="5f23f-132">In addition toousing hello model designer in diagram view, you can also use hello Manage Relationships dialog box tooshow hello relationships between all tables in a table format.</span></span> <span data-ttu-id="5f23f-133">In Esplora modelli tabulari fare clic con il pulsante destro del mouse su **Relazioni** > **Gestisci relazioni**.</span><span class="sxs-lookup"><span data-stu-id="5f23f-133">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="5f23f-134">Verificare hello segue le relazioni siano stata creata quando ognuna delle tabelle di hello è stata importata dal database AdventureWorksDW hello:</span><span class="sxs-lookup"><span data-stu-id="5f23f-134">Verify hello following relationships were created when each of hello tables were imported from hello AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="5f23f-135">Attivo</span><span class="sxs-lookup"><span data-stu-id="5f23f-135">Active</span></span>|<span data-ttu-id="5f23f-136">Table</span><span class="sxs-lookup"><span data-stu-id="5f23f-136">Table</span></span>|<span data-ttu-id="5f23f-137">Tabella di ricerca correlata</span><span class="sxs-lookup"><span data-stu-id="5f23f-137">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="5f23f-138">Sì</span><span class="sxs-lookup"><span data-stu-id="5f23f-138">Yes</span></span>|<span data-ttu-id="5f23f-139">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-139">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="5f23f-140">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-140">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="5f23f-141">Sì</span><span class="sxs-lookup"><span data-stu-id="5f23f-141">Yes</span></span>|<span data-ttu-id="5f23f-142">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-142">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="5f23f-143">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-143">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="5f23f-144">Sì</span><span class="sxs-lookup"><span data-stu-id="5f23f-144">Yes</span></span>|<span data-ttu-id="5f23f-145">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-145">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="5f23f-146">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-146">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="5f23f-147">Sì</span><span class="sxs-lookup"><span data-stu-id="5f23f-147">Yes</span></span>|<span data-ttu-id="5f23f-148">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-148">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="5f23f-149">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-149">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="5f23f-150">Sì</span><span class="sxs-lookup"><span data-stu-id="5f23f-150">Yes</span></span>|<span data-ttu-id="5f23f-151">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-151">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="5f23f-152">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="5f23f-152">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="5f23f-153">Se sono presenti relazioni hello mancante, verificare che il modello includa le tabelle seguenti hello: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory e FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="5f23f-153">If any of hello relationships are missing, verify that your model includes hello following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="5f23f-154">Se hello stessa connessione all'origine dati vengono importati in tabelle separano volte, tutte le relazioni tra tali tabelle non vengono create e devono essere create manualmente.</span><span class="sxs-lookup"><span data-stu-id="5f23f-154">If tables from hello same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="5f23f-155">Dettagli del diagramma e delle relazioni</span><span class="sxs-lookup"><span data-stu-id="5f23f-155">Take a closer look</span></span>
<span data-ttu-id="5f23f-156">Nella vista diagramma, si noti una freccia, un asterisco e un numero di righe hello che mostrano la relazione hello tra tabelle.</span><span class="sxs-lookup"><span data-stu-id="5f23f-156">In Diagram View, notice an arrow, an asterisk, and a number on hello lines that show hello relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="5f23f-158">freccia di Hello indica la direzione del filtro hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-158">hello arrow shows hello filter direction.</span></span> <span data-ttu-id="5f23f-159">asterisco Hello mostra che questa tabella è hello lato "molti" in cardinalità della relazione hello e hello viene illustrato in questa tabella è uno lato di hello di relazione hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-159">hello asterisk shows this table is hello many side in hello relationship's cardinality, and hello one shows this table is hello one side of hello relationship.</span></span> <span data-ttu-id="5f23f-160">Se è necessario tooedit una relazione. ad esempio, modificare la direzione del filtro o la cardinalità della relazione hello, fare doppio clic sulla finestra di hello relazione riga tooopen hello Modifica relazione.</span><span class="sxs-lookup"><span data-stu-id="5f23f-160">If you need tooedit a relationship; for example, change hello relationship's filter direction or cardinality, double-click hello relationship line tooopen hello Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="5f23f-162">Queste funzionalità sono concepite per la modellazione dei dati avanzate e ambito hello all'esterno di questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="5f23f-162">These features are meant for advanced data modeling and are outside hello scope of this tutorial.</span></span> <span data-ttu-id="5f23f-163">vedere, più toolearn [bidirezionale tra i filtri per i modelli tabulari in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="5f23f-163">toolearn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="5f23f-164">In alcuni casi, potrebbe essere toocreate relazioni aggiuntive tra le tabelle del modello di toosupport determinata logica di business.</span><span class="sxs-lookup"><span data-stu-id="5f23f-164">In some cases, you may need toocreate additional relationships between tables in your model toosupport certain business logic.</span></span> <span data-ttu-id="5f23f-165">Per questa esercitazione, è necessario toocreate tre relazioni aggiuntive tra tabella FactInternetSales hello e la tabella DimDate hello.</span><span class="sxs-lookup"><span data-stu-id="5f23f-165">For this tutorial, you need toocreate three additional relationships between hello FactInternetSales table and hello DimDate table.</span></span>  
  
#### <a name="tooadd-new-relationships-between-tables"></a><span data-ttu-id="5f23f-166">tooadd nuove relazioni tra tabelle</span><span class="sxs-lookup"><span data-stu-id="5f23f-166">tooadd new relationships between tables</span></span>  
  
1.  <span data-ttu-id="5f23f-167">In Progettazione modelli hello in hello **FactInternetSales** tabella, fare clic e tenere premuto hello **OrderDate** colonna, quindi trascinare hello cursore toohello **data** colonna hello  **DimDate** tabella e infine rilasciare.</span><span class="sxs-lookup"><span data-stu-id="5f23f-167">In hello model designer, in hello **FactInternetSales** table, click, and hold on hello **OrderDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="5f23f-168">Verrà visualizzata di una linea a tinta unita che è stata creata una relazione attiva tra hello **OrderDate** colonna hello **Internet Sales** tabella e hello **data** colonna hello **Data** tabella.</span><span class="sxs-lookup"><span data-stu-id="5f23f-168">A solid line appears showing you have created an active relationship between hello **OrderDate** column in hello **Internet Sales** table, and hello **Date** column in hello **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="5f23f-170">Quando si creano relazioni, hello cardinalità e filtro la direzione tra la tabella primaria hello e tabella di ricerca correlata hello viene selezionata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="5f23f-170">When creating relationships, hello cardinality and filter direction between hello primary table and hello related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="5f23f-171">In hello **FactInternetSales** tabella, fare clic e tenere premuto hello **DueDate** colonna, quindi trascinare hello cursore toohello **data** colonna hello **DimDate** tabella e infine rilasciare.</span><span class="sxs-lookup"><span data-stu-id="5f23f-171">In hello **FactInternetSales** table, click and hold on hello **DueDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="5f23f-172">Viene visualizzato di una linea punteggiata che è stata creata una relazione inattiva tra hello **DueDate** colonna hello **FactInternetSales** tabella e hello **data** colonna Hello **DimDate** tabella.</span><span class="sxs-lookup"><span data-stu-id="5f23f-172">A dotted line appears showing you have created an inactive relationship between hello **DueDate** column in hello **FactInternetSales** table, and hello **Date** column in hello **DimDate** table.</span></span> <span data-ttu-id="5f23f-173">È possibile creare più relazioni tra le tabelle, ma può essere attiva una sola relazione alla volta.</span><span class="sxs-lookup"><span data-stu-id="5f23f-173">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="5f23f-174">Relazioni inattive possono essere rese tooperform active speciali aggregazioni personalizzate espressioni DAX.</span><span class="sxs-lookup"><span data-stu-id="5f23f-174">Inactive relationships can be made active tooperform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="5f23f-175">Creare infine un'ultima relazione.</span><span class="sxs-lookup"><span data-stu-id="5f23f-175">Finally, create one more relationship.</span></span> <span data-ttu-id="5f23f-176">In hello **FactInternetSales** tabella, fare clic e tenere premuto hello **ShipDate** colonna, quindi trascinare hello cursore toohello **data** colonna hello **DimDate** tabella e infine rilasciare.</span><span class="sxs-lookup"><span data-stu-id="5f23f-176">In hello **FactInternetSales** table, click and hold on hello **ShipDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="5f23f-178">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="5f23f-178">What's next?</span></span>
<span data-ttu-id="5f23f-179">[Lezione 5: Creare colonne calcolate](../tutorials/aas-lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="5f23f-179">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
