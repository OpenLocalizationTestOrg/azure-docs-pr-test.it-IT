---
title: aaaGeo scala distribuite con gli ambienti del servizio App
description: Informazioni su come toohorizontally ridimensionare le app usando geo-distribuzione con gestione traffico e gli ambienti del servizio App.
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="d7304-103">Scalabilità distribuita a livello geografico con ambienti del servizio app</span><span class="sxs-lookup"><span data-stu-id="d7304-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="d7304-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="d7304-104">Overview</span></span>
<span data-ttu-id="d7304-105">Scenari di applicazioni che richiedono scalabilità molto elevato possono superare hello calcolo risorse capacità disponibile tooa singola distribuzione di un'app.</span><span class="sxs-lookup"><span data-stu-id="d7304-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="d7304-106">Applicazioni di voto, eventi sportivi ed eventi di intrattenimento televisivi sono tutti esempi di scenari che richiedono una scalabilità estremamente elevata.</span><span class="sxs-lookup"><span data-stu-id="d7304-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="d7304-107">Requisiti su larga scala possono essere soddisfatti tramite la scalabilità orizzontale di App, con più distribuzioni di app eseguite in una singola regione, nonché in aree geografiche, requisiti di carico particolarmente intenso toohandle.</span><span class="sxs-lookup"><span data-stu-id="d7304-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="d7304-108">Gli ambienti del servizio app sono una piattaforma ideale per la scalabilità orizzontale.  Dopo aver selezionata una configurazione dell'ambiente del servizio App che può supportare una velocità di richiesta, gli sviluppatori possono distribuire gli ambienti del servizio App aggiuntive in "utensile cookie" modo tooattain una capacità di carico di picco desiderato.</span><span class="sxs-lookup"><span data-stu-id="d7304-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="d7304-109">Si supponga ad esempio un'app in esecuzione in una configurazione dell'ambiente del servizio App è stata testata toohandle 20K richieste al secondo (RPS).</span><span class="sxs-lookup"><span data-stu-id="d7304-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="d7304-110">Se il carico di picco desiderato hello capacità è 100K RPS, è possibile creare ambienti di servizio App cinque (5) e un'applicazione hello tooensure configurato gestibili carico previsto massimo hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="d7304-111">Poiché i clienti in genere App scritte in un dominio personalizzato (o personale), gli sviluppatori devono accedere a un'app toodistribute modo richiede tutte le istanze di ambiente del servizio App hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="d7304-112">Tooaccomplish un ottimo modo tratta tooresolve hello dominio personalizzato utilizzando un [profilo di Traffic Manager di Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="d7304-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="d7304-113">Hello Traffic Manager profilo può essere configurato toopoint tutti hello singoli gli ambienti del servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="d7304-114">Gestione traffico consente di gestire automaticamente la distribuzione ai clienti in tutti gli ambienti del servizio App in base alle impostazioni nel profilo di Traffic Manager hello di bilanciamento carico di hello hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="d7304-115">Questo approccio funziona indipendentemente dal fatto se tutti gli ambienti del servizio App hello sono distribuiti in una singola regione di Azure o distribuiti in tutto il mondo in più aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="d7304-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="d7304-116">Inoltre, poiché i clienti di accedere alle App tramite il dominio di reindirizzamento a microsito hello, i clienti non sono consapevoli del numero di hello di esecuzione di un'applicazione gli ambienti del servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="d7304-117">Di conseguenza, gli sviluppatori possono aggiungere e rimuovere in modo rapido e facile ambienti del servizio app in base al carico di traffico osservato.</span><span class="sxs-lookup"><span data-stu-id="d7304-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="d7304-118">diagramma concettuale Hello riportato di seguito viene illustrata un'applicazione con scalata orizzontale in tre ambienti di servizio App all'interno di una singola area.</span><span class="sxs-lookup"><span data-stu-id="d7304-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Architettura concettuale][ConceptualArchitecture] 

<span data-ttu-id="d7304-120">resto Hello di questo argomento vengono illustrati hello passaggi coinvolti con l'impostazione di una topologia distribuita per app di esempio di hello con più ambienti di servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="d7304-121">Pianificazione della topologia hello</span><span class="sxs-lookup"><span data-stu-id="d7304-121">Planning hello Topology</span></span>
<span data-ttu-id="d7304-122">Prima di compilare un footprint di applicazione distribuita, è utile toohave alcune informazioni parti anticipatamente.</span><span class="sxs-lookup"><span data-stu-id="d7304-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="d7304-123">**Dominio personalizzato per l'applicazione hello:** qual è il nome di dominio personalizzato hello che i clienti utilizzerà tooaccess hello app?</span><span class="sxs-lookup"><span data-stu-id="d7304-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="d7304-124">Per il dominio personalizzato hello app esempio hello è nome *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="d7304-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="d7304-125">**Dominio di Traffic Manager:** un nome di dominio deve toobe scelto durante la creazione di un [profilo di Traffic Manager di Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="d7304-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="d7304-126">Questo nome verrà combinato con hello *trafficmanager.net* suffisso tooregister una voce di dominio che è gestita da Gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="d7304-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="d7304-127">Per app di esempio hello, si è scelto di nome hello *scalabile di ase demo*.</span><span class="sxs-lookup"><span data-stu-id="d7304-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="d7304-128">Di conseguenza hello nome completo del dominio che è gestito da Gestione traffico è *scalabile di ase demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="d7304-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="d7304-129">**Strategia per la scalabilità footprint app hello:** verranno distribuiti tra più ambienti di servizio App in una singola area footprint dell'applicazione hello?</span><span class="sxs-lookup"><span data-stu-id="d7304-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="d7304-130">in più aree geografiche</span><span class="sxs-lookup"><span data-stu-id="d7304-130">Multiple regions?</span></span>  <span data-ttu-id="d7304-131">o con una combinazione di entrambi gli approcci.</span><span class="sxs-lookup"><span data-stu-id="d7304-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="d7304-132">Hello decisione deve basarsi sulle aspettative di in cui avranno origine traffico dei clienti, nonché come rest hello e di un'applicazione che supporta l'infrastruttura di back-end possono essere ridimensionati.</span><span class="sxs-lookup"><span data-stu-id="d7304-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="d7304-133">Ad esempio, un'applicazione al 100% senza stato può essere considerevolmente ridimensionata usando una combinazione di più ambienti del servizio app per ogni area di Azure, moltiplicati per gli ambienti del servizio app distribuiti tra più aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="d7304-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="d7304-134">Con almeno 15 pubblica aree di Azure toochoose disponibile da, gli utenti possono creare effettivamente un footprint di applicazione con tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="d7304-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="d7304-135">Per app di esempio hello utilizzato per l'articolo, tre gli ambienti del servizio App sono stati creati in una singola regione di Azure (centro-meridionali).</span><span class="sxs-lookup"><span data-stu-id="d7304-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="d7304-136">**Convenzione di denominazione per gli ambienti del servizio App hello:** ogni ambiente del servizio App richiede un nome univoco.</span><span class="sxs-lookup"><span data-stu-id="d7304-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="d7304-137">Oltre a uno o due ambienti di servizio App è utile toohave una convenzione di denominazione toohelp identificare ogni ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="d7304-138">Per app di esempio hello è stata utilizzata una convenzione di denominazione semplice.</span><span class="sxs-lookup"><span data-stu-id="d7304-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="d7304-139">Hello nomi di hello e tre gli ambienti del servizio App sono *fe1ase*, *fe2ase*, e *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="d7304-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="d7304-140">**Convenzione di denominazione per le app hello:** perché più istanze di hello app verranno distribuite, è necessario un nome per ogni istanza dell'applicazione hello distribuito.</span><span class="sxs-lookup"><span data-stu-id="d7304-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="d7304-141">Una funzionalità di poco noti ma molto pratico degli ambienti del servizio App è tale hello stesso nome di app può essere utilizzato in diversi ambienti di servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="d7304-142">Poiché ogni ambiente del servizio App ha un suffisso di dominio univoci, gli sviluppatori possono scegliere toore utilizzare hello esatto nome di un'app in ogni ambiente.</span><span class="sxs-lookup"><span data-stu-id="d7304-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="d7304-143">Ad esempio, uno sviluppatore può avere app denominate come segue: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net* e così via.  Per app di esempio hello anche se ogni istanza di applicazione ha anche un nome univoco.</span><span class="sxs-lookup"><span data-stu-id="d7304-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="d7304-144">Hello app istanza nomi utilizzati sono *webfrontend1*, *webfrontend2*, e *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="d7304-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="d7304-145">Impostazione di hello profilo di gestione traffico</span><span class="sxs-lookup"><span data-stu-id="d7304-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="d7304-146">Una volta distribuite più istanze di un'applicazione in più ambienti di servizio App, è possibile che istanze singole app hello possono essere registrate con gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="d7304-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="d7304-147">Per app di esempio hello una gestione traffico profilo è necessaria per *scalabile di ase demo.trafficmanager.net* che può indirizzare i clienti tooany di hello seguente distribuito app istanze:</span><span class="sxs-lookup"><span data-stu-id="d7304-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="d7304-148">**webfrontend1.fe1ase.p.azurewebsites.NET:** un'istanza distribuita in app di esempio hello hello prima dell'ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="d7304-149">**webfrontend2.fe2ase.p.azurewebsites.NET:** un'istanza distribuita in app di esempio hello hello secondo ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="d7304-150">**webfrontend3.fe3ase.p.azurewebsites.NET:** un'istanza distribuita in app di esempio hello hello terzo ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="d7304-151">Hello tooregister modo più semplice di più endpoint di servizio App di Azure, tutti in esecuzione in hello **stesso** area di Azure, è con Powershell hello [il supporto di gestione traffico di Azure Resource Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="d7304-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="d7304-152">primo passaggio Hello è toocreate un profilo di Traffic Manager di Azure.</span><span class="sxs-lookup"><span data-stu-id="d7304-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="d7304-153">codice Hello riportato di seguito viene illustrato come profilo hello è stato creato per app di esempio hello:</span><span class="sxs-lookup"><span data-stu-id="d7304-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="d7304-154">Si noti come hello *RelativeDnsName* parametro è stato impostato troppo*scalabile di ase demo*.</span><span class="sxs-lookup"><span data-stu-id="d7304-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="d7304-155">Questo è hello come nome di dominio *scalabile di ase demo.trafficmanager.net* viene creato e associato a un profilo di Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="d7304-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="d7304-156">Hello *TrafficRoutingMethod* parametro definisce criteri di gestione traffico verrà utilizzato come il carico tra tutti gli endpoint disponibili hello cliente toospread toodetermine di bilanciamento del carico di hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="d7304-157">In questo hello esempio *Weighted* è stato scelto il metodo.</span><span class="sxs-lookup"><span data-stu-id="d7304-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="d7304-158">Questo comporterà essere disseminate in tutti gli endpoint di applicazione hello registrato basati sui relativi pesi hello associati a ogni endpoint le richieste dei clienti.</span><span class="sxs-lookup"><span data-stu-id="d7304-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="d7304-159">Profilo hello creato, ogni istanza di applicazione viene aggiunto toohello profilo come un endpoint di Azure nativo.</span><span class="sxs-lookup"><span data-stu-id="d7304-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="d7304-160">Recupera un'app web front-end di riferimento tooeach codice Hello seguente e quindi aggiunge ogni app come un endpoint di gestione traffico mediante hello *ID risorsa di destinazione* parametro.</span><span class="sxs-lookup"><span data-stu-id="d7304-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="d7304-161">Si noti come non esiste un'unica chiamata troppo*Aggiungi AzureTrafficManagerEndpointConfig* per ogni istanza di singole app.</span><span class="sxs-lookup"><span data-stu-id="d7304-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="d7304-162">Hello *ID risorsa di destinazione* parametro in ogni comando di Powershell fa riferimento a uno dei tre istanze di app distribuita hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="d7304-163">profilo di gestione traffico Hello verrà esteso carico tra tutte e tre gli endpoint registrati nel profilo hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="d7304-164">Tutti e tre gli endpoint utilizzano hello hello stesso valore (10) per hello *peso* parametro.</span><span class="sxs-lookup"><span data-stu-id="d7304-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="d7304-165">Gestione traffico distribuirà quindi le richieste dei clienti tra tutte e tre le istanze dell'app in modo relativamente uniforme.</span><span class="sxs-lookup"><span data-stu-id="d7304-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="d7304-166">Dominio dell'applicazione hello puntamento personalizzata hello dominio di Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="d7304-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="d7304-167">passaggio finale Hello necessario è dominio personalizzato di hello toopoint dell'app hello al dominio di Traffic Manager hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="d7304-168">Per app di esempio hello ciò significa che punta *www.scalableasedemo.com* in *scalabile di ase demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="d7304-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="d7304-169">Questo passaggio è necessario toobe completato con il registrar hello che gestisce dominio personalizzato hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="d7304-170">Utilizzando gli strumenti di gestione del dominio del proprio registrar, un toobe esigenze di record CNAME che punti hello il dominio personalizzato creato nel dominio di Traffic Manager hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="d7304-171">immagine di Hello riportata di seguito viene illustrato un esempio di questa configurazione di CNAME l'aspetto seguente:</span><span class="sxs-lookup"><span data-stu-id="d7304-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![CNAME per il dominio personalizzato][CNAMEforCustomDomain] 

<span data-ttu-id="d7304-173">Anche se non trattate in questo argomento, tenere presente che ogni istanza di singole app deve dominio personalizzato hello toohave registrato anche con esso.</span><span class="sxs-lookup"><span data-stu-id="d7304-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="d7304-174">In caso contrario istanza app tooan rende una richiesta, se un'applicazione hello non dispone di hello di dominio personalizzato registrato con l'applicazione hello, hello richiesta avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="d7304-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="d7304-175">In questo hello esempio dominio personalizzato è *www.scalableasedemo.com*, e ogni istanza dell'applicazione dispone di dominio personalizzato di hello è associato.</span><span class="sxs-lookup"><span data-stu-id="d7304-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Dominio personalizzato][CustomDomain] 

<span data-ttu-id="d7304-177">Per un riepilogo della registrazione di un dominio personalizzato con le applicazioni di servizio App di Azure, vedere l'articolo seguente hello [registrazione domini personalizzati][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="d7304-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="d7304-178">Provare a hello topologia distribuita</span><span class="sxs-lookup"><span data-stu-id="d7304-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="d7304-179">Hello risultato finale della configurazione di DNS e di gestione traffico hello è che le richieste di *www.scalableasedemo.com* passeranno attraverso hello seguente sequenza:</span><span class="sxs-lookup"><span data-stu-id="d7304-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="d7304-180">Un browser o un dispositivo esegue una ricerca DNS di *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="d7304-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="d7304-181">Hello voce CNAME presso il registrar di dominio hello causa hello DNS ricerca toobe reindirizzato tooAzure Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="d7304-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="d7304-182">Viene effettuata una ricerca DNS per *scalabile di ase demo.trafficmanager.net* su uno dei server DNS di Traffic Manager di Azure di hello.</span><span class="sxs-lookup"><span data-stu-id="d7304-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="d7304-183">In base al criterio di bilanciamento del carico di hello (hello *TrafficRoutingMethod* parametro utilizzato in precedenza, quando si crea il profilo di Traffic Manager hello), gestione traffico verrà selezionare una delle hello configurato gli endpoint e restituire hello FQDN di tale endpoint toohello browser o nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d7304-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="d7304-184">Poiché hello FQDN dell'endpoint hello hello Url di un'istanza di applicazione in esecuzione in un ambiente del servizio App, hello browser o nel dispositivo verrà richiesto un server DNS di Microsoft Azure hello tooresolve l'indirizzo IP tooan FQDN.</span><span class="sxs-lookup"><span data-stu-id="d7304-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="d7304-185">dispositivo o browser Hello invierà l'indirizzo IP hello HTTP/S richiesta toohello.</span><span class="sxs-lookup"><span data-stu-id="d7304-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="d7304-186">richiesta di Hello arriverà a una delle istanze di hello app in esecuzione in uno di hello gli ambienti del servizio App.</span><span class="sxs-lookup"><span data-stu-id="d7304-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="d7304-187">Hello immagine console seguente viene illustrata una ricerca DNS per dominio personalizzato correttamente risoluzione tooan app istanza dell'app di esempio hello in esecuzione in uno di: esempio hello e tre gli ambienti del servizio App (in questo caso hello secondo di hello e tre gli ambienti del servizio App):</span><span class="sxs-lookup"><span data-stu-id="d7304-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![Ricerca DNS][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="d7304-189">Informazioni e collegamenti aggiuntivi</span><span class="sxs-lookup"><span data-stu-id="d7304-189">Additional Links and Information</span></span>
<span data-ttu-id="d7304-190">Tutti gli articoli e in che modo-per per gli ambienti del servizio App sono disponibili in hello [file Leggimi per gli ambienti del servizio dell'applicazione](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="d7304-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="d7304-191">Documentazione su hello Powershell [il supporto di gestione traffico di Azure Resource Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="d7304-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
