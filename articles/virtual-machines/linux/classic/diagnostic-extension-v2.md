---
title: una VM Linux con un'estensione VM aaaMonitoring | Documenti Microsoft
description: Informazioni su come toouse hello estensione diagnostica per Linux toomonitor hello dati sulle prestazioni e diagnostica di una VM Linux di Azure.
services: virtual-machines-linux
author: NingKuang
manager: timlt
editor: 
tags: azure-service-management
ms.assetid: f54a11c5-5a0e-40ff-af6c-e60bd464058b
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 12/15/2015
ms.author: Ning
ms.openlocfilehash: cf7bfebca8c0367941f7a975417f60fe2e2dab25
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="use-hello-linux-diagnostic-extension-toomonitor-hello-performance-and-diagnostic-data-of-a-linux-vm"></a><span data-ttu-id="93d18-103">Utilizzare hello estensione diagnostica per Linux toomonitor hello dati sulle prestazioni e diagnostica di una VM Linux</span><span class="sxs-lookup"><span data-stu-id="93d18-103">Use hello Linux Diagnostic Extension toomonitor hello performance and diagnostic data of a Linux VM</span></span>

<span data-ttu-id="93d18-104">Questo documento descrive versione 2.3 di hello estensione diagnostica per Linux.</span><span class="sxs-lookup"><span data-stu-id="93d18-104">This document describes version 2.3 of hello Linux Diagnostic Extension.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="93d18-105">Questa versione è deprecata e la sua pubblicazione potrebbe essere annullata a partire dal 30 giugno 2018.</span><span class="sxs-lookup"><span data-stu-id="93d18-105">This version is deprecated, and it may be unpublished any time after June 30, 2018.</span></span> <span data-ttu-id="93d18-106">È stata sostituita dalla versione 3.0.</span><span class="sxs-lookup"><span data-stu-id="93d18-106">It has been replaced by version 3.0.</span></span> <span data-ttu-id="93d18-107">Per ulteriori informazioni, vedere hello [documentazione per la versione 3.0 di hello estensione diagnostica per Linux](../diagnostic-extension.md).</span><span class="sxs-lookup"><span data-stu-id="93d18-107">For more information, see hello [documentation for version 3.0 of hello Linux Diagnostic Extension](../diagnostic-extension.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="93d18-108">Introduzione</span><span class="sxs-lookup"><span data-stu-id="93d18-108">Introduction</span></span>

<span data-ttu-id="93d18-109">(**Nota**: hello estensione diagnostica per Linux è open source in [GitHub](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) in cui le informazioni più recenti hello sull'estensione hello prima pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="93d18-109">(**Note**: hello Linux Diagnostic Extension is open-sourced on [GitHub](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) where hello most current information on hello extension is first published.</span></span> <span data-ttu-id="93d18-110">Potrebbe essere necessario hello toocheck [pagina GitHub](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) prima.)</span><span class="sxs-lookup"><span data-stu-id="93d18-110">You might want toocheck hello [GitHub page](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) first.)</span></span>

<span data-ttu-id="93d18-111">Estensione diagnostica per Linux Hello consente un hello monitoraggio utente macchine virtuali Linux in esecuzione in Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-111">hello Linux Diagnostic Extension helps a user monitor hello Linux VMs that are running on Microsoft Azure.</span></span> <span data-ttu-id="93d18-112">Dispone di hello seguenti funzionalità:</span><span class="sxs-lookup"><span data-stu-id="93d18-112">It has hello following capabilities:</span></span>

* <span data-ttu-id="93d18-113">Raccoglie e carica informazioni sulle prestazioni di sistema hello dalla tabella di archiviazione dell'utente di hello VM Linux toohello, incluse informazioni di diagnostica e syslog.</span><span class="sxs-lookup"><span data-stu-id="93d18-113">Collects and uploads hello system performance information from hello Linux VM toohello user's storage table, including diagnostic and syslog information.</span></span>
* <span data-ttu-id="93d18-114">Consente la metrica utenti toocustomize hello dati che verrà raccolti e caricata.</span><span class="sxs-lookup"><span data-stu-id="93d18-114">Enables users toocustomize hello data metrics that will be collected and uploaded.</span></span>
* <span data-ttu-id="93d18-115">Consente agli utenti tooupload log specificato file tooa designato archiviazione tabella.</span><span class="sxs-lookup"><span data-stu-id="93d18-115">Enables users tooupload specified log files tooa designated storage table.</span></span>

<span data-ttu-id="93d18-116">Nella versione corrente di hello 2.3, i dati di hello includono:</span><span class="sxs-lookup"><span data-stu-id="93d18-116">In hello current version 2.3, hello data includes:</span></span>

* <span data-ttu-id="93d18-117">Tutti i log Rsyslog Linux, inclusi i log di sistema, sicurezza e applicazioni.</span><span class="sxs-lookup"><span data-stu-id="93d18-117">All Linux Rsyslog logs, including system, security, and application logs.</span></span>
* <span data-ttu-id="93d18-118">Tutti i dati di sistema specificata in [sito soluzioni piattaforma incrociata di System Center hello](https://scx.codeplex.com/wikipage?title=xplatproviders).</span><span class="sxs-lookup"><span data-stu-id="93d18-118">All system data that's specified on [hello System Center Cross Platform Solutions site](https://scx.codeplex.com/wikipage?title=xplatproviders).</span></span>
* <span data-ttu-id="93d18-119">I file di log specificati dall'utente.</span><span class="sxs-lookup"><span data-stu-id="93d18-119">User-specified log files.</span></span>

<span data-ttu-id="93d18-120">Questa estensione funziona con hello classic e modelli di distribuzione di gestione risorse.</span><span class="sxs-lookup"><span data-stu-id="93d18-120">This extension works with both hello classic and Resource Manager deployment models.</span></span>

### <a name="current-version-of-hello-extension-and-deprecation-of-old-versions"></a><span data-ttu-id="93d18-121">Versione corrente dell'estensione hello e rimozione di versioni precedenti</span><span class="sxs-lookup"><span data-stu-id="93d18-121">Current version of hello extension and deprecation of old versions</span></span>

<span data-ttu-id="93d18-122">Hello la versione più recente dell'estensione hello è **2.3**, e **le versioni precedenti (2.0, 2.1 e 2.2) verranno deprecate e non pubblicate dalla fine dell'anno (2017)**.</span><span class="sxs-lookup"><span data-stu-id="93d18-122">hello latest version of hello extension is **2.3**, and **any old versions (2.0, 2.1, and 2.2) will be deprecated and unpublished by end of this year (2017)**.</span></span> <span data-ttu-id="93d18-123">Se è stato installato con l'aggiornamento automatico di versione secondaria disabilitata hello estensione diagnostica di Linux, è consigliabile disinstallare l'estensione hello e reinstallarlo con l'aggiornamento di versione secondaria automatico abilitato.</span><span class="sxs-lookup"><span data-stu-id="93d18-123">If you installed hello Linux Diagnostic extension with automatic minor version upgrade disabled, it's strongly recommended that you uninstall hello extension and reinstall it with automatic minor version upgrade enabled.</span></span> <span data-ttu-id="93d18-124">In classico (ASM) di macchine virtuali, è possibile ottenere specificando '2.*' come versione di hello, se si sta installando l'estensione hello tramite Azure XPLAT CLI o Powershell.</span><span class="sxs-lookup"><span data-stu-id="93d18-124">On classic (ASM) VMs, you can achieve this by specifying '2.*' as hello version if you are installing hello extension through Azure XPLAT CLI or Powershell.</span></span> <span data-ttu-id="93d18-125">Nelle macchine virtuali ARM, è possibile ottenere questo includendo ' "autoUpgradeMinorVersion": true' nel modello di distribuzione VM hello.</span><span class="sxs-lookup"><span data-stu-id="93d18-125">On ARM VMs, you can achieve this by including '"autoUpgradeMinorVersion": true' in hello VM deployment template.</span></span> <span data-ttu-id="93d18-126">Qualsiasi nuova installazione dell'estensione di hello, inoltre, deve avere una versione secondaria di hello automatica aggiornare l'opzione è attivata.</span><span class="sxs-lookup"><span data-stu-id="93d18-126">Also, any new installation of hello extension should have hello auto minor version upgrade option turned on.</span></span>

## <a name="enable-hello-extension"></a><span data-ttu-id="93d18-127">Abilitare l'estensione hello</span><span class="sxs-lookup"><span data-stu-id="93d18-127">Enable hello extension</span></span>

<span data-ttu-id="93d18-128">È possibile abilitare questa estensione utilizzando hello [portale di Azure](https://portal.azure.com/#), Azure PowerShell o script CLI di Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-128">You can enable this extension by using hello [Azure portal](https://portal.azure.com/#), Azure PowerShell, or Azure CLI scripts.</span></span>

<span data-ttu-id="93d18-129">tooview e configurare il sistema hello e seguono i dati sulle prestazioni direttamente dal portale di Azure hello, [questi passaggi nel blog di Azure hello](https://azure.microsoft.com/en-us/blog/windows-azure-virtual-machine-monitoring-with-wad-extension/).</span><span class="sxs-lookup"><span data-stu-id="93d18-129">tooview and configure hello system and performance data directly from hello Azure portal, follow [these steps on hello Azure blog](https://azure.microsoft.com/en-us/blog/windows-azure-virtual-machine-monitoring-with-wad-extension/).</span></span>

<span data-ttu-id="93d18-130">Questo articolo è incentrato sulla tooenable e configurare l'estensione hello utilizzando i comandi CLI di Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-130">This article focuses on how tooenable and configure hello extension by using Azure CLI commands.</span></span> <span data-ttu-id="93d18-131">In questo modo tooread e visualizzare i dati hello direttamente dalla tabella di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="93d18-131">This allows you tooread and view hello data directly from hello storage table.</span></span>

<span data-ttu-id="93d18-132">Si noti che i metodi di configurazione hello descritte di seguito non funzioneranno per hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-132">Note that hello configuration methods that are described here won't work for hello Azure portal.</span></span> <span data-ttu-id="93d18-133">tooview e configurare i dati di sistema e delle prestazioni hello direttamente dal portale di Azure hello, hello estensione deve essere abilitata tramite il portale di hello.</span><span class="sxs-lookup"><span data-stu-id="93d18-133">tooview and configure hello system and performance data directly from hello Azure portal, hello extension must be enabled through hello portal.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="93d18-134">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="93d18-134">Prerequisites</span></span>

* <span data-ttu-id="93d18-135">**Agente Linux di Azure 2.0.6 o versione successiva**.</span><span class="sxs-lookup"><span data-stu-id="93d18-135">**Azure Linux Agent version 2.0.6 or later**.</span></span>

  <span data-ttu-id="93d18-136">Si noti che la maggior parte delle immagini della raccolta Linux di macchine virtuali di Azure include la versione 2.0.6 o successive.</span><span class="sxs-lookup"><span data-stu-id="93d18-136">Note that most Azure VM Linux gallery images include version 2.0.6 or later.</span></span> <span data-ttu-id="93d18-137">È possibile eseguire **WAAgent-versione** tooconfirm quale versione è installata nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="93d18-137">You can run **WAAgent -version** tooconfirm which version is installed on hello VM.</span></span> <span data-ttu-id="93d18-138">Se hello macchina virtuale è in esecuzione una versione precedente a 2.0.6, è possibile seguire [queste istruzioni in GitHub](https://github.com/Azure/WALinuxAgent "istruzioni") tooupdate è.</span><span class="sxs-lookup"><span data-stu-id="93d18-138">If hello VM is running a version that's earlier than 2.0.6, you can follow [these instructions on GitHub](https://github.com/Azure/WALinuxAgent "instructions") tooupdate it.</span></span>
* <span data-ttu-id="93d18-139">**Interfaccia della riga di comando di Azure**.</span><span class="sxs-lookup"><span data-stu-id="93d18-139">**Azure CLI**.</span></span> <span data-ttu-id="93d18-140">Seguire [queste linee guida per l'installazione di CLI](../../../cli-install-nodejs.md) tooset ambiente Azure CLI hello nel computer.</span><span class="sxs-lookup"><span data-stu-id="93d18-140">Follow [this guidance for installing CLI](../../../cli-install-nodejs.md) tooset up hello Azure CLI environment on your machine.</span></span> <span data-ttu-id="93d18-141">Dopo aver installato CLI di Azure, è possibile utilizzare hello **azure** comando l'interfaccia della riga di comando (Bash Terminal comandi o il prompt dei comandi) tooaccess hello CLI di Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-141">After Azure CLI is installed, you can use hello **azure** command from your command-line interface (Bash, Terminal, or command prompt) tooaccess hello Azure CLI commands.</span></span> <span data-ttu-id="93d18-142">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="93d18-142">For example:</span></span>

  * <span data-ttu-id="93d18-143">Eseguire **azure vm extension set --help** per informazioni della Guida dettagliate.</span><span class="sxs-lookup"><span data-stu-id="93d18-143">Run **azure vm extension set --help** for detailed help information.</span></span>
  * <span data-ttu-id="93d18-144">Eseguire **accesso di azure** toosign in tooAzure.</span><span class="sxs-lookup"><span data-stu-id="93d18-144">Run **azure login** toosign in tooAzure.</span></span>
  * <span data-ttu-id="93d18-145">Eseguire **elenco di macchine virtuali di azure** toolist tutti hello macchine virtuali che presentano in Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-145">Run **azure vm list** toolist all hello virtual machines that you have on Azure.</span></span>
* <span data-ttu-id="93d18-146">Oggetto dati di hello toostore account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93d18-146">A storage account toostore hello data.</span></span> <span data-ttu-id="93d18-147">È necessario un nome di account di archiviazione creato in precedenza e un archivio di tooyour accesso tooupload chiave hello dati.</span><span class="sxs-lookup"><span data-stu-id="93d18-147">You will need a storage account name that was created previously and an access key tooupload hello data tooyour storage.</span></span>

## <a name="use-hello-azure-cli-command-tooenable-hello-linux-diagnostic-extension"></a><span data-ttu-id="93d18-148">Utilizzare hello tooenable di comando CLI di Azure hello estensione diagnostica per Linux</span><span class="sxs-lookup"><span data-stu-id="93d18-148">Use hello Azure CLI command tooenable hello Linux Diagnostic Extension</span></span>

### <a name="scenario-1-enable-hello-extension-with-hello-default-data-set"></a><span data-ttu-id="93d18-149">Scenario 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-149">Scenario 1.</span></span> <span data-ttu-id="93d18-150">Abilitare l'estensione hello hello set di dati predefinito</span><span class="sxs-lookup"><span data-stu-id="93d18-150">Enable hello extension with hello default data set</span></span>

<span data-ttu-id="93d18-151">Nella versione 2.3 o versioni successive, hello predefinito dati verranno raccolti includono:</span><span class="sxs-lookup"><span data-stu-id="93d18-151">In version 2.3 or later, hello default data that will be collected includes:</span></span>

* <span data-ttu-id="93d18-152">Tutte le informazioni Rsyslog (inclusi i log di sistema, sicurezza e applicazioni).</span><span class="sxs-lookup"><span data-stu-id="93d18-152">All Rsyslog information (including system, security, and application logs).</span></span>  
* <span data-ttu-id="93d18-153">Un set principale di dati di sistema di base.</span><span class="sxs-lookup"><span data-stu-id="93d18-153">A core set of basis system data.</span></span> <span data-ttu-id="93d18-154">Si noti che i set di dati completo hello sono descritta in hello [sito soluzioni piattaforma incrociata di System Center](https://scx.codeplex.com/wikipage?title=xplatproviders).</span><span class="sxs-lookup"><span data-stu-id="93d18-154">Note that hello full data set is described on hello [System Center Cross Platform Solutions site](https://scx.codeplex.com/wikipage?title=xplatproviders).</span></span>
  <span data-ttu-id="93d18-155">Se si desidera tooenable dati aggiuntivi, continuare con i passaggi di hello in scenari di 2 e 3.</span><span class="sxs-lookup"><span data-stu-id="93d18-155">If you want tooenable extra data, continue with hello steps in Scenarios 2 and 3.</span></span>

<span data-ttu-id="93d18-156">Passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-156">Step 1.</span></span> <span data-ttu-id="93d18-157">Creare un file denominato Privateconfig con hello seguente contenuto:</span><span class="sxs-lookup"><span data-stu-id="93d18-157">Create a file named PrivateConfig.json with hello following content:</span></span>

    {
        "storageAccountName" : "hello storage account tooreceive data",
        "storageAccountKey" : "hello key of hello account"
    }

<span data-ttu-id="93d18-158">Passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="93d18-158">Step 2.</span></span> <span data-ttu-id="93d18-159">Eseguire **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions 2.* --private-config-path PrivateConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="93d18-159">Run **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions 2.* --private-config-path PrivateConfig.json**.</span></span>

### <a name="scenario-2-customize-hello-performance-monitor-metrics"></a><span data-ttu-id="93d18-160">Scenario 2.</span><span class="sxs-lookup"><span data-stu-id="93d18-160">Scenario 2.</span></span> <span data-ttu-id="93d18-161">Personalizzare le metriche di monitoraggio delle prestazioni di hello</span><span class="sxs-lookup"><span data-stu-id="93d18-161">Customize hello performance monitor metrics</span></span>

<span data-ttu-id="93d18-162">In questa sezione viene descritto come toocustomize hello prestazioni e la tabella di dati di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="93d18-162">This section describes how toocustomize hello performance and diagnostic data table.</span></span>

<span data-ttu-id="93d18-163">Passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-163">Step 1.</span></span> <span data-ttu-id="93d18-164">Creare un file denominato Privateconfig con contenuto hello descritto nello Scenario 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-164">Create a file named PrivateConfig.json with hello content that was described in Scenario 1.</span></span> <span data-ttu-id="93d18-165">Creare anche un file denominato PublicConfig.json.</span><span class="sxs-lookup"><span data-stu-id="93d18-165">Also create a file named PublicConfig.json.</span></span> <span data-ttu-id="93d18-166">Specificare i dati di particolare hello desiderati toocollect.</span><span class="sxs-lookup"><span data-stu-id="93d18-166">Specify hello particular data you want toocollect.</span></span>

<span data-ttu-id="93d18-167">Per tutte supportate dei provider e le variabili, fare riferimento a hello [sito soluzioni piattaforma incrociata di System Center](https://scx.codeplex.com/wikipage?title=xplatproviders).</span><span class="sxs-lookup"><span data-stu-id="93d18-167">For all supported providers and variables, reference hello [System Center Cross Platform Solutions site](https://scx.codeplex.com/wikipage?title=xplatproviders).</span></span> <span data-ttu-id="93d18-168">È possibile avere più query e archiviarli in più tabelle aggiungendo più script toohello di query.</span><span class="sxs-lookup"><span data-stu-id="93d18-168">You can have multiple queries and store them in multiple tables by appending more queries toohello script.</span></span>

<span data-ttu-id="93d18-169">Per impostazione predefinita, hello Rsyslog dati verrà sempre raccolti.</span><span class="sxs-lookup"><span data-stu-id="93d18-169">By default, hello Rsyslog data is always collected.</span></span>

    {
          "perfCfg":
          [
              {
                  "query" : "SELECT PercentAvailableMemory, AvailableMemory, UsedMemory ,PercentUsedSwap FROM SCX_MemoryStatisticalInformation",
                  "table" : "LinuxMemory"
              }
          ]
    }


<span data-ttu-id="93d18-170">Passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="93d18-170">Step 2.</span></span> <span data-ttu-id="93d18-171">Eseguire **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="93d18-171">Run **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span></span>

### <a name="scenario-3-upload-your-own-log-files"></a><span data-ttu-id="93d18-172">Scenario 3.</span><span class="sxs-lookup"><span data-stu-id="93d18-172">Scenario 3.</span></span> <span data-ttu-id="93d18-173">Caricamento dei propri file di log</span><span class="sxs-lookup"><span data-stu-id="93d18-173">Upload your own log files</span></span>

<span data-ttu-id="93d18-174">In questa sezione viene descritto come toocollect e il caricamento dei log specifici file tooyour account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93d18-174">This section describes how toocollect and upload specific log files tooyour storage account.</span></span> <span data-ttu-id="93d18-175">È necessario toospecify entrambi hello percorso tooyour log hello nome del file e della tabella hello in cui si desidera toostore il log.</span><span class="sxs-lookup"><span data-stu-id="93d18-175">You need toospecify both hello path tooyour log file and hello name of hello table where you want toostore your log.</span></span> <span data-ttu-id="93d18-176">È possibile creare più file di log aggiungendo più script toohello voci di file o tabella.</span><span class="sxs-lookup"><span data-stu-id="93d18-176">You can create multiple log files by adding multiple file/table entries toohello script.</span></span>

<span data-ttu-id="93d18-177">Passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-177">Step 1.</span></span> <span data-ttu-id="93d18-178">Creare un file denominato Privateconfig con contenuto hello descritto nello Scenario 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-178">Create a file named PrivateConfig.json with hello content that was described in Scenario 1.</span></span> <span data-ttu-id="93d18-179">Quindi creare un altro file denominato PublicConfig.json con hello seguente contenuto:</span><span class="sxs-lookup"><span data-stu-id="93d18-179">Then create another file named PublicConfig.json with hello following content:</span></span>

```json
{
    "fileCfg" :
    [
        {
            "file" : "/var/log/mysql.err",
            "table" : "mysqlerr"
            }
    ]
}
```

<span data-ttu-id="93d18-180">Passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="93d18-180">Step 2.</span></span> <span data-ttu-id="93d18-181">Eseguire `azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json`.</span><span class="sxs-lookup"><span data-stu-id="93d18-181">Run `azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json`.</span></span>

<span data-ttu-id="93d18-182">Si noti che con questa impostazione su versioni estensione hello too2.3 precedenti, tutti i log scritti troppo`/var/log/mysql.err` potrebbero essere duplicati troppo`/var/log/syslog` (o `/var/log/messages` a seconda della distribuzione di Linux hello) nonché.</span><span class="sxs-lookup"><span data-stu-id="93d18-182">Note that with this setting on hello extension versions prior too2.3, all logs written too`/var/log/mysql.err` might be duplicated too`/var/log/syslog` (or `/var/log/messages` depending on hello Linux distro) as well.</span></span> <span data-ttu-id="93d18-183">Se si desidera tooavoid il duplicato di registrazione, è possibile escludere la registrazione di `local6` funzionalità Registra nella configurazione rsyslog.</span><span class="sxs-lookup"><span data-stu-id="93d18-183">If you'd like tooavoid this duplicate logging, you can exclude logging of `local6` facility logs in your rsyslog configuration.</span></span> <span data-ttu-id="93d18-184">Distribuzione di Linux hello dipende, ma in un sistema, Ubuntu 14.04 toomodify file hello è `/etc/rsyslog.d/50-default.conf` è possibile sostituire la riga hello `*.*;auth,authpriv.none -/var/log/syslog` troppo`*.*;auth,authpriv,local6.none -/var/log/syslog`.</span><span class="sxs-lookup"><span data-stu-id="93d18-184">It depends on hello Linux distro, but on an Ubuntu 14.04 system, hello file toomodify is `/etc/rsyslog.d/50-default.conf` and you can replace hello line `*.*;auth,authpriv.none -/var/log/syslog` too`*.*;auth,authpriv,local6.none -/var/log/syslog`.</span></span> <span data-ttu-id="93d18-185">Il problema viene risolto nella versione hotfix più recente di hello di 2.3 (2.3.9007), pertanto se si dispone di estensione hello versione 2.3, il problema non dovrebbe verificarsi.</span><span class="sxs-lookup"><span data-stu-id="93d18-185">This issue is fixed in hello latest hotfix release of 2.3 (2.3.9007), so if you have hello extension version 2.3, this issue should not happen.</span></span> <span data-ttu-id="93d18-186">Se continua a non anche dopo il riavvio della macchina virtuale, contattare Microsoft e contribuire a risolvere il motivo per cui hello hotfix più recente non viene installato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="93d18-186">If it still does even after restarting your VM, please contact us and help us troubleshoot why hello latest hotfix version is not installed automatically.</span></span>

### <a name="scenario-4-stop-hello-extension-from-collecting-any-logs"></a><span data-ttu-id="93d18-187">Scenario 4.</span><span class="sxs-lookup"><span data-stu-id="93d18-187">Scenario 4.</span></span> <span data-ttu-id="93d18-188">Estensione hello di raccogliere i registri di arresto</span><span class="sxs-lookup"><span data-stu-id="93d18-188">Stop hello extension from collecting any logs</span></span>

<span data-ttu-id="93d18-189">In questa sezione viene descritto come estensione di hello toostop dalla raccolta di log.</span><span class="sxs-lookup"><span data-stu-id="93d18-189">This section describes how toostop hello extension from collecting logs.</span></span> <span data-ttu-id="93d18-190">Si noti che hello processo dell'agente di monitoraggio sarà ancora in esecuzione anche con la riconfigurazione.</span><span class="sxs-lookup"><span data-stu-id="93d18-190">Note that hello monitoring agent process will be still up and running even with this reconfiguration.</span></span> <span data-ttu-id="93d18-191">Se si desidera hello toostop completamente il processo dell'agente di monitoraggio, è possibile farlo tramite la disabilitazione di estensione hello.</span><span class="sxs-lookup"><span data-stu-id="93d18-191">If you'd like toostop hello monitoring agent process completely, you can do so by disabling hello extension.</span></span> <span data-ttu-id="93d18-192">estensione di hello toodisable comando Hello è `azure vm extension set --disable <vm_name> LinuxDiagnostic Microsoft.OSTCExtensions '2.*'`.</span><span class="sxs-lookup"><span data-stu-id="93d18-192">hello command toodisable hello extension is `azure vm extension set --disable <vm_name> LinuxDiagnostic Microsoft.OSTCExtensions '2.*'`.</span></span>

<span data-ttu-id="93d18-193">Passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-193">Step 1.</span></span> <span data-ttu-id="93d18-194">Creare un file denominato Privateconfig con contenuto hello descritto nello Scenario 1.</span><span class="sxs-lookup"><span data-stu-id="93d18-194">Create a file named PrivateConfig.json with hello content that was described in Scenario 1.</span></span> <span data-ttu-id="93d18-195">Creare un altro file denominato PublicConfig.json con hello seguente contenuto:</span><span class="sxs-lookup"><span data-stu-id="93d18-195">Create another file named PublicConfig.json with hello following content:</span></span>

    {
        "perfCfg" : [],
        "enableSyslog" : "false"
    }


<span data-ttu-id="93d18-196">Passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="93d18-196">Step 2.</span></span> <span data-ttu-id="93d18-197">Eseguire **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="93d18-197">Run **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span></span>

## <a name="review-your-data"></a><span data-ttu-id="93d18-198">Esaminare i dati</span><span class="sxs-lookup"><span data-stu-id="93d18-198">Review your data</span></span>

<span data-ttu-id="93d18-199">Hello dati sulle prestazioni e diagnostica vengono archiviati in una tabella di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-199">hello performance and diagnostic data are stored in an Azure Storage table.</span></span> <span data-ttu-id="93d18-200">Revisione [come toouse archiviazione tabelle di Azure da Ruby](../../../cosmos-db/table-storage-how-to-use-ruby.md) toolearn come tabella di dati hello tooaccess nel servizio di archiviazione hello utilizzando gli script di CLI di Azure.</span><span class="sxs-lookup"><span data-stu-id="93d18-200">Review [How toouse Azure Table Storage from Ruby](../../../cosmos-db/table-storage-how-to-use-ruby.md) toolearn how tooaccess hello data in hello storage table by using Azure CLI scripts.</span></span>

<span data-ttu-id="93d18-201">Inoltre, è possibile utilizzare dati di hello tooaccess strumenti dell'interfaccia utente descritti di seguito:</span><span class="sxs-lookup"><span data-stu-id="93d18-201">In addition, you can use following UI tools tooaccess hello data:</span></span>

1. <span data-ttu-id="93d18-202">Esplora server di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93d18-202">Visual Studio Server Explorer.</span></span> <span data-ttu-id="93d18-203">Passare tooyour account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="93d18-203">Go tooyour storage account.</span></span> <span data-ttu-id="93d18-204">Dopo l'esecuzione di hello VM per circa cinque minuti, si noterà tabelle predefinite hello quattro: "LinuxCpu", "LinuxDisk", "LinuxMemory" e "Linuxsyslog".</span><span class="sxs-lookup"><span data-stu-id="93d18-204">After hello VM runs for about five minutes, you'll see hello four default tables: “LinuxCpu”, ”LinuxDisk”, ”LinuxMemory”, and ”Linuxsyslog”.</span></span> <span data-ttu-id="93d18-205">Fare doppio clic su dati hello tooview nomi della tabella hello.</span><span class="sxs-lookup"><span data-stu-id="93d18-205">Double-click hello table names tooview hello data.</span></span>
1. <span data-ttu-id="93d18-206">[Esplora archivi di Azure](https://azurestorageexplorer.codeplex.com/ "Esplora archivi di Azure").</span><span class="sxs-lookup"><span data-stu-id="93d18-206">[Azure Storage Explorer](https://azurestorageexplorer.codeplex.com/ "Azure Storage Explorer").</span></span>

![immagine](./media/diagnostic-extension/no1.png)

<span data-ttu-id="93d18-208">Se è stata abilitata fileCfg o perfCfg (come descritto in scenari di 2 e 3), è possibile utilizzare i dati non predefinita di tooview Esplora Server Visual Studio e Azure Storage Explorer.</span><span class="sxs-lookup"><span data-stu-id="93d18-208">If you've enabled fileCfg or perfCfg (as described in Scenarios 2 and 3), you can use Visual Studio Server Explorer and Azure Storage Explorer tooview non-default data.</span></span>

## <a name="known-issues"></a><span data-ttu-id="93d18-209">Problemi noti</span><span class="sxs-lookup"><span data-stu-id="93d18-209">Known issues</span></span>

* <span data-ttu-id="93d18-210">Hello Rsyslog informazioni e file di log specificato dal cliente è accessibile solo tramite script.</span><span class="sxs-lookup"><span data-stu-id="93d18-210">hello Rsyslog information and customer-specified log file can only be accessed via scripting.</span></span>
