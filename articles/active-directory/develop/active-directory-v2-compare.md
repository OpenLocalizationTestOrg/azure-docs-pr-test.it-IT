---
title: "aaaWhat è diverso in endpoint v 2.0 di Azure AD hello? | Microsoft Docs"
description: Un confronto tra hello originale Azure AD e gli endpoint di hello v 2.0.
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: e7ed196f9053fc21db799cd6bc513ba5c2b92885
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="whats-different-about-hello-v20-endpoint"></a><span data-ttu-id="79923-104">Che cos'è diverso su endpoint v 2.0 hello?</span><span class="sxs-lookup"><span data-stu-id="79923-104">What's different about hello v2.0 endpoint?</span></span>
<span data-ttu-id="79923-105">Se si ha familiarità con Azure Active Directory o sono integrate le app con Azure AD in hello precedente, possono essere presenti alcune differenze nell'endpoint v 2.0 hello che non è normalmente.</span><span class="sxs-lookup"><span data-stu-id="79923-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in hello past, there may be some differences in hello v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="79923-106">Questo documento descrive tali differenze per una maggiore comprensione da parte dell'utente.</span><span class="sxs-lookup"><span data-stu-id="79923-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="79923-107">Non tutte le caratteristiche e gli scenari di Azure Active Directory sono supportati dall'endpoint di hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="79923-107">Not all Azure Active Directory scenarios & features are supported by hello v2.0 endpoint.</span></span>  <span data-ttu-id="79923-108">toodetermine se è necessario utilizzare endpoint v 2.0 hello, conoscenza [limitazioni v 2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="79923-108">toodetermine if you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="79923-109">Account Microsoft e account Azure AD</span><span class="sxs-lookup"><span data-stu-id="79923-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="79923-110">endpoint di Hello v 2.0 consentono agli sviluppatori di App toowrite che accettano Accedi dagli Accounts di Microsoft Azure AD account e, utilizzando un endpoint singolo auth.</span><span class="sxs-lookup"><span data-stu-id="79923-110">hello v2.0 endpoint allow developers toowrite apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="79923-111">In questo modo si hello toowrite possibilità completamente account indipendente; l'app è possibile che non riconosce il tipo di hello di hello utente esegue l'accesso con account.</span><span class="sxs-lookup"><span data-stu-id="79923-111">This gives you hello ability toowrite your app completely account-agnostic; it can be ignorant of hello type of account that hello user signs in with.</span></span>  <span data-ttu-id="79923-112">Naturalmente, si *possibile* rendere la tua app tenere presente il tipo di hello dell'account viene utilizzato in una determinata sessione, ma non è necessario.</span><span class="sxs-lookup"><span data-stu-id="79923-112">Of course, you *can* make your app aware of hello type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="79923-113">Ad esempio, se l'app chiama hello [Microsoft Graph](https://graph.microsoft.io), alcune funzionalità aggiuntive e i dati saranno utenti tooenterprise disponibili, ad esempio i siti di SharePoint o i dati di Directory.</span><span class="sxs-lookup"><span data-stu-id="79923-113">For instance, if your app calls hello [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available tooenterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="79923-114">Ma per molte azioni, ad esempio [la lettura di posta elettronica dell'utente](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), codice hello può essere scritti esattamente hello uguale per gli account Microsoft Accounts sia Azure AD.</span><span class="sxs-lookup"><span data-stu-id="79923-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), hello code can be written exactly hello same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="79923-115">L'integrazione dell'app con account Microsoft e Azure AD è ora un processo semplice.</span><span class="sxs-lookup"><span data-stu-id="79923-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="79923-116">È possibile utilizzare un singolo set di endpoint, una singola libreria e una singola app registrazione toogain accesso tooboth hello aziendali e tecnologie.</span><span class="sxs-lookup"><span data-stu-id="79923-116">You can use a single set of endpoints, a single library, and a single app registration toogain access tooboth hello consumer and enterprise worlds.</span></span>  <span data-ttu-id="79923-117">toolearn hello v 2.0 endpoint, estrarre ulteriori informazioni sugli [hello Panoramica](active-directory-appmodel-v2-overview.md).</span><span class="sxs-lookup"><span data-stu-id="79923-117">toolearn more about hello v2.0 endpoint, check out [hello overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="79923-118">Nuovo portale di registrazione delle app</span><span class="sxs-lookup"><span data-stu-id="79923-118">New app registration portal</span></span>
<span data-ttu-id="79923-119">un'applicazione che funziona con endpoint v 2.0 hello tooregister, è necessario utilizzare un nuovo portale di registrazione di app: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  Si tratta di hello portale in cui è possibile ottenere un ID applicazione, personalizzare l'aspetto di hello della pagina di accesso dell'applicazione e altro ancora.</span><span class="sxs-lookup"><span data-stu-id="79923-119">tooregister an app that works with hello v2.0 endpoint, you must use a new app registration portal: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  This is hello portal where you can obtain an application ID, customize hello appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="79923-120">È sufficiente portale hello tooaccess è un account Microsoft con tecnologia - account personale o dell'istituto di istruzione/lavoro.</span><span class="sxs-lookup"><span data-stu-id="79923-120">All you need tooaccess hello portal is a Microsoft powered account - either personal or work/school account.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="79923-121">ID app univoco per tutte le piattaforme</span><span class="sxs-lookup"><span data-stu-id="79923-121">One app ID for all platforms</span></span>
<span data-ttu-id="79923-122">Se si usa Azure Active Directory, è possibile che siano state registrate più app diverse per un unico progetto.</span><span class="sxs-lookup"><span data-stu-id="79923-122">If you've used Azure Active Directory, you've probably registered several different apps for a single project.</span></span>  <span data-ttu-id="79923-123">Ad esempio, se è stata compilata sia un sito Web e un'app iOS, è necessario tooregister li separatamente, con due ID applicazione diverso.</span><span class="sxs-lookup"><span data-stu-id="79923-123">For example, if you built both a website and an iOS app, you had tooregister them separately, using two different Application Ids.</span></span> <span data-ttu-id="79923-124">portale di registrazione Hello Azure AD app forzato questa distinzione è toomake durante la registrazione:</span><span class="sxs-lookup"><span data-stu-id="79923-124">hello Azure AD app registration portal forced you toomake this distinction during registration:</span></span>

![Interfaccia utente della registrazione dell'applicazione precedente](../../media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="79923-126">Analogamente, se si disponeva di un sito Web e di un'API Web back-end, è possibile che ogni elemento sia stato registrato come un'app separata in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="79923-126">Similarly, if you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="79923-127">In alternativa, se si disponeva di un'app per iOS e di un'app per Android, è possibile che siano state registrate due app diverse.</span><span class="sxs-lookup"><span data-stu-id="79923-127">Or if you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  <span data-ttu-id="79923-128">La registrazione di ogni componente di un'applicazione ha portato toosome comportamenti imprevisti per gli sviluppatori e i relativi clienti:</span><span class="sxs-lookup"><span data-stu-id="79923-128">Registering each component of an application led toosome unexpected behaviors for developers and their customers:</span></span>

* <span data-ttu-id="79923-129">Ogni componente visualizzate come un'applicazione separata nel tenant di Azure Active Directory hello di ogni cliente.</span><span class="sxs-lookup"><span data-stu-id="79923-129">Each component appeared as a separate app in hello Azure Active Directory tenant of each customer.</span></span>
* <span data-ttu-id="79923-130">Quando un amministratore tenant tentato tooapply criteri per gestire l'accesso a o eliminare un'app, hanno toodo in questo caso per ogni componente dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="79923-130">When a tenant administrator attempted tooapply policy to, manage access to, or delete an app, they would have toodo so for each component of hello app.</span></span>
* <span data-ttu-id="79923-131">Quando i clienti acconsentito tooan applicazione, ogni componente viene visualizzato nella schermata di consenso hello come applicazione distinta.</span><span class="sxs-lookup"><span data-stu-id="79923-131">When customers consented tooan application, each component would appear in hello consent screen as a distinct application.</span></span>

<span data-ttu-id="79923-132">Con endpoint v 2.0 hello, è ora possibile registrare tutti i componenti del progetto come una registrazione singola app e usare un singolo Id applicazione per l'intero progetto.</span><span class="sxs-lookup"><span data-stu-id="79923-132">With hello v2.0 endpoint, you can now register all components of your project as a single app registration, and use a single Application Id for your entire project.</span></span>  <span data-ttu-id="79923-133">È possibile aggiungere diversi tooa "piattaforme" ogni progetto e fornire le informazioni necessarie hello per ogni piattaforma che aggiunti.</span><span class="sxs-lookup"><span data-stu-id="79923-133">You can add several "platforms" tooa each project, and provide hello appropriate data for each platform you add.</span></span>  <span data-ttu-id="79923-134">Naturalmente, è possibile creare quante più App come si desidera che a seconda dei requisiti, ma per la maggior parte di hello dei casi, un solo Id applicazione deve essere necessarie.</span><span class="sxs-lookup"><span data-stu-id="79923-134">Of course, you can create as many apps as you like depending on your requirements, but for hello majority of cases only one Application Id should be necessary.</span></span>

<span data-ttu-id="79923-135">Il nostro obiettivo è che verrà portano tooa più semplificato la gestione delle app e l'esperienza di sviluppo e creare una visualizzazione consolidata più di un singolo progetto se si lavora su.</span><span class="sxs-lookup"><span data-stu-id="79923-135">Our aim is that this will lead tooa more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="79923-136">Ambiti e non risorse</span><span class="sxs-lookup"><span data-stu-id="79923-136">Scopes, not resources</span></span>
<span data-ttu-id="79923-137">In Azure Active Directory un'app può comportarsi come una **risorsa** o come un destinatario di token.</span><span class="sxs-lookup"><span data-stu-id="79923-137">In Azure Active Directory, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="79923-138">Una risorsa è possibile definire un numero di **ambiti** o **oAuth2Permissions** che riconosce, consentendo di risorse di toothat toorequest token per un determinato set di ambiti di applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="79923-138">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps toorequest tokens toothat resource for a certain set of scopes.</span></span>  <span data-ttu-id="79923-139">Si consideri l'API di Azure AD Graph hello come un esempio di una risorsa:</span><span class="sxs-lookup"><span data-stu-id="79923-139">Consider hello Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="79923-140">Identificatore della risorsa o `AppID URI`: `https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="79923-140">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="79923-141">Ambiti o `OAuth2Permissions`: `Directory.Read`, `Directory.Write` e così via</span><span class="sxs-lookup"><span data-stu-id="79923-141">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="79923-142">Tutto ciò vale per l'endpoint di hello hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="79923-142">All of this holds true for hello hello v2.0 endpoint.</span></span>  <span data-ttu-id="79923-143">Un'app può comunque comportarsi come una risorsa, definire gli ambiti ed essere identificata da un URI.</span><span class="sxs-lookup"><span data-stu-id="79923-143">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="79923-144">Le applicazioni client possono richiedere ancora gli ambiti di accesso toothose.</span><span class="sxs-lookup"><span data-stu-id="79923-144">Client apps can still request access toothose scopes.</span></span>  <span data-ttu-id="79923-145">Tuttavia, il modo di hello in cui un client richiede tali autorizzazioni è stato modificato.</span><span class="sxs-lookup"><span data-stu-id="79923-145">However, hello way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="79923-146">In hello precedente, un OAuth 2.0 autorizzare tooAzure richiesta AD stato simile:</span><span class="sxs-lookup"><span data-stu-id="79923-146">In hello past, an OAuth 2.0 authorize request tooAzure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="79923-147">in cui hello **risorse** parametro indicato richiede l'autorizzazione per quali app client hello di risorse.</span><span class="sxs-lookup"><span data-stu-id="79923-147">where hello **resource** parameter indicated which resource hello client app is requesting authorization for.</span></span>  <span data-ttu-id="79923-148">Azure AD calcolato autorizzazioni hello richieste dall'applicazione hello in base alla configurazione statico nel portale di Azure hello e token emessi, di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="79923-148">Azure AD computed hello permissions required by hello app based on static configuration in hello Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="79923-149">A questo punto, hello stesso OAuth 2.0 autorizzare richiesta ha un aspetto simile:</span><span class="sxs-lookup"><span data-stu-id="79923-149">Now, hello same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="79923-150">in cui hello **ambito** parametro indica quale app hello risorsa e le autorizzazioni richiede l'autorizzazione per.</span><span class="sxs-lookup"><span data-stu-id="79923-150">where hello **scope** parameter indicates which resource and permissions hello app is requesting authorization for.</span></span> <span data-ttu-id="79923-151">Hello desiderato risorsa è ancora molto presente nella richiesta di hello - semplicemente è stato incluso in ognuno dei valori di hello del parametro di ambito hello.</span><span class="sxs-lookup"><span data-stu-id="79923-151">hello desired resource is still very present in hello request - it is simply encompassed in each of hello values of hello scope parameter.</span></span>  <span data-ttu-id="79923-152">Utilizzando il parametro di ambito hello in questo modo consente più conformi alla specifica OAuth 2.0 hello hello v 2.0 endpoint toobe e più strettamente allineato consigliate comuni.</span><span class="sxs-lookup"><span data-stu-id="79923-152">Using hello scope parameter in this manner allows hello v2.0 endpoint toobe more compliant with hello OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="79923-153">Consente inoltre di App tooperform [consenso incrementale](#incremental-and-dynamic-consent), descritto nella sezione successiva hello.</span><span class="sxs-lookup"><span data-stu-id="79923-153">It also enables apps tooperform [incremental consent](#incremental-and-dynamic-consent), which is described in hello next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="79923-154">Consenso incrementale e dinamico</span><span class="sxs-lookup"><span data-stu-id="79923-154">Incremental and dynamic consent</span></span>
<span data-ttu-id="79923-155">App registrato in Azure AD necessari in precedenza toospecify dispongono delle autorizzazioni necessarie di OAuth 2.0 in hello portale di Azure, al momento della creazione di app:</span><span class="sxs-lookup"><span data-stu-id="79923-155">Apps registered in Azure AD previously needed toospecify their required OAuth 2.0 permissions in hello Azure Portal, at app creation time:</span></span>

![Interfaccia utente della registrazione delle autorizzazioni](../../media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="79923-157">un'app necessarie sono state configurate le autorizzazioni di Hello **staticamente**.</span><span class="sxs-lookup"><span data-stu-id="79923-157">hello permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="79923-158">Anche se questa configurazione di hello app tooexist consentiti nel portale di Azure hello e mantenuta codice hello utile e semplice, presenta alcuni problemi per gli sviluppatori:</span><span class="sxs-lookup"><span data-stu-id="79923-158">While this allowed configuration of hello app tooexist in hello Azure Portal and kept hello code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="79923-159">Un'app aveva tooknow tutte hello autorizzazioni è necessario in fase di creazione di app.</span><span class="sxs-lookup"><span data-stu-id="79923-159">An app had tooknow all of hello permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="79923-160">La possibilità di aggiungere le autorizzazioni in fasi successive era un processo difficile.</span><span class="sxs-lookup"><span data-stu-id="79923-160">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="79923-161">Un'app aveva tooknow tutte le risorse di hello mai acceda anticipatamente.</span><span class="sxs-lookup"><span data-stu-id="79923-161">An app had tooknow all of hello resources it would ever access ahead of time.</span></span>  <span data-ttu-id="79923-162">È difficile toocreate App che accedono a un numero arbitrario di risorse.</span><span class="sxs-lookup"><span data-stu-id="79923-162">It was difficult toocreate apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="79923-163">Un'app aveva toorequest tutte le autorizzazioni di hello che sarebbe necessario al momento hello del primo accesso dell'utente.</span><span class="sxs-lookup"><span data-stu-id="79923-163">An app had toorequest all hello permissions it would ever need upon hello user's first sign-in.</span></span>  <span data-ttu-id="79923-164">In alcuni casi ciò ha portato tooa molto lungo elenco di autorizzazioni che gli utenti finali di approvazione accesso dell'applicazione hello Accedi iniziale sconsigliato.</span><span class="sxs-lookup"><span data-stu-id="79923-164">In some cases this led tooa very long list of permissions, which discouraged end-users from approving hello app's access on initial sign-in.</span></span>

<span data-ttu-id="79923-165">Con l'endpoint di hello v 2.0, è possibile specificare autorizzazioni hello esigenze app **dinamicamente**, in fase di esecuzione durante il normale utilizzo dell'app.</span><span class="sxs-lookup"><span data-stu-id="79923-165">With hello v2.0 endpoint, you can specify hello permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="79923-166">toodo in tal caso, è possibile specificare hello definisce l'ambito delle esigenze di app in qualsiasi punto nel tempo includendoli in hello `scope` parametro di una richiesta di autorizzazione:</span><span class="sxs-lookup"><span data-stu-id="79923-166">toodo so, you can specify hello scopes your app needs at any given point in time by including them in hello `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="79923-167">Hello precedente richiede l'autorizzazione per hello app tooread un utente di Azure AD directory dati, nonché directory tootheir di scrittura dei dati.</span><span class="sxs-lookup"><span data-stu-id="79923-167">hello above requests permission for hello app tooread an Azure AD user's directory data, as well as write data tootheir directory.</span></span>  <span data-ttu-id="79923-168">Se l'utente di hello ha acconsentito autorizzazioni toothose in hello precedente per questa app specifica, sarà sufficiente immettere le proprie credenziali e accedere ad app hello.</span><span class="sxs-lookup"><span data-stu-id="79923-168">If hello user has consented toothose permissions in hello past for this particular app, they will simply enter their credentials and be signed into hello app.</span></span>  <span data-ttu-id="79923-169">Se l'utente hello non ha accettato le condizioni tooany queste autorizzazioni, endpoint v 2.0 hello chiederà utente hello per le autorizzazioni toothose consenso.</span><span class="sxs-lookup"><span data-stu-id="79923-169">If hello user has not consented tooany of these permissions, hello v2.0 endpoint will ask hello user for consent toothose permissions.</span></span>  <span data-ttu-id="79923-170">toolearn altre, è possibile leggere fino in [ambiti, autorizzazione e autorizzazioni](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="79923-170">toolearn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="79923-171">Consentire a un'app toorequest autorizzazioni in modo dinamico tramite hello `scope` parametro consente di effettuare un controllo completo esperienza dell'utente.</span><span class="sxs-lookup"><span data-stu-id="79923-171">Allowing an app toorequest permissions dynamically via hello `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="79923-172">Se si desidera, è possibile scegliere toofrontload il consenso dell'utente esperienza e chiedere di tutte le autorizzazioni in una richiesta di autorizzazione iniziale.</span><span class="sxs-lookup"><span data-stu-id="79923-172">If you wish, you can choose toofrontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="79923-173">O se l'app richiede un numero elevato di autorizzazioni, è possibile scegliere toogather tali autorizzazioni utente hello in modo incrementale, come tentano toouse determinate funzionalità dell'app nel tempo.</span><span class="sxs-lookup"><span data-stu-id="79923-173">Or if your app requires a large number of permissions, you can choose toogather those permissions from hello user incrementally, as they attempt toouse certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="79923-174">Ambiti conosciuti</span><span class="sxs-lookup"><span data-stu-id="79923-174">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="79923-175">Accesso offline</span><span class="sxs-lookup"><span data-stu-id="79923-175">Offline access</span></span>
<span data-ttu-id="79923-176">Le app usando endpoint v 2.0 hello uso può essere necessario hello di una nuova autorizzazione nota per le app - hello `offline_access` ambito.</span><span class="sxs-lookup"><span data-stu-id="79923-176">Apps using hello v2.0 endpoint may require hello use of a new well-known permission for apps - hello `offline_access` scope.</span></span>  <span data-ttu-id="79923-177">Tutte le app saranno necessario toorequest questa autorizzazione se sono richieste risorse tooaccess per conto di hello di un utente per un periodo prolungato di tempo, anche quando l'utente hello potrebbe non essere attivamente usando hello app.</span><span class="sxs-lookup"><span data-stu-id="79923-177">All apps will need toorequest this permission if they need tooaccess resources on hello behalf of a user for a prolonged period of time, even when hello user may not be actively using hello app.</span></span>  <span data-ttu-id="79923-178">Hello `offline_access` ambito verrà visualizzato come utente toohello in consenso dialogs "Accedere ai dati non in linea", l'utente che ha hello deve accettare.</span><span class="sxs-lookup"><span data-stu-id="79923-178">hello `offline_access` scope will appear toohello user in consent dialogs as "Access your data offline", which hello user must agree to.</span></span>  <span data-ttu-id="79923-179">Richiedente hello `offline_access` autorizzazione abiliterà il tooreceive app web OAuth 2.0 refresh_tokens dall'endpoint di hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="79923-179">Requesting hello `offline_access` permission will enable your web app tooreceive OAuth 2.0 refresh_tokens from hello v2.0 endpoint.</span></span>  <span data-ttu-id="79923-180">I token di aggiornamento hanno una durata elevata e possono essere scambiati con nuovi token di accesso di OAuth 2.0 per periodi prolungati di accesso.</span><span class="sxs-lookup"><span data-stu-id="79923-180">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="79923-181">Se l'app non viene richiesta hello `offline_access` ambito, non riceverà refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="79923-181">If your app does not request hello `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="79923-182">Ciò significa che quando si Riscatta un authorization_code nel flusso di codice di autorizzazione OAuth 2.0 hello, si riceveranno solo nuovamente access_token da hello `/token` endpoint.</span><span class="sxs-lookup"><span data-stu-id="79923-182">This means that when you redeem an authorization_code in hello OAuth 2.0 authorization code flow, you will only receive back an access_token from hello `/token` endpoint.</span></span>  <span data-ttu-id="79923-183">Tale token di accesso rimarrà valido per un breve periodo di tempo (in genere un'ora), per poi scadere.</span><span class="sxs-lookup"><span data-stu-id="79923-183">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="79923-184">A questo punto nel tempo, necessarie per l'app tooredirect hello utente indietro toohello `/authorize` tooretrieve endpoint authorization_code una nuova.</span><span class="sxs-lookup"><span data-stu-id="79923-184">At that point in time, your app will need tooredirect hello user back toohello `/authorize` endpoint tooretrieve a new authorization_code.</span></span>  <span data-ttu-id="79923-185">Durante questo reindirizzamento, utente hello può o non venga necessario tooenter nuovamente le proprie credenziali o nuovamente consenso toopermissions, in base al tipo di hello hello di app.</span><span class="sxs-lookup"><span data-stu-id="79923-185">During this redirect, hello user may or may not need tooenter their credentials again or re-consent toopermissions, depending on hello hello type of app.</span></span>

<span data-ttu-id="79923-186">altre informazioni sull'estrazione OAuth 2.0, refresh_tokens e access_tokens, hello toolearn [riferimento al protocollo v 2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="79923-186">toolearn more about OAuth 2.0, refresh_tokens, and access_tokens, check out hello [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="79923-187">OpenID, profilo e indirizzo di posta elettronica</span><span class="sxs-lookup"><span data-stu-id="79923-187">OpenID, profile and email</span></span>
<span data-ttu-id="79923-188">In passato, hello più elementare OpenID Connect flusso di accesso con Azure Active Directory fornisce una serie di informazioni sull'utente hello in id_token risultante hello.</span><span class="sxs-lookup"><span data-stu-id="79923-188">Historically, hello most basic OpenID Connect sign-in flow with Azure Active Directory would provide a wealth of information about hello user in hello resulting id_token.</span></span>  <span data-ttu-id="79923-189">le attestazioni Hello in un id_token possono includere nome dell'utente hello, username preferito, indirizzo di posta elettronica, ID di oggetto e altro ancora.</span><span class="sxs-lookup"><span data-stu-id="79923-189">hello claims in an id_token can include hello user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="79923-190">È ora limitazione informazioni hello che hello sono `openid` ambito consente all'app l'accesso a.</span><span class="sxs-lookup"><span data-stu-id="79923-190">We are now restricting hello information that hello `openid` scope affords your app access to.</span></span>  <span data-ttu-id="79923-191">ambito 'openid' Hello solo consentire all'utente di hello app toosign in e un identificatore specifico dell'app per utente hello di ricezione.</span><span class="sxs-lookup"><span data-stu-id="79923-191">hello ‘openid’ scope will only allow your app toosign hello user in, and receive an app-specific identifier for hello user.</span></span>  <span data-ttu-id="79923-192">Se si desiderano tooobtain informazioni personali (PII) sull'utente hello nell'app, necessarie per l'app toorequest ulteriori autorizzazioni utente hello.</span><span class="sxs-lookup"><span data-stu-id="79923-192">If you want tooobtain personally identifiable information (PII) about hello user in your app, your app will need toorequest additional permissions from hello user.</span></span>  <span data-ttu-id="79923-193">Microsoft sta introducendo due nuovi ambiti: hello `email` e `profile` ambiti, che consentono di toodo così.</span><span class="sxs-lookup"><span data-stu-id="79923-193">We are introducing two new scopes – hello `email` and `profile` scopes – which allow you toodo so.</span></span>

<span data-ttu-id="79923-194">Hello `email` ambito è molto semplice: consente l'indirizzo di posta elettronica principale dell'utente le app accesso toohello tramite hello `email` id_token hello di attestazione.</span><span class="sxs-lookup"><span data-stu-id="79923-194">hello `email` scope is very straightforward – it allows your app access toohello user’s primary email address via hello `email` claim in hello id_token.</span></span>  <span data-ttu-id="79923-195">Hello `profile` ambito mette a disposizione il tooall accesso app altre informazioni di base sull'utente hello-loro nome, nome utente preferito, ID di oggetto e così via.</span><span class="sxs-lookup"><span data-stu-id="79923-195">hello `profile` scope affords your app access tooall other basic information about hello user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="79923-196">In questo modo è toocode l'app in maniera minima riservatezza: è possibile solo richiedere utente hello set hello di informazioni che l'app richiede toodo relativo processo.</span><span class="sxs-lookup"><span data-stu-id="79923-196">This allows you toocode your app in a minimal-disclosure fashion – you can only ask hello user for hello set of information that your app requires toodo its job.</span></span>  <span data-ttu-id="79923-197">Per ulteriori informazioni su questi ambiti, vedere troppo[hello riferimento a un ambito v 2.0](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="79923-197">For more information on these scopes, refer too[hello v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="79923-198">Attestazioni nei token</span><span class="sxs-lookup"><span data-stu-id="79923-198">Token Claims</span></span>
<span data-ttu-id="79923-199">Hello attestazioni nei token rilasciati da endpoint v 2.0 hello non saranno identici tootokens emesso dagli endpoint di Azure AD in genere disponibili hello - migrazione toohello nuovo servizio App non deve presupporre che un'attestazione specifica sarà disponibile in id_tokens o access_tokens.</span><span class="sxs-lookup"><span data-stu-id="79923-199">hello claims in tokens issued by hello v2.0 endpoint will not be identical tootokens issued by hello generally available Azure AD endpoints - apps migrating toohello new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span> <span data-ttu-id="79923-200">toolearn sulle attestazioni specifiche di hello generato nei token v 2.0, vedere hello [riferimento token v 2.0](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="79923-200">toolearn about hello specific claims emitted in v2.0 tokens, see hello [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="79923-201">Limitazioni</span><span class="sxs-lookup"><span data-stu-id="79923-201">Limitations</span></span>
<span data-ttu-id="79923-202">Esistono alcune restrizioni toobe considerare quando si utilizza punto v 2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="79923-202">There are a few restrictions toobe aware of when using hello v2.0 point.</span></span>  <span data-ttu-id="79923-203">Consultare toohello [doc limitazioni v 2.0](active-directory-v2-limitations.md) toosee se uno qualsiasi di queste restrizioni si applicano tooyour particolare scenario.</span><span class="sxs-lookup"><span data-stu-id="79923-203">Please refer toohello [v2.0 limitations doc](active-directory-v2-limitations.md) toosee if any of these restrictions apply tooyour particular scenario.</span></span>
