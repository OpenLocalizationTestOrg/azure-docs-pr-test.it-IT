---
title: query di elenco efficiente aaaDesign - Azure Batch | Documenti Microsoft
description: "Migliorare le prestazioni filtrando le query quando si chiedono informazioni su risorse di Batch, ad esempio pool, processi, attività e nodi di calcolo."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 031fefeb-248e-4d5a-9bc2-f07e46ddd30d
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 08/02/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: b7e554119ec9d0e9e8007ccfb1ca80fe142a5e27
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-queries-toolist-batch-resources-efficiently"></a><span data-ttu-id="8d773-103">Creare query in modo efficiente le risorse di Batch toolist</span><span class="sxs-lookup"><span data-stu-id="8d773-103">Create queries toolist Batch resources efficiently</span></span>

<span data-ttu-id="8d773-104">Questo articolo si apprenderà come tooincrease prestazioni dell'applicazione Azure Batch riducendo hello di dati restituiti dal servizio hello quando si eseguono query processi, attività e i nodi di calcolo con hello [.NET per Batch] [ api_net] libreria.</span><span class="sxs-lookup"><span data-stu-id="8d773-104">Here you'll learn how tooincrease your Azure Batch application's performance by reducing hello amount of data that is returned by hello service when you query jobs, tasks, and compute nodes with hello [Batch .NET][api_net] library.</span></span>

<span data-ttu-id="8d773-105">Quasi tutte le applicazioni di Batch necessario tooperform qualche tipo di monitoraggio o un'altra operazione che una query nel servizio Batch hello, spesso a intervalli regolari.</span><span class="sxs-lookup"><span data-stu-id="8d773-105">Nearly all Batch applications need tooperform some type of monitoring or other operation that queries hello Batch service, often at regular intervals.</span></span> <span data-ttu-id="8d773-106">Toodetermine, ad esempio, se sono presenti tutte le attività in coda rimanente in un processo, è necessario ottenere dati per ogni attività nel processo di hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-106">For example, toodetermine whether there are any queued tasks remaining in a job, you must get data on every task in hello job.</span></span> <span data-ttu-id="8d773-107">stato di hello toodetermine dei nodi del pool, è necessario ottenere dati in ogni nodo nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-107">toodetermine hello status of nodes in your pool, you must get data on every node in hello pool.</span></span> <span data-ttu-id="8d773-108">Questo articolo viene illustrato come tooexecute ad una query in hello modo più efficiente.</span><span class="sxs-lookup"><span data-stu-id="8d773-108">This article explains how tooexecute such queries in hello most efficient way.</span></span>

> [!NOTE]
> <span data-ttu-id="8d773-109">Hello servizio Batch offre uno speciale supporto API per uno scenario comune di hello del conteggio delle attività in un processo.</span><span class="sxs-lookup"><span data-stu-id="8d773-109">hello Batch service provides special API support for hello common scenario of counting tasks in a job.</span></span> <span data-ttu-id="8d773-110">Anziché utilizzare una query di elenco per questi, è possibile chiamare hello [Ottieni conteggio attività] [ rest_get_task_counts] operazione.</span><span class="sxs-lookup"><span data-stu-id="8d773-110">Instead of using a list query for these, you can call hello [Get Task Counts][rest_get_task_counts] operation.</span></span> <span data-ttu-id="8d773-111">Questa operazione restituisce il numero di attività in sospeso, in esecuzione o completate, nonché di quelle riuscite e non riuscite.</span><span class="sxs-lookup"><span data-stu-id="8d773-111">Get Task Counts indicates how many tasks are pending, running or complete, and how many tasks have succeeded or failed.</span></span> <span data-ttu-id="8d773-112">L'operazione di recupero dei conteggi delle attività è più efficiente di una query di tipo elenco.</span><span class="sxs-lookup"><span data-stu-id="8d773-112">Get Task Counts is more efficient than a list query.</span></span> <span data-ttu-id="8d773-113">Per altre informazioni, vedere [Conteggiare le attività per un processo in base allo stato (anteprima)](batch-get-task-counts.md).</span><span class="sxs-lookup"><span data-stu-id="8d773-113">For more information, see [Count tasks for a job by state (Preview)](batch-get-task-counts.md).</span></span> 
>
> <span data-ttu-id="8d773-114">in precedenza 2017-06-01.5.1 Hello operazione Ottieni conteggio attività non è disponibile nelle versioni del servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="8d773-114">hello Get Task Counts operation is not available in Batch service versions earlier than 2017-06-01.5.1.</span></span> <span data-ttu-id="8d773-115">Se si utilizza una versione precedente del servizio di hello, quindi utilizzare un'attività di toocount query di elenco in un processo.</span><span class="sxs-lookup"><span data-stu-id="8d773-115">If you are using an older version of hello service, then use a list query toocount tasks in a job instead.</span></span>
>
> 

## <a name="meet-hello-detaillevel"></a><span data-ttu-id="8d773-116">Soddisfare hello DetailLevel</span><span class="sxs-lookup"><span data-stu-id="8d773-116">Meet hello DetailLevel</span></span>
<span data-ttu-id="8d773-117">In un ambiente di produzione dell'applicazione di Batch, hello migliaia possibile numerare entità quali processi, attività e i nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="8d773-117">In a production Batch application, entities like jobs, tasks, and compute nodes can number in hello thousands.</span></span> <span data-ttu-id="8d773-118">Quando si richiedono informazioni su queste risorse, una grande quantità di dati deve "attraversare transito hello" da un'applicazione hello Batch servizio tooyour per ogni query.</span><span class="sxs-lookup"><span data-stu-id="8d773-118">When you request information on these resources, a potentially large amount of data must "cross hello wire" from hello Batch service tooyour application on each query.</span></span> <span data-ttu-id="8d773-119">Limitando il numero di hello di elementi e il tipo di informazioni restituite da una query, è possibile aumentare la velocità delle query hello e pertanto hello prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8d773-119">By limiting hello number of items and type of information that is returned by a query, you can increase hello speed of your queries, and therefore hello performance of your application.</span></span>

<span data-ttu-id="8d773-120">Questo [.NET per Batch] [ api_net] elenchi frammento di codice API *ogni* attività associata a un processo, insieme a *tutti* di proprietà hello di ogni attività:</span><span class="sxs-lookup"><span data-stu-id="8d773-120">This [Batch .NET][api_net] API code snippet lists *every* task that is associated with a job, along with *all* of hello properties of each task:</span></span>

```csharp
// Get a collection of all of hello tasks and all of their properties for job-001
IPagedEnumerable<CloudTask> allTasks =
    batchClient.JobOperations.ListTasks("job-001");
```

<span data-ttu-id="8d773-121">È possibile eseguire una query di elenco molto più efficiente, tuttavia, tramite l'applicazione di una query di tooyour "livello di dettaglio".</span><span class="sxs-lookup"><span data-stu-id="8d773-121">You can perform a much more efficient list query, however, by applying a "detail level" tooyour query.</span></span> <span data-ttu-id="8d773-122">A tale scopo, fornire un [ODATADetailLevel] [ odata] oggetto toohello [JobOperations.ListTasks] [ net_list_tasks] metodo.</span><span class="sxs-lookup"><span data-stu-id="8d773-122">You do this by supplying an [ODATADetailLevel][odata] object toohello [JobOperations.ListTasks][net_list_tasks] method.</span></span> <span data-ttu-id="8d773-123">Questo frammento restituisce solo ID hello, riga di comando e proprietà delle informazioni di nodo di calcolo delle attività completate:</span><span class="sxs-lookup"><span data-stu-id="8d773-123">This snippet returns only hello ID, command line, and compute node information properties of completed tasks:</span></span>

```csharp
// Configure an ODATADetailLevel specifying a subset of tasks and
// their properties tooreturn
ODATADetailLevel detailLevel = new ODATADetailLevel();
detailLevel.FilterClause = "state eq 'completed'";
detailLevel.SelectClause = "id,commandLine,nodeInfo";

// Supply hello ODATADetailLevel toohello ListTasks method
IPagedEnumerable<CloudTask> completedTasks =
    batchClient.JobOperations.ListTasks("job-001", detailLevel);
```

<span data-ttu-id="8d773-124">In questo scenario di esempio, se sono presenti migliaia di attività nel processo di hello, hello risultati dalla seconda query hello in genere saranno restituite molto più rapidamente rispetto a hello prima.</span><span class="sxs-lookup"><span data-stu-id="8d773-124">In this example scenario, if there are thousands of tasks in hello job, hello results from hello second query will typically be returned much quicker than hello first.</span></span> <span data-ttu-id="8d773-125">Ulteriori informazioni sull'utilizzo ODATADetailLevel quando si elencano gli elementi con hello API .NET di Batch vengono incluse [sotto](#efficient-querying-in-batch-net).</span><span class="sxs-lookup"><span data-stu-id="8d773-125">More information about using ODATADetailLevel when you list items with hello Batch .NET API is included [below](#efficient-querying-in-batch-net).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8d773-126">È consigliabile si *sempre* specificare un elenco di API .NET ODATADetailLevel tooyour oggetto chiama tooensure della massima efficienza e prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8d773-126">We highly recommend that you *always* supply an ODATADetailLevel object tooyour .NET API list calls tooensure maximum efficiency and performance of your application.</span></span> <span data-ttu-id="8d773-127">Se si specifica un livello di dettaglio, consentono di toolower Batch tempi di risposta del servizio, migliorare l'utilizzo della rete e ridurre l'utilizzo di memoria dalle applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="8d773-127">By specifying a detail level, you can help toolower Batch service response times, improve network utilization, and minimize memory usage by client applications.</span></span>
> 
> 

## <a name="filter-select-and-expand"></a><span data-ttu-id="8d773-128">Filtro, selezione ed espansione</span><span class="sxs-lookup"><span data-stu-id="8d773-128">Filter, select, and expand</span></span>
<span data-ttu-id="8d773-129">Hello [.NET per Batch] [ api_net] e [Batch REST] [ api_rest] API forniscono hello possibilità tooreduce sia il numero di elementi che vengono restituiti in un elenco, hello nonché hello quantità di informazioni restituite per ogni.</span><span class="sxs-lookup"><span data-stu-id="8d773-129">hello [Batch .NET][api_net] and [Batch REST][api_rest] APIs provide hello ability tooreduce both hello number of items that are returned in a list, as well as hello amount of information that is returned for each.</span></span> <span data-ttu-id="8d773-130">A questo scopo, specificare stringhe di **filtro**, **selezione** ed **espansione** quando si eseguono query di tipo elenco.</span><span class="sxs-lookup"><span data-stu-id="8d773-130">You do so by specifying **filter**, **select**, and **expand strings** when performing list queries.</span></span>

### <a name="filter"></a><span data-ttu-id="8d773-131">Filtro</span><span class="sxs-lookup"><span data-stu-id="8d773-131">Filter</span></span>
<span data-ttu-id="8d773-132">stringa di filtro Hello è un'espressione che consente di ridurre il numero di hello di elementi restituiti.</span><span class="sxs-lookup"><span data-stu-id="8d773-132">hello filter string is an expression that reduces hello number of items that are returned.</span></span> <span data-ttu-id="8d773-133">Ad esempio, elenco solo hello in esecuzione di attività per un processo o elenco solo nodi di calcolo che sono attività toorun pronto.</span><span class="sxs-lookup"><span data-stu-id="8d773-133">For example, list only hello running tasks for a job, or list only compute nodes that are ready toorun tasks.</span></span>

* <span data-ttu-id="8d773-134">stringa di filtro Hello è costituita da una o più espressioni, con un'espressione costituita da un nome di proprietà, un operatore e un valore.</span><span class="sxs-lookup"><span data-stu-id="8d773-134">hello filter string consists of one or more expressions, with an expression that consists of a property name, operator, and value.</span></span> <span data-ttu-id="8d773-135">proprietà Hello che è possibile specificare sono tooeach specifico tipo di entità che si esegue una query, come gli operatori di hello che sono supportati per ogni proprietà.</span><span class="sxs-lookup"><span data-stu-id="8d773-135">hello properties that can be specified are specific tooeach entity type that you query, as are hello operators that are supported for each property.</span></span>
* <span data-ttu-id="8d773-136">Più espressioni possono essere combinate utilizzando operatori logici hello `and` e `or`.</span><span class="sxs-lookup"><span data-stu-id="8d773-136">Multiple expressions can be combined by using hello logical operators `and` and `or`.</span></span>
* <span data-ttu-id="8d773-137">In questo esempio filtrare gli elenchi di stringa solo hello in esecuzione "eseguire il rendering" attività: `(state eq 'running') and startswith(id, 'renderTask')`.</span><span class="sxs-lookup"><span data-stu-id="8d773-137">This example filter string lists only hello running "render" tasks: `(state eq 'running') and startswith(id, 'renderTask')`.</span></span>

### <a name="select"></a><span data-ttu-id="8d773-138">Selezionare</span><span class="sxs-lookup"><span data-stu-id="8d773-138">Select</span></span>
<span data-ttu-id="8d773-139">Selezionare stringa Hello limita i valori delle proprietà hello restituiti per ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="8d773-139">hello select string limits hello property values that are returned for each item.</span></span> <span data-ttu-id="8d773-140">Si specifica un elenco di nomi di proprietà e vengono restituiti solo i valori di proprietà per gli elementi di hello nei risultati della query hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-140">You specify a list of property names, and only those property values are returned for hello items in hello query results.</span></span>

* <span data-ttu-id="8d773-141">stringa selezionare Hello è costituita da un elenco delimitato da virgole di nomi di proprietà.</span><span class="sxs-lookup"><span data-stu-id="8d773-141">hello select string consists of a comma-separated list of property names.</span></span> <span data-ttu-id="8d773-142">È possibile specificare qualsiasi proprietà hello per il tipo di entità hello che si esegue la query.</span><span class="sxs-lookup"><span data-stu-id="8d773-142">You can specify any of hello properties for hello entity type you are querying.</span></span>
* <span data-ttu-id="8d773-143">Questa stringa di selezione di esempio specifica che dovranno essere restituiti solo i valori di tre proprietà per ogni attività: `id, state, stateTransitionTime`.</span><span class="sxs-lookup"><span data-stu-id="8d773-143">This example select string specifies that only three property values should be returned for each task: `id, state, stateTransitionTime`.</span></span>

### <a name="expand"></a><span data-ttu-id="8d773-144">Espandere</span><span class="sxs-lookup"><span data-stu-id="8d773-144">Expand</span></span>
<span data-ttu-id="8d773-145">Hello espandere stringa riduce il numero di hello di chiamate API tooobtain necessarie alcune informazioni.</span><span class="sxs-lookup"><span data-stu-id="8d773-145">hello expand string reduces hello number of API calls that are required tooobtain certain information.</span></span> <span data-ttu-id="8d773-146">Quando si usa una stringa di espansione, si possono ottenere altre informazioni su ogni elemento con una singola chiamata API.</span><span class="sxs-lookup"><span data-stu-id="8d773-146">When you use an expand string, more information about each item can be obtained with a single API call.</span></span> <span data-ttu-id="8d773-147">Anziché primo recupero hello elenco di entità, quindi la richiesta di informazioni per ogni elemento nell'elenco di hello è utilizzare una stringa di espansione tooobtain hello stesse informazioni in una singola chiamata API.</span><span class="sxs-lookup"><span data-stu-id="8d773-147">Rather than first obtaining hello list of entities, then requesting information for each item in hello list, you use an expand string tooobtain hello same information in a single API call.</span></span> <span data-ttu-id="8d773-148">Meno chiamate API significano prestazioni migliori.</span><span class="sxs-lookup"><span data-stu-id="8d773-148">Less API calls means better performance.</span></span>

* <span data-ttu-id="8d773-149">Stringa selezionare toohello simile, hello espandere i controlli di stringa se determinati dati sono inclusa nei risultati di query di elenco.</span><span class="sxs-lookup"><span data-stu-id="8d773-149">Similar toohello select string, hello expand string controls whether certain data is included in list query results.</span></span>
* <span data-ttu-id="8d773-150">stringa di espandere Hello è supportato solo quando viene utilizzato nell'elenco di processi, le pianificazioni dei processi, attività e i pool.</span><span class="sxs-lookup"><span data-stu-id="8d773-150">hello expand string is only supported when it is used in listing jobs, job schedules, tasks, and pools.</span></span> <span data-ttu-id="8d773-151">Attualmente supporta solo informazioni statistiche.</span><span class="sxs-lookup"><span data-stu-id="8d773-151">Currently, it only supports statistics information.</span></span>
* <span data-ttu-id="8d773-152">Quando tutte le proprietà e viene specificata alcuna stringa seleziona, hello espandere stringa *deve* essere tooget utilizzate le informazioni statistiche.</span><span class="sxs-lookup"><span data-stu-id="8d773-152">When all properties are required and no select string is specified, hello expand string *must* be used tooget statistics information.</span></span> <span data-ttu-id="8d773-153">Se una stringa di selezione è tooobtain usato un subset delle proprietà, quindi `stats` può essere specificato nella stringa selezionare hello e hello espandere stringa non è necessario toobe specificato.</span><span class="sxs-lookup"><span data-stu-id="8d773-153">If a select string is used tooobtain a subset of properties, then `stats` can be specified in hello select string, and hello expand string does not need toobe specified.</span></span>
* <span data-ttu-id="8d773-154">In questo esempio espandere stringa specifica che devono essere restituite le informazioni statistiche per ogni elemento nell'elenco di hello: `stats`.</span><span class="sxs-lookup"><span data-stu-id="8d773-154">This example expand string specifies that statistics information should be returned for each item in hello list: `stats`.</span></span>

> [!NOTE]
> <span data-ttu-id="8d773-155">Quando si crea uno qualsiasi dei hello tre tipi di stringa di query (filtrare, selezionare ed espandere), è necessario assicurarsi che i nomi delle proprietà hello e case corrisponde a quello delle controparti elemento API REST.</span><span class="sxs-lookup"><span data-stu-id="8d773-155">When constructing any of hello three query string types (filter, select, and expand), you must ensure that hello property names and case match that of their REST API element counterparts.</span></span> <span data-ttu-id="8d773-156">Ad esempio, quando si lavora con hello .NET [CloudTask](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask) (classe), è necessario specificare **stato** anziché **stato**, anche se è di proprietà .NET hello [ CloudTask.State](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.state).</span><span class="sxs-lookup"><span data-stu-id="8d773-156">For example, when working with hello .NET [CloudTask](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask) class, you must specify **state** instead of **State**, even though hello .NET property is [CloudTask.State](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.state).</span></span> <span data-ttu-id="8d773-157">Vedere tabelle hello seguenti per i mapping di proprietà tra hello .NET e le API REST.</span><span class="sxs-lookup"><span data-stu-id="8d773-157">See hello tables below for property mappings between hello .NET and REST APIs.</span></span>
> 
> 

### <a name="rules-for-filter-select-and-expand-strings"></a><span data-ttu-id="8d773-158">Regole per le stringhe di filtro, selezione ed espansione</span><span class="sxs-lookup"><span data-stu-id="8d773-158">Rules for filter, select, and expand strings</span></span>
* <span data-ttu-id="8d773-159">I nomi di proprietà nel filtro, selezionare ed espandere le stringhe dovrebbe essere visualizzata come avviene in hello [Batch REST] [ api_rest] API, anche quando si utilizza [.NET per Batch] [ api_net] o uno degli altri SDK di Batch di hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-159">Properties names in filter, select, and expand strings should appear as they do in hello [Batch REST][api_rest] API--even when you use [Batch .NET][api_net] or one of hello other Batch SDKs.</span></span>
* <span data-ttu-id="8d773-160">Per tutti i nomi di proprietà viene fatta distinzione tra maiuscole e minuscole, al contrario di quanto avviene per i valori delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="8d773-160">All property names are case-sensitive, but property values are case insensitive.</span></span>
* <span data-ttu-id="8d773-161">Le stringhe relative a data/ora possono essere indicate in uno dei due formati seguenti e devono essere precedute da `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="8d773-161">Date/time strings can be one of two formats, and must be preceded with `DateTime`.</span></span>
  
  * <span data-ttu-id="8d773-162">Esempio di formato W3C-DTF: `creationTime gt DateTime'2011-05-08T08:49:37Z'`</span><span class="sxs-lookup"><span data-stu-id="8d773-162">W3C-DTF format example: `creationTime gt DateTime'2011-05-08T08:49:37Z'`</span></span>
  * <span data-ttu-id="8d773-163">Esempio di formato RFC 1123: `creationTime gt DateTime'Sun, 08 May 2011 08:49:37 GMT'`</span><span class="sxs-lookup"><span data-stu-id="8d773-163">RFC 1123 format example: `creationTime gt DateTime'Sun, 08 May 2011 08:49:37 GMT'`</span></span>
* <span data-ttu-id="8d773-164">Le stringhe booleane sono `true` o `false`.</span><span class="sxs-lookup"><span data-stu-id="8d773-164">Boolean strings are either `true` or `false`.</span></span>
* <span data-ttu-id="8d773-165">Se si specifica una proprietà o un operatore non valido, viene generato un errore `400 (Bad Request)` .</span><span class="sxs-lookup"><span data-stu-id="8d773-165">If an invalid property or operator is specified, a `400 (Bad Request)` error will result.</span></span>

## <a name="efficient-querying-in-batch-net"></a><span data-ttu-id="8d773-166">Esecuzione efficiente di query in Batch .NET</span><span class="sxs-lookup"><span data-stu-id="8d773-166">Efficient querying in Batch .NET</span></span>
<span data-ttu-id="8d773-167">All'interno di hello [.NET per Batch] [ api_net] API, hello [ODATADetailLevel] [ odata] classe viene utilizzata per fornire filtro, selezionare ed espandere le stringhe operazioni toolist.</span><span class="sxs-lookup"><span data-stu-id="8d773-167">Within hello [Batch .NET][api_net] API, hello [ODATADetailLevel][odata] class is used for supplying filter, select, and expand strings toolist operations.</span></span> <span data-ttu-id="8d773-168">classe ODataDetailLevel Hello ha tre proprietà pubbliche di stringa che può essere specificata nel costruttore hello o impostare direttamente sull'oggetto hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-168">hello ODataDetailLevel class has three public string properties that can be specified in hello constructor, or set directly on hello object.</span></span> <span data-ttu-id="8d773-169">Oggetto viene quindi passato hello ODataDetailLevel come un parametro toohello varie operazioni di elenco, ad esempio [ListPools][net_list_pools], [ListJobs][net_list_jobs], e [ListTasks][net_list_tasks].</span><span class="sxs-lookup"><span data-stu-id="8d773-169">You then pass hello ODataDetailLevel object as a parameter toohello various list operations such as [ListPools][net_list_pools], [ListJobs][net_list_jobs], and [ListTasks][net_list_tasks].</span></span>

* <span data-ttu-id="8d773-170">[ODATADetailLevel][odata].[ FilterClause][odata_filter]: limitare il numero di hello di elementi restituiti.</span><span class="sxs-lookup"><span data-stu-id="8d773-170">[ODATADetailLevel][odata].[FilterClause][odata_filter]: Limit hello number of items that are returned.</span></span>
* <span data-ttu-id="8d773-171">[ODATADetailLevel][odata].[SelectClause][odata_select]: specifica i valori della proprietà restituiti con ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="8d773-171">[ODATADetailLevel][odata].[SelectClause][odata_select]: Specify which property values are returned with each item.</span></span>
* <span data-ttu-id="8d773-172">[ODATADetailLevel][odata].[ExpandClause][odata_expand]: recupera i dati per tutti gli elementi in una singola chiamata all'API anziché con chiamate separate per ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="8d773-172">[ODATADetailLevel][odata].[ExpandClause][odata_expand]: Retrieve data for all items in a single API call instead of separate calls for each item.</span></span>

<span data-ttu-id="8d773-173">Hello frammento di codice seguente Usa servizio di Batch hello per la query tooefficiently hello API .NET di Batch per le statistiche di un set specifico di pool di hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-173">hello following code snippet uses hello Batch .NET API tooefficiently query hello Batch service for hello statistics of a specific set of pools.</span></span> <span data-ttu-id="8d773-174">In questo scenario, hello Batch utente dispone di pool di test e di produzione.</span><span class="sxs-lookup"><span data-stu-id="8d773-174">In this scenario, hello Batch user has both test and production pools.</span></span> <span data-ttu-id="8d773-175">il pool di test hello gli ID sono precedute dal prefisso "test" e il pool di produzione hello gli ID sono precedute dal prefisso "produzione".</span><span class="sxs-lookup"><span data-stu-id="8d773-175">hello test pool IDs are prefixed with "test", and hello production pool IDs are prefixed with "prod".</span></span> <span data-ttu-id="8d773-176">Nel frammento di codice hello *myBatchClient* è un'istanza di hello inizializzata correttamente [BatchClient](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.batchclient) classe.</span><span class="sxs-lookup"><span data-stu-id="8d773-176">In hello snippet, *myBatchClient* is a properly initialized instance of hello [BatchClient](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.batchclient) class.</span></span>

```csharp
// First we need an ODATADetailLevel instance on which tooset hello filter, select,
// and expand clause strings
ODATADetailLevel detailLevel = new ODATADetailLevel();

// We want toopull only hello "test" pools, so we limit hello number of items returned
// by using a FilterClause and specifying that hello pool IDs must start with "test"
detailLevel.FilterClause = "startswith(id, 'test')";

// toofurther limit hello data that crosses hello wire, configure hello SelectClause to
// limit hello properties that are returned on each CloudPool object tooonly
// CloudPool.Id and CloudPool.Statistics
detailLevel.SelectClause = "id, stats";

// Specify hello ExpandClause so that hello .NET API pulls hello statistics for the
// CloudPools in a single underlying REST API call. Note that we use hello pool's
// REST API element name "stats" here as opposed too"Statistics" as it appears in
// hello .NET API (CloudPool.Statistics)
detailLevel.ExpandClause = "stats";

// Now get our collection of pools, minimizing hello amount of data that is returned
// by specifying hello detail level that we configured above
List<CloudPool> testPools =
    await myBatchClient.PoolOperations.ListPools(detailLevel).ToListAsync();
```

> [!TIP]
> <span data-ttu-id="8d773-177">Un'istanza di [ODATADetailLevel] [ odata] che viene configurato con l'istruzione Select e clausole di espansione è anche possibile passare metodi Get tooappropriate, ad esempio [PoolOperations.GetPool](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.getpool.aspx) , quantità di hello toolimit di dati restituiti.</span><span class="sxs-lookup"><span data-stu-id="8d773-177">An instance of [ODATADetailLevel][odata] that is configured with Select and Expand clauses can also be passed tooappropriate Get methods, such as [PoolOperations.GetPool](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.getpool.aspx), toolimit hello amount of data that is returned.</span></span>
> 
> 

## <a name="batch-rest-toonet-api-mappings"></a><span data-ttu-id="8d773-178">Mapping REST too.NET API batch</span><span class="sxs-lookup"><span data-stu-id="8d773-178">Batch REST too.NET API mappings</span></span>
<span data-ttu-id="8d773-179">I nomi delle proprietà nelle stringhe di filtro, selezione ed espansione *devono* riflettere le rispettive controparti dell'API REST, sia a livello di nome che di lettere maiuscole/minuscole.</span><span class="sxs-lookup"><span data-stu-id="8d773-179">Property names in filter, select, and expand strings *must* reflect their REST API counterparts, both in name and case.</span></span> <span data-ttu-id="8d773-180">tabelle di Hello riportate di seguito forniscono i mapping tra hello .NET e relative controparti di API REST.</span><span class="sxs-lookup"><span data-stu-id="8d773-180">hello tables below provide mappings between hello .NET and REST API counterparts.</span></span>

### <a name="mappings-for-filter-strings"></a><span data-ttu-id="8d773-181">Mapping per le stringhe di filtro</span><span class="sxs-lookup"><span data-stu-id="8d773-181">Mappings for filter strings</span></span>
* <span data-ttu-id="8d773-182">**Metodi di elenco .NET**: ognuno dei metodi dell'API .NET hello in questa colonna accetta un [ODATADetailLevel] [ odata] oggetto come parametro.</span><span class="sxs-lookup"><span data-stu-id="8d773-182">**.NET list methods**: Each of hello .NET API methods in this column accepts an [ODATADetailLevel][odata] object as a parameter.</span></span>
* <span data-ttu-id="8d773-183">**Richieste REST di elenco**: API REST di ogni pagina tooin collegato, questa colonna contiene una tabella che specifica le proprietà di hello e le operazioni che sono consentiti in *filtro* stringhe.</span><span class="sxs-lookup"><span data-stu-id="8d773-183">**REST list requests**: Each REST API page linked tooin this column contains a table that specifies hello properties and operations that are allowed in *filter* strings.</span></span> <span data-ttu-id="8d773-184">Questi nomi di proprietà e queste operazioni verranno usati per costruire una stringa [ODATADetailLevel.FilterClause][odata_filter].</span><span class="sxs-lookup"><span data-stu-id="8d773-184">You will use these property names and operations when you construct an [ODATADetailLevel.FilterClause][odata_filter] string.</span></span>

| <span data-ttu-id="8d773-185">Metodi list .NET</span><span class="sxs-lookup"><span data-stu-id="8d773-185">.NET list methods</span></span> | <span data-ttu-id="8d773-186">Richieste list REST</span><span class="sxs-lookup"><span data-stu-id="8d773-186">REST list requests</span></span> |
| --- | --- |
| <span data-ttu-id="8d773-187">[CertificateOperations.ListCertificates][net_list_certs]</span><span class="sxs-lookup"><span data-stu-id="8d773-187">[CertificateOperations.ListCertificates][net_list_certs]</span></span> |<span data-ttu-id="8d773-188">[Elenco dei certificati hello in un account][rest_list_certs]</span><span class="sxs-lookup"><span data-stu-id="8d773-188">[List hello certificates in an account][rest_list_certs]</span></span> |
| <span data-ttu-id="8d773-189">[CloudTask.ListNodeFiles][net_list_task_files]</span><span class="sxs-lookup"><span data-stu-id="8d773-189">[CloudTask.ListNodeFiles][net_list_task_files]</span></span> |<span data-ttu-id="8d773-190">[Elencare i file hello associati a un'attività][rest_list_task_files]</span><span class="sxs-lookup"><span data-stu-id="8d773-190">[List hello files associated with a task][rest_list_task_files]</span></span> |
| <span data-ttu-id="8d773-191">[JobOperations.ListJobPreparationAndReleaseTaskStatus][net_list_jobprep_status]</span><span class="sxs-lookup"><span data-stu-id="8d773-191">[JobOperations.ListJobPreparationAndReleaseTaskStatus][net_list_jobprep_status]</span></span> |<span data-ttu-id="8d773-192">[Elenca stato hello di preparazione del processo hello e attività di processo di rilascio per un processo][rest_list_jobprep_status]</span><span class="sxs-lookup"><span data-stu-id="8d773-192">[List hello status of hello job preparation and job release tasks for a job][rest_list_jobprep_status]</span></span> |
| <span data-ttu-id="8d773-193">[JobOperations.ListJobs][net_list_jobs]</span><span class="sxs-lookup"><span data-stu-id="8d773-193">[JobOperations.ListJobs][net_list_jobs]</span></span> |<span data-ttu-id="8d773-194">[Elencare i processi di hello in un account][rest_list_jobs]</span><span class="sxs-lookup"><span data-stu-id="8d773-194">[List hello jobs in an account][rest_list_jobs]</span></span> |
| <span data-ttu-id="8d773-195">[JobOperations.ListNodeFiles][net_list_nodefiles]</span><span class="sxs-lookup"><span data-stu-id="8d773-195">[JobOperations.ListNodeFiles][net_list_nodefiles]</span></span> |<span data-ttu-id="8d773-196">[Elenco di file hello in un nodo][rest_list_nodefiles]</span><span class="sxs-lookup"><span data-stu-id="8d773-196">[List hello files on a node][rest_list_nodefiles]</span></span> |
| <span data-ttu-id="8d773-197">[JobOperations.ListTasks][net_list_tasks]</span><span class="sxs-lookup"><span data-stu-id="8d773-197">[JobOperations.ListTasks][net_list_tasks]</span></span> |<span data-ttu-id="8d773-198">[Elencare le attività di hello associate a un processo][rest_list_tasks]</span><span class="sxs-lookup"><span data-stu-id="8d773-198">[List hello tasks associated with a job][rest_list_tasks]</span></span> |
| <span data-ttu-id="8d773-199">[JobScheduleOperations.ListJobSchedules][net_list_job_schedules]</span><span class="sxs-lookup"><span data-stu-id="8d773-199">[JobScheduleOperations.ListJobSchedules][net_list_job_schedules]</span></span> |<span data-ttu-id="8d773-200">[Pianificazioni dei processi hello elenco in un account][rest_list_job_schedules]</span><span class="sxs-lookup"><span data-stu-id="8d773-200">[List hello job schedules in an account][rest_list_job_schedules]</span></span> |
| <span data-ttu-id="8d773-201">[JobScheduleOperations.ListJobs][net_list_schedule_jobs]</span><span class="sxs-lookup"><span data-stu-id="8d773-201">[JobScheduleOperations.ListJobs][net_list_schedule_jobs]</span></span> |<span data-ttu-id="8d773-202">[Elencare i processi di hello associati a una pianificazione di processo][rest_list_schedule_jobs]</span><span class="sxs-lookup"><span data-stu-id="8d773-202">[List hello jobs associated with a job schedule][rest_list_schedule_jobs]</span></span> |
| <span data-ttu-id="8d773-203">[PoolOperations.ListComputeNodes][net_list_compute_nodes]</span><span class="sxs-lookup"><span data-stu-id="8d773-203">[PoolOperations.ListComputeNodes][net_list_compute_nodes]</span></span> |<span data-ttu-id="8d773-204">[Hello elenco nodi di calcolo in un pool][rest_list_compute_nodes]</span><span class="sxs-lookup"><span data-stu-id="8d773-204">[List hello compute nodes in a pool][rest_list_compute_nodes]</span></span> |
| <span data-ttu-id="8d773-205">[PoolOperations.ListPools][net_list_pools]</span><span class="sxs-lookup"><span data-stu-id="8d773-205">[PoolOperations.ListPools][net_list_pools]</span></span> |<span data-ttu-id="8d773-206">[Elenco hello pool in un account][rest_list_pools]</span><span class="sxs-lookup"><span data-stu-id="8d773-206">[List hello pools in an account][rest_list_pools]</span></span> |

### <a name="mappings-for-select-strings"></a><span data-ttu-id="8d773-207">Mapping per le stringhe di selezione</span><span class="sxs-lookup"><span data-stu-id="8d773-207">Mappings for select strings</span></span>
* <span data-ttu-id="8d773-208">**Tipi di Batch .NET**: tipi di API Batch .NET.</span><span class="sxs-lookup"><span data-stu-id="8d773-208">**Batch .NET types**: Batch .NET API types.</span></span>
* <span data-ttu-id="8d773-209">**Entità API REST**: ogni pagina in questa colonna contiene una o più tabelle in cui sono elencati i nomi delle proprietà di hello API REST per il tipo di hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-209">**REST API entities**: Each page in this column contains one or more tables that list hello REST API property names for hello type.</span></span> <span data-ttu-id="8d773-210">Questi nomi di proprietà vengono usati per la costruzione di stringhe di *selezione* .</span><span class="sxs-lookup"><span data-stu-id="8d773-210">These property names are used when you construct *select* strings.</span></span> <span data-ttu-id="8d773-211">Questi stessi nomi di proprietà verranno usati per costruire una stringa [ODATADetailLevel.SelectClause][odata_select].</span><span class="sxs-lookup"><span data-stu-id="8d773-211">You will use these same property names when you construct an [ODATADetailLevel.SelectClause][odata_select] string.</span></span>

| <span data-ttu-id="8d773-212">Tipi di Batch .NET</span><span class="sxs-lookup"><span data-stu-id="8d773-212">Batch .NET types</span></span> | <span data-ttu-id="8d773-213">Entità di API REST</span><span class="sxs-lookup"><span data-stu-id="8d773-213">REST API entities</span></span> |
| --- | --- |
| <span data-ttu-id="8d773-214">[Certificate][net_cert]</span><span class="sxs-lookup"><span data-stu-id="8d773-214">[Certificate][net_cert]</span></span> |<span data-ttu-id="8d773-215">[Ottenere informazioni su un certificato][rest_get_cert]</span><span class="sxs-lookup"><span data-stu-id="8d773-215">[Get information about a certificate][rest_get_cert]</span></span> |
| <span data-ttu-id="8d773-216">[CloudJob][net_job]</span><span class="sxs-lookup"><span data-stu-id="8d773-216">[CloudJob][net_job]</span></span> |<span data-ttu-id="8d773-217">[Ottenere informazioni su un processo][rest_get_job]</span><span class="sxs-lookup"><span data-stu-id="8d773-217">[Get information about a job][rest_get_job]</span></span> |
| <span data-ttu-id="8d773-218">[CloudJobSchedule][net_schedule]</span><span class="sxs-lookup"><span data-stu-id="8d773-218">[CloudJobSchedule][net_schedule]</span></span> |<span data-ttu-id="8d773-219">[Ottenere informazioni su una pianificazione di processi][rest_get_schedule]</span><span class="sxs-lookup"><span data-stu-id="8d773-219">[Get information about a job schedule][rest_get_schedule]</span></span> |
| <span data-ttu-id="8d773-220">[ComputeNode][net_node]</span><span class="sxs-lookup"><span data-stu-id="8d773-220">[ComputeNode][net_node]</span></span> |<span data-ttu-id="8d773-221">[Ottenere informazioni su un nodo][rest_get_node]</span><span class="sxs-lookup"><span data-stu-id="8d773-221">[Get information about a node][rest_get_node]</span></span> |
| <span data-ttu-id="8d773-222">[CloudPool][net_pool]</span><span class="sxs-lookup"><span data-stu-id="8d773-222">[CloudPool][net_pool]</span></span> |<span data-ttu-id="8d773-223">[Ottenere informazioni su un pool][rest_get_pool]</span><span class="sxs-lookup"><span data-stu-id="8d773-223">[Get information about a pool][rest_get_pool]</span></span> |
| <span data-ttu-id="8d773-224">[CloudTask][net_task]</span><span class="sxs-lookup"><span data-stu-id="8d773-224">[CloudTask][net_task]</span></span> |<span data-ttu-id="8d773-225">[Ottenere informazioni su un'attività][rest_get_task]</span><span class="sxs-lookup"><span data-stu-id="8d773-225">[Get information about a task][rest_get_task]</span></span> |

## <a name="example-construct-a-filter-string"></a><span data-ttu-id="8d773-226">Esempio: costruire una stringa di filtro</span><span class="sxs-lookup"><span data-stu-id="8d773-226">Example: construct a filter string</span></span>
<span data-ttu-id="8d773-227">Quando si costruisce una stringa di filtro per [ODATADetailLevel.FilterClause][odata_filter], consultare la tabella hello in precedenza nella sezione "Mapping per le stringhe di filtro" toofind hello API REST documentazione pagina corrispondente operazione di elenco toohello che si desidera tooperform.</span><span class="sxs-lookup"><span data-stu-id="8d773-227">When you construct a filter string for [ODATADetailLevel.FilterClause][odata_filter], consult hello table above under "Mappings for filter strings" toofind hello REST API documentation page that corresponds toohello list operation that you wish tooperform.</span></span> <span data-ttu-id="8d773-228">Sono disponibili proprietà filtrabili hello e i relativi operatori supportati nella prima tabella più righe di hello in tale pagina.</span><span class="sxs-lookup"><span data-stu-id="8d773-228">You will find hello filterable properties and their supported operators in hello first multirow table on that page.</span></span> <span data-ttu-id="8d773-229">Se si desiderano tooretrieve tutte le attività il cui codice di uscita è diverso da zero, ad esempio, questa riga in [elenco attività hello associata a un processo] [ rest_list_tasks] specifica stringa della proprietà applicabile hello e operatori consentiti:</span><span class="sxs-lookup"><span data-stu-id="8d773-229">If you wish tooretrieve all tasks whose exit code was nonzero, for example, this row on [List hello tasks associated with a job][rest_list_tasks] specifies hello applicable property string and allowable operators:</span></span>

| <span data-ttu-id="8d773-230">Proprietà</span><span class="sxs-lookup"><span data-stu-id="8d773-230">Property</span></span> | <span data-ttu-id="8d773-231">Operazioni consentite</span><span class="sxs-lookup"><span data-stu-id="8d773-231">Operations allowed</span></span> | <span data-ttu-id="8d773-232">Tipo</span><span class="sxs-lookup"><span data-stu-id="8d773-232">Type</span></span> |
|:--- |:--- |:--- |
| `executionInfo/exitCode` |`eq, ge, gt, le , lt` |`Int` |

<span data-ttu-id="8d773-233">Di conseguenza, la stringa di filtro hello per elencare tutte le attività con un codice di uscita diverso da zero sarebbe:</span><span class="sxs-lookup"><span data-stu-id="8d773-233">Thus, hello filter string for listing all tasks with a nonzero exit code would be:</span></span>

`(executionInfo/exitCode lt 0) or (executionInfo/exitCode gt 0)`

## <a name="example-construct-a-select-string"></a><span data-ttu-id="8d773-234">Esempio: costruire una stringa di selezione</span><span class="sxs-lookup"><span data-stu-id="8d773-234">Example: construct a select string</span></span>
<span data-ttu-id="8d773-235">tooconstruct [ODATADetailLevel.SelectClause][odata_select], consultare la tabella hello sopra in "Mapping per le stringhe selezionare" e passare i codici di API REST di toohello corrispondente toohello tipo di entità che si elencare.</span><span class="sxs-lookup"><span data-stu-id="8d773-235">tooconstruct [ODATADetailLevel.SelectClause][odata_select], consult hello table above under "Mappings for select strings" and navigate toohello REST API page that corresponds toohello type of entity that you are listing.</span></span> <span data-ttu-id="8d773-236">Sono disponibili proprietà selezionabile hello e i relativi operatori supportati nella prima tabella più righe di hello in tale pagina.</span><span class="sxs-lookup"><span data-stu-id="8d773-236">You will find hello selectable properties and their supported operators in hello first multirow table on that page.</span></span> <span data-ttu-id="8d773-237">Se si desidera tooretrieve solo hello ID e la riga di comando per ogni attività in un elenco, ad esempio, si troverà queste righe nella tabella applicabile hello in [ottenere informazioni su un'attività][rest_get_task]:</span><span class="sxs-lookup"><span data-stu-id="8d773-237">If you wish tooretrieve only hello ID and command line for each task in a list, for example, you will find these rows in hello applicable table on [Get information about a task][rest_get_task]:</span></span>

| <span data-ttu-id="8d773-238">Proprietà</span><span class="sxs-lookup"><span data-stu-id="8d773-238">Property</span></span> | <span data-ttu-id="8d773-239">Tipo</span><span class="sxs-lookup"><span data-stu-id="8d773-239">Type</span></span> | <span data-ttu-id="8d773-240">Note</span><span class="sxs-lookup"><span data-stu-id="8d773-240">Notes</span></span> |
|:--- |:--- |:--- |
| `id` |`String` |`hello ID of hello task.` |
| `commandLine` |`String` |`hello command line of hello task.` |

<span data-ttu-id="8d773-241">Selezionare stringa per includere solo hello ID e la riga di comando con ogni attività elencata di Hello sarà quindi:</span><span class="sxs-lookup"><span data-stu-id="8d773-241">hello select string for including only hello ID and command line with each listed task would then be:</span></span>

`id, commandLine`

## <a name="code-samples"></a><span data-ttu-id="8d773-242">Esempi di codice</span><span class="sxs-lookup"><span data-stu-id="8d773-242">Code samples</span></span>
### <a name="efficient-list-queries-code-sample"></a><span data-ttu-id="8d773-243">Esempio di codice per query di elenco efficienti</span><span class="sxs-lookup"><span data-stu-id="8d773-243">Efficient list queries code sample</span></span>
<span data-ttu-id="8d773-244">Estrarre hello [EfficientListQueries] [ efficient_query_sample] progetto di esempio in GitHub toosee modo efficiente l'esecuzione di query di elenco in termini di prestazioni in un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8d773-244">Check out hello [EfficientListQueries][efficient_query_sample] sample project on GitHub toosee how efficient list querying can affect performance in an application.</span></span> <span data-ttu-id="8d773-245">Questa applicazione console c# Crea e aggiunge un numero elevato di processi tooa di attività.</span><span class="sxs-lookup"><span data-stu-id="8d773-245">This C# console application creates and adds a large number of tasks tooa job.</span></span> <span data-ttu-id="8d773-246">Quindi, rende più chiamate toohello [JobOperations.ListTasks] [ net_list_tasks] metodo e passa [ODATADetailLevel] [ odata] gli oggetti configurato con una quantità di proprietà diversi valori toovary hello di toobe di dati restituito.</span><span class="sxs-lookup"><span data-stu-id="8d773-246">Then, it makes multiple calls toohello [JobOperations.ListTasks][net_list_tasks] method and passes [ODATADetailLevel][odata] objects that are configured with different property values toovary hello amount of data toobe returned.</span></span> <span data-ttu-id="8d773-247">Produce il seguente toohello simili di output:</span><span class="sxs-lookup"><span data-stu-id="8d773-247">It produces output similar toohello following:</span></span>

```
Adding 5000 tasks toojob jobEffQuery...
5000 tasks added in 00:00:47.3467587, hit ENTER tooquery tasks...

4943 tasks retrieved in 00:00:04.3408081 (ExpandClause:  | FilterClause: state eq 'active' | SelectClause: id,state)
0 tasks retrieved in 00:00:00.2662920 (ExpandClause:  | FilterClause: state eq 'running' | SelectClause: id,state)
59 tasks retrieved in 00:00:00.3337760 (ExpandClause:  | FilterClause: state eq 'completed' | SelectClause: id,state)
5000 tasks retrieved in 00:00:04.1429881 (ExpandClause:  | FilterClause:  | SelectClause: id,state)
5000 tasks retrieved in 00:00:15.1016127 (ExpandClause:  | FilterClause:  | SelectClause: id,state,environmentSettings)
5000 tasks retrieved in 00:00:17.0548145 (ExpandClause: stats | FilterClause:  | SelectClause: )

Sample complete, hit ENTER toocontinue...
```

<span data-ttu-id="8d773-248">Come illustrato in ore trascorso hello, è possibile ridurre notevolmente i tempi di risposta query limitando proprietà hello e numero di hello di elementi restituiti.</span><span class="sxs-lookup"><span data-stu-id="8d773-248">As shown in hello elapsed times, you can greatly lower query response times by limiting hello properties and hello number of items that are returned.</span></span> <span data-ttu-id="8d773-249">È possibile trovare questo e altri progetti di esempio in hello [esempi di azure batch] [ github_samples] repository in GitHub.</span><span class="sxs-lookup"><span data-stu-id="8d773-249">You can find this and other sample projects in hello [azure-batch-samples][github_samples] repository on GitHub.</span></span>

### <a name="batchmetrics-library-and-code-sample"></a><span data-ttu-id="8d773-250">Libreria BatchMetrics ed esempio di codice</span><span class="sxs-lookup"><span data-stu-id="8d773-250">BatchMetrics library and code sample</span></span>
<span data-ttu-id="8d773-251">Inoltre toohello EfficientListQueries codice di esempio precedente, è possibile trovare hello [BatchMetrics] [ batch_metrics] progetto in hello [esempi di azure batch] [ github_samples] Repository di GitHub.</span><span class="sxs-lookup"><span data-stu-id="8d773-251">In addition toohello EfficientListQueries code sample above, you can find hello [BatchMetrics][batch_metrics] project in hello [azure-batch-samples][github_samples] GitHub repository.</span></span> <span data-ttu-id="8d773-252">progetto di esempio Hello BatchMetrics viene illustrato come tooefficiently monitorare lo stato del processo Batch di Azure utilizzando hello API Batch.</span><span class="sxs-lookup"><span data-stu-id="8d773-252">hello BatchMetrics sample project demonstrates how tooefficiently monitor Azure Batch job progress using hello Batch API.</span></span>

<span data-ttu-id="8d773-253">Hello [BatchMetrics] [ batch_metrics] esempio include un progetto libreria di classi .NET che è possibile incorporare in progetti e una semplice riga di comando tooexercise di programma e illustrare l'utilizzo di hello di hello libreria.</span><span class="sxs-lookup"><span data-stu-id="8d773-253">hello [BatchMetrics][batch_metrics] sample includes a .NET class library project which you can incorporate into your own projects, and a simple command-line program tooexercise and demonstrate hello use of hello library.</span></span>

<span data-ttu-id="8d773-254">applicazione di esempio Hello all'interno di progetto hello illustra hello seguenti operazioni:</span><span class="sxs-lookup"><span data-stu-id="8d773-254">hello sample application within hello project demonstrates hello following operations:</span></span>

1. <span data-ttu-id="8d773-255">Selezione attributi specifici in ordine toodownload solo hello le proprietà necessarie</span><span class="sxs-lookup"><span data-stu-id="8d773-255">Selecting specific attributes in order toodownload only hello properties you need</span></span>
2. <span data-ttu-id="8d773-256">Il filtro sui tempi di transizione di stato in toodownload ordine solo modifiche dall'ultima query hello</span><span class="sxs-lookup"><span data-stu-id="8d773-256">Filtering on state transition times in order toodownload only changes since hello last query</span></span>

<span data-ttu-id="8d773-257">Ad esempio, hello al metodo nella libreria BatchMetrics hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-257">For example, hello following method appears in hello BatchMetrics library.</span></span> <span data-ttu-id="8d773-258">Restituisce un ODATADetailLevel che specifica che solo hello `id` e `state` devono ottenere le proprietà per le entità hello che vengono eseguita una query.</span><span class="sxs-lookup"><span data-stu-id="8d773-258">It returns an ODATADetailLevel that specifies that only hello `id` and `state` properties should be obtained for hello entities that are queried.</span></span> <span data-ttu-id="8d773-259">Specifica inoltre che solo le entità il cui stato è stato modificato dall'hello specificato `DateTime` parametro deve essere restituito.</span><span class="sxs-lookup"><span data-stu-id="8d773-259">It also specifies that only entities whose state has changed since hello specified `DateTime` parameter should be returned.</span></span>

```csharp
internal static ODATADetailLevel OnlyChangedAfter(DateTime time)
{
    return new ODATADetailLevel(
        selectClause: "id, state",
        filterClause: string.Format("stateTransitionTime gt DateTime'{0:o}'", time)
    );
}
```

## <a name="next-steps"></a><span data-ttu-id="8d773-260">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="8d773-260">Next steps</span></span>
### <a name="parallel-node-tasks"></a><span data-ttu-id="8d773-261">Attività parallele sui nodi</span><span class="sxs-lookup"><span data-stu-id="8d773-261">Parallel node tasks</span></span>
<span data-ttu-id="8d773-262">[Ottimizzare l'utilizzo delle risorse di calcolo di Azure Batch con le attività simultanee nodo](batch-parallel-node-tasks.md) un altro articolo correlato tooBatch le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8d773-262">[Maximize Azure Batch compute resource usage with concurrent node tasks](batch-parallel-node-tasks.md) is another article related tooBatch application performance.</span></span> <span data-ttu-id="8d773-263">Alcuni tipi di carichi di lavoro possono trarre vantaggio dall'esecuzione di attività in parallelo su nodi di calcolo più grandi, ma in numero inferiore.</span><span class="sxs-lookup"><span data-stu-id="8d773-263">Some types of workloads can benefit from executing parallel tasks on larger--but fewer--compute nodes.</span></span> <span data-ttu-id="8d773-264">Estrarre hello [nello scenario di esempio](batch-parallel-node-tasks.md#example-scenario) nell'articolo hello per informazioni dettagliate su questo scenario.</span><span class="sxs-lookup"><span data-stu-id="8d773-264">Check out hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello article for details on such a scenario.</span></span>

### <a name="batch-forum"></a><span data-ttu-id="8d773-265">Forum di Batch</span><span class="sxs-lookup"><span data-stu-id="8d773-265">Batch Forum</span></span>
<span data-ttu-id="8d773-266">Hello [Forum di Azure Batch] [ forum] su MSDN è un ottimo posizionare toodiscuss Batch e porre domande sul servizio hello.</span><span class="sxs-lookup"><span data-stu-id="8d773-266">hello [Azure Batch Forum][forum] on MSDN is a great place toodiscuss Batch and ask questions about hello service.</span></span> <span data-ttu-id="8d773-267">Leggere i post contrassegnati e inviare domande durante le procedure di sviluppo delle soluzioni Batch.</span><span class="sxs-lookup"><span data-stu-id="8d773-267">Head on over for helpful "sticky" posts, and post your questions as they arise while you build your Batch solutions.</span></span>

[api_net]: http://msdn.microsoft.com/library/azure/mt348682.aspx
[api_net_listjobs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listjobs.aspx
[api_rest]: http://msdn.microsoft.com/library/azure/dn820158.aspx
[batch_metrics]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchMetrics
[efficient_query_sample]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/EfficientListQueries
[forum]: https://social.msdn.microsoft.com/forums/azure/en-US/home?forum=azurebatch
[github_samples]: https://github.com/Azure/azure-batch-samples
[odata]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.aspx
[odata_ctor]: https://msdn.microsoft.com/library/azure/dn866178.aspx
[odata_expand]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.expandclause.aspx
[odata_filter]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.filterclause.aspx
[odata_select]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.selectclause.aspx

[net_list_certs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.listcertificates.aspx
[net_list_compute_nodes]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.listcomputenodes.aspx
[net_list_job_schedules]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.jobscheduleoperations.listjobschedules.aspx
[net_list_jobprep_status]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listjobpreparationandreleasetaskstatus.aspx
[net_list_jobs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listjobs.aspx
[net_list_nodefiles]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listnodefiles.aspx
[net_list_pools]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.listpools.aspx
[net_list_schedule_jobs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.jobscheduleoperations.listjobs.aspx
[net_list_task_files]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.listnodefiles.aspx
[net_list_tasks]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listtasks.aspx

[rest_list_certs]: https://msdn.microsoft.com/library/azure/dn820154.aspx
[rest_list_compute_nodes]: https://msdn.microsoft.com/library/azure/dn820159.aspx
[rest_list_job_schedules]: https://msdn.microsoft.com/library/azure/mt282174.aspx
[rest_list_jobprep_status]: https://msdn.microsoft.com/library/azure/mt282170.aspx
[rest_list_jobs]: https://msdn.microsoft.com/library/azure/dn820117.aspx
[rest_list_nodefiles]: https://msdn.microsoft.com/library/azure/dn820151.aspx
[rest_list_pools]: https://msdn.microsoft.com/library/azure/dn820101.aspx
[rest_list_schedule_jobs]: https://msdn.microsoft.com/library/azure/mt282169.aspx
[rest_list_task_files]: https://msdn.microsoft.com/library/azure/dn820142.aspx
[rest_list_tasks]: https://msdn.microsoft.com/library/azure/dn820187.aspx

[rest_get_cert]: https://msdn.microsoft.com/library/azure/dn820176.aspx
[rest_get_job]: https://msdn.microsoft.com/library/azure/dn820106.aspx
[rest_get_node]: https://msdn.microsoft.com/library/azure/dn820168.aspx
[rest_get_pool]: https://msdn.microsoft.com/library/azure/dn820165.aspx
[rest_get_schedule]: https://msdn.microsoft.com/library/azure/mt282171.aspx
[rest_get_task]: https://msdn.microsoft.com/library/azure/dn820133.aspx

[net_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificate.aspx
[net_job]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.aspx
[net_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.aspx
[net_pool]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.aspx
[net_schedule]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjobschedule.aspx
[net_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.aspx

[rest_get_task_counts]: https://docs.microsoft.com/rest/api/batchservice/get-the-task-counts-for-a-job