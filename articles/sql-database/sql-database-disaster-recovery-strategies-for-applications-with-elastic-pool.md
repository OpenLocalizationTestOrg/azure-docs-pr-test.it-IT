---
title: soluzioni di ripristino di emergenza aaaDesign - Database SQL di Azure | Documenti Microsoft
description: Informazioni su come toodesign la soluzione di cloud di ripristino di emergenza scegliendo il criterio di failover destra hello.
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="2c6a3-103">Strategie di ripristino di emergenza per applicazioni che usano i pool elastici del database SQL</span><span class="sxs-lookup"><span data-stu-id="2c6a3-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="2c6a3-104">Negli anni hello è abbiamo appreso che i servizi cloud non sono infallibile e il verificarsi di eventi imprevisti irreversibili.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="2c6a3-105">Database SQL fornisce diverse funzionalità tooprovide per la continuità aziendale hello dell'applicazione quando si verificano gli eventi imprevisti.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="2c6a3-106">[Pool elastici](sql-database-elastic-pool.md) e singoli database supportano hello stesso tipo di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="2c6a3-107">Questo articolo illustra alcune strategie di ripristino di emergenza per i pool elastici che sfruttano i vantaggi di queste funzionalità per la continuità aziendale del database SQL.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="2c6a3-108">In questo articolo Usa hello seguente modello di applicazione SaaS ISV canonico:</span><span class="sxs-lookup"><span data-stu-id="2c6a3-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="2c6a3-109"><i>Un'applicazione web basato su cloud moderne esegue il provisioning di un database SQL per ogni utente finale. Hello ISV ha molti clienti e pertanto Usa numerosi database, noti come database tenant. Poiché i database tenant hello dispongono in genere di modelli di attività imprevedibili, hello ISV utilizza un pool elastico toomake hello costo del database molto stimabile per periodi prolungati di tempo. pool elastico Hello semplifica anche la gestione delle prestazioni hello quando picchi di attività utente hello. Inoltre un'applicazione hello database tenant toohello utilizza diversi database profili utente mobili toomanage, sicurezza, raccolgono di modelli di utilizzo e così via. Disponibilità di singoli tenant hello non influisce sulla disponibilità dell'applicazione hello nel suo complesso. Tuttavia, hello disponibilità e prestazioni di database di gestione è critici per la funzione dell'applicazione hello e se il database di gestione di hello intera applicazione hello offline è offline.</i></span><span class="sxs-lookup"><span data-stu-id="2c6a3-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="2c6a3-110">In questo articolo vengono illustrate le strategie di ripristino di emergenza che coprono una gamma di scenari dal costo sensibili avvio applicazioni tooones con requisiti rigorosi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="2c6a3-111">Scenario 1.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-111">Scenario 1.</span></span> <span data-ttu-id="2c6a3-112">Start-up attente ai costi</span><span class="sxs-lookup"><span data-stu-id="2c6a3-112">Cost sensitive startup</span></span>
<span data-ttu-id="2c6a3-113"><i>Una start-up estremamente attenta ai costi  Desidero toosimplify distribuzione e gestione di un'applicazione hello e ho è un contratto di servizio limitato per i singoli clienti. Ma si desidera un'applicazione hello tooensure mai è offline.</i></span><span class="sxs-lookup"><span data-stu-id="2c6a3-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="2c6a3-114">requisito di semplicità toosatisfy hello, distribuire tutti i database tenant in un pool elastico in hello Azure regione di propria scelta e i database di gestione come replica geografica singoli database.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="2c6a3-115">Per il ripristino di emergenza hello di tenant, usare il ripristino a livello geografico, viene fornito senza alcun costo aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="2c6a3-116">disponibilità di hello tooensure di hello i database di gestione, abilitare la replica geografica li area tooanother usando un gruppo con failover automatico (in anteprima) (passaggio 1).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="2c6a3-117">costo Hello della configurazione di ripristino di emergenza hello in questo scenario è toohello uguale costo totale dei database secondari hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="2c6a3-118">Questa configurazione è illustrata nel diagramma successivo hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-118">This configuration is illustrated on hello next diagram.</span></span>

![Figura 1](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="2c6a3-120">Se si verifica un'interruzione nell'area primaria hello, hello toobring passaggi di ripristino in linea l'applicazione vengono illustrato nel diagramma seguente hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="2c6a3-121">gruppo di failover Hello avvia il failover automatico dell'area del ripristino di emergenza toohello hello gestione database.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="2c6a3-122">un'applicazione Hello è toohello riconnessa automaticamente nuovi primario e tutti i nuovi account e i database tenant vengono creati nell'area di ripristino di emergenza hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="2c6a3-123">i clienti esistenti di Hello di visualizzare i dati temporaneamente non disponibili.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="2c6a3-124">Creare il pool elastico di hello con hello stessa configurazione di pool originale hello (2).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="2c6a3-125">Utilizzare il ripristino geografico toocreate copie dei database tenant hello (3).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="2c6a3-126">È possibile prendere in considerazione l'attivazione di ripristini singoli hello per le connessioni dell'utente finale di hello o utilizzare altri schemi di priorità specifico dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="2c6a3-127">A questo punto l'applicazione è in modalità online nell'area di ripristino di emergenza hello, ma alcuni clienti ritardo durante l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![Figura 2](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="2c6a3-129">Se l'interruzione di hello è temporanea, è possibile che tale area primaria hello viene recuperato da Azure prima del completamento tutti i ripristini di database hello in area hello ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="2c6a3-130">In questo caso, orchestrare lo spostamento hello applicazione back-toohello area primaria.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="2c6a3-131">il processo di Hello richiede passaggi hello illustrati nel diagramma successivo hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="2c6a3-132">Annullare tutte le richieste di ripristino geografico in sospeso.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="2c6a3-133">Eseguire il failover hello management database toohello area primaria (5).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="2c6a3-134">Dopo il ripristino dell'area di hello, primari precedente hello diventate automaticamente i database secondari.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="2c6a3-135">Ora i ruoli vengono nuovamente invertiti.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="2c6a3-136">Modificare l'area geografica primaria dell'applicazione hello connessione stringa toopoint toohello indietro.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="2c6a3-137">Ora tutti i nuovi account e i database tenant vengono creati nell'area primaria hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="2c6a3-138">I dati risultano temporaneamente non disponibili per alcuni clienti esistenti.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="2c6a3-139">Impostare tutti i database in hello ripristino di emergenza pool solo tooread tooensure che non possono essere modificate nell'area di ripristino di emergenza hello (6).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="2c6a3-140">Per ogni database nel pool di ripristino di emergenza che è stato modificato dopo il recupero di hello hello, rinominare o eliminare i database corrispondenti hello in pool primario hello (7).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="2c6a3-141">Hello copia aggiornato i database da hello pool primario di toohello pool ripristino di emergenza (8).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="2c6a3-142">Eliminare il pool di ripristino di emergenza hello (9)</span><span class="sxs-lookup"><span data-stu-id="2c6a3-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="2c6a3-143">A questo punto l'applicazione è online nell'area primaria di hello con tutti i tenant database disponibili nel pool primario hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![Figura 3](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="2c6a3-145">chiave Hello **vantaggio** di questa strategia è basso costo per la ridondanza del livello dati.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="2c6a3-146">I backup vengono eseguiti automaticamente dal servizio di Database SQL con nessun riscrittura dell'applicazione e senza alcun costo aggiuntivo hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="2c6a3-147">costo Hello si verifica solo quando vengono ripristinati i database elastici hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="2c6a3-148">Hello **compromesso** ripristino completo di hello di tutti i database di tenant accettati molto tempo.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="2c6a3-149">Hello periodo di tempo dipende dal numero totale di hello di ripristini si avvia in hello ripristino di emergenza area e la dimensione complessiva di hello tenant di database.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="2c6a3-150">Anche se è la priorità ripristini alcuni tenant rispetto alle altre, sono in competizione con hello tutti gli altri ripristini avviati in hello stessa area come servizio hello regola e limita toominimize hello impatto complessivo sui database hello clienti esistenti.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="2c6a3-151">Inoltre, ripristino hello del database tenant hello non è possibile avviare fino a quando non viene creato nuovo pool elastico hello nell'area di ripristino di emergenza hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="2c6a3-152">Scenario 2.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-152">Scenario 2.</span></span> <span data-ttu-id="2c6a3-153">Applicazione matura con più livelli di servizio</span><span class="sxs-lookup"><span data-stu-id="2c6a3-153">Mature application with tiered service</span></span>
<span data-ttu-id="2c6a3-154"><i>Un'applicazione SaaS matura con più livelli di offerte del servizio e diversi contratti di servizio per i clienti delle versioni di valutazione e i clienti delle versioni a pagamento Per i clienti di valutazione di hello, è necessario tooreduce hello costo quanto possibile. I clienti di valutazione possono richiedere tempi di inattività, ma si desidera tooreduce relativa probabilità. Per i clienti paganti di hello, eventuali tempi di inattività implica un rischio di volo. Pertanto si desidera che i clienti paganti siano sempre in grado di tooaccess toomake i propri dati.</i></span><span class="sxs-lookup"><span data-stu-id="2c6a3-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="2c6a3-155">toosupport questo scenario, separato hello tenant da pagamento tenant inserendole in pool elastici separato.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="2c6a3-156">i clienti di valutazione di Hello hanno inferiore eDTU per ogni tenant e un contratto di servizio inferiore con un tempo di ripristino.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="2c6a3-157">per i clienti paganti Hello sono in un pool con maggiore eDTU per ogni tenant e un contratto di servizio superiore.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="2c6a3-158">tooguarantee hello minimo tempo di recupero, i database tenant dei clienti paganti hello vengono replicati geograficamente.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="2c6a3-159">Questa configurazione è illustrata nel diagramma successivo hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-159">This configuration is illustrated on hello next diagram.</span></span> 

![Figura 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="2c6a3-161">Come primo scenario hello, i database di gestione di hello sono piuttosto attivi in modo da utilizzare un singolo database di replica geografica per tale (1).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="2c6a3-162">In questo modo si garantisce prestazioni prevedibili di hello per le nuove sottoscrizioni dei clienti, aggiornamenti a un profilo e altre operazioni di gestione.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="2c6a3-163">area in cui risiedono i colori hello del database di gestione di hello Hello è area primaria hello e hello l'area in cui risiedono i database secondari hello del database di gestione di hello è area di hello ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="2c6a3-164">Hello tenant database i clienti paganti dispongono di un database attivo in pool, il provisioning nell'area primaria hello "pagamento" hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="2c6a3-165">Eseguire il provisioning di un pool con stesso nome nell'area di ripristino di emergenza hello hello secondario.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="2c6a3-166">Ogni tenant è toohello replica geografica secondaria pool (2).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="2c6a3-167">Ciò consente un ripristino rapido di tutti i database tenant con il failover.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="2c6a3-168">Se si verifica un'interruzione nell'area primaria hello, hello toobring passaggi di ripristino in linea l'applicazione sono illustrati nel diagramma successivo hello:</span><span class="sxs-lookup"><span data-stu-id="2c6a3-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![Figura 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="2c6a3-170">Failover immediatamente l'area del ripristino di emergenza toohello database Gestione hello (3).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="2c6a3-171">Modificare l'area del ripristino di emergenza toohello toopoint stringa connessione dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="2c6a3-172">Ora tutti i nuovi account e i database tenant vengono creati nell'area di ripristino di emergenza hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="2c6a3-173">i clienti esistenti valutazione Hello di visualizzare i dati temporaneamente non disponibili.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="2c6a3-174">Eseguire il failover a pagamento database toohello pool del tenant hello ripristino di emergenza area tooimmediately hello ripristinare la disponibilità (4).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="2c6a3-175">Poiché il failover hello è una modifica del livello di metadati rapido, prendere in considerazione un'ottimizzazione in cui i failover singoli hello vengono attivati su richiesta per le connessioni dell'utente finale di hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="2c6a3-176">Se la dimensione di eDTU del pool secondario era inferiore a quello primario hello perché i database secondari di hello solo hello necessarie capacità tooprocess hello Modifica log durante la sono stati di database secondari immediatamente aumenta la capacità del pool di hello ora tooaccommodate hello completo carico di lavoro di tutti i tenant (5).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="2c6a3-177">Creare pool elastico nuova hello con hello stesso nome e hello stessa configurazione nell'area di hello ripristino di emergenza per i database dei clienti valutazione hello (6).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="2c6a3-178">Una volta creato il pool di hello valutazione dei clienti, utilizzare i database di ripristino a livello geografico toorestore hello singoli tenant di prova nel nuovo pool di hello (7).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="2c6a3-179">Attivazione di ripristini singoli hello per le connessioni dell'utente finale di hello oppure usare altri schemi di priorità specifico dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="2c6a3-180">A questo punto l'applicazione è in modalità online nell'area di ripristino di emergenza hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="2c6a3-181">Tutti i clienti paganti dispongono di accesso ai dati tootheir mentre i clienti di valutazione di hello ritardo durante l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="2c6a3-182">Quando verrà ripristinato area primaria hello Azure *dopo* è stato ripristinato di un'applicazione hello in area hello ripristino di emergenza è possibile continuare l'esecuzione di un'applicazione hello in tale area oppure è possibile decidere area primaria di toofail toohello indietro.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="2c6a3-183">Se viene ripristinato l'area primaria hello *prima* completamento del processo di failover hello, si consiglia di non superati back immediatamente.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="2c6a3-184">il failback Hello esegue i passaggi di hello illustrati nel diagramma successivo hello:</span><span class="sxs-lookup"><span data-stu-id="2c6a3-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![Figura 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="2c6a3-186">Annullare tutte le richieste di ripristino geografico in sospeso.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="2c6a3-187">Il failover dei database di gestione di hello (8).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="2c6a3-188">Dopo il ripristino dell'area di hello, hello primario precedente diventa automaticamente hello secondario.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="2c6a3-189">Ora diventa hello nuovo primario.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="2c6a3-190">Eseguire il failover hello a pagamento database tenant (9).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="2c6a3-191">Analogamente, dopo il ripristino dell'area di hello, primari precedente hello diventano automaticamente repliche secondarie hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="2c6a3-192">Ora diventano primari hello nuovamente.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="2c6a3-193">Set hello ripristinato i database di prova che sono state modificate nell'area di ripristino di emergenza hello solo tooread (10).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="2c6a3-194">Per ogni database nel pool di ripristino di emergenza di clienti valutazione hello modificato dopo il recupero di hello, rinominare o eliminare database corrispondente di hello in pool primario clienti valutazione hello (11).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="2c6a3-195">Hello copia aggiornato i database da hello pool primario di toohello pool ripristino di emergenza (12).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="2c6a3-196">Eliminare il pool di ripristino di emergenza hello (13)</span><span class="sxs-lookup"><span data-stu-id="2c6a3-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="2c6a3-197">l'operazione di failover Hello è asincrona.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="2c6a3-198">tempo di recupero hello toominimize che è importante eseguire il comando di failover dei database tenant hello in batch di almeno 20 database.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="2c6a3-199">chiave Hello **vantaggio** di questa strategia è quello di fornire hello contratto di servizio più elevata per i clienti paganti hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="2c6a3-200">Garantisce inoltre che le versioni di valutazione nuovo hello sono bloccati non appena viene creato hello valutazione pool di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="2c6a3-201">Hello **compromesso** è che il programma di installazione aumento hello del costo totale del database tenant hello dal costo hello del pool di ripristino di emergenza secondario di hello per a pagamento di clienti.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="2c6a3-202">Inoltre, se pool secondario hello è di dimensioni diverse, i clienti paganti hello prestazioni inferiore dopo il failover fino a quando non hello pool nell'area di ripristino di emergenza hello completato l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="2c6a3-203">Scenario 3.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-203">Scenario 3.</span></span> <span data-ttu-id="2c6a3-204">Applicazione geograficamente distribuita con più livelli di servizio</span><span class="sxs-lookup"><span data-stu-id="2c6a3-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="2c6a3-205"><i>Un'applicazione SaaS matura con offerte di più livelli di servizio Si desidera toooffer un aggressivo toomy contratto di servizio a pagamento di clienti e ridurre al minimo il rischio di hello di impatto quando si verificano interruzioni poiché anche breve interruzione può causare l'insoddisfazione dei clienti. È fondamentale che i clienti paganti di hello può accedere sempre ai dati. sono disponibili le versioni di valutazione di Hello e un contratto di servizio non è disponibile durante il periodo di valutazione di hello.</i></span><span class="sxs-lookup"><span data-stu-id="2c6a3-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="2c6a3-206">toosupport questo scenario, utilizzare tre separato elastico pool.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="2c6a3-207">Eseguire il provisioning due pool di uguale dimensione con elevato numero di Edtu per ogni database di hello di toocontain due aree diverse a pagamento database tenant dei clienti.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="2c6a3-208">pool di terzo Hello contenente tenant hello può avere inferiore Edtu per database ed eseguirne il provisioning in uno dei due aree hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="2c6a3-209">tooguarantee hello minimo tempo di recupero durante le interruzioni, i database tenant dei clienti paganti hello vengono replicati geograficamente con il 50% dei database primari di hello in ognuna delle aree di hello due.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="2c6a3-210">Analogamente, ogni regione è 50% dei database secondari hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="2c6a3-211">In questo modo, se un'area è offline, solo il 50% di hello a pagamento database dei clienti sono interessati e abbia toofail.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="2c6a3-212">Hello altri database rimangono invariato.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-212">hello other databases remain intact.</span></span> <span data-ttu-id="2c6a3-213">Questa configurazione è illustrata nel seguente diagramma hello:</span><span class="sxs-lookup"><span data-stu-id="2c6a3-213">This configuration is illustrated in hello following diagram:</span></span>

![Figura 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="2c6a3-215">Come negli scenari precedenti hello, i database di gestione di hello attivi piuttosto quindi configurarli come singolo database di replica geografica (1).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="2c6a3-216">In questo modo si garantisce prestazioni prevedibili di hello di nuove sottoscrizioni di cliente hello, aggiornamenti a un profilo e altre operazioni di gestione.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="2c6a3-217">Area è area primaria di hello per il database di gestione di hello e area hello B viene utilizzata per il ripristino dei database di gestione di hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="2c6a3-218">i database tenant dei clienti paganti Hello inoltre vengono replicati geograficamente, ma con colori primari e secondari suddivisa tra paese e area B (2).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="2c6a3-219">In questo modo, il database primario di hello tenant interessato dall'interruzione hello possono eseguire il failover toohello altre aree e rese disponibili.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="2c6a3-220">Hello altri metà del database tenant hello non sono interessati affatto.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="2c6a3-221">nel diagramma seguente Hello illustra hello ripristino passaggi tootake se si verifica un'interruzione nell'area A.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![Figura 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="2c6a3-223">Il failover immediatamente hello management database tooregion B (3).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="2c6a3-224">Modifica connessione stringa toopoint toohello i database di gestione dell'applicazione hello nell'area B. modifica hello management database toomake che hello nuovi account e i database tenant vengono creati nell'area B e sono presenti database tenant esistenti hello come e.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="2c6a3-225">i clienti esistenti valutazione Hello di visualizzare i dati temporaneamente non disponibili.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="2c6a3-226">Eseguire il failover a pagamento toopool di database di tenant 2 nell'area B tooimmediately hello ripristinare la disponibilità (4).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="2c6a3-227">Poiché il failover hello è una modifica del livello di metadati rapido, è possibile considerare un'ottimizzazione in cui i failover singoli hello vengono attivati su richiesta per le connessioni dell'utente finale di hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="2c6a3-228">Poiché ora pool 2 contiene solo i database primari, hello totale del carico di lavoro di hello pool aumenta e immediatamente possibile aumentarne le dimensioni di eDTU (5).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="2c6a3-229">Creare pool elastico nuova hello con hello stesso nome e hello stessa configurazione nell'area di hello B per i database dei clienti valutazione hello (6).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="2c6a3-230">Una volta hello viene creato pool Usa ripristino a livello geografico toorestore hello tenant di prova singoli database nel pool di hello (7).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="2c6a3-231">È possibile prendere in considerazione l'attivazione di ripristini singoli hello per le connessioni dell'utente finale di hello o utilizzare altri schemi di priorità specifico dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="2c6a3-232">l'operazione di failover Hello è asincrona.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="2c6a3-233">tempo di recupero hello toominimize, è importante eseguire il comando di failover dei database tenant hello in batch di almeno 20 database.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="2c6a3-234">A questo punto l'applicazione è in modalità online nell'area B. Tutti i clienti paganti dispongono di accesso ai dati tootheir mentre i clienti di valutazione di hello ritardo durante l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="2c6a3-235">Quando viene recuperato l'area A toodecide è necessario se si desidera che l'area B toouse per i clienti di valutazione o un pool di failback toousing hello valutazione clienti nell'area A. Un criterio potrebbe essere hello % dei database di tenant di prova modificato dopo il ripristino di hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="2c6a3-236">Indipendentemente dal fatto di tale decisione, è necessario tenant hello a pagamento toore bilanciamento tra due pool.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="2c6a3-237">nel diagramma seguente Hello illustra il processo di hello quando i database tenant di prova hello non riescono A. tooregion indietro</span><span class="sxs-lookup"><span data-stu-id="2c6a3-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![Figura 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="2c6a3-239">Annullare tutti i pool di tootrial ripristino di emergenza richieste ripristino a livello geografico in sospeso.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="2c6a3-240">Eseguire il failover del database di gestione di hello (8).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-240">Fail over hello management database (8).</span></span> <span data-ttu-id="2c6a3-241">Dopo il ripristino dell'area di hello, primario precedente hello è diventato automaticamente hello secondario.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="2c6a3-242">Ora diventa hello nuovo primario.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="2c6a3-243">Selezionare i database tenant a pagamento di esito negativo toopool back-1 e avviare il failover tootheir secondari (9).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="2c6a3-244">Dopo il ripristino dell'area di hello, tutti i database nel pool 1 è stato reso automaticamente le repliche secondarie.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="2c6a3-245">Ora il 50% dei database diventa di nuovo primario.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="2c6a3-246">Ridurre le dimensioni di hello toohello 2 originale eDTU del (10).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="2c6a3-247">Tutti i set ripristinato i database di prova nell'area di hello B solo tooread (11).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="2c6a3-248">Per ogni database nel pool di ripristino di emergenza valutazione hello che è stato modificato dopo il recupero di hello, rinominare o eliminare database corrispondente di hello in pool primario valutazione hello (12).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="2c6a3-249">Hello copia aggiornato i database da hello pool primario di toohello pool ripristino di emergenza (13).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="2c6a3-250">Eliminare il pool di ripristino di emergenza hello (14)</span><span class="sxs-lookup"><span data-stu-id="2c6a3-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="2c6a3-251">chiave Hello **vantaggi** di questa strategia sono:</span><span class="sxs-lookup"><span data-stu-id="2c6a3-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="2c6a3-252">I clienti paganti poiché garantisce che un'interruzione del servizio in grado di influire più del 50% dei database tenant hello hello supporta il contratto di servizio più stringenti hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="2c6a3-253">Garantisce che le versioni di valutazione nuovo hello sono bloccati appena creata durante il ripristino di hello trail hello pool di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="2c6a3-254">Consente l'uso più efficiente della capacità del pool di hello al 50% di database secondari in un pool di applicazioni 1 e 2 pool vengono garantiti toobe meno attivi rispetto ai database primari hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="2c6a3-255">Hello principale **compromessi** sono:</span><span class="sxs-lookup"><span data-stu-id="2c6a3-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="2c6a3-256">le operazioni CRUD Hello nei database di gestione di hello abbia una latenza inferiore per hello gli utenti finali connessi tooregion A rispetto a per gli utenti finali connessi di hello tooregion B come essi vengono eseguite hello primario del database di gestione di hello.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="2c6a3-257">Richiede la progettazione più complessa hello del database di gestione.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="2c6a3-258">Ad esempio, ogni record tenant contiene un tag di percorso che deve toobe modificato durante il failover e failback.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="2c6a3-259">i clienti paganti Hello prestazioni inferiore superiore al normale fino a quando non hello pool nell'area B completato l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="2c6a3-260">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="2c6a3-260">Summary</span></span>
<span data-ttu-id="2c6a3-261">In questo articolo è incentrato sulle strategie di ripristino di emergenza hello per hello livello di database utilizzati da un'applicazione multi-tenant SaaS ISV.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="2c6a3-262">Hello strategia scelta è in base alle esigenze di hello dell'applicazione hello, ad esempio modello di business hello, Service Level AGREEMENT hello desiderati toooffer tooyour clienti, budget vincolo e così via. Vantaggi di strategia contorni hello e compromesso descritti in modo è possibile prendere una decisione consapevole.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="2c6a3-263">È anche probabile che l'applicazione specifica includa altri componenti di Azure.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="2c6a3-264">Per esaminare le informazioni sulla continuità aziendale e orchestrare ripristino hello del livello di database hello con essi.</span><span class="sxs-lookup"><span data-stu-id="2c6a3-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="2c6a3-265">toolearn informazioni su gestione del ripristino di applicazioni di database in Azure, fare riferimento troppo[progettazione di soluzioni cloud per il ripristino di emergenza](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="2c6a3-266">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="2c6a3-266">Next steps</span></span>
* <span data-ttu-id="2c6a3-267">toolearn sui backup di Database di SQL Azure automatizzati, vedere [backup automatici di Database SQL](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="2c6a3-268">Per la panoramica e gli scenari della continuità aziendale, vedere [Continuità aziendale del database SQL di Azure](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="2c6a3-269">toolearn sull'utilizzo di backup automatico per il ripristino, vedere [ripristinare un database dai backup avviate dal servizio hello](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="2c6a3-270">toolearn sulle opzioni di ripristino più veloce, vedere [replica geografica attiva](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="2c6a3-271">toolearn sull'utilizzo di backup automatico per l'archiviazione, vedere [copia del database](sql-database-copy.md).</span><span class="sxs-lookup"><span data-stu-id="2c6a3-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

