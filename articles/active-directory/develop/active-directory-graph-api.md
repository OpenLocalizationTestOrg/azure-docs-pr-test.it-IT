---
title: API Graph di Azure Active Directory | Microsoft Docs
description: Panoramica e guida introduttiva per l'API Graph che consente l'accesso a livello di codice ad Azure AD tramite endpoint dell'API REST.
services: active-directory
documentationcenter: 
author: viv-liu
manager: mbaldwin
editor: mbaldwin
ms.assetid: 5471ad74-20b3-44df-a2b5-43cde2c0a045
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: viviali
ms.custom: aaddev
ms.openlocfilehash: 79bb96171c00fa62f24113800c3824856febe728
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="azure-active-directory-graph-api"></a><span data-ttu-id="71455-103">API Graph di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="71455-103">Azure Active Directory Graph API</span></span>
> [!IMPORTANT]
> <span data-ttu-id="71455-104">Per accedere alle risorse di Azure Active Directoryi è consigliabile usare [Microsoft Graph](https://graph.microsoft.io/) anziché l'API Graph di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="71455-104">We strongly recommend that you use [Microsoft Graph](https://graph.microsoft.io/) instead of Azure AD Graph API to access Azure Active Directory resources.</span></span> <span data-ttu-id="71455-105">Le attività di sviluppo sono ora concentrate su Microsoft Graph e non sono previsti altri miglioramenti all'API Graph di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="71455-105">Our development efforts are now concentrated on Microsoft Graph and no further enhancements are planned for Azure AD Graph API.</span></span> <span data-ttu-id="71455-106">Il numero di scenari in cui potrebbe essere ancora appropriato usare l'API Graph di Azure AD è piuttosto limitato. Per altre informazioni, vedere il post [Microsoft Graph o Azure AD Graph](https://dev.office.com/blogs/microsoft-graph-or-azure-ad-graph) nel blog di Office Developer Center.</span><span class="sxs-lookup"><span data-stu-id="71455-106">There are a very limited number of scenarios for which Azure AD Graph API might still be appropriate; for more information, see the [Microsoft Graph or the Azure AD Graph](https://dev.office.com/blogs/microsoft-graph-or-azure-ad-graph) blog post in the Office Dev Center.</span></span>
> 
> 

<span data-ttu-id="71455-107">L'API Graph di Azure Active Directory consente l'accesso a livello di codice ad Azure AD tramite endpoint dell'API REST.</span><span class="sxs-lookup"><span data-stu-id="71455-107">The Azure Active Directory Graph API provides programmatic access to Azure AD through REST API endpoints.</span></span> <span data-ttu-id="71455-108">Le applicazioni possono usare l'API Graph per le operazioni di creazione, lettura, aggiornamento ed eliminazione (CRUD, Create, Read, Update, Delete) su oggetti e dati della directory.</span><span class="sxs-lookup"><span data-stu-id="71455-108">Applications can use the Graph API to perform create, read, update, and delete (CRUD) operations on directory data and objects.</span></span> <span data-ttu-id="71455-109">Ad esempio, l'API Graph supporta le operazioni comuni seguenti per un oggetto utente:</span><span class="sxs-lookup"><span data-stu-id="71455-109">For example, the Graph API supports the following common operations for a user object:</span></span>

* <span data-ttu-id="71455-110">Creare un nuovo utente nella directory</span><span class="sxs-lookup"><span data-stu-id="71455-110">Create a new user in a directory</span></span>
* <span data-ttu-id="71455-111">Recuperare le proprietà dettagliate dell'utente, ad esempio i gruppi a cui appartiene</span><span class="sxs-lookup"><span data-stu-id="71455-111">Get a user’s detailed properties, such as their groups</span></span>
* <span data-ttu-id="71455-112">Aggiornare le proprietà dell'utente, ad esempio indirizzo e numero di telefono, oppure modifica della password</span><span class="sxs-lookup"><span data-stu-id="71455-112">Update a user’s properties, such as their location and phone number, or change their password</span></span>
* <span data-ttu-id="71455-113">Verificare l'appartenenza a gruppi di un utente per l'accesso in base al ruolo</span><span class="sxs-lookup"><span data-stu-id="71455-113">Check a user’s group membership for role-based access</span></span>
* <span data-ttu-id="71455-114">Disabilitare o eliminare completamente l'account di un utente</span><span class="sxs-lookup"><span data-stu-id="71455-114">Disable a user’s account or delete it entirely</span></span>

<span data-ttu-id="71455-115">È possibile eseguire operazioni simili anche su altri oggetti, ad esempio gruppi e applicazioni.</span><span class="sxs-lookup"><span data-stu-id="71455-115">In addition to user objects, you can perform similar operations on other objects such as groups and applications.</span></span> <span data-ttu-id="71455-116">Per chiamare l'API Graph su una directory, è necessario che l'applicazione sia registrata in Azure AD e che sia configurata per consentire l'accesso alla directory.</span><span class="sxs-lookup"><span data-stu-id="71455-116">To call the Graph API on a directory, the application must be registered with Azure AD and be configured to allow access to the directory.</span></span> <span data-ttu-id="71455-117">A tale scopo, viene in genere eseguito un flusso di consenso utente o amministratore.</span><span class="sxs-lookup"><span data-stu-id="71455-117">This is normally achieved through a user or admin consent flow.</span></span>

<span data-ttu-id="71455-118">Per iniziare a usare l'API Azure Active Directory Graph, vedere la [Guida rapida di Graph API](active-directory-graph-api-quickstart.md) oppure visualizzare la [documentazione di riferimento interattiva per l’API Graph ](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span><span class="sxs-lookup"><span data-stu-id="71455-118">To begin using the Azure Active Directory Graph API, see the [Graph API Quickstart Guide](active-directory-graph-api-quickstart.md), or view the [interactive Graph API reference documentation](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span></span>

## <a name="features"></a><span data-ttu-id="71455-119">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="71455-119">Features</span></span>
<span data-ttu-id="71455-120">L'API Graph offre le funzionalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="71455-120">The Graph API provides the following features:</span></span>

* <span data-ttu-id="71455-121">**Endpoint API REST**: l'API Graph è un servizio RESTful che include endpoint a cui viene eseguito l'accesso tramite richieste HTTP standard.</span><span class="sxs-lookup"><span data-stu-id="71455-121">**REST API Endpoints**: The Graph API is a RESTful service comprised of endpoints that are accessed using standard HTTP requests.</span></span> <span data-ttu-id="71455-122">L'API Graph supporta i tipi di contenuto XML o JSON (JavaScript Object Notation) per le richieste e le risposte.</span><span class="sxs-lookup"><span data-stu-id="71455-122">The Graph API supports XML or Javascript Object Notation (JSON) content types for requests and responses.</span></span> <span data-ttu-id="71455-123">Per altre informazioni, vedere [Riferimento all'API REST di Azure AD Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span><span class="sxs-lookup"><span data-stu-id="71455-123">For more information, see [Azure AD Graph REST API Reference](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span></span>
* <span data-ttu-id="71455-124">**Autenticazione con Azure AD**: ogni richiesta all'API Graph deve essere autenticata mediante l'aggiunta di un token Web JSON nell'intestazione dell'autorizzazione della richiesta.</span><span class="sxs-lookup"><span data-stu-id="71455-124">**Authentication with Azure AD**: Every request to the Graph API must be authenticated by appending a JSON Web Token (JWT) in the Authorization header of the request.</span></span> <span data-ttu-id="71455-125">Per acquisire il token è necessario inviare una richiesta all'endpoint token di Azure AD e specificare credenziali valide.</span><span class="sxs-lookup"><span data-stu-id="71455-125">This token is acquired by making a request to Azure AD’s token endpoint and providing valid credentials.</span></span> <span data-ttu-id="71455-126">Per acquisire un token per chiamare l'API Graph, è possibile usare il flusso delle credenziali client OAuth 2.0 o il flusso di concessione del codice di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="71455-126">You can use the OAuth 2.0 client credentials flow or the authorization code grant flow to acquire a token to call the Graph.</span></span> <span data-ttu-id="71455-127">Per altre informazioni, vedere [OAuth 2.0 in Azure AD](https://msdn.microsoft.com/library/azure/dn645545.aspx).</span><span class="sxs-lookup"><span data-stu-id="71455-127">For more information, [OAuth 2.0 in Azure AD](https://msdn.microsoft.com/library/azure/dn645545.aspx).</span></span>
* <span data-ttu-id="71455-128">**Autorizzazione in base al ruolo**: vengono usati gruppi di sicurezza per il controllo degli accessi in base al ruolo nell'API Graph.</span><span class="sxs-lookup"><span data-stu-id="71455-128">**Role-Based Authorization (RBAC)**: Security groups are used to perform RBAC in the Graph API.</span></span> <span data-ttu-id="71455-129">Se, ad esempio, si vuole stabilire se un utente può accedere a una risorsa specifica, l'applicazione può chiamare l'operazione di [controllo dell'appartenenza a gruppi (transitiva)](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/groups-operations#FunctionsandactionsongroupsCheckmembershipinaspecificgrouptransitive) , che restituirà true o false.</span><span class="sxs-lookup"><span data-stu-id="71455-129">For example, if you want to determine whether a user has access to a specific resource, the application can call the [Check Group Membership (transitive)](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/groups-operations#FunctionsandactionsongroupsCheckmembershipinaspecificgrouptransitive) operation, which returns true or false.</span></span>
* <span data-ttu-id="71455-130">**Query differenziale**: per verificare se sono state apportate modifiche a una directory tra due intervalli di tempo senza dover interrogare di frequente l'API Graph, è possibile inviare una richiesta di query differenziale.</span><span class="sxs-lookup"><span data-stu-id="71455-130">**Differential Query**: If you want to check for changes in a directory between two time periods without having to make frequent queries to the Graph API, you can make a differential query request.</span></span> <span data-ttu-id="71455-131">Questo tipo di richiesta restituisce solo le modifiche apportate nel periodo trascorso tra la richiesta di query differenziale precedente e la richiesta corrente.</span><span class="sxs-lookup"><span data-stu-id="71455-131">This type of request will return only the changes made between the previous differential query request and the current request.</span></span> <span data-ttu-id="71455-132">Per altre informazioni, vedere [Query differenziale dell'API Graph di Azure AD](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-differential-query).</span><span class="sxs-lookup"><span data-stu-id="71455-132">For more information, see [Azure AD Graph API Differential Query](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-differential-query).</span></span>
* <span data-ttu-id="71455-133">**Estensioni della directory**: se si sviluppa un'applicazione che deve eseguire la lettura o la scrittura di proprietà univoche per gli oggetti directory, è possibile eseguire la registrazione e usare i valori dell'estensione mediante l'API Graph.</span><span class="sxs-lookup"><span data-stu-id="71455-133">**Directory Extensions**: If you are developing an application that needs to read or write unique properties for directory objects, you can register and use extension values by using the Graph API.</span></span> <span data-ttu-id="71455-134">Ad esempio, se l'applicazione richiede una proprietà ID Skype per ogni utente, è possibile registrare la nuova proprietà nella directory e renderla disponibile per ogni oggetto utente.</span><span class="sxs-lookup"><span data-stu-id="71455-134">For example, if your application requires a Skype ID property for each user, you can register the new property in the directory and it will be available on every user object.</span></span> <span data-ttu-id="71455-135">Per altre informazioni, vedere [Estensioni dello schema di directory dell'API Graph di Azure AD](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-directory-schema-extensions).</span><span class="sxs-lookup"><span data-stu-id="71455-135">For more information, see [Azure AD Graph API Directory Schema Extensions](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-directory-schema-extensions).</span></span>
* <span data-ttu-id="71455-136">**Protetto dagli ambiti di autorizzazione**: l'API Graph di AAD espone gli ambiti di autorizzazione che consentono l’accesso protetto/autorizzato ai dati AAD e supportano un'ampia gamma di tipi di applicazioni client, tra cui:</span><span class="sxs-lookup"><span data-stu-id="71455-136">**Secured by permission scopes**: AAD Graph API exposes permission scopes that enable secure/consented access to AAD data, and support a variety of client app types, including:</span></span>
  
  * <span data-ttu-id="71455-137">quelli con un'interfaccia utente a cui viene assegnato l'accesso delegato ai dati tramite l'autorizzazione da parte dell'utente connesso (delegato)</span><span class="sxs-lookup"><span data-stu-id="71455-137">those with a user interface which are given delegated access to data via authorization from the signed-in user (delegated)</span></span>
  * <span data-ttu-id="71455-138">quelli che utilizzano il controllo degli accessi in base al ruolo definito dall’applicazione, ad esempio i client di servizio/daemon (ruoli app)</span><span class="sxs-lookup"><span data-stu-id="71455-138">those that use application-define role-based access control such as service/daemon clients (app roles)</span></span>
    
    <span data-ttu-id="71455-139">Entrambi gli ambiti di autorizzazione delegato e ruolo app rappresentano un privilegio esposto dall'API Graph e possono essere richiesti dalle applicazioni client tramite le funzionalità delle autorizzazioni di registrazione applicazione [nel portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="71455-139">Both delegated and app role permission scopes represent a privilege exposed by the Graph API and can be requested by client applications through application registration permissions [features in the Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="71455-140">I client possono verificare gli ambiti di autorizzazione concessi controllando l'attestazione di ambito ("scp") ricevuta nel token di accesso per le autorizzazioni delegate e l’attestazione dei ruoli ("roles") per le autorizzazioni del ruolo applicazione.</span><span class="sxs-lookup"><span data-stu-id="71455-140">Clients can verify the permission scopes granted to them by inspecting the scope (“scp”) claim received in the access token for delegated permissions and the roles (“roles”) claim for app role permissions.</span></span> <span data-ttu-id="71455-141">Altre informazioni sugli [ambiti di autorizzazione dell'API Graph di Azure AD](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-permission-scopes).</span><span class="sxs-lookup"><span data-stu-id="71455-141">Learn more about [Azure AD Graph API Permission Scopes](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-permission-scopes).</span></span>

## <a name="scenarios"></a><span data-ttu-id="71455-142">Scenari</span><span class="sxs-lookup"><span data-stu-id="71455-142">Scenarios</span></span>
<span data-ttu-id="71455-143">Gli scenari di applicazione dell'API Graph sono numerosi.</span><span class="sxs-lookup"><span data-stu-id="71455-143">The Graph API enables many application scenarios.</span></span> <span data-ttu-id="71455-144">Ecco i più comuni:</span><span class="sxs-lookup"><span data-stu-id="71455-144">The following scenarios are the most common:</span></span>

* <span data-ttu-id="71455-145">**Applicazione line-of-business (single-tenant)**: in questo scenario, uno sviluppatore aziendale lavora per un'organizzazione con un abbonamento a Office 365.</span><span class="sxs-lookup"><span data-stu-id="71455-145">**Line of Business (Single Tenant) Application**: In this scenario, an enterprise developer works for an organization that has an Office 365 subscription.</span></span> <span data-ttu-id="71455-146">Lo sviluppatore sta creando un'applicazione Web che interagisce con Azure AD per eseguire diverse attività, ad esempio l'assegnazione di una licenza a un utente.</span><span class="sxs-lookup"><span data-stu-id="71455-146">The developer is building a web application that interacts with Azure AD to perform tasks such assigning a license to a user.</span></span> <span data-ttu-id="71455-147">Questa attività richiede l'accesso all'API Graph, in modo che lo sviluppatore possa registrare l'applicazione single-tenant in Azure AD e configurare le autorizzazioni di lettura e scrittura per l'API Graph.</span><span class="sxs-lookup"><span data-stu-id="71455-147">This task requires access to the Graph API, so the developer registers the single tenant application in Azure AD and configures read and write permissions for the Graph API.</span></span> <span data-ttu-id="71455-148">L'applicazione viene quindi configurata in modo da usare le proprie credenziali o quelle dell'utente che ha eseguito l'accesso per acquisire un token per chiamare l'API Graph.</span><span class="sxs-lookup"><span data-stu-id="71455-148">Then the application is configured to use either its own credentials or those of the currently sign-in user to acquire a token to call the Graph API.</span></span>
* <span data-ttu-id="71455-149">**Applicazione SaaS (multi-tenant)**: in questo scenario, un fornitore di software indipendente (ISV) sviluppa un'applicazione Web multi-tenant ospitata che fornisce funzionalità per la gestione degli utenti per altre organizzazioni che usano Azure AD.</span><span class="sxs-lookup"><span data-stu-id="71455-149">**Software as a Service Application (Multi-Tenant)**: In this scenario, an independent software vendor (ISV) is developing hosted multi-tenant web application that provides user management features for other organizations that use Azure AD.</span></span> <span data-ttu-id="71455-150">Queste funzionalità richiedono l'accesso agli oggetti directory, quindi l'applicazione deve chiamare l'API Graph.</span><span class="sxs-lookup"><span data-stu-id="71455-150">These features require access to directory objects, and so the application needs to call the Graph API.</span></span> <span data-ttu-id="71455-151">Lo sviluppatore registra l'applicazione in Azure AD, la configura per richiedere le autorizzazioni di lettura e scrittura per l'API Graph, quindi abilita l'accesso esterno in modo che altre organizzazioni possano fornire il consenso per l'uso dell'applicazione nella propria directory.</span><span class="sxs-lookup"><span data-stu-id="71455-151">The developer registers the application in Azure AD, configures it to require read and write permissions for the Graph API, and then enables external access so that other organizations can consent to use the application in their directory.</span></span> <span data-ttu-id="71455-152">Quando un utente in un'altra organizzazione esegue l'autenticazione nell'applicazione per la prima volta, viene visualizzata una finestra di dialogo di consenso con le autorizzazioni richieste dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="71455-152">When a user in another organization authenticates to the application for the first time, they are shown a consent dialog with the permissions the application is requesting.</span></span>  <span data-ttu-id="71455-153">Se si concede il consenso, l'applicazione riceverà le autorizzazioni richieste per l'API Graph nella directory dell'utente.</span><span class="sxs-lookup"><span data-stu-id="71455-153">Granting consent will then give the application those requested permissions to the Graph API in the user’s directory.</span></span> <span data-ttu-id="71455-154">Per altre informazioni sul framework di consenso, vedere [Panoramica del framework di consenso](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="71455-154">For more information on the consent framework, see [Overview of the Consent Framework](active-directory-integrating-applications.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="71455-155">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="71455-155">See Also</span></span>
[<span data-ttu-id="71455-156">Guida introduttiva per l'API Graph di Azure AD</span><span class="sxs-lookup"><span data-stu-id="71455-156">Azure AD Graph API Quickstart Guide</span></span>](active-directory-graph-api-quickstart.md)

[<span data-ttu-id="71455-157">Documentazione di riferimento all'API Graph di Azure AD</span><span class="sxs-lookup"><span data-stu-id="71455-157">AD Graph REST documentation</span></span>](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog)

[<span data-ttu-id="71455-158">Guida per gli sviluppatori di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="71455-158">Azure Active Directory developer's guide</span></span>](active-directory-developers-guide.md)

