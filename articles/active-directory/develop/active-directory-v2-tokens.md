---
title: versione 2.0 di Active Directory aaaAzure token riferimento | Documenti Microsoft
description: i tipi di Hello di attestazioni e token emessi da hello endpoint v 2.0 di Azure AD
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 29eb5c3402aeae302ee7c6234488520495f85904
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="55be9-103">Informazioni di riferimento sui token di Azure Active Directory 2.0</span><span class="sxs-lookup"><span data-stu-id="55be9-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="55be9-104">endpoint di Azure Active Directory (Azure AD) v 2.0 Hello genera tipi diversi di token di sicurezza in ogni [flusso di autenticazione](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="55be9-104">hello Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="55be9-105">Questo riferimento viene formato hello, caratteristiche di sicurezza e di contenuto di ogni tipo di token.</span><span class="sxs-lookup"><span data-stu-id="55be9-105">This reference describes hello format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="55be9-106">endpoint di Hello v 2.0 non supporta tutti gli scenari di Azure Active Directory e le funzionalità.</span><span class="sxs-lookup"><span data-stu-id="55be9-106">hello v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="55be9-107">toodetermine se è necessario utilizzare endpoint v 2.0 hello, conoscenza [limitazioni v 2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="55be9-107">toodetermine whether you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="55be9-108">Tipi di token</span><span class="sxs-lookup"><span data-stu-id="55be9-108">Types of tokens</span></span>
<span data-ttu-id="55be9-109">v 2.0 endpoint Hello supporta hello [protocollo di autorizzazione OAuth 2.0](active-directory-v2-protocols.md), che utilizza i token di accesso e token di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="55be9-109">hello v2.0 endpoint supports hello [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="55be9-110">endpoint di Hello v 2.0 supporta inoltre l'autenticazione e accesso tramite [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="55be9-110">hello v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="55be9-111">OpenID Connect introduce un terzo tipo di token, token di ID hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-111">OpenID Connect introduces a third type of token, hello ID token.</span></span> <span data-ttu-id="55be9-112">Ognuno di questi token viene rappresentato come *token di connessione*.</span><span class="sxs-lookup"><span data-stu-id="55be9-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="55be9-113">Un token di connessione è un token di sicurezza leggero che concede hello tooa accesso connessione risorsa protetta.</span><span class="sxs-lookup"><span data-stu-id="55be9-113">A bearer token is a lightweight security token that grants hello bearer access tooa protected resource.</span></span> <span data-ttu-id="55be9-114">connessione Hello è qualsiasi entità che possono presentare token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-114">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="55be9-115">Anche se un'entità deve eseguire l'autenticazione con token di connessione di Azure AD tooreceive hello, se passaggi non vengono acquisiti i token hello toosecure durante la trasmissione e di archiviazione, può essere intercettato e usato da parti non autorizzate.</span><span class="sxs-lookup"><span data-stu-id="55be9-115">Although a party must authenticate with Azure AD tooreceive hello bearer token, if steps are not taken toosecure hello token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="55be9-116">Alcuni token di sicurezza presenti un entità di tooprevent non autorizzato meccanismo incorporato dall'utilizzo non li ma non i token di connessione.</span><span class="sxs-lookup"><span data-stu-id="55be9-116">Some security tokens have a built-in mechanism tooprevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="55be9-117">e devono essere trasportati usando un canale protetto, ad esempio il protocollo Transport Layer Security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="55be9-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="55be9-118">Se un token viene trasmesso senza questo tipo di sicurezza, un malintenzionato potrebbe utilizzare un token di hello tooacquire "attacco man-in-the-middle" e usarlo per risorsa tooa protetto da accessi non autorizzati.</span><span class="sxs-lookup"><span data-stu-id="55be9-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" tooacquire hello token and use it for unauthorized access tooa protected resource.</span></span> <span data-ttu-id="55be9-119">Hello stessi principi di sicurezza si applicano quando l'archiviazione o la memorizzazione nella cache i token di connessione per un uso successivo.</span><span class="sxs-lookup"><span data-stu-id="55be9-119">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="55be9-120">Assicurarsi sempre che l'app trasmetta e archivi i token di connessione in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="55be9-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="55be9-121">Per altre considerazioni sulla sicurezza dei token di connessione, vedere la [sezione 5 della specifica RFC 6750](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="55be9-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="55be9-122">Molti dei token hello rilasciati dall'endpoint v 2.0 hello vengono implementati come token Web JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="55be9-122">Many of hello tokens issued by hello v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="55be9-123">Un token JWT è un informazioni tootransfer modo compatto e URL safe tra due parti.</span><span class="sxs-lookup"><span data-stu-id="55be9-123">A JWT is a compact, URL-safe way tootransfer information between two parties.</span></span> <span data-ttu-id="55be9-124">informazioni di Hello in un token JWT viene chiamate un *attestazione*.</span><span class="sxs-lookup"><span data-stu-id="55be9-124">hello information in a JWT is called a *claim*.</span></span> <span data-ttu-id="55be9-125">È un'asserzione di informazioni sulla connessione hello e l'oggetto del token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-125">It's an assertion of information about hello bearer and subject of hello token.</span></span> <span data-ttu-id="55be9-126">le attestazioni di Hello in un JWT sono gli oggetti JavaScript Object Notation (JSON) con codifica e serializzati per la trasmissione.</span><span class="sxs-lookup"><span data-stu-id="55be9-126">hello claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="55be9-127">Poiché hello Jwt emesso da endpoint v 2.0 hello sono firmati, ma non crittografato, è possibile controllare facilmente il contenuto di hello di un token JWT per scopi di debug.</span><span class="sxs-lookup"><span data-stu-id="55be9-127">Because hello JWTs issued by hello v2.0 endpoint are signed but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="55be9-128">Per ulteriori informazioni su Jwt, vedere hello [specifica JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="55be9-128">For more information about JWTs, see hello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="55be9-129">Token ID</span><span class="sxs-lookup"><span data-stu-id="55be9-129">ID tokens</span></span>
<span data-ttu-id="55be9-130">I token ID sono un tipo di token di sicurezza di accesso che l'app riceve quando esegue l'autenticazione usando [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="55be9-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="55be9-131">Token ID vengono rappresentati come [Jwt](#types-of-tokens), e che contengano le attestazioni che è possibile utilizzare utente hello toosign nell'app tooyour.</span><span class="sxs-lookup"><span data-stu-id="55be9-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use toosign hello user in tooyour app.</span></span> <span data-ttu-id="55be9-132">È possibile utilizzare le attestazioni hello in un ID token in svariati modi.</span><span class="sxs-lookup"><span data-stu-id="55be9-132">You can use hello claims in an ID token in various ways.</span></span> <span data-ttu-id="55be9-133">Gli amministratori utilizzano in genere, informazioni sull'account di ID token toodisplay o toomake decisioni relative al controllo accesso in un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-133">Typically, admins use ID tokens toodisplay account information or toomake access control decisions in an app.</span></span> <span data-ttu-id="55be9-134">endpoint v 2.0 Hello emette un solo tipo di token ID, che dispone di un set coerenza di attestazioni, indipendentemente dal tipo di hello dell'utente che ha effettuato l'accesso.</span><span class="sxs-lookup"><span data-stu-id="55be9-134">hello v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of hello type of user that is signed in.</span></span> <span data-ttu-id="55be9-135">formato Hello e il contenuto di token ID sono hello uguale per gli utenti dell'account Microsoft personali e per gli account aziendali o dell'istituto di istruzione.</span><span class="sxs-lookup"><span data-stu-id="55be9-135">hello format and content of ID tokens are hello same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="55be9-136">Attualmente i token ID sono firmati, ma non crittografati.</span><span class="sxs-lookup"><span data-stu-id="55be9-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="55be9-137">Quando l'applicazione riceve un ID token, è necessario [convalidare la firma hello](#validating-tokens) tooprove hello autenticità del token e convalidare alcuni le attestazioni in token tooprove di hello la validità.</span><span class="sxs-lookup"><span data-stu-id="55be9-137">When your app receives an ID token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span> <span data-ttu-id="55be9-138">Hello attestazioni convalidate da un'app variano a seconda dei requisiti di scenario, ma l'app deve eseguire alcune [convalide attestazione comuni](#validating-tokens) in ogni scenario.</span><span class="sxs-lookup"><span data-stu-id="55be9-138">hello claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="55be9-139">Si consentono i dettagli completi hello attestazioni nei token ID hello seguenti sezioni inoltre token ID di esempio tooa.</span><span class="sxs-lookup"><span data-stu-id="55be9-139">We give you hello full details about claims in ID tokens in hello following sections, in addition tooa sample ID token.</span></span> <span data-ttu-id="55be9-140">Si noti che le attestazioni nei token ID non vengono restituite in un ordine specifico.</span><span class="sxs-lookup"><span data-stu-id="55be9-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="55be9-141">Si noti anche che possono essere introdotte nuove attestazioni nei token ID in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="55be9-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="55be9-142">L'introduzione di nuove attestazioni non deve interrompere il funzionamento dell'app.</span><span class="sxs-lookup"><span data-stu-id="55be9-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="55be9-143">Hello seguente elenco include le attestazioni di hello app attualmente possibile in modo affidabile di interpretare.</span><span class="sxs-lookup"><span data-stu-id="55be9-143">hello following list includes hello claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="55be9-144">È possibile trovare altre informazioni in hello [OpenID Connect specifica](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="55be9-144">You can find more details in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="55be9-145">Token ID di esempio</span><span class="sxs-lookup"><span data-stu-id="55be9-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="55be9-146">Per procedure consigliate, tooinspect hello attestazioni in token ID esempio hello incollare token ID di esempio hello in [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="55be9-146">For practice, tooinspect hello claims in hello sample ID token, paste hello sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="55be9-147">Attestazioni nei token ID</span><span class="sxs-lookup"><span data-stu-id="55be9-147">Claims in ID tokens</span></span>
| <span data-ttu-id="55be9-148">Nome</span><span class="sxs-lookup"><span data-stu-id="55be9-148">Name</span></span> | <span data-ttu-id="55be9-149">Attestazione</span><span class="sxs-lookup"><span data-stu-id="55be9-149">Claim</span></span> | <span data-ttu-id="55be9-150">Valore di esempio</span><span class="sxs-lookup"><span data-stu-id="55be9-150">Example value</span></span> | <span data-ttu-id="55be9-151">Descrizione</span><span class="sxs-lookup"><span data-stu-id="55be9-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="55be9-152">audience</span><span class="sxs-lookup"><span data-stu-id="55be9-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="55be9-153">Identifica il destinatario previsto hello del token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-153">Identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="55be9-154">Nei token ID, destinatari hello sono ID applicazione dell'app, app tooyour nel portale di registrazione dell'applicazione Microsoft hello assegnato.</span><span class="sxs-lookup"><span data-stu-id="55be9-154">In ID tokens, hello audience is your app's Application ID, assigned tooyour app in hello Microsoft Application Registration Portal.</span></span> <span data-ttu-id="55be9-155">L'app deve convalidare questo valore e rifiutare il token di hello se hello valore non corrisponde.</span><span class="sxs-lookup"><span data-stu-id="55be9-155">Your app should validate this value, and reject hello token if hello value does not match.</span></span> |
| <span data-ttu-id="55be9-156">autorità di certificazione</span><span class="sxs-lookup"><span data-stu-id="55be9-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="55be9-157">Identifica hello servizio token di sicurezza (STS) che crea e restituisce il token hello e tenant di Azure AD hello in cui hello è stato autenticato l'utente.</span><span class="sxs-lookup"><span data-stu-id="55be9-157">Identifies hello security token service (STS) that constructs and returns hello token, and hello Azure AD tenant in which hello user was authenticated.</span></span> <span data-ttu-id="55be9-158">L'app deve convalidare l'attestazione autorità di certificazione hello tooensure che hello token proveniente dall'endpoint di hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="55be9-158">Your app should validate hello issuer claim tooensure that hello token came from hello v2.0 endpoint.</span></span> <span data-ttu-id="55be9-159">È inoltre necessario utilizzare hello toorestrict hello attestazione di tenant che è possibile accedere nell'app toohello parte GUID hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-159">It also should use hello GUID portion of hello claim toorestrict hello set of tenants that can sign in toohello app.</span></span> <span data-ttu-id="55be9-160">GUID che indica che l'utente hello Hello è un utente di consumer di un account di Microsoft `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="55be9-160">hello GUID that indicates that hello user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="55be9-161">ora di emissione</span><span class="sxs-lookup"><span data-stu-id="55be9-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="55be9-162">Hello ora in cui hello token è stato inviato, rappresentato in valore epoch.</span><span class="sxs-lookup"><span data-stu-id="55be9-162">hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="55be9-163">scadenza</span><span class="sxs-lookup"><span data-stu-id="55be9-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="55be9-164">ora di Hello in cui hello diventa non valido, token rappresentato in valore epoch.</span><span class="sxs-lookup"><span data-stu-id="55be9-164">hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="55be9-165">L'app deve usare la validità di hello tooverify attestazione della durata del token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-165">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="55be9-166">non prima</span><span class="sxs-lookup"><span data-stu-id="55be9-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="55be9-167">ora di Hello in cui hello token diventa valida, rappresentato in valore epoch.</span><span class="sxs-lookup"><span data-stu-id="55be9-167">hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="55be9-168">È in genere hello stesso come ora di emissione hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-168">It is usually hello same as hello issuance time.</span></span> <span data-ttu-id="55be9-169">L'app deve usare la validità di hello tooverify attestazione della durata del token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-169">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="55be9-170">version</span><span class="sxs-lookup"><span data-stu-id="55be9-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="55be9-171">versione di Hello del token ID hello, come definito da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="55be9-171">hello version of hello ID token, as defined by Azure AD.</span></span> <span data-ttu-id="55be9-172">Per l'endpoint di hello v 2.0, il valore di hello è `2.0`.</span><span class="sxs-lookup"><span data-stu-id="55be9-172">For hello v2.0 endpoint, hello value is `2.0`.</span></span> |
| <span data-ttu-id="55be9-173">ID tenant</span><span class="sxs-lookup"><span data-stu-id="55be9-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="55be9-174">È un GUID che rappresenta i tenant di Azure AD hello hello utente.</span><span class="sxs-lookup"><span data-stu-id="55be9-174">A GUID that represents hello Azure AD tenant that hello user is from.</span></span> <span data-ttu-id="55be9-175">Per gli account di lavoro e dell'istituto di istruzione, hello GUID è tenant non modificabile di hello ID organizzazione hello che hello utente a cui appartiene.</span><span class="sxs-lookup"><span data-stu-id="55be9-175">For work and school accounts, hello GUID is hello immutable tenant ID of hello organization that hello user belongs to.</span></span> <span data-ttu-id="55be9-176">Per gli account personali, il valore di hello è `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="55be9-176">For personal accounts, hello value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="55be9-177">Hello `profile` è necessario un ambito in ordine tooreceive questa attestazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-177">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="55be9-178">hash del codice</span><span class="sxs-lookup"><span data-stu-id="55be9-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="55be9-179">hash di codice Hello è inclusa nei token di ID solo quando il token di ID hello viene eseguito con un codice di autorizzazione OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="55be9-179">hello code hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="55be9-180">Può essere utilizzato toovalidate hello autenticità di un codice di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-180">It can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="55be9-181">Per informazioni dettagliate sull'esecuzione di questa convalida, vedere hello [OpenID Connect specifica](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="55be9-181">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="55be9-182">hash del token di accesso</span><span class="sxs-lookup"><span data-stu-id="55be9-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="55be9-183">hash token di accesso Hello è inclusa nei token di ID solo quando il token di ID hello viene eseguito con un token di accesso OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="55be9-183">hello access token hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="55be9-184">Può essere utilizzato toovalidate hello autenticità di un token di accesso.</span><span class="sxs-lookup"><span data-stu-id="55be9-184">It can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="55be9-185">Per informazioni dettagliate sull'esecuzione di questa convalida, vedere hello [OpenID Connect specifica](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="55be9-185">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="55be9-186">nonce</span><span class="sxs-lookup"><span data-stu-id="55be9-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="55be9-187">parametro nonce Hello è una strategia per prevenire gli attacchi di riproduzione token.</span><span class="sxs-lookup"><span data-stu-id="55be9-187">hello nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="55be9-188">L'app può specificare un parametro nonce in una richiesta di autorizzazione con hello `nonce` parametro di query.</span><span class="sxs-lookup"><span data-stu-id="55be9-188">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="55be9-189">il valore di Hello fornito nella richiesta di hello viene emesso nei token hello ID `nonce` attestazione, senza modificata.</span><span class="sxs-lookup"><span data-stu-id="55be9-189">hello value you provide in hello request is emitted in hello ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="55be9-190">L'app è possibile verificare il valore di hello con valore hello che è specificato in una richiesta di hello, che associa la sessione dell'applicazione hello con un token ID specifico.</span><span class="sxs-lookup"><span data-stu-id="55be9-190">Your app can verify hello value against hello value it specified on hello request, which associates hello app's session with a specific ID token.</span></span> <span data-ttu-id="55be9-191">L'app deve eseguire la convalida durante il processo di convalida del token ID hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-191">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="55be9-192">name</span><span class="sxs-lookup"><span data-stu-id="55be9-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="55be9-193">attestazione nome Hello fornisce un valore leggibile che identifica l'oggetto hello del token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-193">hello name claim provides a human-readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="55be9-194">il valore di Hello non è garantito toobe univoco è modificabile ed è progettato toobe usato solo per scopi di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-194">hello value is not guaranteed toobe unique, it is mutable, and it's designed toobe used only for display purposes.</span></span> <span data-ttu-id="55be9-195">Hello `profile` è necessario un ambito in ordine tooreceive questa attestazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-195">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="55be9-196">email</span><span class="sxs-lookup"><span data-stu-id="55be9-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="55be9-197">indirizzo di posta elettronica primario Hello associata con l'account utente di hello, se presente.</span><span class="sxs-lookup"><span data-stu-id="55be9-197">hello primary email address associated with hello user account, if one exists.</span></span> <span data-ttu-id="55be9-198">Il valore è modificabile e può variare nel tempo.</span><span class="sxs-lookup"><span data-stu-id="55be9-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="55be9-199">Hello `email` è necessario un ambito in ordine tooreceive questa attestazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-199">hello `email` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="55be9-200">nome utente preferito</span><span class="sxs-lookup"><span data-stu-id="55be9-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="55be9-201">Hello nome utente primario che rappresenta l'utente hello nell'endpoint di hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="55be9-201">hello primary username that represents hello user in hello v2.0 endpoint.</span></span> <span data-ttu-id="55be9-202">Potrebbe trattarsi di un indirizzo di posta elettronica, di un numero di telefono o di un nome utente generico senza un formato specificato.</span><span class="sxs-lookup"><span data-stu-id="55be9-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="55be9-203">Il valore è modificabile e può variare nel tempo.</span><span class="sxs-lookup"><span data-stu-id="55be9-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="55be9-204">Hello `profile` è necessario un ambito in ordine tooreceive questa attestazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-204">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="55be9-205">subject</span><span class="sxs-lookup"><span data-stu-id="55be9-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="55be9-206">Hello principale su cui hello token rilascia informazioni, ad esempio utente hello di un'app.</span><span class="sxs-lookup"><span data-stu-id="55be9-206">hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="55be9-207">Questo valore non è modificabile e non può essere riassegnato o riutilizzato.</span><span class="sxs-lookup"><span data-stu-id="55be9-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="55be9-208">Controlli di autorizzazione tooperform utilizzato in modo sicuro, può essere ad esempio quando il token hello è tooaccess utilizzati una risorsa e può essere utilizzato come chiave nelle tabelle di database.</span><span class="sxs-lookup"><span data-stu-id="55be9-208">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="55be9-209">Poiché l'oggetto hello è sempre presente nel token hello che problemi di Azure AD, è consigliabile utilizzare questo valore in un sistema di autorizzazioni di uso generale.</span><span class="sxs-lookup"><span data-stu-id="55be9-209">Because hello subject is always present in hello tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="55be9-210">oggetto Hello è, tuttavia, un identificatore pairwise: è l'ID univoco tooa applicazione particolare.</span><span class="sxs-lookup"><span data-stu-id="55be9-210">hello subject is, however, a pairwise identifier - it is unique tooa particular application ID.</span></span>  <span data-ttu-id="55be9-211">Pertanto, se un singolo utente accede a due diverse App utilizzando due client diversi ID, tali App riceverà due diversi valori di attestazione subject hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for hello subject claim.</span></span>  <span data-ttu-id="55be9-212">Questa condizione può non essere appropriata a seconda dei requisiti a livello di architettura e di privacy.</span><span class="sxs-lookup"><span data-stu-id="55be9-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="55be9-213">ID oggetto</span><span class="sxs-lookup"><span data-stu-id="55be9-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="55be9-214">Hello identificatore non modificabile di un oggetto in hello sistema di identità Microsoft, in questo caso, un account utente.</span><span class="sxs-lookup"><span data-stu-id="55be9-214">hello immutable identifier for an object in hello Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="55be9-215">Può essere anche i controlli di autorizzazione tooperform utilizzato come chiave nelle tabelle di database e in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="55be9-215">It can also be used tooperform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="55be9-216">Questo ID identifica in modo univoco l'utente hello tutte le applicazioni: due diverse applicazioni hello riceverà stesso utente l'accesso hello stesso valore in hello `oid` attestazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-216">This ID uniquely identifies hello user across applications - two different applications signing in hello same user will receive hello same value in hello `oid` claim.</span></span>  <span data-ttu-id="55be9-217">Ciò significa che può essere utilizzato quando si creano interrogazioni tooMicrosoft online services, come hello Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="55be9-217">This means that it can be used when making queries tooMicrosoft online services, such as hello Microsoft Graph.</span></span>  <span data-ttu-id="55be9-218">Hello Microsoft Graph restituirà l'ID come hello `id` proprietà per un account utente specificato.</span><span class="sxs-lookup"><span data-stu-id="55be9-218">hello Microsoft Graph will return this ID as hello `id` property for a given user account.</span></span>  <span data-ttu-id="55be9-219">Poiché hello `oid` consente più App toocorrelate, hello `profile` è necessario un ambito in ordine tooreceive questa attestazione.</span><span class="sxs-lookup"><span data-stu-id="55be9-219">Because hello `oid` allows multiple apps toocorrelate users, hello `profile` scope is required in order tooreceive this claim.</span></span> <span data-ttu-id="55be9-220">Si noti che se un singolo utente esiste in più tenant, utente hello conterrà un ID di oggetto diverso in ogni tenant, vengono considerate come account diversi, anche se i log utente hello ogni conto con hello stesse credenziali.</span><span class="sxs-lookup"><span data-stu-id="55be9-220">Note that if a single user exists in multiple tenants, hello user will contain a different object ID in each tenant - they are considered different accounts, even though hello user logs into each account with hello same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="55be9-221">Token di accesso</span><span class="sxs-lookup"><span data-stu-id="55be9-221">Access tokens</span></span>
<span data-ttu-id="55be9-222">Attualmente, i token di accesso rilasciati dall'endpoint di hello v 2.0 possono essere utilizzati solo da Microsoft Services.</span><span class="sxs-lookup"><span data-stu-id="55be9-222">Currently, access tokens issued by hello v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="55be9-223">Le app non dovrebbero necessario tooperform qualsiasi convalida o l'ispezione dei token di accesso per uno degli scenari di hello attualmente supportato.</span><span class="sxs-lookup"><span data-stu-id="55be9-223">Your apps shouldn't need tooperform any validation or inspection of access tokens for any of hello currently supported scenarios.</span></span> <span data-ttu-id="55be9-224">I token di accesso possono essere considerati completamente opachi.</span><span class="sxs-lookup"><span data-stu-id="55be9-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="55be9-225">Sono semplici stringhe che l'app possa superare tooMicrosoft nelle richieste HTTP.</span><span class="sxs-lookup"><span data-stu-id="55be9-225">They are just strings that your app can pass tooMicrosoft in HTTP requests.</span></span>

<span data-ttu-id="55be9-226">In hello quasi future, v 2.0 hello endpoint introdurrà il possibilità hello per i token di accesso app tooreceive da altri client.</span><span class="sxs-lookup"><span data-stu-id="55be9-226">In hello near future, hello v2.0 endpoint will introduce hello ability for your app tooreceive access tokens from other clients.</span></span> <span data-ttu-id="55be9-227">In quel momento, hello informazioni in questo argomento di riferimento verranno aggiornate con le informazioni di hello necessarie per la convalida dei token accesso tooperform app e altre operazioni.</span><span class="sxs-lookup"><span data-stu-id="55be9-227">At that time, hello information in this reference topic will be updated with hello information that you need for your app tooperform access token validation and other similar tasks.</span></span>

<span data-ttu-id="55be9-228">Quando si richiede un token di accesso dall'endpoint di hello v 2.0, endpoint v 2.0 hello restituisce inoltre i metadati relativi a token di accesso hello toouse l'app.</span><span class="sxs-lookup"><span data-stu-id="55be9-228">When you request an access token from hello v2.0 endpoint, hello v2.0 endpoint also returns metadata about hello access token for your app toouse.</span></span> <span data-ttu-id="55be9-229">Queste informazioni includono ora di scadenza hello di token di accesso hello e ambiti di hello per le quali è valido.</span><span class="sxs-lookup"><span data-stu-id="55be9-229">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span> <span data-ttu-id="55be9-230">L'app Usa questa metadati tooperform intelligente la memorizzazione nella cache dei token di accesso senza token di accesso di hello aprire tooparse stesso.</span><span class="sxs-lookup"><span data-stu-id="55be9-230">Your app uses this metadata tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="55be9-231">Token di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="55be9-231">Refresh tokens</span></span>
<span data-ttu-id="55be9-232">Token di aggiornamento sono token di sicurezza che l'applicazione può utilizzare tooget new token in un flusso OAuth 2.0 di accesso.</span><span class="sxs-lookup"><span data-stu-id="55be9-232">Refresh tokens are security tokens that your app can use tooget new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="55be9-233">L'app è possibile utilizzare aggiornamento token tooachieve a lungo termine accesso tooresources per conto dell'utente senza interazione dell'utente hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-233">Your app can use refresh tokens tooachieve long-term access tooresources on behalf of a user without requiring interaction with hello user.</span></span>

<span data-ttu-id="55be9-234">Si tratta di token a più risorse,</span><span class="sxs-lookup"><span data-stu-id="55be9-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="55be9-235">Un token di aggiornamento ricevuto durante una richiesta di token per una risorsa può essere riscattato per la risorsa completamente diverse tooa i token di accesso.</span><span class="sxs-lookup"><span data-stu-id="55be9-235">A refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span>

<span data-ttu-id="55be9-236">tooreceive un aggiornamento in una risposta di token, l'app deve richieda e ottenga hello `offline_acesss` ambito.</span><span class="sxs-lookup"><span data-stu-id="55be9-236">tooreceive a refresh in a token response, your app must request and be granted hello `offline_acesss` scope.</span></span> <span data-ttu-id="55be9-237">altre informazioni sulle hello toolearn `offline_access` ambito, vedere hello [consenso e gli ambiti](active-directory-v2-scopes.md) articolo.</span><span class="sxs-lookup"><span data-stu-id="55be9-237">toolearn more about hello `offline_access` scope, see hello [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="55be9-238">Token di aggiornamento sono e sempre saranno, app tooyour completamente opaco.</span><span class="sxs-lookup"><span data-stu-id="55be9-238">Refresh tokens are, and always will be, completely opaque tooyour app.</span></span> <span data-ttu-id="55be9-239">Essi vengono rilasciati dall'endpoint di v 2.0 hello Azure AD e può solo essere ispezionati e interpretati dall'endpoint di hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="55be9-239">They are issued by hello Azure AD v2.0 endpoint and can only be inspected and interpreted by hello v2.0 endpoint.</span></span> <span data-ttu-id="55be9-240">Sono di lunga durate, ma l'app non deve essere scritto tooexpect che durata un token di aggiornamento per qualsiasi periodo di tempo.</span><span class="sxs-lookup"><span data-stu-id="55be9-240">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="55be9-241">I token di aggiornamento possono essere annullati in qualsiasi momento per vari motivi.</span><span class="sxs-lookup"><span data-stu-id="55be9-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="55be9-242">Hello solo per i tooknow app se è valido un token di aggiornamento è tooattempt tooredeem, rendendo un endpoint di richiesta di token toohello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="55be9-242">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request toohello v2.0 endpoint.</span></span>

<span data-ttu-id="55be9-243">Quando si Riscatta un token di aggiornamento di un nuovo token di accesso (e se l'app è state concesse hello `offline_access` ambito), viene visualizzato un nuovo token di aggiornamento in risposta token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-243">When you redeem a refresh token for a new access token (and if your app had been granted hello `offline_access` scope), you receive a new refresh token in hello token response.</span></span> <span data-ttu-id="55be9-244">Salvare hello appena emesso aggiornamento token, tooreplace hello usato nella richiesta di hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-244">Save hello newly issued refresh token, tooreplace hello one you used in hello request.</span></span> <span data-ttu-id="55be9-245">In questo modo è possibile prolungare la validità dei token di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="55be9-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="55be9-246">Convalida dei token</span><span class="sxs-lookup"><span data-stu-id="55be9-246">Validating tokens</span></span>
<span data-ttu-id="55be9-247">Attualmente, hello solo la convalida token App dovrebbe essere necessario tooperform convalida i token ID.</span><span class="sxs-lookup"><span data-stu-id="55be9-247">Currently, hello only token validation your apps should need tooperform is validating ID tokens.</span></span> <span data-ttu-id="55be9-248">toovalidate un ID token, l'applicazione deve convalidare le attestazioni del token ID entrambi hello di firma e hello in token ID hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-248">toovalidate an ID token, your app should validate both hello ID token's signature and hello claims in hello ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="55be9-249">Microsoft fornisce esempi di codice che illustrano come tooeasily gestiscono la convalida dei token e librerie.</span><span class="sxs-lookup"><span data-stu-id="55be9-249">Microsoft provides libraries and code samples that show you how tooeasily handle token validation.</span></span> <span data-ttu-id="55be9-250">Nelle sezioni successive hello descritti hello processo sottostante.</span><span class="sxs-lookup"><span data-stu-id="55be9-250">In hello next sections, we describe hello underlying process.</span></span> <span data-ttu-id="55be9-251">Sono anche disponibili varie librerie open source di terze parti per la convalida dei token JWT.</span><span class="sxs-lookup"><span data-stu-id="55be9-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="55be9-252">È disponibile almeno una libreria per ogni piattaforma e linguaggio.</span><span class="sxs-lookup"><span data-stu-id="55be9-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="55be9-253">Convalidare la firma hello</span><span class="sxs-lookup"><span data-stu-id="55be9-253">Validate hello signature</span></span>
<span data-ttu-id="55be9-254">Un token JWT contiene tre segmenti, separati da hello `.` carattere.</span><span class="sxs-lookup"><span data-stu-id="55be9-254">A JWT contains three segments, which are separated by hello `.` character.</span></span> <span data-ttu-id="55be9-255">primo segmento Hello è noto come hello *intestazione*, secondo segmento hello è hello *corpo*, e il terzo segmento hello è hello *firma*.</span><span class="sxs-lookup"><span data-stu-id="55be9-255">hello first segment is known as hello *header*, hello second segment is hello *body*, and hello third segment is hello *signature*.</span></span> <span data-ttu-id="55be9-256">segmento di firma Hello può essere utilizzato toovalidate hello autenticità del token ID hello in modo che possono essere considerati attendibili dall'app.</span><span class="sxs-lookup"><span data-stu-id="55be9-256">hello signature segment can be used toovalidate hello authenticity of hello ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="55be9-257">I token ID vengono firmati usando algoritmi di crittografia asimmetrica standard del settore, come RSA 256.</span><span class="sxs-lookup"><span data-stu-id="55be9-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="55be9-258">intestazione del token ID hello Hello contiene informazioni sulla chiave hello e metodo di crittografia utilizzato token hello toosign.</span><span class="sxs-lookup"><span data-stu-id="55be9-258">hello header of hello ID token has information about hello key and encryption method used toosign hello token.</span></span> <span data-ttu-id="55be9-259">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="55be9-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="55be9-260">Hello `alg` attestazione indica l'algoritmo hello non utilizzati toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="55be9-260">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="55be9-261">Hello `kid` attestazione indica una chiave pubblica hello che era token hello toosign utilizzato.</span><span class="sxs-lookup"><span data-stu-id="55be9-261">hello `kid` claim indicates hello public key that was used toosign hello token.</span></span>

<span data-ttu-id="55be9-262">In qualsiasi momento, endpoint v 2.0 hello può accedere un ID token utilizzando uno di un set specifico di coppie di chiavi pubblica / privata.</span><span class="sxs-lookup"><span data-stu-id="55be9-262">At any time, hello v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="55be9-263">endpoint v 2.0 Hello ruota periodicamente i set di possibili hello di chiavi, in modo che l'app deve essere scritto toohandle tali chiave viene modificata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="55be9-263">hello v2.0 endpoint periodically rotates hello possible set of keys, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="55be9-264">Toocheck una frequenza ragionevole per gli aggiornamenti toohello le chiavi pubbliche utilizzata dall'endpoint v 2.0 hello è di 24 ore.</span><span class="sxs-lookup"><span data-stu-id="55be9-264">A reasonable frequency toocheck for updates toohello public keys used by hello v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="55be9-265">È possibile acquisire hello firma i dati principali che è necessario firma hello toovalidate utilizzando hello OpenID Connect documento dei metadati si trova in:</span><span class="sxs-lookup"><span data-stu-id="55be9-265">You can acquire hello signing key data that you need toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="55be9-266">Prova URL hello in un browser.</span><span class="sxs-lookup"><span data-stu-id="55be9-266">Try hello URL in a browser!</span></span>
>
>

<span data-ttu-id="55be9-267">Questo documento di metadati è un oggetto JSON che è utile di varie informazioni, ad esempio percorso hello di hello vari endpoint necessari per l'autenticazione OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="55be9-267">This metadata document is a JSON object that has several useful pieces of information, such as hello location of hello various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="55be9-268">documento Hello include anche un *jwks_uri*, che offre una posizione di hello di hello set di chiavi pubbliche utilizzate toosign token.</span><span class="sxs-lookup"><span data-stu-id="55be9-268">hello document also includes a *jwks_uri*, which gives hello location of hello set of public keys used toosign tokens.</span></span> <span data-ttu-id="55be9-269">documento JSON Hello in hello jwks_uri ha tutti hello informazioni sulla chiave pubblica che è attualmente in uso.</span><span class="sxs-lookup"><span data-stu-id="55be9-269">hello JSON document located at hello jwks_uri has all hello public key information that is currently in use.</span></span> <span data-ttu-id="55be9-270">L'app è possibile utilizzare hello `kid` di attestazione in hello JWT intestazione tooselect la chiave pubblica in questo documento è stato utilizzato toosign un token.</span><span class="sxs-lookup"><span data-stu-id="55be9-270">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a token.</span></span> <span data-ttu-id="55be9-271">Quindi viene eseguita la convalida della firma con chiave pubblica corretta hello e l'algoritmo indicato hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-271">It then performs signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="55be9-272">Eseguire la convalida della firma è l'ambito hello di fuori di questo documento.</span><span class="sxs-lookup"><span data-stu-id="55be9-272">Performing signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="55be9-273">Molte librerie open source sono disponibili toohelp si con questo oggetto.</span><span class="sxs-lookup"><span data-stu-id="55be9-273">Many open-source libraries are available toohelp you with this.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="55be9-274">Convalidare le attestazioni hello</span><span class="sxs-lookup"><span data-stu-id="55be9-274">Validate hello claims</span></span>
<span data-ttu-id="55be9-275">Quando l'applicazione riceve un ID token all'account utente, deve anche eseguire alcuni controlli hello attestazioni nel token ID hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against hello claims in hello ID token.</span></span> <span data-ttu-id="55be9-276">Sono incluse, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="55be9-276">These include but are not limited to:</span></span>

* <span data-ttu-id="55be9-277">**gruppo di destinatari** attestazione, tooverify che hello token ID è stato previsto toobe dato tooyour app</span><span class="sxs-lookup"><span data-stu-id="55be9-277">**audience** claim, tooverify that hello ID token was intended toobe given tooyour app</span></span>
* <span data-ttu-id="55be9-278">**non prima** e **scadenza** attestazioni, tooverify che hello token ID non sia scaduto.</span><span class="sxs-lookup"><span data-stu-id="55be9-278">**not before** and **expiration time** claims, tooverify that hello ID token has not expired</span></span>
* <span data-ttu-id="55be9-279">**autorità di certificazione** attestazione, tooverify che hello token emesso da endpoint v 2.0 hello tooyour app</span><span class="sxs-lookup"><span data-stu-id="55be9-279">**issuer** claim, tooverify that hello token was issued tooyour app by hello v2.0 endpoint</span></span>
* <span data-ttu-id="55be9-280">Attestazione **nonce**: per ridurre gli attacchi di riproduzione dei token.</span><span class="sxs-lookup"><span data-stu-id="55be9-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="55be9-281">Per un elenco completo delle convalide di attestazione che deve eseguire l'app, vedere hello [OpenID Connect specifica](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="55be9-281">For a full list of claim validations that your app should perform, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="55be9-282">I dettagli dei valori previsti hello per le attestazioni sono inclusi in hello [token ID](# ID tokens) sezione.</span><span class="sxs-lookup"><span data-stu-id="55be9-282">Details of hello expected values for these claims are included in hello [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="55be9-283">Durata dei token</span><span class="sxs-lookup"><span data-stu-id="55be9-283">Token lifetimes</span></span>
<span data-ttu-id="55be9-284">Offriamo hello seguente durata dei token solo a scopo informativo.</span><span class="sxs-lookup"><span data-stu-id="55be9-284">We provide hello following token lifetimes for your information only.</span></span> <span data-ttu-id="55be9-285">informazioni di Hello risultano utili durante lo sviluppo e debug di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="55be9-285">hello information might help you as you develop and debug apps.</span></span> <span data-ttu-id="55be9-286">Le app non devono essere scritto tooexpect uno di questi costante tooremain durate.</span><span class="sxs-lookup"><span data-stu-id="55be9-286">Your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="55be9-287">La durata del token può cambiare in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="55be9-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="55be9-288">Token</span><span class="sxs-lookup"><span data-stu-id="55be9-288">Token</span></span> | <span data-ttu-id="55be9-289">Durata</span><span class="sxs-lookup"><span data-stu-id="55be9-289">Lifetime</span></span> | <span data-ttu-id="55be9-290">Descrizione</span><span class="sxs-lookup"><span data-stu-id="55be9-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="55be9-291">Token ID (account aziendale o dell'istituto di istruzione)</span><span class="sxs-lookup"><span data-stu-id="55be9-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="55be9-292">1 ora</span><span class="sxs-lookup"><span data-stu-id="55be9-292">1 hour</span></span> |<span data-ttu-id="55be9-293">I token ID hanno in genere una validità di un'ora.</span><span class="sxs-lookup"><span data-stu-id="55be9-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="55be9-294">L'app web è possibile utilizzare questo stesso toomaintain durata una propria sessione con utente hello (scelta consigliata), oppure è possibile scegliere una durata della sessione completamente diverse.</span><span class="sxs-lookup"><span data-stu-id="55be9-294">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="55be9-295">Se l'app deve tooget un nuovo token di ID, è necessario toomake sign-in una nuova richiesta toohello 2.0 autorizza un endpoint.</span><span class="sxs-lookup"><span data-stu-id="55be9-295">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="55be9-296">Se l'utente di hello dispone di una sessione del browser valido con endpoint v 2.0 hello, utente hello potrebbe non essere necessari tooenter nuovamente le proprie credenziali.</span><span class="sxs-lookup"><span data-stu-id="55be9-296">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="55be9-297">Token ID (account personale)</span><span class="sxs-lookup"><span data-stu-id="55be9-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="55be9-298">24 ore</span><span class="sxs-lookup"><span data-stu-id="55be9-298">24 hours</span></span> |<span data-ttu-id="55be9-299">I token ID per gli account personali hanno in genere una validità di 24 ore.</span><span class="sxs-lookup"><span data-stu-id="55be9-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="55be9-300">L'app web è possibile utilizzare questo stesso toomaintain durata una propria sessione con utente hello (scelta consigliata), oppure è possibile scegliere una durata della sessione completamente diverse.</span><span class="sxs-lookup"><span data-stu-id="55be9-300">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="55be9-301">Se l'app deve tooget un nuovo token di ID, è necessario toomake sign-in una nuova richiesta toohello 2.0 autorizza un endpoint.</span><span class="sxs-lookup"><span data-stu-id="55be9-301">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="55be9-302">Se l'utente di hello dispone di una sessione del browser valido con endpoint v 2.0 hello, utente hello potrebbe non essere necessari tooenter nuovamente le proprie credenziali.</span><span class="sxs-lookup"><span data-stu-id="55be9-302">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="55be9-303">Token di accesso (account aziendale o dell'istituto di istruzione)</span><span class="sxs-lookup"><span data-stu-id="55be9-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="55be9-304">1 ora</span><span class="sxs-lookup"><span data-stu-id="55be9-304">1 hour</span></span> |<span data-ttu-id="55be9-305">Come parte dei metadati token hello, indicato nelle risposte token.</span><span class="sxs-lookup"><span data-stu-id="55be9-305">Indicated in token responses as part of hello token metadata.</span></span> |
| <span data-ttu-id="55be9-306">Token di accesso (account personale)</span><span class="sxs-lookup"><span data-stu-id="55be9-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="55be9-307">1 ora</span><span class="sxs-lookup"><span data-stu-id="55be9-307">1 hour</span></span> |<span data-ttu-id="55be9-308">Come parte dei metadati token hello, indicato nelle risposte token.</span><span class="sxs-lookup"><span data-stu-id="55be9-308">Indicated in token responses as part of hello token metadata.</span></span> <span data-ttu-id="55be9-309">I token di accesso generati per conto di account personali possono essere configurati con una durata diversa, ma la durata tipica è un'ora.</span><span class="sxs-lookup"><span data-stu-id="55be9-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="55be9-310">Token di aggiornamento (account aziendale o dell'istituto di istruzione)</span><span class="sxs-lookup"><span data-stu-id="55be9-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="55be9-311">Impostare i giorni too14</span><span class="sxs-lookup"><span data-stu-id="55be9-311">Up too14 days</span></span> |<span data-ttu-id="55be9-312">Un singolo token di aggiornamento è valido per un periodo massimo di 14 giorni.</span><span class="sxs-lookup"><span data-stu-id="55be9-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="55be9-313">Tuttavia, il token di aggiornamento hello potrebbe diventare non valido in qualsiasi momento per vari motivi, in modo che l'app deve continuare tootry toouse un token di aggiornamento fino a quando non riesce o fino a quando l'app lo sostituisce con un nuovo token di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="55be9-313">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="55be9-314">Viene inoltre valido se sono trascorsi 90 giorni dall'utente di hello ha immesso le credenziali di un token di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="55be9-314">A refresh token also becomes invalid if it has been 90 days since hello user has entered their credentials.</span></span> |
| <span data-ttu-id="55be9-315">Token di aggiornamento (account personale)</span><span class="sxs-lookup"><span data-stu-id="55be9-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="55be9-316">Backup too1 anno</span><span class="sxs-lookup"><span data-stu-id="55be9-316">Up too1 year</span></span> |<span data-ttu-id="55be9-317">Un singolo token di aggiornamento è valido per un periodo massimo di 1 anno.</span><span class="sxs-lookup"><span data-stu-id="55be9-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="55be9-318">Tuttavia, il token di aggiornamento hello potrebbe diventare non valido in qualsiasi momento per vari motivi, in modo che l'app deve continuare tootry toouse un token di aggiornamento fino a quando si verifica un errore.</span><span class="sxs-lookup"><span data-stu-id="55be9-318">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails.</span></span> |
| <span data-ttu-id="55be9-319">Codici di autorizzazione (account aziendale o dell'istituto di istruzione)</span><span class="sxs-lookup"><span data-stu-id="55be9-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="55be9-320">10 minuti</span><span class="sxs-lookup"><span data-stu-id="55be9-320">10 minutes</span></span> |<span data-ttu-id="55be9-321">I codici di autorizzazione sono intenzionalmente breve durati e devono essere utilizzati immediatamente per i token di accesso e i token di aggiornamento quando vengono ricevuti i token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> |
| <span data-ttu-id="55be9-322">Codici di autorizzazione (account personale)</span><span class="sxs-lookup"><span data-stu-id="55be9-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="55be9-323">5 minuti</span><span class="sxs-lookup"><span data-stu-id="55be9-323">5 minutes</span></span> |<span data-ttu-id="55be9-324">I codici di autorizzazione sono intenzionalmente breve durati e devono essere utilizzati immediatamente per i token di accesso e i token di aggiornamento quando vengono ricevuti i token hello.</span><span class="sxs-lookup"><span data-stu-id="55be9-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> <span data-ttu-id="55be9-325">I codici di autorizzazione generati per conto degli account personali possono essere usati una sola volta.</span><span class="sxs-lookup"><span data-stu-id="55be9-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
