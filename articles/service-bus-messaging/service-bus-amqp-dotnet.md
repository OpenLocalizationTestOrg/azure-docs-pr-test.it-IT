---
title: aaaService Bus con .NET e AMQP 1.0 | Documenti Microsoft
description: Uso del bus di servizio di Azure da .NET con AMQP
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 332bcb13-e287-4715-99ee-3d7d97396487
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/19/2017
ms.author: sethm
ms.openlocfilehash: d8b40f92ba29058951556fa3db1adcf9383ee69f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="using-service-bus-from-net-with-amqp-10"></a><span data-ttu-id="edc9f-103">Uso del bus di servizio da .NET con AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="edc9f-103">Using Service Bus from .NET with AMQP 1.0</span></span>

## <a name="downloading-hello-service-bus-sdk"></a><span data-ttu-id="edc9f-104">Download hello Service Bus SDK</span><span class="sxs-lookup"><span data-stu-id="edc9f-104">Downloading hello Service Bus SDK</span></span>

<span data-ttu-id="edc9f-105">Supporto di AMQP 1.0 è disponibile in hello Service Bus SDK versione 2.1 o successiva.</span><span class="sxs-lookup"><span data-stu-id="edc9f-105">AMQP 1.0 support is available in hello Service Bus SDK version 2.1 or later.</span></span> <span data-ttu-id="edc9f-106">È possibile assicurarsi di avere la versione più recente di hello scaricando i bit del Bus di servizio hello [NuGet][NuGet].</span><span class="sxs-lookup"><span data-stu-id="edc9f-106">You can ensure you have hello latest version by downloading hello Service Bus bits from [NuGet][NuGet].</span></span>

## <a name="configuring-net-applications-toouse-amqp-10"></a><span data-ttu-id="edc9f-107">Configurazione .NET applicazioni toouse AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="edc9f-107">Configuring .NET applications toouse AMQP 1.0</span></span>

<span data-ttu-id="edc9f-108">Per impostazione predefinita, libreria client .NET di Service Bus di hello comunica con il servizio Bus di servizio utilizzando un protocollo dedicato basato su SOAP hello.</span><span class="sxs-lookup"><span data-stu-id="edc9f-108">By default, hello Service Bus .NET client library communicates with hello Service Bus service using a dedicated SOAP-based protocol.</span></span> <span data-ttu-id="edc9f-109">toouse AMQP 1.0 anziché protocollo predefinito hello è necessaria una configurazione esplicita nella stringa di connessione del Bus di servizio hello, come descritto nella sezione successiva hello.</span><span class="sxs-lookup"><span data-stu-id="edc9f-109">toouse AMQP 1.0 instead of hello default protocol requires explicit configuration on hello Service Bus connection string, as described in hello next section.</span></span> <span data-ttu-id="edc9f-110">A parte questa modifica, il codice dell'applicazione rimane invariato quando si usa AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="edc9f-110">Other than this change, application code remains unchanged when using AMQP 1.0.</span></span>

<span data-ttu-id="edc9f-111">Nella versione corrente di hello, esistono alcune funzionalità dell'API che non sono supportate quando si usa AMQP.</span><span class="sxs-lookup"><span data-stu-id="edc9f-111">In hello current release, there are a few API features that are not supported when using AMQP.</span></span> <span data-ttu-id="edc9f-112">Queste funzionalità non supportate sono elencate più avanti nella sezione hello [non supportato di funzionalità, restrizioni e differenze di comportamento](#unsupported-features-restrictions-and-behavioral-differences).</span><span class="sxs-lookup"><span data-stu-id="edc9f-112">These unsupported features are listed later in hello section [Unsupported features, restrictions, and behavioral differences](#unsupported-features-restrictions-and-behavioral-differences).</span></span> <span data-ttu-id="edc9f-113">Inoltre, alcune delle impostazioni di configurazione avanzata hello hanno un significato diverso quando si usa AMQP.</span><span class="sxs-lookup"><span data-stu-id="edc9f-113">Some of hello advanced configuration settings also have a different meaning when using AMQP.</span></span>

### <a name="configuration-using-appconfig"></a><span data-ttu-id="edc9f-114">Configurazione mediante App.config</span><span class="sxs-lookup"><span data-stu-id="edc9f-114">Configuration using App.config</span></span>

<span data-ttu-id="edc9f-115">È buona norma applicazioni toouse hello app. config file toostore le impostazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="edc9f-115">It is good practice for applications toouse hello App.config configuration file toostore settings.</span></span> <span data-ttu-id="edc9f-116">Per le applicazioni di Service Bus, è possibile utilizzare una stringa di connessione di App. config toostore hello Bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="edc9f-116">For Service Bus applications, you can use App.config toostore hello Service Bus connection string.</span></span> <span data-ttu-id="edc9f-117">Ecco un file App.config di esempio:</span><span class="sxs-lookup"><span data-stu-id="edc9f-117">An example App.config file is as follows:</span></span>

```xml
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    <appSettings>
        <add key="Microsoft.ServiceBus.ConnectionString"
             value="Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp" />
    </appSettings>
</configuration>
```

<span data-ttu-id="edc9f-118">valore di hello Hello `Microsoft.ServiceBus.ConnectionString` impostazione è una stringa di connessione hello Bus di servizio che viene utilizzato tooconfigure hello connessione tooService Bus.</span><span class="sxs-lookup"><span data-stu-id="edc9f-118">hello value of hello `Microsoft.ServiceBus.ConnectionString` setting is hello Service Bus connection string that is used tooconfigure hello connection tooService Bus.</span></span> <span data-ttu-id="edc9f-119">formato hello è come segue:</span><span class="sxs-lookup"><span data-stu-id="edc9f-119">hello format is as follows:</span></span>

`Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp`

<span data-ttu-id="edc9f-120">Dove `[namespace]` e `SharedAccessKey` vengono ottenuti dal hello [portale di Azure] [ Azure portal] quando si crea uno spazio dei nomi del Bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="edc9f-120">Where `[namespace]` and `SharedAccessKey` are obtained from hello [Azure portal][Azure portal] when you create a Service Bus namespace.</span></span> <span data-ttu-id="edc9f-121">Per ulteriori informazioni, vedere [creare uno spazio dei nomi del Bus di servizio utilizzando il portale di Azure hello][Create a Service Bus namespace using hello Azure portal].</span><span class="sxs-lookup"><span data-stu-id="edc9f-121">For more information, see [Create a Service Bus namespace using hello Azure portal][Create a Service Bus namespace using hello Azure portal].</span></span>

<span data-ttu-id="edc9f-122">Quando si usa AMQP, aggiungere la stringa di connessione hello con `;TransportType=Amqp`.</span><span class="sxs-lookup"><span data-stu-id="edc9f-122">When using AMQP, append hello connection string with `;TransportType=Amqp`.</span></span> <span data-ttu-id="edc9f-123">Questa notazione indica hello client libreria toomake relativo tooService connessione Bus mediante AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="edc9f-123">This notation instructs hello client library toomake its connection tooService Bus using AMQP 1.0.</span></span>

## <a name="message-serialization"></a><span data-ttu-id="edc9f-124">Serializzazione dei messaggi</span><span class="sxs-lookup"><span data-stu-id="edc9f-124">Message serialization</span></span>

<span data-ttu-id="edc9f-125">Quando si utilizza il protocollo di predefinito hello, comportamento di serializzazione predefinito hello della libreria client .NET di hello è hello toouse [DataContractSerializer] [ DataContractSerializer] digitare tooserialize un [BrokeredMessage ] [ BrokeredMessage] istanza per il trasporto tra la libreria client di hello e hello servizio service Bus.</span><span class="sxs-lookup"><span data-stu-id="edc9f-125">When using hello default protocol, hello default serialization behavior of hello .NET client library is toouse hello [DataContractSerializer][DataContractSerializer] type tooserialize a [BrokeredMessage][BrokeredMessage] instance for transport between hello client library and hello Service Bus service.</span></span> <span data-ttu-id="edc9f-126">Quando si utilizza la modalità di trasporto AMQP hello, libreria di hello client utilizza il sistema di tipi AMQP hello per la serializzazione di hello [messaggio negoziato] [ BrokeredMessage] in un messaggio AMQP.</span><span class="sxs-lookup"><span data-stu-id="edc9f-126">When using hello AMQP transport mode, hello client library uses hello AMQP type system for serialization of hello [brokered message][BrokeredMessage] into an AMQP message.</span></span> <span data-ttu-id="edc9f-127">Questa serializzazione permette hello messaggio toobe ricevuto e interpretato da un'applicazione ricevente potenzialmente in esecuzione su una piattaforma diversa, ad esempio, un'applicazione Java che utilizza hello API JMS tooaccess Bus di servizio.</span><span class="sxs-lookup"><span data-stu-id="edc9f-127">This serialization enables hello message toobe received and interpreted by a receiving application that is potentially running on a different platform, for example, a Java application that uses hello JMS API tooaccess Service Bus.</span></span>

<span data-ttu-id="edc9f-128">Quando si creano un [BrokeredMessage] [ BrokeredMessage] istanza, è possibile fornire un oggetto .NET come tooserve di costruttore toohello un parametro come corpo hello del messaggio hello.</span><span class="sxs-lookup"><span data-stu-id="edc9f-128">When you construct a [BrokeredMessage][BrokeredMessage] instance, you can provide a .NET object as a parameter toohello constructor tooserve as hello body of hello message.</span></span> <span data-ttu-id="edc9f-129">Per gli oggetti che possono essere tipi primitivi tooAMQP mappato, corpo hello viene serializzato in tipi di dati AMQP.</span><span class="sxs-lookup"><span data-stu-id="edc9f-129">For objects that can be mapped tooAMQP primitive types, hello body is serialized into AMQP data types.</span></span> <span data-ttu-id="edc9f-130">Se l'oggetto hello non può essere mappato direttamente in un tipo primitivo AMQP. ovvero, un tipo personalizzato definito dall'applicazione hello e oggetto hello viene serializzato utilizzando hello [DataContractSerializer][DataContractSerializer], e hello serializzato byte vengono inviati in un messaggio data AMQP.</span><span class="sxs-lookup"><span data-stu-id="edc9f-130">If hello object cannot be directly mapped into an AMQP primitive type; that is, a custom type defined by hello application, then hello object is serialized using hello [DataContractSerializer][DataContractSerializer], and hello serialized bytes are sent in an AMQP data message.</span></span>

<span data-ttu-id="edc9f-131">toofacilitate interoperabilità con client non .NET, usare solo i tipi .NET che possono essere serializzati direttamente in tipi AMQP per il corpo del messaggio hello hello.</span><span class="sxs-lookup"><span data-stu-id="edc9f-131">toofacilitate interoperability with non-.NET clients, use only .NET types that can be serialized directly into AMQP types for hello body of hello message.</span></span> <span data-ttu-id="edc9f-132">Hello nella tabella seguente illustra in dettaglio i tipi e hello corrispondente mapping toohello sistema di tipi AMQP.</span><span class="sxs-lookup"><span data-stu-id="edc9f-132">hello following table details those types and hello corresponding mapping toohello AMQP type system.</span></span>

| <span data-ttu-id="edc9f-133">Tipo di oggetto del corpo .NET</span><span class="sxs-lookup"><span data-stu-id="edc9f-133">.NET Body Object Type</span></span> | <span data-ttu-id="edc9f-134">Tipo AMQP mappato</span><span class="sxs-lookup"><span data-stu-id="edc9f-134">Mapped AMQP Type</span></span> | <span data-ttu-id="edc9f-135">Tipo di sezione del corpo AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-135">AMQP Body Section Type</span></span> |
| --- | --- | --- |
| <span data-ttu-id="edc9f-136">bool</span><span class="sxs-lookup"><span data-stu-id="edc9f-136">bool</span></span> |<span data-ttu-id="edc9f-137">boolean</span><span class="sxs-lookup"><span data-stu-id="edc9f-137">boolean</span></span> |<span data-ttu-id="edc9f-138">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-138">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-139">byte</span><span class="sxs-lookup"><span data-stu-id="edc9f-139">byte</span></span> |<span data-ttu-id="edc9f-140">ubyte</span><span class="sxs-lookup"><span data-stu-id="edc9f-140">ubyte</span></span> |<span data-ttu-id="edc9f-141">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-141">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-142">ushort</span><span class="sxs-lookup"><span data-stu-id="edc9f-142">ushort</span></span> |<span data-ttu-id="edc9f-143">ushort</span><span class="sxs-lookup"><span data-stu-id="edc9f-143">ushort</span></span> |<span data-ttu-id="edc9f-144">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-144">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-145">uint</span><span class="sxs-lookup"><span data-stu-id="edc9f-145">uint</span></span> |<span data-ttu-id="edc9f-146">uint</span><span class="sxs-lookup"><span data-stu-id="edc9f-146">uint</span></span> |<span data-ttu-id="edc9f-147">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-147">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-148">ulong</span><span class="sxs-lookup"><span data-stu-id="edc9f-148">ulong</span></span> |<span data-ttu-id="edc9f-149">ulong</span><span class="sxs-lookup"><span data-stu-id="edc9f-149">ulong</span></span> |<span data-ttu-id="edc9f-150">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-150">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-151">sbyte</span><span class="sxs-lookup"><span data-stu-id="edc9f-151">sbyte</span></span> |<span data-ttu-id="edc9f-152">byte</span><span class="sxs-lookup"><span data-stu-id="edc9f-152">byte</span></span> |<span data-ttu-id="edc9f-153">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-153">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-154">short</span><span class="sxs-lookup"><span data-stu-id="edc9f-154">short</span></span> |<span data-ttu-id="edc9f-155">short</span><span class="sxs-lookup"><span data-stu-id="edc9f-155">short</span></span> |<span data-ttu-id="edc9f-156">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-156">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-157">int</span><span class="sxs-lookup"><span data-stu-id="edc9f-157">int</span></span> |<span data-ttu-id="edc9f-158">int</span><span class="sxs-lookup"><span data-stu-id="edc9f-158">int</span></span> |<span data-ttu-id="edc9f-159">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-159">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-160">long</span><span class="sxs-lookup"><span data-stu-id="edc9f-160">long</span></span> |<span data-ttu-id="edc9f-161">long</span><span class="sxs-lookup"><span data-stu-id="edc9f-161">long</span></span> |<span data-ttu-id="edc9f-162">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-162">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-163">float</span><span class="sxs-lookup"><span data-stu-id="edc9f-163">float</span></span> |<span data-ttu-id="edc9f-164">float</span><span class="sxs-lookup"><span data-stu-id="edc9f-164">float</span></span> |<span data-ttu-id="edc9f-165">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-165">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-166">double</span><span class="sxs-lookup"><span data-stu-id="edc9f-166">double</span></span> |<span data-ttu-id="edc9f-167">double</span><span class="sxs-lookup"><span data-stu-id="edc9f-167">double</span></span> |<span data-ttu-id="edc9f-168">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-168">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-169">decimal</span><span class="sxs-lookup"><span data-stu-id="edc9f-169">decimal</span></span> |<span data-ttu-id="edc9f-170">decimal128</span><span class="sxs-lookup"><span data-stu-id="edc9f-170">decimal128</span></span> |<span data-ttu-id="edc9f-171">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-171">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-172">char</span><span class="sxs-lookup"><span data-stu-id="edc9f-172">char</span></span> |<span data-ttu-id="edc9f-173">char</span><span class="sxs-lookup"><span data-stu-id="edc9f-173">char</span></span> |<span data-ttu-id="edc9f-174">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-174">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-175">DateTime</span><span class="sxs-lookup"><span data-stu-id="edc9f-175">DateTime</span></span> |<span data-ttu-id="edc9f-176">timestamp</span><span class="sxs-lookup"><span data-stu-id="edc9f-176">timestamp</span></span> |<span data-ttu-id="edc9f-177">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-177">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-178">Guid</span><span class="sxs-lookup"><span data-stu-id="edc9f-178">Guid</span></span> |<span data-ttu-id="edc9f-179">uuid</span><span class="sxs-lookup"><span data-stu-id="edc9f-179">uuid</span></span> |<span data-ttu-id="edc9f-180">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-180">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-181">byte[]</span><span class="sxs-lookup"><span data-stu-id="edc9f-181">byte[]</span></span> |<span data-ttu-id="edc9f-182">binary</span><span class="sxs-lookup"><span data-stu-id="edc9f-182">binary</span></span> |<span data-ttu-id="edc9f-183">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-183">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-184">string</span><span class="sxs-lookup"><span data-stu-id="edc9f-184">string</span></span> |<span data-ttu-id="edc9f-185">stringa</span><span class="sxs-lookup"><span data-stu-id="edc9f-185">string</span></span> |<span data-ttu-id="edc9f-186">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-186">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-187">System.Collections.IList</span><span class="sxs-lookup"><span data-stu-id="edc9f-187">System.Collections.IList</span></span> |<span data-ttu-id="edc9f-188">list</span><span class="sxs-lookup"><span data-stu-id="edc9f-188">list</span></span> |<span data-ttu-id="edc9f-189">Valore AMQP: gli elementi contenuti nella raccolta hello possono essere solo quelli definiti in questa tabella.</span><span class="sxs-lookup"><span data-stu-id="edc9f-189">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="edc9f-190">System.Array</span><span class="sxs-lookup"><span data-stu-id="edc9f-190">System.Array</span></span> |<span data-ttu-id="edc9f-191">array</span><span class="sxs-lookup"><span data-stu-id="edc9f-191">array</span></span> |<span data-ttu-id="edc9f-192">Valore AMQP: gli elementi contenuti nella raccolta hello possono essere solo quelli definiti in questa tabella.</span><span class="sxs-lookup"><span data-stu-id="edc9f-192">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="edc9f-193">System.Collections.IDictionary</span><span class="sxs-lookup"><span data-stu-id="edc9f-193">System.Collections.IDictionary</span></span> |<span data-ttu-id="edc9f-194">map</span><span class="sxs-lookup"><span data-stu-id="edc9f-194">map</span></span> |<span data-ttu-id="edc9f-195">Valore AMQP: gli elementi contenuti nella raccolta hello possono essere solo quelli definiti in questa tabella. Nota: sono supportate solo le chiavi di stringa.</span><span class="sxs-lookup"><span data-stu-id="edc9f-195">AMQP Value: items contained in hello collection can only be those that are defined in this table.Note: only String keys are supported.</span></span> |
| <span data-ttu-id="edc9f-196">Uri</span><span class="sxs-lookup"><span data-stu-id="edc9f-196">Uri</span></span> |<span data-ttu-id="edc9f-197">Stringa descritto (vedere hello nella tabella seguente)</span><span class="sxs-lookup"><span data-stu-id="edc9f-197">Described string(see hello following table)</span></span> |<span data-ttu-id="edc9f-198">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-198">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-199">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="edc9f-199">DateTimeOffset</span></span> |<span data-ttu-id="edc9f-200">Tipo long descritto (vedere hello nella tabella seguente)</span><span class="sxs-lookup"><span data-stu-id="edc9f-200">Described long(see hello following table)</span></span> |<span data-ttu-id="edc9f-201">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-201">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-202">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="edc9f-202">TimeSpan</span></span> |<span data-ttu-id="edc9f-203">Tipo long descritto (vedere l'esempio hello)</span><span class="sxs-lookup"><span data-stu-id="edc9f-203">Described long(see hello following)</span></span> |<span data-ttu-id="edc9f-204">Valore AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-204">AMQP Value</span></span> |
| <span data-ttu-id="edc9f-205">Flusso</span><span class="sxs-lookup"><span data-stu-id="edc9f-205">Stream</span></span> |<span data-ttu-id="edc9f-206">binary</span><span class="sxs-lookup"><span data-stu-id="edc9f-206">binary</span></span> |<span data-ttu-id="edc9f-207">Dati AMQP (possono essere multipli).</span><span class="sxs-lookup"><span data-stu-id="edc9f-207">AMQP Data (may be multiple).</span></span> <span data-ttu-id="edc9f-208">sezioni di dati Hello contengono hello byte non elaborati dall'oggetto flusso hello.</span><span class="sxs-lookup"><span data-stu-id="edc9f-208">hello Data sections contain hello raw bytes read from hello Stream object.</span></span> |
| <span data-ttu-id="edc9f-209">Altro oggetto</span><span class="sxs-lookup"><span data-stu-id="edc9f-209">Other Object</span></span> |<span data-ttu-id="edc9f-210">binary</span><span class="sxs-lookup"><span data-stu-id="edc9f-210">binary</span></span> |<span data-ttu-id="edc9f-211">Dati AMQP (possono essere multipli).</span><span class="sxs-lookup"><span data-stu-id="edc9f-211">AMQP Data (may be multiple).</span></span> <span data-ttu-id="edc9f-212">Contiene file binario hello serializzata dell'oggetto hello che usa DataContractSerializer hello o un serializzatore fornito dall'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="edc9f-212">Contains hello serialized binary of hello object that uses hello DataContractSerializer or a serializer supplied by hello application.</span></span> |

| <span data-ttu-id="edc9f-213">Tipo di .NET</span><span class="sxs-lookup"><span data-stu-id="edc9f-213">.NET Type</span></span> | <span data-ttu-id="edc9f-214">Tipo descritto AMQP mappato</span><span class="sxs-lookup"><span data-stu-id="edc9f-214">Mapped AMQP Described Type</span></span> | <span data-ttu-id="edc9f-215">Note</span><span class="sxs-lookup"><span data-stu-id="edc9f-215">Notes</span></span> |
| --- | --- | --- |
| <span data-ttu-id="edc9f-216">Uri</span><span class="sxs-lookup"><span data-stu-id="edc9f-216">Uri</span></span> |`<type name=”uri” class=restricted source=”string”> <descriptor name=”com.microsoft:uri” /></type>` |<span data-ttu-id="edc9f-217">Uri.AbsoluteUri</span><span class="sxs-lookup"><span data-stu-id="edc9f-217">Uri.AbsoluteUri</span></span> |
| <span data-ttu-id="edc9f-218">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="edc9f-218">DateTimeOffset</span></span> |`<type name=”datetime-offset” class=restricted source=”long”> <descriptor name=”com.microsoft:datetime-offset” /></type>` |<span data-ttu-id="edc9f-219">DateTimeOffset.UtcTicks</span><span class="sxs-lookup"><span data-stu-id="edc9f-219">DateTimeOffset.UtcTicks</span></span> |
| <span data-ttu-id="edc9f-220">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="edc9f-220">TimeSpan</span></span> |`<type name=”timespan” class=restricted source=”long”> <descriptor name=”com.microsoft:timespan” /></type> ` |<span data-ttu-id="edc9f-221">TimeSpan.Ticks</span><span class="sxs-lookup"><span data-stu-id="edc9f-221">TimeSpan.Ticks</span></span> |

## <a name="unsupported-features-restrictions-and-behavioral-differences"></a><span data-ttu-id="edc9f-222">Funzionalità non supportate, restrizioni e differenze di comportamento</span><span class="sxs-lookup"><span data-stu-id="edc9f-222">Unsupported features, restrictions, and behavioral differences</span></span>

<span data-ttu-id="edc9f-223">Hello seguenti caratteristiche di hello API .NET del Bus di servizio non è attualmente supportata quando si usa AMQP:</span><span class="sxs-lookup"><span data-stu-id="edc9f-223">hello following features of hello Service Bus .NET API are not currently supported when using AMQP:</span></span>

* <span data-ttu-id="edc9f-224">Transazioni</span><span class="sxs-lookup"><span data-stu-id="edc9f-224">Transactions</span></span>
* <span data-ttu-id="edc9f-225">Invio tramite destinazione del trasferimento</span><span class="sxs-lookup"><span data-stu-id="edc9f-225">Send via transfer destination</span></span>

<span data-ttu-id="edc9f-226">Esistono inoltre alcune piccole differenze di comportamento hello di hello API .NET del Bus di servizio quando si usa AMQP, protocollo predefinito toohello confrontati:</span><span class="sxs-lookup"><span data-stu-id="edc9f-226">There are also some small differences in hello behavior of hello Service Bus .NET API when using AMQP, compared toohello default protocol:</span></span>

* <span data-ttu-id="edc9f-227">Hello [OperationTimeout] [ OperationTimeout] proprietà viene ignorata.</span><span class="sxs-lookup"><span data-stu-id="edc9f-227">hello [OperationTimeout][OperationTimeout] property is ignored.</span></span>
* <span data-ttu-id="edc9f-228">`MessageReceiver.Receive(TimeSpan.Zero)` viene implementato come `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span><span class="sxs-lookup"><span data-stu-id="edc9f-228">`MessageReceiver.Receive(TimeSpan.Zero)` is implemented as `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span></span>
* <span data-ttu-id="edc9f-229">Completamento di messaggi tramite il token di blocco solo scopo dei destinatari dei messaggi hello che inizialmente ha ricevuto messaggi hello.</span><span class="sxs-lookup"><span data-stu-id="edc9f-229">Completing messages by lock tokens can only be done by hello message receivers that initially received hello messages.</span></span>

## <a name="controlling-amqp-protocol-settings"></a><span data-ttu-id="edc9f-230">Controllo delle impostazioni del protocollo AMQP</span><span class="sxs-lookup"><span data-stu-id="edc9f-230">Controlling AMQP protocol settings</span></span>

<span data-ttu-id="edc9f-231">Hello [API .NET](/dotnet/api/) esporre diverse impostazioni toocontrol hello il comportamento di hello protocollo AMQP:</span><span class="sxs-lookup"><span data-stu-id="edc9f-231">hello [.NET APIs](/dotnet/api/) expose several settings toocontrol hello behavior of hello AMQP protocol:</span></span>

* <span data-ttu-id="edc9f-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: controlli hello collegamento tooa credito iniziale applicato.</span><span class="sxs-lookup"><span data-stu-id="edc9f-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: Controls hello initial credit applied tooa link.</span></span> <span data-ttu-id="edc9f-233">valore predefinito di Hello è 0.</span><span class="sxs-lookup"><span data-stu-id="edc9f-233">hello default is 0.</span></span>
* <span data-ttu-id="edc9f-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: dimensioni del fotogramma di controlli hello massima AMQP offerti durante la negoziazione di hello al momento dell'apertura di connessione.</span><span class="sxs-lookup"><span data-stu-id="edc9f-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: Controls hello maximum AMQP frame size offered during hello negotiation at connection open time.</span></span> <span data-ttu-id="edc9f-235">valore predefinito di Hello è 65.536 byte.</span><span class="sxs-lookup"><span data-stu-id="edc9f-235">hello default is 65,536 bytes.</span></span>
* <span data-ttu-id="edc9f-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: se i trasferimenti batchable, questo valore determina il ritardo massimo di hello per le disposizioni di invio.</span><span class="sxs-lookup"><span data-stu-id="edc9f-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: If transfers are batchable, this value determines hello maximum delay for sending dispositions.</span></span> <span data-ttu-id="edc9f-237">Per impostazione predefinita, il valore viene ereditato dai mittenti/destinatari.</span><span class="sxs-lookup"><span data-stu-id="edc9f-237">Inherited by senders/receivers by default.</span></span> <span data-ttu-id="edc9f-238">Singolo mittente/destinatario può eseguire l'override predefinito hello, ovvero 20 millisecondi.</span><span class="sxs-lookup"><span data-stu-id="edc9f-238">Individual sender/receiver can override hello default, which is 20 milliseconds.</span></span>
* <span data-ttu-id="edc9f-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)**: controlla se le connessioni AMQP vengono stabilite su una connessione SSL.</span><span class="sxs-lookup"><span data-stu-id="edc9f-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)**: Controls whether AMQP connections are established over an SSL connection.</span></span> <span data-ttu-id="edc9f-240">valore predefinito di Hello è **true**.</span><span class="sxs-lookup"><span data-stu-id="edc9f-240">hello default is **true**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="edc9f-241">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="edc9f-241">Next steps</span></span>

<span data-ttu-id="edc9f-242">Pronto più toolearn?</span><span class="sxs-lookup"><span data-stu-id="edc9f-242">Ready toolearn more?</span></span> <span data-ttu-id="edc9f-243">Visitare hello seguenti collegamenti:</span><span class="sxs-lookup"><span data-stu-id="edc9f-243">Visit hello following links:</span></span>

* <span data-ttu-id="edc9f-244">[Panoramica di AMQP per il bus di servizio]</span><span class="sxs-lookup"><span data-stu-id="edc9f-244">[Service Bus AMQP overview]</span></span>
* <span data-ttu-id="edc9f-245">[Supporto di AMQP 1.0 per code e argomenti partizionati del bus di servizio]</span><span class="sxs-lookup"><span data-stu-id="edc9f-245">[AMQP 1.0 support for Service Bus partitioned queues and topics]</span></span>
* <span data-ttu-id="edc9f-246">[AMQP nel bus di servizio per Windows Server]</span><span class="sxs-lookup"><span data-stu-id="edc9f-246">[AMQP in Service Bus for Windows Server]</span></span>

[Create a Service Bus namespace using hello Azure portal]: service-bus-create-namespace-portal.md
[DataContractSerializer]: https://msdn.microsoft.com/library/system.runtime.serialization.datacontractserializer.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage?view=azureservicebus-4.0.0
[Microsoft.ServiceBus.Messaging.MessagingFactory.AcceptMessageSession]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory.acceptmessagesession?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactory_AcceptMessageSession
[OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[NuGet]: http://nuget.org/packages/WindowsAzure.ServiceBus/
[Azure portal]: https://portal.azure.com
[Panoramica di AMQP per il bus di servizio]: service-bus-amqp-overview.md
[Supporto di AMQP 1.0 per code e argomenti partizionati del bus di servizio]: service-bus-partitioned-queues-and-topics-amqp-overview.md
[AMQP nel bus di servizio per Windows Server]: https://msdn.microsoft.com/library/dn574799.aspx
