---
title: 'Servizio di sincronizzazione Azure AD Connect: modifica della configurazione predefinita | Documentazione Microsoft'
description: Fornisce le procedure consigliate per modificare la configurazione predefinita del servizio di sincronizzazione Azure AD Connect.
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 7638a031-1635-4942-94c3-fce8f09eed5e
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: b723ad800ccc0f3040eb480bb72960943b1fdb16
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-best-practices-for-changing-the-default-configuration"></a><span data-ttu-id="25ab6-103">Servizio di sincronizzazione Azure AD Connect: procedure consigliate per modificare la configurazione predefinita</span><span class="sxs-lookup"><span data-stu-id="25ab6-103">Azure AD Connect sync: Best practices for changing the default configuration</span></span>
<span data-ttu-id="25ab6-104">Questo argomento descrive le modifiche supportate e non supportate del servizio di sincronizzazione Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="25ab6-104">The purpose of this topic is to describe supported and unsupported changes to Azure AD Connect sync.</span></span>

<span data-ttu-id="25ab6-105">La configurazione creata da Azure AD Connect funziona "così com'è" per la maggior parte degli ambienti che sincronizzano l'istanza di Active Directory locale con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="25ab6-105">The configuration created by Azure AD Connect works “as is” for most environments that synchronize on-premises Active Directory with Azure AD.</span></span> <span data-ttu-id="25ab6-106">In alcuni casi, tuttavia, è necessario applicare alcune modifiche a una configurazione per soddisfare un'esigenza o un requisito specifico.</span><span class="sxs-lookup"><span data-stu-id="25ab6-106">However, in some cases, it is necessary to apply some changes to a configuration to satisfy a particular need or requirement.</span></span>

## <a name="changes-to-the-service-account"></a><span data-ttu-id="25ab6-107">Modifiche apportate all'account del servizio</span><span class="sxs-lookup"><span data-stu-id="25ab6-107">Changes to the service account</span></span>
<span data-ttu-id="25ab6-108">Il servizio di sincronizzazione Azure AD Connect viene eseguito tramite un account del servizio creato dall'installazione guidata.</span><span class="sxs-lookup"><span data-stu-id="25ab6-108">Azure AD Connect sync is running under a service account created by the installation wizard.</span></span> <span data-ttu-id="25ab6-109">L'account del servizio contiene le chiavi di crittografia per il database usato dal servizio di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="25ab6-109">This service account holds the encryption keys to the database used by sync.</span></span> <span data-ttu-id="25ab6-110">Viene creato con una password con una lunghezza di 127 caratteri e la password è impostata per non scadere mai.</span><span class="sxs-lookup"><span data-stu-id="25ab6-110">It is created with a 127 characters long password and the password is set to not expire.</span></span>

* <span data-ttu-id="25ab6-111">La modifica o la reimpostazione della password dell'account del servizio **non è supportata** .</span><span class="sxs-lookup"><span data-stu-id="25ab6-111">It is **unsupported** to change or reset the password of the service account.</span></span> <span data-ttu-id="25ab6-112">Questa operazione comporta l'eliminazione delle chiavi di crittografia impedendo così l'avvio del servizio e il relativo accesso al database.</span><span class="sxs-lookup"><span data-stu-id="25ab6-112">Doing so destroys the encryption keys and the service is not able to access the database and is not able to start.</span></span>

## <a name="changes-to-the-scheduler"></a><span data-ttu-id="25ab6-113">Modifiche apportate all'utilità di pianificazione</span><span class="sxs-lookup"><span data-stu-id="25ab6-113">Changes to the scheduler</span></span>
<span data-ttu-id="25ab6-114">A partire dalle versioni rilasciate con la build 1.1 (febbraio 2016), è possibile configurare l' [utilità di pianificazione](active-directory-aadconnectsync-feature-scheduler.md) per ottenere un ciclo di sincronizzazione diverso dai 30 minuti predefiniti.</span><span class="sxs-lookup"><span data-stu-id="25ab6-114">Starting with the releases from build 1.1 (February 2016) you can configure the [scheduler](active-directory-aadconnectsync-feature-scheduler.md) to have a different sync cycle than the default 30 minutes.</span></span>

## <a name="changes-to-synchronization-rules"></a><span data-ttu-id="25ab6-115">Modifiche apportate alle regole di sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="25ab6-115">Changes to Synchronization Rules</span></span>
<span data-ttu-id="25ab6-116">L'installazione guidata fornisce una configurazione valida per gli scenari più comuni.</span><span class="sxs-lookup"><span data-stu-id="25ab6-116">The installation wizard provides a configuration that is supposed to work for the most common scenarios.</span></span> <span data-ttu-id="25ab6-117">Nel caso in cui sia necessario apportare modifiche alla configurazione, seguire queste regole per disporre ancora di una configurazione supportata.</span><span class="sxs-lookup"><span data-stu-id="25ab6-117">In case you need to make changes to the configuration, then you must follow these rules to still have a supported configuration.</span></span>

* <span data-ttu-id="25ab6-118">È possibile [modificare i flussi degli attributi](active-directory-aadconnectsync-change-the-configuration.md#other-common-attribute-flow-changes) se quelli diretti e predefiniti non sono adatti alla propria organizzazione.</span><span class="sxs-lookup"><span data-stu-id="25ab6-118">You can [change attribute flows](active-directory-aadconnectsync-change-the-configuration.md#other-common-attribute-flow-changes) if the default direct attribute flows are not suitable for your organization.</span></span>
* <span data-ttu-id="25ab6-119">Per [non trasmettere un attributo](active-directory-aadconnectsync-change-the-configuration.md#do-not-flow-an-attribute) e rimuovere i valori degli attributi esistenti in Azure AD, è necessario creare una regola per questo scenario.</span><span class="sxs-lookup"><span data-stu-id="25ab6-119">If you want to [not flow an attribute](active-directory-aadconnectsync-change-the-configuration.md#do-not-flow-an-attribute) and remove any existing attribute values in Azure AD, then you need to create a rule for this scenario.</span></span>
* <span data-ttu-id="25ab6-120">[Disabilitare una regola di sincronizzazione indesiderata](#disable-an-unwanted-sync-rule) invece di eliminarla.</span><span class="sxs-lookup"><span data-stu-id="25ab6-120">[Disable an unwanted Sync Rule](#disable-an-unwanted-sync-rule) rather than deleting it.</span></span> <span data-ttu-id="25ab6-121">Una regola eliminata viene ricreata durante un aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="25ab6-121">A deleted rule is recreated during an upgrade.</span></span>
* <span data-ttu-id="25ab6-122">Per [modificare una regola predefinita](#change-an-out-of-box-rule), creare una copia della regola originale e disabilitare quella predefinita.</span><span class="sxs-lookup"><span data-stu-id="25ab6-122">To [change an out-of-box rule](#change-an-out-of-box-rule), you should make a copy of the original rule and disable the out-of-box rule.</span></span> <span data-ttu-id="25ab6-123">L'editor delle regole di sincronizzazione visualizza istruzioni e fornisce informazioni.</span><span class="sxs-lookup"><span data-stu-id="25ab6-123">The Sync Rule Editor prompts and helps you.</span></span>
* <span data-ttu-id="25ab6-124">Esportare le regole di sincronizzazione personalizzate usando l'Editor regole di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="25ab6-124">Export your custom synchronization rules using the Synchronization Rules Editor.</span></span> <span data-ttu-id="25ab6-125">L'editor fornisce uno script di PowerShell che è possibile usare per ricrearle facilmente in uno scenario di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="25ab6-125">The editor provides you with a PowerShell script you can use to easily recreate them in a disaster recovery scenario.</span></span>

> [!WARNING]
> <span data-ttu-id="25ab6-126">Le regole di sincronizzazione predefinite hanno un'identificazione personale associata.</span><span class="sxs-lookup"><span data-stu-id="25ab6-126">The out-of-box sync rules have a thumbprint.</span></span> <span data-ttu-id="25ab6-127">Se si apporta una modifica a queste regole, l'identificazione personale non sarà più corrispondente.</span><span class="sxs-lookup"><span data-stu-id="25ab6-127">If you make a change to these rules, the thumbprint is no longer matching.</span></span> <span data-ttu-id="25ab6-128">È possibile che si verifichino problemi quando in futuro si proverà ad applicare una nuova versione di Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="25ab6-128">You might have problems in the future when you try to apply a new release of Azure AD Connect.</span></span> <span data-ttu-id="25ab6-129">Apportare modifiche solo nel modo descritto in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="25ab6-129">Only make changes the way it is described in this article.</span></span>

### <a name="disable-an-unwanted-sync-rule"></a><span data-ttu-id="25ab6-130">Disabilitare una regola di sincronizzazione indesiderata</span><span class="sxs-lookup"><span data-stu-id="25ab6-130">Disable an unwanted Sync Rule</span></span>
<span data-ttu-id="25ab6-131">Non eliminare una regola di sincronizzazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="25ab6-131">Do not delete an out-of-box sync rule.</span></span> <span data-ttu-id="25ab6-132">Verrà ricreata durante l'aggiornamento successivo.</span><span class="sxs-lookup"><span data-stu-id="25ab6-132">It is recreated during next upgrade.</span></span>

<span data-ttu-id="25ab6-133">In alcuni casi l'installazione guidata ha generato una configurazione che non funziona per la topologia dell'utente.</span><span class="sxs-lookup"><span data-stu-id="25ab6-133">In some cases, the installation wizard has produced a configuration that is not working for your topology.</span></span> <span data-ttu-id="25ab6-134">Ad esempio, se è disponibile una topologia di foresta di account o di risorse, ma lo schema nella foresta di account è stato esteso con lo schema di Exchange, per le foresta di account e per quella di risorse vengono quindi create regole per Exchange.</span><span class="sxs-lookup"><span data-stu-id="25ab6-134">For example, if you have an account-resource forest topology but you have extended the schema in the account forest with the Exchange schema, then rules for Exchange are created for the account forest and the resource forest.</span></span> <span data-ttu-id="25ab6-135">In questo caso è necessario disabilitare la regola di sincronizzazione per Exchange.</span><span class="sxs-lookup"><span data-stu-id="25ab6-135">In this case, you need to disable the Sync Rule for Exchange.</span></span>

![Regola di sincronizzazione disabilitata](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/exchangedisabledrule.png)

<span data-ttu-id="25ab6-137">Nella figura precedente l'installazione guidata ha rilevato un vecchio schema di Exchange 2003 nella foresta di account.</span><span class="sxs-lookup"><span data-stu-id="25ab6-137">In the picture above, the installation wizard has found an old Exchange 2003 schema in the account forest.</span></span> <span data-ttu-id="25ab6-138">Questa estensione dello schema è stata aggiunta prima dell'introduzione della foresta di risorse nell'ambiente di Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="25ab6-138">This schema extension was added before the resource forest was introduced in Fabrikam's environment.</span></span> <span data-ttu-id="25ab6-139">Per assicurarsi che non vengano sincronizzati gli attributi dall'implementazione di Exchange precedente, la regola di sincronizzazione deve essere disabilitata come illustrato.</span><span class="sxs-lookup"><span data-stu-id="25ab6-139">To ensure no attributes from the old Exchange implementation are synchronized, the sync rule should be disabled as shown.</span></span>

### <a name="change-an-out-of-box-rule"></a><span data-ttu-id="25ab6-140">modificare una regola predefinita</span><span class="sxs-lookup"><span data-stu-id="25ab6-140">Change an out-of-box rule</span></span>
<span data-ttu-id="25ab6-141">È necessario modificare una regola predefinita solo se è necessario modificare la regola join.</span><span class="sxs-lookup"><span data-stu-id="25ab6-141">The only time you should change an out-of-box rule is when you need to change the join rule.</span></span> <span data-ttu-id="25ab6-142">Se si vuole modificare un flusso di attributi, creare una regola di sincronizzazione con una precedenza superiore rispetto alle regole predefinite.</span><span class="sxs-lookup"><span data-stu-id="25ab6-142">If you need to change an attribute flow, then you should create a sync rule with higher precedence than the out-of-box rules.</span></span> <span data-ttu-id="25ab6-143">L'unica regola che è in pratica necessario clonare è la regola **In from AD – User Join**.</span><span class="sxs-lookup"><span data-stu-id="25ab6-143">The only rule you practically need to clone is the rule **In from AD - User Join**.</span></span> <span data-ttu-id="25ab6-144">È possibile eseguire l'override di tutte le altre regole con una regola di precedenza superiore.</span><span class="sxs-lookup"><span data-stu-id="25ab6-144">You can override all other rules with a higher precedence rule.</span></span>

<span data-ttu-id="25ab6-145">Se è necessario apportare modifiche a una regola predefinita, effettuarne una copia e disabilitare la regola originale.</span><span class="sxs-lookup"><span data-stu-id="25ab6-145">If you need to make changes to an out-of-box rule, then you should make a copy of the out-of-box rule and disable the original rule.</span></span> <span data-ttu-id="25ab6-146">Quindi apportare le modifiche alla regola clonata.</span><span class="sxs-lookup"><span data-stu-id="25ab6-146">Then make the changes to the cloned rule.</span></span> <span data-ttu-id="25ab6-147">L'editor delle regole di sincronizzazione facilita l'esecuzione di questa procedura.</span><span class="sxs-lookup"><span data-stu-id="25ab6-147">The Sync Rule Editor is helping you with those steps.</span></span> <span data-ttu-id="25ab6-148">Quando si apre una regola predefinita, viene visualizzata questa finestra di dialogo: </span><span class="sxs-lookup"><span data-stu-id="25ab6-148">When you open an out-of-box rule, you are presented with this dialog box:</span></span>  
![Avviso regola predefinita](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/warningoutofboxrule.png)

<span data-ttu-id="25ab6-150">Selezionare **Sì** per creare una copia della regola.</span><span class="sxs-lookup"><span data-stu-id="25ab6-150">Select **Yes** to create a copy of the rule.</span></span> <span data-ttu-id="25ab6-151">Viene quindi aperta la regola clonata.</span><span class="sxs-lookup"><span data-stu-id="25ab6-151">The cloned rule is then opened.</span></span>  
<span data-ttu-id="25ab6-152">![Regola clonata](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/clonedrule.png)</span><span class="sxs-lookup"><span data-stu-id="25ab6-152">![Cloned rule](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/clonedrule.png)</span></span>

<span data-ttu-id="25ab6-153">In questa regola clonata, apportare le modifiche necessarie all'ambito, al join e alle trasformazioni.</span><span class="sxs-lookup"><span data-stu-id="25ab6-153">On this cloned rule, make any necessary changes to scope, join, and transformations.</span></span>

## <a name="next-steps"></a><span data-ttu-id="25ab6-154">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="25ab6-154">Next steps</span></span>
<span data-ttu-id="25ab6-155">**Argomenti generali**</span><span class="sxs-lookup"><span data-stu-id="25ab6-155">**Overview topics**</span></span>

* [<span data-ttu-id="25ab6-156">Servizio di sincronizzazione Azure AD Connect: Comprendere e personalizzare la sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="25ab6-156">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="25ab6-157">Integrazione delle identità locali con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="25ab6-157">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
