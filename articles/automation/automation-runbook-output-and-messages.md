---
title: Output e messaggi dei runbook in Automazione di Azure | Documentazione Microsoft
description: Viene descritto come creare e recuperare l'output e i messaggi di errore da runbook in automazione di Azure.
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 13a414f5-0e2c-4be2-9558-a3e3ec84b6b2
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/11/2016
ms.author: magoedte;bwren
ms.openlocfilehash: 6f01f97e38aa271034741c8a5e2f8057ab61fcd7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="runbook-output-and-messages-in-azure-automation"></a><span data-ttu-id="ef27f-103">Output di runbook e messaggi in automazione di Azure</span><span class="sxs-lookup"><span data-stu-id="ef27f-103">Runbook output and messages in Azure Automation</span></span>
<span data-ttu-id="ef27f-104">La maggior parte dei runbook di automazione Azure avrà qualche forma di output, ad esempio un messaggio di errore all'utente o un oggetto complesso destinato a essere utilizzato da un altro flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ef27f-104">Most Azure Automation runbooks will have some form of output such as an error message to the user or a complex object intended to be consumed by another workflow.</span></span> <span data-ttu-id="ef27f-105">Windows PowerShell fornisce [più flussi](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) per inviare l'output da uno script o flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ef27f-105">Windows PowerShell provides [multiple streams](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) to send output from a script or workflow.</span></span> <span data-ttu-id="ef27f-106">Automazione di Azure funziona con ciascuno di questi flussi in modo diverso ed è necessario seguire le procedure consigliate per utilizzarli quando si crea un runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-106">Azure Automation works with each of these streams differently, and you should follow best practices for how to use each when you are creating a runbook.</span></span>

<span data-ttu-id="ef27f-107">La tabella seguente fornisce una breve descrizione di ciascuno dei flussi e il relativo comportamento nel portale di gestione di Azure durante l'esecuzione di un runbook pubblicato e quando si esegue il [test di un runbook](automation-testing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="ef27f-107">The following table provides a brief description of each of the streams and their behavior in the Azure Management Portal both when running a published runbook and when [testing a runbook](automation-testing-runbook.md).</span></span> <span data-ttu-id="ef27f-108">Nelle sezioni successive vengono forniti ulteriori dettagli su ogni flusso.</span><span class="sxs-lookup"><span data-stu-id="ef27f-108">Further details on each stream are provided in subsequent sections.</span></span>

| <span data-ttu-id="ef27f-109">Flusso</span><span class="sxs-lookup"><span data-stu-id="ef27f-109">Stream</span></span> | <span data-ttu-id="ef27f-110">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef27f-110">Description</span></span> | <span data-ttu-id="ef27f-111">Pubblicato</span><span class="sxs-lookup"><span data-stu-id="ef27f-111">Published</span></span> | <span data-ttu-id="ef27f-112">Test</span><span class="sxs-lookup"><span data-stu-id="ef27f-112">Test</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="ef27f-113">Output</span><span class="sxs-lookup"><span data-stu-id="ef27f-113">Output</span></span> |<span data-ttu-id="ef27f-114">Gli oggetti devono essere utilizzati da altri runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-114">Objects intended to be consumed by other runbooks.</span></span> |<span data-ttu-id="ef27f-115">Scrivere la cronologia dei processi.</span><span class="sxs-lookup"><span data-stu-id="ef27f-115">Written to the job history.</span></span> |<span data-ttu-id="ef27f-116">Visualizzata nel pannello Output del Test.</span><span class="sxs-lookup"><span data-stu-id="ef27f-116">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="ef27f-117">Avviso</span><span class="sxs-lookup"><span data-stu-id="ef27f-117">Warning</span></span> |<span data-ttu-id="ef27f-118">Messaggio di avviso destinato all'utente.</span><span class="sxs-lookup"><span data-stu-id="ef27f-118">Warning message intended for the user.</span></span> |<span data-ttu-id="ef27f-119">Scrivere la cronologia dei processi.</span><span class="sxs-lookup"><span data-stu-id="ef27f-119">Written to the job history.</span></span> |<span data-ttu-id="ef27f-120">Visualizzata nel pannello Output del Test.</span><span class="sxs-lookup"><span data-stu-id="ef27f-120">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="ef27f-121">Tipi di errore</span><span class="sxs-lookup"><span data-stu-id="ef27f-121">Error</span></span> |<span data-ttu-id="ef27f-122">Messaggio di errore previsto per l'utente.</span><span class="sxs-lookup"><span data-stu-id="ef27f-122">Error message intended for the user.</span></span> <span data-ttu-id="ef27f-123">A differenza di un'eccezione, il runbook continua dopo un messaggio di errore per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="ef27f-123">Unlike an exception, the runbook continues after an error message by default.</span></span> |<span data-ttu-id="ef27f-124">Scrivere la cronologia dei processi.</span><span class="sxs-lookup"><span data-stu-id="ef27f-124">Written to the job history.</span></span> |<span data-ttu-id="ef27f-125">Visualizzata nel pannello Output del Test.</span><span class="sxs-lookup"><span data-stu-id="ef27f-125">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="ef27f-126">Dettagliato</span><span class="sxs-lookup"><span data-stu-id="ef27f-126">Verbose</span></span> |<span data-ttu-id="ef27f-127">Messaggi che forniscono informazioni generali o di debug.</span><span class="sxs-lookup"><span data-stu-id="ef27f-127">Messages providing general or debugging information.</span></span> |<span data-ttu-id="ef27f-128">Scritti nella cronologia del processo solo se è attivata la registrazione dettagliata per il runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-128">Written to job history only if verbose logging is turned on for the runbook.</span></span> |<span data-ttu-id="ef27f-129">Viene visualizzata nel pannello Output del Test solo se $VerbosePreference è impostata su Continue nel runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-129">Displayed in the Test Output pane only if $VerbosePreference is set to Continue in the runbook.</span></span> |
| <span data-ttu-id="ef27f-130">Avanzamento</span><span class="sxs-lookup"><span data-stu-id="ef27f-130">Progress</span></span> |<span data-ttu-id="ef27f-131">Record generati automaticamente prima e dopo ogni attività del runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-131">Records automatically generated before and after each activity in the runbook.</span></span> <span data-ttu-id="ef27f-132">Il runbook non dovrebbe tentare di creare i propri record di stato di avanzamento poiché sono destinati ad un utente interattivo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-132">The runbook should not attempt to create its own progress records since they are intended for an interactive user.</span></span> |<span data-ttu-id="ef27f-133">Scritti nella cronologia processo solo se lo stato di avanzamento della registrazione è attivata per il runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-133">Written to job history only if progress logging is turned on for the runbook.</span></span> |<span data-ttu-id="ef27f-134">Non sono visualizzati nel pannello Output del Test.</span><span class="sxs-lookup"><span data-stu-id="ef27f-134">Not displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="ef27f-135">Debug</span><span class="sxs-lookup"><span data-stu-id="ef27f-135">Debug</span></span> |<span data-ttu-id="ef27f-136">Messaggi destinati a un utente interattivo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-136">Messages intended for an interactive user.</span></span> <span data-ttu-id="ef27f-137">Non devono essere utilizzati nei runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-137">Should not be used in runbooks.</span></span> |<span data-ttu-id="ef27f-138">Non scritti nella cronologia del processo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-138">Not written to job history.</span></span> |<span data-ttu-id="ef27f-139">Non scritti nel pannello Output del Test.</span><span class="sxs-lookup"><span data-stu-id="ef27f-139">Not written to Test Output Pane.</span></span> |

## <a name="output-stream"></a><span data-ttu-id="ef27f-140">Flusso di output</span><span class="sxs-lookup"><span data-stu-id="ef27f-140">Output stream</span></span>
<span data-ttu-id="ef27f-141">Il flusso di Output è destinato agli output degli oggetti creati da uno script o da un flusso di lavoro quando vengono eseguiti correttamente.</span><span class="sxs-lookup"><span data-stu-id="ef27f-141">The Output stream is intended for output of objects created by a script or workflow when it runs correctly.</span></span> <span data-ttu-id="ef27f-142">In automazione di Azure, il flusso viene utilizzato principalmente per gli oggetti che devono essere utilizzati da [runbook padre che chiamano il runbook corrente](automation-child-runbooks.md).</span><span class="sxs-lookup"><span data-stu-id="ef27f-142">In Azure Automation, this stream is primarily used for objects intended to be consumed by [parent runbooks that call the current runbook](automation-child-runbooks.md).</span></span> <span data-ttu-id="ef27f-143">In caso di [chiamata di un runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) da un runbook padre, vengono restituiti i dati dal flusso di output all'elemento padre.</span><span class="sxs-lookup"><span data-stu-id="ef27f-143">When you [call a runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) from a parent runbook, it returns data from the output stream to the parent.</span></span> <span data-ttu-id="ef27f-144">Utilizzare solo il flusso di output per comunicare informazioni generali all'utente se si è a conosce del fatto che il runbook non verrà mai chiamato da un altro runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-144">You should only use the output stream to communicate general information back to the user if you know the runbook will never be called by another runbook.</span></span> <span data-ttu-id="ef27f-145">Come procedura consigliata, tuttavia, è consigliabile in genere utilizzare il [Flusso dettagliato](#Verbose) per comunicare informazioni generali all'utente.</span><span class="sxs-lookup"><span data-stu-id="ef27f-145">As a best practice, however, you should typically use the [Verbose Stream](#Verbose) to communicate general information to the user.</span></span>

<span data-ttu-id="ef27f-146">È possibile scrivere i dati per il flusso di output tramite [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) o inserendo l'oggetto nella relativa riga nel runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-146">You can write data to the output stream using [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) or by putting the object on its own line in the runbook.</span></span>

    #The following lines both write an object to the output stream.
    Write-Output –InputObject $object
    $object

### <a name="output-from-a-function"></a><span data-ttu-id="ef27f-147">Output da una funzione</span><span class="sxs-lookup"><span data-stu-id="ef27f-147">Output from a function</span></span>
<span data-ttu-id="ef27f-148">Quando si scrive nel flusso di output in una funzione inclusa nel runbook, l'output viene passato nuovamente al runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-148">When you write to the output stream in a function that is included in your runbook, the output is passed back to the runbook.</span></span> <span data-ttu-id="ef27f-149">Se il runbook assegna l'output a una variabile, allora non è scritto nel flusso di output.</span><span class="sxs-lookup"><span data-stu-id="ef27f-149">If the runbook assigns that output to a variable, then it is not written to the output stream.</span></span> <span data-ttu-id="ef27f-150">La scrittura in eventuali altri flussi da all'interno della funzione scriverà nel flusso corrispondente per il runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-150">Writing to any other streams from within the function will write to the corresponding stream for the runbook.</span></span>

<span data-ttu-id="ef27f-151">Si consideri il seguente esempio di runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-151">Consider the following sample runbook.</span></span>

    Workflow Test-Runbook
    {
        Write-Verbose "Verbose outside of function" -Verbose
        Write-Output "Output outside of function"
        $functionOutput = Test-Function
        $functionOutput

    Function Test-Function
     {
        Write-Verbose "Verbose inside of function" -Verbose
        Write-Output "Output inside of function"
      }
    }


<span data-ttu-id="ef27f-152">Il flusso di output per il processo di runbook sarebbe:</span><span class="sxs-lookup"><span data-stu-id="ef27f-152">The output stream for the runbook job would be:</span></span>

    Output inside of function
    Output outside of function

<span data-ttu-id="ef27f-153">Il flusso dettagliato per il processo di runbook sarebbe:</span><span class="sxs-lookup"><span data-stu-id="ef27f-153">The verbose stream for the runbook job would be:</span></span>

    Verbose outside of function
    Verbose inside of function

<span data-ttu-id="ef27f-154">Dopo aver pubblicato il runbook e prima di avviarlo, è anche necessario attivare la registrazione dettagliata nelle impostazioni del runbook per ottenere l'output di flusso dettagliato.</span><span class="sxs-lookup"><span data-stu-id="ef27f-154">Once you have published the runbook and before you start it, you must also turn on Verbose logging in the runbook settings in order to get the Verbose stream output.</span></span>

### <a name="declaring-output-data-type"></a><span data-ttu-id="ef27f-155">Dichiarazione del tipo di dati di output</span><span class="sxs-lookup"><span data-stu-id="ef27f-155">Declaring output data type</span></span>
<span data-ttu-id="ef27f-156">Un flusso di lavoro può specificare il tipo di dati del relativo output utilizzando l’ [attributo OutputType](http://technet.microsoft.com/library/hh847785.aspx).</span><span class="sxs-lookup"><span data-stu-id="ef27f-156">A workflow can specify the data type of its output using the [OutputType attribute](http://technet.microsoft.com/library/hh847785.aspx).</span></span> <span data-ttu-id="ef27f-157">Questo attributo non ha alcun effetto in fase di esecuzione, ma offre un'indicazione all'autore del runbook in fase di progettazione dell’output previsto del runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-157">This attribute has no effect during runtime, but it provides an indication to the runbook author at design time of the expected output of the runbook.</span></span> <span data-ttu-id="ef27f-158">Man mano che il set di strumenti per i runbook continuano ad evolvere, l'importanza della dichiarazione dei tipi di dati di output in fase di progettazione aumenterà.</span><span class="sxs-lookup"><span data-stu-id="ef27f-158">As the toolset for runbooks continues to evolve, the importance of declaring output data types at design time will increase in importance.</span></span> <span data-ttu-id="ef27f-159">Di conseguenza, è consigliabile includere questa dichiarazione in qualsiasi runbook creato.</span><span class="sxs-lookup"><span data-stu-id="ef27f-159">As a result, it is a best practice to include this declaration in any runbooks that you create.</span></span>

<span data-ttu-id="ef27f-160">Di seguito è riportato un elenco di tipi di output di esempio:</span><span class="sxs-lookup"><span data-stu-id="ef27f-160">Here is a list of example output types:</span></span>

* <span data-ttu-id="ef27f-161">System.String</span><span class="sxs-lookup"><span data-stu-id="ef27f-161">System.String</span></span>
* <span data-ttu-id="ef27f-162">System.Int32</span><span class="sxs-lookup"><span data-stu-id="ef27f-162">System.Int32</span></span>
* <span data-ttu-id="ef27f-163">System.Collections.Hashtable</span><span class="sxs-lookup"><span data-stu-id="ef27f-163">System.Collections.Hashtable</span></span>
* <span data-ttu-id="ef27f-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span><span class="sxs-lookup"><span data-stu-id="ef27f-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span></span>

<span data-ttu-id="ef27f-165">Il runbook di esempio seguente restituisce un oggetto string e include una dichiarazione del tipo di output.</span><span class="sxs-lookup"><span data-stu-id="ef27f-165">The following sample runbook outputs a string object and includes a declaration of its output type.</span></span> <span data-ttu-id="ef27f-166">Se il runbook restituisce una matrice di un determinato tipo, è comunque necessario specificare il tipo invece di una matrice del tipo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-166">If your runbook outputs an array of a certain type, then you should still specify the type as opposed to an array of the type.</span></span>

    Workflow Test-Runbook
    {
       [OutputType([string])]

       $output = "This is some string output."
       Write-Output $output
    }

<span data-ttu-id="ef27f-167">Per dichiarare un tipo di output nei runbook del flusso di lavoro grafico o del flusso di lavoro PowerShell grafico, è possibile selezionare l'opzione di menu **Input e output** e digitare il nome del tipo di output.</span><span class="sxs-lookup"><span data-stu-id="ef27f-167">To declare an output type in Grapical or Graphical PowerShell Workflow runbooks, you can select the **Input and Output** menu option and type in the name of the output type.</span></span>  <span data-ttu-id="ef27f-168">È consigliabile usare il nome della classe .NET completo affinché sia facilmente identificabile nel riferimento da un runbook padre.</span><span class="sxs-lookup"><span data-stu-id="ef27f-168">We recommend you use the full .NET class name to make it easily identifiable when referencing it from a parent runbook.</span></span>  <span data-ttu-id="ef27f-169">Questa operazione espone tutte le proprietà di tale classe nel bus di dati del runbook e offre una notevole flessibilità quando le proprietà vengono usate per la logica condizionale, la registrazione e il riferimento come valori per altre attività del runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-169">This exposes all the properties of that class to the data bus in the runbook and provides a lot of flexibility when using them for conditional logic, logging, and referencing as values for other activities in the runbook.</span></span><br> <span data-ttu-id="ef27f-170">![Opzione Input e output del runbook](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span><span class="sxs-lookup"><span data-stu-id="ef27f-170">![Runbook Input and Output option](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span></span>

<span data-ttu-id="ef27f-171">Nell'esempio seguente sono disponibili due runbook grafici per illustrare questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="ef27f-171">In the following example, we have two graphical runbooks to demonstrate this feature.</span></span>  <span data-ttu-id="ef27f-172">Se si applica il modello di progettazione modulare dei runbook, si avrà un runbook che funge da *modello di runbook di autenticazione* per la gestione dell'autenticazione con Azure tramite l'account RunAs.</span><span class="sxs-lookup"><span data-stu-id="ef27f-172">If we apply the modular runbook design model, we have one runbook which serves as the *Authentication Runbook template* managing authentication with Azure using the Run As account.</span></span>  <span data-ttu-id="ef27f-173">Il secondo runbook, che normalmente eseguirebbe la logica di base per automatizzare un determinato scenario, in questo caso eseguirà il *modello di runbook di autenticazione* e visualizzerà i risultati nel riquadro di output **Test** .</span><span class="sxs-lookup"><span data-stu-id="ef27f-173">Our second runbook, which would normally perform the core logic to automate a given scenario, in this case is going to execute the *Authentication Runbook template* and display the results to your **Test** output pane.</span></span>  <span data-ttu-id="ef27f-174">In circostanze normali, questo runbook eseguirebbe operazioni su una risorsa sfruttando l'output del runbook figlio.</span><span class="sxs-lookup"><span data-stu-id="ef27f-174">Under normal circumstances, we would have this runbook do something against a resource leveraging the output from the child runbook.</span></span>    

<span data-ttu-id="ef27f-175">Di seguito è riportata la logica di base del runbook **AuthenticateTo-Azure**.</span><span class="sxs-lookup"><span data-stu-id="ef27f-175">Here is the basic logic of the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="ef27f-176">![Esempio di modello di runbook di autenticazione](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span><span class="sxs-lookup"><span data-stu-id="ef27f-176">![Authenticate Runbook Template Example](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span></span>  

<span data-ttu-id="ef27f-177">Include il tipo di output *Microsoft.Azure.Commands.Profile.Models.PSAzureContext* che restituirà le proprietà del profilo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="ef27f-177">It includes the output type *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, which will return the authentication profile properties.</span></span><br> <span data-ttu-id="ef27f-178">![Esempio di tipo di output del runbook](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span><span class="sxs-lookup"><span data-stu-id="ef27f-178">![Runbook Output Type Example](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span></span> 

<span data-ttu-id="ef27f-179">Anche se questo runbook è molto semplice, è necessario esaminare attentamente un elemento di configurazione.</span><span class="sxs-lookup"><span data-stu-id="ef27f-179">While this runbook is very straight forward, there is one configuration item to call out here.</span></span>  <span data-ttu-id="ef27f-180">L'ultima attività esegue il cmdlet **Write-Output** e scrive i dati di profilo in una variabile $_ usando un'espressione di PowerShell per il parametro **Inputobject**, necessario per tale cmdlet.</span><span class="sxs-lookup"><span data-stu-id="ef27f-180">The last activity is executing the **Write-Output** cmdlet and writes the profile data to a $_ variable using a PowerShell expression for the **Inputobject** parameter, which is required for that cmdlet.</span></span>  

<span data-ttu-id="ef27f-181">Il secondo runbook di questo esempio, denominato *Test-ChildOutputType*, include semplicemente due attività.</span><span class="sxs-lookup"><span data-stu-id="ef27f-181">For the second runbook in this example, named *Test-ChildOutputType*, we simply have two activities.</span></span><br> <span data-ttu-id="ef27f-182">![Esempio di runbook di tipo di output figlio](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span><span class="sxs-lookup"><span data-stu-id="ef27f-182">![Example Child Output Type Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span></span> 

<span data-ttu-id="ef27f-183">La prima attività chiama il runbook **AuthenticateTo-Azure** e la seconda esegue il cmdlet **Write-Verbose** con **Output attività** come **Origine dati**. Il valore di **Percorso campo** è **Context.Subscription.SubscriptionName**, che specifica l'output di contesto del runbook **AuthenticateTo-Azure**.</span><span class="sxs-lookup"><span data-stu-id="ef27f-183">The first activity calls the **AuthenticateTo-Azure** runbook and the second activity is running the **Write-Verbose** cmdlet with the **Data source** of **Activity output** and the value for **Field path** is **Context.Subscription.SubscriptionName**, which is specifying the context output from the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="ef27f-184">![Origine dati per il cmdlet Write-Verbose](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span><span class="sxs-lookup"><span data-stu-id="ef27f-184">![Write-Verbose cmdlet Parameter Data Source](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span></span>    

<span data-ttu-id="ef27f-185">L'output risultante è il nome della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="ef27f-185">The resulting output is the name of the subscription.</span></span><br> ![Risultati del runbook Test-ChildOutputType](media/automation-runbook-output-and-messages/runbook-test-childoutputtype-results.png)

<span data-ttu-id="ef27f-187">Una nota sul comportamento del controllo Tipo di output.</span><span class="sxs-lookup"><span data-stu-id="ef27f-187">One note about the behavior of the Output Type control.</span></span>  <span data-ttu-id="ef27f-188">Quando si digita un valore nel campo Tipo di output del pannello delle proprietà Input e output, affinché il valore immesso venga riconosciuto dal controllo è necessario fare clic all'esterno del controllo dopo aver digitato.</span><span class="sxs-lookup"><span data-stu-id="ef27f-188">When you type a value in the Output Type field on the Input and Output properties blade, you have to click outside of the control  after you type it, in order for your entry to be recognized by the control.</span></span>  

## <a name="message-streams"></a><span data-ttu-id="ef27f-189">Flussi di messaggi</span><span class="sxs-lookup"><span data-stu-id="ef27f-189">Message streams</span></span>
<span data-ttu-id="ef27f-190">A differenza del flusso di output, i flussi di messaggi sono utili per comunicare informazioni all'utente.</span><span class="sxs-lookup"><span data-stu-id="ef27f-190">Unlike the output stream, message streams are intended to communicate information to the user.</span></span> <span data-ttu-id="ef27f-191">Sono presenti più flussi di messaggi per diversi tipi di informazioni e ciascuno viene gestito diversamente dall'automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef27f-191">There are multiple message streams for different kinds of information, and each is handled differently by Azure Automation.</span></span>

### <a name="warning-and-error-streams"></a><span data-ttu-id="ef27f-192">Flussi di avviso ed errore</span><span class="sxs-lookup"><span data-stu-id="ef27f-192">Warning and error streams</span></span>
<span data-ttu-id="ef27f-193">I flussi di errore e di avviso sono utili per registrare i problemi che si verificano in un runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-193">The Warning and Error streams are intended to log problems that occur in a runbook.</span></span> <span data-ttu-id="ef27f-194">Quando un runbook viene eseguito essi vengono scritti nella cronologia del processo e vengono inclusi nel pannello Output del Test nel portale di gestione di Azure quando viene testato un runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-194">They are written to the job history when a runbook is executed, and are included in the Test Output Pane in the Azure Management Portal when a runbook is tested.</span></span> <span data-ttu-id="ef27f-195">Per impostazione predefinita, il runbook continuerà l'esecuzione dopo un avviso o un errore.</span><span class="sxs-lookup"><span data-stu-id="ef27f-195">By default, the runbook will continue executing after a warning or error.</span></span> <span data-ttu-id="ef27f-196">È possibile specificare che il runbook deve essere sospeso su un avviso o un errore impostando una [variabile di preferenza](#PreferenceVariables) nel runbook prima di creare il messaggio.</span><span class="sxs-lookup"><span data-stu-id="ef27f-196">You can specify that the runbook should be suspended on a warning or error by setting a [preference variable](#PreferenceVariables) in the runbook before creating the message.</span></span> <span data-ttu-id="ef27f-197">Ad esempio, per far sì che un runbook venga sospeso in caso di errore come farebbe un'eccezione, impostare **$ErrorActionPreference** su Stop.</span><span class="sxs-lookup"><span data-stu-id="ef27f-197">For example, to cause a runbook to suspend on an error as it would an exception, set **$ErrorActionPreference** to Stop.</span></span>

<span data-ttu-id="ef27f-198">Creare un avviso o un messaggio di errore usando il cmdlet [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) o [Write-Error](http://technet.microsoft.com/library/hh849962.aspx).</span><span class="sxs-lookup"><span data-stu-id="ef27f-198">Create a warning or error message using the [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) or [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span></span> <span data-ttu-id="ef27f-199">Anche le attività possono scrivere tali flussi.</span><span class="sxs-lookup"><span data-stu-id="ef27f-199">Activities may also write to these streams.</span></span>

    #The following lines create a warning message and then an error message that will suspend the runbook.

    $ErrorActionPreference = "Stop"
    Write-Warning –Message "This is a warning message."
    Write-Error –Message "This is an error message that will stop the runbook because of the preference variable."

### <a name="verbose-stream"></a><span data-ttu-id="ef27f-200">Flusso dettagliato</span><span class="sxs-lookup"><span data-stu-id="ef27f-200">Verbose stream</span></span>
<span data-ttu-id="ef27f-201">Il flusso del messaggio dettagliato è destinato a informazioni generali sull'operazione del runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-201">The Verbose message stream is for general information about the runbook operation.</span></span> <span data-ttu-id="ef27f-202">Poiché il [Flusso di Debug](#Debug) non è disponibile in un runbook, i messaggi dettagliati devono essere utilizzati per le informazioni di debug.</span><span class="sxs-lookup"><span data-stu-id="ef27f-202">Since the [Debug Stream](#Debug) is not available in a runbook, verbose messages should be used for debug information.</span></span> <span data-ttu-id="ef27f-203">Per impostazione predefinita, i messaggi dettagliati da runbook pubblicati non vengono archiviati nella cronologia del processo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-203">By default, verbose messages from published runbooks will not be stored in the job history.</span></span> <span data-ttu-id="ef27f-204">Per archiviare i messaggi dettagliati, configurare i runbook pubblicati su Log Verbose Records nella scheda Configura del runbook nel portale di gestione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef27f-204">To store verbose messages, configure published runbooks to Log Verbose Records on the Configure tab of the runbook in the Azure Management Portal.</span></span> <span data-ttu-id="ef27f-205">Nella maggior parte dei casi, è consigliabile mantenere l'impostazione predefinita che non registra record dettagliati per un runbook per motivi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="ef27f-205">In most cases, you should keep the default setting of not logging verbose records for a runbook for performance reasons.</span></span> <span data-ttu-id="ef27f-206">Attivare questa opzione solo per risolvere i problemi o eseguire il debug di un runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-206">Turn on this option only to troubleshoot or debug a runbook.</span></span>

<span data-ttu-id="ef27f-207">Quando si esegue il [test di un runbook](automation-testing-runbook.md), i messaggi dettagliati non vengono visualizzati anche se il runbook è configurato per registrare i record dettagliati.</span><span class="sxs-lookup"><span data-stu-id="ef27f-207">When [testing a runbook](automation-testing-runbook.md), verbose messages are not displayed even if the runbook is configured to log verbose records.</span></span> <span data-ttu-id="ef27f-208">Per visualizzare i messaggi dettagliati durante il [test di un runbook](automation-testing-runbook.md), è necessario impostare la variabile $VerbosePreference su Continue.</span><span class="sxs-lookup"><span data-stu-id="ef27f-208">To display verbose messages while [testing a runbook](automation-testing-runbook.md), you must set the $VerbosePreference variable to Continue.</span></span> <span data-ttu-id="ef27f-209">Con tale set di variabili, i messaggi dettagliati verranno visualizzati nel pannello Output del Test del portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef27f-209">With that variable set, verbose messages will be displayed in the Test Output Pane of the Azure portal.</span></span>

<span data-ttu-id="ef27f-210">Creare un messaggio dettagliato utilizzando il cmdlet [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) .</span><span class="sxs-lookup"><span data-stu-id="ef27f-210">Create a verbose message using the [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span></span>

    #The following line creates a verbose message.

    Write-Verbose –Message "This is a verbose message."

### <a name="debug-stream"></a><span data-ttu-id="ef27f-211">Flusso di Debug </span><span class="sxs-lookup"><span data-stu-id="ef27f-211">Debug stream</span></span>
<span data-ttu-id="ef27f-212">Il flusso di Debug deve essere utilizzato con un utente interattivo e non deve essere utilizzato nei runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-212">The Debug stream is intended for use with an interactive user and should not be used in runbooks.</span></span>

## <a name="progress-records"></a><span data-ttu-id="ef27f-213">Record di stato</span><span class="sxs-lookup"><span data-stu-id="ef27f-213">Progress records</span></span>
<span data-ttu-id="ef27f-214">Se si configura un runbook per registrare i record di stato di avanzamento (nella scheda Configura del runbook nel portale di Azure), verrà scritto un record per la cronologia dei processi prima e dopo l'esecuzione di ogni attività.</span><span class="sxs-lookup"><span data-stu-id="ef27f-214">If you configure a runbook to log progress records (on the Configure tab of the runbook in the Azure portal), then a record will be written to the job history before and after each activity is run.</span></span> <span data-ttu-id="ef27f-215">Nella maggior parte dei casi, è consigliabile mantenere l'impostazione predefinita che non registra record dettagliati per un runbook per massimizzare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="ef27f-215">In most cases, you should keep the default setting of not logging progress records for a runbook in order to maximize performance.</span></span> <span data-ttu-id="ef27f-216">Attivare questa opzione solo per risolvere i problemi o eseguire il debug di un runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-216">Turn on this option only to troubleshoot or debug a runbook.</span></span> <span data-ttu-id="ef27f-217">Quando si esegue il test di un runbook, i messaggi dettagliati non vengono visualizzati anche se il runbook è configurato per registrare i record dettagliati.</span><span class="sxs-lookup"><span data-stu-id="ef27f-217">When testing a runbook, progress messages are not displayed even if the runbook is configured to log progress records.</span></span>

<span data-ttu-id="ef27f-218">Il cmdlet [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) non è valido in un runbook, poiché questo deve essere utilizzato con un utente interattivo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-218">The [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet is not valid in a runbook, since this is intended for use with an interactive user.</span></span>

## <a name="preference-variables"></a><span data-ttu-id="ef27f-219">Variabili di preferenza</span><span class="sxs-lookup"><span data-stu-id="ef27f-219">Preference variables</span></span>
<span data-ttu-id="ef27f-220">Windows PowerShell utilizza [le variabili di preferenza](http://technet.microsoft.com/library/hh847796.aspx) per stabilire come rispondere ai dati inviati ai diversi flussi di output.</span><span class="sxs-lookup"><span data-stu-id="ef27f-220">Windows PowerShell uses [preference variables](http://technet.microsoft.com/library/hh847796.aspx) to determine how to respond to data sent to different output streams.</span></span> <span data-ttu-id="ef27f-221">È possibile impostare queste variabili in un runbook per controllare la modalità di risposta ai dati inviati in diversi flussi.</span><span class="sxs-lookup"><span data-stu-id="ef27f-221">You can set these variables in a runbook to control how it will respond to data sent into different streams.</span></span>

<span data-ttu-id="ef27f-222">La tabella seguente elenca le variabili di preferenza che possono essere utilizzate nei runbook con i relativi valori validi e predefiniti.</span><span class="sxs-lookup"><span data-stu-id="ef27f-222">The following table lists the preference variables that can be used in runbooks with their valid and default values.</span></span> <span data-ttu-id="ef27f-223">Si noti che questa tabella include solo i valori validi in un runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-223">Note that this table only includes the values that are valid in a runbook.</span></span> <span data-ttu-id="ef27f-224">Gli altri valori sono validi per le variabili di preferenza, se utilizzate in Windows PowerShell al di fuori di automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef27f-224">Additional values are valid for the preference variables when used in Windows PowerShell outside of Azure Automation.</span></span>

| <span data-ttu-id="ef27f-225">Variabile</span><span class="sxs-lookup"><span data-stu-id="ef27f-225">Variable</span></span> | <span data-ttu-id="ef27f-226">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="ef27f-226">Default Value</span></span> | <span data-ttu-id="ef27f-227">Valori validi</span><span class="sxs-lookup"><span data-stu-id="ef27f-227">Valid Values</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="ef27f-228">WarningPreference</span><span class="sxs-lookup"><span data-stu-id="ef27f-228">WarningPreference</span></span> |<span data-ttu-id="ef27f-229">Continue</span><span class="sxs-lookup"><span data-stu-id="ef27f-229">Continue</span></span> |<span data-ttu-id="ef27f-230">Stop</span><span class="sxs-lookup"><span data-stu-id="ef27f-230">Stop</span></span><br><span data-ttu-id="ef27f-231">Continue</span><span class="sxs-lookup"><span data-stu-id="ef27f-231">Continue</span></span><br><span data-ttu-id="ef27f-232">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="ef27f-232">SilentlyContinue</span></span> |
| <span data-ttu-id="ef27f-233">ErrorActionPreference</span><span class="sxs-lookup"><span data-stu-id="ef27f-233">ErrorActionPreference</span></span> |<span data-ttu-id="ef27f-234">Continue</span><span class="sxs-lookup"><span data-stu-id="ef27f-234">Continue</span></span> |<span data-ttu-id="ef27f-235">Stop</span><span class="sxs-lookup"><span data-stu-id="ef27f-235">Stop</span></span><br><span data-ttu-id="ef27f-236">Continue</span><span class="sxs-lookup"><span data-stu-id="ef27f-236">Continue</span></span><br><span data-ttu-id="ef27f-237">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="ef27f-237">SilentlyContinue</span></span> |
| <span data-ttu-id="ef27f-238">VerbosePreference</span><span class="sxs-lookup"><span data-stu-id="ef27f-238">VerbosePreference</span></span> |<span data-ttu-id="ef27f-239">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="ef27f-239">SilentlyContinue</span></span> |<span data-ttu-id="ef27f-240">Stop</span><span class="sxs-lookup"><span data-stu-id="ef27f-240">Stop</span></span><br><span data-ttu-id="ef27f-241">Continue</span><span class="sxs-lookup"><span data-stu-id="ef27f-241">Continue</span></span><br><span data-ttu-id="ef27f-242">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="ef27f-242">SilentlyContinue</span></span> |

<span data-ttu-id="ef27f-243">Nella tabella seguente è elencato il comportamento dei valori delle variabili di preferenza valide nei runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-243">The following table lists the behavior for the preference variable values that are valid in runbooks.</span></span>

| <span data-ttu-id="ef27f-244">Valore</span><span class="sxs-lookup"><span data-stu-id="ef27f-244">Value</span></span> | <span data-ttu-id="ef27f-245">Comportamento</span><span class="sxs-lookup"><span data-stu-id="ef27f-245">Behavior</span></span> |
|:--- |:--- |
| <span data-ttu-id="ef27f-246">Continue</span><span class="sxs-lookup"><span data-stu-id="ef27f-246">Continue</span></span> |<span data-ttu-id="ef27f-247">Registra il messaggio e continua l'esecuzione del runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-247">Logs the message and continues executing the runbook.</span></span> |
| <span data-ttu-id="ef27f-248">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="ef27f-248">SilentlyContinue</span></span> |<span data-ttu-id="ef27f-249">Continua l'esecuzione del runbook senza registrazione del messaggio.</span><span class="sxs-lookup"><span data-stu-id="ef27f-249">Continues executing the runbook without logging the message.</span></span> <span data-ttu-id="ef27f-250">Questo ha l'effetto di ignorare il messaggio.</span><span class="sxs-lookup"><span data-stu-id="ef27f-250">This has the effect of ignoring the message.</span></span> |
| <span data-ttu-id="ef27f-251">Stop</span><span class="sxs-lookup"><span data-stu-id="ef27f-251">Stop</span></span> |<span data-ttu-id="ef27f-252">Registra il messaggio e sospende il runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-252">Logs the message and suspends the runbook.</span></span> |

## <a name="retrieving-runbook-output-and-messages"></a><span data-ttu-id="ef27f-253">Recupero di messaggi e output di runbook</span><span class="sxs-lookup"><span data-stu-id="ef27f-253">Retrieving runbook output and messages</span></span>
### <a name="azure-portal"></a><span data-ttu-id="ef27f-254">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="ef27f-254">Azure portal</span></span>
<span data-ttu-id="ef27f-255">È possibile visualizzare i dettagli di un processo di un runbook nel portale di Azure dalla scheda processi di un runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-255">You can view the details of a runbook job in the Azure portal from the Jobs tab of a runbook.</span></span> <span data-ttu-id="ef27f-256">Il riepilogo del processo visualizzerà i parametri di input e il [flusso di Output](#Output) oltre alle informazioni generali sul processo e le eccezioni se si sono verificate.</span><span class="sxs-lookup"><span data-stu-id="ef27f-256">The Summary of the job will display the input parameters and the [Output Stream](#Output) in addition to general information about the job and any exceptions if they occurred.</span></span> <span data-ttu-id="ef27f-257">La cronologia includerà i messaggi dal [flusso di output](#Output) e dai [flussi di avviso ed errore](#WarningError) in aggiunta al [flusso dettagliato](#Verbose) e ai [record di avanzamento](#Progress), se il runbook è configurato per la registrazione di record dettagliati e di avanzamento.</span><span class="sxs-lookup"><span data-stu-id="ef27f-257">The History will include messages from the [Output Stream](#Output) and [Warning and Error Streams](#WarningError) in addition to the [Verbose Stream](#Verbose) and [Progress Records](#Progress) if the runbook is configured to log verbose and progress records.</span></span>

### <a name="windows-powershell"></a><span data-ttu-id="ef27f-258">Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="ef27f-258">Windows PowerShell</span></span>
<span data-ttu-id="ef27f-259">In Windows PowerShell, è possibile recuperare i messaggi e gli output da un runbook tramite il cmdlet [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) .</span><span class="sxs-lookup"><span data-stu-id="ef27f-259">In Windows PowerShell, you can retrieve output and messages from a runbook using the [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span></span> <span data-ttu-id="ef27f-260">Questo cmdlet richiede l'ID del processo e dispone di un parametro denominato flusso in cui è possibile specificare quale flusso restituire.</span><span class="sxs-lookup"><span data-stu-id="ef27f-260">This cmdlet requires the ID of the job and has a parameter called Stream where you specify which stream to return.</span></span> <span data-ttu-id="ef27f-261">È possibile specificare Any per restituire tutti i flussi per il processo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-261">You can specify Any to return all streams for the job.</span></span>

<span data-ttu-id="ef27f-262">Nell'esempio seguente viene avviato un runbook figlio e si attende il suo completamento.</span><span class="sxs-lookup"><span data-stu-id="ef27f-262">The following example starts a sample runbook and then waits for it to complete.</span></span> <span data-ttu-id="ef27f-263">Una volta completato, il relativo output viene raccolto dal processo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-263">Once completed, its output stream is collected from the job.</span></span>

    $job = Start-AzureRmAutomationRunbook -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" –Name "Test-Runbook"

    $doLoop = $true
    While ($doLoop) {
       $job = Get-AzureRmAutomationJob -ResourceGroupName "ResourceGroup01" `
       –AutomationAccountName "MyAutomationAccount" -Id $job.JobId
       $status = $job.Status
       $doLoop = (($status -ne "Completed") -and ($status -ne "Failed") -and ($status -ne "Suspended") -and ($status -ne "Stopped")
    }

    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" -Id $job.JobId –Stream Output

### <a name="graphical-authoring"></a><span data-ttu-id="ef27f-264">Creazione grafica</span><span class="sxs-lookup"><span data-stu-id="ef27f-264">Graphical Authoring</span></span>
<span data-ttu-id="ef27f-265">Per i runbook grafici, è disponibile una registrazione aggiuntiva sotto forma di traccia a livello di attività.</span><span class="sxs-lookup"><span data-stu-id="ef27f-265">For graphical runbooks, extra logging is available in the form of activity-level tracing.</span></span>  <span data-ttu-id="ef27f-266">Sono disponibili due livelli di traccia: base e dettagliato.</span><span class="sxs-lookup"><span data-stu-id="ef27f-266">There are two levels of tracing: Basic and Detailed.</span></span>  <span data-ttu-id="ef27f-267">Nella traccia di base sono indicate l'ora di inizio e di fine di ogni attività del runbook, oltre a informazioni relative a eventuali ulteriori tentativi di esecuzione dell'attività, ad esempio il numero di tentativi e l'ora di inizio dell'attività.</span><span class="sxs-lookup"><span data-stu-id="ef27f-267">In Basic tracing, you can see the start and end time of each activity in the runbook plus information related to any activity retries, such as number of attempts and start time of the activity.</span></span>  <span data-ttu-id="ef27f-268">Nella traccia dettagliata sono indicate le informazioni della traccia di base e i dati di input e output di ogni attività.</span><span class="sxs-lookup"><span data-stu-id="ef27f-268">In Detailed tracing, you get Basic tracing plus input and output data for each activity.</span></span>  <span data-ttu-id="ef27f-269">Si noti che attualmente i record di traccia vengono scritti usando il flusso dettagliato. Per questa ragione è necessario abilitare la registrazione dettagliata quando si abilita la traccia.</span><span class="sxs-lookup"><span data-stu-id="ef27f-269">Note that currently the trace records are written using the verbose stream, so you must enable Verbose logging when you enable tracing.</span></span>  <span data-ttu-id="ef27f-270">Per i runbook grafici con la traccia abilitata non è necessario registrare record di stato perché la traccia di base svolge la stessa funzione e offre maggiori informazioni.</span><span class="sxs-lookup"><span data-stu-id="ef27f-270">For graphical runbooks with tracing enabled there is no need to log progress records, because the Basic tracing serves the same purpose and is more informative.</span></span>

![Visualizzazione dei flussi dei processi di creazione grafica](media/automation-runbook-output-and-messages/job-streams-view-blade.png)

<span data-ttu-id="ef27f-272">È possibile osservare nella schermata precedente che quando si abilitano la registrazione e la traccia dettagliata per i runbook grafici sono disponibili molte più informazioni nella visualizzazione di flussi dei processi di produzione.</span><span class="sxs-lookup"><span data-stu-id="ef27f-272">You can see from the above screenshot that when you enable Verbose logging and tracing for Graphical runbooks, much more information is available in the production Job Streams view.</span></span>  <span data-ttu-id="ef27f-273">Queste informazioni aggiuntive possono essere essenziali per la risoluzione dei problemi di produzione di un runbook e pertanto è consigliabile attivarle solo a tale scopo e non come regola generale.</span><span class="sxs-lookup"><span data-stu-id="ef27f-273">This extra information can be essential for troubleshooting production problems with a runbook, and therefore you should only enable it for that purpose and not as a general practice.</span></span>    
<span data-ttu-id="ef27f-274">I record di traccia possono essere particolarmente numerosi.</span><span class="sxs-lookup"><span data-stu-id="ef27f-274">The Trace records can be especially numerous.</span></span>  <span data-ttu-id="ef27f-275">Con la traccia dei runbook grafici è possibile ottenere da due a quattro record per ogni attività a seconda che sia stata configurata la traccia di base o dettagliata.</span><span class="sxs-lookup"><span data-stu-id="ef27f-275">With Graphical runbook tracing you can get two to four records per activity depending on whether you have configured Basic or Detailed tracing.</span></span>  <span data-ttu-id="ef27f-276">Se non sono necessarie queste informazioni per tenere traccia dell'avanzamento di un runbook per la risoluzione dei problemi, è consigliabile non abilitare la traccia.</span><span class="sxs-lookup"><span data-stu-id="ef27f-276">Unless you need this information to track the progress of a runbook for troubleshooting, you might want to keep Tracing turned off.</span></span>

<span data-ttu-id="ef27f-277">**Per abilitare la traccia a livello di attività, seguire questa procedura.**</span><span class="sxs-lookup"><span data-stu-id="ef27f-277">**To enable activity-level tracing, perform the following steps.**</span></span>

1. <span data-ttu-id="ef27f-278">Nel portale di Azure aprire l'account di automazione.</span><span class="sxs-lookup"><span data-stu-id="ef27f-278">In the Azure Portal, open your Automation account.</span></span>
2. <span data-ttu-id="ef27f-279">Fare clic sul riquadro **Runbook** per aprire l'elenco dei runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-279">Click on the **Runbooks** tile to open the list of runbooks.</span></span>
3. <span data-ttu-id="ef27f-280">Nel pannello Runbook fare clic per selezionare un runbook grafico dall'elenco dei runbook.</span><span class="sxs-lookup"><span data-stu-id="ef27f-280">On the Runbooks blade, click to select a graphical runbook from your list of runbooks.</span></span>
4. <span data-ttu-id="ef27f-281">Nel pannello Impostazioni del runbook selezionato, fare clic su **Registrazione e traccia**.</span><span class="sxs-lookup"><span data-stu-id="ef27f-281">On the Settings blade for the selected runbook, click **Logging and Tracing**.</span></span>
5. <span data-ttu-id="ef27f-282">Nel pannello Registrazione e traccia **abilitare** la registrazione dettagliata in Registra record dettagliati e impostare il livello di traccia su **Basic** o **Dettagliato**, in base alle esigenze, in Traccia a livello di attività.</span><span class="sxs-lookup"><span data-stu-id="ef27f-282">On the Logging and Tracing blade, under Log verbose records, click **On** to enable verbose logging and udner Activity-level tracing, change the trace level to **Basic** or **Detailed** based on the level of tracing you require.</span></span><br>
   
   ![Pannello Registrazione e traccia della creazione grafica](media/automation-runbook-output-and-messages/logging-and-tracing-settings-blade.png)

### <a name="microsoft-operations-management-suite-oms-log-analytics"></a><span data-ttu-id="ef27f-284">Log Analytics di Microsoft Operations Management Suite (OMS)</span><span class="sxs-lookup"><span data-stu-id="ef27f-284">Microsoft Operations Management Suite (OMS) Log Analytics</span></span>
<span data-ttu-id="ef27f-285">Automazione può inviare lo stato e i flussi del processo del runbook all'area di lavoro Log Analytics di Microsoft Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="ef27f-285">Automation can send runbook job status and job streams to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="ef27f-286">Con Log Analytics è possibile:</span><span class="sxs-lookup"><span data-stu-id="ef27f-286">With Log Analytics you can,</span></span>

* <span data-ttu-id="ef27f-287">Ottenere informazioni dettagliate sui processi di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef27f-287">Get insight on your Automation jobs</span></span> 
* <span data-ttu-id="ef27f-288">Attivare un messaggio di posta elettronica o un avviso in base allo stato del processo del runbook, ad esempio non riuscito o sospeso.</span><span class="sxs-lookup"><span data-stu-id="ef27f-288">Trigger an email or alert based on your runbook job status (e.g. failed or suspended)</span></span> 
* <span data-ttu-id="ef27f-289">Scrivere query avanzate nei flussi del processo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-289">Write advanced queries across your job streams</span></span> 
* <span data-ttu-id="ef27f-290">Correlare i processi tra account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef27f-290">Correlate jobs across Automation accounts</span></span> 
* <span data-ttu-id="ef27f-291">Visualizzare la cronologia dei processi nel tempo.</span><span class="sxs-lookup"><span data-stu-id="ef27f-291">Visualize your job history over time</span></span>    

<span data-ttu-id="ef27f-292">Per altre informazioni sulla configurazione dell'integrazione con Log Analytics per raccogliere e correlare i dati del processo e agire su tali dati, vedere [Inoltrare lo stato e i flussi del processo da Automazione a Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="ef27f-292">For more information on how to configure integration with Log Analytics to collect, correlate and act on job data, see [Forward job status and job streams from Automation to Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="ef27f-293">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="ef27f-293">Next steps</span></span>
* <span data-ttu-id="ef27f-294">Per maggiori informazioni sull'esecuzione dei runbook, su come monitorare i processi dei runbook e su altri dettagli tecnici, vedere come tenere traccia del processo di un runbook in [Esecuzione di runbook in Automazione di Azure](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="ef27f-294">To learn more about runbook execution, how to monitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="ef27f-295">Per informazioni come progettare e usare i runbook figlio, vedere [Runbook figlio in Automazione di Azure](automation-child-runbooks.md)</span><span class="sxs-lookup"><span data-stu-id="ef27f-295">To understand how to design and use child runbooks, see [Child runbooks in Azure Automation](automation-child-runbooks.md)</span></span>

