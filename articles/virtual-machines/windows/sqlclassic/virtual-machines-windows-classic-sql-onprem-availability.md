---
title: "Estendere i gruppi di disponibilità AlwaysOn locali ad Azure | Microsoft Docs"
description: "Questa esercitazione sfrutta le risorse create con il modello di distribuzione classica e descrive come usare la procedura guidata Aggiungi replica in SQL Server Management Studio (SSMS) per aggiungere una replica del gruppo di disponibilità AlwaysOn in Azure."
services: virtual-machines-windows
documentationcenter: na
author: MikeRayMSFT
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 7ca7c423-8342-4175-a70b-d5101dfb7f23
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: mikeray
ms.openlocfilehash: 50326a093adaf3558c56dfd0b38544f0e60be460
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="extend-on-premises-always-on-availability-groups-to-azure"></a><span data-ttu-id="c573d-103">Estendere i gruppi di disponibilità AlwaysOn locali ad Azure</span><span class="sxs-lookup"><span data-stu-id="c573d-103">Extend on-premises Always On Availability Groups to Azure</span></span>
<span data-ttu-id="c573d-104">I gruppi di disponibilità AlwaysOn garantiscono un disponibilità elevata per i gruppi di database grazie all'aggiunta di repliche secondarie,</span><span class="sxs-lookup"><span data-stu-id="c573d-104">Always On Availability Groups provide high availability for groups of database by adding secondary replicas.</span></span> <span data-ttu-id="c573d-105">che consentono il failover dei database in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="c573d-105">These replicas allow failing over databases in case of a failure.</span></span> <span data-ttu-id="c573d-106">Le repliche possono essere usate anche per l'offload di carichi di lavoro di lettura o attività di backup.</span><span class="sxs-lookup"><span data-stu-id="c573d-106">In addition they can be used to offload read workloads or backup tasks.</span></span>

<span data-ttu-id="c573d-107">È possibile estendere i gruppi di disponibilità locale a Microsoft Azure eseguendo il provisioning di una o più macchine virtuali di Azure con SQL Server e quindi aggiungendole come repliche ai gruppi di disponibilità locale.</span><span class="sxs-lookup"><span data-stu-id="c573d-107">You can extend on-premises Availability Groups to Microsoft Azure by provisioning one or more Azure VMs with SQL Server and then adding them as replicas to your on-premises Availability Groups.</span></span>

<span data-ttu-id="c573d-108">L'esercitazione presuppone che l'utente disponga degli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c573d-108">This tutorial assumes you have the following:</span></span>

* <span data-ttu-id="c573d-109">Una sottoscrizione di Azure attiva.</span><span class="sxs-lookup"><span data-stu-id="c573d-109">An active Azure subscription.</span></span> <span data-ttu-id="c573d-110">È possibile [iscriversi per una versione di valutazione gratuita di Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="c573d-110">You can [sign up for a free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="c573d-111">Un gruppo di disponibilità AlwaysOn esistente in locale.</span><span class="sxs-lookup"><span data-stu-id="c573d-111">An existing Always On Availability Group on-premises.</span></span> <span data-ttu-id="c573d-112">Per altre informazioni sui gruppi di disponibilità, vedere [Gruppi di disponibilità AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx).</span><span class="sxs-lookup"><span data-stu-id="c573d-112">For more information on Availability Groups, see [Always On Availability Groups](https://msdn.microsoft.com/library/hh510230.aspx).</span></span>
* <span data-ttu-id="c573d-113">Connettività tra la rete locale e la rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-113">Connectivity between the on-premises network and your Azure virtual network.</span></span> <span data-ttu-id="c573d-114">Per altre informazioni sulla creazione della rete virtuale, vedere [Creare una connessione da sito a sito usando il portale di Azure (versione classica)](../../../vpn-gateway/vpn-gateway-howto-site-to-site-classic-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c573d-114">For more information about creating this virtual network, see [Create a Site-to-Site connection using the Azure portal (classic)](../../../vpn-gateway/vpn-gateway-howto-site-to-site-classic-portal.md).</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="c573d-115">Azure offre due diversi modelli di distribuzione per creare e usare le risorse: [Gestione risorse e la distribuzione classica](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="c573d-115">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="c573d-116">Questo articolo illustra l'uso del modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="c573d-116">This article covers using the Classic deployment model.</span></span> <span data-ttu-id="c573d-117">Microsoft consiglia di usare il modello di Gestione risorse per le distribuzioni più recenti.</span><span class="sxs-lookup"><span data-stu-id="c573d-117">Microsoft recommends that most new deployments use the Resource Manager model.</span></span>

## <a name="add-azure-replica-wizard"></a><span data-ttu-id="c573d-118">Procedura guidata Aggiungi replica di Azure</span><span class="sxs-lookup"><span data-stu-id="c573d-118">Add Azure Replica Wizard</span></span>
<span data-ttu-id="c573d-119">Questa sezione mostra come usare la **procedura guidata per l'aggiunta della replica di Azure** per estendere il gruppo di disponibilità AlwaysOn in modo da includere le repliche di Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-119">This section shows you how to use the **Add Azure Replica Wizard** to extend your Always On Availability Group solution to include Azure replicas.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c573d-120">La **procedura guidata per l'aggiunta della replica di Azure** supporta solo le macchine virtuali create con il modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="c573d-120">The **Add Azure Replica Wizard** only supports virtual machines created with the Classic deployment model.</span></span> <span data-ttu-id="c573d-121">Le nuove distribuzioni di macchine virtuali devono usare il modello di Resource Manager più recente.</span><span class="sxs-lookup"><span data-stu-id="c573d-121">New VM deployments should use the newer Resource Manager model.</span></span> <span data-ttu-id="c573d-122">Se si usano macchine virtuali con Resource Manager, è necessario aggiungere manualmente la replica secondaria di Azure usando comandi Transact-SQL, che non sono inclusi in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="c573d-122">If you are using VMs with Resource Manager, then you must manually add the secondary Azure replica using Transact-SQL commmands (not shown here).</span></span> <span data-ttu-id="c573d-123">La procedura guidata non funziona in uno scenario di Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="c573d-123">This wizard will not work in the Resource Manager scenario.</span></span>

1. <span data-ttu-id="c573d-124">In SQL Server Management Studio espandere **Disponibilità elevata AlwaysOn** > **Gruppi di disponibilità** > **[nome del gruppo di disponibilità]**.</span><span class="sxs-lookup"><span data-stu-id="c573d-124">From within SQL Server Management Studio, expand **Always On High Availability** > **Availability Groups** > **[Name of your Availability Group]**.</span></span>
2. <span data-ttu-id="c573d-125">Fare doppio clic su **Repliche di disponibilità**, quindi fare clic su **Aggiungi Replica**.</span><span class="sxs-lookup"><span data-stu-id="c573d-125">Right-click **Availability Replicas**, then click **Add Replica**.</span></span>
3. <span data-ttu-id="c573d-126">Per impostazione predefinita, viene visualizzata la **procedura guidata Aggiungi replica di Azure** .</span><span class="sxs-lookup"><span data-stu-id="c573d-126">By default, the **Add Replica to Availability Group Wizard** is displayed.</span></span> <span data-ttu-id="c573d-127">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="c573d-127">Click **Next**.</span></span>  <span data-ttu-id="c573d-128">Se durante un precedente avvio della procedura guidata è stata selezionata l'opzione **Non visualizzare più questa pagina** nella parte inferiore della pagina, questa schermata non verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="c573d-128">If you have selected the **Do not show this page again** option at the bottom of the page during a previous launch of this wizard, this screen will not be displayed.</span></span>
   
    ![SQL](./media/virtual-machines-windows-classic-sql-onprem-availability/IC742861.png)
4. <span data-ttu-id="c573d-130">Verrà richiesto di connettersi a tutte le repliche secondarie esistenti.</span><span class="sxs-lookup"><span data-stu-id="c573d-130">You will be required to connect to all existing secondary replicas.</span></span> <span data-ttu-id="c573d-131">È possibile fare clic su **Connetti...**</span><span class="sxs-lookup"><span data-stu-id="c573d-131">You can click on **Connect…**</span></span> <span data-ttu-id="c573d-132">accanto a ogni replica oppure selezionare **Connetti tutto...**</span><span class="sxs-lookup"><span data-stu-id="c573d-132">beside each replica or you can click **Connect All…**</span></span> <span data-ttu-id="c573d-133">nella parte inferiore della schermata.</span><span class="sxs-lookup"><span data-stu-id="c573d-133">at the bottom of the screen.</span></span> <span data-ttu-id="c573d-134">Dopo l'autenticazione, fare clic su **Avanti** per passare alla schermata successiva.</span><span class="sxs-lookup"><span data-stu-id="c573d-134">After authentication, click **Next** to advance to the next screen.</span></span>
5. <span data-ttu-id="c573d-135">Nella parte superiore della pagina **Specifica repliche** sono disponibili più schede: **Repliche**, **Endpoint**, **Preferenze di backup** e **Listener**.</span><span class="sxs-lookup"><span data-stu-id="c573d-135">On the **Specify Replicas** page, multiple tabs are listed across the top: **Replicas**, **Endpoints**, **Backup Preferences**, and **Listener**.</span></span> <span data-ttu-id="c573d-136">Dalla scheda **Repliche** fare clic su **Aggiungi Replica Azure...**</span><span class="sxs-lookup"><span data-stu-id="c573d-136">From the **Replicas** tab, click **Add Azure Replica…**</span></span> <span data-ttu-id="c573d-137">per avviare la procedura guidata Aggiungi replica di Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-137">to launch the Add Azure Replica Wizard.</span></span>
   
    ![SQL](./media/virtual-machines-windows-classic-sql-onprem-availability/IC742863.png)
6. <span data-ttu-id="c573d-139">Selezionare un certificato di gestione di Azure esistente dall'archivio certificati di Windows locale, se in precedenza ne è già stato installato uno.</span><span class="sxs-lookup"><span data-stu-id="c573d-139">Select an existing Azure Management Certificate from the local Windows certificate store if you have installed one before.</span></span> <span data-ttu-id="c573d-140">Selezionare o immettere l'ID di una sottoscrizione di Azure, se invece non ne è mai stato usato uno.</span><span class="sxs-lookup"><span data-stu-id="c573d-140">Select or enter the id of an Azure subscription if you have used one before.</span></span> <span data-ttu-id="c573d-141">È possibile fare clic su Download per scaricare e installare un certificato di gestione di Azure e scaricare l'elenco delle sottoscrizioni tramite un account di Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-141">You can click Download to download and install an Azure Management Certificate and download the list of subscriptions using an Azure account.</span></span>
   
    ![SQL](./media/virtual-machines-windows-classic-sql-onprem-availability/IC742864.png)
7. <span data-ttu-id="c573d-143">In questa pagina è necessario immettere in ciascun campo i valori richiesti che verranno usati per creare la macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-143">You will populate each field on the page with values that will be used to create the Azure Virtual Machine (VM) that will host the replica.</span></span>
   
   | <span data-ttu-id="c573d-144">Impostazione</span><span class="sxs-lookup"><span data-stu-id="c573d-144">Setting</span></span> | <span data-ttu-id="c573d-145">Descrizione</span><span class="sxs-lookup"><span data-stu-id="c573d-145">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="c573d-146">**Immagine**</span><span class="sxs-lookup"><span data-stu-id="c573d-146">**Image**</span></span> |<span data-ttu-id="c573d-147">Selezionare la combinazione di sistema operativo e SQL Server desiderata.</span><span class="sxs-lookup"><span data-stu-id="c573d-147">Select the desired combination of OS and SQL Server</span></span> |
   | <span data-ttu-id="c573d-148">**Dimensioni macchina virtuale**</span><span class="sxs-lookup"><span data-stu-id="c573d-148">**VM Size**</span></span> |<span data-ttu-id="c573d-149">Selezionare le dimensioni della macchina virtuale più adatte alle esigenze aziendali.</span><span class="sxs-lookup"><span data-stu-id="c573d-149">Select the size of VM that best suits your business needs</span></span> |
   | <span data-ttu-id="c573d-150">**Nome macchina virtuale**</span><span class="sxs-lookup"><span data-stu-id="c573d-150">**VM Name**</span></span> |<span data-ttu-id="c573d-151">Specificare un nome univoco per la nuova macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c573d-151">Specify a unique name for the new VM.</span></span> <span data-ttu-id="c573d-152">Il nome deve contenere un numero di caratteri compreso tra 3 e 15, può essere composto solo da lettere, numeri e trattini e deve iniziare con una lettera e terminare con una lettera o con un numero.</span><span class="sxs-lookup"><span data-stu-id="c573d-152">The name must contain between 3 and 15 characters, can contain only letters, numbers, and hyphens, and must start with a letter and end with either a letter or number.</span></span> |
   | <span data-ttu-id="c573d-153">**Nome utente macchina virtuale**</span><span class="sxs-lookup"><span data-stu-id="c573d-153">**VM Username**</span></span> |<span data-ttu-id="c573d-154">Specificare il nome utente che costituirà l'account amministratore della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c573d-154">Specify a user name that will become the administrator account on the VM</span></span> |
   | <span data-ttu-id="c573d-155">**Password amministratore macchina virtuale**</span><span class="sxs-lookup"><span data-stu-id="c573d-155">**VM Administrator Password**</span></span> |<span data-ttu-id="c573d-156">Specificare una password per il nuovo account.</span><span class="sxs-lookup"><span data-stu-id="c573d-156">Specify a password for the new account</span></span> |
   | <span data-ttu-id="c573d-157">**Conferma password**</span><span class="sxs-lookup"><span data-stu-id="c573d-157">**Confirm Password**</span></span> |<span data-ttu-id="c573d-158">Confermare la password del nuovo account.</span><span class="sxs-lookup"><span data-stu-id="c573d-158">Confirm the password of the new account</span></span> |
   | <span data-ttu-id="c573d-159">**Rete virtuale**</span><span class="sxs-lookup"><span data-stu-id="c573d-159">**Virtual Network**</span></span> |<span data-ttu-id="c573d-160">Specificare la rete virtuale di Azure che deve essere usata dalla nuova macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c573d-160">Specify the Azure virtual network that the new VM should use.</span></span> <span data-ttu-id="c573d-161">Per altre informazioni sulle reti virtuali, vedere la pagina di [panoramica sulle reti virtuali](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c573d-161">For more information on virtual networks, see [Virtual Network Overview](../../../virtual-network/virtual-networks-overview.md).</span></span> |
   | <span data-ttu-id="c573d-162">**Rete virtuale/subnet**</span><span class="sxs-lookup"><span data-stu-id="c573d-162">**Virtual Network Subnet**</span></span> |<span data-ttu-id="c573d-163">Specificare la subnet della rete virtuale che deve essere usata dalla nuova macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c573d-163">Specify the virtual network subnet that the new VM should use</span></span> |
   | <span data-ttu-id="c573d-164">**Dominio**</span><span class="sxs-lookup"><span data-stu-id="c573d-164">**Domain**</span></span> |<span data-ttu-id="c573d-165">Verificare che il valore presente nel campo relativo al dominio sia corretto.</span><span class="sxs-lookup"><span data-stu-id="c573d-165">Confirm the pre-populated value for the domain is correct</span></span> |
   | <span data-ttu-id="c573d-166">**Nome utente dominio**</span><span class="sxs-lookup"><span data-stu-id="c573d-166">**Domain User Name**</span></span> |<span data-ttu-id="c573d-167">Specificare un account contenuto nel gruppo Administrators locale nei nodi cluster locali.</span><span class="sxs-lookup"><span data-stu-id="c573d-167">Specify an account that is in the local administrators group on the local cluster nodes</span></span> |
   | <span data-ttu-id="c573d-168">**Password**</span><span class="sxs-lookup"><span data-stu-id="c573d-168">**Password**</span></span> |<span data-ttu-id="c573d-169">Specificare la password per il nome utente di dominio.</span><span class="sxs-lookup"><span data-stu-id="c573d-169">Specify the password for the domain user name</span></span> |
8. <span data-ttu-id="c573d-170">Fare clic su **OK** per convalidare le impostazioni di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="c573d-170">Click **OK** to validate the deployment settings.</span></span>
9. <span data-ttu-id="c573d-171">In seguito vengono visualizzate le condizioni di licenza.</span><span class="sxs-lookup"><span data-stu-id="c573d-171">Legal terms are displayed next.</span></span> <span data-ttu-id="c573d-172">Leggerne il contenuto e fare clic su **OK** per accettare le condizioni di licenza.</span><span class="sxs-lookup"><span data-stu-id="c573d-172">Read and click **OK** if you agree to these terms.</span></span>
10. <span data-ttu-id="c573d-173">Verrà nuovamente visualizzata la pagina **Specifica repliche**.</span><span class="sxs-lookup"><span data-stu-id="c573d-173">The **Specify Replicas** page is displayed again.</span></span> <span data-ttu-id="c573d-174">Verificare le impostazioni relative alla nuova replica di Azure nelle schede **Repliche**, **Endpoint** e **Preferenze di backup**.</span><span class="sxs-lookup"><span data-stu-id="c573d-174">Verify the settings for the new Azure replica on the **Replicas**, **Endpoints**, and **Backup Preferences** tabs.</span></span> <span data-ttu-id="c573d-175">Modificare le impostazioni per soddisfare i requisiti aziendali.</span><span class="sxs-lookup"><span data-stu-id="c573d-175">Modify settings to meet your business requirements.</span></span>  <span data-ttu-id="c573d-176">Per altre informazioni sui parametri contenuti in queste schede, vedere [Pagina Specifica repliche (Creazione guidata Gruppo di disponibilità/Aggiungi replica)](https://msdn.microsoft.com/library/hh213088.aspx). Tenere presente che non è possibile creare listener tramite la scheda Listener per gruppi di disponibilità che contengono repliche di Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-176">For more information on the parameters contained on these tabs, see [Specify Replicas Page (New Availability Group Wizard/Add Replica Wizard)](https://msdn.microsoft.com/library/hh213088.aspx).Note that listeners cannot be created using the Listener tab for Availability Groups that contain Azure replicas.</span></span> <span data-ttu-id="c573d-177">Se, inoltre, è stato creato un listener prima dell'avvio della procedura guidata, verrà ricevuto un messaggio che avvisa che tale listener non è supportato in Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-177">In addition, if a listener has already been created prior to launching the Wizard, you will receive a message indicating that it is not supported in Azure.</span></span> <span data-ttu-id="c573d-178">La sezione **Creare un listener del gruppo di disponibilità** illustra come creare un listener.</span><span class="sxs-lookup"><span data-stu-id="c573d-178">We will look at how to create listeners in the **Create an Availability Group Listener** section.</span></span>
    
     ![SQL](./media/virtual-machines-windows-classic-sql-onprem-availability/IC742865.png)
11. <span data-ttu-id="c573d-180">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="c573d-180">Click **Next**.</span></span>
12. <span data-ttu-id="c573d-181">Selezionare il metodo di sincronizzazione dei dati che si desidera usare nella pagina **Seleziona sincronizzazione dati iniziale** e fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="c573d-181">Select the data synchronization method you want to use on the **Select Initial Data Synchronization** page and click **Next**.</span></span> <span data-ttu-id="c573d-182">Nella maggior parte degli scenari, selezionare **Sincronizzazione dati completa**.</span><span class="sxs-lookup"><span data-stu-id="c573d-182">For most scenarios, select **Full Data Synchronization**.</span></span> <span data-ttu-id="c573d-183">Per altre informazioni sui metodi di sincronizzazione dei dati, vedere [Pagina Seleziona sincronizzazione dati iniziale (procedure guidate Gruppi di disponibilità AlwaysOn)](https://msdn.microsoft.com/library/hh231021.aspx).</span><span class="sxs-lookup"><span data-stu-id="c573d-183">For more information on data synchronization methods, see [Select Initial Data Synchronization Page (Always On Availability Group Wizards)](https://msdn.microsoft.com/library/hh231021.aspx).</span></span>
13. <span data-ttu-id="c573d-184">Verificare i risultati nella pagina di **convalida** .</span><span class="sxs-lookup"><span data-stu-id="c573d-184">Review the results on the **Validation** page.</span></span> <span data-ttu-id="c573d-185">Correggere i problemi in sospeso e, se necessario, eseguire nuovamente la convalida.</span><span class="sxs-lookup"><span data-stu-id="c573d-185">Correct outstanding issues and re-run the validation if necessary.</span></span> <span data-ttu-id="c573d-186">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="c573d-186">Click **Next**.</span></span>
    
     ![SQL](./media/virtual-machines-windows-classic-sql-onprem-availability/IC742866.png)
14. <span data-ttu-id="c573d-188">Verificare le impostazioni nella pagina **Riepilogo**, quindi fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="c573d-188">Review the settings on the **Summary** page, then click **Finish**.</span></span>
15. <span data-ttu-id="c573d-189">Verrà avviato il processo di provisioning.</span><span class="sxs-lookup"><span data-stu-id="c573d-189">The provisioning process begins.</span></span> <span data-ttu-id="c573d-190">Al termine della procedura guidata, fare clic su **Chiudi** per uscire.</span><span class="sxs-lookup"><span data-stu-id="c573d-190">When the wizard completes successfully, click **Close** to exit out of the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="c573d-191">Durante la procedura guidata Aggiungi replica di Azure viene creato un file di log in Utenti\Nome utente\AppData\Local\SQL Server\AddReplicaWizard.</span><span class="sxs-lookup"><span data-stu-id="c573d-191">The Add Azure Replica Wizard creates a log file in Users\User Name\AppData\Local\SQL Server\AddReplicaWizard.</span></span> <span data-ttu-id="c573d-192">Questo file può essere usato per risolvere i problemi relativi alle distribuzioni delle repliche di Azure.</span><span class="sxs-lookup"><span data-stu-id="c573d-192">This log file can be used to troubleshoot failed Azure replica deployments.</span></span> <span data-ttu-id="c573d-193">Se una qualsiasi azione della procedura guidata ha esito negativo, verrà eseguito il rollback di tutte le operazioni precedenti, inclusa l'eliminazione della macchina virtuale di cui è stato eseguito il provisioning.</span><span class="sxs-lookup"><span data-stu-id="c573d-193">If the Wizard fails executing any action, all previous operations are rolled back, including deleting the provisioned VM.</span></span>
> 
> 

## <a name="create-an-availability-group-listener"></a><span data-ttu-id="c573d-194">Creare un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="c573d-194">Create an availability group listener</span></span>
<span data-ttu-id="c573d-195">Dopo aver creato il gruppo di disponibilità, è necessario creare un listener che consenta ai client di connettersi alle repliche.</span><span class="sxs-lookup"><span data-stu-id="c573d-195">After the availability group has been created, you should create a listener for clients to connect to the replicas.</span></span> <span data-ttu-id="c573d-196">I listener indirizzano le connessioni in ingresso alla replica primaria o a una replica secondaria di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="c573d-196">Listeners direct incoming connections to either the primary or a read-only secondary replica.</span></span> <span data-ttu-id="c573d-197">Per altre informazioni sui listener, vedere [Configurare un listener ILB per gruppi di disponibilità AlwaysOn in Azure](../classic/ps-sql-int-listener.md).</span><span class="sxs-lookup"><span data-stu-id="c573d-197">For more information on listeners, see [Configure an ILB listener for Always On Availability Groups in Azure](../classic/ps-sql-int-listener.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c573d-198">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="c573d-198">Next steps</span></span>
<span data-ttu-id="c573d-199">Oltre a usare la **procedura guidata per l'aggiunta della replica di Azure** per estendere ad Azure il gruppo di disponibilità AlwaysOn, è anche possibile spostare completamente in Azure alcuni carichi di lavoro di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c573d-199">In addition to using the **Add Azure Replica Wizard** to extend your Always On Availability Group to Azure, you might also move some SQL Server workloads completely to Azure.</span></span> <span data-ttu-id="c573d-200">Per altre informazioni, vedere [Provisioning di una macchina virtuale di SQL Server in Azure](../sql/virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="c573d-200">To get started, see [Provisioning a SQL Server Virtual Machine on Azure](../sql/virtual-machines-windows-portal-sql-server-provision.md).</span></span>

<span data-ttu-id="c573d-201">Per altri argomenti relativi all'esecuzione di SQL Server nelle macchine virtuali di Azure, vedere [SQL Server in Macchine virtuali di Azure](../sql/virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c573d-201">For other topics related to running SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](../sql/virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

