---
title: Pubblicazione di un Servizio cloud con gli Strumenti di Azure | Documentazione Microsoft
description: Informazioni su come pubblicare progetti di servizi cloud di Azure tramite Visual Studio.
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 1a07b6e4-3678-4cbf-b37e-4520b402a3d9
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/14/2017
ms.author: kraigb
ms.openlocfilehash: e617d600dbc8287eea737fc4969833e873365288
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="publishing-a-cloud-service-using-the-azure-tools"></a><span data-ttu-id="844b4-103">Pubblicazione di un servizio cloud con gli strumenti di Azure</span><span class="sxs-lookup"><span data-stu-id="844b4-103">Publishing a Cloud Service using the Azure Tools</span></span>
<span data-ttu-id="844b4-104">Utilizzando gli Strumenti di Azure per Microsoft Visual Studio, è possibile pubblicare l'applicazione Azure direttamente da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="844b4-104">By using the Azure Tools for Microsoft Visual Studio, you can publish your Azure application directly from Visual Studio.</span></span> <span data-ttu-id="844b4-105">Visual Studio supporta la pubblicazione integrata per la gestione temporanea o l’ambiente di produzione di un servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="844b4-105">Visual Studio supports integrated publishing to either the Staging or the Production environment of a cloud service.</span></span>

<span data-ttu-id="844b4-106">Per poter pubblicare un'applicazione Azure è necessario avere una sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="844b4-106">Before you can publish an Azure application, you must have an Azure subscription.</span></span> <span data-ttu-id="844b4-107">È necessario anche impostare un servizio cloud e un account di archiviazione che possano essere utilizzati dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="844b4-107">You must also set up a cloud service and storage account to be used by your application.</span></span> <span data-ttu-id="844b4-108">È possibile impostarli nel [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="844b4-108">You can set these up at the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="844b4-109">Quando si pubblica, è possibile selezionare l'ambiente di distribuzione per il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="844b4-109">When you publish, you can select the deployment environment for your cloud service.</span></span> <span data-ttu-id="844b4-110">E’ necessario inoltre selezionare un account di archiviazione utilizzato per archiviare il pacchetto dell'applicazione durante la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="844b4-110">You must also select a storage account that is used to store the application package for deployment.</span></span> <span data-ttu-id="844b4-111">Dopo la distribuzione dell'applicazione, il pacchetto viene rimosso dall'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="844b4-111">After deployment, the application package is removed from the storage account.</span></span>
> 
> 

<span data-ttu-id="844b4-112">Durante lo sviluppo e il test di un'applicazione Azure, è possibile utilizzare Distribuzione Web per pubblicare le modifiche in modo incrementale per i ruoli web.</span><span class="sxs-lookup"><span data-stu-id="844b4-112">When you are developing and testing an Azure application, you can use Web Deploy to publish changes incrementally for your web roles.</span></span> <span data-ttu-id="844b4-113">Dopo aver pubblicato l'applicazione in un ambiente di distribuzione, Distribuzione Web consente di distribuire le modifiche apportate direttamente alla macchina virtuale che esegue il ruolo web.</span><span class="sxs-lookup"><span data-stu-id="844b4-113">After you publish your application to a deployment environment, Web Deploy lets you deploy changes directly to the virtual machine that is running the web role.</span></span> <span data-ttu-id="844b4-114">Non è necessario assemblare e pubblicare l'intera applicazione Azure ogni volta che si desidera aggiornare il ruolo web per testare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="844b4-114">You do not have to package and publish your entire Azure application each time you want to update your web role to test out the changes.</span></span> <span data-ttu-id="844b4-115">Con questo approccio è possibile che le modifiche di un ruolo web siano disponibili nel cloud per il test senza attendere la pubblicazione dell’applicazione in un ambiente di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="844b4-115">With this approach you can have your web role changes available in the cloud for testing without waiting to have your application published to a deployment environment.</span></span>

<span data-ttu-id="844b4-116">Utilizzare le procedure seguenti per pubblicare l'applicazione Azure e per aggiornare un ruolo web tramite Distribuzione Web:</span><span class="sxs-lookup"><span data-stu-id="844b4-116">Use the following procedures to publish your Azure application and to update a web role by using Web Deploy:</span></span>

* <span data-ttu-id="844b4-117">Pubblicare o Assemblare un'applicazione Azure da Visual Studio</span><span class="sxs-lookup"><span data-stu-id="844b4-117">Publish or Package an Azure application from Visual Studio</span></span>
* <span data-ttu-id="844b4-118">Aggiornare un ruolo web come parte del ciclo di sviluppo e test</span><span class="sxs-lookup"><span data-stu-id="844b4-118">Update a web role as part of the development and testing cycle</span></span>

## <a name="publish-or-package-an-azure-application-from-visual-studio"></a><span data-ttu-id="844b4-119">Pubblicare o Assemblare un'applicazione Azure da Visual Studio</span><span class="sxs-lookup"><span data-stu-id="844b4-119">Publish or Package an Azure Application from Visual Studio</span></span>
<span data-ttu-id="844b4-120">Quando si pubblica l'applicazione Azure, è possibile eseguire una delle seguenti operazioni:</span><span class="sxs-lookup"><span data-stu-id="844b4-120">When you publish your Azure application, you can do one of the following tasks:</span></span>

* <span data-ttu-id="844b4-121">Creare un pacchetto del servizio: è possibile usare questo pacchetto e il file di configurazione del servizio per pubblicare l'applicazione in un ambiente di distribuzione dal [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="844b4-121">Create a service package: You can use this package and the service configuration file to publish your application to a deployment environment from the [Azure Classic Portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
* <span data-ttu-id="844b4-122">Pubblicare il progetto Azure da Visual Studio: per pubblicare l'applicazione direttamente in Azure, si utilizza la Pubblicazione guidata.</span><span class="sxs-lookup"><span data-stu-id="844b4-122">Publish your Azure project from Visual Studio: To publish your application directly to Azure, you use the Publish Wizard.</span></span> <span data-ttu-id="844b4-123">Per altre informazioni, vedere [Procedura guidata Pubblica l'applicazione Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="844b4-123">For information, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="to-create-a-service-package-from-visual-studio"></a><span data-ttu-id="844b4-124">Per creare un pacchetto del servizio da Visual Studio</span><span class="sxs-lookup"><span data-stu-id="844b4-124">To create a service package from Visual Studio</span></span>
1. <span data-ttu-id="844b4-125">Quando si è pronti per pubblicare l'applicazione, aprire Esplora soluzioni, aprire il menu di scelta rapida per il progetto Azure contenente i ruoli e scegliere Pubblica.</span><span class="sxs-lookup"><span data-stu-id="844b4-125">When you are ready to publish your application, open Solution Explorer, open the shortcut menu for the Azure project that contains your roles, and choose Publish.</span></span>
2. <span data-ttu-id="844b4-126">Per creare un pacchetto del servizio, attenersi alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="844b4-126">To create a service package only, follow these steps:</span></span>  
   
   1. <span data-ttu-id="844b4-127">Sul menu di scelta rapida per il progetto Azure, scegliere **Pacchetto**.</span><span class="sxs-lookup"><span data-stu-id="844b4-127">On the shortcut menu for the Azure project, choose **Package**.</span></span>
   2. <span data-ttu-id="844b4-128">Nella finestra di dialogo **Crea pacchetto dell’applicazione Azure** scegliere la configurazione del servizio per il quale si desidera creare un pacchetto e quindi scegliere la configurazione di compilazione.</span><span class="sxs-lookup"><span data-stu-id="844b4-128">In the **Package Azure Application** dialog box, choose the service configuration for which you want to create a package, and then choose the build configuration.</span></span>
   3. <span data-ttu-id="844b4-129">(facoltativo) Per attivare Desktop remoto per il servizio cloud dopo la pubblicazione, selezionare la casella di controllo **Abilita Desktop remoto per tutti i ruoli**, quindi selezionare **Impostazioni** per configurare Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="844b4-129">(optional) To turn on Remote Desktop for the cloud service after you publish it, select the **Enable Remote Desktop for all Roles** check box, and then select **Settings** to configure Remote Desktop.</span></span> <span data-ttu-id="844b4-130">Se si desidera eseguire il debug del servizio cloud dopo la pubblicazione, attivare il debug remoto selezionando **Abilita Debugger remoto per tutti i ruoli**.</span><span class="sxs-lookup"><span data-stu-id="844b4-130">If you want to debug your cloud service after you publish it, turn on remote debugging by selecting **Enable Remote Debugger for all Roles**.</span></span>
      
      <span data-ttu-id="844b4-131">Per altre informazioni, vedere [Utilizzo di Desktop remoto con i ruoli di Azure](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="844b4-131">For more information, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
   4. <span data-ttu-id="844b4-132">Per creare il pacchetto, scegliere il collegamento **Pacchetto** .</span><span class="sxs-lookup"><span data-stu-id="844b4-132">To create the package, choose the **Package** link.</span></span>
      
      <span data-ttu-id="844b4-133">Esplora file mostra il percorso del file del pacchetto appena creato.</span><span class="sxs-lookup"><span data-stu-id="844b4-133">File Explorer shows the file location of the newly created package.</span></span> <span data-ttu-id="844b4-134">È possibile copiare questo percorso per usarlo dal [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="844b4-134">You can copy this location so that you can use it from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   5. <span data-ttu-id="844b4-135">Per pubblicare il pacchetto in un ambiente di distribuzione, è necessario usare questo percorso come percorso del pacchetto quando si crea un servizio cloud e si distribuisce il pacchetto in un ambiente con il [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="844b4-135">To publish this package to a deployment environment, you must use this location as the Package location when you create a cloud service and deploy this package to an environment with the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
3. <span data-ttu-id="844b4-136">(Facoltativo) Per annullare il processo di distribuzione, nel menu di scelta rapida per la voce nel registro attività, scegliere **Annulla e Rimuovi**.</span><span class="sxs-lookup"><span data-stu-id="844b4-136">(Optional) To cancel the deployment process, on the shortcut menu for the line item in the activity log, choose **Cancel and remove**.</span></span> <span data-ttu-id="844b4-137">Questo arresta il processo di distribuzione ed elimina l'ambiente di distribuzione da Azure.</span><span class="sxs-lookup"><span data-stu-id="844b4-137">This stops the deployment process and deletes the deployment environment from Azure.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="844b4-138">Per rimuovere questo ambiente di distribuzione dopo che è stato distribuito, è necessario usare il [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="844b4-138">To remove this deployment environment after it has been deployed, you must use the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   > 
   > 
4. <span data-ttu-id="844b4-139">(Facoltativo) Dopo l'avvio delle istanze del ruolo, Visual Studio mostrerà automaticamente l'ambiente di distribuzione nel nodo **Servizi cloud** in Esplora server.</span><span class="sxs-lookup"><span data-stu-id="844b4-139">(Optional) After your role instances have started, Visual Studio automatically shows the deployment environment in the **Cloud Services** node in Server Explorer.</span></span> <span data-ttu-id="844b4-140">Da qui è possibile visualizzare lo stato delle singole istanze del ruolo.</span><span class="sxs-lookup"><span data-stu-id="844b4-140">From here, you can see the status of the individual role instances.</span></span> <span data-ttu-id="844b4-141">Vedere [Gestione delle risorse di Azure con Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md). La figura seguente mostra le istanze del ruolo mentre si trovano ancora nello stato di inizializzazione:</span><span class="sxs-lookup"><span data-stu-id="844b4-141">See [Managing Azure resources with Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).The following illustration shows the role instances while they are still in the Initializing state:</span></span>
   
    ![VST_DeployComputeNode](./media/vs-azure-tools-publishing-a-cloud-service/IC744134.png)

## <a name="update-a-web-role-as-part-of-the-development-and-testing-cycle"></a><span data-ttu-id="844b4-143">Aggiornare un ruolo web come parte del ciclo di sviluppo e test</span><span class="sxs-lookup"><span data-stu-id="844b4-143">Update a Web Role as Part of the Development and Testing Cycle</span></span>
<span data-ttu-id="844b4-144">Se l'infrastruttura dell'applicazione back-end è stabile, ma i ruoli web necessitano di un aggiornamento più frequente, è possibile utilizzare Distribuzione Web per aggiornare solo un ruolo web nel progetto.</span><span class="sxs-lookup"><span data-stu-id="844b4-144">If your app’s backend infrastructure is stable, but the web roles need more frequent updating, you can use Web Deploy to update only a web role in your project.</span></span> <span data-ttu-id="844b4-145">Ciò è utile quando non si desidera ricompilare e ridistribuire i ruoli di lavoro back-end, o se si dispone di più ruoli web e si desidera aggiornare solo uno dei ruoli web.</span><span class="sxs-lookup"><span data-stu-id="844b4-145">This is handy when you don’t want to rebuild and redeploy the backend worker roles, or if you have multiple web roles and you want to update only one of the web roles.</span></span>

### <a name="requirements"></a><span data-ttu-id="844b4-146">Requisiti</span><span class="sxs-lookup"><span data-stu-id="844b4-146">Requirements</span></span>
<span data-ttu-id="844b4-147">Di seguito sono riportati i requisiti per utilizzare Distribuzione Web per aggiornare il ruolo web:</span><span class="sxs-lookup"><span data-stu-id="844b4-147">Here are the requirements to use Web Deploy to update your web role:</span></span>

* <span data-ttu-id="844b4-148">**Solo per scopi di sviluppo e test:** Le modifiche vengono apportate direttamente alla macchina virtuale in cui è in esecuzione il ruolo web.</span><span class="sxs-lookup"><span data-stu-id="844b4-148">**For development and testing purposes only:** The changes are made directly to the virtual machine where the web role is running.</span></span> <span data-ttu-id="844b4-149">Se è necessario riciclare questa macchina virtuale, le modifiche andranno perse perché il pacchetto originale pubblicato viene utilizzato per ricreare la macchina virtuale per il ruolo.</span><span class="sxs-lookup"><span data-stu-id="844b4-149">If this virtual machine has to be recycled, the changes are lost because the original package that you published is used to recreate the virtual machine for the role.</span></span> <span data-ttu-id="844b4-150">È necessario ripubblicare l'applicazione per ottenere le modifiche più recenti per il ruolo web.</span><span class="sxs-lookup"><span data-stu-id="844b4-150">You must republish your application to get the latest changes for the web role.</span></span>
* <span data-ttu-id="844b4-151">**Possono essere aggiornati solo i ruoli web:** I ruoli di lavoro non possono essere aggiornati.</span><span class="sxs-lookup"><span data-stu-id="844b4-151">**Only web roles can be updated:** Worker roles can’t be updated.</span></span> <span data-ttu-id="844b4-152">Inoltre, non è possibile aggiornare RoleEntryPoint in web role.cs.</span><span class="sxs-lookup"><span data-stu-id="844b4-152">In addition, you can’t update the RoleEntryPoint in web role.cs.</span></span>
* <span data-ttu-id="844b4-153">**Può supportare solo una singola istanza di un ruolo web:** Non è possibile avere più istanze di qualsiasi ruolo web nell'ambiente di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="844b4-153">**Can only support a single instance of a web role:** You can’t have multiple instances of any web role in your deployment environment.</span></span> <span data-ttu-id="844b4-154">Tuttavia, sono supportati più ruoli web con una sola istanza.</span><span class="sxs-lookup"><span data-stu-id="844b4-154">However, multiple web roles each with only one instance are supported.</span></span>
* <span data-ttu-id="844b4-155">**E’ necessario abilitare le connessioni desktop remoto:** Questa operazione è necessaria in modo che Distribuzione Web possa utilizzare l'utente e la password per connettersi alla macchina virtuale per distribuire le modifiche al server in cui è in esecuzione Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="844b4-155">**You must enable remote desktop connections:** This is required so that Web Deploy can use the user and password to connect to the virtual machine to deploy the changes to the server that’s running Internet Information Services (IIS).</span></span> <span data-ttu-id="844b4-156">Inoltre, potrebbe essere necessario connettersi alla macchina virtuale per aggiungere un certificato attendibile a IIS su questa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="844b4-156">In addition, you might need to connect to the virtual machine to add a trusted certificate to IIS on this virtual machine.</span></span> <span data-ttu-id="844b4-157">(In questo modo la connessione remota per IIS utilizzata da Distribuzione Web è protetta).</span><span class="sxs-lookup"><span data-stu-id="844b4-157">(This ensures that the remote connection for IIS that is used by Web Deploy is secure.)</span></span>

<span data-ttu-id="844b4-158">La procedura seguente presuppone che si stia utilizzando la procedura guidata **Pubblica applicazione di Azure** .</span><span class="sxs-lookup"><span data-stu-id="844b4-158">The following procedure assumes that you are using the **Publish Azure Application** wizard.</span></span>

### <a name="to-enable-web-deploy-when-you-publish-your-application"></a><span data-ttu-id="844b4-159">Per abilitare Distribuzione Web quando si pubblica l'applicazione</span><span class="sxs-lookup"><span data-stu-id="844b4-159">To Enable Web Deploy When You Publish Your Application</span></span>
1. <span data-ttu-id="844b4-160">Per abilitare **Abilita Distribuzione Web** per tutte la casella di controllo tutti i ruoli web, è innanzitutto necessario configurare le connessioni desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="844b4-160">To enable the **Enable Web Deploy** for all web roles check box, you must first configure remote desktop connections.</span></span> <span data-ttu-id="844b4-161">Selezionare **Abilita Desktop remoto per tutti i ruoli** e quindi specificare le credenziali usate per connettersi in remoto nella casella **Configurazione Desktop remoto** visualizzata.</span><span class="sxs-lookup"><span data-stu-id="844b4-161">Select **Enable Remote Desktop** for all roles and then supply the credentials that will be used to connect remotely in the **Remote Desktop Configuration** box that appears.</span></span> <span data-ttu-id="844b4-162">Vedere [Utilizzo di Desktop remoto con i ruoli di Azure](vs-azure-tools-remote-desktop-roles.md) per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="844b4-162">See [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md) for more information.</span></span>
2. <span data-ttu-id="844b4-163">Per abilitare Distribuzione Web per tutti i ruoli web nell'applicazione, selezionare **Abilita Distribuzione Web per tutti i ruoli web**.</span><span class="sxs-lookup"><span data-stu-id="844b4-163">To enable Web Deploy for all the web roles in your application, select **Enable Web Deploy for all web roles**.</span></span>
   
    <span data-ttu-id="844b4-164">Viene visualizzato un triangolo giallo.</span><span class="sxs-lookup"><span data-stu-id="844b4-164">A yellow warning triangle appears.</span></span> <span data-ttu-id="844b4-165">Distribuzione Web utilizza un certificato autofirmato non attendibile per impostazione predefinita, che non è consigliato per il caricamento dei dati riservati.</span><span class="sxs-lookup"><span data-stu-id="844b4-165">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="844b4-166">Se è necessario proteggere questo processo per i dati riservati, è possibile aggiungere un certificato SSL da utilizzare per le connessioni di Distribuzione Web.</span><span class="sxs-lookup"><span data-stu-id="844b4-166">If you need to secure this process for sensitive data, you can add a SSL certificate to be used for Web Deploy connections.</span></span> <span data-ttu-id="844b4-167">Questo certificato deve essere un certificato attendibile.</span><span class="sxs-lookup"><span data-stu-id="844b4-167">This certificate needs to be a trusted certificate.</span></span> <span data-ttu-id="844b4-168">Per informazioni su come eseguire questa operazione, vedere la sezione **Per proteggere Distribuzione Web** più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="844b4-168">For information about how to do this, see the section **To Make Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="844b4-169">Scegliere **Avanti** per mostrare la schermata **Riepilogo** e quindi scegliere **Pubblica** per distribuire il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="844b4-169">Choose **Next** to show the **Summary** screen, and then choose **Publish** to deploy the cloud service.</span></span>
   
    <span data-ttu-id="844b4-170">Il servizio cloud viene pubblicato.</span><span class="sxs-lookup"><span data-stu-id="844b4-170">The cloud service is published.</span></span> <span data-ttu-id="844b4-171">La macchina virtuale creata dispone di connessioni remote abilitate per IIS in modo che Distribuzione Web possa essere utilizzato per aggiornare i ruoli web senza ripubblicarli.</span><span class="sxs-lookup"><span data-stu-id="844b4-171">The virtual machine that is created has remote connections enabled for IIS so that Web Deploy can be used to update your web roles without republishing them.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="844b4-172">Se si dispone di più di un'istanza configurata per un ruolo web, viene visualizzato un messaggio di avviso che informa che ogni ruolo web sarà limitato a una sola istanza nel pacchetto creato per pubblicare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="844b4-172">If you have more than one instance configured for a web role, a warning message appears, stating that each web role will be limited to one instance only in the package that’s created to publish your application.</span></span> <span data-ttu-id="844b4-173">Selezionare **OK** per continuare.</span><span class="sxs-lookup"><span data-stu-id="844b4-173">Select **OK** to continue.</span></span> <span data-ttu-id="844b4-174">Come indicato nella sezione Requisiti, è possibile disporre di più di un ruolo web ma di solo un'istanza di ogni ruolo.</span><span class="sxs-lookup"><span data-stu-id="844b4-174">As stated in the Requirements section, you can have more than one web role but only one instance of each role.</span></span>
   > 
   > 

### <a name="to-update-your-web-role-by-using-web-deploy"></a><span data-ttu-id="844b4-175">Per aggiornare il ruolo Web tramite Distribuzione Web</span><span class="sxs-lookup"><span data-stu-id="844b4-175">To Update Your Web Role by Using Web Deploy</span></span>
1. <span data-ttu-id="844b4-176">Per utilizzare Distribuzione Web, apportare modifiche al codice del progetto per uno dei ruoli web in Visual Studio che si desidera pubblicare, quindi fare doppio clic su questo nodo del progetto nella soluzione e scegliere **Pubblica**.</span><span class="sxs-lookup"><span data-stu-id="844b4-176">To use Web Deploy, make code changes to the project for any of your web roles in Visual Studio that you want to publish, and then right-click this project node in your solution and point to **Publish**.</span></span> <span data-ttu-id="844b4-177">La finestra di dialogo **Pubblica sito Web** viene visualizzata.</span><span class="sxs-lookup"><span data-stu-id="844b4-177">The **Publish Web** dialog box appears.</span></span>
2. <span data-ttu-id="844b4-178">(Facoltativo) Se è stato aggiunto un certificato SSL attendibile da utilizzare per le connessioni remote per IIS, è possibile deselezionare la casella di controllo **Consenti certificato non attendibile** .</span><span class="sxs-lookup"><span data-stu-id="844b4-178">(Optional) If you added a trusted SSL certificate to use for remote connections for IIS, you can clear the **Allow untrusted certificate** check box.</span></span> <span data-ttu-id="844b4-179">Per informazioni su come aggiungere un certificato per rendere Distribuzione Web sicuro, vedere la sezione **Per proteggere Distribuzione Web** più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="844b4-179">For information about how to add a certificate to make Web Deploy secure, see the section **To Make Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="844b4-180">Per utilizzare Distribuzione Web, il meccanismo di pubblicazione richiede il nome utente e la password impostati per la connessione desktop remoto alla prima pubblicazione del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="844b4-180">To use Web Deploy, the publish mechanism needs the user name and password that you set up for your remote desktop connection when you first published the package.</span></span>
   
   1. <span data-ttu-id="844b4-181">In **Nome utente**, immettere il nome utente.</span><span class="sxs-lookup"><span data-stu-id="844b4-181">In **User name**, enter the user name.</span></span>
   2. <span data-ttu-id="844b4-182">In **Password**, immettere la password.</span><span class="sxs-lookup"><span data-stu-id="844b4-182">In **Password**, enter the password.</span></span>
   3. <span data-ttu-id="844b4-183">(Facoltativo) Se si desidera salvare la password in questo profilo, scegliere **Salva password**.</span><span class="sxs-lookup"><span data-stu-id="844b4-183">(Optional) If you want to save this password in this profile, choose **Save password**.</span></span>
4. <span data-ttu-id="844b4-184">Per pubblicare le modifiche al proprio ruolo web, scegliere **Pubblica**.</span><span class="sxs-lookup"><span data-stu-id="844b4-184">To publish the changes to your web role, choose **Publish**.</span></span>
   
    <span data-ttu-id="844b4-185">La riga di stato mostra **Pubblicazione avviata**.</span><span class="sxs-lookup"><span data-stu-id="844b4-185">The status line displays **Publish started**.</span></span> <span data-ttu-id="844b4-186">Quando la pubblicazione è stata completata, lo stato mostra **Pubblicazione completata** .</span><span class="sxs-lookup"><span data-stu-id="844b4-186">When the publishing has completed, **Publish succeeded** appears.</span></span> <span data-ttu-id="844b4-187">Le modifiche a questo punto sono state distribuite al ruolo web nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="844b4-187">The changes have now been deployed to the web role on your virtual machine.</span></span> <span data-ttu-id="844b4-188">Ora è possibile avviare l'applicazione Azure nell'ambiente di Azure per verificare le modifiche apportate.</span><span class="sxs-lookup"><span data-stu-id="844b4-188">Now you can start your Azure application in the Azure environment to test your changes.</span></span>

### <a name="to-make-web-deploy-secure"></a><span data-ttu-id="844b4-189">Per proteggere Distribuzione Web</span><span class="sxs-lookup"><span data-stu-id="844b4-189">To Make Web Deploy Secure</span></span>
1. <span data-ttu-id="844b4-190">Distribuzione Web utilizza un certificato autofirmato non attendibile per impostazione predefinita, che non è consigliato per il caricamento dei dati riservati.</span><span class="sxs-lookup"><span data-stu-id="844b4-190">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="844b4-191">Se è necessario proteggere questo processo per i dati riservati, è possibile aggiungere un certificato SSL da utilizzare per le connessioni di Distribuzione Web.</span><span class="sxs-lookup"><span data-stu-id="844b4-191">If you need to secure this process for sensitive data, you can add a SSL certificate to be used for Web Deploy connections.</span></span> <span data-ttu-id="844b4-192">Questo certificato deve essere un certificato attendibile, ottenuto da un'autorità di certificazione (CA).</span><span class="sxs-lookup"><span data-stu-id="844b4-192">This certificate needs to be a trusted certificate, which you obtain from a certificate authority (CA).</span></span>
   
    <span data-ttu-id="844b4-193">Per proteggere Distribuzione Web per ogni macchina virtuale per ognuno dei ruoli Web, è necessario caricare il certificato attendibile che si vuole usare per Distribuzione Web nel [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="844b4-193">To make Web Deploy secure for each virtual machine for each of your web roles, you must upload the trusted certificate that you want to use for web deploy to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="844b4-194">Ciò garantisce che il certificato venga aggiunto alla macchina virtuale creata per il ruolo web quando si pubblica l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="844b4-194">This makes sure that the certificate is added to the virtual machine that is created for the web role when you publish your application.</span></span>
2. <span data-ttu-id="844b4-195">Per aggiungere un certificato SSL attendibile a IIS da utilizzare per le connessioni remote, attenersi alla seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="844b4-195">To add a trusted SSL certificate to IIS to use for remote connections, follow these steps:</span></span>
   
   1. <span data-ttu-id="844b4-196">Per connettersi alla macchina virtuale che esegue il ruolo Web, selezionare l'istanza del ruolo Web in **Cloud Explorer** o **Esplora server**, quindi scegliere il comando **Connessione tramite desktop remoto**.</span><span class="sxs-lookup"><span data-stu-id="844b4-196">To connect to the virtual machine that is running the web role, select the instance of the web role in **Cloud Explorer** or **Server Explorer**, and then choose the **Connect using Remote Desktop** command.</span></span> <span data-ttu-id="844b4-197">Per la procedura dettagliata su come connettersi alla macchina virtuale, vedere [Utilizzo di Desktop remoto con i ruoli di Azure](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="844b4-197">For detailed steps about how to connect to the virtual machine, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
      
      <span data-ttu-id="844b4-198">Il browser richiederà di scaricare un file RDP.</span><span class="sxs-lookup"><span data-stu-id="844b4-198">Your browser will prompt you to download an .RDP file.</span></span>
   2. <span data-ttu-id="844b4-199">Per aggiungere un certificato SSL, aprire il servizio di gestione in Gestione IIS.</span><span class="sxs-lookup"><span data-stu-id="844b4-199">To add an SSL certificate, open the management service in IIS Manager.</span></span> <span data-ttu-id="844b4-200">In Gestione IIS abilitare SSL aprendo il collegamento **Binding** nel riquadro **Azione**.</span><span class="sxs-lookup"><span data-stu-id="844b4-200">In IIS Manager, enable SSL by opening the **Bindings** link in the **Action** pane.</span></span> <span data-ttu-id="844b4-201">La finestra di dialogo **Aggiungi binding del sito** verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="844b4-201">The **Add Site Binding** dialog box appears.</span></span> <span data-ttu-id="844b4-202">Scegliere **Aggiungi**, quindi scegliere HTTPS nell'elenco a discesa **Tipo**.</span><span class="sxs-lookup"><span data-stu-id="844b4-202">Choose **Add**, and then choose HTTPS in the **Type** dropdown list.</span></span> <span data-ttu-id="844b4-203">Nell'elenco **Certificato SSL** scegliere il certificato SSL firmato da una CA e caricato nel [portale di Azure classico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="844b4-203">In the **SSL certificate** list, choose the SSL certificate that you had signed by a CA and that you uploaded to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="844b4-204">Per altre informazioni, vedere [Configurare le impostazioni di connessione per il servizio di gestione](http://go.microsoft.com/fwlink/?LinkId=215824).</span><span class="sxs-lookup"><span data-stu-id="844b4-204">For more information, see [Configure Connection Settings for the Management Service](http://go.microsoft.com/fwlink/?LinkId=215824).</span></span>
      
      > [!NOTE]
      > <span data-ttu-id="844b4-205">Se si aggiunge un certificato SSL attendibile, il triangolo giallo di avviso non viene visualizzato nella **Pubblicazione guidata**.</span><span class="sxs-lookup"><span data-stu-id="844b4-205">If you add a trusted SSL certificate, the yellow warning triangle no longer appears in the **Publish Wizard**.</span></span>
      > 
      > 

## <a name="include-files-in-the-service-package"></a><span data-ttu-id="844b4-206">Includere file nel pacchetto del servizio</span><span class="sxs-lookup"><span data-stu-id="844b4-206">Include Files in the Service Package</span></span>
<span data-ttu-id="844b4-207">Potrebbe essere necessario includere file specifici nel pacchetto di servizio in modo che siano disponibili nella macchina virtuale creata per un ruolo.</span><span class="sxs-lookup"><span data-stu-id="844b4-207">You might need to include specific files in your service package so that they are available on the virtual machine that is created for a role.</span></span> <span data-ttu-id="844b4-208">Ad esempio, si potrebbe desiderare aggiungere un file con estensione exe o msi utilizzato da uno script di avvio per il pacchetto del servizio.</span><span class="sxs-lookup"><span data-stu-id="844b4-208">For example, you might want to add an .exe or an .msi file that is used by a startup script to your service package.</span></span> <span data-ttu-id="844b4-209">Oppure potrebbe essere necessario aggiungere un assembly richiesto da un progetto di ruolo web o ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="844b4-209">Or you might need to add an assembly that a web role or worker role project requires.</span></span> <span data-ttu-id="844b4-210">Per includere i file essi devono essere aggiunti alla soluzione per l'applicazione Azure.</span><span class="sxs-lookup"><span data-stu-id="844b4-210">To include files they must be added to the solution for your Azure application.</span></span>

### <a name="to-include-files-in-the-service-package"></a><span data-ttu-id="844b4-211">Per includere file nel pacchetto del servizio</span><span class="sxs-lookup"><span data-stu-id="844b4-211">To include files in the service package</span></span>
1. <span data-ttu-id="844b4-212">Per aggiungere un assembly a un pacchetto del servizio, utilizzare la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="844b4-212">To add an assembly to a service package, use the following steps:</span></span>
   
   1. <span data-ttu-id="844b4-213">In **Esplora soluzione** aprire il nodo del progetto per il progetto in cui manca l'assembly di riferimento.</span><span class="sxs-lookup"><span data-stu-id="844b4-213">In **Solution Explorer** open the project node for the project that is missing the referenced assembly.</span></span>
   2. <span data-ttu-id="844b4-214">Per aggiungere l'assembly al progetto, aprire il menu di scelta rapida per la cartella **Riferimenti** e quindi scegliere **Aggiungi riferimento**.</span><span class="sxs-lookup"><span data-stu-id="844b4-214">To add the assembly to the project, open the shortcut menu for the **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="844b4-215">Viene visualizzata la finestra di dialogo Aggiungi riferimento.</span><span class="sxs-lookup"><span data-stu-id="844b4-215">The Add Reference dialog appears.</span></span>
   3. <span data-ttu-id="844b4-216">Scegliere il riferimento che si desidera aggiungere e quindi scegliere il pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="844b4-216">Choose the reference that you want to add and then choose the **OK** button.</span></span>
      
      <span data-ttu-id="844b4-217">Il riferimento viene aggiunto all'elenco sotto la cartella **Riferimenti** .</span><span class="sxs-lookup"><span data-stu-id="844b4-217">The reference is added to the list under the **References** folder.</span></span>
   4. <span data-ttu-id="844b4-218">Aprire il menu di scelta rapida per l'assembly aggiunto e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="844b4-218">Open the shortcut menu for the assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="844b4-219">La finestra **Proprietà** verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="844b4-219">The **Properties** window appears.</span></span>
      
      <span data-ttu-id="844b4-220">Per includere questo assembly nel pacchetto del servizio, nell'elenco **Copia locale** scegliere **True**.</span><span class="sxs-lookup"><span data-stu-id="844b4-220">To include this assembly in the service package, in the **Copy Local list** choose **True**.</span></span>
2. <span data-ttu-id="844b4-221">In **Esplora soluzione** aprire il nodo del progetto per il progetto in cui manca l'assembly di riferimento.</span><span class="sxs-lookup"><span data-stu-id="844b4-221">In **Solution Explorer** open the project node for the project that is missing the referenced assembly.</span></span>
3. <span data-ttu-id="844b4-222">Per aggiungere l'assembly al progetto, aprire il menu di scelta rapida per la cartella **Riferimenti** e quindi scegliere **Aggiungi riferimento**.</span><span class="sxs-lookup"><span data-stu-id="844b4-222">To add the assembly to the project, open the shortcut menu for the **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="844b4-223">Viene visualizzata la finestra di dialogo **Aggiungi riferimento** .</span><span class="sxs-lookup"><span data-stu-id="844b4-223">The **Add Reference** dialog appears.</span></span>
4. <span data-ttu-id="844b4-224">Scegliere il riferimento che si desidera aggiungere e quindi scegliere il pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="844b4-224">Choose the reference that you want to add and then choose the **OK** button.</span></span>
   
    <span data-ttu-id="844b4-225">Il riferimento viene aggiunto all'elenco sotto la cartella **Riferimenti** .</span><span class="sxs-lookup"><span data-stu-id="844b4-225">The reference is added to the list under the **References** folder.</span></span>
5. <span data-ttu-id="844b4-226">Aprire il menu di scelta rapida per l'assembly aggiunto e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="844b4-226">Open the shortcut menu for the assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="844b4-227">La finestra Proprietà verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="844b4-227">The Properties window appears.</span></span>
6. <span data-ttu-id="844b4-228">Per includere questo assembly nel pacchetto del servizio, nell'elenco **Copia locale** scegliere **True**.</span><span class="sxs-lookup"><span data-stu-id="844b4-228">To include this assembly in the service package, in the **Copy Local** list, choose **True**.</span></span>
7. <span data-ttu-id="844b4-229">Per includere file nel pacchetto del servizio che sono stati aggiunti al progetto del ruolo web, aprire il menu di scelta rapida per il file e quindi scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="844b4-229">To include files in the service package that have been added to your web role project, open the shortcut menu for the file, and then choose **Properties**.</span></span> <span data-ttu-id="844b4-230">Dalla finestra **Proprietà** scegliere **Contenuto** nella casella di riepilogo **Azione di compilazione**.</span><span class="sxs-lookup"><span data-stu-id="844b4-230">From the **Properties** window, choose **Content** from the **Build Action** list box.</span></span>
8. <span data-ttu-id="844b4-231">Per includere file nel pacchetto del servizio che sono stati aggiunti al progetto del ruolo di lavoro, aprire il menu di scelta rapida per il file e quindi scegliere **proprietà**.</span><span class="sxs-lookup"><span data-stu-id="844b4-231">To include files in the service package that have been added to your worker role project, open the shortcut menu for the file, and then choose **Properties**.</span></span> <span data-ttu-id="844b4-232">Dalla finestra **Proprietà** scegliere **Copia se più recente** nella casella di riepilogo **Copia nella directory di output**.</span><span class="sxs-lookup"><span data-stu-id="844b4-232">From the **Properties** window, choose **Copy if newer** from the **Copy to output directory** list box.</span></span>

## <a name="next-steps"></a><span data-ttu-id="844b4-233">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="844b4-233">Next steps</span></span>
<span data-ttu-id="844b4-234">Per altre informazioni sulla pubblicazione in Azure da Visual Studio, vedere [Procedura guidata Pubblica l'applicazione Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="844b4-234">To learn more about publishing to Azure from Visual Studio, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

