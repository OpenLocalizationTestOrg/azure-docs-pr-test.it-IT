---
title: aaaServer log nel Database di Azure per PostgreSQL | Documenti Microsoft
description: Genera registri errori e log di query nel database di Azure per PostgreSQL.
services: postgresql
author: SaloniSonpal
ms.author: salonis
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 22575f3882ce67fe640952f0a8dbfd8dcb4b16fc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="server-logs-in-azure-database-for-postgresql"></a><span data-ttu-id="72a5f-103">Registri server nel database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="72a5f-103">Server Logs in Azure Database for PostgreSQL</span></span> 
<span data-ttu-id="72a5f-104">Il database di Azure per PostgreSQL genera log di query e registri errori.</span><span class="sxs-lookup"><span data-stu-id="72a5f-104">Azure Database for PostgreSQL generates query and error logs.</span></span> <span data-ttu-id="72a5f-105">Tuttavia, i registri tootransaction di accesso non è supportata.</span><span class="sxs-lookup"><span data-stu-id="72a5f-105">However, access tootransaction logs is not supported.</span></span> <span data-ttu-id="72a5f-106">Questi registri possono essere tooidentify utilizzato, risolvere i problemi e ripristinare gli errori di configurazione e delle prestazioni non ottimali.</span><span class="sxs-lookup"><span data-stu-id="72a5f-106">These logs can be used tooidentify, troubleshoot, and repair configuration errors and sub-optimal performance.</span></span> <span data-ttu-id="72a5f-107">Per altre informazioni, vedere [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html) (Segnalazione e registrazione degli errori).</span><span class="sxs-lookup"><span data-stu-id="72a5f-107">For more information, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span></span>

## <a name="access-server-logs"></a><span data-ttu-id="72a5f-108">Accesso ai registri server</span><span class="sxs-lookup"><span data-stu-id="72a5f-108">Access server logs</span></span>
<span data-ttu-id="72a5f-109">È possibile elencare e scaricare i log degli errori di server PostgreSQL Azure tramite il portale di Azure, hello [CLI di Azure](howto-configure-server-logs-using-cli.md) e API REST di Azure.</span><span class="sxs-lookup"><span data-stu-id="72a5f-109">You can list and download Azure PostgreSQL server error logs using hello Azure Portal, [Azure CLI](howto-configure-server-logs-using-cli.md) and Azure REST APIs.</span></span>

## <a name="log-retention"></a><span data-ttu-id="72a5f-110">Conservazione dei log</span><span class="sxs-lookup"><span data-stu-id="72a5f-110">Log retention</span></span>
<span data-ttu-id="72a5f-111">È possibile impostare il periodo di memorizzazione hello per i log di sistema usando il **log\_conservazione\_periodo** parametro associato al server.</span><span class="sxs-lookup"><span data-stu-id="72a5f-111">You can set hello retention period for system logs using the **log\_retention\_period** parameter associated with your server.</span></span> <span data-ttu-id="72a5f-112">unità di Hello per questo parametro è giorni (necessario tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="72a5f-112">hello unit for this parameter is days (need tooconfirm).</span></span> <span data-ttu-id="72a5f-113">valore predefinito di Hello è tre giorni.</span><span class="sxs-lookup"><span data-stu-id="72a5f-113">hello default value is three days.</span></span> <span data-ttu-id="72a5f-114">valore massimo Hello è 7 giorni.</span><span class="sxs-lookup"><span data-stu-id="72a5f-114">hello maximum value is 7 days.</span></span> <span data-ttu-id="72a5f-115">Si noti che il server deve disporre di file di log sufficiente spazio di archiviazione allocato toocontain hello mantenuto.</span><span class="sxs-lookup"><span data-stu-id="72a5f-115">Note that your server must have enough allocated storage toocontain hello retained log files.</span></span>
<span data-ttu-id="72a5f-116">file di log Hello ruoterà ogni 1 ora o le dimensioni di 100MB, verifica per primo.</span><span class="sxs-lookup"><span data-stu-id="72a5f-116">hello log files will rotate every 1 hour or 100MB size, whichever comes first.</span></span>

## <a name="configure-logging-for-azure-postgresql-server"></a><span data-ttu-id="72a5f-117">Configurare la registrazione per il server PostgreSQL di Azure</span><span class="sxs-lookup"><span data-stu-id="72a5f-117">Configure logging for Azure PostgreSQL server</span></span>
<span data-ttu-id="72a5f-118">È possibile abilitare la registrazione delle query e degli errori per il server.</span><span class="sxs-lookup"><span data-stu-id="72a5f-118">You can enable query logging and error logging for your server.</span></span> <span data-ttu-id="72a5f-119">I registri errori possono contenere informazioni su checkpoint, connessioni e vuoto automatico.</span><span class="sxs-lookup"><span data-stu-id="72a5f-119">Error logs can contain auto-vacuum, connection and checkpoints information.</span></span>

<span data-ttu-id="72a5f-120">È possibile abilitare la registrazione delle query per l'istanza del database PostgreSQL impostando due parametri del server: log\_statement (istruzione log) e log\_min\_duration\_statement (istruzione durata registrazione min).</span><span class="sxs-lookup"><span data-stu-id="72a5f-120">You can enable query logging for your PostgreSQL DB instance by setting two server parameters: log\_statement and log\_min\_duration\_statement.</span></span>

<span data-ttu-id="72a5f-121">Hello **log\_istruzione** parametro consente di controllare quali istruzioni SQL vengono registrate.</span><span class="sxs-lookup"><span data-stu-id="72a5f-121">hello **log\_statement** parameter controls which SQL statements are logged.</span></span> <span data-ttu-id="72a5f-122">È consigliabile impostare questo parametro troppo***tutti*** toolog tutte le istruzioni; il valore predefinito di hello è none (necessario tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="72a5f-122">We recommend setting this parameter too***all*** toolog all statements; hello default value is none (need tooconfirm).</span></span>

<span data-ttu-id="72a5f-123">Hello **log\_min\_durata\_istruzione** parametro imposta il limite di hello in millisecondi, di un'istruzione di toobe registrati.</span><span class="sxs-lookup"><span data-stu-id="72a5f-123">hello **log\_min\_duration\_statement** parameter sets hello limit in milliseconds of a statement toobe logged.</span></span> <span data-ttu-id="72a5f-124">Vengono registrate tutte le istruzioni SQL eseguite più di impostazione del parametro hello.</span><span class="sxs-lookup"><span data-stu-id="72a5f-124">All SQL statements that run longer than hello parameter setting are logged.</span></span> <span data-ttu-id="72a5f-125">Questo parametro è disabilitato e impostato toominus 1 (-1) per impostazione predefinita (necessario tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="72a5f-125">This parameter is disabled and set toominus 1 (-1) by default (need tooconfirm).</span></span> <span data-ttu-id="72a5f-126">L'attivazione di questo parametro può essere utile per rilevare query non ottimizzate nelle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="72a5f-126">Enabling this parameter can be helpful in tracking down unoptimized queries in your applications.</span></span>

<span data-ttu-id="72a5f-127">Hello **log\_min\_messaggi** consente di determinare quali livelli di messaggio vengono scritti i log del server toohello toocontrol.</span><span class="sxs-lookup"><span data-stu-id="72a5f-127">hello **log\_min\_messages** allows you toocontrol which message levels are written toohello server log.</span></span> <span data-ttu-id="72a5f-128">valore predefinito di Hello è di avviso.</span><span class="sxs-lookup"><span data-stu-id="72a5f-128">hello default is WARNING.</span></span> <span data-ttu-id="72a5f-129">(necessario tooconfirm)</span><span class="sxs-lookup"><span data-stu-id="72a5f-129">(need tooconfirm)</span></span>

<span data-ttu-id="72a5f-130">Per altre informazioni su queste impostazioni, vedere la documentazione [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html) (segnalazione e registrazione degli errori).</span><span class="sxs-lookup"><span data-stu-id="72a5f-130">For more information on these settings, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html) documentation.</span></span> <span data-ttu-id="72a5f-131">Per una configurazione particolare del database di Azure per i parametri del server PostgreSQL, vedere [Server Logs in Azure Database for PostgreSQL](concepts-server-logs.md) (Registri server nel database di Azure per PostgreSQL).</span><span class="sxs-lookup"><span data-stu-id="72a5f-131">For particularly configuring Azure Database for PostgreSQL server parameters, see [Server Logs in Azure Database for PostgreSQL](concepts-server-logs.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="72a5f-132">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="72a5f-132">Next steps</span></span>
- <span data-ttu-id="72a5f-133">i log di tooaccess tramite l'interfaccia della riga di comando CLI di Azure, vedere [accesso e configurare i log di server tramite CLI di Azure](howto-configure-server-logs-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="72a5f-133">tooaccess logs using Azure CLI command line interface, see [Configure and access server logs using Azure CLI](howto-configure-server-logs-using-cli.md)</span></span>
- <span data-ttu-id="72a5f-134">Per altre informazioni sui parametri del server, vedere [Customize server configuration parameters using Azure CLI](howto-configure-server-parameters-using-cli.md) (Personalizzare i parametri di configurazione del server tramite l'interfaccia della riga di comando di Azure).</span><span class="sxs-lookup"><span data-stu-id="72a5f-134">For more information on server parameters, see [Customize server configuration parameters using Azure CLI](howto-configure-server-parameters-using-cli.md).</span></span>