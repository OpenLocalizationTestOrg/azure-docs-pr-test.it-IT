---
title: Come ridimensionare Cache Redis di Azure | Microsoft Docs
description: Informazioni su come ridimensionare le istanze di Cache Redis di Azure
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 350db214-3b7c-4877-bd43-fef6df2db96c
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 04/11/2017
ms.author: sdanie
ms.openlocfilehash: 91b3580491a1e3504a3891b66606a9bd18c0638f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-scale-azure-redis-cache"></a><span data-ttu-id="ee680-103">Come ridimensionare Cache Redis di Azure</span><span class="sxs-lookup"><span data-stu-id="ee680-103">How to Scale Azure Redis Cache</span></span>
<span data-ttu-id="ee680-104">Cache Redis di Azure dispone di diverse offerte di cache che offrono flessibilità nella scelta delle funzionalità e delle dimensioni della cache.</span><span class="sxs-lookup"><span data-stu-id="ee680-104">Azure Redis Cache has different cache offerings, which provide flexibility in the choice of cache size and features.</span></span> <span data-ttu-id="ee680-105">Se i requisiti dell'applicazione cambiano dopo la creazione di una cache, è possibile aumentare o ridurre le dimensioni e il piano tariffario della cache.</span><span class="sxs-lookup"><span data-stu-id="ee680-105">After a cache is created, you can scale the size and the pricing tier of the cache if the requirements of your application change.</span></span> <span data-ttu-id="ee680-106">Questo articolo illustra come ridimensionare la cache nel portale di Azure e usando strumenti come Azure PowerShell e l'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="ee680-106">This article shows you how to scale your cache in both the Azure portal and using tools such as Azure PowerShell and Azure CLI.</span></span>

## <a name="when-to-scale"></a><span data-ttu-id="ee680-107">Quando è necessario ridimensionare la cache</span><span class="sxs-lookup"><span data-stu-id="ee680-107">When to scale</span></span>
<span data-ttu-id="ee680-108">È possibile usare le funzionalità di [monitoraggio](cache-how-to-monitor.md) di Cache Redis di Azure per monitorare l'integrità e le prestazioni della cache e per determinare quando è necessario ridimensionarla.</span><span class="sxs-lookup"><span data-stu-id="ee680-108">You can use the [monitoring](cache-how-to-monitor.md) features of Azure Redis Cache to monitor the health and performance of your cache and help determine when to scale the cache.</span></span> 

<span data-ttu-id="ee680-109">Per determinare se è necessario un ridimensionamento è possibile monitorare le metriche seguenti.</span><span class="sxs-lookup"><span data-stu-id="ee680-109">You can monitor the following metrics to help determine if you need to scale.</span></span>

* <span data-ttu-id="ee680-110">Carico server Redis</span><span class="sxs-lookup"><span data-stu-id="ee680-110">Redis Server Load</span></span>
* <span data-ttu-id="ee680-111">Utilizzo della memoria</span><span class="sxs-lookup"><span data-stu-id="ee680-111">Memory Usage</span></span>
* <span data-ttu-id="ee680-112">Larghezza di banda della rete</span><span class="sxs-lookup"><span data-stu-id="ee680-112">Network Bandwidth</span></span>
* <span data-ttu-id="ee680-113">Utilizzo di CPU</span><span class="sxs-lookup"><span data-stu-id="ee680-113">CPU Usage</span></span>

<span data-ttu-id="ee680-114">Se si determina che la cache non soddisfa più i requisiti dell'applicazione, è possibile ridimensionare la cache in base a un piano tariffario superiore o inferiore che sia adatto all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ee680-114">If you determine that your cache is no longer meeting your application's requirements, you can scale to a larger or smaller cache pricing tier that is right for your application.</span></span> <span data-ttu-id="ee680-115">Per altre informazioni su come determinare il tipo di piano tariffario della cache appropriato, vedere l'articolo relativo all' [offerta e alle dimensioni di Cache Redis da usare](cache-faq.md#what-redis-cache-offering-and-size-should-i-use).</span><span class="sxs-lookup"><span data-stu-id="ee680-115">For more information on determining which cache pricing tier to use, see [What Redis Cache offering and size should I use](cache-faq.md#what-redis-cache-offering-and-size-should-i-use).</span></span>

## <a name="scale-a-cache"></a><span data-ttu-id="ee680-116">Ridimensionare una cache</span><span class="sxs-lookup"><span data-stu-id="ee680-116">Scale a cache</span></span>
<span data-ttu-id="ee680-117">Per ridimensionare la cache, [accedere alla cache](cache-configure.md#configure-redis-cache-settings) nel [portale di Azure](https://portal.azure.com) e fare clic su **Ridimensionare** nel **menu Risorsa**.</span><span class="sxs-lookup"><span data-stu-id="ee680-117">To scale your cache, [browse to the cache](cache-configure.md#configure-redis-cache-settings) in the [Azure portal](https://portal.azure.com) and click **Scale** from the **Resource menu**.</span></span>

![Scalabilità](./media/cache-how-to-scale/redis-cache-scale-menu.png)

<span data-ttu-id="ee680-119">Selezionare il piano tariffario desiderato nel pannello **Seleziona piano tariffario** e fare clic su **Seleziona**.</span><span class="sxs-lookup"><span data-stu-id="ee680-119">Select the desired pricing tier from the **Select pricing tier** blade and click **Select**.</span></span>

![Pricing tier][redis-cache-pricing-tier-blade]


<span data-ttu-id="ee680-121">Il passaggio a un piano tariffario diverso è soggetto alle restrizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="ee680-121">You can scale to a different pricing tier with the following restrictions:</span></span>

* <span data-ttu-id="ee680-122">Non è possibile passare da un piano tariffario superiore a uno inferiore.</span><span class="sxs-lookup"><span data-stu-id="ee680-122">You can't scale from a higher pricing tier to a lower pricing tier.</span></span>
  * <span data-ttu-id="ee680-123">Non è possibile passare da una cache **Premium** a una cache **Standard** o **Basic**.</span><span class="sxs-lookup"><span data-stu-id="ee680-123">You can't scale from a **Premium** cache down to a **Standard** or a **Basic** cache.</span></span>
  * <span data-ttu-id="ee680-124">Non è possibile passare da una cache **Standard** a una cache **Basic**.</span><span class="sxs-lookup"><span data-stu-id="ee680-124">You can't scale from a **Standard** cache down to a **Basic** cache.</span></span>
* <span data-ttu-id="ee680-125">È possibile passare da una cache **Basic** a una cache **Standard**, ma non è possibile modificare contemporaneamente la dimensione.</span><span class="sxs-lookup"><span data-stu-id="ee680-125">You can scale from a **Basic** cache to a **Standard** cache but you can't change the size at the same time.</span></span> <span data-ttu-id="ee680-126">Se occorre una dimensione diversa, è possibile eseguire successivamente un'operazione di ridimensionamento in base ai propri requisiti.</span><span class="sxs-lookup"><span data-stu-id="ee680-126">If you need a different size, you can do a subsequent scaling operation to the desired size.</span></span>
* <span data-ttu-id="ee680-127">Non è possibile passare direttamente da una cache **Basic** a una cache **Premium**.</span><span class="sxs-lookup"><span data-stu-id="ee680-127">You can't scale from a **Basic** cache directly to a **Premium** cache.</span></span> <span data-ttu-id="ee680-128">È necessario passare da **Basic** a **Standard** con una prima operazione di ridimensionamento e quindi da **Standard** a **Premium** con una successiva operazione.</span><span class="sxs-lookup"><span data-stu-id="ee680-128">You must scale from **Basic** to **Standard** in one scaling operation, and then from **Standard** to **Premium** in a subsequent scaling operation.</span></span>
* <span data-ttu-id="ee680-129">Non è possibile passare da una dimensione maggiore alla dimensione **C0 (250 MB)** .</span><span class="sxs-lookup"><span data-stu-id="ee680-129">You can't scale from a larger size down to the **C0 (250 MB)** size.</span></span>
 
<span data-ttu-id="ee680-130">Mentre è in corso il ridimensionamento della cache in base al nuovo piano tariffario, nel pannello **Cache Redis** viene visualizzato lo stato **Ridimensionamento**.</span><span class="sxs-lookup"><span data-stu-id="ee680-130">While the cache is scaling to the new pricing tier, a **Scaling** status is displayed in the **Redis Cache** blade.</span></span>

![Ridimensionamento][redis-cache-scaling]

<span data-ttu-id="ee680-132">Al termine dell'operazione, lo stato passa da **Ridimensionamento** a **In esecuzione**.</span><span class="sxs-lookup"><span data-stu-id="ee680-132">When scaling is complete, the status changes from **Scaling** to **Running**.</span></span>

## <a name="how-to-automate-a-scaling-operation"></a><span data-ttu-id="ee680-133">Come automatizzare un'operazione di ridimensionamento</span><span class="sxs-lookup"><span data-stu-id="ee680-133">How to automate a scaling operation</span></span>
<span data-ttu-id="ee680-134">Oltre a usare il portale di Azure, per ridimensionare le istanze di Cache Redis di Azure è possibile usare i cmdlet di PowerShell, l'interfaccia della riga di comando di Azure e le librerie di gestione di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="ee680-134">In addition to scaling your cache instances in the Azure portal, you can scale using PowerShell cmdlets, Azure CLI, and by using the Microsoft Azure Management Libraries (MAML).</span></span> 

* [<span data-ttu-id="ee680-135">Ridimensionare la cache tramite PowerShell</span><span class="sxs-lookup"><span data-stu-id="ee680-135">Scale using PowerShell</span></span>](#scale-using-powershell)
* [<span data-ttu-id="ee680-136">Ridimensionare la cache tramite l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="ee680-136">Scale using Azure CLI</span></span>](#scale-using-azure-cli)
* [<span data-ttu-id="ee680-137">Ridimensionare la cache tramite le librerie di gestione di Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="ee680-137">Scale using MAML</span></span>](#scale-using-maml)

### <a name="scale-using-powershell"></a><span data-ttu-id="ee680-138">Ridimensionare la cache tramite PowerShell</span><span class="sxs-lookup"><span data-stu-id="ee680-138">Scale using PowerShell</span></span>
<span data-ttu-id="ee680-139">È possibile ridimensionare le istanze di Cache Redis di Azure con PowerShell usando il cmdlet [Set-AzureRmRedisCache](https://msdn.microsoft.com/library/azure/mt634518.aspx) quando le proprietà `Size`, `Sku` o `ShardCount` vengono modificate.</span><span class="sxs-lookup"><span data-stu-id="ee680-139">You can scale your Azure Redis Cache instances with PowerShell by using the [Set-AzureRmRedisCache](https://msdn.microsoft.com/library/azure/mt634518.aspx) cmdlet when the `Size`, `Sku`, or `ShardCount` properties are modified.</span></span> <span data-ttu-id="ee680-140">L'esempio seguente illustra come ridimensionare una cache denominata `myCache` in una cache di 2,5 GB.</span><span class="sxs-lookup"><span data-stu-id="ee680-140">The following example shows how to scale a cache named `myCache` to a 2.5 GB cache.</span></span> 

    Set-AzureRmRedisCache -ResourceGroupName myGroup -Name myCache -Size 2.5GB

<span data-ttu-id="ee680-141">Per altre informazioni sul ridimensionamento con PowerShell, vedere le istruzioni per [ridimensionare una cache Redis mediante PowerShell](cache-howto-manage-redis-cache-powershell.md#scale).</span><span class="sxs-lookup"><span data-stu-id="ee680-141">For more information on scaling with PowerShell, see [To scale a Redis cache using Powershell](cache-howto-manage-redis-cache-powershell.md#scale).</span></span>

### <a name="scale-using-azure-cli"></a><span data-ttu-id="ee680-142">Ridimensionare la cache tramite l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="ee680-142">Scale using Azure CLI</span></span>
<span data-ttu-id="ee680-143">Per ridimensionare le istanze di Cache Redis di Azure con l'interfaccia della riga di comando di Azure, chiamare il comando `azure rediscache set` e passare le modifiche di configurazione desiderate che includono una nuova dimensione della cache, SKU o dimensione del cluster, a seconda dell'operazione di ridimensionamento desiderata.</span><span class="sxs-lookup"><span data-stu-id="ee680-143">To scale your Azure Redis Cache instances using Azure CLI, call the `azure rediscache set` command and pass in the desired configuration changes that include a new size, sku, or cluster size, depending on the desired scaling operation.</span></span>

<span data-ttu-id="ee680-144">Per altre informazioni sul ridimensionamento tramite l'interfaccia della riga di comando di Azure, vedere [Modificare le impostazioni di una Cache Redis esistente](cache-manage-cli.md#scale).</span><span class="sxs-lookup"><span data-stu-id="ee680-144">For more information on scaling with Azure CLI, see [Change settings of an existing Redis Cache](cache-manage-cli.md#scale).</span></span>

### <a name="scale-using-maml"></a><span data-ttu-id="ee680-145">Ridimensionare la cache tramite le librerie di gestione di Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="ee680-145">Scale using MAML</span></span>
<span data-ttu-id="ee680-146">Per ridimensionare le istanze di Cache Redis di Azure usando le [librerie di gestione di Microsoft Azure](http://azure.microsoft.com/updates/management-libraries-for-net-release-announcement/), chiamare il metodo `IRedisOperations.CreateOrUpdate` e passare la nuova dimensione di `RedisProperties.SKU.Capacity`.</span><span class="sxs-lookup"><span data-stu-id="ee680-146">To scale your Azure Redis Cache instances using the [Microsoft Azure Management Libraries (MAML)](http://azure.microsoft.com/updates/management-libraries-for-net-release-announcement/), call the `IRedisOperations.CreateOrUpdate` method and pass in the new size for the `RedisProperties.SKU.Capacity`.</span></span>

    static void Main(string[] args)
    {
        // For instructions on getting the access token, see
        // https://azure.microsoft.com/documentation/articles/cache-configure/#access-keys
        string token = GetAuthorizationHeader();

        TokenCloudCredentials creds = new TokenCloudCredentials(subscriptionId,token);

        RedisManagementClient client = new RedisManagementClient(creds);
        var redisProperties = new RedisProperties();

        // To scale, set a new size for the redisSKUCapacity parameter.
        redisProperties.Sku = new Sku(redisSKUName,redisSKUFamily,redisSKUCapacity);
        redisProperties.RedisVersion = redisVersion;
        var redisParams = new RedisCreateOrUpdateParameters(redisProperties, redisCacheRegion);
        client.Redis.CreateOrUpdate(resourceGroupName,cacheName, redisParams);
    }

<span data-ttu-id="ee680-147">Per altre informazioni, vedere l'esempio relativo alla [gestione di Cache Redis tramite le librerie di gestione di Microsoft Azure](https://github.com/rustd/RedisSamples/tree/master/ManageCacheUsingMAML) .</span><span class="sxs-lookup"><span data-stu-id="ee680-147">For more information, see the [Manage Redis Cache using MAML](https://github.com/rustd/RedisSamples/tree/master/ManageCacheUsingMAML) sample.</span></span>

## <a name="scaling-faq"></a><span data-ttu-id="ee680-148">Domande frequenti relative al ridimensionamento</span><span class="sxs-lookup"><span data-stu-id="ee680-148">Scaling FAQ</span></span>
<span data-ttu-id="ee680-149">Nell'elenco seguente sono riportate le risposte alle domande poste comunemente sul ridimensionamento di Cache Redis di Azure.</span><span class="sxs-lookup"><span data-stu-id="ee680-149">The following list contains answers to commonly asked questions about Azure Redis Cache scaling.</span></span>

* [<span data-ttu-id="ee680-150">È possibile eseguire un ridimensionamento verso, da o in una cache Premium?</span><span class="sxs-lookup"><span data-stu-id="ee680-150">Can I scale to, from, or within a Premium cache?</span></span>](#can-i-scale-to-from-or-within-a-premium-cache)
* [<span data-ttu-id="ee680-151">Dopo il ridimensionamento, è necessario modificare il nome della cache o le chiavi di accesso?</span><span class="sxs-lookup"><span data-stu-id="ee680-151">After scaling, do I have to change my cache name or access keys?</span></span>](#after-scaling-do-i-have-to-change-my-cache-name-or-access-keys)
* [<span data-ttu-id="ee680-152">Come funziona il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-152">How does scaling work?</span></span>](#how-does-scaling-work)
* [<span data-ttu-id="ee680-153">Durante il ridimensionamento i dati nella cache andranno persi?</span><span class="sxs-lookup"><span data-stu-id="ee680-153">Will I lose data from my cache during scaling?</span></span>](#will-i-lose-data-from-my-cache-during-scaling)
* [<span data-ttu-id="ee680-154">L'impostazione databases personalizzata viene modificata durante il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-154">Is my custom databases setting affected during scaling?</span></span>](#is-my-custom-databases-setting-affected-during-scaling)
* [<span data-ttu-id="ee680-155">La cache rimarrà disponibile durante il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-155">Will my cache be available during scaling?</span></span>](#will-my-cache-be-available-during-scaling)
* [<span data-ttu-id="ee680-156">Operazioni non supportate</span><span class="sxs-lookup"><span data-stu-id="ee680-156">Operations that are not supported</span></span>](#operations-that-are-not-supported)
* [<span data-ttu-id="ee680-157">Quanto tempo richiede il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-157">How long does scaling take?</span></span>](#how-long-does-scaling-take)
* [<span data-ttu-id="ee680-158">Come è possibile stabilire quando il ridimensionamento è completato?</span><span class="sxs-lookup"><span data-stu-id="ee680-158">How can I tell when scaling is complete?</span></span>](#how-can-i-tell-when-scaling-is-complete)

### <a name="can-i-scale-to-from-or-within-a-premium-cache"></a><span data-ttu-id="ee680-159">È possibile eseguire un ridimensionamento verso, da o in una cache Premium?</span><span class="sxs-lookup"><span data-stu-id="ee680-159">Can I scale to, from, or within a Premium cache?</span></span>
* <span data-ttu-id="ee680-160">Non è possibile passare da una cache **Premium** a un piano tariffario **Basic** o **Standard**.</span><span class="sxs-lookup"><span data-stu-id="ee680-160">You can't scale from a **Premium** cache down to a **Basic** or **Standard** pricing tier.</span></span>
* <span data-ttu-id="ee680-161">È possibile scalare dal piano tariffario di una cache **Premium** a un altro.</span><span class="sxs-lookup"><span data-stu-id="ee680-161">You can scale from one **Premium** cache pricing tier to another.</span></span>
* <span data-ttu-id="ee680-162">Non è possibile passare direttamente da una cache **Basic** a una cache **Premium**.</span><span class="sxs-lookup"><span data-stu-id="ee680-162">You can't scale from a **Basic** cache directly to a **Premium** cache.</span></span> <span data-ttu-id="ee680-163">È necessario prima passare da **Basic** a **Standard** con un'operazione di ridimensionamento e quindi da **Standard** a **Premium** con una successiva operazione.</span><span class="sxs-lookup"><span data-stu-id="ee680-163">You must first scale from **Basic** to **Standard** in one scaling operation, and then from **Standard** to **Premium** in a subsequent scaling operation.</span></span>
* <span data-ttu-id="ee680-164">Se è stato abilitato il clustering durante la creazione della cache **Premium** , è possibile [modificare la dimensione della cache](cache-how-to-premium-clustering.md#cluster-size).</span><span class="sxs-lookup"><span data-stu-id="ee680-164">If you enabled clustering when you created your **Premium** cache, you can [change the cluster size](cache-how-to-premium-clustering.md#cluster-size).</span></span> <span data-ttu-id="ee680-165">Se la cache è stata creata senza clustering abilitato, non è possibile configurare il clustering in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="ee680-165">If your cache was created without clustering enabled, you can't configure clustering at a later time.</span></span>
  
  <span data-ttu-id="ee680-166">Per altre informazioni, vedere [Come configurare il clustering per una Cache Redis di Azure Premium](cache-how-to-premium-clustering.md).</span><span class="sxs-lookup"><span data-stu-id="ee680-166">For more information, see [How to configure clustering for a Premium Azure Redis Cache](cache-how-to-premium-clustering.md).</span></span>

### <a name="after-scaling-do-i-have-to-change-my-cache-name-or-access-keys"></a><span data-ttu-id="ee680-167">Dopo il ridimensionamento, è necessario modificare il nome della cache o le chiavi di accesso?</span><span class="sxs-lookup"><span data-stu-id="ee680-167">After scaling, do I have to change my cache name or access keys?</span></span>
<span data-ttu-id="ee680-168">No, il nome della cache e le chiavi restano invariati durante un'operazione di ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="ee680-168">No, your cache name and keys are unchanged during a scaling operation.</span></span>

### <a name="how-does-scaling-work"></a><span data-ttu-id="ee680-169">Come funziona il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-169">How does scaling work?</span></span>
* <span data-ttu-id="ee680-170">Quando viene ridimensionata una cache **Basic** , essa viene chiusa e viene eseguito il provisioning di una nuova cache utilizzando la nuova dimensione.</span><span class="sxs-lookup"><span data-stu-id="ee680-170">When a **Basic** cache is scaled to a different size, it is shut down and a new cache is provisioned using the new size.</span></span> <span data-ttu-id="ee680-171">Durante questo periodo, la cache non è disponibile e tutti i dati nella cache vengono persi.</span><span class="sxs-lookup"><span data-stu-id="ee680-171">During this time, the cache is unavailable and all data in the cache is lost.</span></span>
* <span data-ttu-id="ee680-172">Quando una cache **Basic** viene ridimensionata in una cache **Standard**, viene effettuato il provisioning di una cache di replica e i dati vengono copiati dalla cache principale alla cache di replica.</span><span class="sxs-lookup"><span data-stu-id="ee680-172">When a **Basic** cache is scaled to a **Standard** cache, a replica cache is provisioned and the data is copied from the primary cache to the replica cache.</span></span> <span data-ttu-id="ee680-173">Durante il processo di ridimensionamento, la cache rimane disponibile.</span><span class="sxs-lookup"><span data-stu-id="ee680-173">The cache remains available during the scaling process.</span></span>
* <span data-ttu-id="ee680-174">Quando si ridimensiona una cache **Standard** passando a una dimensione maggiore o a una cache **Premium**, una delle repliche viene arrestata, ne viene rieffettuato il provisioning in base alla nuova dimensione e i dati vengono trasferiti. Viene quindi eseguito il failover dell'altra replica e successivamente ne viene rieffettuato il provisioning, in modo analogo a quanto accade in caso di errore di uno dei nodi della cache.</span><span class="sxs-lookup"><span data-stu-id="ee680-174">When a **Standard** cache is scaled to a different size or to a **Premium** cache, one of the replicas is shut down and re-provisioned to the new size and the data transferred over, and then the other replica performs a failover before it is re-provisioned, similar to the process that occurs during a failure of one of the cache nodes.</span></span>

### <a name="will-i-lose-data-from-my-cache-during-scaling"></a><span data-ttu-id="ee680-175">Durante il ridimensionamento i dati nella cache andranno persi?</span><span class="sxs-lookup"><span data-stu-id="ee680-175">Will I lose data from my cache during scaling?</span></span>
* <span data-ttu-id="ee680-176">Quando una cache **Basic** viene ridimensionata, tutti i dati vengono persi e la cache non è disponibile durante l'operazione di ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="ee680-176">When a **Basic** cache is scaled to a new size, all data is lost and the cache is unavailable during the scaling operation.</span></span>
* <span data-ttu-id="ee680-177">Quando una cache **Basic** viene ridimensionata in una cache **Standard**, generalmente i dati nella cache vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="ee680-177">When a **Basic** cache is scaled to a **Standard** cache, the data in the cache is typically preserved.</span></span>
* <span data-ttu-id="ee680-178">Quando si aumenta la dimensione di una cache **Standard** o si passa a un piano tariffario superiore oppure quando si aumenta la dimensione di una cache **Premium**, in genere tutti i dati vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="ee680-178">When a **Standard** cache is scaled to a larger size or tier, or a **Premium** cache is scaled to a larger size, all data is typically preserved.</span></span> <span data-ttu-id="ee680-179">Quando si riduce la dimensione di una cache **Standard** o **Premium**, i dati potrebbero andare persi in base al rapporto tra la quantità di dati nella cache e la nuova dimensione configurata.</span><span class="sxs-lookup"><span data-stu-id="ee680-179">When scaling a **Standard** or **Premium** cache down to a smaller size, data may be lost depending on how much data is in the cache related to the new size when it is scaled.</span></span> <span data-ttu-id="ee680-180">Se durante la riduzione i dati vengono persi, le chiavi vengono rimosse mediante il criterio di rimozione [allkeys-lru](http://redis.io/topics/lru-cache) .</span><span class="sxs-lookup"><span data-stu-id="ee680-180">If data is lost when scaling down, keys are evicted using the [allkeys-lru](http://redis.io/topics/lru-cache) eviction policy.</span></span> 

### <a name="is-my-custom-databases-setting-affected-during-scaling"></a><span data-ttu-id="ee680-181">L'impostazione databases personalizzata viene modificata durante il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-181">Is my custom databases setting affected during scaling?</span></span>
<span data-ttu-id="ee680-182">Alcuni piani tariffari hanno [limiti di database](cache-configure.md#databases) diversi, quindi esistono alcune considerazioni da tenere presente durante il passaggio a un piano inferiore se si è configurato un valore personalizzato per l'impostazione `databases` durante la creazione della cache.</span><span class="sxs-lookup"><span data-stu-id="ee680-182">Some pricing tiers have different [databases limits](cache-configure.md#databases), so there are some considerations when scaling down if you configured a custom value for the `databases` setting during cache creation.</span></span>

* <span data-ttu-id="ee680-183">Quando si passa a piano tariffario con un limite di `databases` inferiore di quello del piano corrente:</span><span class="sxs-lookup"><span data-stu-id="ee680-183">When scaling to a pricing tier with a lower `databases` limit than the current tier:</span></span>
  * <span data-ttu-id="ee680-184">Se si usa il numero predefinito di `databases` che è 16 per tutti i piani tariffari, non viene perso alcun dato.</span><span class="sxs-lookup"><span data-stu-id="ee680-184">If you are using the default number of `databases` which is 16 for all pricing tiers, no data is lost.</span></span>
  * <span data-ttu-id="ee680-185">Se si usa un numero personalizzato di `databases` compreso nei limiti per il piano a cui si passa, questa impostazione di `databases` viene mantenuta e non viene perso alcun dato.</span><span class="sxs-lookup"><span data-stu-id="ee680-185">If you are using a custom number of `databases` that falls within the limits for the tier to which you are scaling, this `databases` setting is retained and no data is lost.</span></span>
  * <span data-ttu-id="ee680-186">Se si usa un numero personalizzato di `databases` che supera i limiti del nuovo piano, l'impostazione di `databases` viene ridotta ai limiti del nuovo piano e tutti i dati nei database rimossi vengono persi.</span><span class="sxs-lookup"><span data-stu-id="ee680-186">If you are using a custom number of `databases` that exceeds the limits of the new tier, the `databases` setting is lowered to the limits of the new tier and all data in the removed databases is lost.</span></span>
* <span data-ttu-id="ee680-187">Quando si passa a un piano tariffario con un limite di `databases` uguale o superiore a quello del piano corrente, l'impostazione di `databases` viene mantenuta e non viene perso alcun dato.</span><span class="sxs-lookup"><span data-stu-id="ee680-187">When scaling to a pricing tier with the same or higher `databases` limit than the current tier your `databases` setting is retained and no data is lost.</span></span>

<span data-ttu-id="ee680-188">Si noti che mentre le cache Standard e Premium dispongono di un contratto di servizio pari al 99,9% di disponibilità, non esiste un contratto di servizio per la perdita dei dati.</span><span class="sxs-lookup"><span data-stu-id="ee680-188">Note that while Standard and Premium caches have a 99.9% SLA for availability, there is no SLA for data loss.</span></span>

### <a name="will-my-cache-be-available-during-scaling"></a><span data-ttu-id="ee680-189">La cache rimarrà disponibile durante il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-189">Will my cache be available during scaling?</span></span>
* <span data-ttu-id="ee680-190">Le cache **Standard** e **Premium** rimangono disponibili durante l'operazione di ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="ee680-190">**Standard** and **Premium** caches remain available during the scaling operation.</span></span>
* <span data-ttu-id="ee680-191">Le cache **Basic** sono offline durante le operazioni di ridimensionamento a una dimensione diversa, ma rimangono disponibili quando si esegue il ridimensionamento da una cache **Basic** a una **Standard**.</span><span class="sxs-lookup"><span data-stu-id="ee680-191">**Basic** caches are offline during scaling operations to a different size, but remain available when scaling from **Basic** to **Standard**.</span></span>

### <a name="operations-that-are-not-supported"></a><span data-ttu-id="ee680-192">Operazioni non supportate</span><span class="sxs-lookup"><span data-stu-id="ee680-192">Operations that are not supported</span></span>
* <span data-ttu-id="ee680-193">Non è possibile passare da un piano tariffario superiore a uno inferiore.</span><span class="sxs-lookup"><span data-stu-id="ee680-193">You can't scale from a higher pricing tier to a lower pricing tier.</span></span>
  * <span data-ttu-id="ee680-194">Non è possibile passare da una cache **Premium** a una cache **Standard** o **Basic**.</span><span class="sxs-lookup"><span data-stu-id="ee680-194">You can't scale from a **Premium** cache down to a **Standard** or a **Basic** cache.</span></span>
  * <span data-ttu-id="ee680-195">Non è possibile passare da una cache **Standard** a una cache **Basic**.</span><span class="sxs-lookup"><span data-stu-id="ee680-195">You can't scale from a **Standard** cache down to a **Basic** cache.</span></span>
* <span data-ttu-id="ee680-196">È possibile passare da una cache **Basic** a una cache **Standard**, ma non è possibile modificare contemporaneamente la dimensione.</span><span class="sxs-lookup"><span data-stu-id="ee680-196">You can scale from a **Basic** cache to a **Standard** cache but you can't change the size at the same time.</span></span> <span data-ttu-id="ee680-197">Se occorre una dimensione diversa, è possibile eseguire successivamente un'operazione di ridimensionamento in base ai propri requisiti.</span><span class="sxs-lookup"><span data-stu-id="ee680-197">If you need a different size, you can do a subsequent scaling operation to the desired size.</span></span>
* <span data-ttu-id="ee680-198">Non è possibile passare direttamente da una cache **Basic** a una cache **Premium**.</span><span class="sxs-lookup"><span data-stu-id="ee680-198">You can't scale from a **Basic** cache directly to a **Premium** cache.</span></span> <span data-ttu-id="ee680-199">È necessario prima passare da **Basic** a **Standard** con un'operazione di ridimensionamento e quindi da **Standard** a **Premium** con una successiva operazione.</span><span class="sxs-lookup"><span data-stu-id="ee680-199">You must first scale from **Basic** to **Standard** in one scaling operation, and then from **Standard** to **Premium** in a subsequent scaling operation.</span></span>
* <span data-ttu-id="ee680-200">Non è possibile passare da una dimensione maggiore alla dimensione **C0 (250 MB)** .</span><span class="sxs-lookup"><span data-stu-id="ee680-200">You can't scale from a larger size down to the **C0 (250 MB)** size.</span></span>

<span data-ttu-id="ee680-201">Se l'operazione di ridimensionamento non riesce, il servizio tenta di annullare l'operazione e la dimensione originale della cache viene ripristinata.</span><span class="sxs-lookup"><span data-stu-id="ee680-201">If a scaling operation fails, the service will try to revert the operation and the cache will revert to the original size.</span></span>

### <a name="how-long-does-scaling-take"></a><span data-ttu-id="ee680-202">Quanto tempo richiede il ridimensionamento?</span><span class="sxs-lookup"><span data-stu-id="ee680-202">How long does scaling take?</span></span>
<span data-ttu-id="ee680-203">Il ridimensionamento richiede circa 20 minuti, a seconda della quantità di dati nella cache.</span><span class="sxs-lookup"><span data-stu-id="ee680-203">Scaling takes approximately 20 minutes, depending on how much data is in the cache.</span></span>

### <a name="how-can-i-tell-when-scaling-is-complete"></a><span data-ttu-id="ee680-204">Come è possibile stabilire quando il ridimensionamento è completato?</span><span class="sxs-lookup"><span data-stu-id="ee680-204">How can I tell when scaling is complete?</span></span>
<span data-ttu-id="ee680-205">Nel portale di Azure è possibile visualizzare l'operazione di ridimensionamento in corso.</span><span class="sxs-lookup"><span data-stu-id="ee680-205">In the Azure portal you can see the scaling operation in progress.</span></span> <span data-ttu-id="ee680-206">Quando il ridimensionamento è completo, lo stato della cache passa a **In esecuzione**.</span><span class="sxs-lookup"><span data-stu-id="ee680-206">When scaling is complete, the status of the cache changes to **Running**.</span></span>

<!-- IMAGES -->

[redis-cache-pricing-tier-blade]: ./media/cache-how-to-scale/redis-cache-pricing-tier-blade.png

[redis-cache-scaling]: ./media/cache-how-to-scale/redis-cache-scaling.png



