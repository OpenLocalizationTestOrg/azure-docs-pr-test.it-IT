---
title: aaaDeploy ed esplorare l'applicazione di SaaS Wingtip hello multi-tenant che utilizza Database SQL di Azure | Documenti Microsoft
description: Distribuire ed esplorare hello Wingtip SaaS multi-tenant dell'applicazione, che illustra i modelli di SaaS utilizzando il Database SQL di Azure.
keywords: esercitazione database SQL
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: sstein
ms.openlocfilehash: 7c528ee19472d3b8c7a285b2f86013945e8f4bf4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-and-explore-a-multi-tenant-application-that-uses-azure-sql-database---wingtip-saas"></a><span data-ttu-id="b07da-104">Distribuire ed esplorare un'applicazione multi-tenant che utilizza il database SQL di Azure - SaaS Wingtip</span><span class="sxs-lookup"><span data-stu-id="b07da-104">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>

<span data-ttu-id="b07da-105">In questa esercitazione, si distribuisce ed Esplora l'applicazione SaaS Wingtip hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-105">In this tutorial, you deploy and explore hello Wingtip SaaS application.</span></span> <span data-ttu-id="b07da-106">un'applicazione Hello utilizza un database-per tenant, modello di applicazione SaaS tooservice più tenant.</span><span class="sxs-lookup"><span data-stu-id="b07da-106">hello application uses a database-per-tenant, SaaS application pattern, tooservice multiple tenants.</span></span> <span data-ttu-id="b07da-107">un'applicazione Hello è tooshowcase progettato le funzionalità di Database SQL di Azure che semplificano l'abilitazione di scenari di SaaS.</span><span class="sxs-lookup"><span data-stu-id="b07da-107">hello application is designed tooshowcase features of Azure SQL Database that simplify enabling SaaS scenarios.</span></span>

<span data-ttu-id="b07da-108">Cinque minuti dopo aver fatto clic hello *distribuire tooAzure* pulsante riportato di seguito, dispone di un'applicazione SaaS multi-tenant, utilizzando il Database di SQL, massimo e in esecuzione nel cloud hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-108">Five minutes after clicking hello *Deploy tooAzure* button below, you have a multi-tenant SaaS application, using SQL Database, up and running in hello cloud.</span></span> <span data-ttu-id="b07da-109">un'applicazione Hello viene distribuita con tre tenant di esempio, ciascuno con il proprio database, tutti distribuiti in un pool elastico SQL.</span><span class="sxs-lookup"><span data-stu-id="b07da-109">hello application is deployed with three sample tenants, each with its own database, all deployed into a SQL elastic pool.</span></span> <span data-ttu-id="b07da-110">app Hello è distribuito tooyour sottoscrizione di Azure, offrendo tooexplore accesso completo e lavoro con hello singoli componenti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b07da-110">hello app is deployed tooyour Azure subscription, giving you full access tooexplore and work with hello individual application components.</span></span> <span data-ttu-id="b07da-111">sono disponibili nel repository WingtipSaaS GitHub hello Hello applicazione origine gestione e codice di script.</span><span class="sxs-lookup"><span data-stu-id="b07da-111">hello application source code and management scripts are available in hello WingtipSaaS GitHub repo.</span></span>


<span data-ttu-id="b07da-112">In questa esercitazione si apprenderà:</span><span class="sxs-lookup"><span data-stu-id="b07da-112">In this tutorial you learn:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="b07da-113">Come toodeploy hello applicazione SaaS Wingtip</span><span class="sxs-lookup"><span data-stu-id="b07da-113">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="b07da-114">Dove tooget hello codice sorgente dell'applicazione e script di gestione</span><span class="sxs-lookup"><span data-stu-id="b07da-114">Where tooget hello application source code, and management scripts</span></span>
> * <span data-ttu-id="b07da-115">Sui server hello e pool di database che costituiscono l'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="b07da-115">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="b07da-116">Come tenant mappati dati tootheir con hello *catalogo*</span><span class="sxs-lookup"><span data-stu-id="b07da-116">How tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="b07da-117">Come tooprovision un nuovo tenant</span><span class="sxs-lookup"><span data-stu-id="b07da-117">How tooprovision a new tenant</span></span>
> * <span data-ttu-id="b07da-118">Come toomonitor tenant attività nell'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="b07da-118">How toomonitor tenant activity in hello app</span></span>

<span data-ttu-id="b07da-119">tooexplore vari SaaS gestione e Progettazione modelli, un [serie di esercitazioni correlate](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) disponibile che si basano su questa distribuzione iniziale.</span><span class="sxs-lookup"><span data-stu-id="b07da-119">tooexplore various SaaS design and management patterns, a [series of related tutorials](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) is available that build upon this initial deployment.</span></span> <span data-ttu-id="b07da-120">Durante passando esercitazioni hello, approfondire script hello fornito ed esaminare l'implementazione dei diversi modelli di SaaS hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-120">While going through hello tutorials, dive into hello provided scripts, and examine how hello different SaaS patterns are implemented.</span></span> <span data-ttu-id="b07da-121">Eseguire gli script hello in ogni esercitazione toogain una comprensione più approfondita come tooimplement hello Database SQL di molte funzionalità che semplificano lo sviluppo di applicazioni SaaS.</span><span class="sxs-lookup"><span data-stu-id="b07da-121">Step through hello scripts in each tutorial toogain a deeper understanding how tooimplement hello many SQL Database features that simplify developing SaaS applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b07da-122">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="b07da-122">Prerequisites</span></span>

<span data-ttu-id="b07da-123">toocomplete completamento di questa esercitazione, assicurarsi che i hello seguenti prerequisiti:</span><span class="sxs-lookup"><span data-stu-id="b07da-123">toocomplete this tutorial, make sure hello following prerequisites are completed:</span></span>

* <span data-ttu-id="b07da-124">Azure PowerShell è installato.</span><span class="sxs-lookup"><span data-stu-id="b07da-124">Azure PowerShell is installed.</span></span> <span data-ttu-id="b07da-125">Per informazioni dettagliate, vedere [Introduzione ad Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span><span class="sxs-lookup"><span data-stu-id="b07da-125">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>

## <a name="deploy-hello-wingtip-saas-application"></a><span data-ttu-id="b07da-126">Distribuire un'applicazione SaaS Wingtip hello</span><span class="sxs-lookup"><span data-stu-id="b07da-126">Deploy hello Wingtip SaaS application</span></span>

<span data-ttu-id="b07da-127">Distribuire app SaaS Wingtip hello:</span><span class="sxs-lookup"><span data-stu-id="b07da-127">Deploy hello Wingtip SaaS app:</span></span>

1. <span data-ttu-id="b07da-128">Facendo clic su hello **distribuire tooAzure** apre modello di distribuzione SaaS Wingtip hello toohello portale Azure.</span><span class="sxs-lookup"><span data-stu-id="b07da-128">Clicking hello **Deploy tooAzure** button opens hello Azure portal toohello Wingtip SaaS deployment template.</span></span> <span data-ttu-id="b07da-129">modello di Hello richiede due valori di parametro. un nome per un nuovo gruppo di risorse e un nome utente che distingue questa distribuzione da altre distribuzioni di app SaaS Wingtip hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-129">hello template requires two parameter values; a name for a new resource group, and a user name that distinguishes this deployment from other deployments of hello Wingtip SaaS app.</span></span> <span data-ttu-id="b07da-130">passaggio successivo Hello fornisce dettagli per l'impostazione di questi valori.</span><span class="sxs-lookup"><span data-stu-id="b07da-130">hello next step provides details for setting these values.</span></span>

   <span data-ttu-id="b07da-131">Verificare che toonote hello valori esatti che si utilizzano, poiché sarà necessario tooenter in una configurazione del file in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="b07da-131">Make sure toonote hello exact values that you use, because you will need tooenter them into a configuration file later.</span></span>

   <a href="http://aka.ms/deploywtpapp" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>

1. <span data-ttu-id="b07da-132">Immettere i valori dei parametri necessari per la distribuzione di hello:</span><span class="sxs-lookup"><span data-stu-id="b07da-132">Enter required parameter values for hello deployment:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="b07da-133">Alcune impostazioni di autenticazione e per i firewall server sono intenzionalmente non protette a scopo dimostrativo.</span><span class="sxs-lookup"><span data-stu-id="b07da-133">Some authentication, and server firewalls are intentionally unsecured for demonstration purposes.</span></span> <span data-ttu-id="b07da-134">**Creare un nuovo gruppo di risorse** e non utilizzare gruppi di risorse, server o pool esistenti.</span><span class="sxs-lookup"><span data-stu-id="b07da-134">**Create a new resource group**, and do not use existing resource groups, servers, or pools.</span></span> <span data-ttu-id="b07da-135">Non utilizzare l'applicazione o le risorse che crea per la produzione.</span><span class="sxs-lookup"><span data-stu-id="b07da-135">Do not use this application, or any resources it creates, for production.</span></span> <span data-ttu-id="b07da-136">Elimina la risorsa gruppo quando si è concluso toostop applicazione hello correlato di fatturazione.</span><span class="sxs-lookup"><span data-stu-id="b07da-136">Delete this resource group when you are finished with hello application toostop related billing.</span></span>

    * <span data-ttu-id="b07da-137">**Gruppo di risorse** : selezionare questa opzione **Crea nuovo** e fornire un **nome** per il gruppo di risorse hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-137">**Resource group** - Select **Create new** and provide a **Name** for hello resource group.</span></span> <span data-ttu-id="b07da-138">Selezionare un **percorso** dall'elenco a discesa hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-138">Select a **Location** from hello drop-down list.</span></span>
    * <span data-ttu-id="b07da-139">**Utente**: alcune risorse richiedono nomi univoci a livello globale.</span><span class="sxs-lookup"><span data-stu-id="b07da-139">**User** - Some resources require names that are globally unique.</span></span> <span data-ttu-id="b07da-140">l'univocità tooensure, ogni volta che si distribuisce un'applicazione hello fornire un valore toodifferentiate risorse create, dalle risorse create da qualsiasi altra distribuzione di applicazioni Wingtip hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-140">tooensure uniqueness, each time you deploy hello application provide a value toodifferentiate resources you create, from resources created by any other deployment of hello Wingtip application.</span></span> <span data-ttu-id="b07da-141">Si consiglia di toouse short **utente** nome, ad esempio le iniziali dell'utente e a un numero (ad esempio, *bg1*) e quindi usare tale nel nome del gruppo di risorse hello (ad esempio, *wingtip-bg1*).</span><span class="sxs-lookup"><span data-stu-id="b07da-141">It’s recommended toouse a short **User** name, such as your initials plus a number (for example, *bg1*), and then use that in hello resource group name (for example, *wingtip-bg1*).</span></span> <span data-ttu-id="b07da-142">Il parametro **Utente** può contenere solo lettere, numeri e trattini (senza spazi).</span><span class="sxs-lookup"><span data-stu-id="b07da-142">The **User** parameter can only contain letters, numbers, and hyphens (no spaces).</span></span> <span data-ttu-id="b07da-143">primo e l'ultimo carattere Hello deve essere una lettera o un numero (sono consigliato tutte lettere minuscole).</span><span class="sxs-lookup"><span data-stu-id="b07da-143">hello first and last character must be a letter or a number (all lowercase is recommended).</span></span>


1. <span data-ttu-id="b07da-144">**Distribuire un'applicazione hello**.</span><span class="sxs-lookup"><span data-stu-id="b07da-144">**Deploy hello application**.</span></span>

    * <span data-ttu-id="b07da-145">Fare clic su tooagree toohello termini e condizioni.</span><span class="sxs-lookup"><span data-stu-id="b07da-145">Click tooagree toohello terms and conditions.</span></span>
    * <span data-ttu-id="b07da-146">Fare clic su **Acquista**.</span><span class="sxs-lookup"><span data-stu-id="b07da-146">Click **Purchase**.</span></span>

1. <span data-ttu-id="b07da-147">Monitorare lo stato di distribuzione, fare clic su **notifiche** (icona del controllo del segnale acustico hello a destra della casella di ricerca hello).</span><span class="sxs-lookup"><span data-stu-id="b07da-147">Monitor deployment status by clicking **Notifications** (hello bell icon right of hello search box).</span></span> <span data-ttu-id="b07da-148">Distribuzione hello Wingtip SaaS app richiede circa cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="b07da-148">Deploying hello Wingtip SaaS app takes approximately five minutes.</span></span>

   ![distribuzione completata](media/sql-database-saas-tutorial/succeeded.png)

## <a name="download-and-unblock-hello-wingtip-saas-scripts"></a><span data-ttu-id="b07da-150">Scaricare e sbloccare script Wingtip SaaS hello</span><span class="sxs-lookup"><span data-stu-id="b07da-150">Download and unblock hello Wingtip SaaS scripts</span></span>

<span data-ttu-id="b07da-151">Durante la distribuzione di un'applicazione hello, scaricare gli script di gestione e codice sorgente hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-151">While hello application is deploying, download hello source code and management scripts.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b07da-152">I contenuti eseguibili (script, DLL) possono essere bloccati da Windows quando si scaricano e si estraggono i file ZIP da un'origine esterna.</span><span class="sxs-lookup"><span data-stu-id="b07da-152">Executable contents (scripts, dlls) may be blocked by Windows when zip files are downloaded from an external source and extracted.</span></span> <span data-ttu-id="b07da-153">Durante l'estrazione di script hello da un file zip, è possibile eseguire operazioni di hello seguenti file con estensione zip hello toounblock prima dell'estrazione.</span><span class="sxs-lookup"><span data-stu-id="b07da-153">When extracting hello scripts from a zip file, follow hello steps below toounblock hello .zip file before extracting.</span></span> <span data-ttu-id="b07da-154">In questo modo, gli script hello consentiti toorun.</span><span class="sxs-lookup"><span data-stu-id="b07da-154">This ensures hello scripts are allowed toorun.</span></span>

1. <span data-ttu-id="b07da-155">Sfoglia troppo[repository di github Wingtip SaaS hello](https://github.com/Microsoft/WingtipSaaS).</span><span class="sxs-lookup"><span data-stu-id="b07da-155">Browse too[hello Wingtip SaaS github repo](https://github.com/Microsoft/WingtipSaaS).</span></span>
1. <span data-ttu-id="b07da-156">Fare clic su **Clona o scarica**.</span><span class="sxs-lookup"><span data-stu-id="b07da-156">Click **Clone or download**.</span></span>
1. <span data-ttu-id="b07da-157">Fare clic su **ZIP di Download** e salvare il file hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-157">Click **Download ZIP** and save hello file.</span></span>
1. <span data-ttu-id="b07da-158">Pulsante destro del mouse hello **WingtipSaaS master.zip** file e selezionare **proprietà**.</span><span class="sxs-lookup"><span data-stu-id="b07da-158">Right-click hello **WingtipSaaS-master.zip** file, and select **Properties**.</span></span>
1. <span data-ttu-id="b07da-159">In hello **generale** , selezionare **Unblock**, fare clic su **applica**.</span><span class="sxs-lookup"><span data-stu-id="b07da-159">On hello **General** tab, select **Unblock**, and click **Apply**.</span></span>
1. <span data-ttu-id="b07da-160">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="b07da-160">Click **OK**.</span></span>
1. <span data-ttu-id="b07da-161">Estrarre il file hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-161">Extract hello files.</span></span>

<span data-ttu-id="b07da-162">Gli script si trovano in hello *... \\WingtipSaaS master\\moduli Learning* cartella.</span><span class="sxs-lookup"><span data-stu-id="b07da-162">Scripts are located in hello *..\\WingtipSaaS-master\\Learning Modules* folder.</span></span>

## <a name="update-hello-configuration-file-for-this-deployment"></a><span data-ttu-id="b07da-163">Aggiornare il file di configurazione hello per questa distribuzione</span><span class="sxs-lookup"><span data-stu-id="b07da-163">Update hello configuration file for this deployment</span></span>

<span data-ttu-id="b07da-164">Prima di eseguire qualsiasi script, impostare hello *gruppo di risorse* e *utente* valori **UserConfig.psm1**.</span><span class="sxs-lookup"><span data-stu-id="b07da-164">Before running any scripts, set hello *resource group* and *user* values in **UserConfig.psm1**.</span></span> <span data-ttu-id="b07da-165">Impostare queste variabili toohello valori impostati durante la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="b07da-165">Set these variables toohello values you set during deployment.</span></span>

1. <span data-ttu-id="b07da-166">Apri... \\Moduli learning\\*UserConfig.psm1* in hello *PowerShell ISE*</span><span class="sxs-lookup"><span data-stu-id="b07da-166">Open ...\\Learning Modules\\*UserConfig.psm1* in hello *PowerShell ISE*</span></span>
1. <span data-ttu-id="b07da-167">Aggiornamento *ResourceGroupName* e *nome* con valori specifici di hello per la distribuzione (su righe 10 e 11 solo).</span><span class="sxs-lookup"><span data-stu-id="b07da-167">Update *ResourceGroupName* and *Name* with hello specific values for your deployment (on lines 10 and 11 only).</span></span>
1. <span data-ttu-id="b07da-168">Salvare le modifiche di hello!</span><span class="sxs-lookup"><span data-stu-id="b07da-168">Save hello changes!</span></span>

<span data-ttu-id="b07da-169">L'impostazione qui semplicemente modo si possono evitare tooupdate questi valori specifici della distribuzione in ogni script.</span><span class="sxs-lookup"><span data-stu-id="b07da-169">Setting this here simply keeps you from having tooupdate these deployment-specific values in every script.</span></span>

## <a name="run-hello-application"></a><span data-ttu-id="b07da-170">Eseguire un'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="b07da-170">Run hello application</span></span>

<span data-ttu-id="b07da-171">app Hello illustra eventi, ad esempio sale insieme, le associazioni jazz, sportive, che ospitano gli eventi.</span><span class="sxs-lookup"><span data-stu-id="b07da-171">hello app showcases venues, such as concert halls, jazz clubs, sports clubs, that host events.</span></span> <span data-ttu-id="b07da-172">Eventi registrati come clienti (o tenant) della piattaforma Wingtip hello, per gli eventi toolist un modo semplice e vendono il ticket.</span><span class="sxs-lookup"><span data-stu-id="b07da-172">Venues register as customers (or tenants) of hello Wingtip platform, for an easy way toolist events and sell tickets.</span></span> <span data-ttu-id="b07da-173">Per ogni sessione Ottiene un toomanage app web personalizzati sono elencati i relativi eventi e vendere il ticket, isolato dagli altri tenant e indipendenti.</span><span class="sxs-lookup"><span data-stu-id="b07da-173">Each venue gets a personalized web app toomanage and list their events and sell tickets, independent and isolated from other tenants.</span></span> <span data-ttu-id="b07da-174">In realtà hello, ogni tenant Ottiene un database SQL distribuito in un pool elastico SQL.</span><span class="sxs-lookup"><span data-stu-id="b07da-174">Under hello covers, each tenant gets a SQL database deployed into a SQL elastic pool.</span></span>

<span data-ttu-id="b07da-175">Un centro **Hub eventi** fornisce un elenco di tenant URL tooyour specifica distribuzione.</span><span class="sxs-lookup"><span data-stu-id="b07da-175">A central **Events Hub** provides a list of tenant URLs specific tooyour deployment.</span></span>

1. <span data-ttu-id="b07da-176">Aprire hello _Hub eventi_ nel web browser: http://events.wtp.&lt; UTENTE&gt;. trafficmanager.net (sostituire con il nome utente della distribuzione):</span><span class="sxs-lookup"><span data-stu-id="b07da-176">Open hello _Events Hub_ in your web browser: http://events.wtp.&lt;USER&gt;.trafficmanager.net (replace with your deployment's user name):</span></span>

    ![Hub eventi](media/sql-database-saas-tutorial/events-hub.png)

1. <span data-ttu-id="b07da-178">Fare clic su **Fabrikam Jazz Club** in *Events Hub* (Hub eventi).</span><span class="sxs-lookup"><span data-stu-id="b07da-178">Click **Fabrikam Jazz Club** in the *Events Hub*.</span></span>

   ![Events](./media/sql-database-saas-tutorial/fabrikam.png)


<span data-ttu-id="b07da-180">distribuzione di hello toocontrol delle richieste in ingresso, hello app utilizza [ *Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span><span class="sxs-lookup"><span data-stu-id="b07da-180">toocontrol hello distribution of incoming requests, hello app uses [*Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span></span> <span data-ttu-id="b07da-181">le pagine di eventi Hello, che sono specifici del tenant, richiedono che i nomi di tenant vengono inclusi negli URL hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-181">hello events pages, which are tenant-specific, require that tenant names are included in hello URLs.</span></span> <span data-ttu-id="b07da-182">Tutti hello tenant URL includono specifici *utente* valore e seguire questo formato: http://events.wtp.&lt; UTENTE&gt;.trafficmanager.net/*fabrikamjazzclub*.</span><span class="sxs-lookup"><span data-stu-id="b07da-182">All hello tenant URLs include your specific *User* value and follow this format: http://events.wtp.&lt;USER&gt;.trafficmanager.net/*fabrikamjazzclub*.</span></span> <span data-ttu-id="b07da-183">app eventi Hello analizza nome tenant hello dall'URL hello e utilizza una chiave tooaccess un catalogo tramite toocreate [ *gestione mappa partizioni*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span><span class="sxs-lookup"><span data-stu-id="b07da-183">hello events app parses hello tenant name from hello URL and uses it toocreate a key tooaccess a catalog using [*shard map management*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span></span> <span data-ttu-id="b07da-184">mappe di catalogo Hello hello percorso database toohello chiave del tenant.</span><span class="sxs-lookup"><span data-stu-id="b07da-184">hello catalog maps hello key toohello tenant's database location.</span></span> <span data-ttu-id="b07da-185">Hello **Hub eventi** utilizza metadati estesi nel nome del tenant di hello catalogo tooretrieve hello associato a ogni elenco di hello tooprovide database degli URL.</span><span class="sxs-lookup"><span data-stu-id="b07da-185">hello **Events Hub** uses extended metadata in hello catalog tooretrieve hello tenant’s name associated with each database tooprovide hello list of URLs.</span></span>

<span data-ttu-id="b07da-186">In un ambiente di produzione, si creerà in genere un record DNS CNAME [ *puntare un dominio internet della società* ](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) al profilo di gestione traffico hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-186">In a production environment, you would typically create a CNAME DNS record to [*point a company internet domain*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) to hello traffic manager profile.</span></span>

## <a name="start-generating-load-on-hello-tenant-databases"></a><span data-ttu-id="b07da-187">Avviare la generazione di carico sui database tenant hello</span><span class="sxs-lookup"><span data-stu-id="b07da-187">Start generating load on hello tenant databases</span></span>

<span data-ttu-id="b07da-188">Ora che hello app viene distribuita, si inserisce toowork!</span><span class="sxs-lookup"><span data-stu-id="b07da-188">Now that hello app is deployed, let’s put it toowork!</span></span> <span data-ttu-id="b07da-189">Hello *Demo LoadGenerator* script di PowerShell avvia un carico di lavoro in esecuzione su tutti i database tenant.</span><span class="sxs-lookup"><span data-stu-id="b07da-189">hello *Demo-LoadGenerator* PowerShell script starts a workload running against all tenant databases.</span></span> <span data-ttu-id="b07da-190">carico di lavoro reale Hello in molte applicazioni SaaS è in genere sporadici e imprevedibili.</span><span class="sxs-lookup"><span data-stu-id="b07da-190">hello real-world load on many SaaS apps is typically sporadic and unpredictable.</span></span> <span data-ttu-id="b07da-191">toosimulate questo tipo di carico, il generatore di hello produce un carico distribuito tra tutti i tenant, con picchi casuale per ogni tenant che si verificano a intervalli casuale.</span><span class="sxs-lookup"><span data-stu-id="b07da-191">toosimulate this type of load, hello generator produces a load distributed across all tenants, with randomized bursts on each tenant occurring at randomized intervals.</span></span> <span data-ttu-id="b07da-192">Per questo motivo che sono necessari diversi minuti per tooemerge modello di carico hello, è migliore toolet hello generatore per almeno tre o quattro minuti prima di monitoraggio hello caricare.</span><span class="sxs-lookup"><span data-stu-id="b07da-192">Because of this it takes several minutes for hello load pattern tooemerge, so it’s best toolet hello generator run for at least three or four minutes before monitoring hello load.</span></span>

1. <span data-ttu-id="b07da-193">In hello *PowerShell ISE*aprire hello... \\Moduli learning\\utilità\\*Demo LoadGenerator.ps1* script.</span><span class="sxs-lookup"><span data-stu-id="b07da-193">In hello *PowerShell ISE*, open hello ...\\Learning Modules\\Utilities\\*Demo-LoadGenerator.ps1* script.</span></span>
1. <span data-ttu-id="b07da-194">Premere **F5** per eseguire script hello e avviare il generatore di carico hello (lasciare hello valori predefiniti per ora).</span><span class="sxs-lookup"><span data-stu-id="b07da-194">Press **F5** to run hello script and start hello load generator (leave hello default parameter values for now).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b07da-195">toorun altri script, aprire una nuova finestra di PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="b07da-195">toorun other scripts, open a new PowerShell ISE window.</span></span> <span data-ttu-id="b07da-196">Generatore di carico Hello è in esecuzione come una serie di processi nella sessione di PowerShell locale.</span><span class="sxs-lookup"><span data-stu-id="b07da-196">hello load generator is running as a series of jobs in your local PowerShell session.</span></span> <span data-ttu-id="b07da-197">Hello *Demo LoadGenerator.ps1* script avvia hello carico effettivo generatore script viene eseguito come un'attività di primo piano più di una serie di processi in background di generazione del carico.</span><span class="sxs-lookup"><span data-stu-id="b07da-197">hello *Demo-LoadGenerator.ps1* script kicks off hello actual load generator script, which runs as a foreground task plus a series of background load-generation jobs.</span></span> <span data-ttu-id="b07da-198">Un processo del generatore di carico viene richiamato per ogni database registrato nel catalogo di hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-198">A load-generator job is invoked for each database registered in hello catalog.</span></span> <span data-ttu-id="b07da-199">i processi di Hello sono in esecuzione nella sessione di PowerShell locale, quindi chiudere la sessione di PowerShell hello Arresta tutti i processi.</span><span class="sxs-lookup"><span data-stu-id="b07da-199">hello jobs are running in your local PowerShell session, so closing hello PowerShell session stops all jobs.</span></span> <span data-ttu-id="b07da-200">Se si sospende il computer, la generazione del carico viene messa in pausa e riprende quando si riattiva il computer.</span><span class="sxs-lookup"><span data-stu-id="b07da-200">If you suspend your machine, load generation is paused and will resume when you wake up your machine.</span></span>

<span data-ttu-id="b07da-201">Una volta il generatore di carico hello richiama i processi di generazione del carico per ogni tenant, l'attività di primo piano hello rimane in uno stato di richiamo di processo, in cui viene avviato processi in background aggiuntive per i nuovi tenant che verrà eseguito il provisioning.</span><span class="sxs-lookup"><span data-stu-id="b07da-201">Once hello load generator invokes load-generation jobs for each tenant, hello foreground task remains in a job-invoking state, where it starts additional background jobs for any new tenants that are subsequently provisioned.</span></span> <span data-ttu-id="b07da-202">È possibile utilizzare *Ctrl-C* o premere hello *arrestare* pulsante toostop hello in primo piano attività, ma esistente in background i processi continueranno la generazione di carico in ogni database.</span><span class="sxs-lookup"><span data-stu-id="b07da-202">You can use *Ctrl-C* or press hello *Stop* button toostop hello foreground task, but existing background jobs will continue generating load on each database.</span></span> <span data-ttu-id="b07da-203">Se è necessario toomonitor, controllare i processi in background hello *Get-Job*, *Receive-Job* e *Stop-Job*.</span><span class="sxs-lookup"><span data-stu-id="b07da-203">If you need toomonitor and control hello background jobs, use *Get-Job*, *Receive-Job* and *Stop-Job*.</span></span> <span data-ttu-id="b07da-204">Durante l'esecuzione di attività in primo piano hello è possibile utilizzare hello stesso tooexecute di sessione di PowerShell altri script.</span><span class="sxs-lookup"><span data-stu-id="b07da-204">While hello foreground task is running you cannot use hello same PowerShell session tooexecute other scripts.</span></span> <span data-ttu-id="b07da-205">toorun altri script, aprire una nuova finestra di PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="b07da-205">toorun other scripts, open a new PowerShell ISE window.</span></span>

<span data-ttu-id="b07da-206">Se si desidera toorestart hello carico generatore sessione, ad esempio con parametri diversi, è possibile interrompere attività in primo piano hello e quindi eseguire di nuovo hello *Demo LoadGenerator.ps1* script.</span><span class="sxs-lookup"><span data-stu-id="b07da-206">If you want toorestart hello load generator session, for example with different parameters, you can stop hello foreground task and then re-run hello *Demo-LoadGenerator.ps1* script.</span></span> <span data-ttu-id="b07da-207">Eseguire di nuovo *Demo LoadGenerator.ps1* innanzitutto interrompe le attualmente in esecuzione processi e quindi generatore hello riavvii che avvia un nuovo set di processi utilizzando i parametri correnti di hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-207">Re-running *Demo-LoadGenerator.ps1* first stops any currently running jobs, and then restarts hello generator, which kicks off a new set of jobs using hello current parameters.</span></span>

<span data-ttu-id="b07da-208">Per il momento, lasciare il generatore di carico hello in esecuzione in stato di hello chiamata processo.</span><span class="sxs-lookup"><span data-stu-id="b07da-208">For now, leave hello load generator running in hello job-invoking state.</span></span>


## <a name="provision-a-new-tenant"></a><span data-ttu-id="b07da-209">Effettuare il provisioning di un nuovo tenant</span><span class="sxs-lookup"><span data-stu-id="b07da-209">Provision a new tenant</span></span>

<span data-ttu-id="b07da-210">la distribuzione iniziale di Hello crea tre tenant di esempio, ma è possibile crearne un altro tenant toosee questo impatto di un'applicazione hello distribuito.</span><span class="sxs-lookup"><span data-stu-id="b07da-210">hello initial deployment creates three sample tenants, but let’s create another tenant toosee how this impacts hello deployed application.</span></span> <span data-ttu-id="b07da-211">flusso di lavoro Hello provisioning tenant Wingtip SaaS dettagliato in hello [esercitazione il provisioning e catalogo](sql-database-saas-tutorial-provision-and-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="b07da-211">hello Wingtip SaaS provisioning-tenants workflow is detailed in hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md).</span></span> <span data-ttu-id="b07da-212">Questo passaggio descrive come creare rapidamente un nuovo tenant.</span><span class="sxs-lookup"><span data-stu-id="b07da-212">In this step, you quickly create a new tenant.</span></span>

1. <span data-ttu-id="b07da-213">Apri... \\Modules\Provision di apprendimento e catalogo\\*Demo ProvisionAndCatalog.ps1* in hello *PowerShell ISE*.</span><span class="sxs-lookup"><span data-stu-id="b07da-213">Open ...\\Learning Modules\Provision and Catalog\\*Demo-ProvisionAndCatalog.ps1* in hello *PowerShell ISE*.</span></span>
1. <span data-ttu-id="b07da-214">Premere **F5** per eseguire script hello (lasciare hello i valori predefiniti per ora).</span><span class="sxs-lookup"><span data-stu-id="b07da-214">Press **F5** to run hello script (leave hello default values for now).</span></span>

   > [!NOTE]
   > <span data-ttu-id="b07da-215">Utilizzare molti script Wingtip SaaS *$PSScriptRoot* tooallow esplorazione funzioni toocall cartelle in altri script.</span><span class="sxs-lookup"><span data-stu-id="b07da-215">Many Wingtip SaaS scripts use *$PSScriptRoot* tooallow navigating folders toocall functions in other scripts.</span></span> <span data-ttu-id="b07da-216">Questa variabile viene valutata solo quando l'esecuzione dello script hello premendo **F5**.</span><span class="sxs-lookup"><span data-stu-id="b07da-216">This variable is only evaluated when hello script is executed by pressing **F5**.</span></span>  <span data-ttu-id="b07da-217">L'evidenziazione e l'esecuzione di una selezione (**F8**) può causare errori, quindi premere **F5** per l'esecuzione di script.</span><span class="sxs-lookup"><span data-stu-id="b07da-217">Highlighting and running a selection (**F8**) can result in errors, so press **F5** when running scripts.</span></span>

<span data-ttu-id="b07da-218">nuovo database di tenant Hello viene creato in un pool elastico SQL, inizializzato e registrato nel catalogo di hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-218">hello new tenant database is created in a SQL elastic pool, initialized and registered in hello catalog.</span></span> <span data-ttu-id="b07da-219">Dopo il provisioning ha esito positivo, il nuovo tenant di hello del ticket di vendita *eventi* sito verrà visualizzato nel browser:</span><span class="sxs-lookup"><span data-stu-id="b07da-219">After successful provisioning, hello new tenant's ticket-selling *Events* site appears in your browser:</span></span>

![Nuovo tenant](./media/sql-database-saas-tutorial/red-maple-racing.png)

<span data-ttu-id="b07da-221">Aggiornare hello *Hub eventi* e nuovo tenant hello viene ora visualizzato nell'elenco di hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-221">Refresh hello *Events Hub* and hello new tenant now appears in hello list.</span></span>


## <a name="explore-hello-servers-pools-and-tenant-databases"></a><span data-ttu-id="b07da-222">Esplorare server hello, pool e il database del tenant</span><span class="sxs-lookup"><span data-stu-id="b07da-222">Explore hello servers, pools, and tenant databases</span></span>

<span data-ttu-id="b07da-223">Ora che si è iniziato a eseguire un caricamento raccolta hello di tenant, ecco alcune risorse che sono stati distribuiti hello:</span><span class="sxs-lookup"><span data-stu-id="b07da-223">Now that you've started running a load against hello collection of tenants, let’s look at some of hello resources that were deployed:</span></span>

1. <span data-ttu-id="b07da-224">Nel [portale di Azure](http://portal.azure.com), esplorare tooyour elenco di istanze di SQL Server e aprire il **catalogo -&lt;utente&gt;**  server.</span><span class="sxs-lookup"><span data-stu-id="b07da-224">In the [Azure portal](http://portal.azure.com), browse tooyour list of SQL servers and open the **catalog-&lt;USER&gt;** server.</span></span> <span data-ttu-id="b07da-225">server di catalogo Hello contiene due database.</span><span class="sxs-lookup"><span data-stu-id="b07da-225">hello catalog server contains two databases.</span></span> <span data-ttu-id="b07da-226">Hello **tenantcatalog**, hello e **basetenantdb** (vuota *finale* o database modello che viene copiato toocreate nuovi tenant).</span><span class="sxs-lookup"><span data-stu-id="b07da-226">hello **tenantcatalog**, and hello **basetenantdb** (an empty *golden* or template database that is copied toocreate new tenants).</span></span>

   ![database](./media/sql-database-saas-tutorial/databases.png)

1. <span data-ttu-id="b07da-228">Tornare indietro tooyour elenco di istanze di SQL Server e aprire hello **tenants1 -&lt;utente&gt;**  server che ospita i database tenant hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-228">Go back tooyour list of SQL servers and open hello **tenants1-&lt;USER&gt;** server that holds hello tenant databases.</span></span> <span data-ttu-id="b07da-229">Ogni database tenant è un database _standard elastico_ in un pool standard da 50 eDTU.</span><span class="sxs-lookup"><span data-stu-id="b07da-229">Each tenant database is an _Elastic Standard_ database in a 50 eDTU standard pool.</span></span> <span data-ttu-id="b07da-230">Si noti inoltre è presente un _acero rosso NASCAR_ database, database tenant hello è effettuato il provisioning in precedenza.</span><span class="sxs-lookup"><span data-stu-id="b07da-230">Also notice there is a _Red Maple Racing_ database, hello tenant database you provisioned previously.</span></span>

   ![server](./media/sql-database-saas-tutorial/server.png)

## <a name="monitor-hello-pool"></a><span data-ttu-id="b07da-232">Monitoraggio hello pool</span><span class="sxs-lookup"><span data-stu-id="b07da-232">Monitor hello pool</span></span>

<span data-ttu-id="b07da-233">Se il generatore di carico hello è stata eseguita per diversi minuti, sufficiente dati dovrebbero essere toostart disponibili una panoramica delle funzionalità incorporate in pool e i database di monitoraggio hello.</span><span class="sxs-lookup"><span data-stu-id="b07da-233">If hello load generator has been running for several minutes, enough data should be available toostart looking at some of hello monitoring capabilities built into pools and databases.</span></span>

1. <span data-ttu-id="b07da-234">Esplora server toohello **tenants1 -&lt;utente&gt;**, fare clic su **Pool1** per visualizzare l'utilizzo delle risorse per il pool di hello (Generatore di carico hello è stato eseguito per un'ora in hello seguenti grafici) :</span><span class="sxs-lookup"><span data-stu-id="b07da-234">Browse toohello server **tenants1-&lt;USER&gt;**, and click **Pool1** to view resource utilization for hello pool (hello load generator ran for an hour in hello following charts):</span></span>

   ![monitorare il pool](./media/sql-database-saas-tutorial/monitor-pool.png)

<span data-ttu-id="b07da-236">Quello che dimostrano chiaramente questi due grafici è quanto i pool elastici e database SQL siano adatti ai carichi di lavoro di applicazioni SaaS.</span><span class="sxs-lookup"><span data-stu-id="b07da-236">What these two charts nicely illustrate, is how well suited elastic pools and SQL Database are for SaaS application workloads.</span></span> <span data-ttu-id="b07da-237">Quattro database che ognuno sono bursting tooas quanto 40 Edtu facilmente supportati in un pool di 50 eDTU.</span><span class="sxs-lookup"><span data-stu-id="b07da-237">Four databases that are each bursting tooas much as 40 eDTUs are easily being supported in a 50 eDTU pool.</span></span> <span data-ttu-id="b07da-238">Se è stato eseguito il provisioning come database autonomo, si verifica ogni toobe necessario un S2 (DTU 50) toosupport hello picchi.</span><span class="sxs-lookup"><span data-stu-id="b07da-238">If they were provisioned as standalone databases, they would each need toobe an S2 (50 DTU) toosupport hello bursts.</span></span> <span data-ttu-id="b07da-239">costo di Hello di 4 autonomo S2 database sarebbe prezzo di quasi 3 volte hello del pool di hello e pool hello dispone ancora di una notevole quantità di capacità aggiuntiva per molti altri database.</span><span class="sxs-lookup"><span data-stu-id="b07da-239">hello cost of 4 standalone S2 databases would be nearly 3 times hello price of hello pool, and hello pool still has plenty of headroom for many more databases.</span></span> <span data-ttu-id="b07da-240">In situazioni reali, ai clienti del Database SQL sono attualmente in esecuzione backup di database too500 200 eDTU pool.</span><span class="sxs-lookup"><span data-stu-id="b07da-240">In real-world situations, SQL Database customers are currently running up too500 databases in 200 eDTU pools.</span></span> <span data-ttu-id="b07da-241">Per ulteriori informazioni, vedere hello [esercitazione il monitoraggio delle prestazioni](sql-database-saas-tutorial-performance-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="b07da-241">For more information, see hello [performance monitoring tutorial](sql-database-saas-tutorial-performance-monitoring.md).</span></span>


## <a name="next-steps"></a><span data-ttu-id="b07da-242">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="b07da-242">Next steps</span></span>

<span data-ttu-id="b07da-243">In questa esercitazione si è appreso:</span><span class="sxs-lookup"><span data-stu-id="b07da-243">In this tutorial you learned:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="b07da-244">Come toodeploy hello applicazione SaaS Wingtip</span><span class="sxs-lookup"><span data-stu-id="b07da-244">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="b07da-245">Sui server hello e pool di database che costituiscono l'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="b07da-245">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="b07da-246">I tenant sono mappate tootheir dati con hello *catalogo*</span><span class="sxs-lookup"><span data-stu-id="b07da-246">Tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="b07da-247">Come tooprovision nuovi tenant</span><span class="sxs-lookup"><span data-stu-id="b07da-247">How tooprovision new tenants</span></span>
> * <span data-ttu-id="b07da-248">Come tooview pool utilizzo toomonitor tenant attività</span><span class="sxs-lookup"><span data-stu-id="b07da-248">How tooview pool utilization toomonitor tenant activity</span></span>
> * <span data-ttu-id="b07da-249">Correlazione di fatturazione toodelete esempio risorse toostop</span><span class="sxs-lookup"><span data-stu-id="b07da-249">How toodelete sample resources toostop related billing</span></span>

<span data-ttu-id="b07da-250">Ora provare hello [esercitazione il provisioning e del catalogo](sql-database-saas-tutorial-provision-and-catalog.md)</span><span class="sxs-lookup"><span data-stu-id="b07da-250">Now try hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md)</span></span>



## <a name="additional-resources"></a><span data-ttu-id="b07da-251">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="b07da-251">Additional resources</span></span>

* <span data-ttu-id="b07da-252">Ulteriori [esercitazioni basate su hello applicazione SaaS Wingtip](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span><span class="sxs-lookup"><span data-stu-id="b07da-252">Additional [tutorials that build on hello Wingtip SaaS application](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span></span>
* <span data-ttu-id="b07da-253">toolearn sui pool elastico, vedere [ *che cos'è un pool elastico SQL di Azure*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span><span class="sxs-lookup"><span data-stu-id="b07da-253">toolearn about elastic pools, see [*What is an Azure SQL elastic pool*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span></span>
* <span data-ttu-id="b07da-254">toolearn sui processi elastici, vedere [ *i database di gestione dei cloud di scalabilità orizzontale*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span><span class="sxs-lookup"><span data-stu-id="b07da-254">toolearn about elastic jobs, see [*Managing scaled-out cloud databases*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span></span>
* <span data-ttu-id="b07da-255">toolearn sulle applicazioni SaaS multi-tenant, vedere [ *Progettazione modelli per applicazioni SaaS multi-tenant*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span><span class="sxs-lookup"><span data-stu-id="b07da-255">toolearn about multi-tenant SaaS applications, see [*Design patterns for multi-tenant SaaS applications*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span></span>
