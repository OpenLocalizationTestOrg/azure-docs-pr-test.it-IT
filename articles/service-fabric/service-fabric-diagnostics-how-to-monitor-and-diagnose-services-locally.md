---
title: aaaDebug microservizi Azure Windows | Documenti Microsoft
description: Informazioni su come toomonitor e diagnosticare i servizi scritti con Microsoft Azure Service Fabric in un computer di sviluppo locale.
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: edcc0631-ed2d-45a3-851d-2c4fa0f4a326
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/24/2017
ms.author: dekapur
ms.openlocfilehash: 24868aa194b8a28fa3e6de95c1de5506d912a544
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-and-diagnose-services-in-a-local-machine-development-setup"></a><span data-ttu-id="74a2c-103">Monitorare e diagnosticare servizi in una configurazione di sviluppo con computer locale</span><span class="sxs-lookup"><span data-stu-id="74a2c-103">Monitor and diagnose services in a local machine development setup</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="74a2c-104">Windows</span><span class="sxs-lookup"><span data-stu-id="74a2c-104">Windows</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)
> * [<span data-ttu-id="74a2c-105">Linux</span><span class="sxs-lookup"><span data-stu-id="74a2c-105">Linux</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally-linux.md)
> 
> 

<span data-ttu-id="74a2c-106">Il monitoraggio, il rilevamento, la diagnosi e risoluzione dei problemi consentono di servizi toocontinue l'esperienza utente toohello un'interruzione minima.</span><span class="sxs-lookup"><span data-stu-id="74a2c-106">Monitoring, detecting, diagnosing, and troubleshooting allow for services toocontinue with minimal disruption toohello user experience.</span></span> <span data-ttu-id="74a2c-107">Anche se il monitoraggio e diagnostica è critica in un ambiente di produzione distribuito effettivo, l'efficienza di hello varia in base all'adozione di un modello simile durante lo sviluppo di servizi tooensure che funzionano quando si sposta il programma di installazione di tooa del mondo reale.</span><span class="sxs-lookup"><span data-stu-id="74a2c-107">While monitoring and diagnostics are critical in an actual deployed production environment, hello efficiency will depend on adopting a similar model during development of services tooensure they work when you move tooa real-world setup.</span></span> <span data-ttu-id="74a2c-108">Service Fabric rende più semplice per la diagnostica tooimplement agli sviluppatori di servizio che può funzionare senza problemi tra le impostazioni di sviluppo locale solo computer e le installazioni cluster di produzione reali.</span><span class="sxs-lookup"><span data-stu-id="74a2c-108">Service Fabric makes it easy for service developers tooimplement diagnostics that can seamlessly work across both single-machine local development setups and real-world production cluster setups.</span></span>

## <a name="event-tracing-for-windows"></a><span data-ttu-id="74a2c-109">Event Tracing for Windows</span><span class="sxs-lookup"><span data-stu-id="74a2c-109">Event Tracing for Windows</span></span>
<span data-ttu-id="74a2c-110">[Traccia eventi per Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) è hello consigliato di tecnologia per i messaggi di traccia nell'infrastruttura del servizio.</span><span class="sxs-lookup"><span data-stu-id="74a2c-110">[Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) is hello recommended technology for tracing messages in Service Fabric.</span></span> <span data-ttu-id="74a2c-111">Alcuni dei vantaggi di ETW sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="74a2c-111">Some benefits of using ETW are:</span></span>

* <span data-ttu-id="74a2c-112">**ETW è veloce.**</span><span class="sxs-lookup"><span data-stu-id="74a2c-112">**ETW is fast.**</span></span> <span data-ttu-id="74a2c-113">È stata sviluppata come tecnologia di tracciamento con un impatto minimo sui tempi di esecuzione del codice.</span><span class="sxs-lookup"><span data-stu-id="74a2c-113">It was built as a tracing technology that has minimal impact on code execution times.</span></span>
* <span data-ttu-id="74a2c-114">**ETW funziona perfettamente non solo in ambienti di sviluppo locali, ma anche in configurazioni cluster reali.**</span><span class="sxs-lookup"><span data-stu-id="74a2c-114">**ETW tracing works seamlessly across local development environments and also real-world cluster setups.**</span></span> <span data-ttu-id="74a2c-115">Ciò significa che non è l'analisi del codice quando si è pronti toodeploy toorewrite cluster tooa codice reali.</span><span class="sxs-lookup"><span data-stu-id="74a2c-115">This  means you don't have toorewrite your tracing code when you are ready toodeploy your code tooa real cluster.</span></span>
* <span data-ttu-id="74a2c-116">**Anche il codice di sistema di Service Fabric usa ETW per il tracciamento interno.**</span><span class="sxs-lookup"><span data-stu-id="74a2c-116">**Service Fabric system code also uses ETW for internal tracing.**</span></span> <span data-ttu-id="74a2c-117">In questo modo tooview interleaved le tracce dell'applicazione con le tracce di sistema di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="74a2c-117">This allows you tooview your application traces interleaved with Service Fabric system traces.</span></span> <span data-ttu-id="74a2c-118">È inoltre utile è toomore comprensione delle sequenze di hello e interrelazioni tra il codice dell'applicazione e gli eventi di sistema sottostante di hello.</span><span class="sxs-lookup"><span data-stu-id="74a2c-118">It also helps you toomore easily understand hello sequences and interrelationships between your application code and events in hello underlying system.</span></span>
* <span data-ttu-id="74a2c-119">**È il supporto incorporato di Service Fabric Visual Studio tools eventi ETW tooview.**</span><span class="sxs-lookup"><span data-stu-id="74a2c-119">**There is built-in support in Service Fabric Visual Studio tools tooview ETW events.**</span></span> <span data-ttu-id="74a2c-120">Eventi ETW vengono visualizzati nella vista di eventi di diagnostica di Visual Studio hello dopo Visual Studio sia configurata correttamente con Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="74a2c-120">ETW events appear in hello Diagnostic Events view of Visual Studio once Visual Studio is correctly configured with Service Fabric.</span></span> 

## <a name="view-service-fabric-system-events-in-visual-studio"></a><span data-ttu-id="74a2c-121">Visualizzare gli eventi di sistema di Service Fabric in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="74a2c-121">View Service Fabric system events in Visual Studio</span></span>
<span data-ttu-id="74a2c-122">Service Fabric genera gli eventi ETW, gli sviluppatori di applicazioni toohelp comprendano ciò che avviene nella piattaforma hello.</span><span class="sxs-lookup"><span data-stu-id="74a2c-122">Service Fabric emits ETW events toohelp application developers understand what's happening in hello platform.</span></span> <span data-ttu-id="74a2c-123">Se non già stato fatto, vado avanti e seguire i passaggi di hello in [creazione di un'applicazione in Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="74a2c-123">If you haven't already done so, go ahead and follow hello steps in [Creating your first application in Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span></span> <span data-ttu-id="74a2c-124">Tali informazioni consentiranno diventare un'applicazione in esecuzione con hello Visualizzatore di eventi di diagnostica che mostra hello i messaggi di traccia.</span><span class="sxs-lookup"><span data-stu-id="74a2c-124">This information will help you get an application up and running with hello Diagnostics Events Viewer showing hello trace messages.</span></span>

1. <span data-ttu-id="74a2c-125">Se la diagnostica hello finestra degli eventi non viene visualizzata automaticamente, toohello **vista** scheda in Visual Studio, scegliere **altre finestre** e quindi **Visualizzatore eventi di diagnostica**.</span><span class="sxs-lookup"><span data-stu-id="74a2c-125">If hello diagnostics events window does not automatically show, Go toohello **View** tab in Visual Studio, choose **Other Windows** and then **Diagnostic Events Viewer**.</span></span>
2. <span data-ttu-id="74a2c-126">Informazioni sui metadati standard che indicano l'evento di hello nodo, l'applicazione e servizio hello proviene da ogni evento.</span><span class="sxs-lookup"><span data-stu-id="74a2c-126">Each event has standard metadata information that tells you hello node, application and service hello event is coming from.</span></span> <span data-ttu-id="74a2c-127">È inoltre possibile filtrare l'elenco di hello di eventi tramite hello **filtrare gli eventi** casella nella parte superiore di hello della finestra eventi hello.</span><span class="sxs-lookup"><span data-stu-id="74a2c-127">You can also filter hello list of events by using hello **Filter events** box at hello top of hello events window.</span></span> <span data-ttu-id="74a2c-128">Ad esempio, è possibile filtrare in base al **nome del nodo** o al **nome del servizio**.</span><span class="sxs-lookup"><span data-stu-id="74a2c-128">For example, you can filter on **Node Name** or **Service Name.**</span></span> <span data-ttu-id="74a2c-129">E quando si osservano i dettagli degli eventi, è anche possibile sospendere utilizzando hello **sospendere** pulsante nella parte superiore di hello della finestra eventi hello e di riprendere successivamente senza alcuna perdita di eventi.</span><span class="sxs-lookup"><span data-stu-id="74a2c-129">And when you're looking at event details, you can also pause by using hello **Pause** button at hello top of hello events window and resume later without any loss of events.</span></span>
   
   ![Visualizzatore eventi di diagnostica di Visual Studio](./media/service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally/DiagEventsExamples2.png)

## <a name="add-your-own-custom-traces-toohello-application-code"></a><span data-ttu-id="74a2c-131">Aggiungere il codice di applicazione toohello le tracce personalizzate</span><span class="sxs-lookup"><span data-stu-id="74a2c-131">Add your own custom traces toohello application code</span></span>
<span data-ttu-id="74a2c-132">modelli di progetto di Visual Studio di Service Fabric Hello contengono codice di esempio.</span><span class="sxs-lookup"><span data-stu-id="74a2c-132">hello Service Fabric Visual Studio project templates contain sample code.</span></span> <span data-ttu-id="74a2c-133">codice Hello Mostra il codice dell'applicazione personalizzata tooadd ETW tracce che mostrano backup nel Visualizzatore di Visual Studio ETW hello insieme alle tracce di sistema di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="74a2c-133">hello code shows how tooadd custom application code ETW traces that show up in hello Visual Studio ETW viewer alongside system traces from Service Fabric.</span></span> <span data-ttu-id="74a2c-134">Hello vantaggio di questo metodo è che vengono automaticamente aggiunti tootraces metadati e hello Visualizzatore eventi di diagnostica di Visual Studio è già configurato toodisplay li.</span><span class="sxs-lookup"><span data-stu-id="74a2c-134">hello advantage of this method is that metadata is automatically added tootraces, and hello Visual Studio Diagnostic Events Viewer is already configured toodisplay them.</span></span>

<span data-ttu-id="74a2c-135">Per i progetti creati da hello **i modelli di servizio** (con o senza informazioni stateful) solo cercare hello `RunAsync` implementazione:</span><span class="sxs-lookup"><span data-stu-id="74a2c-135">For projects created from hello **service templates** (stateless or stateful) just search for hello `RunAsync` implementation:</span></span>

1. <span data-ttu-id="74a2c-136">Hello chiamata troppo`ServiceEventSource.Current.ServiceMessage` in hello `RunAsync` metodo mostra un esempio di una traccia ETW personalizzata dal codice dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="74a2c-136">hello call too`ServiceEventSource.Current.ServiceMessage` in hello `RunAsync` method shows an example of a custom ETW trace from hello application code.</span></span>
2. <span data-ttu-id="74a2c-137">In hello **ServiceEventSource.cs** file, si noterà un overload per hello `ServiceEventSource.ServiceMessage` metodo che deve essere utilizzato per gli eventi ad alta frequenza a causa di motivi tooperformance.</span><span class="sxs-lookup"><span data-stu-id="74a2c-137">In hello **ServiceEventSource.cs** file, you will find an overload for hello `ServiceEventSource.ServiceMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="74a2c-138">Per i progetti creati da hello **modelli attore** (con stato o senza informazioni):</span><span class="sxs-lookup"><span data-stu-id="74a2c-138">For projects created from hello **actor templates** (stateless or stateful):</span></span>

1. <span data-ttu-id="74a2c-139">Aprire hello **. cs "ProjectName"** dove *ProjectName* hello nome scelto per il progetto di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="74a2c-139">Open hello **"ProjectName".cs** file where *ProjectName* is hello name you chose for your Visual Studio project.</span></span>  
2. <span data-ttu-id="74a2c-140">Trovare codice hello `ActorEventSource.Current.ActorMessage(this, "Doing Work");` in hello *DoWorkAsync* metodo.</span><span class="sxs-lookup"><span data-stu-id="74a2c-140">Find hello code `ActorEventSource.Current.ActorMessage(this, "Doing Work");` in hello *DoWorkAsync* method.</span></span>  <span data-ttu-id="74a2c-141">Questo è un esempio di una traccia ETW personalizzata scritta dal codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="74a2c-141">This is an example of a custom ETW trace written from application code.</span></span>  
3. <span data-ttu-id="74a2c-142">Nel file **ActorEventSource.cs**, si noterà un overload per hello `ActorEventSource.ActorMessage` metodo che deve essere utilizzato per gli eventi ad alta frequenza a causa di motivi tooperformance.</span><span class="sxs-lookup"><span data-stu-id="74a2c-142">In file **ActorEventSource.cs**, you will find an overload for hello `ActorEventSource.ActorMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="74a2c-143">Dopo l'aggiunta di ETW personalizzato traccia tooyour codice del servizio, è possibile compilare, distribuire ed eseguire un'applicazione hello toosee nuovamente l'evento nel Visualizzatore eventi di diagnostica hello.</span><span class="sxs-lookup"><span data-stu-id="74a2c-143">After adding custom ETW tracing tooyour service code, you can build, deploy, and run hello application again toosee your event(s) in hello Diagnostic Events Viewer.</span></span> <span data-ttu-id="74a2c-144">Se si esegue il debug di un'applicazione hello con **F5**, hello Visualizzatore eventi di diagnostica verrà aperto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="74a2c-144">If you debug hello application with **F5**, hello Diagnostic Events Viewer will open automatically.</span></span>

## <a name="next-steps"></a><span data-ttu-id="74a2c-145">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="74a2c-145">Next steps</span></span>
<span data-ttu-id="74a2c-146">Hello stesso codice di traccia che è stato aggiunto tooyour applicazione sopra per la diagnostica locale funzionerà con gli strumenti che è possibile utilizzare tooview questi eventi quando si esegue l'applicazione in un cluster di Azure.</span><span class="sxs-lookup"><span data-stu-id="74a2c-146">hello same tracing code that you added tooyour application above for local diagnostics will work with tools that you can use tooview these events when running your application on an Azure cluster.</span></span> <span data-ttu-id="74a2c-147">Consultare questi articoli illustrano hello opzioni diverse per gli strumenti di hello e una descrivono di come è possibile impostare.</span><span class="sxs-lookup"><span data-stu-id="74a2c-147">Check out these articles that discuss hello different options for hello tools and describe how you can set them up.</span></span>

* [<span data-ttu-id="74a2c-148">Modalità di registrazione toocollect con diagnostica di Azure</span><span class="sxs-lookup"><span data-stu-id="74a2c-148">How toocollect logs with Azure Diagnostics</span></span>](service-fabric-diagnostics-how-to-setup-wad.md)
* [<span data-ttu-id="74a2c-149">Aggregazione e raccolta di eventi con EventFlow</span><span class="sxs-lookup"><span data-stu-id="74a2c-149">Event aggregation and collection using EventFlow</span></span>](service-fabric-diagnostics-event-aggregation-eventflow.md)

