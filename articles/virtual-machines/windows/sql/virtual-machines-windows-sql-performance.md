---
title: aaaPerformance procedure consigliate per SQL Server in Azure | Documenti Microsoft
description: In questo argomento vengono fornite le procedure consigliate per ottimizzare le prestazioni di SQL Server in Macchine virtuali di Microsoft Azure.
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 42ec9fbeb2dec3a654b93bbd08d666369835ee73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="a2978-103">Procedure consigliate per le prestazioni per SQL Server in Macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="a2978-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="a2978-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="a2978-104">Overview</span></span>

<span data-ttu-id="a2978-105">Questo argomento illustra le procedure consigliate per ottimizzare le prestazioni di SQL Server in Macchine virtuali di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="a2978-106">Durante l'esecuzione di SQL Server in macchine virtuali di Azure, è consigliabile continuare a usare hello stesso database ottimizzazione delle prestazioni opzioni applicabili tooSQL Server nell'ambiente server locale.</span><span class="sxs-lookup"><span data-stu-id="a2978-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using hello same database performance tuning options that are applicable tooSQL Server in on-premises server environment.</span></span> <span data-ttu-id="a2978-107">Tuttavia, prestazioni di hello di un database relazionale in un cloud pubblico dipendono da molti fattori, ad esempio dimensioni hello di una macchina virtuale e la configurazione hello hello di dischi di dati.</span><span class="sxs-lookup"><span data-stu-id="a2978-107">However, hello performance of a relational database in a public cloud depends on many factors such as hello size of a virtual machine, and hello configuration of hello data disks.</span></span>

<span data-ttu-id="a2978-108">Durante la creazione di immagini di SQL Server, [prendere in considerazione il provisioning delle macchine virtuali nel portale di Azure hello](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-108">When creating SQL Server images, [consider provisioning your VMs in hello Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="a2978-109">Macchine virtuali di SQL Server disponibile nel portale di gestione risorse di hello implementare tutte queste le procedure consigliate, inclusa la configurazione di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-109">SQL Server VMs provisioned in hello Portal with Resource Manager implement all these best practices, including hello storage configuration.</span></span>

<span data-ttu-id="a2978-110">In questo articolo è incentrato su come ottenere hello *migliore* le prestazioni di SQL Server in macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-110">This article is focused on getting hello *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="a2978-111">Se il carico di lavoro è contenuto, potrebbero non essere necessarie tutte le ottimizzazione elencate di seguito.</span><span class="sxs-lookup"><span data-stu-id="a2978-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="a2978-112">Prendere in considerazione le esigenze di prestazioni e i modelli di carico di lavoro durante la valutazione di queste indicazioni.</span><span class="sxs-lookup"><span data-stu-id="a2978-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="a2978-113">Elenco di controllo rapido</span><span class="sxs-lookup"><span data-stu-id="a2978-113">Quick check list</span></span>

<span data-ttu-id="a2978-114">di seguito Hello è un elenco di controllo rapido per ottenere prestazioni ottimali di SQL Server in macchine virtuali di Azure:</span><span class="sxs-lookup"><span data-stu-id="a2978-114">hello following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="a2978-115">Area</span><span class="sxs-lookup"><span data-stu-id="a2978-115">Area</span></span> | <span data-ttu-id="a2978-116">Ottimizzazioni</span><span class="sxs-lookup"><span data-stu-id="a2978-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="a2978-117">Dimensioni macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="a2978-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="a2978-118">[DS3](../../virtual-machines-windows-sizes-memory.md) o superiore per SQL Enterprise.</span><span class="sxs-lookup"><span data-stu-id="a2978-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="a2978-119">[DS2](../../virtual-machines-windows-sizes-memory.md) o superiore per SQL Standard Edition e Web Edition.</span><span class="sxs-lookup"><span data-stu-id="a2978-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="a2978-120">Archiviazione</span><span class="sxs-lookup"><span data-stu-id="a2978-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="a2978-121">Usare [Archiviazione Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="a2978-122">Archiviazione Standard è consigliata solo per i carichi di lavoro di sviluppo/test.</span><span class="sxs-lookup"><span data-stu-id="a2978-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="a2978-123">Mantenere hello [account di archiviazione](../../../storage/common/storage-create-storage-account.md) e macchina virtuale di SQL Server in hello stessa area.</span><span class="sxs-lookup"><span data-stu-id="a2978-123">Keep hello [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in hello same region.</span></span><br/><br/><span data-ttu-id="a2978-124">Disabilitare Azure [archiviazione con ridondanza geografica](../../../storage/common/storage-redundancy.md) (replica geografica) nell'account di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on hello storage account.</span></span> |
| [<span data-ttu-id="a2978-125">Dischi</span><span class="sxs-lookup"><span data-stu-id="a2978-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="a2978-126">Usare almeno 2 [dischi P30](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 per i file di log, 1 per i file di dati e TempDB).</span><span class="sxs-lookup"><span data-stu-id="a2978-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="a2978-127">Evitare l'uso del sistema operativo o di dischi temporanei per la registrazione o l'archiviazione di database.</span><span class="sxs-lookup"><span data-stu-id="a2978-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="a2978-128">Abilitare la cache di lettura su dischi hello ospita i file di dati hello e TempDB.</span><span class="sxs-lookup"><span data-stu-id="a2978-128">Enable read caching on hello disk(s) hosting hello data files and TempDB.</span></span><br/><br/><span data-ttu-id="a2978-129">Non abilitare la memorizzazione nella cache nei dischi che ospitano i file di log hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-129">Do not enable caching on disk(s) hosting hello log file.</span></span><br/><br/><span data-ttu-id="a2978-130">Importante: Arrestare il servizio di SQL Server hello quando si modificano le impostazioni della cache di hello per un disco di macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-130">Important: Stop hello SQL Server service when changing hello cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="a2978-131">Eseguire lo striping di velocità effettiva dei / o tooget aumentato di dischi di più dati di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-131">Stripe multiple Azure data disks tooget increased IO throughput.</span></span><br/><br/><span data-ttu-id="a2978-132">Formattare con dimensioni di allocazione documentate.</span><span class="sxs-lookup"><span data-stu-id="a2978-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="a2978-133">I/O</span><span class="sxs-lookup"><span data-stu-id="a2978-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="a2978-134">Abilitare la compressione di pagina di database.</span><span class="sxs-lookup"><span data-stu-id="a2978-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="a2978-135">Abilitare l'inizializzazione immediata dei file per i file di dati.</span><span class="sxs-lookup"><span data-stu-id="a2978-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="a2978-136">Limitare o disabilitare l'aumento automatico delle dimensioni nel database di hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-136">Limit or disable autogrow on hello database.</span></span><br/><br/><span data-ttu-id="a2978-137">Disabilitare la compattazione automatica nel database di hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-137">Disable autoshrink on hello database.</span></span><br/><br/><span data-ttu-id="a2978-138">Spostare tutti i dischi toodata database, inclusi i database di sistema.</span><span class="sxs-lookup"><span data-stu-id="a2978-138">Move all databases toodata disks, including system databases.</span></span><br/><br/><span data-ttu-id="a2978-139">Spostare l'errore log e trace file directory toodata dischi del Server SQL.</span><span class="sxs-lookup"><span data-stu-id="a2978-139">Move SQL Server error log and trace file directories toodata disks.</span></span><br/><br/><span data-ttu-id="a2978-140">Configurare il percorso predefinito del file di backup e del file di database.</span><span class="sxs-lookup"><span data-stu-id="a2978-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="a2978-141">Abilitare le pagine bloccate.</span><span class="sxs-lookup"><span data-stu-id="a2978-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="a2978-142">Applicare le correzioni delle prestazioni di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a2978-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="a2978-143">Specifiche della funzione</span><span class="sxs-lookup"><span data-stu-id="a2978-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="a2978-144">Eseguire il backup direttamente tooblob archiviazione.</span><span class="sxs-lookup"><span data-stu-id="a2978-144">Back up directly tooblob storage.</span></span> |

<span data-ttu-id="a2978-145">Per ulteriori informazioni su *come* e *perché* toomake queste ottimizzazioni, controllare i dettagli di hello e informazioni aggiuntive fornite nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="a2978-145">For more information on *how* and *why* toomake these optimizations, please review hello details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="a2978-146">Linee guida per le dimensioni delle VM</span><span class="sxs-lookup"><span data-stu-id="a2978-146">VM size guidance</span></span>

<span data-ttu-id="a2978-147">Per applicazioni sensibili delle prestazioni, è consigliabile utilizzare la seguente hello [dimensioni delle macchine virtuali](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="a2978-147">For performance sensitive applications, it’s recommended that you use hello following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="a2978-148">**SQL Server Enterprise Edition**: DS3 o superiore</span><span class="sxs-lookup"><span data-stu-id="a2978-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="a2978-149">**SQL Server Standard e Web Edition**: DS2 o superiore</span><span class="sxs-lookup"><span data-stu-id="a2978-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="a2978-150">Linee guida per l'archiviazione</span><span class="sxs-lookup"><span data-stu-id="a2978-150">Storage guidance</span></span>

<span data-ttu-id="a2978-151">Le VM serie DS, oltre alle serie DSv2 e GS, supportano [Archiviazione Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="a2978-152">Archiviazione Premium è l'impostazione consigliata per tutti i carichi di lavoro di produzione.</span><span class="sxs-lookup"><span data-stu-id="a2978-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="a2978-153">Archiviazione Standard è caratterizzata da latenze e larghezze di banda variabili ed è consigliata solo per i carichi di lavoro di sviluppo e test.</span><span class="sxs-lookup"><span data-stu-id="a2978-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="a2978-154">Per i carichi di lavoro di produzione si consiglia di usare Archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="a2978-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="a2978-155">Inoltre, si consiglia di creare l'account di archiviazione di Azure in hello stesso data center, come i ritardi nel trasferimento tooreduce macchine virtuali SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a2978-155">In addition, we recommend that you create your Azure storage account in hello same data center as your SQL Server virtual machines tooreduce transfer delays.</span></span> <span data-ttu-id="a2978-156">Quando si crea un account di archiviazione, disabilitare la replica geografica in quanto l'ordine di scrittura coerente su più dischi non è garantito.</span><span class="sxs-lookup"><span data-stu-id="a2978-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="a2978-157">In alternativa, si consiglia di configurare una tecnologia di ripristino di emergenza di SQL Server tra due data center di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="a2978-158">Per altre informazioni, vedere [Disponibilità elevata e ripristino di emergenza per SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="a2978-159">Linee guida per i dischi</span><span class="sxs-lookup"><span data-stu-id="a2978-159">Disks guidance</span></span>

<span data-ttu-id="a2978-160">Esistono tre tipi di disco principali in una VM Azure:</span><span class="sxs-lookup"><span data-stu-id="a2978-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="a2978-161">**Disco del sistema operativo**: quando si crea una macchina virtuale di Azure, piattaforma hello assocerà almeno un disco (etichettata come hello **C** unità) toohello macchina virtuale per il disco del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a2978-161">**OS disk**: When you create an Azure Virtual Machine, hello platform will attach at least one disk (labeled as hello **C** drive) toohello VM for your operating system disk.</span></span> <span data-ttu-id="a2978-162">Si tratta di un disco rigido virtuale memorizzato come BLOB di pagine nell'archivio.</span><span class="sxs-lookup"><span data-stu-id="a2978-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="a2978-163">**Disco temporaneo**: macchine virtuali di Azure contengono un altro disco denominato disco temporaneo hello (etichettata come hello **D**: unità).</span><span class="sxs-lookup"><span data-stu-id="a2978-163">**Temporary disk**: Azure Virtual Machines contain another disk called hello temporary disk (labeled as hello **D**: drive).</span></span> <span data-ttu-id="a2978-164">Si tratta di un disco nel nodo hello che può essere utilizzato per l'area scratch.</span><span class="sxs-lookup"><span data-stu-id="a2978-164">This is a disk on hello node that can be used for scratch space.</span></span>
* <span data-ttu-id="a2978-165">**I dischi dati**: È anche possibile collegare dischi aggiuntivi tooyour virtual machine come dischi dati e verranno archiviati nel servizio di archiviazione come BLOB di pagine.</span><span class="sxs-lookup"><span data-stu-id="a2978-165">**Data disks**: You can also attach additional disks tooyour virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="a2978-166">Hello nelle sezioni seguenti vengono descritti consigli per l'utilizzo di questi dischi diversi.</span><span class="sxs-lookup"><span data-stu-id="a2978-166">hello following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="a2978-167">Disco del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="a2978-167">Operating system disk</span></span>

<span data-ttu-id="a2978-168">Per disco del sistema operativo si intende un disco rigido virtuale che è possibile avviare e montare come versione in esecuzione di un sistema operativo ed è etichettato come unità **C** .</span><span class="sxs-lookup"><span data-stu-id="a2978-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="a2978-169">Valore predefinito di memorizzazione nella cache dei criteri nel disco del sistema operativo hello è **lettura/scrittura**.</span><span class="sxs-lookup"><span data-stu-id="a2978-169">Default caching policy on hello operating system disk is **Read/Write**.</span></span> <span data-ttu-id="a2978-170">Per applicazioni sensibili delle prestazioni, è consigliabile usare dischi dati anziché disco del sistema operativo hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-170">For performance sensitive applications, we recommend that you use data disks instead of hello operating system disk.</span></span> <span data-ttu-id="a2978-171">Nella sezione hello nei dischi di dati sottostante.</span><span class="sxs-lookup"><span data-stu-id="a2978-171">See hello section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="a2978-172">Disco temporaneo</span><span class="sxs-lookup"><span data-stu-id="a2978-172">Temporary disk</span></span>

<span data-ttu-id="a2978-173">unità di archiviazione temporanea, etichettata come hello Hello **D**: disco, non è persistente tooAzure nell'archiviazione blob.</span><span class="sxs-lookup"><span data-stu-id="a2978-173">hello temporary storage drive, labeled as hello **D**: drive, is not persisted tooAzure blob storage.</span></span> <span data-ttu-id="a2978-174">Non archiviare il file del database utente o un file di log delle transazioni utente in hello **D**: unità.</span><span class="sxs-lookup"><span data-stu-id="a2978-174">Do not store your user database files or user transaction log files on hello **D**: drive.</span></span>

<span data-ttu-id="a2978-175">Per la serie D Dv2 serie e le macchine virtuali serie G, unità temporanea di hello su queste macchine virtuali è basata su SSD.</span><span class="sxs-lookup"><span data-stu-id="a2978-175">For D-series, Dv2-series, and G-series VMs, hello temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="a2978-176">Se il carico di lavoro utilizza in modo intensivo del database TempDB (ad esempio per gli oggetti temporanei o join complessi), l'archiviazione di TempDB in hello **D** unità potrebbe causare una velocità effettiva di TempDB e TempDB latenza più bassa.</span><span class="sxs-lookup"><span data-stu-id="a2978-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on hello **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="a2978-177">Per le macchine virtuali che supportano Archiviazione Premium (serie DS, DSv2 e GS), si consiglia di archiviare TempDB su un disco che supporta Archiviazione Premium con il caching di lettura attivato.</span><span class="sxs-lookup"><span data-stu-id="a2978-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="a2978-178">Un'eccezione toothis indicazione; Se l'utilizzo di TempDB è elevato della scrittura, è possibile ottenere prestazioni più elevate archiviando TempDB in locale hello **D** unità, è inoltre basate su SSD sulle dimensioni di questi computer.</span><span class="sxs-lookup"><span data-stu-id="a2978-178">There is one exception toothis recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on hello local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="a2978-179">Dischi dati</span><span class="sxs-lookup"><span data-stu-id="a2978-179">Data disks</span></span>

* <span data-ttu-id="a2978-180">**Utilizzare dischi dati per i file di dati e di log**: come minimo, usare l'archiviazione Premium 2 [P30 dischi](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) in un disco contiene i file di log hello e altri hello contiene dati hello e i file di TempDB.</span><span class="sxs-lookup"><span data-stu-id="a2978-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains hello log file(s) and hello other contains hello data and TempDB file(s).</span></span> <span data-ttu-id="a2978-181">Ogni disco di archiviazione Premium fornisce una serie di operazioni IOPs e la larghezza di banda (MB/s) a seconda delle dimensioni, come descritto nell'articolo seguente hello: [con archiviazione Premium per i dischi](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in hello following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="a2978-182">**Striping del disco**: per una maggiore velocità effettiva, è possibile aggiungere ulteriori dischi dati e usare lo striping del disco.</span><span class="sxs-lookup"><span data-stu-id="a2978-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="a2978-183">numero di hello toodetermine di dischi dati, è necessario tooanalyze hello svariate e larghezza di banda necessaria per i file di log e per i dati e i file di TempDB.</span><span class="sxs-lookup"><span data-stu-id="a2978-183">toodetermine hello number of data disks, you need tooanalyze hello number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="a2978-184">Si noti che diverse dimensioni di macchina virtuale sono diversi limiti sul numero di hello di IOPs e la larghezza di banda supportate, vedere le tabelle di hello in IOPS per [dimensioni della macchina virtuale](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a2978-184">Notice that different VM sizes have different limits on hello number of IOPs and bandwidth supported, see hello tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="a2978-185">Utilizzare hello alle linee guida:</span><span class="sxs-lookup"><span data-stu-id="a2978-185">Use hello following guidelines:</span></span>

  * <span data-ttu-id="a2978-186">Per Windows 8 e Windows Server 2012 o versione successiva, utilizzare [spazi di archiviazione](https://technet.microsoft.com/library/hh831739.aspx) con hello alle linee guida:</span><span class="sxs-lookup"><span data-stu-id="a2978-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with hello following guidelines:</span></span>

      1. <span data-ttu-id="a2978-187">Set hello interleave (dimensione di striping) too64 KB (65536 byte) per i carichi di lavoro OLTP e 256 KB (262.144 byte) per il data warehousing impatto sulle prestazioni di carichi di lavoro tooavoid a causa di problemi di allineamento toopartition.</span><span class="sxs-lookup"><span data-stu-id="a2978-187">Set hello interleave (stripe size) too64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads tooavoid performance impact due toopartition misalignment.</span></span> <span data-ttu-id="a2978-188">Questo valore deve essere impostato con PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a2978-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="a2978-189">Impostare il numero di colonne sul numero di dischi fisici.</span><span class="sxs-lookup"><span data-stu-id="a2978-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="a2978-190">Usare PowerShell (e non l'interfaccia utente di Server Manager) per configurare più di 8 dischi.</span><span class="sxs-lookup"><span data-stu-id="a2978-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="a2978-191">Ad esempio, hello PowerShell seguente crea un nuovo pool di archiviazione con hello interleave dimensioni too64 KB e hello il numero di colonne too2:</span><span class="sxs-lookup"><span data-stu-id="a2978-191">For example, hello following PowerShell creates a new storage pool with hello interleave size too64 KB and hello number of columns too2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="a2978-192">Per Windows 2008 R2 o versioni precedenti, è possibile utilizzare i dischi dinamici (volumi con striping OS) e la dimensione di striping hello è sempre 64 KB.</span><span class="sxs-lookup"><span data-stu-id="a2978-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and hello stripe size is always 64 KB.</span></span> <span data-ttu-id="a2978-193">Si noti che questa opzione è deprecata a partire da Windows 8 e Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="a2978-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="a2978-194">Per informazioni, vedere l'istruzione di supporto hello in [servizio dischi virtuali viene effettuata la transizione tooWindows API di gestione archiviazione](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-194">For information, see hello support statement at [Virtual Disk Service is transitioning tooWindows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="a2978-195">Se il carico di lavoro non usa in modo intensivo i log e non sono necessarie operazioni di input/output al secondo dedicate, è possibile configurare un solo pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="a2978-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="a2978-196">In caso contrario, creare due pool di archiviazione, uno per i file di log hello e un altro pool di archiviazione per i file di dati hello e TempDB.</span><span class="sxs-lookup"><span data-stu-id="a2978-196">Otherwise, create two storage pools, one for hello log file(s) and another storage pool for hello data file(s) and TempDB.</span></span> <span data-ttu-id="a2978-197">Determinare il numero di hello di dischi associati a ogni pool di archiviazione in base alle proprie aspettative di carico.</span><span class="sxs-lookup"><span data-stu-id="a2978-197">Determine hello number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="a2978-198">Tenere presente che le diverse dimensioni di macchine virtuali consentono diversi numeri di dischi dati associati.</span><span class="sxs-lookup"><span data-stu-id="a2978-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="a2978-199">Per altre informazioni, vedere [Dimensioni delle macchine virtuali in Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a2978-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="a2978-200">Se non si utilizza l'archiviazione Premium (scenari di sviluppo/test), indicazione hello è numero massimo di hello tooadd di dischi di dati supportati dal [dimensioni delle macchine Virtuali](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) e utilizzare lo Striping del disco.</span><span class="sxs-lookup"><span data-stu-id="a2978-200">If you are not using Premium Storage (dev/test scenarios), hello recommendation is tooadd hello maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="a2978-201">**Criteri di memorizzazione nella cache**: i dischi di dati per l'archiviazione Premium, abilitare la cache di lettura sui dischi dati hello ospita solo il file di dati e di TempDB.</span><span class="sxs-lookup"><span data-stu-id="a2978-201">**Caching policy**: For Premium Storage data disks, enable read caching on hello data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="a2978-202">Se non si usa Archiviazione Premium, non abilitare la memorizzazione nella cache per i dischi dati.</span><span class="sxs-lookup"><span data-stu-id="a2978-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="a2978-203">Per istruzioni su come configurare la cache del disco, vedere hello seguenti argomenti: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) e [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-203">For instructions on configuring disk caching, see hello following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="a2978-204">Arrestare il servizio di SQL Server hello quando si modifica l'impostazione della cache di hello della macchina virtuale di Azure dischi tooavoid hello probabilità eventuali danneggiamenti del database.</span><span class="sxs-lookup"><span data-stu-id="a2978-204">Stop hello SQL Server service when changing hello cache setting of Azure VM disks tooavoid hello possibility of any database corruption.</span></span>

* <span data-ttu-id="a2978-205">**Dimensioni dell'unità di allocazione NTFS**: quando si formatta il disco di dati hello, si consiglia di utilizzare una dimensione di unità di allocazione di 64 KB per file di dati e di log, nonché di TempDB.</span><span class="sxs-lookup"><span data-stu-id="a2978-205">**NTFS allocation unit size**: When formatting hello data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="a2978-206">**Procedure consigliate di gestione del disco**: quando si digita la rimozione di un disco dati o modificare la cache, è possibile arrestare il servizio di SQL Server hello durante la modifica di hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop hello SQL Server service during hello change.</span></span> <span data-ttu-id="a2978-207">Quando le impostazioni di memorizzazione nella cache di hello sono modificato sul disco del sistema operativo hello, Azure arresta hello VM cambia il tipo di cache di hello e riavvia hello VM.</span><span class="sxs-lookup"><span data-stu-id="a2978-207">When hello caching settings are changed on hello OS disk, Azure stops hello VM, changes hello cache type, and restarts hello VM.</span></span> <span data-ttu-id="a2978-208">Quando vengono modificate le impostazioni della cache di hello di un disco dati, hello VM non è stato arrestato, ma il disco di dati hello viene disconnesso da hello VM hello durante la modifica e il successivo ricollegamento.</span><span class="sxs-lookup"><span data-stu-id="a2978-208">When hello cache settings of a data disk are changed, hello VM is not stopped, but hello data disk is detached from hello VM during hello change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="a2978-209">Hello toostop errore del servizio SQL Server durante queste operazioni può causare il danneggiamento del database.</span><span class="sxs-lookup"><span data-stu-id="a2978-209">Failure toostop hello SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="a2978-210">Linee guida per l'I/O</span><span class="sxs-lookup"><span data-stu-id="a2978-210">I/O guidance</span></span>

* <span data-ttu-id="a2978-211">Quando si parallelizza dell'applicazione e le richieste, vengono ottenuti i risultati di migliore Hello con archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="a2978-211">hello best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="a2978-212">Archiviazione Premium è progettato per scenari in cui la profondità della coda i/o hello è maggiore di 1, in modo che le minime o alcun miglioramento delle prestazioni per le richieste di seriale a thread singolo (anche se sono con utilizzo intensivo di archiviazione).</span><span class="sxs-lookup"><span data-stu-id="a2978-212">Premium Storage is designed for scenarios where hello IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="a2978-213">Ad esempio, ciò potrebbe influire sulla di risultati dei test a thread singolo hello di strumenti di analisi delle prestazioni, ad esempio SQLIO.</span><span class="sxs-lookup"><span data-stu-id="a2978-213">For example, this could impact hello single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="a2978-214">È consigliabile usare la [compressione di pagina del database](https://msdn.microsoft.com/library/cc280449.aspx) in quanto consente di migliorare le prestazioni dei carichi di lavoro con utilizzo intensivo di I/O.</span><span class="sxs-lookup"><span data-stu-id="a2978-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="a2978-215">Tuttavia, la compressione dei dati di hello potrebbe aumentare l'utilizzo della CPU nel server di database hello hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-215">However, hello data compression might increase hello CPU consumption on hello database server.</span></span>

* <span data-ttu-id="a2978-216">Considerare l'attivazione immediata dei file inizializzazione tooreduce hello tempo necessario per l'allocazione iniziale di file.</span><span class="sxs-lookup"><span data-stu-id="a2978-216">Consider enabling instant file initialization tooreduce hello time that is required for initial file allocation.</span></span> <span data-ttu-id="a2978-217">Il vantaggio di tootake dell'inizializzazione immediata dei file, concedere hello account del servizio SQL Server (MSSQLSERVER) SE_MANAGE_VOLUME_NAME e aggiungerlo toohello **eseguire attività di manutenzione Volume** criteri di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="a2978-217">tootake advantage of instant file initialization, you grant hello SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="a2978-218">Se si utilizza un'immagine della piattaforma SQL Server per Azure, account del servizio predefinito hello (NT Service\MSSQLSERVER) non verrà aggiunto toohello **eseguire attività di manutenzione Volume** criteri di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="a2978-218">If you are using a SQL Server platform image for Azure, hello default service account (NT Service\MSSQLSERVER) isn’t added toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="a2978-219">In altre parole, l'inizializzazione file immediata non è abilitata in un'immagine della piattaforma Server SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="a2978-220">Dopo l'aggiunta di hello SQL Server service account toohello **eseguire attività di manutenzione Volume** criteri di protezione, riavviare il servizio SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-220">After adding hello SQL Server service account toohello **Perform Volume Maintenance Tasks** security policy, restart hello SQL Server service.</span></span> <span data-ttu-id="a2978-221">Potrebbero essere presenti indicazioni sulla sicurezza da considerare per l'utilizzo di questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="a2978-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="a2978-222">Per altre informazioni, vedere [Inizializzazione di file di database](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="a2978-223">**aumento automatico delle dimensioni** viene considerato toobe una semplice contingenza per la crescita imprevista.</span><span class="sxs-lookup"><span data-stu-id="a2978-223">**autogrow** is considered toobe merely a contingency for unexpected growth.</span></span> <span data-ttu-id="a2978-224">La crescita dei dati e dei log non viene gestita quotidianamente con l'aumento automatico delle dimensioni.</span><span class="sxs-lookup"><span data-stu-id="a2978-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="a2978-225">Se viene usata, pre-aumento delle dimensioni file hello utilizzando l'opzione Size hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-225">If autogrow is used, pre-grow hello file using hello Size switch.</span></span>

* <span data-ttu-id="a2978-226">Assicurarsi che **autoshrink** è disabilitato tooavoid inutili sovraccarichi che possono influire negativamente sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a2978-226">Make sure **autoshrink** is disabled tooavoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="a2978-227">Spostare tutti i dischi toodata database, inclusi i database di sistema.</span><span class="sxs-lookup"><span data-stu-id="a2978-227">Move all databases toodata disks, including system databases.</span></span> <span data-ttu-id="a2978-228">Per altre informazioni vedere l'articolo [Spostare i database di sistema](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="a2978-229">Spostare l'errore log e trace file directory toodata dischi del Server SQL.</span><span class="sxs-lookup"><span data-stu-id="a2978-229">Move SQL Server error log and trace file directories toodata disks.</span></span> <span data-ttu-id="a2978-230">È possibile farlo in Gestione configurazione SQL Server facendo clic con il pulsante destro del mouse sull'istanza di SQL Server e selezionando Proprietà.</span><span class="sxs-lookup"><span data-stu-id="a2978-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="a2978-231">Hello impostazioni di file registro e di traccia di errore possono essere modificate in hello **parametri di avvio** hello scheda Dump Directory specificata nella hello **avanzate** hello scheda schermata seguente viene illustrato dove toolook per parametro di avvio Registro errore Hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-231">hello error log and trace file settings can be changed in hello **Startup Parameters** tab. hello Dump Directory is specified in hello **Advanced** tab. hello following screenshot shows where toolook for hello error log startup parameter.</span></span>

    ![Schermata del log degli errori di SQL](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="a2978-233">Configurare il percorso predefinito del file di backup e del file di database.</span><span class="sxs-lookup"><span data-stu-id="a2978-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="a2978-234">Usare i suggerimenti di hello in questo argomento e apportare modifiche di hello nella finestra proprietà di Server hello.</span><span class="sxs-lookup"><span data-stu-id="a2978-234">Use hello recommendations in this topic, and make hello changes in hello Server properties window.</span></span> <span data-ttu-id="a2978-235">Per istruzioni, vedere [hello visualizzare o modificare percorsi predefiniti per i dati e i file di Log (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-235">For instructions, see [View or Change hello Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="a2978-236">Hello schermata riportata di seguito viene illustrato dove toomake queste modifiche.</span><span class="sxs-lookup"><span data-stu-id="a2978-236">hello following screenshot demonstrates where toomake these changes.</span></span>

    ![File di log e di backup di SQL](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="a2978-238">Abilita bloccato tooreduce pagine i/o e qualsiasi attività di paging.</span><span class="sxs-lookup"><span data-stu-id="a2978-238">Enable locked pages tooreduce IO and any paging activities.</span></span> <span data-ttu-id="a2978-239">Per ulteriori informazioni, vedere [abilitare hello Lock Pages in Memory-opzione (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-239">For more information, see [Enable hello Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="a2978-240">Se si esegue SQL Server 2012, installare l'aggiornamento cumulativo 10 del Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="a2978-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="a2978-241">Questo aggiornamento contiene correzione hello per ridurre le prestazioni dei / o quando si esegue select nell'istruzione di tabella temporanea in SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="a2978-241">This update contains hello fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="a2978-242">Per altre informazioni, vedere questo [articolo della Knowledge Base](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="a2978-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="a2978-243">È consigliabile comprimere i file di dati durante il trasferimento in entrata e in uscita di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="a2978-244">Linee guida per le specifiche della funzione</span><span class="sxs-lookup"><span data-stu-id="a2978-244">Feature specific guidance</span></span>

<span data-ttu-id="a2978-245">Alcune distribuzioni possono ottenere ulteriori miglioramenti delle prestazioni usando tecniche di configurazione più avanzate.</span><span class="sxs-lookup"><span data-stu-id="a2978-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="a2978-246">Hello seguito sono riportate alcune funzionalità di SQL Server che consentono di ottenere prestazioni migliori tooachieve:</span><span class="sxs-lookup"><span data-stu-id="a2978-246">hello following list highlights some SQL Server features that can help you tooachieve better performance:</span></span>

* <span data-ttu-id="a2978-247">**Eseguire il backup archiviazione tooAzure**: quando si eseguono backup per SQL Server in esecuzione in macchine virtuali di Azure, è possibile utilizzare [tooURL di Backup di SQL Server](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-247">**Backup tooAzure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="a2978-248">Questa funzionalità è disponibile a partire da SQL Server 2012 SP1 CU2 e consigliati per il backup dei dischi dati toohello associata.</span><span class="sxs-lookup"><span data-stu-id="a2978-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up toohello attached data disks.</span></span> <span data-ttu-id="a2978-249">Quando si backup/ripristino in/da archiviazione di Azure, seguire indicazioni hello disponibili in [Backup di SQL Server tooURL procedure consigliate e risoluzione dei problemi e ripristino da backup archiviati in archiviazione di Azure](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2978-249">When you backup/restore to/from Azure storage, follow hello recommendations provided at [SQL Server Backup tooURL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="a2978-250">È anche possibile automatizzare i backup usando [Backup automatizzato per SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="a2978-251">TooSQL precedente Server 2012, è possibile utilizzare [Backup di SQL Server tooAzure strumento](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="a2978-251">Prior tooSQL Server 2012, you can use [SQL Server Backup tooAzure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="a2978-252">Questo strumento consente di velocità effettiva del backup tooincrease utilizzando più destinazioni di backup in striping.</span><span class="sxs-lookup"><span data-stu-id="a2978-252">This tool can help tooincrease backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="a2978-253">**File di dati di SQL Server in Azure**: questa nuova funzionalità ( [file di dati di SQL Server in Azure](https://msdn.microsoft.com/library/dn385720.aspx)) è disponibile a partire da SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="a2978-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="a2978-254">L'esecuzione di SQL Server con file di dati in Azure dimostra le caratteristiche di prestazioni paragonabili a quelle dei dischi dati di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2978-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a2978-255">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a2978-255">Next Steps</span></span>

<span data-ttu-id="a2978-256">Per le procedure consigliate relative alla sicurezza, vedere [Considerazioni relative alla sicurezza per SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="a2978-257">Esaminare altri argomenti relativi alle macchine virtuali di SQL Server in [Panoramica di SQL Server in Macchine virtuali di Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a2978-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
