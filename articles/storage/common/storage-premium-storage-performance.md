---
title: 'Archiviazione Premium di Azure: progettata per prestazioni elevate | Microsoft Docs'
description: Progettare applicazioni a prestazioni elevate con l'Archiviazione Premium di Azure. Archiviazione Premium offre prestazioni elevate e supporto per dischi a bassa latenza per carichi di lavoro con I/O intensivo in esecuzione su Macchine virtuali di Azure.
services: storage
documentationcenter: na
author: aungoo-msft
manager: tadb
editor: tysonn
ms.assetid: e6a409c3-d31a-4704-a93c-0a04fdc95960
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/27/2017
ms.author: aungoo
ms.openlocfilehash: dde3e60ae4c8387150b65f0715166b5d549891e3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-premium-storage-design-for-high-performance"></a><span data-ttu-id="9a42e-104">Archiviazione Premium di Azure: progettata per prestazioni elevate</span><span class="sxs-lookup"><span data-stu-id="9a42e-104">Azure Premium Storage: Design for High Performance</span></span>
## <a name="overview"></a><span data-ttu-id="9a42e-105">Overview</span><span class="sxs-lookup"><span data-stu-id="9a42e-105">Overview</span></span>
<span data-ttu-id="9a42e-106">Questo articolo fornisce indicazioni per lo sviluppo di applicazioni a prestazioni elevate mediante l'Archiviazione Premium di Azure.</span><span class="sxs-lookup"><span data-stu-id="9a42e-106">This article provides guidelines for building high performance applications using Azure Premium Storage.</span></span> <span data-ttu-id="9a42e-107">È possibile utilizzare istruzioni hello fornite in questo documento combinato con prestazioni migliori procedure consigliate applicabile tootechnologies utilizzati dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-107">You can use hello instructions provided in this document combined with performance best practices applicable tootechnologies used by your application.</span></span> <span data-ttu-id="9a42e-108">linee guida hello tooillustrate, è stato utilizzato SQL Server in esecuzione in archiviazione Premium come un esempio in questo documento.</span><span class="sxs-lookup"><span data-stu-id="9a42e-108">tooillustrate hello guidelines, we have used SQL Server running on Premium Storage as an example throughout this document.</span></span>

<span data-ttu-id="9a42e-109">Mentre si risolve gli scenari di prestazioni per il livello di archiviazione hello in questo articolo, sarà necessario toooptimize livello dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-109">While we address performance scenarios for hello Storage layer in this article, you will need toooptimize hello application layer.</span></span> <span data-ttu-id="9a42e-110">Ad esempio, se si ospita una SharePoint Farm su archiviazione Premium di Azure, è possibile utilizzare gli esempi di SQL Server hello dal server di database in questo articolo toooptimize hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-110">For example, if you are hosting a SharePoint Farm on Azure Premium Storage, you can use hello SQL Server examples from this article toooptimize hello database server.</span></span> <span data-ttu-id="9a42e-111">Inoltre, ottimizzare hello tooget di applicazioni server e di server Web della Farm di SharePoint hello la maggior parte delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-111">Additionally, optimize hello SharePoint Farm's Web server and Application server tooget hello most performance.</span></span>

<span data-ttu-id="9a42e-112">Questo articolo è utile per rispondere alle domande comuni seguenti sull'ottimizzazione delle prestazioni dell'applicazione nell'Archiviazione Premium di Azure:</span><span class="sxs-lookup"><span data-stu-id="9a42e-112">This article will help answer following common questions about optimizing application performance on Azure Premium Storage,</span></span>

* <span data-ttu-id="9a42e-113">Come toomeasure le prestazioni dell'applicazione?</span><span class="sxs-lookup"><span data-stu-id="9a42e-113">How toomeasure your application performance?</span></span>  
* <span data-ttu-id="9a42e-114">Perché non si ottengono le prestazioni elevate previste?</span><span class="sxs-lookup"><span data-stu-id="9a42e-114">Why are you not seeing expected high performance?</span></span>  
* <span data-ttu-id="9a42e-115">Quali fattori influenzano le prestazioni dell'applicazione nell'Archiviazione Premium?</span><span class="sxs-lookup"><span data-stu-id="9a42e-115">Which factors influence your application performance on Premium Storage?</span></span>  
* <span data-ttu-id="9a42e-116">In che modo questi fattori influenzano le prestazioni dell'applicazione nell'Archiviazione Premium?</span><span class="sxs-lookup"><span data-stu-id="9a42e-116">How do these factors influence performance of your application on Premium Storage?</span></span>  
* <span data-ttu-id="9a42e-117">Come si ottiene l'ottimizzazione per IOPS, larghezza di banda e latenza?</span><span class="sxs-lookup"><span data-stu-id="9a42e-117">How can you optimize for IOPS, Bandwidth and Latency?</span></span>  

<span data-ttu-id="9a42e-118">Queste indicazioni sono specifiche per l'Archiviazione Premium, perché i carichi di lavoro in esecuzione nell'Archiviazione Premium sono influenzati in modo significativo dalle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-118">We have provided these guidelines specifically for Premium Storage because workloads running on Premium Storage are highly performance sensitive.</span></span> <span data-ttu-id="9a42e-119">Sono disponibili esempi nei casi appropriati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-119">We have provided examples where appropriate.</span></span> <span data-ttu-id="9a42e-120">È inoltre possibile applicare alcune di queste linee guida tooapplications in esecuzione in macchine virtuali IaaS con i dischi di archiviazione Standard.</span><span class="sxs-lookup"><span data-stu-id="9a42e-120">You can also apply some of these guidelines tooapplications running on IaaS VMs with Standard Storage disks.</span></span>

<span data-ttu-id="9a42e-121">Prima di iniziare, se si è tooPremium nuova archiviazione, leggere prima hello [archiviazione Premium: archiviazione ad alte prestazioni per carichi di lavoro di macchina virtuale Azure](../storage-premium-storage.md) e [Azure obiettivi di scalabilità e prestazioni](storage-scalability-targets.md)articoli.</span><span class="sxs-lookup"><span data-stu-id="9a42e-121">Before you begin, if you are new tooPremium Storage, first read hello [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](../storage-premium-storage.md) and [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) articles.</span></span>

## <a name="application-performance-indicators"></a><span data-ttu-id="9a42e-122">Indicatori di prestazioni dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-122">Application Performance Indicators</span></span>
<span data-ttu-id="9a42e-123">È valutare se l'esecuzione di un'applicazione ben o non utilizzare come indicatori di prestazioni, la velocità con cui un'applicazione sta elaborando una richiesta dell'utente, la quantità di dati è l'elaborazione di un'applicazione per ogni richiesta, il numero di richieste è un'applicazione di elaborazione in uno specifico periodo di tempo, quanto tempo che un utente ha toowait tooget una risposta dopo aver inviato la richiesta.</span><span class="sxs-lookup"><span data-stu-id="9a42e-123">We assess whether an application is performing well or not using performance indicators like, how fast an application is processing a user request, how much data an application is processing per request, how many requests is an application processing in a specific period of time, how long a user has toowait tooget a response after submitting their request.</span></span> <span data-ttu-id="9a42e-124">termini tecnici di Hello per questi indicatori di prestazioni sono IOPS, velocità effettiva o della larghezza di banda e latenza.</span><span class="sxs-lookup"><span data-stu-id="9a42e-124">hello technical terms for these performance indicators are, IOPS, Throughput or Bandwidth, and Latency.</span></span>

<span data-ttu-id="9a42e-125">In questa sezione verranno trattati hello comuni gli indicatori di prestazioni nel contesto di hello dell'archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-125">In this section, we will discuss hello common performance indicators in hello context of Premium Storage.</span></span> <span data-ttu-id="9a42e-126">In hello seguente sezione, la raccolta dei requisiti dell'applicazione, si apprenderà come toomeasure questi indicatori di prestazioni per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-126">In hello following section, Gathering Application Requirements, you will learn how toomeasure these performance indicators for your application.</span></span> <span data-ttu-id="9a42e-127">Più avanti in ottimizzazione delle prestazioni dell'applicazione, si apprenderà incidono hello questi toooptimize di indicatori e indicazioni sulle prestazioni li.</span><span class="sxs-lookup"><span data-stu-id="9a42e-127">Later in Optimizing Application Performance, you will learn about hello factors affecting these performance indicators and recommendations toooptimize them.</span></span>

## <a name="iops"></a><span data-ttu-id="9a42e-128">IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-128">IOPS</span></span>
<span data-ttu-id="9a42e-129">IOPS è numero di richieste che l'applicazione invia toohello dischi di archiviazione in un secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-129">IOPS is number of requests that your application is sending toohello storage disks in one second.</span></span> <span data-ttu-id="9a42e-130">Un'operazione di input/output può essere di lettura o di scrittura, sequenziale o casuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-130">An input/output operation could be read or write, sequential or random.</span></span> <span data-ttu-id="9a42e-131">Le applicazioni OLTP come un sito Web delle vendite al dettaglio online necessitano tooprocess immediatamente le richieste di molti utenti simultanei.</span><span class="sxs-lookup"><span data-stu-id="9a42e-131">OLTP applications like an online retail website need tooprocess many concurrent user requests immediately.</span></span> <span data-ttu-id="9a42e-132">le richieste utente Hello sono insert e aggiornare le transazioni di database con utilizzo intensivo, l'applicazione hello deve elaborare rapidamente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-132">hello user requests are insert and update intensive database transactions, which hello application must process quickly.</span></span> <span data-ttu-id="9a42e-133">Le applicazioni OLTP richiedono quindi valori molto elevati per IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-133">Therefore, OLTP applications require very high IOPS.</span></span> <span data-ttu-id="9a42e-134">Queste applicazioni gestiscono milioni di richieste I/O di piccole dimensioni e casuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-134">Such applications handle millions of small and random IO requests.</span></span> <span data-ttu-id="9a42e-135">Se si dispone di un'applicazione, è necessario progettare hello applicazione infrastruttura toooptimize per IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-135">If you have such an application, you must design hello application infrastructure toooptimize for IOPS.</span></span> <span data-ttu-id="9a42e-136">In hello sezione in un secondo momento, *ottimizzazione delle prestazioni delle applicazioni*, verranno illustrate in dettaglio tutti i fattori di hello che è necessario considerare tooget numero elevato di IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-136">In hello later section, *Optimizing Application Performance*, we discuss in detail all hello factors that you must consider tooget high IOPS.</span></span>

<span data-ttu-id="9a42e-137">Quando si collega un premium archiviazione disco tooyour su larga scala macchina virtuale, Azure esegue il provisioning per consentire un numero garantito di IOPS in base alla specifica di disco hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-137">When you attach a premium storage disk tooyour high scale VM, Azure provisions for you a guaranteed number of IOPS as per hello disk specification.</span></span> <span data-ttu-id="9a42e-138">Ad esempio, un disco P50 effettua il provisioning di 7500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-138">For example, a P50 disk provisions 7500 IOPS.</span></span> <span data-ttu-id="9a42e-139">Ogni dimensione di VM a scalabilità elevata prevede anche un limite di IOPS specifico sostenibile.</span><span class="sxs-lookup"><span data-stu-id="9a42e-139">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="9a42e-140">Ad esempio, una VM GS5 Standard ha un limite di 80.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-140">For example, a Standard GS5 VM has 80,000 IOPS limit.</span></span>

## <a name="throughput"></a><span data-ttu-id="9a42e-141">Velocità effettiva</span><span class="sxs-lookup"><span data-stu-id="9a42e-141">Throughput</span></span>
<span data-ttu-id="9a42e-142">Velocità effettiva o larghezza di banda è quantità hello di dati che l'applicazione invia toohello dischi di archiviazione in un intervallo specificato.</span><span class="sxs-lookup"><span data-stu-id="9a42e-142">Throughput or Bandwidth is hello amount of data that your application is sending toohello storage disks in a specified interval.</span></span> <span data-ttu-id="9a42e-143">Se l'applicazione esegue operazioni di input/output con dimensioni elevate per le unità I/O, richiederà una velocità effettiva elevata.</span><span class="sxs-lookup"><span data-stu-id="9a42e-143">If your application is performing input/output operations with large IO unit sizes, it requires high Throughput.</span></span> <span data-ttu-id="9a42e-144">Applicazioni del data warehouse tendono tooissue con utilizzo intensivo operazioni di analisi che accedono a grandi porzioni di dati in un momento e in genere eseguono operazioni di massa.</span><span class="sxs-lookup"><span data-stu-id="9a42e-144">Data warehouse applications tend tooissue scan intensive operations that access large portions of data at a time and commonly perform bulk operations.</span></span> <span data-ttu-id="9a42e-145">In altri termini, queste applicazioni richiedono una velocità effettiva più elevata.</span><span class="sxs-lookup"><span data-stu-id="9a42e-145">In other words, such applications require higher Throughput.</span></span> <span data-ttu-id="9a42e-146">Se si dispone di un'applicazione, è necessario progettare il toooptimize infrastruttura per la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-146">If you have such an application, you must design its infrastructure toooptimize for Throughput.</span></span> <span data-ttu-id="9a42e-147">Nella sezione successiva hello, vengono discussi in fattori hello di dettaglio necessario ottimizzare questo tooachieve.</span><span class="sxs-lookup"><span data-stu-id="9a42e-147">In hello next section, we discuss in detail hello factors you must tune tooachieve this.</span></span>

<span data-ttu-id="9a42e-148">Quando si collega un premium archiviazione disco tooa su larga scala macchina virtuale, Azure esegue il provisioning della velocità effettiva in base a tale specifica del disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-148">When you attach a premium storage disk tooa high scale VM, Azure provisions Throughput as per that disk specification.</span></span> <span data-ttu-id="9a42e-149">Ad esempio, un disco P50 effettua il provisioning di una velocità effettiva di 250 MB al secondo per il disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-149">For example, a P50 disk provisions 250 MB per second disk Throughput.</span></span> <span data-ttu-id="9a42e-150">Ogni dimensione di VM a scalabilità elevata prevede anche un limite di velocità effettiva specifico sostenibile.</span><span class="sxs-lookup"><span data-stu-id="9a42e-150">Each high scale VM size also has as specific Throughput limit that it can sustain.</span></span> <span data-ttu-id="9a42e-151">Ad esempio, una VM GS5 Standard ha una velocità effettiva massima di 2.000 MB al secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-151">For example, Standard GS5 VM has a maximum throughput of 2,000 MB per second.</span></span> 

<span data-ttu-id="9a42e-152">C'è una relazione tra la velocità effettiva e IOPS, come illustrato nella formula hello riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="9a42e-152">There is a relation between Throughput and IOPS as shown in hello formula below.</span></span>

![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="9a42e-153">È pertanto importante toodetermine hello velocità effettiva e IOPS valori ottimali richieste dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-153">Therefore, it is important toodetermine hello optimal Throughput and IOPS values that your application requires.</span></span> <span data-ttu-id="9a42e-154">Quando si tenta di toooptimize uno, ottiene interessato anche altri hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-154">As you try toooptimize one, hello other also gets affected.</span></span> <span data-ttu-id="9a42e-155">In una sezione successiva, *Ottimizzazione delle prestazioni dell'applicazione*, verrà illustrata in modo dettagliato l'ottimizzazione di IOPS e velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-155">In a later section, *Optimizing Application Performance*, we will discuss in more details about optimizing IOPS and Throughput.</span></span>

## <a name="latency"></a><span data-ttu-id="9a42e-156">Latency</span><span class="sxs-lookup"><span data-stu-id="9a42e-156">Latency</span></span>
<span data-ttu-id="9a42e-157">La latenza è hello tempo tooreceive un'applicazione una singola richiesta, inviarlo toohello dischi di archiviazione e inviare hello risposta toohello client.</span><span class="sxs-lookup"><span data-stu-id="9a42e-157">Latency is hello time it takes an application tooreceive a single request, send it toohello storage disks and send hello response toohello client.</span></span> <span data-ttu-id="9a42e-158">Si tratta di una misura critica di prestazioni di un'applicazione in tooIOPS aggiunta e la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-158">This is a critical measure of an application's performance in addition tooIOPS and Throughput.</span></span> <span data-ttu-id="9a42e-159">Hello latenza di un disco di archiviazione premium è ora hello accetta informazioni hello tooretrieve per una richiesta e comunicare nuovamente tooyour applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-159">hello Latency of a premium storage disk is hello time it takes tooretrieve hello information for a request and communicate it back tooyour application.</span></span> <span data-ttu-id="9a42e-160">L'Archiviazione Premium offre latenze uniformemente basse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-160">Premium Storage provides consistent low latencies.</span></span> <span data-ttu-id="9a42e-161">Se si abilita la memorizzazione nella cache host ReadOnly nei dischi di Archiviazione Premium, sarà possibile ottenere una latenza di lettura molto più bassa.</span><span class="sxs-lookup"><span data-stu-id="9a42e-161">If you enable ReadOnly host caching on premium storage disks, you can get much lower read latency.</span></span> <span data-ttu-id="9a42e-162">La memorizzazione nella cache dei dischi sarà illustrata in modo più dettagliato nella sezione successiva, *Ottimizzazione delle prestazioni dell'applicazione*.</span><span class="sxs-lookup"><span data-stu-id="9a42e-162">We will discuss Disk Caching in more detail in later section on *Optimizing Application Performance*.</span></span>

<span data-ttu-id="9a42e-163">Quando si ottimizza il tooget applicazione superiore IOPS e la velocità effettiva, influisce negativamente hello latenza dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-163">When you are optimizing your application tooget higher IOPS and Throughput, it will affect hello Latency of your application.</span></span> <span data-ttu-id="9a42e-164">Dopo l'ottimizzazione delle prestazioni dell'applicazione hello, restituiscono sempre hello latenza di tooavoid applicazione hello comportamento imprevisto ad alta latenza.</span><span class="sxs-lookup"><span data-stu-id="9a42e-164">After tuning hello application performance, always evaluate hello Latency of hello application tooavoid unexpected high latency behavior.</span></span>

## <a name="gather-application-performance-requirements"></a><span data-ttu-id="9a42e-165">Recuperare i requisiti dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-165">Gather Application Performance Requirements</span></span>
<span data-ttu-id="9a42e-166">è innanzitutto Hello nella progettazione di applicazioni ad alte prestazioni in esecuzione in archiviazione Premium di Azure, i requisiti di prestazioni hello toounderstand dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-166">hello first step in designing high performance applications running on Azure Premium Storage is, toounderstand hello performance requirements of your application.</span></span> <span data-ttu-id="9a42e-167">Dopo aver raccolto i requisiti di prestazioni, è possibile ottimizzare le prestazioni dell'applicazione tooachieve hello ottimale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-167">After you gather performance requirements, you can optimize your application tooachieve hello most optimal performance.</span></span>

<span data-ttu-id="9a42e-168">Nella sezione precedente hello, spiegare hello comuni indicatori di prestazioni, IOPS, velocità effettiva e latenza.</span><span class="sxs-lookup"><span data-stu-id="9a42e-168">In hello previous section, we explained hello common performance indicators, IOPS, Throughput and Latency.</span></span> <span data-ttu-id="9a42e-169">È necessario identificare quali di questi indicatori di prestazioni critici tooyour applicazione hello desiderato toodeliver esperienza dell'utente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-169">You must identify which of these performance indicators are critical tooyour application toodeliver hello desired user experience.</span></span> <span data-ttu-id="9a42e-170">Ad esempio, numero elevato di IOPS è rilevante la maggior parte delle applicazioni tooOLTP elaborazione milioni di transazioni in un secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-170">For example, high IOPS matters most tooOLTP applications processing millions of transactions in a second.</span></span> <span data-ttu-id="9a42e-171">Una velocità effettiva elevata, invece, è essenziale per applicazioni di tipo data warehouse che elaborano quantità elevate di dati in un secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-171">Whereas, high Throughput is critical for Data Warehouse applications processing large amounts of data in a second.</span></span> <span data-ttu-id="9a42e-172">Una latenza estremamente bassa è critica per applicazioni in tempo reale come siti Web per lo streaming di video.</span><span class="sxs-lookup"><span data-stu-id="9a42e-172">Extremely low Latency is crucial for real-time applications like live video streaming websites.</span></span>

<span data-ttu-id="9a42e-173">Successivamente, misurare requisiti massimi di prestazioni hello dell'applicazione in tutta la durata.</span><span class="sxs-lookup"><span data-stu-id="9a42e-173">Next, measure hello maximum performance requirements of your application throughout its lifetime.</span></span> <span data-ttu-id="9a42e-174">Utilizzare l'elenco di controllo esempio hello sotto come punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="9a42e-174">Use hello sample checklist below as a start.</span></span> <span data-ttu-id="9a42e-175">Requisiti relativi alle prestazioni massime hello record durante il normale, periodi di carico di lavoro di picco e orario di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9a42e-175">Record hello maximum performance requirements during normal, peak and off-hours workload periods.</span></span> <span data-ttu-id="9a42e-176">Identificazione dei requisiti per tutti i livelli di carichi di lavoro, sarà in grado di toodetermine hello requisito prestazioni complessive dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-176">By identifying requirements for all workloads levels, you will be able toodetermine hello overall performance requirement of your application.</span></span> <span data-ttu-id="9a42e-177">Ad esempio, hello normale il carico di lavoro di un sito Web di e-commerce sarà transazioni hello che svolge la maggior parte dei giorni in un anno.</span><span class="sxs-lookup"><span data-stu-id="9a42e-177">For example, hello normal workload of an e-commerce website will be hello transactions it serves during most days in a year.</span></span> <span data-ttu-id="9a42e-178">il carico di lavoro di Hello picco del sito Web di hello sarà transazioni hello che serve durante le feste natalizie o eventi di vendita speciale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-178">hello peak workload of hello website will be hello transactions it serves during holiday season or special sale events.</span></span> <span data-ttu-id="9a42e-179">carico di picco Hello esperto in genere per un periodo limitato, ma può richiedere il tooscale applicazione due o più volte il normale funzionamento.</span><span class="sxs-lookup"><span data-stu-id="9a42e-179">hello peak workload is typically experienced for a limited period, but can require your application tooscale two or more times its normal operation.</span></span> <span data-ttu-id="9a42e-180">Individuare percentile 50 hello, 90 ° percentile e i requisiti di percentile 99.</span><span class="sxs-lookup"><span data-stu-id="9a42e-180">Find out hello 50 percentile, 90 percentile and 99 percentile requirements.</span></span> <span data-ttu-id="9a42e-181">Ciò consente di filtrare tutti gli outlier nei requisiti di prestazioni hello e sarà possibile concentrare l'attenzione sull'ottimizzazione per i valori corretti di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-181">This helps filter out any outliers in hello performance requirements and you can focus your efforts on optimizing for hello right values.</span></span>

<span data-ttu-id="9a42e-182">**Elenco di controllo per i requisiti relativi alle prestazioni dell'applicazione**</span><span class="sxs-lookup"><span data-stu-id="9a42e-182">**Application Performance Requirements Checklist**</span></span>

| <span data-ttu-id="9a42e-183">**Requisiti relativi alle prestazioni**</span><span class="sxs-lookup"><span data-stu-id="9a42e-183">**Performance requirements**</span></span> | <span data-ttu-id="9a42e-184">**50° percentile**</span><span class="sxs-lookup"><span data-stu-id="9a42e-184">**50 Percentile**</span></span> | <span data-ttu-id="9a42e-185">**90° percentile**</span><span class="sxs-lookup"><span data-stu-id="9a42e-185">**90 Percentile**</span></span> | <span data-ttu-id="9a42e-186">**99° percentile**</span><span class="sxs-lookup"><span data-stu-id="9a42e-186">**99  Percentile**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a42e-187">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-187">Max.</span></span> <span data-ttu-id="9a42e-188">Transazioni al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-188">Transactions per second</span></span> | | | |
| <span data-ttu-id="9a42e-189">% di operazioni di lettura</span><span class="sxs-lookup"><span data-stu-id="9a42e-189">% Read operations</span></span> | | | |
| <span data-ttu-id="9a42e-190">% di operazioni di scrittura</span><span class="sxs-lookup"><span data-stu-id="9a42e-190">% Write operations</span></span> | | | |
| <span data-ttu-id="9a42e-191">% di operazioni casuali</span><span class="sxs-lookup"><span data-stu-id="9a42e-191">% Random operations</span></span> | | | |
| <span data-ttu-id="9a42e-192">% di operazioni sequenziali</span><span class="sxs-lookup"><span data-stu-id="9a42e-192">% Sequential operations</span></span> | | | |
| <span data-ttu-id="9a42e-193">Dimensioni delle richieste I/O</span><span class="sxs-lookup"><span data-stu-id="9a42e-193">IO request size</span></span> | | | |
| <span data-ttu-id="9a42e-194">Velocità effettiva media</span><span class="sxs-lookup"><span data-stu-id="9a42e-194">Average Throughput</span></span> | | | |
| <span data-ttu-id="9a42e-195">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-195">Max.</span></span> <span data-ttu-id="9a42e-196">Velocità effettiva</span><span class="sxs-lookup"><span data-stu-id="9a42e-196">Throughput</span></span> | | | |
| <span data-ttu-id="9a42e-197">Min</span><span class="sxs-lookup"><span data-stu-id="9a42e-197">Min.</span></span> <span data-ttu-id="9a42e-198">Latency</span><span class="sxs-lookup"><span data-stu-id="9a42e-198">Latency</span></span> | | | |
| <span data-ttu-id="9a42e-199">Latenza media</span><span class="sxs-lookup"><span data-stu-id="9a42e-199">Average Latency</span></span> | | | |
| <span data-ttu-id="9a42e-200">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-200">Max.</span></span> <span data-ttu-id="9a42e-201">CPU</span><span class="sxs-lookup"><span data-stu-id="9a42e-201">CPU</span></span> | | | |
| <span data-ttu-id="9a42e-202">Utilizzo medio CPU</span><span class="sxs-lookup"><span data-stu-id="9a42e-202">Average CPU</span></span> | | | |
| <span data-ttu-id="9a42e-203">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-203">Max.</span></span> <span data-ttu-id="9a42e-204">Memoria</span><span class="sxs-lookup"><span data-stu-id="9a42e-204">Memory</span></span> | | | |
| <span data-ttu-id="9a42e-205">Memoria media</span><span class="sxs-lookup"><span data-stu-id="9a42e-205">Average Memory</span></span> | | | |
| <span data-ttu-id="9a42e-206">Profondità coda</span><span class="sxs-lookup"><span data-stu-id="9a42e-206">Queue Depth</span></span> | | | |

> [!NOTE]
> <span data-ttu-id="9a42e-207">è consigliabile prendere in considerazione il ridimensionamento di questi numeri sulla base della crescita futura prevista per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-207">You should consider scaling these numbers based on expected future growth of your application.</span></span> <span data-ttu-id="9a42e-208">È un tooplan buona crescita anticipatamente, perché potrebbe essere più difficile l'infrastruttura di hello toochange per migliorare le prestazioni in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="9a42e-208">It is a good idea tooplan for growth ahead of time, because it could be harder toochange hello infrastructure for improving performance later.</span></span>
>
>

<span data-ttu-id="9a42e-209">Se si dispone di un'applicazione esistente e si desidera toomove tooPremium archiviazione, è innanzitutto necessario generare hello elenco di controllo sopra per un'applicazione hello esistente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-209">If you have an existing application and want toomove tooPremium Storage, first build hello checklist above for hello existing application.</span></span> <span data-ttu-id="9a42e-210">Quindi, compilare un prototipo di un'applicazione in un'applicazione hello archiviazione Premium e di progettazione in base alle linee guida descritte in *ottimizzazione delle prestazioni dell'applicazione* in una sezione successiva di questo documento.</span><span class="sxs-lookup"><span data-stu-id="9a42e-210">Then, build a prototype of your application on Premium Storage and design hello application based on guidelines described in *Optimizing Application Performance* in a later section of this document.</span></span> <span data-ttu-id="9a42e-211">Nella sezione successiva Hello vengono descritti gli strumenti di hello è possibile utilizzare le misurazioni delle prestazioni toogather hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-211">hello next section describes hello tools you can use toogather hello performance measurements.</span></span>

<span data-ttu-id="9a42e-212">Creare un'elenco di controllo simile tooyour applicazione esistente per il prototipo di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-212">Create a checklist similar tooyour existing application for hello prototype.</span></span> <span data-ttu-id="9a42e-213">Utilizzando gli strumenti di Benchmarking è possibile simulare carichi di lavoro hello e misurare le prestazioni in un'applicazione hello prototipo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-213">Using Benchmarking tools you can simulate hello workloads and measure performance on hello prototype application.</span></span> <span data-ttu-id="9a42e-214">Vedere la sezione hello [Benchmarking](#benchmarking) toolearn altre.</span><span class="sxs-lookup"><span data-stu-id="9a42e-214">See hello section on [Benchmarking](#benchmarking) toolearn more.</span></span> <span data-ttu-id="9a42e-215">Sarà quindi possibile determinare se l'Archiviazione Premium può soddisfare o sorpassare i requisiti relativi alle prestazioni per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-215">By doing so you can determine whether Premium Storage can match or surpass your application performance requirements.</span></span> <span data-ttu-id="9a42e-216">È possibile implementare hello stesse linee guida per l'applicazione di produzione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-216">Then you can implement hello same guidelines for your production application.</span></span>

### <a name="counters-toomeasure-application-performance-requirements"></a><span data-ttu-id="9a42e-217">Contatori toomeasure requisiti delle prestazioni dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-217">Counters toomeasure application performance requirements</span></span>
<span data-ttu-id="9a42e-218">requisiti di prestazioni toomeasure modo ottimali dell'applicazione Hello, strumenti di monitoraggio delle prestazioni toouse forniti dal sistema operativo hello del server di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-218">hello best way toomeasure performance requirements of your application, is toouse performance-monitoring tools provided by hello operating system of hello server.</span></span> <span data-ttu-id="9a42e-219">È possibile usare PerfMon per Windows e iostat per Linux.</span><span class="sxs-lookup"><span data-stu-id="9a42e-219">You can use PerfMon for Windows and iostat for Linux.</span></span> <span data-ttu-id="9a42e-220">Questi strumenti acquisiscono i contatori corrispondenti tooeach misure illustrate in hello sopra la sezione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-220">These tools capture counters corresponding tooeach measure explained in hello above section.</span></span> <span data-ttu-id="9a42e-221">Quando l'applicazione è in esecuzione la normale, i carichi di lavoro di picco e orario di lavoro, è necessario acquisire i valori hello di questi contatori.</span><span class="sxs-lookup"><span data-stu-id="9a42e-221">You must capture hello values of these counters when your application is running its normal, peak and off-hours workloads.</span></span>

<span data-ttu-id="9a42e-222">contatori di PerfMon Hello sono disponibili per il processore, memoria e ogni disco logico e un disco fisico del server.</span><span class="sxs-lookup"><span data-stu-id="9a42e-222">hello PerfMon counters are available for processor, memory and, each logical disk and physical disk of your server.</span></span> <span data-ttu-id="9a42e-223">Quando si usano i dischi di archiviazione premium con una macchina virtuale, contatori del disco fisico hello sono per ogni disco di archiviazione premium e contatori del disco logico sono per ogni volume creati nei dischi di archiviazione premium hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-223">When you use premium storage disks with a VM, hello physical disk counters are for each premium storage disk, and logical disk counters are for each volume created on hello premium storage disks.</span></span> <span data-ttu-id="9a42e-224">È necessario acquisire i valori hello per i dischi di hello che ospitano il carico di lavoro dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-224">You must capture hello values for hello disks that host your application workload.</span></span> <span data-ttu-id="9a42e-225">Se è presente un mapping di tooone uno tra i dischi logici e fisici, è possibile fare riferimento a contatori del disco toophysical; in caso contrario, consultare i contatori del disco logico toohello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-225">If there is a one tooone mapping between logical and physical disks, you can refer toophysical disk counters; otherwise refer toohello logical disk counters.</span></span> <span data-ttu-id="9a42e-226">In Linux, il comando di iostat hello genera un report di utilizzo della CPU e disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-226">On Linux, hello iostat command generates a CPU and disk utilization report.</span></span> <span data-ttu-id="9a42e-227">report utilizzo dischi di Hello fornisce statistiche per ogni dispositivo fisico o partizione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-227">hello disk utilization report provides statistics per physical device or partition.</span></span> <span data-ttu-id="9a42e-228">Se è presente un server di database con dati e log in dischi separati, raccogliere questi dati per entrambi i dischi.</span><span class="sxs-lookup"><span data-stu-id="9a42e-228">If you have a database server with its data and log on separate disks, collect this data for both disks.</span></span> <span data-ttu-id="9a42e-229">La tabella seguente illustra i contatori per dischi, processore e memoria:</span><span class="sxs-lookup"><span data-stu-id="9a42e-229">Below table describes counters for disks, processor and memory:</span></span>

| <span data-ttu-id="9a42e-230">Contatore</span><span class="sxs-lookup"><span data-stu-id="9a42e-230">Counter</span></span> | <span data-ttu-id="9a42e-231">Descrizione</span><span class="sxs-lookup"><span data-stu-id="9a42e-231">Description</span></span> | <span data-ttu-id="9a42e-232">PerfMon</span><span class="sxs-lookup"><span data-stu-id="9a42e-232">PerfMon</span></span> | <span data-ttu-id="9a42e-233">Iostat</span><span class="sxs-lookup"><span data-stu-id="9a42e-233">Iostat</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a42e-234">**IOPS o transazioni al secondo**</span><span class="sxs-lookup"><span data-stu-id="9a42e-234">**IOPS or Transactions per second**</span></span> |<span data-ttu-id="9a42e-235">Numero di richieste dei / o emessi toohello su disco di archiviazione al secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-235">Number of I/O requests issued toohello storage disk per second.</span></span> |<span data-ttu-id="9a42e-236">Letture disco/sec </span><span class="sxs-lookup"><span data-stu-id="9a42e-236">Disk Reads/sec</span></span> <br> <span data-ttu-id="9a42e-237">Scritture disco/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-237">Disk Writes/sec</span></span> |<span data-ttu-id="9a42e-238">tps </span><span class="sxs-lookup"><span data-stu-id="9a42e-238">tps</span></span> <br> <span data-ttu-id="9a42e-239">r/s </span><span class="sxs-lookup"><span data-stu-id="9a42e-239">r/s</span></span> <br> <span data-ttu-id="9a42e-240">w/s</span><span class="sxs-lookup"><span data-stu-id="9a42e-240">w/s</span></span> |
| <span data-ttu-id="9a42e-241">**Letture e scritture del disco**</span><span class="sxs-lookup"><span data-stu-id="9a42e-241">**Disk Reads and Writes**</span></span> |<span data-ttu-id="9a42e-242">% di letture e le operazioni eseguite su disco hello di scrittura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-242">% of Reads and Write operations performed on hello disk.</span></span> |<span data-ttu-id="9a42e-243">% Tempo lettura disco </span><span class="sxs-lookup"><span data-stu-id="9a42e-243">% Disk Read Time</span></span> <br> <span data-ttu-id="9a42e-244">% Tempo scrittura disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-244">% Disk Write Time</span></span> |<span data-ttu-id="9a42e-245">r/s </span><span class="sxs-lookup"><span data-stu-id="9a42e-245">r/s</span></span> <br> <span data-ttu-id="9a42e-246">w/s</span><span class="sxs-lookup"><span data-stu-id="9a42e-246">w/s</span></span> |
| <span data-ttu-id="9a42e-247">**Velocità effettiva**</span><span class="sxs-lookup"><span data-stu-id="9a42e-247">**Throughput**</span></span> |<span data-ttu-id="9a42e-248">Quantità di dati lette o scritte su disco toohello al secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-248">Amount of data read from or written toohello disk per second.</span></span> |<span data-ttu-id="9a42e-249">Byte letti da disco/sec </span><span class="sxs-lookup"><span data-stu-id="9a42e-249">Disk Read Bytes/sec</span></span> <br> <span data-ttu-id="9a42e-250">Byte scritti su disco/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-250">Disk Write Bytes/sec</span></span> |<span data-ttu-id="9a42e-251">kB_read/s</span><span class="sxs-lookup"><span data-stu-id="9a42e-251">kB_read/s</span></span> <br> <span data-ttu-id="9a42e-252">kB_wrtn/s</span><span class="sxs-lookup"><span data-stu-id="9a42e-252">kB_wrtn/s</span></span> |
| <span data-ttu-id="9a42e-253">**Latency**</span><span class="sxs-lookup"><span data-stu-id="9a42e-253">**Latency**</span></span> |<span data-ttu-id="9a42e-254">Numero totale di tempo toocomplete una richiesta dei / o disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-254">Total time toocomplete a disk IO request.</span></span> |<span data-ttu-id="9a42e-255">Media letture disco/sec </span><span class="sxs-lookup"><span data-stu-id="9a42e-255">Average Disk sec/Read</span></span> <br> <span data-ttu-id="9a42e-256">Media scritture disco/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-256">Average disk sec/Write</span></span> |<span data-ttu-id="9a42e-257">await </span><span class="sxs-lookup"><span data-stu-id="9a42e-257">await</span></span> <br> <span data-ttu-id="9a42e-258">svctm</span><span class="sxs-lookup"><span data-stu-id="9a42e-258">svctm</span></span> |
| <span data-ttu-id="9a42e-259">**Dimensioni I/O**</span><span class="sxs-lookup"><span data-stu-id="9a42e-259">**IO size**</span></span> |<span data-ttu-id="9a42e-260">dimensione Hello delle richieste dei / o problemi toohello dischi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-260">hello size of I/O requests issues toohello storage disks.</span></span> |<span data-ttu-id="9a42e-261">Media byte letti da disco </span><span class="sxs-lookup"><span data-stu-id="9a42e-261">Average Disk Bytes/Read</span></span> <br> <span data-ttu-id="9a42e-262">Media byte scritti su disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-262">Average Disk Bytes/Write</span></span> |<span data-ttu-id="9a42e-263">avgrq-sz</span><span class="sxs-lookup"><span data-stu-id="9a42e-263">avgrq-sz</span></span> |
| <span data-ttu-id="9a42e-264">**Profondità coda**</span><span class="sxs-lookup"><span data-stu-id="9a42e-264">**Queue Depth**</span></span> |<span data-ttu-id="9a42e-265">Numero dei / o in attesa di richieste in attesa toobe lettura modulo o la scrittura su disco di archiviazione toohello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-265">Number of outstanding I/O requests waiting toobe read form or written toohello storage disk.</span></span> |<span data-ttu-id="9a42e-266">Lunghezza corrente coda su disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-266">Current Disk Queue Length</span></span> |<span data-ttu-id="9a42e-267">avgqu-sz</span><span class="sxs-lookup"><span data-stu-id="9a42e-267">avgqu-sz</span></span> |
| <span data-ttu-id="9a42e-268">**Max. memoria**</span><span class="sxs-lookup"><span data-stu-id="9a42e-268">**Max. Memory**</span></span> |<span data-ttu-id="9a42e-269">Quantità di memoria richiesta toorun applicazione in modo uniforme</span><span class="sxs-lookup"><span data-stu-id="9a42e-269">Amount of memory required toorun application smoothly</span></span> |<span data-ttu-id="9a42e-270">% byte vincolati in uso</span><span class="sxs-lookup"><span data-stu-id="9a42e-270">% Committed Bytes in Use</span></span> |<span data-ttu-id="9a42e-271">Use vmstat</span><span class="sxs-lookup"><span data-stu-id="9a42e-271">Use vmstat</span></span> |
| <span data-ttu-id="9a42e-272">**Max. CPU**</span><span class="sxs-lookup"><span data-stu-id="9a42e-272">**Max. CPU**</span></span> |<span data-ttu-id="9a42e-273">Quantità di CPU richiesto toorun applicazione in modo uniforme</span><span class="sxs-lookup"><span data-stu-id="9a42e-273">Amount CPU required toorun application smoothly</span></span> |<span data-ttu-id="9a42e-274">% tempo processore</span><span class="sxs-lookup"><span data-stu-id="9a42e-274">% Processor time</span></span> |<span data-ttu-id="9a42e-275">%util</span><span class="sxs-lookup"><span data-stu-id="9a42e-275">%util</span></span> |

<span data-ttu-id="9a42e-276">Altre informazioni su [iostat](http://linuxcommand.org/man_pages/iostat1.html) e [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span><span class="sxs-lookup"><span data-stu-id="9a42e-276">Learn more about [iostat](http://linuxcommand.org/man_pages/iostat1.html) and [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span></span>

## <a name="optimizing-application-performance"></a><span data-ttu-id="9a42e-277">Ottimizzazione delle prestazioni dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-277">Optimizing Application Performance</span></span>
<span data-ttu-id="9a42e-278">i fattori principali Hello che influenzano le prestazioni di un'applicazione in esecuzione in archiviazione Premium sono di natura dei / o richieste, dimensioni della macchina virtuale, dimensioni del disco, numero di dischi, la cache del disco, Multithreading e profondità della coda.</span><span class="sxs-lookup"><span data-stu-id="9a42e-278">hello main factors that influence performance of an application running on Premium Storage are Nature of IO Requests, VM size, Disk size, Number of disks, Disk Caching, Multithreading and Queue Depth.</span></span> <span data-ttu-id="9a42e-279">È possibile controllare alcuni di questi fattori con manopole fornite dal sistema hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-279">You can control some of these factors with knobs provided by hello system.</span></span> <span data-ttu-id="9a42e-280">La maggior parte delle applicazioni potrebbero non produrre un hello tooalter opzione dimensioni i/o e la profondità della coda direttamente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-280">Most applications may not give you an option tooalter hello IO size and Queue Depth directly.</span></span> <span data-ttu-id="9a42e-281">Ad esempio, se si utilizza SQL Server, è possibile scegliere di profondità di dimensioni e la coda dei / o hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-281">For example, if you are using SQL Server, you cannot choose hello IO size and queue depth.</span></span> <span data-ttu-id="9a42e-282">SQL Server sceglie hello ottimale IO dimensioni e la coda profondità valori tooget hello la maggior parte delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-282">SQL Server chooses hello optimal IO size and queue depth values tooget hello most performance.</span></span> <span data-ttu-id="9a42e-283">È importante toounderstand hello impatto di entrambi i tipi di fattori le prestazioni dell'applicazione, in modo che è possibile eseguire il provisioning delle risorse appropriate toomeet le esigenze di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-283">It is important toounderstand hello effects of both types of factors on your application performance, so that you can provision appropriate resources toomeet performance needs.</span></span>

<span data-ttu-id="9a42e-284">In questa sezione, vedere toohello applicazione requisiti di sistema per cui è stato creato, tooidentify quanto è necessario toooptimize le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-284">Throughout this section, refer toohello application requirements checklist that you created, tooidentify how much you need toooptimize your application performance.</span></span> <span data-ttu-id="9a42e-285">In base che sarà in grado di toodetermine quali fattori in questa sezione sarà necessario tootune.</span><span class="sxs-lookup"><span data-stu-id="9a42e-285">Based on that, you will be able toodetermine which factors from this section you will need tootune.</span></span> <span data-ttu-id="9a42e-286">toowitness hello gli effetti di ogni fattore sulle prestazioni dell'applicazione, eseguire prove comparative gli strumenti di installazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-286">toowitness hello effects of each factor on your application performance, run benchmarking tools on your application setup.</span></span> <span data-ttu-id="9a42e-287">Fare riferimento toohello [Benchmarking](#Benchmarking) sezione alla fine di hello di questo articolo per toorun passaggi comuni strumenti di Windows e le macchine virtuali Linux di benchmarking.</span><span class="sxs-lookup"><span data-stu-id="9a42e-287">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for steps toorun common benchmarking tools on Windows and Linux VMs.</span></span>

### <a name="optimizing-iops-throughput-and-latency-at-a-glance"></a><span data-ttu-id="9a42e-288">Breve panoramica sull'ottimizzazione di IOPS, velocità effettiva e latenza</span><span class="sxs-lookup"><span data-stu-id="9a42e-288">Optimizing IOPS, Throughput and Latency at a glance</span></span>
<span data-ttu-id="9a42e-289">tabella Hello seguente riepiloga i fattori relativi alle prestazioni hello tutte e hello passaggi toooptimize IOPS, velocità effettiva e latenza.</span><span class="sxs-lookup"><span data-stu-id="9a42e-289">hello table below summarizes all hello performance factors and hello steps toooptimize IOPS, Throughput and Latency.</span></span> <span data-ttu-id="9a42e-290">Hello sezioni seguenti questo riepilogo descrivono ogni fattore è molto più approfondito.</span><span class="sxs-lookup"><span data-stu-id="9a42e-290">hello sections following this summary will describe each factor is much more depth.</span></span>

| &nbsp; | <span data-ttu-id="9a42e-291">**IOPS**</span><span class="sxs-lookup"><span data-stu-id="9a42e-291">**IOPS**</span></span> | <span data-ttu-id="9a42e-292">**Velocità effettiva**</span><span class="sxs-lookup"><span data-stu-id="9a42e-292">**Throughput**</span></span> | <span data-ttu-id="9a42e-293">**Latency**</span><span class="sxs-lookup"><span data-stu-id="9a42e-293">**Latency**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a42e-294">**Scenario di esempio**</span><span class="sxs-lookup"><span data-stu-id="9a42e-294">**Example Scenario**</span></span> |<span data-ttu-id="9a42e-295">Applicazione OLTP aziendale che richiede una frequenza molto elevata di transazioni al secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-295">Enterprise OLTP application requiring very high transactions per second rate.</span></span> |<span data-ttu-id="9a42e-296">Applicazione aziendale di tipo data warehouse che elabora quantità elevate di dati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-296">Enterprise Data warehousing application processing large amounts of data.</span></span> |<span data-ttu-id="9a42e-297">Quasi in tempo reale applicazioni richiedono le richieste di toouser risposte immediata, ad esempio giochi online.</span><span class="sxs-lookup"><span data-stu-id="9a42e-297">Near real-time applications requiring instant responses toouser requests, like online gaming.</span></span> |
| <span data-ttu-id="9a42e-298">Fattori relativi alle prestazioni</span><span class="sxs-lookup"><span data-stu-id="9a42e-298">Performance factors</span></span> | &nbsp; | &nbsp; | &nbsp; |
| <span data-ttu-id="9a42e-299">**Dimensioni I/O**</span><span class="sxs-lookup"><span data-stu-id="9a42e-299">**IO size**</span></span> |<span data-ttu-id="9a42e-300">Dimensioni I/O ridotte producono valori superiori per IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-300">Smaller IO size yields higher IOPS.</span></span> |<span data-ttu-id="9a42e-301">Tooyields di dimensioni dei / o maggiore velocità effettiva più elevata.</span><span class="sxs-lookup"><span data-stu-id="9a42e-301">Larger IO size tooyields higher Throughput.</span></span> | &nbsp;|
| <span data-ttu-id="9a42e-302">**Dimensioni macchina virtuale**</span><span class="sxs-lookup"><span data-stu-id="9a42e-302">**VM size**</span></span> |<span data-ttu-id="9a42e-303">Usare una dimensione di VM che offre IOPS superiori ai requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-303">Use a VM size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="9a42e-304">Per informazioni sulle dimensioni delle VM e i relativi limiti di IOPS, vedere qui.</span><span class="sxs-lookup"><span data-stu-id="9a42e-304">See VM sizes and their IOPS limits here.</span></span> |<span data-ttu-id="9a42e-305">Usare una dimensione di VM con un limite di velocità effettiva superiore ai requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-305">Use a VM size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="9a42e-306">Per informazioni sulle dimensioni delle VM e i relativi limiti di velocità effettiva, vedere qui.</span><span class="sxs-lookup"><span data-stu-id="9a42e-306">See VM sizes and their Throughput limits here.</span></span> |<span data-ttu-id="9a42e-307">Usare una dimensione di VM che offre limiti di ridimensionamento superiori ai requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-307">Use a VM size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="9a42e-308">Per informazioni sulle dimensioni delle VM e i relativi limiti, vedere qui.</span><span class="sxs-lookup"><span data-stu-id="9a42e-308">See VM sizes and their limits here.</span></span> |
| <span data-ttu-id="9a42e-309">**Dimensioni disco**</span><span class="sxs-lookup"><span data-stu-id="9a42e-309">**Disk size**</span></span> |<span data-ttu-id="9a42e-310">Usare una dimensione di disco che offre IOPS superiori ai requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-310">Use a disk size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="9a42e-311">Per informazioni sulle dimensioni dei dischi e i relativi limiti di IOPS, vedere qui.</span><span class="sxs-lookup"><span data-stu-id="9a42e-311">See disk sizes and their IOPS limits here.</span></span> |<span data-ttu-id="9a42e-312">Usare una dimensione di disco con un limite di velocità effettiva superiore ai requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-312">Use a disk size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="9a42e-313">Per informazioni sulle dimensioni dei dischi e i relativi limiti di velocità effettiva, vedere qui.</span><span class="sxs-lookup"><span data-stu-id="9a42e-313">See disk sizes and their Throughput limits here.</span></span> |<span data-ttu-id="9a42e-314">Usare una dimensione di disco che offre limiti di ridimensionamento superiori ai requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-314">Use a disk size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="9a42e-315">Per informazioni sulle dimensioni dei dischi e i relativi limiti, vedere qui.</span><span class="sxs-lookup"><span data-stu-id="9a42e-315">See disk sizes and their limits here.</span></span> |
| <span data-ttu-id="9a42e-316">**Limiti relativi al ridimensionamento di VM e dischi**</span><span class="sxs-lookup"><span data-stu-id="9a42e-316">**VM and Disk Scale Limits**</span></span> |<span data-ttu-id="9a42e-317">Limite di IOPS della scelta di dimensioni VM hello deve essere maggiore del totale di IOPS dovute ai dischi di archiviazione premium collegato tooit.</span><span class="sxs-lookup"><span data-stu-id="9a42e-317">IOPS limit of hello VM size chosen should be greater than total IOPS driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="9a42e-318">Limite di velocità effettiva della scelta di dimensioni VM hello deve essere maggiore della velocità effettiva totale dovuta ai dischi di archiviazione premium collegato tooit.</span><span class="sxs-lookup"><span data-stu-id="9a42e-318">Throughput limit of hello VM size chosen should be greater than total Throughput driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="9a42e-319">I limiti di scalabilità della scelta di dimensioni VM hello devono essere maggiori di limiti di scalabilità totale premium collegati dei dischi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-319">Scale limits of hello VM size chosen must be greater than total scale limits of attached premium storage disks.</span></span> |
| <span data-ttu-id="9a42e-320">**Memorizzazione nella cache del disco**</span><span class="sxs-lookup"><span data-stu-id="9a42e-320">**Disk Caching**</span></span> |<span data-ttu-id="9a42e-321">Abilitare la Cache di sola lettura nei dischi di archiviazione premium con tooget onerose operazioni di lettura superiori IOPS di lettura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-321">Enable ReadOnly Cache on premium storage disks with Read heavy operations tooget higher Read IOPS.</span></span> | &nbsp; |<span data-ttu-id="9a42e-322">Abilitare la Cache di sola lettura nei dischi di archiviazione premium con latenze di lettura pronto onerose operazioni tooget molto basse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-322">Enable ReadOnly Cache on premium storage disks with Ready heavy operations tooget very low Read latencies.</span></span> |
| <span data-ttu-id="9a42e-323">**Striping del disco**</span><span class="sxs-lookup"><span data-stu-id="9a42e-323">**Disk Striping**</span></span> |<span data-ttu-id="9a42e-324">Utilizzo di più dischi ed eseguire lo striping insieme tooget un'operazione di IOPS maggiore combinato e il limite di velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-324">Use multiple disks and stripe them together tooget a combined higher IOPS and Throughput limit.</span></span> <span data-ttu-id="9a42e-325">Si noti che hello limite combinato per ogni macchina virtuale devono essere superiori a quello hello combinati i limiti di dischi collegati premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-325">Note that hello combined limit per VM should be higher than hello combined limits of attached premium disks.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="9a42e-326">**Dimensioni di striping**</span><span class="sxs-lookup"><span data-stu-id="9a42e-326">**Stripe Size**</span></span> |<span data-ttu-id="9a42e-327">Dimensioni di striping ridotte per modelli di I/O casuali presenti in applicazioni OLTP.</span><span class="sxs-lookup"><span data-stu-id="9a42e-327">Smaller stripe size for random small IO pattern seen in OLTP applications.</span></span> <span data-ttu-id="9a42e-328">Ad esempio, usare dimensioni di striping pari a 64 KB per un'applicazione OLTP di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a42e-328">E.g., use stripe size of 64KB for SQL Server OLTP application.</span></span> |<span data-ttu-id="9a42e-329">Dimensioni di striping superiori per modelli di I/O sequenziali di grandi dimensioni presenti in applicazioni di tipo data warehouse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-329">Larger stripe size for sequential large IO pattern seen in Data Warehouse applications.</span></span> <span data-ttu-id="9a42e-330">Ad esempio, usare dimensioni di striping pari a 256 KB per applicazioni SQL Server di tipo data warehouse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-330">E.g., use 256KB stripe size for SQL Server Data warehouse application.</span></span> | &nbsp; |
| <span data-ttu-id="9a42e-331">**Multithreading**</span><span class="sxs-lookup"><span data-stu-id="9a42e-331">**Multithreading**</span></span> |<span data-ttu-id="9a42e-332">Utilizzare il multithreading toopush un numero superiore di richieste tooPremium archiviazione che potrebbero causare toohigher IOPS e la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-332">Use multithreading toopush higher number of requests tooPremium Storage that will lead toohigher IOPS and Throughput.</span></span> <span data-ttu-id="9a42e-333">Ad esempio, in SQL Server impostato un'elevata tooallocate valore MAXDOP tooSQL CPU più Server.</span><span class="sxs-lookup"><span data-stu-id="9a42e-333">For example, on SQL Server set a high MAXDOP value tooallocate more CPUs tooSQL Server.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="9a42e-334">**Profondità coda**</span><span class="sxs-lookup"><span data-stu-id="9a42e-334">**Queue Depth**</span></span> |<span data-ttu-id="9a42e-335">Una profondità maggiore per la coda genera valori più elevati per IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-335">Larger Queue Depth yields higher IOPS.</span></span> |<span data-ttu-id="9a42e-336">Una profondità maggiore per la coda genera valori più elevati per la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-336">Larger Queue Depth yields higher Throughput.</span></span> |<span data-ttu-id="9a42e-337">Una profondità minore per la coda genera latenze più basse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-337">Smaller Queue Depth yields lower latencies.</span></span> |

## <a name="nature-of-io-requests"></a><span data-ttu-id="9a42e-338">Natura delle richieste I/O</span><span class="sxs-lookup"><span data-stu-id="9a42e-338">Nature of IO Requests</span></span>
<span data-ttu-id="9a42e-339">Una richiesta I/O è un'unità di operazioni di input/output che verrà eseguita dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-339">An IO request is a unit of input/output operation that your application will be performing.</span></span> <span data-ttu-id="9a42e-340">Identificazione di natura hello di richieste dei / o casuali o sequenziale, di lettura o scrittura, piccola o grande, consentirà di determinare i requisiti di prestazioni hello dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-340">Identifying hello nature of IO requests, random or sequential, read or write, small or large, will help you determine hello performance requirements of your application.</span></span> <span data-ttu-id="9a42e-341">È molto importante toounderstand natura hello delle richieste dei / o, toomake hello destra decisioni appropriate durante la progettazione dell'infrastruttura dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-341">It is very important toounderstand hello nature of IO requests, toomake hello right decisions when designing your application infrastructure.</span></span>

<span data-ttu-id="9a42e-342">Dimensioni dei / o è uno dei hello fattori più importanti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-342">IO size is one of hello more important factors.</span></span> <span data-ttu-id="9a42e-343">dimensioni dei / o Hello è dimensioni hello della richiesta di operazione di input/output di hello generato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-343">hello IO size is hello size of hello input/output operation request generated by your application.</span></span> <span data-ttu-id="9a42e-344">Hello dimensioni i/o ha un impatto significativo sulle prestazioni, soprattutto sulle hello IOPS e larghezza di banda hello applicazione è in grado di tooachieve.</span><span class="sxs-lookup"><span data-stu-id="9a42e-344">hello IO size has a significant impact on performance especially on hello IOPS and Bandwidth that hello application is able tooachieve.</span></span> <span data-ttu-id="9a42e-345">Hello formula seguente viene illustrata hello relazione tra IOPS, della larghezza di banda/velocità effettiva e dimensioni dei / o.</span><span class="sxs-lookup"><span data-stu-id="9a42e-345">hello following formula shows hello relationship between IOPS, IO size and Bandwidth/Throughput.</span></span>  
    ![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="9a42e-346">Alcune applicazioni consentono le operazioni dei / o modificare le dimensioni, mentre alcune applicazioni non tooalter.</span><span class="sxs-lookup"><span data-stu-id="9a42e-346">Some applications allow you tooalter their IO size, while some applications do not.</span></span> <span data-ttu-id="9a42e-347">Ad esempio, SQL Server determina hello IO sulle dimensioni ottimali se stesso e non fornisce agli utenti con qualsiasi toochange manopole è.</span><span class="sxs-lookup"><span data-stu-id="9a42e-347">For example, SQL Server determines hello optimal IO size itself, and does not provide users with any knobs toochange it.</span></span> <span data-ttu-id="9a42e-348">In hello invece, Oracle fornisce un parametro denominato [DB\_blocco\_dimensioni](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) tramite il quale è possibile configurare hello dimensione richiesta dei / o del database hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-348">On hello other hand, Oracle provides a parameter called [DB\_BLOCK\_SIZE](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) using which you can configure hello I/O request size of hello database.</span></span>

<span data-ttu-id="9a42e-349">Se si utilizza un'applicazione, che non si toochange hello dimensioni i/o, utilizzare le linee guida hello in questo articolo toooptimize hello delle prestazioni indicatore KPI che applicazione tooyour più rilevanti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-349">If you are using an application, which does not allow you toochange hello IO size, use hello guidelines in this article toooptimize hello performance KPI that is most relevant tooyour application.</span></span> <span data-ttu-id="9a42e-350">Ad esempio,</span><span class="sxs-lookup"><span data-stu-id="9a42e-350">For example,</span></span>

* <span data-ttu-id="9a42e-351">Un'applicazione OLTP genera milioni di richieste I/O piccole e casuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-351">An OLTP application generates millions of small and random IO requests.</span></span> <span data-ttu-id="9a42e-352">toohandle questi tipo dei / o richieste, è necessario progettare il tooget infrastruttura applicazione IOPS superiore.</span><span class="sxs-lookup"><span data-stu-id="9a42e-352">toohandle these type of IO requests, you must design your application infrastructure tooget higher IOPS.</span></span>  
* <span data-ttu-id="9a42e-353">Un'applicazione di tipo data warehouse genera richieste I/O di grandi dimensioni e sequenziali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-353">A data warehousing application generates large and sequential IO requests.</span></span> <span data-ttu-id="9a42e-354">toohandle questi tipo di richieste dei / o, è necessario progettare l'infrastruttura di applicazioni tooget maggiore larghezza di banda o una velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-354">toohandle these type of IO requests, you must design your application infrastructure tooget higher Bandwidth or Throughput.</span></span>

<span data-ttu-id="9a42e-355">Se si utilizza un'applicazione, che consenta di dimensioni dei / o toochange hello, usare questa regola empirica per hello IO dimensioni inoltre linee guida sulle prestazioni tooother,</span><span class="sxs-lookup"><span data-stu-id="9a42e-355">If you are using an application, which allows you toochange hello IO size, use this rule of thumb for hello IO size in addition tooother performance guidelines,</span></span>

* <span data-ttu-id="9a42e-356">Tooget di dimensioni più piccole operazioni i/o IOPS superiore.</span><span class="sxs-lookup"><span data-stu-id="9a42e-356">Smaller IO size tooget higher IOPS.</span></span> <span data-ttu-id="9a42e-357">Ad esempio, 8 KB per un'applicazione OLTP.</span><span class="sxs-lookup"><span data-stu-id="9a42e-357">For example, 8 KB for an OLTP application.</span></span>  
* <span data-ttu-id="9a42e-358">Tooget di dimensioni dei / o maggiore della larghezza di banda superiore la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-358">Larger IO size tooget higher Bandwidth/Throughput.</span></span> <span data-ttu-id="9a42e-359">Ad esempio, 1024 KB per un'applicazione di tipo data warehouse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-359">For example, 1024 KB for a data warehouse application.</span></span>

<span data-ttu-id="9a42e-360">Di seguito è riportato un esempio su come è possibile calcolare hello IOPS e la larghezza di banda/velocità effettiva per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-360">Here is an example on how you can calculate hello IOPS and Throughput/Bandwidth for your application.</span></span> <span data-ttu-id="9a42e-361">Prendere in considerazione un'applicazione che usa un disco P30.</span><span class="sxs-lookup"><span data-stu-id="9a42e-361">Consider an application using a P30 disk.</span></span> <span data-ttu-id="9a42e-362">Hello numero massimo di IOPS e velocità effettiva/larghezza di banda possibile ottenere un disco P30 è 5000 IOPS e 200 MB al secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-362">hello maximum IOPS and Throughput/Bandwidth a P30 disk can achieve is 5000 IOPS and 200 MB per second respectively.</span></span> <span data-ttu-id="9a42e-363">A questo punto, se l'applicazione richiede hello che numero massimo di IOPS da disco hello P30 e utilizza una dimensione più piccola dei / o come 8 KB, hello risultante sarà la larghezza di banda in grado di tooget è 40 MB al secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-363">Now, if your application requires hello maximum IOPS from hello P30 disk and you use a smaller IO size like 8 KB, hello resulting Bandwidth you will be able tooget is 40 MB per second.</span></span> <span data-ttu-id="9a42e-364">Tuttavia, se l'applicazione richiede una velocità effettiva/larghezza di banda massima dal disco P30 hello e si utilizza una dimensione maggiore dei / o come 1024 KB, hello IOPS risultante sarà minore, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-364">However, if your application requires hello maximum Throughput/Bandwidth from P30 disk, and you use a larger IO size like 1024 KB, hello resulting IOPS will be less, 200 IOPS.</span></span> <span data-ttu-id="9a42e-365">Pertanto, l'ottimizzazione di dimensioni dei / o hello in modo che soddisfi i requisiti di IOPS e velocità effettiva/larghezza di banda sia dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-365">Therefore, tune hello IO size such that it meets both your application's IOPS and Throughput/Bandwidth requirement.</span></span> <span data-ttu-id="9a42e-366">Nella tabella seguente sono riepilogate diverse dimensioni dei / o hello e IOPS e corrispondenti velocità effettiva di un disco P30.</span><span class="sxs-lookup"><span data-stu-id="9a42e-366">Table below summarizes hello different IO sizes and their corresponding IOPS and Throughput for a P30 disk.</span></span>

| <span data-ttu-id="9a42e-367">Requisiti dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-367">Application Requirement</span></span> | <span data-ttu-id="9a42e-368">Dimensioni di I/O</span><span class="sxs-lookup"><span data-stu-id="9a42e-368">I/O size</span></span> | <span data-ttu-id="9a42e-369">IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-369">IOPS</span></span> | <span data-ttu-id="9a42e-370">Velocità effettiva/Larghezza di banda</span><span class="sxs-lookup"><span data-stu-id="9a42e-370">Throughput/Bandwidth</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a42e-371">Operazioni di I/O al secondo max</span><span class="sxs-lookup"><span data-stu-id="9a42e-371">Max IOPS</span></span> |<span data-ttu-id="9a42e-372">8 KB</span><span class="sxs-lookup"><span data-stu-id="9a42e-372">8 KB</span></span> |<span data-ttu-id="9a42e-373">5.000</span><span class="sxs-lookup"><span data-stu-id="9a42e-373">5,000</span></span> |<span data-ttu-id="9a42e-374">40 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-374">40 MB per second</span></span> |
| <span data-ttu-id="9a42e-375">Velocità effettiva massima</span><span class="sxs-lookup"><span data-stu-id="9a42e-375">Max Throughput</span></span> |<span data-ttu-id="9a42e-376">1024 KB</span><span class="sxs-lookup"><span data-stu-id="9a42e-376">1024 KB</span></span> |<span data-ttu-id="9a42e-377">200</span><span class="sxs-lookup"><span data-stu-id="9a42e-377">200</span></span> |<span data-ttu-id="9a42e-378">200 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-378">200 MB per second</span></span> |
| <span data-ttu-id="9a42e-379">Velocità effettiva massima + IOPS elevati</span><span class="sxs-lookup"><span data-stu-id="9a42e-379">Max Throughput + high IOPS</span></span> |<span data-ttu-id="9a42e-380">64 KB</span><span class="sxs-lookup"><span data-stu-id="9a42e-380">64 KB</span></span> |<span data-ttu-id="9a42e-381">3.200</span><span class="sxs-lookup"><span data-stu-id="9a42e-381">3,200</span></span> |<span data-ttu-id="9a42e-382">200 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-382">200 MB per second</span></span> |
| <span data-ttu-id="9a42e-383">IOPS massimi + Velocità effettiva elevata</span><span class="sxs-lookup"><span data-stu-id="9a42e-383">Max IOPS + high Throughput</span></span> |<span data-ttu-id="9a42e-384">32 KB</span><span class="sxs-lookup"><span data-stu-id="9a42e-384">32 KB</span></span> |<span data-ttu-id="9a42e-385">5.000</span><span class="sxs-lookup"><span data-stu-id="9a42e-385">5,000</span></span> |<span data-ttu-id="9a42e-386">160 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-386">160 MB per second</span></span> |

<span data-ttu-id="9a42e-387">tooget IOPS e larghezza di banda superiore al valore massimo di hello di un disco di archiviazione premium singolo, utilizzare più dischi premium con striping.</span><span class="sxs-lookup"><span data-stu-id="9a42e-387">tooget IOPS and Bandwidth higher than hello maximum value of a single premium storage disk, use multiple premium disks striped together.</span></span> <span data-ttu-id="9a42e-388">Ad esempio, eseguire lo striping due P30 dischi tooget un IOPS combinato di 10.000 IOPS o una velocità effettiva di combinato di 400 MB al secondo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-388">For example, stripe two P30 disks tooget a combined IOPS of 10,000 IOPS or a combined Throughput of 400 MB per second.</span></span> <span data-ttu-id="9a42e-389">Come illustrato nella sezione successiva di hello, è necessario utilizzare una dimensione di macchina virtuale che supporta il disco di hello combinato IOPS e la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-389">As explained in hello next section, you must use a VM size that supports hello combined disk IOPS and Throughput.</span></span>

> [!NOTE]
> <span data-ttu-id="9a42e-390">Quando si aumenta l'IOPS o aumenta anche altri hello velocità effettiva, assicurarsi che non rilevamento di velocità effettiva o limiti IOPS di hello disco o di macchina virtuale quando viene incrementato di uno.</span><span class="sxs-lookup"><span data-stu-id="9a42e-390">As you increase either IOPS or Throughput hello other also increases, make sure you do not hit throughput or IOPS limits of hello disk or VM when increasing either one.</span></span>
>
>

<span data-ttu-id="9a42e-391">toowitness hello gli effetti delle dimensioni dei / o sulle prestazioni dell'applicazione, è possibile eseguire gli strumenti benchmark nelle macchine Virtuali e dischi.</span><span class="sxs-lookup"><span data-stu-id="9a42e-391">toowitness hello effects of IO size on application performance, you can run benchmarking tools on your VM and disks.</span></span> <span data-ttu-id="9a42e-392">Creare più esecuzioni dei test e utilizzare dimensioni i/o diverse per ogni impatto hello toosee esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-392">Create multiple test runs and use different IO size for each run toosee hello impact.</span></span> <span data-ttu-id="9a42e-393">Fare riferimento toohello [Benchmarking](#Benchmarking) sezione alla fine di hello di questo articolo per ulteriori dettagli.</span><span class="sxs-lookup"><span data-stu-id="9a42e-393">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for more details.</span></span>

## <a name="high-scale-vm-sizes"></a><span data-ttu-id="9a42e-394">Dimensioni di VM a scalabilità elevata</span><span class="sxs-lookup"><span data-stu-id="9a42e-394">High Scale VM Sizes</span></span>
<span data-ttu-id="9a42e-395">Quando si avvia la progettazione di un'applicazione, uno di hello prima cose toodo è, scegliere toohost una macchina virtuale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-395">When you start designing an application, one of hello first things toodo is, choose a VM toohost your application.</span></span> <span data-ttu-id="9a42e-396">L'Archiviazione Premium include dimensioni di VM a scalabilità elevata in grado di eseguire applicazioni che richiedono capacità di calcolo elevate e prestazioni di I/O elevate per il disco locale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-396">Premium Storage comes with High Scale VM sizes that can run applications requiring higher compute power and a high local disk I/O performance.</span></span> <span data-ttu-id="9a42e-397">Queste macchine virtuali offrono processori più veloci, un rapporto memoria-core superiore e allo stato solido unità SSD per disco locale hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-397">These VMs provide faster processors, a higher memory-to-core ratio, and a Solid-State Drive (SSD) for hello local disk.</span></span> <span data-ttu-id="9a42e-398">Esempi di macchine virtuali di scala elevata supporto archiviazione Premium sono hello, DSv2 serie DS e GS macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-398">Examples of High Scale VMs supporting Premium Storage are hello DS, DSv2 and GS series VMs.</span></span>

<span data-ttu-id="9a42e-399">Le VM a scalabilità elevata sono disponibili in dimensioni diverse con un numero diverso di core CPU, memoria, sistema operativo e dimensioni del disco temporaneo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-399">High Scale VMs are available in different sizes with a different number of CPU cores, memory, OS and temporary disk size.</span></span> <span data-ttu-id="9a42e-400">Ogni dimensione della macchina virtuale è anche il numero massimo di dischi dati che è possibile collegare toohello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-400">Each VM size also has maximum number of data disks that you can attach toohello VM.</span></span> <span data-ttu-id="9a42e-401">Pertanto, dimensioni della macchina virtuale hello scelto influirà quanta capacità di elaborazione, memoria e archiviazione è disponibile per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-401">Therefore, hello chosen VM size will affect how much processing, memory, and storage capacity is available for your application.</span></span> <span data-ttu-id="9a42e-402">Influisce inoltre hello calcolo e i costi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-402">It also affects hello Compute and Storage cost.</span></span> <span data-ttu-id="9a42e-403">Ad esempio, di seguito sono specifiche di hello hello più grande delle dimensioni delle VM in una serie di dominio Active Directory, DSv2 serie e una serie di GS:</span><span class="sxs-lookup"><span data-stu-id="9a42e-403">For example, below are hello specifications of hello largest VM size in a DS series, DSv2 series and a GS series:</span></span>

| <span data-ttu-id="9a42e-404">Dimensioni macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="9a42e-404">VM size</span></span> | <span data-ttu-id="9a42e-405">Core CPU</span><span class="sxs-lookup"><span data-stu-id="9a42e-405">CPU cores</span></span> | <span data-ttu-id="9a42e-406">Memoria</span><span class="sxs-lookup"><span data-stu-id="9a42e-406">Memory</span></span> | <span data-ttu-id="9a42e-407">Dimensioni di disco della VM</span><span class="sxs-lookup"><span data-stu-id="9a42e-407">VM disk sizes</span></span> | <span data-ttu-id="9a42e-408">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-408">Max.</span></span> <span data-ttu-id="9a42e-409">dischi dati</span><span class="sxs-lookup"><span data-stu-id="9a42e-409">data disks</span></span> | <span data-ttu-id="9a42e-410">Dimensioni cache</span><span class="sxs-lookup"><span data-stu-id="9a42e-410">Cache size</span></span> | <span data-ttu-id="9a42e-411">IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-411">IOPS</span></span> | <span data-ttu-id="9a42e-412">Limiti di I/O della cache della larghezza di banda</span><span class="sxs-lookup"><span data-stu-id="9a42e-412">Bandwidth Cache IO limits</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9a42e-413">Standard_DS14</span><span class="sxs-lookup"><span data-stu-id="9a42e-413">Standard_DS14</span></span> |<span data-ttu-id="9a42e-414">16</span><span class="sxs-lookup"><span data-stu-id="9a42e-414">16</span></span> |<span data-ttu-id="9a42e-415">112 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-415">112 GB</span></span> |<span data-ttu-id="9a42e-416">Sistema operativo = 1023 GB </span><span class="sxs-lookup"><span data-stu-id="9a42e-416">OS = 1023 GB</span></span> <br> <span data-ttu-id="9a42e-417">SSD locale = 224 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-417">Local SSD = 224 GB</span></span> |<span data-ttu-id="9a42e-418">32</span><span class="sxs-lookup"><span data-stu-id="9a42e-418">32</span></span> |<span data-ttu-id="9a42e-419">576 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-419">576 GB</span></span> |<span data-ttu-id="9a42e-420">50.000 IOPS </span><span class="sxs-lookup"><span data-stu-id="9a42e-420">50,000 IOPS</span></span> <br> <span data-ttu-id="9a42e-421">512 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-421">512 MB per second</span></span> |<span data-ttu-id="9a42e-422">4.000 IOPS e 33 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-422">4,000 IOPS and 33 MB per second</span></span> |
| <span data-ttu-id="9a42e-423">Standard_GS5</span><span class="sxs-lookup"><span data-stu-id="9a42e-423">Standard_GS5</span></span> |<span data-ttu-id="9a42e-424">32</span><span class="sxs-lookup"><span data-stu-id="9a42e-424">32</span></span> |<span data-ttu-id="9a42e-425">448 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-425">448 GB</span></span> |<span data-ttu-id="9a42e-426">Sistema operativo = 1023 GB </span><span class="sxs-lookup"><span data-stu-id="9a42e-426">OS = 1023 GB</span></span> <br> <span data-ttu-id="9a42e-427">SSD locale = 896 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-427">Local SSD = 896 GB</span></span> |<span data-ttu-id="9a42e-428">64</span><span class="sxs-lookup"><span data-stu-id="9a42e-428">64</span></span> |<span data-ttu-id="9a42e-429">4224 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-429">4224 GB</span></span> |<span data-ttu-id="9a42e-430">80.000 IOPS </span><span class="sxs-lookup"><span data-stu-id="9a42e-430">80,000 IOPS</span></span> <br> <span data-ttu-id="9a42e-431">2.000 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-431">2,000 MB per second</span></span> |<span data-ttu-id="9a42e-432">5.000 IOPS e 50 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-432">5,000 IOPS and 50 MB per second</span></span> |

<span data-ttu-id="9a42e-433">tooview un elenco completo di tutte le dimensioni delle macchine Virtuali di Azure disponibili, fare riferimento troppo[dimensioni delle macchine Virtuali di Windows](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) o [le dimensioni di VM Linux](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9a42e-433">tooview a complete list of all available Azure VM sizes, refer too[Windows VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="9a42e-434">Scegliere una dimensione di macchina virtuale in grado di soddisfare e scala tooyour desiderato requisiti delle prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-434">Choose a VM size that can meet and scale tooyour desired application performance requirements.</span></span> <span data-ttu-id="9a42e-435">Inoltre, toothis, prendere in considerazione seguenti considerazioni importanti quando si sceglie di dimensioni delle macchine Virtuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-435">In addition toothis, take into account following important considerations when choosing VM sizes.</span></span>

<span data-ttu-id="9a42e-436">*Limiti di scalabilità*</span><span class="sxs-lookup"><span data-stu-id="9a42e-436">*Scale Limits*</span></span>  
<span data-ttu-id="9a42e-437">Hello IOPS i limiti massimi per ogni macchina virtuale e per ogni disco sono diversi e indipendenti tra loro.</span><span class="sxs-lookup"><span data-stu-id="9a42e-437">hello maximum IOPS limits per VM and per disk are different and independent of each other.</span></span> <span data-ttu-id="9a42e-438">Assicurarsi che l'applicazione hello sta lanciando IOPS entro i limiti di hello di hello VM, nonché hello premium dischi collegati tooit.</span><span class="sxs-lookup"><span data-stu-id="9a42e-438">Make sure that hello application is driving IOPS within hello limits of hello VM as well as hello premium disks attached tooit.</span></span> <span data-ttu-id="9a42e-439">In caso contrario, le prestazioni dell'applicazione verranno limitate.</span><span class="sxs-lookup"><span data-stu-id="9a42e-439">Otherwise, application performance will experience throttling.</span></span>

<span data-ttu-id="9a42e-440">Si supponga, ad esempio, che i requisiti dell'applicazione siano pari a 4.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-440">As an example, suppose an application requirement is a maximum of 4,000 IOPS.</span></span> <span data-ttu-id="9a42e-441">tooachieve, questo è il provisioning un disco P30 in una macchina virtuale DS1.</span><span class="sxs-lookup"><span data-stu-id="9a42e-441">tooachieve this, you provision a P30 disk on a DS1 VM.</span></span> <span data-ttu-id="9a42e-442">disco P30 Hello grado di portare too5, IOPS 000.</span><span class="sxs-lookup"><span data-stu-id="9a42e-442">hello P30 disk can deliver up too5,000 IOPS.</span></span> <span data-ttu-id="9a42e-443">Tuttavia, hello DS1 VM è limitato too3, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-443">However, hello DS1 VM is limited too3,200 IOPS.</span></span> <span data-ttu-id="9a42e-444">Di conseguenza, le prestazioni dell'applicazione hello saranno vincolata dal limite di VM hello in 3.200 IOPS e il calo delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-444">Consequently, hello application performance will be constrained by hello VM limit at 3,200 IOPS and there will be degraded performance.</span></span> <span data-ttu-id="9a42e-445">tooprevent questa situazione, scegliere una macchina virtuale e dimensioni che verranno entrambi applicazione soddisfa i requisiti del disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-445">tooprevent this situation, choose a VM and disk size that will both meet application requirements.</span></span>

<span data-ttu-id="9a42e-446">*Costo operativo*</span><span class="sxs-lookup"><span data-stu-id="9a42e-446">*Cost of Operation*</span></span>  
<span data-ttu-id="9a42e-447">In molti casi è possibile che il costo operativo complessivo con l'Archiviazione Premium sia inferiore al costo dell'uso dell'Archiviazione Standard.</span><span class="sxs-lookup"><span data-stu-id="9a42e-447">In many cases, it is possible that your overall cost of operation using Premium Storage is lower than using Standard Storage.</span></span>

<span data-ttu-id="9a42e-448">Ad esempio, si consideri un'applicazione che richiede 16.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-448">For example, consider an application requiring 16,000 IOPS.</span></span> <span data-ttu-id="9a42e-449">tooachieve queste prestazioni, è necessario uno Standard\_D14 Azure IaaS con macchina virtuale, che può concedere a un numero massimo di IOPS di 16.000 con 32 dischi di 1 TB di archiviazione standard.</span><span class="sxs-lookup"><span data-stu-id="9a42e-449">tooachieve this performance, you will need a Standard\_D14 Azure IaaS VM, which can give a maximum IOPS of 16,000 using 32 standard storage 1TB disks.</span></span> <span data-ttu-id="9a42e-450">Ogni disco di archiviazione Standard da 1 TB può raggiungere un valore massimo di 500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-450">Each 1TB standard storage disk can achieve a maximum of 500 IOPS.</span></span> <span data-ttu-id="9a42e-451">Hello stimato costo di questa macchina virtuale al mese sarà $1,570.</span><span class="sxs-lookup"><span data-stu-id="9a42e-451">hello estimated cost of this VM per month will be $1,570.</span></span> <span data-ttu-id="9a42e-452">Costo mensile di Hello 32 standard dei dischi di archiviazione sarà $1,638.</span><span class="sxs-lookup"><span data-stu-id="9a42e-452">hello monthly cost of 32 standard storage disks will be $1,638.</span></span> <span data-ttu-id="9a42e-453">Hello stimato totale mensile sarà $3,208.</span><span class="sxs-lookup"><span data-stu-id="9a42e-453">hello estimated total monthly cost will be $3,208.</span></span>

<span data-ttu-id="9a42e-454">Tuttavia, se è ospitato hello stessa applicazione in archiviazione Premium, è necessario una dimensione di macchina virtuale più piccola e meno i dischi di archiviazione premium, riducendo in tal modo hello costo complessivo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-454">However, if you hosted hello same application on Premium Storage, you will need a smaller VM size and fewer premium storage disks, thus reducing hello overall cost.</span></span> <span data-ttu-id="9a42e-455">Standard\_DS13 VM grado di soddisfare il requisito di IOPS hello 16.000 utilizzando quattro dischi P30.</span><span class="sxs-lookup"><span data-stu-id="9a42e-455">A Standard\_DS13 VM can meet hello 16,000 IOPS requirement using four P30 disks.</span></span> <span data-ttu-id="9a42e-456">ogni disco P30 è un numero massimo di IOPS di 5.000 Hello DS13 VM è un numero massimo di IOPS di 25,600.</span><span class="sxs-lookup"><span data-stu-id="9a42e-456">hello DS13 VM has a maximum IOPS of 25,600 and each P30 disk has a maximum IOPS of 5,000.</span></span> <span data-ttu-id="9a42e-457">Questa configurazione consente complessivamente di ottenere 5.000 x 4 = 20.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-457">Overall, this configuration can achieve 5,000 x 4 = 20,000 IOPS.</span></span> <span data-ttu-id="9a42e-458">Hello stimato costo di questa macchina virtuale al mese sarà $1,003.</span><span class="sxs-lookup"><span data-stu-id="9a42e-458">hello estimated cost of this VM per month will be $1,003.</span></span> <span data-ttu-id="9a42e-459">Costo mensile di Hello di quattro dischi di archiviazione premium P30 sarà $544.34.</span><span class="sxs-lookup"><span data-stu-id="9a42e-459">hello monthly cost of four P30 premium storage disks will be $544.34.</span></span> <span data-ttu-id="9a42e-460">Hello stimato totale mensile sarà $1,544.</span><span class="sxs-lookup"><span data-stu-id="9a42e-460">hello estimated total monthly cost will be $1,544.</span></span>

<span data-ttu-id="9a42e-461">Nella tabella seguente sono riepilogate hello la scomposizione dei costi di questo scenario di Standard e di archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-461">Table below summarizes hello cost breakdown of this scenario for Standard and Premium Storage.</span></span>

| &nbsp; | <span data-ttu-id="9a42e-462">**Standard**</span><span class="sxs-lookup"><span data-stu-id="9a42e-462">**Standard**</span></span> | <span data-ttu-id="9a42e-463">**Premium**</span><span class="sxs-lookup"><span data-stu-id="9a42e-463">**Premium**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9a42e-464">**Costo di VM al mese**</span><span class="sxs-lookup"><span data-stu-id="9a42e-464">**Cost of VM per month**</span></span> |<span data-ttu-id="9a42e-465">$1.570,58 (Standard\_D14)</span><span class="sxs-lookup"><span data-stu-id="9a42e-465">$1,570.58 (Standard\_D14)</span></span> |<span data-ttu-id="9a42e-466">$1.003,66 (Standard\_DS13)</span><span class="sxs-lookup"><span data-stu-id="9a42e-466">$1,003.66 (Standard\_DS13)</span></span> |
| <span data-ttu-id="9a42e-467">**Costo di dischi al mese**</span><span class="sxs-lookup"><span data-stu-id="9a42e-467">**Cost of Disks per month**</span></span> |<span data-ttu-id="9a42e-468">$ 1.638,40 (32 x dischi da 1 TB)</span><span class="sxs-lookup"><span data-stu-id="9a42e-468">$1,638.40 (32 x 1 TB disks)</span></span> |<span data-ttu-id="9a42e-469">$ 544,34 (4 x dischi P30)</span><span class="sxs-lookup"><span data-stu-id="9a42e-469">$544.34 (4 x P30 disks)</span></span> |
| <span data-ttu-id="9a42e-470">**Costo complessivo al mese**</span><span class="sxs-lookup"><span data-stu-id="9a42e-470">**Overall Cost per month**</span></span> |<span data-ttu-id="9a42e-471">$ 3.208,98</span><span class="sxs-lookup"><span data-stu-id="9a42e-471">$3,208.98</span></span> |<span data-ttu-id="9a42e-472">$ 1.544,34</span><span class="sxs-lookup"><span data-stu-id="9a42e-472">$1,544.34</span></span> |

<span data-ttu-id="9a42e-473">*Distribuzioni Linux*</span><span class="sxs-lookup"><span data-stu-id="9a42e-473">*Linux Distros*</span></span>  

<span data-ttu-id="9a42e-474">Con archiviazione Premium di Azure, si otterrà hello stesso livello di prestazioni per le macchine virtuali che eseguono Windows e Linux.</span><span class="sxs-lookup"><span data-stu-id="9a42e-474">With Azure Premium Storage, you get hello same level of Performance for VMs running Windows and Linux.</span></span> <span data-ttu-id="9a42e-475">Sono supportati molti tipi di distribuzioni Linux, ed è possibile visualizzare l'elenco completo di hello [qui](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9a42e-475">We support many flavors of Linux distros, and you can see hello complete list [here](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="9a42e-476">È importante che diverse distribuzioni sono migliori toonote adatto per diversi tipi di carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9a42e-476">It is important toonote that different distros are better suited for different types of workloads.</span></span> <span data-ttu-id="9a42e-477">Verranno visualizzati diversi livelli di prestazioni a seconda della distribuzione hello che in cui è in esecuzione il carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9a42e-477">You will see different levels of performance depending on hello distro your workload is running on.</span></span> <span data-ttu-id="9a42e-478">Le distribuzioni di Linux hello con l'applicazione di test e scegliere hello uno che funziona in modo ottimale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-478">Test hello Linux distros with your application and choose hello one that works best.</span></span>

<span data-ttu-id="9a42e-479">Quando si esegue Linux con archiviazione Premium, verificare gli aggiornamenti più recenti di hello sulle prestazioni elevate di tooensure i driver necessari.</span><span class="sxs-lookup"><span data-stu-id="9a42e-479">When running Linux with Premium Storage, check hello latest updates about required drivers tooensure high performance.</span></span>

## <a name="premium-storage-disk-sizes"></a><span data-ttu-id="9a42e-480">Dimensioni dei dischi di Archiviazione Premium</span><span class="sxs-lookup"><span data-stu-id="9a42e-480">Premium Storage Disk Sizes</span></span>
<span data-ttu-id="9a42e-481">L'Archiviazione Premium di Azure offre attualmente sette dimensioni di disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-481">Azure Premium Storage offers seven disk sizes currently.</span></span> <span data-ttu-id="9a42e-482">Ogni dimensione di disco ha un limite di scala diverso per IOPS, larghezza di banda e archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-482">Each disk size has a different scale limit for IOPS, Bandwidth and Storage.</span></span> <span data-ttu-id="9a42e-483">Scegliere le dimensioni del disco di archiviazione Premium destra di hello in base a requisiti dell'applicazione hello e su larga scala hello dimensioni della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-483">Choose hello right Premium Storage Disk size depending on hello application requirements and hello high scale VM size.</span></span> <span data-ttu-id="9a42e-484">tabella Hello seguente mostra le dimensioni di sette dischi hello e le relative funzionalità.</span><span class="sxs-lookup"><span data-stu-id="9a42e-484">hello table below shows hello seven disks sizes and their capabilities.</span></span> <span data-ttu-id="9a42e-485">Le dimensioni di disco P4 e P6 sono attualmente supportate solo per Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="9a42e-485">P4 and P6 sizes are currently only supported for Managed Disks.</span></span>

| <span data-ttu-id="9a42e-486">Tipo di disco Premium</span><span class="sxs-lookup"><span data-stu-id="9a42e-486">Premium Disks Type</span></span>  | <span data-ttu-id="9a42e-487">P4</span><span class="sxs-lookup"><span data-stu-id="9a42e-487">P4</span></span>    | <span data-ttu-id="9a42e-488">P6</span><span class="sxs-lookup"><span data-stu-id="9a42e-488">P6</span></span>    | <span data-ttu-id="9a42e-489">P10</span><span class="sxs-lookup"><span data-stu-id="9a42e-489">P10</span></span>   | <span data-ttu-id="9a42e-490">P20</span><span class="sxs-lookup"><span data-stu-id="9a42e-490">P20</span></span>   | <span data-ttu-id="9a42e-491">P30</span><span class="sxs-lookup"><span data-stu-id="9a42e-491">P30</span></span>   | <span data-ttu-id="9a42e-492">P40</span><span class="sxs-lookup"><span data-stu-id="9a42e-492">P40</span></span>   | <span data-ttu-id="9a42e-493">P50</span><span class="sxs-lookup"><span data-stu-id="9a42e-493">P50</span></span>   | 
|---------------------|-------|-------|-------|-------|-------|-------|-------|
| <span data-ttu-id="9a42e-494">Dimensioni disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-494">Disk size</span></span>           | <span data-ttu-id="9a42e-495">32 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-495">32 GB</span></span> | <span data-ttu-id="9a42e-496">64 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-496">64 GB</span></span> | <span data-ttu-id="9a42e-497">128 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-497">128 GB</span></span>| <span data-ttu-id="9a42e-498">512 GB</span><span class="sxs-lookup"><span data-stu-id="9a42e-498">512 GB</span></span>            | <span data-ttu-id="9a42e-499">1024 GB (1 TB)</span><span class="sxs-lookup"><span data-stu-id="9a42e-499">1024 GB (1 TB)</span></span>    | <span data-ttu-id="9a42e-500">2048 GB (2 TB)</span><span class="sxs-lookup"><span data-stu-id="9a42e-500">2048 GB (2 TB)</span></span>    | <span data-ttu-id="9a42e-501">4095 GB (4 TB)</span><span class="sxs-lookup"><span data-stu-id="9a42e-501">4095 GB (4 TB)</span></span>    | 
| <span data-ttu-id="9a42e-502">IOPS per disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-502">IOPS per disk</span></span>       | <span data-ttu-id="9a42e-503">120</span><span class="sxs-lookup"><span data-stu-id="9a42e-503">120</span></span>   | <span data-ttu-id="9a42e-504">240</span><span class="sxs-lookup"><span data-stu-id="9a42e-504">240</span></span>   | <span data-ttu-id="9a42e-505">500</span><span class="sxs-lookup"><span data-stu-id="9a42e-505">500</span></span>   | <span data-ttu-id="9a42e-506">2300</span><span class="sxs-lookup"><span data-stu-id="9a42e-506">2300</span></span>              | <span data-ttu-id="9a42e-507">5000</span><span class="sxs-lookup"><span data-stu-id="9a42e-507">5000</span></span>              | <span data-ttu-id="9a42e-508">7500</span><span class="sxs-lookup"><span data-stu-id="9a42e-508">7500</span></span>              | <span data-ttu-id="9a42e-509">7500</span><span class="sxs-lookup"><span data-stu-id="9a42e-509">7500</span></span>              | 
| <span data-ttu-id="9a42e-510">Velocità effettiva per disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-510">Throughput per disk</span></span> | <span data-ttu-id="9a42e-511">25 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-511">25 MB per second</span></span>  | <span data-ttu-id="9a42e-512">50 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-512">50 MB per second</span></span>  | <span data-ttu-id="9a42e-513">100 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-513">100 MB per second</span></span> | <span data-ttu-id="9a42e-514">150 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-514">150 MB per second</span></span> | <span data-ttu-id="9a42e-515">200 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-515">200 MB per second</span></span> | <span data-ttu-id="9a42e-516">250 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-516">250 MB per second</span></span> | <span data-ttu-id="9a42e-517">250 MB al secondo</span><span class="sxs-lookup"><span data-stu-id="9a42e-517">250 MB per second</span></span> | 


<span data-ttu-id="9a42e-518">Il numero di dischi scelto dipende dal disco hello dimensioni definite.</span><span class="sxs-lookup"><span data-stu-id="9a42e-518">How many disks you choose depends on hello disk size chosen.</span></span> <span data-ttu-id="9a42e-519">È possibile utilizzare un singolo disco P50 o più P10 dischi toomeet il requisito per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-519">You could use a single P50 disk or multiple P10 disks toomeet your application requirement.</span></span> <span data-ttu-id="9a42e-520">Prendono in considerazioni sull'account elencati di seguito quando si effettua una scelta hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-520">Take into account considerations listed below when making hello choice.</span></span>

<span data-ttu-id="9a42e-521">*Limiti di scalabilità (IOPS e velocità effettiva)*</span><span class="sxs-lookup"><span data-stu-id="9a42e-521">*Scale Limits (IOPS and Throughput)*</span></span>  
<span data-ttu-id="9a42e-522">limiti di velocità effettiva e IOPS Hello di ogni dimensione del disco Premium è diversa e indipendente dal hello limiti di scalabilità di macchine Virtuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-522">hello IOPS and Throughput limits of each Premium disk size is different and independent from hello VM scale limits.</span></span> <span data-ttu-id="9a42e-523">Verificare che hello totale di IOPS e velocità effettiva da dischi hello vengono scelti entro i limiti di scala di hello dimensioni della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-523">Make sure that hello total IOPS and Throughput from hello disks are within scale limits of hello chosen VM size.</span></span>

<span data-ttu-id="9a42e-524">Ad esempio, si supponga che un requisito di applicazione preveda una velocità effettiva massima di 250 MB/sec e si usi una VM DS4 con un singolo disco P30.</span><span class="sxs-lookup"><span data-stu-id="9a42e-524">For example, if an application requirement is a maximum of 250 MB/sec Throughput and you are using a DS4 VM with a single P30 disk.</span></span> <span data-ttu-id="9a42e-525">Hello DS4 VM consentono di velocità effettiva di too256 MB/sec.</span><span class="sxs-lookup"><span data-stu-id="9a42e-525">hello DS4 VM can give up too256 MB/sec Throughput.</span></span> <span data-ttu-id="9a42e-526">Tuttavia, un singolo disco P30 ha un limite di velocità effettiva di 200 MB/sec. Di conseguenza, un'applicazione hello sarà vincolata a 200 MB al secondo a causa di limite disco toohello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-526">However, a single P30 disk has Throughput limit of 200 MB/sec. Consequently, hello application will be constrained at 200 MB/sec due toohello disk limit.</span></span> <span data-ttu-id="9a42e-527">tooovercome questo limite, il provisioning toohello dischi di dati più di una macchina virtuale o ridimensionare i dischi tooP40 o P50.</span><span class="sxs-lookup"><span data-stu-id="9a42e-527">tooovercome this limit, provision more than one data disks toohello VM or resize your disks tooP40 or P50.</span></span>

> [!NOTE]
> <span data-ttu-id="9a42e-528">Letture servite dalla cache di hello non presenti nel disco hello IOPS e la velocità effettiva, pertanto non soggetto toodisk limiti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-528">Reads served by hello cache are not included in hello disk IOPS and Throughput, hence not subject toodisk limits.</span></span> <span data-ttu-id="9a42e-529">La cache ha un limite di IOPS e velocità effettiva specifico per ogni VM.</span><span class="sxs-lookup"><span data-stu-id="9a42e-529">Cache has its separate IOPS and Throughput limit per VM.</span></span>
>
> <span data-ttu-id="9a42e-530">Ad esempio, le operazioni di lettura e scrittura iniziali sono rispettivamente pari a 60 MB/sec e 40 MB/sec.</span><span class="sxs-lookup"><span data-stu-id="9a42e-530">For example, initially your reads and writes are 60MB/sec and 40MB/sec respectively.</span></span> <span data-ttu-id="9a42e-531">Nel corso del tempo, cache di hello riscaldamento e serve di hello letture dalla cache di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-531">Over time, hello cache warms up and serves more and more of hello reads from hello cache.</span></span> <span data-ttu-id="9a42e-532">Quindi, è possibile ottenere la velocità effettiva di scrittura superiore dal disco hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-532">Then, you can get higher write Throughput from hello disk.</span></span>
>
>

<span data-ttu-id="9a42e-533">*Numero di dischi*</span><span class="sxs-lookup"><span data-stu-id="9a42e-533">*Number of Disks*</span></span>  
<span data-ttu-id="9a42e-534">Determinare il numero di hello dei dischi che sarà necessario a valutare i requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-534">Determine hello number of disks you will need by assessing application requirements.</span></span> <span data-ttu-id="9a42e-535">Ogni dimensione della macchina virtuale ha anche un limite sul numero di hello di dischi che è possibile collegare toohello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-535">Each VM size also has a limit on hello number of disks that you can attach toohello VM.</span></span> <span data-ttu-id="9a42e-536">In genere, si tratta di due volte hello numero di core.</span><span class="sxs-lookup"><span data-stu-id="9a42e-536">Typically, this is twice hello number of cores.</span></span> <span data-ttu-id="9a42e-537">Verificare che hello prescelto può supportare hello numero di dischi necessari dimensioni della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-537">Ensure that hello VM size you choose can support hello number of disks needed.</span></span>

<span data-ttu-id="9a42e-538">Tenere presente che i dischi di archiviazione Premium hello dispongono di più dischi di archiviazione tooStandard di funzionalità rispetto delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-538">Remember, hello Premium Storage disks have higher performance capabilities compared tooStandard Storage disks.</span></span> <span data-ttu-id="9a42e-539">Pertanto, se si esegue la migrazione dell'applicazione dalla macchina virtuale IaaS di Azure tramite archiviazione Standard tooPremium archiviazione, sarà probabilmente necessario meno i dischi premium tooachieve hello prestazioni uguale o superiore per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-539">Therefore, if you are migrating your application from Azure IaaS VM using Standard Storage tooPremium Storage, you will likely need fewer premium disks tooachieve hello same or higher performance for your application.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="9a42e-540">Memorizzazione nella cache del disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-540">Disk Caching</span></span>
<span data-ttu-id="9a42e-541">Le VM a scalabilità elevata che sfruttano i vantaggi dell'Archiviazione Premium di Azure includono una tecnologia di memorizzazione nella cache multilivello denominata BlobCache.</span><span class="sxs-lookup"><span data-stu-id="9a42e-541">High Scale VMs that leverage Azure Premium Storage have a multi-tier caching technology called BlobCache.</span></span> <span data-ttu-id="9a42e-542">BlobCache utilizza una combinazione di macchina virtuale RAM hello e unità SSD locale per la memorizzazione nella cache.</span><span class="sxs-lookup"><span data-stu-id="9a42e-542">BlobCache uses a combination of hello Virtual Machine RAM and local SSD for caching.</span></span> <span data-ttu-id="9a42e-543">Questa cache è disponibile per i dischi persistenti di archiviazione Premium hello e dischi locali di hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-543">This cache is available for hello Premium Storage persistent disks and hello VM local disks.</span></span> <span data-ttu-id="9a42e-544">Per impostazione predefinita, questa impostazione della cache è tooRead/scrittura per i dischi del sistema operativo e sola lettura per i dischi dati ospitati in archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-544">By default, this cache setting is set tooRead/Write for OS disks and ReadOnly for data disks hosted on Premium Storage.</span></span> <span data-ttu-id="9a42e-545">Con la cache del disco attivata su dischi di archiviazione Premium hello, su larga scala hello macchine virtuali possa ottenere livelli estremamente elevati di prestazioni che superano le prestazioni del disco sottostante hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-545">With disk caching enabled on hello Premium Storage disks, hello high scale VMs can achieve extremely high levels of performance that exceed hello underlying disk performance.</span></span>

> [!WARNING]
> <span data-ttu-id="9a42e-546">Modifica l'impostazione della cache di hello di un disco di Azure si disconnette e aggiunge di nuovo il disco di destinazione hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-546">Changing hello cache setting of an Azure disk detaches and re-attaches hello target disk.</span></span> <span data-ttu-id="9a42e-547">In caso di disco del sistema operativo hello, hello VM viene riavviata.</span><span class="sxs-lookup"><span data-stu-id="9a42e-547">If it is hello operating system disk, hello VM is restarted.</span></span> <span data-ttu-id="9a42e-548">Arrestare tutte le applicazioni/servizi che potrebbero essere interessati da questa interruzione prima di modificare l'impostazione della cache di hello disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-548">Stop all applications/services that might be affected by this disruption before changing hello disk cache setting.</span></span>
>
>

<span data-ttu-id="9a42e-549">toolearn ulteriori informazioni su come funziona BlobCache, fare riferimento toohello all'interno di [archiviazione Premium di Azure](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) post di blog.</span><span class="sxs-lookup"><span data-stu-id="9a42e-549">toolearn more about how BlobCache works, refer toohello Inside [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blog post.</span></span>

<span data-ttu-id="9a42e-550">È importante tooenable cache set corretto di hello dei dischi.</span><span class="sxs-lookup"><span data-stu-id="9a42e-550">It is important tooenable cache on hello right set of disks.</span></span> <span data-ttu-id="9a42e-551">Se è necessario abilitare la cache del disco in un disco premium o non dipenderà il modello di carico di lavoro hello tale disco gestiscono.</span><span class="sxs-lookup"><span data-stu-id="9a42e-551">Whether you should enable disk caching on a premium disk or not will depend on hello workload pattern that disk will be handling.</span></span> <span data-ttu-id="9a42e-552">Tabella riportata di seguito viene illustrato come predefinito hello le impostazioni della cache per i dischi del sistema operativo e dati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-552">Table below shows hello default cache settings for OS and Data disks.</span></span>

| <span data-ttu-id="9a42e-553">**Tipo di disco**</span><span class="sxs-lookup"><span data-stu-id="9a42e-553">**Disk Type**</span></span> | <span data-ttu-id="9a42e-554">**Impostazione predefinita per la cache**</span><span class="sxs-lookup"><span data-stu-id="9a42e-554">**Default Cache Setting**</span></span> |
| --- | --- |
| <span data-ttu-id="9a42e-555">Disco del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="9a42e-555">OS disk</span></span> |<span data-ttu-id="9a42e-556">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="9a42e-556">ReadWrite</span></span> |
| <span data-ttu-id="9a42e-557">Disco dati</span><span class="sxs-lookup"><span data-stu-id="9a42e-557">Data disk</span></span> |<span data-ttu-id="9a42e-558">Nessuno</span><span class="sxs-lookup"><span data-stu-id="9a42e-558">None</span></span> |

<span data-ttu-id="9a42e-559">Seguenti sono hello le impostazioni della cache su disco consigliato per i dischi dati,</span><span class="sxs-lookup"><span data-stu-id="9a42e-559">Following are hello recommended disk cache settings for data disks,</span></span>

| <span data-ttu-id="9a42e-560">**Impostazione per la memorizzazione nella cache su disco**</span><span class="sxs-lookup"><span data-stu-id="9a42e-560">**Disk Caching Setting**</span></span> | <span data-ttu-id="9a42e-561">**Indicazioni su quando toouse questa impostazione**</span><span class="sxs-lookup"><span data-stu-id="9a42e-561">**Recommendation on when toouse this setting**</span></span> |
| --- | --- |
| <span data-ttu-id="9a42e-562">Nessuno</span><span class="sxs-lookup"><span data-stu-id="9a42e-562">None</span></span> |<span data-ttu-id="9a42e-563">Configurare la cache host come None per dischi di sola scrittura e dischi con numero elevato di operazioni di scrittura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-563">Configure host-cache as None for write-only and write-heavy disks.</span></span> |
| <span data-ttu-id="9a42e-564">ReadOnly</span><span class="sxs-lookup"><span data-stu-id="9a42e-564">ReadOnly</span></span> |<span data-ttu-id="9a42e-565">Configurare la cache host come ReadOnly per dischi di sola lettura e di lettura-scrittura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-565">Configure host-cache as ReadOnly for read-only and read-write disks.</span></span> |
| <span data-ttu-id="9a42e-566">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="9a42e-566">ReadWrite</span></span> |<span data-ttu-id="9a42e-567">Configurare cache dell'host come ReadWrite solo se l'applicazione gestisca correttamente la scrittura nella cache i dischi dati toopersistent quando necessario.</span><span class="sxs-lookup"><span data-stu-id="9a42e-567">Configure host-cache as ReadWrite only if your application properly  handles writing cached data toopersistent disks when needed.</span></span> |

<span data-ttu-id="9a42e-568">*ReadOnly*</span><span class="sxs-lookup"><span data-stu-id="9a42e-568">*ReadOnly*</span></span>  
<span data-ttu-id="9a42e-569">Configurando la memorizzazione nella cache ReadOnly nei dischi dati di Archiviazione Premium, è possibile ottenere una latenza di lettura bassa e valori molto elevati di IOPS e velocità effettiva di lettura per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-569">By configuring ReadOnly caching on Premium Storage data disks, you can achieve low Read latency and get very high Read IOPS and Throughput for your application.</span></span> <span data-ttu-id="9a42e-570">Questo è dovuto ai due motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="9a42e-570">This is due two reasons,</span></span>

1. <span data-ttu-id="9a42e-571">Letture eseguite dalla cache, che si trova in memoria della macchina virtuale hello e unità SSD locale, sono molto più veloce rispetto letture da disco dati hello, che si trova in hello archiviazione blob di Azure.</span><span class="sxs-lookup"><span data-stu-id="9a42e-571">Reads performed from cache, which is on hello VM memory and local SSD, are much faster than reads from hello data disk, which is on hello Azure blob storage.</span></span>  
2. <span data-ttu-id="9a42e-572">Archiviazione Premium non inclusi nel conteggio hello letture soddisfatte dalla cache, verso il disco di hello IOPS e la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-572">Premium Storage does not count hello Reads served from cache, towards hello disk IOPS and Throughput.</span></span> <span data-ttu-id="9a42e-573">Pertanto, l'applicazione è in grado di tooachieve superiore totale di IOPS e la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-573">Therefore, your application is able tooachieve higher total IOPS and Throughput.</span></span>

<span data-ttu-id="9a42e-574">*ReadWrite*</span><span class="sxs-lookup"><span data-stu-id="9a42e-574">*ReadWrite*</span></span>  
<span data-ttu-id="9a42e-575">Per impostazione predefinita, i dischi del sistema operativo hello abbiano abilitata la memorizzazione nella cache ReadWrite.</span><span class="sxs-lookup"><span data-stu-id="9a42e-575">By default, hello OS disks have ReadWrite caching enabled.</span></span> <span data-ttu-id="9a42e-576">È stato recentemente aggiunto il supporto per la memorizzazione nella cache ReadWrite anche sui dischi dati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-576">We have recently added support for ReadWrite caching on data disks as well.</span></span> <span data-ttu-id="9a42e-577">Se si utilizza la memorizzazione nella cache di lettura/scrittura, è necessario disporre di un metodo migliore toowrite hello di dati dai dischi toopersistent cache.</span><span class="sxs-lookup"><span data-stu-id="9a42e-577">If you are using ReadWrite caching, you must have a proper way toowrite hello data from cache toopersistent disks.</span></span> <span data-ttu-id="9a42e-578">Ad esempio, gli handle SQL Server la scrittura memorizzati nella cache di dischi di archiviazione permanente dati toohello autonomamente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-578">For example, SQL Server handles writing cached data toohello persistent storage disks on its own.</span></span> <span data-ttu-id="9a42e-579">L'utilizzo della cache di lettura/scrittura con un'applicazione che non gestisce la persistenza hello necessario dei dati può causare la perdita di toodata, se si blocca hello VM.</span><span class="sxs-lookup"><span data-stu-id="9a42e-579">Using ReadWrite cache with an application that does not handle persisting hello required data can lead toodata loss, if hello VM crashes.</span></span>

<span data-ttu-id="9a42e-580">Ad esempio, è possibile applicare questi tooSQL linee guida Server in esecuzione in archiviazione Premium procedendo come indicato di seguito hello,</span><span class="sxs-lookup"><span data-stu-id="9a42e-580">As an example, you can apply these guidelines tooSQL Server running on Premium Storage by doing hello following,</span></span>

1. <span data-ttu-id="9a42e-581">Configurare la cache "ReadOnly" nei dischi di Archiviazione Premium che ospitano i file di dati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-581">Configure "ReadOnly" cache on premium storage disks hosting data files.</span></span>  
   <span data-ttu-id="9a42e-582">a.</span><span class="sxs-lookup"><span data-stu-id="9a42e-582">a.</span></span>  <span data-ttu-id="9a42e-583">Hello veloce letta la fase di query di cache inferiore hello SQL Server perché le pagine di dati vengono recuperate più velocemente da hello cache confrontata toodirectly dai dischi dati hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-583">hello fast reads from cache lower hello SQL Server query time since data pages are retrieved much faster from hello cache compared toodirectly from hello data disks.</span></span>  
   <span data-ttu-id="9a42e-584">b.</span><span class="sxs-lookup"><span data-stu-id="9a42e-584">b.</span></span>  <span data-ttu-id="9a42e-585">Le fornitura delle letture dalla cache consente di rendere disponibile velocità effettiva aggiuntiva dai dischi dati Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-585">Serving reads from cache, means there is additional Throughput available from premium data disks.</span></span> <span data-ttu-id="9a42e-586">SQL Server può usare questa velocità effettiva aggiuntiva per recuperare un numero superiore di pagine di dati e altre operazioni come il backup/ripristino, i carichi in batch e le ricompilazioni degli indici.</span><span class="sxs-lookup"><span data-stu-id="9a42e-586">SQL Server can use this additional Throughput towards retrieving more data pages and other operations like backup/restore, batch loads, and index rebuilds.</span></span>  
2. <span data-ttu-id="9a42e-587">Configurare "None" cache in archiviazione premium dischi host i file di log hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-587">Configure "None" cache on premium storage disks hosting hello log files.</span></span>  
   <span data-ttu-id="9a42e-588">a.</span><span class="sxs-lookup"><span data-stu-id="9a42e-588">a.</span></span>  <span data-ttu-id="9a42e-589">I file di log hanno principalmente operazioni intensive a livello di lettura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-589">Log files have primarily write-heavy operations.</span></span> <span data-ttu-id="9a42e-590">Pertanto, non usano hello cache di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-590">Therefore, they do not benefit from hello ReadOnly cache.</span></span>

## <a name="disk-striping"></a><span data-ttu-id="9a42e-591">Striping del disco</span><span class="sxs-lookup"><span data-stu-id="9a42e-591">Disk Striping</span></span>
<span data-ttu-id="9a42e-592">Quando è possibile un'elevata scalabilità che macchina virtuale è collegata con diversi premium archiviazione permanente, dischi hello striping tooaggregate loro IOPs, della larghezza di banda e capacità di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-592">When a high scale VM is attached with several premium storage persistent disks, hello disks can be striped together tooaggregate their IOPs, bandwidth, and storage capacity.</span></span>

<span data-ttu-id="9a42e-593">In Windows, è possibile utilizzare i dischi toostripe spazi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-593">On Windows, you can use Storage Spaces toostripe disks together.</span></span> <span data-ttu-id="9a42e-594">È necessario configurare una colonna per ogni disco in un pool.</span><span class="sxs-lookup"><span data-stu-id="9a42e-594">You must configure one column for each disk in a pool.</span></span> <span data-ttu-id="9a42e-595">In caso contrario, hello prestazioni complessive del volume con striping possono essere inferiore al previsto, a causa di toouneven distribuzione del traffico tra dischi hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-595">Otherwise, hello overall performance of striped volume can be lower than expected, due toouneven distribution of traffic across hello disks.</span></span>

<span data-ttu-id="9a42e-596">Importante: Utilizzando Server Manager UI, è possibile impostare hello totale colonne backup too8 per un volume con striping.</span><span class="sxs-lookup"><span data-stu-id="9a42e-596">Important: Using Server Manager UI, you can set hello total number of columns up too8 for a striped volume.</span></span> <span data-ttu-id="9a42e-597">Se si installa più di 8 dischi, utilizzare volume hello toocreate di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9a42e-597">When attaching more than 8 disks, use PowerShell toocreate hello volume.</span></span> <span data-ttu-id="9a42e-598">Tramite PowerShell, è possibile impostare il numero di hello di colonne uguale toohello numero di dischi.</span><span class="sxs-lookup"><span data-stu-id="9a42e-598">Using PowerShell, you can set hello number of columns equal toohello number of disks.</span></span> <span data-ttu-id="9a42e-599">Ad esempio, se sono presenti 16 dischi in un set di striping singolo. specificare 16 colonne in hello *NumberOfColumns* parametro di hello *New-VirtualDisk* cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9a42e-599">For example, if there are 16 disks in a single stripe set; specify 16 columns in hello *NumberOfColumns* parameter of hello *New-VirtualDisk* PowerShell cmdlet.</span></span>

<span data-ttu-id="9a42e-600">In Linux, usare i dischi di hello MDADM utilità toostripe insieme.</span><span class="sxs-lookup"><span data-stu-id="9a42e-600">On Linux, use hello MDADM utility toostripe disks together.</span></span> <span data-ttu-id="9a42e-601">Per i passaggi dettagliati per i dischi di striping in Linux, vedere troppo[configurare RAID Software in Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9a42e-601">For detailed steps on striping disks on Linux refer too[Configure Software RAID on Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="9a42e-602">*Dimensioni di striping*</span><span class="sxs-lookup"><span data-stu-id="9a42e-602">*Stripe Size*</span></span>  
<span data-ttu-id="9a42e-603">Una configurazione più rilevanti nello striping del disco è la dimensione di striping hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-603">An important configuration in disk striping is hello stripe size.</span></span> <span data-ttu-id="9a42e-604">dimensione di striping Hello o dimensione del blocco è blocco più piccolo di hello di dati che l'applicazione può risolvere in un volume con striping.</span><span class="sxs-lookup"><span data-stu-id="9a42e-604">hello stripe size or block size is hello smallest chunk of data that application can address on a striped volume.</span></span> <span data-ttu-id="9a42e-605">dimensione di striping Hello che configuri dipende dal tipo di hello dell'applicazione e il modello di richiesta.</span><span class="sxs-lookup"><span data-stu-id="9a42e-605">hello stripe size you configure depends on hello type of application and its request pattern.</span></span> <span data-ttu-id="9a42e-606">Se si sceglie una dimensione di striping non corretto di hello, può causare problemi di allineamento tooIO, con un conseguente toodegraded delle prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-606">If you choose hello wrong stripe size, it could lead tooIO misalignment, which leads toodegraded performance of your application.</span></span>

<span data-ttu-id="9a42e-607">Ad esempio, se una richiesta dei / o generata dall'applicazione è maggiore di dimensione di striping del disco hello, sistema di archiviazione hello scrive tra stripe i limiti di unità in più di un disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-607">For example, if an IO request generated by your application is bigger than hello disk stripe size, hello storage system writes it across stripe unit boundaries on more than one disk.</span></span> <span data-ttu-id="9a42e-608">Quando è ora tooaccess tali dati, si otterrà tooseek tra più di una striscia unità toocomplete hello richiesta.</span><span class="sxs-lookup"><span data-stu-id="9a42e-608">When it is time tooaccess that data, it will have tooseek across more than one stripe units toocomplete hello request.</span></span> <span data-ttu-id="9a42e-609">effetto cumulativo di Hello di tale comportamento può causare un calo delle prestazioni toosubstantial.</span><span class="sxs-lookup"><span data-stu-id="9a42e-609">hello cumulative effect of such behavior can lead toosubstantial performance degradation.</span></span> <span data-ttu-id="9a42e-610">In hello se hello dimensione richiesta dei / o è minore di dimensione di striping e se è casuale, le richieste dei / o hello potrebbero sommare su hello stesso invece del disco causando un collo di bottiglia e infine compromettere le prestazioni dei / o hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-610">On hello other hand, if hello IO request size is smaller than stripe size, and if it is random in nature, hello IO requests may add up on hello same disk causing a bottleneck and ultimately degrading hello IO performance.</span></span>

<span data-ttu-id="9a42e-611">A seconda del carico di lavoro di tipo hello è in esecuzione l'applicazione, scegliere una dimensione di striping appropriato.</span><span class="sxs-lookup"><span data-stu-id="9a42e-611">Depending on hello type of workload your application is running, choose an appropriate stripe size.</span></span> <span data-ttu-id="9a42e-612">Per richieste I/O di piccole dimensioni e casuali, usare una dimensione di striping minore.</span><span class="sxs-lookup"><span data-stu-id="9a42e-612">For random small IO requests, use a smaller stripe size.</span></span> <span data-ttu-id="9a42e-613">Per richieste I/O di grandi dimensioni e sequenziali, usare una dimensione di striping maggiore.</span><span class="sxs-lookup"><span data-stu-id="9a42e-613">Whereas, for large sequential IO requests use a larger stripe size.</span></span> <span data-ttu-id="9a42e-614">Scoprire hello stripe dimensioni consigliate per l'applicazione hello che verrà eseguita in archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-614">Find out hello stripe size recommendations for hello application you will be running on Premium Storage.</span></span> <span data-ttu-id="9a42e-615">Per SQL Server configurare dimensioni di striping pari a 64 KB per carichi di lavoro OLTP e 256 KB per carichi di lavoro di tipo data warehouse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-615">For SQL Server, configure stripe size of 64KB for OLTP workloads and 256KB for data warehousing workloads.</span></span> <span data-ttu-id="9a42e-616">Vedere [procedure consigliate per SQL Server in macchine virtuali di Azure](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn altre.</span><span class="sxs-lookup"><span data-stu-id="9a42e-616">See [Performance best practices for SQL Server on Azure VMs](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn more.</span></span>

> [!NOTE]
> <span data-ttu-id="9a42e-617">è possibile effettuare lo striping di un massimo di 32 dischi di Archiviazione Premium in una VM di serie DS e di 64 dischi di Archiviazione Premium in una VM di serie GS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-617">You can stripe together a maximum of 32 premium storage disks on a DS series VM and 64 premium storage disks on a GS series VM.</span></span>
>
>

## <a name="multi-threading"></a><span data-ttu-id="9a42e-618">Multithreading</span><span class="sxs-lookup"><span data-stu-id="9a42e-618">Multi-threading</span></span>
<span data-ttu-id="9a42e-619">Azure è progettato archiviazione Premium piattaforma toobe parallela massiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-619">Azure has designed Premium Storage platform toobe massively parallel.</span></span> <span data-ttu-id="9a42e-620">Un'applicazione multithreading ottiene prestazioni molto più elevate rispetto a un'applicazione a thread singolo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-620">Therefore, a multi-threaded application achieves much higher performance than a single-threaded application.</span></span> <span data-ttu-id="9a42e-621">Un'applicazione multithreading suddivide le attività tra più thread e aumenta l'efficienza dell'esecuzione da hello utilizzo macchina virtuale e disco risorse toohello massimo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-621">A multi-threaded application splits up its tasks across multiple threads and increases efficiency of its execution by utilizing hello VM and disk resources toohello maximum.</span></span>

<span data-ttu-id="9a42e-622">Ad esempio, se l'applicazione è in esecuzione su un singolo core VM utilizzando due thread, hello CPU possibile alternare efficienza tooachieve due thread di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-622">For example, if your application is running on a single core VM using two threads, hello CPU can switch between hello two threads tooachieve efficiency.</span></span> <span data-ttu-id="9a42e-623">Mentre un thread è in attesa un toocomplete IO disco, hello CPU passare toohello altri thread.</span><span class="sxs-lookup"><span data-stu-id="9a42e-623">While one thread is waiting on a disk IO toocomplete, hello CPU can switch toohello other thread.</span></span> <span data-ttu-id="9a42e-624">In questo modo, due thread possono ottenere molto di più rispetto a un singolo thread.</span><span class="sxs-lookup"><span data-stu-id="9a42e-624">In this way, two threads can accomplish more than a single thread would.</span></span> <span data-ttu-id="9a42e-625">Se hello VM ha più di un core, riduce ulteriormente tempo di esecuzione, poiché ogni core può eseguire le attività in parallelo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-625">If hello VM has more than one core, it further decreases running time since each core can execute tasks in parallel.</span></span>

<span data-ttu-id="9a42e-626">Potrebbe non essere modo hello toochange in grado di un'applicazione preconfigurata implementa single threading o multithreading.</span><span class="sxs-lookup"><span data-stu-id="9a42e-626">You may not be able toochange hello way an off-the-shelf application implements single threading or multi-threading.</span></span> <span data-ttu-id="9a42e-627">Ad esempio, SQL Server è in grado di gestire più CPU e più core.</span><span class="sxs-lookup"><span data-stu-id="9a42e-627">For example, SQL Server is capable of handling multi-CPU and multi-core.</span></span> <span data-ttu-id="9a42e-628">Tuttavia, SQL Server decide quali condizioni verrà utilizzati uno o più thread tooprocess una query.</span><span class="sxs-lookup"><span data-stu-id="9a42e-628">However, SQL Server decides under what conditions it will leverage one or more threads tooprocess a query.</span></span> <span data-ttu-id="9a42e-629">Può eseguire query e compilare indici usando il multithreading.</span><span class="sxs-lookup"><span data-stu-id="9a42e-629">It can run queries and build indexes using multi-threading.</span></span> <span data-ttu-id="9a42e-630">Per una query che include un join di tabelle di grandi dimensioni e l'ordinamento dei dati prima della restituzione toohello utente, SQL Server utilizzerà probabilmente più thread.</span><span class="sxs-lookup"><span data-stu-id="9a42e-630">For a query that involves joining large tables and sorting data before returning toohello user, SQL Server will likely use multiple threads.</span></span> <span data-ttu-id="9a42e-631">Un utente non può tuttavia controllare se SQL Server esegue una query usando un singolo thread o più thread.</span><span class="sxs-lookup"><span data-stu-id="9a42e-631">However, a user cannot control whether SQL Server executes a query using a single thread or multiple threads.</span></span>

<span data-ttu-id="9a42e-632">Sono disponibili le impostazioni di configurazione che è possibile modificare tooinfluence questo multithreading o parallelo l'elaborazione di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-632">There are configuration settings that you can alter tooinfluence this multi-threading or parallel processing of an application.</span></span> <span data-ttu-id="9a42e-633">Ad esempio, in caso di SQL Server è configurazione grado di parallelismo massimo hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-633">For example, in case of SQL Server it is hello maximum Degree of Parallelism configuration.</span></span> <span data-ttu-id="9a42e-634">Questa impostazione di MAXDOP, consente di numero massimo di hello tooconfigure di SQL Server può utilizzare durante l'elaborazione parallela di processori.</span><span class="sxs-lookup"><span data-stu-id="9a42e-634">This setting called MAXDOP, allows you tooconfigure hello maximum number of processors SQL Server can use when parallel processing.</span></span> <span data-ttu-id="9a42e-635">È possibile configurare MAXDOP per singole query o per operazioni sull'indice.</span><span class="sxs-lookup"><span data-stu-id="9a42e-635">You can configure MAXDOP for individual queries or index operations.</span></span> <span data-ttu-id="9a42e-636">Ciò è utile quando si desidera toobalance risorse di sistema per un'applicazione critica di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-636">This is beneficial when you want toobalance resources of your system for a performance critical application.</span></span>

<span data-ttu-id="9a42e-637">Se ad esempio, l'applicazione utilizzando SQL Server è in esecuzione una query di grandi dimensioni e un'operazione di indice in hello contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-637">For example, say your application using SQL Server is executing a large query and an index operation at hello same time.</span></span> <span data-ttu-id="9a42e-638">Si supponga che si desiderava hello indice operazione toobe più query di grandi dimensioni toohello ad alte prestazioni confrontati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-638">Let us assume that you wanted hello index operation toobe more performant compared toohello large query.</span></span> <span data-ttu-id="9a42e-639">In tal caso, è possibile impostare il valore MAXDOP di hello toobe operazione di indice maggiore hello valore MAXDOP per query hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-639">In such a case, you can set MAXDOP value of hello index operation toobe higher than hello MAXDOP value for hello query.</span></span> <span data-ttu-id="9a42e-640">In questo modo, SQL Server disponga di un numero maggiore di processori che è possibile sfruttare per numero di processori, è possibile dedicare hello indice operazioni confrontati toohello toohello query di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-640">This way, SQL Server has more number of processors that it can leverage for hello index operation compared toohello number of processors it can dedicate toohello large query.</span></span> <span data-ttu-id="9a42e-641">Tenere presente che non si controlla il numero di hello di thread di SQL Server verrà utilizzata per ogni operazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-641">Remember, you do not control hello number of threads SQL Server will use for each operation.</span></span> <span data-ttu-id="9a42e-642">È possibile controllare hello il numero massimo di processori da dedicati per il multithreading.</span><span class="sxs-lookup"><span data-stu-id="9a42e-642">You can control hello maximum number of processors being dedicated for multi-threading.</span></span>

<span data-ttu-id="9a42e-643">Altre informazioni sui [Gradi di parallelismo](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a42e-643">Learn more about [Degrees of Parallelism](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span></span> <span data-ttu-id="9a42e-644">Individuare tali impostazioni che determinano il multithreading nell'applicazione e delle relative prestazioni toooptimize configurazioni.</span><span class="sxs-lookup"><span data-stu-id="9a42e-644">Find out such settings that influence multi-threading in your application and their configurations toooptimize performance.</span></span>

## <a name="queue-depth"></a><span data-ttu-id="9a42e-645">Profondità coda</span><span class="sxs-lookup"><span data-stu-id="9a42e-645">Queue Depth</span></span>
<span data-ttu-id="9a42e-646">Hello profondità della coda o lunghezza della coda o dimensione della coda è numero hello di richieste dei / o in sospeso nel sistema hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-646">hello Queue Depth or Queue Length or Queue Size is hello number of pending IO requests in hello system.</span></span> <span data-ttu-id="9a42e-647">il valore di Hello la profondità della coda determina il numero di operazioni possibile allineare l'applicazione, verranno elaborati i dischi di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-647">hello value of Queue Depth determines how many IO operations your application can line up, which hello storage disks will be processing.</span></span> <span data-ttu-id="9a42e-648">Influisce su tutti hello tre applicazioni gli indicatori di prestazioni cui abbiamo discusso in bastano questo articolo, IOPS, velocità effettiva e latenza.</span><span class="sxs-lookup"><span data-stu-id="9a42e-648">It affects all hello three application performance indicators that we discussed in this article viz., IOPS, Throughput and Latency.</span></span>

<span data-ttu-id="9a42e-649">La profondità della coda e il multithreading sono strettamente correlati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-649">Queue Depth and multi-threading are closely related.</span></span> <span data-ttu-id="9a42e-650">il valore di profondità della coda di Hello indica quanti multithreading può essere ottenuto da un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-650">hello Queue Depth value indicates how much multi-threading can be achieved by hello application.</span></span> <span data-ttu-id="9a42e-651">Se la profondità della coda hello è grande, applicazione può eseguire più operazioni contemporaneamente, in altre parole, più il multithreading.</span><span class="sxs-lookup"><span data-stu-id="9a42e-651">If hello Queue Depth is large, application can execute more operations concurrently, in other words, more multi-threading.</span></span> <span data-ttu-id="9a42e-652">Se hello profondità della coda è ridotta, anche se l'applicazione è a thread multipli, non avrà sufficiente richieste allineate per l'esecuzione simultanea.</span><span class="sxs-lookup"><span data-stu-id="9a42e-652">If hello Queue Depth is small, even though application is multi-threaded, it will not have enough requests lined up for concurrent execution.</span></span>

<span data-ttu-id="9a42e-653">In genere, disattivare hello applicazioni scaffale non consentono la profondità della coda toochange hello, perché se impostare in modo non corretto tale più male che bene.</span><span class="sxs-lookup"><span data-stu-id="9a42e-653">Typically, off hello shelf applications do not allow you toochange hello queue depth, because if set incorrectly it will do more harm than good.</span></span> <span data-ttu-id="9a42e-654">Applicazioni imposterà hello destra valore prestazioni ottimali hello tooget profondità della coda.</span><span class="sxs-lookup"><span data-stu-id="9a42e-654">Applications will set hello right value of queue depth tooget hello optimal performance.</span></span> <span data-ttu-id="9a42e-655">Tuttavia, è importante toounderstand questo concetto in modo che è possibile risolvere i problemi di prestazioni con l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-655">However, it is important toounderstand this concept so that you can troubleshoot performance issues with your application.</span></span> <span data-ttu-id="9a42e-656">È anche possibile osservare gli effetti di hello la profondità della coda eseguendo benchmark tools nel sistema.</span><span class="sxs-lookup"><span data-stu-id="9a42e-656">You can also observe hello effects of queue depth by running benchmarking tools on your system.</span></span>

<span data-ttu-id="9a42e-657">Alcune applicazioni forniscono impostazioni tooinfluence hello profondità della coda.</span><span class="sxs-lookup"><span data-stu-id="9a42e-657">Some applications provide settings tooinfluence hello Queue Depth.</span></span> <span data-ttu-id="9a42e-658">Impostazione di MAXDOP (massimo grado di parallelismo) hello in SQL Server, ad esempio, descritto nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-658">For example, hello MAXDOP (maximum degree of parallelism) setting in SQL Server explained in previous section.</span></span> <span data-ttu-id="9a42e-659">MAXDOP è tooinfluence un modo profondità della coda e multithreading, anche se non modifica direttamente il valore di profondità della coda hello di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a42e-659">MAXDOP is a way tooinfluence Queue Depth and multi-threading, although it does not directly change hello Queue Depth value of SQL Server.</span></span>

<span data-ttu-id="9a42e-660">*Profondità elevata della coda*</span><span class="sxs-lookup"><span data-stu-id="9a42e-660">*High Queue Depth*</span></span>  
<span data-ttu-id="9a42e-661">Righe di una profondità della coda ad alta le altre operazioni su disco hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-661">A high queue depth lines up more operations on hello disk.</span></span> <span data-ttu-id="9a42e-662">disco Hello SA successiva richiesta di hello nella propria coda di anticipo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-662">hello disk knows hello next request in its queue ahead of time.</span></span> <span data-ttu-id="9a42e-663">Di conseguenza, disco hello possa pianificare le operazioni di anticipo e li elaborano in una sequenza ottimale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-663">Consequently, hello disk can schedule operations ahead of time and process them in an optimal sequence.</span></span> <span data-ttu-id="9a42e-664">Poiché il disco di toohello più le richieste inviate dall'applicazione hello, disco hello in grado di elaborare ulteriori IOs parallelo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-664">Since hello application is sending more requests toohello disk, hello disk can process more parallel IOs.</span></span> <span data-ttu-id="9a42e-665">Infine, un'applicazione hello sarà in grado di tooachieve IOPS superiore.</span><span class="sxs-lookup"><span data-stu-id="9a42e-665">Ultimately, hello application will be able tooachieve higher IOPS.</span></span> <span data-ttu-id="9a42e-666">Poiché l'elaborazione di più richieste, hello velocità effettiva totale di un'applicazione hello aumenta.</span><span class="sxs-lookup"><span data-stu-id="9a42e-666">Since application is processing more requests, hello total Throughput of hello application also increases.</span></span>

<span data-ttu-id="9a42e-667">In genere, un'applicazione può ottenere una velocità effettiva massima con 8-16+ I/O in attesa per ogni disco collegato.</span><span class="sxs-lookup"><span data-stu-id="9a42e-667">Typically, an application can achieve maximum Throughput with 8-16+ outstanding IOs per attached disk.</span></span> <span data-ttu-id="9a42e-668">Se una profondità della coda, applicazione non viene eseguita sufficiente sistema toohello IOs e minore quantità di verrà elaborato in un periodo specifico.</span><span class="sxs-lookup"><span data-stu-id="9a42e-668">If a Queue Depth is one, application is not pushing enough IOs toohello system, and it will process less amount of in a given period.</span></span> <span data-ttu-id="9a42e-669">In altri termini, si otterrà una velocità effettiva minore.</span><span class="sxs-lookup"><span data-stu-id="9a42e-669">In other words, less Throughput.</span></span>

<span data-ttu-id="9a42e-670">Ad esempio, in SQL Server, hello impostazione MAXDOP valore per una query troppo indica a SQL Server che è possibile utilizzare query di hello toofour core tooexecute "4".</span><span class="sxs-lookup"><span data-stu-id="9a42e-670">For example, in SQL Server, setting hello MAXDOP value for a query too"4" informs SQL Server that it can use up toofour cores tooexecute hello query.</span></span> <span data-ttu-id="9a42e-671">SQL Server consente di verificare cosa è migliore coda profondità valore e hello il numero di core per l'esecuzione di query hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-671">SQL Server will determine what is best queue depth value and hello number of cores for hello query execution.</span></span>

<span data-ttu-id="9a42e-672">*Profondità ottimale della coda*</span><span class="sxs-lookup"><span data-stu-id="9a42e-672">*Optimal Queue Depth*</span></span>  
<span data-ttu-id="9a42e-673">Un valore molto elevato per la coda può avere alcuni svantaggi.</span><span class="sxs-lookup"><span data-stu-id="9a42e-673">Very high queue depth value also has its drawbacks.</span></span> <span data-ttu-id="9a42e-674">Se il valore di profondità della coda è eccessivo, un'applicazione hello tenterà toodrive numero molto elevato di IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-674">If queue depth value is too high, hello application will try toodrive very high IOPS.</span></span> <span data-ttu-id="9a42e-675">A meno che un'applicazione non abbia dischi persistenti con un numero sufficiente di IOPS con provisioning, ciò può influire negativamente sulle latenze dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-675">Unless application has persistent disks with sufficient provisioned IOPS, this can negatively affect application latencies.</span></span> <span data-ttu-id="9a42e-676">Formula seguente mostra una relazione di hello tra IOPS, latenza e la profondità della coda.</span><span class="sxs-lookup"><span data-stu-id="9a42e-676">Following formula shows hello relationship between IOPS, Latency and Queue Depth.</span></span>  
    ![](media/storage-premium-storage-performance/image6.png)

<span data-ttu-id="9a42e-677">Non è consigliabile configurare valore elevato tooany di profondità della coda, ma il valore ottimale tooan, in grado di offrire sufficiente di IOPS per un'applicazione hello senza influire sulla latenza.</span><span class="sxs-lookup"><span data-stu-id="9a42e-677">You should not configure Queue Depth tooany high value, but tooan optimal value, which can deliver enough IOPS for hello application without affecting latencies.</span></span> <span data-ttu-id="9a42e-678">Ad esempio, se la latenza dell'applicazione hello deve toobe 1 millisecondo, hello profondità della coda obbligatorio tooachieve è 5.000 IOPS, PC = 5000 x 0,001 = 5.</span><span class="sxs-lookup"><span data-stu-id="9a42e-678">For example, if hello application latency needs toobe 1 millisecond, hello Queue Depth required tooachieve 5,000 IOPS is, QD = 5000 x 0.001 = 5.</span></span>

<span data-ttu-id="9a42e-679">*Profondità della coda per un volume con striping*</span><span class="sxs-lookup"><span data-stu-id="9a42e-679">*Queue Depth for Striped Volume*</span></span>  
<span data-ttu-id="9a42e-680">Per un volume con striping è consigliabile mantenere una profondità della coda sufficientemente elevata da consentire a ogni disco di avere individualmente un picco di profondità della coda.</span><span class="sxs-lookup"><span data-stu-id="9a42e-680">For a striped volume, maintain a high enough queue depth such that, every disk has a peak queue depth individually.</span></span> <span data-ttu-id="9a42e-681">Ad esempio, si consideri un'applicazione che inserisce una profondità della coda di 2 e sono presenti 4 dischi in striscia hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-681">For example, consider an application that pushes a queue depth of 2 and there are 4 disks in hello stripe.</span></span> <span data-ttu-id="9a42e-682">due richieste dei / o Hello entra tootwo dischi, rimanenti due dischi sarà inattiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-682">hello two IO requests will go tootwo disks and remaining two disks will be idle.</span></span> <span data-ttu-id="9a42e-683">Pertanto, configurare la profondità della coda hello tale che tutti i dischi di hello possono essere occupati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-683">Therefore, configure hello queue depth such that all hello disks can be busy.</span></span> <span data-ttu-id="9a42e-684">Formula seguente viene illustrato come toodetermine hello profondità della coda di volumi con striping.</span><span class="sxs-lookup"><span data-stu-id="9a42e-684">Formula below shows how toodetermine hello queue depth of striped volumes.</span></span>  
    ![](media/storage-premium-storage-performance/image7.png)

## <a name="throttling"></a><span data-ttu-id="9a42e-685">Limitazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-685">Throttling</span></span>
<span data-ttu-id="9a42e-686">Provisioning di archiviazione Premium Azure numero specificato di IOPS e la velocità effettiva a seconda delle dimensioni delle macchine Virtuali hello e le dimensioni di disco desiderato.</span><span class="sxs-lookup"><span data-stu-id="9a42e-686">Azure Premium Storage provisions specified number of IOPS and Throughput depending on hello VM sizes and disk sizes you choose.</span></span> <span data-ttu-id="9a42e-687">Ogni volta che l'applicazione tenta toodrive IOPS o una velocità effettiva di sopra di questi limiti di in grado di gestire quali hello macchina virtuale o un disco, verrà limitazione archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-687">Anytime your application tries toodrive IOPS or Throughput above these limits of what hello VM or disk can handle, Premium Storage will throttle it.</span></span> <span data-ttu-id="9a42e-688">Questa situazione si manifesta sotto forma di hello di riduzione delle prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-688">This manifests in hello form of degraded performance in your application.</span></span> <span data-ttu-id="9a42e-689">Ciò può comportare una latenza più alta, una velocità effettiva minore o valori di IOPS più bassi.</span><span class="sxs-lookup"><span data-stu-id="9a42e-689">This can mean higher latency, lower Throughput or lower IOPS.</span></span> <span data-ttu-id="9a42e-690">Se l'Archiviazione Premium non applica la limitazione, è possibile che si verifichi un errore irreversibile dell'applicazione a causa del superamento dei limiti delle risorse.</span><span class="sxs-lookup"><span data-stu-id="9a42e-690">If Premium Storage does not throttle, your application could completely fail by exceeding what its resources are capable of achieving.</span></span> <span data-ttu-id="9a42e-691">In tal caso, tooavoid problemi di prestazione in scadenza toothrottling, sempre il provisioning di risorse sufficienti per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-691">So, tooavoid performance issues due toothrottling, always provision sufficient resources for your application.</span></span> <span data-ttu-id="9a42e-692">Prendere in considerazione è descritto nelle sezioni di dimensioni disco precedente e di dimensioni delle macchine Virtuali di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-692">Take into consideration what we discussed in hello VM sizes and Disk sizes sections above.</span></span> <span data-ttu-id="9a42e-693">Benchmark è toofigure modo migliore hello quali risorse è necessario toohost l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-693">Benchmarking is hello best way toofigure out what resources you will need toohost your application.</span></span>

## <a name="benchmarking"></a><span data-ttu-id="9a42e-694">Benchmarking</span><span class="sxs-lookup"><span data-stu-id="9a42e-694">Benchmarking</span></span>
<span data-ttu-id="9a42e-695">Benchmark è il processo di hello di simulazione di carichi di lavoro diversi sull'applicazione e misurare le prestazioni dell'applicazione hello per ogni carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9a42e-695">Benchmarking is hello process of simulating different workloads on your application and measuring hello application performance for each workload.</span></span> <span data-ttu-id="9a42e-696">Utilizzare i passaggi di hello descritti in una sezione precedente, si sono stati raccolti i requisiti delle prestazioni dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-696">Using hello steps described in an earlier section, you have gathered hello application performance requirements.</span></span> <span data-ttu-id="9a42e-697">Tramite l'esecuzione di prove comparative strumenti nelle macchine virtuali hello ospita un'applicazione hello, è possibile determinare i livelli di prestazioni hello che l'applicazione può ottenere con archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-697">By running benchmarking tools on hello VMs hosting hello application, you can determine hello performance levels that your application can achieve with Premium Storage.</span></span> <span data-ttu-id="9a42e-698">In questa sezione sono disponibili esempi di benchmarking per una VM DS14 Standard con provisioning con dischi di Archiviazione Premium di Azure.</span><span class="sxs-lookup"><span data-stu-id="9a42e-698">In this section, we provide you examples of benchmarking a Standard DS14 VM provisioned with Azure Premium Storage disks.</span></span>

<span data-ttu-id="9a42e-699">Sono stati usati gli strumenti di benchmarking comuni Iometer e FIO, rispettivamente per Windows e Linux.</span><span class="sxs-lookup"><span data-stu-id="9a42e-699">We have used common benchmarking tools Iometer and FIO, for Windows and Linux respectively.</span></span> <span data-ttu-id="9a42e-700">Questi strumenti generano la simulazione di produzione come carico di lavoro e le prestazioni del sistema hello misure di più thread.</span><span class="sxs-lookup"><span data-stu-id="9a42e-700">These tools spawn multiple threads simulating a production like workload, and measure hello system performance.</span></span> <span data-ttu-id="9a42e-701">Utilizzando gli strumenti di hello è inoltre possibile configurare i parametri come blocco dimensioni e la coda di profondità, che è in genere non è possibile modificare per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-701">Using hello tools you can also configure parameters like block size and queue depth, which you normally cannot change for an application.</span></span> <span data-ttu-id="9a42e-702">In questo modo è più flessibilità toodrive hello le massime prestazioni su una scala elevata VM eseguito il provisioning con i dischi premium per diversi tipi di carichi di lavoro dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-702">This gives you more flexibility toodrive hello maximum performance on a high scale VM provisioned with premium disks for different types of application workloads.</span></span> <span data-ttu-id="9a42e-703">informazioni su ogni strumento di valutazione, visitare toolearn [Iometer](http://www.iometer.org/) e [FIO](http://freecode.com/projects/fio).</span><span class="sxs-lookup"><span data-stu-id="9a42e-703">toolearn more about each benchmarking tool visit [Iometer](http://www.iometer.org/) and [FIO](http://freecode.com/projects/fio).</span></span>

<span data-ttu-id="9a42e-704">toofollow hello esempi riportati di seguito, creare una VM DS14 Standard e allegare toohello dischi di archiviazione Premium 11 macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-704">toofollow hello examples below, create a Standard DS14 VM and attach 11 Premium Storage disks toohello VM.</span></span> <span data-ttu-id="9a42e-705">Dei dischi hello 11, configurare i dischi di 10 con memorizzazione nella cache come "None" host e li eseguire lo striping in un volume denominato NoCacheWrites.</span><span class="sxs-lookup"><span data-stu-id="9a42e-705">Of hello 11 disks, configure 10 disks with host caching as "None" and stripe them into a volume called NoCacheWrites.</span></span> <span data-ttu-id="9a42e-706">Configurare la memorizzazione nella cache come "ReadOnly" su disco rimanente hello host e creare un volume denominato CacheReads con il disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-706">Configure host caching as "ReadOnly" on hello remaining disk and create a volume called CacheReads with this disk.</span></span> <span data-ttu-id="9a42e-707">Tramite il programma di installazione, sarà in grado di toosee hello massimo lettura e scrittura delle prestazioni da una VM DS14 Standard.</span><span class="sxs-lookup"><span data-stu-id="9a42e-707">Using this setup, you will be able toosee hello maximum Read and Write performance from a Standard DS14 VM.</span></span> <span data-ttu-id="9a42e-708">Per informazioni dettagliate sulla creazione di una macchina virtuale DS14 con i dischi premium, passare troppo[creare e utilizzare uno spazio di archiviazione Premium di conto per un disco di dati della macchina virtuale](../storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="9a42e-708">For detailed steps about creating a DS14 VM with premium disks, go too[Create and use a Premium Storage account for a virtual machine data disk](../storage-premium-storage.md).</span></span>

<span data-ttu-id="9a42e-709">*Riscaldamento di Cache di hello*</span><span class="sxs-lookup"><span data-stu-id="9a42e-709">*Warming up hello Cache*</span></span>  
<span data-ttu-id="9a42e-710">disco di Hello con memorizzazione nella cache di sola lettura host sarà in grado di toogive IOPS superiore rispetto al limite di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-710">hello disk with ReadOnly host caching will be able toogive higher IOPS than hello disk limit.</span></span> <span data-ttu-id="9a42e-711">tooget massime prestazioni leggere dalla cache di hello host, è necessario innanzitutto riscaldamento della cache di hello del disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-711">tooget this maximum read performance from hello host cache, first you must warm up hello cache of this disk.</span></span> <span data-ttu-id="9a42e-712">In questo modo si garantisce che hello IOs lettura determinerà quale strumento benchmark sul volume CacheReads effettivamente riscontri cache di hello e non il disco hello direttamente.</span><span class="sxs-lookup"><span data-stu-id="9a42e-712">This ensures that hello Read IOs which benchmarking tool will drive on CacheReads volume actually hits hello cache and not hello disk directly.</span></span> <span data-ttu-id="9a42e-713">risultato di riscontri cache di Hello in IOPS aggiuntive dalla cache di hello singolo abilitata su disco.</span><span class="sxs-lookup"><span data-stu-id="9a42e-713">hello cache hits result in additional IOPS from hello single cache enabled disk.</span></span>

> <span data-ttu-id="9a42e-714">**Importante:**</span><span class="sxs-lookup"><span data-stu-id="9a42e-714">**Important:**</span></span>  
> <span data-ttu-id="9a42e-715">È necessario riscaldamento della cache di hello prima di eseguire prove comparative, ogni volta che viene riavviato macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-715">You must warm up hello cache before running benchmarking, every time VM is rebooted.</span></span>
>
>

#### <a name="iometer"></a><span data-ttu-id="9a42e-716">Iometer</span><span class="sxs-lookup"><span data-stu-id="9a42e-716">Iometer</span></span>
<span data-ttu-id="9a42e-717">[Scaricare lo strumento Iometer hello](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) su hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-717">[Download hello Iometer tool](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) on hello VM.</span></span>

<span data-ttu-id="9a42e-718">*File di test*</span><span class="sxs-lookup"><span data-stu-id="9a42e-718">*Test file*</span></span>  
<span data-ttu-id="9a42e-719">Iometer utilizza un file di test che verrà archiviato nel volume hello in cui eseguire test di benchmark hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-719">Iometer uses a test file that is stored on hello volume on which you will run hello benchmarking test.</span></span> <span data-ttu-id="9a42e-720">Unità di letture e scritture in questo test toomeasure disco hello del file di IOPS e la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-720">It drives Reads and Writes on this test file toomeasure hello disk IOPS and Throughput.</span></span> <span data-ttu-id="9a42e-721">Iometer crea questo file di test se non ne è stato fornito uno.</span><span class="sxs-lookup"><span data-stu-id="9a42e-721">Iometer creates this test file if you have not provided one.</span></span> <span data-ttu-id="9a42e-722">Creare un file di test di 200GB denominato iobw.tst volumi hello CacheReads e NoCacheWrites.</span><span class="sxs-lookup"><span data-stu-id="9a42e-722">Create a 200GB test file called iobw.tst on hello CacheReads and NoCacheWrites volumes.</span></span>

<span data-ttu-id="9a42e-723">*Specifiche di accesso*</span><span class="sxs-lookup"><span data-stu-id="9a42e-723">*Access Specifications*</span></span>  
<span data-ttu-id="9a42e-724">Hello specifiche, dimensione della richiesta i/o, lettura/scrittura %, % casuali o sequenziali sono configurati utilizzando hello "Specifiche di accesso" scheda Iometer.</span><span class="sxs-lookup"><span data-stu-id="9a42e-724">hello specifications, request IO size, % read/write, % random/sequential are configured using hello "Access Specifications" tab in Iometer.</span></span> <span data-ttu-id="9a42e-725">Creare una specifica di accesso per ognuno di hello scenari descritti di seguito.</span><span class="sxs-lookup"><span data-stu-id="9a42e-725">Create an access specification for each of hello scenarios described below.</span></span> <span data-ttu-id="9a42e-726">Creare specifiche di accesso hello e "Salva" con un appropriato assegnare un nome simile: RandomWrites\_8 KB, RandomReads\_8 KB.</span><span class="sxs-lookup"><span data-stu-id="9a42e-726">Create hello access specifications and "Save" with an appropriate name like – RandomWrites\_8K, RandomReads\_8K.</span></span> <span data-ttu-id="9a42e-727">Selezionare specifica corrispondente hello durante l'esecuzione di uno scenario di test hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-727">Select hello corresponding specification when running hello test scenario.</span></span>

<span data-ttu-id="9a42e-728">Un esempio di specifiche di accesso per uno scenario con valori massimi di IOPS di scrittura è riportato di seguito, </span><span class="sxs-lookup"><span data-stu-id="9a42e-728">An example of access specifications for maximum Write IOPS scenario is shown below,</span></span>  
    ![](media/storage-premium-storage-performance/image8.png)

<span data-ttu-id="9a42e-729">*Specifiche per il valore massimo di IOPS di test*</span><span class="sxs-lookup"><span data-stu-id="9a42e-729">*Maximum IOPS Test Specifications*</span></span>  
<span data-ttu-id="9a42e-730">toodemonstrate massimo IOPs, utilizzare dimensioni richiesta.</span><span class="sxs-lookup"><span data-stu-id="9a42e-730">toodemonstrate maximum IOPs, use smaller request size.</span></span> <span data-ttu-id="9a42e-731">Usare una dimensione di richiesta pari a 8 K e creare specifiche per letture e scritture casuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-731">Use 8K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="9a42e-732">Specifica di accesso</span><span class="sxs-lookup"><span data-stu-id="9a42e-732">Access Specification</span></span> | <span data-ttu-id="9a42e-733">Dimensione della richiesta</span><span class="sxs-lookup"><span data-stu-id="9a42e-733">Request size</span></span> | <span data-ttu-id="9a42e-734">% di casuali</span><span class="sxs-lookup"><span data-stu-id="9a42e-734">Random %</span></span> | <span data-ttu-id="9a42e-735">% di letture</span><span class="sxs-lookup"><span data-stu-id="9a42e-735">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a42e-736">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="9a42e-736">RandomWrites\_8K</span></span> |<span data-ttu-id="9a42e-737">8 K</span><span class="sxs-lookup"><span data-stu-id="9a42e-737">8K</span></span> |<span data-ttu-id="9a42e-738">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-738">100</span></span> |<span data-ttu-id="9a42e-739">0</span><span class="sxs-lookup"><span data-stu-id="9a42e-739">0</span></span> |
| <span data-ttu-id="9a42e-740">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="9a42e-740">RandomReads\_8K</span></span> |<span data-ttu-id="9a42e-741">8 K</span><span class="sxs-lookup"><span data-stu-id="9a42e-741">8K</span></span> |<span data-ttu-id="9a42e-742">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-742">100</span></span> |<span data-ttu-id="9a42e-743">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-743">100</span></span> |

<span data-ttu-id="9a42e-744">*Specifiche per il valore massimo di velocità effettiva di test*</span><span class="sxs-lookup"><span data-stu-id="9a42e-744">*Maximum Throughput Test Specifications*</span></span>  
<span data-ttu-id="9a42e-745">toodemonstrate velocità effettiva massima, utilizzano le maggiori dimensioni della richiesta.</span><span class="sxs-lookup"><span data-stu-id="9a42e-745">toodemonstrate maximum Throughput, use larger request size.</span></span> <span data-ttu-id="9a42e-746">Usare una dimensione di richiesta pari a 64 K e creare specifiche per letture e scritture casuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-746">Use 64K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="9a42e-747">Specifica di accesso</span><span class="sxs-lookup"><span data-stu-id="9a42e-747">Access Specification</span></span> | <span data-ttu-id="9a42e-748">Dimensione della richiesta</span><span class="sxs-lookup"><span data-stu-id="9a42e-748">Request size</span></span> | <span data-ttu-id="9a42e-749">% di casuali</span><span class="sxs-lookup"><span data-stu-id="9a42e-749">Random %</span></span> | <span data-ttu-id="9a42e-750">% di letture</span><span class="sxs-lookup"><span data-stu-id="9a42e-750">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a42e-751">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="9a42e-751">RandomWrites\_64K</span></span> |<span data-ttu-id="9a42e-752">64 K</span><span class="sxs-lookup"><span data-stu-id="9a42e-752">64K</span></span> |<span data-ttu-id="9a42e-753">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-753">100</span></span> |<span data-ttu-id="9a42e-754">0</span><span class="sxs-lookup"><span data-stu-id="9a42e-754">0</span></span> |
| <span data-ttu-id="9a42e-755">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="9a42e-755">RandomReads\_64K</span></span> |<span data-ttu-id="9a42e-756">64 K</span><span class="sxs-lookup"><span data-stu-id="9a42e-756">64K</span></span> |<span data-ttu-id="9a42e-757">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-757">100</span></span> |<span data-ttu-id="9a42e-758">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-758">100</span></span> |

<span data-ttu-id="9a42e-759">*Esecuzione di Iometer Test hello*</span><span class="sxs-lookup"><span data-stu-id="9a42e-759">*Running hello Iometer Test*</span></span>  
<span data-ttu-id="9a42e-760">Eseguire procedure hello toowarm cache</span><span class="sxs-lookup"><span data-stu-id="9a42e-760">Perform hello steps below toowarm up cache</span></span>

1. <span data-ttu-id="9a42e-761">Creare le specifiche di accesso con i valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-761">Create two access specifications with values shown below,</span></span>

   | <span data-ttu-id="9a42e-762">Nome</span><span class="sxs-lookup"><span data-stu-id="9a42e-762">Name</span></span> | <span data-ttu-id="9a42e-763">Dimensione della richiesta</span><span class="sxs-lookup"><span data-stu-id="9a42e-763">Request size</span></span> | <span data-ttu-id="9a42e-764">% di casuali</span><span class="sxs-lookup"><span data-stu-id="9a42e-764">Random %</span></span> | <span data-ttu-id="9a42e-765">% di letture</span><span class="sxs-lookup"><span data-stu-id="9a42e-765">Read %</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="9a42e-766">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a42e-766">RandomWrites\_1MB</span></span> |<span data-ttu-id="9a42e-767">1 MB</span><span class="sxs-lookup"><span data-stu-id="9a42e-767">1MB</span></span> |<span data-ttu-id="9a42e-768">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-768">100</span></span> |<span data-ttu-id="9a42e-769">0</span><span class="sxs-lookup"><span data-stu-id="9a42e-769">0</span></span> |
   | <span data-ttu-id="9a42e-770">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a42e-770">RandomReads\_1MB</span></span> |<span data-ttu-id="9a42e-771">1 MB</span><span class="sxs-lookup"><span data-stu-id="9a42e-771">1MB</span></span> |<span data-ttu-id="9a42e-772">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-772">100</span></span> |<span data-ttu-id="9a42e-773">100</span><span class="sxs-lookup"><span data-stu-id="9a42e-773">100</span></span> |
2. <span data-ttu-id="9a42e-774">Eseguire test Iometer hello per inizializzare il disco della cache con i parametri seguenti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-774">Run hello Iometer test for initializing cache disk with following parameters.</span></span> <span data-ttu-id="9a42e-775">Utilizzare tre thread di lavoro per il volume di destinazione di hello e una profondità della coda di 128.</span><span class="sxs-lookup"><span data-stu-id="9a42e-775">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="9a42e-776">Impostare hello "Runtime" la durata di hello test too2hrs nella scheda "Configurazione di Test" hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-776">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="9a42e-777">Scenario</span><span class="sxs-lookup"><span data-stu-id="9a42e-777">Scenario</span></span> | <span data-ttu-id="9a42e-778">Volume di destinazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-778">Target Volume</span></span> | <span data-ttu-id="9a42e-779">Nome</span><span class="sxs-lookup"><span data-stu-id="9a42e-779">Name</span></span> | <span data-ttu-id="9a42e-780">Durata</span><span class="sxs-lookup"><span data-stu-id="9a42e-780">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="9a42e-781">Inizializzare il disco della cache</span><span class="sxs-lookup"><span data-stu-id="9a42e-781">Initialize Cache Disk</span></span> |<span data-ttu-id="9a42e-782">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a42e-782">CacheReads</span></span> |<span data-ttu-id="9a42e-783">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a42e-783">RandomWrites\_1MB</span></span> |<span data-ttu-id="9a42e-784">2 ore</span><span class="sxs-lookup"><span data-stu-id="9a42e-784">2hrs</span></span> |
3. <span data-ttu-id="9a42e-785">Eseguire test Iometer hello per il riscaldamento disco cache con i parametri seguenti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-785">Run hello Iometer test for warming up cache disk with following parameters.</span></span> <span data-ttu-id="9a42e-786">Utilizzare tre thread di lavoro per il volume di destinazione di hello e una profondità della coda di 128.</span><span class="sxs-lookup"><span data-stu-id="9a42e-786">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="9a42e-787">Impostare hello "Runtime" la durata di hello test too2hrs nella scheda "Configurazione di Test" hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-787">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="9a42e-788">Scenario</span><span class="sxs-lookup"><span data-stu-id="9a42e-788">Scenario</span></span> | <span data-ttu-id="9a42e-789">Volume di destinazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-789">Target Volume</span></span> | <span data-ttu-id="9a42e-790">Nome</span><span class="sxs-lookup"><span data-stu-id="9a42e-790">Name</span></span> | <span data-ttu-id="9a42e-791">Durata</span><span class="sxs-lookup"><span data-stu-id="9a42e-791">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="9a42e-792">Preparare il disco della cache</span><span class="sxs-lookup"><span data-stu-id="9a42e-792">Warm up Cache Disk</span></span> |<span data-ttu-id="9a42e-793">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a42e-793">CacheReads</span></span> |<span data-ttu-id="9a42e-794">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a42e-794">RandomReads\_1MB</span></span> |<span data-ttu-id="9a42e-795">2 ore</span><span class="sxs-lookup"><span data-stu-id="9a42e-795">2hrs</span></span> |

<span data-ttu-id="9a42e-796">Dopo che il disco della cache è stato riscaldato, procedere con scenari di test hello elencati di seguito.</span><span class="sxs-lookup"><span data-stu-id="9a42e-796">After cache disk is warmed up, proceed with hello test scenarios listed below.</span></span> <span data-ttu-id="9a42e-797">hello toorun Iometer test, utilizzare almeno tre thread di lavoro per **ogni** volume di destinazione.</span><span class="sxs-lookup"><span data-stu-id="9a42e-797">toorun hello Iometer test, use at least three worker threads for **each** target volume.</span></span> <span data-ttu-id="9a42e-798">Per ogni thread di lavoro, selezionare il volume di destinazione hello, impostare la profondità della coda e selezionare una delle specifiche di test salvata hello, come illustrato nella tabella hello sotto, toorun hello corrispondente uno scenario di test.</span><span class="sxs-lookup"><span data-stu-id="9a42e-798">For each worker thread, select hello target volume, set queue depth and select one of hello saved test specifications, as shown in hello table below, toorun hello corresponding test scenario.</span></span> <span data-ttu-id="9a42e-799">Quando si eseguono questi test, tabella di Hello illustra anche i risultati previsti per IOPS e la velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="9a42e-799">hello table also shows expected results for IOPS and Throughput when running these tests.</span></span> <span data-ttu-id="9a42e-800">Per tutti gli scenari vengono usati una dimensione di I/O ridotta pari a 8 KB e un valore elevato per la profondità della coda, pari a 128.</span><span class="sxs-lookup"><span data-stu-id="9a42e-800">For all scenarios, a small IO size of 8KB and a high queue depth of 128 is used.</span></span>

| <span data-ttu-id="9a42e-801">Scenario di test</span><span class="sxs-lookup"><span data-stu-id="9a42e-801">Test Scenario</span></span> | <span data-ttu-id="9a42e-802">Volume di destinazione</span><span class="sxs-lookup"><span data-stu-id="9a42e-802">Target Volume</span></span> | <span data-ttu-id="9a42e-803">Nome</span><span class="sxs-lookup"><span data-stu-id="9a42e-803">Name</span></span> | <span data-ttu-id="9a42e-804">Risultato</span><span class="sxs-lookup"><span data-stu-id="9a42e-804">Result</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a42e-805">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-805">Max.</span></span> <span data-ttu-id="9a42e-806">IOPS di lettura</span><span class="sxs-lookup"><span data-stu-id="9a42e-806">Read IOPS</span></span> |<span data-ttu-id="9a42e-807">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a42e-807">CacheReads</span></span> |<span data-ttu-id="9a42e-808">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="9a42e-808">RandomWrites\_8K</span></span> |<span data-ttu-id="9a42e-809">50.000 IOPS </span><span class="sxs-lookup"><span data-stu-id="9a42e-809">50,000 IOPS</span></span> |
| <span data-ttu-id="9a42e-810">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-810">Max.</span></span> <span data-ttu-id="9a42e-811">IOPS di scrittura</span><span class="sxs-lookup"><span data-stu-id="9a42e-811">Write IOPS</span></span> |<span data-ttu-id="9a42e-812">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a42e-812">NoCacheWrites</span></span> |<span data-ttu-id="9a42e-813">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="9a42e-813">RandomReads\_8K</span></span> |<span data-ttu-id="9a42e-814">64.000 IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-814">64,000 IOPS</span></span> |
| <span data-ttu-id="9a42e-815">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-815">Max.</span></span> <span data-ttu-id="9a42e-816">IOPS combinate</span><span class="sxs-lookup"><span data-stu-id="9a42e-816">Combined IOPS</span></span> |<span data-ttu-id="9a42e-817">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a42e-817">CacheReads</span></span> |<span data-ttu-id="9a42e-818">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="9a42e-818">RandomWrites\_8K</span></span> |<span data-ttu-id="9a42e-819">100.000 IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-819">100,000 IOPS</span></span> |
| <span data-ttu-id="9a42e-820">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a42e-820">NoCacheWrites</span></span> |<span data-ttu-id="9a42e-821">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="9a42e-821">RandomReads\_8K</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="9a42e-822">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-822">Max.</span></span> <span data-ttu-id="9a42e-823">letture MB/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-823">Read MB/sec</span></span> |<span data-ttu-id="9a42e-824">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a42e-824">CacheReads</span></span> |<span data-ttu-id="9a42e-825">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="9a42e-825">RandomWrites\_64K</span></span> |<span data-ttu-id="9a42e-826">524 MB/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-826">524 MB/sec</span></span> |
| <span data-ttu-id="9a42e-827">Max.</span><span class="sxs-lookup"><span data-stu-id="9a42e-827">Max.</span></span> <span data-ttu-id="9a42e-828">scritture MB/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-828">Write MB/sec</span></span> |<span data-ttu-id="9a42e-829">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a42e-829">NoCacheWrites</span></span> |<span data-ttu-id="9a42e-830">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="9a42e-830">RandomReads\_64K</span></span> |<span data-ttu-id="9a42e-831">524 MB/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-831">524 MB/sec</span></span> |
| <span data-ttu-id="9a42e-832">MB/sec combinati</span><span class="sxs-lookup"><span data-stu-id="9a42e-832">Combined MB/sec</span></span> |<span data-ttu-id="9a42e-833">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a42e-833">CacheReads</span></span> |<span data-ttu-id="9a42e-834">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="9a42e-834">RandomWrites\_64K</span></span> |<span data-ttu-id="9a42e-835">1000 MB/sec</span><span class="sxs-lookup"><span data-stu-id="9a42e-835">1000 MB/sec</span></span> |
| <span data-ttu-id="9a42e-836">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a42e-836">NoCacheWrites</span></span> |<span data-ttu-id="9a42e-837">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="9a42e-837">RandomReads\_64K</span></span> | &nbsp; | &nbsp; |

<span data-ttu-id="9a42e-838">Di seguito sono schermate di hello Iometer risultati dei test per scenari IOPS e la velocità effettiva combinati.</span><span class="sxs-lookup"><span data-stu-id="9a42e-838">Below are screenshots of hello Iometer test results for combined IOPS and Throughput scenarios.</span></span>

<span data-ttu-id="9a42e-839">*Valori massimi per IOPS di letture e scritture combinate*</span><span class="sxs-lookup"><span data-stu-id="9a42e-839">*Combined Reads and Writes Maximum IOPS*</span></span>  
![](media/storage-premium-storage-performance/image9.png)

<span data-ttu-id="9a42e-840">*Velocità effettiva massima di letture e scritture combinate*</span><span class="sxs-lookup"><span data-stu-id="9a42e-840">*Combined Reads and Writes Maximum Throughput*</span></span>  
![](media/storage-premium-storage-performance/image10.png)

### <a name="fio"></a><span data-ttu-id="9a42e-841">FIO</span><span class="sxs-lookup"><span data-stu-id="9a42e-841">FIO</span></span>
<span data-ttu-id="9a42e-842">FIO è un archivio di toobenchmark strumento comune in hello macchine virtuali Linux.</span><span class="sxs-lookup"><span data-stu-id="9a42e-842">FIO is a popular tool toobenchmark storage on hello Linux VMs.</span></span> <span data-ttu-id="9a42e-843">Dispone di hello flessibilità tooselect diversi i/o le dimensioni, sequenziale o casuale letture e scritture.</span><span class="sxs-lookup"><span data-stu-id="9a42e-843">It has hello flexibility tooselect different IO sizes, sequential or random reads and writes.</span></span> <span data-ttu-id="9a42e-844">Genera il thread di lavoro o hello tooperform processi specificati operazioni i/o.</span><span class="sxs-lookup"><span data-stu-id="9a42e-844">It spawns worker threads or processes tooperform hello specified I/O operations.</span></span> <span data-ttu-id="9a42e-845">È possibile specificare il tipo di hello di operazioni dei / o che necessario eseguire ogni thread di lavoro utilizzando i file del processo.</span><span class="sxs-lookup"><span data-stu-id="9a42e-845">You can specify hello type of I/O operations each worker thread must perform using job files.</span></span> <span data-ttu-id="9a42e-846">È stato creato un file di processo per ogni scenario illustrato negli esempi di hello riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="9a42e-846">We created one job file per scenario illustrated in hello examples below.</span></span> <span data-ttu-id="9a42e-847">È possibile modificare specifiche hello in questi processi file toobenchmark diversi carichi di lavoro in esecuzione in archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-847">You can change hello specifications in these job files toobenchmark different workloads running on Premium Storage.</span></span> <span data-ttu-id="9a42e-848">Negli esempi di hello, si sta usando un in esecuzione Standard per VM 14 DS **Ubuntu**.</span><span class="sxs-lookup"><span data-stu-id="9a42e-848">In hello examples, we are using a Standard DS 14 VM running **Ubuntu**.</span></span> <span data-ttu-id="9a42e-849">Hello utilizzare stesso programma di installazione descritti in inizio hello di hello [benchmark sezione](#Benchmarking) e riscaldamento della cache di hello prima di eseguire i test di benchmark hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-849">Use hello same setup described in hello beginning of hello [Benchmarking section](#Benchmarking) and warm up hello cache before running hello benchmarking tests.</span></span>

<span data-ttu-id="9a42e-850">Prima di iniziare, [scaricare FIO](https://github.com/axboe/fio) e installarlo nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9a42e-850">Before you begin, [download FIO](https://github.com/axboe/fio) and install it on your virtual machine.</span></span>

<span data-ttu-id="9a42e-851">Eseguire hello comando seguente per Ubuntu,</span><span class="sxs-lookup"><span data-stu-id="9a42e-851">Run hello following command for Ubuntu,</span></span>

```
apt-get install fio
```

<span data-ttu-id="9a42e-852">Si utilizzerà per le operazioni di lettura determinante su dischi hello quattro thread di lavoro per la Guida di operazioni di scrittura e quattro thread di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9a42e-852">We will use four worker threads for driving Write operations and four worker threads for driving Read operations on hello disks.</span></span> <span data-ttu-id="9a42e-853">Hello scrittura lavoratori verranno essere piedi traffico nel volume nocache"hello", che include 10 dischi con cache troppo imposta "None".</span><span class="sxs-lookup"><span data-stu-id="9a42e-853">hello Write workers will be driving traffic on hello "nocache" volume, which has 10 disks with cache set too"None".</span></span> <span data-ttu-id="9a42e-854">Hello thread di lavoro di lettura verrà essere che indirizza il traffico nel volume readcache"hello", con il 1 disco con il set di cache troppo "ReadOnly".</span><span class="sxs-lookup"><span data-stu-id="9a42e-854">hello Read workers will be driving traffic on hello "readcache" volume, which has 1 disk with cache set too"ReadOnly".</span></span>

<span data-ttu-id="9a42e-855">*IOPS massime di scrittura*</span><span class="sxs-lookup"><span data-stu-id="9a42e-855">*Maximum Write IOPS*</span></span>  
<span data-ttu-id="9a42e-856">Creare il file di processo hello con tooget specifiche seguenti numero massimo di IOPS di scrittura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-856">Create hello job file with following specifications tooget maximum Write IOPS.</span></span> <span data-ttu-id="9a42e-857">Assegnare al file il nome "fiowrite.ini".</span><span class="sxs-lookup"><span data-stu-id="9a42e-857">Name it "fiowrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[writer1]
rw=randwrite
directory=/mnt/nocache
[writer2]
rw=randwrite
directory=/mnt/nocache
[writer3]
rw=randwrite
directory=/mnt/nocache
[writer4]
rw=randwrite
directory=/mnt/nocache
```

<span data-ttu-id="9a42e-858">Hello nota seguire elementi principali che sono in base alle linee guida di progettazione hello illustrate nelle sezioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-858">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="9a42e-859">Queste specifiche sono essenziali toodrive numero massimo di IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-859">These specifications are essential toodrive maximum IOPS,</span></span>  

* <span data-ttu-id="9a42e-860">Profondità della coda elevata pari a 256.</span><span class="sxs-lookup"><span data-stu-id="9a42e-860">A high queue depth of 256.</span></span>  
* <span data-ttu-id="9a42e-861">Dimensione di blocco ridotta pari a 8 KB.</span><span class="sxs-lookup"><span data-stu-id="9a42e-861">A small block size of 8KB.</span></span>  
* <span data-ttu-id="9a42e-862">Più thread che eseguono scritture casuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-862">Multiple threads performing random writes.</span></span>

<span data-ttu-id="9a42e-863">Eseguire hello successivo comando tookick off hello FIO verificare la presenza di 30 secondi,</span><span class="sxs-lookup"><span data-stu-id="9a42e-863">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>  

```
sudo fio --runtime 30 fiowrite.ini
```

<span data-ttu-id="9a42e-864">Durante l'esecuzione di test hello, sarà il numero hello toosee in grado di distribuire i dischi di macchina virtuale e Premium hello IOPS di scrittura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-864">While hello test runs, you will be able toosee hello number of write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="9a42e-865">Come illustrato nell'esempio hello riportato di seguito, hello VM DS14 recapita il limite di IOPS di 50.000 IOPS massima di scrittura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-865">As shown in hello sample below, hello DS14 VM is delivering its maximum write IOPS limit of 50,000 IOPS.</span></span>  
    ![](media/storage-premium-storage-performance/image11.png)

<span data-ttu-id="9a42e-866">*IOPS massime di lettura*</span><span class="sxs-lookup"><span data-stu-id="9a42e-866">*Maximum Read IOPS*</span></span>  
<span data-ttu-id="9a42e-867">Creare il file di processo hello con tooget specifiche seguenti numero massimo di IOPS di lettura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-867">Create hello job file with following specifications tooget maximum Read IOPS.</span></span> <span data-ttu-id="9a42e-868">Assegnare al file il nome "fioread.ini".</span><span class="sxs-lookup"><span data-stu-id="9a42e-868">Name it "fioread.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache
```

<span data-ttu-id="9a42e-869">Hello nota seguire elementi principali che sono in base alle linee guida di progettazione hello illustrate nelle sezioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-869">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="9a42e-870">Queste specifiche sono essenziali toodrive numero massimo di IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-870">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="9a42e-871">Profondità della coda elevata pari a 256.</span><span class="sxs-lookup"><span data-stu-id="9a42e-871">A high queue depth of 256.</span></span>  
* <span data-ttu-id="9a42e-872">Dimensione di blocco ridotta pari a 8 KB.</span><span class="sxs-lookup"><span data-stu-id="9a42e-872">A small block size of 8KB.</span></span>  
* <span data-ttu-id="9a42e-873">Più thread che eseguono scritture casuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-873">Multiple threads performing random writes.</span></span>

<span data-ttu-id="9a42e-874">Eseguire hello successivo comando tookick off hello FIO verificare la presenza di 30 secondi,</span><span class="sxs-lookup"><span data-stu-id="9a42e-874">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioread.ini
```

<span data-ttu-id="9a42e-875">Durante l'esecuzione di test hello, sarà il numero hello toosee in grado di hello IOPS lettura VM e forniscono i dischi Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-875">While hello test runs, you will be able toosee hello number of read IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="9a42e-876">Come illustrato nell'esempio hello riportato di seguito, hello VM DS14 offre più di 64.000 IOPS di lettura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-876">As shown in hello sample below, hello DS14 VM is delivering more than 64,000 Read IOPS.</span></span> <span data-ttu-id="9a42e-877">Si tratta di una combinazione di disco hello e le prestazioni della cache di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-877">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image12.png)

<span data-ttu-id="9a42e-878">*IOPS massime di lettura e scrittura*</span><span class="sxs-lookup"><span data-stu-id="9a42e-878">*Maximum Read and Write IOPS*</span></span>  
<span data-ttu-id="9a42e-879">Creare file di processo hello con tooget di specifiche seguenti massimo combinati in lettura e scrittura di IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a42e-879">Create hello job file with following specifications tooget maximum combined Read and Write IOPS.</span></span> <span data-ttu-id="9a42e-880">Assegnare al file il nome "fioreadwrite.ini".</span><span class="sxs-lookup"><span data-stu-id="9a42e-880">Name it "fioreadwrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=128
ioengine=libaio
bs=4k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache

[writer1]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer2]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer3]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer4]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
```

<span data-ttu-id="9a42e-881">Hello nota seguire elementi principali che sono in base alle linee guida di progettazione hello illustrate nelle sezioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="9a42e-881">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="9a42e-882">Queste specifiche sono essenziali toodrive numero massimo di IOPS</span><span class="sxs-lookup"><span data-stu-id="9a42e-882">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="9a42e-883">Profondità della coda elevata pari a 128.</span><span class="sxs-lookup"><span data-stu-id="9a42e-883">A high queue depth of 128.</span></span>  
* <span data-ttu-id="9a42e-884">Dimensione di blocco ridotta pari a 4 KB.</span><span class="sxs-lookup"><span data-stu-id="9a42e-884">A small block size of 4KB.</span></span>  
* <span data-ttu-id="9a42e-885">Più thread che eseguono scritture e letture casuali.</span><span class="sxs-lookup"><span data-stu-id="9a42e-885">Multiple threads performing random reads and writes.</span></span>

<span data-ttu-id="9a42e-886">Eseguire hello successivo comando tookick off hello FIO verificare la presenza di 30 secondi,</span><span class="sxs-lookup"><span data-stu-id="9a42e-886">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioreadwrite.ini
```

<span data-ttu-id="9a42e-887">Durante l'esecuzione di test hello, si verrà numero hello toosee in grado di lettura combinato e IOPS di scrittura VM hello e forniscono i dischi Premium.</span><span class="sxs-lookup"><span data-stu-id="9a42e-887">While hello test runs, you will be able toosee hello number of combined read and write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="9a42e-888">Come illustrato nell'esempio hello riportato di seguito, hello VM DS14 offre più di 100.000 lettura combinato e IOPS di scrittura.</span><span class="sxs-lookup"><span data-stu-id="9a42e-888">As shown in hello sample below, hello DS14 VM is delivering more than 100,000 combined Read and Write IOPS.</span></span> <span data-ttu-id="9a42e-889">Si tratta di una combinazione di disco hello e le prestazioni della cache di hello.</span><span class="sxs-lookup"><span data-stu-id="9a42e-889">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image13.png)

<span data-ttu-id="9a42e-890">*Velocità effettiva massima combinata*</span><span class="sxs-lookup"><span data-stu-id="9a42e-890">*Maximum Combined Throughput*</span></span>  
<span data-ttu-id="9a42e-891">hello tooget massimo combinato di lettura e la velocità effettiva di scrittura, utilizzare una dimensione del blocco più grande e la profondità della coda di grandi dimensioni con più thread di esecuzione di letture e scritture.</span><span class="sxs-lookup"><span data-stu-id="9a42e-891">tooget hello maximum combined Read and Write Throughput, use a larger block size and large queue depth with multiple threads performing reads and writes.</span></span> <span data-ttu-id="9a42e-892">È possibile usare una dimensione di blocco pari a 64 KB e una profondità della coda pari a 128.</span><span class="sxs-lookup"><span data-stu-id="9a42e-892">You can use a block size of 64KB and queue depth of 128.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9a42e-893">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="9a42e-893">Next Steps</span></span>
<span data-ttu-id="9a42e-894">Altre informazioni sull'Archiviazione Premium di Azure:</span><span class="sxs-lookup"><span data-stu-id="9a42e-894">Learn more about Azure Premium Storage:</span></span>

* [<span data-ttu-id="9a42e-895">Archiviazione Premium: archiviazione ad alte prestazioni per carichi di lavoro delle macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="9a42e-895">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../storage-premium-storage.md)  

<span data-ttu-id="9a42e-896">Per gli utenti di SQL Server sono disponibili articoli sulle procedure consigliate per le prestazioni per SQL Server:</span><span class="sxs-lookup"><span data-stu-id="9a42e-896">For SQL Server users, read articles on Performance Best Practices for SQL Server:</span></span>

* [<span data-ttu-id="9a42e-897">Procedure consigliate per le prestazioni per SQL Server in Macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="9a42e-897">Performance Best Practices for SQL Server in Azure Virtual Machines</span></span>](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md)
* [<span data-ttu-id="9a42e-898">L'Archiviazione Premium di Azure offre le prestazioni più elevate per SQL Server in VM di Azure</span><span class="sxs-lookup"><span data-stu-id="9a42e-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM</span></span>](http://blogs.technet.com/b/dataplatforminsider/archive/2015/04/23/azure-premium-storage-provides-highest-performance-for-sql-server-in-azure-vm.aspx)
