---
title: "Oggetti applicazione e oggetti entità servizio in Azure Active Directory | Microsoft Docs"
description: "Descrizione della relazione tra oggetti applicazione e oggetti entità servizio in Azure Active Directory"
documentationcenter: dev-center-name
author: dstrockis
manager: mbaldwin
services: active-directory
editor: 
ms.assetid: adfc0569-dc91-48fe-92c3-b5b4833703de
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/28/2016
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 4c75ade5f4e47ef64ccc0fe8af4b174c377dc7bc
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="application-and-service-principal-objects-in-azure-active-directory-azure-ad"></a><span data-ttu-id="df83c-103">Oggetti applicazione e oggetti entità servizio in Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="df83c-103">Application and service principal objects in Azure Active Directory (Azure AD)</span></span>
<span data-ttu-id="df83c-104">Spesso il significato del termine "applicazione" può essere frainteso quando usato nel contesto di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="df83c-104">Sometimes the meaning of the term "application" can be misunderstood when used in the context of Azure AD.</span></span> <span data-ttu-id="df83c-105">Questo articolo offre un chiarimento definendo gli aspetti concettuali e concreti dell'integrazione dell'applicazione Azure AD, con un esempio di registrazione e consenso per un'[applicazione multi-tenant](active-directory-dev-glossary.md#multi-tenant-application).</span><span class="sxs-lookup"><span data-stu-id="df83c-105">The goal of this article is to make it clearer, by clarifying conceptual and concrete aspects of Azure AD application integration, with an illustration of registration and consent for a [multi-tenant application](active-directory-dev-glossary.md#multi-tenant-application).</span></span>

## <a name="overview"></a><span data-ttu-id="df83c-106">Panoramica</span><span class="sxs-lookup"><span data-stu-id="df83c-106">Overview</span></span>
<span data-ttu-id="df83c-107">Un'applicazione che è stata integrata con Azure AD ha delle implicazioni che vanno oltre l'aspetto del software.</span><span class="sxs-lookup"><span data-stu-id="df83c-107">An application that has been integrated with Azure AD has implications that go beyond the software aspect.</span></span> <span data-ttu-id="df83c-108">"Applicazione" viene spesso usato come termine concettuale, che fa riferimento non solo al software applicativo, ma anche alla sua registrazione Azure AD e al ruolo nelle "conversazioni" di autenticazione/autorizzazione in fase di runtime.</span><span class="sxs-lookup"><span data-stu-id="df83c-108">"Application" is frequently used as a conceptual term, referring to not only the the application software, but also its Azure AD registration and role in authentication/authorization "conversations" at runtime.</span></span> <span data-ttu-id="df83c-109">Per definizione, un'applicazione può funzionare in un ruolo [client](active-directory-dev-glossary.md#client-application) (che utilizza una risorsa), in un ruolo [server di risorse](active-directory-dev-glossary.md#resource-server) (che espone le API ai client) o in entrambi i ruoli.</span><span class="sxs-lookup"><span data-stu-id="df83c-109">By definition, an application can function in a [client](active-directory-dev-glossary.md#client-application) role (consuming a resource), a [resource server](active-directory-dev-glossary.md#resource-server) role (exposing APIs to clients), or even both.</span></span> <span data-ttu-id="df83c-110">Il protocollo di conversazione è definito da un [flusso di concessione di autorizzazione OAuth 2.0](active-directory-dev-glossary.md#authorization-grant), consentendo al client e alla risorsa di accedere e proteggere, rispettivamente, i dati di una risorsa.</span><span class="sxs-lookup"><span data-stu-id="df83c-110">The conversation protocol is defined by an [OAuth 2.0 Authorization Grant flow](active-directory-dev-glossary.md#authorization-grant), allowing the client/resource to access/protect a resource's data respectively.</span></span> <span data-ttu-id="df83c-111">Verrà ora approfondito come il modello applicativo di Azure AD rappresenta un'applicazione in fase di progettazione e in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="df83c-111">Now let's go a level deeper, and see how the Azure AD application model represents an application at design-time and run-time.</span></span> 

## <a name="application-registration"></a><span data-ttu-id="df83c-112">Registrazione dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="df83c-112">Application registration</span></span>
<span data-ttu-id="df83c-113">Quando si registra un'applicazione di Azure AD nel [portale di Azure][AZURE-Portal], vengono creati due oggetti nel tenant di Azure AD: un oggetto applicazione e un oggetto entità servizio.</span><span class="sxs-lookup"><span data-stu-id="df83c-113">When you register an Azure AD application in the [Azure portal][AZURE-Portal], two objects are created in your Azure AD tenant: an application object, and a service principal object.</span></span>

#### <a name="application-object"></a><span data-ttu-id="df83c-114">Oggetto applicazione</span><span class="sxs-lookup"><span data-stu-id="df83c-114">Application object</span></span>
<span data-ttu-id="df83c-115">Un'applicazione di Azure AD è definita da un solo oggetto applicazione che risiede nel tenant di Azure AD in cui l'applicazione è stata registrata, noto come tenant "home" dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="df83c-115">An Azure AD application is defined by its one and only application object, which resides in the Azure AD tenant where the application was registered, known as the application's "home" tenant.</span></span> <span data-ttu-id="df83c-116">L'[entità applicativa][AAD-Graph-App-Entity] di Azure AD Graph definisce lo schema per le proprietà di un oggetto applicazione.</span><span class="sxs-lookup"><span data-stu-id="df83c-116">The Azure AD Graph [Application entity][AAD-Graph-App-Entity] defines the schema for an application object's properties.</span></span> 

#### <a name="service-principal-object"></a><span data-ttu-id="df83c-117">Oggetto entità servizio</span><span class="sxs-lookup"><span data-stu-id="df83c-117">Service principal object</span></span>
<span data-ttu-id="df83c-118">L'oggetto entità servizio definisce i criteri e le autorizzazioni per l'uso di un'applicazione in un tenant specifico e costituisce la base per un'entità di sicurezza in cui verrà rappresentata l'applicazione in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="df83c-118">The service principal object defines the policy and permissions for an application's use in a specific tenant, providing the basis for a security principal to represent the application at run-time.</span></span> <span data-ttu-id="df83c-119">L'[entità ServicePrincipal][AAD-Graph-Sp-Entity] di Azure AD Graph definisce lo schema delle proprietà di un oggetto entità servizio.</span><span class="sxs-lookup"><span data-stu-id="df83c-119">The Azure AD Graph [ServicePrincipal entity][AAD-Graph-Sp-Entity] defines the schema for a service principal object's properties.</span></span> 

#### <a name="application-and-service-principal-relationship"></a><span data-ttu-id="df83c-120">Relazione tra applicazione e entità servizio</span><span class="sxs-lookup"><span data-stu-id="df83c-120">Application and service principal relationship</span></span>
<span data-ttu-id="df83c-121">Si può considerare l'oggetto applicazione come la rappresentazione *globale* dell'applicazione usata in tutti i tenant, e l'entità servizio come la rappresentazione *locale* usata in uno specifico tenant.</span><span class="sxs-lookup"><span data-stu-id="df83c-121">Consider the application object as the *global* representation of your application for use across all tenants, and the service principal as the *local* representation for use in a specific tenant.</span></span> <span data-ttu-id="df83c-122">L'oggetto applicazione funge da modello da cui *derivano* le proprietà comuni e predefinite per l'uso nella creazione di oggetti entità servizio corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="df83c-122">The application object serves as the template from which common and default properties are *derived* for use in creating corresponding service principal objects.</span></span> <span data-ttu-id="df83c-123">Un oggetto applicazione ha quindi una relazione 1:1 con l'applicazione software e una relazione 1:molti con gli oggetti entità servizio corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="df83c-123">An application object therefore has a 1:1 relationship with the software application, and a 1:many relationship with its corresponding service principal object(s).</span></span>

<span data-ttu-id="df83c-124">In ogni tenant in cui verrà usata l'applicazione è necessario creare un'entità servizio per poter stabilire un'identità per l'iscrizione e/o l'accesso alle risorse che venga protetta da un tenant.</span><span class="sxs-lookup"><span data-stu-id="df83c-124">A service principal must be created in each tenant where the application will be used, enabling it to establish an identity for sign-in and/or access to resources being secured by the tenant.</span></span> <span data-ttu-id="df83c-125">Un'applicazione single-tenant avrà solamente un'entità servizio (nel relativo tenant principale), in genere creata e autorizzata per essere usata durante la registrazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="df83c-125">A single-tenant application will have only one service principal (in its home tenant), usually created and consented for use during application registration.</span></span> <span data-ttu-id="df83c-126">Un'applicazione Web/API multi-tenant avrà un'entità servizio creata in ogni tenant in cui l'utente ha dato il consenso all'uso.</span><span class="sxs-lookup"><span data-stu-id="df83c-126">A multi-tenant Web application/API will also have a service principal created in each tenant where a user from that tenant has consented to its use.</span></span>  

> [!NOTE]
> <span data-ttu-id="df83c-127">Qualsiasi modifica apportata all'oggetto applicazione verrà riflessa solo nell'oggetto entità servizio nel tenant home dell'applicazione, ovvero nel tenant in cui è stata registrata.</span><span class="sxs-lookup"><span data-stu-id="df83c-127">Any changes you make to your application object, are also reflected in its service principal object in the application's home tenant only (the tenant where it was registered).</span></span> <span data-ttu-id="df83c-128">Per le applicazioni multi-tenant, le modifiche apportate all'oggetto applicazione non vengono riflesse negli oggetti entità servizio dei tenant consumer fino a quando non viene rimosso l'accesso tramite il [Pannello di accesso all'applicazione](https://myapps.microsoft.com) e poi concesso nuovamente.</span><span class="sxs-lookup"><span data-stu-id="df83c-128">For multi-tenant applications, changes to the application object are not reflected in any consumer tenants' service principal objects, until the access is removed via the [Application Access Panel](https://myapps.microsoft.com) and granted again.</span></span>
><br>  
> <span data-ttu-id="df83c-129">Si noti anche che le applicazioni native sono registrate come multi-tenant per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="df83c-129">Also note that native applications are registered as multi-tenant by default.</span></span>
> 
> 

## <a name="example"></a><span data-ttu-id="df83c-130">Esempio</span><span class="sxs-lookup"><span data-stu-id="df83c-130">Example</span></span>
<span data-ttu-id="df83c-131">Il diagramma seguente illustra la relazione tra l'oggetto applicazione e i corrispondenti oggetti entità servizio di un'applicazione, nel contesto di un'applicazione multi-tenant di esempio denominata **app HR**.</span><span class="sxs-lookup"><span data-stu-id="df83c-131">The following diagram illustrates the relationship between an application's application object and corresponding service principal objects, in the context of a sample multi-tenant application called **HR app**.</span></span> <span data-ttu-id="df83c-132">In questo scenario sono presenti tre tenant di Azure AD:</span><span class="sxs-lookup"><span data-stu-id="df83c-132">There are three Azure AD tenants in this scenario:</span></span> 

* <span data-ttu-id="df83c-133">**Adatum**, il tenant usato dalla società che ha sviluppato l'**app HR**</span><span class="sxs-lookup"><span data-stu-id="df83c-133">**Adatum** - the tenant used by the company that developed the **HR app**</span></span>
* <span data-ttu-id="df83c-134">**Contoso**, il tenant usato dall'organizzazione Contoso, che utilizza l'**app HR**</span><span class="sxs-lookup"><span data-stu-id="df83c-134">**Contoso** - the tenant used by the Contoso organization, which is a consumer of the **HR app**</span></span>
* <span data-ttu-id="df83c-135">**Fabrikam**, il tenant usato dall'organizzazione Fabrikam, che utilizza anch'essa l'**app HR**</span><span class="sxs-lookup"><span data-stu-id="df83c-135">**Fabrikam** - the tenant used by the Fabrikam organization, which also consumes the **HR app**</span></span>

![Relazione tra un oggetto applicazione e un oggetto entità servizio](./media/active-directory-application-objects/application-objects-relationship.png)

<span data-ttu-id="df83c-137">Nel diagramma qui sopra, il passaggio 1 è il processo di creazione degli oggetti applicazione ed entità servizio nel tenant home dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="df83c-137">In the previous diagram, Step 1 is the process of creating the application and service principal objects in the application's home tenant.</span></span>

<span data-ttu-id="df83c-138">Nel passaggio 2, quando gli amministratori di Contoso e Fabrikam completano il consenso, nel tenant di Azure AD della rispettiva società viene creato un oggetto entità servizio a cui vengono assegnate le autorizzazioni concesse dall'amministratore.</span><span class="sxs-lookup"><span data-stu-id="df83c-138">In Step 2, when Contoso and Fabrikam administrators complete consent, a service principal object is created in their company's Azure AD tenant and assigned the permissions that the administrator granted.</span></span> <span data-ttu-id="df83c-139">Si noti anche che l'app HR potrebbe essere configurata/progettata per permettere il consenso da parte di utenti per l'uso individuale.</span><span class="sxs-lookup"><span data-stu-id="df83c-139">Also note that the HR app could be configured/designed to allow consent by users for individual use.</span></span>

<span data-ttu-id="df83c-140">Nel Passaggio 3, ogni tenant consumer dell'applicazione HR (Contoso e Fabrikam) dispone del proprio oggetto di entità servizio.</span><span class="sxs-lookup"><span data-stu-id="df83c-140">In Step 3, the consumer tenants of the HR application (Contoso and Fabrikam) each have their own service principal object.</span></span> <span data-ttu-id="df83c-141">Ognuno rappresenta l'uso di un'istanza dell'applicazione in fase di runtime, gestito tramite le autorizzazioni concesse dall'amministratore.</span><span class="sxs-lookup"><span data-stu-id="df83c-141">Each represents their use of an instance of the application at runtime, governed by the permissions consented by the respective administrator.</span></span>

## <a name="next-steps"></a><span data-ttu-id="df83c-142">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="df83c-142">Next steps</span></span>
<span data-ttu-id="df83c-143">L'oggetto applicazione di un'applicazione è accessibile tramite l'API Graph di Azure AD, l'editor del manifesto dell'applicazione del [portale di Azure][AZURE-Portal] o i [cmdlet PowerShell di Azure AD](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), come rappresentato dall'[Entità applicativa][AAD-Graph-App-Entity] di OData.</span><span class="sxs-lookup"><span data-stu-id="df83c-143">An application's application object can be accessed via the Azure AD Graph API, the [Azure portal's][AZURE-Portal] application manifest editor, or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [Application entity][AAD-Graph-App-Entity].</span></span>

<span data-ttu-id="df83c-144">L'oggetto entità servizio di un'applicazione è accessibile tramite l'API Graph di Azure AD o i [cmdlet PowerShell di Azure AD](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), come rappresentato dall'[Entità ServicePrincipal][AAD-Graph-Sp-Entity] di OData.</span><span class="sxs-lookup"><span data-stu-id="df83c-144">An application's service principal object can be accessed via the Azure AD Graph API or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [ServicePrincipal entity][AAD-Graph-Sp-Entity].</span></span>

<span data-ttu-id="df83c-145">L'[Explorer Graph di Azure AD](https://graphexplorer.azurewebsites.net/) è utile per eseguire query sugli oggetti applicazione ed entità servizio.</span><span class="sxs-lookup"><span data-stu-id="df83c-145">The [Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) is useful for querying both the application and service principal objects.</span></span>

<!--Image references-->

<!--Reference style links -->
[AAD-Graph-App-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#application-entity
[AAD-Graph-Sp-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity
[AZURE-Portal]: https://portal.azure.com
