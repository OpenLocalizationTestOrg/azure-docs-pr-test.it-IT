---
title: Registrazione dell'insieme di credenziali chiave aaaAzure | Documenti Microsoft
description: Utilizzare questa esercitazione toohelp iniziare a usare Azure insieme di credenziali chiave di registrazione.
services: key-vault
documentationcenter: 
author: cabailey
manager: mbaldwin
tags: azure-resource-manager
ms.assetid: 43f96a2b-3af8-4adc-9344-bc6041fface8
ms.service: key-vault
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 07/19/2017
ms.author: cabailey
ms.openlocfilehash: 38a173297948748bef45e3d857c06b50b3e21e74
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-key-vault-logging"></a><span data-ttu-id="01dd2-103">Registrazione dell'insieme di credenziali delle chiavi di Azure</span><span class="sxs-lookup"><span data-stu-id="01dd2-103">Azure Key Vault Logging</span></span>
<span data-ttu-id="01dd2-104">L'insieme di credenziali delle chiavi di Azure è disponibile nella maggior parte delle aree.</span><span class="sxs-lookup"><span data-stu-id="01dd2-104">Azure Key Vault is available in most regions.</span></span> <span data-ttu-id="01dd2-105">Per ulteriori informazioni, vedere hello [insieme di credenziali chiave pagina dei prezzi](https://azure.microsoft.com/pricing/details/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="01dd2-105">For more information, see hello [Key Vault pricing page](https://azure.microsoft.com/pricing/details/key-vault/).</span></span>

## <a name="introduction"></a><span data-ttu-id="01dd2-106">Introduzione</span><span class="sxs-lookup"><span data-stu-id="01dd2-106">Introduction</span></span>
<span data-ttu-id="01dd2-107">Dopo aver creato uno o più insiemi di credenziali chiave, probabilmente si desidererà toomonitor come e quando la chiave di insiemi di credenziali vengono usati e da chi.</span><span class="sxs-lookup"><span data-stu-id="01dd2-107">After you have created one or more key vaults, you will likely want toomonitor how and when your key vaults are accessed, and by whom.</span></span> <span data-ttu-id="01dd2-108">A questo scopo è possibile abilitare la registrazione per l'insieme di credenziali delle chiavi, che salva le informazioni in un account di archiviazione di Azure specificato.</span><span class="sxs-lookup"><span data-stu-id="01dd2-108">You can do this by enabling logging for Key Vault, which saves information in an Azure storage account that you provide.</span></span> <span data-ttu-id="01dd2-109">Per tale account di archiviazione viene creato automaticamente un contenitore denominato **insights-log-auditevent** , che può essere usato per raccogliere i log relativi a più insiemi di credenziali delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="01dd2-109">A new container named **insights-logs-auditevent** is automatically created for your specified storage account, and you can use this same storage account for collecting logs for multiple key vaults.</span></span>

<span data-ttu-id="01dd2-110">È possibile accedere al massimo le informazioni di registrazione, 10 minuto dopo chiave hello insieme di credenziali di operazione.</span><span class="sxs-lookup"><span data-stu-id="01dd2-110">You can access your logging information at most, 10 minutes after hello key vault operation.</span></span> <span data-ttu-id="01dd2-111">ma nella maggior parte dei casi si potrà farlo prima.</span><span class="sxs-lookup"><span data-stu-id="01dd2-111">In most cases, it will be quicker than this.</span></span>  <span data-ttu-id="01dd2-112">È attivo tooyou toomanage i log nell'account di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="01dd2-112">It's up tooyou toomanage your logs in your storage account:</span></span>

* <span data-ttu-id="01dd2-113">Utilizzare toosecure metodi di controllo di accesso di Azure standard dei registri da limitare chi può accedervi.</span><span class="sxs-lookup"><span data-stu-id="01dd2-113">Use standard Azure access control methods toosecure your logs by restricting who can access them.</span></span>
* <span data-ttu-id="01dd2-114">Eliminare i log che non si desidera più tookeep nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="01dd2-114">Delete logs that you no longer want tookeep in your storage account.</span></span>

<span data-ttu-id="01dd2-115">Utilizzare questa esercitazione toohelp iniziare a usare Azure insieme di credenziali chiave di registrazione, toocreate l'account di archiviazione, abilitare la registrazione e interpretare le informazioni di registrazione hello raccolti.</span><span class="sxs-lookup"><span data-stu-id="01dd2-115">Use this tutorial toohelp you get started with Azure Key Vault logging, toocreate your storage account, enable logging, and interpret hello logging information collected.</span></span>  

> [!NOTE]
> <span data-ttu-id="01dd2-116">In questa esercitazione sono incluse istruzioni per la modalità toocreate chiave gli insiemi di credenziali, chiavi o i segreti.</span><span class="sxs-lookup"><span data-stu-id="01dd2-116">This tutorial does not include instructions for how toocreate key vaults, keys, or secrets.</span></span> <span data-ttu-id="01dd2-117">Per altre informazioni, vedere [Introduzione all'insieme di credenziali delle chiavi di Azure](key-vault-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="01dd2-117">For this information, see [Get started with Azure Key Vault](key-vault-get-started.md).</span></span> <span data-ttu-id="01dd2-118">In alternativa, per le istruzioni relative all'interfaccia della riga di comando multipiattaforma, vedere [questa esercitazione equivalente](key-vault-manage-with-cli2.md).</span><span class="sxs-lookup"><span data-stu-id="01dd2-118">Or, for Cross-Platform Command-Line Interface instructions, see [this equivalent tutorial](key-vault-manage-with-cli2.md).</span></span>
>
> <span data-ttu-id="01dd2-119">Attualmente, non è possibile configurare l'insieme di credenziali chiave di Azure nel portale di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-119">Currently, you cannot configure Azure Key Vault in hello Azure portal.</span></span> <span data-ttu-id="01dd2-120">Usare invece queste istruzioni per Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="01dd2-120">Instead, use these Azure PowerShell instructions.</span></span>
>
>

<span data-ttu-id="01dd2-121">Per informazioni generali sull'insieme di credenziali di Azure, vedere [Cos'è l'insieme di credenziali chiave di Azure?](key-vault-whatis.md)</span><span class="sxs-lookup"><span data-stu-id="01dd2-121">For overview information about Azure Key Vault, see [What is Azure Key Vault?](key-vault-whatis.md)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="01dd2-122">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="01dd2-122">Prerequisites</span></span>
<span data-ttu-id="01dd2-123">toocomplete questa esercitazione, è necessario disporre di hello seguenti:</span><span class="sxs-lookup"><span data-stu-id="01dd2-123">toocomplete this tutorial, you must have hello following:</span></span>

* <span data-ttu-id="01dd2-124">Insieme di credenziali delle chiavi esistente e già in uso.</span><span class="sxs-lookup"><span data-stu-id="01dd2-124">An existing key vault that you have been using.</span></span>  
* <span data-ttu-id="01dd2-125">Azure PowerShell **versione minima 1.0.1**.</span><span class="sxs-lookup"><span data-stu-id="01dd2-125">Azure PowerShell, **minimum version of 1.0.1**.</span></span> <span data-ttu-id="01dd2-126">tooinstall Azure PowerShell e associarlo a una sottoscrizione di Azure, vedere [come tooinstall e configurare Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="01dd2-126">tooinstall Azure PowerShell and associate it with your Azure subscription, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span> <span data-ttu-id="01dd2-127">Se già stato installato Azure PowerShell e non conosce la versione di hello, dalla console di hello Azure PowerShell, digitare `(Get-Module azure -ListAvailable).Version`.</span><span class="sxs-lookup"><span data-stu-id="01dd2-127">If you have already installed Azure PowerShell and do not know hello version, from hello Azure PowerShell console, type `(Get-Module azure -ListAvailable).Version`.</span></span>  
* <span data-ttu-id="01dd2-128">Spazio di archiviazione sufficiente in Azure per i log dell'insieme di credenziali delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="01dd2-128">Sufficient storage on Azure for your Key Vault logs.</span></span>

## <span data-ttu-id="01dd2-129"><a id="connect"></a>Connettersi tooyour sottoscrizioni</span><span class="sxs-lookup"><span data-stu-id="01dd2-129"><a id="connect"></a>Connect tooyour subscriptions</span></span>
<span data-ttu-id="01dd2-130">Avviare una sessione di Azure PowerShell e accedere con il comando seguente hello tooyour account Azure:</span><span class="sxs-lookup"><span data-stu-id="01dd2-130">Start an Azure PowerShell session and sign in tooyour Azure account with hello following command:</span></span>  

    Login-AzureRmAccount

<span data-ttu-id="01dd2-131">Nella finestra popup del browser hello, immettere il nome utente dell'account Azure e la password.</span><span class="sxs-lookup"><span data-stu-id="01dd2-131">In hello pop-up browser window, enter your Azure account user name and password.</span></span> <span data-ttu-id="01dd2-132">Azure PowerShell recupera tutte le sottoscrizioni di hello che sono associate a questo account e per impostazione predefinita, utilizza hello prima.</span><span class="sxs-lookup"><span data-stu-id="01dd2-132">Azure PowerShell will get all hello subscriptions that are associated with this account and by default, uses hello first one.</span></span>

<span data-ttu-id="01dd2-133">Se si dispone di più sottoscrizioni, potrebbe essere toospecify uno specifico a cui è stato utilizzato toocreate l'insieme di credenziali chiave di Azure.</span><span class="sxs-lookup"><span data-stu-id="01dd2-133">If you have multiple subscriptions, you might have toospecify a specific one that was used toocreate your Azure Key Vault.</span></span> <span data-ttu-id="01dd2-134">Digitare hello sottoscrizioni hello toosee per l'account di seguito:</span><span class="sxs-lookup"><span data-stu-id="01dd2-134">Type hello following toosee hello subscriptions for your account:</span></span>

    Get-AzureRmSubscription

<span data-ttu-id="01dd2-135">Quindi, toospecify hello sottoscrizione associato a credenziali delle chiavi che effettuerà l'accesso, tipo:</span><span class="sxs-lookup"><span data-stu-id="01dd2-135">Then, toospecify hello subscription that's associated with your key vault you will be logging, type:</span></span>

    Set-AzureRmContext -SubscriptionId <subscription ID>

> [!NOTE]
> <span data-ttu-id="01dd2-136">Si tratta di un passaggio importante e risulta particolarmente utile se si hanno più sottoscrizioni associate all'account.</span><span class="sxs-lookup"><span data-stu-id="01dd2-136">This is an important step and especially helpful if you have multiple subscriptions associated with your account.</span></span> <span data-ttu-id="01dd2-137">Si potrebbe ricevere un tooregister errore Insights se questo passaggio viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="01dd2-137">You may receive an error tooregister Microsoft.Insights if this step is skipped.</span></span>
>   
>

<span data-ttu-id="01dd2-138">Per ulteriori informazioni sulla configurazione di Azure PowerShell, vedere [come tooinstall e configurare Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="01dd2-138">For more information about configuring Azure PowerShell, see  [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

## <span data-ttu-id="01dd2-139"><a id="storage"></a>Creare un nuovo account di archiviazione per i log</span><span class="sxs-lookup"><span data-stu-id="01dd2-139"><a id="storage"></a>Create a new storage account for your logs</span></span>
<span data-ttu-id="01dd2-140">Sebbene sia possibile utilizzare un account di archiviazione esistente per i log, si creerà un nuovo account di archiviazione che saranno i log dell'insieme di credenziali tooKey dedicato.</span><span class="sxs-lookup"><span data-stu-id="01dd2-140">Although you can use an existing storage account for your logs, we'll create a new storage account that will be dedicated tooKey Vault logs.</span></span> <span data-ttu-id="01dd2-141">Per praticità per quando è necessario toospecify questo è in un secondo momento, sarà archiviare dettagli hello in una variabile denominata **sa**.</span><span class="sxs-lookup"><span data-stu-id="01dd2-141">For convenience for when we have toospecify this later, we'll store hello details into a variable named **sa**.</span></span>

<span data-ttu-id="01dd2-142">Per ulteriori facilità di gestione, verrà utilizzata anche hello stesso gruppo di risorse come hello uno che contiene la chiave dell'insieme di credenziali.</span><span class="sxs-lookup"><span data-stu-id="01dd2-142">For additional ease of management, we'll also use hello same resource group as hello one that contains our key vault.</span></span> <span data-ttu-id="01dd2-143">Da hello [esercitazione introduttiva](key-vault-get-started.md), questo gruppo di risorse denominato **ContosoResourceGroup** e continueremo percorso di toouse hello Asia orientale.</span><span class="sxs-lookup"><span data-stu-id="01dd2-143">From hello [getting started tutorial](key-vault-get-started.md), this resource group is named **ContosoResourceGroup** and we'll continue toouse hello East Asia location.</span></span> <span data-ttu-id="01dd2-144">Sostituire questi valori con i propri, a seconda dei casi:</span><span class="sxs-lookup"><span data-stu-id="01dd2-144">Substitute these values for your own, as applicable:</span></span>

    $sa = New-AzureRmStorageAccount -ResourceGroupName ContosoResourceGroup -Name contosokeyvaultlogs -Type Standard_LRS -Location 'East Asia'


> [!NOTE]
> <span data-ttu-id="01dd2-145">Se si decide di toouse un account di archiviazione esistente, è necessario utilizzare hello stessa sottoscrizione, come necessario usare l'insieme di credenziali chiave e il modello di distribuzione di gestione risorse di hello, anziché come modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-145">If you decide toouse an existing storage account, it must use hello same subscription as your key vault and it must use hello Resource Manager deployment model, rather than hello Classic deployment model.</span></span>
>
>

## <span data-ttu-id="01dd2-146"><a id="identify"></a>Identificare hello chiave dell'insieme di credenziali per i log</span><span class="sxs-lookup"><span data-stu-id="01dd2-146"><a id="identify"></a>Identify hello key vault for your logs</span></span>
<span data-ttu-id="01dd2-147">L'esercitazione introduttiva, è il nome della chiave dell'insieme di credenziali **ContosoKeyVault**, pertanto continueremo toouse che denominare e salvare i dettagli di hello in una variabile denominata **kv**:</span><span class="sxs-lookup"><span data-stu-id="01dd2-147">In our getting started tutorial, our key vault name was **ContosoKeyVault**, so we'll continue toouse that name and store hello details into a variable named **kv**:</span></span>

    $kv = Get-AzureRmKeyVault -VaultName 'ContosoKeyVault'


## <span data-ttu-id="01dd2-148"><a id="enable"></a>Abilitare la registrazione</span><span class="sxs-lookup"><span data-stu-id="01dd2-148"><a id="enable"></a>Enable logging</span></span>
<span data-ttu-id="01dd2-149">tooenable per l'insieme di credenziali chiave di registrazione, verrà usato il cmdlet Set-AzureRmDiagnosticSetting hello, insieme alle variabili hello creato per il nuovo account di archiviazione e la chiave dell'insieme di credenziali.</span><span class="sxs-lookup"><span data-stu-id="01dd2-149">tooenable logging for Key Vault, we'll use hello Set-AzureRmDiagnosticSetting cmdlet, together with hello variables we created for our new storage account and our key vault.</span></span> <span data-ttu-id="01dd2-150">Verranno inoltre stabilite hello **-abilitato** flag troppo**$true** e impostare hello categoria tooAuditEvent (hello solo categoria per la registrazione insieme credenziali chiavi):</span><span class="sxs-lookup"><span data-stu-id="01dd2-150">We'll also set hello **-Enabled** flag too**$true** and set hello category tooAuditEvent (hello only category for Key Vault logging), :</span></span>

    Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $true -Categories AuditEvent

<span data-ttu-id="01dd2-151">output di Hello per questo oggetto include:</span><span class="sxs-lookup"><span data-stu-id="01dd2-151">hello output for this includes:</span></span>

    StorageAccountId   : /subscriptions/<subscription-GUID>/resourceGroups/ContosoResourceGroup/providers/Microsoft.Storage/storageAccounts/ContosoKeyVaultLogs
    ServiceBusRuleId   :
    StorageAccountName :
        Logs
        Enabled           : True
        Category          : AuditEvent
        RetentionPolicy
        Enabled : False
        Days    : 0


<span data-ttu-id="01dd2-152">Questo conferma che è ora abilitata per l'insieme di credenziali chiave, il salvataggio di account di archiviazione di informazioni tooyour.</span><span class="sxs-lookup"><span data-stu-id="01dd2-152">This confirms that logging is now enabled for your key vault, saving information tooyour storage account.</span></span>

<span data-ttu-id="01dd2-153">Facoltativamente è possibile impostare criteri di conservazione per i log, in modo che i log meno recenti vengano eliminati automaticamente.</span><span class="sxs-lookup"><span data-stu-id="01dd2-153">Optionally you can also set retention policy for your logs such that older logs will be automatically deleted.</span></span> <span data-ttu-id="01dd2-154">Ad esempio, impostare criteri di conservazione mediante **- RetentionEnabled** flag troppo**$true** e impostare **- RetentionInDays** parametro troppo**90** in modo che verranno eliminati automaticamente i log antecedenti a 90 giorni.</span><span class="sxs-lookup"><span data-stu-id="01dd2-154">For example, set retention policy using **-RetentionEnabled** flag too**$true** and set **-RetentionInDays** parameter too**90** so that logs older than 90 days will be automatically deleted.</span></span>

    Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $true -Categories AuditEvent -RetentionEnabled $true -RetentionInDays 90

<span data-ttu-id="01dd2-155">Informazioni registrate:</span><span class="sxs-lookup"><span data-stu-id="01dd2-155">What's logged:</span></span>

* <span data-ttu-id="01dd2-156">Vengono registrate tutte le richieste API REST autenticate, incluse le richieste non riuscite a causa di autorizzazioni di accesso, errori di sistema o richieste non valide.</span><span class="sxs-lookup"><span data-stu-id="01dd2-156">All authenticated REST API requests are logged, which includes failed requests as a result of access permissions, system errors or bad requests.</span></span>
* <span data-ttu-id="01dd2-157">Aggiornamento degli attributi di chiave dell'insieme di credenziali, ad esempio tag e operazioni chiave hello stesso, che include la creazione, eliminazione, impostazione di criteri di accesso dell'insieme di credenziali chiave, dell'insieme di credenziali.</span><span class="sxs-lookup"><span data-stu-id="01dd2-157">Operations on hello key vault itself, which includes creation, deletion, setting key vault access policies, and updating key vault attributes such as tags.</span></span>
* <span data-ttu-id="01dd2-158">Operazioni sulle chiavi e segreti nell'hello insieme di credenziali, che include la creazione, modifica o eliminazione di queste chiavi o i segreti; operazioni quali l'accesso, verificare, crittografare, decrittografare, eseguire il wrapping e annullare il wrapping di chiavi, ottenere i segreti, le chiavi di elenco e i segreti e le relative versioni.</span><span class="sxs-lookup"><span data-stu-id="01dd2-158">Operations on keys and secrets in hello key vault, which includes creating, modifying, or deleting these keys or secrets; operations such as sign, verify, encrypt, decrypt, wrap and unwrap keys, get secrets, list keys and secrets and their versions.</span></span>
* <span data-ttu-id="01dd2-159">Richieste non autenticate che generano una risposta 401.</span><span class="sxs-lookup"><span data-stu-id="01dd2-159">Unauthenticated requests that result in a 401 response.</span></span> <span data-ttu-id="01dd2-160">Ad esempio, richieste che non hanno un token di connessione, hanno un formato non valido, sono scadute o hanno un token non valido.</span><span class="sxs-lookup"><span data-stu-id="01dd2-160">For example, requests that do not have a bearer token, or are malformed or expired, or have an invalid token.</span></span>  

## <span data-ttu-id="01dd2-161"><a id="access"></a>Accedere ai log</span><span class="sxs-lookup"><span data-stu-id="01dd2-161"><a id="access"></a>Access your logs</span></span>
<span data-ttu-id="01dd2-162">Insieme di credenziali chiave log vengono archiviati in hello **insights-log-auditevent** contenitore nell'account di archiviazione hello fornito.</span><span class="sxs-lookup"><span data-stu-id="01dd2-162">Key vault logs are stored in hello **insights-logs-auditevent** container in hello storage account you provided.</span></span> <span data-ttu-id="01dd2-163">toolist tutti i BLOB hello in questo contenitore, digitare:</span><span class="sxs-lookup"><span data-stu-id="01dd2-163">toolist all hello blobs in this container, type:</span></span>

<span data-ttu-id="01dd2-164">Innanzitutto, creare una variabile per il nome di contenitore hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-164">First, create a variable for hello container name.</span></span> <span data-ttu-id="01dd2-165">Verrà utilizzato in tutto il resto di hello di hello procedura dettagliata.</span><span class="sxs-lookup"><span data-stu-id="01dd2-165">This will be used throughout hello rest of hello walk through.</span></span>

    $container = 'insights-logs-auditevent'

<span data-ttu-id="01dd2-166">toolist tutti i BLOB hello in questo contenitore, digitare:</span><span class="sxs-lookup"><span data-stu-id="01dd2-166">toolist all hello blobs in this container, type:</span></span>

    Get-AzureStorageBlob -Container $container -Context $sa.Context
<span data-ttu-id="01dd2-167">output di Hello avrà un aspetto simile toothis:</span><span class="sxs-lookup"><span data-stu-id="01dd2-167">hello output will look something similar toothis:</span></span>

<span data-ttu-id="01dd2-168">**Uri contenitore: https://contosokeyvaultlogs.blob.core.windows.net/insights-logs-auditevent**</span><span class="sxs-lookup"><span data-stu-id="01dd2-168">**Container Uri: https://contosokeyvaultlogs.blob.core.windows.net/insights-logs-auditevent**</span></span>

<span data-ttu-id="01dd2-169">**Nome**</span><span class="sxs-lookup"><span data-stu-id="01dd2-169">**Name**</span></span>

- - -
<span data-ttu-id="01dd2-170">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=05/h=01/m=00/PT1H.json**</span><span class="sxs-lookup"><span data-stu-id="01dd2-170">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=05/h=01/m=00/PT1H.json**</span></span>

<span data-ttu-id="01dd2-171">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=02/m=00/PT1H.json**</span><span class="sxs-lookup"><span data-stu-id="01dd2-171">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=02/m=00/PT1H.json**</span></span>

<span data-ttu-id="01dd2-172">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=18/m=00/PT1H.json****</span><span class="sxs-lookup"><span data-stu-id="01dd2-172">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=18/m=00/PT1H.json****</span></span>

<span data-ttu-id="01dd2-173">Come si può notare da questo output, BLOB hello seguire una convenzione di denominazione: **resourceId =<ARM resource ID>/y =<year>/m =<month>/d =<day of month>/h =<hour>/m =<minute>/filename.json**</span><span class="sxs-lookup"><span data-stu-id="01dd2-173">As you can see from this output, hello blobs follow a naming convention: **resourceId=<ARM resource ID>/y=<year>/m=<month>/d=<day of month>/h=<hour>/m=<minute>/filename.json**</span></span>

<span data-ttu-id="01dd2-174">i valori di data e ora Hello usare UTC.</span><span class="sxs-lookup"><span data-stu-id="01dd2-174">hello date and time values use UTC.</span></span>

<span data-ttu-id="01dd2-175">Poiché hello stesso account di archiviazione possono essere utilizzati toocollect registri per più risorse, hello ID completo della risorsa nome di blob hello è molto utile tooaccess o BLOB hello solo download necessari.</span><span class="sxs-lookup"><span data-stu-id="01dd2-175">Because hello same storage account can be used toocollect logs for multiple resources, hello full resource ID in hello blob name is very useful tooaccess or download just hello blobs that you need.</span></span> <span data-ttu-id="01dd2-176">Ma prima che, prima ci occuperemo come toodownload tutti hello BLOB.</span><span class="sxs-lookup"><span data-stu-id="01dd2-176">But before we do that, we'll first cover how toodownload all hello blobs.</span></span>

<span data-ttu-id="01dd2-177">Creare innanzitutto un hello toodownload cartella BLOB.</span><span class="sxs-lookup"><span data-stu-id="01dd2-177">First, create a folder toodownload hello blobs.</span></span> <span data-ttu-id="01dd2-178">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="01dd2-178">For example:</span></span>

    New-Item -Path 'C:\Users\username\ContosoKeyVaultLogs' -ItemType Directory -Force

<span data-ttu-id="01dd2-179">Ottenere quindi un elenco di tutti i BLOB:</span><span class="sxs-lookup"><span data-stu-id="01dd2-179">Then get a list of all blobs:</span></span>  

    $blobs = Get-AzureStorageBlob -Container $container -Context $sa.Context

<span data-ttu-id="01dd2-180">Inviare tramite pipe questo elenco tramite i BLOB hello toodownload 'Get-AzureStorageBlobContent' la cartella di destinazione:</span><span class="sxs-lookup"><span data-stu-id="01dd2-180">Pipe this list through 'Get-AzureStorageBlobContent' toodownload hello blobs into our destination folder:</span></span>

    $blobs | Get-AzureStorageBlobContent -Destination 'C:\Users\username\ContosoKeyVaultLogs'

<span data-ttu-id="01dd2-181">Quando si esegue il secondo comando, hello  **/**  delimitatore nei nomi di blob hello creerà una struttura di cartella completo nella cartella di destinazione hello, che questa struttura utilizzati toodownload e archivio hello BLOB come file.</span><span class="sxs-lookup"><span data-stu-id="01dd2-181">When you run this second command, hello **/** delimiter in hello blob names create a full folder structure under hello destination folder, and this structure will be used toodownload and store hello blobs as files.</span></span>

<span data-ttu-id="01dd2-182">tooselectively scaricare BLOB, utilizzare i caratteri jolly.</span><span class="sxs-lookup"><span data-stu-id="01dd2-182">tooselectively download blobs, use wildcards.</span></span> <span data-ttu-id="01dd2-183">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="01dd2-183">For example:</span></span>

* <span data-ttu-id="01dd2-184">Se si dispone di più insiemi di credenziali chiave, registri toodownload per un unico insieme di credenziali chiave denominata CONTOSOKEYVAULT3:</span><span class="sxs-lookup"><span data-stu-id="01dd2-184">If you have multiple key vaults and want toodownload logs for just one key vault, named CONTOSOKEYVAULT3:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/VAULTS/CONTOSOKEYVAULT3
* <span data-ttu-id="01dd2-185">Se si dispone di più gruppi di risorse e si desidera registri toodownload per un solo gruppo di risorse, utilizzare `-Blob '*/RESOURCEGROUPS/<resource group name>/*'`:</span><span class="sxs-lookup"><span data-stu-id="01dd2-185">If you have multiple resource groups and want toodownload logs for just one resource group, use `-Blob '*/RESOURCEGROUPS/<resource group name>/*'`:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/RESOURCEGROUPS/CONTOSORESOURCEGROUP3/*'
* <span data-ttu-id="01dd2-186">Se si desidera toodownload tutti i log di hello per mese hello di gennaio 2016, utilizzare `-Blob '*/year=2016/m=01/*'`:</span><span class="sxs-lookup"><span data-stu-id="01dd2-186">If you want toodownload all hello logs for hello month of January 2016, use `-Blob '*/year=2016/m=01/*'`:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/year=2016/m=01/*'

<span data-ttu-id="01dd2-187">Si è ora pronto toostart esaminando novità in hello Registra.</span><span class="sxs-lookup"><span data-stu-id="01dd2-187">You're now ready toostart looking at what's in hello logs.</span></span> <span data-ttu-id="01dd2-188">Ma prima di procedere al che due ulteriori parametri per Get-AzureRmDiagnosticSetting che potrebbe essere necessario tooknow:</span><span class="sxs-lookup"><span data-stu-id="01dd2-188">But before moving onto that, two more parameters for Get-AzureRmDiagnosticSetting that you might need tooknow:</span></span>

* <span data-ttu-id="01dd2-189">stato di hello tooquery delle impostazioni di diagnostica per la risorsa dell'insieme di credenziali chiave:`Get-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId`</span><span class="sxs-lookup"><span data-stu-id="01dd2-189">tooquery hello  status of diagnostic settings for your key vault resource: `Get-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId`</span></span>
* <span data-ttu-id="01dd2-190">registrazione toodisable per la risorsa dell'insieme di credenziali chiave:`Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $false -Categories AuditEvent`</span><span class="sxs-lookup"><span data-stu-id="01dd2-190">toodisable logging for your key vault resource: `Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $false -Categories AuditEvent`</span></span>

## <span data-ttu-id="01dd2-191"><a id="interpret"></a>Interpretare i log dell'insieme di credenziali delle chiavi</span><span class="sxs-lookup"><span data-stu-id="01dd2-191"><a id="interpret"></a>Interpret your Key Vault logs</span></span>
<span data-ttu-id="01dd2-192">I singoli BLOB vengono archiviati come testo, formattati come BLOB JSON.</span><span class="sxs-lookup"><span data-stu-id="01dd2-192">Individual blobs are stored as text, formatted as a JSON blob.</span></span> <span data-ttu-id="01dd2-193">Questo è un esempio di voce di log generata dall'esecuzione di `Get-AzureRmKeyVault -VaultName 'contosokeyvault'`:</span><span class="sxs-lookup"><span data-stu-id="01dd2-193">This is an example log entry from running `Get-AzureRmKeyVault -VaultName 'contosokeyvault'`:</span></span>

    {
        "records":
        [
            {
                "time": "2016-01-05T01:32:01.2691226Z",
                "resourceId": "/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSOGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT",
                "operationName": "VaultGet",
                "operationVersion": "2015-06-01",
                "category": "AuditEvent",
                "resultType": "Success",
                "resultSignature": "OK",
                "resultDescription": "",
                "durationMs": "78",
                "callerIpAddress": "104.40.82.76",
                "correlationId": "",
                "identity": {"claim":{"http://schemas.microsoft.com/identity/claims/objectidentifier":"d9da5048-2737-4770-bd64-XXXXXXXXXXXX","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn":"live.com#username@outlook.com","appid":"1950a258-227b-4e31-a9cf-XXXXXXXXXXXX"}},
                "properties": {"clientInfo":"azure-resource-manager/2.0","requestUri":"https://control-prod-wus.vaultcore.azure.net/subscriptions/361da5d4-a47a-4c79-afdd-XXXXXXXXXXXX/resourcegroups/contosoresourcegroup/providers/Microsoft.KeyVault/vaults/contosokeyvault?api-version=2015-06-01","id":"https://contosokeyvault.vault.azure.net/","httpStatusCode":200}
            }
        ]
    }


<span data-ttu-id="01dd2-194">Hello nella tabella seguente elenca le descrizioni e i nomi dei campi di hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-194">hello following table lists hello field names and descriptions.</span></span>

| <span data-ttu-id="01dd2-195">Nome campo</span><span class="sxs-lookup"><span data-stu-id="01dd2-195">Field name</span></span> | <span data-ttu-id="01dd2-196">Descrizione</span><span class="sxs-lookup"><span data-stu-id="01dd2-196">Description</span></span> |
| --- | --- |
| <span data-ttu-id="01dd2-197">time</span><span class="sxs-lookup"><span data-stu-id="01dd2-197">time</span></span> |<span data-ttu-id="01dd2-198">Data e ora (in formato UTC).</span><span class="sxs-lookup"><span data-stu-id="01dd2-198">Date and time (UTC).</span></span> |
| <span data-ttu-id="01dd2-199">resourceId</span><span class="sxs-lookup"><span data-stu-id="01dd2-199">resourceId</span></span> |<span data-ttu-id="01dd2-200">ID della risorsa Gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="01dd2-200">Azure Resource Manager Resource ID.</span></span> <span data-ttu-id="01dd2-201">Per i registri di insieme di credenziali chiave, questa è sempre ID risorsa dell'insieme di credenziali chiave di hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-201">For Key Vault logs, this is always hello  Key Vault resource ID.</span></span> |
| <span data-ttu-id="01dd2-202">operationName</span><span class="sxs-lookup"><span data-stu-id="01dd2-202">operationName</span></span> |<span data-ttu-id="01dd2-203">Nome dell'operazione di hello, come illustrato nella seguente tabella hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-203">Name of hello operation, as documented in hello next table.</span></span> |
| <span data-ttu-id="01dd2-204">operationVersion</span><span class="sxs-lookup"><span data-stu-id="01dd2-204">operationVersion</span></span> |<span data-ttu-id="01dd2-205">Si tratta di versione dell'API REST hello richiesto da client hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-205">This is hello REST API version requested by hello client.</span></span> |
| <span data-ttu-id="01dd2-206">category</span><span class="sxs-lookup"><span data-stu-id="01dd2-206">category</span></span> |<span data-ttu-id="01dd2-207">Per i registri di insieme di credenziali chiave, AuditEvent è hello singolo disponibili valore.</span><span class="sxs-lookup"><span data-stu-id="01dd2-207">For Key Vault logs, AuditEvent is hello single, available value.</span></span> |
| <span data-ttu-id="01dd2-208">resultType</span><span class="sxs-lookup"><span data-stu-id="01dd2-208">resultType</span></span> |<span data-ttu-id="01dd2-209">Risultato della richiesta API REST.</span><span class="sxs-lookup"><span data-stu-id="01dd2-209">Result of REST API request.</span></span> |
| <span data-ttu-id="01dd2-210">resultSignature</span><span class="sxs-lookup"><span data-stu-id="01dd2-210">resultSignature</span></span> |<span data-ttu-id="01dd2-211">Stato HTTP.</span><span class="sxs-lookup"><span data-stu-id="01dd2-211">HTTP status.</span></span> |
| <span data-ttu-id="01dd2-212">resultDescription</span><span class="sxs-lookup"><span data-stu-id="01dd2-212">resultDescription</span></span> |<span data-ttu-id="01dd2-213">Descrizione aggiuntiva sul risultato di hello, se disponibile.</span><span class="sxs-lookup"><span data-stu-id="01dd2-213">Additional description about hello result, when available.</span></span> |
| <span data-ttu-id="01dd2-214">durationMs</span><span class="sxs-lookup"><span data-stu-id="01dd2-214">durationMs</span></span> |<span data-ttu-id="01dd2-215">Tempo impiegato richiesta dell'API REST hello tooservice, in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="01dd2-215">Time it took tooservice hello REST API request, in milliseconds.</span></span> <span data-ttu-id="01dd2-216">Questo non include la latenza di rete hello, pertanto ora hello che è misurare sul lato client hello potrebbe non corrispondere a questo momento.</span><span class="sxs-lookup"><span data-stu-id="01dd2-216">This does not include hello network latency, so hello time you measure on hello client side might not match this time.</span></span> |
| <span data-ttu-id="01dd2-217">callerIpAddress</span><span class="sxs-lookup"><span data-stu-id="01dd2-217">callerIpAddress</span></span> |<span data-ttu-id="01dd2-218">Indirizzo IP del client hello che ha effettuato la richiesta hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-218">IP address of hello client who made hello request.</span></span> |
| <span data-ttu-id="01dd2-219">correlationId</span><span class="sxs-lookup"><span data-stu-id="01dd2-219">correlationId</span></span> |<span data-ttu-id="01dd2-220">Un GUID facoltativo che hello client può passare toocorrelate log lato client con i registri dal lato del servizio (insieme di credenziali chiave).</span><span class="sxs-lookup"><span data-stu-id="01dd2-220">An optional GUID that hello client can pass toocorrelate client-side logs with service-side (Key Vault) logs.</span></span> |
| <span data-ttu-id="01dd2-221">identity</span><span class="sxs-lookup"><span data-stu-id="01dd2-221">identity</span></span> |<span data-ttu-id="01dd2-222">Identità da token hello presentato nella richiesta di API REST hello.</span><span class="sxs-lookup"><span data-stu-id="01dd2-222">Identity from hello token that was presented when making hello REST API request.</span></span> <span data-ttu-id="01dd2-223">In genere si tratta di un "utente", una "entità servizio" o una combinazione "utente+appId" come nel caso di una richiesta generata da un cmdlet di Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="01dd2-223">This is usually a "user", a "service principal" or a combination "user+appId" as in case of a request resulting from a Azure PowerShell cmdlet.</span></span> |
| <span data-ttu-id="01dd2-224">properties</span><span class="sxs-lookup"><span data-stu-id="01dd2-224">properties</span></span> |<span data-ttu-id="01dd2-225">Questo campo conterrà informazioni diverse in base a operazione hello (operationName).</span><span class="sxs-lookup"><span data-stu-id="01dd2-225">This field will contain different information based on hello operation (operationName).</span></span> <span data-ttu-id="01dd2-226">Nella maggior parte dei casi, contiene informazioni sul client (hello useragent string passati dal client hello), hello esatta URI della richiesta API REST e codice di stato HTTP.</span><span class="sxs-lookup"><span data-stu-id="01dd2-226">In most cases, contains client information (hello useragent string passed by hello client), hello exact REST API request URI, and HTTP status code.</span></span> <span data-ttu-id="01dd2-227">Inoltre, quando un oggetto viene restituito come risultato di una richiesta (ad esempio, KeyCreate o VaultGet) anche conterrà hello URI con chiave (come "id"), l'URI dell'insieme di credenziali o URI segreto.</span><span class="sxs-lookup"><span data-stu-id="01dd2-227">In addition, when an object is returned as a result of a request (for example, KeyCreate or VaultGet) it will also contain hello Key URI (as "id"), Vault URI, or Secret URI.</span></span> |

<span data-ttu-id="01dd2-228">Hello **operationName** i valori dei campi sono in formato ObjectVerb.</span><span class="sxs-lookup"><span data-stu-id="01dd2-228">hello **operationName** field values are in ObjectVerb format.</span></span> <span data-ttu-id="01dd2-229">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="01dd2-229">For example:</span></span>

* <span data-ttu-id="01dd2-230">Tutte le operazioni dell'insieme di credenziali chiave hanno hello ' insieme di credenziali`<action>`' formato, ad esempio `VaultGet` e `VaultCreate`.</span><span class="sxs-lookup"><span data-stu-id="01dd2-230">All key vault operations have hello 'Vault`<action>`' format, such as `VaultGet` and `VaultCreate`.</span></span>
* <span data-ttu-id="01dd2-231">Tutte le operazioni chiave hanno hello ' chiave`<action>`' formato, ad esempio `KeySign` e `KeyList`.</span><span class="sxs-lookup"><span data-stu-id="01dd2-231">All  key operations have hello 'Key`<action>`' format, such as `KeySign` and `KeyList`.</span></span>
* <span data-ttu-id="01dd2-232">Tutte le operazioni secret hanno hello ' segreto`<action>`' formato, ad esempio `SecretGet` e `SecretListVersions`.</span><span class="sxs-lookup"><span data-stu-id="01dd2-232">All secret operations have hello 'Secret`<action>`' format, such as `SecretGet` and `SecretListVersions`.</span></span>

<span data-ttu-id="01dd2-233">Hello nella tabella seguente sono elencati operationName hello e comando di API REST corrispondente.</span><span class="sxs-lookup"><span data-stu-id="01dd2-233">hello following table lists hello operationName and corresponding REST API command.</span></span>

| <span data-ttu-id="01dd2-234">operationName</span><span class="sxs-lookup"><span data-stu-id="01dd2-234">operationName</span></span> | <span data-ttu-id="01dd2-235">Comando API REST</span><span class="sxs-lookup"><span data-stu-id="01dd2-235">REST API Command</span></span> |
| --- | --- |
| <span data-ttu-id="01dd2-236">Authentication</span><span class="sxs-lookup"><span data-stu-id="01dd2-236">Authentication</span></span> |<span data-ttu-id="01dd2-237">Tramite l'endpoint di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="01dd2-237">Via Azure Active Directory endpoint</span></span> |
| <span data-ttu-id="01dd2-238">VaultGet</span><span class="sxs-lookup"><span data-stu-id="01dd2-238">VaultGet</span></span> |[<span data-ttu-id="01dd2-239">Ottenere informazioni su un insieme di credenziali delle chiavi</span><span class="sxs-lookup"><span data-stu-id="01dd2-239">Get information about a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620026.aspx) |
| <span data-ttu-id="01dd2-240">VaultPut</span><span class="sxs-lookup"><span data-stu-id="01dd2-240">VaultPut</span></span> |[<span data-ttu-id="01dd2-241">Creare o aggiornare un insieme di credenziali delle chiavi</span><span class="sxs-lookup"><span data-stu-id="01dd2-241">Create or update a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620025.aspx) |
| <span data-ttu-id="01dd2-242">VaultDelete</span><span class="sxs-lookup"><span data-stu-id="01dd2-242">VaultDelete</span></span> |[<span data-ttu-id="01dd2-243">Eliminare un insieme di credenziali delle chiavi</span><span class="sxs-lookup"><span data-stu-id="01dd2-243">Delete a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620022.aspx) |
| <span data-ttu-id="01dd2-244">VaultPatch</span><span class="sxs-lookup"><span data-stu-id="01dd2-244">VaultPatch</span></span> |[<span data-ttu-id="01dd2-245">Aggiornare un insieme di credenziali delle chiavi</span><span class="sxs-lookup"><span data-stu-id="01dd2-245">Update a key vault</span></span>](https://msdn.microsoft.com/library/azure/mt620025.aspx) |
| <span data-ttu-id="01dd2-246">VaultList</span><span class="sxs-lookup"><span data-stu-id="01dd2-246">VaultList</span></span> |[<span data-ttu-id="01dd2-247">Elencare tutti gli insiemi di credenziali delle chiavi in un gruppo di risorse</span><span class="sxs-lookup"><span data-stu-id="01dd2-247">List all key vaults in a resource group</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620027.aspx) |
| <span data-ttu-id="01dd2-248">KeyCreate</span><span class="sxs-lookup"><span data-stu-id="01dd2-248">KeyCreate</span></span> |[<span data-ttu-id="01dd2-249">Creare una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-249">Create a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903634.aspx) |
| <span data-ttu-id="01dd2-250">KeyGet</span><span class="sxs-lookup"><span data-stu-id="01dd2-250">KeyGet</span></span> |[<span data-ttu-id="01dd2-251">Ottenere informazioni su una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-251">Get information about a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878080.aspx) |
| <span data-ttu-id="01dd2-252">KeyImport</span><span class="sxs-lookup"><span data-stu-id="01dd2-252">KeyImport</span></span> |[<span data-ttu-id="01dd2-253">Importare una chiave in un insieme di credenziali</span><span class="sxs-lookup"><span data-stu-id="01dd2-253">Import a key into a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903626.aspx) |
| <span data-ttu-id="01dd2-254">KeyBackup</span><span class="sxs-lookup"><span data-stu-id="01dd2-254">KeyBackup</span></span> |<span data-ttu-id="01dd2-255">[Eseguire il backup di una chiave](https://msdn.microsoft.com/en-us/library/azure/dn878058.aspx)</span><span class="sxs-lookup"><span data-stu-id="01dd2-255">[Backup a key](https://msdn.microsoft.com/en-us/library/azure/dn878058.aspx).</span></span> |
| <span data-ttu-id="01dd2-256">KeyDelete</span><span class="sxs-lookup"><span data-stu-id="01dd2-256">KeyDelete</span></span> |[<span data-ttu-id="01dd2-257">Eliminare una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-257">Delete a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903611.aspx) |
| <span data-ttu-id="01dd2-258">KeyRestore</span><span class="sxs-lookup"><span data-stu-id="01dd2-258">KeyRestore</span></span> |[<span data-ttu-id="01dd2-259">Ripristinare una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-259">Restore a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878106.aspx) |
| <span data-ttu-id="01dd2-260">KeySign</span><span class="sxs-lookup"><span data-stu-id="01dd2-260">KeySign</span></span> |[<span data-ttu-id="01dd2-261">Firmare con una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-261">Sign with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878096.aspx) |
| <span data-ttu-id="01dd2-262">KeyVerify</span><span class="sxs-lookup"><span data-stu-id="01dd2-262">KeyVerify</span></span> |[<span data-ttu-id="01dd2-263">Verificare con una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-263">Verify with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878082.aspx) |
| <span data-ttu-id="01dd2-264">KeyWrap</span><span class="sxs-lookup"><span data-stu-id="01dd2-264">KeyWrap</span></span> |[<span data-ttu-id="01dd2-265">Eseguire il wrapping di una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-265">Wrap a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878066.aspx) |
| <span data-ttu-id="01dd2-266">KeyUnwrap</span><span class="sxs-lookup"><span data-stu-id="01dd2-266">KeyUnwrap</span></span> |[<span data-ttu-id="01dd2-267">Annullare il wrapping di una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-267">Unwrap a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878079.aspx) |
| <span data-ttu-id="01dd2-268">KeyEncrypt</span><span class="sxs-lookup"><span data-stu-id="01dd2-268">KeyEncrypt</span></span> |[<span data-ttu-id="01dd2-269">Crittografare con una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-269">Encrypt with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878060.aspx) |
| <span data-ttu-id="01dd2-270">KeyDecrypt</span><span class="sxs-lookup"><span data-stu-id="01dd2-270">KeyDecrypt</span></span> |[<span data-ttu-id="01dd2-271">Decrittografare con una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-271">Decrypt with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878097.aspx) |
| <span data-ttu-id="01dd2-272">KeyUpdate</span><span class="sxs-lookup"><span data-stu-id="01dd2-272">KeyUpdate</span></span> |[<span data-ttu-id="01dd2-273">Aggiornare una chiave</span><span class="sxs-lookup"><span data-stu-id="01dd2-273">Update a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903616.aspx) |
| <span data-ttu-id="01dd2-274">KeyList</span><span class="sxs-lookup"><span data-stu-id="01dd2-274">KeyList</span></span> |[<span data-ttu-id="01dd2-275">Elenco di chiavi hello in un insieme di credenziali</span><span class="sxs-lookup"><span data-stu-id="01dd2-275">List hello keys in a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903629.aspx) |
| <span data-ttu-id="01dd2-276">KeyListVersions</span><span class="sxs-lookup"><span data-stu-id="01dd2-276">KeyListVersions</span></span> |[<span data-ttu-id="01dd2-277">Elenco delle versioni di una chiave hello</span><span class="sxs-lookup"><span data-stu-id="01dd2-277">List hello versions of a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986822.aspx) |
| <span data-ttu-id="01dd2-278">SecretSet</span><span class="sxs-lookup"><span data-stu-id="01dd2-278">SecretSet</span></span> |[<span data-ttu-id="01dd2-279">Creare un segreto</span><span class="sxs-lookup"><span data-stu-id="01dd2-279">Create a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903618.aspx) |
| <span data-ttu-id="01dd2-280">SecretGet</span><span class="sxs-lookup"><span data-stu-id="01dd2-280">SecretGet</span></span> |[<span data-ttu-id="01dd2-281">Ottenere informazioni su un segreto</span><span class="sxs-lookup"><span data-stu-id="01dd2-281">Get secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903633.aspx) |
| <span data-ttu-id="01dd2-282">SecretUpdate</span><span class="sxs-lookup"><span data-stu-id="01dd2-282">SecretUpdate</span></span> |[<span data-ttu-id="01dd2-283">Aggiornare un segreto</span><span class="sxs-lookup"><span data-stu-id="01dd2-283">Update a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986818.aspx) |
| <span data-ttu-id="01dd2-284">SecretDelete</span><span class="sxs-lookup"><span data-stu-id="01dd2-284">SecretDelete</span></span> |[<span data-ttu-id="01dd2-285">Eliminare un segreto</span><span class="sxs-lookup"><span data-stu-id="01dd2-285">Delete a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903613.aspx) |
| <span data-ttu-id="01dd2-286">SecretList</span><span class="sxs-lookup"><span data-stu-id="01dd2-286">SecretList</span></span> |[<span data-ttu-id="01dd2-287">Elencare i segreti in un insieme di credenziali</span><span class="sxs-lookup"><span data-stu-id="01dd2-287">List secrets in a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903614.aspx) |
| <span data-ttu-id="01dd2-288">SecretListVersions</span><span class="sxs-lookup"><span data-stu-id="01dd2-288">SecretListVersions</span></span> |[<span data-ttu-id="01dd2-289">Elencare le versioni di un segreto</span><span class="sxs-lookup"><span data-stu-id="01dd2-289">List versions of a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986824.aspx) |

## <span data-ttu-id="01dd2-290"><a id="loganalytics"></a>Usare Log Analytics</span><span class="sxs-lookup"><span data-stu-id="01dd2-290"><a id="loganalytics"></a>Use Log Analytics</span></span>

<span data-ttu-id="01dd2-291">È possibile utilizzare soluzioni insieme credenziali chiavi Azure hello in tooreview Analitica Log che registra AuditEvent insieme di credenziali chiave di Azure.</span><span class="sxs-lookup"><span data-stu-id="01dd2-291">You can use hello Azure Key Vault solution in Log Analytics tooreview Azure Key Vault AuditEvent logs.</span></span> <span data-ttu-id="01dd2-292">Per ulteriori informazioni, incluso come tooset, vedere [soluzione insieme credenziali chiavi Azure in Log Analitica](../log-analytics/log-analytics-azure-key-vault.md).</span><span class="sxs-lookup"><span data-stu-id="01dd2-292">For more information, including how tooset this up, see [Azure Key Vault solution in Log Analytics](../log-analytics/log-analytics-azure-key-vault.md).</span></span> <span data-ttu-id="01dd2-293">In questo articolo contiene inoltre le istruzioni, se è necessario toomigrate dalla soluzione di insieme di credenziali chiave precedente hello che fosse disponibile durante l'anteprima di Log Analitica hello, in cui è indirizzato il tooan registri account di archiviazione di Azure e configurato per Log Analitica tooread da lì.</span><span class="sxs-lookup"><span data-stu-id="01dd2-293">This article also contains instructions if you need toomigrate from hello old Key Vault solution that was offered during hello Log Analytics preview, where you first routed your logs tooan Azure Storage account and configured Log Analytics tooread from there.</span></span>

## <span data-ttu-id="01dd2-294"><a id="next"></a>Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="01dd2-294"><a id="next"></a>Next steps</span></span>
<span data-ttu-id="01dd2-295">Per un'esercitazione sull'uso dell'insieme di credenziali delle chiavi di Azure in un'applicazione Web, vedere [Usare l'insieme di credenziali delle chiavi di Azure da un'applicazione Web](key-vault-use-from-web-application.md).</span><span class="sxs-lookup"><span data-stu-id="01dd2-295">For a tutorial that uses Azure Key Vault in a web application, see [Use Azure Key Vault from a Web Application](key-vault-use-from-web-application.md).</span></span>

<span data-ttu-id="01dd2-296">Per i riferimenti di programmazione, vedere [hello Guida per gli sviluppatori insieme credenziali chiavi Azure](key-vault-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="01dd2-296">For programming references, see [hello Azure Key Vault developer's guide](key-vault-developers-guide.md).</span></span>

<span data-ttu-id="01dd2-297">Per un elenco di cmdlet di Azure PowerShell 1.0 per l'insieme di credenziali delle chiavi di Azure, vedere [Cmdlet per l'insieme di credenziali delle chiavi di Azure](/powershell/module/azurerm.keyvault/#key_vault).</span><span class="sxs-lookup"><span data-stu-id="01dd2-297">For a list of Azure PowerShell 1.0 cmdlets for Azure Key Vault, see [Azure Key Vault Cmdlets](/powershell/module/azurerm.keyvault/#key_vault).</span></span>

<span data-ttu-id="01dd2-298">Per un'esercitazione sul rotazione della chiave e il controllo del registro insieme di credenziali chiave di Azure, vedere [come toosetup insieme di credenziali chiave con fine tooend chiave rotazione e il controllo](key-vault-key-rotation-log-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="01dd2-298">For a tutorial on key rotation and log auditing with Azure Key Vault, see [How toosetup Key Vault with end tooend key rotation and auditing](key-vault-key-rotation-log-monitoring.md).</span></span>
