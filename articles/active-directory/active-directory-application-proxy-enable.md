---
title: "Proxy app di Azure AD - Attività iniziali e installazione del connettore | Microsoft Docs"
description: Attivare il proxy di applicazione nel portale di Azure e installare i connettori per il proxy inverso.
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: c7186f98-dd80-4910-92a4-a7b8ff6272b9
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/02/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 77acb23f33fd656a12c27107cb159613a8b2aec4
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="get-started-with-application-proxy-and-install-the-connector"></a><span data-ttu-id="59622-103">Attività iniziali del proxy di applicazione e installazione del connettore</span><span class="sxs-lookup"><span data-stu-id="59622-103">Get started with Application Proxy and install the connector</span></span>
<span data-ttu-id="59622-104">Questo articolo illustra la procedura per abilitare il proxy di applicazione di Microsoft Azure AD per la directory cloud in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="59622-104">This article walks you through the steps to enable Microsoft Azure AD Application Proxy for your cloud directory in Azure AD.</span></span>

<span data-ttu-id="59622-105">Se non si conoscono ancora i vantaggi in termini di produttività e sicurezza offerti all'organizzazione dal proxy di applicazione, vedere [Come fornire l'accesso remoto sicuro alle applicazioni locali](active-directory-application-proxy-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="59622-105">If you're not yet aware of the security and productivity benefits Application Proxy brings to your organization, learn more about [How to provide secure remote access to on-premises applications](active-directory-application-proxy-get-started.md).</span></span>

## <a name="application-proxy-prerequisites"></a><span data-ttu-id="59622-106">Prerequisiti del proxy dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="59622-106">Application Proxy prerequisites</span></span>
<span data-ttu-id="59622-107">Prima di poter abilitare e utilizzare i servizi del proxy dell'applicazione, è necessario disporre di:</span><span class="sxs-lookup"><span data-stu-id="59622-107">Before you can enable and use Application Proxy services, you need to have:</span></span>

* <span data-ttu-id="59622-108">Una [sottoscrizione di Microsoft Azure AD Basic o Premium](active-directory-editions.md) e una directory di Azure AD di cui si è un amministratore globale.</span><span class="sxs-lookup"><span data-stu-id="59622-108">A [Microsoft Azure AD basic or premium subscription](active-directory-editions.md) and an Azure AD directory for which you are a global administrator.</span></span>
* <span data-ttu-id="59622-109">Un server che esegue Windows Server 2012 R2 o 2016 in cui poter installare il connettore del proxy di applicazione.</span><span class="sxs-lookup"><span data-stu-id="59622-109">A server running Windows Server 2012 R2 or 2016, on which you can install the Application Proxy Connector.</span></span> <span data-ttu-id="59622-110">Il server deve potersi connettere ai servizi proxy di applicazione nel cloud e alle applicazioni locali che vengono pubblicate.</span><span class="sxs-lookup"><span data-stu-id="59622-110">The server needs to be able to connect to the Application Proxy services in the cloud, and the on-premises applications that you are publishing.</span></span>
  * <span data-ttu-id="59622-111">Per l'accesso Single Sign-On alle applicazioni pubblicate usando la delega vincolata Kerberos, è necessario che il computer sia aggiunto allo stesso dominio di AD delle applicazioni che vengono pubblicate.</span><span class="sxs-lookup"><span data-stu-id="59622-111">For single sign-on to your published applications using Kerberos Constrained Delegation, this machine should be domain-joined in the same AD domain as the applications that you are publishing.</span></span> <span data-ttu-id="59622-112">Per informazioni, vedere [KCD for single sign-on with Application Proxy](active-directory-application-proxy-sso-using-kcd.md) (KDC per l'Accesso Single Sign-On con il proxy di applicazione).</span><span class="sxs-lookup"><span data-stu-id="59622-112">For information, see [KCD for single sign-on with Application Proxy](active-directory-application-proxy-sso-using-kcd.md).</span></span>

<span data-ttu-id="59622-113">Se l'organizzazione usa i server proxy per la connessione a Internet, vedere [Usare server proxy locali esistenti](application-proxy-working-with-proxy-servers.md) per informazioni dettagliate su come configurarli prima di iniziare a usare il proxy di applicazione.</span><span class="sxs-lookup"><span data-stu-id="59622-113">If your organization uses proxy servers to connect to the internet, read [Work with existing on-premises proxy servers](application-proxy-working-with-proxy-servers.md) for details on how to configure them before you get started with Application Proxy.</span></span>

## <a name="open-your-ports"></a><span data-ttu-id="59622-114">Aprire le porte</span><span class="sxs-lookup"><span data-stu-id="59622-114">Open your ports</span></span>

<span data-ttu-id="59622-115">Per preparare l'ambiente per il proxy di applicazione di Azure AD, è necessario abilitare prima la comunicazione ai data center di Azure.</span><span class="sxs-lookup"><span data-stu-id="59622-115">To prepare your environment for Azure AD Application Proxy, you first need to enable communication to Azure data centers.</span></span> <span data-ttu-id="59622-116">Se nel percorso è presente un firewall, verificare che sia aperto in modo che il connettore possa inviare richieste HTTPS (TCP) al proxy di applicazione.</span><span class="sxs-lookup"><span data-stu-id="59622-116">If there is a firewall in the path, make sure that it's open so that the Connector can make HTTPS (TCP) requests to the Application Proxy.</span></span>

1. <span data-ttu-id="59622-117">Aprire le porte seguenti al traffico **in uscita**:</span><span class="sxs-lookup"><span data-stu-id="59622-117">Open the following ports to **outbound** traffic:</span></span>

   | <span data-ttu-id="59622-118">Numero della porta</span><span class="sxs-lookup"><span data-stu-id="59622-118">Port number</span></span> | <span data-ttu-id="59622-119">Uso</span><span class="sxs-lookup"><span data-stu-id="59622-119">How it's used</span></span> |
   | --- | --- |
   | <span data-ttu-id="59622-120">80</span><span class="sxs-lookup"><span data-stu-id="59622-120">80</span></span> | <span data-ttu-id="59622-121">Download degli elenchi di revoche di certificati (CRL) durante la convalida del certificato SSL</span><span class="sxs-lookup"><span data-stu-id="59622-121">Downloading certificate revocation lists (CRLs) while validating the SSL certificate</span></span> |
   | <span data-ttu-id="59622-122">443</span><span class="sxs-lookup"><span data-stu-id="59622-122">443</span></span> | <span data-ttu-id="59622-123">Tutte le comunicazioni in uscita con il servizio proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="59622-123">All outbound communication with the Application Proxy service</span></span> |

   <span data-ttu-id="59622-124">Se il firewall regola il traffico in base agli utenti di origine, aprire queste porte per il traffico proveniente da servizi di Windows in esecuzione come servizio di rete.</span><span class="sxs-lookup"><span data-stu-id="59622-124">If your firewall enforces traffic according to originating users, open these ports for traffic from Windows services that run as a Network Service.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="59622-125">La tabella contiene i requisiti relativi alle porte per le versioni del connettore 1.5.132.0 e successive.</span><span class="sxs-lookup"><span data-stu-id="59622-125">The table reflects the port requirements for connector versions 1.5.132.0 and newer.</span></span> <span data-ttu-id="59622-126">Se la versione del connettore è precedente, è anche necessario abilitare le porte seguenti oltre alla 80 e alla 443: 5671, 8080, 9090-9091, 9350, 9352, 10100-10120.</span><span class="sxs-lookup"><span data-stu-id="59622-126">If you still have an older connector version, you also need to enable the following ports in addition to 80 and 443: 5671, 8080, 9090-9091, 9350, 9352, 10100–10120.</span></span>
   >
   ><span data-ttu-id="59622-127">Per informazioni sull'aggiornamento dei connettori alla versione più recente, vedere [Comprendere i connettori del proxy di applicazione di Azure AD](application-proxy-understand-connectors.md#automatic-updates).</span><span class="sxs-lookup"><span data-stu-id="59622-127">For information about updating your connectors to the newest version, see [Understand Azure AD Application Proxy connectors](application-proxy-understand-connectors.md#automatic-updates).</span></span>

2. <span data-ttu-id="59622-128">Se il firewall o il proxy consente di inserire DNS nell'elenco elementi consentiti, è possibile aggiungere connessioni a msappproxy.net e servicebus.windows.net.</span><span class="sxs-lookup"><span data-stu-id="59622-128">If your firewall or proxy allows DNS whitelisting, you can whitelist connections to msappproxy.net and servicebus.windows.net.</span></span> <span data-ttu-id="59622-129">In caso contrario, è necessario consentire l'accesso agli [intervalli IP del data center di Azure](https://www.microsoft.com/download/details.aspx?id=41653) che vengono aggiornati ogni settimana.</span><span class="sxs-lookup"><span data-stu-id="59622-129">If not, you need to allow access to the [Azure DataCenter IP ranges](https://www.microsoft.com/download/details.aspx?id=41653), which are updated each week.</span></span>

3. <span data-ttu-id="59622-130">Microsoft usa quattro indirizzi per verificare i certificati.</span><span class="sxs-lookup"><span data-stu-id="59622-130">Microsoft uses four addresses to verify certificates.</span></span> <span data-ttu-id="59622-131">Se non è già stato fatto per altri prodotti, consentire l'accesso agli URL seguenti:</span><span class="sxs-lookup"><span data-stu-id="59622-131">Allow access to the following URLs if you haven't done so for other products:</span></span>
   * <span data-ttu-id="59622-132">mscrl.microsoft.com:80</span><span class="sxs-lookup"><span data-stu-id="59622-132">mscrl.microsoft.com:80</span></span>
   * <span data-ttu-id="59622-133">crl.microsoft.com:80</span><span class="sxs-lookup"><span data-stu-id="59622-133">crl.microsoft.com:80</span></span>
   * <span data-ttu-id="59622-134">ocsp.msocsp.com:80</span><span class="sxs-lookup"><span data-stu-id="59622-134">ocsp.msocsp.com:80</span></span>
   * <span data-ttu-id="59622-135">www.microsoft.com:80</span><span class="sxs-lookup"><span data-stu-id="59622-135">www.microsoft.com:80</span></span>

4. <span data-ttu-id="59622-136">Il connettore deve poter accedere a login.windows.net e login.microsoftonline.net per il processo di registrazione.</span><span class="sxs-lookup"><span data-stu-id="59622-136">Your connector needs access to login.windows.net and login.microsoftonline.net for the registration process.</span></span>

5. <span data-ttu-id="59622-137">Usare lo [strumento per il test delle porte del connettore Proxy di applicazione Azure AD](https://aadap-portcheck.connectorporttest.msappproxy.net/) per verificare che il connettore possa raggiungere il servizio Proxy di applicazione.</span><span class="sxs-lookup"><span data-stu-id="59622-137">Use the [Azure AD Application Proxy Connector Ports Test Tool](https://aadap-portcheck.connectorporttest.msappproxy.net/) to verify that your connector can reach the Application Proxy service.</span></span> <span data-ttu-id="59622-138">Assicurarsi almeno che l'area Stati Uniti centrali e l'area più vicina all'utente abbiano segni di spunta verdi.</span><span class="sxs-lookup"><span data-stu-id="59622-138">At a minimum, make sure that the Central US region and the region closest to you have all green checkmarks.</span></span> <span data-ttu-id="59622-139">La presenza di più segni di spunta verdi indica una maggiore resilienza.</span><span class="sxs-lookup"><span data-stu-id="59622-139">Beyond that, more green checkmarks means greater resiliency.</span></span>

## <a name="install-and-register-a-connector"></a><span data-ttu-id="59622-140">Installare e registrare un connettore</span><span class="sxs-lookup"><span data-stu-id="59622-140">Install and register a connector</span></span>
1. <span data-ttu-id="59622-141">Accedere come amministratore al [portale di Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="59622-141">Sign in as an administrator in the [Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="59622-142">La directory corrente viene visualizzata sotto il nome utente nell'angolo superiore destro.</span><span class="sxs-lookup"><span data-stu-id="59622-142">Your current directory appears under your username in the top right corner.</span></span> <span data-ttu-id="59622-143">Se è necessario cambiare directory, selezionare questa icona.</span><span class="sxs-lookup"><span data-stu-id="59622-143">If you need to change directories, select that icon.</span></span>
3. <span data-ttu-id="59622-144">Passare a **Azure Active Directory** > **Proxy dell'applicazione**.</span><span class="sxs-lookup"><span data-stu-id="59622-144">Go to **Azure Active Directory** > **Application Proxy**.</span></span>

   ![Accedere a Proxy di applicazione](./media/active-directory-application-proxy-enable/app_proxy_navigate.png)

4. <span data-ttu-id="59622-146">Selezionare **Scarica connettore**.</span><span class="sxs-lookup"><span data-stu-id="59622-146">Select **Download Connector**.</span></span>

   ![Scaricare il connettore](./media/active-directory-application-proxy-enable/download_connector.png)

5. <span data-ttu-id="59622-148">Eseguire **AADApplicationProxyConnectorInstaller.exe** nel server preparato in base ai prerequisiti.</span><span class="sxs-lookup"><span data-stu-id="59622-148">Run **AADApplicationProxyConnectorInstaller.exe** on the server you prepared according to the prerequisites.</span></span>
6. <span data-ttu-id="59622-149">Seguire le istruzioni della procedura guidata da installare.</span><span class="sxs-lookup"><span data-stu-id="59622-149">Follow the instructions in the wizard to install.</span></span> <span data-ttu-id="59622-150">Durante l'installazione viene richiesto di registrare il connettore con il proxy di applicazione del tenant di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="59622-150">During installation, you are prompted to register the connector with the Application Proxy of your Azure AD tenant.</span></span>

   * <span data-ttu-id="59622-151">Fornire le credenziali di amministratore globale di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="59622-151">Provide your Azure AD global administrator credentials.</span></span> <span data-ttu-id="59622-152">Il tenant di amministratore globale può essere diverso dalle credenziali di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="59622-152">Your global administrator tenant may be different from your Microsoft Azure credentials.</span></span>
   * <span data-ttu-id="59622-153">Verificare che l'amministratore che registra il connettore si trovi nella stessa directory in cui è stato abilitato il servizio proxy dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="59622-153">Make sure the admin who registers the connector is in the same directory where you enabled the Application Proxy service.</span></span> <span data-ttu-id="59622-154">Se il dominio del tenant è contoso.com, ad esempio, l'amministratore deve essere admin@contoso.com o qualsiasi altro alias di tale dominio.</span><span class="sxs-lookup"><span data-stu-id="59622-154">For example, if the tenant domain is contoso.com, the admin should be admin@contoso.com or any other alias on that domain.</span></span>
   * <span data-ttu-id="59622-155">Se l'opzione **Configurazione sicurezza avanzata IE** è**** attivata nel server in cui si sta installando il connettore, potrebbe non venire visualizzata la schermata di registrazione.</span><span class="sxs-lookup"><span data-stu-id="59622-155">If **IE Enhanced Security Configuration** is set to **On** on the server where you are installing the connector, you may not see the registration screen.</span></span> <span data-ttu-id="59622-156">Per ottenere l'accesso, seguire le istruzioni contenute nel messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="59622-156">To get access, follow the instructions in the error message.</span></span> <span data-ttu-id="59622-157">Verificare che Internet Explorer Enhanced Security Context sia disabilitato.</span><span class="sxs-lookup"><span data-stu-id="59622-157">Make sure that Internet Explorer Enhanced Security is off.</span></span>

<span data-ttu-id="59622-158">Per ottenere una disponibilità elevata, è consigliabile distribuire almeno due connettori.</span><span class="sxs-lookup"><span data-stu-id="59622-158">For high availability purposes, you should deploy at least two connectors.</span></span> <span data-ttu-id="59622-159">Ogni connettore deve essere registrato separatamente.</span><span class="sxs-lookup"><span data-stu-id="59622-159">Each connector must be registered separately.</span></span>

## <a name="test-that-the-connector-installed-correctly"></a><span data-ttu-id="59622-160">Testare che il connettore sia installato correttamente</span><span class="sxs-lookup"><span data-stu-id="59622-160">Test that the connector installed correctly</span></span>

<span data-ttu-id="59622-161">È possibile verificare che un nuovo connettore sia installato correttamente controllando nel portale di Azure o nel server.</span><span class="sxs-lookup"><span data-stu-id="59622-161">You can confirm that a new connector installed correctly by checking for it in either the Azure portal or on your server.</span></span> 

<span data-ttu-id="59622-162">Nel portale di Azure accedere al tenant e passare a **Azure Active Directory** > **Proxy dell'applicazione**.</span><span class="sxs-lookup"><span data-stu-id="59622-162">In the Azure portal, sign in to your tenant and navigate to **Azure Active Directory** > **Application Proxy**.</span></span> <span data-ttu-id="59622-163">Tutti i connettori e i gruppi di connettori vengono visualizzati in questa pagina.</span><span class="sxs-lookup"><span data-stu-id="59622-163">All of your connectors and connector groups appear on this page.</span></span> <span data-ttu-id="59622-164">Selezionare un connettore per visualizzarne i dettagli o spostarlo in un gruppo di connettori diverso.</span><span class="sxs-lookup"><span data-stu-id="59622-164">Select a connector to see its details or move it into a different connector group.</span></span> 

<span data-ttu-id="59622-165">Nel server controllare l'elenco dei servizi attivi per il connettore e lo strumento di aggiornamento del connettore.</span><span class="sxs-lookup"><span data-stu-id="59622-165">On your server, check the list of active services for the connector and the connector updater.</span></span> <span data-ttu-id="59622-166">I due servizi dovrebbero avviarsi immediatamente. In caso contrario, attivarli:</span><span class="sxs-lookup"><span data-stu-id="59622-166">The two services should start running immediately, but if not, turn them on:</span></span> 

   * <span data-ttu-id="59622-167">**Microsoft AAD Application Proxy Connector** abilita la connettività.</span><span class="sxs-lookup"><span data-stu-id="59622-167">**Microsoft AAD Application Proxy Connector** enables connectivity</span></span>

   * <span data-ttu-id="59622-168">**Microsoft AAD Application Proxy Connector Updater** è un servizio di aggiornamento automatico.</span><span class="sxs-lookup"><span data-stu-id="59622-168">**Microsoft AAD Application Proxy Connector Updater** is an automated update service.</span></span> <span data-ttu-id="59622-169">Lo strumento di aggiornamento controlla la presenza di nuove versioni del connettore e aggiorna il connettore in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="59622-169">The updater checks for new versions of the connector and updates the connector as needed.</span></span>

   ![Servizi del connettore proxy di applicazione - Screenshot](./media/active-directory-application-proxy-enable/app_proxy_services.png)

<span data-ttu-id="59622-171">Per informazioni sui connettori e su come vengono mantenuti aggiornati, vedere [Comprendere i connettori del proxy applicazione Azure AD](application-proxy-understand-connectors.md).</span><span class="sxs-lookup"><span data-stu-id="59622-171">For information about connectors and how they stay up to date, see [Understand Azure AD Application Proxy connectors](application-proxy-understand-connectors.md).</span></span>


## <a name="next-steps"></a><span data-ttu-id="59622-172">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="59622-172">Next steps</span></span>
<span data-ttu-id="59622-173">È ora possibile [pubblicare applicazioni con il proxy di applicazione](application-proxy-publish-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="59622-173">You are now ready to [Publish applications with Application Proxy](application-proxy-publish-azure-portal.md).</span></span>

<span data-ttu-id="59622-174">Se ci sono applicazioni in reti separate o posizioni diverse, usare gruppi di connettori per organizzare i diversi connettori in unità logiche.</span><span class="sxs-lookup"><span data-stu-id="59622-174">If you have applications that are on separate networks or different locations, use connector groups to organize the different connectors into logical units.</span></span> <span data-ttu-id="59622-175">Per altre informazioni, vedere [Pubblicare applicazioni in reti e posizioni separate tramite i gruppi di connettori](active-directory-application-proxy-connectors-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="59622-175">Learn more about [Working with Application Proxy connectors](active-directory-application-proxy-connectors-azure-portal.md).</span></span>
