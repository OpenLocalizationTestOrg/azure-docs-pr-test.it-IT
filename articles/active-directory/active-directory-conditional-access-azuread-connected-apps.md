---
title: Accesso condizionale di Azure per app SaaS| Documentazione Microsoft
description: "L'accesso condizionale in Azure AD consente la configurazione di una regola di accesso con autenticazione a più fattori per ogni applicazione e la possibilità di bloccare l'accesso agli utenti su una rete non affidabile. "
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
ms.assetid: 51a1ee61-3ffe-4f65-b8de-ff21903e1e74
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/07/2017
ms.author: markvi
ms.reviewer: calebb
ms.openlocfilehash: efaa70467346e910a78a63d182041029bb34b1cc
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="getting-started-with-azure-active-directory-conditional-access"></a><span data-ttu-id="305a8-103">Introduzione all'accesso condizionale di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="305a8-103">Getting started with Azure Active Directory Conditional Access</span></span>
<span data-ttu-id="305a8-104">L'accesso condizionale di Azure Active Directory per app [SaaS](https://azure.microsoft.com/overview/what-is-saas/) e app connesse ad Azure AD consente di configurare l'accesso condizionale in base a un gruppo, una posizione e alla sensibilità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="305a8-104">Azure Active Directory Conditional Access for [SaaS](https://azure.microsoft.com/overview/what-is-saas/) apps and Azure AD connected apps lets you configure conditional access based on group, location, and application sensitivity.</span></span> 

<span data-ttu-id="305a8-105">Con l'accesso condizionale basato sulla sensibilità dell'applicazione è possibile configurare regole di accesso Multi-Factor Authentication (MFA) per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="305a8-105">With conditional access based on application sensitivity, you can set multi-factor authentication (MFA) access rules per application.</span></span> <span data-ttu-id="305a8-106">L'autenticazione MFA per ogni applicazione consente di bloccare l'accesso per gli utenti non collegati a una rete attendibile.</span><span class="sxs-lookup"><span data-stu-id="305a8-106">MFA per application provides the ability to block access for users who are not on a trusted network.</span></span> <span data-ttu-id="305a8-107">Le regole MFA possono essere applicate a tutti gli utenti assegnati all'applicazione oppure solo agli utenti inclusi in gruppi di sicurezza specifici.</span><span class="sxs-lookup"><span data-stu-id="305a8-107">You can apply MFA rules to all users that are assigned to the application, or only for users within specified security groups.</span></span>  <span data-ttu-id="305a8-108">Gli utenti possono essere esclusi dal requisito di autenticazione MFA se accedono all'applicazione da un indirizzo IP all'interno della rete dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="305a8-108">Users may be excluded from the MFA requirement if they are accessing the application from an IP address that is inside the organization’s network.</span></span>

<span data-ttu-id="305a8-109">Queste funzionalità saranno disponibili per i clienti che hanno acquistato una licenza di Azure Active Directory Premium.</span><span class="sxs-lookup"><span data-stu-id="305a8-109">These capabilities will be available to customers that have purchased an Azure Active Directory Premium license.</span></span>

## <a name="scenario-prerequisites"></a><span data-ttu-id="305a8-110">Prerequisiti dello scenario</span><span class="sxs-lookup"><span data-stu-id="305a8-110">Scenario prerequisites</span></span>
* <span data-ttu-id="305a8-111">Licenza di Azure Active Directory Premium</span><span class="sxs-lookup"><span data-stu-id="305a8-111">License for Azure Active Directory Premium</span></span>
* <span data-ttu-id="305a8-112">Tenant di Azure Active Directory federato o gestito</span><span class="sxs-lookup"><span data-stu-id="305a8-112">Federated or managed Azure Active Directory tenant</span></span>
* <span data-ttu-id="305a8-113">I tenant federati richiedono l'abilitazione dell'autenticazione Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="305a8-113">Federated tenants require that multi-factor authentication be enabled.</span></span>

## <a name="configure-per-application-access-rules"></a><span data-ttu-id="305a8-114">Configurare le regole di accesso per ogni applicazione</span><span class="sxs-lookup"><span data-stu-id="305a8-114">Configure per-application access rules</span></span>
<span data-ttu-id="305a8-115">Questa sezione descrive come configurare le regole di accesso per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="305a8-115">This section describes how to configure per-application access rules.</span></span>

1. <span data-ttu-id="305a8-116">Accedere al portale di Azure classico utilizzando un account amministratore globale in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="305a8-116">Sign in to the Azure classic portal Using an account that is a global administrator for Azure AD.</span></span>
2. <span data-ttu-id="305a8-117">Nel riquadro sinistro selezionare **Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="305a8-117">On the left pane, select **Active Directory**.</span></span>
3. <span data-ttu-id="305a8-118">Selezionare la propria directory nella scheda Directory.</span><span class="sxs-lookup"><span data-stu-id="305a8-118">On the Directory tab, select your directory.</span></span>
4. <span data-ttu-id="305a8-119">Selezionare la scheda **Applicazioni** .</span><span class="sxs-lookup"><span data-stu-id="305a8-119">Select the **Applications** tab.</span></span>
5. <span data-ttu-id="305a8-120">Selezionare l'applicazione per cui sarà impostata la regola.</span><span class="sxs-lookup"><span data-stu-id="305a8-120">Select the application that the rule will be set for.</span></span>
6. <span data-ttu-id="305a8-121">Selezionare la scheda **Configura** .</span><span class="sxs-lookup"><span data-stu-id="305a8-121">Select the **Configure** tab.</span></span>
7. <span data-ttu-id="305a8-122">Scorrere verso il basso fino alla sezione  delle regole di accesso.</span><span class="sxs-lookup"><span data-stu-id="305a8-122">Scroll down to the access rules section.</span></span> <span data-ttu-id="305a8-123">Selezionare la regola di accesso da usare.</span><span class="sxs-lookup"><span data-stu-id="305a8-123">Select the desired access rule.</span></span>
8. <span data-ttu-id="305a8-124">Specificare gli utenti ai quali sarà applicata la regola.</span><span class="sxs-lookup"><span data-stu-id="305a8-124">Specify the users the rule will apply to.</span></span>
9. <span data-ttu-id="305a8-125">Abilitare i criteri impostando **Abilitato su Sì**.</span><span class="sxs-lookup"><span data-stu-id="305a8-125">Enable the policy by selecting **Enabled to be On**.</span></span>

## <a name="understanding-access-rules"></a><span data-ttu-id="305a8-126">Informazioni sulle regole di accesso</span><span class="sxs-lookup"><span data-stu-id="305a8-126">Understanding access rules</span></span>
<span data-ttu-id="305a8-127">Questa sezione contiene una descrizione dettagliata delle regole di accesso supportate nell'accesso condizionale alle applicazioni di Azure.</span><span class="sxs-lookup"><span data-stu-id="305a8-127">This section gives a detailed description of the access rules supported in the Azure Conditional Application Access.</span></span>

### <a name="specifying-the-users-the-access-rules-apply-to"></a><span data-ttu-id="305a8-128">Definizione degli utenti a cui applicare le regole di accesso</span><span class="sxs-lookup"><span data-stu-id="305a8-128">Specifying the users the access rules apply to</span></span>
<span data-ttu-id="305a8-129">Per impostazione predefinita, i criteri verranno applicati a tutti gli utenti che hanno accesso all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="305a8-129">By default the policy will apply to all users that have access to the application.</span></span> <span data-ttu-id="305a8-130">Tuttavia, è anche possibile limitare i criteri agli utenti membri dei gruppi di sicurezza specificati.</span><span class="sxs-lookup"><span data-stu-id="305a8-130">However, you can also restrict the policy to users that are members of the specified security groups.</span></span> <span data-ttu-id="305a8-131">Il pulsante **Aggiungi gruppo** permette di selezionare uno o più gruppi a cui applicare la regola di accesso nella finestra di dialogo di selezione dei gruppi.</span><span class="sxs-lookup"><span data-stu-id="305a8-131">The **Add Group** button is used to select one or more groups from the group selection dialog that the access rule will apply to.</span></span> <span data-ttu-id="305a8-132">Questa finestra di dialogo può essere utilizzata anche per rimuovere i gruppi selezionati.</span><span class="sxs-lookup"><span data-stu-id="305a8-132">This dialog can also be used to remove selected groups.</span></span> <span data-ttu-id="305a8-133">Una volta selezionate le regole da applicare ai gruppi, le regole di accesso verranno applicate solo agli utenti che appartengono a uno dei gruppi di sicurezza specificati.</span><span class="sxs-lookup"><span data-stu-id="305a8-133">When the rules are selected to apply to Groups, the access rules will only be enforced for users that belong to one of the specified security groups.</span></span>

<span data-ttu-id="305a8-134">È anche possibile escludere in modo esplicito i gruppi di sicurezza dai criteri selezionando l'opzione relativa alle **eccezioni** e quindi specificando uno o più gruppi.</span><span class="sxs-lookup"><span data-stu-id="305a8-134">Security groups can also be explicitly excluded from the policy by selecting the **Except** option and specifying one or more groups.</span></span> <span data-ttu-id="305a8-135">Gli utenti membri di un gruppo nell'elenco delle **eccezioni** non saranno soggetti al requisito di Multi-Factor Authentication, anche se sono membri di un gruppo a cui si applica la regola di accesso.</span><span class="sxs-lookup"><span data-stu-id="305a8-135">Users that are a member of a group in the **Except** list will not be subject to the multi-factor authentication requirement, even if they are a member of a group that the access rule applies to.</span></span>
<span data-ttu-id="305a8-136">La regola di accesso mostrata di seguito impone a tutti gli utenti del gruppo Responsabili di usare l'autenticazione a più fattori quando accedono all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="305a8-136">The access rule shown below will require all users in the Managers group to use multi-factor authentication when accessing the application.</span></span>

![Impostazione delle regole di accesso condizionale con MFA](./media/active-directory-conditional-access-azuread-connected-apps/conditionalaccess-saas-apps.png)

## <a name="conditional-access-rules-with-mfa"></a><span data-ttu-id="305a8-138">Regole di accesso condizionale con MFA</span><span class="sxs-lookup"><span data-stu-id="305a8-138">Conditional Access Rules with MFA</span></span>
<span data-ttu-id="305a8-139">Se un utente è stato configurato usando la funzionalità di autenticazione Multi-Factor Authentication per utente, questa impostazione per l'utente andrà ad aggiungersi alle regole di Multi-Factor Authentication dell'app.</span><span class="sxs-lookup"><span data-stu-id="305a8-139">If a user has been configured using the per-user multi-factor authentication feature, this setting on the user will combine with the multi-factor authentication rules of the app.</span></span> <span data-ttu-id="305a8-140">Di conseguenza, un utente configurato per l'autenticazione a più fattori per utente dovrà eseguire l'autenticazione a più fattori anche se è stato escluso dalle regole di autenticazione a più fattori per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="305a8-140">This means a user that has been configured for per-user multi-factor authentication will be required to perform multi-factor authentication even if they have been exempted from the application multi-factor authentication rules.</span></span> <span data-ttu-id="305a8-141">Altre informazioni sull'autenticazione a più fattori e le impostazioni per utente.</span><span class="sxs-lookup"><span data-stu-id="305a8-141">Learn more about multi-factor authentication and per-user settings.</span></span>

### <a name="access-rule-options"></a><span data-ttu-id="305a8-142">Opzioni delle regole di accesso</span><span class="sxs-lookup"><span data-stu-id="305a8-142">Access rule options</span></span>
<span data-ttu-id="305a8-143">Sono supportate le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="305a8-143">The following options are supported:</span></span>

* <span data-ttu-id="305a8-144">**Richiedi autenticazione a più fattori**: gli utenti a cui si applicano le regole di accesso dovranno completare l'autenticazione a più fattori prima di accedere all'applicazione a cui si applica il criterio.</span><span class="sxs-lookup"><span data-stu-id="305a8-144">**Require multi-factor authentication**: The users to whom the access rules apply to, will be required to complete multi-factor authentication before accessing the application that the policy applies to.</span></span>
* <span data-ttu-id="305a8-145">**Richiedi autenticazione a più fattori quando non al lavoro**: un utente che accede da un indirizzo IP attendibile non deve eseguire l'autenticazione a più fattori.</span><span class="sxs-lookup"><span data-stu-id="305a8-145">**Require multi-factor authentication when not at work**: A user that is coming from a trusted IP address will not be required to perform multi-factor authentication.</span></span> <span data-ttu-id="305a8-146">Gli intervalli di indirizzi IP attendibili possono essere configurati nella pagina Impostazioni di autenticazione a più fattori.</span><span class="sxs-lookup"><span data-stu-id="305a8-146">The trusted IP address ranges can be configured on the multi-factor authentication settings page.</span></span>
* <span data-ttu-id="305a8-147">**Blocca l'accesso quando non al lavoro**: un utente che non accede da un indirizzo IP attendibile verrà bloccato.</span><span class="sxs-lookup"><span data-stu-id="305a8-147">**Block access when not at work**: A user that is not coming from a trusted IP address will be blocked.</span></span> <span data-ttu-id="305a8-148">Gli intervalli di indirizzi IP attendibili possono essere configurati nella pagina Impostazioni di autenticazione a più fattori.</span><span class="sxs-lookup"><span data-stu-id="305a8-148">The trusted IP address ranges can be configured on the multi-factor authentication settings page.</span></span>

### <a name="setting-rule-status"></a><span data-ttu-id="305a8-149">Impostazione dello stato delle regole</span><span class="sxs-lookup"><span data-stu-id="305a8-149">Setting rule status</span></span>
<span data-ttu-id="305a8-150">Lo stato delle regole di accesso permette di attivare o disattivare le regole.</span><span class="sxs-lookup"><span data-stu-id="305a8-150">Access rule status allows turning the rules on or off.</span></span> <span data-ttu-id="305a8-151">Quando le regole di accesso sono disattivate, il requisito dell'autenticazione a più fattori non viene applicato.</span><span class="sxs-lookup"><span data-stu-id="305a8-151">When the access rules are off, the multi-factor authentication requirement is not enforced.</span></span>

### <a name="access-rule-evaluation"></a><span data-ttu-id="305a8-152">Valutazione delle regole di accesso</span><span class="sxs-lookup"><span data-stu-id="305a8-152">Access rule evaluation</span></span>
<span data-ttu-id="305a8-153">Quando un utente accede a un'applicazione federata che utilizza OAuth 2.0, OpenID Connect, SAML o WS-Federation, vengono valutate le regole di accesso.</span><span class="sxs-lookup"><span data-stu-id="305a8-153">Access rules are evaluated when a user accesses a federated application that uses OAuth 2.0, OpenID Connect, SAML or WS-Federation.</span></span> <span data-ttu-id="305a8-154">Le regole di accesso vengono valutate anche quando OAuth 2.0 e OpenID Connect usano un token di aggiornamento per acquisire un token di accesso.</span><span class="sxs-lookup"><span data-stu-id="305a8-154">In addition, access rules are evaluated when the OAuth 2.0 and OpenID Connect use a refresh token to acquire an access token.</span></span> <span data-ttu-id="305a8-155">Se la valutazione dei criteri ha esito negativo quando si usa un token di aggiornamento, viene restituito l'errore **invalid_grant** indicante che l'utente deve eseguire di nuovo l'autenticazione al client.</span><span class="sxs-lookup"><span data-stu-id="305a8-155">If policy evaluation fails when a refresh token is used, the error **invalid_grant** will be returned, this indicates the user needs to re-authenticate to the client.</span></span>

### <a name="configure-federation-services-to-provide-multi-factor-authentication"></a><span data-ttu-id="305a8-156">Configurare i servizi federativi per fornire l'autenticazione a più fattori</span><span class="sxs-lookup"><span data-stu-id="305a8-156">Configure federation services to provide multi-factor authentication</span></span>
<span data-ttu-id="305a8-157">Per tenant federati, MFA potrebbe essere eseguita da Azure Active Directory o dal server AD FS locale.</span><span class="sxs-lookup"><span data-stu-id="305a8-157">For federated tenants, MFA may be performed by Azure Active Directory or by the on-premises AD FS server.</span></span>

<span data-ttu-id="305a8-158">Per impostazione predefinita, MFA viene eseguita in una pagina ospitata da Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="305a8-158">By default, MFA will occur at a page hosted by Azure Active Directory.</span></span> <span data-ttu-id="305a8-159">Per configurare MFA in locale è necessario impostare la proprietà **–SupportsMFA** su **true** in Azure Active Directory usando il modulo di Azure AD per Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="305a8-159">To configure MFA on-premises, the **–SupportsMFA** property must be set to **true** in Azure Active Directory, by using the Azure AD module for Windows PowerShell.</span></span>

<span data-ttu-id="305a8-160">L'esempio seguente illustra come abilitare MFA in locale usando il [cmdlet Set-MsolDomainFederationSettings cmdlet](https://msdn.microsoft.com/library/azure/dn194088.aspx) nel tenant contoso.com:</span><span class="sxs-lookup"><span data-stu-id="305a8-160">The following example shows how to enable on-premises MFA by using the [Set-MsolDomainFederationSettings cmdlet](https://msdn.microsoft.com/library/azure/dn194088.aspx) on the contoso.com tenant:</span></span>

    Set-MsolDomainFederationSettings -DomainName contoso.com -SupportsMFA $true

<span data-ttu-id="305a8-161">Oltre a impostare questo flag, l'istanza di AD FS del tenant federato deve essere configurata in modo da eseguire l'autenticazione a più fattori.</span><span class="sxs-lookup"><span data-stu-id="305a8-161">In addition to setting this flag, the federated tenant AD FS instance must be configured to perform multi-factor authentication.</span></span> <span data-ttu-id="305a8-162">Seguire le istruzioni per la [distribuzione locale di Azure Multi-Factor Authentication](../multi-factor-authentication/multi-factor-authentication-get-started-server.md).</span><span class="sxs-lookup"><span data-stu-id="305a8-162">Follow the instructions for [deploying Azure Multi-Factor Authentication on-premises](../multi-factor-authentication/multi-factor-authentication-get-started-server.md).</span></span>

## <a name="related-articles"></a><span data-ttu-id="305a8-163">Articoli correlati</span><span class="sxs-lookup"><span data-stu-id="305a8-163">Related Articles</span></span>
* [<span data-ttu-id="305a8-164">Protezione dell'accesso a Office 365 e ad altre app connesse ad Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="305a8-164">Securing access to Office 365 and other apps connected to Azure Active Directory</span></span>](active-directory-conditional-access.md)
* [<span data-ttu-id="305a8-165">Indice di articoli per la gestione di applicazioni in Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="305a8-165">Article Index for Application Management in Azure Active Directory</span></span>](active-directory-apps-index.md)

