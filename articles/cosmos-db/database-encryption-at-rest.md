---
title: 'Crittografia di database inattivi: Azure Cosmos DB | Microsoft Docs'
description: Informazioni sulla crittografia predefinita per tutti i dati offerta da Azure Cosmos DB.
services: cosmos-db
author: voellm
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: 99725c52-d7ca-4bfa-888b-19b1569754d3
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/23/2017
ms.author: voellm
ms.openlocfilehash: d8967d4504a8ccabb444c7f3d5635e2d00f287c5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="azure-cosmos-db-database-encryption-at-rest"></a><span data-ttu-id="5197a-103">Crittografia di dati inattivi del database in Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="5197a-103">Azure Cosmos DB database encryption at rest</span></span>

<span data-ttu-id="5197a-104">Il termine "crittografia di dati inattivi" denota in genere la crittografia dei dati su dispositivi di archiviazione non volatili, come ad esempio unità a stato solido (SSD) e dischi rigidi (HDD).</span><span class="sxs-lookup"><span data-stu-id="5197a-104">Encryption at rest is a phrase that commonly refers to the encryption of data on nonvolatile storage devices, such as solid state drives (SSDs) and hard disk drives (HDDs).</span></span> <span data-ttu-id="5197a-105">Cosmos DB archivia i propri database primari su SSD.</span><span class="sxs-lookup"><span data-stu-id="5197a-105">Cosmos DB stores its primary databases on SSDs.</span></span> <span data-ttu-id="5197a-106">Gli allegati multimediali e i backup vengono memorizzati nell'archiviazione BLOB di Azure, di cui in genere si esegue il backup su HDD.</span><span class="sxs-lookup"><span data-stu-id="5197a-106">Its media attachments and backups are stored in Azure Blob storage, which is generally backed up by HDDs.</span></span> <span data-ttu-id="5197a-107">Con il rilascio della crittografia di dati inattivi per Cosmos DB, tutti i database, gli allegati multimediali e i backup vengono ora crittografati.</span><span class="sxs-lookup"><span data-stu-id="5197a-107">With the release of encryption at rest for Cosmos DB, all your databases, media attachments, and backups are encrypted.</span></span> <span data-ttu-id="5197a-108">Vengono crittografati sia i dati in transito (attraverso la rete), sia quelli inattivi (memoria non volatile), fornendo una crittografia end-to-end.</span><span class="sxs-lookup"><span data-stu-id="5197a-108">Your data is now encrypted in transit (over the network) and at rest (nonvolatile storage), giving you end-to-end encryption.</span></span>

<span data-ttu-id="5197a-109">In qualità di servizio PaaS, Cosmos DB è molto facile da usare.</span><span class="sxs-lookup"><span data-stu-id="5197a-109">As a PaaS service, Cosmos DB is very easy to use.</span></span> <span data-ttu-id="5197a-110">Poiché tutti i dati utente archiviati in Cosmos DB sono crittografati sia quando sono inattivi che in transito, non è necessario intraprendere alcuna azione.</span><span class="sxs-lookup"><span data-stu-id="5197a-110">Because all user data stored in Cosmos DB is encrypted at rest and in transport, you don't have to take any action.</span></span> <span data-ttu-id="5197a-111">In altre parole, per impostazione predefinita, la crittografia dei dati inattivi è attiva.</span><span class="sxs-lookup"><span data-stu-id="5197a-111">Another way to put this is that encryption at rest is "on" by default.</span></span> <span data-ttu-id="5197a-112">Non è possibile attivarla o disattivarla.</span><span class="sxs-lookup"><span data-stu-id="5197a-112">There are no controls to turn it off or on.</span></span> <span data-ttu-id="5197a-113">Tale funzionalità è offerta nel soddisfare [i contratti di servizio relativi a disponibilità e prestazioni](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span><span class="sxs-lookup"><span data-stu-id="5197a-113">We provide this feature while we continue to meet our [availability and performance SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span></span>

## <a name="implement-encryption-at-rest"></a><span data-ttu-id="5197a-114">Implementare la crittografia di dati inattivi</span><span class="sxs-lookup"><span data-stu-id="5197a-114">Implement encryption at rest</span></span>

<span data-ttu-id="5197a-115">La crittografia dei dati inattivi viene implementata attraverso una serie di tecnologie di protezione, inclusi i sistemi di archiviazione protetta delle chiavi, le reti crittografate e le API di crittografia.</span><span class="sxs-lookup"><span data-stu-id="5197a-115">Encryption at rest is implemented by using a number of security technologies, including secure key storage systems, encrypted networks, and cryptographic APIs.</span></span> <span data-ttu-id="5197a-116">I sistemi che decrittografano ed elaborano i dati devono comunicare con i sistemi di gestione delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="5197a-116">Systems that decrypt and process data have to communicate with systems that manage keys.</span></span> <span data-ttu-id="5197a-117">Il diagramma mostra come viene separata l'archiviazione dei dati crittografati e la gestione delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="5197a-117">The diagram shows how storage of encrypted data and the management of keys is separated.</span></span> 

![Diagramma di progettazione](./media/database-encryption-at-rest/design-diagram.png)

<span data-ttu-id="5197a-119">Il flusso di base di una richiesta dell'utente è il seguente:</span><span class="sxs-lookup"><span data-stu-id="5197a-119">The basic flow of a user request is as follows:</span></span>
- <span data-ttu-id="5197a-120">L'account del database utente viene preparato e le chiavi di archiviazione vengono recuperate tramite una richiesta al provider di risorse del servizio di gestione.</span><span class="sxs-lookup"><span data-stu-id="5197a-120">The user database account is made ready, and storage keys are retrieved via a request to the Management Service Resource Provider.</span></span>
- <span data-ttu-id="5197a-121">Un utente crea una connessione ad Azure Cosmos DB tramite il trasporto HTTPS/protetto;</span><span class="sxs-lookup"><span data-stu-id="5197a-121">A user creates a connection to Cosmos DB via HTTPS/secure transport.</span></span> <span data-ttu-id="5197a-122">gli SDK consentono di estrapolare i dettagli.</span><span class="sxs-lookup"><span data-stu-id="5197a-122">(The SDKs abstract the details.)</span></span>
- <span data-ttu-id="5197a-123">L'utente invia un documento JSON da archiviare tramite la connessione protetta creata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="5197a-123">The user sends a JSON document to be stored over the previously created secure connection.</span></span>
- <span data-ttu-id="5197a-124">Il documento JSON è indicizzato, a meno che l'utente non abbia disabilitato l'indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="5197a-124">The JSON document is indexed unless the user has turned off indexing.</span></span>
- <span data-ttu-id="5197a-125">Sia il documento JSON sia i dati dell'indice vengono scritti in un archivio protetto.</span><span class="sxs-lookup"><span data-stu-id="5197a-125">Both the JSON document and index data are written to secure storage.</span></span>
- <span data-ttu-id="5197a-126">Periodicamente i dati vengono letti dalla risorsa di archiviazione protetta e viene eseguito il backup nell'archivio BLOB crittografato di Azure.</span><span class="sxs-lookup"><span data-stu-id="5197a-126">Periodically, data is read from the secure storage and backed up to the Azure Encrypted Blob Store.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="5197a-127">Domande frequenti</span><span class="sxs-lookup"><span data-stu-id="5197a-127">Frequently asked questions</span></span>

### <a name="q-how-much-more-does-azure-storage-cost-if-storage-service-encryption-is-enabled"></a><span data-ttu-id="5197a-128">D: A quanto ammonta il costo aggiuntivo dell'Archiviazione di Azure se si abilita la crittografia del servizio di archiviazione?</span><span class="sxs-lookup"><span data-stu-id="5197a-128">Q: How much more does Azure Storage cost if Storage Service Encryption is enabled?</span></span>
<span data-ttu-id="5197a-129">R: Non sono previsti costi aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="5197a-129">A: There is no additional cost.</span></span>

### <a name="q-who-manages-the-encryption-keys"></a><span data-ttu-id="5197a-130">D: Chi gestisce le chiavi di crittografia?</span><span class="sxs-lookup"><span data-stu-id="5197a-130">Q: Who manages the encryption keys?</span></span>
<span data-ttu-id="5197a-131">R: Le chiavi vengono gestite da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="5197a-131">A: The keys are managed by Microsoft.</span></span>

### <a name="q-how-often-are-encryption-keys-rotated"></a><span data-ttu-id="5197a-132">D: Con quale frequenza vengono ruotate le chiavi di crittografia?</span><span class="sxs-lookup"><span data-stu-id="5197a-132">Q: How often are encryption keys rotated?</span></span>
<span data-ttu-id="5197a-133">R: Microsoft ha un set di linee guida interne per la rotazione della chiave di crittografia che segue Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="5197a-133">A: Microsoft has a set of internal guidelines for encryption key rotation, which Cosmos DB follows.</span></span> <span data-ttu-id="5197a-134">Le linee guida specifiche non vengono pubblicate.</span><span class="sxs-lookup"><span data-stu-id="5197a-134">The specific guidelines are not published.</span></span> <span data-ttu-id="5197a-135">Microsoft pubblica il [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), che viene considerato un subset di linee guida interne e include procedure consigliate utili per gli sviluppatori.</span><span class="sxs-lookup"><span data-stu-id="5197a-135">Microsoft does publish the [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), which is seen as a subset of internal guidance and has useful best practices for developers.</span></span>

### <a name="q-can-i-use-my-own-encryption-keys"></a><span data-ttu-id="5197a-136">D: È possibile usare le proprie chiavi di crittografia?</span><span class="sxs-lookup"><span data-stu-id="5197a-136">Q: Can I use my own encryption keys?</span></span>
<span data-ttu-id="5197a-137">R: Cosmos DB è un servizio PaaS e l'intento è quello di garantire la semplicità d'uso.</span><span class="sxs-lookup"><span data-stu-id="5197a-137">A: Cosmos DB is a PaaS service, and we worked hard to keep the service easy to use.</span></span> <span data-ttu-id="5197a-138">Spesso questa domanda viene usata come domanda di proxy per soddisfare un requisito conformità come PCI-DSS.</span><span class="sxs-lookup"><span data-stu-id="5197a-138">We've noticed this question is often asked as a proxy question for meeting a compliance requirement like PCI-DSS.</span></span> <span data-ttu-id="5197a-139">Nell'ambito della compilazione di questa funzionalità, la collaborazione con i revisori della conformità consente ai clienti che usano Cosmos DB di soddisfare i propri requisiti senza dover gestire personalmente le chiavi.</span><span class="sxs-lookup"><span data-stu-id="5197a-139">As part of building this feature, we worked with compliance auditors to ensure that customers who use Cosmos DB meet their requirements without the need to manage keys themselves.</span></span>
<span data-ttu-id="5197a-140">Di conseguenza attualmente non viene offerta agli utenti la possibilità di farsi carico dell'onere di gestione delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="5197a-140">As a result, we currently do not offer users the option to burden themselves with key management.</span></span>

### <a name="q-what-regions-have-encryption-turned-on"></a><span data-ttu-id="5197a-141">D: In quali aree è attiva la crittografia?</span><span class="sxs-lookup"><span data-stu-id="5197a-141">Q: What regions have encryption turned on?</span></span>
<span data-ttu-id="5197a-142">R: La crittografia è attiva in tutte le aree di Azure Cosmos DB per tutti i dati utente.</span><span class="sxs-lookup"><span data-stu-id="5197a-142">A: All Azure Cosmos DB regions have encryption turned on for all user data.</span></span>

### <a name="q-does-encryption-affect-the-performance-latency-and-throughput-slas"></a><span data-ttu-id="5197a-143">D: La crittografia influisce sui contratti di servizio per latenza delle prestazioni e velocità effettiva?</span><span class="sxs-lookup"><span data-stu-id="5197a-143">Q: Does encryption affect the performance latency and throughput SLAs?</span></span>
<span data-ttu-id="5197a-144">R: Non si registrano impatti o modifiche in relazione ai contratti di servizio per le prestazioni ora che la crittografia dei dati inattivi è abilitata per tutti gli account nuovi ed esistenti.</span><span class="sxs-lookup"><span data-stu-id="5197a-144">A: There is no impact or changes to the performance SLAs now that encryption at rest is enabled for all existing and new accounts.</span></span> <span data-ttu-id="5197a-145">Per altre informazioni sulle garanzie più recenti, vedere il [Contratto di servizio per Azure Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span><span class="sxs-lookup"><span data-stu-id="5197a-145">You can read more on the [SLA for Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db) page to see the latest guarantees.</span></span>

### <a name="q-does-the-local-emulator-support-encryption-at-rest"></a><span data-ttu-id="5197a-146">D: L'emulatore locale supporta la crittografia dei dati inattivi?</span><span class="sxs-lookup"><span data-stu-id="5197a-146">Q: Does the local emulator support encryption at rest?</span></span>
<span data-ttu-id="5197a-147">R: L'emulatore è uno strumento di sviluppo e test autonomo e non usa i servizi di gestione delle chiavi usati dal servizio gestito di Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="5197a-147">A: The emulator is a standalone dev/test tool and does not use the key management services that the managed Cosmos DB service uses.</span></span> <span data-ttu-id="5197a-148">È consigliabile abilitare BitLocker sulle unità in cui si archiviano i dati di test sensibili dell'emulatore.</span><span class="sxs-lookup"><span data-stu-id="5197a-148">Our recommendation is to enable BitLocker on drives where you are storing sensitive emulator test data.</span></span> <span data-ttu-id="5197a-149">L'[emulatore supporta la modifica nella directory di dati predefinita](local-emulator.md) e usa un percorso noto.</span><span class="sxs-lookup"><span data-stu-id="5197a-149">The [emulator supports changing the default data directory](local-emulator.md) as well as using a well-known location.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5197a-150">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="5197a-150">Next steps</span></span>

<span data-ttu-id="5197a-151">Per una panoramica della sicurezza di Cosmos DB e dei miglioramenti più recenti, vedere [Sicurezza database di Azure Cosmos DB](database-security.md).</span><span class="sxs-lookup"><span data-stu-id="5197a-151">For an overview of Cosmos DB security and the latest improvements, see [Azure Cosmos DB database security](database-security.md).</span></span>
<span data-ttu-id="5197a-152">Per altre informazioni sulle certificazioni Microsoft, vedere il [Centro protezione di Azure](https://azure.microsoft.com/en-us/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="5197a-152">For more information about Microsoft certifications, see the [Azure Trust Center](https://azure.microsoft.com/en-us/support/trust-center/).</span></span>
