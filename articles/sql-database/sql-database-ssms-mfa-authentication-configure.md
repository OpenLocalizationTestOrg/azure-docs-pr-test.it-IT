---
title: "autenticazione a più fattori aaaConfigure - SQL di Azure | Documenti Microsoft"
description: Utilizzare Multi-Factored Authentication con SSMS per il database SQL e SQL Data Warehouse.
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/17/2017
ms.author: rickbyh
ms.openlocfilehash: acb275965f4199f7d5e1378d5077824a9bbc80e1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="configure-multi-factor-authentication-for-sql-server-management-studio-and-azure-ad"></a><span data-ttu-id="f38f7-103">Configurare Multi-Factor Authentication per SQL Server Management Studio e Azure AD</span><span class="sxs-lookup"><span data-stu-id="f38f7-103">Configure multi-factor authentication for SQL Server Management Studio and Azure AD</span></span>

<span data-ttu-id="f38f7-104">In questo argomento illustra come autenticazione a più fattori toouse Azure Active Directory (MFA) con SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="f38f7-104">This topic shows you how toouse Azure Active Directory multi-factor authentication (MFA) with SQL Server Management Studio.</span></span> <span data-ttu-id="f38f7-105">Quando ci si connette a SQL Server Management Studio o SqlPackage.exe tooAzure Database SQL e Azure SQL Data Warehouse, è possibile utilizzare Azure AD MFA.</span><span class="sxs-lookup"><span data-stu-id="f38f7-105">Azure AD MFA can be used when connecting SSMS or SqlPackage.exe tooAzure SQL Database and Azure SQL Data Warehouse.</span></span>

<span data-ttu-id="f38f7-106">Per una panoramica dell'autenticazione a più fattori per il database SQL di Azure, vedere [Autenticazione universale con database SQL e SQL Data Warehouse (supporto SSMS per MFA)](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="f38f7-106">For an overview of Azure SQL Database multi-factor authentication, see [Universal Authentication with SQL Database and SQL Data Warehouse (SSMS support for MFA)](sql-database-ssms-mfa-authentication.md).</span></span>

## <a name="configuration-steps"></a><span data-ttu-id="f38f7-107">Procedura di configurazione</span><span class="sxs-lookup"><span data-stu-id="f38f7-107">Configuration steps</span></span>

1. <span data-ttu-id="f38f7-108">**Configurare Azure Active Directory** : per ulteriori informazioni, vedere [amministrazione della directory di Azure AD](https://msdn.microsoft.com/library/azure/hh967611.aspx), [integrazione delle identità locali con Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Aggiungere la propria tooAzure nome di dominio Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Microsoft Azure supporta ora la federazione con Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), e [gestire Azure AD tramite Windows PowerShell ](https://msdn.microsoft.com/library/azure/jj151815.aspx).</span><span class="sxs-lookup"><span data-stu-id="f38f7-108">**Configure an Azure Active Directory** - For more information, see [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name tooAzure AD](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), and [Manage Azure AD using Windows PowerShell](https://msdn.microsoft.com/library/azure/jj151815.aspx).</span></span>
2. <span data-ttu-id="f38f7-109">**Configurare MFA**: per istruzioni dettagliate, vedere [Informazioni su Azure Multi-Factor Authentication](../multi-factor-authentication/multi-factor-authentication.md) e [Accesso condizionale (MFA) con il database SQL di Azure e Azure SQL Data Warehouse](sql-database-conditional-access.md).</span><span class="sxs-lookup"><span data-stu-id="f38f7-109">**Configure MFA** - For step-by-step instructions, see [What is Azure Multi-Factor Authentication?](../multi-factor-authentication/multi-factor-authentication.md), [Conditional Access (MFA) with Azure SQL Database and Data Warehouse](sql-database-conditional-access.md).</span></span> <span data-ttu-id="f38f7-110">Per l'accesso condizionale completo è necessaria l'edizione Premium di Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="f38f7-110">(Full conditional access requires a Premium Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="f38f7-111">Con l'edizione standard di Azure AD è disponibile l'autenticazione a più fattori limitata.</span><span class="sxs-lookup"><span data-stu-id="f38f7-111">Limited MFA is available with a standard Azure AD.)</span></span>
3. <span data-ttu-id="f38f7-112">**Configurare il Database SQL o SQL Data Warehouse per l'autenticazione AD Azure** : per istruzioni dettagliate, vedere [tooSQL connessione Database o Data Warehouse da usando Azure Active Directory l'autenticazione di SQL](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="f38f7-112">**Configure SQL Database or SQL Data Warehouse for Azure AD Authentication** - For step-by-step instructions, see [Connecting tooSQL Database or SQL Data Warehouse By Using Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>
4. <span data-ttu-id="f38f7-113">**Download di SSMS** - computer client hello scaricare hello SSMS più recente, da [scaricare SQL Server Management Studio (SQL Server Management Studio)](https://msdn.microsoft.com/library/mt238290.aspx).</span><span class="sxs-lookup"><span data-stu-id="f38f7-113">**Download SSMS** - On hello client computer, download hello latest SSMS, from [Download SQL Server Management Studio (SSMS)](https://msdn.microsoft.com/library/mt238290.aspx).</span></span> <span data-ttu-id="f38f7-114">Per tutte le funzionalità di hello in questo argomento, usare almeno luglio 2017, versione 17,2.</span><span class="sxs-lookup"><span data-stu-id="f38f7-114">For all hello features in this topic, use at least July 2017, version 17.2.</span></span>  

## <a name="connecting-by-using-universal-authentication-with-ssms"></a><span data-ttu-id="f38f7-115">Connessione tramite l'autenticazione universale con SSMS</span><span class="sxs-lookup"><span data-stu-id="f38f7-115">Connecting by using universal authentication with SSMS</span></span>

<span data-ttu-id="f38f7-116">Hello alla procedura seguente viene illustrato come tooconnect tooSQL Database o SQL Data Warehouse utilizzando hello SSMS più recente.</span><span class="sxs-lookup"><span data-stu-id="f38f7-116">hello following steps show how tooconnect tooSQL Database or SQL Data Warehouse by using hello latest SSMS.</span></span>

1. <span data-ttu-id="f38f7-117">utilizzo dell'autenticazione universale in hello tooconnect **connettersi tooServer** nella finestra di dialogo **Active Directory - Universal con il supporto di MFA**.</span><span class="sxs-lookup"><span data-stu-id="f38f7-117">tooconnect using Universal Authentication, on hello **Connect tooServer** dialog box, select **Active Directory - Universal with MFA support**.</span></span> <span data-ttu-id="f38f7-118">(Se viene visualizzato **autenticazione universale di Active Directory** non sono nella versione più recente di hello di SSMS.)</span><span class="sxs-lookup"><span data-stu-id="f38f7-118">(If you see **Active Directory Universal Authentication** you are not on hello latest version of SSMS.)</span></span>  
   <span data-ttu-id="f38f7-119">![1mfa-universal-connect][1]</span><span class="sxs-lookup"><span data-stu-id="f38f7-119">![1mfa-universal-connect][1]</span></span>  
2. <span data-ttu-id="f38f7-120">Hello completo **nome utente** casella con le credenziali di Azure Active Directory hello, in formato hello `user_name@domain.com`.</span><span class="sxs-lookup"><span data-stu-id="f38f7-120">Complete hello **User name** box with hello Azure Active Directory credentials, in hello format `user_name@domain.com`.</span></span>  
   <span data-ttu-id="f38f7-121">![1mfa-universal-connect-user](./media/sql-database-ssms-mfa-auth/1mfa-universal-connect-user.png)</span><span class="sxs-lookup"><span data-stu-id="f38f7-121">![1mfa-universal-connect-user](./media/sql-database-ssms-mfa-auth/1mfa-universal-connect-user.png)</span></span>   
3. <span data-ttu-id="f38f7-122">Se si è connessi come utente guest, è necessario fare clic su **opzioni**e in hello **proprietà di connessione** della finestra di dialogo hello completo **ID tenant o nome di dominio Active Directory** casella.</span><span class="sxs-lookup"><span data-stu-id="f38f7-122">If you are connecting as a guest user, you must click **Options**, and on hello **Connection Property** dialog box, complete hello **AD domain name or tenant ID** box.</span></span> <span data-ttu-id="f38f7-123">Per altre informazioni, vedere [Autenticazione universale con database SQL e SQL Data Warehouse (supporto SSMS per MFA)](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="f38f7-123">For more information, see [Universal Authentication with SQL Database and SQL Data Warehouse (SSMS support for MFA)](sql-database-ssms-mfa-authentication.md).</span></span>
   <span data-ttu-id="f38f7-124">![mfa-tenant-ssms](./media/sql-database-ssms-mfa-auth/mfa-tenant-ssms.png)</span><span class="sxs-lookup"><span data-stu-id="f38f7-124">![mfa-tenant-ssms](./media/sql-database-ssms-mfa-auth/mfa-tenant-ssms.png)</span></span>   
4. <span data-ttu-id="f38f7-125">Come di consueto per Database SQL e SQL Data Warehouse, è necessario fare clic su **opzioni** e specificare il database di hello in hello **opzioni** la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="f38f7-125">As usual for SQL Database and SQL Data Warehouse, you must click **Options** and specify hello database on hello **Options** dialog box.</span></span> <span data-ttu-id="f38f7-126">(Se hello connesso l'utente è un utente guest (ad esempio joe@outlook.com), è necessario hello casella di controllo e aggiungere l'ID tenant o nome di dominio hello AD corrente come parte delle opzioni.</span><span class="sxs-lookup"><span data-stu-id="f38f7-126">(If hello connected user is a guest user ( i.e. joe@outlook.com), you must check hello box and add hello current AD domain name or tenant ID as part of Options.</span></span> <span data-ttu-id="f38f7-127">Vedere [Autenticazione universale con database SQL e SQL Data Warehouse (supporto SSMS per MFA)]()(sql-database-ssms-mfa-authentication.md.</span><span class="sxs-lookup"><span data-stu-id="f38f7-127">See [Universal Authentication with SQL Database and SQL Data Warehouse (SSMS support for MFA)]()(sql-database-ssms-mfa-authentication.md.</span></span> <span data-ttu-id="f38f7-128">Fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="f38f7-128">Then click **Connect**.</span></span>  
5. <span data-ttu-id="f38f7-129">Quando hello **Accedi tooyour account** viene visualizzata la finestra di dialogo, specificare account hello e una password dell'identità di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="f38f7-129">When hello **Sign in tooyour account** dialog box appears, provide hello account and password of your Azure Active Directory identity.</span></span> <span data-ttu-id="f38f7-130">Se un utente fa parte di un dominio federato con Azure AD, non è necessario specificare la password.</span><span class="sxs-lookup"><span data-stu-id="f38f7-130">No password is required if a user is part of a domain federated with Azure AD.</span></span>  
   <span data-ttu-id="f38f7-131">![2mfa-sign-in][2]</span><span class="sxs-lookup"><span data-stu-id="f38f7-131">![2mfa-sign-in][2]</span></span>  

   > [!NOTE]
   > <span data-ttu-id="f38f7-132">L'utente viene connesso in questa fase nel caso dell'autenticazione universale con un account che non richiede l'MFA.</span><span class="sxs-lookup"><span data-stu-id="f38f7-132">For Universal Authentication with an account that does not require MFA, you connect at this point.</span></span> <span data-ttu-id="f38f7-133">Per gli utenti che richiedono autenticazione a più fattori, continuare con hello alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="f38f7-133">For users requiring MFA, continue with hello following steps:</span></span>
   >  
   
6. <span data-ttu-id="f38f7-134">Potrebbero aprirsi due finestre di dialogo per la configurazione del metodo MFA.</span><span class="sxs-lookup"><span data-stu-id="f38f7-134">Two MFA setup dialog boxes might appear.</span></span> <span data-ttu-id="f38f7-135">Questa volta operazione dipende impostazione dell'amministratore di autenticazione a più fattori hello e pertanto può essere facoltativa.</span><span class="sxs-lookup"><span data-stu-id="f38f7-135">This one time operation depends on hello MFA administrator setting, and therefore may be optional.</span></span> <span data-ttu-id="f38f7-136">Per un dominio di autenticazione a più fattori abilitata questo passaggio è a volte definito (ad esempio, hello dominio richiede agli utenti toouse una smart card e pin).</span><span class="sxs-lookup"><span data-stu-id="f38f7-136">For an MFA enabled domain this step is sometimes pre-defined (for example, hello domain requires users toouse a smartcard and pin).</span></span>  
   ![3mfa-setup][3]  
7. <span data-ttu-id="f38f7-138">Hello secondo è possibile eseguire una sola volta la finestra di dialogo consente di dettagli hello tooselect del metodo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="f38f7-138">hello second possible one time dialog box allows you tooselect hello details of your authentication method.</span></span> <span data-ttu-id="f38f7-139">le opzioni possibili Hello vengono configurate dall'amministratore.</span><span class="sxs-lookup"><span data-stu-id="f38f7-139">hello possible options are configured by your administrator.</span></span>  
   ![4mfa-verify-1][4]  
8. <span data-ttu-id="f38f7-141">Hello Azure Active Directory invia hello tooyou informazioni di conferma.</span><span class="sxs-lookup"><span data-stu-id="f38f7-141">hello Azure Active Directory sends hello confirming information tooyou.</span></span> <span data-ttu-id="f38f7-142">Quando si riceve il codice di verifica hello, immetterla nell'hello **immettere il codice di verifica** casella e fare clic su **Accedi**.</span><span class="sxs-lookup"><span data-stu-id="f38f7-142">When you receive hello verification code, enter it into hello **Enter verification code** box, and click **Sign in**.</span></span>  
   <span data-ttu-id="f38f7-143">![5mfa-verify-2][5]</span><span class="sxs-lookup"><span data-stu-id="f38f7-143">![5mfa-verify-2][5]</span></span>  

<span data-ttu-id="f38f7-144">Al termine della procedura di verifica, di norma SSMS stabilisce la connessione se le credenziali sono valide e se il firewall lo consente.</span><span class="sxs-lookup"><span data-stu-id="f38f7-144">When verification is complete, SSMS connects normally presuming valid credentials and firewall access.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f38f7-145">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="f38f7-145">Next steps</span></span>

* <span data-ttu-id="f38f7-146">Per una panoramica dell'autenticazione a più fattori per il database SQL di Azure, vedere [Autenticazione universale con database SQL e SQL Data Warehouse (supporto SSMS per MFA)](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="f38f7-146">For an overview of Azure SQL Database multi-factor authentication, see Universal Authentication with [SQL Database and SQL Data Warehouse (SSMS support for MFA)](sql-database-ssms-mfa-authentication.md).</span></span>
* <span data-ttu-id="f38f7-147">Concedere ad altri utenti di accesso database tooyour: [SQL Database autenticazione e autorizzazione: concessione dell'accesso](sql-database-manage-logins.md)</span><span class="sxs-lookup"><span data-stu-id="f38f7-147">Grant others access tooyour database: [SQL Database Authentication and Authorization: Granting Access](sql-database-manage-logins.md)</span></span>  
<span data-ttu-id="f38f7-148">Verificare che altri utenti possono connettersi tramite firewall hello: [regola firewall di configurare un server a livello di Database SQL di Azure utilizzando hello portale di Azure](sql-database-configure-firewall-settings.md)</span><span class="sxs-lookup"><span data-stu-id="f38f7-148">Make sure others can connect through hello firewall: [Configure an Azure SQL Database server-level firewall rule using hello Azure portal](sql-database-configure-firewall-settings.md)</span></span>


[1]: ./media/sql-database-ssms-mfa-auth/1mfa-universal-connect.png
[2]: ./media/sql-database-ssms-mfa-auth/2mfa-sign-in.png
[3]: ./media/sql-database-ssms-mfa-auth/3mfa-setup.png
[4]: ./media/sql-database-ssms-mfa-auth/4mfa-verify-1.png
[5]: ./media/sql-database-ssms-mfa-auth/5mfa-verify-2.png

