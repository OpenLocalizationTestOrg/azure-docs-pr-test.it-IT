---
title: Azure RemoteApp come salva dati e impostazioni? | Documentazione Microsoft
description: Informazioni su come Azure RemoteApp salva i dati dell'utente utilizzando il disco del profilo utente.
services: remoteapp
documentationcenter: 
author: msmbaldwin
manager: mbaldwin
ms.assetid: e125af62-5c1a-4186-a238-52f537f7bb34
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: 4993bf507536659d7951e1552559cf0a6061d345
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="how-does-azure-remoteapp-save-user-data-and-settings"></a><span data-ttu-id="db2b4-104">Azure RemoteApp come salva dati e impostazioni?</span><span class="sxs-lookup"><span data-stu-id="db2b4-104">How does Azure RemoteApp save user data and settings?</span></span>
> [!IMPORTANT]
> <span data-ttu-id="db2b4-105">Azure RemoteApp verrà sospeso a partire dal 31 agosto 2017.</span><span class="sxs-lookup"><span data-stu-id="db2b4-105">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="db2b4-106">Per i dettagli, vedere l' [annuncio](https://go.microsoft.com/fwlink/?linkid=821148) .</span><span class="sxs-lookup"><span data-stu-id="db2b4-106">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="db2b4-107">Azure RemoteApp salva identità utente e personalizzazioni nei dispositivi e nelle sessioni.</span><span class="sxs-lookup"><span data-stu-id="db2b4-107">Azure RemoteApp saves user identity and customizations across devices and sessions.</span></span> <span data-ttu-id="db2b4-108">Tali dati utente vengono archiviati in un disco per ogni raccolta per utente, noto come disco del profilo utente (UPD).</span><span class="sxs-lookup"><span data-stu-id="db2b4-108">This user data is stored in a per-user per-collection disk, known as a user profile disk (UPD).</span></span> <span data-ttu-id="db2b4-109">Il disco segue l'utente e garantisce che l'utente disponga di un'esperienza coerente, indipendentemente da dove si registrano gli accessi.</span><span class="sxs-lookup"><span data-stu-id="db2b4-109">The disk follows the user and ensures the user has a consistent experience, regardless of where they sign in.</span></span>

<span data-ttu-id="db2b4-110">I dischi dei profili utente sono completamente trasparenti all'utente - gli utenti salvano i documenti nella loro cartella documenti (su quello che sembra essere un'unità locale) e modificano le impostazioni della loro applicazione come di consueto.</span><span class="sxs-lookup"><span data-stu-id="db2b4-110">User profile disks are completely transparent to the user — users save documents to their Documents folder (on what appears to be a local drive) and change their app settings as usual.</span></span> <span data-ttu-id="db2b4-111">Allo stesso tempo, tutte le impostazioni personali vengono mantenute quando ci si connette a RemoteApp di Azure da qualsiasi dispositivo.</span><span class="sxs-lookup"><span data-stu-id="db2b4-111">At the same time, all personal settings persist when connecting to Azure RemoteApp from any device.</span></span> <span data-ttu-id="db2b4-112">L'utente vede è i propri dati nella stessa posizione.</span><span class="sxs-lookup"><span data-stu-id="db2b4-112">All the user sees is their data in the same place.</span></span>

<span data-ttu-id="db2b4-113">Ogni UPD dispone di 50GB di archiviazione permanente e contiene entrambe le impostazioni applicazione e dati utente.</span><span class="sxs-lookup"><span data-stu-id="db2b4-113">Each UPD has 50GB of persistent storage and contains both user data and application settings.</span></span> 

<span data-ttu-id="db2b4-114">Leggere le informazioni specifiche sui dati del profilo utente.</span><span class="sxs-lookup"><span data-stu-id="db2b4-114">Read on for specifics on user profile data.</span></span>

> [!NOTE]
> <span data-ttu-id="db2b4-115">È necessario disabilitare il disco del profilo utente?</span><span class="sxs-lookup"><span data-stu-id="db2b4-115">Need to disable the UPD?</span></span> <span data-ttu-id="db2b4-116">È ora possibile eseguire questa operazione: per informazioni dettagliate, consultare il post di blog di Pavithra relativo alla [disabilitazione dei dischi dei profili utente in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/).</span><span class="sxs-lookup"><span data-stu-id="db2b4-116">You can do that now - check out Pavithra's blog post, [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/), for details.</span></span>
> 
> 

## <a name="how-can-an-admin-get-to-the-data"></a><span data-ttu-id="db2b4-117">Come può un amministratore accedere ai dati?</span><span class="sxs-lookup"><span data-stu-id="db2b4-117">How can an admin get to the data?</span></span>
<span data-ttu-id="db2b4-118">Se è necessario accedere ai dati per uno degli utenti, per il ripristino di emergenza o se l'utente lascia la società, contattare il supporto tecnico di Azure e fornire le informazioni di sottoscrizione per la raccolta e l'identità dell'utente.</span><span class="sxs-lookup"><span data-stu-id="db2b4-118">If you need to access the data for one of your users (for disaster recovery or if the user leaves the company), contact Azure Support and provide the subscription information for the collection and the user identity.</span></span> <span data-ttu-id="db2b4-119">Il team di Azure RemoteApp fornirà un URL per il disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="db2b4-119">The Azure RemoteApp team will provide you a URL to the VHD.</span></span> <span data-ttu-id="db2b4-120">Scaricare il disco rigido virtuale e recuperare i documenti o i file necessari.</span><span class="sxs-lookup"><span data-stu-id="db2b4-120">Download that VHD and retrieve any documents or files you need.</span></span> <span data-ttu-id="db2b4-121">Si noti che il disco rigido virtuale è di 50GB, pertanto ci può volere del tempo per scaricarlo.</span><span class="sxs-lookup"><span data-stu-id="db2b4-121">Note that the VHD is 50GB, so it will take a bit to download it.</span></span>

## <a name="is-the-data-backed-up"></a><span data-ttu-id="db2b4-122">Si esegue il backup dei dati?</span><span class="sxs-lookup"><span data-stu-id="db2b4-122">Is the data backed up?</span></span>
<span data-ttu-id="db2b4-123">Sì, si salva una copia di backup dei dati utente per ogni posizione geografica.</span><span class="sxs-lookup"><span data-stu-id="db2b4-123">Yes, we save a backup of the user data per geographic location.</span></span> <span data-ttu-id="db2b4-124">I dati sono di sola lettura ed è possibile accedervi allo stesso modo dei dati normali (contattare RemoteApp di Azure per ottenerli), se il data center principale è attivo.</span><span class="sxs-lookup"><span data-stu-id="db2b4-124">The data is read-only and can be accessed in the same way as the regular data would be (contact Azure RemoteApp to get it), if the primary data center is down.</span></span> <span data-ttu-id="db2b4-125">I dati vengono copiati in tempo reale nel percorso di backup e non si mantengono copie delle diverse versioni.</span><span class="sxs-lookup"><span data-stu-id="db2b4-125">The data is copied real-time to the backup location and we do not keep copies of different versions.</span></span> <span data-ttu-id="db2b4-126">Pertanto, nel danneggiamento dei dati, non sarà possibile ripristinare una versione valida nota in precedenza ma se il data center principale non è attivo, sarà possibile ottenere dati utente da un altro percorso.</span><span class="sxs-lookup"><span data-stu-id="db2b4-126">So, on data corruption, we will not be able to restore it to a previously known good version but if the primary data center is down, you will be able to get user data from the other location.</span></span>

## <a name="how-do-users-see-the-upd-on-the-server-side"></a><span data-ttu-id="db2b4-127">Gli utenti come visualizzano il UPD sul lato server?</span><span class="sxs-lookup"><span data-stu-id="db2b4-127">How do users see the UPD on the server side?</span></span>
<span data-ttu-id="db2b4-128">Ogni utente dispone di proprie directory nel server associate al proprio UPD: c:\Users\username.</span><span class="sxs-lookup"><span data-stu-id="db2b4-128">Each user will have their own directory on the server that maps to their UPD: c:\Users\username.</span></span>

## <a name="whats-the-best-way-to-use-outlook-and-upd"></a><span data-ttu-id="db2b4-129">Qual’è il miglior modo di utilizzare Outlook e UPD?</span><span class="sxs-lookup"><span data-stu-id="db2b4-129">What's the best way to use Outlook and UPD?</span></span>
<span data-ttu-id="db2b4-130">RemoteApp di Azure consente di salvare lo stato di Outlook (cassette postali, file PST) tra le sessioni.</span><span class="sxs-lookup"><span data-stu-id="db2b4-130">Azure RemoteApp saves the Outlook state (mailboxes, PSTs) between sessions.</span></span> <span data-ttu-id="db2b4-131">A tale scopo, è necessario che PST sia archiviato nei dati di profilo utente (c:\utenti\<nomeutente>).</span><span class="sxs-lookup"><span data-stu-id="db2b4-131">To enable this, we need the PST to be stored in the user profile data (c:\users\<username>).</span></span> <span data-ttu-id="db2b4-132">Questo è il percorso predefinito per i dati, quindi fino a quando non si modifica la posizione, i dati verranno mantenuti tra le sessioni.</span><span class="sxs-lookup"><span data-stu-id="db2b4-132">This is the default location for the data, so as long as you do not change the location, the data will persist between sessions.</span></span>

<span data-ttu-id="db2b4-133">È inoltre consigliabile utilizzare la modalità "cache" in Outlook e utilizzare la modalità "server/online" per la ricerca.</span><span class="sxs-lookup"><span data-stu-id="db2b4-133">We also recommend that you use "cached" mode in Outlook and use "server/online" mode for searching.</span></span>

<span data-ttu-id="db2b4-134">Per altre informazioni sull'uso di Outlook e Azure RemoteApp, consultare [questo articolo](remoteapp-outlook.md) .</span><span class="sxs-lookup"><span data-stu-id="db2b4-134">Check out [this article](remoteapp-outlook.md) for more information on using Outlook and Azure RemoteApp.</span></span>

## <a name="what-about-redirection"></a><span data-ttu-id="db2b4-135">Come funziona il reindirizzamento?</span><span class="sxs-lookup"><span data-stu-id="db2b4-135">What about redirection?</span></span>
<span data-ttu-id="db2b4-136">È possibile configurare Azure RemoteApp per consentire agli utenti di accedere ai dispositivi locali mediante il [reindirizzamento](remoteapp-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="db2b4-136">You can configure Azure RemoteApp to let users access local devices by setting up [redirection](remoteapp-redirection.md).</span></span> <span data-ttu-id="db2b4-137">I dispositivi locali saranno in grado di accedere ai dati sull’UPD.</span><span class="sxs-lookup"><span data-stu-id="db2b4-137">Local devices will then be able to access the data on the UPD.</span></span>

## <a name="can-i-use-my-upd-as-a-network-share"></a><span data-ttu-id="db2b4-138">È possibile utilizzare l’UPD come condivisione di rete?</span><span class="sxs-lookup"><span data-stu-id="db2b4-138">Can I use my UPD as a network share?</span></span>
<span data-ttu-id="db2b4-139">No.</span><span class="sxs-lookup"><span data-stu-id="db2b4-139">No.</span></span> <span data-ttu-id="db2b4-140">UPDs non può essere utilizzato come una condivisione di rete.</span><span class="sxs-lookup"><span data-stu-id="db2b4-140">UPDs cannot be used as a network share.</span></span> <span data-ttu-id="db2b4-141">Un UPD è disponibile per l’utente solo quando l'utente è attivamente connesso a RemoteApp di Azure.</span><span class="sxs-lookup"><span data-stu-id="db2b4-141">A UPD is only available to the user when the user is actively connected to Azure RemoteApp.</span></span>

## <a name="if-i-delete-a-user-from-a-collection-is-their-upd-deleted"></a><span data-ttu-id="db2b4-142">Se si elimina un utente da una raccolta, viene eliminato anche il suo UPD?</span><span class="sxs-lookup"><span data-stu-id="db2b4-142">If I delete a user from a collection, is their UPD deleted?</span></span>
<span data-ttu-id="db2b4-143">No, quando si elimina un utente, non si elimina automaticamente l’UPD - memorizziamo i dati fino a quando non si elimina la raccolta.</span><span class="sxs-lookup"><span data-stu-id="db2b4-143">No, when you delete a user, we do not automatically delete the UPD - instead, we store the data until you delete the collection.</span></span> <span data-ttu-id="db2b4-144">90 giorni dopo l'eliminazione della raccolta, eliminiamo tutti gli UPD.</span><span class="sxs-lookup"><span data-stu-id="db2b4-144">90 days after you delete the collection, we delete all UPDs.</span></span> 

<span data-ttu-id="db2b4-145">Se si desidera eliminare un UPD da una raccolta, contattare RemoteApp di Azure - possiamo eliminare l’UPD per conto degli utenti.</span><span class="sxs-lookup"><span data-stu-id="db2b4-145">If you need to delete a UPD from a collection, contact Azure RemoteApp - we can delete UPD from our side.</span></span>

## <a name="can-i-access-my-users-upds-either-current-or-deleted-users"></a><span data-ttu-id="db2b4-146">È possibile accedere agli UPD dei propri utenti (utenti correnti o eliminati)?</span><span class="sxs-lookup"><span data-stu-id="db2b4-146">Can I access my users' UPDs (either current or deleted users)?</span></span>
<span data-ttu-id="db2b4-147">Sì, se si contatta [Azure RemoteApp](mailto:remoteappforum@microsoft.com), viene fornito un URL per l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="db2b4-147">Yes, if you contact [Azure RemoteApp](mailto:remoteappforum@microsoft.com), we can set you up with a URL to access the data.</span></span> <span data-ttu-id="db2b4-148">Per scaricare i dati o file dal UPD prima della scadenza dell'accesso, si avranno a disposizione circa 10 ore.</span><span class="sxs-lookup"><span data-stu-id="db2b4-148">You'll have about 10 hours to download any data or files from the UPD before the access expires.</span></span>

## <a name="are-upds-available-offline"></a><span data-ttu-id="db2b4-149">Gli UPD sono disponibili offline?</span><span class="sxs-lookup"><span data-stu-id="db2b4-149">Are UPDs available offline?</span></span>
<span data-ttu-id="db2b4-150">Attualmente non viene fornito l'accesso offline agli UPD, oltre alle 10 ore di accesso descritte in precedenza.</span><span class="sxs-lookup"><span data-stu-id="db2b4-150">Right now we do not provide offline access to UPDs, beyond the 10 hour access window described above.</span></span> <span data-ttu-id="db2b4-151">Ciò significa che non è attualmente disponibile un modo per fornire un accesso per lunghi tempi per poter completare le attività più complesse, come l’esecuzione di un software antivirus nei UPD o l'accesso ai dati per un controllo.</span><span class="sxs-lookup"><span data-stu-id="db2b4-151">This means that we do not currently have a way to provide you with access for long enough to complete more complicated tasks, like running anti-virus software on the UPDs or accessing data for an audit.</span></span>

## <a name="do-registry-key-settings-persist"></a><span data-ttu-id="db2b4-152">Vengono mantenute le impostazioni della chiave del Registro di sistema?</span><span class="sxs-lookup"><span data-stu-id="db2b4-152">Do registry key settings persist?</span></span>
<span data-ttu-id="db2b4-153">Sì, qualsiasi elemento scritto in HKEY_Current_User fa parte del UPD.</span><span class="sxs-lookup"><span data-stu-id="db2b4-153">Yes, anything written to HKEY_Current_User is part of the UPD.</span></span>

## <a name="can-i-disable-upds-for-a-collection"></a><span data-ttu-id="db2b4-154">È possibile disattivare gli UPD per una raccolta?</span><span class="sxs-lookup"><span data-stu-id="db2b4-154">Can I disable UPDs for a collection?</span></span>
<span data-ttu-id="db2b4-155">Sì, è possibile chiedere ad Azure RemoteApp di disabilitare gli UPD per una sottoscrizione, ma non è possibile eseguirla manualmente.</span><span class="sxs-lookup"><span data-stu-id="db2b4-155">Yes, you can ask Azure RemoteApp to disable UPDs for a subscription, but you cannot do that yourself.</span></span> <span data-ttu-id="db2b4-156">Ciò significa che gli UPD verranno disabilitati per tutte le raccolte nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="db2b4-156">This means that UPDs will be disabled for all collections in the subscription.</span></span>

<span data-ttu-id="db2b4-157">È consigliabile disabilitare i dischi del profilo utente in una delle situazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="db2b4-157">You might want to disable UPDs in any of the following situations:</span></span> 

* <span data-ttu-id="db2b4-158">È necessario disporre di accesso e controllo completi dei dati utente (a scopo di controllo e verifica, ad esempio negli istituti finanziari).</span><span class="sxs-lookup"><span data-stu-id="db2b4-158">You need complete access and control of user data (for audit and review purposes such as financial institutions).</span></span>
* <span data-ttu-id="db2b4-159">Si dispone di soluzioni locali di gestione del profilo utente di terze parti e si desidera continuare a usarle nella distribuzione di Azure RemoteApp aggiunta al dominio.</span><span class="sxs-lookup"><span data-stu-id="db2b4-159">You have 3rd-party user profile management solutions on-premises and want to continue using them in your domain-joined Azure RemoteApp deployment.</span></span> <span data-ttu-id="db2b4-160">Questa opzione richiede il caricamento dell'agente del profilo nell'immagine gold.</span><span class="sxs-lookup"><span data-stu-id="db2b4-160">This would require the profile agent to be loaded into the gold image.</span></span> 
* <span data-ttu-id="db2b4-161">Non è necessaria una risorsa di archiviazione di dati locale oppure tutti i dati sono archiviati nel cloud o in una condivisione file e si vuole controllare il salvataggio dei dati in modalità locale tramite Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="db2b4-161">You don’t need any local data storage or you have all data in the cloud or file share and would like to control saving of data locally using Azure RemoteApp.</span></span>

<span data-ttu-id="db2b4-162">Per altre informazioni, vedere il post di blog relativo alla [disabilitazione dei dischi dei profili utente in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/).</span><span class="sxs-lookup"><span data-stu-id="db2b4-162">See  [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/) for more information.</span></span>

## <a name="can-i-restrict-users-from-saving-data-to-the-system-drive"></a><span data-ttu-id="db2b4-163">È possibile limitare gli utenti nel salvataggio dei dati nell'unità di sistema?</span><span class="sxs-lookup"><span data-stu-id="db2b4-163">Can I restrict users from saving data to the system drive?</span></span>
<span data-ttu-id="db2b4-164">Sì, ma è necessario impostarlo nell'immagine modello prima di creare la raccolta.</span><span class="sxs-lookup"><span data-stu-id="db2b4-164">Yes, but you'll need to set that up in the template image before you create the collection.</span></span> <span data-ttu-id="db2b4-165">Per bloccare l'accesso all'unità del sistema, attenersi alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="db2b4-165">Use the following steps to block access to the system drive:</span></span>

1. <span data-ttu-id="db2b4-166">Eseguire **gpedit.msc** nell'immagine modello.</span><span class="sxs-lookup"><span data-stu-id="db2b4-166">Run **gpedit.msc** on the template image.</span></span>
2. <span data-ttu-id="db2b4-167">Passare a **Configurazione utente > Modelli amministrativi > Componenti di Windows > Esplora**.</span><span class="sxs-lookup"><span data-stu-id="db2b4-167">Navigate to **User Configuration > Administrative Templates > Windows Components > Explorer**.</span></span>
3. <span data-ttu-id="db2b4-168">Selezionare le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="db2b4-168">Select the following options:</span></span>
   * <span data-ttu-id="db2b4-169">**Nascondi le unità specificate in risorse del Computer**</span><span class="sxs-lookup"><span data-stu-id="db2b4-169">**Hide these specified drives in My Computer**</span></span>
   * <span data-ttu-id="db2b4-170">**Impedire l'accesso alle unità dal Computer locale**</span><span class="sxs-lookup"><span data-stu-id="db2b4-170">**Prevent access to drives from My Computer**</span></span>

## <a name="can-i-seed-upds-i-want-to-put-some-data-in-the-upd-thats-available-the-first-time-the-user-signs-in"></a><span data-ttu-id="db2b4-171">È possibile inizializzare gli UPD?</span><span class="sxs-lookup"><span data-stu-id="db2b4-171">Can I seed UPDs?</span></span> <span data-ttu-id="db2b4-172">Desidero inserire dei dati nell’UPD disponibile la prima volta che l'utente accede.</span><span class="sxs-lookup"><span data-stu-id="db2b4-172">I want to put some data in the UPD that's available the first time the user signs in.</span></span>
<span data-ttu-id="db2b4-173">Sì, quando si crea l'immagine modello, è possibile aggiungere informazioni al profilo predefinito.</span><span class="sxs-lookup"><span data-stu-id="db2b4-173">Yes, when you create the template image, you can add information to the default profile.</span></span> <span data-ttu-id="db2b4-174">Tale informazione viene quindi aggiunta al UPD.</span><span class="sxs-lookup"><span data-stu-id="db2b4-174">That information is then added to the UPD.</span></span>

## <a name="can-i-change-the-size-of-the-upd-depending-on-how-much-data-i-want-to-store"></a><span data-ttu-id="db2b4-175">È possibile modificare le dimensioni dell’UPD a seconda della quantità di dati si desidera archiviare?</span><span class="sxs-lookup"><span data-stu-id="db2b4-175">Can I change the size of the UPD depending on how much data I want to store?</span></span>
<span data-ttu-id="db2b4-176">No, tutti gli UPD hanno 50 GB di spazio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="db2b4-176">No, all UPDs have 50 GB of storage.</span></span> <span data-ttu-id="db2b4-177">Se si desidera archiviare diverse quantità di dati, procedere come segue:</span><span class="sxs-lookup"><span data-stu-id="db2b4-177">If you want to store different amounts of data, try the following:</span></span>

1. <span data-ttu-id="db2b4-178">Disabilitare gli UPD per la raccolta.</span><span class="sxs-lookup"><span data-stu-id="db2b4-178">Disable UPDs for the collection.</span></span>
2. <span data-ttu-id="db2b4-179">Configurare una condivisione di file per gli utenti.</span><span class="sxs-lookup"><span data-stu-id="db2b4-179">Set up a file share for users to access.</span></span>
3. <span data-ttu-id="db2b4-180">Caricare la condivisione file utilizzando uno script di avvio.</span><span class="sxs-lookup"><span data-stu-id="db2b4-180">Load the file share by using a startup script.</span></span> <span data-ttu-id="db2b4-181">Per ulteriori informazioni sugli script di avvio in Azure RemoteApp, vedere di seguito.</span><span class="sxs-lookup"><span data-stu-id="db2b4-181">See below for details on startup scripts in Azure RemoteApp.</span></span>
4. <span data-ttu-id="db2b4-182">Indirizzare gli utenti al salvataggio di tutti i dati nella condivisione file.</span><span class="sxs-lookup"><span data-stu-id="db2b4-182">Direct users to save all data to the file share.</span></span>

## <a name="how-do-i-run-a-startup-script-in-azure-remoteapp"></a><span data-ttu-id="db2b4-183">Come eseguire uno script di avvio in Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="db2b4-183">How do I run a startup script in Azure RemoteApp?</span></span>
<span data-ttu-id="db2b4-184">Se si desidera eseguire uno script di avvio, iniziare creando un'attività pianificata nell'immagine modello che si intende utilizzare per la raccolta.</span><span class="sxs-lookup"><span data-stu-id="db2b4-184">If you want to run a startup script, start by creating a scheduled task in the template image you are going to use for the collection.</span></span> <span data-ttu-id="db2b4-185">(Eseguire tale operazione *prima* di eseguire sysprep.)</span><span class="sxs-lookup"><span data-stu-id="db2b4-185">(Do this *before* you run sysprep.)</span></span> 

![Creare un'attività di sistema](./media/remoteapp-upd/upd1.png)

![Creare un'attività di sistema che viene eseguita quando un utente accede](./media/remoteapp-upd/upd2.png)

<span data-ttu-id="db2b4-188">Nella sezione Sicurezza della scheda **Generale** modificare l'**Account utente** in "BUILTIN\Users."</span><span class="sxs-lookup"><span data-stu-id="db2b4-188">On the **General** tab, be sure to change the **User Account** under Security to "BUILTIN\Users."</span></span>

![Modificare l'account utente in un gruppo](./media/remoteapp-upd/upd4.png)

<span data-ttu-id="db2b4-190">L'attività pianificata avvierà lo script di avvio, utilizzando le credenziali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="db2b4-190">The scheduled task will launch your startup script, using the user's credentials.</span></span> <span data-ttu-id="db2b4-191">Pianificare l'attività affinché venga eseguita ogni volta che un utente accede.</span><span class="sxs-lookup"><span data-stu-id="db2b4-191">Schedule the task to run every a time a user logs on.</span></span>

![Impostare il trigger per l'attività come "al momento dell'accesso"](./media/remoteapp-upd/upd3.png)

<span data-ttu-id="db2b4-193">È inoltre possibile usare [gli script di avvio basati su criteri di gruppo](https://technet.microsoft.com/library/cc779329%28v=ws.10%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="db2b4-193">You can also use [Group Policy-based startup scripts](https://technet.microsoft.com/library/cc779329%28v=ws.10%29.aspx).</span></span> 

## <a name="what-about-placing-a-startup-script-in-the-start-menu-would-that-work"></a><span data-ttu-id="db2b4-194">Come funziona l'inserimento di uno script di avvio nel menu Start?</span><span class="sxs-lookup"><span data-stu-id="db2b4-194">What about placing a startup script in the Start menu?</span></span> <span data-ttu-id="db2b4-195">Funziona?</span><span class="sxs-lookup"><span data-stu-id="db2b4-195">Would that work?</span></span>
<span data-ttu-id="db2b4-196">In altre parole, è possibile creare un file con estensione .bat che esegue uno script di configurazione, salvarlo nella cartella c:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp e eseguire quindi lo script ogni volta che un utente avvia una sessione di RemoteApp?</span><span class="sxs-lookup"><span data-stu-id="db2b4-196">In other words, can I create a .bat file that runs a config window script and save it to the c:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp folder, and then have that script run whenever a user starts a RemoteApp session?</span></span>

<span data-ttu-id="db2b4-197">No, tale opzione non è supportata da RemoteApp di Azure, che utilizza host sessione Desktop remoto che inoltre non supporta gli script di avvio nel menu Start.</span><span class="sxs-lookup"><span data-stu-id="db2b4-197">No, that's not supported with Azure RemoteApp, which uses RDSH, which also does not support startup scripts in the Start menu.</span></span>

## <a name="can-i-use-mstscexe-the-remote-desktop-program-to-configure-logon-scripts"></a><span data-ttu-id="db2b4-198">È possibile utilizzare mstsc.exe (il programma Desktop remoto) per configurare gli script di accesso?</span><span class="sxs-lookup"><span data-stu-id="db2b4-198">Can I use mstsc.exe (the Remote Desktop program) to configure logon scripts?</span></span>
<span data-ttu-id="db2b4-199">No, tale opzione non è supportata da Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="db2b4-199">Nope, not supported by Azure RemoteApp.</span></span>

## <a name="can-i-store-data-on-the-vm-locally"></a><span data-ttu-id="db2b4-200">È possibile archiviare dati sulla VM in locale?</span><span class="sxs-lookup"><span data-stu-id="db2b4-200">Can I store data on the VM locally?</span></span>
<span data-ttu-id="db2b4-201">NO, i dati archiviati in un punto qualsiasi della VM diverso dall’UPD andranno persi.</span><span class="sxs-lookup"><span data-stu-id="db2b4-201">NO, data stored anywhere on the VM other than in the UPD will be lost.</span></span> <span data-ttu-id="db2b4-202">È molto probabile l'utente non riceva la stessa VM al successivo accesso ad Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="db2b4-202">There is a high chance the user will not get the same VM the next time that they sign into Azure RemoteApp.</span></span> <span data-ttu-id="db2b4-203">Non viene mantenuta la persistenza utente-VM, pertanto l'utente non eseguirà l'accesso alla stessa VM e i dati andranno persi.</span><span class="sxs-lookup"><span data-stu-id="db2b4-203">We do not maintain user-VM persistence, so the user will not sign into the same VM, and the data will be lost.</span></span> <span data-ttu-id="db2b4-204">Inoltre, quando si aggiorna la raccolta, le VM esistenti vengono sostituite con un nuovo set di VM, pertanto i dati archiviati sulla stessa VM andranno persi.</span><span class="sxs-lookup"><span data-stu-id="db2b4-204">Additionally, when we update the collection, the existing VMs are replaced with a new set of VMs - that means any data stored on the VM itself is lost.</span></span> <span data-ttu-id="db2b4-205">È consigliabile archiviare i dati nell'UPD, in un servizio di archiviazione condivisa come File di Azure, in un file server all'interno di una rete virtuale o nel cloud con un sistema di archiviazione cloud come DropBox.</span><span class="sxs-lookup"><span data-stu-id="db2b4-205">The recommendation is to store data in the UPD, shared storage like Azure Files, a file server inside a VNET, or on the cloud using a cloud storage system like DropBox.</span></span>

## <a name="how-do-i-mount-an-azure-file-share-on-a-vm-using-powershell"></a><span data-ttu-id="db2b4-206">Come montare una condivisione di File di Azure in una VM, tramite PowerShell</span><span class="sxs-lookup"><span data-stu-id="db2b4-206">How do I mount an Azure File share on a VM, using PowerShell?</span></span>
<span data-ttu-id="db2b4-207">È possibile utilizzare il cmdlet di Net-PSDrive per montare l'unità, come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="db2b4-207">You can use the Net-PSDrive cmdlet to mount the drive, as follows:</span></span>

    New-PSDrive -Name <drive-name> -PSProvider FileSystem -Root \\<storage-account-name>.file.core.windows.net\<share-name> -Credential :<storage-account-name>


<span data-ttu-id="db2b4-208">È inoltre possibile salvare le credenziali eseguendo le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="db2b4-208">You can also save your credentials by running the following:</span></span>

    cmdkey /add:<storage-account-name>.file.core.windows.net /user:<storage-account-name> /pass:<storage-account-key>


<span data-ttu-id="db2b4-209">In questo modo è possibile ignorare il parametro - Credential nel cmdlet New-PSDrive.</span><span class="sxs-lookup"><span data-stu-id="db2b4-209">That lets you skip the -Credential parameter in the New-PSDrive cmdlet.</span></span>

