---
title: Panoramica del modello di licenza aaaWidevine | Documenti Microsoft
description: In questo argomento fornisce una panoramica di un modello di licenza Widevine utilizzati licenze Widevine tooconfigure.
author: juliako
manager: cfowler
editor: 
services: media-services
documentationcenter: 
ms.assetid: 0e6f1f05-7ed6-4ed6-82a0-0cc2182b075a
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: 67a6ae38cf3d3c21e1b7282aef15f79b21776414
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="widevine-license-template-overview"></a><span data-ttu-id="f7863-103">Panoramica del modello di licenza Widevine</span><span class="sxs-lookup"><span data-stu-id="f7863-103">Widevine license template overview</span></span>
## <a name="overview"></a><span data-ttu-id="f7863-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="f7863-104">Overview</span></span>
<span data-ttu-id="f7863-105">Servizi multimediali di Azure consente ora licenze Widevine tooconfigure e richiesta.</span><span class="sxs-lookup"><span data-stu-id="f7863-105">Azure Media Services now enables you tooconfigure and request Widevine licenses.</span></span> <span data-ttu-id="f7863-106">Quando si tenta di lettore dell'utente finale hello tooplay il contenuto protetto Widevine, una richiesta è inviato toohello licenza recapito servizio tooobtain una licenza.</span><span class="sxs-lookup"><span data-stu-id="f7863-106">When hello end user player tries tooplay your Widevine protected content, a request is sent toohello license delivery service tooobtain a license.</span></span> <span data-ttu-id="f7863-107">Se il servizio licenze hello Approva richiesta di hello, che possono essere emessi licenza hello client toohello inviato e può essere utilizzato toodecrypt e play hello contenuto specificato.</span><span class="sxs-lookup"><span data-stu-id="f7863-107">If hello license service approves hello request, it issues hello license which is sent toohello client and can be used toodecrypt and play hello specified content.</span></span>

<span data-ttu-id="f7863-108">La richiesta per la licenza Widevine è formattata come messaggio JSON.</span><span class="sxs-lookup"><span data-stu-id="f7863-108">Widevine license request is formatted as a JSON message.</span></span>  

>[!NOTE]
> <span data-ttu-id="f7863-109">È possibile scegliere toocreate un messaggio vuoto con nessun valori solo "{}" e verrà creato un modello di licenza con tutti i valori predefiniti.</span><span class="sxs-lookup"><span data-stu-id="f7863-109">You can choose toocreate an empty message with no values just "{}" and a license template will be created with all defaults.</span></span> <span data-ttu-id="f7863-110">valore predefinito di Hello funziona per la maggior parte dei casi.</span><span class="sxs-lookup"><span data-stu-id="f7863-110">hello default works for most cases.</span></span> <span data-ttu-id="f7863-111">Ad esempio, per scenari di distribuzione licenze basati su MS che devono essere sempre predefiniti.</span><span class="sxs-lookup"><span data-stu-id="f7863-111">For example, for MS based license delivery scenarios that should always be default.</span></span> <span data-ttu-id="f7863-112">Se è necessario tooset hello "provider" e "content_id" valori, un provider deve corrispondere alle credenziali di Google Widevine.</span><span class="sxs-lookup"><span data-stu-id="f7863-112">If you do need tooset hello "provider" and "content_id" values, a provider must match Google's Widevine credentials.</span></span>

    {  
       “payload”:“<license challenge>”,
       “content_id”: “<content id>” 
       “provider”: ”<provider>”
       “allowed_track_types”:“<types>”,
       “content_key_specs”:[  
          {  
             “track_type”:“<track type 1>”
          },
          {  
             “track_type”:“<track type 2>”
          },
          …
       ],
       “policy_overrides”:{  
          “can_play”:<can play>,
          “can persist”:<can persist>,
          “can_renew”:<can renew>,
          “rental_duration_seconds”:<rental duration>,
          “playback_duration_seconds”:<playback duration>,
          “license_duration_seconds”:<license duration>,
          “renewal_recovery_duration_seconds”:<renewal recovery duration>,
          “renewal_server_url”:”<renewal server url>”,
          “renewal_delay_seconds”:<renewal delay>,
          “renewal_retry_interval_seconds”:<renewal retry interval>,
          “renew_with_usage”:<renew with usage>
       }
    }

## <a name="json-message"></a><span data-ttu-id="f7863-113">Messaggio JSON</span><span class="sxs-lookup"><span data-stu-id="f7863-113">JSON message</span></span>
| <span data-ttu-id="f7863-114">Nome</span><span class="sxs-lookup"><span data-stu-id="f7863-114">Name</span></span> | <span data-ttu-id="f7863-115">Valore</span><span class="sxs-lookup"><span data-stu-id="f7863-115">Value</span></span> | <span data-ttu-id="f7863-116">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f7863-116">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f7863-117">payload</span><span class="sxs-lookup"><span data-stu-id="f7863-117">payload</span></span> |<span data-ttu-id="f7863-118">Stringa con codifica Base64</span><span class="sxs-lookup"><span data-stu-id="f7863-118">Base64 encoded string</span></span> |<span data-ttu-id="f7863-119">richiesta di licenza Hello inviato da un client.</span><span class="sxs-lookup"><span data-stu-id="f7863-119">hello license request sent by a client.</span></span> |
| <span data-ttu-id="f7863-120">content_id</span><span class="sxs-lookup"><span data-stu-id="f7863-120">content_id</span></span> |<span data-ttu-id="f7863-121">Stringa con codifica Base64</span><span class="sxs-lookup"><span data-stu-id="f7863-121">Base64 encoded string</span></span> |<span data-ttu-id="f7863-122">Identificatore utilizzato tooderive KeyId(s) e contenuto delle chiavi per ogni content_key_specs.track_type.</span><span class="sxs-lookup"><span data-stu-id="f7863-122">Identifier used tooderive KeyId(s) and Content Key(s) for each content_key_specs.track_type.</span></span> |
| <span data-ttu-id="f7863-123">provider</span><span class="sxs-lookup"><span data-stu-id="f7863-123">provider</span></span> |<span data-ttu-id="f7863-124">string</span><span class="sxs-lookup"><span data-stu-id="f7863-124">string</span></span> |<span data-ttu-id="f7863-125">Toolook utilizzati chiavi simmetriche e criteri.</span><span class="sxs-lookup"><span data-stu-id="f7863-125">Used toolook up content keys and policies.</span></span> <span data-ttu-id="f7863-126">Se viene usata la distribuzione delle chiavi MS per la distribuzione di licenze Widevine, questo parametro viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="f7863-126">If MS key delivery is used for Widevine license delivery, this parameter is ignored.</span></span> |
| <span data-ttu-id="f7863-127">policy_name</span><span class="sxs-lookup"><span data-stu-id="f7863-127">policy_name</span></span> |<span data-ttu-id="f7863-128">string</span><span class="sxs-lookup"><span data-stu-id="f7863-128">string</span></span> |<span data-ttu-id="f7863-129">Nome di un criterio precedentemente registrato.</span><span class="sxs-lookup"><span data-stu-id="f7863-129">Name of a previously registered policy.</span></span> <span data-ttu-id="f7863-130">Facoltativo</span><span class="sxs-lookup"><span data-stu-id="f7863-130">Optional</span></span> |
| <span data-ttu-id="f7863-131">allowed_track_types</span><span class="sxs-lookup"><span data-stu-id="f7863-131">allowed_track_types</span></span> |<span data-ttu-id="f7863-132">enum</span><span class="sxs-lookup"><span data-stu-id="f7863-132">enum</span></span> |<span data-ttu-id="f7863-133">SD_ONLY o SD_HD.</span><span class="sxs-lookup"><span data-stu-id="f7863-133">SD_ONLY or SD_HD.</span></span> <span data-ttu-id="f7863-134">Consente di specificare le chiavi simmetriche da includere in una licenza</span><span class="sxs-lookup"><span data-stu-id="f7863-134">Controls which content keys should be included in a license</span></span> |
| <span data-ttu-id="f7863-135">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="f7863-135">content_key_specs</span></span> |<span data-ttu-id="f7863-136">Matrice di strutture JSON. Vedere la sezione **Specifiche della chiave simmetrica** riportata di seguito</span><span class="sxs-lookup"><span data-stu-id="f7863-136">array of JSON structures, see **Content Key Specs** below</span></span> |<span data-ttu-id="f7863-137">Un controllo con granularità maggiore sul contenuto delle chiavi tooreturn.</span><span class="sxs-lookup"><span data-stu-id="f7863-137">A finer grained control on what content keys tooreturn.</span></span> <span data-ttu-id="f7863-138">Per informazioni, vedere la sezione Specifiche della chiave simmetrica riportata di seguito.</span><span class="sxs-lookup"><span data-stu-id="f7863-138">See Content Key Spec below for details.</span></span>  <span data-ttu-id="f7863-139">È possibile specificare solo uno dei valori allowed_track_types e content_key_specs.</span><span class="sxs-lookup"><span data-stu-id="f7863-139">Only one of allowed_track_types and content_key_specs can be specified.</span></span> |
| <span data-ttu-id="f7863-140">use_policy_overrides_exclusively</span><span class="sxs-lookup"><span data-stu-id="f7863-140">use_policy_overrides_exclusively</span></span> |<span data-ttu-id="f7863-141">boolean.</span><span class="sxs-lookup"><span data-stu-id="f7863-141">boolean.</span></span> <span data-ttu-id="f7863-142">true o false</span><span class="sxs-lookup"><span data-stu-id="f7863-142">true or false</span></span> |<span data-ttu-id="f7863-143">Usare gli attributi di criteri specificati in policy_overrides e omettere tutti i criteri memorizzati in precedenza.</span><span class="sxs-lookup"><span data-stu-id="f7863-143">Use policy attributes specified by policy_overrides and omit all previously stored policy.</span></span> |
| <span data-ttu-id="f7863-144">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-144">policy_overrides</span></span> |<span data-ttu-id="f7863-145">Struttura JSON, vedere la sezione **Override dei criteri** riportata di seguito</span><span class="sxs-lookup"><span data-stu-id="f7863-145">JSON structure, see **Policy Overrides** below</span></span> |<span data-ttu-id="f7863-146">Impostazioni di criteri per questa licenza.</span><span class="sxs-lookup"><span data-stu-id="f7863-146">Policy settings for this license.</span></span>  <span data-ttu-id="f7863-147">Nell'evento hello questo asset è un criterio predefinito, verranno utilizzati questi valori specificati.</span><span class="sxs-lookup"><span data-stu-id="f7863-147">In hello event this asset has a pre-defined policy, these specified values will be used.</span></span> |
| <span data-ttu-id="f7863-148">session_init</span><span class="sxs-lookup"><span data-stu-id="f7863-148">session_init</span></span> |<span data-ttu-id="f7863-149">Struttura JSON, vedere la sezione **Inizializzazione della sessione** riportata di seguito</span><span class="sxs-lookup"><span data-stu-id="f7863-149">JSON structure, see **Session Initialization** below</span></span> |<span data-ttu-id="f7863-150">Dati facoltativi passati toolicense.</span><span class="sxs-lookup"><span data-stu-id="f7863-150">Optional data passed toolicense.</span></span> |
| <span data-ttu-id="f7863-151">parse_only</span><span class="sxs-lookup"><span data-stu-id="f7863-151">parse_only</span></span> |<span data-ttu-id="f7863-152">boolean.</span><span class="sxs-lookup"><span data-stu-id="f7863-152">boolean.</span></span> <span data-ttu-id="f7863-153">true o false</span><span class="sxs-lookup"><span data-stu-id="f7863-153">true or false</span></span> |<span data-ttu-id="f7863-154">richiesta di licenza Hello viene analizzato, ma nessuna licenza viene generata.</span><span class="sxs-lookup"><span data-stu-id="f7863-154">hello license request is parsed but no license is issued.</span></span> <span data-ttu-id="f7863-155">Tuttavia, i valori maschera hello licenza richiesta vengono restituiti in risposta hello.</span><span class="sxs-lookup"><span data-stu-id="f7863-155">However, values form hello license request are returned in hello response.</span></span> |

## <a name="content-key-specs"></a><span data-ttu-id="f7863-156">Specifiche della chiave simmetrica</span><span class="sxs-lookup"><span data-stu-id="f7863-156">Content Key Specs</span></span>
<span data-ttu-id="f7863-157">Se esiste un criterio esistente, non è toospecify non è necessario uno qualsiasi dei hello valori hello contenuto chiave specifica.  criteri di Hello preesistente associato a questo contenuto sarà utilizzato toodetermine hello output protezione, ad esempio HDCP e CGMS.</span><span class="sxs-lookup"><span data-stu-id="f7863-157">If a pre-existing policy exist, there is no need toospecify any of hello values in hello Content Key Spec.  hello pre-existing policy associated with this content will be used toodetermine hello output protection such as HDCP and CGMS.</span></span>  <span data-ttu-id="f7863-158">Se un criterio esistente non è registrato con hello Server licenze Widevine, provider di contenuti hello può inserire i valori di hello nella richiesta di licenza hello.</span><span class="sxs-lookup"><span data-stu-id="f7863-158">If a pre-existing policy is not registered with hello Widevine License Server, hello content provider can inject hello values into hello license request.</span></span>   

<span data-ttu-id="f7863-159">Ogni content_key_specs deve essere specificato per tutte le tracce, indipendentemente dal use_policy_overrides_exclusively opzione hello.</span><span class="sxs-lookup"><span data-stu-id="f7863-159">Each content_key_specs must be specified for all tracks, regardless of hello option use_policy_overrides_exclusively.</span></span> 

| <span data-ttu-id="f7863-160">Nome</span><span class="sxs-lookup"><span data-stu-id="f7863-160">Name</span></span> | <span data-ttu-id="f7863-161">Valore</span><span class="sxs-lookup"><span data-stu-id="f7863-161">Value</span></span> | <span data-ttu-id="f7863-162">Description</span><span class="sxs-lookup"><span data-stu-id="f7863-162">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f7863-163">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="f7863-163">content_key_specs.</span></span> <span data-ttu-id="f7863-164">track_type</span><span class="sxs-lookup"><span data-stu-id="f7863-164">track_type</span></span> |<span data-ttu-id="f7863-165">string</span><span class="sxs-lookup"><span data-stu-id="f7863-165">string</span></span> |<span data-ttu-id="f7863-166">Nome di un tipo di traccia.</span><span class="sxs-lookup"><span data-stu-id="f7863-166">A track type name.</span></span> <span data-ttu-id="f7863-167">Se content_key_specs è specificata nella richiesta di licenza hello, assicurarsi che toospecify che tenere traccia di tutti i tipi in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="f7863-167">If content_key_specs is specified in hello license request, make sure toospecify all track types explicitly.</span></span> <span data-ttu-id="f7863-168">Errore toodo pertanto comporta tooplayback errore ultime 10 secondi.</span><span class="sxs-lookup"><span data-stu-id="f7863-168">Failure toodo so will result in failure tooplayback past 10 seconds.</span></span> |
| <span data-ttu-id="f7863-169">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="f7863-169">content_key_specs</span></span>  <br/> <span data-ttu-id="f7863-170">security_level</span><span class="sxs-lookup"><span data-stu-id="f7863-170">security_level</span></span> |<span data-ttu-id="f7863-171">Valore UInt32</span><span class="sxs-lookup"><span data-stu-id="f7863-171">uint32</span></span> |<span data-ttu-id="f7863-172">Definisce i requisiti di affidabilità client per la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="f7863-172">Defines client robustness requirements for playback.</span></span> <br/> <span data-ttu-id="f7863-173">1 - È richiesta una soluzione di crittografia white box basata su software.</span><span class="sxs-lookup"><span data-stu-id="f7863-173">1 - Software-based whitebox crypto is required.</span></span> <br/> <span data-ttu-id="f7863-174">2 - È necessaria una soluzione di crittografia software e un decodificatore offuscato.</span><span class="sxs-lookup"><span data-stu-id="f7863-174">2 - Software crypto and an obfuscated decoder is required.</span></span> <br/> <span data-ttu-id="f7863-175">3 - operazioni di crittografia e materiale chiave hello devono essere eseguite all'interno di un ambiente di esecuzione trusted sottoposti a backup hardware.</span><span class="sxs-lookup"><span data-stu-id="f7863-175">3 - hello key material and crypto operations must be performed within a hardware backed trusted execution environment.</span></span> <br/> <span data-ttu-id="f7863-176">4 - hello crittografia e la decodifica del contenuto deve essere eseguita in un ambiente di esecuzione trusted sottoposti a backup hardware.</span><span class="sxs-lookup"><span data-stu-id="f7863-176">4 - hello crypto and decoding of content must be performed within a hardware backed trusted execution environment.</span></span>  <br/> <span data-ttu-id="f7863-177">5 - hello crittografia, la decodifica e tutte le gestione del supporto di hello (compressi e) deve essere gestito in un ambiente di esecuzione trusted sottoposti a backup hardware.</span><span class="sxs-lookup"><span data-stu-id="f7863-177">5 - hello crypto, decoding and all handling of hello media (compressed and uncompressed) must be handled within a hardware backed trusted execution environment.</span></span> |
| <span data-ttu-id="f7863-178">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="f7863-178">content_key_specs</span></span> <br/> <span data-ttu-id="f7863-179">required_output_protection.hdc</span><span class="sxs-lookup"><span data-stu-id="f7863-179">required_output_protection.hdc</span></span> |<span data-ttu-id="f7863-180">Stringa - uno di: HDCP_NONE, HDCP_V1, HDCP_V2</span><span class="sxs-lookup"><span data-stu-id="f7863-180">string - one of: HDCP_NONE, HDCP_V1, HDCP_V2</span></span> |<span data-ttu-id="f7863-181">Indica se è necessario il protocollo HDCP</span><span class="sxs-lookup"><span data-stu-id="f7863-181">Indicates whether HDCP is require</span></span> |
| <span data-ttu-id="f7863-182">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="f7863-182">content_key_specs</span></span> <br/><span data-ttu-id="f7863-183">key</span><span class="sxs-lookup"><span data-stu-id="f7863-183">key</span></span> |<span data-ttu-id="f7863-184">Stringa con </span><span class="sxs-lookup"><span data-stu-id="f7863-184">Base64</span></span> <br/><span data-ttu-id="f7863-185">codifica Base64</span><span class="sxs-lookup"><span data-stu-id="f7863-185">encoded string</span></span> |<span data-ttu-id="f7863-186">Contenuto toouse chiave per la traccia. Se specificato, hello track_type o key_id è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="f7863-186">Content key toouse for this track. If specified, hello track_type or key_id is required.</span></span>  <span data-ttu-id="f7863-187">Questa opzione consente ai provider di contenuti hello chiave simmetrica di hello tooinject per la traccia anziché consentire a server licenze Widevine generare o cercare una chiave.</span><span class="sxs-lookup"><span data-stu-id="f7863-187">This option allows hello content provider tooinject hello content key for this track instead of letting Widevine license server generate or lookup a key.</span></span> |
| <span data-ttu-id="f7863-188">content_key_specs.key_id</span><span class="sxs-lookup"><span data-stu-id="f7863-188">content_key_specs.key_id</span></span> |<span data-ttu-id="f7863-189">Stringa binaria con codifica Base64, 16 byte</span><span class="sxs-lookup"><span data-stu-id="f7863-189">Base64 encoded string  binary, 16 bytes</span></span> |<span data-ttu-id="f7863-190">Identificatore univoco per la chiave di hello.</span><span class="sxs-lookup"><span data-stu-id="f7863-190">Unique identifier for hello key.</span></span> |

## <a name="policy-overrides"></a><span data-ttu-id="f7863-191">Override dei criteri</span><span class="sxs-lookup"><span data-stu-id="f7863-191">Policy Overrides</span></span>
| <span data-ttu-id="f7863-192">Nome</span><span class="sxs-lookup"><span data-stu-id="f7863-192">Name</span></span> | <span data-ttu-id="f7863-193">Valore</span><span class="sxs-lookup"><span data-stu-id="f7863-193">Value</span></span> | <span data-ttu-id="f7863-194">Description</span><span class="sxs-lookup"><span data-stu-id="f7863-194">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f7863-195">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-195">policy_overrides.</span></span> <span data-ttu-id="f7863-196">can_play</span><span class="sxs-lookup"><span data-stu-id="f7863-196">can_play</span></span> |<span data-ttu-id="f7863-197">boolean.</span><span class="sxs-lookup"><span data-stu-id="f7863-197">boolean.</span></span> <span data-ttu-id="f7863-198">true o false</span><span class="sxs-lookup"><span data-stu-id="f7863-198">true or false</span></span> |<span data-ttu-id="f7863-199">Indica che la riproduzione di hello del contenuto è consentito.</span><span class="sxs-lookup"><span data-stu-id="f7863-199">Indicates that playback of hello content is allowed.</span></span> <span data-ttu-id="f7863-200">Il valore predefinito è false.</span><span class="sxs-lookup"><span data-stu-id="f7863-200">Default is false.</span></span> |
| <span data-ttu-id="f7863-201">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-201">policy_overrides.</span></span> <span data-ttu-id="f7863-202">can_persist</span><span class="sxs-lookup"><span data-stu-id="f7863-202">can_persist</span></span> |<span data-ttu-id="f7863-203">boolean.</span><span class="sxs-lookup"><span data-stu-id="f7863-203">boolean.</span></span> <span data-ttu-id="f7863-204">true o false</span><span class="sxs-lookup"><span data-stu-id="f7863-204">true or false</span></span> |<span data-ttu-id="f7863-205">Indica che la licenza hello può essere persistente archiviazione volatile toonon per l'utilizzo offline.</span><span class="sxs-lookup"><span data-stu-id="f7863-205">Indicates that hello license may be persisted toonon-volatile storage for offline use.</span></span> <span data-ttu-id="f7863-206">Il valore predefinito è false.</span><span class="sxs-lookup"><span data-stu-id="f7863-206">Default is false.</span></span> |
| <span data-ttu-id="f7863-207">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-207">policy_overrides.</span></span> <span data-ttu-id="f7863-208">can_renew</span><span class="sxs-lookup"><span data-stu-id="f7863-208">can_renew</span></span> |<span data-ttu-id="f7863-209">Booleano: true o false</span><span class="sxs-lookup"><span data-stu-id="f7863-209">boolean true or false</span></span> |<span data-ttu-id="f7863-210">Indica che è consentito il rinnovo della licenza.</span><span class="sxs-lookup"><span data-stu-id="f7863-210">Indicates that renewal of this license is allowed.</span></span> <span data-ttu-id="f7863-211">Se true, la durata di hello della licenza hello può essere estesa heartbeat.</span><span class="sxs-lookup"><span data-stu-id="f7863-211">If true, hello duration of hello license can be extended by heartbeat.</span></span> <span data-ttu-id="f7863-212">Il valore predefinito è false.</span><span class="sxs-lookup"><span data-stu-id="f7863-212">Default is false.</span></span> |
| <span data-ttu-id="f7863-213">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-213">policy_overrides.</span></span> <span data-ttu-id="f7863-214">license_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="f7863-214">license_duration_seconds</span></span> |<span data-ttu-id="f7863-215">int64</span><span class="sxs-lookup"><span data-stu-id="f7863-215">int64</span></span> |<span data-ttu-id="f7863-216">Indica l'intervallo di tempo hello per questa licenza specifica.</span><span class="sxs-lookup"><span data-stu-id="f7863-216">Indicates hello time window for this specific license.</span></span> <span data-ttu-id="f7863-217">Il valore 0 indica che non vi sia alcuna durata toohello limite.</span><span class="sxs-lookup"><span data-stu-id="f7863-217">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="f7863-218">Il valore predefinito è 0.</span><span class="sxs-lookup"><span data-stu-id="f7863-218">Default is 0.</span></span> |
| <span data-ttu-id="f7863-219">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-219">policy_overrides.</span></span> <span data-ttu-id="f7863-220">rental_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="f7863-220">rental_duration_seconds</span></span> |<span data-ttu-id="f7863-221">int64</span><span class="sxs-lookup"><span data-stu-id="f7863-221">int64</span></span> |<span data-ttu-id="f7863-222">Indica l'intervallo di tempo hello durante la riproduzione è consentita.</span><span class="sxs-lookup"><span data-stu-id="f7863-222">Indicates hello time window while playback is permitted.</span></span> <span data-ttu-id="f7863-223">Il valore 0 indica che non vi sia alcuna durata toohello limite.</span><span class="sxs-lookup"><span data-stu-id="f7863-223">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="f7863-224">Il valore predefinito è 0.</span><span class="sxs-lookup"><span data-stu-id="f7863-224">Default is 0.</span></span> |
| <span data-ttu-id="f7863-225">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-225">policy_overrides.</span></span> <span data-ttu-id="f7863-226">playback_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="f7863-226">playback_duration_seconds</span></span> |<span data-ttu-id="f7863-227">int64</span><span class="sxs-lookup"><span data-stu-id="f7863-227">int64</span></span> |<span data-ttu-id="f7863-228">Hello visualizzazione intervallo di tempo una volta avviata la riproduzione entro il periodo di licenza hello.</span><span class="sxs-lookup"><span data-stu-id="f7863-228">hello viewing window of time once playback starts within hello license duration.</span></span> <span data-ttu-id="f7863-229">Il valore 0 indica che non vi sia alcuna durata toohello limite.</span><span class="sxs-lookup"><span data-stu-id="f7863-229">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="f7863-230">Il valore predefinito è 0.</span><span class="sxs-lookup"><span data-stu-id="f7863-230">Default is 0.</span></span> |
| <span data-ttu-id="f7863-231">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-231">policy_overrides.</span></span> <span data-ttu-id="f7863-232">renewal_server_url</span><span class="sxs-lookup"><span data-stu-id="f7863-232">renewal_server_url</span></span> |<span data-ttu-id="f7863-233">string</span><span class="sxs-lookup"><span data-stu-id="f7863-233">string</span></span> |<span data-ttu-id="f7863-234">Tutte le richieste di heartbeat (rinnovo) per la licenza devono essere diretto toohello URL specificato.</span><span class="sxs-lookup"><span data-stu-id="f7863-234">All heartbeat (renewal) requests for this license shall be directed toohello specified URL.</span></span> <span data-ttu-id="f7863-235">Questo campo viene usato solo se can_renew è true.</span><span class="sxs-lookup"><span data-stu-id="f7863-235">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="f7863-236">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-236">policy_overrides.</span></span> <span data-ttu-id="f7863-237">renewal_delay_seconds</span><span class="sxs-lookup"><span data-stu-id="f7863-237">renewal_delay_seconds</span></span> |<span data-ttu-id="f7863-238">int64</span><span class="sxs-lookup"><span data-stu-id="f7863-238">int64</span></span> |<span data-ttu-id="f7863-239">Numero di secondi prima che venga eseguito il primo tentativo di rinnovo, a partire dal valore license_start_time.</span><span class="sxs-lookup"><span data-stu-id="f7863-239">How many seconds after license_start_time, before renewal is first attempted.</span></span> <span data-ttu-id="f7863-240">Questo campo viene usato solo se can_renew è true.</span><span class="sxs-lookup"><span data-stu-id="f7863-240">This field is only used if can_renew is true.</span></span> <span data-ttu-id="f7863-241">Il valore predefinito è 0</span><span class="sxs-lookup"><span data-stu-id="f7863-241">Default is 0</span></span> |
| <span data-ttu-id="f7863-242">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-242">policy_overrides.</span></span> <span data-ttu-id="f7863-243">renewal_retry_interval_seconds</span><span class="sxs-lookup"><span data-stu-id="f7863-243">renewal_retry_interval_seconds</span></span> |<span data-ttu-id="f7863-244">int64</span><span class="sxs-lookup"><span data-stu-id="f7863-244">int64</span></span> |<span data-ttu-id="f7863-245">Specifica il ritardo di hello in secondi tra le richieste di rinnovo delle licenze successive, in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="f7863-245">Specifies hello delay in seconds between subsequent license renewal requests, in case of failure.</span></span> <span data-ttu-id="f7863-246">Questo campo viene usato solo se can_renew è true.</span><span class="sxs-lookup"><span data-stu-id="f7863-246">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="f7863-247">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-247">policy_overrides.</span></span> <span data-ttu-id="f7863-248">renewal_recovery_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="f7863-248">renewal_recovery_duration_seconds</span></span> |<span data-ttu-id="f7863-249">int64</span><span class="sxs-lookup"><span data-stu-id="f7863-249">int64</span></span> |<span data-ttu-id="f7863-250">finestra Hello di tempo, in cui la riproduzione è consentita toocontinue durante il rinnovo è ancora esito negativo a causa di problemi toobackend hello licenze server, il tentativo.</span><span class="sxs-lookup"><span data-stu-id="f7863-250">hello window of time, in which playback is allowed toocontinue while renewal is attempted, yet unsuccessful due toobackend problems with hello license server.</span></span> <span data-ttu-id="f7863-251">Il valore 0 indica che non vi sia alcuna durata toohello limite.</span><span class="sxs-lookup"><span data-stu-id="f7863-251">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="f7863-252">Questo campo viene usato solo se can_renew è true.</span><span class="sxs-lookup"><span data-stu-id="f7863-252">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="f7863-253">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="f7863-253">policy_overrides.</span></span> <span data-ttu-id="f7863-254">renew_with_usage</span><span class="sxs-lookup"><span data-stu-id="f7863-254">renew_with_usage</span></span> |<span data-ttu-id="f7863-255">Booleano: true o false</span><span class="sxs-lookup"><span data-stu-id="f7863-255">boolean true or false</span></span> |<span data-ttu-id="f7863-256">Indica che la licenza hello dovrà essere inviata per il rinnovo quando viene avviato l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="f7863-256">Indicates that hello license shall be sent for renewal when usage is started.</span></span> <span data-ttu-id="f7863-257">Questo campo viene usato solo se can_renew è true.</span><span class="sxs-lookup"><span data-stu-id="f7863-257">This field is only used if can_renew is true.</span></span> |

## <a name="session-initialization"></a><span data-ttu-id="f7863-258">Inizializzazione della sessione</span><span class="sxs-lookup"><span data-stu-id="f7863-258">Session Initialization</span></span>
| <span data-ttu-id="f7863-259">Nome</span><span class="sxs-lookup"><span data-stu-id="f7863-259">Name</span></span> | <span data-ttu-id="f7863-260">Valore</span><span class="sxs-lookup"><span data-stu-id="f7863-260">Value</span></span> | <span data-ttu-id="f7863-261">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f7863-261">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f7863-262">provider_session_token</span><span class="sxs-lookup"><span data-stu-id="f7863-262">provider_session_token</span></span> |<span data-ttu-id="f7863-263">Stringa con codifica Base64</span><span class="sxs-lookup"><span data-stu-id="f7863-263">Base64 encoded string</span></span> |<span data-ttu-id="f7863-264">Questo token di sessione viene passato in licenza hello e sarà presenti in rinnovi successivi.</span><span class="sxs-lookup"><span data-stu-id="f7863-264">This session token is passed back in hello license and will exist in subsequent renewals.</span></span>  <span data-ttu-id="f7863-265">token di sessione Hello non verrà mantenuto oltre le sessioni.</span><span class="sxs-lookup"><span data-stu-id="f7863-265">hello session token will not persist beyond sessions.</span></span> |
| <span data-ttu-id="f7863-266">provider_client_token</span><span class="sxs-lookup"><span data-stu-id="f7863-266">provider_client_token</span></span> |<span data-ttu-id="f7863-267">Stringa con codifica Base64</span><span class="sxs-lookup"><span data-stu-id="f7863-267">Base64 encoded string</span></span> |<span data-ttu-id="f7863-268">Client toosend token restituite nella risposta licenza hello.</span><span class="sxs-lookup"><span data-stu-id="f7863-268">Client token toosend back in hello license response.</span></span>  <span data-ttu-id="f7863-269">Se la richiesta di licenza hello contiene un token di client, questo valore viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="f7863-269">If hello license request contains a client token, this value is ignored.</span></span> <span data-ttu-id="f7863-270">token di Hello del client verrà mantenuto oltre le sessioni di licenza.</span><span class="sxs-lookup"><span data-stu-id="f7863-270">hello client token will persist beyond license sessions.</span></span> |
| <span data-ttu-id="f7863-271">override_provider_client_token</span><span class="sxs-lookup"><span data-stu-id="f7863-271">override_provider_client_token</span></span> |<span data-ttu-id="f7863-272">boolean.</span><span class="sxs-lookup"><span data-stu-id="f7863-272">boolean.</span></span> <span data-ttu-id="f7863-273">true o false</span><span class="sxs-lookup"><span data-stu-id="f7863-273">true or false</span></span> |<span data-ttu-id="f7863-274">Se false e hello richiesta licenza contiene un token di client, utilizzare il token di hello dalla richiesta hello anche se è stato specificato un token di client in questa struttura.</span><span class="sxs-lookup"><span data-stu-id="f7863-274">If false and hello license request contains a client token, use hello token from hello request even if a client token was specified in this structure.</span></span>  <span data-ttu-id="f7863-275">Se true, utilizzare sempre il token di hello specificato in questa struttura.</span><span class="sxs-lookup"><span data-stu-id="f7863-275">If true, always use hello token specified in this structure.</span></span> |

## <a name="configure-your-widevine-licenses-using-net-types"></a><span data-ttu-id="f7863-276">Configurare licenze Widevine usando tipi .NET</span><span class="sxs-lookup"><span data-stu-id="f7863-276">Configure your Widevine licenses using .NET types</span></span>
<span data-ttu-id="f7863-277">Servizi multimediali fornisce API .NET che consentono di configurare licenze Widevine.</span><span class="sxs-lookup"><span data-stu-id="f7863-277">Media Services provides .NET APIs that let you configure your Widevine licenses.</span></span> 

### <a name="classes-as-defined-in-hello-media-services-net-sdk"></a><span data-ttu-id="f7863-278">Classi definite in hello Media Services .NET SDK</span><span class="sxs-lookup"><span data-stu-id="f7863-278">Classes as defined in hello Media Services .NET SDK</span></span>
<span data-ttu-id="f7863-279">di seguito Hello sono definizioni di hello di questi tipi.</span><span class="sxs-lookup"><span data-stu-id="f7863-279">hello following are hello definitions of these types.</span></span>

    public class WidevineMessage
    {
        public WidevineMessage();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public AllowedTrackTypes? allowed_track_types { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public ContentKeySpecs[] content_key_specs { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public object policy_overrides { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum AllowedTrackTypes
    {
        SD_ONLY = 0,
        SD_HD = 1
    }
    public class ContentKeySpecs
    {
        public ContentKeySpecs();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string key_id { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public RequiredOutputProtection required_output_protection { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public int? security_level { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string track_type { get; set; }
    }

    public class RequiredOutputProtection
    {
        public RequiredOutputProtection();

        public Hdcp hdcp { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum Hdcp
    {
        HDCP_NONE = 0,
        HDCP_V1 = 1,
        HDCP_V2 = 2
    }

### <a name="example"></a><span data-ttu-id="f7863-280">Esempio</span><span class="sxs-lookup"><span data-stu-id="f7863-280">Example</span></span>
<span data-ttu-id="f7863-281">Hello seguente esempio viene illustrato come le API .NET di toouse tooconfigure una licenza Widevine semplice.</span><span class="sxs-lookup"><span data-stu-id="f7863-281">hello following example shows how toouse .NET APIs tooconfigure  a simple Widevine license.</span></span>

    private static string ConfigureWidevineLicenseTemplate()
    {
        var template = new WidevineMessage
        {
            allowed_track_types = AllowedTrackTypes.SD_HD,
            content_key_specs = new[]
            {
                new ContentKeySpecs
                {
                    required_output_protection = new RequiredOutputProtection { hdcp = Hdcp.HDCP_NONE},
                    security_level = 1,
                    track_type = "SD"
                }
            },
            policy_overrides = new
            {
                can_play = true,
                can_persist = true,
                can_renew = false
            }
        };

        string configuration = JsonConvert.SerializeObject(template);
        return configuration;
    }


## <a name="media-services-learning-paths"></a><span data-ttu-id="f7863-282">Percorsi di apprendimento di Servizi multimediali</span><span class="sxs-lookup"><span data-stu-id="f7863-282">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="f7863-283">Fornire commenti e suggerimenti</span><span class="sxs-lookup"><span data-stu-id="f7863-283">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="f7863-284">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f7863-284">See also</span></span>
[<span data-ttu-id="f7863-285">Uso della crittografia comune dinamica PlayReady e/o Widevine</span><span class="sxs-lookup"><span data-stu-id="f7863-285">Using PlayReady and/or Widevine Dynamic Common Encryption</span></span>](media-services-protect-with-drm.md)

