---
title: distribuzione di macchine virtuali per SAP in Windows aaaAzure | Documenti Microsoft
description: Informazioni su come toodeploy SAP software nelle macchine virtuali di Windows in Azure.
services: virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: 22aaa98c-bb9f-472f-b546-0b294e033cda
ms.service: virtual-machines-windows
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 121e317afc6498a896959e58ebfbdcbef9432ef5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-sap-on-windows-vms-in-azure"></a><span data-ttu-id="db0c9-103">Distribuire SAP in macchine virtuali Windows in Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-103">Deploy SAP on Windows VMs in Azure</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692
[2367194]:https://launchpad.support.sap.com/#/notes/2367194

[azure-cli]:../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:sap-dbms-guide.md (Azure Virtual Machines DBMS deployment for SAP on Windows)
[dbms-guide-2.1]:sap-dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f (Caching for VMs and VHDs)
[dbms-guide-2.2]:sap-dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91 (Software RAID)
[dbms-guide-2.3]:sap-dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152 (Microsoft Azure Storage)
[dbms-guide-2]:sap-dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64 (Structure of a RDBMS deployment)
[dbms-guide-3]:sap-dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3 (High availability and disaster recovery with Azure VMs)
[dbms-guide-5.5.1]:sap-dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268 (SQL Server 2012 SP1 CU4 and later)
[dbms-guide-5.5.2]:sap-dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b (SQL Server 2012 SP1 CU3 and earlier releases)
[dbms-guide-5.6]:sap-dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8 (Using a SQL Server image from hello Azure Marketplace)
[dbms-guide-5.8]:sap-dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30 (General SQL Server for SAP on Azure summary)
[dbms-guide-5]:sap-dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737 (Specifics tooSQL Server RDBMS)
[dbms-guide-8.4.1]:sap-dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573 (Storage configuration)
[dbms-guide-8.4.2]:sap-dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d (Backup and restore)
[dbms-guide-8.4.3]:sap-dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c (Performance considerations for backup and restore)
[dbms-guide-8.4.4]:sap-dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818 (Other)
[dbms-guide-900-sap-cache-server-on-premises]:sap-dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:./media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:./media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:./media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:./media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:./media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:./media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:./media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:./media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:./media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:sap-deployment-guide.md (Azure Virtual Machines deployment for SAP on Windows)
[deployment-guide-2.2]:#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94 (SAP resources)
[deployment-guide-3.1.2]:#3688666f-281f-425b-a312-a77e7db2dfab (Deploying a VM by using a custom image)
[deployment-guide-3.2]:#db477013-9060-4602-9ad4-b0316f8bb281 (Scenario 1: Deploying a VM from hello Azure Marketplace for SAP)
[deployment-guide-3.3]:#54a1fc6d-24fd-4feb-9c57-ac588a55dff2 (Scenario 2: Deploying a VM with a custom image for SAP)
[deployment-guide-3.4]:#a9a60133-a763-4de8-8986-ac0fa33aa8c1 (Scenario 3: Moving a VM from on-premises using a non-generalized Azure VHD with SAP)
[deployment-guide-3]:#b3253ee3-d63b-4d74-a49b-185e76c4088e (Deployment scenarios of VMs for SAP on Microsoft Azure)
[deployment-guide-4.1]:#604bcec2-8b6e-48d2-a944-61b0f5dee2f7 (Deploying Azure PowerShell cmdlets)
[deployment-guide-4.2]:#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e (Download and import SAP-relevant PowerShell cmdlets)
[deployment-guide-4.3]:#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc (Join a VM tooan on-premises domain - Windows only)
[deployment-guide-4.4.2]:#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542 (Linux)
[deployment-guide-4.4]:#c7cbb0dc-52a4-49db-8e03-83e7edc2927d (Download, install, and enable hello Azure VM Agent)
[deployment-guide-4.5.1]:#987cf279-d713-4b4c-8143-6b11589bb9d4 (Azure PowerShell)
[deployment-guide-4.5.2]:#408f3779-f422-4413-82f8-c57a23b4fc2f (Azure CLI)
[deployment-guide-4.5]:#d98edcd3-f2a1-49f7-b26a-07448ceb60ca (Configure hello Azure Enhanced Monitoring Extension for SAP)
[deployment-guide-5.1]:#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2 (Readiness check for Azure Enhanced Monitoring for SAP)
[deployment-guide-5.2]:#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1 (Health check for hello Azure monitoring infrastructure)
[deployment-guide-5.3]:#fe25a7da-4e4e-4388-8907-8abc2d33cfd8 (Troubleshooting Azure monitoring for SAP)

[deployment-guide-configure-monitoring-scenario-1]:#ec323ac3-1de9-4c3a-b770-4ff701def65b (Configure monitoring)
[deployment-guide-configure-proxy]:#baccae00-6f79-4307-ade4-40292ce4e02d (Configure hello proxy)
[deployment-guide-figure-100]:./media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:./media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:#figure-11
[deployment-guide-figure-1100]:./media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:./media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:./media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:#figure-14
[deployment-guide-figure-1400]:./media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:./media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:./media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:#figure-5
[deployment-guide-figure-50]:./media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:./media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:#figure-6
[deployment-guide-figure-600]:./media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:#figure-7
[deployment-guide-figure-700]:./media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:./media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:./media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:#564adb4f-5c95-4041-9616-6635e83a810b (Checks and troubleshooting for setting up end-to-end monitoring)

[deploy-template-cli]:../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:sap-get-started.md
[getting-started-dbms]:sap-get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:sap-get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:sap-get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:classic/virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:classic/virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:classic/virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:classic/virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:classic/virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:classic/virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-windows-enable-aem.md

[Logo_Linux]:./media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:./media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:sap-planning-guide.md (Azure Virtual Machines planning and implementation for SAP on Windows)
[planning-guide-1.2]:sap-planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff (Resources)
[planning-guide-11]:sap-planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058 (High availability and disaster recovery for SAP NetWeaver running on Azure Virtual Machines)
[planning-guide-11.4.1]:sap-planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77 (High availability for SAP Application Servers)
[planning-guide-11.5]:sap-planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f (Using Autostart for SAP instances)
[planning-guide-2.1]:sap-planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803 (Cloud-only - Virtual Machine deployments in Azure without dependencies on hello on-premises customer network)
[planning-guide-2.2]:sap-planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10 (Cross-premises - Deployment of single or multiple SAP VMs in Azure fully integrated with hello on-premises network)
[planning-guide-3.1]:sap-planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a (Azure regions)
[planning-guide-3.2.1]:sap-planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358 (Fault domains)
[planning-guide-3.2.2]:sap-planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560 (Upgrade domains)
[planning-guide-3.2.3]:sap-planning-guide.md#18810088-f9be-4c97-958a-27996255c665 (Azure availability sets)
[planning-guide-3.2]:sap-planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77 (Microsoft Azure virtual machines concept)
[planning-guide-3.3.2]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 (Azure Premium Storage)
[planning-guide-5.1.1]:sap-planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53 (Moving a VM from on-premises tooAzure with a non-generalized disk)
[planning-guide-5.1.2]:sap-planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c (Deploying a VM with a customer specific image)
[planning-guide-5.2.1]:sap-planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef (Preparation for moving a VM from on-premises tooAzure with a non-generalized disk)
[planning-guide-5.2.2]:sap-planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3 (Preparation for deploying a VM with a customer specific image for SAP)
[planning-guide-5.2]:sap-planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7 (Preparing VMs with SAP for Azure)
[planning-guide-5.3.1]:sap-planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79 (Difference between an Azure disk and an Azure image)
[planning-guide-5.3.2]:sap-planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a (Uploading a VHD from on-premises tooAzure)
[planning-guide-5.4.2]:sap-planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1 (Copying disks between Azure Storage accounts)
[planning-guide-5.5.1]:sap-planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646 (VM/VHD structure for SAP deployments)
[planning-guide-5.5.3]:sap-planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d (Setting automount for attached disks)
[planning-guide-7.1]:sap-planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30 (Single VM with SAP NetWeaver demo/training scenario)
[planning-guide-7]:sap-planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14 (Concepts of Cloud-Only deployment of SAP instances)
[planning-guide-9.1]:sap-planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3 (Azure Monitoring Solution for SAP)
[planning-guide-azure-premium-storage]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 (Azure Premium Storage)

[planning-guide-figure-100]:./media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:./media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:./media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:./media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:./media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:./media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:./media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:./media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:./media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:./media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:./media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:./media/virtual-machines-shared-sap-planning-guide/2500-vm-extension-details.png
[planning-guide-figure-2600]:./media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:./media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:./media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:./media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-300]:./media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:./media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:./media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-400]:./media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:./media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:./media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:./media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:sap-planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd (Microsoft Azure networking)
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:sap-planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f (Storage: Microsoft Azure Storage and data disks)

[powershell-install-configure]:/powershell/azureps-cmdlets-docs
[resource-group-authoring-templates]:../../resource-group-authoring-templates.md
[resource-group-overview]:../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam (SAP Product Availability Matrix)
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../storage/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../storage/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../storage/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../storage/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../storage/storage-premium-storage.md
[storage-redundancy]:../../storage/storage-redundancy.md
[storage-scalability-targets]:../../storage/storage-scalability-targets.md
[storage-use-azcopy]:../../storage/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../linux/attach-disk-portal.md
[virtual-machines-windows-attach-disk-portal]:../virtual-machines-windows-attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:virtual-machines-windows-compare-deployment-models.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../linux/cli-deploy-templates.md (Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI)
[virtual-machines-deploy-rmtemplates-powershell]:../virtual-machines-windows-ps-manage.md (Manage virtual machines using Azure Resource Manager and PowerShell)
[virtual-machines-linux-agent-user-guide]:../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../linux/capture-image.md
[virtual-machines-linux-capture-image-capture]:../linux/capture-image.md#capture-the-vm
[virtual-machines-windows-capture-image]:../virtual-machines-windows-capture-image.md
[virtual-machines-windows-capture-image-capture]:../virtual-machines-windows-capture-image.md#capture-the-vm
[virtual-machines-linux-configure-lvm]:../linux/configure-lvm.md
[virtual-machines-linux-configure-raid]:../linux/configure-raid.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../linux/suse-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../linux/update-agent.md
[virtual-machines-manage-availability]:../virtual-machines-windows-manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:../virtual-machines-windows-ps-create.md
[virtual-machines-sizes]:sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:classic/ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:classic/ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:upload-image.md
[virtual-machines-windows-tutorial]:../virtual-machines-windows-hero-tutorial.md
[virtual-machines-windows-create-vm-specialized]:../virtual-machines-windows-create-vm-specialized.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics]:../../virtual-network/virtual-networks-multiple-nics.md
[virtual-networks-nsg]:../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md
[vpn-gateway-vpn-faq]:../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../xplat-cli-azure-resource-manager.md

<span data-ttu-id="db0c9-115">Macchine virtuali di Azure è una soluzione di hello per le organizzazioni che necessitano di risorse di calcolo e archiviazione, in tempi minimi senza lunghi cicli di approvvigionamento.</span><span class="sxs-lookup"><span data-stu-id="db0c9-115">Azure Virtual Machines is hello solution for organizations that need compute and storage resources, in minimal time, and without lengthy procurement cycles.</span></span> <span data-ttu-id="db0c9-116">È possibile utilizzare applicazioni di toodeploy classiche macchine virtuali di Azure, come le applicazioni basate su SAP NetWeaver, in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-116">You can use Azure Virtual Machines toodeploy classical applications, like SAP NetWeaver-based applications, in Azure.</span></span> <span data-ttu-id="db0c9-117">È possibile estendere l'affidabilità e la disponibilità di un'applicazione senza risorse locali aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="db0c9-117">Extend an application's reliability and availability without additional on-premises resources.</span></span> <span data-ttu-id="db0c9-118">Macchine virtuali di Azure supporta la connettività cross-premise e quindi è possibile integrare Macchine virtuali di Azure nei domini locali, nei cloud privati e nel panorama applicativo del sistema SAP dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-118">Azure Virtual Machines supports cross-premises connectivity, so you can integrate Azure Virtual Machines into your organization's on-premises domains, private clouds, and SAP system landscape.</span></span>

<span data-ttu-id="db0c9-119">In questo articolo viene illustrata l'hello passaggi toodeploy le applicazioni SAP in macchine virtuali di Windows (VM) in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-119">In this article, we cover hello steps toodeploy SAP applications on Windows virtual machines (VMs) in Azure.</span></span> <span data-ttu-id="db0c9-120">In questo articolo si basa sulle informazioni hello [macchine virtuali di Azure la pianificazione e implementazione di SAP in Windows][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-120">This article builds on hello information in [Azure Virtual Machines planning and implementation for SAP on Windows][planning-guide].</span></span> <span data-ttu-id="db0c9-121">Inoltre, integra la documentazione di installazione di SAP e note su SAP, che sono le risorse primarie hello per l'installazione e distribuzione del software SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-121">It also complements SAP installation documentation and SAP Notes, which are hello primary resources for installing and deploying SAP software.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="db0c9-122">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="db0c9-122">Prerequisites</span></span>
<span data-ttu-id="db0c9-123">La configurazione di una macchina virtuale di Azure per la distribuzione del software SAP richiede più passaggi e coinvolge diverse risorse.</span><span class="sxs-lookup"><span data-stu-id="db0c9-123">Setting up an Azure virtual machine for SAP software deployment involves multiple steps and resources.</span></span> <span data-ttu-id="db0c9-124">Prima di iniziare, assicurarsi che siano soddisfatti i prerequisiti hello per l'installazione del software SAP in macchine virtuali Windows in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-124">Before you start, make sure that you meet hello prerequisites for installing SAP software on Windows virtual machines in Azure.</span></span>

### <a name="local-computer"></a><span data-ttu-id="db0c9-125">Computer locale</span><span class="sxs-lookup"><span data-stu-id="db0c9-125">Local computer</span></span>
<span data-ttu-id="db0c9-126">toomanage VM Windows o Linux, è possibile utilizzare script di PowerShell e hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-126">toomanage Windows or Linux VMs, you can use a PowerShell script and hello Azure portal.</span></span> <span data-ttu-id="db0c9-127">Per entrambi gli strumenti, è necessario un computer locale che esegue Windows 7 o una versione successiva di Windows.</span><span class="sxs-lookup"><span data-stu-id="db0c9-127">For both tools, you need a local computer running Windows 7 or a later version of Windows.</span></span> <span data-ttu-id="db0c9-128">Se si desidera toomanage solo le macchine virtuali Linux e si desidera che un computer Linux toouse per questa attività, è possibile utilizzare l'interfaccia CLI di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-128">If you want toomanage only Linux VMs and you want toouse a Linux computer for this task, you can use Azure CLI.</span></span>

### <a name="internet-connection"></a><span data-ttu-id="db0c9-129">Connessione Internet</span><span class="sxs-lookup"><span data-stu-id="db0c9-129">Internet connection</span></span>
<span data-ttu-id="db0c9-130">toodownload e gli strumenti di esecuzione hello e gli script necessari per la distribuzione del software SAP, è necessario essere connessi a Internet toohello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-130">toodownload and run hello tools and scripts that are required for SAP software deployment, you must be connected toohello Internet.</span></span> <span data-ttu-id="db0c9-131">macchina virtuale di Azure che esegue Azure Enhanced Monitoring Extension per SAP hello Hello deve inoltre toohello accesso Internet.</span><span class="sxs-lookup"><span data-stu-id="db0c9-131">hello Azure VM that is running hello Azure Enhanced Monitoring Extension for SAP also needs access toohello Internet.</span></span> <span data-ttu-id="db0c9-132">Se hello macchina virtuale di Azure fa parte di una rete virtuale di Azure o di un dominio locale, assicurarsi che siano impostate hello le impostazioni proxy, come descritto in [configurare proxy hello][deployment-guide-configure-proxy].</span><span class="sxs-lookup"><span data-stu-id="db0c9-132">If hello Azure VM is part of an Azure virtual network or on-premises domain, make sure that hello relevant proxy settings are set, as described in [Configure hello proxy][deployment-guide-configure-proxy].</span></span>

### <a name="microsoft-azure-subscription"></a><span data-ttu-id="db0c9-133">iscriversi a Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-133">Microsoft Azure subscription</span></span>
<span data-ttu-id="db0c9-134">È necessario un account Azure attivo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-134">You need an active Azure account.</span></span>

### <a name="topology-and-networking"></a><span data-ttu-id="db0c9-135">Topologia e rete</span><span class="sxs-lookup"><span data-stu-id="db0c9-135">Topology and networking</span></span>
<span data-ttu-id="db0c9-136">È necessario toodefine hello topologia e l'architettura di hello distribuzione SAP in Azure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-136">You need toodefine hello topology and architecture of hello SAP deployment in Azure:</span></span>

* <span data-ttu-id="db0c9-137">Toobe gli account di archiviazione di Azure usata</span><span class="sxs-lookup"><span data-stu-id="db0c9-137">Azure storage accounts toobe used</span></span>
* <span data-ttu-id="db0c9-138">Rete virtuale in cui si desidera sistema SAP di hello toodeploy</span><span class="sxs-lookup"><span data-stu-id="db0c9-138">Virtual network where you want toodeploy hello SAP system</span></span>
* <span data-ttu-id="db0c9-139">Risorse gruppo toowhich si desidera toodeploy hello SAP sistema</span><span class="sxs-lookup"><span data-stu-id="db0c9-139">Resource group toowhich you want toodeploy hello SAP system</span></span>
* <span data-ttu-id="db0c9-140">Area di Azure in cui si desidera sistema SAP di hello toodeploy</span><span class="sxs-lookup"><span data-stu-id="db0c9-140">Azure region where you want toodeploy hello SAP system</span></span>
* <span data-ttu-id="db0c9-141">Configurazione SAP (due livelli o tre livelli)</span><span class="sxs-lookup"><span data-stu-id="db0c9-141">SAP configuration (two-tier or three-tier)</span></span>
* <span data-ttu-id="db0c9-142">Dimensioni delle macchine Virtuali e il numero di hello di dischi rigidi virtuali (VHD) aggiuntivi toobe montati macchine virtuali toohello</span><span class="sxs-lookup"><span data-stu-id="db0c9-142">VM sizes and hello number of additional virtual hard disks (VHDs) toobe mounted toohello VMs</span></span>
* <span data-ttu-id="db0c9-143">Configurazione di SAP Correction and Transport System (CTS)</span><span class="sxs-lookup"><span data-stu-id="db0c9-143">SAP Correction and Transport System (CTS) configuration</span></span>

<span data-ttu-id="db0c9-144">Creare e configurare gli account di archiviazione di Azure o reti virtuali di Azure prima di iniziare un processo di distribuzione del software SAP hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-144">Create and configure Azure storage accounts or Azure virtual networks before you begin hello SAP software deployment process.</span></span> <span data-ttu-id="db0c9-145">Per informazioni su come toocreate e configurare queste risorse, vedere [macchine virtuali di Azure la pianificazione e implementazione di SAP in Windows][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-145">For information about how toocreate and configure these resources, see [Azure Virtual Machines planning and implementation for SAP on Windows][planning-guide].</span></span>

### <a name="sap-sizing"></a><span data-ttu-id="db0c9-146">Dimensionamento di SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-146">SAP sizing</span></span>
<span data-ttu-id="db0c9-147">Conoscere le seguenti informazioni, per il dimensionamento di SAP hello:</span><span class="sxs-lookup"><span data-stu-id="db0c9-147">Know hello following information, for SAP sizing:</span></span>

* <span data-ttu-id="db0c9-148">Prevista del carico di lavoro SAP, ad esempio, utilizzando lo strumento SAP rapido Ridimensiona hello e hello SAP applicazione prestazioni Standard () numero</span><span class="sxs-lookup"><span data-stu-id="db0c9-148">Projected SAP workload, for example, by using hello SAP Quick Sizer tool, and hello SAP Application Performance Standard (SAPS) number</span></span>
* <span data-ttu-id="db0c9-149">Obbligatorio consumo di memoria e risorse della CPU del sistema SAP hello</span><span class="sxs-lookup"><span data-stu-id="db0c9-149">Required CPU resource and memory consumption of hello SAP system</span></span>
* <span data-ttu-id="db0c9-150">Operazioni di input/output (I/O) al secondo necessarie</span><span class="sxs-lookup"><span data-stu-id="db0c9-150">Required input/output (I/O) operations per second</span></span>
* <span data-ttu-id="db0c9-151">Larghezza di banda di rete necessaria per l'eventuale comunicazione tra diverse VM in Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-151">Required network bandwidth of eventual communication between VMs in Azure</span></span>
* <span data-ttu-id="db0c9-152">Larghezza di banda di rete necessarie tra risorse locali e sistema SAP distribuito Azure hello</span><span class="sxs-lookup"><span data-stu-id="db0c9-152">Required network bandwidth between on-premises assets and hello Azure-deployed SAP system</span></span>

### <a name="resource-groups"></a><span data-ttu-id="db0c9-153">Gruppi di risorse</span><span class="sxs-lookup"><span data-stu-id="db0c9-153">Resource groups</span></span>
<span data-ttu-id="db0c9-154">Gestione risorse di Microsoft Azure, è possibile utilizzare risorse gruppi toomanage tutte le risorse dell'applicazione hello nella sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-154">In Azure Resource Manager, you can use resource groups toomanage all hello application resources in your Azure subscription.</span></span> <span data-ttu-id="db0c9-155">Per altre informazioni, vedere [Panoramica di Azure Resource Manager][resource-group-overview].</span><span class="sxs-lookup"><span data-stu-id="db0c9-155">For more information, see [Azure Resource Manager overview][resource-group-overview].</span></span>

## <a name="resources"></a><span data-ttu-id="db0c9-156">Risorse</span><span class="sxs-lookup"><span data-stu-id="db0c9-156">Resources</span></span>

### <span data-ttu-id="db0c9-157"><a name="42ee2bdb-1efc-4ec7-ab31-fe4c22769b94"></a>Risorse SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-157"><a name="42ee2bdb-1efc-4ec7-ab31-fe4c22769b94"></a>SAP resources</span></span>
<span data-ttu-id="db0c9-158">Quando si configura la distribuzione del software SAP, è necessario hello risorse SAP seguenti:</span><span class="sxs-lookup"><span data-stu-id="db0c9-158">When you are setting up your SAP software deployment, you need hello following SAP resources:</span></span>

* <span data-ttu-id="db0c9-159">Nota SAP [1928533], contenente:</span><span class="sxs-lookup"><span data-stu-id="db0c9-159">SAP Note [1928533], which has:</span></span>
  * <span data-ttu-id="db0c9-160">Elenco di dimensioni di macchina virtuale di Azure sono supportati per la distribuzione del software SAP hello</span><span class="sxs-lookup"><span data-stu-id="db0c9-160">List of Azure VM sizes that are supported for hello deployment of SAP software</span></span>
  * <span data-ttu-id="db0c9-161">Importanti informazioni sulla capacità per le dimensioni delle VM di Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-161">Important capacity information for Azure VM sizes</span></span>
  * <span data-ttu-id="db0c9-162">Software SAP e combinazioni di sistemi operativi e database supportati</span><span class="sxs-lookup"><span data-stu-id="db0c9-162">Supported SAP software, and operating system (OS) and database combinations</span></span>
  * <span data-ttu-id="db0c9-163">Versione del kernel SAP richiesta per Windows e Linux in Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-163">Required SAP kernel version for Windows and Linux on Microsoft Azure</span></span>

* <span data-ttu-id="db0c9-164">La nota SAP [2015553] elenca i prerequisiti per le distribuzioni di software SAP supportate da SAP in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-164">SAP Note [2015553] lists prerequisites for SAP-supported SAP software deployments in Azure.</span></span>
* <span data-ttu-id="db0c9-165">La nota SAP [2178632] contiene informazioni dettagliate su tutte le metriche di monitoraggio segnalate per SAP in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-165">SAP Note [2178632] has detailed information about all monitoring metrics reported for SAP in Azure.</span></span>
* <span data-ttu-id="db0c9-166">Nota SAP [1409604] hello necessario versione dell'agente Host SAP per Windows in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-166">SAP Note [1409604] has hello required SAP Host Agent version for Windows in Azure.</span></span>
* <span data-ttu-id="db0c9-167">Nota SAP [2191498] hello necessario versione dell'agente Host SAP per Linux in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-167">SAP Note [2191498] has hello required SAP Host Agent version for Linux in Azure.</span></span>
* <span data-ttu-id="db0c9-168">La nota SAP [2243692] contiene informazioni sulle licenze SAP in Linux in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-168">SAP Note [2243692] has information about SAP licensing on Linux in Azure.</span></span>
* <span data-ttu-id="db0c9-169">La nota SAP [1984787] contiene informazioni generali su SUSE Linux Enterprise Server 12.</span><span class="sxs-lookup"><span data-stu-id="db0c9-169">SAP Note [1984787] has general information about SUSE Linux Enterprise Server 12.</span></span>
* <span data-ttu-id="db0c9-170">La nota SAP [2002167] contiene informazioni generali su Red Hat Enterprise Linux 7.x.</span><span class="sxs-lookup"><span data-stu-id="db0c9-170">SAP Note [2002167] has general information about Red Hat Enterprise Linux 7.x.</span></span>
* <span data-ttu-id="db0c9-171">Nota SAP [1999351] contiene altre informazioni sulla risoluzione dei problemi per hello Azure Enhanced Monitoring Extension per SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-171">SAP Note [1999351] has additional troubleshooting information for hello Azure Enhanced Monitoring Extension for SAP.</span></span>
* <span data-ttu-id="db0c9-172">[Community WIKI SAP](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) contiene tutte le note su SAP necessarie per Linux.</span><span class="sxs-lookup"><span data-stu-id="db0c9-172">[SAP Community WIKI](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) has all required SAP Notes for Linux.</span></span>
* <span data-ttu-id="db0c9-173">Cmdlet di PowerShell specifici di SAP inclusi in [Azure PowerShell][azure-ps].</span><span class="sxs-lookup"><span data-stu-id="db0c9-173">SAP-specific PowerShell cmdlets that are part of [Azure PowerShell][azure-ps].</span></span>
* <span data-ttu-id="db0c9-174">Comandi dell'interfaccia della riga di comando di Azure specifici di SAP inclusi nell'[interfaccia della riga di comando di Azure][azure-cli].</span><span class="sxs-lookup"><span data-stu-id="db0c9-174">SAP-specific Azure CLI commands that are part of [Azure CLI][azure-cli].</span></span>

[comment]: <> (MSSedusch TODO Add ARM patch level for SAP Host Agent in SAP Note 1409604)

### <a name="microsoft-resources"></a><span data-ttu-id="db0c9-176">Risorse Microsoft</span><span class="sxs-lookup"><span data-stu-id="db0c9-176">Microsoft resources</span></span>
<span data-ttu-id="db0c9-177">Questi articoli Microsoft descrivono le distribuzioni SAP in Azure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-177">These Microsoft articles cover SAP deployments in Azure:</span></span>

* <span data-ttu-id="db0c9-178">[Pianificazione e implementazione di Macchine virtuali di Azure per SAP in Windows][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="db0c9-178">[Azure Virtual Machines planning and implementation for SAP on Windows][planning-guide]</span></span>
* <span data-ttu-id="db0c9-179">[Distribuzione di Macchine virtuali di Azure per SAP in Windows (questo articolo)][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="db0c9-179">[Azure Virtual Machines deployment for SAP on Windows (this article)][deployment-guide]</span></span>
* <span data-ttu-id="db0c9-180">[Distribuzione DBMS di Macchine virtuali di Azure per SAP in Windows][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="db0c9-180">[Azure Virtual Machines DBMS deployment for SAP on Windows][dbms-guide]</span></span>
* <span data-ttu-id="db0c9-181">[Portale di Azure][azure-portal]</span><span class="sxs-lookup"><span data-stu-id="db0c9-181">[Azure portal][azure-portal]</span></span>

## <span data-ttu-id="db0c9-182"><a name="b3253ee3-d63b-4d74-a49b-185e76c4088e"></a>Scenari di distribuzione per il software SAP in VM di Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-182"><a name="b3253ee3-d63b-4d74-a49b-185e76c4088e"></a>Deployment scenarios for SAP software on Azure VMs</span></span>
<span data-ttu-id="db0c9-183">È possibile distribuire le VM e i dischi associati in Azure in diversi modi.</span><span class="sxs-lookup"><span data-stu-id="db0c9-183">You have multiple options for deploying VMs and associated disks in Azure.</span></span> <span data-ttu-id="db0c9-184">Differenze di hello toounderstand importanti tra le opzioni di distribuzione, è perché è possibile eseguire diversi passaggi tooprepare le macchine virtuali per la distribuzione in base al tipo di distribuzione hello che scelto.</span><span class="sxs-lookup"><span data-stu-id="db0c9-184">It's important toounderstand hello differences between deployment options, because you might take different steps tooprepare your VMs for deployment based on hello deployment type you choose.</span></span>

### <span data-ttu-id="db0c9-185"><a name="db477013-9060-4602-9ad4-b0316f8bb281"></a>Scenario 1: Distribuzione di una macchina virtuale da hello Azure Marketplace per SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-185"><a name="db477013-9060-4602-9ad4-b0316f8bb281"></a>Scenario 1: Deploying a VM from hello Azure Marketplace for SAP</span></span>
<span data-ttu-id="db0c9-186">È possibile utilizzare un'immagine fornita da Microsoft o da terze parti in hello Azure Marketplace toodeploy la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-186">You can use an image provided by Microsoft or by a third party in hello Azure Marketplace toodeploy your VM.</span></span> <span data-ttu-id="db0c9-187">Hello Marketplace offre alcune immagini del sistema operativo standard di Windows Server e diverse distribuzioni di Linux.</span><span class="sxs-lookup"><span data-stu-id="db0c9-187">hello Marketplace offers some standard OS images of Windows Server and different Linux distributions.</span></span> <span data-ttu-id="db0c9-188">È anche possibile distribuire un'immagine che include SKU di sistema di gestione di database (DBMS), ad esempio, Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="db0c9-188">You also can deploy an image that includes database management system (DBMS) SKUs, for example, Microsoft SQL Server.</span></span> <span data-ttu-id="db0c9-189">Per altre informazioni sull'uso di immagini con SKU DBMS, vedere [Distribuzione DBMS di Macchine virtuali di Azure per SAP in Linux][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-189">For more information about using images with DBMS SKUs, see [Azure Virtual Machines DBMS deployment for SAP on Linux][dbms-guide].</span></span>

<span data-ttu-id="db0c9-190">Hello diagramma di flusso seguente viene illustrata hello SAP specifiche sequenza di passaggi per la distribuzione di una macchina virtuale da Azure Marketplace hello:</span><span class="sxs-lookup"><span data-stu-id="db0c9-190">hello following flowchart shows hello SAP-specific sequence of steps for deploying a VM from hello Azure Marketplace:</span></span>

![Diagramma di flusso della distribuzione di macchine Virtuali per i sistemi SAP tramite un'immagine di macchina virtuale da hello Azure Marketplace][deployment-guide-figure-100]

#### <a name="create-a-virtual-machine-by-using-hello-azure-portal"></a><span data-ttu-id="db0c9-192">Creare una macchina virtuale utilizzando hello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-192">Create a virtual machine by using hello Azure portal</span></span>
<span data-ttu-id="db0c9-193">toocreate modo più semplice di Hello una nuova macchina virtuale con un'immagine da hello Azure Marketplace è tramite hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-193">hello easiest way toocreate a new virtual machine with an image from hello Azure Marketplace is by using hello Azure portal.</span></span>

1.  <span data-ttu-id="db0c9-194">Andare troppo<https://portal.azure.com/#create>.</span><span class="sxs-lookup"><span data-stu-id="db0c9-194">Go too<https://portal.azure.com/#create>.</span></span>  <span data-ttu-id="db0c9-195">In alternativa, nel menu del portale di Azure hello, selezionare **+ nuovo**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-195">Or, in hello Azure portal menu, select **+ New**.</span></span>
2.  <span data-ttu-id="db0c9-196">Selezionare **calcolo**e quindi selezionare il tipo di hello di cui si desidera toodeploy sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-196">Select **Compute**, and then select hello type of operating system you want toodeploy.</span></span> <span data-ttu-id="db0c9-197">Ad esempio, Windows Server 2012 R2, SUSE Linux Enterprise Server 12 (SLES 12) o Red Hat Enterprise Linux 7.2 (RHEL 7.2).</span><span class="sxs-lookup"><span data-stu-id="db0c9-197">For example, Windows Server 2012 R2, SUSE Linux Enterprise Server 12 (SLES 12), or Red Hat Enterprise Linux 7.2 (RHEL 7.2).</span></span> <span data-ttu-id="db0c9-198">visualizzazione elenco predefinito di Hello non mostra che tutti i sistemi operativi supportati.</span><span class="sxs-lookup"><span data-stu-id="db0c9-198">hello default list view does not show all supported operating systems.</span></span> <span data-ttu-id="db0c9-199">Selezionare **Visualizza tutto** per un elenco completo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-199">Select **see all** for a full list.</span></span> <span data-ttu-id="db0c9-200">Per altre informazioni sui sistemi operativi supportati per la distribuzione di software SAP, vedere la nota SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="db0c9-200">For more information about supported operating systems for SAP software deployment, see SAP Note [1928533].</span></span>
3.  <span data-ttu-id="db0c9-201">Nella pagina successiva di hello, esaminare i termini e condizioni.</span><span class="sxs-lookup"><span data-stu-id="db0c9-201">On hello next page, review terms and conditions.</span></span>
4.  <span data-ttu-id="db0c9-202">In hello **selezionare un modello di distribuzione** selezionare **Gestione risorse**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-202">In hello **Select a deployment model** box, select **Resource Manager**.</span></span>
5.  <span data-ttu-id="db0c9-203">Selezionare **Crea**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-203">Select **Create**.</span></span>

<span data-ttu-id="db0c9-204">procedura guidata Hello permette di impostare la macchina virtuale hello necessario parametri toocreate hello, inoltre tooall necessarie risorse, quali le interfacce di rete e gli account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-204">hello wizard guides you through setting hello required parameters toocreate hello virtual machine, in addition tooall required resources, like network interfaces and storage accounts.</span></span> <span data-ttu-id="db0c9-205">Ecco alcuni di questi parametri:</span><span class="sxs-lookup"><span data-stu-id="db0c9-205">Some of these parameters are:</span></span>

1. <span data-ttu-id="db0c9-206">**Nozioni di base**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-206">**Basics**:</span></span>
  * <span data-ttu-id="db0c9-207">**Nome**: nome hello della risorsa hello (nome della macchina virtuale hello).</span><span class="sxs-lookup"><span data-stu-id="db0c9-207">**Name**: hello name of hello resource (hello virtual machine name).</span></span>
 * <span data-ttu-id="db0c9-208">**Nome utente e password** o **chiave pubblica SSH**: immettere hello utente e password dell'utente hello creati durante il provisioning di hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-208">**Username and password** or **SSH public key**: Enter hello username and password of hello user that is created during hello provisioning.</span></span> <span data-ttu-id="db0c9-209">Per una macchina virtuale Linux, è possibile immettere una chiave SSH (Secure Shell) pubblica hello utilizzare toosign toohello macchina.</span><span class="sxs-lookup"><span data-stu-id="db0c9-209">For a Linux virtual machine, you can enter hello public Secure Shell (SSH) key that you use toosign in toohello machine.</span></span>
 * <span data-ttu-id="db0c9-210">**Sottoscrizione**: selezionare una sottoscrizione di hello che si desidera tooprovision toouse hello nuova macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-210">**Subscription**: Select hello subscription that you want toouse tooprovision hello new virtual machine.</span></span>
 * <span data-ttu-id="db0c9-211">**Gruppo di risorse**: nome hello hello del gruppo di risorse per hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-211">**Resource group**: hello name of hello resource group for hello VM.</span></span> <span data-ttu-id="db0c9-212">È possibile immettere il nome di hello di un nuovo nome gruppo o hello di risorse di un gruppo di risorse che esiste già.</span><span class="sxs-lookup"><span data-stu-id="db0c9-212">You can enter either hello name of a new resource group or hello name of a resource group that already exists.</span></span>
 * <span data-ttu-id="db0c9-213">**Percorso**: dove toodeploy hello nuova macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-213">**Location**: Where toodeploy hello new virtual machine.</span></span> <span data-ttu-id="db0c9-214">Se si desidera la rete locale tooconnect hello macchina virtuale tooyour, assicurarsi di selezionare il percorso di hello della rete virtuale hello che si connette rete locale tooyour Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-214">If you want tooconnect hello virtual machine tooyour on-premises network, make sure you select hello location of hello virtual network that connects Azure tooyour on-premises network.</span></span> <span data-ttu-id="db0c9-215">Per altre informazioni, vedere [Rete di Microsoft Azure][planning-guide-microsoft-azure-networking] in [Pianificazione e implementazione di Macchine virtuali di Azure per SAP in Linux][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-215">For more information, see [Microsoft Azure networking][planning-guide-microsoft-azure-networking] in [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide].</span></span>
2. <span data-ttu-id="db0c9-216">**Dimensione**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-216">**Size**:</span></span>

     <span data-ttu-id="db0c9-217">Per un elenco dei tipi di VM supportati, vedere la nota SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="db0c9-217">For a list of supported VM types, see SAP Note [1928533].</span></span> <span data-ttu-id="db0c9-218">Assicurarsi di che selezionare il tipo di macchina virtuale corretto hello se si desidera toouse archiviazione Premium di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-218">Be sure you select hello correct VM type if you want toouse Azure Premium Storage.</span></span> <span data-ttu-id="db0c9-219">Non tutti i tipi di VM supportano Archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="db0c9-219">Not all VM types support Premium Storage.</span></span> <span data-ttu-id="db0c9-220">Per altre informazioni, vedere [Archiviazione: Archiviazione di Microsoft Azure e dischi dati][planning-guide-storage-microsoft-azure-storage-and-data-disks] e [Archiviazione Premium di Azure][planning-guide-azure-premium-storage] in [Pianificazione e implementazione di Macchine virtuali di Azure per SAP in Linux][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-220">For more information, see [Storage: Microsoft Azure Storage and data disks][planning-guide-storage-microsoft-azure-storage-and-data-disks] and [Azure Premium Storage][planning-guide-azure-premium-storage] in [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide].</span></span>

3. <span data-ttu-id="db0c9-221">**Impostazioni**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-221">**Settings**:</span></span>
   * <span data-ttu-id="db0c9-222">**Account di archiviazione**: selezionare un account di archiviazione esistente o crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-222">**Storage account**: Select an existing storage account or create a new one.</span></span> <span data-ttu-id="db0c9-223">Non tutti i tipi di archiviazione funzionano per l'esecuzione di applicazioni SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-223">Not all storage types work for running SAP applications.</span></span> <span data-ttu-id="db0c9-224">Per altre informazioni sui tipi di Archiviazione, vedere [Archiviazione di Microsoft Azure][dbms-guide-2.3] in [Distribuzione DBMS di Macchine virtuali di Azure per SAP in Linux][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-224">For more information about storage types, see [Microsoft Azure Storage][dbms-guide-2.3] in [Azure Virtual Machines DBMS deployment for SAP on Linux][dbms-guide].</span></span>
   * <span data-ttu-id="db0c9-225">**Rete virtuale** e **Subnet**: macchina virtuale di hello toointegrate con la rete intranet, hello selezionare rete virtuale rete locale connesso tooyour.</span><span class="sxs-lookup"><span data-stu-id="db0c9-225">**Virtual network** and **Subnet**: toointegrate hello virtual machine with your intranet, select hello virtual network that is connected tooyour on-premises network.</span></span>
   * <span data-ttu-id="db0c9-226">**Indirizzo IP pubblico**: selezionare hello indirizzo IP pubblico che si desidera toouse o immettere i parametri toocreate un nuovo indirizzo IP pubblico.</span><span class="sxs-lookup"><span data-stu-id="db0c9-226">**Public IP address**: Select hello public IP address that you want toouse, or enter parameters toocreate a new public IP address.</span></span> <span data-ttu-id="db0c9-227">È possibile utilizzare un tooaccess di indirizzo IP pubblico della macchina virtuale su hello Internet.</span><span class="sxs-lookup"><span data-stu-id="db0c9-227">You can use a public IP address tooaccess your virtual machine over hello Internet.</span></span> <span data-ttu-id="db0c9-228">Assicurarsi che anche creare una macchina di virtuale di rete sicurezza gruppo toohelp accesso sicuro tooyour.</span><span class="sxs-lookup"><span data-stu-id="db0c9-228">Make sure that you also create a network security group toohelp secure access tooyour virtual machine.</span></span>
   * <span data-ttu-id="db0c9-229">**Gruppo di sicurezza di rete**: per altre informazioni, vedere [Controllare il flusso del traffico di rete con i gruppi di sicurezza di rete][virtual-networks-nsg].</span><span class="sxs-lookup"><span data-stu-id="db0c9-229">**Network security group**: For more information, see [Control network traffic flow with network security groups][virtual-networks-nsg].</span></span>
   * <span data-ttu-id="db0c9-230">**Disponibilità**: selezionare un set di disponibilità o immettere i parametri di hello toocreate disponibilità di una nuova impostato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-230">**Availability**: Select an availability set, or enter hello parameters toocreate a new availability set.</span></span> <span data-ttu-id="db0c9-231">Per altre informazioni, vedere [Set di disponibilità di Azure][planning-guide-3.2.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-231">For more information, see [Azure availability sets][planning-guide-3.2.3].</span></span>
   * <span data-ttu-id="db0c9-232">**Monitoraggio**: è possibile selezionare **Disabilita** per la diagnostica del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-232">**Monitoring**: You can select **Disable** for monitoring diagnostics.</span></span> <span data-ttu-id="db0c9-233">Viene abilitata automaticamente quando si esegue hello comandi tooenable hello Azure Enhanced Monitoring Extension, come descritto in [Configura monitoraggio][deployment-guide-configure-monitoring-scenario-1].</span><span class="sxs-lookup"><span data-stu-id="db0c9-233">It is enabled automatically when you run hello commands tooenable hello Azure Enhanced Monitoring Extension, as described in [Configure monitoring][deployment-guide-configure-monitoring-scenario-1].</span></span>

4. <span data-ttu-id="db0c9-234">**Riepilogo**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-234">**Summary**:</span></span>

  <span data-ttu-id="db0c9-235">Riesaminare le selezioni e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-235">Review your selections, and then select **OK**.</span></span>

<span data-ttu-id="db0c9-236">La macchina virtuale viene distribuita nel gruppo di risorse hello selezionato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-236">Your virtual machine is deployed in hello resource group you selected.</span></span>

#### <a name="create-a-virtual-machine-by-using-a-template"></a><span data-ttu-id="db0c9-237">Creare una macchina virtuale usando un modello</span><span class="sxs-lookup"><span data-stu-id="db0c9-237">Create a virtual machine by using a template</span></span>
<span data-ttu-id="db0c9-238">È possibile creare una macchina virtuale utilizzando uno dei modelli SAP hello pubblicati in hello [repository GitHub di azure-Guida introduttiva: modelli][azure-quickstart-templates-github].</span><span class="sxs-lookup"><span data-stu-id="db0c9-238">You can create a virtual machine by using one of hello SAP templates published in hello [azure-quickstart-templates GitHub repository][azure-quickstart-templates-github].</span></span> <span data-ttu-id="db0c9-239">È anche possibile creare manualmente una macchina virtuale utilizzando hello [portale di Azure][virtual-machines-windows-tutorial], [PowerShell][virtual-machines-ps-create-preconfigure-windows-resource-manager-vms], o [CLI di Azure ][virtual-machines-linux-tutorial].</span><span class="sxs-lookup"><span data-stu-id="db0c9-239">You also can manually create a virtual machine by using hello [Azure portal][virtual-machines-windows-tutorial], [PowerShell][virtual-machines-ps-create-preconfigure-windows-resource-manager-vms], or [Azure CLI][virtual-machines-linux-tutorial].</span></span>

* <span data-ttu-id="db0c9-240">[**Modello per configurazione a due livelli (una sola macchina virtuale)** (sap-2-tier-marketplace-image)][sap-templates-2-tier-marketplace-image]</span><span class="sxs-lookup"><span data-stu-id="db0c9-240">[**Two-tier configuration (only one virtual machine) template** (sap-2-tier-marketplace-image)][sap-templates-2-tier-marketplace-image]</span></span>

  <span data-ttu-id="db0c9-241">toocreate un sistema a due livelli utilizzando una sola macchina virtuale, utilizzare questo modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-241">toocreate a two-tier system by using only one virtual machine, use this template.</span></span>
* <span data-ttu-id="db0c9-242">[**Modello per configurazione a tre livelli (più macchine virtuali)** (sap-3-tier-marketplace-image)][sap-templates-3-tier-marketplace-image]</span><span class="sxs-lookup"><span data-stu-id="db0c9-242">[**Three-tier configuration (multiple virtual machines) template** (sap-3-tier-marketplace-image)][sap-templates-3-tier-marketplace-image]</span></span>

  <span data-ttu-id="db0c9-243">toocreate un sistema a tre livelli con più macchine virtuali, utilizzare questo modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-243">toocreate a three-tier system by using multiple virtual machines, use this template.</span></span>

<span data-ttu-id="db0c9-244">Nel portale di Azure hello, immettere hello seguenti parametri per il modello di hello:</span><span class="sxs-lookup"><span data-stu-id="db0c9-244">In hello Azure portal, enter hello following parameters for hello template:</span></span>

1. <span data-ttu-id="db0c9-245">**Nozioni di base**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-245">**Basics**:</span></span>
  * <span data-ttu-id="db0c9-246">**Sottoscrizione**: modello di hello sottoscrizione toouse toodeploy hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-246">**Subscription**: hello subscription toouse toodeploy hello template.</span></span>
  * <span data-ttu-id="db0c9-247">**Gruppo di risorse**: modello di risorsa gruppo toouse toodeploy hello hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-247">**Resource group**: hello resource group toouse toodeploy hello template.</span></span> <span data-ttu-id="db0c9-248">È possibile creare un nuovo gruppo di risorse oppure è possibile selezionare un gruppo di risorse esistente nella sottoscrizione hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-248">You can create a new resource group, or you can select an existing resource group in hello subscription.</span></span>
  * <span data-ttu-id="db0c9-249">**Percorso**: dove toodeploy hello modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-249">**Location**: Where toodeploy hello template.</span></span> <span data-ttu-id="db0c9-250">Se si seleziona un gruppo di risorse esistente, viene utilizzato il percorso di hello del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="db0c9-250">If you selected an existing resource group, hello location of that resource group is used.</span></span>

2. <span data-ttu-id="db0c9-251">**Impostazioni**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-251">**Settings**:</span></span>
  * <span data-ttu-id="db0c9-252">**ID sistema SAP**: hello ID sistema SAP (SID).</span><span class="sxs-lookup"><span data-stu-id="db0c9-252">**SAP System ID**: hello SAP System ID (SID).</span></span>
  * <span data-ttu-id="db0c9-253">**Tipo di sistema operativo**: hello del sistema operativo desiderato toodeploy, ad esempio, Windows Server 2012 R2, SUSE Linux Enterprise Server 12 (SLES 12) o Red Hat Enterprise Linux 7.2 (RHEL 7.2).</span><span class="sxs-lookup"><span data-stu-id="db0c9-253">**OS type**: hello operating system you want toodeploy, for example, Windows Server 2012 R2, SUSE Linux Enterprise Server 12 (SLES 12), or Red Hat Enterprise Linux 7.2 (RHEL 7.2).</span></span>

    <span data-ttu-id="db0c9-254">visualizzazione elenco predefinito di Hello non mostra che tutti i sistemi operativi supportati.</span><span class="sxs-lookup"><span data-stu-id="db0c9-254">hello default list view does not show all supported operating systems.</span></span> <span data-ttu-id="db0c9-255">Selezionare **Visualizza tutto** per un elenco completo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-255">Select **see all** for a full list.</span></span> <span data-ttu-id="db0c9-256">Per altre informazioni sui sistemi operativi supportati per la distribuzione di software SAP, vedere la nota SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="db0c9-256">For more information about supported operating systems for SAP software deployment, see SAP Note [1928533].</span></span>
  * <span data-ttu-id="db0c9-257">**Dimensioni del sistema SAP**: hello dimensioni di hello sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-257">**SAP system size**: hello size of hello SAP system.</span></span>

    <span data-ttu-id="db0c9-258">fornisce il numero di Hello del nuovo sistema SAP hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-258">hello number of SAPS hello new system provides.</span></span> <span data-ttu-id="db0c9-259">Se non si conoscono quanti valori SAPS hello sistema richiede, chiedere al SAP tecnologia Partner o l'integratore di sistema.</span><span class="sxs-lookup"><span data-stu-id="db0c9-259">If you are not sure how many SAPS hello system requires, ask your SAP Technology Partner or System Integrator.</span></span>
  * <span data-ttu-id="db0c9-260">**La disponibilità del sistema** (solo modello di livello 3): hello la disponibilità del sistema.</span><span class="sxs-lookup"><span data-stu-id="db0c9-260">**System availability** (three-tier template only): hello system availability.</span></span>

    <span data-ttu-id="db0c9-261">Selezionare **HA** per una configurazione adatta a un'installazione a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="db0c9-261">Select **HA** for a configuration that is suitable for a high-availability installation.</span></span> <span data-ttu-id="db0c9-262">Vengono creati due server di database e due server per ABAP SAP Central Services (ASCS).</span><span class="sxs-lookup"><span data-stu-id="db0c9-262">Two database servers and two servers for ABAP SAP Central Services (ASCS) are created.</span></span>
  * <span data-ttu-id="db0c9-263">**Tipo di archiviazione** (solo modello a due livelli): tipo di archiviazione toouse hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-263">**Storage type** (two-tier template only): hello type of storage toouse.</span></span>

    <span data-ttu-id="db0c9-264">Per i sistemi più grandi, è consigliabile usare Archiviazione Premium di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-264">For larger systems, we highly recommend using Azure Premium Storage.</span></span> <span data-ttu-id="db0c9-265">Per altre informazioni sui tipi di archiviazione, vedere queste risorse:</span><span class="sxs-lookup"><span data-stu-id="db0c9-265">For more information about storage types, see these resources:</span></span>
      * <span data-ttu-id="db0c9-266">[Use of Azure Premium SSD Storage for SAP DBMS Instance][2367194] (Uso dell'archiviazione unità SSD di Azure Premium per l'istanza DBMS di SAP)</span><span class="sxs-lookup"><span data-stu-id="db0c9-266">[Use of Azure Premium SSD Storage for SAP DBMS Instance][2367194]</span></span>
      * <span data-ttu-id="db0c9-267">[Archiviazione di Microsoft Azure][dbms-guide-2.3] in [Distribuzione DBMS di Macchine virtuali di Azure per SAP in Linux][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="db0c9-267">[Microsoft Azure Storage][dbms-guide-2.3] in [Azure Virtual Machines DBMS deployment for SAP on Linux][dbms-guide]</span></span>
      * <span data-ttu-id="db0c9-268">[Archiviazione Premium: archiviazione ad alte prestazioni per carichi di lavoro delle macchine virtuali di Azure][storage-premium-storage-preview-portal]</span><span class="sxs-lookup"><span data-stu-id="db0c9-268">[Premium Storage: High-performance storage for Azure Virtual Machine workloads][storage-premium-storage-preview-portal]</span></span>
      * <span data-ttu-id="db0c9-269">[Introduzione tooMicrosoft di archiviazione di Azure][storage-introduction]</span><span class="sxs-lookup"><span data-stu-id="db0c9-269">[Introduction tooMicrosoft Azure Storage][storage-introduction]</span></span>
  * <span data-ttu-id="db0c9-270">**Nome utente amministratore** e **Password amministratore**: nome utente e password dell'amministratore.</span><span class="sxs-lookup"><span data-stu-id="db0c9-270">**Admin username** and **Admin password**: A username and password.</span></span>
    <span data-ttu-id="db0c9-271">Per la firma nella macchina virtuale toohello, viene creato un nuovo utente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-271">A new user is created, for signing in toohello virtual machine.</span></span>
  * <span data-ttu-id="db0c9-272">**Subnet nuova o esistente**: determina se vengono create una nuova rete virtuale e una nuova subnet o viene usata una subnet esistente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-272">**New or existing subnet**: Determines whether a new virtual network and subnet are  created or an existing subnet is used.</span></span> <span data-ttu-id="db0c9-273">Se si dispone già di una rete virtuale è una rete locale tooyour connesso, selezionare **esistente**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-273">If you already have a virtual network that is connected tooyour on-premises network, select **Existing**.</span></span>
  * <span data-ttu-id="db0c9-274">**ID di subnet**: hello ID di subnet hello hello le macchine virtuali si connetterà.</span><span class="sxs-lookup"><span data-stu-id="db0c9-274">**Subnet ID**: hello ID of hello subnet hello virtual machines will connect to.</span></span> <span data-ttu-id="db0c9-275">Selezionare hello subnet della rete privata virtuale (VPN) o Azure ExpressRoute rete virtuale toouse tooconnect hello tooyour locale rete della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-275">Select hello subnet of your virtual private network (VPN) or Azure ExpressRoute virtual network toouse tooconnect hello virtual machine tooyour on-premises network.</span></span> <span data-ttu-id="db0c9-276">ID Hello in genere è simile al seguente: /Subscriptions/<ID&lt;id sottoscrizione >/ResourceGroups /&lt;nome gruppo di risorse > /providers/Microsoft.Network/virtualNetworks/&lt;nome di rete virtuale > /subnets/&lt;nome subnet ></span><span class="sxs-lookup"><span data-stu-id="db0c9-276">hello ID usually looks like this: /subscriptions/&lt;subscription id>/resourceGroups/&lt;resource group name>/providers/Microsoft.Network/virtualNetworks/&lt;virtual network name>/subnets/&lt;subnet name></span></span>

3. <span data-ttu-id="db0c9-277">**Condizioni**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-277">**Terms and conditions**:</span></span>  
    <span data-ttu-id="db0c9-278">Leggere e accettare i termini legali specifici hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-278">Review and accept hello legal terms.</span></span>

4.  <span data-ttu-id="db0c9-279">Selezionare **Acquisto**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-279">Select **Purchase**.</span></span>

<span data-ttu-id="db0c9-280">Hello agente VM di Azure viene distribuito per impostazione predefinita, quando si utilizza un'immagine da hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="db0c9-280">hello Azure VM Agent is deployed by default when you use an image from hello Azure Marketplace.</span></span>

#### <a name="configure-proxy-settings"></a><span data-ttu-id="db0c9-281">Configurare le impostazioni proxy</span><span class="sxs-lookup"><span data-stu-id="db0c9-281">Configure proxy settings</span></span>
<span data-ttu-id="db0c9-282">A seconda della configurazione della rete locale, potrebbe essere necessario tooset di proxy hello nella VM.</span><span class="sxs-lookup"><span data-stu-id="db0c9-282">Depending on how your on-premises network is configured, you might need tooset up hello proxy on your VM.</span></span> <span data-ttu-id="db0c9-283">Se la macchina virtuale è connessa tooyour rete locale tramite VPN o ExpressRoute, hello macchina virtuale potrebbe non essere in grado di tooaccess hello Internet e non essere in grado di toodownload estensioni hello richiesto o raccogliere dati di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-283">If your VM is connected tooyour on-premises network via VPN or ExpressRoute, hello VM might not be able tooaccess hello Internet, and won't be able toodownload hello required extensions or collect monitoring data.</span></span> <span data-ttu-id="db0c9-284">Per ulteriori informazioni, vedere [configurare proxy hello][deployment-guide-configure-proxy].</span><span class="sxs-lookup"><span data-stu-id="db0c9-284">For more information, see [Configure hello proxy][deployment-guide-configure-proxy].</span></span>

#### <a name="join-a-domain-windows-only"></a><span data-ttu-id="db0c9-285">Aggiungere a un dominio (solo per Windows)</span><span class="sxs-lookup"><span data-stu-id="db0c9-285">Join a domain (Windows only)</span></span>
<span data-ttu-id="db0c9-286">Se la distribuzione di Azure viene connesso tooan istanza locale di Active Directory o DNS tramite una connessione VPN di Azure site-to-site o ExpressRoute (detta *cross-premise* in [pianificazione macchine virtuali di Azure e sull'implementazione di SAP in Linux][planning-guide]), è previsto che hello macchina virtuale è aggiunta a un dominio locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-286">If your Azure deployment is connected tooan on-premises Active Directory or DNS instance via an Azure site-to-site VPN connection or ExpressRoute (this is called *cross-premises* in [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide]), it is expected that hello VM is joining an on-premises domain.</span></span> <span data-ttu-id="db0c9-287">Per ulteriori informazioni su considerazioni per questa attività, vedere [aggiunta a un dominio locale VM tooan (solo Windows)][deployment-guide-4.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-287">For more information about considerations for this task, see [Join a VM tooan on-premises domain (Windows only)][deployment-guide-4.3].</span></span>

#### <span data-ttu-id="db0c9-288"><a name="ec323ac3-1de9-4c3a-b770-4ff701def65b"></a>Configurare il monitoraggio</span><span class="sxs-lookup"><span data-stu-id="db0c9-288"><a name="ec323ac3-1de9-4c3a-b770-4ff701def65b"></a>Configure monitoring</span></span>
<span data-ttu-id="db0c9-289">che l'ambiente supporta SAP, impostare hello Azure Monitoring Extension per SAP come descritto in toobe [Configura hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-4.5].</span><span class="sxs-lookup"><span data-stu-id="db0c9-289">toobe sure your environment supports SAP, set up hello Azure Monitoring Extension for SAP as described in [Configure hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-4.5].</span></span> <span data-ttu-id="db0c9-290">Verifica dei prerequisiti di hello per il monitoraggio SAP e le versioni minime richieste del Kernel SAP e dell'agente Host SAP, in risorse hello elencate in [risorse SAP][deployment-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-290">Check hello prerequisites for SAP monitoring, and required minimum versions of SAP Kernel and SAP Host Agent, in hello resources listed in [SAP resources][deployment-guide-2.2].</span></span>

#### <a name="monitoring-check"></a><span data-ttu-id="db0c9-291">Controllo del monitoraggio</span><span class="sxs-lookup"><span data-stu-id="db0c9-291">Monitoring check</span></span>
<span data-ttu-id="db0c9-292">Controllare se il monitoraggio funziona, come descritto in [Controlli e risoluzione dei problemi per la configurazione del monitoraggio end-to-end][deployment-guide-troubleshooting-chapter].</span><span class="sxs-lookup"><span data-stu-id="db0c9-292">Check whether monitoring is working, as described in [Checks and troubleshooting for setting up end-to-end monitoring][deployment-guide-troubleshooting-chapter].</span></span>

#### <a name="post-deployment-steps"></a><span data-ttu-id="db0c9-293">Passaggi post-distribuzione</span><span class="sxs-lookup"><span data-stu-id="db0c9-293">Post-deployment steps</span></span>
<span data-ttu-id="db0c9-294">Dopo aver creato hello VM e VM hello viene distribuito, è necessario tooinstall hello necessario componenti software hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-294">After you create hello VM and hello VM is deployed, you need tooinstall hello required software components in hello VM.</span></span> <span data-ttu-id="db0c9-295">A causa di sequenza di installazione software di installazione/hello in questo tipo di distribuzione di macchine Virtuali, hello toobe di software installato deve essere già disponibili in Azure, in un'altra macchina virtuale o come un disco che può essere collegato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-295">Because of hello deployment/software installation sequence in this type of VM deployment, hello software toobe installed must already be available, either in Azure, on another VM, or as a disk that can be attached.</span></span> <span data-ttu-id="db0c9-296">In alternativa, prendere in considerazione uno scenario di cross-premise, in cui la connettività toohello locale asset (condivisioni di installazione) viene fornito.</span><span class="sxs-lookup"><span data-stu-id="db0c9-296">Or, consider using a cross-premises scenario, in which connectivity toohello on-premises assets (installation shares) is given.</span></span>

<span data-ttu-id="db0c9-297">Dopo aver distribuito la macchina virtuale in Azure, seguire hello stessi strumenti e linee guida tooinstall hello il software SAP nella macchina virtuale come si sarebbe in un ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-297">After you deploy your VM in Azure, follow hello same guidelines and tools tooinstall hello SAP software on your VM as you would in an on-premises environment.</span></span> <span data-ttu-id="db0c9-298">tooinstall il software SAP in una macchina virtuale di Azure, sia SAP e Microsoft consiglia di caricare e archiviare i supporti di installazione di SAP hello in dischi rigidi virtuali di Azure o creare una macchina virtuale di Azure che funziona come un file server dotato di hello tutti necessario il supporto di installazione di SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-298">tooinstall SAP software on an Azure VM, both SAP and Microsoft recommend that you upload and store hello SAP installation media on Azure VHDs, or that you create an Azure VM that works as a file server that has all hello required SAP installation media.</span></span>

[comment]: <> (TODO MSSedusch perché sono necessarie toorecommend una gestione dei file, ad esempio, File Server o un disco rigido virtuale? Is that so different from on-premises?)

### <span data-ttu-id="db0c9-300"><a name="54a1fc6d-24fd-4feb-9c57-ac588a55dff2"></a>Scenario 2: Distribuzione di una VM con un'immagine personalizzata per SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-300"><a name="54a1fc6d-24fd-4feb-9c57-ac588a55dff2"></a>Scenario 2: Deploying a VM with a custom image for SAP</span></span>
<span data-ttu-id="db0c9-301">Poiché versioni diverse di un sistema operativo o DBMS presentano requisiti di patch diverso, le immagini di hello che trova in hello Azure Marketplace potrebbero non soddisfare le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="db0c9-301">Because different versions of an operating system or DBMS have different patch requirements, hello images you find in hello Azure Marketplace might not meet your needs.</span></span> <span data-ttu-id="db0c9-302">È possibile invece toocreate una macchina virtuale utilizzando la propria immagine di macchina virtuale del sistema operativo/DBMS, che è possibile distribuire più tardi.</span><span class="sxs-lookup"><span data-stu-id="db0c9-302">You might instead want toocreate a VM by using your own OS/DBMS VM image, which you can deploy again later.</span></span>
<span data-ttu-id="db0c9-303">Utilizzare diversi passaggi toocreate un'immagine privata per Linux di toocreate per Windows.</span><span class="sxs-lookup"><span data-stu-id="db0c9-303">You use different steps toocreate a private image for Linux than toocreate one for Windows.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="db0c9-305">Windows</span><span class="sxs-lookup"><span data-stu-id="db0c9-305">Windows</span></span>
>
> <span data-ttu-id="db0c9-306">un'immagine di Windows che è possibile utilizzare toodeploy più macchine virtuali, le impostazioni di Windows hello (ad esempio SID e il nome host) devono essere estratti o generalizzato su hello tooprepare locale macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-306">tooprepare a Windows image that you can use toodeploy multiple virtual machines, hello Windows settings (like Windows SID and hostname) must be abstracted or generalized on hello on-premises VM.</span></span> <span data-ttu-id="db0c9-307">È possibile utilizzare [sysprep](https://msdn.microsoft.com/library/hh825084.aspx) toodo questo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-307">You can use [sysprep](https://msdn.microsoft.com/library/hh825084.aspx) toodo this.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="db0c9-309">Linux</span><span class="sxs-lookup"><span data-stu-id="db0c9-309">Linux</span></span>
>
> <span data-ttu-id="db0c9-310">tooprepare un'immagine Linux, che è possibile utilizzare toodeploy più macchine virtuali, alcune impostazioni di Linux devono essere hello astratto o generalizzato nella macchina virtuale in locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-310">tooprepare a Linux image that you can use toodeploy multiple virtual machines, some Linux settings must be abstracted or generalized on hello on-premises VM.</span></span> <span data-ttu-id="db0c9-311">È possibile utilizzare `waagent -deprovision` toodo questo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-311">You can use `waagent -deprovision`  toodo this.</span></span> <span data-ttu-id="db0c9-312">Per ulteriori informazioni, vedere [acquisire una macchina virtuale di Linux in esecuzione in Azure] [ virtual-machines-linux-capture-image] hello e [Guida dell'utente dell'agente Linux di Azure][virtual-machines-linux-agent-user-guide-command-line-options].</span><span class="sxs-lookup"><span data-stu-id="db0c9-312">For more information, see [Capture a Linux virtual machine running on Azure][virtual-machines-linux-capture-image] and hello [Azure Linux agent user guide][virtual-machines-linux-agent-user-guide-command-line-options].</span></span>
>
>

- - -
<span data-ttu-id="db0c9-313">È possibile preparare e creare un'immagine personalizzata e quindi utilizzarlo toocreate più nuove macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="db0c9-313">You can prepare and create a custom image, and then use it toocreate multiple new VMs.</span></span> <span data-ttu-id="db0c9-314">come illustrato in [Pianificazione e implementazione di Macchine virtuali di Azure per SAP in Linux][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-314">This is described in [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide].</span></span> <span data-ttu-id="db0c9-315">Set di backup del database del contenuto tramite l'utilizzo di SAP Software Provisioning Manager tooinstall un nuovo sistema SAP (Ripristina un backup del database da un disco rigido virtuale che è collegato toohello virtual machine) o ripristinando un backup del database da archiviazione di Azure, direttamente se DBMS lo supporta.</span><span class="sxs-lookup"><span data-stu-id="db0c9-315">Set up your database content either by using SAP Software Provisioning Manager tooinstall a new SAP system (restores a database backup from a VHD that's attached toohello virtual machine) or by directly restoring a database backup from Azure storage, if your DBMS supports it.</span></span> <span data-ttu-id="db0c9-316">Per altre informazioni, vedere [Distribuzione DBMS di Macchine virtuali di Azure per SAP in Linux][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="db0c9-316">For more information, see [Azure Virtual Machines DBMS deployment for SAP on Linux][dbms-guide].</span></span> <span data-ttu-id="db0c9-317">Se è già stato installato un sistema SAP nella macchina virtuale locale (in particolare per sistemi a due livelli), è possibile adattare le impostazioni di sistema SAP hello dopo la distribuzione di hello di hello macchina virtuale di Azure tramite procedure di sistema rinominare hello supportate da SAP Software Provisioning Manager (nota SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="db0c9-317">If you have already installed an SAP system on your on-premises VM (especially for two-tier systems), you can adapt hello SAP system settings after hello deployment of hello Azure VM by using hello System Rename procedure supported by SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="db0c9-318">In caso contrario, è possibile installare il software SAP hello dopo aver distribuito hello macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-318">Otherwise, you can install hello SAP software after you deploy hello Azure VM.</span></span>

<span data-ttu-id="db0c9-319">Hello diagramma di flusso seguente viene illustrata hello SAP specifiche sequenza di passaggi per la distribuzione di una macchina virtuale da un'immagine personalizzata:</span><span class="sxs-lookup"><span data-stu-id="db0c9-319">hello following flowchart shows hello SAP-specific sequence of steps for deploying a VM from a custom image:</span></span>

![Diagramma di flusso della distribuzione di una VM per sistemi SAP con un'immagine di VM di marketplace privato][deployment-guide-figure-300]

#### <a name="create-hello-virtual-machine"></a><span data-ttu-id="db0c9-321">Creare una macchina virtuale hello</span><span class="sxs-lookup"><span data-stu-id="db0c9-321">Create hello virtual machine</span></span>
<span data-ttu-id="db0c9-322">toocreate una distribuzione tramite un'immagine del sistema operativo privata dal portale di Azure hello utilizzare uno dei seguenti modelli SAP hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-322">toocreate a deployment by using a private OS image from hello Azure portal, use one of hello following SAP templates.</span></span> <span data-ttu-id="db0c9-323">Questi modelli vengono pubblicati in hello [repository GitHub di azure-Guida introduttiva: modelli][azure-quickstart-templates-github].</span><span class="sxs-lookup"><span data-stu-id="db0c9-323">These templates are published in hello [azure-quickstart-templates GitHub repository][azure-quickstart-templates-github].</span></span> <span data-ttu-id="db0c9-324">È anche possibile creare una macchina virtuale manualmente usando [PowerShell][virtual-machines-upload-image-windows-resource-manager].</span><span class="sxs-lookup"><span data-stu-id="db0c9-324">You also can manually create a virtual machine, by using [PowerShell][virtual-machines-upload-image-windows-resource-manager].</span></span>

* <span data-ttu-id="db0c9-325">[**Modello per configurazione a due livelli (una sola macchina virtuale)** (sap-2-tier-user-image)][sap-templates-2-tier-user-image]</span><span class="sxs-lookup"><span data-stu-id="db0c9-325">[**Two-tier configuration (only one virtual machine) template** (sap-2-tier-user-image)][sap-templates-2-tier-user-image]</span></span>

  <span data-ttu-id="db0c9-326">toocreate un sistema a due livelli utilizzando una sola macchina virtuale, utilizzare questo modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-326">toocreate a two-tier system by using only one virtual machine, use this template.</span></span>
* <span data-ttu-id="db0c9-327">[**Modello per configurazione a tre livelli (più macchine virtuali)** (sap-3-tier-user-image)][sap-templates-3-tier-user-image]</span><span class="sxs-lookup"><span data-stu-id="db0c9-327">[**Three-tier configuration (multiple virtual machines) template** (sap-3-tier-user-image)][sap-templates-3-tier-user-image]</span></span>

  <span data-ttu-id="db0c9-328">toocreate un sistema a tre livelli con più macchine virtuali o la propria immagine del sistema operativo, utilizzare questo modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-328">toocreate a three-tier system by using multiple virtual machines or your own OS image, use this template.</span></span>

<span data-ttu-id="db0c9-329">Nel portale di Azure hello, immettere hello seguenti parametri per il modello di hello:</span><span class="sxs-lookup"><span data-stu-id="db0c9-329">In hello Azure portal, enter hello following parameters for hello template:</span></span>

1. <span data-ttu-id="db0c9-330">**Nozioni di base**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-330">**Basics**:</span></span>
  * <span data-ttu-id="db0c9-331">**Sottoscrizione**: modello di hello sottoscrizione toouse toodeploy hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-331">**Subscription**: hello subscription toouse toodeploy hello template.</span></span>
  * <span data-ttu-id="db0c9-332">**Gruppo di risorse**: modello di risorsa gruppo toouse toodeploy hello hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-332">**Resource group**: hello resource group toouse toodeploy hello template.</span></span> <span data-ttu-id="db0c9-333">È possibile creare un nuovo gruppo di risorse o selezionare un gruppo di risorse esistente nella sottoscrizione hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-333">You can create a new resource group or select an existing resource group in hello subscription.</span></span>
  * <span data-ttu-id="db0c9-334">**Percorso**: dove toodeploy hello modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-334">**Location**: Where toodeploy hello template.</span></span> <span data-ttu-id="db0c9-335">Se si seleziona un gruppo di risorse esistente, viene utilizzato il percorso di hello del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="db0c9-335">If you selected an existing resource group, hello location of that resource group is used.</span></span>
2. <span data-ttu-id="db0c9-336">**Impostazioni**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-336">**Settings**:</span></span>
  * <span data-ttu-id="db0c9-337">**ID sistema SAP**: hello ID sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-337">**SAP System ID**: hello SAP System ID.</span></span>
  * <span data-ttu-id="db0c9-338">**Tipo di sistema operativo**: hello tipo sistema operativo da toodeploy (Windows o Linux).</span><span class="sxs-lookup"><span data-stu-id="db0c9-338">**OS type**: hello operating system type you want toodeploy (Windows or Linux).</span></span>
  * <span data-ttu-id="db0c9-339">**Dimensioni del sistema SAP**: hello dimensioni di hello sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-339">**SAP system size**: hello size of hello SAP system.</span></span>

    <span data-ttu-id="db0c9-340">fornisce il numero di Hello del nuovo sistema SAP hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-340">hello number of SAPS hello new system provides.</span></span> <span data-ttu-id="db0c9-341">Se non si conoscono quanti valori SAPS hello sistema richiede, chiedere al SAP tecnologia Partner o l'integratore di sistema.</span><span class="sxs-lookup"><span data-stu-id="db0c9-341">If you are not sure how many SAPS hello system requires, ask your SAP Technology Partner or System Integrator.</span></span>
  * <span data-ttu-id="db0c9-342">**La disponibilità del sistema** (solo modello di livello 3): hello la disponibilità del sistema.</span><span class="sxs-lookup"><span data-stu-id="db0c9-342">**System availability** (three-tier template only): hello system availability.</span></span>

    <span data-ttu-id="db0c9-343">Selezionare **HA** per una configurazione adatta a un'installazione a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="db0c9-343">Select **HA** for a configuration that is suitable for a high-availability installation.</span></span> <span data-ttu-id="db0c9-344">Vengono creati due server di database e due server per ASCS.</span><span class="sxs-lookup"><span data-stu-id="db0c9-344">Two database servers and two servers for ASCS are created.</span></span>
  * <span data-ttu-id="db0c9-345">**Tipo di archiviazione** (solo modello a due livelli): tipo di archiviazione toouse hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-345">**Storage type** (two-tier template only): hello type of storage toouse.</span></span>

    <span data-ttu-id="db0c9-346">Per i sistemi più grandi, è consigliabile usare Archiviazione Premium di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-346">For larger systems, we highly recommend using Azure Premium Storage.</span></span> <span data-ttu-id="db0c9-347">Per ulteriori informazioni sui tipi di archiviazione, vedere hello seguenti risorse:</span><span class="sxs-lookup"><span data-stu-id="db0c9-347">For more information about storage types, see hello following resources:</span></span>
      * <span data-ttu-id="db0c9-348">[Use of Azure Premium SSD Storage for SAP DBMS Instance][2367194] (Uso dell'archiviazione unità SSD di Azure Premium per l'istanza DBMS di SAP)</span><span class="sxs-lookup"><span data-stu-id="db0c9-348">[Use of Azure Premium SSD Storage for SAP DBMS Instance][2367194]</span></span>
      * <span data-ttu-id="db0c9-349">[Archiviazione di Microsoft Azure][dbms-guide-2.3] in [Distribuzione DBMS di Macchine virtuali di Azure per SAP in Linux][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="db0c9-349">[Microsoft Azure Storage][dbms-guide-2.3] in [Azure Virtual Machines DBMS deployment for SAP on Linux][dbms-guide]</span></span>
      * <span data-ttu-id="db0c9-350">[Archiviazione Premium: archiviazione ad alte prestazioni per carichi di lavoro delle macchine virtuali di Azure][storage-premium-storage-preview-portal]</span><span class="sxs-lookup"><span data-stu-id="db0c9-350">[Premium Storage: High-performance storage for Azure virtual machine workloads][storage-premium-storage-preview-portal]</span></span>
      * <span data-ttu-id="db0c9-351">[Introduzione tooMicrosoft di archiviazione di Azure][storage-introduction]</span><span class="sxs-lookup"><span data-stu-id="db0c9-351">[Introduction tooMicrosoft Azure Storage][storage-introduction]</span></span>
  * <span data-ttu-id="db0c9-352">**Immagine utente URI VHD**: hello URI dell'immagine del sistema operativo privata hello disco rigido virtuale, ad esempio https://&lt;accountname >.blob.core.windows.net/vhds/userimage.vhd.</span><span class="sxs-lookup"><span data-stu-id="db0c9-352">**User image VHD URI**: hello URI of hello private OS image VHD, for example, https://&lt;accountname>.blob.core.windows.net/vhds/userimage.vhd.</span></span>
  * <span data-ttu-id="db0c9-353">**Account di archiviazione immagine utente**: nome hello dell'immagine del sistema operativo privata hello memorizzazione, ad esempio, account di archiviazione hello &lt;accountname > in https://&lt;accountname >.blob.core.windows.net/vhds/userimage.vhd.</span><span class="sxs-lookup"><span data-stu-id="db0c9-353">**User image storage account**: hello name of hello storage account where hello private OS image is stored, for example, &lt;accountname> in https://&lt;accountname>.blob.core.windows.net/vhds/userimage.vhd.</span></span>
  * <span data-ttu-id="db0c9-354">**Nome utente amministratore** e **password amministratore**: hello nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="db0c9-354">**Admin username** and **Admin password**: hello username and password.</span></span>

    <span data-ttu-id="db0c9-355">Per la firma nella macchina virtuale toohello, viene creato un nuovo utente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-355">A new user is created, for signing in toohello virtual machine.</span></span>
  * <span data-ttu-id="db0c9-356">**Subnet nuova o esistente**: determina se vengono create una nuova rete virtuale e una nuova subnet o viene usata una subnet esistente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-356">**New or existing subnet**: Determines whether a new virtual network and subnet is created or an existing subnet is used.</span></span> <span data-ttu-id="db0c9-357">Se si dispone già di una rete virtuale è una rete locale tooyour connesso, selezionare **esistente**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-357">If you already have a virtual network that is connected tooyour on-premises network, select **Existing**.</span></span>
  * <span data-ttu-id="db0c9-358">**ID di subnet**: hello ID delle macchine virtuali di hello subnet toowhich hello si connetterà.</span><span class="sxs-lookup"><span data-stu-id="db0c9-358">**Subnet ID**: hello ID of hello subnet toowhich hello virtual machines will connect to.</span></span> <span data-ttu-id="db0c9-359">Selezionare hello subnet della rete VPN o ExpressRoute rete virtuale toouse tooconnect hello macchina virtuale tooyour locale rete.</span><span class="sxs-lookup"><span data-stu-id="db0c9-359">Select hello subnet of your VPN or ExpressRoute virtual network toouse tooconnect hello virtual machine tooyour on-premises network.</span></span> <span data-ttu-id="db0c9-360">ID Hello in genere è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="db0c9-360">hello ID usually looks like this:</span></span>

    <span data-ttu-id="db0c9-361">/subscriptions/&lt;ID sottoscrizione>/resourceGroups/&lt;nome gruppo di risorse>/providers/Microsoft.Network/virtualNetworks/&lt;nome rete virtuale>/subnets/&lt;nome subnet></span><span class="sxs-lookup"><span data-stu-id="db0c9-361">/subscriptions/&lt;subscription id>/resourceGroups/&lt;resource group name>/providers/Microsoft.Network/virtualNetworks/&lt;virtual network name>/subnets/&lt;subnet name></span></span>

3. <span data-ttu-id="db0c9-362">**Condizioni**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-362">**Terms and conditions**:</span></span>  
    <span data-ttu-id="db0c9-363">Leggere e accettare i termini legali specifici hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-363">Review and accept hello legal terms.</span></span>

4.  <span data-ttu-id="db0c9-364">Selezionare **Acquisto**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-364">Select **Purchase**.</span></span>

#### <a name="install-hello-vm-agent-linux-only"></a><span data-ttu-id="db0c9-365">Installare hello agente della macchina virtuale (solo Linux)</span><span class="sxs-lookup"><span data-stu-id="db0c9-365">Install hello VM Agent (Linux only)</span></span>
<span data-ttu-id="db0c9-366">modelli di hello toouse descritti nella precedente sezione hello, hello che agente Linux deve essere già installato, l'immagine utente hello o della distribuzione hello non riuscirà.</span><span class="sxs-lookup"><span data-stu-id="db0c9-366">toouse hello templates described in hello preceding section, hello Linux Agent must already be installed in hello user image, or hello deployment will fail.</span></span> <span data-ttu-id="db0c9-367">Scaricare e installare l'agente VM hello nell'immagine utente hello come descritto in [scaricare, installare e abilitare l'agente VM di Azure hello][deployment-guide-4.4].</span><span class="sxs-lookup"><span data-stu-id="db0c9-367">Download and install hello VM Agent in hello user image as described in [Download, install, and enable hello Azure VM Agent][deployment-guide-4.4].</span></span> <span data-ttu-id="db0c9-368">Se non si utilizzano modelli hello, è possibile installare hello agente della macchina virtuale in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="db0c9-368">If you don’t use hello templates, you also can install hello VM Agent later.</span></span>

#### <a name="join-a-domain-windows-only"></a><span data-ttu-id="db0c9-369">Aggiungere a un dominio (solo per Windows)</span><span class="sxs-lookup"><span data-stu-id="db0c9-369">Join a domain (Windows only)</span></span>
<span data-ttu-id="db0c9-370">Se la distribuzione di Azure viene connesso tooan istanza locale di Active Directory o DNS tramite una connessione VPN di Azure site-to-site o ExpressRoute di Azure (detta *cross-premise* in [macchine virtuali di Azure pianificazione e implementazione di SAP in Linux][planning-guide]), è previsto che hello macchina virtuale è aggiunta a un dominio locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-370">If your Azure deployment is connected tooan on-premises Active Directory or DNS instance via an Azure site-to-site VPN connection or Azure ExpressRoute (this is called *cross-premises* in [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide]), it is expected that hello VM is joining an on-premises domain.</span></span> <span data-ttu-id="db0c9-371">Per ulteriori informazioni su considerazioni per questo passaggio, vedere [aggiunta a un dominio locale VM tooan (solo Windows)][deployment-guide-4.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-371">For more information about considerations for this step, see [Join a VM tooan on-premises domain (Windows only)][deployment-guide-4.3].</span></span>

#### <a name="configure-proxy-settings"></a><span data-ttu-id="db0c9-372">Configurare le impostazioni proxy</span><span class="sxs-lookup"><span data-stu-id="db0c9-372">Configure proxy settings</span></span>
<span data-ttu-id="db0c9-373">A seconda della configurazione della rete locale, potrebbe essere necessario tooset di proxy hello nella VM.</span><span class="sxs-lookup"><span data-stu-id="db0c9-373">Depending on how your on-premises network is configured, you might need tooset up hello proxy on your VM.</span></span> <span data-ttu-id="db0c9-374">Se la macchina virtuale è connessa tooyour rete locale tramite VPN o ExpressRoute, hello macchina virtuale potrebbe non essere in grado di tooaccess hello Internet e non essere in grado di toodownload estensioni hello richiesto o raccogliere dati di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-374">If your VM is connected tooyour on-premises network via VPN or ExpressRoute, hello VM might not be able tooaccess hello Internet, and won't be able toodownload hello required extensions or collect monitoring data.</span></span> <span data-ttu-id="db0c9-375">Per ulteriori informazioni, vedere [configurare proxy hello][deployment-guide-configure-proxy].</span><span class="sxs-lookup"><span data-stu-id="db0c9-375">For more information, see [Configure hello proxy][deployment-guide-configure-proxy].</span></span>

#### <a name="configure-monitoring"></a><span data-ttu-id="db0c9-376">Configurare il monitoraggio</span><span class="sxs-lookup"><span data-stu-id="db0c9-376">Configure monitoring</span></span>
<span data-ttu-id="db0c9-377">che l'ambiente supporta SAP, impostare hello Azure Monitoring Extension per SAP come descritto in toobe [Configura hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-4.5].</span><span class="sxs-lookup"><span data-stu-id="db0c9-377">toobe sure your environment supports SAP, set up hello Azure Monitoring Extension for SAP as described in [Configure hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-4.5].</span></span> <span data-ttu-id="db0c9-378">Verifica dei prerequisiti di hello per il monitoraggio SAP e le versioni minime richieste del Kernel SAP e dell'agente Host SAP, in risorse hello elencate in [risorse SAP][deployment-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-378">Check hello prerequisites for SAP monitoring, and required minimum versions of SAP Kernel and SAP Host Agent, in hello resources listed in [SAP resources][deployment-guide-2.2].</span></span>

#### <a name="monitoring-check"></a><span data-ttu-id="db0c9-379">Controllo del monitoraggio</span><span class="sxs-lookup"><span data-stu-id="db0c9-379">Monitoring check</span></span>
<span data-ttu-id="db0c9-380">Controllare se il monitoraggio funziona, come descritto in [Controlli e risoluzione dei problemi per la configurazione del monitoraggio end-to-end][deployment-guide-troubleshooting-chapter].</span><span class="sxs-lookup"><span data-stu-id="db0c9-380">Check whether monitoring is working, as described in [Checks and troubleshooting for setting up end-to-end monitoring][deployment-guide-troubleshooting-chapter].</span></span>




### <span data-ttu-id="db0c9-381"><a name="a9a60133-a763-4de8-8986-ac0fa33aa8c1"></a>Scenario 3: Spostamento di una VM locale tramite un disco rigido virtuale di Azure non generalizzato con SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-381"><a name="a9a60133-a763-4de8-8986-ac0fa33aa8c1"></a>Scenario 3: Moving an on-premises VM by using a non-generalized Azure VHD with SAP</span></span>
<span data-ttu-id="db0c9-382">In questo scenario, è possibile pianificare toomove un sistema SAP specifico da un tooAzure ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-382">In this scenario, you plan toomove a specific SAP system from an on-premises environment tooAzure.</span></span> <span data-ttu-id="db0c9-383">È possibile farlo caricando hello disco rigido virtuale con sistema operativo, i file binari SAP hello, hello e infine hello binari DBMS, più dischi rigidi virtuali hello con dati hello e i file di hello DBMS, tooAzure di log.</span><span class="sxs-lookup"><span data-stu-id="db0c9-383">You can do this by uploading hello VHD that has hello OS, hello SAP binaries, and eventually hello DBMS binaries, plus hello VHDs with hello data and log files of hello DBMS, tooAzure.</span></span> <span data-ttu-id="db0c9-384">Diversamente dallo scenario hello descritto in [nello Scenario 2: distribuzione di una macchina virtuale con un'immagine personalizzata per SAP][deployment-guide-3.3], in questo caso, mantenere hello hostname, il SID di SAP e gli account utente SAP in VM di Azure, hello perché sono stati configurato nell'ambiente locale hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-384">Unlike hello scenario described in [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3], in this case, you keep hello hostname, SAP SID, and SAP user accounts in hello Azure VM, because they were configured in hello on-premises environment.</span></span> <span data-ttu-id="db0c9-385">Non è necessario toogeneralize hello del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-385">You do not need toogeneralize hello OS.</span></span> <span data-ttu-id="db0c9-386">Questo scenario si applica più spesso toocross locale scenari in cui parte di hello landscape SAP eseguito in locale e parte di esso viene eseguito in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-386">This scenario applies most often toocross-premises scenarios where part of hello SAP landscape runs on-premises and part of it runs on Azure.</span></span>

<span data-ttu-id="db0c9-387">In questo scenario, hello agente della macchina virtuale non viene installato automaticamente durante la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-387">In this scenario, hello VM Agent is not automatically installed during deployment.</span></span> <span data-ttu-id="db0c9-388">Poiché hello agente VM e hello Azure Enhanced Monitoring Extension per SAP necessari per toorun SAP, è necessario toodownload, installare e attivare entrambi i componenti manualmente dopo la creazione di macchine virtuali hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-388">Because hello VM Agent and hello Azure Enhanced Monitoring Extension for SAP required for toorun SAP, you need toodownload, install, and enable both components manually after you create hello virtual machine.</span></span>

<span data-ttu-id="db0c9-389">Per ulteriori informazioni su hello agente VM di Azure, vedere hello seguenti risorse.</span><span class="sxs-lookup"><span data-stu-id="db0c9-389">For more information about hello Azure VM Agent, see hello following resources.</span></span>

[comment]: <> (MSSedusch TODO Update Windows Link below)

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="db0c9-392">Windows</span><span class="sxs-lookup"><span data-stu-id="db0c9-392">Windows</span></span>
>
> <span data-ttu-id="db0c9-393"><http://blogs.msdn.com/b/wats/archive/2014/02/17/bginfo-guest-agent-extension-for-azure-vms.aspx></span><span class="sxs-lookup"><span data-stu-id="db0c9-393"><http://blogs.msdn.com/b/wats/archive/2014/02/17/bginfo-guest-agent-extension-for-azure-vms.aspx></span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="db0c9-395">Linux</span><span class="sxs-lookup"><span data-stu-id="db0c9-395">Linux</span></span>
>
> <span data-ttu-id="db0c9-396">[Guida dell'utente dell'agente Linux di Azure][virtual-machines-linux-agent-user-guide]</span><span class="sxs-lookup"><span data-stu-id="db0c9-396">[Azure Linux Agent User Guide][virtual-machines-linux-agent-user-guide]</span></span>
>
>

- - -

<span data-ttu-id="db0c9-397">Hello seguente diagramma mostra hello sequenza di passaggi per lo spostamento di una macchina virtuale locale utilizzando un disco rigido virtuale Azure non generalizzato:</span><span class="sxs-lookup"><span data-stu-id="db0c9-397">hello following flowchart shows hello sequence of steps for moving an on-premises VM by using a non-generalized Azure VHD:</span></span>

![Diagramma di flusso della distribuzione di una VM per sistemi SAP con un disco della VM][deployment-guide-figure-400]

<span data-ttu-id="db0c9-399">Supponendo che hello disco è già caricato e definito in Azure (vedere [macchine virtuali di Azure di pianificazione e implementazione di SAP in Linux][planning-guide]), effettuare le attività di hello descritti in hello accanto sezioni.</span><span class="sxs-lookup"><span data-stu-id="db0c9-399">Assuming that hello disk is already uploaded and defined in Azure (see [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide]), do hello tasks described in hello next few sections.</span></span>

#### <a name="create-a-virtual-machine"></a><span data-ttu-id="db0c9-400">Creare una macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="db0c9-400">Create a virtual machine</span></span>
<span data-ttu-id="db0c9-401">toocreate una distribuzione utilizzando un disco del sistema operativo privato tramite hello portale di Azure, utilizzare il modello SAP hello pubblicato in hello [repository GitHub di azure-Guida introduttiva: modelli][azure-quickstart-templates-github].</span><span class="sxs-lookup"><span data-stu-id="db0c9-401">toocreate a deployment by using a private OS disk through hello Azure portal, use hello SAP template published in hello [azure-quickstart-templates GitHub repository][azure-quickstart-templates-github].</span></span> <span data-ttu-id="db0c9-402">È anche possibile creare una macchina virtuale manualmente usando PowerShell.</span><span class="sxs-lookup"><span data-stu-id="db0c9-402">You also can manually create a virtual machine, by using PowerShell.</span></span>

* <span data-ttu-id="db0c9-403">[**Modello per configurazione a due livelli (una sola macchina virtuale)** (sap-2-tier-user-disk)][sap-templates-2-tier-os-disk]</span><span class="sxs-lookup"><span data-stu-id="db0c9-403">[**Two-tier configuration (only one virtual machine) template** (sap-2-tier-user-disk)][sap-templates-2-tier-os-disk]</span></span>

  <span data-ttu-id="db0c9-404">toocreate un sistema a due livelli utilizzando una sola macchina virtuale, utilizzare questo modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-404">toocreate a two-tier system by using only one virtual machine, use this template.</span></span>

<span data-ttu-id="db0c9-405">Nel portale di Azure hello, immettere hello seguenti parametri per il modello di hello:</span><span class="sxs-lookup"><span data-stu-id="db0c9-405">In hello Azure portal, enter hello following parameters for hello template:</span></span>

1. <span data-ttu-id="db0c9-406">**Nozioni di base**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-406">**Basics**:</span></span>
  * <span data-ttu-id="db0c9-407">**Sottoscrizione**: modello di hello sottoscrizione toouse toodeploy hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-407">**Subscription**: hello subscription toouse toodeploy hello template.</span></span>
  * <span data-ttu-id="db0c9-408">**Gruppo di risorse**: modello di risorsa gruppo toouse toodeploy hello hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-408">**Resource group**: hello resource group toouse toodeploy hello template.</span></span> <span data-ttu-id="db0c9-409">È possibile creare un nuovo gruppo di risorse o selezionare un gruppo di risorse esistente nella sottoscrizione hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-409">You can create a new resource group or select an existing resource group in hello subscription.</span></span>
  * <span data-ttu-id="db0c9-410">**Percorso**: dove toodeploy hello modello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-410">**Location**: Where toodeploy hello template.</span></span> <span data-ttu-id="db0c9-411">Se si seleziona un gruppo di risorse esistente, viene utilizzato il percorso di hello del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="db0c9-411">If you selected an existing resource group, hello location of that resource group is used.</span></span>
2. <span data-ttu-id="db0c9-412">**Impostazioni**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-412">**Settings**:</span></span>
  * <span data-ttu-id="db0c9-413">**ID sistema SAP**: hello ID sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-413">**SAP System ID**: hello SAP System ID.</span></span>
  * <span data-ttu-id="db0c9-414">**Tipo di sistema operativo**: hello tipo sistema operativo da toodeploy (Windows o Linux).</span><span class="sxs-lookup"><span data-stu-id="db0c9-414">**OS type**: hello operating system type you want toodeploy (Windows or Linux).</span></span>
  * <span data-ttu-id="db0c9-415">**Dimensioni del sistema SAP**: hello dimensioni di hello sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-415">**SAP system size**: hello size of hello SAP system.</span></span>

    <span data-ttu-id="db0c9-416">fornisce il numero di Hello del nuovo sistema SAP hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-416">hello number of SAPS hello new system provides.</span></span> <span data-ttu-id="db0c9-417">Se non si conoscono quanti valori SAPS hello sistema richiede, chiedere al SAP tecnologia Partner o l'integratore di sistema.</span><span class="sxs-lookup"><span data-stu-id="db0c9-417">If you are not sure how many SAPS hello system requires, ask your SAP Technology Partner or System Integrator.</span></span>
  * <span data-ttu-id="db0c9-418">**Tipo di archiviazione** (solo modello a due livelli): tipo di archiviazione toouse hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-418">**Storage type** (two-tier template only): hello type of storage toouse.</span></span>

    <span data-ttu-id="db0c9-419">Per i sistemi più grandi, è consigliabile usare Archiviazione Premium di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-419">For larger systems, we highly recommend using Azure Premium Storage.</span></span> <span data-ttu-id="db0c9-420">Per ulteriori informazioni sui tipi di archiviazione, vedere hello seguenti risorse:</span><span class="sxs-lookup"><span data-stu-id="db0c9-420">For more information about storage types, see hello following resources:</span></span>
      * <span data-ttu-id="db0c9-421">[Use of Azure Premium SSD Storage for SAP DBMS Instance][2367194] (Uso dell'archiviazione unità SSD di Azure Premium per l'istanza DBMS di SAP)</span><span class="sxs-lookup"><span data-stu-id="db0c9-421">[Use of Azure Premium SSD Storage for SAP DBMS Instance][2367194]</span></span>
      * <span data-ttu-id="db0c9-422">[Archiviazione di Microsoft Azure][dbms-guide-2.3] in [Distribuzione DBMS di Macchine virtuali di Azure per SAP in Linux][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="db0c9-422">[Microsoft Azure Storage][dbms-guide-2.3] in [Azure Virtual Machine DBMS deployment for SAP on Linux][dbms-guide]</span></span>
      * <span data-ttu-id="db0c9-423">[Archiviazione Premium: archiviazione ad alte prestazioni per carichi di lavoro delle macchine virtuali di Azure][storage-premium-storage-preview-portal]</span><span class="sxs-lookup"><span data-stu-id="db0c9-423">[Premium Storage: High-performance storage for Azure Virtual Machine workloads][storage-premium-storage-preview-portal]</span></span>
      * <span data-ttu-id="db0c9-424">[Introduzione tooMicrosoft di archiviazione di Azure][storage-introduction]</span><span class="sxs-lookup"><span data-stu-id="db0c9-424">[Introduction tooMicrosoft Azure Storage][storage-introduction]</span></span>
  * <span data-ttu-id="db0c9-425">**URI VHD su disco SO**: hello URI del disco del sistema operativo privato hello, ad esempio https://&lt;accountname >.blob.core.windows.net/vhds/osdisk.vhd.</span><span class="sxs-lookup"><span data-stu-id="db0c9-425">**OS disk VHD URI**: hello URI of hello private OS disk, for example, https://&lt;accountname>.blob.core.windows.net/vhds/osdisk.vhd.</span></span>
  * <span data-ttu-id="db0c9-426">**Subnet nuova o esistente**: determina se vengono create una nuova rete virtuale e una nuova subnet o viene usata una subnet esistente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-426">**New or existing subnet**: Determines whether a new virtual network and subnet are created, or an existing subnet is used.</span></span> <span data-ttu-id="db0c9-427">Se si dispone già di una rete virtuale è una rete locale tooyour connesso, selezionare **esistente**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-427">If you already have a virtual network that is connected tooyour on-premises network, select **Existing**.</span></span>
  * <span data-ttu-id="db0c9-428">**ID di subnet**: hello ID delle macchine virtuali di hello subnet toowhich hello si connetterà.</span><span class="sxs-lookup"><span data-stu-id="db0c9-428">**Subnet ID**: hello ID of hello subnet toowhich hello virtual machines will connect to.</span></span> <span data-ttu-id="db0c9-429">Selezionare hello subnet della rete VPN o Azure ExpressRoute rete virtuale toouse tooconnect hello macchina virtuale tooyour locale rete.</span><span class="sxs-lookup"><span data-stu-id="db0c9-429">Select hello subnet of your VPN or Azure ExpressRoute virtual network toouse tooconnect hello virtual machine tooyour on-premises network.</span></span> <span data-ttu-id="db0c9-430">ID Hello in genere è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="db0c9-430">hello ID usually looks like this:</span></span>

    <span data-ttu-id="db0c9-431">/subscriptions/&lt;ID sottoscrizione>/resourceGroups/&lt;nome gruppo di risorse>/providers/Microsoft.Network/virtualNetworks/&lt;nome rete virtuale>/subnets/&lt;nome subnet></span><span class="sxs-lookup"><span data-stu-id="db0c9-431">/subscriptions/&lt;subscription id>/resourceGroups/&lt;resource group name>/providers/Microsoft.Network/virtualNetworks/&lt;virtual network name>/subnets/&lt;subnet name></span></span>

3. <span data-ttu-id="db0c9-432">**Condizioni**:</span><span class="sxs-lookup"><span data-stu-id="db0c9-432">**Terms and conditions**:</span></span>  
    <span data-ttu-id="db0c9-433">Leggere e accettare i termini legali specifici hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-433">Review and accept hello legal terms.</span></span>

4.  <span data-ttu-id="db0c9-434">Selezionare **Acquisto**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-434">Select **Purchase**.</span></span>

#### <a name="install-hello-vm-agent"></a><span data-ttu-id="db0c9-435">Installare l'agente VM hello</span><span class="sxs-lookup"><span data-stu-id="db0c9-435">Install hello VM Agent</span></span>
<span data-ttu-id="db0c9-436">hello di hello toouse modelli descritti nella sezione precedente, hello agente della macchina virtuale deve essere installato sul disco del sistema operativo hello o hello distribuzione avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-436">toouse hello templates described in hello preceding section, hello VM Agent must be installed on hello OS disk, or hello deployment will fail.</span></span> <span data-ttu-id="db0c9-437">Scaricare e installare hello agente della macchina virtuale nella macchina virtuale, hello come descritto in [scaricare, installare e abilitare l'agente VM di Azure hello][deployment-guide-4.4].</span><span class="sxs-lookup"><span data-stu-id="db0c9-437">Download and install hello VM Agent in hello VM, as described in [Download, install, and enable hello Azure VM Agent][deployment-guide-4.4].</span></span>

<span data-ttu-id="db0c9-438">Se non si utilizzano modelli hello descritti nella precedente sezione hello, è possibile installare anche hello agente della macchina virtuale in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="db0c9-438">If you don’t use hello templates described in hello preceding section, you can also install hello VM Agent afterwards.</span></span>

#### <a name="join-a-domain-windows-only"></a><span data-ttu-id="db0c9-439">Aggiungere a un dominio (solo per Windows)</span><span class="sxs-lookup"><span data-stu-id="db0c9-439">Join a domain (Windows only)</span></span>
<span data-ttu-id="db0c9-440">Se la distribuzione di Azure viene connesso tooan istanza locale di Active Directory o DNS tramite una connessione VPN di Azure site-to-site o ExpressRoute (detta *cross-premise* in [pianificazione macchine virtuali di Azure e sull'implementazione di SAP in Linux][planning-guide]), è previsto che hello macchina virtuale è aggiunta a un dominio locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-440">If your Azure deployment is connected tooan on-premises Active Directory or DNS instance via an Azure site-to-site VPN connection or ExpressRoute (this is called *cross-premises* in [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide]), it is expected that hello VM is joining an on-premises domain.</span></span> <span data-ttu-id="db0c9-441">Per ulteriori informazioni su considerazioni per questa attività, vedere [aggiunta a un dominio locale VM tooan (solo Windows)][deployment-guide-4.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-441">For more information about considerations for this task, see [Join a VM tooan on-premises domain (Windows only)][deployment-guide-4.3].</span></span>

#### <a name="configure-proxy-settings"></a><span data-ttu-id="db0c9-442">Configurare le impostazioni proxy</span><span class="sxs-lookup"><span data-stu-id="db0c9-442">Configure proxy settings</span></span>
<span data-ttu-id="db0c9-443">A seconda della configurazione della rete locale, potrebbe essere necessario tooset di proxy hello nella VM.</span><span class="sxs-lookup"><span data-stu-id="db0c9-443">Depending on how your on-premises network is configured, you might need tooset up hello proxy on your VM.</span></span> <span data-ttu-id="db0c9-444">Se la macchina virtuale è connessa tooyour rete locale tramite VPN o ExpressRoute, hello macchina virtuale potrebbe non essere in grado di tooaccess hello Internet e non essere in grado di toodownload estensioni hello richiesto o raccogliere dati di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-444">If your VM is connected tooyour on-premises network via VPN or ExpressRoute, hello VM might not be able tooaccess hello Internet, and won't be able toodownload hello required extensions or collect monitoring data.</span></span> <span data-ttu-id="db0c9-445">Per ulteriori informazioni, vedere [configurare proxy hello][deployment-guide-configure-proxy].</span><span class="sxs-lookup"><span data-stu-id="db0c9-445">For more information, see [Configure hello proxy][deployment-guide-configure-proxy].</span></span>

#### <a name="configure-monitoring"></a><span data-ttu-id="db0c9-446">Configurare il monitoraggio</span><span class="sxs-lookup"><span data-stu-id="db0c9-446">Configure monitoring</span></span>
<span data-ttu-id="db0c9-447">che l'ambiente supporta SAP, impostare hello Azure Monitoring Extension per SAP come descritto in toobe [Configura hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-4.5].</span><span class="sxs-lookup"><span data-stu-id="db0c9-447">toobe sure your environment supports SAP, set up hello Azure Monitoring Extension for SAP as described in [Configure hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-4.5].</span></span> <span data-ttu-id="db0c9-448">Verifica dei prerequisiti di hello per il monitoraggio SAP e le versioni minime richieste del Kernel SAP e dell'agente Host SAP, in risorse hello elencate in [risorse SAP][deployment-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-448">Check hello prerequisites for SAP monitoring, and required minimum versions of SAP Kernel and SAP Host Agent, in hello resources listed in [SAP resources][deployment-guide-2.2].</span></span>

#### <a name="monitoring-check"></a><span data-ttu-id="db0c9-449">Controllo del monitoraggio</span><span class="sxs-lookup"><span data-stu-id="db0c9-449">Monitoring check</span></span>
<span data-ttu-id="db0c9-450">Controllare se il monitoraggio funziona, come descritto in [Controlli e risoluzione dei problemi per la configurazione del monitoraggio end-to-end][deployment-guide-troubleshooting-chapter].</span><span class="sxs-lookup"><span data-stu-id="db0c9-450">Check whether monitoring is working, as described in [Checks and troubleshooting for setting up end-to-end monitoring][deployment-guide-troubleshooting-chapter].</span></span>

## <a name="update-hello-monitoring-configuration-for-sap"></a><span data-ttu-id="db0c9-451">Aggiornare la configurazione di monitoraggio hello per SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-451">Update hello monitoring configuration for SAP</span></span>
<span data-ttu-id="db0c9-452">Aggiornamento configurazione del monitoraggio SAP hello in uno dei seguenti scenari hello:</span><span class="sxs-lookup"><span data-stu-id="db0c9-452">Update hello SAP monitoring configuration in any of hello following scenarios:</span></span>
* <span data-ttu-id="db0c9-453">il team Microsoft/SAP comune di Hello estende hello funzionalità di monitoraggio e richiede maggiore o minore di contatori.</span><span class="sxs-lookup"><span data-stu-id="db0c9-453">hello joint Microsoft/SAP team extends hello monitoring capabilities and requests more or fewer counters.</span></span>
* <span data-ttu-id="db0c9-454">Microsoft ha introdotto una nuova versione di hello Azure infrastruttura sottostante che fornisce i dati di monitoraggio hello e hello Azure Enhanced Monitoring Extension per SAP esigenze toobe adattato toothose modifiche.</span><span class="sxs-lookup"><span data-stu-id="db0c9-454">Microsoft introduces a new version of hello underlying Azure infrastructure that delivers hello monitoring data, and hello Azure Enhanced Monitoring Extension for SAP needs toobe adapted toothose changes.</span></span>
* <span data-ttu-id="db0c9-455">Montare ulteriori dischi rigidi virtuali tooyour macchina virtuale di Azure o si rimuove un disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-455">You mount additional VHDs tooyour Azure VM or you remove a VHD.</span></span> <span data-ttu-id="db0c9-456">In questo scenario, aggiornare la raccolta di hello dei dati relativi alla memoria.</span><span class="sxs-lookup"><span data-stu-id="db0c9-456">In this scenario, update hello collection of storage-related data.</span></span> <span data-ttu-id="db0c9-457">Modifica della configurazione mediante l'aggiunta o eliminazione di endpoint o assegnando IP indirizzi tooa VM non influiscono sulla hello Monitoraggio configurazione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-457">Changing your configuration by adding or deleting endpoints or by assigning IP addresses tooa VM does not affect hello monitoring configuration.</span></span>
* <span data-ttu-id="db0c9-458">Modificate hello dimensione di macchina virtuale di Azure, ad esempio, dalla dimensione A5 tooany altre dimensioni della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-458">You change hello size of your Azure VM, for example, from size A5 tooany other VM size.</span></span>
* <span data-ttu-id="db0c9-459">Aggiungere nuovo tooyour di interfacce di rete VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-459">You add new network interfaces tooyour Azure VM.</span></span>

<span data-ttu-id="db0c9-460">tooupdate monitoraggio impostazioni, hello aggiornamento monitoraggio dell'infrastruttura da hello seguendo i passaggi [Configura hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-4.5].</span><span class="sxs-lookup"><span data-stu-id="db0c9-460">tooupdate monitoring settings, update hello monitoring infrastructure by following hello steps in [Configure hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-4.5].</span></span>

## <a name="detailed-tasks-for-sap-software-deployment-on-a-windows-vm"></a><span data-ttu-id="db0c9-461">Attività dettagliate per la distribuzione del software SAP in una VM Windows</span><span class="sxs-lookup"><span data-stu-id="db0c9-461">Detailed tasks for SAP software deployment on a Windows VM</span></span>
<span data-ttu-id="db0c9-462">In questa sezione contiene passaggi dettagliati per eseguire specifiche attività nel processo di configurazione e distribuzione hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-462">This section has detailed steps for doing specific tasks in hello configuration and deployment process.</span></span>

### <span data-ttu-id="db0c9-463"><a name="604bcec2-8b6e-48d2-a944-61b0f5dee2f7"></a>Distribuire i cmdlet di Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="db0c9-463"><a name="604bcec2-8b6e-48d2-a944-61b0f5dee2f7"></a>Deploy Azure PowerShell cmdlets</span></span>
1.  <span data-ttu-id="db0c9-464">Andare troppo[download di Microsoft Azure](https://azure.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="db0c9-464">Go too[Microsoft Azure Downloads](https://azure.microsoft.com/downloads/).</span></span>
2.  <span data-ttu-id="db0c9-465">In **Strumenti da riga di comando**, in **PowerShell** selezionare **Windows - Installazione**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-465">Under **Command-line tools**, under **PowerShell**, select **Windows install**.</span></span>
3.  <span data-ttu-id="db0c9-466">Nel Microsoft Download Manager dialogo hello, per il file scaricato hello (ad esempio, WindowsAzurePowershellGet.3f.3f.3fnew.exe), selezionare **eseguire**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-466">In hello Microsoft Download Manager dialog box, for hello downloaded file (for example, WindowsAzurePowershellGet.3f.3f.3fnew.exe), select **Run**.</span></span>
4.  <span data-ttu-id="db0c9-467">Selezionare Installazione guidata piattaforma Web di Microsoft (Microsoft Web PI), toorun **Sì**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-467">toorun Microsoft Web Platform Installer (Microsoft Web PI), select **Yes**.</span></span>
5.  <span data-ttu-id="db0c9-468">Viene visualizzata una pagina simile a questa:</span><span class="sxs-lookup"><span data-stu-id="db0c9-468">A page that looks like this appears:</span></span>

  <span data-ttu-id="db0c9-469">![Pagina di installazione dei cmdlet di Azure PowerShell][deployment-guide-figure-500]<a name="figure-5"></a></span><span class="sxs-lookup"><span data-stu-id="db0c9-469">![Installation page for Azure PowerShell cmdlets][deployment-guide-figure-500]<a name="figure-5"></a></span></span>

6.  <span data-ttu-id="db0c9-470">Selezionare **installare**, quindi accettare condizioni di licenza Software Microsoft hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-470">Select **Install**, and then accept hello Microsoft Software License Terms.</span></span>
7.  <span data-ttu-id="db0c9-471">Azure PowerShell viene installato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-471">PowerShell is installed.</span></span> <span data-ttu-id="db0c9-472">Selezionare **fine** installazione guidata di tooclose hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-472">Select **Finish** tooclose hello installation wizard.</span></span>

<span data-ttu-id="db0c9-473">Controllare spesso per gli aggiornamenti toohello i cmdlet di PowerShell, che in genere, vengono aggiornati ogni mese.</span><span class="sxs-lookup"><span data-stu-id="db0c9-473">Check frequently for updates toohello PowerShell cmdlets, which usually are updated monthly.</span></span> <span data-ttu-id="db0c9-474">Hello toocheck di modo più semplice per gli aggiornamenti è hello toodo precedenti passaggi di installazione, pagina Installazione toohello illustrato nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="db0c9-474">hello easiest way toocheck for updates is toodo hello preceding installation steps, up toohello installation page shown in step 5.</span></span> <span data-ttu-id="db0c9-475">numero Hello versione data e di rilascio di hello cmdlet è disponibili nella pagina hello illustrato nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="db0c9-475">hello release date and release number of hello cmdlets are included on hello page shown in step 5.</span></span> <span data-ttu-id="db0c9-476">Se non specificato diversamente nella nota SAP [1928533] o la nota SAP [2015553], si consiglia di lavorare con una versione più recente di hello dei cmdlet PowerShell di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-476">Unless stated otherwise in SAP Note [1928533] or SAP Note [2015553], we recommend that you work with hello latest version of Azure PowerShell cmdlets.</span></span>

<span data-ttu-id="db0c9-477">versione di hello toocheck di hello cmdlet PowerShell di Azure che vengono installati nel computer in uso, eseguire questo comando di PowerShell:</span><span class="sxs-lookup"><span data-stu-id="db0c9-477">toocheck hello version of hello Azure PowerShell cmdlets that are installed on your computer, run this PowerShell command:</span></span>
```powershell
Import-Module Azure
(Get-Module Azure).Version
```
<span data-ttu-id="db0c9-478">risultato Hello è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="db0c9-478">hello result looks like this:</span></span>

<span data-ttu-id="db0c9-479">![Risultato del controllo della versione dei cmdlet di Azure PowerShell][deployment-guide-figure-600]
<a name="figure-6"></a></span><span class="sxs-lookup"><span data-stu-id="db0c9-479">![Result of Azure PowerShell cmdlet version check][deployment-guide-figure-600]
<a name="figure-6"></a></span></span>

<span data-ttu-id="db0c9-480">Se hello cmdlet di Azure versione installata nel computer è hello corrente, prima pagina di hello dell'installazione guidata di hello indica che tramite l'aggiunta di **(installati)** titolo prodotto toohello (vedere la seguente schermata hello).</span><span class="sxs-lookup"><span data-stu-id="db0c9-480">If hello Azure cmdlet version installed on your computer is hello current version, hello first page of hello installation wizard indicates it by adding **(Installed)** toohello product title (see hello following screenshot).</span></span> <span data-ttu-id="db0c9-481">I cmdlet di Azure PowerShell vengono aggiornati.</span><span class="sxs-lookup"><span data-stu-id="db0c9-481">Your PowerShell Azure cmdlets are up-to-date.</span></span> <span data-ttu-id="db0c9-482">tooclose hello installazione guidata, seleziona **uscita**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-482">tooclose hello installation wizard, select **Exit**.</span></span>

<span data-ttu-id="db0c9-483">![Pagina di installazione per i cmdlet PowerShell di Azure che indica la versione più recente di hello di cmdlet di Azure PowerShell sono installati][deployment-guide-figure-700]
<a name="figure-7"></a></span><span class="sxs-lookup"><span data-stu-id="db0c9-483">![Installation page for Azure PowerShell cmdlets indicating that hello most recent version of Azure PowerShell cmdlets are installed][deployment-guide-figure-700]
<a name="figure-7"></a></span></span>

### <span data-ttu-id="db0c9-484"><a name="1ded9453-1330-442a-86ea-e0fd8ae8cab3"></a>Distribuire l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-484"><a name="1ded9453-1330-442a-86ea-e0fd8ae8cab3"></a>Deploy Azure CLI</span></span>
1.  <span data-ttu-id="db0c9-485">Andare troppo[download di Microsoft Azure](https://azure.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="db0c9-485">Go too[Microsoft Azure Downloads](https://azure.microsoft.com/downloads/).</span></span>
2.  <span data-ttu-id="db0c9-486">In **strumenti da riga di comando**in **interfaccia della riga di comando di Azure**selezionare hello **installare** collegamento per il sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-486">Under **Command-line tools**, under **Azure command-line interface**, select hello **Install** link for your operating system.</span></span>
3.  <span data-ttu-id="db0c9-487">Nel Microsoft Download Manager dialogo hello, per il file scaricato hello (ad esempio, WindowsAzureXPlatCLI.3f.3f.3fnew.exe), selezionare **eseguire**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-487">In hello Microsoft Download Manager dialog box, for hello downloaded file (for example, WindowsAzureXPlatCLI.3f.3f.3fnew.exe), select **Run**.</span></span>
4.  <span data-ttu-id="db0c9-488">Selezionare Installazione guidata piattaforma Web di Microsoft (Microsoft Web PI), toorun **Sì**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-488">toorun Microsoft Web Platform Installer (Microsoft Web PI), select **Yes**.</span></span>
5.  <span data-ttu-id="db0c9-489">Viene visualizzata una pagina simile a questa:</span><span class="sxs-lookup"><span data-stu-id="db0c9-489">A page that looks like this appears:</span></span>

  <span data-ttu-id="db0c9-490">![Pagina di installazione dei cmdlet di Azure PowerShell][deployment-guide-figure-500]<a name="figure-5"></a></span><span class="sxs-lookup"><span data-stu-id="db0c9-490">![Installation page for Azure PowerShell cmdlets][deployment-guide-figure-500]<a name="figure-5"></a></span></span>

6.  <span data-ttu-id="db0c9-491">Selezionare **installare**, quindi accettare condizioni di licenza Software Microsoft hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-491">Select **Install**, and then accept hello Microsoft Software License Terms.</span></span>
7.  <span data-ttu-id="db0c9-492">L'interfaccia della riga di comando di Azure viene installata.</span><span class="sxs-lookup"><span data-stu-id="db0c9-492">Azure CLI is installed.</span></span> <span data-ttu-id="db0c9-493">Selezionare **fine** installazione guidata di tooclose hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-493">Select **Finish** tooclose hello installation wizard.</span></span>

<span data-ttu-id="db0c9-494">Controllare periodicamente la presenza di aggiornamenti tooAzure CLI, che in genere, viene aggiornato ogni mese.</span><span class="sxs-lookup"><span data-stu-id="db0c9-494">Check frequently for updates tooAzure CLI, which usually is updated monthly.</span></span> <span data-ttu-id="db0c9-495">Hello toocheck di modo più semplice per gli aggiornamenti è hello toodo precedenti passaggi di installazione, pagina Installazione toohello illustrato nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="db0c9-495">hello easiest way toocheck for updates is toodo hello preceding installation steps, up toohello installation page shown in step 5.</span></span>


<span data-ttu-id="db0c9-496">versione di hello toocheck di CLI di Azure installata nel computer in uso, eseguire questo comando:</span><span class="sxs-lookup"><span data-stu-id="db0c9-496">toocheck hello version of Azure CLI that is installed on your computer, run this command:</span></span>
```
azure --version
```

<span data-ttu-id="db0c9-497">risultato Hello è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="db0c9-497">hello result looks like this:</span></span>

<span data-ttu-id="db0c9-498">![Risultato del controllo della versione dell'interfaccia della riga di comando di Azure][deployment-guide-figure-760]
<a name="0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda"></a></span><span class="sxs-lookup"><span data-stu-id="db0c9-498">![Result of Azure CLI version check][deployment-guide-figure-760]
<a name="0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda"></a></span></span>

### <span data-ttu-id="db0c9-499"><a name="31d9ecd6-b136-4c73-b61e-da4a29bbc9cc"></a>Aggiunta a un dominio locale VM tooan (solo Windows)</span><span class="sxs-lookup"><span data-stu-id="db0c9-499"><a name="31d9ecd6-b136-4c73-b61e-da4a29bbc9cc"></a>Join a VM tooan on-premises domain (Windows only)</span></span>
<span data-ttu-id="db0c9-500">Se si distribuiscono macchine virtuali SAP in uno scenario cross-premise, in cui vengono estese locale di Active Directory e DNS in Azure, è previsto che le macchine virtuali hello vengono aggiunti a un dominio locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-500">If you deploy SAP VMs in a cross-premises scenario, where on-premises Active Directory and DNS are extended in Azure, it is expected that hello VMs are joining an on-premises domain.</span></span> <span data-ttu-id="db0c9-501">Hello dettagliato i passaggi toojoin un dominio locale VM tooan e hello toobe richiesto software aggiuntivo un membro di un dominio locale, varia in base al cliente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-501">hello detailed steps you take toojoin a VM tooan on-premises domain, and hello additional software required toobe a member of an on-premises domain, varies by customer.</span></span> <span data-ttu-id="db0c9-502">In genere, toojoin tooan una macchina virtuale locale dominio, è necessario software aggiuntivo tooinstall, ad esempio software antimalware e di backup o software di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-502">Usually, toojoin a VM tooan on-premises domain, you need tooinstall additional software, like antimalware software, and backup or monitoring software.</span></span>

<span data-ttu-id="db0c9-503">In questo scenario, è inoltre necessario verificare se le impostazioni proxy Internet vengono forzate quando una macchina virtuale viene aggiunto a un dominio nell'ambiente in uso, Windows hello dispone di Account di sistema locale (S-1-5-18) nella macchina virtuale Guest hello hello stesse impostazioni del proxy toomake.</span><span class="sxs-lookup"><span data-stu-id="db0c9-503">In this scenario, you also need toomake sure that if Internet proxy settings are forced when a VM joins a domain in your environment, hello Windows Local System Account (S-1-5-18) in hello Guest VM has hello same proxy settings.</span></span> <span data-ttu-id="db0c9-504">opzione più semplice Hello è proxy hello tooforce tramite criteri di gruppo che si applica toosystems nel dominio hello un dominio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-504">hello easiest option is tooforce hello proxy by using a domain Group Policy, which applies toosystems in hello domain.</span></span>

### <span data-ttu-id="db0c9-505"><a name="c7cbb0dc-52a4-49db-8e03-83e7edc2927d"></a>Scaricare, installare e abilitare hello agente VM di Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-505"><a name="c7cbb0dc-52a4-49db-8e03-83e7edc2927d"></a>Download, install, and enable hello Azure VM Agent</span></span>
<span data-ttu-id="db0c9-506">Per le macchine virtuali distribuite da un'immagine del sistema operativo che non è generalizzata (ad esempio, un'immagine che non derivano nello strumento di preparazione del sistema Windows, o di sysprep, hello), è necessario toomanually download, installare e abilitare hello agente VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-506">For virtual machines that are deployed from an OS image that is not generalized (for example, an image that doesn't originate in hello Windows System Preparation, or sysprep, tool), you need toomanually download, install, and enable hello Azure VM Agent.</span></span>

<span data-ttu-id="db0c9-507">Se si distribuisce una macchina virtuale da Azure Marketplace hello, questo passaggio non è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-507">If you deploy a VM from hello Azure Marketplace, this step is not required.</span></span> <span data-ttu-id="db0c9-508">Le immagini da Azure Marketplace hello dispongono già di hello agente VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-508">Images from hello Azure Marketplace already have hello Azure VM Agent.</span></span>

#### <span data-ttu-id="db0c9-509"><a name="b2db5c9a-a076-42c6-9835-16945868e866"></a>Windows</span><span class="sxs-lookup"><span data-stu-id="db0c9-509"><a name="b2db5c9a-a076-42c6-9835-16945868e866"></a>Windows</span></span>
1.  <span data-ttu-id="db0c9-510">Scaricare hello agente VM di Azure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-510">Download hello Azure VM Agent:</span></span>
  1.  <span data-ttu-id="db0c9-511">Scaricare hello [pacchetto di installazione agente VM di Azure](https://go.microsoft.com/fwlink/?LinkId=394789).</span><span class="sxs-lookup"><span data-stu-id="db0c9-511">Download hello [Azure VM Agent installer package](https://go.microsoft.com/fwlink/?LinkId=394789).</span></span>
  2.  <span data-ttu-id="db0c9-512">Archiviare localmente pacchetto MSI dell'agente VM di hello su un personal computer o server.</span><span class="sxs-lookup"><span data-stu-id="db0c9-512">Store hello VM Agent MSI package locally on a personal computer or server.</span></span>
2.  <span data-ttu-id="db0c9-513">Installare l'agente VM di Azure hello:</span><span class="sxs-lookup"><span data-stu-id="db0c9-513">Install hello Azure VM Agent:</span></span>
  1.  <span data-ttu-id="db0c9-514">Connettersi toohello distribuita una macchina virtuale di Azure tramite Remote Desktop Protocol (RDP).</span><span class="sxs-lookup"><span data-stu-id="db0c9-514">Connect toohello deployed Azure VM by using Remote Desktop Protocol (RDP).</span></span>
  2.  <span data-ttu-id="db0c9-515">Aprire una finestra di Esplora in hello VM e di una directory di destinazione selezionare hello per file con estensione MSI hello di hello agente della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-515">Open a Windows Explorer window on hello VM and select hello target directory for hello MSI file of hello VM Agent.</span></span>
  3.  <span data-ttu-id="db0c9-516">Trascinare file con estensione MSI di programma di installazione dell'agente di Azure VM hello dalla directory di destinazione computer o server locale toohello di hello agente VM hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-516">Drag hello Azure VM Agent Installer MSI file from your local computer/server toohello target directory of hello VM Agent on hello VM.</span></span>
  4.  <span data-ttu-id="db0c9-517">Fare doppio clic sul file con estensione MSI hello in hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-517">Double-click hello MSI file on hello VM.</span></span>
3.  <span data-ttu-id="db0c9-518">Per le macchine virtuali sono domini locali tooon unita in join, assicurarsi che eventuali impostazioni del proxy Internet anche applicano toohello account di sistema locale di Windows (S-1-5-18) nella macchina virtuale, hello come descritto in [configurare proxy hello] [ deployment-guide-configure-proxy].</span><span class="sxs-lookup"><span data-stu-id="db0c9-518">For VMs that are joined tooon-premises domains, make sure that eventual Internet proxy settings also apply toohello Windows Local System account (S-1-5-18) in hello VM, as described in [Configure hello proxy][deployment-guide-configure-proxy].</span></span> <span data-ttu-id="db0c9-519">Hello agente della macchina virtuale viene eseguita in questo contesto e deve toobe tooconnect in grado di tooAzure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-519">hello VM Agent runs in this context and needs toobe able tooconnect tooAzure.</span></span>

<span data-ttu-id="db0c9-520">L'intervento dell'utente non è obbligatorio tooupdate hello agente VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-520">No user interaction is required tooupdate hello Azure VM Agent.</span></span> <span data-ttu-id="db0c9-521">Ciao agente VM viene aggiornata automaticamente e non richiede un riavvio della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-521">hello VM Agent is automatically updated, and does not require a VM restart.</span></span>

#### <span data-ttu-id="db0c9-522"><a name="6889ff12-eaaf-4f3c-97e1-7c9edc7f7542"></a>Linux</span><span class="sxs-lookup"><span data-stu-id="db0c9-522"><a name="6889ff12-eaaf-4f3c-97e1-7c9edc7f7542"></a>Linux</span></span>
<span data-ttu-id="db0c9-523">Utilizzare hello seguenti comandi tooinstall hello agente della macchina virtuale per Linux:</span><span class="sxs-lookup"><span data-stu-id="db0c9-523">Use hello following commands tooinstall hello VM Agent for Linux:</span></span>

* <span data-ttu-id="db0c9-524">**SUSE Linux Enterprise Server (SLES)**</span><span class="sxs-lookup"><span data-stu-id="db0c9-524">**SUSE Linux Enterprise Server (SLES)**</span></span>

  ```
  sudo zypper install WALinuxAgent
  ```

* <span data-ttu-id="db0c9-525">**Red Hat Enterprise Linux (RHEL)**</span><span class="sxs-lookup"><span data-stu-id="db0c9-525">**Red Hat Enterprise Linux (RHEL)**</span></span>

  ```
  sudo yum install WALinuxAgent
  ```

<span data-ttu-id="db0c9-526">Se è già installato l'agente hello, hello tooupdate agente Linux di Azure, hello passaggi descritti in [hello aggiornamento agente Linux di Azure in una versione più recente di toohello VM da GitHub][virtual-machines-linux-update-agent].</span><span class="sxs-lookup"><span data-stu-id="db0c9-526">If hello agent is already installed, tooupdate hello Azure Linux Agent, do hello steps described in [Update hello Azure Linux Agent on a VM toohello latest version from GitHub][virtual-machines-linux-update-agent].</span></span>

### <span data-ttu-id="db0c9-527"><a name="baccae00-6f79-4307-ade4-40292ce4e02d"></a>Configurare il proxy di hello</span><span class="sxs-lookup"><span data-stu-id="db0c9-527"><a name="baccae00-6f79-4307-ade4-40292ce4e02d"></a>Configure hello proxy</span></span>
<span data-ttu-id="db0c9-528">passaggi Hello utilizzati proxy hello tooconfigure in Windows sono diversi dalle modalità di hello che configurazione proxy hello in Linux.</span><span class="sxs-lookup"><span data-stu-id="db0c9-528">hello steps you take tooconfigure hello proxy in Windows are different from hello way you configure hello proxy in Linux.</span></span>

#### <a name="windows"></a><span data-ttu-id="db0c9-529">Windows</span><span class="sxs-lookup"><span data-stu-id="db0c9-529">Windows</span></span>
<span data-ttu-id="db0c9-530">Le impostazioni del proxy devono essere configurate correttamente per hello tooaccess hello Internet di account di sistema locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-530">Proxy settings must be set up correctly for hello Local System account tooaccess hello Internet.</span></span> <span data-ttu-id="db0c9-531">Se le impostazioni del proxy non sono impostate in Criteri di gruppo, è possibile configurare le impostazioni di hello per hello account sistema locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-531">If your proxy settings are not set by Group Policy, you can configure hello settings for hello Local System account.</span></span>

1. <span data-ttu-id="db0c9-532">Andare troppo**avviare**, immettere **gpedit. msc**, quindi selezionare **invio**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-532">Go too**Start**, enter **gpedit.msc**, and then select **Enter**.</span></span>
2. <span data-ttu-id="db0c9-533">Selezionare **Configurazione computer** > **Modelli amministrativi** > **Componenti di Windows** > **Internet Explorer**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-533">Select **Computer Configuration** > **Administrative Templates** > **Windows Components** > **Internet Explorer**.</span></span> <span data-ttu-id="db0c9-534">Verificare che tale impostazione hello **renderlo impostazioni per computer (anziché per utente)** è disabilitato o non configurato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-534">Make sure that hello setting **Make proxy settings per-machine (rather than per-user)** is disabled or not configured.</span></span>
3. <span data-ttu-id="db0c9-535">In **Pannello di controllo**, andare troppo**centro rete e condivisione** > **Opzioni Internet**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-535">In **Control Panel**, go too**Network and Sharing Center** > **Internet Options**.</span></span>
4. <span data-ttu-id="db0c9-536">In hello **connessioni** scheda, seleziona hello **impostazioni LAN** pulsante.</span><span class="sxs-lookup"><span data-stu-id="db0c9-536">On hello **Connections** tab, select hello **LAN settings** button.</span></span>
5. <span data-ttu-id="db0c9-537">Crittografato hello **rileva automaticamente impostazioni** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-537">Clear hello **Automatically detect settings** check box.</span></span>
6. <span data-ttu-id="db0c9-538">Seleziona hello **utilizza un server proxy per le connessioni LAN** casella di controllo e quindi immettere l'indirizzo del proxy hello e la porta.</span><span class="sxs-lookup"><span data-stu-id="db0c9-538">Select hello **Use a proxy server for your LAN** check box, and then enter hello proxy address and port.</span></span>
7. <span data-ttu-id="db0c9-539">Seleziona hello **avanzate** pulsante.</span><span class="sxs-lookup"><span data-stu-id="db0c9-539">Select hello **Advanced** button.</span></span>
8. <span data-ttu-id="db0c9-540">In hello **eccezioni** , immettere l'indirizzo IP hello **168.63.129.16**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-540">In hello **Exceptions** box, enter hello IP address **168.63.129.16**.</span></span> <span data-ttu-id="db0c9-541">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-541">Select **OK**.</span></span>


#### <a name="linux"></a><span data-ttu-id="db0c9-542">Linux</span><span class="sxs-lookup"><span data-stu-id="db0c9-542">Linux</span></span>
<span data-ttu-id="db0c9-543">Configurare il proxy corretto hello nel file di configurazione hello dell'agente Guest di Microsoft Azure, che si trova in hello \\via\\waagent.conf.</span><span class="sxs-lookup"><span data-stu-id="db0c9-543">Configure hello correct proxy in hello configuration file of hello Microsoft Azure Guest Agent, which is located at \\etc\\waagent.conf.</span></span>

<span data-ttu-id="db0c9-544">Impostare hello seguenti parametri:</span><span class="sxs-lookup"><span data-stu-id="db0c9-544">Set hello following parameters:</span></span>

1.  <span data-ttu-id="db0c9-545">**Host proxy HTTP**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-545">**HTTP proxy host**.</span></span> <span data-ttu-id="db0c9-546">Ad esempio, impostare troppo**proxy.corp.local**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-546">For example, set it too**proxy.corp.local**.</span></span>
  ```
  HttpProxy.Host=<proxy host>

  ```
2.  <span data-ttu-id="db0c9-547">**Porta proxy HTTP**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-547">**HTTP proxy port**.</span></span> <span data-ttu-id="db0c9-548">Ad esempio, impostare troppo**80**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-548">For example, set it too**80**.</span></span>
  ```
  HttpProxy.Port=<port of hello proxy host>

  ```
3.  <span data-ttu-id="db0c9-549">Riavviare l'agente di hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-549">Restart hello agent.</span></span>

  ```
  sudo service waagent restart
  ```

<span data-ttu-id="db0c9-550">impostazioni proxy in Hello \\via\\waagent.conf si applicano anche le estensioni VM toohello richiesto.</span><span class="sxs-lookup"><span data-stu-id="db0c9-550">hello proxy settings in \\etc\\waagent.conf also apply toohello required VM extensions.</span></span> <span data-ttu-id="db0c9-551">Se si desidera toouse hello Azure repository, assicurarsi che non sarà repository toothese di hello il traffico attraverso la rete intranet locale.</span><span class="sxs-lookup"><span data-stu-id="db0c9-551">If you want toouse hello Azure repositories, make sure that hello traffic toothese repositories is not going through your on-premises intranet.</span></span> <span data-ttu-id="db0c9-552">Se è stato creato definito dall'utente tooenable route il tunneling forzato, assicurarsi che si aggiunge una route che indirizza repository toohello traffico direttamente toohello Internet e non tramite la connessione VPN da sito a sito.</span><span class="sxs-lookup"><span data-stu-id="db0c9-552">If you created user-defined routes tooenable forced tunneling, make sure that you add a route that routes traffic toohello repositories directly toohello Internet, and not through your site-to-site VPN connection.</span></span>

* <span data-ttu-id="db0c9-553">**SLES**</span><span class="sxs-lookup"><span data-stu-id="db0c9-553">**SLES**</span></span>

  <span data-ttu-id="db0c9-554">È inoltre necessario tooadd route per gli indirizzi IP hello elencate in \\via\\regionserverclnt.cfg.</span><span class="sxs-lookup"><span data-stu-id="db0c9-554">You also need tooadd routes for hello IP addresses listed in \\etc\\regionserverclnt.cfg.</span></span> <span data-ttu-id="db0c9-555">Hello figura riportata di seguito viene illustrato un esempio:</span><span class="sxs-lookup"><span data-stu-id="db0c9-555">hello following figure shows an example:</span></span>

  ![Tunneling forzato][deployment-guide-figure-50]


* <span data-ttu-id="db0c9-557">**RHEL**</span><span class="sxs-lookup"><span data-stu-id="db0c9-557">**RHEL**</span></span>

  <span data-ttu-id="db0c9-558">È inoltre necessario tooadd route per gli indirizzi IP hello degli host hello elencate in \\via\\yum.repos.d\\rhui bilanciamento.</span><span class="sxs-lookup"><span data-stu-id="db0c9-558">You also need tooadd routes for hello IP addresses of hello hosts listed in \\etc\\yum.repos.d\\rhui-load-balancers.</span></span> <span data-ttu-id="db0c9-559">Per un esempio, vedere hello nella figura precedente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-559">For an example, see hello preceding figure.</span></span>

<span data-ttu-id="db0c9-560">Per altre informazioni sulle route definite dall'utente, vedere [Route definite dall'utente e inoltro IP][virtual-networks-udr-overview].</span><span class="sxs-lookup"><span data-stu-id="db0c9-560">For more information about user-defined routes, see [User-defined routes and IP forwarding][virtual-networks-udr-overview].</span></span>

### <span data-ttu-id="db0c9-561"><a name="d98edcd3-f2a1-49f7-b26a-07448ceb60ca"></a>Configurare hello Azure Enhanced Monitoring Extension per SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-561"><a name="d98edcd3-f2a1-49f7-b26a-07448ceb60ca"></a>Configure hello Azure Enhanced Monitoring Extension for SAP</span></span>
<span data-ttu-id="db0c9-562">Quando è stata preparata hello VM come descritto in [scenari di distribuzione di macchine virtuali per SAP in Azure][deployment-guide-3], hello agente VM di Azure viene installato nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-562">When you've prepared hello VM as described in [Deployment scenarios of VMs for SAP on Azure][deployment-guide-3], hello Azure VM Agent is installed on hello virtual machine.</span></span> <span data-ttu-id="db0c9-563">passaggio successivo Hello è toodeploy hello Azure Enhanced Monitoring Extension per SAP, è disponibile in hello Repository estensioni di Azure nei Data Center di Azure globale hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-563">hello next step is toodeploy hello Azure Enhanced Monitoring Extension for SAP, which is available in hello Azure Extension Repository in hello global Azure datacenters.</span></span> <span data-ttu-id="db0c9-564">Per altre informazioni, vedere [Pianificazione e implementazione di Macchine virtuali di Azure per SAP in Linux][planning-guide-9.1].</span><span class="sxs-lookup"><span data-stu-id="db0c9-564">For more information, see [Azure Virtual Machines planning and implementation for SAP on Linux][planning-guide-9.1].</span></span>

<span data-ttu-id="db0c9-565">È possibile utilizzare PowerShell o Azure CLI tooinstall e configurare hello Azure Enhanced Monitoring Extension per SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-565">You can use PowerShell or Azure CLI tooinstall and configure hello Azure Enhanced Monitoring Extension for SAP.</span></span> <span data-ttu-id="db0c9-566">estensione di hello tooinstall in Windows o Linux VM utilizzando un computer Windows, vedere [Azure PowerShell][deployment-guide-4.5.1].</span><span class="sxs-lookup"><span data-stu-id="db0c9-566">tooinstall hello extension on a Windows or Linux VM by using a Windows machine, see [Azure PowerShell][deployment-guide-4.5.1].</span></span> <span data-ttu-id="db0c9-567">estensione di hello tooinstall in una VM Linux usando un desktop Linux, vedere [CLI di Azure][deployment-guide-4.5.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-567">tooinstall hello extension on a Linux VM by using a Linux desktop, see [Azure CLI][deployment-guide-4.5.2].</span></span>

#### <span data-ttu-id="db0c9-568"><a name="987cf279-d713-4b4c-8143-6b11589bb9d4"></a>Azure PowerShell per VM Linux e Windows</span><span class="sxs-lookup"><span data-stu-id="db0c9-568"><a name="987cf279-d713-4b4c-8143-6b11589bb9d4"></a>Azure PowerShell for Linux and Windows VMs</span></span>
<span data-ttu-id="db0c9-569">tooinstall hello Azure Enhanced Monitoring Extension per SAP con PowerShell:</span><span class="sxs-lookup"><span data-stu-id="db0c9-569">tooinstall hello Azure Enhanced Monitoring Extension for SAP by using PowerShell:</span></span>

1. <span data-ttu-id="db0c9-570">Assicurarsi di aver installato una versione più recente di hello del cmdlet di Azure PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-570">Make sure that you have installed hello latest version of hello Azure PowerShell cmdlet.</span></span> <span data-ttu-id="db0c9-571">Per altre informazioni, vedere [Distribuzione di cmdlet di Azure PowerShell][deployment-guide-4.1].</span><span class="sxs-lookup"><span data-stu-id="db0c9-571">For more information, see [Deploying Azure PowerShell cmdlets][deployment-guide-4.1].</span></span>  
2. <span data-ttu-id="db0c9-572">Eseguire hello seguente cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="db0c9-572">Run hello following PowerShell cmdlet.</span></span>
  <span data-ttu-id="db0c9-573">Per un elenco degli ambienti disponibili, eseguire `commandlet Get-AzureRmEnvironment`.</span><span class="sxs-lookup"><span data-stu-id="db0c9-573">For a list of available environments, run `commandlet Get-AzureRmEnvironment`.</span></span> <span data-ttu-id="db0c9-574">Se si desidera toouse Azure pubblico, l'ambiente è **cloud**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-574">If you want toouse public Azure, your environment is **AzureCloud**.</span></span> <span data-ttu-id="db0c9-575">Per Azure in Cina, selezionare **AzureChinaCloud**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-575">For Azure in China, select **AzureChinaCloud**.</span></span>


      ```powershell
      $env = Get-AzureRmEnvironment -Name <name of hello environment>
      Login-AzureRmAccount -Environment $env
      Set-AzureRmContext -SubscriptionName <subscription name>

      Set-AzureRmVMAEMExtension -ResourceGroupName <resource group name> -VMName <virtual machine name>
      ```

<span data-ttu-id="db0c9-576">Dopo aver immesso i dati dell'account e identificare hello macchina virtuale di Azure, script hello consente di distribuire le estensioni necessarie hello e abilita le funzionalità di hello necessario.</span><span class="sxs-lookup"><span data-stu-id="db0c9-576">After you enter your account data and identify hello Azure virtual machine, hello script deploys hello required extensions and enables hello required features.</span></span> <span data-ttu-id="db0c9-577">Ciò può richiedere alcuni minuti.</span><span class="sxs-lookup"><span data-stu-id="db0c9-577">This can take several minutes.</span></span>
<span data-ttu-id="db0c9-578">Per altre informazioni su `Set-AzureRmVMAEMExtension`, vedere [Set-AzureRmVMAEMExtension][msdn-set-azurermvmaemextension].</span><span class="sxs-lookup"><span data-stu-id="db0c9-578">For more information about `Set-AzureRmVMAEMExtension`, see [Set-AzureRmVMAEMExtension][msdn-set-azurermvmaemextension].</span></span>

![Esecuzione corretta del cmdlet di Azure specifico di SAP Set-AzureRmVMAEMExtension][deployment-guide-figure-900]

<span data-ttu-id="db0c9-580">Hello `Set-AzureRmVMAEMExtension` configuration tutti gli host di tooconfigure passaggi hello monitoring per SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-580">hello `Set-AzureRmVMAEMExtension` configuration does all hello steps tooconfigure host monitoring for SAP.</span></span>

<span data-ttu-id="db0c9-581">output di Hello script include hello le seguenti informazioni:</span><span class="sxs-lookup"><span data-stu-id="db0c9-581">hello script output includes hello following information:</span></span>

* <span data-ttu-id="db0c9-582">Conferma che il monitoraggio di base hello disco rigido virtuale (con Buongiorno del sistema operativo) e tutti i dischi rigidi virtuali aggiuntivi montati toohello che macchina virtuale è stata configurata.</span><span class="sxs-lookup"><span data-stu-id="db0c9-582">Confirmation that monitoring for hello base VHD (with hello OS) and all additional VHDs mounted toohello VM has been configured.</span></span>
* <span data-ttu-id="db0c9-583">Hello due messaggi successivi verificare la configurazione di hello di metriche di archiviazione per un account di archiviazione specifico.</span><span class="sxs-lookup"><span data-stu-id="db0c9-583">hello next two messages confirm hello configuration of Storage Metrics for a specific storage account.</span></span>
* <span data-ttu-id="db0c9-584">Una riga di output restituisce lo stato di hello dell'aggiornamento effettivo di hello hello della configurazione del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="db0c9-584">One line of output gives hello status of hello actual update of hello monitoring configuration.</span></span>
* <span data-ttu-id="db0c9-585">Un'altra riga dell'output conferma che la configurazione di hello è stata distribuita o aggiornata.</span><span class="sxs-lookup"><span data-stu-id="db0c9-585">Another line of output confirms that hello configuration has been deployed or updated.</span></span>
* <span data-ttu-id="db0c9-586">Hello l'ultima riga dell'output è informativo.</span><span class="sxs-lookup"><span data-stu-id="db0c9-586">hello last line of output is informational.</span></span> <span data-ttu-id="db0c9-587">Mostra le opzioni per la configurazione del monitoraggio hello test.</span><span class="sxs-lookup"><span data-stu-id="db0c9-587">It shows your options for testing hello monitoring configuration.</span></span>

<span data-ttu-id="db0c9-588">toocheck che tutti i passaggi di Azure Enhanced Monitoring sono stati eseguiti correttamente e che hello infrastruttura di Azure fornisce i dati necessari hello, procedere con il controllo di conformità hello per hello Azure Enhanced Monitoring Extension per SAP, come descritto in [Controllo conformità per Azure Enhanced Monitoring per SAP][deployment-guide-5.1].</span><span class="sxs-lookup"><span data-stu-id="db0c9-588">toocheck that all steps of Azure Enhanced Monitoring have been executed successfully, and that hello Azure Infrastructure provides hello necessary data, proceed with hello readiness check for hello Azure Enhanced Monitoring Extension for SAP, as described in [Readiness check for Azure Enhanced Monitoring for SAP][deployment-guide-5.1].</span></span> <span data-ttu-id="db0c9-589">Attendere 15-30 minuti per i dati di diagnostica Azure toocollect hello pertinenti.</span><span class="sxs-lookup"><span data-stu-id="db0c9-589">Wait 15-30 minutes for Azure Diagnostics toocollect hello relevant data.</span></span>

#### <span data-ttu-id="db0c9-590"><a name="408f3779-f422-4413-82f8-c57a23b4fc2f"></a>Interfaccia della riga di comando di Azure per VM Linux</span><span class="sxs-lookup"><span data-stu-id="db0c9-590"><a name="408f3779-f422-4413-82f8-c57a23b4fc2f"></a>Azure CLI for Linux VMs</span></span>
<span data-ttu-id="db0c9-591">tooinstall hello Azure Enhanced Monitoring Extension per SAP tramite l'interfaccia CLI di Azure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-591">tooinstall hello Azure Enhanced Monitoring Extension for SAP by using Azure CLI:</span></span>

1. <span data-ttu-id="db0c9-592">Installare l'interfaccia CLI di Azure, come descritto in [installazione hello Azure CLI][azure-cli].</span><span class="sxs-lookup"><span data-stu-id="db0c9-592">Install Azure CLI, as described in [Install hello Azure CLI][azure-cli].</span></span>
2. <span data-ttu-id="db0c9-593">Accedere con l'account Azure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-593">Sign in with your Azure account:</span></span>

  ```
  azure login
  ```

3. <span data-ttu-id="db0c9-594">Cambia la modalità di gestione risorse tooAzure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-594">Switch tooAzure Resource Manager mode:</span></span>

  ```
  azure config mode arm
  ```

4. <span data-ttu-id="db0c9-595">Abilitare il monitoraggio avanzato di Azure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-595">Enable Azure Enhanced Monitoring:</span></span>

  ```
  azure vm enable-aem <resource-group-name> <vm-name>
  ```

5. <span data-ttu-id="db0c9-596">Verificare che hello Azure Enhanced Monitoring Extension è attiva su hello VM Linux di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-596">Verify that hello Azure Enhanced Monitoring Extension is active on hello Azure Linux VM.</span></span> <span data-ttu-id="db0c9-597">Controllare se hello file \\var\\lib\\AzureEnhancedMonitor\\PerfCounters esiste.</span><span class="sxs-lookup"><span data-stu-id="db0c9-597">Check whether hello file \\var\\lib\\AzureEnhancedMonitor\\PerfCounters exists.</span></span> <span data-ttu-id="db0c9-598">Se esiste, al prompt dei comandi, eseguire questo comando toodisplay raccolti da hello monitoraggio avanzato di Azure:</span><span class="sxs-lookup"><span data-stu-id="db0c9-598">If it exists, at a command prompt, run this command toodisplay information collected by hello Azure Enhanced Monitor:</span></span>
```
cat /var/lib/AzureEnhancedMonitor/PerfCounters
```

<span data-ttu-id="db0c9-599">output di Hello è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="db0c9-599">hello output looks like this:</span></span>
```
2;cpu;Current Hw Frequency;;0;2194.659;MHz;60;1444036656;saplnxmon;
2;cpu;Max Hw Frequency;;0;2194.659;MHz;0;1444036656;saplnxmon;
…
…
```

## <span data-ttu-id="db0c9-600"><a name="564adb4f-5c95-4041-9616-6635e83a810b"></a>Controlli e risoluzione dei problemi per il monitoraggio end-to-end</span><span class="sxs-lookup"><span data-stu-id="db0c9-600"><a name="564adb4f-5c95-4041-9616-6635e83a810b"></a>Checks and troubleshooting for end-to-end monitoring</span></span>
<span data-ttu-id="db0c9-601">Dopo aver distribuito la macchina virtuale di Azure e configurare hello infrastruttura di Azure monitoring, verificare se tutti i componenti di hello di hello Azure Enhanced Monitoring Extension funzionino come previsto.</span><span class="sxs-lookup"><span data-stu-id="db0c9-601">After you have deployed your Azure VM and set up hello relevant Azure monitoring infrastructure, check whether all hello components of hello Azure Enhanced Monitoring Extension are working as expected.</span></span>

<span data-ttu-id="db0c9-602">Eseguire il controllo di conformità hello per hello Azure Enhanced Monitoring Extension per SAP, come descritto in [controllo conformità per Azure Enhanced Monitoring Extension per SAP hello][deployment-guide-5.1].</span><span class="sxs-lookup"><span data-stu-id="db0c9-602">Run hello readiness check for hello Azure Enhanced Monitoring Extension for SAP as described in [Readiness check for hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-5.1].</span></span> <span data-ttu-id="db0c9-603">Se tutti i risultati dei controlli dello stato di preparazione sono positivi e tutti i contatori delle prestazioni pertinenti sono funzionanti, significa che il monitoraggio di Azure è stato configurato correttamente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-603">If all readiness check results are positive and all relevant performance counters appear OK, Azure monitoring successfully set up.</span></span> <span data-ttu-id="db0c9-604">È possibile procedere con l'installazione di hello dell'agente Host SAP descritti nelle note SAP hello in [risorse SAP][deployment-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-604">You can proceed with hello installation of SAP Host Agent described in hello SAP Notes in [SAP resources][deployment-guide-2.2].</span></span> <span data-ttu-id="db0c9-605">Se il controllo di conformità hello indica che i contatori sono mancanti, eseguire il controllo di integrità hello per hello Azure infrastruttura di monitoraggio, come descritto in [verifica integrità per la configurazione del monitoraggio dell'infrastruttura Azure] [ deployment-guide-5.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-605">If hello readiness check indicates that counters are missing, run hello health check for hello Azure monitoring infrastructure, as described in [Health check for Azure monitoring infrastructure configuration][deployment-guide-5.2].</span></span> <span data-ttu-id="db0c9-606">Per altre opzioni di risoluzione dei problemi, vedere [Risoluzione dei problemi di monitoraggio di Azure per SAP][deployment-guide-5.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-606">For more troubleshooting options, see [Troubleshooting Azure monitoring for SAP][deployment-guide-5.3].</span></span>

### <span data-ttu-id="db0c9-607"><a name="bb61ce92-8c5c-461f-8c53-39f5e5ed91f2"></a>Controllo conformità per hello Azure Enhanced Monitoring Extension per SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-607"><a name="bb61ce92-8c5c-461f-8c53-39f5e5ed91f2"></a>Readiness check for hello Azure Enhanced Monitoring Extension for SAP</span></span>
<span data-ttu-id="db0c9-608">Questo controllo assicura che tutte le metriche delle prestazioni che vengono visualizzati all'interno dell'applicazione SAP vengono fornite da hello Azure monitoraggio dell'infrastruttura sottostante.</span><span class="sxs-lookup"><span data-stu-id="db0c9-608">This check makes sure that all performance metrics that appear inside your SAP application are provided by hello underlying Azure monitoring infrastructure.</span></span>

#### <a name="run-hello-readiness-check-on-a-windows-vm"></a><span data-ttu-id="db0c9-609">Eseguire il controllo di conformità hello in una macchina virtuale Windows</span><span class="sxs-lookup"><span data-stu-id="db0c9-609">Run hello readiness check on a Windows VM</span></span>

1.  <span data-ttu-id="db0c9-610">Accedi toohello macchina virtuale di Azure (utilizzando un account amministratore non è necessario).</span><span class="sxs-lookup"><span data-stu-id="db0c9-610">Sign in toohello Azure virtual machine (using an admin account is not necessary).</span></span>
2.  <span data-ttu-id="db0c9-611">Aprire una finestra del prompt dei comandi.</span><span class="sxs-lookup"><span data-stu-id="db0c9-611">Open a Command Prompt window.</span></span>
3.  <span data-ttu-id="db0c9-612">Al prompt dei comandi di hello, Modifica cartella di installazione di hello directory toohello di hello Azure Enhanced Monitoring Extension per SAP: c:\\pacchetti\\plug-in\\ Microsoft.AzureCAT.AzureEnhancedMonitoring.AzureCATExtensionHandler\\&lt;versione >\\drop</span><span class="sxs-lookup"><span data-stu-id="db0c9-612">At hello command prompt, change hello directory toohello installation folder of hello Azure Enhanced Monitoring Extension for SAP: C:\\Packages\\Plugins\\Microsoft.AzureCAT.AzureEnhancedMonitoring.AzureCATExtensionHandler\\&lt;version>\\drop</span></span>

  <span data-ttu-id="db0c9-613">Hello *versione* in hello percorso toohello monitoraggio estensione potrebbe variare.</span><span class="sxs-lookup"><span data-stu-id="db0c9-613">hello *version* in hello path toohello monitoring extension might vary.</span></span> <span data-ttu-id="db0c9-614">Se le cartelle per più versioni di monitoraggio di estensione nella cartella di installazione hello, controllare la configurazione del servizio Windows di AzureEnhancedMonitoring, hello hello hello e quindi commutatore toohello cartella indicata come *tooexecutable percorso* .</span><span class="sxs-lookup"><span data-stu-id="db0c9-614">If you see folders for multiple versions of hello monitoring extension in hello installation folder, check hello configuration of hello AzureEnhancedMonitoring Windows service, and then switch toohello folder indicated as *Path tooexecutable*.</span></span>

  ![Proprietà del servizio in esecuzione hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-figure-1000]

4.  <span data-ttu-id="db0c9-616">Al prompt dei comandi di hello, eseguire **azperflib.exe** senza parametri.</span><span class="sxs-lookup"><span data-stu-id="db0c9-616">At hello command prompt, run **azperflib.exe** without any parameters.</span></span>

  > [!NOTE]
  > <span data-ttu-id="db0c9-617">Azperflib.exe viene eseguito in un ciclo e aggiorna i contatori di hello raccolti ogni 60 secondi.</span><span class="sxs-lookup"><span data-stu-id="db0c9-617">Azperflib.exe runs in a loop and updates hello collected counters every 60 seconds.</span></span> <span data-ttu-id="db0c9-618">ciclo di hello tooend, finestra prompt dei comandi di hello Chiudi.</span><span class="sxs-lookup"><span data-stu-id="db0c9-618">tooend hello loop, close hello Command Prompt window.</span></span>
  >
  >

<span data-ttu-id="db0c9-619">Se hello che Azure Enhanced Monitoring Extension non è installato o hello AzureEnhancedMonitoring servizio non è in esecuzione, estensione hello non è stato configurato correttamente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-619">If hello Azure Enhanced Monitoring Extension is not installed, or hello AzureEnhancedMonitoring service is not running, hello extension has not been configured correctly.</span></span> <span data-ttu-id="db0c9-620">Per informazioni dettagliate su come toodeploy hello estensione, vedere [Troubleshooting hello dell'infrastruttura di Azure monitoring per SAP][deployment-guide-5.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-620">For detailed information about how toodeploy hello extension, see [Troubleshooting hello Azure monitoring infrastructure for SAP][deployment-guide-5.3].</span></span>

##### <a name="check-hello-output-of-azperflibexe"></a><span data-ttu-id="db0c9-621">Controllare l'output di hello di azperflib.exe</span><span class="sxs-lookup"><span data-stu-id="db0c9-621">Check hello output of azperflib.exe</span></span>
<span data-ttu-id="db0c9-622">L'output di azperflib.exe visualizza tutti i contatori delle prestazioni di Azure popolati per SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-622">Azperflib.exe output shows all populated Azure performance counters for SAP.</span></span> <span data-ttu-id="db0c9-623">Nella parte inferiore di hello dell'elenco di hello di contatori raccolti, un indicatore di stato e di riepilogo Mostra lo stato di hello del monitoraggio di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-623">At hello bottom of hello list of collected counters, a summary and health indicator show hello status of Azure monitoring.</span></span>

<span data-ttu-id="db0c9-624">![Output del controllo di integrità eseguito con azperflib.exe che indica che non sono presenti problemi][deployment-guide-figure-1100]
<a name="figure-11"></a></span><span class="sxs-lookup"><span data-stu-id="db0c9-624">![Output of health check by executing azperflib.exe, which indicates that no problems exist][deployment-guide-figure-1100]
<a name="figure-11"></a></span></span>

<span data-ttu-id="db0c9-625">Controllare i risultati di hello restituiti hello **totale contatori** output, che viene segnalato come vuoti e relativo **lo stato di integrità**, come mostrato nella figura precedente hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-625">Check hello result returned for hello **Counters total** output, which is reported as empty, and for **Health status**, shown in hello preceding figure.</span></span>

<span data-ttu-id="db0c9-626">Interpretare i valori risultanti hello come segue:</span><span class="sxs-lookup"><span data-stu-id="db0c9-626">Interpret hello resulting values as follows:</span></span>

| <span data-ttu-id="db0c9-627">Valori dei risultati di azperflib.exe</span><span class="sxs-lookup"><span data-stu-id="db0c9-627">Azperflib.exe result values</span></span> | <span data-ttu-id="db0c9-628">Stato di integrità del monitoraggio di Azure</span><span class="sxs-lookup"><span data-stu-id="db0c9-628">Azure monitoring health status</span></span> |
| --- | --- |
| <span data-ttu-id="db0c9-629">**API Calls - not available**</span><span class="sxs-lookup"><span data-stu-id="db0c9-629">**API Calls - not available**</span></span> | <span data-ttu-id="db0c9-630">I contatori che non sono disponibili potrebbero essere entrambe le configurazioni di macchina virtuale non applicabile toohello o errori.</span><span class="sxs-lookup"><span data-stu-id="db0c9-630">Counters that are not available might be either not applicable toohello virtual machine configuration, or are errors.</span></span> <span data-ttu-id="db0c9-631">Vedere **Health status**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-631">See **Health status**.</span></span> |
| <span data-ttu-id="db0c9-632">**Counters total - empty**</span><span class="sxs-lookup"><span data-stu-id="db0c9-632">**Counters total - empty**</span></span> |<span data-ttu-id="db0c9-633">Hello seguenti due contatori di archiviazione di Azure può essere vuoto:</span><span class="sxs-lookup"><span data-stu-id="db0c9-633">hello following two Azure storage counters can be empty:</span></span> <ul><li><span data-ttu-id="db0c9-634">Storage Read Op Latency Server msec</span><span class="sxs-lookup"><span data-stu-id="db0c9-634">Storage Read Op Latency Server msec</span></span></li><li><span data-ttu-id="db0c9-635">Storage Read Op Latency E2E msec</span><span class="sxs-lookup"><span data-stu-id="db0c9-635">Storage Read Op Latency E2E msec</span></span></li></ul><span data-ttu-id="db0c9-636">Tutti gli altri contatori devono avere valori.</span><span class="sxs-lookup"><span data-stu-id="db0c9-636">All other counters must have values.</span></span> |
| <span data-ttu-id="db0c9-637">**Health status**</span><span class="sxs-lookup"><span data-stu-id="db0c9-637">**Health status**</span></span> |<span data-ttu-id="db0c9-638">È positivo solo se lo stato restituito è **OK**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-638">Only OK if return status shows **OK**.</span></span> |
| <span data-ttu-id="db0c9-639">**Diagnostica**</span><span class="sxs-lookup"><span data-stu-id="db0c9-639">**Diagnostics**</span></span> |<span data-ttu-id="db0c9-640">Informazioni dettagliate sullo stato di integrità.</span><span class="sxs-lookup"><span data-stu-id="db0c9-640">Detailed information about health status.</span></span> |

<span data-ttu-id="db0c9-641">Se hello **lo stato di integrità** valore non è **OK**, seguire le istruzioni hello [verifica integrità per la configurazione del monitoraggio dell'infrastruttura Azure] [ deployment-guide-5.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-641">If hello **Health status** value is not **OK**, follow hello instructions in [Health check for Azure monitoring infrastructure configuration][deployment-guide-5.2].</span></span>

#### <a name="run-hello-readiness-check-on-a-linux-vm"></a><span data-ttu-id="db0c9-642">Eseguire il controllo di conformità hello in una VM Linux</span><span class="sxs-lookup"><span data-stu-id="db0c9-642">Run hello readiness check on a Linux VM</span></span>

1.  <span data-ttu-id="db0c9-643">Connettersi toohello macchina virtuale di Azure tramite SSH.</span><span class="sxs-lookup"><span data-stu-id="db0c9-643">Connect toohello Azure Virtual Machine by using SSH.</span></span>

2.  <span data-ttu-id="db0c9-644">Controllare l'output di hello di hello Azure Enhanced Monitoring Extension.</span><span class="sxs-lookup"><span data-stu-id="db0c9-644">Check hello output of hello Azure Enhanced Monitoring Extension.</span></span>

  <span data-ttu-id="db0c9-645">a.</span><span class="sxs-lookup"><span data-stu-id="db0c9-645">a.</span></span>  <span data-ttu-id="db0c9-646">Eseguire `more /var/lib/AzureEnhancedMonitor/PerfCounters`</span><span class="sxs-lookup"><span data-stu-id="db0c9-646">Run `more /var/lib/AzureEnhancedMonitor/PerfCounters`</span></span>

   <span data-ttu-id="db0c9-647">**Risultato previsto**: restituisce un elenco di contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="db0c9-647">**Expected result**: Returns list of performance counters.</span></span> <span data-ttu-id="db0c9-648">file Hello non deve essere vuoto.</span><span class="sxs-lookup"><span data-stu-id="db0c9-648">hello file should not be empty.</span></span>

 <span data-ttu-id="db0c9-649">b.</span><span class="sxs-lookup"><span data-stu-id="db0c9-649">b.</span></span> <span data-ttu-id="db0c9-650">Eseguire `cat /var/lib/AzureEnhancedMonitor/PerfCounters | grep Error`</span><span class="sxs-lookup"><span data-stu-id="db0c9-650">Run `cat /var/lib/AzureEnhancedMonitor/PerfCounters | grep Error`</span></span>

   <span data-ttu-id="db0c9-651">**Nel risultato previsto**: restituisce una riga in cui errore hello **Nessuno**, ad esempio, **3; config; Errore; 0; 0; Nessuno 0; 1456416792; tst-servercs;**</span><span class="sxs-lookup"><span data-stu-id="db0c9-651">**Expected result**: Returns one line where hello error is **none**, for example, **3;config;Error;;0;0;none;0;1456416792;tst-servercs;**</span></span>

  <span data-ttu-id="db0c9-652">c.</span><span class="sxs-lookup"><span data-stu-id="db0c9-652">c.</span></span> <span data-ttu-id="db0c9-653">Eseguire `more /var/lib/AzureEnhancedMonitor/LatestErrorRecord`</span><span class="sxs-lookup"><span data-stu-id="db0c9-653">Run `more /var/lib/AzureEnhancedMonitor/LatestErrorRecord`</span></span>

    <span data-ttu-id="db0c9-654">**Risultato previsto**: viene restituito come vuoto o non esiste.</span><span class="sxs-lookup"><span data-stu-id="db0c9-654">**Expected result**: Returns as empty or does not exist.</span></span>

<span data-ttu-id="db0c9-655">Se hello controllo precedente non è riuscita, eseguire questi controlli aggiuntivi:</span><span class="sxs-lookup"><span data-stu-id="db0c9-655">If hello preceding check was not successful, run these additional checks:</span></span>

1.  <span data-ttu-id="db0c9-656">Verificare che il comando waagent hello viene installato e attivato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-656">Make sure that hello waagent is installed and enabled.</span></span>

  <span data-ttu-id="db0c9-657">a.</span><span class="sxs-lookup"><span data-stu-id="db0c9-657">a.</span></span>  <span data-ttu-id="db0c9-658">Eseguire `sudo ls -al /var/lib/waagent/`</span><span class="sxs-lookup"><span data-stu-id="db0c9-658">Run `sudo ls -al /var/lib/waagent/`</span></span>

      <span data-ttu-id="db0c9-659">**Nel risultato previsto**: Elenca il contenuto di hello della directory waagent hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-659">**Expected result**: Lists hello content of hello waagent directory.</span></span>

  <span data-ttu-id="db0c9-660">b.</span><span class="sxs-lookup"><span data-stu-id="db0c9-660">b.</span></span>  <span data-ttu-id="db0c9-661">Eseguire `ps -ax | grep waagent`</span><span class="sxs-lookup"><span data-stu-id="db0c9-661">Run `ps -ax | grep waagent`</span></span>

   <span data-ttu-id="db0c9-662">**Risultato previsto**: visualizza una voce simile a `python /usr/sbin/waagent -daemon`</span><span class="sxs-lookup"><span data-stu-id="db0c9-662">**Expected result**: Displays one entry similar to: `python /usr/sbin/waagent -daemon`</span></span>

2. <span data-ttu-id="db0c9-663">Verificare che tale hello estensione diagnostica per Linux viene installato e attivato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-663">Make sure that hello Linux Diagnostic Extension is installed and enabled.</span></span>

  <span data-ttu-id="db0c9-664">a.</span><span class="sxs-lookup"><span data-stu-id="db0c9-664">a.</span></span>  <span data-ttu-id="db0c9-665">Eseguire `sudo sh -c 'ls -al /var/lib/waagent/Microsoft.OSTCExtensions.LinuxDiagnostic-'`</span><span class="sxs-lookup"><span data-stu-id="db0c9-665">Run `sudo sh -c 'ls -al /var/lib/waagent/Microsoft.OSTCExtensions.LinuxDiagnostic-'`</span></span>

   <span data-ttu-id="db0c9-666">**Nel risultato previsto**: Elenca il contenuto di hello di directory dell'estensione diagnostica Linux hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-666">**Expected result**: Lists hello content of hello Linux Diagnostic Extension directory.</span></span>

 <span data-ttu-id="db0c9-667">b.</span><span class="sxs-lookup"><span data-stu-id="db0c9-667">b.</span></span> <span data-ttu-id="db0c9-668">Eseguire `ps -ax | grep diagnostic`</span><span class="sxs-lookup"><span data-stu-id="db0c9-668">Run `ps -ax | grep diagnostic`</span></span>

   <span data-ttu-id="db0c9-669">**Risultato previsto**: visualizza una voce simile a `python /var/lib/waagent/Microsoft.OSTCExtensions.LinuxDiagnostic-2.0.92/diagnostic.py -daemon`</span><span class="sxs-lookup"><span data-stu-id="db0c9-669">**Expected result**: Displays one entry similar to: `python /var/lib/waagent/Microsoft.OSTCExtensions.LinuxDiagnostic-2.0.92/diagnostic.py -daemon`</span></span>

3.   <span data-ttu-id="db0c9-670">Assicurarsi che tale hello Azure Enhanced Monitoring Extension sia installato e in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-670">Make sure that hello Azure Enhanced Monitoring Extension is installed and running.</span></span>

  <span data-ttu-id="db0c9-671">a.</span><span class="sxs-lookup"><span data-stu-id="db0c9-671">a.</span></span>  <span data-ttu-id="db0c9-672">Eseguire `sudo sh -c 'ls -al /var/lib/waagent/Microsoft.OSTCExtensions.AzureEnhancedMonitorForLinux-/'`</span><span class="sxs-lookup"><span data-stu-id="db0c9-672">Run `sudo sh -c 'ls -al /var/lib/waagent/Microsoft.OSTCExtensions.AzureEnhancedMonitorForLinux-/'`</span></span>

    <span data-ttu-id="db0c9-673">**Nel risultato previsto**: Elenca il contenuto di hello della directory di Azure Enhanced Monitoring Extension hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-673">**Expected result**: Lists hello content of hello Azure Enhanced Monitoring Extension directory.</span></span>

  <span data-ttu-id="db0c9-674">b.</span><span class="sxs-lookup"><span data-stu-id="db0c9-674">b.</span></span> <span data-ttu-id="db0c9-675">Eseguire `ps -ax | grep AzureEnhanced`</span><span class="sxs-lookup"><span data-stu-id="db0c9-675">Run `ps -ax | grep AzureEnhanced`</span></span>

     <span data-ttu-id="db0c9-676">**Risultato previsto**: visualizza una voce simile a `python /var/lib/waagent/Microsoft.OSTCExtensions.AzureEnhancedMonitorForLinux-2.0.0.2/handler.py daemon`</span><span class="sxs-lookup"><span data-stu-id="db0c9-676">**Expected result**: Displays one entry similar to: `python /var/lib/waagent/Microsoft.OSTCExtensions.AzureEnhancedMonitorForLinux-2.0.0.2/handler.py daemon`</span></span>

3. <span data-ttu-id="db0c9-677">Installare l'agente Host SAP come descritto nella nota SAP [1031096]e verificare nell'output di hello `saposcol`.</span><span class="sxs-lookup"><span data-stu-id="db0c9-677">Install SAP Host Agent as described in SAP Note [1031096], and check hello output of `saposcol`.</span></span>

  <span data-ttu-id="db0c9-678">a.</span><span class="sxs-lookup"><span data-stu-id="db0c9-678">a.</span></span>  <span data-ttu-id="db0c9-679">Eseguire `/usr/sap/hostctrl/exe/saposcol -d`</span><span class="sxs-lookup"><span data-stu-id="db0c9-679">Run `/usr/sap/hostctrl/exe/saposcol -d`</span></span>

  <span data-ttu-id="db0c9-680">b.</span><span class="sxs-lookup"><span data-stu-id="db0c9-680">b.</span></span>  <span data-ttu-id="db0c9-681">Eseguire `dump ccm`</span><span class="sxs-lookup"><span data-stu-id="db0c9-681">Run `dump ccm`</span></span>

  <span data-ttu-id="db0c9-682">c.</span><span class="sxs-lookup"><span data-stu-id="db0c9-682">c.</span></span>  <span data-ttu-id="db0c9-683">Controllare se hello **Virtualization_Configuration\Enhanced monitoraggio accesso** metrica è **true**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-683">Check whether hello **Virtualization_Configuration\Enhanced Monitoring Access** metric is **true**.</span></span>

<span data-ttu-id="db0c9-684">Se è già installato un server applicazioni SAP NetWeaver ABAP, aprire la transazione ST06 e controllare se il monitoraggio avanzato è abilitato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-684">If you already have an SAP NetWeaver ABAP application server installed, open transaction ST06 and check whether enhanced monitoring is enabled.</span></span>

<span data-ttu-id="db0c9-685">Se uno di questi controlli avranno esito negativo e per informazioni dettagliate su come tooredeploy hello estensione, vedere [Troubleshooting hello dell'infrastruttura di Azure monitoring per SAP][deployment-guide-5.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-685">If any of these checks fail, and for detailed information about how tooredeploy hello extension, see [Troubleshooting hello Azure monitoring infrastructure for SAP][deployment-guide-5.3].</span></span>

### <span data-ttu-id="db0c9-686"><a name="e2d592ff-b4ea-4a53-a91a-e5521edb6cd1"></a>Controllo di integrità per hello Azure configurazione del monitoraggio dell'infrastruttura</span><span class="sxs-lookup"><span data-stu-id="db0c9-686"><a name="e2d592ff-b4ea-4a53-a91a-e5521edb6cd1"></a>Health check for hello Azure monitoring infrastructure configuration</span></span>
<span data-ttu-id="db0c9-687">Se alcuni dei dati di monitoraggio hello non vengono recapitati correttamente come indicato dal test hello descritti in [controllo conformità per Azure Enhanced Monitoring per SAP][deployment-guide-5.1]hello eseguire `Test-AzureRmVMAEMExtension` toocheck cmdlet Se hello Azure monitoring extension per SAP hello e infrastruttura di monitoraggio è configurate correttamente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-687">If some of hello monitoring data is not delivered correctly as indicated by hello test described in [Readiness check for Azure Enhanced Monitoring for SAP][deployment-guide-5.1], run hello `Test-AzureRmVMAEMExtension` cmdlet toocheck whether hello Azure monitoring infrastructure and hello monitoring extension for SAP are configured correctly.</span></span>

1.  <span data-ttu-id="db0c9-688">Assicurarsi di aver installato una versione più recente di hello del cmdlet di Azure PowerShell hello, come descritto in [cmdlet di distribuzione di Azure PowerShell][deployment-guide-4.1].</span><span class="sxs-lookup"><span data-stu-id="db0c9-688">Make sure that you have installed hello latest version of hello Azure PowerShell cmdlet, as described in [Deploying Azure PowerShell cmdlets][deployment-guide-4.1].</span></span>
2.  <span data-ttu-id="db0c9-689">Eseguire hello seguente cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="db0c9-689">Run hello following PowerShell cmdlet.</span></span> <span data-ttu-id="db0c9-690">Per un elenco degli ambienti disponibili, eseguire i cmdlet di hello `Get-AzureRmEnvironment`.</span><span class="sxs-lookup"><span data-stu-id="db0c9-690">For a list of available environments, run hello cmdlet `Get-AzureRmEnvironment`.</span></span> <span data-ttu-id="db0c9-691">Selezionare di Azure, pubblica toouse hello **cloud** ambiente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-691">toouse public Azure, select hello **AzureCloud** environment.</span></span> <span data-ttu-id="db0c9-692">Per Azure in Cina, selezionare **AzureChinaCloud**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-692">For Azure in China, select **AzureChinaCloud**.</span></span>
  ```powershell
  $env = Get-AzureRmEnvironment -Name <name of hello environment>
  Login-AzureRmAccount -Environment $env
  Set-AzureRmContext -SubscriptionName <subscription name>
  Test-AzureRmVMAEMExtension -ResourceGroupName <resource group name> -VMName <virtual machine name>
  ```

3.  <span data-ttu-id="db0c9-693">Immettere i dati dell'account e identificare hello macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-693">Enter your account data and identify hello Azure virtual machine.</span></span>

  ![Pagina di input del cmdlet di Azure specifico di SAP Test-VMConfigForSAP_GUI][deployment-guide-figure-1200]

4. <span data-ttu-id="db0c9-695">configurazione di hello Hello script test della macchina virtuale hello selezionare.</span><span class="sxs-lookup"><span data-stu-id="db0c9-695">hello script tests hello configuration of hello virtual machine you select.</span></span>

  ![Output del test riuscito di hello dell'infrastruttura di Azure monitoring per SAP][deployment-guide-figure-1300]

<span data-ttu-id="db0c9-697">Verificare che il risultato di ogni controllo dell'integrità sia **OK**.</span><span class="sxs-lookup"><span data-stu-id="db0c9-697">Make sure that every health check result is **OK**.</span></span> <span data-ttu-id="db0c9-698">Se non vengono visualizzano alcuni controlli **OK**, eseguire i cmdlet di aggiornamento hello, come descritto in [Configura hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-4.5].</span><span class="sxs-lookup"><span data-stu-id="db0c9-698">If some checks do not display **OK**, run hello update cmdlet as described in [Configure hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-4.5].</span></span> <span data-ttu-id="db0c9-699">Attendere 15 minuti e ripetere hello controlli descritti in [controllo conformità per Azure Enhanced Monitoring per SAP] [ deployment-guide-5.1] e [verifica integrità per l'infrastruttura di configurazione di Azure Monitoring] [deployment-guide-5.2].</span><span class="sxs-lookup"><span data-stu-id="db0c9-699">Wait 15 minutes, and repeat hello checks described in [Readiness check for Azure Enhanced Monitoring for SAP][deployment-guide-5.1] and [Health check for Azure Monitoring Infrastructure Configuration][deployment-guide-5.2].</span></span> <span data-ttu-id="db0c9-700">Se i controlli di hello continuano a indicare un problema con alcuni o tutti i contatori, vedere [Troubleshooting hello dell'infrastruttura di Azure monitoring per SAP][deployment-guide-5.3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-700">If hello checks still indicate a problem with some or all counters, see [Troubleshooting hello Azure monitoring infrastructure for SAP][deployment-guide-5.3].</span></span>

### <span data-ttu-id="db0c9-701"><a name="fe25a7da-4e4e-4388-8907-8abc2d33cfd8"></a>Risoluzione dei problemi di hello dell'infrastruttura di Azure monitoring per SAP</span><span class="sxs-lookup"><span data-stu-id="db0c9-701"><a name="fe25a7da-4e4e-4388-8907-8abc2d33cfd8"></a>Troubleshooting hello Azure monitoring infrastructure for SAP</span></span>

#### <a name="windowslogowindows-azure-performance-counters-do-not-show-up-at-all"></a>![Windows][Logo_Windows] <span data-ttu-id="db0c9-703">I contatori delle prestazioni di Azure non vengono visualizzati</span><span class="sxs-lookup"><span data-stu-id="db0c9-703">Azure performance counters do not show up at all</span></span>
<span data-ttu-id="db0c9-704">servizio AzureEnhancedMonitoring Windows Hello raccoglie le metriche delle prestazioni in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-704">hello AzureEnhancedMonitoring Windows service collects performance metrics in Azure.</span></span> <span data-ttu-id="db0c9-705">Se il servizio di hello non è stato installato correttamente o se non è in esecuzione nella macchina virtuale, è possibile raccogliere alcuna metrica delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="db0c9-705">If hello service has not been installed correctly or if it is not running in your VM, no performance metrics can be collected.</span></span>

##### <a name="hello-installation-directory-of-hello-azure-enhanced-monitoring-extension-is-empty"></a><span data-ttu-id="db0c9-706">directory di installazione Hello di hello Azure Enhanced Monitoring Extension è vuota</span><span class="sxs-lookup"><span data-stu-id="db0c9-706">hello installation directory of hello Azure Enhanced Monitoring Extension is empty</span></span>

###### <a name="issue"></a><span data-ttu-id="db0c9-707">Problema</span><span class="sxs-lookup"><span data-stu-id="db0c9-707">Issue</span></span>
<span data-ttu-id="db0c9-708">directory di installazione Hello c:\\pacchetti\\plug-in\\Microsoft.AzureCAT.AzureEnhancedMonitoring.AzureCATExtensionHandler\\&lt;versione >\\rilascio è vuoto.</span><span class="sxs-lookup"><span data-stu-id="db0c9-708">hello installation directory C:\\Packages\\Plugins\\Microsoft.AzureCAT.AzureEnhancedMonitoring.AzureCATExtensionHandler\\&lt;version>\\drop is empty.</span></span>

###### <a name="solution"></a><span data-ttu-id="db0c9-709">Soluzione</span><span class="sxs-lookup"><span data-stu-id="db0c9-709">Solution</span></span>
<span data-ttu-id="db0c9-710">estensione Hello non è installato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-710">hello extension is not installed.</span></span> <span data-ttu-id="db0c9-711">Determinare se si tratta di un problema del proxy (come descritto prima).</span><span class="sxs-lookup"><span data-stu-id="db0c9-711">Determine whether this is a proxy issue (as described earlier).</span></span> <span data-ttu-id="db0c9-712">Potrebbe essere necessario toorestart hello macchina o eseguire nuovamente hello `Set-AzureRmVMAEMExtension` script di configurazione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-712">You might need toorestart hello machine or rerun hello `Set-AzureRmVMAEMExtension` configuration script.</span></span>

##### <a name="service-for-azure-enhanced-monitoring-does-not-exist"></a><span data-ttu-id="db0c9-713">Il servizio per il monitoraggio avanzato di Azure non esiste</span><span class="sxs-lookup"><span data-stu-id="db0c9-713">Service for Azure Enhanced Monitoring does not exist</span></span>

###### <a name="issue"></a><span data-ttu-id="db0c9-714">Problema</span><span class="sxs-lookup"><span data-stu-id="db0c9-714">Issue</span></span>
<span data-ttu-id="db0c9-715">servizio AzureEnhancedMonitoring Windows Hello non esiste.</span><span class="sxs-lookup"><span data-stu-id="db0c9-715">hello AzureEnhancedMonitoring Windows service does not exist.</span></span>

<span data-ttu-id="db0c9-716">L'output di azperflib.exe genera un errore:</span><span class="sxs-lookup"><span data-stu-id="db0c9-716">Azperflib.exe output throws an error:</span></span>

<span data-ttu-id="db0c9-717">![Esecuzione di azperflib.exe indica che il servizio di hello di hello Azure Enhanced Monitoring Extension per SAP non è in esecuzione][deployment-guide-figure-1400]
<a name="figure-14"></a></span><span class="sxs-lookup"><span data-stu-id="db0c9-717">![Execution of azperflib.exe indicates that hello service of hello Azure Enhanced Monitoring Extension for SAP is not running][deployment-guide-figure-1400]
<a name="figure-14"></a></span></span>

###### <a name="solution"></a><span data-ttu-id="db0c9-718">Soluzione</span><span class="sxs-lookup"><span data-stu-id="db0c9-718">Solution</span></span>
<span data-ttu-id="db0c9-719">Se il servizio di hello non esiste, hello Azure Enhanced Monitoring Extension per SAP non è stato installato correttamente.</span><span class="sxs-lookup"><span data-stu-id="db0c9-719">If hello service does not exist, hello Azure Enhanced Monitoring Extension for SAP has not been installed correctly.</span></span> <span data-ttu-id="db0c9-720">Ridistribuire l'estensione hello attenendosi alla procedura hello descritta per lo scenario di distribuzione in [scenari di distribuzione di macchine virtuali per SAP in Azure][deployment-guide-3].</span><span class="sxs-lookup"><span data-stu-id="db0c9-720">Redeploy hello extension by using hello steps described for your deployment scenario in [Deployment scenarios of VMs for SAP in Azure][deployment-guide-3].</span></span>

<span data-ttu-id="db0c9-721">Dopo aver distribuito l'estensione di hello, dopo un'ora, controllare di nuovo se i contatori delle prestazioni di Azure hello vengono forniti in hello macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-721">After you deploy hello extension, after one hour, check again whether hello Azure performance counters are provided in hello Azure VM.</span></span>

##### <a name="service-for-azure-enhanced-monitoring-exists-but-fails-toostart"></a><span data-ttu-id="db0c9-722">Servizio per Azure Enhanced Monitoring esiste, ma ha esito negativo toostart</span><span class="sxs-lookup"><span data-stu-id="db0c9-722">Service for Azure Enhanced Monitoring exists, but fails toostart</span></span>

###### <a name="issue"></a><span data-ttu-id="db0c9-723">Problema</span><span class="sxs-lookup"><span data-stu-id="db0c9-723">Issue</span></span>
<span data-ttu-id="db0c9-724">servizio AzureEnhancedMonitoring Windows Hello esiste ed è abilitato, ma ha esito negativo toostart.</span><span class="sxs-lookup"><span data-stu-id="db0c9-724">hello AzureEnhancedMonitoring Windows service exists and is enabled, but fails toostart.</span></span> <span data-ttu-id="db0c9-725">Per ulteriori informazioni, controllare il registro eventi dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-725">For more information, check hello application event log.</span></span>

###### <a name="solution"></a><span data-ttu-id="db0c9-726">Soluzione</span><span class="sxs-lookup"><span data-stu-id="db0c9-726">Solution</span></span>
<span data-ttu-id="db0c9-727">configurazione di Hello è corretta.</span><span class="sxs-lookup"><span data-stu-id="db0c9-727">hello configuration is incorrect.</span></span> <span data-ttu-id="db0c9-728">Riavviare hello monitoring extension per hello macchina virtuale, come descritto in [Configura hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-4.5].</span><span class="sxs-lookup"><span data-stu-id="db0c9-728">Restart hello monitoring extension for hello VM, as described in [Configure hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-4.5].</span></span>

#### <a name="windowslogowindows-some-azure-performance-counters-are-missing"></a>![Windows][Logo_Windows] <span data-ttu-id="db0c9-730">Alcuni contatori delle prestazioni di Azure non sono presenti</span><span class="sxs-lookup"><span data-stu-id="db0c9-730">Some Azure performance counters are missing</span></span>
<span data-ttu-id="db0c9-731">servizio AzureEnhancedMonitoring Windows Hello raccoglie le metriche delle prestazioni in Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-731">hello AzureEnhancedMonitoring Windows service collects performance metrics in Azure.</span></span> <span data-ttu-id="db0c9-732">servizio Hello Ottiene dati da origini diverse.</span><span class="sxs-lookup"><span data-stu-id="db0c9-732">hello service gets data from several sources.</span></span> <span data-ttu-id="db0c9-733">Alcuni dati di configurazione vengono raccolti in locale e alcune metriche delle prestazioni vengono lette da Diagnostica di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-733">Some configuration data is collected locally, and some performance metrics are read from Azure Diagnostics.</span></span> <span data-ttu-id="db0c9-734">I contatori di archiviazione vengono utilizzati dalla registrazione a livello di sottoscrizione di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="db0c9-734">Storage counters are used from your logging on hello storage subscription level.</span></span>

<span data-ttu-id="db0c9-735">Se la risoluzione dei problemi con la nota SAP [1999351] hello problema persiste, eseguire di nuovo hello `Set-AzureRmVMAEMExtension` script di configurazione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-735">If troubleshooting by using SAP Note [1999351] doesn't resolve hello issue, rerun hello `Set-AzureRmVMAEMExtension` configuration script.</span></span> <span data-ttu-id="db0c9-736">Poiché i contatori di archiviazione analitica o di diagnostica potrebbero non essere creati immediatamente dopo l'abilitazione, potrebbe essere toowait un'ora.</span><span class="sxs-lookup"><span data-stu-id="db0c9-736">You might have toowait an hour because storage analytics or diagnostics counters might not be created immediately after they are enabled.</span></span> <span data-ttu-id="db0c9-737">Se hello problema persiste, aprire un messaggio del supporto clienti SAP su hello componente BC-OP-NT-AZR per Windows o BC-OP-LNX-AZR per una macchina virtuale di Linux.</span><span class="sxs-lookup"><span data-stu-id="db0c9-737">If hello problem persists, open an SAP customer support message on hello component BC-OP-NT-AZR for Windows or BC-OP-LNX-AZR for a Linux virtual machine.</span></span>

#### <a name="linuxlogolinux-azure-performance-counters-do-not-show-up-at-all"></a>![Linux][Logo_Linux] <span data-ttu-id="db0c9-739">I contatori delle prestazioni di Azure non vengono visualizzati</span><span class="sxs-lookup"><span data-stu-id="db0c9-739">Azure performance counters do not show up at all</span></span>
<span data-ttu-id="db0c9-740">Le metriche delle prestazioni in Azure vengono raccolte da un daemon.</span><span class="sxs-lookup"><span data-stu-id="db0c9-740">Performance metrics in Azure are collected by a daemon.</span></span> <span data-ttu-id="db0c9-741">Se i daemon hello non è in esecuzione, non le metriche delle prestazioni possono essere raccolti.</span><span class="sxs-lookup"><span data-stu-id="db0c9-741">If hello daemon is not running, no performance metrics can be collected.</span></span>

##### <a name="hello-installation-directory-of-hello-azure-enhanced-monitoring-extension-is-empty"></a><span data-ttu-id="db0c9-742">directory di installazione Hello di hello Azure Enhanced Monitoring extension è vuota</span><span class="sxs-lookup"><span data-stu-id="db0c9-742">hello installation directory of hello Azure Enhanced Monitoring extension is empty</span></span>

###### <a name="issue"></a><span data-ttu-id="db0c9-743">Problema</span><span class="sxs-lookup"><span data-stu-id="db0c9-743">Issue</span></span>
<span data-ttu-id="db0c9-744">directory Hello \\var\\lib\\waagent\\ non dispone di una sottodirectory per hello Azure Enhanced Monitoring extension.</span><span class="sxs-lookup"><span data-stu-id="db0c9-744">hello directory \\var\\lib\\waagent\\ does not have a subdirectory for hello Azure Enhanced Monitoring extension.</span></span>

###### <a name="solution"></a><span data-ttu-id="db0c9-745">Soluzione</span><span class="sxs-lookup"><span data-stu-id="db0c9-745">Solution</span></span>
<span data-ttu-id="db0c9-746">estensione Hello non è installato.</span><span class="sxs-lookup"><span data-stu-id="db0c9-746">hello extension is not installed.</span></span> <span data-ttu-id="db0c9-747">Determinare se si tratta di un problema del proxy (come descritto prima).</span><span class="sxs-lookup"><span data-stu-id="db0c9-747">Determine whether this is a proxy issue (as described earlier).</span></span> <span data-ttu-id="db0c9-748">Potrebbe essere necessario macchina hello toorestart e/o eseguire di nuovo hello `Set-AzureRmVMAEMExtension` script di configurazione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-748">You might need toorestart hello machine and/or rerun hello `Set-AzureRmVMAEMExtension` configuration script.</span></span>

#### <a name="linuxlogolinux-some-azure-performance-counters-are-missing"></a>![Linux][Logo_Linux] <span data-ttu-id="db0c9-750">Alcuni contatori delle prestazioni di Azure non sono presenti</span><span class="sxs-lookup"><span data-stu-id="db0c9-750">Some Azure performance counters are missing</span></span>
<span data-ttu-id="db0c9-751">Le metriche delle prestazioni in Azure vengono raccolte da un daemon, che ottiene i dati da diverse origini.</span><span class="sxs-lookup"><span data-stu-id="db0c9-751">Performance metrics in Azure are collected by a daemon, which gets data from several sources.</span></span> <span data-ttu-id="db0c9-752">Alcuni dati di configurazione vengono raccolti in locale e alcune metriche delle prestazioni vengono lette da Diagnostica di Azure.</span><span class="sxs-lookup"><span data-stu-id="db0c9-752">Some configuration data is collected locally, and some performance metrics are read from Azure Diagnostics.</span></span> <span data-ttu-id="db0c9-753">I contatori di archiviazione provengono dai registri hello nella sottoscrizione di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="db0c9-753">Storage counters come from hello logs in your storage subscription.</span></span>

<span data-ttu-id="db0c9-754">Per un elenco completo e aggiornato dei problemi noti, vedere la nota SAP [1999351], che contiene informazioni aggiuntive sulla risoluzione dei problemi per il monitoraggio avanzato di Azure per SAP.</span><span class="sxs-lookup"><span data-stu-id="db0c9-754">For a complete and up-to-date list of known issues, see SAP Note [1999351], which has additional troubleshooting information for Enhanced Azure Monitoring for SAP.</span></span>

<span data-ttu-id="db0c9-755">Se la risoluzione dei problemi con la nota SAP [1999351] non risolvere il problema di hello, eseguire di nuovo hello `Set-AzureRmVMAEMExtension` script di configurazione come descritto in [Configura hello Azure Enhanced Monitoring Extension per SAP][deployment-guide-4.5].</span><span class="sxs-lookup"><span data-stu-id="db0c9-755">If troubleshooting by using SAP Note [1999351] does not resolve hello issue, rerun hello `Set-AzureRmVMAEMExtension` configuration script as described in [Configure hello Azure Enhanced Monitoring Extension for SAP][deployment-guide-4.5].</span></span> <span data-ttu-id="db0c9-756">Poiché i contatori di archiviazione analitica o di diagnostica potrebbero non essere creati immediatamente dopo l'abilitazione, potrebbe essere toowait per un'ora.</span><span class="sxs-lookup"><span data-stu-id="db0c9-756">You might have toowait for an hour because storage analytics or diagnostics counters might not be created immediately after they are enabled.</span></span> <span data-ttu-id="db0c9-757">Se hello problema persiste, aprire un messaggio del supporto clienti SAP su hello componente BC-OP-NT-AZR per Windows o BC-OP-LNX-AZR per una macchina virtuale di Linux.</span><span class="sxs-lookup"><span data-stu-id="db0c9-757">If hello problem persists, open an SAP customer support message on hello component BC-OP-NT-AZR for Windows or BC-OP-LNX-AZR for a Linux virtual machine.</span></span>
