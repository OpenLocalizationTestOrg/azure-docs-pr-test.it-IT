---
title: Connettere i computer Linux a Operations Management Suite (OMS) | Microsoft Docs
description: In questo articolo viene descritto come connettere i computer Linux ospitati in Azure, altri cloud o locali a OMS usando l'agente OMS per Linux.
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/21/2017
ms.author: magoedte
ms.openlocfilehash: 1c05f68235aafd0fa098a3b0edaba1258df09380
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="connect-your-linux-computers-to-operations-management-suite-oms"></a><span data-ttu-id="ee3c4-103">Connettere i computer Linux a Operations Management Suite (OMS)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-103">Connect your Linux Computers to Operations Management Suite (OMS)</span></span> 

<span data-ttu-id="ee3c4-104">Con Microsoft Operations Management Suite (OMS), è possibile raccogliere i dati generati dai computer Linux e da soluzioni contenitore come Docker, che si trovano nel data center locale, come macchine virtuali o server fisici in locale, macchine virtuali in un servizio ospitato nel cloud come Amazon Web Services (AWS) o Microsoft Azure, nonché usare tali dati.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-104">With Microsoft Operations Management Suite (OMS), you can collect and act on data generated from Linux computers and container solutions like Docker, residing in your on-premises data center as physical servers or virtual machines, virtual machines in a cloud-hosted service like Amazon Web Services (AWS) or Microsoft Azure.</span></span> <span data-ttu-id="ee3c4-105">È anche possibile usare soluzioni di gestione disponibili in OMS, ad esempio Rilevamento modifiche per identificare le modifiche alla configurazione e Gestione aggiornamenti per gestire gli aggiornamenti software, per una gestione proattiva del ciclo di vita delle VM Linux.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-105">You can also use management solutions available in OMS such as Change Tracking, to identify configuration changes, and Update Management to manage software updates to proactively manage the lifecycle of your Linux VMs.</span></span> 

<span data-ttu-id="ee3c4-106">L'agente OMS per Linux comunica in uscita con il servizio OMS sulla porta TCP 443 e se il computer si connette a un firewall o a un server proxy per comunicare in Internet, vedere [Configurazione dell'agente per l'uso con un server proxy HTTP o un gateway OMS](#configuring-the-agent-for-use-with-an-http-proxy-server-or-oms-gateway) per comprendere quali modifiche alla configurazione è necessario applicare.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-106">The OMS Agent for Linux communicates outbound with the OMS service over TCP port 443, and if the computer connects to a firewall or proxy server to communicate over the Internet, review [Configuring the agent for use with an HTTP proxy server or OMS Gateway](#configuring-the-agent-for-use-with-an-http-proxy-server-or-oms-gateway) to understand what configuration changes will need to be applied.</span></span>  <span data-ttu-id="ee3c4-107">Se si esegue il monitoraggio del computer con System Center 2016 - Operations Manager o Operations Manager 2012 R2, è possibile usare una configurazione multihomed con il servizio OMS per raccogliere i dati e inoltrarli al servizio, mantenendo il monitoraggio di Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-107">If you are monitoring the computer with System Center 2016 - Operations Manager or Operations Manager 2012 R2, it can be multi-homed with the OMS service to collect data and forward to the service and still be monitored by Operations Manager.</span></span>  <span data-ttu-id="ee3c4-108">I computer Linux monitorati da un gruppo di gestione di Operations Manager integrato in OMS non ricevono la configurazione per le origini dati e inoltrano i dati raccolti tramite il gruppo di gestione.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-108">Linux computers monitored by an Operations Manager management group that is integrated with OMS do not receive configuration for data sources and forward collected data through the management group.</span></span>  <span data-ttu-id="ee3c4-109">L'agente OMS non può essere configurato per inviare report a più di un'area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-109">The OMS agent cannot be configured to report to more than one workspace.</span></span>  

<span data-ttu-id="ee3c4-110">Se i criteri di sicurezza IT non consentono ai computer nella rete di connettersi a Internet, è possibile configurare l'agente per la connessione al gateway OMS, per ricevere informazioni di configurazione e inviare i dati raccolti a seconda della soluzione abilitata.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-110">If your IT security policies do not allow computers on your network to connect to the Internet, the agent can be configured to connect to the OMS Gateway to receive configuration information and send collected data depending on the solution you have enabled.</span></span> <span data-ttu-id="ee3c4-111">Per altre informazioni e procedure per la configurazione dell'agente Linux OMS per la comunicazione tramite un gateway OMS con il servizio OMS, vedere [Connettere computer a OMS usando il gateway OMS](log-analytics-oms-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="ee3c4-111">For more information and steps on how to configure your OMS Linux Agent to communicate through an OMS Gateway to the OMS service, see [Connect computers to OMS using the OMS Gateway](log-analytics-oms-gateway.md).</span></span>  

<span data-ttu-id="ee3c4-112">Il diagramma seguente illustra la connessione tra i computer Linux gestiti dall'agente e OMS, incluse la direzione e le porte.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-112">The following diagram depicts the connection between the agent-managed Linux computers and OMS, including the direction and ports.</span></span>

![Diagramma della comunicazione degli agenti diretti con OMS](./media/log-analytics-agent-linux/log-analytics-agent-linux-communication.png)

## <a name="system-requirements"></a><span data-ttu-id="ee3c4-114">Requisiti di sistema</span><span class="sxs-lookup"><span data-stu-id="ee3c4-114">System requirements</span></span>
<span data-ttu-id="ee3c4-115">Prima di iniziare, esaminare i dettagli seguenti per verificare che i prerequisiti siano soddisfatti.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-115">Before starting, review the following details to verify you meet the prerequisites.</span></span>

### <a name="supported-linux-operating-systems"></a><span data-ttu-id="ee3c4-116">Sistemi operativi Linux supportati</span><span class="sxs-lookup"><span data-stu-id="ee3c4-116">Supported Linux operating systems</span></span>
<span data-ttu-id="ee3c4-117">Le distribuzioni Linux seguenti sono supportate ufficialmente.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-117">The following Linux distributions are officially supported.</span></span>  <span data-ttu-id="ee3c4-118">È tuttavia possibile che l'agente OMS per Linux sia eseguito in altre distribuzioni non elencate.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-118">However, the OMS Agent for Linux might also run on other distributions not listed.</span></span>

* <span data-ttu-id="ee3c4-119">Amazon Linux da 2012.09 a 2015.09 (x86/x64)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-119">Amazon Linux 2012.09 to 2015.09 (x86/x64)</span></span>
* <span data-ttu-id="ee3c4-120">CentOS Linux 5, 6 e 7 (x86/x64)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-120">CentOS Linux 5, 6, and 7 (x86/x64)</span></span>
* <span data-ttu-id="ee3c4-121">Oracle Linux 5, 6 e 7 (x86/x64)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-121">Oracle Linux 5, 6, and 7 (x86/x64)</span></span>
* <span data-ttu-id="ee3c4-122">Red Hat Enterprise Linux Server 5, 6 e 7 (x86/x64)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-122">Red Hat Enterprise Linux Server 5, 6 and 7 (x86/x64)</span></span>
* <span data-ttu-id="ee3c4-123">Debian GNU/Linux 6, 7 e 8 (x86/x64)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-123">Debian GNU/Linux 6, 7, and 8 (x86/x64)</span></span>
* <span data-ttu-id="ee3c4-124">Ubuntu 12.04 LTS, 14.04 LTS, 15.04, 15.10, 16.04 LTS (x86/x64)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-124">Ubuntu 12.04 LTS, 14.04 LTS, 15.04, 15.10, 16.04 LTS (x86/x64)</span></span>
* <span data-ttu-id="ee3c4-125">SUSE Linux Enterprise Server 11 e 12 (x86/x64)</span><span class="sxs-lookup"><span data-stu-id="ee3c4-125">SUSE Linux Enterprise Server 11 and 12 (x86/x64)</span></span>

### <a name="network"></a><span data-ttu-id="ee3c4-126">Rete</span><span class="sxs-lookup"><span data-stu-id="ee3c4-126">Network</span></span>
<span data-ttu-id="ee3c4-127">La tabella seguente contiene un elenco delle informazioni di configurazione del proxy e del firewall necessarie all'agente Linux per comunicare con OMS.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-127">The information below list the proxy and firewall configuration information required for the Linux agent to communicate with OMS.</span></span> <span data-ttu-id="ee3c4-128">Il traffico in uscita dalla rete viene indirizzato al servizio OMS.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-128">Traffic is outbound from your network to the OMS service.</span></span> 

|<span data-ttu-id="ee3c4-129">Risorsa agente</span><span class="sxs-lookup"><span data-stu-id="ee3c4-129">Agent Resource</span></span>| <span data-ttu-id="ee3c4-130">Porte</span><span class="sxs-lookup"><span data-stu-id="ee3c4-130">Ports</span></span> |  
|------|---------|  
|<span data-ttu-id="ee3c4-131">*.ods.opinsights.azure.com</span><span class="sxs-lookup"><span data-stu-id="ee3c4-131">*.ods.opinsights.azure.com</span></span> | <span data-ttu-id="ee3c4-132">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-132">Port 443</span></span>|   
|<span data-ttu-id="ee3c4-133">*.oms.opinsights.azure.com</span><span class="sxs-lookup"><span data-stu-id="ee3c4-133">*.oms.opinsights.azure.com</span></span> | <span data-ttu-id="ee3c4-134">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-134">Port 443</span></span>|   
|<span data-ttu-id="ee3c4-135">*.blob.core.windows.net/</span><span class="sxs-lookup"><span data-stu-id="ee3c4-135">*.blob.core.windows.net/</span></span> | <span data-ttu-id="ee3c4-136">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-136">Port 443</span></span>|   
|<span data-ttu-id="ee3c4-137">*.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="ee3c4-137">*.azure-automation.net</span></span> | <span data-ttu-id="ee3c4-138">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-138">Port 443</span></span>|  

### <a name="package-requirements"></a><span data-ttu-id="ee3c4-139">Requisiti dei pacchetti</span><span class="sxs-lookup"><span data-stu-id="ee3c4-139">Package requirements</span></span>

 <span data-ttu-id="ee3c4-140">**Pacchetto obbligatorio**</span><span class="sxs-lookup"><span data-stu-id="ee3c4-140">**Required package**</span></span>   | <span data-ttu-id="ee3c4-141">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="ee3c4-141">**Description**</span></span>   | <span data-ttu-id="ee3c4-142">**Versione minima**</span><span class="sxs-lookup"><span data-stu-id="ee3c4-142">**Minimum version**</span></span>
--------------------- | --------------------- | -------------------
<span data-ttu-id="ee3c4-143">Glibc</span><span class="sxs-lookup"><span data-stu-id="ee3c4-143">Glibc</span></span> | <span data-ttu-id="ee3c4-144">Libreria GNU C</span><span class="sxs-lookup"><span data-stu-id="ee3c4-144">GNU C Library</span></span>   | <span data-ttu-id="ee3c4-145">2.5-12</span><span class="sxs-lookup"><span data-stu-id="ee3c4-145">2.5-12</span></span> 
<span data-ttu-id="ee3c4-146">Openssl</span><span class="sxs-lookup"><span data-stu-id="ee3c4-146">Openssl</span></span> | <span data-ttu-id="ee3c4-147">Librerie OpenSSL</span><span class="sxs-lookup"><span data-stu-id="ee3c4-147">OpenSSL Libraries</span></span> | <span data-ttu-id="ee3c4-148">0.9.8e o 1.0</span><span class="sxs-lookup"><span data-stu-id="ee3c4-148">0.9.8e or 1.0</span></span>
<span data-ttu-id="ee3c4-149">Curl</span><span class="sxs-lookup"><span data-stu-id="ee3c4-149">Curl</span></span> | <span data-ttu-id="ee3c4-150">Client Web cURL</span><span class="sxs-lookup"><span data-stu-id="ee3c4-150">cURL web client</span></span> | <span data-ttu-id="ee3c4-151">7.15.5</span><span class="sxs-lookup"><span data-stu-id="ee3c4-151">7.15.5</span></span>
<span data-ttu-id="ee3c4-152">Python-ctypes</span><span class="sxs-lookup"><span data-stu-id="ee3c4-152">Python-ctypes</span></span> | | 
<span data-ttu-id="ee3c4-153">PAM</span><span class="sxs-lookup"><span data-stu-id="ee3c4-153">PAM</span></span> | <span data-ttu-id="ee3c4-154">Moduli di autenticazione modulare</span><span class="sxs-lookup"><span data-stu-id="ee3c4-154">Pluggable authentication Modules</span></span> | 

> [!NOTE]
>  <span data-ttu-id="ee3c4-155">Per raccogliere i messaggi SysLog, è necessario rsyslog o syslog-ng.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-155">Either rsyslog or syslog-ng are required to collect syslog messages.</span></span> <span data-ttu-id="ee3c4-156">Il daemon SysLog predefinito nella versione 5 di Red Hat Enterprise Linux, CentOS e nella versione Oracle Linux (sysklog) non è supportato per la raccolta di eventi SysLog.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-156">The default syslog daemon on version 5 of Red Hat Enterprise Linux, CentOS, and Oracle Linux version (sysklog) is not supported for syslog event collection.</span></span> <span data-ttu-id="ee3c4-157">Per raccogliere i dati di SysLog da questa versione delle distribuzioni, è necessario che il daemon rsyslog sia installato e configurato per sostituire sysklog.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-157">To collect syslog data from this version of these distributions, the rsyslog daemon should be installed and configured to replace sysklog,</span></span> 

<span data-ttu-id="ee3c4-158">L'agente include più pacchetti.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-158">The agent includes multiple packages.</span></span> <span data-ttu-id="ee3c4-159">Il file della versione rilasciata contiene i pacchetti seguenti, disponibili eseguendo il bundle della shell con `--extract`:</span><span class="sxs-lookup"><span data-stu-id="ee3c4-159">The release file contains the following packages, available by running the shell bundle with `--extract`:</span></span>

<span data-ttu-id="ee3c4-160">**Pacchetto**</span><span class="sxs-lookup"><span data-stu-id="ee3c4-160">**Package**</span></span> | <span data-ttu-id="ee3c4-161">**Versione**</span><span class="sxs-lookup"><span data-stu-id="ee3c4-161">**Version**</span></span> | <span data-ttu-id="ee3c4-162">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="ee3c4-162">**Description**</span></span>
----------- | ----------- | --------------
<span data-ttu-id="ee3c4-163">omsagent</span><span class="sxs-lookup"><span data-stu-id="ee3c4-163">omsagent</span></span> | <span data-ttu-id="ee3c4-164">1.4.0</span><span class="sxs-lookup"><span data-stu-id="ee3c4-164">1.4.0</span></span> | <span data-ttu-id="ee3c4-165">Agente Operations Management Suite per Linux</span><span class="sxs-lookup"><span data-stu-id="ee3c4-165">The Operations Management Suite Agent for Linux</span></span>
<span data-ttu-id="ee3c4-166">omsconfig</span><span class="sxs-lookup"><span data-stu-id="ee3c4-166">omsconfig</span></span> | <span data-ttu-id="ee3c4-167">1.1.1</span><span class="sxs-lookup"><span data-stu-id="ee3c4-167">1.1.1</span></span> | <span data-ttu-id="ee3c4-168">Agente di configurazione per l'agente OMS</span><span class="sxs-lookup"><span data-stu-id="ee3c4-168">Configuration agent for the OMS Agent</span></span>
<span data-ttu-id="ee3c4-169">omi</span><span class="sxs-lookup"><span data-stu-id="ee3c4-169">omi</span></span> | <span data-ttu-id="ee3c4-170">1.2.0</span><span class="sxs-lookup"><span data-stu-id="ee3c4-170">1.2.0</span></span> | <span data-ttu-id="ee3c4-171">Open Management Infrastructure (OMI) - server CIM leggero</span><span class="sxs-lookup"><span data-stu-id="ee3c4-171">Open Management Infrastructure (OMI) - a lightweight CIM Server</span></span>
<span data-ttu-id="ee3c4-172">scx</span><span class="sxs-lookup"><span data-stu-id="ee3c4-172">scx</span></span> | <span data-ttu-id="ee3c4-173">1.6.3</span><span class="sxs-lookup"><span data-stu-id="ee3c4-173">1.6.3</span></span> | <span data-ttu-id="ee3c4-174">Provider OMI CIM per metriche delle prestazioni del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="ee3c4-174">OMI CIM Providers for operating system performance metrics</span></span>
<span data-ttu-id="ee3c4-175">apache-cimprov</span><span class="sxs-lookup"><span data-stu-id="ee3c4-175">apache-cimprov</span></span> | <span data-ttu-id="ee3c4-176">1.0.1</span><span class="sxs-lookup"><span data-stu-id="ee3c4-176">1.0.1</span></span> | <span data-ttu-id="ee3c4-177">Monitoraggio delle prestazioni del server HTTP Apache per OMI.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-177">Apache HTTP Server performance monitoring provider for OMI.</span></span> <span data-ttu-id="ee3c4-178">Installato se viene rilevato il server HTTP Apache.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-178">Installed if Apache HTTP Server is detected.</span></span>
<span data-ttu-id="ee3c4-179">mysql-cimprov</span><span class="sxs-lookup"><span data-stu-id="ee3c4-179">mysql-cimprov</span></span> | <span data-ttu-id="ee3c4-180">1.0.1</span><span class="sxs-lookup"><span data-stu-id="ee3c4-180">1.0.1</span></span> | <span data-ttu-id="ee3c4-181">Monitoraggio delle prestazioni del server MySQL per OMI.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-181">MySQL Server performance monitoring provider for OMI.</span></span> <span data-ttu-id="ee3c4-182">Installato se viene rilevato il server MySQL/MariaDB.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-182">Installed if MySQL/MariaDB server is detected.</span></span>
<span data-ttu-id="ee3c4-183">docker-cimprov</span><span class="sxs-lookup"><span data-stu-id="ee3c4-183">docker-cimprov</span></span> | <span data-ttu-id="ee3c4-184">1.0.0</span><span class="sxs-lookup"><span data-stu-id="ee3c4-184">1.0.0</span></span> | <span data-ttu-id="ee3c4-185">Provider Docker per OMI.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-185">Docker provider for OMI.</span></span> <span data-ttu-id="ee3c4-186">Installato se viene rilevato Docker.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-186">Installed if Docker is detected.</span></span>

### <a name="compatibility-with-system-center-operations-manager"></a><span data-ttu-id="ee3c4-187">Compatibilità con System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="ee3c4-187">Compatibility with System Center Operations Manager</span></span>
<span data-ttu-id="ee3c4-188">L'agente OMS per Linux condivide file binari dell'agente con l'agente System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-188">The OMS Agent for Linux shares agent binaries with the System Center Operations Manager agent.</span></span> <span data-ttu-id="ee3c4-189">Se si installa l'agente OMS per Linux in un sistema attualmente gestito da Operations Manager, i pacchetti OMI e SCX nel computer vengono aggiornati a una versione più recente.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-189">If you install the OMS Agent for Linux on a system currently managed by Operations Manager, it the OMI and SCX packages on the computer to a newer version.</span></span> <span data-ttu-id="ee3c4-190">In questa versione gli agenti OMS e System Center 2016 - Operations Manager/Operations Manager 2012 R2 per Linux sono compatibili.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-190">In this release, the OMS and System Center 2016 - Operations Manager/Operations Manager 2012 R2 agents for Linux are compatible.</span></span> 

> [!NOTE]
> <span data-ttu-id="ee3c4-191">System Center 2012 SP1 e le versioni precedenti non sono attualmente compatibili o supportati con l'agente OMS per Linux.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-191">System Center 2012 SP1 and earlier versions are currently not compatible or supported with the OMS Agent for Linux.</span></span><br>
> <span data-ttu-id="ee3c4-192">Se l'agente OMS per Linux viene installato in un computer attualmente non monitorato da Operations Manager e successivamente si vuole monitorare il computer con Operations Manager, è necessario modificare la [configurazione di OMI](#enable-the-oms-agent-for-linux-to-report-to-system-center-operations-manager) prima di individuare il computer.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-192">If the OMS Agent for Linux is installed to a computer that is not currently monitored by Operations Manager, and you then wish to monitor the computer with Operations Manager, you must modify the [OMI configuration](#enable-the-oms-agent-for-linux-to-report-to-system-center-operations-manager) prior to discovering the computer.</span></span> <span data-ttu-id="ee3c4-193">**Questo passaggio *non* è necessario se l'agente Operations Manager viene installato prima dell'agente OMS per Linux.**</span><span class="sxs-lookup"><span data-stu-id="ee3c4-193">**This step is *not* needed if the Operations Manager agent is installed before the OMS Agent for Linux.**</span></span>

### <a name="system-configuration-changes"></a><span data-ttu-id="ee3c4-194">Modifiche alla configurazione di sistema</span><span class="sxs-lookup"><span data-stu-id="ee3c4-194">System configuration changes</span></span>
<span data-ttu-id="ee3c4-195">Dopo l'installazione dei pacchetti dell'agente OMS per Linux, vengono applicate le modifiche di configurazione aggiuntive seguenti a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-195">After installing the OMS Agent for Linux packages, the following additional system-wide configuration changes are applied.</span></span> <span data-ttu-id="ee3c4-196">Questi elementi vengono rimossi quando viene disinstallato il pacchetto omsagent.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-196">These artifacts are removed when the omsagent package is uninstalled.</span></span>

* <span data-ttu-id="ee3c4-197">Viene creato un utente senza privilegi denominato `omsagent` .</span><span class="sxs-lookup"><span data-stu-id="ee3c4-197">A non-privileged user named: `omsagent` is created.</span></span> <span data-ttu-id="ee3c4-198">Si tratta dell'account usato per l'esecuzione del daemon omsagent.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-198">This is the account the omsagent daemon runs as.</span></span>
* <span data-ttu-id="ee3c4-199">Viene creato un file "include" suoders in /etc/sudoers.d/omsagent.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-199">A sudoers “include” file is created at /etc/sudoers.d/omsagent.</span></span> <span data-ttu-id="ee3c4-200">Questo autorizza omsagent a riavviare i daemon SysLog e omsagent.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-200">This authorizes omsagent to restart the syslog and omsagent daemons.</span></span> <span data-ttu-id="ee3c4-201">Se le direttive "include" sudo non sono supportate nella versione di sudo installata, queste voci vengono scritte in /etc/sudoers.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-201">If sudo “include” directives are not supported in the installed version of sudo, these entries are written to /etc/sudoers.</span></span>
* <span data-ttu-id="ee3c4-202">La configurazione di SysLog viene modificata in modo da inoltrare un sottoinsieme di eventi all'agente.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-202">The syslog configuration is modified to forward a subset of events to the agent.</span></span> <span data-ttu-id="ee3c4-203">Per altre informazioni, vedere la sezione **Configurazione della raccolta di dati** più avanti.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-203">For more information, see the **Configuring Data Collection** section below</span></span>

### <a name="upgrade-from-a-previous-release"></a><span data-ttu-id="ee3c4-204">Eseguire l'aggiornamento da una versione precedente</span><span class="sxs-lookup"><span data-stu-id="ee3c4-204">Upgrade from a previous release</span></span>
<span data-ttu-id="ee3c4-205">L'aggiornamento da versioni precedenti alla 1.0.0-47 è supportato in questa versione.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-205">Upgrade from versions earlier than 1.0.0-47 is supported in this release.</span></span> <span data-ttu-id="ee3c4-206">L'esecuzione dell'installazione con il comando `--upgrade` comporta l'aggiornamento di tutti i componenti dell'agente alla versione più recente.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-206">Performing the installation with the `--upgrade` command upgrades all components of the agent to the latest version.</span></span>

## <a name="installing-the-agent"></a><span data-ttu-id="ee3c4-207">Installazione dell'agente</span><span class="sxs-lookup"><span data-stu-id="ee3c4-207">Installing the agent</span></span>

<span data-ttu-id="ee3c4-208">In questa sezione viene descritto come installare l'agente OMS per Linux tramite un bundle, che contiene i pacchetti Debian e RPM per ciascuno dei componenti dell'agente.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-208">This section describes how to install the OMS Agent for Linux using a bunndle, which contains Debian and RPM packages for each of the agent components.</span></span>  <span data-ttu-id="ee3c4-209">Può essere installato direttamente o estratto per recuperare i singoli pacchetti.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-209">It can be installed directly or extracted to retrieve the individual packages.</span></span>  

<span data-ttu-id="ee3c4-210">Saranno necessari l'ID e la chiave dell'area di lavoro OMS, che è possibile identificare passando al [portale classico di OMS](https://mms.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="ee3c4-210">First you need your OMS workspace ID and key, which you can find by switching to the [OMS classic portal](https://mms.microsoft.com).</span></span>  <span data-ttu-id="ee3c4-211">Nella pagina **Panoramica** nel menu principale selezionare **Impostazioni** e quindi passare a **Origini connesse\Server Linux**.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-211">On the **Overview** page, from the top menu select **Settings**, and then navigate to **Connected Sources\Linux Servers**.</span></span>  <span data-ttu-id="ee3c4-212">Viene visualizzato il valore a destra di **ID area di lavoro** e **Chiave primaria**.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-212">You see the value to the right of **Workspace ID** and **Primary Key**.</span></span>  <span data-ttu-id="ee3c4-213">Copiare e incollare entrambi i valori nell'editor predefinito.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-213">Copy and paste both into your favorite editor.</span></span>    

1. <span data-ttu-id="ee3c4-214">Scaricare la versione più recente di [agente OMS per Linux (x64)](https://github.com/Microsoft/OMS-Agent-for-Linux/releases/download/OMSAgent_GA_v1.4.0-45/omsagent-1.4.0-45.universal.x64.sh) o [agente OMS per Linux x86](https://github.com/Microsoft/OMS-Agent-for-Linux/releases/download/OMSAgent_GA_v1.4.0-45/omsagent-1.4.0-45.universal.x86.sh) da GitHub.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-214">Download the latest [OMS Agent for Linux (x64)](https://github.com/Microsoft/OMS-Agent-for-Linux/releases/download/OMSAgent_GA_v1.4.0-45/omsagent-1.4.0-45.universal.x64.sh) or [OMS Agent for Linux x86](https://github.com/Microsoft/OMS-Agent-for-Linux/releases/download/OMSAgent_GA_v1.4.0-45/omsagent-1.4.0-45.universal.x86.sh) from GitHub.</span></span>  
2. <span data-ttu-id="ee3c4-215">Trasferire il bundle appropriato (x86 o x64) nel computer Linux mediante scp/sftp.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-215">Transfer the appropriate bundle (x86 or x64) to your Linux computer using scp/sftp.</span></span>
3. <span data-ttu-id="ee3c4-216">Installare il bundle usando l'argomento `--install` o `--upgrade`.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-216">Install the bundle by using the `--install` or `--upgrade` argument.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="ee3c4-217">Se sono installati pacchetti esistenti, ad esempio quando l'agente System Center Operations Manager per Linux è già installato, usare l'argomento `--upgrade`.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-217">If any existing packages are installed such as when the System Center Operations Manager agent for Linux is already installed, use the `--upgrade` argument.</span></span> <span data-ttu-id="ee3c4-218">Per connettersi a Operations Management Suite durante l'installazione, fornire i parametri `-w <WorkspaceID>` e `-s <Shared Key>`.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-218">To connect to Operations Management Suite during installation, provide the `-w <WorkspaceID>` and `-s <Shared Key>` parameters.</span></span>


#### <a name="to-install-and-onboard-directly"></a><span data-ttu-id="ee3c4-219">Per eseguire installazione e onboarding direttamente</span><span class="sxs-lookup"><span data-stu-id="ee3c4-219">To install and onboard directly</span></span>
```
sudo sh ./omsagent-<version>.universal.x64.sh --upgrade -w <workspace id> -s <shared key>
```

#### <a name="to-upgrade-the-agent-package"></a><span data-ttu-id="ee3c4-220">Per aggiornare il pacchetto dell'agente</span><span class="sxs-lookup"><span data-stu-id="ee3c4-220">To upgrade the agent package</span></span>
```
sudo sh ./omsagent-<version>.universal.x64.sh --upgrade
```

#### <a name="to-install-and-onboard-to-a-workspace-in-us-government-cloud"></a><span data-ttu-id="ee3c4-221">Per eseguire installazione e onboarding in un'area di lavoro nel cloud US Government</span><span class="sxs-lookup"><span data-stu-id="ee3c4-221">To install and onboard to a workspace in US Government Cloud</span></span>
```
sudo sh ./omsagent-<version>.universal.x64.sh --upgrade -w <workspace id> -s <shared key> -d opinsights.azure.us
```

## <a name="configuring-the-agent-for-use-with-an-http-proxy-server-or-oms-gateway"></a><span data-ttu-id="ee3c4-222">Configurazione dell'agente per l'uso con un server proxy HTTP o un gateway OMS</span><span class="sxs-lookup"><span data-stu-id="ee3c4-222">Configuring the agent for use with an HTTP proxy server or OMS Gateway</span></span>
<span data-ttu-id="ee3c4-223">L'agente OMS per Linux supporta la comunicazione tramite un server proxy HTTP o HTTPS o un gateway OMS con il servizio OMS.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-223">The OMS Agent for Linux supports communicating either through an HTTP or HTTPS proxy server or OMS Gateway to the OMS service.</span></span>  <span data-ttu-id="ee3c4-224">Sono supportate sia l'autenticazione anonima che quella di base (nome utente/password).</span><span class="sxs-lookup"><span data-stu-id="ee3c4-224">Both anonymous and basic authentication (username/password) is supported.</span></span>  

### <a name="proxy-configuration"></a><span data-ttu-id="ee3c4-225">Configurazione proxy</span><span class="sxs-lookup"><span data-stu-id="ee3c4-225">Proxy configuration</span></span>
<span data-ttu-id="ee3c4-226">Il valore di configurazione proxy ha la sintassi seguente:</span><span class="sxs-lookup"><span data-stu-id="ee3c4-226">The proxy configuration value has the following syntax:</span></span>

`[protocol://][user:password@]proxyhost[:port]`

<span data-ttu-id="ee3c4-227">Proprietà</span><span class="sxs-lookup"><span data-stu-id="ee3c4-227">Property</span></span>|<span data-ttu-id="ee3c4-228">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ee3c4-228">Description</span></span>
-|-
<span data-ttu-id="ee3c4-229">Protocol</span><span class="sxs-lookup"><span data-stu-id="ee3c4-229">Protocol</span></span>|<span data-ttu-id="ee3c4-230">http o https</span><span class="sxs-lookup"><span data-stu-id="ee3c4-230">http or https</span></span>
<span data-ttu-id="ee3c4-231">user</span><span class="sxs-lookup"><span data-stu-id="ee3c4-231">user</span></span>|<span data-ttu-id="ee3c4-232">Nome utente facoltativo per l'autenticazione proxy</span><span class="sxs-lookup"><span data-stu-id="ee3c4-232">Optional username for proxy authentication</span></span>
<span data-ttu-id="ee3c4-233">password</span><span class="sxs-lookup"><span data-stu-id="ee3c4-233">password</span></span>|<span data-ttu-id="ee3c4-234">Password facoltativa per l'autenticazione proxy</span><span class="sxs-lookup"><span data-stu-id="ee3c4-234">Optional password for proxy authentication</span></span>
<span data-ttu-id="ee3c4-235">proxyhost</span><span class="sxs-lookup"><span data-stu-id="ee3c4-235">proxyhost</span></span>|<span data-ttu-id="ee3c4-236">Indirizzo o FQDN del server proxy/gateway OMS</span><span class="sxs-lookup"><span data-stu-id="ee3c4-236">Address or FQDN of the proxy server/OMS Gateway</span></span>
<span data-ttu-id="ee3c4-237">port</span><span class="sxs-lookup"><span data-stu-id="ee3c4-237">port</span></span>|<span data-ttu-id="ee3c4-238">Numero di porta facoltativo del server proxy/gateway OMS</span><span class="sxs-lookup"><span data-stu-id="ee3c4-238">Optional port number for the proxy server/OMS Gateway</span></span>

<span data-ttu-id="ee3c4-239">Ad esempio: `http://user01:password@proxy01.contoso.com:8080`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-239">For example: `http://user01:password@proxy01.contoso.com:8080`</span></span>

<span data-ttu-id="ee3c4-240">È possibile specificare il server proxy durante l'installazione o modificando il file di configurazione proxy.conf dopo l'installazione.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-240">The proxy server can be specified during installation or by modifying the proxy.conf configuration file after installation.</span></span>   

### <a name="specify-proxy-configuration-during-installation"></a><span data-ttu-id="ee3c4-241">Specificare la configurazione proxy durante l'installazione</span><span class="sxs-lookup"><span data-stu-id="ee3c4-241">Specify proxy configuration during installation</span></span>
<span data-ttu-id="ee3c4-242">L'argomento `-p` o `--proxy` per il bundle di installazione di omsagent specifica la configurazione proxy da usare.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-242">The `-p` or `--proxy` argument for the omsagent installation bundle specifies the proxy configuration to use.</span></span> 

```
sudo sh ./omsagent-<version>.universal.x64.sh --upgrade -p http://<proxy user>:<proxy password>@<proxy address>:<proxy port> -w <workspace id> -s <shared key>
```

### <a name="define-the-proxy-configuration-in-a-file"></a><span data-ttu-id="ee3c4-243">Definire la configurazione proxy in un file</span><span class="sxs-lookup"><span data-stu-id="ee3c4-243">Define the proxy configuration in a file</span></span>
<span data-ttu-id="ee3c4-244">La configurazione del proxy può essere impostata nei file `/etc/opt/microsoft/omsagent/proxy.conf` e `/etc/opt/microsoft/omsagent/conf/proxy.conf `.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-244">The proxy configuration can be set in the files `/etc/opt/microsoft/omsagent/proxy.conf`  and `/etc/opt/microsoft/omsagent/conf/proxy.conf `.</span></span> <span data-ttu-id="ee3c4-245">I file possono essere creati o modificati direttamente, ma le autorizzazioni devono essere aggiornate per concedere all'utente omiuser l'autorizzazione di lettura per i file.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-245">The files can be directly created or edited, but their permissions must be updated to grant the omiuser user read permission on the files.</span></span> <span data-ttu-id="ee3c4-246">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="ee3c4-246">For example:</span></span>
```
proxyconf="https://proxyuser:proxypassword@proxyserver01:8080"
sudo echo $proxyconf >>/etc/opt/microsoft/omsagent/proxy.conf
sudo chown omsagent:omiusers /etc/opt/microsoft/omsagent/proxy.conf
sudo chmod 600 /etc/opt/microsoft/omsagent/proxy.conf /etc/opt/microsoft/omsagent/conf/proxy.conf  
sudo /opt/microsoft/omsagent/bin/service_control restart [<workspace id>]
```

### <a name="removing-the-proxy-configuration"></a><span data-ttu-id="ee3c4-247">Rimozione della configurazione proxy</span><span class="sxs-lookup"><span data-stu-id="ee3c4-247">Removing the proxy configuration</span></span>
<span data-ttu-id="ee3c4-248">Per rimuovere una configurazione proxy definita in precedenza e ripristinare la connettività diretta, rimuovere il file proxy.conf:</span><span class="sxs-lookup"><span data-stu-id="ee3c4-248">To remove a previously defined proxy configuration and revert to direct connectivity, remove the proxy.conf file:</span></span>
```
sudo rm /etc/opt/microsoft/omsagent/proxy.conf /etc/opt/microsoft/omsagent/conf/proxy.conf
sudo /opt/microsoft/omsagent/bin/service_control restart 
```

## <a name="onboarding-with-operations-management-suite"></a><span data-ttu-id="ee3c4-249">Onboarding con Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="ee3c4-249">Onboarding with Operations Management Suite</span></span>
<span data-ttu-id="ee3c4-250">Se non sono stati forniti chiave e ID dell'area di lavoro durante l'installazione del bundle, l'agente deve essere successivamente registrato con Operations Management Suite.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-250">If a workspace ID and key were not provided during the bundle installation, the agent must be subsequently registered with Operations Management Suite.</span></span>

### <a name="onboarding-using-the-command-line"></a><span data-ttu-id="ee3c4-251">Onboarding usando la riga di comando</span><span class="sxs-lookup"><span data-stu-id="ee3c4-251">Onboarding using the command line</span></span>
<span data-ttu-id="ee3c4-252">Eseguire il comando omsadmin.sh fornendo chiave e ID dell'area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-252">Run the omsadmin.sh command supplying the workspace id and key for your workspace.</span></span> <span data-ttu-id="ee3c4-253">Questo comando deve essere eseguito come comando radice (con elevazione sudo):</span><span class="sxs-lookup"><span data-stu-id="ee3c4-253">This command must be run as root (with sudo elevation):</span></span>
```
cd /opt/microsoft/omsagent/bin
sudo ./omsadmin.sh -w <WorkspaceID> -s <Shared Key>
```

### <a name="onboarding-using-a-file"></a><span data-ttu-id="ee3c4-254">Onboarding usando un file</span><span class="sxs-lookup"><span data-stu-id="ee3c4-254">Onboarding using a file</span></span>
1.  <span data-ttu-id="ee3c4-255">Creare il file `/etc/omsagent-onboard.conf`.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-255">Create the file `/etc/omsagent-onboard.conf`.</span></span> <span data-ttu-id="ee3c4-256">Il file deve essere leggibile e scrivibile per la radice.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-256">The file must be readable and writable for root.</span></span>
`sudo vi /etc/omsagent-onboard.conf`
2.  <span data-ttu-id="ee3c4-257">Inserire le righe seguenti nel file con la chiave condivisa e l'ID dell'area di lavoro:</span><span class="sxs-lookup"><span data-stu-id="ee3c4-257">Insert the following lines in the file with your Workspace ID and Shared Key:</span></span>

        WORKSPACE_ID=<WorkspaceID>  
        SHARED_KEY=<Shared Key>  
   
3.  <span data-ttu-id="ee3c4-258">Eseguire il comando seguente per l'onboarding in OMS: `sudo /opt/microsoft/omsagent/bin/omsadmin.sh`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-258">Run the following command to Onboard to OMS: `sudo /opt/microsoft/omsagent/bin/omsadmin.sh`</span></span>
4.  <span data-ttu-id="ee3c4-259">Il file viene eliminato al completamento dell'onboarding.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-259">The file is deleted on successful onboarding.</span></span>

## <a name="enable-the-oms-agent-for-linux-to-report-to-system-center-operations-manager"></a><span data-ttu-id="ee3c4-260">Consentire all'agente OMS per Linux di inviare segnalazioni a System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="ee3c4-260">Enable the OMS Agent for Linux to report to System Center Operations Manager</span></span>
<span data-ttu-id="ee3c4-261">Seguire questa procedura per configurare l'agente OMS per Linux per inviare segnalazioni a un gruppo di gestione di System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-261">Perform the following steps to configure the OMS Agent for Linux to report to a System Center Operations Manager management group.</span></span>  

1. <span data-ttu-id="ee3c4-262">Modificare il file `/etc/opt/omi/conf/omiserver.conf`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-262">Edit the file `/etc/opt/omi/conf/omiserver.conf`</span></span>
2. <span data-ttu-id="ee3c4-263">Assicurarsi che la riga che inizia con **httpsport=** definisca la porta 1270.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-263">Ensure that the line beginning with **httpsport=** defines the port 1270.</span></span> <span data-ttu-id="ee3c4-264">Ad esempio: `httpsport=1270`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-264">Such as: `httpsport=1270`</span></span>
3. <span data-ttu-id="ee3c4-265">Riavviare il server OMI: `sudo /opt/omi/bin/service_control restart`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-265">Restart the OMI server: `sudo /opt/omi/bin/service_control restart`</span></span>

## <a name="agent-logs"></a><span data-ttu-id="ee3c4-266">Log dell'agente</span><span class="sxs-lookup"><span data-stu-id="ee3c4-266">Agent logs</span></span>
<span data-ttu-id="ee3c4-267">I log per l'agente OMS per Linux sono disponibili in: `/var/opt/microsoft/omsagent/<workspace id>/log/`. I log per il programma omsconfig (configurazione dell'agente) sono disponibili in: `/var/opt/microsoft/omsconfig/log/`. I log per i componenti OMI e SCX (che forniscono i dati delle metriche delle prestazioni) sono disponibili in:`/var/opt/omi/log/ and /var/opt/microsoft/scx/log`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-267">The logs for the OMS Agent for Linux can be found at: `/var/opt/microsoft/omsagent/<workspace id>/log/` The logs for the omsconfig (agent configuration) program can be found at: `/var/opt/microsoft/omsconfig/log/` Logs for the OMI and SCX components (which provide performance metrics data) can be found at: `/var/opt/omi/log/ and /var/opt/microsoft/scx/log`</span></span>

### <a name="log-rotation-configuration"></a><span data-ttu-id="ee3c4-268">Configurazione di rotazione del log</span><span class="sxs-lookup"><span data-stu-id="ee3c4-268">Log rotation configuration##</span></span>
<span data-ttu-id="ee3c4-269">La configurazione di rotazione del log per omsagent è disponibile in: `/etc/logrotate.d/omsagent-<workspace id>`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-269">The log rotate configuration for omsagent can be found at: `/etc/logrotate.d/omsagent-<workspace id>`</span></span>

<span data-ttu-id="ee3c4-270">Le impostazioni predefinite sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="ee3c4-270">The default settings are:</span></span> 
```
/var/opt/microsoft/omsagent/<workspace id>/log/omsagent.log {
    rotate 5
    missingok
    notifempty
    compress
    size 50k
    copytruncate
}
```

## <a name="uninstalling-the-oms-agent-for-linux"></a><span data-ttu-id="ee3c4-271">Disinstallazione dell'agente OMS per Linux</span><span class="sxs-lookup"><span data-stu-id="ee3c4-271">Uninstalling the OMS Agent for Linux</span></span>
<span data-ttu-id="ee3c4-272">I pacchetti dell'agente possono essere disinstallati eseguendo il file SH con l'argomento `--purge`, che rimuove completamente l'agente e la configurazione dal computer.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-272">The agent packages can be uninstalled by running the bundle .sh file with the `--purge` argument, which completely removes the agent and its configuration from the computer.</span></span>   

```
> sudo rpm -e omsconfig
> sudo rpm -e omsagent
> sudo /opt/microsoft/scx/bin/uninstall
```

## <a name="troubleshooting"></a><span data-ttu-id="ee3c4-273">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="ee3c4-273">Troubleshooting</span></span>

### <a name="issue-unable-to-connect-through-proxy-to-oms"></a><span data-ttu-id="ee3c4-274">Problema: Impossibile stabilire la connessione tramite proxy a OMS</span><span class="sxs-lookup"><span data-stu-id="ee3c4-274">Issue: Unable to connect through proxy to OMS</span></span>

#### <a name="probable-causes"></a><span data-ttu-id="ee3c4-275">Possibili cause</span><span class="sxs-lookup"><span data-stu-id="ee3c4-275">Probable causes</span></span>
* <span data-ttu-id="ee3c4-276">Il proxy specificato durante l'onboarding è errato</span><span class="sxs-lookup"><span data-stu-id="ee3c4-276">The proxy specified during onboarding was incorrect</span></span>
* <span data-ttu-id="ee3c4-277">Gli endpoint di servizio di OMS non sono presenti nell'elenco elementi consentiti del data center</span><span class="sxs-lookup"><span data-stu-id="ee3c4-277">The OMS Service Endpoints are not whitelistested in your datacenter</span></span> 

#### <a name="resolutions"></a><span data-ttu-id="ee3c4-278">Soluzioni</span><span class="sxs-lookup"><span data-stu-id="ee3c4-278">Resolutions</span></span>
1. <span data-ttu-id="ee3c4-279">Eseguire di nuovo l'onboarding nel servizio OMS con l'agente OMS per Linux usando il comando seguente con l'opzione `-v` abilitata.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-279">Reonboard to the OMS Service with the OMS Agent for Linux by using the following command with the option `-v` enabled.</span></span> <span data-ttu-id="ee3c4-280">In questo modo l'output dettagliato dell'agente si connette tramite proxy al servizio OMS.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-280">This allows verbose output of the agent connecting through the proxy to the OMS Service.</span></span> 
`/opt/microsoft/omsagent/bin/omsadmin.sh -w <OMS Workspace ID> -s <OMS Workspace Key> -p <Proxy Conf> -v`

2. <span data-ttu-id="ee3c4-281">Vedere la sezione Configurazione dell'agente per l'uso con un server proxy HTTP(#configuring the-agent-for-use-with-a-http-proxy-server) per verificare di aver configurato correttamente l'agente per la comunicazione tramite un server proxy.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-281">Review the section [Configuring the agent for use with an HTTP proxy server(#configuring the-agent-for-use-with-a-http-proxy-server) to verify you have properly configured the agent to communicate through a proxy server.</span></span>    
* <span data-ttu-id="ee3c4-282">Controllare che gli endpoint di servizio di OMS seguenti siano presenti nell'elenco elementi consentiti:</span><span class="sxs-lookup"><span data-stu-id="ee3c4-282">Double check that the following OMS Service endpoints are whitelisted:</span></span>

    |<span data-ttu-id="ee3c4-283">Risorsa agente</span><span class="sxs-lookup"><span data-stu-id="ee3c4-283">Agent Resource</span></span>| <span data-ttu-id="ee3c4-284">Porte</span><span class="sxs-lookup"><span data-stu-id="ee3c4-284">Ports</span></span> |  
    |------|---------|  
    |<span data-ttu-id="ee3c4-285">*.ods.opinsights.azure.com</span><span class="sxs-lookup"><span data-stu-id="ee3c4-285">*.ods.opinsights.azure.com</span></span> | <span data-ttu-id="ee3c4-286">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-286">Port 443</span></span>|   
    |<span data-ttu-id="ee3c4-287">*.oms.opinsights.azure.com</span><span class="sxs-lookup"><span data-stu-id="ee3c4-287">*.oms.opinsights.azure.com</span></span> | <span data-ttu-id="ee3c4-288">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-288">Port 443</span></span>|   
    |<span data-ttu-id="ee3c4-289">ods.systemcenteradvisor.com</span><span class="sxs-lookup"><span data-stu-id="ee3c4-289">ods.systemcenteradvisor.com</span></span> | <span data-ttu-id="ee3c4-290">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-290">Port 443</span></span>|   
    |<span data-ttu-id="ee3c4-291">*.blob.core.windows.net/</span><span class="sxs-lookup"><span data-stu-id="ee3c4-291">*.blob.core.windows.net/</span></span> | <span data-ttu-id="ee3c4-292">Porta 443</span><span class="sxs-lookup"><span data-stu-id="ee3c4-292">Port 443</span></span>|   

### <a name="issue-you-receive-a-403-error-when-trying-to-onboard"></a><span data-ttu-id="ee3c4-293">Problema: Viene visualizzato un errore 403 durante il tentativo di onboarding</span><span class="sxs-lookup"><span data-stu-id="ee3c4-293">Issue: You receive a 403 error when trying to onboard</span></span>

#### <a name="probable-causes"></a><span data-ttu-id="ee3c4-294">Possibili cause</span><span class="sxs-lookup"><span data-stu-id="ee3c4-294">Probable causes</span></span>
* <span data-ttu-id="ee3c4-295">Data e ora nel server Linux non sono corrette</span><span class="sxs-lookup"><span data-stu-id="ee3c4-295">Date and Time is incorrect on Linux Server</span></span> 
* <span data-ttu-id="ee3c4-296">L'ID e la chiave dell'area di lavoro usati non sono corretti</span><span class="sxs-lookup"><span data-stu-id="ee3c4-296">Workspace ID and Workspace Key used are not correct</span></span>

#### <a name="resolution"></a><span data-ttu-id="ee3c4-297">Risoluzione</span><span class="sxs-lookup"><span data-stu-id="ee3c4-297">Resolution</span></span>

1. <span data-ttu-id="ee3c4-298">Controllare l'ora nel server Linux con il comando date.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-298">Check the time on your Linux server with the command date.</span></span> <span data-ttu-id="ee3c4-299">Se l'ora è sfasata di +/- 15 minuti rispetto all'ora corrente, l'onboarding ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-299">If the time is +/- 15 minutes from current time, then onboarding fails.</span></span> <span data-ttu-id="ee3c4-300">Per risolvere il problema, aggiornare la data e/o il fuso orario del server Linux.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-300">To correct this update the date and/or timezone of your Linux server.</span></span> 
2. <span data-ttu-id="ee3c4-301">Verificare di avere installato la versione più recente dell'agente OMS per Linux.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-301">Verify you have installed the latest version of the OMS Agent for Linux.</span></span>  <span data-ttu-id="ee3c4-302">Ora la versione più recente invia una notifica all'utente se la differenza di tempo causa l'errore di onboarding.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-302">The newest version now notifies you if time skew is causing the onboarding failure.</span></span>
3. <span data-ttu-id="ee3c4-303">Eseguire di nuovo l'onboarding usando l'ID area di lavoro corretto e la chiave dell'area di lavoro seguendo le istruzioni di installazione presentate anteriormente in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-303">Reonboard using correct Workspace ID and Workspace Key following the installation instructions earlier in this topic.</span></span>

### <a name="issue-you-see-a-500-and-404-error-in-the-log-file-right-after-onboarding"></a><span data-ttu-id="ee3c4-304">Problema: Viene visualizzato un errore 404 o 500 nel file di log subito dopo l'onboarding</span><span class="sxs-lookup"><span data-stu-id="ee3c4-304">Issue: You see a 500 and 404 error in the log file right after onboarding</span></span>
<span data-ttu-id="ee3c4-305">Si tratta di un problema noto che si verifica durante il primo caricamento dei dati di Linux in un'area di lavoro di OMS.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-305">This is a known issue that occurs on first upload of Linux data into an OMS workspace.</span></span> <span data-ttu-id="ee3c4-306">Questo non influisce sui dati inviati o sull'esperienza d'uso del servizio.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-306">This does not affect data being sent or service experience.</span></span>

### <a name="issue--you-are-not-seeing-any-data-in-the-oms-portal"></a><span data-ttu-id="ee3c4-307">Problema: Non vengono visualizzati dati nel portale di OMS</span><span class="sxs-lookup"><span data-stu-id="ee3c4-307">Issue:  You are not seeing any data in the OMS portal</span></span>

#### <a name="probable-causes"></a><span data-ttu-id="ee3c4-308">Possibili cause</span><span class="sxs-lookup"><span data-stu-id="ee3c4-308">Probable causes</span></span>

- <span data-ttu-id="ee3c4-309">Il caricamento nel servizio OMS ha avuto esito negativo</span><span class="sxs-lookup"><span data-stu-id="ee3c4-309">Onboarding to the OMS Service failed</span></span>
- <span data-ttu-id="ee3c4-310">La connessione al servizio OMS è bloccata</span><span class="sxs-lookup"><span data-stu-id="ee3c4-310">Connection to the OMS Service is blocked</span></span>
- <span data-ttu-id="ee3c4-311">Viene eseguito il backup dei dati dell'agente OMS per Linux</span><span class="sxs-lookup"><span data-stu-id="ee3c4-311">OMS Agent for Linux data is backed up</span></span>

#### <a name="resolutions"></a><span data-ttu-id="ee3c4-312">Soluzioni</span><span class="sxs-lookup"><span data-stu-id="ee3c4-312">Resolutions</span></span>
1. <span data-ttu-id="ee3c4-313">Controllare che l'onboarding del servizio OMS sia avvenuto correttamente verificando la presenza del file seguente: `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsadmin.conf`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-313">Check if onboarding the OMS Service was successful by checking if the following file exists: `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsadmin.conf`</span></span>
2. <span data-ttu-id="ee3c4-314">Eseguire di nuovo l'onboarding usando le istruzioni della riga di comando `omsadmin.sh`</span><span class="sxs-lookup"><span data-stu-id="ee3c4-314">Reonboard using the `omsadmin.sh` command-line instructions</span></span>
3. <span data-ttu-id="ee3c4-315">Se si usa un proxy, vedere i passaggi di risoluzione del proxy indicati in precedenza.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-315">If using a proxy, refer to the proxy resolution steps provided earlier.</span></span>
4. <span data-ttu-id="ee3c4-316">In alcuni casi, quando l'agente OMS per Linux non può comunicare con il servizio OMS, i dati dell'agente vengono inseriti in una coda fino a raggiungere le dimensioni intere del buffer, ovvero 50 MB.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-316">In some cases, when the OMS Agent for Linux cannot communicate with the OMS Service, data on the agent is queued to the full buffer size, which is 50 MB.</span></span> <span data-ttu-id="ee3c4-317">L'agente OMS per Linux deve essere riavviato usando il comando seguente: `/opt/microsoft/omsagent/bin/service_control restart [<workspace id>]`.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-317">The OMS Agent for Linux should be restarted by running the following command: `/opt/microsoft/omsagent/bin/service_control restart [<workspace id>]`.</span></span> 

    >[!NOTE]
    ><span data-ttu-id="ee3c4-318">Il problema è stato risolto nell'agente versione 1.1.0-28 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ee3c4-318">This issue is fixed in agent version 1.1.0-28 and later.</span></span>
> 