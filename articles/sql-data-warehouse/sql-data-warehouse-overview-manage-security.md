---
title: un database in SQL Data Warehouse aaaSecure | Documenti Microsoft
description: Suggerimenti per proteggere un database in Azure SQL Data Warehouse per lo sviluppo di soluzioni.
services: sql-data-warehouse
documentationcenter: NA
author: ronortloff
manager: jhubbard
editor: 
ms.assetid: 8fa2f5ca-4cf5-4418-99a2-4dc745799850
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: security
ms.date: 10/31/2016
ms.author: rortloff;barbkess
ms.openlocfilehash: 5ef4d760e00be46bfe7808bc95dbe1e4b3a51165
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="secure-a-database-in-sql-data-warehouse"></a><span data-ttu-id="6c880-103">Proteggere un database in SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="6c880-103">Secure a database in SQL Data Warehouse</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="6c880-104">Proteggere un database in SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="6c880-104">Security Overview</span></span>](sql-data-warehouse-overview-manage-security.md)
> * [<span data-ttu-id="6c880-105">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="6c880-105">Authentication</span></span>](sql-data-warehouse-authentication.md)
> * [<span data-ttu-id="6c880-106">Introduzione a Transparent Data Encryption (TDE) di SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="6c880-106">Encryption (Portal)</span></span>](sql-data-warehouse-encryption-tde.md)
> * [<span data-ttu-id="6c880-107">Introduzione a Transparent Data Encryption (TDE)</span><span class="sxs-lookup"><span data-stu-id="6c880-107">Encryption (T-SQL)</span></span>](sql-data-warehouse-encryption-tde-tsql.md)
> 
> 

<span data-ttu-id="6c880-108">In questo articolo vengono illustrati concetti di base di hello per proteggere il database di Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="6c880-108">This article walks through hello basics of securing your Azure SQL Data Warehouse database.</span></span> <span data-ttu-id="6c880-109">In particolare l'articolo spiega come iniziare a usare le risorse per limitare l'accesso, proteggere i dati e monitorare le attività in un database.</span><span class="sxs-lookup"><span data-stu-id="6c880-109">In particular, this article will get you started with resources for limiting access, protecting data, and monitoring activities on a database.</span></span>

## <a name="connection-security"></a><span data-ttu-id="6c880-110">Sicurezza delle connessioni</span><span class="sxs-lookup"><span data-stu-id="6c880-110">Connection security</span></span>
<span data-ttu-id="6c880-111">Sicurezza della connessione fa riferimento toohow limitare e proteggere le connessioni tooyour database utilizzando le regole del firewall e crittografia delle connessioni.</span><span class="sxs-lookup"><span data-stu-id="6c880-111">Connection Security refers toohow you restrict and secure connections tooyour database using firewall rules and connection encryption.</span></span>

<span data-ttu-id="6c880-112">Le regole del firewall vengono utilizzate da entrambi hello server e hello database tooreject tentativi di connessione da indirizzi IP che non sono stato esplicitamente consentito.</span><span class="sxs-lookup"><span data-stu-id="6c880-112">Firewall rules are used by both hello server and hello database tooreject connection attempts from IP addresses that have not been explicitly whitelisted.</span></span> <span data-ttu-id="6c880-113">connessioni tooallow dall'applicazione o indirizzo IP pubblico del computer client, è innanzitutto necessario creare una regola firewall di livello server usando hello portale di Azure, API REST o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6c880-113">tooallow connections from your application or client machine's public IP address, you must first create a server-level firewall rule using hello Azure Portal, REST API, or PowerShell.</span></span> <span data-ttu-id="6c880-114">Come procedura consigliata, è consigliabile limitare gli intervalli di indirizzi IP hello consentiti attraverso il firewall del server il più possibili.</span><span class="sxs-lookup"><span data-stu-id="6c880-114">As a best practice, you should restrict hello IP address ranges allowed through your server firewall as much as possible.</span></span>  <span data-ttu-id="6c880-115">tooaccess Azure SQL Data Warehouse dal computer locale, verificare che il firewall di hello in rete e nel computer locale consenta la comunicazione in uscita sulla porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="6c880-115">tooaccess Azure SQL Data Warehouse from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>  <span data-ttu-id="6c880-116">Per altre informazioni, vedere il [firewall per il database SQL di Azure][Azure SQL Database firewall], [sp_set_firewall_rule][sp_set_firewall_rule] e [sp_set_database_firewall_rule][sp_set_database_firewall_rule].</span><span class="sxs-lookup"><span data-stu-id="6c880-116">For more information, see [Azure SQL Database firewall][Azure SQL Database firewall], [sp_set_firewall_rule][sp_set_firewall_rule], and [sp_set_database_firewall_rule][sp_set_database_firewall_rule].</span></span>

<span data-ttu-id="6c880-117">Connessioni tooyour SQL Data Warehouse vengono crittografate per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="6c880-117">Connections tooyour SQL Data Warehouse are encrypted by default.</span></span>  <span data-ttu-id="6c880-118">Modifica connessione impostazioni toodisable crittografia vengono ignorati.</span><span class="sxs-lookup"><span data-stu-id="6c880-118">Modifying connection settings toodisable encryption are ignored.</span></span>

## <a name="authentication"></a><span data-ttu-id="6c880-119">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="6c880-119">Authentication</span></span>
<span data-ttu-id="6c880-120">L'autenticazione si riferisce toohow dimostrare la propria identità durante la connessione di database toohello.</span><span class="sxs-lookup"><span data-stu-id="6c880-120">Authentication refers toohow you prove your identity when connecting toohello database.</span></span> <span data-ttu-id="6c880-121">SQL Data Warehouse attualmente supporta l'autenticazione di SQL Server con un nome utente e una password, nonché con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6c880-121">SQL Data Warehouse currently supports SQL Server Authentication with a username and password as well as a Azure Active Directory.</span></span> 

<span data-ttu-id="6c880-122">Durante la creazione di server logico hello per il database, è specificato un account di accesso "amministratore del server" con un nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="6c880-122">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="6c880-123">Utilizzando queste credenziali, è possibile autenticare tooany database su tale server come proprietario del database hello o "dbo" tramite l'autenticazione di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6c880-123">Using these credentials, you can authenticate tooany database on that server as hello database owner, or "dbo" through SQL Server Authentication.</span></span>

<span data-ttu-id="6c880-124">Tuttavia, come procedura consigliata, gli utenti dell'organizzazione devono utilizzare tooauthenticate un account diverso.</span><span class="sxs-lookup"><span data-stu-id="6c880-124">However, as a best practice, your organization’s users should use a different account tooauthenticate.</span></span> <span data-ttu-id="6c880-125">In questo modo è possibile limitare le autorizzazioni di hello concesse toohello applicazione e ridurre i rischi di hello di attività dannose nel caso in cui il codice dell'applicazione attacco SQL injection di tooa vulnerabile.</span><span class="sxs-lookup"><span data-stu-id="6c880-125">This way you can limit hello permissions granted toohello application and reduce hello risks of malicious activity in case your application code is vulnerable tooa SQL injection attack.</span></span> 

<span data-ttu-id="6c880-126">toocreate un utente con autenticazione di SQL Server, connettersi toohello **master** sul server con l'account di accesso di amministratore di server di database e creare un nuovo account di accesso server.</span><span class="sxs-lookup"><span data-stu-id="6c880-126">toocreate a SQL Server Authenticated user, connect toohello **master** database on your server with your server admin login and create a new server login.</span></span>  <span data-ttu-id="6c880-127">Inoltre, è toocreate una buona idea un utente nel database master di hello per gli utenti di Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="6c880-127">Additionally, it is a good idea toocreate a user in hello master database for Azure SQL Data Warehouse users.</span></span> <span data-ttu-id="6c880-128">Creazione di un utente nel database master consente a un utente toologin usando strumenti come SQL Server Management Studio senza specificare un nome di database.</span><span class="sxs-lookup"><span data-stu-id="6c880-128">Creating a user in master allows a user toologin using tools like SSMS without specifying a database name.</span></span>  <span data-ttu-id="6c880-129">Inoltre, consente loro toouse hello oggetto explorer tooview tutti i database in SQL server.</span><span class="sxs-lookup"><span data-stu-id="6c880-129">It also allows them toouse hello object explorer tooview all databases on a SQL server.</span></span>

```sql
-- Connect toomaster database and create a login
CREATE LOGIN ApplicationLogin WITH PASSWORD = 'Str0ng_password';
CREATE USER ApplicationUser FOR LOGIN ApplicationLogin;
```

<span data-ttu-id="6c880-130">Quindi, connettersi tooyour **database SQL Data Warehouse** con l'account di accesso di amministratore di server e creare un utente di database basato su account di accesso server hello appena creato.</span><span class="sxs-lookup"><span data-stu-id="6c880-130">Then, connect tooyour **SQL Data Warehouse database** with your server admin login and create a database user based on hello server login you just created.</span></span>

```sql
-- Connect tooSQL DW database and create a database user
CREATE USER ApplicationUser FOR LOGIN ApplicationLogin;
```

<span data-ttu-id="6c880-131">Se si prevede di effettuare operazioni aggiuntive, ad esempio creare account di accesso o la creazione di nuovi database, sarà anche necessario toobe assegnato toohello `Loginmanager` e `dbmanager` ruoli nel database master hello.</span><span class="sxs-lookup"><span data-stu-id="6c880-131">If a user will be doing additional operations such as creating logins or creating new databases, they will also need toobe assigned toohello `Loginmanager` and `dbmanager` roles in hello master database.</span></span> <span data-ttu-id="6c880-132">Per ulteriori informazioni su questi ruoli aggiuntivi e autenticazione tooa Database SQL, vedere [gestione di database e account di accesso nel Database SQL di Azure][Managing databases and logins in Azure SQL Database].</span><span class="sxs-lookup"><span data-stu-id="6c880-132">For more information on these additonal roles and authenticating tooa SQL Database, see [Managing databases and logins in Azure SQL Database][Managing databases and logins in Azure SQL Database].</span></span>  <span data-ttu-id="6c880-133">Per ulteriori informazioni su Azure AD per SQL Data Warehouse, vedere [connessione tooSQL dati Warehouse da usando Azure Active Directory Authentication][Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication].</span><span class="sxs-lookup"><span data-stu-id="6c880-133">For more details on Azure AD for SQL Data Warehouse, see [Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication][Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication].</span></span>

## <a name="authorization"></a><span data-ttu-id="6c880-134">Authorization</span><span class="sxs-lookup"><span data-stu-id="6c880-134">Authorization</span></span>
<span data-ttu-id="6c880-135">L'autorizzazione fa riferimento toowhat è possibile eseguire all'interno di un database Azure SQL Data Warehouse e questa funzionalità è controllata dalle appartenenze al ruolo e dalle autorizzazioni dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="6c880-135">Authorization refers toowhat you can do within an Azure SQL Data Warehouse database, and this is controlled by your user account's role memberships and permissions.</span></span> <span data-ttu-id="6c880-136">Come procedura consigliata, è necessario concedere privilegi minimi necessari hello gli utenti.</span><span class="sxs-lookup"><span data-stu-id="6c880-136">As a best practice, you should grant users hello least privileges necessary.</span></span> <span data-ttu-id="6c880-137">Azure SQL Data Warehouse rende questo toomanage facilmente con i ruoli di T-SQL:</span><span class="sxs-lookup"><span data-stu-id="6c880-137">Azure SQL Data Warehouse makes this easy toomanage with roles in T-SQL:</span></span>

```sql
EXEC sp_addrolemember 'db_datareader', 'ApplicationUser'; -- allows ApplicationUser tooread data
EXEC sp_addrolemember 'db_datawriter', 'ApplicationUser'; -- allows ApplicationUser toowrite data
```

<span data-ttu-id="6c880-138">si è connessi con account amministratore del server Hello è un membro del ruolo db_owner, con le operazioni nel database di hello toodo autorità.</span><span class="sxs-lookup"><span data-stu-id="6c880-138">hello server admin account you are connecting with is a member of db_owner, which has authority toodo anything within hello database.</span></span> <span data-ttu-id="6c880-139">Salvare questo account per la distribuzione degli aggiornamenti allo schema e altre operazioni di gestione.</span><span class="sxs-lookup"><span data-stu-id="6c880-139">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="6c880-140">Utilizzare l'account "ApplicationUser" hello con tooconnect più limitato di autorizzazioni dal database dell'applicazione toohello con hello privilegi minimi necessari per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6c880-140">Use hello "ApplicationUser" account with more limited permissions tooconnect from your application toohello database with hello least privileges needed by your application.</span></span>

<span data-ttu-id="6c880-141">Sono disponibili modi toofurther limite cosa si può fare con Database SQL di Azure:</span><span class="sxs-lookup"><span data-stu-id="6c880-141">There are ways toofurther limit what a user can do with Azure SQL Database:</span></span>

* <span data-ttu-id="6c880-142">Livello di granularità [autorizzazioni] [ Permissions] consentono di controllo quali operazioni è possibile per le singole colonne, tabelle, viste, procedure e altri oggetti nel database di hello.</span><span class="sxs-lookup"><span data-stu-id="6c880-142">Granular [Permissions][Permissions] let you control which operations you can do on individual columns, tables, views, procedures, and other objects in hello database.</span></span> <span data-ttu-id="6c880-143">Utilizzare autorizzazioni granulari toohave hello maggiore controllo e concedere le autorizzazioni minime a hello necessarie.</span><span class="sxs-lookup"><span data-stu-id="6c880-143">Use granular permissions toohave hello most control and grant hello minimum permissions necessary.</span></span> <span data-ttu-id="6c880-144">sistema di un'autorizzazione di granularità Hello è abbastanza complesso e richiederà alcuni toouse Studio in modo efficace.</span><span class="sxs-lookup"><span data-stu-id="6c880-144">hello granular permission system is somewhat complicated and will require some study toouse effectively.</span></span>
* <span data-ttu-id="6c880-145">[Ruoli del database] [ Database roles] diverso db_datareader e db_datawriter può essere utilizzato toocreate più potente applicazione gli account utente o account di gestione meno potenti.</span><span class="sxs-lookup"><span data-stu-id="6c880-145">[Database roles][Database roles] other than db_datareader and db_datawriter can be used toocreate more powerful application user accounts or less powerful management accounts.</span></span> <span data-ttu-id="6c880-146">ruoli predefiniti del database incorporato Hello forniscono le autorizzazioni toogrant un modo semplice, ma possono comportare la concessione di ulteriori autorizzazioni rispetto al necessario.</span><span class="sxs-lookup"><span data-stu-id="6c880-146">hello built-in fixed database roles provide an easy way toogrant permissions, but can result in granting more permissions than are necessary.</span></span>
* <span data-ttu-id="6c880-147">[Stored procedure] [ Stored procedures] può essere utilizzato toolimit azioni hello che possono essere eseguite sul database hello.</span><span class="sxs-lookup"><span data-stu-id="6c880-147">[Stored procedures][Stored procedures] can be used toolimit hello actions that can be taken on hello database.</span></span>

<span data-ttu-id="6c880-148">Gestione di database e server logici da hello portale classico di Azure o tramite API di gestione risorse di Azure hello è controllato dalle assegnazioni di ruolo dell'account utente del portale.</span><span class="sxs-lookup"><span data-stu-id="6c880-148">Managing databases and logical servers from hello Azure Classic Portal or using hello Azure Resource Manager API is controlled by your portal user account's role assignments.</span></span> <span data-ttu-id="6c880-149">Per altre informazioni su questo argomento, vedere [Controllo degli accessi in base al ruolo nel portale di Azure][Role-based access control in Azure Portal].</span><span class="sxs-lookup"><span data-stu-id="6c880-149">For more information on this topic, see [Role-based access control in Azure Portal][Role-based access control in Azure Portal].</span></span>

## <a name="encryption"></a><span data-ttu-id="6c880-150">Crittografia</span><span class="sxs-lookup"><span data-stu-id="6c880-150">Encryption</span></span>
<span data-ttu-id="6c880-151">Azure SQL Data Warehouse Transparent Data Encryption (TDE) contribuisce alla protezione dalle minacce di hello di attività dannose eseguendo la crittografia in tempo reale e la decrittografia dei dati inattivi.</span><span class="sxs-lookup"><span data-stu-id="6c880-151">Azure SQL Data Warehouse Transparent Data Encryption (TDE) helps protect against hello threat of malicious activity by performing real-time encryption and decryption of your data at rest.</span></span>  <span data-ttu-id="6c880-152">Quando si esegue la crittografia del database, senza richiedere modifiche tooyour applicazioni vengono crittografati i backup associati e i file di log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="6c880-152">When you encrypt your database, associated backups and transaction log files are encrypted without requiring any changes tooyour applications.</span></span> <span data-ttu-id="6c880-153">Transparent Data Encryption crittografa l'archivio di hello di un intero database utilizzando una chiave di crittografia simmetrica hello chiamata chiave database.</span><span class="sxs-lookup"><span data-stu-id="6c880-153">TDE encrypts hello storage of an entire database by using a symmetric key called hello database encryption key.</span></span> <span data-ttu-id="6c880-154">Nel Database SQL di chiave di crittografia del database hello è protetto da un certificato server predefinito.</span><span class="sxs-lookup"><span data-stu-id="6c880-154">In SQL Database hello database encryption key is protected by a built-in server certificate.</span></span> <span data-ttu-id="6c880-155">certificato server predefinito Hello è univoco per ogni server di Database SQL.</span><span class="sxs-lookup"><span data-stu-id="6c880-155">hello built-in server certificate is unique for each SQL Database server.</span></span> <span data-ttu-id="6c880-156">Microsoft ruota automaticamente questi certificati almeno ogni 90 giorni.</span><span class="sxs-lookup"><span data-stu-id="6c880-156">Microsoft automatically rotates these certificates at least every 90 days.</span></span> <span data-ttu-id="6c880-157">algoritmo di crittografia Hello utilizzato da SQL Data Warehouse è AES-256.</span><span class="sxs-lookup"><span data-stu-id="6c880-157">hello encryption algorithm used by SQL Data Warehouse is AES-256.</span></span> <span data-ttu-id="6c880-158">Per una descrizione generale della funzionalità TDE, vedere [Transparent Data Encryption][Transparent Data Encryption].</span><span class="sxs-lookup"><span data-stu-id="6c880-158">For a general description of TDE, see [Transparent Data Encryption][Transparent Data Encryption].</span></span>

<span data-ttu-id="6c880-159">È possibile crittografare il database tramite hello [portale Azure] [ Encryption with Portal] o [T-SQL][Encryption with TSQL].</span><span class="sxs-lookup"><span data-stu-id="6c880-159">You can encrypt your database using hello [Azure Portal][Encryption with Portal] or [T-SQL][Encryption with TSQL].</span></span>

## <a name="next-steps"></a><span data-ttu-id="6c880-160">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="6c880-160">Next steps</span></span>
<span data-ttu-id="6c880-161">Per informazioni dettagliate ed esempi sulla connessione tooyour SQL Data Warehouse con protocolli diversi, vedere [connessione Data Warehouse tooSQL][Connect tooSQL Data Warehouse].</span><span class="sxs-lookup"><span data-stu-id="6c880-161">For details and examples on connecting tooyour SQL Data Warehouse with different protocols, see [Connect tooSQL Data Warehouse][Connect tooSQL Data Warehouse].</span></span>

<!--Image references-->

<!--Article references-->
[Connect tooSQL Data Warehouse]: ./sql-data-warehouse-connect-overview.md
[Encryption with Portal]: ./sql-data-warehouse-encryption-tde.md
[Encryption with TSQL]: ./sql-data-warehouse-encryption-tde-tsql.md
[Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication]: ./sql-data-warehouse-authentication.md

<!--MSDN references-->
[Azure SQL Database firewall]: https://msdn.microsoft.com/library/ee621782.aspx
[sp_set_firewall_rule]: https://msdn.microsoft.com/library/dn270017.aspx
[sp_set_database_firewall_rule]: https://msdn.microsoft.com/library/dn270010.aspx
[Database roles]: https://msdn.microsoft.com/library/ms189121.aspx
[Managing databases and logins in Azure SQL Database]: https://msdn.microsoft.com/library/ee336235.aspx
[Permissions]: https://msdn.microsoft.com/library/ms191291.aspx
[Stored procedures]: https://msdn.microsoft.com/library/ms190782.aspx
[Transparent Data Encryption]: https://msdn.microsoft.com/library/bb934049.aspx
[Azure portal]: https://portal.azure.com/

<!--Other Web references-->
[Role-based access control in Azure Portal]: https://azure.microsoft.com/documentation/articles/role-based-access-control-configure
