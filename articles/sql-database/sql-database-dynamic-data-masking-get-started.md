---
title: la maschera dati dinamica del Database SQL aaaAzure | Documenti Microsoft
description: La maschera dati dinamica del Database SQL limita l'esposizione dei dati sensibili nascondendoli agli utenti con privilegi toonon
services: sql-database
documentationcenter: 
author: ronitr
manager: jhubbard
editor: 
ms.assetid: 4b36d78e-7749-4f26-9774-eed1120a9182
ms.service: sql-database
ms.custom: security
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.date: 03/09/2017
ms.author: ronitr; ronmat
ms.openlocfilehash: 68b55128dc096f7e3dd0e5ed1427b39da5d64736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="sql-database-dynamic-data-masking"></a><span data-ttu-id="ded49-103">Maschera dati dinamica del database SQL</span><span class="sxs-lookup"><span data-stu-id="ded49-103">SQL Database dynamic data masking</span></span>

<span data-ttu-id="ded49-104">La maschera dati dinamica del Database SQL limita l'esposizione dei dati sensibili nascondendoli agli utenti con privilegi toonon.</span><span class="sxs-lookup"><span data-stu-id="ded49-104">SQL Database dynamic data masking limits sensitive data exposure by masking it toonon-privileged users.</span></span> 

<span data-ttu-id="ded49-105">Maschera dati dinamica aiuta a impedire che i dati di accesso non autorizzato toosensitive abilitando i clienti toodesignate la quantità di hello dati sensibili tooreveal con un impatto minimo sul livello di applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="ded49-105">Dynamic data masking helps prevent unauthorized access toosensitive data by enabling customers toodesignate how much of hello sensitive data tooreveal with minimal impact on hello application layer.</span></span> <span data-ttu-id="ded49-106">È una funzionalità basata su criteri di sicurezza che consente di nascondere i dati sensibili hello nel set di risultati hello di una query su campi di database designati, senza dati hello hello database non viene modificati.</span><span class="sxs-lookup"><span data-stu-id="ded49-106">It’s a policy-based security feature that hides hello sensitive data in hello result set of a query over designated database fields, while hello data in hello database is not changed.</span></span>

<span data-ttu-id="ded49-107">Ad esempio, un rappresentante del servizio a un call center può identificare i chiamanti da diverse cifre del loro numero di carta di credito, ma tali dati in cui gli elementi non devono essere completamente esposti toohello rappresentante del servizio.</span><span class="sxs-lookup"><span data-stu-id="ded49-107">For example, a service representative at a call center may identify callers by several digits of their credit card number, but those data items should not be fully exposed toohello service representative.</span></span> <span data-ttu-id="ded49-108">Può definire una regola di maschera che tutte le maschere ma hello ultime quattro cifre di qualsiasi numero di carta di credito nel set di risultati hello delle query.</span><span class="sxs-lookup"><span data-stu-id="ded49-108">A masking rule can be defined that masks all but hello last four digits of any credit card number in hello result set of any query.</span></span> <span data-ttu-id="ded49-109">Ad esempio, una maschera dati appropriata può essere definito tooprotect informazioni identificabili personalmente (PII) dati, uno sviluppatore può eseguire query su ambienti di produzione per la risoluzione dei problemi senza violare la regolamentazione di conformità.</span><span class="sxs-lookup"><span data-stu-id="ded49-109">As another example, an appropriate data mask can be defined tooprotect personally identifiable information (PII) data, so that a developer can query production environments for troubleshooting purposes without violating compliance regulations.</span></span>

## <a name="sql-database-dynamic-data-masking-basics"></a><span data-ttu-id="ded49-110">Nozioni fondamentali sulla funzione Maschera dati dinamica del database SQL</span><span class="sxs-lookup"><span data-stu-id="ded49-110">SQL Database dynamic data masking basics</span></span>
<span data-ttu-id="ded49-111">Impostare un criterio di hello di maschera dati dinamica portale di Azure selezionando l'operazione nel Pannello di configurazione Database SQL o nel pannello delle impostazioni di maschera dati dinamica di hello.</span><span class="sxs-lookup"><span data-stu-id="ded49-111">You set up a dynamic data masking policy in hello Azure portal by selecting hello dynamic data masking operation in your SQL Database configuration blade or settings blade.</span></span>

### <a name="dynamic-data-masking-permissions"></a><span data-ttu-id="ded49-112">Autorizzazioni per il mascheramento dei dati dinamici</span><span class="sxs-lookup"><span data-stu-id="ded49-112">Dynamic data masking permissions</span></span>
<span data-ttu-id="ded49-113">La maschera dati dinamica può essere configurata Database Azure salve, amministratore del server o ruoli di sicurezza responsabile della.</span><span class="sxs-lookup"><span data-stu-id="ded49-113">Dynamic data masking can be configured by hello Azure Database admin, server admin, or security officer roles.</span></span>

### <a name="dynamic-data-masking-policy"></a><span data-ttu-id="ded49-114">Criteri di mascheramento dei dati dinamici</span><span class="sxs-lookup"><span data-stu-id="ded49-114">Dynamic data masking policy</span></span>
* <span data-ttu-id="ded49-115">**Utenti SQL esclusi dalla maschera** - set di utenti SQL o le identità di Azure ad che ottengono dati senza mascherati in hello SQL risultati della query.</span><span class="sxs-lookup"><span data-stu-id="ded49-115">**SQL users excluded from masking** - A set of SQL users or AAD identities that get unmasked data in hello SQL query results.</span></span> <span data-ttu-id="ded49-116">Gli utenti con privilegi di amministratore sono sempre esclusi dalla maschera e visualizzare i dati originali di hello senza qualsiasi maschera.</span><span class="sxs-lookup"><span data-stu-id="ded49-116">Users with administrator privileges are always excluded from masking, and see hello original data without any mask.</span></span>
* <span data-ttu-id="ded49-117">**Le regole di maschera** -un set di regole che definiscono hello designato toobe campi mascherato e hello funzione che viene usata la maschera.</span><span class="sxs-lookup"><span data-stu-id="ded49-117">**Masking rules** - A set of rules that define hello designated fields toobe masked and hello masking function that is used.</span></span> <span data-ttu-id="ded49-118">è possibile definire Hello designato campi utilizzando un nome dello schema di database, un nome di tabella e un nome di colonna.</span><span class="sxs-lookup"><span data-stu-id="ded49-118">hello designated fields can be defined using a database schema name, table name, and column name.</span></span>
* <span data-ttu-id="ded49-119">**Funzioni di maschera** -un set di metodi che consentono di controllare l'esposizione di hello dei dati per scenari diversi.</span><span class="sxs-lookup"><span data-stu-id="ded49-119">**Masking functions** - A set of methods that control hello exposure of data for different scenarios.</span></span>

| <span data-ttu-id="ded49-120">Funzione di mascheramento</span><span class="sxs-lookup"><span data-stu-id="ded49-120">Masking Function</span></span> | <span data-ttu-id="ded49-121">Logica di mascheramento</span><span class="sxs-lookup"><span data-stu-id="ded49-121">Masking Logic</span></span> |
| --- | --- |
| <span data-ttu-id="ded49-122">**Default**</span><span class="sxs-lookup"><span data-stu-id="ded49-122">**Default**</span></span> |<span data-ttu-id="ded49-123">**Maschera completa in base toohello dati tipi di hello designato campi**</span><span class="sxs-lookup"><span data-stu-id="ded49-123">**Full masking according toohello data types of hello designated fields**</span></span><br/><br/><span data-ttu-id="ded49-124">• Usare XXXX o x minori se dimensioni hello del campo hello sono minore di 4 caratteri per i tipi di dati string (nchar, ntext, nvarchar).</span><span class="sxs-lookup"><span data-stu-id="ded49-124">• Use XXXX or fewer Xs if hello size of hello field is less than 4 characters for string data types (nchar, ntext, nvarchar).</span></span><br/><span data-ttu-id="ded49-125">• Usare un valore pari a zero per i tipi di dati numerici (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span><span class="sxs-lookup"><span data-stu-id="ded49-125">• Use a zero value for numeric data types (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span></span><br/><span data-ttu-id="ded49-126">• Usare 01-01-1900 per i tipi di dati data/ora (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span><span class="sxs-lookup"><span data-stu-id="ded49-126">• Use 01-01-1900 for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span></span><br/><span data-ttu-id="ded49-127">• SQL variant, hello come valore predefinito del tipo corrente hello viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="ded49-127">• For SQL variant, hello default value of hello current type is used.</span></span><br/><span data-ttu-id="ded49-128">• Per documento hello XML <masked/> viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="ded49-128">• For XML hello document <masked/> is used.</span></span><br/><span data-ttu-id="ded49-129">• Usare un valore vuoto per i tipi di dati speciali (timestamp table, hierarchyid, GUID, binary, image, varbinary spatial types).</span><span class="sxs-lookup"><span data-stu-id="ded49-129">• Use an empty value for special data types (timestamp table, hierarchyid, GUID, binary, image, varbinary spatial types).</span></span> |
| <span data-ttu-id="ded49-130">**Carta di credito**</span><span class="sxs-lookup"><span data-stu-id="ded49-130">**Credit card**</span></span> |<span data-ttu-id="ded49-131">**Metodo di maschera, che espone hello ultime quattro cifre di hello designato campi** e aggiunge una stringa costante come prefisso sotto forma di hello di una carta di credito.</span><span class="sxs-lookup"><span data-stu-id="ded49-131">**Masking method, which exposes hello last four digits of hello designated fields** and adds a constant string as a prefix in hello form of a credit card.</span></span><br/><br/><span data-ttu-id="ded49-132">XXXX-XXXX-XXXX-1234</span><span class="sxs-lookup"><span data-stu-id="ded49-132">XXXX-XXXX-XXXX-1234</span></span> |
| <span data-ttu-id="ded49-133">**Indirizzo di posta elettronica**</span><span class="sxs-lookup"><span data-stu-id="ded49-133">**Email**</span></span> |<span data-ttu-id="ded49-134">**Metodo di maschera, che espone prima lettera hello e sostituisce il dominio hello con XXX.com** mediante un prefisso stringa costante in forma di hello di un indirizzo di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="ded49-134">**Masking method, which exposes hello first letter and replaces hello domain with XXX.com** using a constant string prefix in hello form of an email address.</span></span><br/><br/>aXX@XXXX.com |
| <span data-ttu-id="ded49-135">**Numero casuale**</span><span class="sxs-lookup"><span data-stu-id="ded49-135">**Random number**</span></span> |<span data-ttu-id="ded49-136">**Metodo di maschera, che genera un numero casuale** in base toohello selezionati i limiti e i tipi di dati effettivi.</span><span class="sxs-lookup"><span data-stu-id="ded49-136">**Masking method, which generates a random number** according toohello selected boundaries and actual data types.</span></span> <span data-ttu-id="ded49-137">Se hello designato limiti sono uguale, funzione di maschera hello è un numero costante.</span><span class="sxs-lookup"><span data-stu-id="ded49-137">If hello designated boundaries are equal, then hello masking function is a constant number.</span></span><br/><br/><span data-ttu-id="ded49-138">![Riquadro di spostamento](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span><span class="sxs-lookup"><span data-stu-id="ded49-138">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span></span> |
| <span data-ttu-id="ded49-139">**Testo personalizzato**</span><span class="sxs-lookup"><span data-stu-id="ded49-139">**Custom text**</span></span> |<span data-ttu-id="ded49-140">**Metodo, che espone hello prima e ultima caratteri di maschera** e aggiunge una stringa di riempimento personalizzata hello centro.</span><span class="sxs-lookup"><span data-stu-id="ded49-140">**Masking method, which exposes hello first and last characters** and adds a custom padding string in hello middle.</span></span> <span data-ttu-id="ded49-141">Se la stringa originale hello è minore di suffisso e prefisso hello esposto, viene utilizzato solo hello stringa di riempimento.</span><span class="sxs-lookup"><span data-stu-id="ded49-141">If hello original string is shorter than hello exposed prefix and suffix, only hello padding string is used.</span></span> <br/><span data-ttu-id="ded49-142">prefisso[riempimento]suffisso</span><span class="sxs-lookup"><span data-stu-id="ded49-142">prefix[padding]suffix</span></span><br/><br/><span data-ttu-id="ded49-143">![Riquadro di spostamento](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span><span class="sxs-lookup"><span data-stu-id="ded49-143">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span></span> |

<a name="Anchor1"></a>

### <a name="recommended-fields-toomask"></a><span data-ttu-id="ded49-144">I campi obbligatori toomask</span><span class="sxs-lookup"><span data-stu-id="ded49-144">Recommended fields toomask</span></span>
<span data-ttu-id="ded49-145">Hello motore indicazioni DDM, flag di determinati campi dal database come i campi potrebbero contenere informazioni riservati, che possono essere utili candidati per la maschera.</span><span class="sxs-lookup"><span data-stu-id="ded49-145">hello DDM recommendations engine, flags certain fields from your database as potentially sensitive fields, which may be good candidates for masking.</span></span> <span data-ttu-id="ded49-146">Nel pannello maschera dati dinamica hello nel portale di hello, si noterà hello consigliato colonne per il database.</span><span class="sxs-lookup"><span data-stu-id="ded49-146">In hello Dynamic Data Masking blade in hello portal, you will see hello recommended columns for your database.</span></span> <span data-ttu-id="ded49-147">È sufficiente toodo fare clic su **Aggiungi maschera** per una o più colonne e quindi **salvare** tooapply una maschera per questi campi.</span><span class="sxs-lookup"><span data-stu-id="ded49-147">All you need toodo is click **Add Mask** for one or more columns and then **Save** tooapply a mask for these fields.</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-powershell-cmdlets"></a><span data-ttu-id="ded49-148">Configurare il mascheramento dei dati dinamici per il database usando i cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ded49-148">Set up dynamic data masking for your database using Powershell cmdlets</span></span>
<span data-ttu-id="ded49-149">Vedere [Cmdlet del database SQL di Azure](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span><span class="sxs-lookup"><span data-stu-id="ded49-149">See [Azure SQL Database Cmdlets](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-rest-api"></a><span data-ttu-id="ded49-150">Configurare il mascheramento dei dati dinamici per il database usando l'API REST</span><span class="sxs-lookup"><span data-stu-id="ded49-150">Set up dynamic data masking for your database using REST API</span></span>
<span data-ttu-id="ded49-151">Vedere [Operazioni per i database SQL di Azure](https://msdn.microsoft.com/library/dn505719.aspx).</span><span class="sxs-lookup"><span data-stu-id="ded49-151">See [Operations for Azure SQL Databases](https://msdn.microsoft.com/library/dn505719.aspx).</span></span>

