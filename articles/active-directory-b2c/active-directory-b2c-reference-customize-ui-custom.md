---
title: 'Azure Active Directory B2C: informazioni di riferimento: personalizzare l''interfaccia utente di un percorso utente con i criteri personalizzati | Microsoft Docs'
description: Argomento sui criteri personalizzati di Azure Active Directory B2C
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/25/2017
ms.author: joroja
ms.openlocfilehash: 68f40aa638a687398512278a0b77d1ba392859cf
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="customize-the-ui-of-a-user-journey-with-custom-policies"></a><span data-ttu-id="a2f45-103">Personalizzare l'interfaccia utente di un percorso utente con criteri personalizzati</span><span class="sxs-lookup"><span data-stu-id="a2f45-103">Customize the UI of a user journey with Custom Policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

> [!NOTE]
> <span data-ttu-id="a2f45-104">Questo articolo descrive in modo approfondito come funziona la personalizzazione dell'interfaccia utente e come abilitarla con i criteri personalizzati B2C, usando il framework di esperienza di gestione delle identità</span><span class="sxs-lookup"><span data-stu-id="a2f45-104">This article is an advanced description of how UI customization works and how to enable with B2C Custom policies, using the Identity Experience Framework</span></span>


<span data-ttu-id="a2f45-105">Un'esperienza utente integrata è fondamentale per qualsiasi soluzione Business to Consumer.</span><span class="sxs-lookup"><span data-stu-id="a2f45-105">A seamless user experience is key for any business-to-consumer solution.</span></span> <span data-ttu-id="a2f45-106">Per esperienza utente integrata si intende un'esperienza, con un dispositivo o un browser, in cui il percorso di un utente nel servizio non sia distinguibile dal quello del servizio clienti usato.</span><span class="sxs-lookup"><span data-stu-id="a2f45-106">By seamless user experience, we mean an experience, whether on device or browser, where a user’s journey through our service cannot be distinguished from that of the customer service they are using.</span></span>

## <a name="understand-the-cors-way-for-ui-customization"></a><span data-ttu-id="a2f45-107">Informazioni sulla modalità CORS per la personalizzazione dell'interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="a2f45-107">Understand the CORS way for UI customization</span></span>

<span data-ttu-id="a2f45-108">Azure AD B2C consente di personalizzare l'aspetto dell'esperienza utente nelle diverse pagine che possono essere potenzialmente rese disponibili e visualizzate da Azure AD B2C tramite i criteri personalizzati.</span><span class="sxs-lookup"><span data-stu-id="a2f45-108">Azure AD B2C allows you to customize the look-and-feel of user experience (UX) on the various pages that can be potentially served and displayed by Azure AD B2C via your custom policies.</span></span>

<span data-ttu-id="a2f45-109">A tale scopo, Azure AD B2C esegue il codice nel browser del cliente e usa il moderno approccio standard [Condivisione risorse tra le origini (CORS)](http://www.w3.org/TR/cors/) per caricare il contenuto personalizzato da un determinato URL che punta ai modelli HTML5/CSS, come si specifica in un criterio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a2f45-109">For that purpose, Azure AD B2C runs code in your consumer's browser and uses the modern and standard approach [Cross-Origin Resource Sharing (CORS)](http://www.w3.org/TR/cors/) to load custom content from a specific URL that you specify in a custom policy to point to your HTML5/CSS templates.</span></span> <span data-ttu-id="a2f45-110">CORS è un meccanismo che consente alle risorse limitate, ad esempio i tipi di carattere, in una pagina Web di essere richieste da un altro dominio esterno al dominio da cui la risorsa è stata originata.</span><span class="sxs-lookup"><span data-stu-id="a2f45-110">CORS is a mechanism that allows restricted resources, like fonts, on a web page to be requested from another domain outside the domain from which the resource originated.</span></span>

<span data-ttu-id="a2f45-111">Rispetto alla precedente modalità tradizionale, in cui le pagine modello sono di proprietà della soluzione, nella quale si inserivano testo e immagini limitati e il controllo del layout e dell'aspetto era limitato al punto che non era semplice raggiungere un'esperienza integrata, la modalità CORS supporta HTML5 e CSS e consente di:</span><span class="sxs-lookup"><span data-stu-id="a2f45-111">Compared to the old traditional way, where template pages are owned by the solution where you provided limited text and images, where limited control of layout and feel was offered leading to more than difficulties to achieve a seamless experience, the CORS way supports HTML5 and CSS and allow you to:</span></span>

- <span data-ttu-id="a2f45-112">Ospitare il contenuto e inserire nella soluzione i controlli usando lo script lato client.</span><span class="sxs-lookup"><span data-stu-id="a2f45-112">Host the content and the solution injects its controls using client side script.</span></span>
- <span data-ttu-id="a2f45-113">Avere il controllo completo di ogni pixel del layout e dell'aspetto.</span><span class="sxs-lookup"><span data-stu-id="a2f45-113">Have full control over every pixel of layout and feel.</span></span>

<span data-ttu-id="a2f45-114">È possibile inserire un numero illimitato di pagine contenuto creando file HTML5/CSS secondo le esigenze.</span><span class="sxs-lookup"><span data-stu-id="a2f45-114">You can provide as many content pages as you like by crafting HTML5/CSS files as appropriate.</span></span>

> [!NOTE]
> <span data-ttu-id="a2f45-115">Per motivi di sicurezza non è attualmente possibile usare JavaScript per la personalizzazione.</span><span class="sxs-lookup"><span data-stu-id="a2f45-115">For security reasons, the use of JavaScript is currently blocked for customization.</span></span> <span data-ttu-id="a2f45-116">Per sbloccare JavaScript, è necessario usare un nome di dominio per il tenant Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="a2f45-116">To unblock JavaScript, use of a custom domain name for your Azure AD B2C tenant is needed.</span></span>

<span data-ttu-id="a2f45-117">In ogni modello HTML5/CSS si inserisce un elemento *anchor*, che corrisponde all'elemento `<div id=”api”>` necessario nella pagina HTML o contenuto, come illustrato più avanti.</span><span class="sxs-lookup"><span data-stu-id="a2f45-117">In each of your HTML5/CSS templates, you provide an *anchor* element, which corresponds to the required `<div id=”api”>` element in the HTML or the content page as illustrate hereafter.</span></span> <span data-ttu-id="a2f45-118">Azure AD B2C richiede che tutte le pagine contenuto abbiano questo specifico elemento div.</span><span class="sxs-lookup"><span data-stu-id="a2f45-118">Azure AD B2C requires that all content pages have this specific div.</span></span>

```
<!DOCTYPE html>
<html>
  <head>
    <title>Your page content’s tile!</title>
  </head>
  <body>
    <div id="api"></div>
  </body>
</html>
```

<span data-ttu-id="a2f45-119">Il contenuto relativo ad Azure AD B2C per la pagina verrà inserito in questo div, mentre il resto della pagina può essere controllato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="a2f45-119">Azure AD B2C-related content for the page will be injected into this div, while the rest of the page is yours to control.</span></span> <span data-ttu-id="a2f45-120">Il codice JavaScript di Azure AD B2C effettua il pull del contenuto e inserisce il codice HTML in questo specifico elemento div.</span><span class="sxs-lookup"><span data-stu-id="a2f45-120">The Azure AD B2C’s JavaScript code pulls in your content and injects our HTML into this specific div element.</span></span> <span data-ttu-id="a2f45-121">Azure AD B2C inserisce i controlli seguenti secondo le esigenze: controllo di scelta account, controlli di accesso, controlli a più fattori (attualmente basati sul telefono) e controlli di raccolta di attributi.</span><span class="sxs-lookup"><span data-stu-id="a2f45-121">Azure AD B2C injects the following controls as appropriate: account chooser control, login controls, multi-factor (currently phone-based) controls, and attribute collection controls.</span></span> <span data-ttu-id="a2f45-122">Azure AD B2C assicura che tutti i controlli siano conformi a HTML5 e accessibili, che tutti i controlli possano essere completamente personalizzati con stili e che la versione di un controllo non regredisca.</span><span class="sxs-lookup"><span data-stu-id="a2f45-122">Azure AD B2C ensures that all the controls are HTML5 compliant and accessible, all the controls can be fully styled, and that a control version will not regress.</span></span>

<span data-ttu-id="a2f45-123">Il contenuto unito viene infine visualizzato dal cliente come documento dinamico.</span><span class="sxs-lookup"><span data-stu-id="a2f45-123">The merged content is eventually displayed as the dynamic document to your consumer.</span></span>

<span data-ttu-id="a2f45-124">Per assicurarsi che tutto funzioni come previsto, è necessario:</span><span class="sxs-lookup"><span data-stu-id="a2f45-124">To ensure of the above works as expected, you must:</span></span>

- <span data-ttu-id="a2f45-125">Assicurarsi che il contenuto sia conforme a HTML5 e accessibile</span><span class="sxs-lookup"><span data-stu-id="a2f45-125">Ensure your content is HTML5 compliant and accessible</span></span>
- <span data-ttu-id="a2f45-126">Assicurarsi che il server di contenuti sia abilitato per CORS.</span><span class="sxs-lookup"><span data-stu-id="a2f45-126">Ensure your content server is enabled for CORS.</span></span>
- <span data-ttu-id="a2f45-127">Rendere disponibile il contenuto tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a2f45-127">Serve content over HTTPS.</span></span>
- <span data-ttu-id="a2f45-128">Usare URL assoluti, ad esempio https://yourdomain/content per tutti i collegamenti e il contenuto CSS.</span><span class="sxs-lookup"><span data-stu-id="a2f45-128">Use absolute URLS such as https://yourdomain/content for all links and CSS content.</span></span>

> [!TIP]
> <span data-ttu-id="a2f45-129">Per verificare che CORS sia abilitato per il sito su cui si ospita il contenuto e per testare le richieste CORS, è possibile usare il sito http://test-cors.org/.</span><span class="sxs-lookup"><span data-stu-id="a2f45-129">To verify that the site you are hosting your content on has CORS enabled and test CORS requests, you can use the site http://test-cors.org/.</span></span> <span data-ttu-id="a2f45-130">Da questo sito è semplicemente possibile inviare la richiesta CORS a un server remoto (per verificare se CORS è supportato) oppure a un server di test (per esplorare determinate funzionalità di CORS).</span><span class="sxs-lookup"><span data-stu-id="a2f45-130">Thanks to this site, you can simply either send the CORS request to a remote server (to test if CORS is supported), or send the CORS request to a test server (to explore certain features of CORS).</span></span>

> [!TIP]
> <span data-ttu-id="a2f45-131">Il sito http://enable-cors.org/ costituisce anche una risorsa più che utile per CORS.</span><span class="sxs-lookup"><span data-stu-id="a2f45-131">The site http://enable-cors.org/ also constitutes a more than useful resources on CORS.</span></span>

<span data-ttu-id="a2f45-132">Grazie a questo approccio basato su CORS, gli utenti finali avranno quindi esperienze coerenti nell'applicazione e nelle pagine rese disponibili da Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="a2f45-132">Thanks to this CORS-based approach, the end users will then have consistent experiences between your application and the pages served by Azure AD B2C.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="a2f45-133">Creare un account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="a2f45-133">Create a storage account</span></span>

<span data-ttu-id="a2f45-134">Come prerequisito, è necessario creare un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="a2f45-134">As a prerequisite, you need to create a storage account.</span></span> <span data-ttu-id="a2f45-135">Per creare un account di archiviazione BLOB di Azure è necessaria una sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f45-135">You will need an Azure subscription to create an Azure Blob Storage account.</span></span> <span data-ttu-id="a2f45-136">È possibile registrarsi per una versione di valutazione gratuita nel [sito Web di Azure](https://azure.microsoft.com/en-us/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="a2f45-136">You can sign up a free trial at the [Azure website](https://azure.microsoft.com/en-us/pricing/free-trial/).</span></span>

1. <span data-ttu-id="a2f45-137">Aprire una sessione del browser e passare al [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="a2f45-137">Open a browsing session and navigate to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="a2f45-138">Accedere con le credenziali amministrative.</span><span class="sxs-lookup"><span data-stu-id="a2f45-138">Sign in with your administrative credentials.</span></span>
3. <span data-ttu-id="a2f45-139">Fare clic su **Nuovo** > **Dati e archiviazione** > **Account di archiviazione**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-139">Click **New** > **Data + Storage** > **Storage account**.</span></span>  <span data-ttu-id="a2f45-140">Viene aperto un pannello **Crea account di archiviazione**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-140">A **Create storage account** blade opens up.</span></span>
4. <span data-ttu-id="a2f45-141">In **Nome** specificare un nome per l'account di archiviazione, ad esempio *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-141">In **Name**, provide a name for the storage account, for example, *contoso369b2c*.</span></span> <span data-ttu-id="a2f45-142">Questo valore più avanti verrà indicato come *storageAccountName*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-142">This value will be later referred as to *storageAccountName*.</span></span>
5. <span data-ttu-id="a2f45-143">Impostare le selezioni appropriate per il piano tariffario, il gruppo di risorse e la sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="a2f45-143">Pick the appropriate selections for the pricing tier, the resource group and the subscription.</span></span> <span data-ttu-id="a2f45-144">Verificare che l'opzione **Aggiungi alla Schermata iniziale** sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="a2f45-144">Make sure that you have the **Pin to Startboard** option checked.</span></span> <span data-ttu-id="a2f45-145">Fare clic su **Create**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-145">Click **Create**.</span></span>
6. <span data-ttu-id="a2f45-146">Tornare alla schermata iniziale e fare clic sull'account di archiviazione appena creato.</span><span class="sxs-lookup"><span data-stu-id="a2f45-146">Go back to the Startboard and click the storage account that you just created.</span></span>
7. <span data-ttu-id="a2f45-147">Nella sezione **Servizi** fare clic su **BLOB**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-147">In the **Services** section, click **Blobs**.</span></span> <span data-ttu-id="a2f45-148">Viene aperto un pannello **Servizio BLOB**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-148">A **Blob service blade** opens up.</span></span>
8. <span data-ttu-id="a2f45-149">Fare clic su **+ Contenitore**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-149">Click **+ Container**.</span></span>
9. <span data-ttu-id="a2f45-150">In **Nome** specificare un nome per il contenitore, ad esempio *b2c*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-150">In **Name**, provide a name for the container, for example, *b2c*.</span></span> <span data-ttu-id="a2f45-151">Questo valore più avanti verrà indicato come *containerName*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-151">This value will be later referred to as *containerName*.</span></span>
9. <span data-ttu-id="a2f45-152">Selezionare **BLOB** come **Tipo di accesso**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-152">Select **Blob** as the **Access type**.</span></span> <span data-ttu-id="a2f45-153">Fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-153">Click **Create**.</span></span>
10. <span data-ttu-id="a2f45-154">Il contenitore appena creato verrà visualizzato nell'elenco nel pannello  **Servizio BLOB**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-154">The container that you created will appear in the list on the **Blob service blade**.</span></span>
11. <span data-ttu-id="a2f45-155">Chiudere il pannello **BLOB** .</span><span class="sxs-lookup"><span data-stu-id="a2f45-155">Close the **Blobs** blade.</span></span>
12. <span data-ttu-id="a2f45-156">Nel pannello **Account di archiviazione** fare clic sull'icona **Chiave**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-156">On the **storage account blade**, click the **Key** icon.</span></span> <span data-ttu-id="a2f45-157">Viene aperto un pannello **Chiavi di accesso**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-157">An **Access keys blade** opens up.</span></span>  
13. <span data-ttu-id="a2f45-158">Annotare il valore di **key1**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-158">Write down the value of **key1**.</span></span> <span data-ttu-id="a2f45-159">Questo valore più avanti verrà indicato come *key1*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-159">This value will be later referred as *key1*.</span></span>

## <a name="downloading-the-helper-tool"></a><span data-ttu-id="a2f45-160">Download dello strumento di supporto</span><span class="sxs-lookup"><span data-stu-id="a2f45-160">Downloading the helper tool</span></span>

1.  <span data-ttu-id="a2f45-161">[Scaricare lo strumento di supporto da ](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip)GitHub.</span><span class="sxs-lookup"><span data-stu-id="a2f45-161">Download the helper tool from [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span></span>
2.  <span data-ttu-id="a2f45-162">Salvare il file *B2C-AzureBlobStorage-Client-master.zip* nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="a2f45-162">Save the *B2C-AzureBlobStorage-Client-master.zip* file on your local machine.</span></span>
3.  <span data-ttu-id="a2f45-163">Estrarre il contenuto del file B2C-AzureBlobStorage-Client-master.zip nel disco locale, ad esempio nella cartella **UI-Customization-Pack**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-163">Extract the content of the B2C-AzureBlobStorage-Client-master.zip file on your local disk, for example under the **UI-Customization-Pack** folder.</span></span> <span data-ttu-id="a2f45-164">Verrà creata una cartella *B2C-AzureBlobStorage-Client-master*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-164">This will create a *B2C-AzureBlobStorage-Client-master* folder underneath.</span></span>
4.  <span data-ttu-id="a2f45-165">Aprire tale cartella ed estrarre il contenuto del file di archivio *B2CAzureStorageClient.zip*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-165">Open that folder and extract the content of the archive file *B2CAzureStorageClient.zip* within it.</span></span>

## <a name="upload-the-ui-customization-pack-sample-files"></a><span data-ttu-id="a2f45-166">Caricare i file di esempio di UI-Customization-Pack</span><span class="sxs-lookup"><span data-stu-id="a2f45-166">Upload the UI-Customization-Pack sample files</span></span>

1.  <span data-ttu-id="a2f45-167">Usando Esplora risorse, passare alla cartella *B2C-AzureBlobStorage-Client-master* nella cartella *UI-Customization-Pack* creata nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="a2f45-167">Using Windows Explorer, navigate to the folder *B2C-AzureBlobStorage-Client-master* located under the *UI-Customization-Pack* folder created in the previous section.</span></span>
2.  <span data-ttu-id="a2f45-168">Eseguire il file *B2CAzureStorageClient.exe*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-168">Run the *B2CAzureStorageClient.exe* file.</span></span> <span data-ttu-id="a2f45-169">Questo programma caricherà semplicemente tutti i file nella directory specificata per l'account di archiviazione e abiliterà l'accesso CORS per tali file.</span><span class="sxs-lookup"><span data-stu-id="a2f45-169">This program will simply upload all the files in the directory that you specify to your storage account, and enable CORS access for those files.</span></span>
3.  <span data-ttu-id="a2f45-170">Quando richiesto, specificare: a.</span><span class="sxs-lookup"><span data-stu-id="a2f45-170">When prompted, specify: a.</span></span>  <span data-ttu-id="a2f45-171">Il nome dell'account di archiviazione, *storageAccountName*, ad esempio *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-171">The name of your storage account, *storageAccountName*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="a2f45-172">b.</span><span class="sxs-lookup"><span data-stu-id="a2f45-172">b.</span></span>  <span data-ttu-id="a2f45-173">La chiave di accesso primaria dell'archivio BLOB di Azure, *key1*, ad esempio *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-173">The primary access key of your azure blob storage, *key1*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="a2f45-174">c.</span><span class="sxs-lookup"><span data-stu-id="a2f45-174">c.</span></span>  <span data-ttu-id="a2f45-175">Il nome del contenitore dell'archivio BLOB del servizio di archiviazione, *containerName*, ad esempio *b2c*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-175">The name of your storage blob storage container, *containerName*, for example *b2c*.</span></span>
    <span data-ttu-id="a2f45-176">d.</span><span class="sxs-lookup"><span data-stu-id="a2f45-176">d.</span></span>  <span data-ttu-id="a2f45-177">Il percorso dei file di esempio dello *starter pack*, ad esempio *..\B2CTemplates\wingtiptoys*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-177">The path of the *Starter-Pack* sample files, for example *..\B2CTemplates\wingtiptoys*.</span></span>

<span data-ttu-id="a2f45-178">Se la procedura precedente è stata eseguita, i file HTML5 e CSS di *UI-Customization-Pack* per la società fittizia **wingtiptoys** punteranno così all'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="a2f45-178">If you followed the steps above, the HTML5 and CSS files of the *UI-Customization-Pack* for the fictitious company **wingtiptoys** will now be pointing to your storage account.</span></span>  <span data-ttu-id="a2f45-179">Per verificare che il contenuto sia stato caricato correttamente, aprire il pannello del contenitore correlato nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f45-179">You can verify that the content has been uploaded correctly by opening the related container blade in the Azure portal.</span></span> <span data-ttu-id="a2f45-180">In alternativa, per verificare che il contenuto sia stato caricato correttamente, accedere alla pagina da un browser.</span><span class="sxs-lookup"><span data-stu-id="a2f45-180">You can alternatively verify that the content has been uploaded correctly by accessing the page from a browser.</span></span> <span data-ttu-id="a2f45-181">Per altre informazioni, vedere [Azure Active Directory B2C: strumento di supporto per la dimostrazione della funzionalità di personalizzazione dell'interfaccia utente della pagina](active-directory-b2c-reference-ui-customization-helper-tool.md).</span><span class="sxs-lookup"><span data-stu-id="a2f45-181">For more information, see [Azure Active Directory B2C: A helper tool used to demonstrate the page user interface (UI) customization feature](active-directory-b2c-reference-ui-customization-helper-tool.md).</span></span>

## <a name="ensure-the-storage-account-has-cors-enabled"></a><span data-ttu-id="a2f45-182">Assicurarsi che CORS sia abilitato per l'account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="a2f45-182">Ensure the storage account has CORS enabled</span></span>

<span data-ttu-id="a2f45-183">La condivisione di risorse tra le origini (CORS) deve essere abilitata nell'endpoint in modo che Azure AD B2C Premium possa caricare il contenuto.</span><span class="sxs-lookup"><span data-stu-id="a2f45-183">CORS (Cross-Origin Resource Sharing) must be enabled on your endpoint for Azure AD B2C Premium to load your content.</span></span> <span data-ttu-id="a2f45-184">Infatti il contenuto è ospitato in un dominio diverso dal dominio da cui Azure AD B2C Premium renderà disponibile la pagina.</span><span class="sxs-lookup"><span data-stu-id="a2f45-184">This is because your content is hosted on a different domain than the domain Azure AD B2C Premium will be serving the page from.</span></span>

<span data-ttu-id="a2f45-185">Per verificare che CORS sia abilitato per la risorsa di archiviazione in cui si ospita il contenuto, procedere con i passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="a2f45-185">To verify that the storage you are hosting your content on has CORS enabled, proceed with the following steps:</span></span>

1. <span data-ttu-id="a2f45-186">Aprire una sessione del browser e passare alla pagina *unified.html* usando l'URL completo del percorso nell'account di archiviazione, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span><span class="sxs-lookup"><span data-stu-id="a2f45-186">Open a browsing session and navigate to the page *unified.html* using the full URL of its location in your storage account, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span></span> <span data-ttu-id="a2f45-187">Ad esempio, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span><span class="sxs-lookup"><span data-stu-id="a2f45-187">For example, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span></span>
2. <span data-ttu-id="a2f45-188">Passare a http://test-cors.org.</span><span class="sxs-lookup"><span data-stu-id="a2f45-188">Navigate to http://test-cors.org.</span></span> <span data-ttu-id="a2f45-189">Questo sito consente di verificare che CORS sia abilitato per la pagina in uso.</span><span class="sxs-lookup"><span data-stu-id="a2f45-189">This site allows you to verify that the page you are using has CORS enabled.</span></span>  
<!--
![test-cors.org](../../media/active-directory-b2c-customize-ui-of-a-user-journey/test-cors.png)
-->

3. <span data-ttu-id="a2f45-190">In **Remote URL** (URL remoto) immettere l'URL completo per il contenuto di unified.html e fare clic su **Send Request** (Invia richiesta).</span><span class="sxs-lookup"><span data-stu-id="a2f45-190">In **Remote URL**, enter the full URL for your unified.html content, and click **Send Request**.</span></span>
4. <span data-ttu-id="a2f45-191">Verificare che l'output nella sezione **Results** (Risultati) contenga *XHR status: 200* (Stato XHR: 200).</span><span class="sxs-lookup"><span data-stu-id="a2f45-191">Verify that the output in the **Results** section contains *XHR status: 200*.</span></span> <span data-ttu-id="a2f45-192">Questa impostazione indica che CORS è abilitato.</span><span class="sxs-lookup"><span data-stu-id="a2f45-192">This indicates that CORS is enabled.</span></span>
<!--
![CORS enabled](../../media/active-directory-b2c-customize-ui-of-a-user-journey/cors-enabled.png)
-->
<span data-ttu-id="a2f45-193">L'account di archiviazione ora includerà un contenitore BLOB denominato *b2c* nella spiegazione, contenente i modelli wingtiptoys seguenti dello *starter pack*.</span><span class="sxs-lookup"><span data-stu-id="a2f45-193">The storage account should now contain a blob container named *b2c* in our illustration that contains the following wingtiptoys templates from the *Starter-Pack*.</span></span>

<!--
![Correctly configured storage account](../../articles/active-directory-b2c/media/active-directory-b2c-reference-customize-ui-custom/storage-account-final.png)
-->

<span data-ttu-id="a2f45-194">La tabella seguente descrive lo scopo delle pagine HTML5 precedenti.</span><span class="sxs-lookup"><span data-stu-id="a2f45-194">The following table describes the purpose of the above HTML5 pages.</span></span>

| <span data-ttu-id="a2f45-195">Modello HTML5</span><span class="sxs-lookup"><span data-stu-id="a2f45-195">HTML5 template</span></span> | <span data-ttu-id="a2f45-196">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a2f45-196">Description</span></span> |
|----------------|-------------|
| <span data-ttu-id="a2f45-197">*phonefactor.html*</span><span class="sxs-lookup"><span data-stu-id="a2f45-197">*phonefactor.html*</span></span> | <span data-ttu-id="a2f45-198">Questa pagina può essere usata come modello per una pagina di autenticazione a più fattori.</span><span class="sxs-lookup"><span data-stu-id="a2f45-198">This page can be used as a template for a multi-factor authentication page.</span></span> |
| <span data-ttu-id="a2f45-199">*resetpassword.html*</span><span class="sxs-lookup"><span data-stu-id="a2f45-199">*resetpassword.html*</span></span> | <span data-ttu-id="a2f45-200">Questa pagina può essere usata come modello per una pagina Password dimenticata.</span><span class="sxs-lookup"><span data-stu-id="a2f45-200">This page can be used as a template for a forgot password page.</span></span> |
| <span data-ttu-id="a2f45-201">*selfasserted.html*</span><span class="sxs-lookup"><span data-stu-id="a2f45-201">*selfasserted.html*</span></span> | <span data-ttu-id="a2f45-202">Questa pagina può essere usata come modello per una pagina di iscrizione all'account di social networking, una pagina di iscrizione dell'account locale o una pagina di accesso dell'account locale.</span><span class="sxs-lookup"><span data-stu-id="a2f45-202">This page can be used as a template for a social account sign-up page, a local account sign-up page, or a local account sign-in page.</span></span> |
| <span data-ttu-id="a2f45-203">*unified.html*</span><span class="sxs-lookup"><span data-stu-id="a2f45-203">*unified.html*</span></span> | <span data-ttu-id="a2f45-204">Questa pagina può essere usata come modello per una pagina unificata per l'iscrizione o l'accesso.</span><span class="sxs-lookup"><span data-stu-id="a2f45-204">This page can be used as a template for a unified sign-up or sign-in page.</span></span> |
| <span data-ttu-id="a2f45-205">*updateprofile.html*</span><span class="sxs-lookup"><span data-stu-id="a2f45-205">*updateprofile.html*</span></span> | <span data-ttu-id="a2f45-206">Questa pagina può essere usata come modello per una pagina di aggiornamento del profilo.</span><span class="sxs-lookup"><span data-stu-id="a2f45-206">This page can be used as a template for a profile update page.</span></span> |

## <a name="add-a-link-to-your-html5css-templates-to-your-user-journey"></a><span data-ttu-id="a2f45-207">Aggiungere un collegamento ai modelli HTML5/CSS al percorso utente</span><span class="sxs-lookup"><span data-stu-id="a2f45-207">Add a link to your HTML5/CSS templates to your user journey</span></span>

<span data-ttu-id="a2f45-208">Per aggiungere un collegamento ai modelli HTML5/CSS al percorso utente, è possibile modificare direttamente un criterio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a2f45-208">You can add a link to your HTML5/CSS templates to your user journey by editing a custom policy directly.</span></span>

<span data-ttu-id="a2f45-209">I modelli HTML5/CSS da usare nel percorso utente devono essere specificati in un elenco di definizioni del contenuto che possono essere usate in tali percorsi utente.</span><span class="sxs-lookup"><span data-stu-id="a2f45-209">The custom HTML5/CSS templates to use in your user journey have to be specified in a list of content definitions that can be used in those user journeys.</span></span> <span data-ttu-id="a2f45-210">A tale scopo, un elemento XML *<ContentDefinitions>* facoltativo deve essere dichiarato nella sezione *<BuildingBlocks>* del file XML del criterio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a2f45-210">For that purpose, an optional *<ContentDefinitions>* XML element must be declared under the *<BuildingBlocks>* section of your custom policy XML file.</span></span>

<span data-ttu-id="a2f45-211">La tabella seguente descrive il set di ID definizione del contenuto riconosciuti dal motore di esperienza di gestione delle identità di Azure AD B2C e il tipo di pagine correlate.</span><span class="sxs-lookup"><span data-stu-id="a2f45-211">The following table describes the set of content definition ids recognized by the Azure AD B2C identity experience engine and the type of pages that relates to them.</span></span>

| <span data-ttu-id="a2f45-212">ID definizione del contenuto</span><span class="sxs-lookup"><span data-stu-id="a2f45-212">Content definition id</span></span> | <span data-ttu-id="a2f45-213">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a2f45-213">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="a2f45-214">*api.error*</span><span class="sxs-lookup"><span data-stu-id="a2f45-214">*api.error*</span></span> | <span data-ttu-id="a2f45-215">**Pagina di errore**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-215">**Error page**.</span></span> <span data-ttu-id="a2f45-216">Questa pagina viene visualizzata quando viene rilevata un'eccezione o un errore.</span><span class="sxs-lookup"><span data-stu-id="a2f45-216">This page is displayed when an exception or an error is encountered.</span></span> |
| <span data-ttu-id="a2f45-217">*api.idpselections*</span><span class="sxs-lookup"><span data-stu-id="a2f45-217">*api.idpselections*</span></span> | <span data-ttu-id="a2f45-218">**Pagina di selezione del provider di identità**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-218">**Identity provider selection page**.</span></span> <span data-ttu-id="a2f45-219">Questa pagina contiene un elenco dei provider di identità che l'utente può scegliere durante la procedura di accesso.</span><span class="sxs-lookup"><span data-stu-id="a2f45-219">This page contains a list of identity providers that the user can choose from during sign-in.</span></span> <span data-ttu-id="a2f45-220">Sono presenti provider di identità aziendali, provider di identità basati su social network, ad esempio Facebook e Google+, o account locali (basati su indirizzo di posta elettronica o nome utente).</span><span class="sxs-lookup"><span data-stu-id="a2f45-220">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="a2f45-221">*api.idpselections.signup*</span><span class="sxs-lookup"><span data-stu-id="a2f45-221">*api.idpselections.signup*</span></span> | <span data-ttu-id="a2f45-222">**Selezione del provider di identità per l'iscrizione**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-222">**Identity provider selection for sign-up**.</span></span> <span data-ttu-id="a2f45-223">Questa pagina contiene un elenco dei provider di identità che l'utente può scegliere durante la procedura di iscrizione.</span><span class="sxs-lookup"><span data-stu-id="a2f45-223">This page contains a list of identity providers that the user can choose from during sign-up.</span></span> <span data-ttu-id="a2f45-224">Sono presenti provider di identità aziendali, provider di identità basati su social network, ad esempio Facebook e Google+, o account locali (basati su indirizzo di posta elettronica o nome utente).</span><span class="sxs-lookup"><span data-stu-id="a2f45-224">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="a2f45-225">*api.localaccountpasswordreset*</span><span class="sxs-lookup"><span data-stu-id="a2f45-225">*api.localaccountpasswordreset*</span></span> | <span data-ttu-id="a2f45-226">**Pagina Password dimenticata**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-226">**Forgot password page**.</span></span> <span data-ttu-id="a2f45-227">Questa pagina contiene un modulo che l'utente deve compilare per avviare la reimpostazione della password.</span><span class="sxs-lookup"><span data-stu-id="a2f45-227">This page contains a form that the user has to fill to initiate their password reset.</span></span>  |
| <span data-ttu-id="a2f45-228">*api.localaccountsignin*</span><span class="sxs-lookup"><span data-stu-id="a2f45-228">*api.localaccountsignin*</span></span> | <span data-ttu-id="a2f45-229">**Pagina di accesso dell'account locale**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-229">**Local account sign-in page**.</span></span> <span data-ttu-id="a2f45-230">Questa pagina contiene un modulo di accesso che l'utente deve compilare per eseguire l'accesso con un account locale basato su indirizzo di posta elettronica o nome utente.</span><span class="sxs-lookup"><span data-stu-id="a2f45-230">This page contains a sign-in form that the user has to fill in when signing in with a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="a2f45-231">Il modulo può contenere una casella di input di testo e una casella di immissione della password.</span><span class="sxs-lookup"><span data-stu-id="a2f45-231">The form can contain a text input box and password entry box.</span></span> |
| <span data-ttu-id="a2f45-232">*api.localaccountsignup*</span><span class="sxs-lookup"><span data-stu-id="a2f45-232">*api.localaccountsignup*</span></span> | <span data-ttu-id="a2f45-233">**Pagina di iscrizione dell'account locale**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-233">**Local account sign-up page**.</span></span> <span data-ttu-id="a2f45-234">Questa pagina contiene un modulo di iscrizione che l'utente deve compilare per eseguire l'iscrizione a un account locale basato su indirizzo di posta elettronica o nome utente.</span><span class="sxs-lookup"><span data-stu-id="a2f45-234">This page contains a sign-up form that the user has to fill in when signing up for a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="a2f45-235">Il modulo può contenere diversi controlli di input, ad esempio caselle per l'immissione di testo, caselle per l'immissione della password, pulsanti di opzione, caselle a discesa a selezione singola e caselle di controllo con selezione multipla.</span><span class="sxs-lookup"><span data-stu-id="a2f45-235">The form can contain different input controls such as text input box, password entry box, radio button, single-select drop-down boxes, and multi-select check boxes.</span></span> |
| <span data-ttu-id="a2f45-236">*api.phonefactor*</span><span class="sxs-lookup"><span data-stu-id="a2f45-236">*api.phonefactor*</span></span> | <span data-ttu-id="a2f45-237">**Pagina dell'autenticazione a più fattori**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-237">**Multi-factor authentication page**.</span></span> <span data-ttu-id="a2f45-238">In questa pagina gli utenti possono verificare il proprio numero di telefono (tramite SMS o chiamata vocale) durante la procedura di iscrizione o di accesso.</span><span class="sxs-lookup"><span data-stu-id="a2f45-238">On this page, users can verify their phone numbers (using text or voice) during sign-up or sign-in.</span></span> |
| <span data-ttu-id="a2f45-239">*api.selfasserted*</span><span class="sxs-lookup"><span data-stu-id="a2f45-239">*api.selfasserted*</span></span> | <span data-ttu-id="a2f45-240">**Pagina di iscrizione dell'account locale**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-240">**Social account sign-up page**.</span></span> <span data-ttu-id="a2f45-241">Questa pagina contiene un modulo di iscrizione che l'utente deve compilare per effettuare l'iscrizione usando un account esistente di un provider di identità basato su social network, ad esempio Facebook o Google+.</span><span class="sxs-lookup"><span data-stu-id="a2f45-241">This page contains a sign-up form that the user has to fill in when signing up using an existing account from a social identity provider such as Facebook or Google+.</span></span> <span data-ttu-id="a2f45-242">Questa pagina è simile alla precedente pagina di iscrizione dell'account locale, a eccezione dei campi di immissione della password.</span><span class="sxs-lookup"><span data-stu-id="a2f45-242">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="a2f45-243">*api.selfasserted.profileupdate*</span><span class="sxs-lookup"><span data-stu-id="a2f45-243">*api.selfasserted.profileupdate*</span></span> | <span data-ttu-id="a2f45-244">**Pagina di aggiornamento del profilo**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-244">**Profile update page**.</span></span> <span data-ttu-id="a2f45-245">Questa pagina contiene un modulo che l'utente può usare per aggiornare il profilo.</span><span class="sxs-lookup"><span data-stu-id="a2f45-245">This page contains a form that the user can use to update their profile.</span></span> <span data-ttu-id="a2f45-246">Questa pagina è simile alla precedente pagina di iscrizione dell'account locale, a eccezione dei campi di immissione della password.</span><span class="sxs-lookup"><span data-stu-id="a2f45-246">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="a2f45-247">*api.signuporsignin*</span><span class="sxs-lookup"><span data-stu-id="a2f45-247">*api.signuporsignin*</span></span> | <span data-ttu-id="a2f45-248">**Pagina unificata per l'iscrizione o l'accesso**.</span><span class="sxs-lookup"><span data-stu-id="a2f45-248">**Unified sign-up or sign-in page**.</span></span>  <span data-ttu-id="a2f45-249">Questa pagina consente di gestire sia l'iscrizione che l'accesso degli utenti, che possono usare provider di identità aziendali, provider di identità basati su social network come Facebook o Google+ o account locali.</span><span class="sxs-lookup"><span data-stu-id="a2f45-249">This page handles both sign-up & sign-in of users, who can use enterprise identity providers, social identity providers such as Facebook or Google+, or local accounts.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a2f45-250">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a2f45-250">Next steps</span></span>
[<span data-ttu-id="a2f45-251">Informazioni di riferimento: conoscere il funzionamento dei criteri personalizzati con il framework di esperienza di gestione delle identità in B2C</span><span class="sxs-lookup"><span data-stu-id="a2f45-251">Reference: Understand how custom policies work with the Identity Experience Framework in B2C</span></span>](active-directory-b2c-reference-custom-policies-understanding-contents.md)
