---
title: Come usare il Controllo di accesso (Java) | Documentazione Microsoft
description: Informazioni su come sviluppare e usare Controllo di accesso con Java in Azure.
services: active-directory
documentationcenter: java
author: rmcmurray
manager: erikre
editor: 
ms.assetid: 247dfd59-0221-4193-97ec-4f3ebe01d3c7
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 04/25/2017
ms.author: robmcm
ms.custom: aaddev
ms.openlocfilehash: 698403d181e1fee09bb4692290c92203ded97ba4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-authenticate-web-users-with-azure-access-control-service-using-eclipse"></a><span data-ttu-id="cf5c4-103">Come autenticare gli utenti Web con il Servizio di controllo di accesso di Azure usando Eclipse</span><span class="sxs-lookup"><span data-stu-id="cf5c4-103">How to Authenticate Web Users with Azure Access Control Service Using Eclipse</span></span>
<span data-ttu-id="cf5c4-104">In questa guida verrà descritto come usare il Servizio di controllo di accesso di Azure (ACS) nel plug-nel Toolkit di Azure per Eclipse.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-104">This guide will show you how to use the Azure Access Control Service (ACS) within the Azure Toolkit for Eclipse.</span></span> <span data-ttu-id="cf5c4-105">Per altre informazioni su ACS, vedere la sezione [Passaggi successivi](#next_steps) .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-105">For more information on ACS, see the [Next steps](#next_steps) section.</span></span>

> [!NOTE]
> <span data-ttu-id="cf5c4-106">Il filtro dei Servizi di controllo di accesso di Azure è una Community Technology Preview.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-106">The Azure Access Services Control Filter is a community technology preview.</span></span> <span data-ttu-id="cf5c4-107">Come versione preliminare, non è formalmente supportata da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-107">As pre-release software, it is not formally supported by Microsoft.</span></span>
> 
> 

## <a name="what-is-acs"></a><span data-ttu-id="cf5c4-108">Informazioni su ACS</span><span class="sxs-lookup"><span data-stu-id="cf5c4-108">What is ACS?</span></span>
<span data-ttu-id="cf5c4-109">La maggior parte degli sviluppatori non ha esperienza nell'ambito delle identità e in genere non desidera dedicare tempo a sviluppare meccanismi di autenticazione e autorizzazione per le applicazioni e i servizi.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-109">Most developers are not identity experts and generally do not want to spend time developing authentication and authorization mechanisms for their applications and services.</span></span> <span data-ttu-id="cf5c4-110">ACS è un servizio di Azure tramite cui viene fornito un metodo semplice per autenticare gli utenti che devono accedere alle applicazioni e ai servizi Web, senza dover includere nel codice una logica di autenticazione complessa.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-110">ACS is an Azure service that provides an easy way of authenticating users who need to access your web applications and services without having to factor complex authentication logic into your code.</span></span>

<span data-ttu-id="cf5c4-111">In ACS sono disponibili le funzionalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-111">The following features are available in ACS:</span></span>

* <span data-ttu-id="cf5c4-112">Integrazione con Windows Identity Foundation (WIF).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-112">Integration with Windows Identity Foundation (WIF).</span></span>
* <span data-ttu-id="cf5c4-113">Supporto per i provider di identità Web più diffusi, tra cui Windows Live ID, Google, Yahoo! e Facebook.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-113">Support for popular web identity providers (IPs) including Windows Live ID, Google, Yahoo!, and Facebook.</span></span>
* <span data-ttu-id="cf5c4-114">Supporto per Active Directory Federation Services (ADFS) 2.0.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-114">Support for Active Directory Federation Services (AD FS) 2.0.</span></span>
* <span data-ttu-id="cf5c4-115">Un servizio di gestione basato sul protocollo OData che offre accesso programmatico alle impostazioni di ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-115">An Open Data Protocol (OData)-based management service that provides programmatic access to ACS settings.</span></span>
* <span data-ttu-id="cf5c4-116">Un portale di gestione che consente l'accesso amministrativo alle impostazioni di ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-116">A Management Portal that allows administrative access to the ACS settings.</span></span>

<span data-ttu-id="cf5c4-117">Per altre informazioni sul servizio di controllo di accesso, vedere [Servizio di controllo di accesso 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="cf5c4-117">For more information about ACS, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

## <a name="concepts"></a><span data-ttu-id="cf5c4-118">Concetti</span><span class="sxs-lookup"><span data-stu-id="cf5c4-118">Concepts</span></span>
<span data-ttu-id="cf5c4-119">Il servizio ACS di Azure usa l'identità basata sulle attestazioni, un approccio coerente alla creazione di meccanismi di autenticazione per le applicazioni in esecuzione locale o nel cloud.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-119">Azure ACS is built on the principals of claims-based identity - a consistent approach to creating authentication mechanisms for applications running on-premises or in the cloud.</span></span> <span data-ttu-id="cf5c4-120">L'identità basata sulle attestazioni offre un metodo comune che le applicazioni e i servizi possono usare per acquisire le informazioni di identità necessarie sugli utenti interni o esterni all'organizzazione oppure su Internet.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-120">Claims-based identity provides a common way for applications and services to acquire the identity information they need about users inside their organization, in other organizations, and on the Internet.</span></span>

<span data-ttu-id="cf5c4-121">Per completare le attività in questa guida è necessario comprendere i concetti illustrati di seguito:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-121">To complete the tasks in this guide, you should understand the following concepts:</span></span>

<span data-ttu-id="cf5c4-122">**Client** : nel contesto di questa guida alle procedure si tratta di un browser che tenta di ottenere l'accesso a un'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-122">**Client** - In the context of this how-to guide, this is a browser that is attempting to gain access to your web application.</span></span>

<span data-ttu-id="cf5c4-123">**Applicazione relying party (RP)** : un'applicazione relying party è un sito Web o un servizio che affida l'autenticazione a un'autorità esterna.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-123">**Relying party (RP) application** - An RP application is a website or service that outsources authentication to one external authority.</span></span> <span data-ttu-id="cf5c4-124">In gergo tecnico, si dice che considera attendibile tale autorità.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-124">In identity jargon, we say that the RP trusts that authority.</span></span> <span data-ttu-id="cf5c4-125">In questa guida viene illustrato come configurare un'applicazione per considerare attendibile ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-125">This guide explains how to configure your application to trust ACS.</span></span>

<span data-ttu-id="cf5c4-126">**Token** : un token è una raccolta di dati di sicurezza rilasciata quando un utente viene autenticato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-126">**Token** - A token is a collection of security data that is usually issued upon successful authentication of a user.</span></span> <span data-ttu-id="cf5c4-127">Contiene un set di *attestazioni*, attributi dell'utente autenticato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-127">It contains a set of *claims*, attributes of the authenticated user.</span></span> <span data-ttu-id="cf5c4-128">Un'attestazione può corrispondere al nome dell'utente, a un identificatore del ruolo svolto dall'utente, alla sua età e così via.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-128">A claim can represent a user's name, an identifier for a role a user belongs to, a user's age, and so on.</span></span> <span data-ttu-id="cf5c4-129">I token sono di norma firmati digitalmente, pertanto è sempre possibile risalire all'emittente e non è possibile alterarne il contenuto.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-129">A token is usually digitally signed, which means it can always be sourced back to its issuer, and its content cannot be tampered with.</span></span> <span data-ttu-id="cf5c4-130">Un utente ottiene accesso a un'applicazione relying party presentando un token valido, rilasciato da un'autorità che l'applicazione RP considera attendibile.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-130">A user gains access to a RP application by presenting a valid token issued by an authority that the RP application trusts.</span></span>

<span data-ttu-id="cf5c4-131">**Provider di identità (IP)** : un provider di identità è un'autorità che autentica le identità degli utenti e rilascia token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-131">**Identity Provider (IP)** - An IP is an authority that authenticates user identities and issues security tokens.</span></span> <span data-ttu-id="cf5c4-132">L'effettivo rilascio di token è implementato tramite un servizio speciale denominato Servizio token di sicurezza (STS).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-132">The actual work of issuing tokens is implemented though a special service called Security Token Service (STS).</span></span> <span data-ttu-id="cf5c4-133">Esempi tipici di provider di identità comprendono Windows Live ID, Facebook, archivi di utenti business (come Active Directory) e così via.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-133">Typical examples of IPs include Windows Live ID, Facebook, business user repositories (like Active Directory), and so on.</span></span>
<span data-ttu-id="cf5c4-134">Quando ACS viene configurato in modo da considerare attendibile un provider di identità, il sistema accetta e convalida i token rilasciati da tale provider.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-134">When ACS is configured to trust an IP, the system will accept and validate tokens issued by that IP.</span></span> <span data-ttu-id="cf5c4-135">ACS può considerare attendibili più provider di identità contemporaneamente, quindi se un'applicazione considera attendibile ACS è possibile consentire agli utenti di eseguire l'autenticazione tramite uno qualsiasi degli IP considerati attendibili da ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-135">ACS can trust multiple IPs at once, which means that when your application trusts ACS, you can instantly offer your application to all the authenticated users from all the IPs that ACS trusts on your behalf.</span></span>

<span data-ttu-id="cf5c4-136">**Provider di federazione (FP)** : i provider di identità (IP) hanno una conoscenza diretta degli utenti, li autenticano usando le relative credenziali e rilasciano attestazioni sulle informazioni disponibili sugli utenti.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-136">**Federation Provider (FP)** - IPs have direct knowledge of users, and authenticate them using their credentials and issue claims about what they know about them.</span></span> <span data-ttu-id="cf5c4-137">Un provider di federazione è un'autorità di tipo diverso, in quanto anziché autenticare gli utenti direttamente, funge da intermediario di autenticazione tra una relying party e uno o più indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-137">A Federation Provider (FP) is a different kind of authority: rather than authenticating users directly, it acts as an intermediary and brokers authentication between one RP and one or more IPs.</span></span> <span data-ttu-id="cf5c4-138">Provider di identità e provider di federazione rilasciano token di sicurezza, quindi usano entrambi il Servizio token di sicurezza (STS).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-138">Both IPs and FPs issue security tokens, hence they both use Security Token Services (STS).</span></span> <span data-ttu-id="cf5c4-139">ACS è un provider di federazione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-139">ACS is one FP.</span></span>

<span data-ttu-id="cf5c4-140">**Motore di regole ACS** : la logica adottata per trasformare i token in ingresso da IP attendibili a token destinati all'utilizzo da parte dell'applicazione relying party è codificata sotto forma di semplici regole di trasformazione delle attestazioni.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-140">**ACS Rule Engine** - The logic used to transform incoming tokens from trusted IPs to tokens meant to be consumed by the RP is codified in form of simple claims transformation rules.</span></span> <span data-ttu-id="cf5c4-141">ACS è dotato di un motore di regole che applica qualsiasi logica di trasformazione specificata per la relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-141">ACS features a rule engine that takes care of applying whatever transformation logic you specified for your RP.</span></span>

<span data-ttu-id="cf5c4-142">**Spazio dei nomi ACS** : lo spazio dei nomi costituisce la partizione di primo livello di ACS da usare per organizzare le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-142">**ACS Namespace** - A namespace is a top level partition of ACS that you use for organizing your settings.</span></span> <span data-ttu-id="cf5c4-143">Lo spazio dei nomi contiene un elenco di provider di identità attendibili, le applicazioni RP da servire, le regole con cui il motore delle regole elaborerà i token in arrivo e così via.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-143">A namespace holds a list of IPs you trust, the RP applications you want to serve, the rules that you expect the rule engine to process incoming tokens with, and so on.</span></span> <span data-ttu-id="cf5c4-144">Lo spazio dei nomi espone vari endpoint che verranno usati dall'applicazione e dallo sviluppatore affinché ACS svolga la sua funzione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-144">A namespace exposes various endpoints that will be used by the application and the developer to get ACS to perform its function.</span></span>

<span data-ttu-id="cf5c4-145">Nella figura seguente viene illustrato il funzionamento dell'autenticazione ACS con un'applicazione Web:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-145">The following figure shows how ACS authentication works with a web application:</span></span>

![Diagramma di flusso di ACS][acs_flow]

1. <span data-ttu-id="cf5c4-147">Il client, in questo caso un browser, richiede una pagina dalla relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-147">The client (in this case a browser) requests a page from the RP.</span></span>
2. <span data-ttu-id="cf5c4-148">Poiché la richiesta non è stata ancora autenticata, l'applicazione RP reindirizza l'utente all'autorità che considera attendibile, ovvero ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-148">Since the request is not yet authenticated, the RP redirects the user to the authority that it trusts, which is ACS.</span></span> <span data-ttu-id="cf5c4-149">ACS presenta all'utente l'elenco dei provider di identità specificati per questa applicazione RP.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-149">The ACS presents the user with the choice of IPs that were specified for this RP.</span></span> <span data-ttu-id="cf5c4-150">L'utente seleziona il provider di identità appropriato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-150">The user selects the appropriate IP.</span></span>
3. <span data-ttu-id="cf5c4-151">Il client passa alla pagina di autenticazione del provider di identità e chiede all'utente di eseguire l'accesso.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-151">The client browses to the IP's authentication page, and prompts the user to log on.</span></span>
4. <span data-ttu-id="cf5c4-152">Dopo l'autenticazione del client, ad esempio dopo l'immissione delle credenziali di identità, il provider di identità rilascia un token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-152">After the client is authenticated (for example, the identity credentials are entered), the IP issues a security token.</span></span>
5. <span data-ttu-id="cf5c4-153">Dopo il rilascio del token di sicurezza, il provider di identità reindirizza il client ad ACS e il client invia ad ACS il token di sicurezza rilasciato dal provider di identità.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-153">After issuing a security token, the IP redirects the client to ACS and the client sends the security token issued by the IP to ACS.</span></span>
6. <span data-ttu-id="cf5c4-154">ACS convalida il token di sicurezza rilasciato dal provider di identità, inserisce le attestazioni di identità contenute nel motore regole ACS, calcola le attestazioni di identità di output e rilascia un nuovo token di sicurezza che contiene tali attestazioni di identità di output.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-154">ACS validates the security token issued by the IP, inputs the identity claims in this token into the ACS rules engine, calculates the output identity claims, and issues a new security token that contains these output claims.</span></span>
7. <span data-ttu-id="cf5c4-155">ACS reindirizza il client all'applicazione RP.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-155">ACS redirects the client to the RP.</span></span> <span data-ttu-id="cf5c4-156">Il client invia il nuovo token di sicurezza rilasciato da ACS all'applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-156">The client sends the new security token issued by ACS to the RP.</span></span> <span data-ttu-id="cf5c4-157">L'applicazione relying party convalida la firma nel token di sicurezza rilasciato da ACS, convalida le attestazioni contenute nel token e restituisce la pagina richiesta.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-157">The RP validates the signature on the security token issued by ACS, validates the claims in this token, and returns the page that was originally requested.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="cf5c4-158">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="cf5c4-158">Prerequisites</span></span>
<span data-ttu-id="cf5c4-159">Per completare le attività in questa guida è necessario quanto segue:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-159">To complete the tasks in this guide, you will need the following:</span></span>

* <span data-ttu-id="cf5c4-160">Java Developer Kit (JDK) v 1.6 o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-160">A Java Developer Kit (JDK), v 1.6 or later.</span></span>
* <span data-ttu-id="cf5c4-161">IDE Eclipse per sviluppatori Java EE, Indigo o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-161">Eclipse IDE for Java EE Developers, Indigo or later.</span></span> <span data-ttu-id="cf5c4-162">È possibile scaricare il pacchetto all'indirizzo <http://www.eclipse.org/downloads/>.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-162">This can be downloaded from <http://www.eclipse.org/downloads/>.</span></span> 
* <span data-ttu-id="cf5c4-163">La distribuzione di un server Web basato su Java o un server applicazioni, come Apache Tomcat, GlassFish, JBoss Application Server o Jetty.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-163">A distribution of a Java-based web server or application server, such as Apache Tomcat, GlassFish, JBoss Application Server, or Jetty.</span></span>
* <span data-ttu-id="cf5c4-164">Una sottoscrizione di Azure, che può essere ottenuta all'indirizzo <http://www.microsoft.com/windowsazure/offers/>.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-164">an Azure subscription, which can be acquired from <http://www.microsoft.com/windowsazure/offers/>.</span></span>
* <span data-ttu-id="cf5c4-165">Il Toolkit di Azure per Eclipse, versione di aprile 2014 o successive.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-165">The Azure Toolkit for Eclipse, April 2014 release or later.</span></span> <span data-ttu-id="cf5c4-166">Per altre informazioni, vedere [Installazione di Azure Toolkit per Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-166">For more information, see [Installing the Azure Toolkit for Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span></span>
* <span data-ttu-id="cf5c4-167">Un certificato X.509 da usare con l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-167">An X.509 certificate to use with your application.</span></span> <span data-ttu-id="cf5c4-168">Questo certificato è necessario in entrambi i formati di certificato pubblico (.cer) e certificato di scambio di informazioni personali (.PFX).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-168">You will need this certificate in both public certificate (.cer) and Personal Information Exchange (.PFX) format.</span></span> <span data-ttu-id="cf5c4-169">Le opzioni per la creazione di questo certificato verranno descritte più avanti in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-169">(Options for creating this certificate will be described later in this tutorial).</span></span>
* <span data-ttu-id="cf5c4-170">Familiarità con l'emulatore di calcolo di Azure e le tecniche di distribuzione illustrate in [Creazione di un'applicazione Hello World per Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-170">Familiarity with the Azure compute emulator and deployment techniques discussed at [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span></span>

## <a name="create-an-acs-namespace"></a><span data-ttu-id="cf5c4-171">Creare uno spazio dei nomi ACS</span><span class="sxs-lookup"><span data-stu-id="cf5c4-171">Create an ACS Namespace</span></span>
<span data-ttu-id="cf5c4-172">Per iniziare a usare il Servizio di controllo di accesso (ACS) in Azure, è necessario creare uno spazio dei nomi ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-172">To begin using Access Control Service (ACS) in Azure, you must create an ACS namespace.</span></span> <span data-ttu-id="cf5c4-173">Lo spazio dei nomi offre un ambito univoco per fare riferimento alle risorse di ACS dall'interno dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-173">The namespace provides a unique scope for addressing ACS resources from within your application.</span></span>

1. <span data-ttu-id="cf5c4-174">Accedere al [portale di gestione di Azure][Azure Management Portal].</span><span class="sxs-lookup"><span data-stu-id="cf5c4-174">Log into the [Azure Management Portal][Azure Management Portal].</span></span>
2. <span data-ttu-id="cf5c4-175">Fare clic su **Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-175">Click **Active Directory**.</span></span> 
3. <span data-ttu-id="cf5c4-176">Per creare un nuovo spazio dei nomi di Controllo di accesso, fare clic su **Nuovo**, **Servizi app**, **Controllo di accesso** e quindi su **Creazione rapida**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-176">To create a new Access Control namespace, click **New**, click **App Services**, click **Access Control**, and then click **Quick Create**.</span></span> 
4. <span data-ttu-id="cf5c4-177">Immettere un nome per lo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-177">Enter a name for the namespace.</span></span> <span data-ttu-id="cf5c4-178">Azure verificherà che il nome sia univoco.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-178">Azure verifies that the name is unique.</span></span>
5. <span data-ttu-id="cf5c4-179">Selezionare l'area in cui viene usato lo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-179">Select the region in which the namespace is used.</span></span> <span data-ttu-id="cf5c4-180">Per prestazioni ottimali, usare l'area in cui si sta distribuendo l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-180">For the best performance, use the region in which you are deploying your application.</span></span>
6. <span data-ttu-id="cf5c4-181">Se sono disponibili più sottoscrizioni, selezionare quella che si vuole usare per lo spazio dei nomi ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-181">If you have more than one subscription, select the subscription that you want to use for the ACS namespace.</span></span>
7. <span data-ttu-id="cf5c4-182">Fare clic su **Create**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-182">Click **Create**.</span></span>

<span data-ttu-id="cf5c4-183">Azure creerà e attiverà lo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-183">Azure creates and activates the namespace.</span></span> <span data-ttu-id="cf5c4-184">Prima di continuare, attendere che lo stato del nuovo spazio dei nomi sia **Active** .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-184">Wait until the status of the new namespace is **Active** before continuing.</span></span> 

## <a name="add-identity-providers"></a><span data-ttu-id="cf5c4-185">Aggiunta di un provider di identità</span><span class="sxs-lookup"><span data-stu-id="cf5c4-185">Add identity providers</span></span>
<span data-ttu-id="cf5c4-186">In questa attività si aggiungeranno provider di identità da usare con l'applicazione relying party per l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-186">In this task, you add IPs to use with your RP application for authentication.</span></span> <span data-ttu-id="cf5c4-187">A scopo dimostrativo, questa attività illustra come aggiungere Windows Live come provider di identità, ma è possibile usare uno qualsiasi dei provider di identità elencati nel portale di gestione ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-187">For demonstration purposes, this task shows how to add Windows Live as an IP, but you could use any of the IPs listed in the ACS Management Portal.</span></span>

1. <span data-ttu-id="cf5c4-188">Nel [portale di gestione di Azure][Azure Management Portal] fare clic su **Active Directory**, scegliere uno spazio dei nomi di Controllo di accesso e quindi fare clic su **Gestisci**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-188">In the [Azure Management Portal][Azure Management Portal], click **Active Directory**, select an Access Control namespace, and then click **Manage**.</span></span> <span data-ttu-id="cf5c4-189">Verrà visualizzato il portale di gestione ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-189">The ACS Management Portal opens.</span></span>
2. <span data-ttu-id="cf5c4-190">Nel riquadro di spostamento sinistro del portale di gestione ACS fare clic su **Identity providers**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-190">In the left navigation pane of the ACS Management Portal, click **Identity providers**.</span></span>
3. <span data-ttu-id="cf5c4-191">Windows Live ID è abilitato per impostazione predefinita e non può essere eliminato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-191">Windows Live ID is enabled by default, and cannot be deleted.</span></span> <span data-ttu-id="cf5c4-192">Ai fini di questa esercitazione, verrà usato solo Windows Live ID.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-192">For purposes of this tutorial, only Windows Live ID is used.</span></span> <span data-ttu-id="cf5c4-193">In questa schermata è tuttavia possibile aggiungere altri provider di identità, facendo clic sul pulsante **Add** .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-193">This screen, however, is where you could add other IPs, by clicking the **Add** button.</span></span>

<span data-ttu-id="cf5c4-194">Windows Live ID è abilitato come provider di identità per lo spazio dei nomi ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-194">Windows Live ID is now enabled as an IP for your ACS namespace.</span></span> <span data-ttu-id="cf5c4-195">Nel passaggio successivo verrà specificata l'applicazione Web Java (che verrà creata in seguito) come applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-195">Next, you specify your Java web application (to be created later) as an RP.</span></span>

## <a name="add-a-relying-party-application"></a><span data-ttu-id="cf5c4-196">Aggiungere un'applicazione relying party</span><span class="sxs-lookup"><span data-stu-id="cf5c4-196">Add a relying party application</span></span>
<span data-ttu-id="cf5c4-197">In questa attività, ACS verrà configurato affinché riconosca l'applicazione Web Java come applicazione relying party valida.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-197">In this task, you configure ACS to recognize your Java web application as a valid RP application.</span></span>

1. <span data-ttu-id="cf5c4-198">Nel portale di gestione ACS fare clic su **Relying party applications**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-198">On the ACS Management Portal, click **Relying party applications**.</span></span>
2. <span data-ttu-id="cf5c4-199">Nella pagina **Relying Party Applications** (Applicazioni relying party) fare clic su **Add** (Aggiungi).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-199">On the **Relying Party Applications** page, click **Add**.</span></span>
3. <span data-ttu-id="cf5c4-200">Nella pagina **Add Relying Party Application** eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-200">On the **Add Relying Party Application** page, do the following:</span></span>
   
   1. <span data-ttu-id="cf5c4-201">Nel campo **Name**digitare il nome dell'applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-201">In **Name**, type the name of the RP.</span></span> <span data-ttu-id="cf5c4-202">Ai fini di questa esercitazione, digitare **Azure Web App**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-202">For purposes of this tutorial, type **Azure Web App**.</span></span>
   2. <span data-ttu-id="cf5c4-203">In **Mode** (Modalità) selezionare **Enter settings manually** (Immettere le informazioni manualmente).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-203">In **Mode**, select **Enter settings manually**.</span></span>
   3. <span data-ttu-id="cf5c4-204">In **Realm**digitare l'URI cui si riferisce il token di sicurezza rilasciato da ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-204">In **Realm**, type the URI to which the security token issued by ACS applies.</span></span> <span data-ttu-id="cf5c4-205">Per questa attività digitare **http://localhost:8080/**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-205">For this task, type **http://localhost:8080/**.</span></span>
      <span data-ttu-id="cf5c4-206">![Area di autenticazione dell'applicazione relying party nell'emulatore di calcolo][relying_party_realm_emulator]</span><span class="sxs-lookup"><span data-stu-id="cf5c4-206">![Relying party realm for use in compute emulator][relying_party_realm_emulator]</span></span>
   4. <span data-ttu-id="cf5c4-207">In **Return URL** digitare l'URL a cui ACS restituisce il token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-207">In **Return URL,** type the URL to which ACS returns the security token.</span></span> <span data-ttu-id="cf5c4-208">Per questa attività, digitare **http://localhost:8080/MyACSHelloWorld/index.jsp**
      ![URL restituito dell'applicazione relying party nell'emulatore di calcolo][relying_party_return_url_emulator]</span><span class="sxs-lookup"><span data-stu-id="cf5c4-208">For this task, type **http://localhost:8080/MyACSHelloWorld/index.jsp**
![Relying party return URL for use in compute emulator][relying_party_return_url_emulator]</span></span>
   5. <span data-ttu-id="cf5c4-209">Accettare i valori predefiniti nei campi rimanenti.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-209">Accept the default values in the rest of the fields.</span></span>
4. <span data-ttu-id="cf5c4-210">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-210">Click **Save**.</span></span>

<span data-ttu-id="cf5c4-211">L'applicazione Web Java è configurata correttamente quando viene eseguita nell'emulatore di calcolo di Azure (all'indirizzo http://localhost:8080/) e costituisce un'applicazione relying party nello spazio dei nomi ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-211">You have now successfully configured your Java web application when it is run in the Azure compute emulator (at http://localhost:8080/) to be an RP in your ACS namespace.</span></span> <span data-ttu-id="cf5c4-212">Il passaggio successivo prevede la creazione di regole usate da ACS per elaborare attestazioni per l'applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-212">Next, create the rules that ACS uses to process claims for the RP.</span></span>

## <a name="create-rules"></a><span data-ttu-id="cf5c4-213">Creazione di regole</span><span class="sxs-lookup"><span data-stu-id="cf5c4-213">Create rules</span></span>
<span data-ttu-id="cf5c4-214">In questa attività verranno definite le regole in base alle quali le attestazioni vengono passate dai provider di identità all'applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-214">In this task, you define the rules that drive how claims are passed from IPs to your RP.</span></span> <span data-ttu-id="cf5c4-215">Ai fini di questa guida, ACS verrà semplicemente configurato per copiare i tipi di attestazione e i valori in ingresso direttamente nella categoria token di output senza filtrarli o modificarli.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-215">For the purpose of this guide, we will simply configure ACS to copy the input claim types and values directly in the output token, without filtering or modifying them.</span></span>

1. <span data-ttu-id="cf5c4-216">Nella pagina principale del portale di gestione ACS fare clic su **Rule groups**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-216">On the ACS Management Portal main page, click **Rule groups**.</span></span>
2. <span data-ttu-id="cf5c4-217">Nella pagina **Rule groups** (Gruppi di regole) fare clic su **Default Rule Group for Azure Web App** (Gruppo di regole predefinito per app Web di Azure).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-217">On the **Rule Groups** page, click **Default Rule Group for Azure Web App**.</span></span>
3. <span data-ttu-id="cf5c4-218">Nella pagina **Edit Rule Group** (Modifica gruppo di regole) fare clic su **Generate** (Genera).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-218">On the **Edit Rule Group** page, click **Generate**.</span></span>
4. <span data-ttu-id="cf5c4-219">Nella pagina **Generate Rules: Default Rule Group for Azure Web App** (Generazione regole: gruppo di regole predefinito per app Web di Azure) assicurarsi che l'opzione Windows Live ID sia selezionata e quindi fare clic su **Generate** (Genera).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-219">On the **Generate Rules: Default Rule Group for Azure Web App** page, ensure Windows Live ID is checked and then click **Generate**.</span></span>    
5. <span data-ttu-id="cf5c4-220">Nella pagina **Edit Rule Group** (Modifica gruppo di regole) fare clic su **Save** (Salva).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-220">On the **Edit Rule Group** page, click **Save**.</span></span>

## <a name="upload-a-certificate-to-your-acs-namespace"></a><span data-ttu-id="cf5c4-221">Caricamento di un certificato nello spazio dei nomi ACS</span><span class="sxs-lookup"><span data-stu-id="cf5c4-221">Upload a certificate to your ACS namespace</span></span>
<span data-ttu-id="cf5c4-222">In questa attività verrà caricato un certificato .PFX che verrà utilizzato per firmare le richieste di token create dallo spazio dei nomi ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-222">In this task, you upload a .PFX certificate that will be used to sign token requests created by your ACS namespace.</span></span>

1. <span data-ttu-id="cf5c4-223">Nella pagina principale del portale di gestione ACS fare clic su **Certificates and keys**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-223">On the ACS Management Portal main page, click **Certificates and keys**.</span></span>
2. <span data-ttu-id="cf5c4-224">Nella pagina **Certificates and keys** (Chiavi e certificati) fare clic su **Add** (Aggiungi) sopra **Token Signing** (Firma di token).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-224">On the **Certificates and Keys** page, click **Add** above **Token Signing**.</span></span>
3. <span data-ttu-id="cf5c4-225">Nella pagina **Add Token-Signing Certificate or Key** :</span><span class="sxs-lookup"><span data-stu-id="cf5c4-225">On the **Add Token-Signing Certificate or Key** page:</span></span>
   1. <span data-ttu-id="cf5c4-226">Nella sezione **Used for** (Usato per) fare clic su **Relying Party Application** (Applicazione relying party) e selezionare **Azure Web App** (App Web di Azure), impostato in precedenza come nome dell'applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-226">In the **Used for** section, click **Relying Party Application** and select **Azure Web App** (which you previously set as the name of your relying party application).</span></span>
   2. <span data-ttu-id="cf5c4-227">Nella sezione **Type** (Tipo) selezionare **X.509 Certificate** (Certificato X.509).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-227">In the **Type** section, select **X.509 Certificate**.</span></span>
   3. <span data-ttu-id="cf5c4-228">Nella sezione **Certificate** fare clic sul pulsante Browse e passare al file del certificato X.509 che si intende usare.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-228">In the **Certificate** section, click the browse button and navigate to the X.509 certificate file that you want to use.</span></span> <span data-ttu-id="cf5c4-229">Si tratta di un file .PFX.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-229">This will be a .PFX file.</span></span> <span data-ttu-id="cf5c4-230">Selezionare il file, fare clic su **Open** (Apri) e quindi immettere la password del certificato nella casella di testo **Password**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-230">Select the file, click **Open**,  and then enter the certificate password in the **Password** text box.</span></span> <span data-ttu-id="cf5c4-231">Si noti che a fini di test è possibile utilizzare un certificato autofirmato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-231">Note that for testing purposes, you may use a self-signed-certificate.</span></span> <span data-ttu-id="cf5c4-232">Per creare un certificato autofirmato, fare clic sul pulsante **New** (Nuovo) nella finestra di dialogo **ACS Filter Library** (Libreria di filtri ACS) illustrata più avanti oppure usare l'utilità **encutil.exe** dal [sito Web del progetto][project website] di Azure Starter Kit per Java.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-232">To create a self-signed certificate, use the **New** button in the **ACS Filter Library** dialog (described later), or use the **encutil.exe** utility from the [project website][project website] of the Azure Starter Kit for Java.</span></span>
   4. <span data-ttu-id="cf5c4-233">Assicurarsi che **Make Primary** sia selezionato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-233">Ensure that **Make Primary** is checked.</span></span> <span data-ttu-id="cf5c4-234">La pagina **Add Token-Signing Certificate or Key** dovrebbe essere simile alla seguente.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-234">Your **Add Token-Signing Certificate or Key** page should look similar to the following.</span></span>
       <span data-ttu-id="cf5c4-235">![Aggiungere un certificato di firma di token][add_token_signing_cert]</span><span class="sxs-lookup"><span data-stu-id="cf5c4-235">![Add token-signing certificate][add_token_signing_cert]</span></span>
   5. <span data-ttu-id="cf5c4-236">Fare clic su **Save** (Salva) per salvare le impostazioni e chiudere la pagina **Add Token-Signing Certificate or Key** (Aggiungi certificato o chiave di firma token).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-236">Click **Save** to save your settings and close the **Add Token-Signing Certificate or Key** page.</span></span>

<span data-ttu-id="cf5c4-237">A questo punto, rivedere le informazioni nella pagina di integrazione applicazioni e copiare l'URI necessario per configurare l'applicazione Web Java per l'uso di ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-237">Next, review the information in the Application Integration page and copy the URI that you will need to configure your Java web application to use ACS.</span></span>

## <a name="review-the-application-integration-page"></a><span data-ttu-id="cf5c4-238">Rivedere la pagina di integrazione applicazioni</span><span class="sxs-lookup"><span data-stu-id="cf5c4-238">Review the Application Integration page</span></span>
<span data-ttu-id="cf5c4-239">Nella pagina di integrazione applicazioni del portale di gestione ACS è possibile trovare tutte le informazioni e il codice necessario per configurare l'applicazione Web Java (applicazione relying party) in modo che funzioni con ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-239">You can find all the information and the code necessary to configure your Java web application (the RP application) to work with ACS on the Application Integration page of the ACS Management Portal.</span></span> <span data-ttu-id="cf5c4-240">Queste informazioni sono necessarie per la configurazione dell'applicazione Web Java per l'autenticazione federata.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-240">You will need this information when configuring your Java web application for federated authentication.</span></span>

1. <span data-ttu-id="cf5c4-241">Nel portale di gestione ACS fare clic su **Application integration**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-241">On the ACS Management Portal, click **Application integration**.</span></span>  
2. <span data-ttu-id="cf5c4-242">Nella pagina **Application Integration** (Integrazione applicazioni) fare clic su **Login Pages** (Pagine di accesso).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-242">In the **Application Integration** page, click **Login Pages**.</span></span>
3. <span data-ttu-id="cf5c4-243">Nella pagina **Login Page Integration** (Integrazione pagine di accesso) fare clic su **Azure Web App** (App Web di Azure).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-243">In the **Login Page Integration** page, click **Azure Web App**.</span></span>

<span data-ttu-id="cf5c4-244">Nella pagina **Login Page Integration: Azure Web App** (Integrazione pagine di accesso: App Web di Azure), per l'applicazione Web Java verrà usato l'URL visualizzato in **Option 1: Link to an ACS-hosted login page** (Opzione 1: Collegamento a una pagina di accesso ospitata in ACS).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-244">In the **Login Page Integration: Azure Web App** page, the URL listed in **Option 1: Link to an ACS-hosted login page** will be used in your Java web application.</span></span> <span data-ttu-id="cf5c4-245">Questo valore è necessario per aggiungere la libreria dei filtri dei Servizi di controllo di accesso di Azure all'applicazione Java.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-245">You will need this value when you add the Azure Access Control Services Filter library to your Java application.</span></span>

## <a name="create-a-java-web-application"></a><span data-ttu-id="cf5c4-246">Creazione di un'applicazione Web Java</span><span class="sxs-lookup"><span data-stu-id="cf5c4-246">Create a Java web application</span></span>
1. <span data-ttu-id="cf5c4-247">Nel menu di Eclipse fare clic su **File**, **New** (Nuovo) e quindi su **Dynamic Web Project** (Progetto Web dinamico).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-247">Within Eclipse, at the menu click **File**, click **New**, and then click **Dynamic Web Project**.</span></span> <span data-ttu-id="cf5c4-248">Se **Dynamic Web Project** (Progetto Web dinamico) non è elencato tra i progetti disponibili dopo aver fatto clic su **File**, **New** (Nuovo), fare clic su **File**, **New** (Nuovo), **Project** (Progetto), espandere **Web**, fare clic su **Dynamic Web Project** (Progetto Web dinamico) e su **Next** (Avanti). Ai fini di questa esercitazione, denominare il progetto **MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-248">(If you don't see **Dynamic Web Project** listed as an available project after clicking **File**, **New**, then do the following: click **File**, click **New**, click **Project**, expand **Web**, click **Dynamic Web Project**, and click **Next**.) For purposes of this tutorial, name the project **MyACSHelloWorld**.</span></span> <span data-ttu-id="cf5c4-249">Assicurarsi di usare questo nome, poiché i passaggi successivi dell'esercitazione prevedono che il file WAR sia denominato MyACSHelloWorld.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-249">(Ensure you use this name, subsequent steps in this tutorial expect your WAR file to be named MyACSHelloWorld).</span></span> <span data-ttu-id="cf5c4-250">L'aspetto della schermata sarà simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-250">Your screen will appear similar to the following:</span></span>
   
    ![Creazione di un progetto Hello World a titolo di esempio per ACS][create_acs_hello_world]
   
    <span data-ttu-id="cf5c4-252">Fare clic su **Finish**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-252">Click **Finish**.</span></span>
2. <span data-ttu-id="cf5c4-253">Nella visualizzazione Project Explorer di Eclipse espandere **MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-253">Within Eclipse's Project Explorer view, expand **MyACSHelloWorld**.</span></span> <span data-ttu-id="cf5c4-254">Fare clic con il pulsante destro del mouse su **WebContent**, scegliere **New** e quindi fare clic su **JSP File**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-254">Right-click **WebContent**, click **New**, and then click **JSP File**.</span></span>
3. <span data-ttu-id="cf5c4-255">Nella finestra di dialogo **New JSP File** (Nuovo file JSP) assegnare al file il nome **index.jsp**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-255">In the **New JSP File** dialog, name the file **index.jsp**.</span></span> <span data-ttu-id="cf5c4-256">Mantenere il nome MyACSHelloWorld/WebContent per la cartella padre, come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-256">Keep the parent folder as MyACSHelloWorld/WebContent, as shown in the following:</span></span>
   
    ![Aggiunta di un file JSP a titolo di esempio per ACS][add_jsp_file_acs]
   
    <span data-ttu-id="cf5c4-258">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-258">Click **Next**.</span></span>
4. <span data-ttu-id="cf5c4-259">Nella finestra di dialogo **Select JSP Template** (Seleziona modello JSP) selezionare **New JSP File (html)** (Nuovo file JSP (html)) e fare clic su **Finish** (Fine).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-259">In the **Select JSP Template** dialog, select **New JSP File (html)** and click **Finish**.</span></span>
5. <span data-ttu-id="cf5c4-260">Quando in Eclipse viene aperto il file index.jsp, aggiungere il testo in modo da visualizzare **Hello ACS World!**</span><span class="sxs-lookup"><span data-stu-id="cf5c4-260">When the index.jsp file opens in Eclipse, add in text to display **Hello ACS World!**</span></span> <span data-ttu-id="cf5c4-261">all'interno dell'elemento `<body>` esistente.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-261">within the existing `<body>` element.</span></span> <span data-ttu-id="cf5c4-262">Il contenuto `<body>` aggiornato risulterà simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-262">Your updated `<body>` content should appear as the following:</span></span>
   
        <body>
          <b><% out.println("Hello ACS World!"); %></b>
        </body>
   
    <span data-ttu-id="cf5c4-263">Salvare index.jsp.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-263">Save index.jsp.</span></span>

## <a name="add-the-acs-filter-library-to-your-application"></a><span data-ttu-id="cf5c4-264">Aggiungere una libreria di filtri ACS all'applicazione</span><span class="sxs-lookup"><span data-stu-id="cf5c4-264">Add the ACS Filter library to your application</span></span>
1. <span data-ttu-id="cf5c4-265">In Project Explorer di Eclipse fare clic con il pulsante destro del mouse su **MyACSHelloWorld**, scegliere **Build Path** (Percorso di compilazione) e quindi fare clic su **Configure Build Path** (Configura il percorso di compilazione).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-265">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
2. <span data-ttu-id="cf5c4-266">Nella finestra di dialogo **Java Build Path** (Percorso compilazione Java) fare clic sulla scheda **Libraries** (Librerie).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-266">In the **Java Build Path** dialog, click the **Libraries** tab.</span></span>
3. <span data-ttu-id="cf5c4-267">Fare clic su **Add Library**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-267">Click **Add Library**.</span></span>
4. <span data-ttu-id="cf5c4-268">Fare clic su **Azure Access Control Services Filter (by MS Open Tech)** (Filtro servizi di controllo di accesso di Azure - di MS Open Tech) e quindi su **Next** (Avanti).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-268">Click **Azure Access Control Services Filter (by MS Open Tech)** and then click **Next**.</span></span> <span data-ttu-id="cf5c4-269">Verrà visualizzata la finestra di dialogo **Azure Access Control Services Filter** .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-269">The **Azure Access Control Services Filter** dialog is displayed.</span></span>  <span data-ttu-id="cf5c4-270">Il campo **Location** può avere un percorso diverso, a seconda del percorso in cui è stato installato Eclipse e il numero della versione potrebbe variare a seconda degli aggiornamenti del software.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-270">(The **Location** field may have a different path, depending on where you installed Eclipse, and the version number could be different, depending on software updates.)</span></span>
   
    ![Aggiunta di una libreria di filtri ACS][add_acs_filter_lib]
5. <span data-ttu-id="cf5c4-272">Con il browser aperto alla pagina **Login Page Integration** (Integrazione pagine di accesso) del portale di gestione, copiare l'URL riportato nel campo **Option 1: Link to an ACS-hosted login page** (Opzione 1: Collegamento a una pagina di accesso ospitata in ACS) e incollarlo nel campo **ACS Authentication Endpoint** (Endpoint di autenticazione ACS) della finestra di dialogo di Eclipse.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-272">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
6. <span data-ttu-id="cf5c4-273">Con il browser aperto alla pagina **Edit Relying Party Application** (Modifica applicazione relying party) del portale di gestione, copiare l'URL riportato nel campo **Realm** (Area autenticazione) e incollarlo nel campo **Relying Party Realm** (Area autenticazione relying party) della finestra di dialogo di Eclipse.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-273">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
7. <span data-ttu-id="cf5c4-274">Per usare un certificato esistente, nella sezione **Security** (Sicurezza) della finestra di dialogo di Eclipse fare clic su **Browse** (Sfoglia), passare al certificato che si intende usare, selezionarlo e fare clic su **Open** (Apri).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-274">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="cf5c4-275">In caso contrario, se si intende creare un certificato nuovo, fare clic su **New** (Nuovo) per visualizzare la finestra di dialogo **New Certificate** (Nuovo certificato) e quindi specificare la password, il nome del file CER e il nome del file PFX per il nuovo certificato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-275">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
8. <span data-ttu-id="cf5c4-276">Selezionare **Embed the certificate in the WAR file**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-276">Check **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="cf5c4-277">Quando si incorpora il certificato in questo modo, viene incluso nella distribuzione senza che sia necessario aggiungerlo manualmente come un componente.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-277">Embedding the certificate in this manner includes it in your deployment without requiring you to manually add it as a component.</span></span> <span data-ttu-id="cf5c4-278">Se invece è necessario archiviare il certificato all'esterno del file WAR, è possibile aggiungere il certificato come componente del ruolo e deselezionare **Embed the certificate in the WAR file**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-278">(If instead you must store your certificate externally from your WAR file, you could add the certificate as a role component and uncheck **Embed the certificate in the WAR file**.)</span></span>
9. <span data-ttu-id="cf5c4-279">[Facoltativo] Mantenere l'opzione **Require HTTPS connections** selezionata.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-279">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="cf5c4-280">Se viene visualizzata questa opzione, è necessario accedere all'applicazione utilizzando il protocollo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-280">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="cf5c4-281">Se non si desidera richiedere connessioni HTTPS, deselezionare questa opzione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-281">If you don't want to require HTTPS connections, uncheck this option.</span></span>
10. <span data-ttu-id="cf5c4-282">Per la distribuzione nell'emulatore di calcolo, le impostazioni di **Azure ACS Filter** avranno un aspetto simile a quanto illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-282">For a deployment to the compute emulator, your **Azure ACS Filter** settings will look similar to the following.</span></span>
    
    ![Impostazioni del filtro ACS di Azure per una distribuzione nell'emulatore di calcolo.][add_acs_filter_lib_emulator]
11. <span data-ttu-id="cf5c4-284">Fare clic su **Finish**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-284">Click **Finish**.</span></span>
12. <span data-ttu-id="cf5c4-285">Fare clic su **Yes** nella finestra di dialogo che conferma la creazione di un file web.xml.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-285">Click **Yes** when presented with with a dialog box stating that a web.xml file will be created.</span></span>
13. <span data-ttu-id="cf5c4-286">Fare clic su **OK** per chiudere la finestra di dialogo **Java Build Path** (Percorso compilazione Java).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-286">Click **OK** to close the **Java Build Path** dialog.</span></span>

## <a name="deploy-to-the-compute-emulator"></a><span data-ttu-id="cf5c4-287">Distribuire l'emulatore di calcolo</span><span class="sxs-lookup"><span data-stu-id="cf5c4-287">Deploy to the compute emulator</span></span>
1. <span data-ttu-id="cf5c4-288">In Project Explorer di Eclipse fare clic con il pulsante destro del mouse su **MyACSHelloWorld**, scegliere **Azure** e quindi fare clic su **Package for Azure** (Pacchetto per Azure).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-288">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Azure**, and then click **Package for Azure**.</span></span>
2. <span data-ttu-id="cf5c4-289">In **Project name** (Nome progetto) digitare **MyAzureACSProject** e fare clic su **Next** (Avanti).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-289">For **Project name**, type **MyAzureACSProject** and click **Next**.</span></span>
3. <span data-ttu-id="cf5c4-290">Selezionare un JDK e un server applicazioni.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-290">Select a JDK and application server.</span></span> <span data-ttu-id="cf5c4-291">Questi passaggi vengono descritti in dettaglio nell'esercitazione [Creazione di un'applicazione Hello World per Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-291">(These steps are covered in detail in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) tutorial).</span></span>
4. <span data-ttu-id="cf5c4-292">Fare clic su **Finish**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-292">Click **Finish**.</span></span>
5. <span data-ttu-id="cf5c4-293">Fare clic sul pulsante **Run in Azure Emulator** .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-293">Click the **Run in Azure Emulator** button.</span></span>
6. <span data-ttu-id="cf5c4-294">Dopo l'avvio dell'applicazione Web Java nell'emulatore di calcolo, chiudere tutte le istanze del browser (per evitare che sessioni correnti del browser interferiscano con il test di accesso di ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-294">After your Java web application starts in the compute emulator, close all instances of your browser (so that any current browser sessions do not interfere with your ACS login test).</span></span>
7. <span data-ttu-id="cf5c4-295">Eseguire l'applicazione aprendo nel browser <http://localhost:8080/MyACSHelloWorld/> o <https://localhost:8080/MyACSHelloWorld/>, se è stata selezionata l'opzione **Require HTTPS connections** (Richiedi connessioni HTTPS).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-295">Run your application by opening <http://localhost:8080/MyACSHelloWorld/> in your browser (or <https://localhost:8080/MyACSHelloWorld/> if you checked **Require HTTPS connections**).</span></span> <span data-ttu-id="cf5c4-296">Verrà richiesto di immettere un account di accesso Windows Live ID, quindi si verrà reindirizzati all'URL restituito specificato per l'applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-296">You should be prompted for a Windows Live ID login, then you should be taken to the return URL specified for your relying party application.</span></span>
8. <span data-ttu-id="cf5c4-297">Terminata la visualizzazione dell'applicazione, fare clic sul pulsante **Reset Azure Emulator** .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-297">When you have finished viewing your application, click the **Reset Azure Emulator** button.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="cf5c4-298">Distribuzione in Azure</span><span class="sxs-lookup"><span data-stu-id="cf5c4-298">Deploy to Azure</span></span>
<span data-ttu-id="cf5c4-299">Per la distribuzione in Azure è necessario modificare l'area di autenticazione dell'applicazione relying party e dell'URL restituito per lo spazio dei nomi ACS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-299">To deploy to Azure, you'll need to change the relying party realm and return URL for your ACS namespace.</span></span>

1. <span data-ttu-id="cf5c4-300">Nella pagina **Edit Relying Party Application** (Modifica applicazione relying party) del portale di gestione di Azure modificare **Realm** (Area autenticazione) per far sì che corrisponda all'URL del sito distribuito.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-300">Within the Azure Management Portal, in the **Edit Relying Party Application** page, modify **Realm** to be the URL of your deployed site.</span></span> <span data-ttu-id="cf5c4-301">Sostituire **example** con il nome DNS specificato per la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-301">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![Area di autenticazione dell'applicazione relying party da utilizzare in produzione][relying_party_realm_production]
2. <span data-ttu-id="cf5c4-303">Modificare **Return URL** affinché corrisponda all'URL dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-303">Modify **Return URL** to be the URL of your application.</span></span> <span data-ttu-id="cf5c4-304">Sostituire **example** con il nome DNS specificato per la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-304">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![URL restituito dell'applicazione relying party da usare in produzione][relying_party_return_url_production]
3. <span data-ttu-id="cf5c4-306">Fare clic su **Save** per salvare le modifiche apportate all'area di autenticazione dell'applicazione relying party e all'URL restituito.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-306">Click **Save** to save your updated replying party realm and return URL changes.</span></span>
4. <span data-ttu-id="cf5c4-307">Tenere aperta la pagina **Login Page Integration** nel browser poiché in seguito verrà richiesto di copiare alcuni dati.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-307">Keep the **Login Page Integration** page open in your browser, you'll need to copy from it shortly.</span></span>
5. <span data-ttu-id="cf5c4-308">In Project Explorer di Eclipse fare clic con il pulsante destro del mouse su **MyACSHelloWorld**, scegliere **Build Path** (Percorso di compilazione) e quindi fare clic su **Configure Build Path** (Configura il percorso di compilazione).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-308">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
6. <span data-ttu-id="cf5c4-309">Fare clic sulla scheda **Libraries** (Librerie), su **Azure Access Control Services Filter** (Filtro servizi di controllo di accesso di Azure ) e quindi su **Edit** (Modifica).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-309">Click the **Libraries** tab, click **Azure Access Control Services Filter**, and then click **Edit**.</span></span>
7. <span data-ttu-id="cf5c4-310">Con il browser aperto alla pagina **Login Page Integration** (Integrazione pagine di accesso) del portale di gestione, copiare l'URL riportato nel campo **Option 1: Link to an ACS-hosted login page** (Opzione 1: Collegamento a una pagina di accesso ospitata in ACS) e incollarlo nel campo **ACS Authentication Endpoint** (Endpoint di autenticazione ACS) della finestra di dialogo di Eclipse.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-310">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
8. <span data-ttu-id="cf5c4-311">Con il browser aperto alla pagina **Edit Relying Party Application** (Modifica applicazione relying party) del portale di gestione, copiare l'URL riportato nel campo **Realm** (Area autenticazione) e incollarlo nel campo **Relying Party Realm** (Area autenticazione relying party) della finestra di dialogo di Eclipse.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-311">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
9. <span data-ttu-id="cf5c4-312">Per usare un certificato esistente, nella sezione **Security** (Sicurezza) della finestra di dialogo di Eclipse fare clic su **Browse** (Sfoglia), passare al certificato che si intende usare, selezionarlo e fare clic su **Open** (Apri).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-312">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="cf5c4-313">In caso contrario, se si intende creare un certificato nuovo, fare clic su **New** (Nuovo) per visualizzare la finestra di dialogo **New Certificate** (Nuovo certificato) e quindi specificare la password, il nome del file CER e il nome del file PFX per il nuovo certificato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-313">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
10. <span data-ttu-id="cf5c4-314">Mantenere l'opzione **Embed the certificate in the WAR file** selezionata, nel caso in cui si intenda incorporare il certificato nel file WAR.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-314">Keep **Embed the certificate in the WAR file** checked, assuming you want to embed the certificate in the WAR file.</span></span>
11. <span data-ttu-id="cf5c4-315">[Facoltativo] Mantenere l'opzione **Require HTTPS connections** selezionata.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-315">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="cf5c4-316">Se viene visualizzata questa opzione, è necessario accedere all'applicazione utilizzando il protocollo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-316">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="cf5c4-317">Se non si desidera richiedere connessioni HTTPS, deselezionare questa opzione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-317">If you don't want to require HTTPS connections, uncheck this option.</span></span>
12. <span data-ttu-id="cf5c4-318">Per la distribuzione in Azure, le impostazioni del filtro ACS di Azure avranno un aspetto simile a quelle illustrate di seguito.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-318">For a deployment to Azure, your Azure ACS Filter settings will look similar to the following.</span></span>
    
    ![Impostazioni del filtro ACS di Azure per la distribuzione in produzione][add_acs_filter_lib_production]
13. <span data-ttu-id="cf5c4-320">Fare clic su **Finish** (Fine) per chiudere la finestra di dialogo **Edit Library** (Modifica libreria).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-320">Click **Finish** to close the **Edit Library** dialog.</span></span>
14. <span data-ttu-id="cf5c4-321">Fare clic su **OK** per chiudere la finestra di dialogo **Properties for MyACSHelloWorld** (Proprietà per MyACSHelloWorld).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-321">Click **OK** to close the **Properties for MyACSHelloWorld** dialog.</span></span>
15. <span data-ttu-id="cf5c4-322">In Eclipse fare clic sul pulsante **Publish to Azure Cloud** .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-322">In Eclipse, click the **Publish to Azure Cloud** button.</span></span> <span data-ttu-id="cf5c4-323">Rispondere alle richieste visualizzate, come nella sezione **Per distribuire l'applicazione in Azure** dell'argomento [Creazione di un'applicazione Hello World per Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-323">Respond to the prompts, similar as done in the **To deploy your application to Azure** section of the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic.</span></span> 

<span data-ttu-id="cf5c4-324">Dopo la distribuzione dell'applicazione Web, chiudere le sessioni del browser aperte ed eseguire l'applicazione Web. Verrà richiesto di accedere con le credenziali di Windows Live ID e si verrà reindirizzati all'URL restituito dell'applicazione relying party.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-324">After your web application has been deployed, close any open browser sessions, run your web application, and you should be prompted to sign in with Windows Live ID credentials, followed by being sent to the return URL of your relying party application.</span></span>

<span data-ttu-id="cf5c4-325">Al termine dell'utilizzo dell'applicazione ACS Hello World, ricordare di eliminare la distribuzione (per ulteriori informazioni sull'eliminazione di una distribuzione, vedere l'esercitazione [Creazione di un'applicazione Hello World per Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-325">When you are done using your ACS Hello World application, remember to delete the deployment (you can learn how to delete a deployment in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic).</span></span>

## <span data-ttu-id="cf5c4-326"><a name="next_steps"></a>Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="cf5c4-326"><a name="next_steps"></a>Next steps</span></span>
<span data-ttu-id="cf5c4-327">Per un esame del linguaggio Security Assertion Markup Language (SAML) restituito da ACS all'applicazione, vedere [Come visualizzare il codice SAML restituito dal Servizio di controllo di accesso di Azure][How to view SAML returned by the Azure Access Control Service].</span><span class="sxs-lookup"><span data-stu-id="cf5c4-327">For an examination of the Security Assertion Markup Language (SAML) returned by ACS to your application, see [How to view SAML returned by the Azure Access Control Service][How to view SAML returned by the Azure Access Control Service].</span></span> <span data-ttu-id="cf5c4-328">Per continuare a esplorare le funzionalità di ACS ed esercitarsi con scenari più complessi, vedere [Servizio di controllo di accesso 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="cf5c4-328">To further explore ACS's functionality and to experiment with more sophisticated scenarios, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

<span data-ttu-id="cf5c4-329">In questo esempio è stata usata l'opzione **Embed the certificate in the WAR file** .</span><span class="sxs-lookup"><span data-stu-id="cf5c4-329">Also, this example used the **Embed the certificate in the WAR file** option.</span></span> <span data-ttu-id="cf5c4-330">Questa opzione semplifica la distribuzione del certificato.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-330">This option makes it simple to deploy the certificate.</span></span> <span data-ttu-id="cf5c4-331">Se invece si desidera mantenere il certificato di firma separato dal file WAR, è possibile applicare la tecnica seguente:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-331">If instead you want to keep your signing certificate separate from your WAR file, you can use the following technique:</span></span>

1. <span data-ttu-id="cf5c4-332">Nella sezione **Security** (Sicurezza) della finestra di dialogo **Azure Access Control Services Filter** (Filtro servizi di controllo di accesso di Azure) digitare **${env.JAVA_HOME}/mycert.cer** e deselezionare **Embed the certificate in the WAR file** (Incorpora il certificato nel file WAR).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-332">Within the **Security** section of the **Azure Access Control Services Filter** dialog, type **${env.JAVA_HOME}/mycert.cer** and uncheck **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="cf5c4-333">Se il nome del certificato in uso è diverso, modificare il nome del file mycert.cer di conseguenza. Fare clic su **Finish** (Fine) per chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-333">(Adjust mycert.cer if your certificate file name is different.) Click **Finish** to close the dialog.</span></span>
2. <span data-ttu-id="cf5c4-334">Copiare il certificato come componente nella distribuzione: in Project Explorer di Eclipse espandere **MyAzureACSProject**, fare clic con il pulsante destro del mouse su **WorkerRole1**, scegliere **Properties** (Proprietà), espandere **Azure Role** (Ruolo di Azure), quindi fare clic su **Components** (Componenti).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-334">Copy the certificate as a component in your deployment: In Eclipse's Project Explorer, expand **MyAzureACSProject**, right-click **WorkerRole1**, click **Properties**, expand **Azure Role**, and click **Components**.</span></span>
3. <span data-ttu-id="cf5c4-335">Fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-335">Click **Add**.</span></span>
4. <span data-ttu-id="cf5c4-336">Nella finestra di dialogo **Add Component** :</span><span class="sxs-lookup"><span data-stu-id="cf5c4-336">Within the **Add Component** dialog:</span></span>
   
   1. <span data-ttu-id="cf5c4-337">Nella sezione **Import** :</span><span class="sxs-lookup"><span data-stu-id="cf5c4-337">In the **Import** section:</span></span>
      1. <span data-ttu-id="cf5c4-338">usare il pulsante **File** per passare al certificato che si intende usare.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-338">Use the **File** button to navigate to the certificate you want to use.</span></span> 
      2. <span data-ttu-id="cf5c4-339">In **Method** (Metodo) selezionare **copy** (Copia).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-339">For **Method**, select **copy**.</span></span>
   2. <span data-ttu-id="cf5c4-340">In **As Name**fare clic sulla casella di testo e accettare il nome predefinito.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-340">For **As Name**, click on the text box and accept the default name.</span></span>
   3. <span data-ttu-id="cf5c4-341">Nella sezione **Deploy** :</span><span class="sxs-lookup"><span data-stu-id="cf5c4-341">In the **Deploy** section:</span></span>
      1. <span data-ttu-id="cf5c4-342">In **Method** (Metodo) selezionare **copy** (Copia).</span><span class="sxs-lookup"><span data-stu-id="cf5c4-342">For **Method**, select **copy**.</span></span>
      2. <span data-ttu-id="cf5c4-343">In **To directory** (Directory di destinazione) digitare **%JAVA_HOME%**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-343">For **To directory**, type **%JAVA_HOME%**.</span></span>
   4. <span data-ttu-id="cf5c4-344">La finestra di dialogo **Add Component** avrà un aspetto analogo al seguente:</span><span class="sxs-lookup"><span data-stu-id="cf5c4-344">Your **Add Component** dialog should look similar to the following.</span></span>
      
       ![Aggiunta di un componente certificato][add_cert_component]
   5. <span data-ttu-id="cf5c4-346">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-346">Click **OK**.</span></span>

<span data-ttu-id="cf5c4-347">A questo punto, il certificato verrà incluso nella distribuzione.</span><span class="sxs-lookup"><span data-stu-id="cf5c4-347">At this point, your certificate would be included in your deployment.</span></span> <span data-ttu-id="cf5c4-348">Si noti che a prescindere dal fatto che il certificato sia incorporato nel file WAR o aggiunto alla distribuzione come componente, è necessario caricare il certificato nello spazio dei nomi come descritto nella sezione [Caricamento di un certificato nello spazio dei nomi ACS][Upload a certificate to your ACS namespace].</span><span class="sxs-lookup"><span data-stu-id="cf5c4-348">Note that regardless of whether you embed the certificate in the WAR file or add it as a component to your deployment, you need to upload the certificate to your namespace as described in the [Upload a certificate to your ACS namespace][Upload a certificate to your ACS namespace] section.</span></span>

[What is ACS?]: #what-is
[Concepts]: #concepts
[Prerequisites]: #pre
[Create a Java web application]: #create-java-app
[Create an ACS Namespace]: #create-namespace
[Add Identity Providers]: #add-IP
[Add a Relying Party Application]: #add-RP
[Create Rules]: #create-rules
[Upload a certificate to your ACS namespace]: #upload-certificate
[Review the Application Integration Page]: #review-app-int
[Configure Trust between ACS and Your ASP.NET Web Application]: #config-trust
[Add the ACS Filter library to your application]: #add_acs_filter_library
[Deploy to the compute emulator]: #deploy_compute_emulator
[Deploy to Azure]: #deploy_azure
[Next steps]: #next_steps
[project website]: http://wastarterkit4java.codeplex.com/releases/view/61026
[How to view SAML returned by the Azure Access Control Service]: active-directory-java-view-saml-returned-by-access-control.md
[Access Control Service 2.0]: http://go.microsoft.com/fwlink/?LinkID=212360
[Windows Identity Foundation]: http://www.microsoft.com/download/en/details.aspx?id=17331
[Windows Identity Foundation SDK]: http://www.microsoft.com/download/en/details.aspx?id=4451
[Azure Management Portal]: https://manage.windowsazure.com
[acs_flow]: ./media/active-directory-java-authenticate-users-access-control-eclipse/ACSFlow.png

<!-- Eclipse-specific -->
[add_acs_filter_lib]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibrary.png
[add_acs_filter_lib_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryEmulator.png
[add_acs_filter_lib_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryProduction.png

[relying_party_realm_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmEmulator.png
[relying_party_return_url_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLEmulator.png
[relying_party_realm_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmProduction.png
[relying_party_return_url_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLProduction.png
[add_cert_component]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddCertificateComponent.png
[add_jsp_file_acs]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddJSPFileACS.png
[create_acs_hello_world]: ./media/active-directory-java-authenticate-users-access-control-eclipse/CreateACSHelloWorld.png
[add_token_signing_cert]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddTokenSigningCertificate.png

