---
title: aaaAzure Bus di servizio associati spazi dei nomi | Documenti Microsoft
description: Dettagli di implementazione e costi relativi allo spazio dei nomi associato
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 2440c8d3-ed2e-47e0-93cf-ab7fbb855d2e
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: sethm
ms.openlocfilehash: 4c44b2b95d2228e1ad8075b52634d88a1593d3b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="paired-namespace-implementation-details-and-cost-implications"></a><span data-ttu-id="c3858-103">Dettagli di implementazione e implicazioni in termini di costi relativi allo spazio dei nomi associato</span><span class="sxs-lookup"><span data-stu-id="c3858-103">Paired namespace implementation details and cost implications</span></span>
<span data-ttu-id="c3858-104">Hello [PairNamespaceAsync] [ PairNamespaceAsync] (metodo), utilizzando un [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] dell'istanza, esegue attività visibili per conto dell'utente.</span><span class="sxs-lookup"><span data-stu-id="c3858-104">hello [PairNamespaceAsync][PairNamespaceAsync] method, using a [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance, performs visible tasks on your behalf.</span></span> <span data-ttu-id="c3858-105">Poiché vi sono costi considerazioni quando si utilizza la funzione hello, è utile toounderstand quelle attività, in modo che si prevede che il comportamento di hello in tal caso.</span><span class="sxs-lookup"><span data-stu-id="c3858-105">Because there are cost considerations when using hello feature, it is useful toounderstand those tasks so that you expect hello behavior when it happens.</span></span> <span data-ttu-id="c3858-106">Hello API coinvolge hello segue il comportamento automatico per conto dell'utente:</span><span class="sxs-lookup"><span data-stu-id="c3858-106">hello API engages hello following automatic behavior on your behalf:</span></span>

* <span data-ttu-id="c3858-107">Creazione di code di backlog.</span><span class="sxs-lookup"><span data-stu-id="c3858-107">Creation of backlog queues.</span></span>
* <span data-ttu-id="c3858-108">Creazione di un [MessageSender] [ MessageSender] oggetto che discute tooqueues o argomenti.</span><span class="sxs-lookup"><span data-stu-id="c3858-108">Creation of a [MessageSender][MessageSender] object that talks tooqueues or topics.</span></span>
* <span data-ttu-id="c3858-109">Quando un'entità di messaggistica non è disponibile, invia messaggi di ping toohello entità in un tentativo toodetect quando l'entità diventa nuovamente disponibile.</span><span class="sxs-lookup"><span data-stu-id="c3858-109">When a messaging entity becomes unavailable, sends ping messages toohello entity in an attempt toodetect when that entity becomes available again.</span></span>
* <span data-ttu-id="c3858-110">Crea facoltativamente un set di "message pump" che sposta i messaggi da hello code primario toohello code di backlog.</span><span class="sxs-lookup"><span data-stu-id="c3858-110">Optionally creates of a set of “message pumps” that move messages from hello backlog queues toohello primary queues.</span></span>
* <span data-ttu-id="c3858-111">Le coordinate di chiusura o errore di hello primario e secondario [MessagingFactory] [ MessagingFactory] istanze.</span><span class="sxs-lookup"><span data-stu-id="c3858-111">Coordinates closing/faulting of hello primary and secondary [MessagingFactory][MessagingFactory] instances.</span></span>

<span data-ttu-id="c3858-112">In generale, hello funziona nel modo seguente: quando l'entità primaria hello è integro, si verifica alcuna modifica di comportamento.</span><span class="sxs-lookup"><span data-stu-id="c3858-112">At a high level, hello feature works as follows: when hello primary entity is healthy, no behavior changes occur.</span></span> <span data-ttu-id="c3858-113">Quando hello [FailoverInterval] [ FailoverInterval] allo scadere dell'intervallo di durata, ed entità primaria hello non vede invia riesce dopo non temporaneo [MessagingException] [ MessagingException] o [TimeoutException][TimeoutException], si verifica hello seguente comportamento:</span><span class="sxs-lookup"><span data-stu-id="c3858-113">When hello [FailoverInterval][FailoverInterval] duration elapses, and hello primary entity sees no successful sends after a non-transient [MessagingException][MessagingException] or a [TimeoutException][TimeoutException], hello following behavior occurs:</span></span>

1. <span data-ttu-id="c3858-114">Inviare operazioni toohello primario entità sono disabilitate e ping sistema hello hello entità primaria finché i ping possono essere recapitati.</span><span class="sxs-lookup"><span data-stu-id="c3858-114">Send operations toohello primary entity are disabled and hello system pings hello primary entity until pings can be successfully delivered.</span></span>
2. <span data-ttu-id="c3858-115">Viene selezionata una coda di backlog casuale.</span><span class="sxs-lookup"><span data-stu-id="c3858-115">A random backlog queue is selected.</span></span>
3. <span data-ttu-id="c3858-116">[BrokeredMessage] [ BrokeredMessage] gli oggetti sono indirizzato toohello scelto coda di backlog.</span><span class="sxs-lookup"><span data-stu-id="c3858-116">[BrokeredMessage][BrokeredMessage] objects are routed toohello chosen backlog queue.</span></span>
4. <span data-ttu-id="c3858-117">Se un toohello operazione trasmissione scelto coda di backlog, coda viene estratta dalla rotazione hello e viene selezionata una nuova coda.</span><span class="sxs-lookup"><span data-stu-id="c3858-117">If a send operation toohello chosen backlog queue fails, that queue is pulled from hello rotation and a new queue is selected.</span></span> <span data-ttu-id="c3858-118">Tutti i mittenti hello [MessagingFactory] [ MessagingFactory] istanza informazioni di errore hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-118">All senders on hello [MessagingFactory][MessagingFactory] instance learn of hello failure.</span></span>

<span data-ttu-id="c3858-119">Hello nelle figure seguenti illustrano sequenza hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-119">hello following figures depict hello sequence.</span></span> <span data-ttu-id="c3858-120">In primo luogo, il mittente hello invia messaggi.</span><span class="sxs-lookup"><span data-stu-id="c3858-120">First, hello sender sends messages.</span></span>

![Spazi dei nomi associati][0]

<span data-ttu-id="c3858-122">Alla coda primaria toohello toosend errore, il mittente hello inizia a inviare messaggi tooa scelta casualmente coda di backlog.</span><span class="sxs-lookup"><span data-stu-id="c3858-122">Upon failure toosend toohello primary queue, hello sender begins sending messages tooa randomly chosen backlog queue.</span></span> <span data-ttu-id="c3858-123">Contemporaneamente avvia un'attività di ping.</span><span class="sxs-lookup"><span data-stu-id="c3858-123">Simultaneously, it starts a ping task.</span></span>

![Spazi dei nomi associati][1]

<span data-ttu-id="c3858-125">A questo punto i messaggi hello sono ancora nella coda secondaria hello e non sono stati recapitati coda primaria toohello.</span><span class="sxs-lookup"><span data-stu-id="c3858-125">At this point hello messages are still in hello secondary queue and have not been delivered toohello primary queue.</span></span> <span data-ttu-id="c3858-126">Quando la coda primaria hello è di nuovo integra, almeno un processo deve essere in esecuzione il sifone hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-126">Once hello primary queue is healthy again, at least one process should be running hello syphon.</span></span> <span data-ttu-id="c3858-127">sifone Hello recapita i messaggi hello da hello tutti vari backlog entità di destinazione appropriate toohello code (code e argomenti).</span><span class="sxs-lookup"><span data-stu-id="c3858-127">hello syphon delivers hello messages from all hello various backlog queues toohello proper destination entities (queues and topics).</span></span>

![Spazi dei nomi associati][2]

<span data-ttu-id="c3858-129">Hello parte restante di questo argomento sono descritti i dettagli specifici di hello del funzionamento di queste parti.</span><span class="sxs-lookup"><span data-stu-id="c3858-129">hello remainder of this topic discusses hello specific details of how these pieces work.</span></span>

## <a name="creation-of-backlog-queues"></a><span data-ttu-id="c3858-130">Creazione di code di backlog</span><span class="sxs-lookup"><span data-stu-id="c3858-130">Creation of backlog queues</span></span>
<span data-ttu-id="c3858-131">Hello [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] oggetto passato toohello [PairNamespaceAsync] [ PairNamespaceAsync] metodo indica hello numero di backlog code si desidera toouse.</span><span class="sxs-lookup"><span data-stu-id="c3858-131">hello [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] object passed toohello [PairNamespaceAsync][PairNamespaceAsync] method indicates hello number of backlog queues you want toouse.</span></span> <span data-ttu-id="c3858-132">Ogni coda di backlog viene quindi creata con hello impostare le proprietà seguenti in modo esplicito (tutti gli altri valori vengono impostati toohello [QueueDescription] [ QueueDescription] impostazioni predefinite):</span><span class="sxs-lookup"><span data-stu-id="c3858-132">Each backlog queue is then created with hello following properties explicitly set (all other values are set toohello [QueueDescription][QueueDescription] defaults):</span></span>

| <span data-ttu-id="c3858-133">Path</span><span class="sxs-lookup"><span data-stu-id="c3858-133">Path</span></span> | <span data-ttu-id="c3858-134">[spazio dei nomi primario]/x-servicebus-transfer/[indice] dove [indice] è un valore espresso in [0, BacklogQueueCount]</span><span class="sxs-lookup"><span data-stu-id="c3858-134">[primary namespace]/x-servicebus-transfer/[index] where [index] is a value in [0, BacklogQueueCount)</span></span> |
| --- | --- |
| <span data-ttu-id="c3858-135">MaxSizeInMegabytes</span><span class="sxs-lookup"><span data-stu-id="c3858-135">MaxSizeInMegabytes</span></span> |<span data-ttu-id="c3858-136">5120</span><span class="sxs-lookup"><span data-stu-id="c3858-136">5120</span></span> |
| <span data-ttu-id="c3858-137">MaxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="c3858-137">MaxDeliveryCount</span></span> |<span data-ttu-id="c3858-138">int.MaxValue</span><span class="sxs-lookup"><span data-stu-id="c3858-138">int.MaxValue</span></span> |
| <span data-ttu-id="c3858-139">DefaultMessageTimeToLive</span><span class="sxs-lookup"><span data-stu-id="c3858-139">DefaultMessageTimeToLive</span></span> |<span data-ttu-id="c3858-140">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="c3858-140">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="c3858-141">AutoDeleteOnIdle</span><span class="sxs-lookup"><span data-stu-id="c3858-141">AutoDeleteOnIdle</span></span> |<span data-ttu-id="c3858-142">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="c3858-142">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="c3858-143">LockDuration</span><span class="sxs-lookup"><span data-stu-id="c3858-143">LockDuration</span></span> |<span data-ttu-id="c3858-144">1 minuto</span><span class="sxs-lookup"><span data-stu-id="c3858-144">1 minute</span></span> |
| <span data-ttu-id="c3858-145">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="c3858-145">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="c3858-146">true</span><span class="sxs-lookup"><span data-stu-id="c3858-146">true</span></span> |
| <span data-ttu-id="c3858-147">EnableBatchedOperations</span><span class="sxs-lookup"><span data-stu-id="c3858-147">EnableBatchedOperations</span></span> |<span data-ttu-id="c3858-148">true</span><span class="sxs-lookup"><span data-stu-id="c3858-148">true</span></span> |

<span data-ttu-id="c3858-149">Ad esempio, prima coda di backlog hello creato per lo spazio dei nomi **contoso** denominato `contoso/x-servicebus-transfer/0`.</span><span class="sxs-lookup"><span data-stu-id="c3858-149">For example, hello first backlog queue created for namespace **contoso** is named `contoso/x-servicebus-transfer/0`.</span></span>

<span data-ttu-id="c3858-150">Quando si creano le code di hello, codice hello controlla innanzitutto toosee se esiste una coda.</span><span class="sxs-lookup"><span data-stu-id="c3858-150">When creating hello queues, hello code first checks toosee if such a queue exists.</span></span> <span data-ttu-id="c3858-151">Se non esiste una coda di hello, quindi hello coda viene creata.</span><span class="sxs-lookup"><span data-stu-id="c3858-151">If hello queue does not exist, then hello queue is created.</span></span> <span data-ttu-id="c3858-152">codice Hello non pulizia code di backlog "aggiuntive".</span><span class="sxs-lookup"><span data-stu-id="c3858-152">hello code does not clean up "extra" backlog queues.</span></span> <span data-ttu-id="c3858-153">In particolare, se hello applicazione hello spazio dei nomi primario **contoso** richiede cinque code di backlog, ma una coda di backlog con il percorso di hello `contoso/x-servicebus-transfer/7` esiste, tale coda aggiuntiva è presente ma non viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="c3858-153">Specifically, if hello application with hello primary namespace **contoso** requests five backlog queues but a backlog queue with hello path `contoso/x-servicebus-transfer/7` exists, that extra backlog queue is still present but is not used.</span></span> <span data-ttu-id="c3858-154">sistema di Hello consente in modo esplicito tooexist code di backlog aggiuntive che non usata.</span><span class="sxs-lookup"><span data-stu-id="c3858-154">hello system explicitly allows extra backlog queues tooexist that would not be used.</span></span> <span data-ttu-id="c3858-155">Come proprietario dello spazio dei nomi di hello, è responsabile per la pulizia delle code di backlog inutilizzate o indesiderate.</span><span class="sxs-lookup"><span data-stu-id="c3858-155">As hello namespace owner, you are responsible for cleaning up any unused/unwanted backlog queues.</span></span> <span data-ttu-id="c3858-156">motivo di Hello per questa decisione è che il Bus di servizio non è possibile conoscere lo scopo dell'esistenza per tutte le code di hello nello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="c3858-156">hello reason for this decision is that Service Bus cannot know what purposes exist for all hello queues in your namespace.</span></span> <span data-ttu-id="c3858-157">Inoltre, se una coda esistente con il nome specificato hello, ma non soddisfa hello presuppone [QueueDescription][QueueDescription], i motivi sono personalizzate per modificare le impostazioni predefinite di hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-157">Furthermore, if a queue exists with hello given name but does not meet hello assumed [QueueDescription][QueueDescription], then your reasons are your own for changing hello default behavior.</span></span> <span data-ttu-id="c3858-158">Viene resa alcuna garanzia per le code di backlog toohello le modifiche apportate dal codice.</span><span class="sxs-lookup"><span data-stu-id="c3858-158">No guarantees are made for modifications toohello backlog queues by your code.</span></span> <span data-ttu-id="c3858-159">Apportare tootest che le modifiche attentamente.</span><span class="sxs-lookup"><span data-stu-id="c3858-159">Make sure tootest your changes thoroughly.</span></span>

## <a name="custom-messagesender"></a><span data-ttu-id="c3858-160">MessageSender personalizzato</span><span class="sxs-lookup"><span data-stu-id="c3858-160">Custom MessageSender</span></span>
<span data-ttu-id="c3858-161">Quando si inviano, tutti i messaggi passano attraverso un interno [MessageSender] [ MessageSender] oggetto che si comporta in genere quando tutto funziona e reindirizza le code di backlog toohello quando operazioni "break".</span><span class="sxs-lookup"><span data-stu-id="c3858-161">When sending, all messages go through an internal [MessageSender][MessageSender] object that behaves normally when everything works, and redirects toohello backlog queues when things "break."</span></span> <span data-ttu-id="c3858-162">Se viene rilevato un errore non temporaneo, viene avviato un timer.</span><span class="sxs-lookup"><span data-stu-id="c3858-162">Upon receiving a non-transient failure, a timer starts.</span></span> <span data-ttu-id="c3858-163">Dopo un [TimeSpan] [ TimeSpan] periodo costituito hello [FailoverInterval] [ FailoverInterval] valore della proprietà durante il quale non vengono inviati i messaggi riuscito , viene avviato il failover hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-163">After a [TimeSpan][TimeSpan] period consisting of hello [FailoverInterval][FailoverInterval] property value during which no successful messages are sent, hello failover is engaged.</span></span> <span data-ttu-id="c3858-164">A questo punto, hello verificherà quanto segue per ogni entità:</span><span class="sxs-lookup"><span data-stu-id="c3858-164">At this point, hello following things happen for each entity:</span></span>

* <span data-ttu-id="c3858-165">Esegue un'operazione di ping ogni [PingPrimaryInterval] [ PingPrimaryInterval] toocheck se entità hello è disponibile.</span><span class="sxs-lookup"><span data-stu-id="c3858-165">A ping task executes every [PingPrimaryInterval][PingPrimaryInterval] toocheck if hello entity is available.</span></span> <span data-ttu-id="c3858-166">Al termine di questa attività, tutto il codice client che utilizza entità hello immediatamente inizia a inviare nuovi messaggi toohello principale dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="c3858-166">Once this task succeeds, all client code that uses hello entity immediately starts sending new messages toohello primary namespace.</span></span>
* <span data-ttu-id="c3858-167">Richieste future toosend toothat stessa entità da qualsiasi altro mittente comporterà hello [BrokeredMessage] [ BrokeredMessage] inviati toobe modificato toosit nella coda di backlog hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-167">Future requests toosend toothat same entity from any other senders will result in hello [BrokeredMessage][BrokeredMessage] being sent toobe modified toosit in hello backlog queue.</span></span> <span data-ttu-id="c3858-168">alcune proprietà modifica Hello rimuove hello [BrokeredMessage] [ BrokeredMessage] dell'oggetto e li archivia in un' posizione.</span><span class="sxs-lookup"><span data-stu-id="c3858-168">hello modification removes some properties from hello [BrokeredMessage][BrokeredMessage] object and stores them elsewhere.</span></span> <span data-ttu-id="c3858-169">Hello seguenti proprietà vengono eliminate e aggiunte in un nuovo alias, consentire hello e Service Bus SDK tooprocess messaggi in modo uniforme:</span><span class="sxs-lookup"><span data-stu-id="c3858-169">hello following properties are cleared and added under a new alias, allowing Service Bus and hello SDK tooprocess messages uniformly:</span></span>

| <span data-ttu-id="c3858-170">Nome proprietà precedente</span><span class="sxs-lookup"><span data-stu-id="c3858-170">Old Property Name</span></span> | <span data-ttu-id="c3858-171">Nuovo nome proprietà</span><span class="sxs-lookup"><span data-stu-id="c3858-171">New Property Name</span></span> |
| --- | --- |
| <span data-ttu-id="c3858-172">SessionId</span><span class="sxs-lookup"><span data-stu-id="c3858-172">SessionId</span></span> |<span data-ttu-id="c3858-173">x-ms-sessionid</span><span class="sxs-lookup"><span data-stu-id="c3858-173">x-ms-sessionid</span></span> |
| <span data-ttu-id="c3858-174">TimeToLive</span><span class="sxs-lookup"><span data-stu-id="c3858-174">TimeToLive</span></span> |<span data-ttu-id="c3858-175">x-ms-timetolive</span><span class="sxs-lookup"><span data-stu-id="c3858-175">x-ms-timetolive</span></span> |
| <span data-ttu-id="c3858-176">ScheduledEnqueueTimeUtc</span><span class="sxs-lookup"><span data-stu-id="c3858-176">ScheduledEnqueueTimeUtc</span></span> |<span data-ttu-id="c3858-177">x-ms-path</span><span class="sxs-lookup"><span data-stu-id="c3858-177">x-ms-path</span></span> |

<span data-ttu-id="c3858-178">percorso di destinazione originale Hello viene memorizzato anche il messaggio hello come una proprietà denominata x-ms-path.</span><span class="sxs-lookup"><span data-stu-id="c3858-178">hello original destination path is also stored within hello message as a property named x-ms-path.</span></span> <span data-ttu-id="c3858-179">Questa progettazione consente i messaggi per molte entità toocoexist in un'unica coda di backlog.</span><span class="sxs-lookup"><span data-stu-id="c3858-179">This design allows messages for many entities toocoexist in a single backlog queue.</span></span> <span data-ttu-id="c3858-180">proprietà Hello vengono ritrasferite dal sifone hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-180">hello properties are translated back by hello syphon.</span></span>

<span data-ttu-id="c3858-181">Hello personalizzato [MessageSender] [ MessageSender] oggetto può verificarsi problemi quando i messaggi raggiungono il limite di 256 KB hello e viene avviato il failover.</span><span class="sxs-lookup"><span data-stu-id="c3858-181">hello custom [MessageSender][MessageSender] object can encounter issues when messages approach hello 256-KB limit and failover is engaged.</span></span> <span data-ttu-id="c3858-182">Hello personalizzato [MessageSender] [ MessageSender] oggetto archivia i messaggi per tutte le code e gli argomenti nelle code di backlog hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-182">hello custom [MessageSender][MessageSender] object stores messages for all queues and topics together in hello backlog queues.</span></span> <span data-ttu-id="c3858-183">Questo oggetto sono presenti messaggi da numerose code primarie nelle code di backlog hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-183">This object mixes messages from many primaries together within hello backlog queues.</span></span> <span data-ttu-id="c3858-184">toohandle bilanciamento del carico tra più client che non conoscono in modo casuale ogni altra hello SDK seleziona una coda di backlog per ogni [QueueClient] [ QueueClient] o [TopicClient] [ TopicClient] vengono create nel codice.</span><span class="sxs-lookup"><span data-stu-id="c3858-184">toohandle load balancing among many clients that do not know each other, hello SDK randomly picks one backlog queue for each [QueueClient][QueueClient] or [TopicClient][TopicClient] you create in code.</span></span>

## <a name="pings"></a><span data-ttu-id="c3858-185">Ping</span><span class="sxs-lookup"><span data-stu-id="c3858-185">Pings</span></span>
<span data-ttu-id="c3858-186">Un messaggio ping è un oggetto vuoto [BrokeredMessage] [ BrokeredMessage] con il relativo [ContentType] [ ContentType] tooapplication/vnd.ms-bus di servizio-ping impostata. e un [TimeToLive] [ TimeToLive] valore di 1 secondo.</span><span class="sxs-lookup"><span data-stu-id="c3858-186">A ping message is an empty [BrokeredMessage][BrokeredMessage] with its [ContentType][ContentType] property set tooapplication/vnd.ms-servicebus-ping and a [TimeToLive][TimeToLive] value of 1 second.</span></span> <span data-ttu-id="c3858-187">Questo ping presenta una caratteristica particolare nel Bus di servizio: hello server non recapita mai un ping quando un chiamante qualsiasi richiede un [BrokeredMessage][BrokeredMessage].</span><span class="sxs-lookup"><span data-stu-id="c3858-187">This ping has one special characteristic in Service Bus: hello server never delivers a ping when any caller requests a [BrokeredMessage][BrokeredMessage].</span></span> <span data-ttu-id="c3858-188">Di conseguenza, non sarà mai necessario toolearn come tooreceive e ignorare questi messaggi.</span><span class="sxs-lookup"><span data-stu-id="c3858-188">Thus, you never have toolearn how tooreceive and ignore these messages.</span></span> <span data-ttu-id="c3858-189">Ogni entità (argomento o coda univoca) per ogni [MessagingFactory] [ MessagingFactory] istanza per ogni client verrà eseguito il ping quando vengono considerate come toobe non disponibile.</span><span class="sxs-lookup"><span data-stu-id="c3858-189">Each entity (unique queue or topic) per [MessagingFactory][MessagingFactory] instance per client will be pinged when they are considered toobe unavailable.</span></span> <span data-ttu-id="c3858-190">Per impostazione predefinita, ciò accade una volta al minuto.</span><span class="sxs-lookup"><span data-stu-id="c3858-190">By default, this happens once per minute.</span></span> <span data-ttu-id="c3858-191">Messaggi di ping sono considerati messaggi del Bus di servizio regolari toobe e possono comportare costi per i messaggi e della larghezza di banda.</span><span class="sxs-lookup"><span data-stu-id="c3858-191">Ping messages are considered toobe regular Service Bus messages, and can result in charges for bandwidth and messages.</span></span> <span data-ttu-id="c3858-192">Non appena il client di hello rilevano che il sistema hello è disponibile, i messaggi hello l'interruzione.</span><span class="sxs-lookup"><span data-stu-id="c3858-192">As soon as hello clients detect that hello system is available, hello messages stop.</span></span>

## <a name="hello-syphon"></a><span data-ttu-id="c3858-193">sifone Hello</span><span class="sxs-lookup"><span data-stu-id="c3858-193">hello syphon</span></span>
<span data-ttu-id="c3858-194">Almeno un programma eseguibile in un'applicazione hello deve eseguire attivamente il sifone hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-194">At least one executable program in hello application should be actively running hello syphon.</span></span> <span data-ttu-id="c3858-195">sifone Hello esegue long polling ricezione durata di 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="c3858-195">hello syphon performs a long poll receive that lasts 15 minutes.</span></span> <span data-ttu-id="c3858-196">Quando sono disponibili tutte le entità e si dispone di 10 code di backlog, hello applicazione che ospita le chiamate sifone hello hello ricezione operazione 40 volte all'ora, 960 volte al giorno e 28800 volte in 30 giorni.</span><span class="sxs-lookup"><span data-stu-id="c3858-196">When all entities are available and you have 10 backlog queues, hello application that hosts hello syphon calls hello receive operation 40 times per hour, 960 times per day, and 28800 times in 30 days.</span></span> <span data-ttu-id="c3858-197">Quando hello sifone Sposta attivamente i messaggi dalla coda principale di hello backlog toohello, ogni messaggio esperienze hello spese (costi standard relativi alle dimensioni del messaggio e la larghezza di banda si applicano a tutte le fasi) seguenti:</span><span class="sxs-lookup"><span data-stu-id="c3858-197">When hello syphon is actively moving messages from hello backlog toohello primary queue, each message experiences hello following charges (standard charges for message size and bandwidth apply in all stages):</span></span>

1. <span data-ttu-id="c3858-198">Inviare toohello backlog.</span><span class="sxs-lookup"><span data-stu-id="c3858-198">Send toohello backlog.</span></span>
2. <span data-ttu-id="c3858-199">Ricezione da backlog hello.</span><span class="sxs-lookup"><span data-stu-id="c3858-199">Receive from hello backlog.</span></span>
3. <span data-ttu-id="c3858-200">Inviare toohello primario.</span><span class="sxs-lookup"><span data-stu-id="c3858-200">Send toohello primary.</span></span>
4. <span data-ttu-id="c3858-201">Ricevere da hello primario.</span><span class="sxs-lookup"><span data-stu-id="c3858-201">Receive from hello primary.</span></span>

## <a name="closefault-behavior"></a><span data-ttu-id="c3858-202">Comportamento di chiusura o errore</span><span class="sxs-lookup"><span data-stu-id="c3858-202">Close/fault behavior</span></span>
<span data-ttu-id="c3858-203">All'interno di un'applicazione che ospita il sifone hello, una volta hello primario o secondario [MessagingFactory] [ MessagingFactory] si verifica un errore o viene chiuso senza il relativo partner anche viene verificato un errore o chiuso e hello sifone rileva questo stato , il sifone hello opera.</span><span class="sxs-lookup"><span data-stu-id="c3858-203">Within an application that hosts hello syphon, once hello primary or secondary [MessagingFactory][MessagingFactory] faults or is closed without its partner also being faulted/closed and hello syphon detects this state, hello syphon acts.</span></span> <span data-ttu-id="c3858-204">Se altri hello [MessagingFactory] [ MessagingFactory] non è stato chiuso entro cinque secondi, hello sifone restituisce un errore hello ancora aperto [MessagingFactory] [ MessagingFactory] .</span><span class="sxs-lookup"><span data-stu-id="c3858-204">If hello other [MessagingFactory][MessagingFactory] is not closed within 5 seconds, hello syphon will fault hello still open [MessagingFactory][MessagingFactory].</span></span>

## <a name="next-steps"></a><span data-ttu-id="c3858-205">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="c3858-205">Next steps</span></span>
<span data-ttu-id="c3858-206">Per informazioni dettagliate sulla messaggistica asincrona del bus di servizio, vedere [Modelli di messaggistica asincrona e disponibilità elevata][Asynchronous messaging patterns and high availability].</span><span class="sxs-lookup"><span data-stu-id="c3858-206">See [Asynchronous messaging patterns and high availability][Asynchronous messaging patterns and high availability] for a detailed discussion of Service Bus asynchronous messaging.</span></span> 

[PairNamespaceAsync]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_PairNamespaceAsync_Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_
[SendAvailabilityPairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[FailoverInterval]: /dotnet/api/microsoft.servicebus.messaging.pairednamespaceoptions#Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_FailoverInterval
[MessagingException]: /dotnet/api/microsoft.servicebus.messaging.messagingexception
[TimeoutException]: https://msdn.microsoft.com/library/azure/system.timeoutexception.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage
[QueueDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[TimeSpan]: https://msdn.microsoft.com/library/azure/system.timespan.aspx
[PingPrimaryInterval]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_PingPrimaryInterval
[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[TopicClient]: /dotnet/api/microsoft.servicebus.messaging.topicclient
[ContentType]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_ContentType
[TimeToLive]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_TimeToLive
[Asynchronous messaging patterns and high availability]: service-bus-async-messaging.md
[0]: ./media/service-bus-paired-namespaces/IC673405.png
[1]: ./media/service-bus-paired-namespaces/IC673406.png
[2]: ./media/service-bus-paired-namespaces/IC673407.png
