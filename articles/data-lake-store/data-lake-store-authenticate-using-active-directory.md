---
title: 'Autenticazione da servizio a servizio: Data Lake Store con Azure Active Directory | Documentazione Microsoft'
description: Informazioni su come ottenere l'autenticazione da servizio a servizio con Data Lake Store tramite Azure Active Directory
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 820b7c5d-4863-4225-9bd1-df4d8f515537
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/21/2017
ms.author: nitinme
ms.openlocfilehash: 27ec0a4f48115d44da98dd048868b044aedf173c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="service-to-service-authentication-with-data-lake-store-using-azure-active-directory"></a><span data-ttu-id="7a1a0-103">Autenticazione da servizio a servizio con Data Lake Store tramite Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7a1a0-103">Service-to-service authentication with Data Lake Store using Azure Active Directory</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="7a1a0-104">Autenticazione da servizio a servizio</span><span class="sxs-lookup"><span data-stu-id="7a1a0-104">Service-to-service authentication</span></span>](data-lake-store-authenticate-using-active-directory.md)
> * [<span data-ttu-id="7a1a0-105">Autenticazione dell'utente finale</span><span class="sxs-lookup"><span data-stu-id="7a1a0-105">End-user authentication</span></span>](data-lake-store-end-user-authenticate-using-active-directory.md)
> 
> 

<span data-ttu-id="7a1a0-106">Azure Data Lake Store usa Azure Active Directory per l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-106">Azure Data Lake Store uses Azure Active Directory for authentication.</span></span> <span data-ttu-id="7a1a0-107">Prima di creare un'applicazione che funziona con Azure Data Lake Store o Azure Data Lake Analytics, per prima cosa è necessario stabilire come si desidera eseguire l'autenticazione dell'applicazione con Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="7a1a0-107">Before authoring an application that works with Azure Data Lake Store or Azure Data Lake Analytics, you must first decide how you would like to authenticate your application with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="7a1a0-108">Le opzioni disponibili sono due:</span><span class="sxs-lookup"><span data-stu-id="7a1a0-108">The two main options available are:</span></span>

* <span data-ttu-id="7a1a0-109">Autenticazione dell'utente finale</span><span class="sxs-lookup"><span data-stu-id="7a1a0-109">End-user authentication</span></span> 
* <span data-ttu-id="7a1a0-110">Autenticazione da servizio a servizio (questo articolo)</span><span class="sxs-lookup"><span data-stu-id="7a1a0-110">Service-to-service authentication (this article)</span></span> 

<span data-ttu-id="7a1a0-111">Entrambe queste opzioni comportano che l'applicazione venga fornita con un token OAuth 2.0, che viene associato a ogni richiesta effettuata ad Azure Data Lake Store o Azure Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-111">Both these options result in your application being provided with an OAuth 2.0 token, which gets attached to each request made to Azure Data Lake Store or Azure Data Lake Analytics.</span></span>

<span data-ttu-id="7a1a0-112">Questo articolo illustra come creare un'**applicazione Web di Azure AD per l'autenticazione da servizio a servizio**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-112">This article talks about how create an **Azure AD web application for service-to-service authentication**.</span></span> <span data-ttu-id="7a1a0-113">Per istruzioni sulla configurazione dell'applicazione Azure AD per l'autenticazione dell'utente finale, vedere [End-user authentication with Data Lake Store using Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md) (Autenticazione dell'utente finale con Data Lake Store tramite Azure Active Directory).</span><span class="sxs-lookup"><span data-stu-id="7a1a0-113">For instructions on Azure AD application configuration for end-user authentication see [End-user authentication with Data Lake Store using Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7a1a0-114">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="7a1a0-114">Prerequisites</span></span>
* <span data-ttu-id="7a1a0-115">Una sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-115">An Azure subscription.</span></span> <span data-ttu-id="7a1a0-116">Vedere [Ottenere una versione di valutazione gratuita di Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="7a1a0-116">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

## <a name="step-1-create-an-active-directory-web-application"></a><span data-ttu-id="7a1a0-117">Passaggio 1: Creare un'applicazione Web di Active Directory</span><span class="sxs-lookup"><span data-stu-id="7a1a0-117">Step 1: Create an Active Directory web application</span></span>

<span data-ttu-id="7a1a0-118">Creare e configurare un'applicazione Web di Azure AD per l'autenticazione da servizio a servizio con Azure Data Lake Store tramite Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-118">Create and configure an Azure AD web application for service-to-service authentication with Azure Data Lake Store using Azure Active Directory.</span></span> <span data-ttu-id="7a1a0-119">Per istruzioni, vedere [Creare un'applicazione Azure AD](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="7a1a0-119">For instructions, see [Create an Azure AD application](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span></span>

<span data-ttu-id="7a1a0-120">Mentre si seguono le istruzioni nel collegamento riportato sopra, assicurarsi di selezionare **App Web/API** come tipo di applicazione, come illustrato nella schermata seguente.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-120">While following the instructions at the above link, make sure you select **Web App / API** for application type, as shown in the screenshot below.</span></span>

<span data-ttu-id="7a1a0-121">![Creare un'app Web](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Creare un'app Web")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-121">![Create web app](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Create web app")</span></span>

## <a name="step-2-get-application-id-authentication-key-and-tenant-id"></a><span data-ttu-id="7a1a0-122">Passaggio 2: ottenere l'ID applicazione, la chiave di autenticazione e l'ID del tenant</span><span class="sxs-lookup"><span data-stu-id="7a1a0-122">Step 2: Get application id, authentication key, and tenant id</span></span>
<span data-ttu-id="7a1a0-123">Quando si esegue l'accesso a livello di codice, è necessario l'ID dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-123">When programmatically logging in, you need the id for your application.</span></span> <span data-ttu-id="7a1a0-124">Se l'applicazione viene eseguita con le proprie credenziali, è necessaria anche una chiave di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-124">If the application runs under its own credentials, you will also need an authentication key.</span></span>

* <span data-ttu-id="7a1a0-125">Per istruzioni su come recuperare l'ID applicazione e la chiave di autenticazione, definita anche segreto client, per l'applicazione, vedere [Ottenere l'ID applicazione e la chiave di autenticazione](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span><span class="sxs-lookup"><span data-stu-id="7a1a0-125">For instructions on how to retrieve the application ID and authentication key (also called the client secret) for your application, see [Get application ID and authentication key](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span></span>

* <span data-ttu-id="7a1a0-126">Per istruzioni su come recuperare l'ID tenant, vedere [Ottenere l'ID tenant](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span><span class="sxs-lookup"><span data-stu-id="7a1a0-126">For instructions on how to retrieve the tenant ID, see [Get tenant ID](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span></span>

## <a name="step-3-assign-the-azure-ad-application-to-the-azure-data-lake-store-account-file-or-folder-only-for-service-to-service-authentication"></a><span data-ttu-id="7a1a0-127">Passaggio 3: Assegnare l'applicazione Azure AD al file o alla cartella dell'account di Azure Data Lake Store (solo per l'autenticazione da servizio a servizio)</span><span class="sxs-lookup"><span data-stu-id="7a1a0-127">Step 3: Assign the Azure AD application to the Azure Data Lake Store account file or folder (only for service-to-service authentication)</span></span>
1. <span data-ttu-id="7a1a0-128">Accedere al nuovo [portale di Azure](https://portal.azure.com) e aprire l'account Azure Data Lake Store da associare all'applicazione Azure Active Directory creata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-128">Sign on to the new [Azure portal](https://portal.azure.com) and open the Azure Data Lake Store account that you want to associate with the Azure Active Directory application you created earlier.</span></span>
2. <span data-ttu-id="7a1a0-129">Nel pannello dell'account di Archivio Data Lake, fare clic su **Esplora dati**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-129">In your Data Lake Store account blade, click **Data Explorer**.</span></span>
   
    <span data-ttu-id="7a1a0-130">![Creare directory nell'account Data Lake Store](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Creare directory nell'account Data Lake Store")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-130">![Create directories in Data Lake Store account](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Create directories in Data Lake account")</span></span>
3. <span data-ttu-id="7a1a0-131">Nel pannello **Esplora dati** fare clic sul file o sulla cartella a cui si desidera fornire l'accesso all'applicazione Azure AD e quindi fare clic su **Accesso**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-131">In the **Data Explorer** blade, click the file or folder for which you want to provide access to the Azure AD application, and then click **Access**.</span></span> <span data-ttu-id="7a1a0-132">Per configurare l'accesso a un file, è necessario fare clic su **Accesso** dal pannello **Anteprima file**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-132">To configure access to a file, you must click **Access** from the **File Preview** blade.</span></span>
   
    <span data-ttu-id="7a1a0-133">![Configurare elenchi di controllo di accesso nel file system di Data Lake](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Configurare elenchi di controllo di accesso nel file system di Data Lake")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-133">![Set ACLs on Data Lake file system](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Set ACLs on Data Lake file system")</span></span>
4. <span data-ttu-id="7a1a0-134">Il pannello di **accesso** elenca i profili di accesso standard e personalizzato già assegnati all'elemento radice.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-134">The **Access** blade lists the standard access and custom access already assigned to the root.</span></span> <span data-ttu-id="7a1a0-135">Fare clic sull'icona **Aggiungi** per aggiungere elenchi di controllo per l'accesso personalizzato.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-135">Click the **Add** icon to add custom-level ACLs.</span></span>
   
    <span data-ttu-id="7a1a0-136">![Elencare gli accessi standard e personalizzati](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "Elencare gli accessi standard e personalizzati")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-136">![List standard and custom access](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "List standard and custom access")</span></span>
5. <span data-ttu-id="7a1a0-137">Fare clic sull'icona **Aggiungi** per aprire il pannello **Aggiungi accesso personalizzato**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-137">Click the **Add** icon to open the **Add Custom Access** blade.</span></span> <span data-ttu-id="7a1a0-138">In questo pannello fare clic su **Seleziona utente o gruppo** e, in questo **pannello**, cercare l'applicazione di Azure Active Directory precedentemente creata.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-138">In this blade, click **Select User or Group**, and then in **Select User or Group** blade, look for the Azure Active Directory application you created earlier.</span></span> <span data-ttu-id="7a1a0-139">Se è presente un elevato numero di gruppi, usare la casella di testo nella parte superiore per filtrare in base al nome del gruppo.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-139">If you have a lot of groups to search from, use the text box at the top to filter on the group name.</span></span> <span data-ttu-id="7a1a0-140">Fare clic sul gruppo che si desidera aggiungere e quindi su **Seleziona**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-140">Click the group you want to add and then click **Select**.</span></span>
   
    <span data-ttu-id="7a1a0-141">![Aggiungere un gruppo](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Aggiungere un gruppo")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-141">![Add a group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Add a group")</span></span>
6. <span data-ttu-id="7a1a0-142">Fare clic su **Selezionare le autorizzazioni**, selezionare le autorizzazioni e se si desidera assegnare le autorizzazioni come un ACL predefinito, ACL di accesso o entrambi.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-142">Click **Select Permissions**, select the permissions and whether you want to assign the permissions as a default ACL, access ACL, or both.</span></span> <span data-ttu-id="7a1a0-143">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-143">Click **OK**.</span></span>
   
    <span data-ttu-id="7a1a0-144">![Assegnare autorizzazioni a un gruppo](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "Assegnare autorizzazioni a un gruppo")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-144">![Assign permissions to group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "Assign permissions to group")</span></span>
   
    <span data-ttu-id="7a1a0-145">Per altre informazioni sulle autorizzazioni in Data Lake Store e gli ACL predefiniti/di accesso, vedere [Controllo di accesso in Data Lake Store](data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="7a1a0-145">For more information about permissions in Data Lake Store, and Default/Access ACLs, see [Access Control in Data Lake Store](data-lake-store-access-control.md).</span></span>
7. <span data-ttu-id="7a1a0-146">Nel pannello **Aggiungi accesso personalizzato** fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-146">In the **Add Custom Access** blade, click **OK**.</span></span> <span data-ttu-id="7a1a0-147">Il gruppo appena aggiunto, con le autorizzazioni associate, risulterà ora elencato nel pannello di **accesso** .</span><span class="sxs-lookup"><span data-stu-id="7a1a0-147">The newly added group, with the associated permissions, will now be listed in the **Access** blade.</span></span>
   
    <span data-ttu-id="7a1a0-148">![Assegnare autorizzazioni a un gruppo](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "Assegnare autorizzazioni a un gruppo")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-148">![Assign permissions to group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "Assign permissions to group")</span></span>

## <a name="step-4-get-the-oauth-20-token-endpoint-only-for-java-based-applications"></a><span data-ttu-id="7a1a0-149">Passaggio 4: Ottenere l'endpoint di token OAuth 2.0 (solo per applicazioni basate su Java)</span><span class="sxs-lookup"><span data-stu-id="7a1a0-149">Step 4: Get the OAuth 2.0 token endpoint (only for Java-based applications)</span></span>

1. <span data-ttu-id="7a1a0-150">Accedere al nuovo [portale di Azure](https://portal.azure.com) e fare clic su Active Directory dal riquadro a sinistra.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-150">Sign on to the new [Azure portal](https://portal.azure.com) and click Active Directory from the left pane.</span></span>

2. <span data-ttu-id="7a1a0-151">Nel riquadro a sinistra fare clic su **Registrazioni per l'app**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-151">From the left pane, click **App registrations**.</span></span>

3. <span data-ttu-id="7a1a0-152">Nella parte superiore del pannello Registrazioni per l'app fare clic su **Endpoint**.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-152">From the top of the App registrations blade, click **Endpoints**.</span></span>

    <span data-ttu-id="7a1a0-153">![Endpoint di token OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "Endpoint di token OAuth")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-153">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "OAuth token endpoint")</span></span>

4. <span data-ttu-id="7a1a0-154">Copiare l'endpoint di token OAuth 2.0 dall'elenco di endpoint.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-154">From the list of endpoints, copy the OAuth 2.0 token endpoint.</span></span>

    <span data-ttu-id="7a1a0-155">![Endpoint di token OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "Endpoint di token OAuth")</span><span class="sxs-lookup"><span data-stu-id="7a1a0-155">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "OAuth token endpoint")</span></span>   

## <a name="next-steps"></a><span data-ttu-id="7a1a0-156">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="7a1a0-156">Next steps</span></span>
<span data-ttu-id="7a1a0-157">In questo articolo è stata creata un'applicazione Web di Azure AD e sono state raccolte le informazioni necessarie nelle applicazioni client create tramite .NET SDK, Java SDK e così via. È ora possibile passare agli articoli seguenti che illustrano come usare l'applicazione Web di Azure AD per eseguire prima l'autenticazione con Data Lake Store e quindi altre operazioni sull'archivio.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-157">In this article you created an Azure AD web application and gathered the information you need in your client applications that you author using .NET SDK, Java SDK, etc. You can now proceed to the following articles that talk about how to use the Azure AD web application to first authenticate with Data Lake Store and then perform other operations on the store.</span></span>

* [<span data-ttu-id="7a1a0-158">Introduzione a Azure Data Lake Store utilizzando .NET SDK</span><span class="sxs-lookup"><span data-stu-id="7a1a0-158">Get started with Azure Data Lake Store using .NET SDK</span></span>](data-lake-store-get-started-net-sdk.md)
* [<span data-ttu-id="7a1a0-159">Introduzione ad Azure Data Lake Store con Java SDK</span><span class="sxs-lookup"><span data-stu-id="7a1a0-159">Get started with Azure Data Lake Store using Java SDK</span></span>](data-lake-store-get-started-java-sdk.md)

<span data-ttu-id="7a1a0-160">Questo articolo ha illustrato le procedure di base necessarie per creare ed eseguire un'entità utente per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7a1a0-160">This article walked you through the basic steps needed to get a user principal up and running for your application.</span></span> <span data-ttu-id="7a1a0-161">Per altre informazioni, vedere gli articoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="7a1a0-161">You can look at the following articles to get further information:</span></span>
* [<span data-ttu-id="7a1a0-162">Usare PowerShell per creare un'entità servizio</span><span class="sxs-lookup"><span data-stu-id="7a1a0-162">Use PowerShell to create service principal</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal)
* [<span data-ttu-id="7a1a0-163">Usare l'autenticazione del certificato per l'autenticazione basata su entità servizio</span><span class="sxs-lookup"><span data-stu-id="7a1a0-163">Use certificate authentication for service principal authentication</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal#create-service-principal-with-certificate)
* <span data-ttu-id="7a1a0-164">[Other methods to authenticate to Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-authentication-scenarios) (Altri metodi di autenticazione in Azure AD)</span><span class="sxs-lookup"><span data-stu-id="7a1a0-164">[Other methods to authenticate to Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-authentication-scenarios)</span></span>


