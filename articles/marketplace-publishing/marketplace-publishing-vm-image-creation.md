---
title: un'immagine di macchina virtuale per hello Azure Marketplace aaaCreating | Documenti Microsoft
description: Istruzioni dettagliate su come una macchina virtuale toocreate immagine per hello Azure Marketplace per altri toopurchase.
services: Azure Marketplace
documentationcenter: 
author: HannibalSII
manager: hascipio
editor: 
ms.assetid: 5c937b8e-e28d-4007-9fef-624046bca2ae
ms.service: marketplace
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: Azure
ms.workload: na
ms.date: 01/05/2017
ms.author: hascipio; v-divte
ms.openlocfilehash: 65e1c0530bb050fb379a52544e36c55faacd84df
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="guide-toocreate-a-virtual-machine-image-for-hello-azure-marketplace"></a><span data-ttu-id="e620d-103">Guida toocreate un'immagine di macchina virtuale per hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="e620d-103">Guide toocreate a virtual machine image for hello Azure Marketplace</span></span>
<span data-ttu-id="e620d-104">In questo articolo, **passaggio 2**, illustra preparazione hello dischi rigidi virtuali (VHD) che si distribuirà toohello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e620d-104">This article, **Step 2**, walks you through preparing hello virtual hard disks (VHDs) that you will deploy toohello Azure Marketplace.</span></span> <span data-ttu-id="e620d-105">I dischi rigidi virtuali sono foundation hello dello SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-105">Your VHDs are hello foundation of your SKU.</span></span> <span data-ttu-id="e620d-106">processo Hello varia a seconda se si specifica una SKU basati su Windows o Linux.</span><span class="sxs-lookup"><span data-stu-id="e620d-106">hello process differs depending on whether you are providing a Linux-based or Windows-based SKU.</span></span> <span data-ttu-id="e620d-107">In questo articolo vengono descritti entrambi gli scenari.</span><span class="sxs-lookup"><span data-stu-id="e620d-107">This article covers both scenarios.</span></span> <span data-ttu-id="e620d-108">Questo processo può essere eseguito parallelamente alla [creazione e registrazione dell'account][link-acct-creation].</span><span class="sxs-lookup"><span data-stu-id="e620d-108">This process can be performed in parallel with [Account creation and registration][link-acct-creation].</span></span>

## <a name="1-define-offers-and-skus"></a><span data-ttu-id="e620d-109">1. Definire le offerte e gli SKU</span><span class="sxs-lookup"><span data-stu-id="e620d-109">1. Define Offers and SKUs</span></span>
<span data-ttu-id="e620d-110">In questa sezione vengono offerte hello toodefine e i relativi SKU associato.</span><span class="sxs-lookup"><span data-stu-id="e620d-110">In this section, you learn toodefine hello offers and their associated SKUs.</span></span>

<span data-ttu-id="e620d-111">Un'offerta è un tooall "padre" di relativi SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-111">An offer is a "parent" tooall of its SKUs.</span></span> <span data-ttu-id="e620d-112">È possibile disporre di più offerte.</span><span class="sxs-lookup"><span data-stu-id="e620d-112">You can have multiple offers.</span></span> <span data-ttu-id="e620d-113">Come si decide di toostructure le offerte è tooyou.</span><span class="sxs-lookup"><span data-stu-id="e620d-113">How you decide toostructure your offers is up tooyou.</span></span> <span data-ttu-id="e620d-114">Quando un'offerta viene inserita toostaging, esso viene inserito insieme a tutti i relativi SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-114">When an offer is pushed toostaging, it is pushed along with all of its SKUs.</span></span> <span data-ttu-id="e620d-115">Valutare attentamente gli identificatori SKU, poiché saranno visibili nell'URL hello:</span><span class="sxs-lookup"><span data-stu-id="e620d-115">Carefully consider your SKU identifiers, because they will be visible in hello URL:</span></span>

* <span data-ttu-id="e620d-116">Azure.com: http://azure.microsoft.com/marketplace/partners/{PartnerNamespace}/{OfferIdentifier}-{SKUidentifier}</span><span class="sxs-lookup"><span data-stu-id="e620d-116">Azure.com: http://azure.microsoft.com/marketplace/partners/{PartnerNamespace}/{OfferIdentifier}-{SKUidentifier}</span></span>
* <span data-ttu-id="e620d-117">Portale di anteprima di Azure: https://portal.azure.com/#gallery/{PublisherNamespace}.{OfferIdentifier}{SKUIDdentifier}</span><span class="sxs-lookup"><span data-stu-id="e620d-117">Azure preview portal: https://portal.azure.com/#gallery/{PublisherNamespace}.{OfferIdentifier}{SKUIDdentifier}</span></span>  

<span data-ttu-id="e620d-118">Uno SKU è hello nome commerciale un'immagine di macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-118">A SKU is hello commercial name for a VM image.</span></span> <span data-ttu-id="e620d-119">Un'immagine di macchina virtuale contiene un disco del sistema operativo e zero o più dischi dati.</span><span class="sxs-lookup"><span data-stu-id="e620d-119">A VM image contains one operating system disk and zero or more data disks.</span></span> <span data-ttu-id="e620d-120">È essenzialmente hello completo profilo di archiviazione per una macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-120">It is essentially hello complete storage profile for a virtual machine.</span></span> <span data-ttu-id="e620d-121">È necessario un disco rigido virtuale per ogni disco.</span><span class="sxs-lookup"><span data-stu-id="e620d-121">One VHD is needed per disk.</span></span> <span data-ttu-id="e620d-122">I dischi di dati vuoto anche richiedono toobe un disco rigido virtuale creato.</span><span class="sxs-lookup"><span data-stu-id="e620d-122">Even blank data disks require a VHD toobe created.</span></span>

<span data-ttu-id="e620d-123">Indipendentemente dal quale sistema operativo in uso, aggiungere solo hello numero minimo di dischi di dati necessari per hello SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-123">Regardless of which operating system you use, add only hello minimum number of data disks needed by hello SKU.</span></span> <span data-ttu-id="e620d-124">I clienti non è possibile rimuovere i dischi che fanno parte di un'immagine in fase di distribuzione di hello ma è sempre possono aggiungere dischi durante o dopo la distribuzione se hanno bisogno.</span><span class="sxs-lookup"><span data-stu-id="e620d-124">Customers cannot remove disks that are part of an image at hello time of deployment but can always add disks during or after deployment if they need them.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e620d-125">**Non modificare il numero di dischi in una nuova versione dell'immagine.**</span><span class="sxs-lookup"><span data-stu-id="e620d-125">**Do not change disk count in a new image version.**</span></span> <span data-ttu-id="e620d-126">Se è necessario riconfigurare i dischi dati nell'immagine di hello, definire uno SKU di nuovo.</span><span class="sxs-lookup"><span data-stu-id="e620d-126">If you must reconfigure Data disks in hello image, define a new SKU.</span></span> <span data-ttu-id="e620d-127">Pubblicare una nuova versione di immagine con conteggi di diversi disco avranno potenziale hello di danneggiare la nuova distribuzione basata su hello nuova versione di immagine in caso di distribuzioni automatiche, ridimensionamento automatico di soluzioni tramite modelli ARM e altri scenari.</span><span class="sxs-lookup"><span data-stu-id="e620d-127">Publishing a new image version with different disk counts will have hello potential of breaking new deployment based on hello new image version in cases of auto-scaling, automatic deployments of solutions through ARM templates and other scenarios.</span></span>
>
>

### <a name="11-add-an-offer"></a><span data-ttu-id="e620d-128">1.1 Aggiungere un'offerta</span><span class="sxs-lookup"><span data-stu-id="e620d-128">1.1 Add an offer</span></span>
1. <span data-ttu-id="e620d-129">Accedi toohello [portale pubblicazione] [ link-pubportal] utilizzando l'account.</span><span class="sxs-lookup"><span data-stu-id="e620d-129">Sign in toohello [Publishing Portal][link-pubportal] by using your seller account.</span></span>
2. <span data-ttu-id="e620d-130">Seleziona hello **macchine virtuali** scheda di hello portale di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-130">Select hello **Virtual Machines** tab of hello Publishing Portal.</span></span> <span data-ttu-id="e620d-131">Nel campo di immissione richiesta hello, immettere il nome dell'offerta.</span><span class="sxs-lookup"><span data-stu-id="e620d-131">In hello prompted entry field, enter your offer name.</span></span> <span data-ttu-id="e620d-132">nome dell'offerta Hello è in genere il nome di hello del prodotto hello o un servizio che si prevede di toosell in hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e620d-132">hello offer name is typically hello name of hello product or service that you plan toosell in hello Azure Marketplace.</span></span>
3. <span data-ttu-id="e620d-133">Selezionare **Crea**.</span><span class="sxs-lookup"><span data-stu-id="e620d-133">Select **Create**.</span></span>

### <a name="12-define-a-sku"></a><span data-ttu-id="e620d-134">1.2 Definire uno SKU</span><span class="sxs-lookup"><span data-stu-id="e620d-134">1.2 Define a SKU</span></span>
<span data-ttu-id="e620d-135">Dopo aver aggiunto un'offerta, è necessario toodefine e identificare le SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-135">After you have added an offer, you need toodefine and identify your SKUs.</span></span> <span data-ttu-id="e620d-136">È possibile avere più offerte e ogni offerta può includere più SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-136">You can have multiple offers, and each offer can have multiple SKUs under it.</span></span> <span data-ttu-id="e620d-137">Quando un'offerta viene inserita toostaging, esso viene inserito insieme a tutti i relativi SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-137">When an offer is pushed toostaging, it is pushed along with all of its SKUs.</span></span>

1. <span data-ttu-id="e620d-138">**Aggiungere uno SKU.**</span><span class="sxs-lookup"><span data-stu-id="e620d-138">**Add a SKU.**</span></span> <span data-ttu-id="e620d-139">Hello SKU richiede un identificatore, viene utilizzato nell'URL hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-139">hello SKU requires an identifier, which is used in hello URL.</span></span> <span data-ttu-id="e620d-140">Identificatore Hello deve essere univoci all'interno del profilo di pubblicazione, ma non c'è alcun rischio di conflitti di identificatore con altri server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-140">hello identifier must be unique within your publishing profile, but there is no risk of identifier collision with other publishers.</span></span>

   > [!NOTE]
   > <span data-ttu-id="e620d-141">offerta Hello e gli identificatori SKU vengono visualizzati nell'URL offerta hello hello Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e620d-141">hello offer and SKU identifiers are displayed in hello offer URL in hello Marketplace.</span></span>
   >
   >
2. <span data-ttu-id="e620d-142">**Aggiungere una descrizione di riepilogo per lo SKU.**</span><span class="sxs-lookup"><span data-stu-id="e620d-142">**Add a summary description for your SKU.**</span></span> <span data-ttu-id="e620d-143">Descrizioni di riepilogo sono toocustomers visibile, è consigliabile eseguire li facilmente leggibili.</span><span class="sxs-lookup"><span data-stu-id="e620d-143">Summary descriptions are visible toocustomers, so you should make them easily readable.</span></span> <span data-ttu-id="e620d-144">Queste informazioni non è necessario toobe bloccato finché non sarà fase "Push tooStaging" hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-144">This information does not need toobe locked until hello "Push tooStaging" phase.</span></span> <span data-ttu-id="e620d-145">Fino ad allora, si libera tooedit è.</span><span class="sxs-lookup"><span data-stu-id="e620d-145">Until then, you are free tooedit it.</span></span>
3. <span data-ttu-id="e620d-146">Se si utilizza SKU basati su Windows, seguire i collegamenti consigliati hello tooacquire hello approvato le versioni di Windows Server.</span><span class="sxs-lookup"><span data-stu-id="e620d-146">If you are using Windows-based SKUs, follow hello suggested links tooacquire hello approved versions of Windows Server.</span></span>

## <a name="2-create-an-azure-compatible-vhd-linux-based"></a><span data-ttu-id="e620d-147">2. Creare un VHD compatibile con Azure (basato su Linux)</span><span class="sxs-lookup"><span data-stu-id="e620d-147">2. Create an Azure-compatible VHD (Linux-based)</span></span>
<span data-ttu-id="e620d-148">In questa sezione è incentrata sulle procedure consigliate per la creazione di un'immagine di macchina virtuale basata su Linux per hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e620d-148">This section focuses on best practices for creating a Linux-based VM image for hello Azure Marketplace.</span></span> <span data-ttu-id="e620d-149">Per una procedura dettagliata, vedere toohello seguente documentazione: [creazione e caricamento di un disco rigido virtuale contenente hello del sistema operativo Linux](../virtual-machines/linux/classic/create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="e620d-149">For a step-by-step walkthrough, refer toohello following documentation: [Creating and Uploading a Virtual Hard Disk that Contains hello Linux Operating System](../virtual-machines/linux/classic/create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)</span></span>

## <a name="3-create-an-azure-compatible-vhd-windows-based"></a><span data-ttu-id="e620d-150">3. Creare un VHD compatibile con Azure (basato su Windows)</span><span class="sxs-lookup"><span data-stu-id="e620d-150">3. Create an Azure-compatible VHD (Windows-based)</span></span>
<span data-ttu-id="e620d-151">In questa sezione è incentrata sulla hello passaggi toocreate uno SKU basato su Windows Server per hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e620d-151">This section focuses on hello steps toocreate a SKU based on Windows Server for hello Azure Marketplace.</span></span>

### <a name="31-ensure-that-you-are-using-hello-correct-base-vhds"></a><span data-ttu-id="e620d-152">3.1 Assicurarsi che si sta utilizzando hello correggere VHD di base</span><span class="sxs-lookup"><span data-stu-id="e620d-152">3.1 Ensure that you are using hello correct base VHDs</span></span>
<span data-ttu-id="e620d-153">sistema operativo di Hello disco rigido virtuale per l'immagine di macchina virtuale deve essere basato su un'immagine di base approvato Azure che contiene il Server di Windows o SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e620d-153">hello operating system VHD for your VM image must be based on an Azure-approved base image that contains Windows Server or SQL Server.</span></span>

<span data-ttu-id="e620d-154">toobegin, creare una macchina virtuale da una delle seguenti immagini, disponibile all'indirizzo hello hello [portale Microsoft Azure][link-azure-portal]:</span><span class="sxs-lookup"><span data-stu-id="e620d-154">toobegin, create a VM from one of hello following images, located at hello [Microsoft Azure portal][link-azure-portal]:</span></span>

* <span data-ttu-id="e620d-155">Windows Server ([2012 R2 Datacenter][link-datactr-2012-r2], [2012 Datacenter][link-datactr-2012], [2008 R2 SP1][link-datactr-2008-r2])</span><span class="sxs-lookup"><span data-stu-id="e620d-155">Windows Server ([2012 R2 Datacenter][link-datactr-2012-r2], [2012 Datacenter][link-datactr-2012], [2008 R2 SP1][link-datactr-2008-r2])</span></span>
* <span data-ttu-id="e620d-156">SQL Server 2014 ([Enterprise][link-sql-2014-ent], [Standard][link-sql-2014-std], [Web][link-sql-2014-web])</span><span class="sxs-lookup"><span data-stu-id="e620d-156">SQL Server 2014 ([Enterprise][link-sql-2014-ent], [Standard][link-sql-2014-std], [Web][link-sql-2014-web])</span></span>
* <span data-ttu-id="e620d-157">SQL Server 2012 SP2 ([Enterprise][link-sql-2012-ent], [Standard][link-sql-2012-std], [Web][link-sql-2012-web])</span><span class="sxs-lookup"><span data-stu-id="e620d-157">SQL Server 2012 SP2 ([Enterprise][link-sql-2012-ent], [Standard][link-sql-2012-std], [Web][link-sql-2012-web])</span></span>

<span data-ttu-id="e620d-158">Questi collegamenti sono disponibili nel portale di pubblicazione di hello in pagina SKU hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-158">These links can also be found in hello Publishing Portal under hello SKU page.</span></span>

> [!TIP]
> <span data-ttu-id="e620d-159">Se si utilizza il portale di Azure corrente di hello o PowerShell, sono approvate le immagini di Windows Server pubblicate 8 settembre 2014 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="e620d-159">If you are using hello current Azure portal or PowerShell, Windows Server images published on September 8, 2014 and later are approved.</span></span>
>
>

### <a name="32-create-your-windows-based-vm"></a><span data-ttu-id="e620d-160">3.2 Creare la macchina virtuale basata su Windows</span><span class="sxs-lookup"><span data-stu-id="e620d-160">3.2 Create your Windows-based VM</span></span>
<span data-ttu-id="e620d-161">Dal portale di Microsoft Azure hello, è possibile creare la macchina virtuale in base a un'immagine di base approvata in pochi semplici passaggi.</span><span class="sxs-lookup"><span data-stu-id="e620d-161">From hello Microsoft Azure portal, you can create your VM based on an approved base image in just a few simple steps.</span></span> <span data-ttu-id="e620d-162">esempio Hello viene fornita una panoramica del processo di hello:</span><span class="sxs-lookup"><span data-stu-id="e620d-162">hello following is an overview of hello process:</span></span>

1. <span data-ttu-id="e620d-163">Immagine di base hello pagina selezionare **crea macchina virtuale** toobe indirizzate toohello nuova [portale Microsoft Azure][link-azure-portal].</span><span class="sxs-lookup"><span data-stu-id="e620d-163">From hello base image page, select **Create Virtual Machine** toobe directed toohello new [Microsoft Azure portal][link-azure-portal].</span></span>

    ![disegno][img-acom-1]
2. <span data-ttu-id="e620d-165">Accedi portale toohello con account Microsoft hello e una password per la sottoscrizione di Azure da toouse hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-165">Sign in toohello portal with hello Microsoft account and password for hello Azure subscription you want toouse.</span></span>
3. <span data-ttu-id="e620d-166">Seguire hello richieste toocreate una macchina virtuale utilizzando l'immagine di base hello selezionata.</span><span class="sxs-lookup"><span data-stu-id="e620d-166">Follow hello prompts toocreate a VM by using hello base image you have selected.</span></span> <span data-ttu-id="e620d-167">È necessario tooprovide un nome host (nome del computer hello), un nome utente (registrato come amministratore) e una password per hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-167">You need tooprovide a host name (name of hello computer), user name (registered as an administrator), and password for hello VM.</span></span>

    ![disegno][img-portal-vm-create]
4. <span data-ttu-id="e620d-169">Selezionare dimensione hello di hello VM toodeploy:</span><span class="sxs-lookup"><span data-stu-id="e620d-169">Select hello size of hello VM toodeploy:</span></span>

    <span data-ttu-id="e620d-170">a.</span><span class="sxs-lookup"><span data-stu-id="e620d-170">a.</span></span>    <span data-ttu-id="e620d-171">Se si prevede di toodevelop hello disco rigido virtuale locale, hello dimensione non è importante.</span><span class="sxs-lookup"><span data-stu-id="e620d-171">If you plan toodevelop hello VHD on-premises, hello size does not matter.</span></span> <span data-ttu-id="e620d-172">È consigliabile utilizzare uno dei hello macchine virtuali più piccole.</span><span class="sxs-lookup"><span data-stu-id="e620d-172">Consider using one of hello smaller VMs.</span></span>

    <span data-ttu-id="e620d-173">b.</span><span class="sxs-lookup"><span data-stu-id="e620d-173">b.</span></span>    <span data-ttu-id="e620d-174">Se si prevede di immagine hello toodevelop in Azure, prendere in considerazione l'uso di uno di hello consigliato dimensioni delle macchine Virtuali per l'immagine selezionata hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-174">If you plan toodevelop hello image in Azure, consider using one of hello recommended VM sizes for hello selected image.</span></span>

    <span data-ttu-id="e620d-175">c.</span><span class="sxs-lookup"><span data-stu-id="e620d-175">c.</span></span>    <span data-ttu-id="e620d-176">Per informazioni sui prezzi, vedere toohello **consigliato i livelli di prezzo** selettore visualizzati nel portale di hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-176">For pricing information, refer toohello **Recommended pricing tiers** selector displayed on hello portal.</span></span> <span data-ttu-id="e620d-177">Fornirà hello tre le dimensioni consigliate fornite dall'autore hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-177">It will provide hello three recommended sizes provided by hello publisher.</span></span> <span data-ttu-id="e620d-178">(In questo caso, server di pubblicazione hello è Microsoft.)</span><span class="sxs-lookup"><span data-stu-id="e620d-178">(In this case, hello publisher is Microsoft.)</span></span>

    ![disegno][img-portal-vm-size]
5. <span data-ttu-id="e620d-180">Impostare le proprietà:</span><span class="sxs-lookup"><span data-stu-id="e620d-180">Set properties:</span></span>

    <span data-ttu-id="e620d-181">a.</span><span class="sxs-lookup"><span data-stu-id="e620d-181">a.</span></span>    <span data-ttu-id="e620d-182">Per la distribuzione rapida, è possibile lasciare hello valori predefiniti per proprietà hello in **configurazione facoltativa** e **gruppo di risorse**.</span><span class="sxs-lookup"><span data-stu-id="e620d-182">For quick deployment, you can leave hello default values for hello properties under **Optional Configuration** and **Resource Group**.</span></span>

    <span data-ttu-id="e620d-183">b.</span><span class="sxs-lookup"><span data-stu-id="e620d-183">b.</span></span>    <span data-ttu-id="e620d-184">In **Account di archiviazione**, è possibile selezionare facoltativamente l'account di archiviazione hello in quale sistema operativo di hello VHD verranno archiviati.</span><span class="sxs-lookup"><span data-stu-id="e620d-184">Under **Storage Account**, you can optionally select hello storage account in which hello operating system VHD will be stored.</span></span>

    <span data-ttu-id="e620d-185">c.</span><span class="sxs-lookup"><span data-stu-id="e620d-185">c.</span></span>    <span data-ttu-id="e620d-186">In **gruppo di risorse**, è possibile selezionare facoltativamente gruppo logico di hello in cui tooplace hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-186">Under **Resource Group**, you can optionally select hello logical group in which tooplace hello VM.</span></span>
6. <span data-ttu-id="e620d-187">Seleziona hello **percorso** per la distribuzione:</span><span class="sxs-lookup"><span data-stu-id="e620d-187">Select hello **Location** for deployment:</span></span>

    <span data-ttu-id="e620d-188">a.</span><span class="sxs-lookup"><span data-stu-id="e620d-188">a.</span></span>    <span data-ttu-id="e620d-189">Se si prevede di toodevelop hello disco rigido virtuale locale, il percorso di hello non è importante perché hello immagine tooAzure verrà caricato in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="e620d-189">If you plan toodevelop hello VHD on-premises, hello location does not matter because you will upload hello image tooAzure later.</span></span>

    <span data-ttu-id="e620d-190">b.</span><span class="sxs-lookup"><span data-stu-id="e620d-190">b.</span></span>    <span data-ttu-id="e620d-191">Se si prevede di immagine hello toodevelop in Azure, è consigliabile utilizzare una delle regioni di Microsoft Azure basata negli Stati Uniti hello dall'inizio hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-191">If you plan toodevelop hello image in Azure, consider using one of hello US-based Microsoft Azure regions from hello beginning.</span></span> <span data-ttu-id="e620d-192">Questo velocizza hello VHD processo di copia che Microsoft esegue per conto dell'utente quando si invia l'immagine per la certificazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-192">This speeds up hello VHD copying process that Microsoft performs on your behalf when you submit your image for certification.</span></span>

    ![disegno][img-portal-vm-location]
7. <span data-ttu-id="e620d-194">Fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="e620d-194">Click **Create**.</span></span> <span data-ttu-id="e620d-195">Hello VM avvia toodeploy.</span><span class="sxs-lookup"><span data-stu-id="e620d-195">hello VM starts toodeploy.</span></span> <span data-ttu-id="e620d-196">In pochi minuti, si avrà una corretta distribuzione e iniziarne immagine hello toocreate per lo SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-196">Within minutes, you will have a successful deployment and can begin toocreate hello image for your SKU.</span></span>

### <a name="33-develop-your-vhd-in-hello-cloud"></a><span data-ttu-id="e620d-197">3.3 sviluppare il disco rigido virtuale nel cloud hello</span><span class="sxs-lookup"><span data-stu-id="e620d-197">3.3 Develop your VHD in hello cloud</span></span>
<span data-ttu-id="e620d-198">Si consiglia di sviluppare il disco rigido virtuale nel cloud hello tramite Remote Desktop Protocol (RDP).</span><span class="sxs-lookup"><span data-stu-id="e620d-198">We strongly recommend that you develop your VHD in hello cloud by using Remote Desktop Protocol (RDP).</span></span> <span data-ttu-id="e620d-199">Connessione tooRDP con nome utente hello e la password specificati durante il provisioning.</span><span class="sxs-lookup"><span data-stu-id="e620d-199">You connect tooRDP with hello user name and password specified during provisioning.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e620d-200">Se si sviluppa il VHD in locale (scelta non consigliata), vedere l'articolo relativo alla [creazione di un'immagine di macchina virtuale in locale](marketplace-publishing-vm-image-creation-on-premise.md).</span><span class="sxs-lookup"><span data-stu-id="e620d-200">If you develop your VHD on-premises (which is not recommended), see [Creating a virtual machine image on-premises](marketplace-publishing-vm-image-creation-on-premise.md).</span></span> <span data-ttu-id="e620d-201">Scaricare il disco rigido virtuale non è necessaria se si sviluppa in cloud hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-201">Downloading your VHD is not necessary if you are developing in hello cloud.</span></span>
>
>

<span data-ttu-id="e620d-202">**Connetti tramite RDP usando hello [portale Microsoft Azure][link-azure-portal]**</span><span class="sxs-lookup"><span data-stu-id="e620d-202">**Connect via RDP using hello [Microsoft Azure portal][link-azure-portal]**</span></span>

1. <span data-ttu-id="e620d-203">Selezionare **Sfoglia** > **Macchine virtuali**.</span><span class="sxs-lookup"><span data-stu-id="e620d-203">Select **Browse** > **VMs**.</span></span>
2. <span data-ttu-id="e620d-204">Apre il pannello di macchine virtuali Hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-204">hello Virtual machines blade opens.</span></span> <span data-ttu-id="e620d-205">Verificare che tale macchina virtuale che si desidera tooconnect con hello è in esecuzione e quindi selezionarlo dall'elenco di hello di macchine virtuali distribuite.</span><span class="sxs-lookup"><span data-stu-id="e620d-205">Ensure that hello VM that you want tooconnect with is running, and then select it from hello list of deployed VMs.</span></span>
3. <span data-ttu-id="e620d-206">Verrà visualizzata una blade che descrive hello seleziona macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-206">A blade opens that describes hello selected VM.</span></span> <span data-ttu-id="e620d-207">Nella parte superiore di hello, fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="e620d-207">At hello top, click **Connect**.</span></span>
4. <span data-ttu-id="e620d-208">Si è nome utente di hello tooenter richiesta e la password specificata durante il provisioning.</span><span class="sxs-lookup"><span data-stu-id="e620d-208">You are prompted tooenter hello user name and password that you specified during provisioning.</span></span>

<span data-ttu-id="e620d-209">**Connettersi tramite RDP usando PowerShell**</span><span class="sxs-lookup"><span data-stu-id="e620d-209">**Connect via RDP using PowerShell**</span></span>

<span data-ttu-id="e620d-210">toodownload un computer locale tooa di file del desktop remoto, utilizzare hello [cmdlet Get-AzureRemoteDesktopFile][link-technet-2].</span><span class="sxs-lookup"><span data-stu-id="e620d-210">toodownload a remote desktop file tooa local machine, use hello [Get-AzureRemoteDesktopFile cmdlet][link-technet-2].</span></span> <span data-ttu-id="e620d-211">In ordine toouse questo cmdlet, è necessario nome hello tooknow del servizio hello e il nome di hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-211">In order toouse this cmdlet, you need tooknow hello name of hello service and name of hello VM.</span></span> <span data-ttu-id="e620d-212">Se è stato creato hello VM da hello [portale Microsoft Azure][link-azure-portal], è possibile trovare queste informazioni nella casella delle proprietà della macchina virtuale:</span><span class="sxs-lookup"><span data-stu-id="e620d-212">If you created hello VM from hello [Microsoft Azure portal][link-azure-portal], you can find this information under VM properties:</span></span>

1. <span data-ttu-id="e620d-213">Nel portale di Microsoft Azure hello selezionare **Sfoglia** > **macchine virtuali**.</span><span class="sxs-lookup"><span data-stu-id="e620d-213">In hello Microsoft Azure portal, select **Browse** > **VMs**.</span></span>
2. <span data-ttu-id="e620d-214">Apre il pannello di macchine virtuali Hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-214">hello Virtual machines blade opens.</span></span> <span data-ttu-id="e620d-215">Selezionare hello macchina virtuale che è stato distribuito.</span><span class="sxs-lookup"><span data-stu-id="e620d-215">Select hello VM that you deployed.</span></span>
3. <span data-ttu-id="e620d-216">Verrà visualizzata una blade che descrive hello seleziona macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-216">A blade opens that describes hello selected VM.</span></span>
4. <span data-ttu-id="e620d-217">Fare clic su **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="e620d-217">Click **Properties**.</span></span>
5. <span data-ttu-id="e620d-218">Hello prima parte del nome di dominio hello è il nome di servizio hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-218">hello first portion of hello domain name is hello service name.</span></span> <span data-ttu-id="e620d-219">nome host Hello è il nome di macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-219">hello host name is hello VM name.</span></span>

    ![disegno][img-portal-vm-rdp]
6. <span data-ttu-id="e620d-221">file RDP per desktop locale dell'amministratore di hello creato VM toohello Hello cmdlet toodownload hello è come indicato di seguito.</span><span class="sxs-lookup"><span data-stu-id="e620d-221">hello cmdlet toodownload hello RDP file for hello created VM toohello administrator's local desktop is as follows.</span></span>

        Get‐AzureRemoteDesktopFile ‐ServiceName “baseimagevm‐6820cq00” ‐Name “BaseImageVM” –LocalPath “C:\Users\Administrator\Desktop\BaseImageVM.rdp”

<span data-ttu-id="e620d-222">Ulteriori informazioni su RDP sono reperibile in MSDN nell'articolo hello [connettersi tooan macchina virtuale di Azure con RDP o SSH](http://msdn.microsoft.com/library/azure/dn535788.aspx).</span><span class="sxs-lookup"><span data-stu-id="e620d-222">More information about RDP can be found on MSDN in hello article [Connect tooan Azure VM with RDP or SSH](http://msdn.microsoft.com/library/azure/dn535788.aspx).</span></span>

<span data-ttu-id="e620d-223">**Configurare una macchina virtuale e creare lo SKU**</span><span class="sxs-lookup"><span data-stu-id="e620d-223">**Configure a VM and create your SKU**</span></span>

<span data-ttu-id="e620d-224">Dopo aver hello il sistema operativo che viene scaricata disco rigido virtuale, utilizzare Hyper-v e configurare un toobegin VM creazione lo SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-224">After hello operating system VHD is downloaded, use Hyper­V and configure a VM toobegin creating your SKU.</span></span> <span data-ttu-id="e620d-225">Procedura dettagliata è reperibile in hello seguendo il collegamento di TechNet: [installare Hyper-v e configurare una macchina virtuale](http://technet.microsoft.com/library/hh846766.aspx).</span><span class="sxs-lookup"><span data-stu-id="e620d-225">Detailed steps can be found at hello following TechNet link: [Install Hyper­V and Configure a VM](http://technet.microsoft.com/library/hh846766.aspx).</span></span>

### <a name="34-choose-hello-correct-vhd-size"></a><span data-ttu-id="e620d-226">3.4 scegliere dimensioni disco rigido virtuale corrette hello</span><span class="sxs-lookup"><span data-stu-id="e620d-226">3.4 Choose hello correct VHD size</span></span>
<span data-ttu-id="e620d-227">sistema operativo Windows di Hello VHD dell'immagine di macchina virtuale deve essere creata come un disco rigido virtuale in formato fisso 128 GB.</span><span class="sxs-lookup"><span data-stu-id="e620d-227">hello Windows operating system VHD in your VM image should be created as a 128-GB fixed-format VHD.</span></span>  

<span data-ttu-id="e620d-228">Se la dimensione fisica di hello è inferiore a 128 GB, hello disco rigido virtuale deve essere di tipo sparsa.</span><span class="sxs-lookup"><span data-stu-id="e620d-228">If hello physical size is less than 128 GB, hello VHD should be sparse.</span></span> <span data-ttu-id="e620d-229">immagini di Windows e SQL Server base Hello fornite già soddisfa questi requisiti, pertanto, non modificare hello formato o hello la dimensione del disco rigido virtuale ottenuto hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-229">hello base Windows and SQL Server images provided already meet these requirements, so do not change hello format or hello size of hello VHD obtained.</span></span>  

<span data-ttu-id="e620d-230">I dischi dati possono avere dimensioni fino a 1 TB.</span><span class="sxs-lookup"><span data-stu-id="e620d-230">Data disks can be as large as 1 TB.</span></span> <span data-ttu-id="e620d-231">Quando si scelgono dimensioni disco hello, tenere presente che i clienti non è possibile ridimensionare i dischi rigidi virtuali all'interno di un'immagine in fase di hello della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="e620d-231">When deciding on hello disk size, remember that customers cannot resize VHDs within an image at hello time of deployment.</span></span> <span data-ttu-id="e620d-232">I VHD dei dischi dati devono essere creati come VHD con formato fisso,</span><span class="sxs-lookup"><span data-stu-id="e620d-232">Data disk VHDs should be created as a fixed-format VHD.</span></span> <span data-ttu-id="e620d-233">ma devono anche essere di tipo sparse.</span><span class="sxs-lookup"><span data-stu-id="e620d-233">They should also be sparse.</span></span> <span data-ttu-id="e620d-234">I dischi dati possono essere vuoti o contenere dati.</span><span class="sxs-lookup"><span data-stu-id="e620d-234">Data disks can be empty or contain data.</span></span>

### <a name="35-install-hello-latest-windows-patches"></a><span data-ttu-id="e620d-235">3.5 installare patch più recente di Windows hello</span><span class="sxs-lookup"><span data-stu-id="e620d-235">3.5 Install hello latest Windows patches</span></span>
<span data-ttu-id="e620d-236">le immagini di base Hello contengono le patch più recente di hello backup tootheir data di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-236">hello base images contain hello latest patches up tootheir published date.</span></span> <span data-ttu-id="e620d-237">Prima di pubblicare il sistema operativo hello disco rigido virtuale è stato creato, verificare che Windows Update è stato eseguito e che tutti hello critici più recenti e sono stati installati gli aggiornamenti della sicurezza importante.</span><span class="sxs-lookup"><span data-stu-id="e620d-237">Before publishing hello operating system VHD you have created, ensure that Windows Update has been run and that all hello latest Critical and Important security updates have been installed.</span></span>

### <a name="36-perform-additional-configuration-and-schedule-tasks-as-necessary"></a><span data-ttu-id="e620d-238">3.6 Eseguire eventuali configurazioni aggiuntive e pianificare le attività nel modo necessario</span><span class="sxs-lookup"><span data-stu-id="e620d-238">3.6 Perform additional configuration and schedule tasks as necessary</span></span>
<span data-ttu-id="e620d-239">Se è necessaria una configurazione aggiuntiva, considerare l'uso di un'attività pianificata che viene eseguito all'avvio toomake qualsiasi toohello modifiche finali VM dopo che è stato distribuito:</span><span class="sxs-lookup"><span data-stu-id="e620d-239">If additional configuration is needed, consider using a scheduled task that runs at startup toomake any final changes toohello VM after it has been deployed:</span></span>

* <span data-ttu-id="e620d-240">È un'attività di hello di best practice toohave eliminare se stesso al termine dell'esecuzione ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="e620d-240">It is a best practice toohave hello task delete itself upon successful execution.</span></span>
* <span data-ttu-id="e620d-241">Nessuna configurazione affidamento esclusivamente su unità diversa da unità C e D, perché queste offrono prestazioni hello solo due unità che è sempre garantita tooexist.</span><span class="sxs-lookup"><span data-stu-id="e620d-241">No configuration should rely on drives other than drives C or D, because these are hello only two drives that are always guaranteed tooexist.</span></span> <span data-ttu-id="e620d-242">L'unità C è disco del sistema operativo hello e D unità disco locale temporaneo hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-242">Drive C is hello operating system disk, and drive D is hello temporary local disk.</span></span>

### <a name="37-generalize-hello-image"></a><span data-ttu-id="e620d-243">3.7 generalizzare l'immagine di hello</span><span class="sxs-lookup"><span data-stu-id="e620d-243">3.7 Generalize hello image</span></span>
<span data-ttu-id="e620d-244">Tutte le immagini in Azure Marketplace hello devono essere riutilizzabile in modo generico.</span><span class="sxs-lookup"><span data-stu-id="e620d-244">All images in hello Azure Marketplace must be reusable in a generic fashion.</span></span> <span data-ttu-id="e620d-245">In altre parole, il sistema operativo hello disco rigido virtuale deve essere generalizzato:</span><span class="sxs-lookup"><span data-stu-id="e620d-245">In other words, hello operating system VHD must be generalized:</span></span>

* <span data-ttu-id="e620d-246">Per Windows, l'immagine hello deve essere "Sysprep" e nessuna configurazione devono essere eseguita che non supportano hello **sysprep** comando.</span><span class="sxs-lookup"><span data-stu-id="e620d-246">For Windows, hello image should be "sysprepped," and no configurations should be done that do not support hello **sysprep** command.</span></span>
* <span data-ttu-id="e620d-247">È possibile eseguire hello comando seguente dalla finestra di windir%\System32\Sysprep directory hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-247">You can run hello following command from hello directory %windir%\System32\Sysprep.</span></span>

        sysprep.exe /generalize /oobe /shutdown

  <span data-ttu-id="e620d-248">Informazioni aggiuntive su come sistema operativo di hello toosysprep viene fornito nel passaggio di hello MSDN articolo seguente: [creazione e caricamento di un disco rigido virtuale di Windows Server di tooAzure](../virtual-machines/windows/classic/createupload-vhd.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="e620d-248">Guidance on how toosysprep hello operating system is provided in Step of hello following MSDN article: [Create and upload a Windows Server VHD tooAzure](../virtual-machines/windows/classic/createupload-vhd.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

## <a name="4-deploy-a-vm-from-your-vhds"></a><span data-ttu-id="e620d-249">4. Distribuire una macchina virtuale dai VHD</span><span class="sxs-lookup"><span data-stu-id="e620d-249">4. Deploy a VM from your VHDs</span></span>
<span data-ttu-id="e620d-250">Dopo aver caricato i dischi rigidi virtuali (VHD del sistema operativo generalizzato hello e zero o più dati su disco di dischi rigidi virtuali) tooan account di archiviazione di Azure, è possibile registrarli come immagine di macchina virtuale un utente.</span><span class="sxs-lookup"><span data-stu-id="e620d-250">After you have uploaded your VHDs (hello generalized operating system VHD and zero or more data disk VHDs) tooan Azure storage account, you can register them as a user VM image.</span></span> <span data-ttu-id="e620d-251">ed eseguirne il test.</span><span class="sxs-lookup"><span data-stu-id="e620d-251">Then you can test that image.</span></span> <span data-ttu-id="e620d-252">Si noti che, poiché il sistema operativo in disco rigido virtuale generalizzato, si hello VM non è possibile distribuire direttamente, fornendo hello URL VHD.</span><span class="sxs-lookup"><span data-stu-id="e620d-252">Note that because your operating system VHD is generalized, you cannot directly deploy hello VM by providing hello VHD URL.</span></span>

<span data-ttu-id="e620d-253">toolearn ulteriori informazioni sulle immagini di macchina virtuale, hello revisione post di blog seguente:</span><span class="sxs-lookup"><span data-stu-id="e620d-253">toolearn more about VM images, review hello following blog posts:</span></span>

* [<span data-ttu-id="e620d-254">Immagine VM</span><span class="sxs-lookup"><span data-stu-id="e620d-254">VM Image</span></span>](https://azure.microsoft.com/blog/vm-image-blog-post/)
* [<span data-ttu-id="e620d-255">Procedure di PowerShell per immagini VM</span><span class="sxs-lookup"><span data-stu-id="e620d-255">VM Image PowerShell How To</span></span>](https://azure.microsoft.com/blog/vm-image-powershell-how-to-blog-post/)
* [<span data-ttu-id="e620d-256">Informazioni sulle immagini di macchine virtuali in Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-256">About VM images in Azure</span></span>](https://msdn.microsoft.com/library/azure/dn790290.aspx)

### <a name="set-up-hello-necessary-tools-powershell-and-azure-cli"></a><span data-ttu-id="e620d-257">Configurare gli strumenti necessari di hello, PowerShell e CLI di Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-257">Set up hello necessary tools, PowerShell and Azure CLI</span></span>
* [<span data-ttu-id="e620d-258">Come toosetup PowerShell</span><span class="sxs-lookup"><span data-stu-id="e620d-258">How toosetup PowerShell</span></span>](/powershell/azure/overview)
* [<span data-ttu-id="e620d-259">Come toosetup CLI di Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-259">How toosetup Azure CLI</span></span>](../cli-install-nodejs.md)

### <a name="41-create-a-user-vm-image"></a><span data-ttu-id="e620d-260">4.1 Creare un'immagine di macchina virtuale degli utenti</span><span class="sxs-lookup"><span data-stu-id="e620d-260">4.1 Create a user VM image</span></span>
#### <a name="capture-vm"></a><span data-ttu-id="e620d-261">Acquisire la macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="e620d-261">Capture VM</span></span>
<span data-ttu-id="e620d-262">Leggere i collegamenti di hello forniti di seguito per informazioni sull'acquisizione hello macchina virtuale usando PowerShell/API/Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="e620d-262">Please read hello links given below for guidance on capturing hello VM using API/PowerShell/Azure CLI.</span></span>

* [<span data-ttu-id="e620d-263">API</span><span class="sxs-lookup"><span data-stu-id="e620d-263">API</span></span>](https://msdn.microsoft.com/library/mt163560.aspx)
* [<span data-ttu-id="e620d-264">PowerShell</span><span class="sxs-lookup"><span data-stu-id="e620d-264">PowerShell</span></span>](../virtual-machines/windows/capture-image.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="e620d-265">Interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-265">Azure CLI</span></span>](../virtual-machines/linux/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="generalize-image"></a><span data-ttu-id="e620d-266">Generalizzare l'immagine</span><span class="sxs-lookup"><span data-stu-id="e620d-266">Generalize Image</span></span>
<span data-ttu-id="e620d-267">Leggere i collegamenti di hello forniti di seguito per informazioni sull'acquisizione hello macchina virtuale usando PowerShell/API/Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="e620d-267">Please read hello links given below for guidance on capturing hello VM using API/PowerShell/Azure CLI.</span></span>

* [<span data-ttu-id="e620d-268">API</span><span class="sxs-lookup"><span data-stu-id="e620d-268">API</span></span>](https://msdn.microsoft.com/library/mt269439.aspx)
* [<span data-ttu-id="e620d-269">PowerShell</span><span class="sxs-lookup"><span data-stu-id="e620d-269">PowerShell</span></span>](../virtual-machines/windows/capture-image.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="e620d-270">Interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-270">Azure CLI</span></span>](../virtual-machines/linux/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="42-deploy-a-vm-from-a-user-vm-image"></a><span data-ttu-id="e620d-271">4.2 Distribuire una macchina virtuale da un'immagine di macchina virtuale degli utenti</span><span class="sxs-lookup"><span data-stu-id="e620d-271">4.2 Deploy a VM from a user VM image</span></span>
<span data-ttu-id="e620d-272">toodeploy una macchina virtuale da un'immagine di macchina virtuale di utente, è possibile utilizzare hello corrente [portale di Azure](https://manage.windowsazure.com) o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e620d-272">toodeploy a VM from a user VM image, you can use hello current [Azure portal](https://manage.windowsazure.com) or PowerShell.</span></span>

<span data-ttu-id="e620d-273">**Distribuire una macchina virtuale dal portale di Azure corrente hello**</span><span class="sxs-lookup"><span data-stu-id="e620d-273">**Deploy a VM from hello current Azure portal**</span></span>

1. <span data-ttu-id="e620d-274">Andare troppo**New** > **calcolo** > **macchina virtuale** > **dalla raccolta**.</span><span class="sxs-lookup"><span data-stu-id="e620d-274">Go too**New** > **Compute** > **Virtual machine** > **From gallery**.</span></span>

    ![disegno][img-manage-vm-new]
2. <span data-ttu-id="e620d-276">Andare troppo**immagini personali**, e quindi selezionare hello immagine di macchina virtuale da cui toodeploy una macchina virtuale:</span><span class="sxs-lookup"><span data-stu-id="e620d-276">Go too**My images**, and then select hello VM image from which toodeploy a VM:</span></span>

   1. <span data-ttu-id="e620d-277">Pagamento attenzione toowhich l'immagine selezionata, in quanto hello **immagini personali** visualizzazione Elenca le immagini del sistema operativo e immagini di macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-277">Pay close attention toowhich image you select, because hello **My images** view lists both operating system images and VM images.</span></span>
   2. <span data-ttu-id="e620d-278">Esaminando il numero di hello dei dischi consente di determinare il tipo di immagine di distribuzione, perché la maggior parte hello di immagini di macchina virtuale dispone di più di un disco.</span><span class="sxs-lookup"><span data-stu-id="e620d-278">Looking at hello number of disks can help determine what type of image you are deploying, because hello majority of VM images have more than one disk.</span></span> <span data-ttu-id="e620d-279">Tuttavia, è comunque possibile toohave un'immagine di macchina virtuale con solo un singolo disco del sistema operativo che sarà necessario **numero di dischi** impostare too1.</span><span class="sxs-lookup"><span data-stu-id="e620d-279">However, it is still possible toohave a VM image with only a single operating system disk, which would then have **Number of disks** set too1.</span></span>

      ![disegno][img-manage-vm-select]
3. <span data-ttu-id="e620d-281">Attenersi alla procedura guidata di creazione di VM hello e specificare il nome di macchina virtuale hello, dimensioni di macchina virtuale, percorso, nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="e620d-281">Follow hello VM creation wizard and specify hello VM name, VM size, location, user name, and password.</span></span>

<span data-ttu-id="e620d-282">**Distribuire una macchina virtuale da PowerShell**</span><span class="sxs-lookup"><span data-stu-id="e620d-282">**Deploy a VM from PowerShell**</span></span>

<span data-ttu-id="e620d-283">toodeploy generalizzata di una macchina virtuale di grandi dimensioni da hello immagine di macchina virtuale appena creato, è possibile utilizzare hello cmdlet seguente.</span><span class="sxs-lookup"><span data-stu-id="e620d-283">toodeploy a large VM from hello generalized VM image just created, you can use hello following cmdlets.</span></span>

    $img = Get-AzureVMImage -ImageName "myVMImage"
    $user = "user123"
    $pass = "adminPassword123"
    $myVM = New-AzureVMConfig -Name "VMImageVM" -InstanceSize "Large" -ImageName $img.ImageName | Add-AzureProvisioningConfig -Windows -AdminUsername $user -Password $pass
    New-AzureVM -ServiceName "VMImageCloudService" -VMs $myVM -Location "West US" -WaitForBoot

> [!IMPORTANT]
> <span data-ttu-id="e620d-284">Per maggiori informazioni, consultare l'articolo Risoluzione di problemi comuni incontrati durante la creazione del disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-284">Please refer [Troubleshooting common issues encountered during VHD creation] for additional assistance.</span></span>
>
>

## <a name="5-obtain-certification-for-your-vm-image"></a><span data-ttu-id="e620d-285">5. Ottenere la certificazione per l'immagine di macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="e620d-285">5. Obtain certification for your VM image</span></span>
<span data-ttu-id="e620d-286">passaggio successivo di Hello nella preparazione dell'immagine di macchina virtuale per hello Azure Marketplace è toohave che sono certificate.</span><span class="sxs-lookup"><span data-stu-id="e620d-286">hello next step in preparing your VM image for hello Azure Marketplace is toohave it certified.</span></span>

<span data-ttu-id="e620d-287">Questo processo include l'esecuzione di uno strumento di certificazione speciali, il caricamento di hello verifica risultati toohello immagine contenitore in cui si trovano i dischi rigidi virtuali di Azure, aggiunta di un'offerta, che definisce lo SKU e invio di una macchina virtuale per la certificazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-287">This process includes running a special certification tool, uploading hello verification results toohello Azure container where your VHDs reside, adding an offer, defining your SKU, and submitting your VM image for certification.</span></span>

### <a name="51-download-and-run-hello-certification-test-tool-for-azure-certified"></a><span data-ttu-id="e620d-288">5.1 scaricare ed eseguire lo strumento di Test di certificazione hello per Azure Certified</span><span class="sxs-lookup"><span data-stu-id="e620d-288">5.1 Download and run hello Certification Test Tool for Azure Certified</span></span>
<span data-ttu-id="e620d-289">strumento di certificazione Hello viene eseguito in una macchina virtuale in esecuzione, il provisioning dall'immagine VM utente, tooensure che hello immagine di macchina virtuale è compatibile con Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e620d-289">hello certification tool runs on a running VM, provisioned from your user VM image, tooensure that hello VM image is compatible with Microsoft Azure.</span></span> <span data-ttu-id="e620d-290">Verificherà che siano stati soddisfatti indicazioni hello e requisiti sulla preparazione del disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-290">It will verify that hello guidance and requirements about preparing your VHD have been met.</span></span> <span data-ttu-id="e620d-291">output di Hello dello strumento hello è un report di compatibilità deve essere caricato in hello portale di pubblicazione durante la richiesta di certificazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-291">hello output of hello tool is a compatibility report, which should be uploaded on hello Publishing Portal while requesting certification.</span></span>

<span data-ttu-id="e620d-292">strumento di certificazione Hello può essere utilizzato con le macchine virtuali Linux e Windows.</span><span class="sxs-lookup"><span data-stu-id="e620d-292">hello certification tool can be used with both Windows and Linux VMs.</span></span> <span data-ttu-id="e620d-293">Si connette a macchine virtuali basate su tooWindows tramite PowerShell e tooLinux VM SSH.Net:</span><span class="sxs-lookup"><span data-stu-id="e620d-293">It connects tooWindows-based VMs via PowerShell and connects tooLinux VMs via SSH.Net:</span></span>

1. <span data-ttu-id="e620d-294">Scaricare innanzitutto strumento certificazione hello hello [sito di download Microsoft][link-msft-download].</span><span class="sxs-lookup"><span data-stu-id="e620d-294">First, download hello certification tool at hello [Microsoft download site][link-msft-download].</span></span>
2. <span data-ttu-id="e620d-295">Aprire lo strumento di certificazione hello e quindi fare clic su hello **Avvia nuovo Test** pulsante.</span><span class="sxs-lookup"><span data-stu-id="e620d-295">Open hello certification tool, and then click hello **Start New Test** button.</span></span>
3. <span data-ttu-id="e620d-296">Da hello **Test informazioni** schermata, immettere un nome per l'esecuzione dei test hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-296">From hello **Test Information** screen, enter a name for hello test run.</span></span>
4. <span data-ttu-id="e620d-297">Specificare se la macchina virtuale è su Linux o Windows.</span><span class="sxs-lookup"><span data-stu-id="e620d-297">Choose whether your VM is on Linux or Windows.</span></span> <span data-ttu-id="e620d-298">A seconda che si sceglie, selezionare le opzioni successive hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-298">Depending on which you choose, select hello subsequent options.</span></span>

### <a name="connect-hello-certification-tool-tooa-linux-vm-image"></a><span data-ttu-id="e620d-299">**Connettersi hello certificazione strumento tooa immagine VM Linux**</span><span class="sxs-lookup"><span data-stu-id="e620d-299">**Connect hello certification tool tooa Linux VM image**</span></span>
1. <span data-ttu-id="e620d-300">Modalità di autenticazione SSH selezionare hello: file di chiave o password.</span><span class="sxs-lookup"><span data-stu-id="e620d-300">Select hello SSH authentication mode: password or key file.</span></span>
2. <span data-ttu-id="e620d-301">Se si utilizza l'autenticazione basata su password, immettere il nome di sistema DNS (Domain Name) hello, nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="e620d-301">If using password-­based authentication, enter hello Domain Name System (DNS) name, user name, and password.</span></span>
3. <span data-ttu-id="e620d-302">Se si utilizza l'autenticazione di file di chiave, immettere il nome DNS hello, nome utente e percorso della chiave privata.</span><span class="sxs-lookup"><span data-stu-id="e620d-302">If using key file authentication, enter hello DNS name, user name, and private key location.</span></span>

   ![Autenticazione della password dell'immagine VM Linux][img-cert-vm-pswd-lnx]

   ![Autenticazione del file della chiave dell'immagine VM Linux][img-cert-vm-key-lnx]

### <a name="connect-hello-certification-tool-tooa-windows-based-vm-image"></a><span data-ttu-id="e620d-305">**Immagine di macchina virtuale basata su Windows tooa di hello certificazione dello strumento di connessione**</span><span class="sxs-lookup"><span data-stu-id="e620d-305">**Connect hello certification tool tooa Windows-based VM image**</span></span>
1. <span data-ttu-id="e620d-306">Immettere il nome di macchina virtuale DNS hello completo (ad esempio, MyVMName.Cloudapp.net).</span><span class="sxs-lookup"><span data-stu-id="e620d-306">Enter hello fully qualified VM DNS name (for example, MyVMName.Cloudapp.net).</span></span>
2. <span data-ttu-id="e620d-307">Immettere nome utente hello e password.</span><span class="sxs-lookup"><span data-stu-id="e620d-307">Enter hello user name and password.</span></span>

   ![Autenticazione della password dell'immagine VM Windows][img-cert-vm-pswd-win]

<span data-ttu-id="e620d-309">Dopo aver selezionato le opzioni corrette hello per l'immagine di Linux o macchina virtuale basata su Windows, selezionare **Test connessione** tooensure che SSH.Net o PowerShell dispone di una connessione valida a scopo di test.</span><span class="sxs-lookup"><span data-stu-id="e620d-309">After you have selected hello correct options for your Linux or Windows-based VM image, select **Test Connection** tooensure that SSH.Net or PowerShell has a valid connection for testing purposes.</span></span> <span data-ttu-id="e620d-310">Dopo aver stabilita una connessione, selezionare **Avanti** test hello toostart.</span><span class="sxs-lookup"><span data-stu-id="e620d-310">After a connection is established, select **Next** toostart hello test.</span></span>

<span data-ttu-id="e620d-311">Una volta completato il test di hello, si riceverà risultati hello (passaggio/errore/avviso) per ogni elemento di test.</span><span class="sxs-lookup"><span data-stu-id="e620d-311">When hello test is complete, you will receive hello results (Pass/Fail/Warning) for each test element.</span></span>

![Test case per l'immagine VM Linux][img-cert-vm-test-lnx]

![Test case per l'immagine VM Windows][img-cert-vm-test-win]

<span data-ttu-id="e620d-314">Se uno di hello test non riesce, l'immagine non essere certificato.</span><span class="sxs-lookup"><span data-stu-id="e620d-314">If any of hello tests fail, your image will not be certified.</span></span> <span data-ttu-id="e620d-315">In questo caso, esaminare i requisiti di hello e apportare le modifiche necessarie.</span><span class="sxs-lookup"><span data-stu-id="e620d-315">If this occurs, review hello requirements and make any necessary changes.</span></span>

<span data-ttu-id="e620d-316">Dopo hello automated test, viene richiesto un input aggiuntivo tooprovide nell'immagine di macchina virtuale tramite una schermata questionario.</span><span class="sxs-lookup"><span data-stu-id="e620d-316">After hello automated test, you are asked tooprovide additional input on your VM image via a questionnaire screen.</span></span>  <span data-ttu-id="e620d-317">Completare domande hello e quindi selezionare **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="e620d-317">Complete hello questions, and then select **Next**.</span></span>

![Questionario dello strumento di certificazione][img-cert-vm-questionnaire]

![Questionario dello strumento di certificazione][img-cert-vm-questionnaire-2]

<span data-ttu-id="e620d-320">Dopo aver completato questionario hello, è possibile fornire informazioni aggiuntive, ad esempio informazioni di accesso SSH per l'immagine VM Linux hello e una spiegazione per le valutazioni non riuscite.</span><span class="sxs-lookup"><span data-stu-id="e620d-320">After you have completed hello questionnaire, you can provide additional information such as SSH access information for hello Linux VM image and an explanation for any failed assessments.</span></span> <span data-ttu-id="e620d-321">È possibile scaricare i risultati dei test hello e file di log per hello eseguita test case questionario toohello risposte tooyour di addizione.</span><span class="sxs-lookup"><span data-stu-id="e620d-321">You can download hello test results and log files for hello executed test cases in addition tooyour answers toohello questionnaire.</span></span> <span data-ttu-id="e620d-322">Salvare i risultati di hello in hello i dischi rigidi virtuali nello stesso contenitore.</span><span class="sxs-lookup"><span data-stu-id="e620d-322">Save hello results in hello same container as your VHDs.</span></span>

![Salvare i risultati del test di certificazione][img-cert-vm-results]

### <a name="52-get-hello-shared-access-signature-uri-for-your-vm-images"></a><span data-ttu-id="e620d-324">5.2 ottenere l'URI di firma di accesso condiviso hello per le immagini di macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="e620d-324">5.2 Get hello shared access signature URI for your VM images</span></span>
<span data-ttu-id="e620d-325">Durante il processo di pubblicazione di hello, specificare hello uniform resource identifier (URI) che portano tooeach di hello dischi rigidi virtuali per lo SKU è stata creata.</span><span class="sxs-lookup"><span data-stu-id="e620d-325">During hello publishing process, you specify hello uniform resource identifiers (URIs) that lead tooeach of hello VHDs you have created for your SKU.</span></span> <span data-ttu-id="e620d-326">Durante il processo di certificazione hello Microsoft necessita di accesso toothese dischi rigidi virtuali.</span><span class="sxs-lookup"><span data-stu-id="e620d-326">Microsoft needs access toothese VHDs during hello certification process.</span></span> <span data-ttu-id="e620d-327">Pertanto, è necessario toocreate un URI di firma di accesso condiviso per ogni disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-327">Therefore, you need toocreate a shared access signature URI for each VHD.</span></span> <span data-ttu-id="e620d-328">Si tratta di hello URI che devono essere specificato nel **immagini** scheda hello portale di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-328">This is hello URI that should be entered in the **Images** tab in hello Publishing Portal.</span></span>

<span data-ttu-id="e620d-329">firma di accesso condiviso Hello URI creato deve rispettare toohello seguenti requisiti:</span><span class="sxs-lookup"><span data-stu-id="e620d-329">hello shared access signature URI created should adhere toohello following requirements:</span></span>

* <span data-ttu-id="e620d-330">Per la generazione degli URI di firma di accesso condiviso per i VHD, sono sufficienti le autorizzazioni List e Read­.</span><span class="sxs-lookup"><span data-stu-id="e620d-330">When generating shared access signature URIs for your VHDs, List and Read­ permissions are sufficient.</span></span> <span data-ttu-id="e620d-331">Evitare di fornire accesso con autorizzazioni di scrittura o eliminazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-331">Do not provide Write or Delete access.</span></span>
* <span data-ttu-id="e620d-332">durata Hello per l'accesso deve essere un minimo di tre (3) settimane da quando viene creata la firma di accesso condiviso hello URI.</span><span class="sxs-lookup"><span data-stu-id="e620d-332">hello duration for access should be a minimum of three (3) weeks from when hello shared access signature URI is created.</span></span>
* <span data-ttu-id="e620d-333">toosafeguard per l'ora UTC giorno hello selezionare prima hello data corrente.</span><span class="sxs-lookup"><span data-stu-id="e620d-333">toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="e620d-334">Ad esempio, se hello data corrente è il 6 ottobre 2014, selezionare 5/10/2014.</span><span class="sxs-lookup"><span data-stu-id="e620d-334">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

<span data-ttu-id="e620d-335">URL di firma di accesso condiviso può essere generato in più modi tooshare il disco rigido virtuale di Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e620d-335">SAS URL can be generated in multiple ways tooshare your VHD for Azure Marketplace.</span></span>
<span data-ttu-id="e620d-336">Seguenti sono hello 3 strumenti consigliati:</span><span class="sxs-lookup"><span data-stu-id="e620d-336">Following are hello 3 recommended tools:</span></span>

1.  <span data-ttu-id="e620d-337">Azure Storage Explorer</span><span class="sxs-lookup"><span data-stu-id="e620d-337">Azure Storage Explorer</span></span>
2.  <span data-ttu-id="e620d-338">Microsoft Storage Explorer</span><span class="sxs-lookup"><span data-stu-id="e620d-338">Microsoft Storage Explorer</span></span>
3.  <span data-ttu-id="e620d-339">Interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-339">Azure CLI</span></span>

<span data-ttu-id="e620d-340">**Azure Storage Explorer (scelta consigliata per gli utenti di Windows)**</span><span class="sxs-lookup"><span data-stu-id="e620d-340">**Azure Storage Explorer (Recommended for Windows Users)**</span></span>

<span data-ttu-id="e620d-341">Di seguito sono hello operazioni per la generazione di URL SAS tramite Esplora archivi Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-341">Following are hello steps for generating SAS URL by using Azure Storage Explorer</span></span>

1. <span data-ttu-id="e620d-342">Scaricare [Azure Storage Explorer 6 Anteprima 3](https://azurestorageexplorer.codeplex.com/) da CodePlex.</span><span class="sxs-lookup"><span data-stu-id="e620d-342">Download [Azure Storage Explorer 6 Preview 3](https://azurestorageexplorer.codeplex.com/) from CodePlex.</span></span> <span data-ttu-id="e620d-343">Andare troppo[Azure Storage Explorer 6 Preview](https://azurestorageexplorer.codeplex.com/) e fare clic su **"Scarica"**.</span><span class="sxs-lookup"><span data-stu-id="e620d-343">Go too[Azure Storage Explorer 6 Preview](https://azurestorageexplorer.codeplex.com/) and click **"Downloads"**.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_01.png)

2. <span data-ttu-id="e620d-345">Scaricare [AzureStorageExplorer6Preview3.zip](https://azurestorageexplorer.codeplex.com/downloads/get/891668) e installarlo dopo averlo decompresso.</span><span class="sxs-lookup"><span data-stu-id="e620d-345">Download [AzureStorageExplorer6Preview3.zip](https://azurestorageexplorer.codeplex.com/downloads/get/891668) and install after unzipping it.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_02.png)

3. <span data-ttu-id="e620d-347">Dopo l'installazione, aprire un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-347">After it is installed, open hello application.</span></span>
4. <span data-ttu-id="e620d-348">Fare clic su **Add Account**.</span><span class="sxs-lookup"><span data-stu-id="e620d-348">Click **Add Account**.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_03.png)

5. <span data-ttu-id="e620d-350">Specificare nome account di archiviazione hello, chiave dell'account di archiviazione e dominio di endpoint di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-350">Specify hello storage account name, storage account key, and storage endpoints domain.</span></span> <span data-ttu-id="e620d-351">Si tratta di account di archiviazione hello nella sottoscrizione di Azure in cui è stato lasciato il disco rigido virtuale nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="e620d-351">This is hello storage account in your Azure subscription where you have kept your VHD on Azure portal.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_04.png)

6. <span data-ttu-id="e620d-353">Una volta connesso Azure Storage Explorer tooyour account di archiviazione specifico, verrà avviato con tutti i hello contiene nell'account di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-353">Once Azure Storage Explorer is connected tooyour specific storage account, it will start showing all of hello contains within hello storage account.</span></span> <span data-ttu-id="e620d-354">Selezionare il contenitore di hello in cui è stato copiato file VHD del disco del sistema operativo hello (anche dischi dati se sono applicabili per il proprio scenario).</span><span class="sxs-lookup"><span data-stu-id="e620d-354">Select hello container where you copied hello operating system disk VHD file (also data disks if they are applicable for your scenario).</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_05.png)

7. <span data-ttu-id="e620d-356">Dopo aver selezionato il contenitore di blob hello, Azure Storage Explorer avvia la visualizzazione di file hello all'interno del contenitore di hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-356">After selecting hello blob container, Azure Storage Explorer starts showing hello files within hello container.</span></span> <span data-ttu-id="e620d-357">Selezionare i file di immagine di hello (con estensione vhd) che deve toobe inviato.</span><span class="sxs-lookup"><span data-stu-id="e620d-357">Select hello image file (.vhd) that needs toobe submitted.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_06.png)

8.  <span data-ttu-id="e620d-359">Dopo aver selezionato i file con estensione vhd hello nel contenitore di hello, fare clic su hello **sicurezza** scheda.</span><span class="sxs-lookup"><span data-stu-id="e620d-359">After selecting hello .vhd file in hello container, click hello **Security** tab.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_07.png)

9.  <span data-ttu-id="e620d-361">In hello **sicurezza contenitore Blob** nella finestra di dialogo Impostazioni predefinite hello lasciare hello **livello di accesso** scheda e quindi fare clic su **firme di accesso condiviso** scheda.</span><span class="sxs-lookup"><span data-stu-id="e620d-361">In hello **Blob Container Security** dialog box, leave hello defaults on hello **Access Level** tab, and then click **Shared Access Signatures** tab.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_08.png)

10. <span data-ttu-id="e620d-363">Seguire i passaggi di hello di sotto di una firma di accesso condiviso URI per l'immagine con estensione vhd hello toogenerate:</span><span class="sxs-lookup"><span data-stu-id="e620d-363">Follow hello steps below toogenerate a shared access signature URI for hello .vhd image:</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_09.png)

    <span data-ttu-id="e620d-365">a.</span><span class="sxs-lookup"><span data-stu-id="e620d-365">a.</span></span> <span data-ttu-id="e620d-366">**Accesso consentito da:** toosafeguard per l'ora UTC giorno hello selezionare prima hello data corrente.</span><span class="sxs-lookup"><span data-stu-id="e620d-366">**Access permitted from:** toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="e620d-367">Ad esempio, se hello data corrente è il 6 ottobre 2014, selezionare 5/10/2014.</span><span class="sxs-lookup"><span data-stu-id="e620d-367">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

    <span data-ttu-id="e620d-368">b.</span><span class="sxs-lookup"><span data-stu-id="e620d-368">b.</span></span> <span data-ttu-id="e620d-369">**Accesso consentito:** selezionare una data di almeno 3 settimane dopo hello **accesso consentito da** Data.</span><span class="sxs-lookup"><span data-stu-id="e620d-369">**Access permitted to:** Select a date that is at least 3 weeks after hello **Access permitted from** date.</span></span>

    <span data-ttu-id="e620d-370">c.</span><span class="sxs-lookup"><span data-stu-id="e620d-370">c.</span></span> <span data-ttu-id="e620d-371">**Azioni consentite:** hello seleziona **elenco** e **lettura** autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="e620d-371">**Actions permitted:** Select hello **List** and **Read** permissions.</span></span>

    <span data-ttu-id="e620d-372">d.</span><span class="sxs-lookup"><span data-stu-id="e620d-372">d.</span></span> <span data-ttu-id="e620d-373">Se è stato selezionato il file con estensione vhd in modo corretto, quindi il file viene visualizzato in **tooaccess nome Blob** con estensione vhd.</span><span class="sxs-lookup"><span data-stu-id="e620d-373">If you have selected your .vhd file correctly, then your file appears in **Blob name tooaccess** with extension .vhd.</span></span>

    <span data-ttu-id="e620d-374">e.</span><span class="sxs-lookup"><span data-stu-id="e620d-374">e.</span></span> <span data-ttu-id="e620d-375">Fare clic su **Generate Signature**.</span><span class="sxs-lookup"><span data-stu-id="e620d-375">Click **Generate Signature**.</span></span>

    <span data-ttu-id="e620d-376">f.</span><span class="sxs-lookup"><span data-stu-id="e620d-376">f.</span></span> <span data-ttu-id="e620d-377">In **generato condiviso firma URI di accesso di questo contenitore**, cercare hello seguente come evidenziato sopra:</span><span class="sxs-lookup"><span data-stu-id="e620d-377">In **Generated Shared Access Signature URI of this container**, check for hello following as highlighted above:</span></span>

       - <span data-ttu-id="e620d-378">Assicurarsi che l'immagine del nome di file e **"VHD"** in hello URI.</span><span class="sxs-lookup"><span data-stu-id="e620d-378">Make sure that your image file name and **".vhd"** are in hello URI.</span></span>
       - <span data-ttu-id="e620d-379">Alla fine di hello della firma hello, assicurarsi che **"= rl"** viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e620d-379">At hello end of hello signature, make sure that **"=rl"** appears.</span></span> <span data-ttu-id="e620d-380">Questo indica che le autorizzazioni Read e List sono state fornite correttamente.</span><span class="sxs-lookup"><span data-stu-id="e620d-380">This demonstrates that Read and List access was provided successfully.</span></span>
       - <span data-ttu-id="e620d-381">Al centro della firma hello, assicurarsi che **"sr = c"** viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e620d-381">In middle of hello signature, make sure that **"sr=c"** appears.</span></span> <span data-ttu-id="e620d-382">Questo dimostra che l'utente dispone dell'accesso al livello contenitore</span><span class="sxs-lookup"><span data-stu-id="e620d-382">This demonstrates that you have container level access</span></span>

11. <span data-ttu-id="e620d-383">tooensure hello generato condivisi works URI firma di accesso, fare clic su **Test nel Browser**.</span><span class="sxs-lookup"><span data-stu-id="e620d-383">tooensure that hello generated shared access signature URI works, click **Test in Browser**.</span></span> <span data-ttu-id="e620d-384">È necessario avviare il processo di download di hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-384">It should start hello download process.</span></span>

12. <span data-ttu-id="e620d-385">Copiare l'URI di firma di accesso condiviso hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-385">Copy hello shared access signature URI.</span></span> <span data-ttu-id="e620d-386">Si tratta di hello URI toopaste in hello portale di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-386">This is hello URI toopaste into hello Publishing Portal.</span></span>

13. <span data-ttu-id="e620d-387">Ripetere i passaggi da 6 a 10 per ogni disco rigido virtuale in hello SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-387">Repeat steps 6-10 for each VHD in hello SKU.</span></span>

<span data-ttu-id="e620d-388">**Microsoft Azure Storage Explorer (Windows/MAC/Linux)**</span><span class="sxs-lookup"><span data-stu-id="e620d-388">**Microsoft Azure Storage Explorer (Windows/MAC/Linux)**</span></span>

<span data-ttu-id="e620d-389">Di seguito sono hello operazioni per la generazione di URL SAS tramite Esplora archivi di Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-389">Following are hello steps for generating SAS URL by using Microsoft Azure Storage Explorer</span></span>

1.  <span data-ttu-id="e620d-390">Scaricare Microsoft Azure Storage Explorer dal sito Web [http://storageexplorer.com/](http://storageexplorer.com/).</span><span class="sxs-lookup"><span data-stu-id="e620d-390">Download Microsoft Azure Storage Explorer form [http://storageexplorer.com/](http://storageexplorer.com/) website.</span></span> <span data-ttu-id="e620d-391">Andare troppo[Microsoft Azure Storage Explorer](http://storageexplorer.com/releasenotes.html) e fare clic su **"Download per Windows"**.</span><span class="sxs-lookup"><span data-stu-id="e620d-391">Go too[Microsoft Azure Storage Explorer](http://storageexplorer.com/releasenotes.html) and click **“Download for Windows”**.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_10.png)

2.  <span data-ttu-id="e620d-393">Dopo l'installazione, aprire un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-393">After it is installed, open hello application.</span></span>

3.  <span data-ttu-id="e620d-394">Fare clic su **Add Account**.</span><span class="sxs-lookup"><span data-stu-id="e620d-394">Click **Add Account**.</span></span>

4.  <span data-ttu-id="e620d-395">Configurare una sottoscrizione di Microsoft Azure Storage Explorer tooyour da tooyour account di accesso</span><span class="sxs-lookup"><span data-stu-id="e620d-395">Configure Microsoft Azure Storage Explorer tooyour subscription by sign in tooyour account</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_11.png)

5.  <span data-ttu-id="e620d-397">Account toostorage scegliere hello contenitore</span><span class="sxs-lookup"><span data-stu-id="e620d-397">Go toostorage account and select hello Container</span></span>

6.  <span data-ttu-id="e620d-398">Selezionare **"Get Share Access Signature.."** ("Richiedi firma di accesso condiviso...")</span><span class="sxs-lookup"><span data-stu-id="e620d-398">Select **“Get Share Access Signature..”**</span></span> <span data-ttu-id="e620d-399">tramite il clic destro di hello **contenitore**</span><span class="sxs-lookup"><span data-stu-id="e620d-399">by using Right Click of hello **container**</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_12.png)

7.  <span data-ttu-id="e620d-401">Aggiornare la data di inizio, la scadenza e le autorizzazioni come indicato di seguito</span><span class="sxs-lookup"><span data-stu-id="e620d-401">Update Start time, Expiry time and Permissions as per following</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_13.png)

    <span data-ttu-id="e620d-403">a.</span><span class="sxs-lookup"><span data-stu-id="e620d-403">a.</span></span>  <span data-ttu-id="e620d-404">**Ora di inizio:** toosafeguard per l'ora UTC giorno hello selezionare prima hello data corrente.</span><span class="sxs-lookup"><span data-stu-id="e620d-404">**Start Time:** toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="e620d-405">Ad esempio, se hello data corrente è il 6 ottobre 2014, selezionare 5/10/2014.</span><span class="sxs-lookup"><span data-stu-id="e620d-405">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

    <span data-ttu-id="e620d-406">b.</span><span class="sxs-lookup"><span data-stu-id="e620d-406">b.</span></span>  <span data-ttu-id="e620d-407">**Ora di scadenza:** selezionare una data di almeno 3 settimane dopo hello **ora di inizio** Data.</span><span class="sxs-lookup"><span data-stu-id="e620d-407">**Expiry Time:** Select a date that is at least 3 weeks after hello **Start Time** date.</span></span>

    <span data-ttu-id="e620d-408">c.</span><span class="sxs-lookup"><span data-stu-id="e620d-408">c.</span></span>  <span data-ttu-id="e620d-409">**Autorizzazioni:** hello seleziona **elenco** e **lettura** autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="e620d-409">**Permissions:** Select hello **List** and **Read** permissions</span></span>

8.  <span data-ttu-id="e620d-410">Copiare l'URI della firma di accesso condiviso per il contenitore</span><span class="sxs-lookup"><span data-stu-id="e620d-410">Copy Container shared access signature URI</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_14.png)

    <span data-ttu-id="e620d-412">URL di firma di accesso condiviso generato per contenitore di livello e abbiamo bisogno di nome VHD tooadd in essa contenuti.</span><span class="sxs-lookup"><span data-stu-id="e620d-412">Generated SAS URL is for container Level and now we need tooadd VHD name in it.</span></span>

    <span data-ttu-id="e620d-413">Formato dell'URL SAS livello contenitore: `https://testrg009.blob.core.windows.net/vhds?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="e620d-413">Format of Container Level SAS URL: `https://testrg009.blob.core.windows.net/vhds?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    <span data-ttu-id="e620d-414">Inserisci nome VHD dopo il nome di contenitore hello nell'URL SAS come indicato di seguito`https://testrg009.blob.core.windows.net/vhds/<VHD NAME>?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="e620d-414">Insert VHD name after hello container name in SAS URL as below `https://testrg009.blob.core.windows.net/vhds/<VHD NAME>?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    <span data-ttu-id="e620d-415">Esempio:</span><span class="sxs-lookup"><span data-stu-id="e620d-415">Example:</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_15.png)

    <span data-ttu-id="e620d-417">TestRGVM201631920152.vhd è hello VHD nome verrà utilizzato come URL di firma di accesso condiviso di disco rigido virtuale`https://testrg009.blob.core.windows.net/vhds/TestRGVM201631920152.vhd?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="e620d-417">TestRGVM201631920152.vhd is hello VHD Name then VHD SAS URL will be `https://testrg009.blob.core.windows.net/vhds/TestRGVM201631920152.vhd?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    - <span data-ttu-id="e620d-418">Assicurarsi che l'immagine del nome di file e **"VHD"** in hello URI.</span><span class="sxs-lookup"><span data-stu-id="e620d-418">Make sure that your image file name and **".vhd"** are in hello URI.</span></span>
    - <span data-ttu-id="e620d-419">Al centro della firma hello, assicurarsi che **"sp = rl"** viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e620d-419">In middle of hello signature, make sure that **"sp=rl"** appears.</span></span> <span data-ttu-id="e620d-420">Questo indica che le autorizzazioni Read e List sono state fornite correttamente.</span><span class="sxs-lookup"><span data-stu-id="e620d-420">This demonstrates that Read and List access was provided successfully.</span></span>
    - <span data-ttu-id="e620d-421">Al centro della firma hello, assicurarsi che **"sr = c"** viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e620d-421">In middle of hello signature, make sure that **"sr=c"** appears.</span></span> <span data-ttu-id="e620d-422">Questo dimostra che l'utente dispone dell'accesso al livello contenitore</span><span class="sxs-lookup"><span data-stu-id="e620d-422">This demonstrates that you have container level access</span></span>

9.  <span data-ttu-id="e620d-423">tooensure che hello works URI firma di accesso condiviso generata, testarlo nel browser.</span><span class="sxs-lookup"><span data-stu-id="e620d-423">tooensure that hello generated shared access signature URI works, test it in browser.</span></span> <span data-ttu-id="e620d-424">È necessario avviare il processo di download di hello</span><span class="sxs-lookup"><span data-stu-id="e620d-424">It should start hello download process</span></span>

10. <span data-ttu-id="e620d-425">Copiare l'URI di firma di accesso condiviso hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-425">Copy hello shared access signature URI.</span></span> <span data-ttu-id="e620d-426">Si tratta di hello URI toopaste in hello portale di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-426">This is hello URI toopaste into hello Publishing Portal.</span></span>

11. <span data-ttu-id="e620d-427">Ripetere questi passaggi per ogni disco rigido virtuale in hello SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-427">Repeat these steps for each VHD in hello SKU.</span></span>

<span data-ttu-id="e620d-428">**Interfaccia della riga di comando di Azure (scelta consigliata per integrazione continua e utenti non Windows)**</span><span class="sxs-lookup"><span data-stu-id="e620d-428">**Azure CLI (Recommended for Non-Windows & Continuous Integration)**</span></span>

<span data-ttu-id="e620d-429">Di seguito sono hello operazioni per la generazione di URL SAS tramite l'interfaccia CLI di Azure</span><span class="sxs-lookup"><span data-stu-id="e620d-429">Following are hello steps for generating SAS URL by using Azure CLI</span></span>

1.  <span data-ttu-id="e620d-430">Scaricare l'interfaccia della riga di comando di Azure da [qui](https://azure.microsoft.com/en-in/documentation/articles/xplat-cli-install/).</span><span class="sxs-lookup"><span data-stu-id="e620d-430">Download Microsoft Azure CLI from [here](https://azure.microsoft.com/en-in/documentation/articles/xplat-cli-install/).</span></span> <span data-ttu-id="e620d-431">Esistono diversi link per **[Windows](http://aka.ms/webpi-azure-cli)** e **[MAC OS](http://aka.ms/mac-azure-cli)**.</span><span class="sxs-lookup"><span data-stu-id="e620d-431">You can also find different links for **[Windows](http://aka.ms/webpi-azure-cli)** and **[MAC OS](http://aka.ms/mac-azure-cli)**.</span></span>

2.  <span data-ttu-id="e620d-432">Dopo averlo scaricato, installarlo</span><span class="sxs-lookup"><span data-stu-id="e620d-432">Once it is downloaded, please install</span></span>

3.  <span data-ttu-id="e620d-433">Creare un file di PowerShell con il codice seguente e salvarlo in locale</span><span class="sxs-lookup"><span data-stu-id="e620d-433">Create a PowerShell file with following code and save it in local</span></span>

          $conn="DefaultEndpointsProtocol=https;AccountName=<StorageAccountName>;AccountKey=<Storage Account Key>"
          azure storage container list vhds -c $conn
          azure storage container sas create vhds rl <Permission End Date> -c $conn --start <Permission Start Date>  

    <span data-ttu-id="e620d-434">Aggiornare il seguente hello parametri in precedenza</span><span class="sxs-lookup"><span data-stu-id="e620d-434">Update hello following parameters in above</span></span>

    <span data-ttu-id="e620d-435">a.</span><span class="sxs-lookup"><span data-stu-id="e620d-435">a.</span></span> <span data-ttu-id="e620d-436">**`<StorageAccountName>`**: per dare un nome all'account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="e620d-436">**`<StorageAccountName>`**: Give your storage account name</span></span>

    <span data-ttu-id="e620d-437">b.</span><span class="sxs-lookup"><span data-stu-id="e620d-437">b.</span></span> <span data-ttu-id="e620d-438">**`<Storage Account Key>`**: per dare una chiave all'account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="e620d-438">**`<Storage Account Key>`**: Give your storage account key</span></span>

    <span data-ttu-id="e620d-439">c.</span><span class="sxs-lookup"><span data-stu-id="e620d-439">c.</span></span> <span data-ttu-id="e620d-440">**`<Permission Start Date>`**: toosafeguard per l'ora UTC giorno hello selezionare prima hello data corrente.</span><span class="sxs-lookup"><span data-stu-id="e620d-440">**`<Permission Start Date>`**: toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="e620d-441">Ad esempio, se hello data corrente è 26 ottobre 2016, quindi il valore deve essere 25/10/2016</span><span class="sxs-lookup"><span data-stu-id="e620d-441">For example, if hello current date is October 26, 2016, then value should be 10/25/2016</span></span>

    <span data-ttu-id="e620d-442">d.</span><span class="sxs-lookup"><span data-stu-id="e620d-442">d.</span></span> <span data-ttu-id="e620d-443">**`<Permission End Date>`**: Selezionare una data di almeno 3 settimane dopo hello **data di inizio**.</span><span class="sxs-lookup"><span data-stu-id="e620d-443">**`<Permission End Date>`**: Select a date that is at least 3 weeks after hello **Start Date**.</span></span> <span data-ttu-id="e620d-444">Il valore quindi sarà **02/11/2016**.</span><span class="sxs-lookup"><span data-stu-id="e620d-444">Then value should be **11/02/2016**.</span></span>

    <span data-ttu-id="e620d-445">Ecco il codice di esempio hello dopo aver aggiornato i parametri appropriati</span><span class="sxs-lookup"><span data-stu-id="e620d-445">Following is hello example code after updating proper parameters</span></span>

          $conn="DefaultEndpointsProtocol=https;AccountName=st20151;AccountKey=TIQE5QWMKHpT5q2VnF1bb+NUV7NVMY2xmzVx1rdgIVsw7h0pcI5nMM6+DVFO65i4bQevx21dmrflA91r0Vh2Yw=="
          azure storage container list vhds -c $conn
          azure storage container sas create vhds rl 11/02/2016 -c $conn --start 10/25/2016  

4.  <span data-ttu-id="e620d-446">Aprire l'editor di Powershell con la modalità "Esegui come amministratore" e aprire i file nel passaggio #3.</span><span class="sxs-lookup"><span data-stu-id="e620d-446">Open Powershell editor with “Run as Administrator” mode and open file in step #3.</span></span>

5.  <span data-ttu-id="e620d-447">Script di esecuzione hello e fornirà che Hello URL SAS per l'accesso a livello di contenitore</span><span class="sxs-lookup"><span data-stu-id="e620d-447">Run hello script and it will provide you hello SAS URL for container level access</span></span>

    <span data-ttu-id="e620d-448">Output di hello parte hello firma SAS e copia hello evidenziato in blocco note sarà seguente</span><span class="sxs-lookup"><span data-stu-id="e620d-448">Following will be hello output of hello SAS Signature and copy hello highlighted part in a notepad</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/img5.2_16.png)

6.  <span data-ttu-id="e620d-450">Ora verrà visualizzato il livello di contenitore URL SAS e per conoscere il nome di file VHD tooadd in essa contenuti.</span><span class="sxs-lookup"><span data-stu-id="e620d-450">Now you will get container level SAS URL and you need tooadd VHD name in it.</span></span>

    <span data-ttu-id="e620d-451">URL SAS a livello di contenitore</span><span class="sxs-lookup"><span data-stu-id="e620d-451">Container level SAS URL #</span></span>

    `https://st20151.blob.core.windows.net/vhds?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`

7.  <span data-ttu-id="e620d-452">Inserisci nome VHD dopo il nome di contenitore hello nell'URL SAS, come illustrato di seguito`https://st20151.blob.core.windows.net/vhds/<VHDName>?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`</span><span class="sxs-lookup"><span data-stu-id="e620d-452">Insert VHD name after hello container name in SAS URL as shown below `https://st20151.blob.core.windows.net/vhds/<VHDName>?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`</span></span>

    <span data-ttu-id="e620d-453">Esempio:</span><span class="sxs-lookup"><span data-stu-id="e620d-453">Example:</span></span>

    <span data-ttu-id="e620d-454">TestRGVM201631920152.vhd è hello VHD nome verrà utilizzato come URL di firma di accesso condiviso di disco rigido virtuale</span><span class="sxs-lookup"><span data-stu-id="e620d-454">TestRGVM201631920152.vhd is hello VHD Name then VHD SAS URL will be</span></span>

    `https://st20151.blob.core.windows.net/vhds/ TestRGVM201631920152.vhd?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`

    - <span data-ttu-id="e620d-455">Assicurarsi che il nome del file immagine e "VHD" sono hello URI.</span><span class="sxs-lookup"><span data-stu-id="e620d-455">Make sure that your image file name and ".vhd" are in hello URI.</span></span>
    -   <span data-ttu-id="e620d-456">Al centro della firma hello, assicurarsi che "sp = rl" viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e620d-456">In middle of hello signature, make sure that "sp=rl" appears.</span></span> <span data-ttu-id="e620d-457">Questo indica che le autorizzazioni Read e List sono state fornite correttamente.</span><span class="sxs-lookup"><span data-stu-id="e620d-457">This demonstrates that Read and List access was provided successfully.</span></span>
    -   <span data-ttu-id="e620d-458">Al centro della firma hello, assicurarsi che "sr = c" viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e620d-458">In middle of hello signature, make sure that "sr=c" appears.</span></span> <span data-ttu-id="e620d-459">Questo dimostra che l'utente dispone dell'accesso al livello contenitore</span><span class="sxs-lookup"><span data-stu-id="e620d-459">This demonstrates that you have container level access</span></span>

8.  <span data-ttu-id="e620d-460">tooensure che hello works URI firma di accesso condiviso generata, testarlo nel browser.</span><span class="sxs-lookup"><span data-stu-id="e620d-460">tooensure that hello generated shared access signature URI works, test it in browser.</span></span> <span data-ttu-id="e620d-461">È necessario avviare il processo di download di hello</span><span class="sxs-lookup"><span data-stu-id="e620d-461">It should start hello download process</span></span>

9.  <span data-ttu-id="e620d-462">Copiare l'URI di firma di accesso condiviso hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-462">Copy hello shared access signature URI.</span></span> <span data-ttu-id="e620d-463">Si tratta di hello URI toopaste in hello portale di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="e620d-463">This is hello URI toopaste into hello Publishing Portal.</span></span>

10. <span data-ttu-id="e620d-464">Ripetere questi passaggi per ogni disco rigido virtuale in hello SKU.</span><span class="sxs-lookup"><span data-stu-id="e620d-464">Repeat these steps for each VHD in hello SKU.</span></span>


### <a name="53-provide-information-about-hello-vm-image-and-request-certification-in-hello-publishing-portal"></a><span data-ttu-id="e620d-465">5.3 forniscono informazioni sull'immagine di macchina virtuale hello e richiesta di certificazione in hello portale di pubblicazione</span><span class="sxs-lookup"><span data-stu-id="e620d-465">5.3 Provide information about hello VM image and request certification in hello Publishing Portal</span></span>
<span data-ttu-id="e620d-466">Dopo aver creato l'offerta e SKU, è necessario immettere i dettagli dell'immagine hello associati a tale SKU:</span><span class="sxs-lookup"><span data-stu-id="e620d-466">After you have created your offer and SKU, you should enter hello image details associated with that SKU:</span></span>

1. <span data-ttu-id="e620d-467">Passare toohello [portale pubblicazione][link-pubportal]e quindi accedere con l'account.</span><span class="sxs-lookup"><span data-stu-id="e620d-467">Go toohello [Publishing Portal][link-pubportal], and then sign in with your seller account.</span></span>
2. <span data-ttu-id="e620d-468">Seleziona hello **immagini di macchina virtuale** scheda.</span><span class="sxs-lookup"><span data-stu-id="e620d-468">Select hello **VM images** tab.</span></span>
3. <span data-ttu-id="e620d-469">Identificatore Hello elencati all'inizio di hello di hello pagina è effettivamente identificatore dell'offerta hello e non identificatore SKU di hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-469">hello identifier listed at hello top of hello page is actually hello offer identifier and not hello SKU identifier.</span></span>
4. <span data-ttu-id="e620d-470">Compilare le proprietà di hello in hello **SKU** sezione.</span><span class="sxs-lookup"><span data-stu-id="e620d-470">Fill out hello properties under hello **SKUs** section.</span></span>
5. <span data-ttu-id="e620d-471">In **famiglia di sistemi operativi**, fare clic su tipo di sistema operativo hello associata con il sistema operativo hello disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-471">Under **Operating system family**, click hello operating system type associated with hello operating system VHD.</span></span>
6. <span data-ttu-id="e620d-472">In hello **del sistema operativo** casella, descrivere hello del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e620d-472">In hello **Operating system** box, describe hello operating system.</span></span> <span data-ttu-id="e620d-473">Usare preferibilmente il formato famiglia di sistemi operativi, tipo, versione e aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="e620d-473">Consider a format such as operating system family, type, version, and updates.</span></span> <span data-ttu-id="e620d-474">Esempio: "Windows Server Datacenter 2014 R2".</span><span class="sxs-lookup"><span data-stu-id="e620d-474">An example is "Windows Server Datacenter 2014 R2."</span></span>
7. <span data-ttu-id="e620d-475">Selezionare le dimensioni di macchina virtuale consigliate toosix.</span><span class="sxs-lookup"><span data-stu-id="e620d-475">Select up toosix recommended virtual machine sizes.</span></span> <span data-ttu-id="e620d-476">Si tratta di indicazioni che ottengono cliente toohello visualizzato nel Pannello di livello di prezzo hello nel portale di Azure hello quando decidere toopurchase e distribuire l'immagine.</span><span class="sxs-lookup"><span data-stu-id="e620d-476">These are recommendations that get displayed toohello customer in hello Pricing tier blade in hello Azure Portal when they decide toopurchase and deploy your image.</span></span> <span data-ttu-id="e620d-477">**Questi sono solo indicazioni. cliente Hello è in grado di tooselect qualsiasi dimensione di macchina virtuale che supporta dischi hello specificato nell'immagine.**</span><span class="sxs-lookup"><span data-stu-id="e620d-477">**These are only recommendations. hello customer is able tooselect any VM size that accommodates hello disks specified in your image.**</span></span>
8. <span data-ttu-id="e620d-478">Immettere una versione di hello.</span><span class="sxs-lookup"><span data-stu-id="e620d-478">Enter hello version.</span></span> <span data-ttu-id="e620d-479">il campo della versione Hello incapsula un prodotto di hello tooidentify versione semantica e i relativi aggiornamenti:</span><span class="sxs-lookup"><span data-stu-id="e620d-479">hello version field encapsulates a semantic version tooidentify hello product and its updates:</span></span>
   * <span data-ttu-id="e620d-480">Versioni devono avere il formato di hello X.Y.Z, dove X, Y e Z sono numeri interi.</span><span class="sxs-lookup"><span data-stu-id="e620d-480">Versions should be of hello form X.Y.Z, where X, Y, and Z are integers.</span></span>
   * <span data-ttu-id="e620d-481">Le immagini in SKU diversi possono avere versioni principali e secondarie diverse.</span><span class="sxs-lookup"><span data-stu-id="e620d-481">Images in different SKUs can have different major and minor versions.</span></span>
   * <span data-ttu-id="e620d-482">Versioni all'interno di una SKU devono essere solo le modifiche incrementali, che aumentano la versione di patch hello (Z da X.Y.Z).</span><span class="sxs-lookup"><span data-stu-id="e620d-482">Versions within a SKU should only be incremental changes, which increase hello patch version (Z from X.Y.Z).</span></span>
9. <span data-ttu-id="e620d-483">In hello **URL VHD del sistema operativo** , immettere una firma di accesso condiviso hello URI creato per il sistema operativo hello disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-483">In hello **OS VHD URL** box, enter hello shared access signature URI created for hello operating system VHD.</span></span>
10. <span data-ttu-id="e620d-484">Se sono presenti dischi dati associati a questo prodotto, selezionare hello unità logica toowhich (LUN) numero desiderato di questo toobe disco dati montati durante la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="e620d-484">If there are data disks associated with this SKU, select hello logical unit number (LUN) toowhich you would like this data disk toobe mounted upon deployment.</span></span>
11. <span data-ttu-id="e620d-485">In hello **URL VHD di LUN X** , immettere una firma di accesso condiviso hello URI creato per i dati prima di hello disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="e620d-485">In hello **LUN X VHD URL** box, enter hello shared access signature URI created for hello first data VHD.</span></span>

    ![disegno](media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus-3.png)


## <a name="common-sas-url-issues--fixes"></a><span data-ttu-id="e620d-487">Problemi e correzioni comuni dell'URL SAS</span><span class="sxs-lookup"><span data-stu-id="e620d-487">Common SAS URL issues & fixes</span></span>

|<span data-ttu-id="e620d-488">Problema</span><span class="sxs-lookup"><span data-stu-id="e620d-488">Issue</span></span>|<span data-ttu-id="e620d-489">Messaggio di errore</span><span class="sxs-lookup"><span data-stu-id="e620d-489">Failure Message</span></span>|<span data-ttu-id="e620d-490">Correzione</span><span class="sxs-lookup"><span data-stu-id="e620d-490">Fix</span></span>|<span data-ttu-id="e620d-491">Link alla documentazione</span><span class="sxs-lookup"><span data-stu-id="e620d-491">Documentation Link</span></span>|
|---|---|---|---|
|<span data-ttu-id="e620d-492">Errore durante la copia di immagini: "?" non è presente nell'URL SAS</span><span class="sxs-lookup"><span data-stu-id="e620d-492">Failure in copying images - "?" is not found in SAS url</span></span>|<span data-ttu-id="e620d-493">Errore: copia di immagini.</span><span class="sxs-lookup"><span data-stu-id="e620d-493">Failure: Copying Images.</span></span> <span data-ttu-id="e620d-494">Non è possibile toodownload blob utilizzando fornito Uri SAS.</span><span class="sxs-lookup"><span data-stu-id="e620d-494">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="e620d-495">L'uso di Url SAS hello aggiornamento consigliato strumenti</span><span class="sxs-lookup"><span data-stu-id="e620d-495">Update hello SAS Url using recommended tools</span></span>|[<span data-ttu-id="e620d-496">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="e620d-496">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="e620d-497">Errore durante la copia di immagini: parametri "st" e "se" non presenti nell'URL SAS</span><span class="sxs-lookup"><span data-stu-id="e620d-497">Failure in copying images - “st” and “se” parameters not in SAS url</span></span>|<span data-ttu-id="e620d-498">Errore: copia di immagini.</span><span class="sxs-lookup"><span data-stu-id="e620d-498">Failure: Copying Images.</span></span> <span data-ttu-id="e620d-499">Non è possibile toodownload blob utilizzando fornito Uri SAS.</span><span class="sxs-lookup"><span data-stu-id="e620d-499">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="e620d-500">Aggiornare hello Url SAS con date di inizio e fine.</span><span class="sxs-lookup"><span data-stu-id="e620d-500">Update hello SAS Url with Start and End dates on it</span></span>|[<span data-ttu-id="e620d-501">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="e620d-501">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="e620d-502">Errore durante la copia di immagini: "sp=rl" non è presente nell'URL SAS</span><span class="sxs-lookup"><span data-stu-id="e620d-502">Failure in copying images - “sp=rl” not in SAS url</span></span>|<span data-ttu-id="e620d-503">Errore: copia di immagini.</span><span class="sxs-lookup"><span data-stu-id="e620d-503">Failure: Copying Images.</span></span> <span data-ttu-id="e620d-504">Non è possibile toodownload blob fornito Uri SAS</span><span class="sxs-lookup"><span data-stu-id="e620d-504">Not able toodownload blob using provided SAS Uri</span></span>|<span data-ttu-id="e620d-505">Aggiornare hello Url SAS con le autorizzazioni impostate come "Lettura" e "elenco</span><span class="sxs-lookup"><span data-stu-id="e620d-505">Update hello SAS Url with permissions set as “Read” & “List</span></span>|[<span data-ttu-id="e620d-506">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="e620d-506">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="e620d-507">Errore nella copia di immagini: l'URL SAS presenta spazi vuoti nel nome del file con estensione vhd</span><span class="sxs-lookup"><span data-stu-id="e620d-507">Failure in copying images - SAS url have white spaces in vhd name</span></span>|<span data-ttu-id="e620d-508">Errore: copia di immagini.</span><span class="sxs-lookup"><span data-stu-id="e620d-508">Failure: Copying Images.</span></span> <span data-ttu-id="e620d-509">Non è possibile toodownload blob utilizzando fornito Uri SAS.</span><span class="sxs-lookup"><span data-stu-id="e620d-509">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="e620d-510">Aggiornare hello Url SAS, senza spazi vuoti</span><span class="sxs-lookup"><span data-stu-id="e620d-510">Update hello SAS Url without white spaces</span></span>|[<span data-ttu-id="e620d-511">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="e620d-511">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="e620d-512">Errore nella copia di immagini: errore di autorizzazione URL SAS</span><span class="sxs-lookup"><span data-stu-id="e620d-512">Failure in copying images – SAS Url Authorization error</span></span>|<span data-ttu-id="e620d-513">Errore: copia di immagini.</span><span class="sxs-lookup"><span data-stu-id="e620d-513">Failure: Copying Images.</span></span> <span data-ttu-id="e620d-514">Blob non è possibile toodownload a causa di errore tooauthorization</span><span class="sxs-lookup"><span data-stu-id="e620d-514">Not able toodownload blob due tooauthorization error</span></span>|<span data-ttu-id="e620d-515">Rigenerare hello Url SAS</span><span class="sxs-lookup"><span data-stu-id="e620d-515">Regenerate hello SAS Url</span></span>|[<span data-ttu-id="e620d-516">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="e620d-516">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|


## <a name="next-step"></a><span data-ttu-id="e620d-517">Passaggio successivo</span><span class="sxs-lookup"><span data-stu-id="e620d-517">Next step</span></span>
<span data-ttu-id="e620d-518">Dopo avere completato con i dettagli SKU hello, è possibile spostare in avanti toohello [Guida contenuto marketing Azure Marketplace][link-pushstaging].</span><span class="sxs-lookup"><span data-stu-id="e620d-518">After you are done with hello SKU details, you can move forward toohello [Azure Marketplace marketing content guide][link-pushstaging].</span></span> <span data-ttu-id="e620d-519">In questo passaggio di processo di pubblicazione hello, si fornisce hello marketing prima di necessarie altre informazioni, prezzi e contenuto troppo**passaggio 3: la macchina virtuale di test offrono in gestione temporanea**, in cui è testare vari scenari di casi di utilizzo prima della distribuzione Hello offerta toohello Azure Marketplace per visibilità pubblica e l'acquisto.</span><span class="sxs-lookup"><span data-stu-id="e620d-519">In that step of hello publishing process, you provide hello marketing content, pricing, and other information necessary prior too**Step 3: Testing your VM offer in staging**, where you test various use-case scenarios before deploying hello offer toohello Azure Marketplace for public visibility and purchase.</span></span>  

## <a name="see-also"></a><span data-ttu-id="e620d-520">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="e620d-520">See also</span></span>
* [<span data-ttu-id="e620d-521">Guida introduttiva: come toopublish un toohello offerta Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="e620d-521">Getting started: How toopublish an offer toohello Azure Marketplace</span></span>](marketplace-publishing-getting-started.md)

[img-acom-1]:media/marketplace-publishing-vm-image-creation/vm-image-acom-datacenter.png
[img-portal-vm-size]:media/marketplace-publishing-vm-image-creation/vm-image-portal-size.png
[img-portal-vm-create]:media/marketplace-publishing-vm-image-creation/vm-image-portal-create-vm.png
[img-portal-vm-location]:media/marketplace-publishing-vm-image-creation/vm-image-portal-location.png
[img-portal-vm-rdp]:media/marketplace-publishing-vm-image-creation/vm-image-portal-rdp.png
[img-azstg-add]:media/marketplace-publishing-vm-image-creation/vm-image-storage-add.png
[img-manage-vm-new]:media/marketplace-publishing-vm-image-creation/vm-image-manage-new.png
[img-manage-vm-select]:media/marketplace-publishing-vm-image-creation/vm-image-manage-select.png
[img-cert-vm-key-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-keyfile-linux.png
[img-cert-vm-pswd-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-password-linux.png
[img-cert-vm-pswd-win]:media/marketplace-publishing-vm-image-creation/vm-image-certification-password-win.png
[img-cert-vm-test-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-test-sample-linux.png
[img-cert-vm-test-win]:media/marketplace-publishing-vm-image-creation/vm-image-certification-test-sample-win.png
[img-cert-vm-results]:media/marketplace-publishing-vm-image-creation/vm-image-certification-results.png
[img-cert-vm-questionnaire]:media/marketplace-publishing-vm-image-creation/vm-image-certification-questionnaire.png
[img-cert-vm-questionnaire-2]:media/marketplace-publishing-vm-image-creation/vm-image-certification-questionnaire-2.png
[img-pubportal-vm-skus]:media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus.png
[img-pubportal-vm-skus-2]:media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus-2.png

[link-pushstaging]:marketplace-publishing-push-to-staging.md
[link-github-waagent]:https://github.com/Azure/WALinuxAgent
[link-azure-codeplex]:https://azurestorageexplorer.codeplex.com/
[link-azure-2]:../storage/blobs/storage-dotnet-shared-access-signature-part-2.md
[link-azure-1]:../storage/common/storage-dotnet-shared-access-signature-part-1.md
[link-msft-download]:http://www.microsoft.com/download/details.aspx?id=44299
[link-technet-3]:https://technet.microsoft.com/library/hh846766.aspx
[link-technet-2]:https://msdn.microsoft.com/library/dn495261.aspx
[link-azure-portal]:https://portal.azure.com
[link-pubportal]:https://publish.windowsazure.com
[link-sql-2014-ent]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014enterprisewindowsserver2012r2/
[link-sql-2014-std]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014standardwindowsserver2012r2/
[link-sql-2014-web]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014webwindowsserver2012r2/
[link-sql-2012-ent]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2enterprisewindowsserver2012/
[link-sql-2012-std]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2standardwindowsserver2012/
[link-sql-2012-web]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2webwindowsserver2012/
[link-datactr-2012-r2]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2012r2datacenter/
[link-datactr-2012]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2012datacenter/
[link-datactr-2008-r2]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2008r2sp1/
[link-acct-creation]:marketplace-publishing-accounts-creation-registration.md
[link-technet-1]:https://technet.microsoft.com/library/hh848454.aspx
[link-azure-vm-2]:./virtual-machines-linux-agent-user-guide/
[link-openssl]:https://www.openssl.org/
[link-intsvc]:http://www.microsoft.com/download/details.aspx?id=41554
[link-python]:https://www.python.org/
