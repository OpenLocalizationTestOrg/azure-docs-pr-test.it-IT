---
title: aaaConnect tooAzure archivio Data Lake da reti virtuali | Documenti Microsoft
description: La connessione di archivio Data Lake di tooAzure da reti virtuali di Azure
services: data-lake-store,data-catalog
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 683fcfdc-cf93-46c3-b2d2-5cb79f5e9ea5
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/10/2017
ms.author: nitinme
ms.openlocfilehash: c695dcf49fe4e1a87a90729cf085a938f3b51fe3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="access-azure-data-lake-store-from-vms-within-an-azure-vnet"></a><span data-ttu-id="35eb7-103">Accedere ad Azure Data Lake Store dalle macchine virtuali di una rete virtuale di Azure</span><span class="sxs-lookup"><span data-stu-id="35eb7-103">Access Azure Data Lake Store from VMs within an Azure VNET</span></span>
<span data-ttu-id="35eb7-104">Azure Data Lake Store è un servizio PaaS eseguito su indirizzi IP Internet pubblici.</span><span class="sxs-lookup"><span data-stu-id="35eb7-104">Azure Data Lake Store is a PaaS service that runs on public Internet IP addresses.</span></span> <span data-ttu-id="35eb7-105">Qualsiasi server in grado di connettersi in genere possibile Internet pubblico toohello connettersi tooAzure anche gli endpoint archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35eb7-105">Any server that can connect toohello public Internet can typically connect tooAzure Data Lake Store endpoints as well.</span></span> <span data-ttu-id="35eb7-106">Per impostazione predefinita, tutte le macchine virtuali in reti virtuali di Azure possono accedere hello Internet e pertanto possono archivio Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35eb7-106">By default, all VMs that are in Azure VNETs can access hello Internet and hence can access Azure Data Lake Store.</span></span> <span data-ttu-id="35eb7-107">Tuttavia, è possibile tooconfigure macchine virtuali in una rete virtuale di toonot hanno accesso toohello Internet.</span><span class="sxs-lookup"><span data-stu-id="35eb7-107">However, it is possible tooconfigure VMs in a VNET toonot have access toohello Internet.</span></span> <span data-ttu-id="35eb7-108">Per tali macchine virtuali, archivio Data Lake di accesso tooAzure è limitata anche.</span><span class="sxs-lookup"><span data-stu-id="35eb7-108">For such VMs, access tooAzure Data Lake Store is restricted as well.</span></span> <span data-ttu-id="35eb7-109">Bloccare l'accesso pubblico a Internet per le macchine virtuali in reti virtuali di Azure può essere eseguita utilizzando uno dei seguenti approccio hello.</span><span class="sxs-lookup"><span data-stu-id="35eb7-109">Blocking public Internet access for VMs in Azure VNETs can be done using any of hello following approach.</span></span>

* <span data-ttu-id="35eb7-110">Configurando gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="35eb7-110">By configuring Network Security Groups (NSG)</span></span>
* <span data-ttu-id="35eb7-111">Configurando route definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="35eb7-111">By configuring User Defined Routes (UDR)</span></span>
* <span data-ttu-id="35eb7-112">Mediante lo scambio delle route tramite il protocollo BGP (settore standard protocollo di routing dinamico) quando si utilizza tale blocco ExpressRoute accedere toohello Internet</span><span class="sxs-lookup"><span data-stu-id="35eb7-112">By exchanging routes via BGP (industry standard dynamic routing protocol) when ExpressRoute is used that block access toohello Internet</span></span>

<span data-ttu-id="35eb7-113">In questo articolo si apprenderà come tooenable accedere archivio Azure Data Lake di toohello da macchine virtuali di Azure che sono stati limitati tooaccess risorse usando uno dei tre metodi hello elencate in precedenza.</span><span class="sxs-lookup"><span data-stu-id="35eb7-113">In this article, you will learn how tooenable access toohello Azure Data Lake Store from Azure VMs which have been restricted tooaccess resources using one of hello three methods listed above.</span></span>

## <a name="enabling-connectivity-tooazure-data-lake-store-from-vms-with-restricted-connectivity"></a><span data-ttu-id="35eb7-114">Abilitazione di connettività tooAzure archivio Data Lake da macchine virtuali con connettività limitata</span><span class="sxs-lookup"><span data-stu-id="35eb7-114">Enabling connectivity tooAzure Data Lake Store from VMs with restricted connectivity</span></span>
<span data-ttu-id="35eb7-115">Archiviazione di Azure Data Lake tooaccess da tali macchine virtuali, è necessario configurarli indirizzo IP di hello tooaccess in cui sono disponibile account archivio Azure Data Lake hello.</span><span class="sxs-lookup"><span data-stu-id="35eb7-115">tooaccess Azure Data Lake Store from such VMs, you must configure them tooaccess hello IP address where hello Azure Data Lake Store account is available.</span></span> <span data-ttu-id="35eb7-116">È possibile identificare gli indirizzi IP hello per gli account archivio Data Lake per la risoluzione dei nomi DNS hello degli account in uso (`<account>.azuredatalakestore.net`).</span><span class="sxs-lookup"><span data-stu-id="35eb7-116">You can identify hello IP addresses for your Data Lake Store accounts by resolving hello DNS names of your accounts (`<account>.azuredatalakestore.net`).</span></span> <span data-ttu-id="35eb7-117">A questo scopo, è possibile usare strumenti come **nslookup**.</span><span class="sxs-lookup"><span data-stu-id="35eb7-117">For this you can use tools such as **nslookup**.</span></span> <span data-ttu-id="35eb7-118">Aprire un prompt dei comandi nel computer ed eseguire hello comando seguente.</span><span class="sxs-lookup"><span data-stu-id="35eb7-118">Open a command prompt on your computer and run hello following command.</span></span>

    nslookup mydatastore.azuredatalakestore.net

<span data-ttu-id="35eb7-119">output di Hello analogo al seguente hello.</span><span class="sxs-lookup"><span data-stu-id="35eb7-119">hello output resembles hello following.</span></span> <span data-ttu-id="35eb7-120">valore in base a Hello **indirizzo** proprietà è l'indirizzo IP hello associato all'account archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35eb7-120">hello value against **Address** property is hello IP address associated with your Data Lake Store account.</span></span>

    Non-authoritative answer:
    Name:    1434ceb1-3a4b-4bc0-9c69-a0823fd69bba-mydatastore.projectcabostore.net
    Address:  104.44.88.112
    Aliases:  mydatastore.azuredatalakestore.net


### <a name="enabling-connectivity-from-vms-restricted-by-using-nsg"></a><span data-ttu-id="35eb7-121">Abilitare la connettività da macchine virtuali limitatamente all'uso di NSG</span><span class="sxs-lookup"><span data-stu-id="35eb7-121">Enabling connectivity from VMs restricted by using NSG</span></span>
<span data-ttu-id="35eb7-122">Quando viene utilizzata una regola gruppo tooblock accedere toohello Internet, è possibile creare un altro gruppo che consente accesso toohello indirizzo IP di Data Lake archivio.</span><span class="sxs-lookup"><span data-stu-id="35eb7-122">When a NSG rule is used tooblock access toohello Internet, then you can create another NSG that allows access toohello Data Lake Store IP Address.</span></span> <span data-ttu-id="35eb7-123">Altre informazioni sulle regole NSG sono disponibili nell'articolo [Gruppi di sicurezza di rete](../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="35eb7-123">More information on NSG rules is available at [What is a Network Security Group?](../virtual-network/virtual-networks-nsg.md).</span></span> <span data-ttu-id="35eb7-124">Per istruzioni su come toocreate NSGs vedere [come NSGs toomanage utilizzando hello Azure portal](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="35eb7-124">For instructions on how toocreate NSGs see [How toomanage NSGs using hello Azure portal](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-udr-or-expressroute"></a><span data-ttu-id="35eb7-125">Abilitare la connettività da macchine virtuali limitatamente all'uso di UDR o ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="35eb7-125">Enabling connectivity from VMs restricted by using UDR or ExpressRoute</span></span>
<span data-ttu-id="35eb7-126">Quando si route, UDRs o scambiati BGP route, vengono utilizzati tooblock accesso toohello Internet, una route speciale deve toobe configurato in modo che le macchine virtuali in tali subnet possono accedere agli endpoint di archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35eb7-126">When routes, either UDRs or BGP-exchanged routes, are used tooblock access toohello Internet, a special route needs toobe configured so that VMs in such subnets can access Data Lake Store endpoints.</span></span> <span data-ttu-id="35eb7-127">Per altre informazioni, vedere [Cosa sono le route definite dall'utente](../virtual-network/virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="35eb7-127">For more information, see [What are User Defined Routes?](../virtual-network/virtual-networks-udr-overview.md).</span></span> <span data-ttu-id="35eb7-128">Per istruzioni sulla creazione di UDR, vedere [Creare route definite dall'utente in Resource Manager](../virtual-network/virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="35eb7-128">For instructions on creating UDRs, see [Create UDRs in Resource Manager](../virtual-network/virtual-network-create-udr-arm-ps.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-expressroute"></a><span data-ttu-id="35eb7-129">Abilitare la connettività dalle macchine virtuali con ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="35eb7-129">Enabling connectivity from VMs restricted by using ExpressRoute</span></span>
<span data-ttu-id="35eb7-130">Quando è configurato un circuito ExpressRoute, hello ai server locali possono accedere archivio Data Lake tramite il peering pubblico.</span><span class="sxs-lookup"><span data-stu-id="35eb7-130">When an ExpressRoute circuit is configured, hello on-premises servers can access Data Lake Store through public peering.</span></span> <span data-ttu-id="35eb7-131">Per altre informazioni sulla configurazione di ExpressRoute per il peering pubblico, consultare le [Domande frequenti su ExpressRoute](../expressroute/expressroute-faqs.md).</span><span class="sxs-lookup"><span data-stu-id="35eb7-131">More details on configuring ExpressRoute for public peering is available at [ExpressRoute FAQs](../expressroute/expressroute-faqs.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="35eb7-132">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="35eb7-132">See also</span></span>
* [<span data-ttu-id="35eb7-133">Panoramica di Data Lake Store di Azure</span><span class="sxs-lookup"><span data-stu-id="35eb7-133">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
* [<span data-ttu-id="35eb7-134">Sicurezza in Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="35eb7-134">Securing data stored in Azure Data Lake Store</span></span>](data-lake-store-security-overview.md)

