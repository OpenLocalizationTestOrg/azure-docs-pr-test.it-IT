
## <a name="about-vhds"></a><span data-ttu-id="56235-101">Informazioni sui dischi rigidi virtuali</span><span class="sxs-lookup"><span data-stu-id="56235-101">About VHDs</span></span>

<span data-ttu-id="56235-102">Hello dischi rigidi virtuali usati in Azure sono file con estensione vhd archiviati come BLOB di pagine in un account di archiviazione standard o premium di Azure.</span><span class="sxs-lookup"><span data-stu-id="56235-102">hello VHDs used in Azure are .vhd files stored as page blobs in a standard or premium storage account in Azure.</span></span> <span data-ttu-id="56235-103">Per ulteriori dettagli sui BLOB di pagine, vedere [Informazioni sui BLOB in blocchi e sui BLOB di pagine](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/).</span><span class="sxs-lookup"><span data-stu-id="56235-103">For details about page blobs, see [Understanding block blobs and page blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/).</span></span> <span data-ttu-id="56235-104">Per informazioni su Archiviazione Premium, vedere l'articolo relativo alle [prestazioni elevate di Archiviazione Premium e macchine virtuali di Azure](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="56235-104">For details about premium storage, see [High-performance premium storage and Azure VMs](../articles/storage/common/storage-premium-storage.md).</span></span>

<span data-ttu-id="56235-105">Azure supporta hello disco in formato VHD fissato.</span><span class="sxs-lookup"><span data-stu-id="56235-105">Azure supports hello fixed disk VHD format.</span></span> <span data-ttu-id="56235-106">getta formato fissata Hello hello disco logico out in modo lineare all'interno di file hello, in modo tale offset del disco X venga archiviato all'offset del blob X. Un piccolo piè di pagina alla fine di hello del blob hello vengono descritte le proprietà di hello di hello disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="56235-106">hello fixed format lays hello logical disk out linearly within hello file, so that disk offset X is stored at blob offset X. A small footer at hello end of hello blob describes hello properties of hello VHD.</span></span> <span data-ttu-id="56235-107">Spesso, formato fisso hello comporta uno spreco di spazio poiché la maggior parte dei dischi sono presenti intervalli inutilizzati di grandi dimensioni in essi contenuti.</span><span class="sxs-lookup"><span data-stu-id="56235-107">Often, hello fixed format wastes space because most disks have large unused ranges in them.</span></span> <span data-ttu-id="56235-108">Tuttavia, Azure archivia i file con estensione vhd in un formato di tipo sparse, pertanto si ottengono vantaggi hello di entrambi hello fisso e dischi dinamici in hello stesso tempo.</span><span class="sxs-lookup"><span data-stu-id="56235-108">However, Azure stores .vhd files in a sparse format, so you receive hello benefits of both hello fixed and dynamic disks at hello same time.</span></span> <span data-ttu-id="56235-109">Per ulteriori dettagli, vedere [Introduzione ai dischi rigidi virtuali](https://technet.microsoft.com/library/dd979539.aspx).</span><span class="sxs-lookup"><span data-stu-id="56235-109">For more details, see [Getting started with virtual hard disks](https://technet.microsoft.com/library/dd979539.aspx).</span></span>

<span data-ttu-id="56235-110">Tutti i file con estensione vhd in Azure che si desidera toouse come disco di origine toocreate o immagini sono di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="56235-110">All .vhd files in Azure that you want toouse as a source toocreate disks or images are read-only.</span></span> <span data-ttu-id="56235-111">Quando si crea un'immagine o un disco, Azure esegue copie di hello file con estensione vhd.</span><span class="sxs-lookup"><span data-stu-id="56235-111">When you create a disk or image, Azure makes copies of hello .vhd files.</span></span> <span data-ttu-id="56235-112">Queste copie possono essere di sola lettura o lettura e scrittura, a seconda della modalità di utilizzo hello disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="56235-112">These copies can be read-only or read-and-write, depending on how you use hello VHD.</span></span>

<span data-ttu-id="56235-113">Quando si crea una macchina virtuale da un'immagine, Azure crea un disco per la macchina virtuale hello che è una copia del file con estensione vhd di origine hello.</span><span class="sxs-lookup"><span data-stu-id="56235-113">When you create a virtual machine from an image, Azure creates a disk for hello virtual machine that is a copy of hello source .vhd file.</span></span> <span data-ttu-id="56235-114">tooprotect l'eliminazione involontaria, tramite Azure viene inserito un lease in qualsiasi file con estensione vhd di origine che ha utilizzato toocreate un'immagine, un disco del sistema operativo o un disco dati.</span><span class="sxs-lookup"><span data-stu-id="56235-114">tooprotect against accidental deletion, Azure places a lease on any source .vhd file that’s used toocreate an image, an operating system disk, or a data disk.</span></span>

<span data-ttu-id="56235-115">Prima di poter eliminare un file con estensione vhd di origine, è necessario lease hello tooremove eliminando hello disco o l'immagine.</span><span class="sxs-lookup"><span data-stu-id="56235-115">Before you can delete a source .vhd file, you’ll need tooremove hello lease by deleting hello disk or image.</span></span> <span data-ttu-id="56235-116">toodelete un file con estensione vhd utilizzato da una macchina virtuale come disco del sistema operativo, è possibile eliminare macchina virtuale hello disco del sistema operativo hello e file con estensione vhd di origine hello in un'unica macchina virtuale hello di eliminazione e l'eliminazione di tutti i dischi associati.</span><span class="sxs-lookup"><span data-stu-id="56235-116">toodelete a .vhd file that is being used by a virtual machine as an operating system disk, you can delete hello virtual machine, hello operating system disk, and hello source .vhd file all at once by deleting hello virtual machine and deleting all associated disks.</span></span> <span data-ttu-id="56235-117">Tuttavia, l'eliminazione di un file con estensione vhd che rappresenta l'origine di un disco dati richiede l'esecuzione di diversi passaggi in un determinato ordine:</span><span class="sxs-lookup"><span data-stu-id="56235-117">However, deleting a .vhd file that’s a source for a data disk requires several steps in a set order.</span></span> <span data-ttu-id="56235-118">Innanzitutto si scollega disco hello dalla macchina virtuale hello, quindi Elimina hello disco e quindi eliminare il file con estensione vhd di hello.</span><span class="sxs-lookup"><span data-stu-id="56235-118">First you detach hello disk from hello virtual machine, then delete hello disk, and then delete hello .vhd file.</span></span>

> [!WARNING]
> <span data-ttu-id="56235-119">Se si elimina un file con estensione .vdh di origine dalla memoria o l'account di archiviazione, Microsoft non può recuperare tali dati.</span><span class="sxs-lookup"><span data-stu-id="56235-119">If you delete a source .vhd file from storage, or delete your storage account, Microsoft can't recover that data for you.</span></span>
> 

## <a name="types-of-disks"></a><span data-ttu-id="56235-120">Tipi di dischi</span><span class="sxs-lookup"><span data-stu-id="56235-120">Types of disks</span></span> 

<span data-ttu-id="56235-121">I dischi di Azure sono stati progettati per il 99,999% di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="56235-121">Azure Disks are designed for 99.999% availability.</span></span> <span data-ttu-id="56235-122">I dischi di Azure hanno offerto in modo costante una durabilità di livello aziendale, con una percentuale di frequenza di errori annualizzata pari a ZERO, ovvero la migliore del settore.</span><span class="sxs-lookup"><span data-stu-id="56235-122">Azure Disks have consistently delivered enterprise-grade durability, with an industry-leading ZERO% Annualized Failure Rate.</span></span>

<span data-ttu-id="56235-123">Durante la creazione di dischi è possibile scegliere tra due livelli di prestazioni per l'archiviazione: Archiviazione Standard e Archiviazione Premium.</span><span class="sxs-lookup"><span data-stu-id="56235-123">There are two performance tiers for storage that you can choose from when creating your disks -- Standard Storage and Premium Storage.</span></span> <span data-ttu-id="56235-124">I dischi possono essere di due tipi, gestiti e non gestiti, e possono risiedere in entrambi i livelli di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="56235-124">Also, there are two types of disks -- unmanaged and managed -- and they can reside in either performance tier.</span></span>


### <a name="standard-storage"></a><span data-ttu-id="56235-125">Archiviazione standard</span><span class="sxs-lookup"><span data-stu-id="56235-125">Standard storage</span></span> 

<span data-ttu-id="56235-126">Archiviazione Standard è supportata da unità disco rigido e offre un'archiviazione conveniente con buone prestazioni.</span><span class="sxs-lookup"><span data-stu-id="56235-126">Standard Storage is backed by HDDs, and delivers cost-effective storage while still being performant.</span></span> <span data-ttu-id="56235-127">Per Archiviazione Standard è possibile scegliere tra archiviazione replicata in locale in un data center o con ridondanza geografica con i data center primario e secondario.</span><span class="sxs-lookup"><span data-stu-id="56235-127">Standard storage can be replicated locally in one datacenter, or be geo-redundant with primary and secondary data centers.</span></span> <span data-ttu-id="56235-128">Per altre informazioni sulla replica dell'archiviazione, vedere [Replica di Archiviazione di Azure](../articles/storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="56235-128">For more information about storage replication, please see [Azure Storage replication](../articles/storage/common/storage-redundancy.md).</span></span> 

<span data-ttu-id="56235-129">Per altre informazioni sull'uso di Archiviazione Standard con dischi di macchina virtuale, vedere l'articolo relativo ad [Archiviazione Standard e dischi](../articles/storage/common/storage-standard-storage.md).</span><span class="sxs-lookup"><span data-stu-id="56235-129">For more information about using Standard Storage with VM disks, please see [Standard Storage and Disks](../articles/storage/common/storage-standard-storage.md).</span></span>

### <a name="premium-storage"></a><span data-ttu-id="56235-130">Archiviazione Premium</span><span class="sxs-lookup"><span data-stu-id="56235-130">Premium storage</span></span> 

<span data-ttu-id="56235-131">Archiviazione Premium è supportata da unità SSD e offre prestazioni elevate e supporto per dischi a bassa latenza per le macchine virtuali che eseguono carichi di lavoro con elevato numero di operazioni di I/O.</span><span class="sxs-lookup"><span data-stu-id="56235-131">Premium Storage is backed by SSDs, and delivers high-performance, low-latency disk support for VMs running I/O-intensive workloads.</span></span> <span data-ttu-id="56235-132">È possibile usare Archiviazione Premium con macchine virtuali di Azure serie DS, DSv2, GS, Ls o FS.</span><span class="sxs-lookup"><span data-stu-id="56235-132">You can use Premium Storage with DS, DSv2, GS, Ls, or FS series Azure VMs.</span></span> <span data-ttu-id="56235-133">Per altre informazioni, vedere [Archiviazione Premium](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="56235-133">For more information, please see [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span></span>

### <a name="unmanaged-disks"></a><span data-ttu-id="56235-134">Dischi non gestiti</span><span class="sxs-lookup"><span data-stu-id="56235-134">Unmanaged disks</span></span>

<span data-ttu-id="56235-135">I dischi non gestiti sono tipo tradizionale di hello di dischi che sono stati usati dalle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="56235-135">Unmanaged disks are hello traditional type of disks that have been used by VMs.</span></span> <span data-ttu-id="56235-136">Queste operazioni, si crea il proprio account di archiviazione e specificare l'account di archiviazione quando si crea il disco di hello.</span><span class="sxs-lookup"><span data-stu-id="56235-136">With these, you create your own storage account and specify that storage account when you create hello disk.</span></span> <span data-ttu-id="56235-137">Si dispone di toomake che non si inserisce un numero eccessivo di dischi hello stesso account di archiviazione, poiché si può superare hello [obiettivi di scalabilità](../articles/storage/common/storage-scalability-targets.md) hello dell'account di archiviazione (ad esempio 20.000 IOPS), comportando hello macchine virtuali limitate.</span><span class="sxs-lookup"><span data-stu-id="56235-137">You have toomake sure you don't put too many disks in hello same storage account, because you could exceed hello [scalability targets](../articles/storage/common/storage-scalability-targets.md) of hello storage account (20,000 IOPS, for example), resulting in hello VMs being throttled.</span></span> <span data-ttu-id="56235-138">Con i dischi non gestiti, è necessario toofigure toomaximize hello utilizzare di uno o più storage account tooget hello migliori prestazioni con le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="56235-138">With unmanaged disks, you have toofigure out how toomaximize hello use of one or more storage accounts tooget hello best performance out of your VMs.</span></span>

### <a name="managed-disks"></a><span data-ttu-id="56235-139">Dischi gestiti</span><span class="sxs-lookup"><span data-stu-id="56235-139">Managed disks</span></span> 

<span data-ttu-id="56235-140">Gestire gli handle di dischi di archiviazione hello creazione/gestione sfondo hello degli account per l'utente e garantisce che non si dispone tooworry sui limiti di scalabilità hello hello dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="56235-140">Managed Disks handles hello storage account creation/management in hello background for you, and ensures that you do not have tooworry about hello scalability limits of hello storage account.</span></span> <span data-ttu-id="56235-141">È sufficiente specificare dimensioni del disco hello e il livello di prestazioni hello (Standard o Premium) e Azure crea e gestisce disco hello per l'utente.</span><span class="sxs-lookup"><span data-stu-id="56235-141">You simply specify hello disk size and hello performance tier (Standard/Premium), and Azure creates and manages hello disk for you.</span></span> <span data-ttu-id="56235-142">Anche se si aggiungono dischi o applicare la scalabilità verticale hello VM, non è tooworry sull'archiviazione hello in uso.</span><span class="sxs-lookup"><span data-stu-id="56235-142">Even as you add disks or scale hello VM up and down, you don't have tooworry about hello storage being used.</span></span> 

<span data-ttu-id="56235-143">È anche possibile gestire immagini personalizzate in un account di archiviazione per ogni area di Azure e usarli toocreate centinaia di macchine virtuali in hello stessa sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="56235-143">You can also manage your custom images in one storage account per Azure region, and use them toocreate hundreds of VMs in hello same subscription.</span></span> <span data-ttu-id="56235-144">Per ulteriori informazioni sui dischi gestiti, vedere hello [Panoramica di dischi gestiti](../articles/virtual-machines/windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="56235-144">For more information about Managed Disks, please see hello [Managed Disks Overview](../articles/virtual-machines/windows/managed-disks-overview.md).</span></span>

<span data-ttu-id="56235-145">È consigliabile usare dischi gestiti di Azure per nuove macchine virtuali e convertire i dischi toomanaged dischi non gestito precedente, tootake sfruttare hello numerose funzionalità disponibili nei dischi gestiti.</span><span class="sxs-lookup"><span data-stu-id="56235-145">We recommend that you use Azure Managed Disks for new VMs, and that you convert your previous unmanaged disks toomanaged disks, tootake advantage of hello many features available in Managed Disks.</span></span>

### <a name="disk-comparison"></a><span data-ttu-id="56235-146">Confronto dei dischi</span><span class="sxs-lookup"><span data-stu-id="56235-146">Disk comparison</span></span>

<span data-ttu-id="56235-147">Hello nella tabella seguente fornisce un confronto tra Visual Studio Premium Standard per entrambi non gestito e gestito si decide quali toouse toohelp di dischi.</span><span class="sxs-lookup"><span data-stu-id="56235-147">hello following table provides a comparison of Premium vs Standard for both unmanaged and managed disks toohelp you decide what toouse.</span></span>

|    | <span data-ttu-id="56235-148">Disco Premium di Azure</span><span class="sxs-lookup"><span data-stu-id="56235-148">Azure Premium Disk</span></span> | <span data-ttu-id="56235-149">Disco Standard di Azure</span><span class="sxs-lookup"><span data-stu-id="56235-149">Azure Standard Disk</span></span> |
|--- | ------------------ | ------------------- |
| <span data-ttu-id="56235-150">Tipo di disco</span><span class="sxs-lookup"><span data-stu-id="56235-150">Disk Type</span></span> | <span data-ttu-id="56235-151">Unità a stato solido (SSD)</span><span class="sxs-lookup"><span data-stu-id="56235-151">Solid State Drives (SSD)</span></span> | <span data-ttu-id="56235-152">Unità disco rigido (HDD)</span><span class="sxs-lookup"><span data-stu-id="56235-152">Hard Disk Drives (HDD)</span></span>  |
| <span data-ttu-id="56235-153">Panoramica</span><span class="sxs-lookup"><span data-stu-id="56235-153">Overview</span></span>  | <span data-ttu-id="56235-154">Supporto per dischi SSD a prestazioni elevate e bassa latenza per le macchine virtuali che eseguono carichi di lavoro con elevato numero di operazioni di I/O o ambienti di produzione host cruciali</span><span class="sxs-lookup"><span data-stu-id="56235-154">SSD-based high-performance, low-latency disk support for VMs running IO-intensive workloads or hosting mission critical production environment</span></span> | <span data-ttu-id="56235-155">Supporto per dischi HDD convenienti per scenari di macchine virtuali di sviluppo e test</span><span class="sxs-lookup"><span data-stu-id="56235-155">HDD-based cost effective disk support for Dev/Test VM scenarios</span></span> |
| <span data-ttu-id="56235-156">Scenario</span><span class="sxs-lookup"><span data-stu-id="56235-156">Scenario</span></span>  | <span data-ttu-id="56235-157">Carichi di lavoro di produzione su cui influiscono le prestazioni</span><span class="sxs-lookup"><span data-stu-id="56235-157">Production and performance sensitive workloads</span></span> | <span data-ttu-id="56235-158">Sviluppo e test, non critico,</span><span class="sxs-lookup"><span data-stu-id="56235-158">Dev/Test, non-critical,</span></span> <br><span data-ttu-id="56235-159">ad accesso non frequente</span><span class="sxs-lookup"><span data-stu-id="56235-159">Infrequent access</span></span> |
| <span data-ttu-id="56235-160">Dimensione disco</span><span class="sxs-lookup"><span data-stu-id="56235-160">Disk Size</span></span> | <span data-ttu-id="56235-161">P4: 32 GB (solo Managed Disks)</span><span class="sxs-lookup"><span data-stu-id="56235-161">P4: 32 GB (Managed Disks only)</span></span><br><span data-ttu-id="56235-162">P6: 64 GB (solo Managed Disks)</span><span class="sxs-lookup"><span data-stu-id="56235-162">P6: 64 GB (Managed Disks only)</span></span><br><span data-ttu-id="56235-163">P10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="56235-163">P10: 128 GB</span></span><br><span data-ttu-id="56235-164">P20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="56235-164">P20: 512 GB</span></span><br><span data-ttu-id="56235-165">P30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="56235-165">P30: 1024 GB</span></span><br><span data-ttu-id="56235-166">P40: 2048 GB</span><span class="sxs-lookup"><span data-stu-id="56235-166">P40: 2048 GB</span></span><br><span data-ttu-id="56235-167">P50: 4095 GB</span><span class="sxs-lookup"><span data-stu-id="56235-167">P50: 4095 GB</span></span> | <span data-ttu-id="56235-168">Dischi non gestiti: tra 1 GB e 4 TB (4095 GB)</span><span class="sxs-lookup"><span data-stu-id="56235-168">Unmanaged Disks: 1 GB – 4 TB (4095 GB)</span></span> <br><br><span data-ttu-id="56235-169">Dischi gestiti:</span><span class="sxs-lookup"><span data-stu-id="56235-169">Managed Disks:</span></span><br> <span data-ttu-id="56235-170">S4: 32 GB</span><span class="sxs-lookup"><span data-stu-id="56235-170">S4: 32 GB</span></span> <br><span data-ttu-id="56235-171">S6: 64 GB</span><span class="sxs-lookup"><span data-stu-id="56235-171">S6: 64 GB</span></span> <br><span data-ttu-id="56235-172">S10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="56235-172">S10: 128 GB</span></span> <br><span data-ttu-id="56235-173">S20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="56235-173">S20: 512 GB</span></span> <br><span data-ttu-id="56235-174">S30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="56235-174">S30: 1024 GB</span></span> <br><span data-ttu-id="56235-175">S40: 2048 GB</span><span class="sxs-lookup"><span data-stu-id="56235-175">S40: 2048 GB</span></span><br><span data-ttu-id="56235-176">S50: 4095 GB</span><span class="sxs-lookup"><span data-stu-id="56235-176">S50: 4095 GB</span></span>| 
| <span data-ttu-id="56235-177">Velocità effettiva massima per disco</span><span class="sxs-lookup"><span data-stu-id="56235-177">Max Throughput per Disk</span></span> | <span data-ttu-id="56235-178">250 MB/s</span><span class="sxs-lookup"><span data-stu-id="56235-178">250 MB/s</span></span> | <span data-ttu-id="56235-179">60 MB/s</span><span class="sxs-lookup"><span data-stu-id="56235-179">60 MB/s</span></span> | 
| <span data-ttu-id="56235-180">Numero massimo di operazioni di I/O al secondo per disco</span><span class="sxs-lookup"><span data-stu-id="56235-180">Max IOPS per Disk</span></span> | <span data-ttu-id="56235-181">7500 IOPS</span><span class="sxs-lookup"><span data-stu-id="56235-181">7500 IOPS</span></span> | <span data-ttu-id="56235-182">500 IOPS</span><span class="sxs-lookup"><span data-stu-id="56235-182">500 IOPS</span></span> | 

