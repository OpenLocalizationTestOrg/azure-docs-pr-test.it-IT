---
title: 'Schema progettuale di Azure Cosmos DB: app di social media | Microsoft Docs'
description: "Informazioni su uno schema progettuale per social network che sfrutta la flessibilità di archiviazione di Azure Cosmos DB e altri servizi di Azure."
keywords: app di social media
services: cosmos-db
author: ealsur
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 2dbf83a7-512a-4993-bf1b-ea7d72e095d9
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/29/2017
ms.author: mimig
ms.openlocfilehash: 43025adeaf954fedfbcee32e636fb30935f2126b
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="going-social-with-azure-cosmos-db"></a><span data-ttu-id="3cf3d-104">Integrazione con i social con Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3cf3d-104">Going social with Azure Cosmos DB</span></span>
<span data-ttu-id="3cf3d-105">Vivere in una società profondamente interconnessa porta, prima o poi, ad avere a che fare con i **social network**.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-105">Living in a massively-interconnected society means that, at some point in life, you become part of a **social network**.</span></span> <span data-ttu-id="3cf3d-106">I social network vengono usati per rimanere in contatto con amici, colleghi e familiari, ma anche per condividere passioni con persone con interessi simili.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-106">We use social networks to keep in touch with friends, colleagues, family, or sometimes to share our passion with people with common interests.</span></span>

<span data-ttu-id="3cf3d-107">Ingegneri e sviluppatori si sono probabilmente interrogati sulle modalità di archiviazione e interconnessione dei dati in queste reti. Altri potrebbero aver ricevuto l'incarico di creare o progettare un nuovo social network per uno specifico mercato di nicchia.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-107">As engineers or developers, we might have wondered how do these networks store and interconnect our data, or might have even been tasked to create or architect a new social network for a specific niche market yourselves.</span></span> <span data-ttu-id="3cf3d-108">La domanda più importante di tutte è: come vengono archiviati tutti questi dati?</span><span class="sxs-lookup"><span data-stu-id="3cf3d-108">That’s when the big question arises: How is all this data stored?</span></span>

<span data-ttu-id="3cf3d-109">Si supponga di voler creare un nuovo social network, in cui gli utenti possano pubblicare articoli con elementi multimediali correlati, ad esempio immagini, video o musica,</span><span class="sxs-lookup"><span data-stu-id="3cf3d-109">Let’s suppose that we are creating a new and shiny social network, where our users can post articles with related media like, pictures, videos, or even music.</span></span> <span data-ttu-id="3cf3d-110">La pagina di destinazione principale del sito Web includerà un feed di post che gli utenti possono visualizzare e con cui possono interagire.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-110">Users can comment on posts and give points for ratings.</span></span> <span data-ttu-id="3cf3d-111">Inizialmente l'esempio può non sembrare molto complesso.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-111">There will be a feed of posts that users will see and be able to interact with on the main website landing page.</span></span> <span data-ttu-id="3cf3d-112">Si potrebbe approfondire l'argomento con feed utente personalizzati condizionati dalle relazioni, ma questo va oltre l'obiettivo di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-112">This doesn’t sound really complex (at first), but for the sake of simplicity, let’s stop there (we could delve into custom user feeds affected by relationships, but it exceeds the goal of this article).</span></span>

<span data-ttu-id="3cf3d-113">Come e dove archiviare i dati?</span><span class="sxs-lookup"><span data-stu-id="3cf3d-113">So, how do we store this and where?</span></span>

<span data-ttu-id="3cf3d-114">Chi ha fatto esperienza di database SQL o conosce la [modellazione relazionale dei dati](https://en.wikipedia.org/wiki/Relational_model) potrebbe iniziare con il disegnare qualcosa di simile:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-114">Many of you might have experience on SQL databases or at least have notion of [relational modeling of data](https://en.wikipedia.org/wiki/Relational_model) and you might be tempted to start drawing something like this:</span></span>

![Diagramma che illustra un modello relazionale relativo](./media/social-media-apps/social-media-apps-sql.png) 

<span data-ttu-id="3cf3d-116">Una struttura di dati perfettamente normalizzata...</span><span class="sxs-lookup"><span data-stu-id="3cf3d-116">A perfectly normalized and pretty data structure…</span></span> <span data-ttu-id="3cf3d-117">che non supporta la scalabilità.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-117">that doesn't scale.</span></span> 

<span data-ttu-id="3cf3d-118">I database SQL sono certamente molto utili, ma come ogni modello, procedura e piattaforma software non sono perfetti per tutti gli scenari.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-118">Don’t get me wrong, I’ve worked with SQL databases all my life, they are great, but like every pattern, practice and software platform, it’s not perfect for every scenario.</span></span>

<span data-ttu-id="3cf3d-119">Perché SQL non rappresenta la scelta migliore in questo scenario?</span><span class="sxs-lookup"><span data-stu-id="3cf3d-119">Why isn't SQL the best choice in this scenario?</span></span> <span data-ttu-id="3cf3d-120">A causa della struttura usata, per visualizzare un singolo post in un sito Web o un'applicazione sarebbe necessario eseguire una query con addirittura otto join di tabella.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-120">Let’s look at the structure of a single post, if I wanted to show that post in a website or application, I’d have to do a query with…</span></span> <span data-ttu-id="3cf3d-121">Per un flusso di post caricati in modo dinamico e visualizzati sullo schermo questa struttura risulta quindi poco adatta.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-121">8 table joins (!) just to show one single post, now, picture a stream of posts that dynamically load and appear on the screen and you might see where I am going.</span></span>

<span data-ttu-id="3cf3d-122">Si potrebbe usare un'istanza di SQL di grandissime dimensioni, con capacità sufficiente per risolvere migliaia di query con un numero di join adatto a rendere disponibile il contenuto, ma esiste una soluzione più semplice.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-122">We could, of course, use a humongous SQL instance with enough power to solve thousands of queries with these many joins to serve our content, but truly, why would we when a simpler solution exists?</span></span>

## <a name="the-nosql-road"></a><span data-ttu-id="3cf3d-123">Approccio NoSQL</span><span class="sxs-lookup"><span data-stu-id="3cf3d-123">The NoSQL road</span></span>
<span data-ttu-id="3cf3d-124">In questo articolo verrà illustrata la modellazione dei dati della piattaforma di social networking con il database NoSQL di Azure, [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/) in modo conveniente sfruttando altre funzionalità di Azure Cosmos DB quali l'[API Graph Gremlin](../cosmos-db/graph-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-124">This article will guide you into modeling your social platform's data with Azure's NoSQL database [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/) in a cost-effective way while leveraging other Azure Cosmos DB features like the  [Gremlin Graph API](../cosmos-db/graph-introduction.md).</span></span> <span data-ttu-id="3cf3d-125">Con un approccio [NoSQL](https://en.wikipedia.org/wiki/NoSQL), che prevede l'archiviazione dei dati in formato JSON e l'applicazione della [denormalizzazione](https://en.wikipedia.org/wiki/Denormalization), il post che prima risultava complesso può essere trasformato in un singolo [documento](https://en.wikipedia.org/wiki/Document-oriented_database):</span><span class="sxs-lookup"><span data-stu-id="3cf3d-125">Using a [NoSQL](https://en.wikipedia.org/wiki/NoSQL) approach, storing data in JSON format and applying [denormalization](https://en.wikipedia.org/wiki/Denormalization), our previously complicated post can be transformed into a single [Document](https://en.wikipedia.org/wiki/Document-oriented_database):</span></span>


    {
        "id":"ew12-res2-234e-544f",
        "title":"post title",
        "date":"2016-01-01",
        "body":"this is an awesome post stored on NoSQL",
        "createdBy":User,
        "images":["http://myfirstimage.png","http://mysecondimage.png"],
        "videos":[
            {"url":"http://myfirstvideo.mp4", "title":"The first video"},
            {"url":"http://mysecondvideo.mp4", "title":"The second video"}
        ],
        "audios":[
            {"url":"http://myfirstaudio.mp3", "title":"The first audio"},
            {"url":"http://mysecondaudio.mp3", "title":"The second audio"}
        ]
    }

<span data-ttu-id="3cf3d-126">E può essere ottenuto con una singola query, senza l'uso di join.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-126">And it can be obtained with a single query, and with no joins.</span></span> <span data-ttu-id="3cf3d-127">Questa soluzione è molto più semplice e lineare e, a livello di budget, permette di ottenere risultati migliori con meno risorse.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-127">This is much more simple and straightforward, and, budget-wise, it requires fewer resources to achieve a better result.</span></span>

<span data-ttu-id="3cf3d-128">Con Azure Cosmos DB tutte le proprietà vengono indicizzate tramite l'indicizzazione automatica, che può anche essere [personalizzata](indexing-policies.md).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-128">Azure Cosmos DB makes sure that all the properties are indexed with its automatic indexing, which can even be [customized](indexing-policies.md).</span></span> <span data-ttu-id="3cf3d-129">L'approccio senza schema consente di archiviare documenti con strutture varie e dinamiche. Se in futuro si volesse associare un elenco di categorie o hashtag ai post, Cosmos DB gestirebbe i nuovi documenti con gli attributi aggiuntivi senza richiedere ulteriori interventi.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-129">The schema-free approach lets us store Documents with different and dynamic structures, maybe tomorrow we want posts to have a list of categories or hashtags associated with them, Cosmos DB will handle the new Documents with the added attributes with no extra work required by us.</span></span>

<span data-ttu-id="3cf3d-130">I commenti a un post possono essere considerati come altri post con una proprietà padre e questo semplifica il mapping degli oggetti.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-130">Comments on a post can be treated as just other posts with a parent property (this simplifies our object mapping).</span></span> 

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":User2,
        "parent":"ew12-res2-234e-544f"
    }

    {
        "id":"asd2-fee4-23gc-jh67",
        "title":"Ditto!",
        "date":"2016-01-03",
        "createdBy":User3,
        "parent":"ew12-res2-234e-544f"
    }

<span data-ttu-id="3cf3d-131">Tutte le interazioni social possono essere archiviate in un oggetto separato come contatori:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-131">And all social interactions can be stored on a separate object as counters:</span></span>

    {
        "id":"dfe3-thf5-232s-dse4",
        "post":"ew12-res2-234e-544f",
        "comments":2,
        "likes":10,
        "points":200
    }

<span data-ttu-id="3cf3d-132">Per la creazione di feed è sufficiente creare documenti che possano contenere un elenco di ID post con un ordine di pertinenza specifico:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-132">Creating feeds is just a matter of creating documents that can hold a list of post ids with a given relevance order:</span></span>

    [
        {"relevance":9, "post":"ew12-res2-234e-544f"},
        {"relevance":8, "post":"fer7-mnb6-fgh9-2344"},
        {"relevance":7, "post":"w34r-qeg6-ref6-8565"}
    ]

<span data-ttu-id="3cf3d-133">Si potrebbe avere un flusso delle notizie "più recenti", con i post ordinati per data di creazione, un flusso delle notizie "più interessanti", con i post più popolari delle ultime 24 ore, e perfino un flusso personalizzato per ogni utente, in base ai follower oppure agli interessi, ma rimarrebbe comunque un elenco di post.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-133">We could have a “latest” stream with posts ordered by creation date, a “hottest” stream with those posts with more likes in the last 24 hours, we could even implement a custom stream for each user based on logic like followers and interests, and it would still be a list of posts.</span></span> <span data-ttu-id="3cf3d-134">Dopo aver compilato gli elenchi, le prestazioni di lettura rimangono invariate.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-134">It’s a matter of how to build these lists, but the reading performance remains unhindered.</span></span> <span data-ttu-id="3cf3d-135">Dopo l'acquisizione di uno di questi elenchi, viene inviata una singola query a Cosmos DB usando l'[operatore IN](documentdb-sql-query.md#WhereClause) per ottenere più pagine di post alla volta.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-135">Once we acquire one of these lists, we issue a single query to Cosmos DB using the [IN operator](documentdb-sql-query.md#WhereClause) to obtain pages of posts at a time.</span></span>

<span data-ttu-id="3cf3d-136">I flussi di feed possono essere creati usando i processi in background dei [servizi app di Azure](https://azure.microsoft.com/services/app-service/), ovvero [Processi Web](../app-service-web/web-sites-create-web-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-136">The feed streams could be built using [Azure App Services’](https://azure.microsoft.com/services/app-service/) background processes: [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span></span> <span data-ttu-id="3cf3d-137">Dopo che un post è stato creato, l'elaborazione in background può essere attivata tramite le [code](https://azure.microsoft.com/services/storage/) di [Archiviazione di Azure](../storage/queues/storage-dotnet-how-to-use-queues.md), mentre i Processi Web possono essere attivati tramite [Azure Webjobs SDK](../app-service-web/websites-dotnet-webjobs-sdk.md), implementando la propagazione dei post all'interno dei flussi in base a una logica personalizzata.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-137">Once a post is created, background processing can be triggered by using [Azure Storage](https://azure.microsoft.com/services/storage/) [Queues](../storage/queues/storage-dotnet-how-to-use-queues.md) and Webjobs triggered using the [Azure Webjobs SDK](../app-service-web/websites-dotnet-webjobs-sdk.md), implementing the post propagation inside streams based on our own custom logic.</span></span> 

<span data-ttu-id="3cf3d-138">Con questa stessa tecnica è possibile elaborare punteggi e Mi piace relativi ai post in modo posticipato, per creare un ambiente coerente.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-138">Points and likes over a post can be processed in a deferred manner using this same technique to create an eventually consistent environment.</span></span>

<span data-ttu-id="3cf3d-139">I follower sono più complessi.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-139">Followers are trickier.</span></span> <span data-ttu-id="3cf3d-140">Cosmos DB prevede un limite di dimensioni massime dei documenti e la lettura/scrittura di documenti di grandi dimensioni può influire sulla scalabilità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-140">Cosmos DB has a maximum document size limit, and reading/writing large documents can impact the scalability of your application.</span></span> <span data-ttu-id="3cf3d-141">È quindi consigliabile archiviare i follower come documento con questa struttura:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-141">So you may think about storing followers as a document with this structure:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "followersOf": "dse4-qwe2-ert4-aad2",
        "followers":[
            "ewr5-232d-tyrg-iuo2",
            "qejh-2345-sdf1-ytg5",
            //...
            "uie0-4tyg-3456-rwjh"
        ]
    }

<span data-ttu-id="3cf3d-142">Questa soluzione può funzionare per un utente con alcune migliaia di follower, ma qualora si unissero alcune celebrità, questo approccio provocherà dimensioni elevate per i documenti e il limite massimo verrebbe raggiunto rapidamente.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-142">This might work for a user with a few thousands followers, but if some celebrity joins our ranks, this approach will lead to a large document size, and might eventually hit the document size cap.</span></span>

<span data-ttu-id="3cf3d-143">Per risolvere il problema, è possibile adottare un approccio misto.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-143">To solve this, we can use a mixed approach.</span></span> <span data-ttu-id="3cf3d-144">Nel documento delle statistiche utenti è possibile archiviare il numero di follower:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-144">As part of the User Statistics document we can store the number of followers:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "user": "dse4-qwe2-ert4-aad2",
        "followers":55230,
        "totalPosts":452,
        "totalPoints":11342
    }

<span data-ttu-id="3cf3d-145">Il grafico effettivo di follower può essere archiviato tramite l'[API Graph Gremlin](../cosmos-db/graph-introduction.md) di Azure Cosmos DB, per creare [vertici](http://mathworld.wolfram.com/GraphVertex.html) per ogni utente e [bordi](http://mathworld.wolfram.com/GraphEdge.html) che gestiscono le relazioni "Segue-a-B".</span><span class="sxs-lookup"><span data-stu-id="3cf3d-145">And the actual graph of followers can be stored using Azure Cosmos DB [Gremlin Graph API](../cosmos-db/graph-introduction.md), to create [vertexes](http://mathworld.wolfram.com/GraphVertex.html) for each user and [edges](http://mathworld.wolfram.com/GraphEdge.html) that maintain the "A-follows-B" relationships.</span></span> <span data-ttu-id="3cf3d-146">L'API Graph consente non solo di ottenere i follower di un determinato utente ma anche di creare query più complesse persino per suggerire gli utenti in comune.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-146">The Graph API let's you not only obtain the followers of a certain user but create more complex queries to even suggest people in common.</span></span> <span data-ttu-id="3cf3d-147">Se al grafico si aggiungono le categorie di contenuto che piacciono o a cui sono interessati gli utenti, è possibile avviare esperienze composte che includono l'individuazione intelligente dei contenuti, il suggerimento dei contenuti che interessano ai follower o la ricerca di persone con cui l'utente può avere molto in comune.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-147">If we add to the graph the Content Categories that people like or enjoy, we can start weaving experiences that include smart content discovery, suggesting content that those we follow like, or finding people with whom we might have much in common.</span></span>

<span data-ttu-id="3cf3d-148">Il documento Statistiche utente può ancora essere usato per creare schede nell'interfaccia utente o anteprime rapide del profilo.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-148">The User Statistics document can still be used to create cards in the UI or quick profile previews.</span></span>

## <a name="the-ladder-pattern-and-data-duplication"></a><span data-ttu-id="3cf3d-149">Modello "a gradini" e duplicazione dei dati</span><span class="sxs-lookup"><span data-stu-id="3cf3d-149">The “Ladder” pattern and data duplication</span></span>
<span data-ttu-id="3cf3d-150">Nel documento JSON che fa riferimento a un post sono presenti più occorrenze di un utente.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-150">As you might have noticed in the JSON document that references a post, there are multiple occurrences of a user.</span></span> <span data-ttu-id="3cf3d-151">Ciò significa che, data la denormalizzazione, le informazioni che rappresentano un utente potrebbero essere presenti in più posizioni.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-151">And you’d have guessed right, this means that the information that represents a user, given this denormalization, might be present in more than one place.</span></span>

<span data-ttu-id="3cf3d-152">Questo perché query più veloci comportano la duplicazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-152">In order to allow for faster queries, we incur data duplication.</span></span> <span data-ttu-id="3cf3d-153">Il problema legato a questo effetto collaterale è che, se i dati di un utente vengono modificati in qualche modo, è necessario trovare e aggiornare tutte le attività eseguite da tale utente.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-153">The problem with this side-effect is that if by some action, a user’s data changes, we need to find all the activities he ever did and update them all.</span></span> <span data-ttu-id="3cf3d-154">Questo è un aspetto che va risolto.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-154">Doesn’t sound very practical, right?</span></span>

<span data-ttu-id="3cf3d-155">Il problema viene risolto identificando gli attributi chiave di un utente che sono visualizzati nell'applicazione per ogni attività.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-155">We are going to solve it by identifying the Key attributes of a user that we show in our application for each activity.</span></span> <span data-ttu-id="3cf3d-156">Se nell'applicazione sono visibili soltanto il post con il nome e l'immagine dell'autore, perché archiviare tutti i dati dell'utente nell'attributo "createdBy"?</span><span class="sxs-lookup"><span data-stu-id="3cf3d-156">If we visually show a post in our application and show just the creator’s name and picture, why store all of the user’s data in the “createdBy” attribute?</span></span> <span data-ttu-id="3cf3d-157">Se per ogni commento viene visualizzata solo l'immagine dell'utente, il resto delle informazioni non serve.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-157">If for each comment we just show the user’s picture, we don’t really need the rest of his information.</span></span> <span data-ttu-id="3cf3d-158">In questo caso può risultare utile il cosiddetto modello "a gradini".</span><span class="sxs-lookup"><span data-stu-id="3cf3d-158">That’s where something I call the “Ladder pattern” comes into play.</span></span>

<span data-ttu-id="3cf3d-159">Si prendano ad esempio le informazioni relative a un utente:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-159">Let’s take user information as an example:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "address":"742 Evergreen Terrace",
        "birthday":"1983-05-07",
        "email":"john@doe.com",
        "twitterHandle":"@john",
        "username":"johndoe",
        "password":"some_encrypted_phrase",
        "totalPoints":100,
        "totalPosts":24
    }

<span data-ttu-id="3cf3d-160">Esaminando queste informazioni è possibile distinguere rapidamente quelle più o meno critiche, creando così dei "gradini":</span><span class="sxs-lookup"><span data-stu-id="3cf3d-160">By looking at this information, we can quickly detect which is critical information and which isn’t, thus creating a “Ladder”:</span></span>

![Diagramma di un modello a gradini](./media/social-media-apps/social-media-apps-ladder.png)

<span data-ttu-id="3cf3d-162">Il gradino più piccolo è detto UserChunk, l'informazione minima che identifica un utente, e viene usato per la duplicazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-162">The smallest step is called a UserChunk, the minimal piece of information that identifies a user and it’s used for data duplication.</span></span> <span data-ttu-id="3cf3d-163">Riducendo le dimensioni dei dati duplicati alle sole informazioni visualizzate, si riduce il rischio di aggiornamenti troppo estesi.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-163">By reducing the size of the duplicated data to only the information we will “show”, we reduce the possibility of massive updates.</span></span>

<span data-ttu-id="3cf3d-164">Il gradino intermedio è quello dell'utente e contiene i dati completi che verranno usati nella maggior parte delle query basate sulle prestazioni in Cosmos DB. Si tratta del gradino più importante e più consultato.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-164">The middle step is called the user, it’s the full data that will be used on most performance-dependent queries on Cosmos DB, the most accessed and critical.</span></span> <span data-ttu-id="3cf3d-165">Include le informazioni rappresentate da un UserChunk.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-165">It includes the information represented by a UserChunk.</span></span>

<span data-ttu-id="3cf3d-166">Il gradino più grande è quello dell'utente esteso.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-166">The largest is the Extended User.</span></span> <span data-ttu-id="3cf3d-167">Include tutte le informazioni critiche relative all'utente e altri dati che non è necessario leggere rapidamente o che vengono usati poco di frequente, ad esempio la procedura di accesso.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-167">It includes all the critical user information plus other data that doesn’t really require to be read quickly or it’s usage is eventual (like the login process).</span></span> <span data-ttu-id="3cf3d-168">Questi dati possono essere archiviati al di fuori di Cosmos DB, nel database SQL di Azure o nelle tabelle di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-168">This data can be stored outside of Cosmos DB, in Azure SQL Database or Azure Storage Tables.</span></span>

<span data-ttu-id="3cf3d-169">Suddividere i dati dell'utente e archiviare le informazioni in posizioni diverse risulta utile</span><span class="sxs-lookup"><span data-stu-id="3cf3d-169">Why would we split the user and even store this information in different places?</span></span> <span data-ttu-id="3cf3d-170">perché, in termini di prestazioni, le query su documenti di grandi dimensioni hanno un costo maggiore.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-170">Because from a performance point of view, the bigger the documents, the costlier the queries.</span></span> <span data-ttu-id="3cf3d-171">I documenti devono quindi essere leggeri e contenere le informazioni necessarie per eseguire query basate sulle prestazioni per un social network. È consigliabile archiviare le informazioni aggiuntive per altri scenari, come ad esempio le modifiche all'intero profilo, gli account di accesso e il data mining per l'analisi di utilizzo e le iniziative legate ai Big Data.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-171">Keep documents slim, with the right information to do all your performance-dependent queries for your social network, and store the other extra information for eventual scenarios like, full profile edits, logins, even data mining for usage analytics and Big Data initiatives.</span></span> <span data-ttu-id="3cf3d-172">Non importa se la raccolta dei dati per il data mining risulta lenta, perché è in esecuzione in un database SQL di Azure. Ciò che conta è offrire un'esperienza utente agile e veloce.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-172">We really don’t care if the data gathering for data mining is slower because it’s running on Azure SQL Database, we do have concern though that our users have a fast and slim experience.</span></span> <span data-ttu-id="3cf3d-173">Un utente archiviato in Cosmos DB si presenta come segue:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-173">A user, stored on Cosmos DB, would look like this:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "username":"johndoe"
        "email":"john@doe.com",
        "twitterHandle":"@john"
    }

<span data-ttu-id="3cf3d-174">Un post invece si presenta come segue:</span><span class="sxs-lookup"><span data-stu-id="3cf3d-174">And a Post would look like:</span></span>

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":{
            "id":"dse4-qwe2-ert4-aad2",
            "username":"johndoe"
        }
    }

<span data-ttu-id="3cf3d-175">Quando viene apportata una modifica che influisce su uno degli attributi del blocco, è facile trovare i documenti interessati usando query che puntano agli attributi indicizzati (SELECT * FROM posts p WHERE p.createdBy.id == "edited_user_id") e quindi aggiornare i blocchi.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-175">And when an edit arises where one of the attributes of the chunk is affected, it’s easy to find the affected documents by using queries that point to the indexed attributes (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”) and then updating the chunks.</span></span>

## <a name="the-search-box"></a><span data-ttu-id="3cf3d-176">Casella di ricerca</span><span class="sxs-lookup"><span data-stu-id="3cf3d-176">The search box</span></span>
<span data-ttu-id="3cf3d-177">Gli utenti generano molti contenuti</span><span class="sxs-lookup"><span data-stu-id="3cf3d-177">Users will generate, luckily, a lot of content.</span></span> <span data-ttu-id="3cf3d-178">e devono avere la possibilità di cercare e trovare anche contenuti non presenti direttamente nel proprio flusso di contenuti, perché non seguono gli autori o semplicemente perché si tratta di post vecchi di 6 mesi.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-178">And we should be able to provide the ability to search and find content that might not be directly in their content streams, maybe because we don’t follow the creators, or maybe we are just trying to find that old post we did 6 months ago.</span></span>

<span data-ttu-id="3cf3d-179">Grazie ad Azure Cosmos DB è possibile implementare facilmente un motore di ricerca tramite [Ricerca di Azure](https://azure.microsoft.com/services/search/), in breve tempo e senza dover aggiungere altro codice oltre al processo di ricerca e all'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-179">Thankfully, and because we are using Azure Cosmos DB, we can easily implement a search engine using [Azure Search](https://azure.microsoft.com/services/search/) in a couple of minutes and without typing a single line of code (other than obviously, the search process and UI).</span></span>

<span data-ttu-id="3cf3d-180">Perché è così semplice?</span><span class="sxs-lookup"><span data-stu-id="3cf3d-180">Why is this so easy?</span></span>

<span data-ttu-id="3cf3d-181">Ricerca di Azure implementa i cosiddetti [indicizzatori](https://msdn.microsoft.com/library/azure/dn946891.aspx), ovvero processi in background che agganciano i repository di dati e aggiungono, aggiornano e rimuovono automaticamente gli oggetti contenuti negli indici.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-181">Azure Search implements what they call [Indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx), background processes that hook in your data repositories and automagically add, update or remove your objects in the indexes.</span></span> <span data-ttu-id="3cf3d-182">Supportano gli [indicizzatori di database SQL di Azure](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), gli [indicizzatori di BLOB di Azure](../search/search-howto-indexing-azure-blob-storage.md) e, soprattutto, gli [indicizzatori di Azure Cosmos DB](../search/search-howto-index-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-182">They support an [Azure SQL Database indexers](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [Azure Blobs indexers](../search/search-howto-indexing-azure-blob-storage.md) and thankfully, [Azure Cosmos DB indexers](../search/search-howto-index-documentdb.md).</span></span> <span data-ttu-id="3cf3d-183">Il passaggio delle informazioni da Cosmos DB a Ricerca di Azure è semplice, perché entrambi archiviano le informazioni in formato JSON. È sufficiente [creare l'indice](../search/search-create-index-portal.md) ed eseguire il mapping degli attributi dei documenti da indicizzare. In pochi minuti, a seconda delle dimensioni dei dati, tutto il contenuto sarà disponibile per la ricerca, con la migliore soluzione di ricerca distribuita come servizio nell'infrastruttura cloud.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-183">The transition of information from Cosmos DB to Azure Search is straightforward, as both store information in JSON format, we just need to [create our Index](../search/search-create-index-portal.md) and map which attributes from our Documents we want indexed and that’s it, in a matter of minutes (depends on the size of our data), all our content will be available to be searched upon, by the best Search-as-a-Service solution in cloud infrastructure.</span></span> 

<span data-ttu-id="3cf3d-184">Per altre informazioni su Ricerca di Azure, vedere la [guida a Ricerca di Azure](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/)nel relativo post di blog.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-184">For more information about Azure Search, you can visit the [Hitchhiker’s Guide to Search](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/).</span></span>

## <a name="the-underlying-knowledge"></a><span data-ttu-id="3cf3d-185">Conoscenza sottostante</span><span class="sxs-lookup"><span data-stu-id="3cf3d-185">The underlying knowledge</span></span>
<span data-ttu-id="3cf3d-186">Dopo aver archiviato tutti questi contenuti che continuano ad aumentare, come è possibile mettere tutto questo flusso di informazioni al servizio degli utenti?</span><span class="sxs-lookup"><span data-stu-id="3cf3d-186">After storing all this content that grows and grows every day, we might find ourselves thinking: What can I do with all this stream of information from my users?</span></span>

<span data-ttu-id="3cf3d-187">È necessario usare le informazioni e imparare dai dati.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-187">The answer is straightforward: Put it to work and learn from it.</span></span>

<span data-ttu-id="3cf3d-188">Ad esempio,</span><span class="sxs-lookup"><span data-stu-id="3cf3d-188">But, what can we learn?</span></span> <span data-ttu-id="3cf3d-189">è possibile usare l'[analisi del sentimento](https://en.wikipedia.org/wiki/Sentiment_analysis), includere indicazioni su contenuti consigliati in base alle preferenze dell'utente oppure un Content Moderator automatizzato che garantisca la sicurezza per la famiglia di tutti i contenuti pubblicati dal social network.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-189">A few easy examples include [sentiment analysis](https://en.wikipedia.org/wiki/Sentiment_analysis), content recommendations based on a user’s preferences or even an automated content moderator that ensures that all the content published by our social network is safe for the family.</span></span>

<span data-ttu-id="3cf3d-190">Contrariamente a quanto si potrebbe pensare, non è necessario essere dei matematici per estrapolare questi modelli e informazioni da semplici file e database.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-190">Now that I got you hooked, you’ll probably think you need some PhD in math science to extract these patterns and information out of simple databases and files, but you’d be wrong.</span></span>

<span data-ttu-id="3cf3d-191">[Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), incluso in[ Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), è un servizio cloud completamente gestito che consente di creare flussi di lavoro tramite algoritmi in una semplice interfaccia basata sul trascinamento. È possibile codificare algoritmi personalizzati in [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) o usare alcune delle API già compilate e pronte per l'uso, come [Text Analytics](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2), [Content Moderator](https://www.microsoft.com/moderator) o [Recommendations](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-191">[Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), part of the [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), is the a fully managed cloud service that lets you create workflows using algorithms in a simple drag-and-drop interface, code your own algorithms in [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) or use some of the already-built and ready to use APIs such as: [Text Analytics](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2),  [Content Moderator](https://www.microsoft.com/moderator) or [Recommendations](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span></span>

<span data-ttu-id="3cf3d-192">Per ottenere uno di questi scenari di Machine Learning, è possibile usare [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) per inserire le informazioni provenienti da origini diverse e [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) per elaborare le informazioni e generare output che possono poi essere elaborati da Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-192">To achieve any of these Machine Learning scenarios, we can use [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) to ingest the information from different sources, and use [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) to process the information and generate an output that can be processed by Azure Machine Learning.</span></span>

<span data-ttu-id="3cf3d-193">Un'altra opzione disponibile consiste nell'usare i [servizi cognitivi Microsoft](https://www.microsoft.com/cognitive-services) per analizzare i contenuti per gli utenti; non solo è possibile comprenderli meglio (tramite l'analisi di ciò che gli utenti scrivono con l'[API di analisi del testo](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)), ma è anche possibile rilevare i contenuto indesiderati o per soli adulti e agire di conseguenza per mezzo dell'[API Visione artificiale](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-193">Another available option is to use [Microsoft Cognitive Services](https://www.microsoft.com/cognitive-services) to analyze our users content; not only can we understand them better (through analyzing what they write with [Text Analytics API](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)) , but we could also detect unwanted or mature content and act accordingly with [Computer Vision API](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span></span> <span data-ttu-id="3cf3d-194">I servizi cognitivi includono molte delle soluzioni pronte all'uso che non richiedono alcuna conoscenza pregressa di Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-194">Cognitive Services include a lot of out-of-the-box solutions that don't require any kind of Machine Learning knowledge to use.</span></span>

## <a name="a-planet-scale-social-experience"></a><span data-ttu-id="3cf3d-195">Un'esperienza social su scala globale</span><span class="sxs-lookup"><span data-stu-id="3cf3d-195">A planet-scale social experience</span></span>
<span data-ttu-id="3cf3d-196">C'è un ultimo, ma non meno importante, argomento da affrontare: la **scalabilità**.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-196">There is a last, but not least, important topic I must address: **scalability**.</span></span> <span data-ttu-id="3cf3d-197">Quando si progetta un'architettura è essenziale che ogni componente possa essere individualmente scalabile, perché è necessario elaborare più dati o perché si desidera disporre di una copertura geografica più ampia o per entrambi i motivi.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-197">When designing an architecture it's crucial that each component can scale on its own, either because we need to process more data or because we want to have a bigger geographical coverage (or both!).</span></span> <span data-ttu-id="3cf3d-198">Per fortuna, il raggiungimento di questo obiettivo così complesso si rivela un'**esperienza chiavi in mano** con Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-198">Thankfully, achieving such a complex task is a **turnkey experience** with Cosmos DB.</span></span>

<span data-ttu-id="3cf3d-199">Cosmos DB supporta il [partizionamento dinamico](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) predefinito mediante la creazione automatica delle partizioni basate su una determinata **chiave di partizione** (definita come uno degli attributi nei documenti).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-199">Cosmos DB supports [dynamic partitioning](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) out-of-the-box by automatically creating partitions based on a given **partition key** (defined as one of the attributes in your documents).</span></span> <span data-ttu-id="3cf3d-200">La definizione della chiave di partizione corretta è un'operazione che deve essere eseguita in fase di progettazione e tenendo presente le [procedure consigliate](../cosmos-db/partition-data.md#designing-for-partitioning) disponibili. Nel caso dell'esperienza social, la strategia di partizionamento deve essere allineata con la modalità in cui si esegue una query (è consigliabile eseguire letture all'interno della stessa partizione) e si scrive (evitare "hot spot" distribuendo le scritture in più partizioni).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-200">Defining the correct partition key must be done at design time and keeping in mind the [best practices](../cosmos-db/partition-data.md#designing-for-partitioning) available; in the case of a social experience, your partitioning strategy must be aligned with the way you query (reads within the same partition are desirable) and write (avoid "hot spots" by spreading writes on multiple partitions).</span></span> <span data-ttu-id="3cf3d-201">Alcune opzioni sono: partizioni basate su una chiave temporale (giorno/mese/settimana), basate sulla categoria del contenuto, sull'area geografica, sull'utente. Tutto dipende in realtà da come si esegue una query sui dati e come la si visualizza nell'esperienza social.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-201">Some options are: partitions based on a temporal key (day/month/week), by content category, by geographical region, by user; it all really depends on how you will query the data and show it in your social experience.</span></span> 

<span data-ttu-id="3cf3d-202">Un aspetto interessante da sottolineare è che Cosmos DB eseguirà le query (incluse le [aggregazioni](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) in tutte le partizioni in modo trasparente, senza dover aggiungere una logica con l'aumento dei dati.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-202">One interesting point worth mentioning is that Cosmos DB will run your queries (including [aggregates](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) across all your partitions transparently, you don't need to add any logic as your data grows.</span></span>

<span data-ttu-id="3cf3d-203">Con il tempo, aumenterà il traffico e di conseguenza aumenterà il consumo di risorse (misurato in [UR](request-units.md) o unità richiesta).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-203">With time, you will eventually grow in traffic and your resource consumption (measured in [RUs](request-units.md), or Request Units) will increase.</span></span> <span data-ttu-id="3cf3d-204">Le operazioni di lettura e scrittura verranno eseguite con una frequenza maggiore man mano che cresce la base di utenti e le operazioni di creazione e lettura del contenuto aumenteranno. La capacità di **ridimensionare la velocità effettiva** è quindi fondamentale.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-204">You will read and write more frequently as your userbase grows and they will start creating and reading more content; the ability of **scaling your throughput** is vital.</span></span> <span data-ttu-id="3cf3d-205">Aumentare le RU è molto semplice: è possibile farlo con pochi clic nel portale di Azure o [inviando i comandi tramite l'API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-205">Increasing our RUs is very easy, we can do it with a few clicks on the Azure Portal or by [issuing commands through the API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span></span>

![Aumento delle prestazioni e definizione di una chiave di partizione](./media/social-media-apps/social-media-apps-scaling.png)

<span data-ttu-id="3cf3d-207">Poi le cose migliorano e gli utenti di un'altra area, paese o continente, notano la piattaforma e iniziano a usarla. Che magnifica sorpresa!</span><span class="sxs-lookup"><span data-stu-id="3cf3d-207">What happens if things keep getting better and users from another region, country or continent, notice your platform and start using it, what a great surprise!</span></span>

<span data-ttu-id="3cf3d-208">Ma subito dopo ci si accorge che l'esperienza degli utenti con la piattaforma non è ottimale. Sono così lontani dall'area operativa che la latenza è molto elevata. Bisogna evitare che gli utenti abbandonino la piattaforma.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-208">But wait... you soon realize their experience with your platform is not optimal; they are so far away from your operational region that the latency is terrible, and you obviously don't want them to quit.</span></span> <span data-ttu-id="3cf3d-209">Ci vorrebbe un modo semplice per **estendere la portata globale** e infatti il modo esiste.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-209">If only there was an easy way of **extending your global reach**... but there is!</span></span>

<span data-ttu-id="3cf3d-210">Cosmos DB consente di [replicare i dati a livello globale](../cosmos-db/tutorial-global-distribution-documentdb.md) e in modo trasparente con un paio di clic e di scegliere automaticamente tra le aree disponibili del [codice client](../cosmos-db/tutorial-global-distribution-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-210">Cosmos DB lets you [replicate your data globally](../cosmos-db/tutorial-global-distribution-documentdb.md) and transparently with a couple of clicks and automatically select among the available regions from your [client code](../cosmos-db/tutorial-global-distribution-documentdb.md).</span></span> <span data-ttu-id="3cf3d-211">Questo significa anche che è possibile avere [più aree di failover](regional-failover.md).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-211">This also means that you can have [multiple failover regions](regional-failover.md).</span></span> 

<span data-ttu-id="3cf3d-212">Quando si replicano i dati a livello globale, è necessario assicurarsi che i client possano sfruttarli.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-212">When you replicate your data globally, you need to make sure that your clients can take advantage of it.</span></span> <span data-ttu-id="3cf3d-213">Se si usa un front-end Web o si accede all'API da client mobili, è possibile distribuire [Gestione traffico di Azure](https://azure.microsoft.com/services/traffic-manager/) e clonare il Servizio app di Azure in tutte le aree desiderate, usando una [configurazione di prestazioni](../app-service-web/web-sites-traffic-manager.md) per supportare la copertura globale estesa.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-213">If you are using a web frontend or accesing APIs from mobile clients, you can deploy [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) and clone your Azure App Service on all the desired regions, using a [Performance configuration](../app-service-web/web-sites-traffic-manager.md) to support your extended global coverage.</span></span> <span data-ttu-id="3cf3d-214">Quando i client accedono al front-end o alle API, verranno indirizzati al servizio app più vicino, che a sua volta si connetterà alla replica di Cosmos DB locale.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-214">When your clients access your frontend or APIs, they will be routed to the closest App Service, which in turn, will connect to the local Cosmos DB replica.</span></span>

![Aggiunta della copertura globale alla piattaforma social](./media/social-media-apps/social-media-apps-global-replicate.png)

## <a name="conclusion"></a><span data-ttu-id="3cf3d-216">Conclusione</span><span class="sxs-lookup"><span data-stu-id="3cf3d-216">Conclusion</span></span>
<span data-ttu-id="3cf3d-217">Questo articolo illustra come creare social network interamente in Azure, con servizi a costo contenuto e ottimi risultati, promuovendo l'uso di una distribuzione dei dati e di una soluzione di archiviazione a più livelli detta "a gradini".</span><span class="sxs-lookup"><span data-stu-id="3cf3d-217">This article tries to shed some light into the alternatives of creating social networks completely on Azure with low-cost services and providing great results by encouraging the use of a multi-layered storage solution and data distribution called “Ladder”.</span></span>

![Diagramma di interazione tra servizi di Azure per il social networking](./media/social-media-apps/social-media-apps-azure-solution.png)

<span data-ttu-id="3cf3d-219">Non esiste un metodo infallibile per questo tipo di scenario. È la sinergia creata dall'unione di servizi di alto livello che porta a grandi risultati: la velocità e la libertà di Azure Cosmos DB che rendono possibile la realizzazione di un'applicazione social ottimale, l'intelligenza di una soluzione di ricerca di alto livello come Ricerca di Azure, la flessibilità dei servizi app di Azure che consentono di ospitare non solo applicazioni indipendenti dal linguaggio, ma anche potenti processi in background, l'espandibilità di Archiviazione di Azure e del database SQL di Azure che permettono di archiviare grandi quantità di dati e la potenza delle analisi di Azure Machine Learning che consente di creare conoscenza e informazioni per migliorare i processi e fornire i contenuti più appropriati agli utenti giusti.</span><span class="sxs-lookup"><span data-stu-id="3cf3d-219">The truth is that there is no silver bullet for this kind of scenarios, it’s the synergy created by the combination of great services that allow us to build great experiences: the speed and freedom of Azure Cosmos DB to provide a great social application, the intelligence behind a first-class search solution like Azure Search, the flexibility of Azure App Services to host not even language-agnostic applications but powerful background processes and the expandable Azure Storage and Azure SQL Database for storing massive amounts of data and the analytic power of Azure Machine Learning to create knowledge and intelligence that can provide feedback to our processes and help us deliver the right content to the right users.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3cf3d-220">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="3cf3d-220">Next steps</span></span>
<span data-ttu-id="3cf3d-221">Per altre informazioni sui casi d'uso per Cosmos DB, vedere [Casi d'uso comuni di Cosmos DB](use-cases.md).</span><span class="sxs-lookup"><span data-stu-id="3cf3d-221">To learn more about use cases for Cosmos DB, see [Common Cosmos DB use cases](use-cases.md).</span></span>