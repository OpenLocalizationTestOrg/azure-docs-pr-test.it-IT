

<span data-ttu-id="626f1-101">Per i servizi di infrastruttura di Azure sono disponibili due livelli di bilanciamento del carico:</span><span class="sxs-lookup"><span data-stu-id="626f1-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="626f1-102">**Livello di DNS**: bilanciamento del carico per i servizi cloud toodifferent il traffico in diversi data center, toodifferent siti Web di Azure si trova in data center diversi o tooexternal endpoint.</span><span class="sxs-lookup"><span data-stu-id="626f1-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="626f1-103">Questa operazione viene eseguita con gestione traffico di Azure e hello Round Robin di metodo di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="626f1-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="626f1-104">**Livello di rete**: bilanciamento del carico in ingresso Internet traffico toodifferent macchine virtuali di un servizio cloud o bilanciamento del carico del traffico tra macchine virtuali in un servizio cloud o rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="626f1-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="626f1-105">Questa operazione viene eseguita con bilanciamento del carico di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="626f1-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="626f1-106">Bilanciamento del carico di Gestione traffico per servizi cloud e siti Web</span><span class="sxs-lookup"><span data-stu-id="626f1-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="626f1-107">Gestione traffico permette la distribuzione di hello toocontrol di tooendpoints di traffico utente, che possono includere servizi cloud, siti Web, siti esterni e altri profili di Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="626f1-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="626f1-108">Funzionamento di gestione traffico applicando una query di criteri intelligente motore tooDomain Name System (DNS) per i nomi di dominio hello delle risorse Internet.</span><span class="sxs-lookup"><span data-stu-id="626f1-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="626f1-109">I servizi cloud o siti Web possono essere eseguiti in diversi Data Center parti HelloWorld.</span><span class="sxs-lookup"><span data-stu-id="626f1-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="626f1-110">È necessario utilizzare gli endpoint esterni di tooconfigure REST o Windows PowerShell o profili di gestione traffico come endpoint.</span><span class="sxs-lookup"><span data-stu-id="626f1-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="626f1-111">Gestione traffico Usa tre bilanciamento del carico di traffico toodistribute metodi:</span><span class="sxs-lookup"><span data-stu-id="626f1-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="626f1-112">**Failover**: utilizzare questo metodo quando si desidera che toouse un endpoint primario per tutto il traffico, ma fornire backup nel caso in cui hello primario diventa non disponibile.</span><span class="sxs-lookup"><span data-stu-id="626f1-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="626f1-113">**Prestazioni**: utilizzare questo metodo quando si dispone di endpoint in aree geografiche diverse e si desidera richiedere endpoint "più vicino" client toouse hello in termini di latenza più bassa hello.</span><span class="sxs-lookup"><span data-stu-id="626f1-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="626f1-114">**Round Robin:** utilizzare questo metodo quando si desidera toodistribute carico in un set di cloud services in hello stesso Data Center o in servizi cloud o siti Web in Data Center diversi.</span><span class="sxs-lookup"><span data-stu-id="626f1-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="626f1-115">Per altre informazioni, vedere [Informazioni sui metodi di bilanciamento del carico di Gestione traffico](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="626f1-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="626f1-116">Hello seguente diagramma viene illustrato un esempio di metodo di bilanciamento del carico Round Robin per la distribuzione del traffico tra i servizi cloud diversi hello.</span><span class="sxs-lookup"><span data-stu-id="626f1-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![bilanciamento del carico](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="626f1-118">il processo di base di Hello è seguente hello:</span><span class="sxs-lookup"><span data-stu-id="626f1-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="626f1-119">Un client Internet corrispondente tooa web servizio DNS una query.</span><span class="sxs-lookup"><span data-stu-id="626f1-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="626f1-120">DNS inoltra hello Nome query richiesta tooTraffic Manager.</span><span class="sxs-lookup"><span data-stu-id="626f1-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="626f1-121">Gestione traffico Seleziona servizio cloud successivo hello hello elenco Round Robin e invia nuovamente hello nome DNS.</span><span class="sxs-lookup"><span data-stu-id="626f1-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="626f1-122">server DNS del client di Hello Internet consente di risolvere l'indirizzo IP tooan nome hello e lo invia toohello client a Internet.</span><span class="sxs-lookup"><span data-stu-id="626f1-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="626f1-123">Hello Internet si connette con il servizio cloud hello scelto da Gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="626f1-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="626f1-124">Per altre informazioni, vedere [Gestione traffico](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="626f1-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="626f1-125">Bilanciamento del traffico di Azure per macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="626f1-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="626f1-126">Macchine virtuali in hello nello stesso servizio cloud o rete virtuale possa comunicare direttamente con gli indirizzi IP privati.</span><span class="sxs-lookup"><span data-stu-id="626f1-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="626f1-127">I computer e i servizi all'esterno di hello servizio cloud o rete virtuale può comunicare solo con macchine virtuali in un servizio cloud o rete virtuale con un endpoint configurato.</span><span class="sxs-lookup"><span data-stu-id="626f1-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="626f1-128">Un endpoint è un mapping di un indirizzo IP pubblico e un indirizzo IP privato della porta toothat e la porta di una macchina virtuale o un ruolo web all'interno di un servizio cloud di Azure.</span><span class="sxs-lookup"><span data-stu-id="626f1-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="626f1-129">Hello bilanciamento del carico di Azure distribuisce in modo casuale un tipo specifico di traffico in ingresso tra più macchine virtuali o servizi in una configurazione conosciuta come un set con carico bilanciato.</span><span class="sxs-lookup"><span data-stu-id="626f1-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="626f1-130">Ad esempio, è possibile distribuire il carico di hello del traffico di richiesta web in più server web o ruoli web.</span><span class="sxs-lookup"><span data-stu-id="626f1-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="626f1-131">Hello diagramma seguente mostra un endpoint con bilanciamento del carico per il traffico web (non crittografato) standard che viene condiviso tra tre macchine virtuali per hello porta pubblica e privata TCP 80.</span><span class="sxs-lookup"><span data-stu-id="626f1-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="626f1-132">Queste tre macchine virtuali appartengono a un set con carico bilanciato.</span><span class="sxs-lookup"><span data-stu-id="626f1-132">These three virtual machines are in a load-balanced set.</span></span>

![bilanciamento del carico](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="626f1-134">Per altre informazioni, vedere [Bilanciamento del carico di Azure](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="626f1-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="626f1-135">Per hello passaggi toocreate un set con carico bilanciato, vedere [configurare un set con carico bilanciato](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="626f1-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="626f1-136">Azure è inoltre in grado di bilanciare il carico all'interno di un servizio cloud o una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="626f1-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="626f1-137">Questo è noto come bilanciamento del carico interno e può essere usato in hello seguenti modi:</span><span class="sxs-lookup"><span data-stu-id="626f1-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="626f1-138">Saldo tooload tra i server in diversi livelli di un'applicazione a più livelli (ad esempio, tra i livelli web e database).</span><span class="sxs-lookup"><span data-stu-id="626f1-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="626f1-139">tooload saldo line-of-business (LOB) le applicazioni ospitate in Azure senza ulteriore carico bilanciamento del carico hardware o software.</span><span class="sxs-lookup"><span data-stu-id="626f1-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="626f1-140">tooinclude server locali nel set di hello del computer il cui traffico con carico bilanciato.</span><span class="sxs-lookup"><span data-stu-id="626f1-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="626f1-141">Simile tooAzure bilanciamento del carico, bilanciamento del carico interno è facilitata dalla configurazione di un set con carico bilanciato interno.</span><span class="sxs-lookup"><span data-stu-id="626f1-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="626f1-142">Hello seguente diagramma viene illustrato un esempio di un endpoint con bilanciamento del carico interno per un'applicazione line-of-business (LOB) che viene condiviso tra tre macchine virtuali in una rete virtuale cross-premise.</span><span class="sxs-lookup"><span data-stu-id="626f1-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![bilanciamento del carico](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="626f1-144">Considerazioni sul bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="626f1-144">Load balancer considerations</span></span>
<span data-ttu-id="626f1-145">Un servizio di bilanciamento del carico è configurato per impostazione predefinita tootimeout una sessione inattiva 4 minuti.</span><span class="sxs-lookup"><span data-stu-id="626f1-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="626f1-146">Se l'applicazione di bilanciamento del carico ha lasciato una connessione inattiva per più di 4 minuti e non dispone di una configurazione Keep-Alive, hello connessione verrà interrotta.</span><span class="sxs-lookup"><span data-stu-id="626f1-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="626f1-147">È possibile modificare tooallow comportamento del servizio di bilanciamento carico di hello un [impostazione di timeout più lungo di bilanciamento del carico di Azure](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="626f1-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="626f1-148">Altra considerazione è il tipo di hello di modalità di distribuzione supportata dal bilanciamento del carico di Azure.</span><span class="sxs-lookup"><span data-stu-id="626f1-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="626f1-149">È possibile configurare l'affinità IP di origine (IP di origine, IP di destinazione) o il protocollo IP di origine (IP di origine, IP di destinazione e protocollo).</span><span class="sxs-lookup"><span data-stu-id="626f1-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="626f1-150">Per altre informazioni, vedere l'articolo relativo alla [modalità di distribuzione del servizio di bilanciamento del carico di Azure (affinità IP di origine)](../articles/load-balancer/load-balancer-distribution-mode.md) .</span><span class="sxs-lookup"><span data-stu-id="626f1-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="626f1-151">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="626f1-151">Next steps</span></span>
<span data-ttu-id="626f1-152">Per hello passaggi toocreate un set con carico bilanciato, vedere [configurare un set con carico bilanciato interno](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="626f1-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="626f1-153">Per altre informazioni sul bilanciamento del carico, vedere [Bilanciamento del carico interno](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="626f1-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

