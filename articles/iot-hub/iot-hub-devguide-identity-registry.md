---
title: "Registro di sistema aaaUnderstand hello Azure IoT Hub identità | Documenti Microsoft"
description: "Guida per sviluppatori - descrizione del Registro di identità IoT Hub hello e come toouse, toomanage i dispositivi. Include informazioni su hello importazione ed esportazione di identità di dispositivi in blocco."
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 0706eccd-e84c-4ae7-bbd4-2b1a22241147
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/08/2017
ms.author: dobett
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: c9fe3730a4608e28c47807ecb42e13e73f6a2e80
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="understand-hello-identity-registry-in-your-iot-hub"></a><span data-ttu-id="9598c-104">Comprendere hello identità nel Registro di sistema dell'hub IoT</span><span class="sxs-lookup"><span data-stu-id="9598c-104">Understand hello identity registry in your IoT hub</span></span>

<span data-ttu-id="9598c-105">Ogni hub IoT è un registro di sistema di identità che archivia le informazioni sui dispositivi hello consentito tooconnect toohello IoT hub.</span><span class="sxs-lookup"><span data-stu-id="9598c-105">Every IoT hub has an identity registry that stores information about hello devices permitted tooconnect toohello IoT hub.</span></span> <span data-ttu-id="9598c-106">Prima di un dispositivo possa connettersi tooan IoT hub, deve essere presente una voce per il dispositivo nel Registro di sistema dell'hub IoT hello identità.</span><span class="sxs-lookup"><span data-stu-id="9598c-106">Before a device can connect tooan IoT hub, there must be an entry for that device in hello IoT hub's identity registry.</span></span> <span data-ttu-id="9598c-107">Un dispositivo deve autenticare anche con l'hub IoT hello in base alle credenziali archiviate nel Registro di identità hello.</span><span class="sxs-lookup"><span data-stu-id="9598c-107">A device must also authenticate with hello IoT hub based on credentials stored in hello identity registry.</span></span>

<span data-ttu-id="9598c-108">ID dispositivo Hello archiviate nel Registro di identità hello è tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="9598c-108">hello device ID stored in hello identity registry is case-sensitive.</span></span>

<span data-ttu-id="9598c-109">In generale, Registro di sistema di hello identità è una raccolta di risorse di identità di dispositivi con supporto per REST.</span><span class="sxs-lookup"><span data-stu-id="9598c-109">At a high level, hello identity registry is a REST-capable collection of device identity resources.</span></span> <span data-ttu-id="9598c-110">Quando si aggiunge una voce nel Registro di sistema identità hello, IoT Hub consente di creare un set di risorse per ogni dispositivo, ad esempio coda hello che contiene i messaggi in transito cloud a dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9598c-110">When you add an entry in hello identity registry, IoT Hub creates a set of per-device resources such as hello queue that contains in-flight cloud-to-device messages.</span></span>

### <a name="when-toouse"></a><span data-ttu-id="9598c-111">Quando toouse</span><span class="sxs-lookup"><span data-stu-id="9598c-111">When toouse</span></span>

<span data-ttu-id="9598c-112">Utilizzare il Registro di identità hello quando è necessario:</span><span class="sxs-lookup"><span data-stu-id="9598c-112">Use hello identity registry when you need to:</span></span>

* <span data-ttu-id="9598c-113">Il provisioning dei dispositivi che si connettono tooyour IoT hub.</span><span class="sxs-lookup"><span data-stu-id="9598c-113">Provision devices that connect tooyour IoT hub.</span></span>
* <span data-ttu-id="9598c-114">Controllare gli endpoint che utilizzano il dispositivo dell'hub tooyour accesso di ogni dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9598c-114">Control per-device access tooyour hub's device-facing endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="9598c-115">Registro di identità Hello non contiene i metadati specifici dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9598c-115">hello identity registry does not contain any application-specific metadata.</span></span>

## <a name="identity-registry-operations"></a><span data-ttu-id="9598c-116">Operazioni del registro delle identità</span><span class="sxs-lookup"><span data-stu-id="9598c-116">Identity registry operations</span></span>

<span data-ttu-id="9598c-117">Hello del Registro di sistema di IoT Hub identity espone hello seguenti operazioni:</span><span class="sxs-lookup"><span data-stu-id="9598c-117">hello IoT Hub identity registry exposes hello following operations:</span></span>

* <span data-ttu-id="9598c-118">Creare l'identità del dispositivo</span><span class="sxs-lookup"><span data-stu-id="9598c-118">Create device identity</span></span>
* <span data-ttu-id="9598c-119">Aggiornare l'identità del dispositivo</span><span class="sxs-lookup"><span data-stu-id="9598c-119">Update device identity</span></span>
* <span data-ttu-id="9598c-120">Recuperare l'identità del dispositivo tramite ID</span><span class="sxs-lookup"><span data-stu-id="9598c-120">Retrieve device identity by ID</span></span>
* <span data-ttu-id="9598c-121">Eliminare l'identità del dispositivo</span><span class="sxs-lookup"><span data-stu-id="9598c-121">Delete device identity</span></span>
* <span data-ttu-id="9598c-122">Elenco di identità too1000</span><span class="sxs-lookup"><span data-stu-id="9598c-122">List up too1000 identities</span></span>
* <span data-ttu-id="9598c-123">Esportare tutti gli archivi blob tooAzure di identità</span><span class="sxs-lookup"><span data-stu-id="9598c-123">Export all identities tooAzure blob storage</span></span>
* <span data-ttu-id="9598c-124">Importare le identità nell'Archiviazione BLOB di Azure</span><span class="sxs-lookup"><span data-stu-id="9598c-124">Import identities from Azure blob storage</span></span>

<span data-ttu-id="9598c-125">Tutte queste operazioni possono usare la concorrenza ottimistica, come specificato in [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="9598c-125">All these operations can use optimistic concurrency, as specified in [RFC7232][lnk-rfc7232].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9598c-126">Hello solo modo tooretrieve tutte le identità nel Registro di identità di un hub IoT è hello toouse [esportare] [ lnk-export] funzionalità.</span><span class="sxs-lookup"><span data-stu-id="9598c-126">hello only way tooretrieve all identities in an IoT hub's identity registry is toouse hello [Export][lnk-export] functionality.</span></span>

<span data-ttu-id="9598c-127">Un registro delle identità di un hub IoT:</span><span class="sxs-lookup"><span data-stu-id="9598c-127">An IoT Hub identity registry:</span></span>

* <span data-ttu-id="9598c-128">Non contiene metadati delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9598c-128">Does not contain any application metadata.</span></span>
* <span data-ttu-id="9598c-129">È possibile accedere come un dizionario, utilizzando hello **deviceId** come chiave hello.</span><span class="sxs-lookup"><span data-stu-id="9598c-129">Can be accessed like a dictionary, by using hello **deviceId** as hello key.</span></span>
* <span data-ttu-id="9598c-130">Non supporta le query espressive.</span><span class="sxs-lookup"><span data-stu-id="9598c-130">Does not support expressive queries.</span></span>

<span data-ttu-id="9598c-131">Una soluzione IoT include in genere un archivio separato specifico della soluzione che contiene metadati specifici dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9598c-131">An IoT solution typically has a separate solution-specific store that contains application-specific metadata.</span></span> <span data-ttu-id="9598c-132">Ad esempio, hello archivio specifici della soluzione in una soluzione di compilazione smart registrerà chat hello in cui viene distribuito un sensore di temperatura.</span><span class="sxs-lookup"><span data-stu-id="9598c-132">For example, hello solution-specific store in a smart building solution would record hello room in which a temperature sensor is deployed.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9598c-133">Utilizzare solo il Registro di identità hello per le operazioni di provisioning e gestione dei dispositivi.</span><span class="sxs-lookup"><span data-stu-id="9598c-133">Only use hello identity registry for device management and provisioning operations.</span></span> <span data-ttu-id="9598c-134">Le operazioni ad alta velocità effettiva in fase di esecuzione non devono dipendere l'esecuzione di operazioni nel Registro di sistema di hello identità.</span><span class="sxs-lookup"><span data-stu-id="9598c-134">High throughput operations at run time should not depend on performing operations in hello identity registry.</span></span> <span data-ttu-id="9598c-135">Ad esempio, il controllo dello stato di connessione di hello di un dispositivo prima di inviare un comando non è un modello supportato.</span><span class="sxs-lookup"><span data-stu-id="9598c-135">For example, checking hello connection state of a device before sending a command is not a supported pattern.</span></span> <span data-ttu-id="9598c-136">Verificare che hello toocheck [tassi di limitazione] [ lnk-quotas] per il Registro di identità hello e hello [heartbeat dispositivo] [ lnk-guidance-heartbeat] modello.</span><span class="sxs-lookup"><span data-stu-id="9598c-136">Make sure toocheck hello [throttling rates][lnk-quotas] for hello identity registry, and hello [device heartbeat][lnk-guidance-heartbeat] pattern.</span></span>

## <a name="disable-devices"></a><span data-ttu-id="9598c-137">Disabilitare i dispositivi</span><span class="sxs-lookup"><span data-stu-id="9598c-137">Disable devices</span></span>

<span data-ttu-id="9598c-138">È possibile disabilitare i dispositivi aggiornando hello **stato** proprietà di un'identità nel Registro di sistema di hello identità.</span><span class="sxs-lookup"><span data-stu-id="9598c-138">You can disable devices by updating hello **status** property of an identity in hello identity registry.</span></span> <span data-ttu-id="9598c-139">Questa proprietà viene in genere usata in due scenari:</span><span class="sxs-lookup"><span data-stu-id="9598c-139">Typically, you use this property in two scenarios:</span></span>

* <span data-ttu-id="9598c-140">Durante un processo di orchestrazione di provisioning.</span><span class="sxs-lookup"><span data-stu-id="9598c-140">During a provisioning orchestration process.</span></span> <span data-ttu-id="9598c-141">Per altre informazioni, vedere [Provisioning di dispositivi][lnk-guidance-provisioning].</span><span class="sxs-lookup"><span data-stu-id="9598c-141">For more information, see [Device Provisioning][lnk-guidance-provisioning].</span></span>
* <span data-ttu-id="9598c-142">Se, per qualsiasi motivo, si considera un dispositivo compromesso o non più autorizzato.</span><span class="sxs-lookup"><span data-stu-id="9598c-142">If, for any reason, you consider a device is compromised or has become unauthorized.</span></span>

## <a name="import-and-export-device-identities"></a><span data-ttu-id="9598c-143">Importare ed esportare le identità dei dispositivi</span><span class="sxs-lookup"><span data-stu-id="9598c-143">Import and export device identities</span></span>

<span data-ttu-id="9598c-144">È possibile esportare le identità del dispositivo in blocco da Registro di sistema di identità di un hub IoT, utilizzando le operazioni asincrone in hello [endpoint del provider di risorse IoT Hub][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="9598c-144">You can export device identities in bulk from an IoT hub's identity registry, by using asynchronous operations on hello [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="9598c-145">Le esportazioni sono con esecuzione prolungata processi che utilizzano dati di identità dispositivo un blob dal cliente, contenitore toosave leggere dal Registro di sistema di hello identità.</span><span class="sxs-lookup"><span data-stu-id="9598c-145">Exports are long-running jobs that use a customer-supplied blob container toosave device identity data read from hello identity registry.</span></span>

<span data-ttu-id="9598c-146">È possibile importare le identità del dispositivo del Registro di sistema di identità dell'hub IoT tooan di massa, utilizzando le operazioni asincrone in hello [endpoint del provider di risorse IoT Hub][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="9598c-146">You can import device identities in bulk tooan IoT hub's identity registry, by using asynchronous operations on hello [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="9598c-147">Le importazioni sono processi con esecuzione prolungata che utilizzano i dati in un blob dal cliente, contenitore toowrite dispositivo identità di dati nel Registro di sistema di hello identità.</span><span class="sxs-lookup"><span data-stu-id="9598c-147">Imports are long-running jobs that use data in a customer-supplied blob container toowrite device identity data into hello identity registry.</span></span>

* <span data-ttu-id="9598c-148">Per informazioni dettagliate su hello importazione ed esportazione API, vedere [il provider di risorse IoT Hub API REST][lnk-resource-provider-apis].</span><span class="sxs-lookup"><span data-stu-id="9598c-148">For detailed information about hello import and export APIs, see [IoT Hub resource provider REST APIs][lnk-resource-provider-apis].</span></span>
* <span data-ttu-id="9598c-149">toolearn informazioni sull'esecuzione di importazione e i processi di esportazione, vedere [Bulk di gestione delle identità del dispositivo IoT Hub][lnk-bulk-identity].</span><span class="sxs-lookup"><span data-stu-id="9598c-149">toolearn more about running import and export jobs, see [Bulk management of IoT Hub device identities][lnk-bulk-identity].</span></span>

## <a name="device-provisioning"></a><span data-ttu-id="9598c-150">Provisioning di dispositivi</span><span class="sxs-lookup"><span data-stu-id="9598c-150">Device provisioning</span></span>

<span data-ttu-id="9598c-151">dati del dispositivo Hello che archivia una determinata soluzione IoT dipendono dai requisiti di specifiche di hello di tale soluzione.</span><span class="sxs-lookup"><span data-stu-id="9598c-151">hello device data that a given IoT solution stores depends on hello specific requirements of that solution.</span></span> <span data-ttu-id="9598c-152">Tuttavia, come minimo, una soluzione deve archiviare identità di dispositivo e chiavi di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="9598c-152">But, as a minimum, a solution must store device identities and authentication keys.</span></span> <span data-ttu-id="9598c-153">L'hub IoT di Azure include un registro delle identità in grado di archiviare i valori per ogni dispositivo, ad esempio ID, chiavi di autenticazione e codici di stato.</span><span class="sxs-lookup"><span data-stu-id="9598c-153">Azure IoT Hub includes an identity registry that can store values for each device such as IDs, authentication keys, and status codes.</span></span> <span data-ttu-id="9598c-154">Una soluzione possa utilizzare altri servizi di Azure quali archiviazione tabelle, archiviazione blob o toostore DB Cosmos dati aggiuntive del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9598c-154">A solution can use other Azure services such as table storage, blob storage, or Cosmos DB toostore any additional device data.</span></span>

<span data-ttu-id="9598c-155">*Provisioning dei dispositivi* hello processo di aggiunta di archivi toohello dati di hello iniziale del dispositivo nella soluzione.</span><span class="sxs-lookup"><span data-stu-id="9598c-155">*Device provisioning* is hello process of adding hello initial device data toohello stores in your solution.</span></span> <span data-ttu-id="9598c-156">tooenable un nuovo hub tooyour tooconnect di dispositivo, è necessario aggiungere un dispositivo ID e le chiavi toohello del Registro di sistema di IoT Hub identità.</span><span class="sxs-lookup"><span data-stu-id="9598c-156">tooenable a new device tooconnect tooyour hub, you must add a device ID and keys toohello IoT Hub identity registry.</span></span> <span data-ttu-id="9598c-157">Come parte del processo di provisioning hello, potrebbe essere necessario tooinitialize di dati specifico del dispositivo in altri archivi di soluzione.</span><span class="sxs-lookup"><span data-stu-id="9598c-157">As part of hello provisioning process, you might need tooinitialize device-specific data in other solution stores.</span></span>

## <a name="device-heartbeat"></a><span data-ttu-id="9598c-158">Heartbeat dispositivo</span><span class="sxs-lookup"><span data-stu-id="9598c-158">Device heartbeat</span></span>

<span data-ttu-id="9598c-159">Registro di sistema di IoT Hub identità Hello contiene un campo denominato **connectionState**.</span><span class="sxs-lookup"><span data-stu-id="9598c-159">hello IoT Hub identity registry contains a field called **connectionState**.</span></span> <span data-ttu-id="9598c-160">Utilizzare solo hello **connectionState** campo durante lo sviluppo e debug.</span><span class="sxs-lookup"><span data-stu-id="9598c-160">Only use hello **connectionState** field during development and debugging.</span></span> <span data-ttu-id="9598c-161">Soluzioni IoT non devono eseguire query campo hello in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9598c-161">IoT solutions should not query hello field at run time.</span></span> <span data-ttu-id="9598c-162">Ad esempio, non eseguire una query hello **connectionState** toocheck campo se un dispositivo è connesso prima di inviare un messaggio da cloud a dispositivo o un SMS.</span><span class="sxs-lookup"><span data-stu-id="9598c-162">For example, do not query hello **connectionState** field toocheck if a device is connected before you send a cloud-to-device message or an SMS.</span></span>

<span data-ttu-id="9598c-163">Se la soluzione IoT deve tooknow se è connesso un dispositivo, è necessario implementare hello *criterio heartbeat*.</span><span class="sxs-lookup"><span data-stu-id="9598c-163">If your IoT solution needs tooknow if a device is connected, you should implement hello *heartbeat pattern*.</span></span>

<span data-ttu-id="9598c-164">Nel modello di heartbeat hello, dispositivo hello invia i messaggi da dispositivo a cloud almeno una volta ogni periodo di tempo (ad esempio, almeno una volta ogni ora) stabilito.</span><span class="sxs-lookup"><span data-stu-id="9598c-164">In hello heartbeat pattern, hello device sends device-to-cloud messages at least once every fixed amount of time (for example, at least once every hour).</span></span> <span data-ttu-id="9598c-165">Pertanto, anche se un dispositivo non dispone di qualsiasi toosend di dati, ancora invia un messaggio vuoto da dispositivo a cloud (in genere con una proprietà che lo identifica come un heartbeat).</span><span class="sxs-lookup"><span data-stu-id="9598c-165">Therefore, even if a device does not have any data toosend, it still sends an empty device-to-cloud message (usually with a property that identifies it as a heartbeat).</span></span> <span data-ttu-id="9598c-166">Sul lato servizio hello, soluzione hello mantiene una mappa con ultimo heartbeat hello ricevuti per ogni dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9598c-166">On hello service side, hello solution maintains a map with hello last heartbeat received for each device.</span></span> <span data-ttu-id="9598c-167">Se la soluzione hello non riceve un messaggio di heartbeat entro il tempo di hello previsto dal dispositivo hello, si presuppone che si è verificato un problema con dispositivo hello.</span><span class="sxs-lookup"><span data-stu-id="9598c-167">If hello solution does not receive a heartbeat message within hello expected time from hello device, it assumes that there is a problem with hello device.</span></span>

<span data-ttu-id="9598c-168">Un'implementazione più complessa potrebbe includere informazioni hello [monitoraggio delle operazioni] [ lnk-devguide-opmon] tooidentify dispositivi che si sta tentando di tooconnect o comunicano ma esito negativo.</span><span class="sxs-lookup"><span data-stu-id="9598c-168">A more complex implementation could include hello information from [operations monitoring][lnk-devguide-opmon] tooidentify devices that are trying tooconnect or communicate but failing.</span></span> <span data-ttu-id="9598c-169">Quando si implementa il pattern di heartbeat hello, assicurarsi che toocheck [IoT Hub quote e velocità][lnk-quotas].</span><span class="sxs-lookup"><span data-stu-id="9598c-169">When you implement hello heartbeat pattern, make sure toocheck [IoT Hub Quotas and Throttles][lnk-quotas].</span></span>

> [!NOTE]
> <span data-ttu-id="9598c-170">Se una connessione di hello utilizza soluzione IoT stato toodetermine unicamente se i messaggi da cloud a dispositivo toosend, e i messaggi non broadcast toolarge set di dispositivi, è possibile utilizzare più semplice hello *breve ora di scadenza* modello.</span><span class="sxs-lookup"><span data-stu-id="9598c-170">If an IoT solution uses hello connection state solely toodetermine whether toosend cloud-to-device messages, and messages are not broadcast toolarge sets of devices, consider using hello simpler *short expiry time* pattern.</span></span> <span data-ttu-id="9598c-171">Questo modello consente di ottenere hello stesso risultato a quella di un dispositivo connessione lo stato del Registro di sistema utilizzando il modello di heartbeat hello, pur essendo più efficiente.</span><span class="sxs-lookup"><span data-stu-id="9598c-171">This pattern achieves hello same result as maintaining a device connection state registry using hello heartbeat pattern, while being more efficient.</span></span> <span data-ttu-id="9598c-172">Se richiesta l'acknowledgement dei messaggi, IoT Hub può inviare notifiche relative ai quali dispositivi sono in grado di tooreceive messaggi e non.</span><span class="sxs-lookup"><span data-stu-id="9598c-172">If you request message acknowledgements, IoT Hub can notify you about which devices are able tooreceive messages and which are not.</span></span>

## <a name="device-lifecycle-notifications"></a><span data-ttu-id="9598c-173">Notifiche del ciclo di vita dei dispositivi</span><span class="sxs-lookup"><span data-stu-id="9598c-173">Device lifecycle notifications</span></span>

<span data-ttu-id="9598c-174">L'hub IoT può inviare una notifica alla soluzione IoT quando un'identità dispositivo viene creata o eliminata inviando notifiche del ciclo di vita dei dispositivi.</span><span class="sxs-lookup"><span data-stu-id="9598c-174">IoT Hub can notify your IoT solution when a device identity is created or deleted by sending device lifecycle notifications.</span></span> <span data-ttu-id="9598c-175">toodo in tal caso, la soluzione IoT deve toocreate una route e tooset hello origine dati uguale troppo*DeviceLifecycleEvents*.</span><span class="sxs-lookup"><span data-stu-id="9598c-175">toodo so, your IoT solution needs toocreate a route and tooset hello Data Source equal too*DeviceLifecycleEvents*.</span></span> <span data-ttu-id="9598c-176">Per impostazione predefinita, non vengono inviate notifiche del ciclo di vita, il che significa che queste route non sono preesistenti.</span><span class="sxs-lookup"><span data-stu-id="9598c-176">By default, no lifecycle notifications are sent, that is, no such routes pre-exist.</span></span> <span data-ttu-id="9598c-177">messaggio di notifica Hello include proprietà e corpo.</span><span class="sxs-lookup"><span data-stu-id="9598c-177">hello notification message includes properties, and body.</span></span>

<span data-ttu-id="9598c-178">Proprietà: Proprietà di sistema di messaggi sono precedute dal prefisso hello `'$'` simbolo.</span><span class="sxs-lookup"><span data-stu-id="9598c-178">Properties: Message system properties are prefixed with hello `'$'` symbol.</span></span>

| <span data-ttu-id="9598c-179">Nome</span><span class="sxs-lookup"><span data-stu-id="9598c-179">Name</span></span> | <span data-ttu-id="9598c-180">Valore</span><span class="sxs-lookup"><span data-stu-id="9598c-180">Value</span></span> |
| --- | --- |
<span data-ttu-id="9598c-181">$content-type</span><span class="sxs-lookup"><span data-stu-id="9598c-181">$content-type</span></span> | <span data-ttu-id="9598c-182">application/json</span><span class="sxs-lookup"><span data-stu-id="9598c-182">application/json</span></span> |
<span data-ttu-id="9598c-183">$iothub-enqueuedtime</span><span class="sxs-lookup"><span data-stu-id="9598c-183">$iothub-enqueuedtime</span></span> |  <span data-ttu-id="9598c-184">Ora di invio notifica hello</span><span class="sxs-lookup"><span data-stu-id="9598c-184">Time when hello notification was sent</span></span> |
<span data-ttu-id="9598c-185">$iothub-message-source</span><span class="sxs-lookup"><span data-stu-id="9598c-185">$iothub-message-source</span></span> | <span data-ttu-id="9598c-186">deviceLifecycleEvents</span><span class="sxs-lookup"><span data-stu-id="9598c-186">deviceLifecycleEvents</span></span> |
<span data-ttu-id="9598c-187">$content-encoding</span><span class="sxs-lookup"><span data-stu-id="9598c-187">$content-encoding</span></span> | <span data-ttu-id="9598c-188">utf-8</span><span class="sxs-lookup"><span data-stu-id="9598c-188">utf-8</span></span> |
<span data-ttu-id="9598c-189">opType</span><span class="sxs-lookup"><span data-stu-id="9598c-189">opType</span></span> | <span data-ttu-id="9598c-190">**createDeviceIdentity** o **deleteDeviceIdentity**</span><span class="sxs-lookup"><span data-stu-id="9598c-190">**createDeviceIdentity** or **deleteDeviceIdentity**</span></span> |
<span data-ttu-id="9598c-191">hubName</span><span class="sxs-lookup"><span data-stu-id="9598c-191">hubName</span></span> | <span data-ttu-id="9598c-192">Nome dell'hub IoT</span><span class="sxs-lookup"><span data-stu-id="9598c-192">Name of IoT Hub</span></span> |
<span data-ttu-id="9598c-193">deviceId</span><span class="sxs-lookup"><span data-stu-id="9598c-193">deviceId</span></span> | <span data-ttu-id="9598c-194">ID del dispositivo hello</span><span class="sxs-lookup"><span data-stu-id="9598c-194">ID of hello device</span></span> |
<span data-ttu-id="9598c-195">operationTimestamp</span><span class="sxs-lookup"><span data-stu-id="9598c-195">operationTimestamp</span></span> | <span data-ttu-id="9598c-196">Timestamp ISO8601 dell'operazione</span><span class="sxs-lookup"><span data-stu-id="9598c-196">ISO8601 timestamp of operation</span></span> |
<span data-ttu-id="9598c-197">iothub-message-schema</span><span class="sxs-lookup"><span data-stu-id="9598c-197">iothub-message-schema</span></span> | <span data-ttu-id="9598c-198">deviceLifecycleNotification</span><span class="sxs-lookup"><span data-stu-id="9598c-198">deviceLifecycleNotification</span></span> |

<span data-ttu-id="9598c-199">Corpo: In questa sezione è in formato JSON e rappresenta un doppio hello di hello creato l'identità del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9598c-199">Body: This section is in JSON format and represents hello twin of hello created device identity.</span></span> <span data-ttu-id="9598c-200">Ad esempio,</span><span class="sxs-lookup"><span data-stu-id="9598c-200">For example,</span></span>

```json
{
    "deviceId":"11576-ailn-test-0-67333793211",
    "etag":"AAAAAAAAAAE=",
    "properties": {
        "desired": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        },
        "reported": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        }
    }
}
```

## <a name="reference-topics"></a><span data-ttu-id="9598c-201">Argomenti di riferimento:</span><span class="sxs-lookup"><span data-stu-id="9598c-201">Reference topics:</span></span>

<span data-ttu-id="9598c-202">Hello argomenti di riferimento seguenti offrono altre informazioni del Registro di sistema di hello identità.</span><span class="sxs-lookup"><span data-stu-id="9598c-202">hello following reference topics provide you with more information about hello identity registry.</span></span>

## <a name="device-identity-properties"></a><span data-ttu-id="9598c-203">Proprietà delle identità dei dispositivi</span><span class="sxs-lookup"><span data-stu-id="9598c-203">Device identity properties</span></span>

<span data-ttu-id="9598c-204">Le identità del dispositivo sono rappresentate come documenti JSON con hello le proprietà seguenti:</span><span class="sxs-lookup"><span data-stu-id="9598c-204">Device identities are represented as JSON documents with hello following properties:</span></span>

| <span data-ttu-id="9598c-205">Proprietà</span><span class="sxs-lookup"><span data-stu-id="9598c-205">Property</span></span> | <span data-ttu-id="9598c-206">Opzioni</span><span class="sxs-lookup"><span data-stu-id="9598c-206">Options</span></span> | <span data-ttu-id="9598c-207">Descrizione</span><span class="sxs-lookup"><span data-stu-id="9598c-207">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9598c-208">deviceId</span><span class="sxs-lookup"><span data-stu-id="9598c-208">deviceId</span></span> |<span data-ttu-id="9598c-209">Obbligatoria, di sola lettura negli aggiornamenti</span><span class="sxs-lookup"><span data-stu-id="9598c-209">required, read-only on updates</span></span> |<span data-ttu-id="9598c-210">Specifica una stringa (backup too128 caratteri) di caratteri alfanumerici ASCII a 7 bit + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span><span class="sxs-lookup"><span data-stu-id="9598c-210">A case-sensitive string (up too128 characters long) of ASCII 7-bit alphanumeric characters + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span></span> |
| <span data-ttu-id="9598c-211">generationId</span><span class="sxs-lookup"><span data-stu-id="9598c-211">generationId</span></span> |<span data-ttu-id="9598c-212">Obbligatoria, di sola lettura</span><span class="sxs-lookup"><span data-stu-id="9598c-212">required, read-only</span></span> |<span data-ttu-id="9598c-213">IoT hub generato, con distinzione tra maiuscole e stringa di caratteri too128.</span><span class="sxs-lookup"><span data-stu-id="9598c-213">An IoT hub-generated, case-sensitive string up too128 characters long.</span></span> <span data-ttu-id="9598c-214">Questo valore è toodistinguish utilizzato per i dispositivi con hello stesso **deviceId**, quando sono stati eliminati e ricreati.</span><span class="sxs-lookup"><span data-stu-id="9598c-214">This value is used toodistinguish devices with hello same **deviceId**, when they have been deleted and re-created.</span></span> |
| <span data-ttu-id="9598c-215">etag</span><span class="sxs-lookup"><span data-stu-id="9598c-215">etag</span></span> |<span data-ttu-id="9598c-216">Obbligatoria, di sola lettura</span><span class="sxs-lookup"><span data-stu-id="9598c-216">required, read-only</span></span> |<span data-ttu-id="9598c-217">Stringa che rappresenta un ETag debole per l'identità del dispositivo hello, in base [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="9598c-217">A string representing a weak ETag for hello device identity, as per [RFC7232][lnk-rfc7232].</span></span> |
| <span data-ttu-id="9598c-218">auth</span><span class="sxs-lookup"><span data-stu-id="9598c-218">auth</span></span> |<span data-ttu-id="9598c-219">Facoltativa</span><span class="sxs-lookup"><span data-stu-id="9598c-219">optional</span></span> |<span data-ttu-id="9598c-220">Oggetto composito contenente le informazioni di autenticazione e i materiali di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="9598c-220">A composite object containing authentication information and security materials.</span></span> |
| <span data-ttu-id="9598c-221">auth.symkey</span><span class="sxs-lookup"><span data-stu-id="9598c-221">auth.symkey</span></span> |<span data-ttu-id="9598c-222">Facoltativa</span><span class="sxs-lookup"><span data-stu-id="9598c-222">optional</span></span> |<span data-ttu-id="9598c-223">Oggetto composito contenente una chiave primaria e una chiave secondaria, archiviate in formato Base 64.</span><span class="sxs-lookup"><span data-stu-id="9598c-223">A composite object containing a primary and a secondary key, stored in base64 format.</span></span> |
| <span data-ttu-id="9598c-224">status</span><span class="sxs-lookup"><span data-stu-id="9598c-224">status</span></span> |<span data-ttu-id="9598c-225">Obbligatoria</span><span class="sxs-lookup"><span data-stu-id="9598c-225">required</span></span> |<span data-ttu-id="9598c-226">Indicatore di accesso.</span><span class="sxs-lookup"><span data-stu-id="9598c-226">An access indicator.</span></span> <span data-ttu-id="9598c-227">Può essere **Enabled** o **Disabled**.</span><span class="sxs-lookup"><span data-stu-id="9598c-227">Can be **Enabled** or **Disabled**.</span></span> <span data-ttu-id="9598c-228">Se **abilitato**, dispositivo hello è consentito tooconnect.</span><span class="sxs-lookup"><span data-stu-id="9598c-228">If **Enabled**, hello device is allowed tooconnect.</span></span> <span data-ttu-id="9598c-229">Se è **Disabled**, il dispositivo non potrà accedere ad alcun endpoint per il dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9598c-229">If **Disabled**, this device cannot access any device-facing endpoint.</span></span> |
| <span data-ttu-id="9598c-230">statusReason</span><span class="sxs-lookup"><span data-stu-id="9598c-230">statusReason</span></span> |<span data-ttu-id="9598c-231">Facoltativa</span><span class="sxs-lookup"><span data-stu-id="9598c-231">optional</span></span> |<span data-ttu-id="9598c-232">Un carattere lungo di 128 stringa tale motivo hello archivi hello identità dello stato del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9598c-232">A 128 character-long string that stores hello reason for hello device identity status.</span></span> <span data-ttu-id="9598c-233">Sono consentiti tutti i caratteri UTF-8.</span><span class="sxs-lookup"><span data-stu-id="9598c-233">All UTF-8 characters are allowed.</span></span> |
| <span data-ttu-id="9598c-234">statusUpdateTime</span><span class="sxs-lookup"><span data-stu-id="9598c-234">statusUpdateTime</span></span> |<span data-ttu-id="9598c-235">Sola lettura</span><span class="sxs-lookup"><span data-stu-id="9598c-235">read-only</span></span> |<span data-ttu-id="9598c-236">Un indicatore temporale che mostra hello data e ora dell'ultimo aggiornamento dello stato di hello.</span><span class="sxs-lookup"><span data-stu-id="9598c-236">A temporal indicator, showing hello date and time of hello last status update.</span></span> |
| <span data-ttu-id="9598c-237">connectionState</span><span class="sxs-lookup"><span data-stu-id="9598c-237">connectionState</span></span> |<span data-ttu-id="9598c-238">Sola lettura</span><span class="sxs-lookup"><span data-stu-id="9598c-238">read-only</span></span> |<span data-ttu-id="9598c-239">Campo indicante lo stato della connessione: **Connected** o **Disconnected**.</span><span class="sxs-lookup"><span data-stu-id="9598c-239">A field indicating connection status: either **Connected** or **Disconnected**.</span></span> <span data-ttu-id="9598c-240">Questo campo rappresenta hello visualizzazione dell'IoT Hub hello connessione dello stato dei dispositivi.</span><span class="sxs-lookup"><span data-stu-id="9598c-240">This field represents hello IoT Hub view of hello device connection status.</span></span> <span data-ttu-id="9598c-241">**Importante**: è consigliabile usare questo campo solo per scopi di sviluppo e di debug.</span><span class="sxs-lookup"><span data-stu-id="9598c-241">**Important**: This field should be used only for development/debugging purposes.</span></span> <span data-ttu-id="9598c-242">stato di connessione Hello viene aggiornato solo per i dispositivi con MQTT o AMQP.</span><span class="sxs-lookup"><span data-stu-id="9598c-242">hello connection state is updated only for devices using MQTT or AMQP.</span></span> <span data-ttu-id="9598c-243">Si basa anche su ping a livello di protocollo (ping MQTT o AMQP) e può avere un ritardo massimo di soli 5 minuti.</span><span class="sxs-lookup"><span data-stu-id="9598c-243">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span></span> <span data-ttu-id="9598c-244">Per questi motivi possono essere presenti falsi positivi, ad esempio dispositivi segnalati come connessi, ma in realtà disconnessi.</span><span class="sxs-lookup"><span data-stu-id="9598c-244">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span></span> |
| <span data-ttu-id="9598c-245">connectionStateUpdatedTime</span><span class="sxs-lookup"><span data-stu-id="9598c-245">connectionStateUpdatedTime</span></span> |<span data-ttu-id="9598c-246">Sola lettura</span><span class="sxs-lookup"><span data-stu-id="9598c-246">read-only</span></span> |<span data-ttu-id="9598c-247">Un indicatore temporale che mostra hello data e l'ultimo stato di connessione hello ora è stato aggiornato.</span><span class="sxs-lookup"><span data-stu-id="9598c-247">A temporal indicator, showing hello date and last time hello connection state was updated.</span></span> |
| <span data-ttu-id="9598c-248">lastActivityTime</span><span class="sxs-lookup"><span data-stu-id="9598c-248">lastActivityTime</span></span> |<span data-ttu-id="9598c-249">Sola lettura</span><span class="sxs-lookup"><span data-stu-id="9598c-249">read-only</span></span> |<span data-ttu-id="9598c-250">Un indicatore temporale che mostra hello data e l'ultimo hello dispositivo connesso, ricevuto o inviato un messaggio.</span><span class="sxs-lookup"><span data-stu-id="9598c-250">A temporal indicator, showing hello date and last time hello device connected, received, or sent a message.</span></span> |

> [!NOTE]
> <span data-ttu-id="9598c-251">Stato di connessione può rappresentare solo hello visualizzazione dello stato di hello della connessione hello dell'IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="9598c-251">Connection state can only represent hello IoT Hub view of hello status of hello connection.</span></span> <span data-ttu-id="9598c-252">Stato toothis aggiornamenti potrebbe essere ritardato, a seconda delle configurazioni e le condizioni della rete.</span><span class="sxs-lookup"><span data-stu-id="9598c-252">Updates toothis state may be delayed, depending on network conditions and configurations.</span></span>

## <a name="additional-reference-material"></a><span data-ttu-id="9598c-253">Materiale di riferimento</span><span class="sxs-lookup"><span data-stu-id="9598c-253">Additional reference material</span></span>

<span data-ttu-id="9598c-254">Altri argomenti di riferimento nella Guida per sviluppatori di IoT Hub hello includono:</span><span class="sxs-lookup"><span data-stu-id="9598c-254">Other reference topics in hello IoT Hub developer guide include:</span></span>

* <span data-ttu-id="9598c-255">[Gli endpoint IoT Hub] [ lnk-endpoints] descrive hello vari endpoint che espone ogni hub IoT per le operazioni in fase di esecuzione e gestione.</span><span class="sxs-lookup"><span data-stu-id="9598c-255">[IoT Hub endpoints][lnk-endpoints] describes hello various endpoints that each IoT hub exposes for run-time and management operations.</span></span>
* <span data-ttu-id="9598c-256">[Limitazione delle richieste e le quote] [ lnk-quotas] descrive le quote di hello e la limitazione di comportamenti che si applicano toohello servizio IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="9598c-256">[Throttling and quotas][lnk-quotas] describes hello quotas and throttling behaviors that apply toohello IoT Hub service.</span></span>
* <span data-ttu-id="9598c-257">[Gli SDK di dispositivi e servizi di Azure IoT] [ lnk-sdks] elenchi hello language vari SDK è possibile utilizzare quando si sviluppano applicazioni di servizio sia sul dispositivo che interagiscono con l'IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="9598c-257">[Azure IoT device and service SDKs][lnk-sdks] lists hello various language SDKs you can use when you develop both device and service apps that interact with IoT Hub.</span></span>
* <span data-ttu-id="9598c-258">[Il linguaggio di query di IoT Hub] [ lnk-query] descrive il linguaggio di query hello è possibile utilizzare tooretrieve informazioni dall'IoT Hub sul gemelli di dispositivo e i processi.</span><span class="sxs-lookup"><span data-stu-id="9598c-258">[IoT Hub query language][lnk-query] describes hello query language you can use tooretrieve information from IoT Hub about your device twins and jobs.</span></span>
* <span data-ttu-id="9598c-259">[Supporto di IoT Hub MQTT] [ lnk-devguide-mqtt] fornisce ulteriori informazioni sul supporto di IoT Hub per protocollo MQTT hello.</span><span class="sxs-lookup"><span data-stu-id="9598c-259">[IoT Hub MQTT support][lnk-devguide-mqtt] provides more information about IoT Hub support for hello MQTT protocol.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9598c-260">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="9598c-260">Next steps</span></span>

<span data-ttu-id="9598c-261">A questo punto si è appreso come toouse hello Hub IoT identità Registro di sistema, potrebbero essere interessati hello seguenti argomenti della Guida per sviluppatori IoT Hub:</span><span class="sxs-lookup"><span data-stu-id="9598c-261">Now you have learned how toouse hello IoT Hub identity registry, you may be interested in hello following IoT Hub developer guide topics:</span></span>

* <span data-ttu-id="9598c-262">[Controllo accesso tooIoT Hub][lnk-devguide-security]</span><span class="sxs-lookup"><span data-stu-id="9598c-262">[Control access tooIoT Hub][lnk-devguide-security]</span></span>
* <span data-ttu-id="9598c-263">[Utilizzare lo stato del dispositivo gemelli toosynchronize e configurazioni][lnk-devguide-device-twins]</span><span class="sxs-lookup"><span data-stu-id="9598c-263">[Use device twins toosynchronize state and configurations][lnk-devguide-device-twins]</span></span>
* <span data-ttu-id="9598c-264">[Richiamare un metodo diretto in un dispositivo][lnk-devguide-directmethods]</span><span class="sxs-lookup"><span data-stu-id="9598c-264">[Invoke a direct method on a device][lnk-devguide-directmethods]</span></span>
* <span data-ttu-id="9598c-265">[Pianificare processi in più dispositivi][lnk-devguide-jobs]</span><span class="sxs-lookup"><span data-stu-id="9598c-265">[Schedule jobs on multiple devices][lnk-devguide-jobs]</span></span>

<span data-ttu-id="9598c-266">Se si desidera tootry alcuni dei concetti di hello descritti in questo articolo, si potrebbero essere interessati hello segue esercitazione IoT Hub:</span><span class="sxs-lookup"><span data-stu-id="9598c-266">If you would like tootry out some of hello concepts described in this article, you may be interested in hello following IoT Hub tutorial:</span></span>

* <span data-ttu-id="9598c-267">[Introduzione all'hub IoT di Azure][lnk-getstarted-tutorial]</span><span class="sxs-lookup"><span data-stu-id="9598c-267">[Get started with Azure IoT Hub][lnk-getstarted-tutorial]</span></span>

<!-- Links and images -->

[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-resource-provider-apis]: https://docs.microsoft.com/rest/api/iothub/iothubresource
[lnk-guidance-provisioning]: iot-hub-devguide-identity-registry.md#device-provisioning
[lnk-guidance-heartbeat]: iot-hub-devguide-identity-registry.md#device-heartbeat
[lnk-rfc7232]: https://tools.ietf.org/html/rfc7232
[lnk-bulk-identity]: iot-hub-bulk-identity-mgmt.md
[lnk-export]: iot-hub-devguide-identity-registry.md#import-and-export-device-identities
[lnk-devguide-opmon]: iot-hub-operations-monitoring.md

[lnk-devguide-security]: iot-hub-devguide-security.md
[lnk-devguide-device-twins]: iot-hub-devguide-device-twins.md
[lnk-devguide-directmethods]: iot-hub-devguide-direct-methods.md
[lnk-devguide-jobs]: iot-hub-devguide-jobs.md

[lnk-getstarted-tutorial]: iot-hub-csharp-csharp-getstarted.md
