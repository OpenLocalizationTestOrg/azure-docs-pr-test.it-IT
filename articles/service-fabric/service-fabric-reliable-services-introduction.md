---
title: aaaOverview del modello di programmazione affidabile servizio Fabric hello | Documenti Microsoft
description: Informazioni sul modello di programmazione Reliable Services di Service Fabric e su come sviluppare servizi personalizzati.
services: Service-Fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: vturecek; mani-ramaswamy
ms.assetid: 0c88a533-73f8-4ae1-a939-67d17456ac06
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: masnider;
ms.openlocfilehash: 41d1826df902b1f1845c4702bf2567e6b9ca1f1f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="reliable-services-overview"></a><span data-ttu-id="19c13-103">Panoramica di Reliable Services</span><span class="sxs-lookup"><span data-stu-id="19c13-103">Reliable Services overview</span></span>
<span data-ttu-id="19c13-104">Azure Service Fabric semplifica la scrittura e la gestione di Reliable Services con e senza stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-104">Azure Service Fabric simplifies writing and managing stateless and stateful Reliable Services.</span></span> <span data-ttu-id="19c13-105">In questo argomento viene trattato quanto segue:</span><span class="sxs-lookup"><span data-stu-id="19c13-105">This topic covers:</span></span>

* <span data-ttu-id="19c13-106">Hello servizi affidabili modello di programmazione per i servizi senza stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-106">hello Reliable Services programming model for stateless and stateful services.</span></span>
* <span data-ttu-id="19c13-107">Hello scelte disponibili toomake durante la scrittura di un servizio affidabile.</span><span class="sxs-lookup"><span data-stu-id="19c13-107">hello choices you have toomake when writing a Reliable Service.</span></span>
* <span data-ttu-id="19c13-108">Alcuni scenari ed esempi dei casi toouse affidabile Services e modalità di scrittura.</span><span class="sxs-lookup"><span data-stu-id="19c13-108">Some scenarios and examples of when toouse Reliable Services and how they are written.</span></span>

<span data-ttu-id="19c13-109">Servizi affidabili è uno dei modelli disponibili in Service Fabric di programmazione hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-109">Reliable Services is one of hello programming models available on Service Fabric.</span></span> <span data-ttu-id="19c13-110">altri Hello è hello Reliable Actor modello di programmazione, che fornisce un modello di programmazione Actor virtuale sul modello di servizi affidabili hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-110">hello other is hello Reliable Actor programming model, which provides a virtual Actor programming model on top of hello Reliable Services model.</span></span> <span data-ttu-id="19c13-111">Per ulteriori informazioni sul modello di programmazione Reliable Actors hello, vedere [tooService introduzione dell'infrastruttura Reliable Actors](service-fabric-reliable-actors-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="19c13-111">For more information on hello Reliable Actors programming model, see [Introduction tooService Fabric Reliable Actors](service-fabric-reliable-actors-introduction.md).</span></span>

<span data-ttu-id="19c13-112">Service Fabric gestisce la durata hello dei servizi, dal provisioning e la distribuzione tramite l'aggiornamento ed eliminazione, tramite [Gestione applicazioni di Service Fabric](service-fabric-deploy-remove-applications.md).</span><span class="sxs-lookup"><span data-stu-id="19c13-112">Service Fabric manages hello lifetime of services, from provisioning and deployment through upgrade and deletion, via [Service Fabric application management](service-fabric-deploy-remove-applications.md).</span></span>

## <a name="what-are-reliable-services"></a><span data-ttu-id="19c13-113">Informazioni su Reliable Services</span><span class="sxs-lookup"><span data-stu-id="19c13-113">What are Reliable Services?</span></span>
<span data-ttu-id="19c13-114">Servizi affidabili offre un semplice, potente di livello principale express che cos'è importante tooyour applicazione toohelp di modello di programmazione.</span><span class="sxs-lookup"><span data-stu-id="19c13-114">Reliable Services gives you a simple, powerful, top-level programming model toohelp you express what is important tooyour application.</span></span> <span data-ttu-id="19c13-115">Con servizi affidabili hello modello di programmazione, sono disponibili:</span><span class="sxs-lookup"><span data-stu-id="19c13-115">With hello Reliable Services programming model, you get:</span></span>

* <span data-ttu-id="19c13-116">Rest toohello di accesso di hello le API di programmazione di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="19c13-116">Access toohello rest of hello Service Fabric programming APIs.</span></span> <span data-ttu-id="19c13-117">A differenza dei servizi di infrastruttura servizio modellata come [eseguibili Guest](service-fabric-deploy-existing-app.md), servizi affidabili ottenere rest hello toouse di hello API dei servizi dell'infrastruttura direttamente.</span><span class="sxs-lookup"><span data-stu-id="19c13-117">Unlike Service Fabric Services modeled as [Guest Executables](service-fabric-deploy-existing-app.md), Reliable Services get toouse hello rest of hello Service Fabric APIs directly.</span></span> <span data-ttu-id="19c13-118">Questo consente ai servizi di:</span><span class="sxs-lookup"><span data-stu-id="19c13-118">This allows services to:</span></span>
  * <span data-ttu-id="19c13-119">query sul sistema hello</span><span class="sxs-lookup"><span data-stu-id="19c13-119">query hello system</span></span>
  * <span data-ttu-id="19c13-120">segnalare l'integrità sulle entità presenti nel cluster hello</span><span class="sxs-lookup"><span data-stu-id="19c13-120">report health about entities in hello cluster</span></span>
  * <span data-ttu-id="19c13-121">ricevere notifiche sulle modifiche alla configurazione e al codice</span><span class="sxs-lookup"><span data-stu-id="19c13-121">receive notifications about configuration and code changes</span></span>
  * <span data-ttu-id="19c13-122">individuare e comunicare con altri servizi,</span><span class="sxs-lookup"><span data-stu-id="19c13-122">find and communicate with other services,</span></span>
  * <span data-ttu-id="19c13-123">(facoltativo) utilizzare hello [raccolte affidabile](service-fabric-reliable-services-reliable-collections.md)</span><span class="sxs-lookup"><span data-stu-id="19c13-123">(optionally) use hello [Reliable Collections](service-fabric-reliable-services-reliable-collections.md)</span></span>
  * <span data-ttu-id="19c13-124">... e in modo che possano accedere toomany ad altre funzionalità, tutti da un modello di programmazione di prima classe in diversi linguaggi di programmazione.</span><span class="sxs-lookup"><span data-stu-id="19c13-124">...and giving them access toomany other capabilities, all from a first class programming model in several programming languages.</span></span>
* <span data-ttu-id="19c13-125">Un modello semplice per l'esecuzione di codice personalizzato simile ai modelli di programmazione di uso comune.</span><span class="sxs-lookup"><span data-stu-id="19c13-125">A simple model for running your own code that looks like programming models you are used to.</span></span> <span data-ttu-id="19c13-126">Il codice ha un punto di ingresso ben definito e un ciclo di vita facile da gestire.</span><span class="sxs-lookup"><span data-stu-id="19c13-126">Your code has a well-defined entry point and easily managed lifecycle.</span></span>
* <span data-ttu-id="19c13-127">Un modello di comunicazione modulare.</span><span class="sxs-lookup"><span data-stu-id="19c13-127">A pluggable communication model.</span></span> <span data-ttu-id="19c13-128">Utilizzare il trasporto hello di propria scelta, ad esempio HTTP con [API Web](service-fabric-reliable-services-communication-webapi.md), WebSockets, i protocolli TCP personalizzati o qualsiasi altro elemento.</span><span class="sxs-lookup"><span data-stu-id="19c13-128">Use hello transport of your choice, such as HTTP with [Web API](service-fabric-reliable-services-communication-webapi.md), WebSockets, custom TCP protocols, or anything else.</span></span> <span data-ttu-id="19c13-129">Reliable Services fornisce alcune interessanti opzioni predefinite, ma consente anche di usarne di personalizzate.</span><span class="sxs-lookup"><span data-stu-id="19c13-129">Reliable Services provide some great out-of-the-box options you can use, or you can provide your own.</span></span>
* <span data-ttu-id="19c13-130">Per i servizi con stati, hello servizi affidabili modello di programmazione consente tooconsistently e archiviare in modo affidabile lo stato direttamente all'interno del servizio tramite [raccolte affidabile](service-fabric-reliable-services-reliable-collections.md).</span><span class="sxs-lookup"><span data-stu-id="19c13-130">For stateful services, hello Reliable Services programming model allows you tooconsistently and reliably store your state right inside your service by using [Reliable Collections](service-fabric-reliable-services-reliable-collections.md).</span></span> <span data-ttu-id="19c13-131">Le raccolte affidabili sono una semplice serie di classi di raccolte di elevata disponibilità e affidabilità che sarà familiare tooanyone che ha utilizzato c# raccolte.</span><span class="sxs-lookup"><span data-stu-id="19c13-131">Reliable Collections are a simple set of highly available and reliable collection classes that will be familiar tooanyone who has used C# collections.</span></span> <span data-ttu-id="19c13-132">In passato, per la gestione di uno stato affidabile i servizi dovevano contare su sistemi esterni.</span><span class="sxs-lookup"><span data-stu-id="19c13-132">Traditionally, services needed external systems for Reliable state management.</span></span> <span data-ttu-id="19c13-133">Con le raccolte affidabile, è possibile archiviare il calcolo tooyour avanti di stato con hello stesso elevata disponibilità e affidabilità aver tooexpect forniti dagli archivi esterni a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="19c13-133">With Reliable Collections, you can store your state next tooyour compute with hello same high availability and reliability you've come tooexpect from highly available external stores.</span></span> <span data-ttu-id="19c13-134">Questo modello migliora anche latenza perché si sono condivisione del percorso calcolo hello e lo stato deve toofunction.</span><span class="sxs-lookup"><span data-stu-id="19c13-134">This model also improves latency because you are co-locating hello compute and state it needs toofunction.</span></span>

<span data-ttu-id="19c13-135">Vedere questo video di Microsoft Virtual Academy per una panoramica di Reliable Services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span><span class="sxs-lookup"><span data-stu-id="19c13-135">Watch this Microsoft Virtual Academy video for an overview of Reliable services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span></span>

## <a name="what-makes-reliable-services-different"></a><span data-ttu-id="19c13-136">Caratteristiche distintive di Reliable Services</span><span class="sxs-lookup"><span data-stu-id="19c13-136">What makes Reliable Services different?</span></span>
<span data-ttu-id="19c13-137">Reliable Services in Service Fabric è diverso da eventuali servizi sviluppati in precedenza.</span><span class="sxs-lookup"><span data-stu-id="19c13-137">Reliable Services in Service Fabric are different from services you may have written before.</span></span> <span data-ttu-id="19c13-138">Service Fabric offre affidabilità, disponibilità, coerenza e scalabilità.</span><span class="sxs-lookup"><span data-stu-id="19c13-138">Service Fabric provides reliability, availability, consistency, and scalability.</span></span>

* <span data-ttu-id="19c13-139">**Affidabilità** : il servizio rimane backup anche in ambienti non affidabili in cui le macchine esito negativo o riscontri problemi di rete, o nei casi in cui servizi hello verificheranno degli errori e arresto anomalo del sistema o non riuscire.</span><span class="sxs-lookup"><span data-stu-id="19c13-139">**Reliability** - Your service stays up even in unreliable environments where your machines fail or hit network issues, or in cases where hello services themselves encounter errors and crash or fail.</span></span> <span data-ttu-id="19c13-140">Per i servizi con stati, lo stato viene mantenuto anche in presenza di hello di rete o altri errori.</span><span class="sxs-lookup"><span data-stu-id="19c13-140">For stateful services, your state is preserved even in hello presence of network or other failures.</span></span>
* <span data-ttu-id="19c13-141">**Disponibilità**: il servizio è raggiungibile e reattivo.</span><span class="sxs-lookup"><span data-stu-id="19c13-141">**Availability** - Your service is reachable and responsive.</span></span> <span data-ttu-id="19c13-142">Service Fabric mantiene il numero desiderato di copie in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="19c13-142">Service Fabric maintains your desired number of running copies.</span></span>
* <span data-ttu-id="19c13-143">**Scalabilità** - servizi vengono disaccoppiati da hardware specifico e che è possibile aumentare o diminuire in base alle esigenze tramite hello aggiunta o rimozione di hardware o altre risorse.</span><span class="sxs-lookup"><span data-stu-id="19c13-143">**Scalability** - Services are decoupled from specific hardware, and they can grow or shrink as necessary through hello addition or removal of hardware or other resources.</span></span> <span data-ttu-id="19c13-144">I servizi sono tooensure facilmente partizionato (soprattutto in caso di informazioni sullo stato hello) che è possibile scalare il servizio hello e gestire gli errori parziali.</span><span class="sxs-lookup"><span data-stu-id="19c13-144">Services are easily partitioned (especially in hello stateful case) tooensure that hello service can scale and handle partial failures.</span></span> <span data-ttu-id="19c13-145">I servizi possono essere creati ed eliminato in modo dinamico tramite codice, consentendo più toobe istanze riattivata, se necessario, ad esempio nelle richieste toocustomer di risposta.</span><span class="sxs-lookup"><span data-stu-id="19c13-145">Services can be created and deleted dynamically via code, enabling more instances toobe spun up as necessary, say in response toocustomer requests.</span></span> <span data-ttu-id="19c13-146">Infine, Service Fabric incoraggia lightweight toobe servizi.</span><span class="sxs-lookup"><span data-stu-id="19c13-146">Finally, Service Fabric encourages services toobe lightweight.</span></span> <span data-ttu-id="19c13-147">Service Fabric consente a migliaia di servizi toobe il provisioning in un unico processo, anziché richiedere o dedicare intere istanze del sistema operativo o i processi tooa singola istanza di un servizio.</span><span class="sxs-lookup"><span data-stu-id="19c13-147">Service Fabric allows thousands of services toobe provisioned within a single process, rather than requiring or dedicating entire OS instances or processes tooa single instance of a service.</span></span>
* <span data-ttu-id="19c13-148">**Coerenza** -tutte le informazioni memorizzate in questo servizio possono essere garantite toobe coerente.</span><span class="sxs-lookup"><span data-stu-id="19c13-148">**Consistency** - Any information stored in this service can be guaranteed toobe consistent.</span></span> <span data-ttu-id="19c13-149">Questo vale anche tra più raccolte Reliable in un servizio.</span><span class="sxs-lookup"><span data-stu-id="19c13-149">This is true even across multiple reliable collections within a service.</span></span> <span data-ttu-id="19c13-150">È possibile apportare modifiche nelle raccolte all'interno di un servizio con transazioni atomiche.</span><span class="sxs-lookup"><span data-stu-id="19c13-150">Changes across collections within a service can be made in a transactionally atomic manner.</span></span>

## <a name="service-lifecycle"></a><span data-ttu-id="19c13-151">Ciclo di vita del servizio</span><span class="sxs-lookup"><span data-stu-id="19c13-151">Service lifecycle</span></span>
<span data-ttu-id="19c13-152">Reliable Services fornisce un ciclo di vita semplice che consente di attivare rapidamente il codice e iniziare a usarlo.</span><span class="sxs-lookup"><span data-stu-id="19c13-152">Whether your service is stateful or stateless, Reliable Services provide a simple lifecycle that lets you quickly plug in your code and get started.</span></span>  <span data-ttu-id="19c13-153">Sono disponibili solo uno o due metodi è necessario il servizio tooimplement tooget attivo e in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="19c13-153">There are just one or two methods that you need tooimplement tooget your service up and running.</span></span>

* <span data-ttu-id="19c13-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** -questo metodo è in servizio hello è definito hello stack(s) di comunicazione che desideri toouse.</span><span class="sxs-lookup"><span data-stu-id="19c13-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** - This method is where hello service defines hello communication stack(s) that it wants toouse.</span></span> <span data-ttu-id="19c13-155">Hello stack di comunicazione, ad esempio [API Web](service-fabric-reliable-services-communication-webapi.md), è ciò che definisce hello endpoint in ascolto o gli endpoint per hello servizio (come raggiungere i client del servizio hello).</span><span class="sxs-lookup"><span data-stu-id="19c13-155">hello communication stack, such as [Web API](service-fabric-reliable-services-communication-webapi.md), is what defines hello listening endpoint or endpoints for hello service (how clients reach hello service).</span></span> <span data-ttu-id="19c13-156">Definisce inoltre il modo in cui vengono visualizzati messaggi hello interagiscono rest hello hello del codice di servizio.</span><span class="sxs-lookup"><span data-stu-id="19c13-156">It also defines how hello messages that appear interact with hello rest of hello service code.</span></span>
* <span data-ttu-id="19c13-157">**RunAsync** -questo metodo è in cui il servizio viene eseguita la logica di business e in cui si avviano qualsiasi attività in background che deve essere eseguito per la durata di hello del servizio hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-157">**RunAsync** - This method is where your service runs its business logic, and where it would kick off any background tasks that should run for hello lifetime of hello service.</span></span> <span data-ttu-id="19c13-158">token di annullamento Hello fornito è un segnale per quando è necessario interrompere il lavoro.</span><span class="sxs-lookup"><span data-stu-id="19c13-158">hello cancellation token that is provided is a signal for when that work should stop.</span></span> <span data-ttu-id="19c13-159">Ad esempio, se il servizio hello deve toopull messaggi dalla coda affidabile ed elaborarle, è in cui viene eseguita tale lavoro.</span><span class="sxs-lookup"><span data-stu-id="19c13-159">For example, if hello service needs toopull messages out of a Reliable Queue and process them, this is where that work happens.</span></span>

<span data-ttu-id="19c13-160">Se si riferisce servizi affidabili per hello prima volta, leggere in.</span><span class="sxs-lookup"><span data-stu-id="19c13-160">If you're learning about reliable services for hello first time, read on!</span></span> <span data-ttu-id="19c13-161">Se si sta cercando una procedura dettagliata di hello del ciclo di vita di servizi affidabili, è possibile visitare troppo[questo articolo](service-fabric-reliable-services-lifecycle.md).</span><span class="sxs-lookup"><span data-stu-id="19c13-161">If you're looking for a detailed walkthrough of hello lifecycle of reliable services, you can head over too[this article](service-fabric-reliable-services-lifecycle.md).</span></span>

## <a name="example-services"></a><span data-ttu-id="19c13-162">Servizi di esempio</span><span class="sxs-lookup"><span data-stu-id="19c13-162">Example services</span></span>
<span data-ttu-id="19c13-163">La conoscenza di questo modello di programmazione, esaminiamo un rapido due diversi servizi toosee, come vengono assemblati questi pezzi.</span><span class="sxs-lookup"><span data-stu-id="19c13-163">Knowing this programming model, let's take a quick look at two different services toosee how these pieces fit together.</span></span>

### <a name="stateless-reliable-services"></a><span data-ttu-id="19c13-164">Reliable Services senza stato</span><span class="sxs-lookup"><span data-stu-id="19c13-164">Stateless Reliable Services</span></span>
<span data-ttu-id="19c13-165">Un servizio senza stato è una posizione in cui vi è alcuno stato gestito all'interno del servizio hello durante le chiamate.</span><span class="sxs-lookup"><span data-stu-id="19c13-165">A stateless service is one where there is no state maintained within hello service across calls.</span></span> <span data-ttu-id="19c13-166">Qualsiasi stato presente è interamente eliminabile e non richiede sincronizzazione, replica, persistenza o disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="19c13-166">Any state that is present is entirely disposable and doesn't require synchronization, replication, persistence, or high availability.</span></span>

<span data-ttu-id="19c13-167">Si consideri ad esempio una calcolatrice che non ha memoria e riceve tutti tooperform termini e le operazioni in una sola volta.</span><span class="sxs-lookup"><span data-stu-id="19c13-167">For example, consider a calculator that has no memory and receives all terms and operations tooperform at once.</span></span>

<span data-ttu-id="19c13-168">In questo caso, hello `RunAsync()` (c#) o `runAsync()` (linguaggio) di hello servizio può essere vuoto, poiché non esiste alcun background attività elaborazione servizio hello deve toodo.</span><span class="sxs-lookup"><span data-stu-id="19c13-168">In this case, hello `RunAsync()` (C#) or `runAsync()` (Java) of hello service can be empty, since there is no background task-processing that hello service needs toodo.</span></span> <span data-ttu-id="19c13-169">Quando viene creato il servizio di calcolatrice hello, restituisce un `ICommunicationListener` (c#) o `CommunicationListener` (linguaggio) (ad esempio [API Web](service-fabric-reliable-services-communication-webapi.md)) che consente di aprire un endpoint in ascolto su una porta.</span><span class="sxs-lookup"><span data-stu-id="19c13-169">When hello calculator service is created, it returns an `ICommunicationListener` (C#) or `CommunicationListener` (Java) (for example [Web API](service-fabric-reliable-services-communication-webapi.md)) that opens up a listening endpoint on some port.</span></span> <span data-ttu-id="19c13-170">Questo endpoint di ascolto Aggancia toohello differenti metodi di calcolo (esempio: "Add (n1, n2)") che definiscono l'API pubblica della calcolatrice hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-170">This listening endpoint hooks up toohello different calculation methods (example: "Add(n1, n2)") that define hello calculator's public API.</span></span>

<span data-ttu-id="19c13-171">Quando viene effettuata una chiamata da un client, hello appropriato viene richiamato il metodo e il servizio di calcolatrice hello hello operazioni eseguite su hello dati specificato e restituisce il risultato di hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-171">When a call is made from a client, hello appropriate method is invoked, and hello calculator service performs hello operations on hello data provided and returns hello result.</span></span> <span data-ttu-id="19c13-172">Il servizio Calculator esegue le operazioni sui dati forniti e restituisce il risultato, senza archiviare alcuno stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-172">It doesn't store any state.</span></span>

<span data-ttu-id="19c13-173">La mancata archiviazione di qualsiasi stato interno rende semplice il servizio Calculator di esempio.</span><span class="sxs-lookup"><span data-stu-id="19c13-173">Not storing any internal state makes this example calculator simple.</span></span> <span data-ttu-id="19c13-174">La maggior parte dei servizi non è però realmente senza stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-174">But most services aren't truly stateless.</span></span> <span data-ttu-id="19c13-175">Invece, si Esternalizza toosome loro stato altro archivio.</span><span class="sxs-lookup"><span data-stu-id="19c13-175">Instead, they externalize their state toosome other store.</span></span> <span data-ttu-id="19c13-176">Ad esempio, un'app Web che mantiene lo stato delle sessioni in una cache o in un archivio di backup non è senza stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-176">(For example, any web app that relies on keeping session state in a backing store or cache is not stateless.)</span></span>

<span data-ttu-id="19c13-177">Un esempio comune di servizi come senza informazioni sullo stato vengono utilizzati in Service Fabric è come front-end che espone hello API pubblico per un'applicazione web.</span><span class="sxs-lookup"><span data-stu-id="19c13-177">A common example of how stateless services are used in Service Fabric is as a front-end that exposes hello public-facing API for a web application.</span></span> <span data-ttu-id="19c13-178">servizio front-end Hello comunica quindi toostateful servizi toocomplete una richiesta dell'utente.</span><span class="sxs-lookup"><span data-stu-id="19c13-178">hello front-end service then talks toostateful services toocomplete a user request.</span></span> <span data-ttu-id="19c13-179">In questo caso, le chiamate da client sono diretto tooa noto porta, ad esempio 80, in cui è in ascolto servizio senza stato hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-179">In this case, calls from clients are directed tooa known port, such as 80, where hello stateless service is listening.</span></span> <span data-ttu-id="19c13-180">Questo servizio senza stato riceve chiamata hello e determina se chiamata hello da una fonte attendibile e che servizio a cui è destinato.</span><span class="sxs-lookup"><span data-stu-id="19c13-180">This stateless service receives hello call and determines whether hello call is from a trusted party and which service it's destined for.</span></span>  <span data-ttu-id="19c13-181">Quindi, servizio senza stato hello inoltra partizione corretta hello chiamata toohello di servizio con stato hello e attende una risposta.</span><span class="sxs-lookup"><span data-stu-id="19c13-181">Then, hello stateless service forwards hello call toohello correct partition of hello stateful service and waits for a response.</span></span> <span data-ttu-id="19c13-182">Quando il servizio senza stato hello riceve una risposta, risponde toohello originale client.</span><span class="sxs-lookup"><span data-stu-id="19c13-182">When hello stateless service receives a response, it replies toohello original client.</span></span> <span data-ttu-id="19c13-183">Un esempio di tale servizio è disponibile in [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span><span class="sxs-lookup"><span data-stu-id="19c13-183">An example of such a service is in our samples [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span></span> <span data-ttu-id="19c13-184">Questo è solo un esempio di questo modello negli esempi di hello, esistono altri in anche altri esempi.</span><span class="sxs-lookup"><span data-stu-id="19c13-184">This is only one example of this pattern in hello samples, there are others in other samples as well.</span></span>

### <a name="stateful-reliable-services"></a><span data-ttu-id="19c13-185">Reliable Services con stato</span><span class="sxs-lookup"><span data-stu-id="19c13-185">Stateful Reliable Services</span></span>
<span data-ttu-id="19c13-186">Un servizio con stato è quello che deve avere una parte dello stato mantenuta coerente e presente affinché toofunction servizio hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-186">A stateful service is one that must have some portion of state kept consistent and present in order for hello service toofunction.</span></span> <span data-ttu-id="19c13-187">Si consideri, ad esempio, un servizio che deve calcolare costantemente la media mobile di alcuni valori in base agli aggiornamenti ricevuti.</span><span class="sxs-lookup"><span data-stu-id="19c13-187">Consider a service that constantly computes a rolling average of some value based on updates it receives.</span></span> <span data-ttu-id="19c13-188">toodo, deve disporre di hello set corrente di richieste in ingresso deve tooprocess e hello Media attuale.</span><span class="sxs-lookup"><span data-stu-id="19c13-188">toodo this, it must have hello current set of incoming requests it needs tooprocess and hello current average.</span></span> <span data-ttu-id="19c13-189">Qualsiasi servizio che recupera, elabora e archivia informazioni in un archivio esterno, ad esempio un archivio tabelle o un BLOB di Azure, è un servizio con stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-189">Any service that retrieves, processes, and stores information in an external store (such as an Azure blob or table store today) is stateful.</span></span> <span data-ttu-id="19c13-190">Mantiene solo lo stato nell'archivio di stato esterno hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-190">It just keeps its state in hello external state store.</span></span>

<span data-ttu-id="19c13-191">La maggior parte dei servizi archiviano oggi il proprio stato esternamente, poiché archivio esterno hello cosa offre affidabilità, disponibilità, scalabilità e la coerenza di tale stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-191">Most services today store their state externally, since hello external store is what provides reliability, availability, scalability, and consistency for that state.</span></span> <span data-ttu-id="19c13-192">Nell'infrastruttura del servizio, di servizi non è necessari toostore stato esternamente.</span><span class="sxs-lookup"><span data-stu-id="19c13-192">In Service Fabric, services aren't required toostore their state externally.</span></span> <span data-ttu-id="19c13-193">Service Fabric si occupa di questi requisiti per il codice di servizio hello e lo stato del servizio hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-193">Service Fabric takes care of these requirements for both hello service code and hello service state.</span></span>

> [!NOTE]
> <span data-ttu-id="19c13-194">Il supporto per Reliable Services con stato non è ancora disponibile in Linux (per C# o Java).</span><span class="sxs-lookup"><span data-stu-id="19c13-194">Support for Stateful Reliable Services is not available on Linux yet (for C# or Java).</span></span>
>

<span data-ttu-id="19c13-195">Si supponga toowrite un servizio che elabora le immagini.</span><span class="sxs-lookup"><span data-stu-id="19c13-195">Let's say we want toowrite a service that processes images.</span></span> <span data-ttu-id="19c13-196">toodo questo hello servizio accetta un'immagine e hello serie di conversioni tooperform su quell'immagine.</span><span class="sxs-lookup"><span data-stu-id="19c13-196">toodo this, hello service takes in an image and hello series of conversions tooperform on that image.</span></span> <span data-ttu-id="19c13-197">Il servizio restituisce un listener di comunicazione (si supponga che sia un'API Web) che espone un'API come `ConvertImage(Image i, IList<Conversion> conversions)`.</span><span class="sxs-lookup"><span data-stu-id="19c13-197">This service returns a communication listener (let's suppose it's a WebAPI) that exposes an API like `ConvertImage(Image i, IList<Conversion> conversions)`.</span></span> <span data-ttu-id="19c13-198">Quando riceve una richiesta, il servizio hello viene memorizzato in un `IReliableQueue`e restituisce alcuni client toohello id, quindi è possibile tenere traccia delle richiesta hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-198">When it receives a request, hello service stores it in a `IReliableQueue`, and returns some id toohello client so it can track hello request.</span></span>

<span data-ttu-id="19c13-199">In questo servizio `RunAsync()` potrebbe essere più complesso.</span><span class="sxs-lookup"><span data-stu-id="19c13-199">In this service, `RunAsync()` could be more complex.</span></span> <span data-ttu-id="19c13-200">servizio Hello è presente un ciclo all'interno di relativo `RunAsync()` che effettua il pull delle richieste di `IReliableQueue` ed esegue le conversioni di hello richieste.</span><span class="sxs-lookup"><span data-stu-id="19c13-200">hello service has a loop inside its `RunAsync()` that pulls requests out of `IReliableQueue` and performs hello conversions requested.</span></span> <span data-ttu-id="19c13-201">risultati Hello ottengano archiviati in un `IReliableDictionary` in modo che quando il client hello torna possono ottenere le immagini convertite.</span><span class="sxs-lookup"><span data-stu-id="19c13-201">hello results get stored in an `IReliableDictionary` so that when hello client comes back they can get their converted images.</span></span> <span data-ttu-id="19c13-202">tooensure che anche nel caso di errori immagine hello non vada perduto, questo servizio affidabile verrà pull dalla coda di hello, eseguire le conversioni di hello e memorizza il risultato di hello in una singola transazione.</span><span class="sxs-lookup"><span data-stu-id="19c13-202">tooensure that even if something fails hello image isn't lost, this Reliable Service would pull out of hello queue, perform hello conversions, and store hello result all in a single transaction.</span></span> <span data-ttu-id="19c13-203">In questo caso, il messaggio hello viene rimosso dalla coda hello e risultati hello vengono archiviati nel dizionario di risultato hello solo quando vengono completate le conversioni di hello.</span><span class="sxs-lookup"><span data-stu-id="19c13-203">In this case, hello message is removed from hello queue and hello results are stored in hello result dictionary only when hello conversions are complete.</span></span> <span data-ttu-id="19c13-204">In alternativa, servizio hello Impossibile estrarre immagine hello dalla coda hello e immediatamente archiviarlo in un archivio remoto.</span><span class="sxs-lookup"><span data-stu-id="19c13-204">Alternatively, hello service could pull hello image out of hello queue and immediately store it in a remote store.</span></span> <span data-ttu-id="19c13-205">Questo riduce hello quantità del servizio di stato hello è toomanage, ma aumenta la complessità poiché servizio hello ha tookeep hello necessarie toomanage hello remoto metadati.</span><span class="sxs-lookup"><span data-stu-id="19c13-205">This reduces hello amount of state hello service has toomanage, but increases complexity since hello service has tookeep hello necessary metadata toomanage hello remote store.</span></span> <span data-ttu-id="19c13-206">Con entrambi gli approcci, se un elemento non è riuscito a hello hello intermedio richiesta rimane in hello coda in attesa toobe elaborati.</span><span class="sxs-lookup"><span data-stu-id="19c13-206">With either approach, if something failed in hello middle hello request remains in hello queue waiting toobe processed.</span></span>

<span data-ttu-id="19c13-207">Una cosa toonote su questo servizio è può sembrare un normale servizio .NET.</span><span class="sxs-lookup"><span data-stu-id="19c13-207">One thing toonote about this service is that it sounds like a normal .NET service!</span></span> <span data-ttu-id="19c13-208">Hello unica differenza è che le strutture di dati hello in uso (`IReliableQueue` e `IReliableDictionary`) vengono forniti dall'infrastruttura di servizio e sono altamente affidabile, disponibili e coerente.</span><span class="sxs-lookup"><span data-stu-id="19c13-208">hello only difference is that hello data structures being used (`IReliableQueue` and `IReliableDictionary`) are provided by Service Fabric, and are highly reliable, available, and consistent.</span></span>

## <a name="when-toouse-reliable-services-apis"></a><span data-ttu-id="19c13-209">Quando toouse API dei servizi affidabili</span><span class="sxs-lookup"><span data-stu-id="19c13-209">When toouse Reliable Services APIs</span></span>
<span data-ttu-id="19c13-210">Se una delle seguenti operazioni hello caratterizzare le esigenze dell'applicazione del servizio, è necessario considerare affidabile API dei servizi:</span><span class="sxs-lookup"><span data-stu-id="19c13-210">If any of hello following characterize your application service needs, then you should consider Reliable Services APIs:</span></span>

* <span data-ttu-id="19c13-211">Si desidera che il codice del servizio (e facoltativamente) toobe elevata disponibilità e affidabilità</span><span class="sxs-lookup"><span data-stu-id="19c13-211">You want your service's code (and optionally state) toobe highly available and reliable</span></span>
* <span data-ttu-id="19c13-212">Sono necessarie garanzie transazionali in più unità di stato multiple, ad esempio elementi di ordine e righe di ordine.</span><span class="sxs-lookup"><span data-stu-id="19c13-212">You need transactional guarantees across multiple units of state (for example, orders and order line items).</span></span>
* <span data-ttu-id="19c13-213">Lo stato dell'applicazione può essere modellato naturalmente sotto forma di oggetti ReliableDictionary e ReliableQueue.</span><span class="sxs-lookup"><span data-stu-id="19c13-213">Your application’s state can be naturally modeled as Reliable Dictionaries and Queues.</span></span>
* <span data-ttu-id="19c13-214">Il codice delle applicazioni o lo stato deve toobe a disponibilità elevata con bassa latenza letture e scritture.</span><span class="sxs-lookup"><span data-stu-id="19c13-214">Your applications code or state needs toobe highly available with low latency reads and writes.</span></span>
* <span data-ttu-id="19c13-215">L'applicazione deve toocontrol hello concorrenza o granularità di operazioni transazionali in uno o più raccolte affidabile.</span><span class="sxs-lookup"><span data-stu-id="19c13-215">Your application needs toocontrol hello concurrency or granularity of transacted operations across one or more Reliable Collections.</span></span>
* <span data-ttu-id="19c13-216">Si desiderano le comunicazioni hello toomanage o hello controllo combinazione per il servizio di partizionamento.</span><span class="sxs-lookup"><span data-stu-id="19c13-216">You want toomanage hello communications or control hello partitioning scheme for your service.</span></span>
* <span data-ttu-id="19c13-217">Il codice necessita di un ambiente di runtime a thread libero.</span><span class="sxs-lookup"><span data-stu-id="19c13-217">Your code needs a free-threaded runtime environment.</span></span>
* <span data-ttu-id="19c13-218">L'applicazione deve toodynamically creare o eliminare dizionari affidabile o le code o interi servizi in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="19c13-218">Your application needs toodynamically create or destroy Reliable Dictionaries or Queues or whole Services at runtime.</span></span>
* <span data-ttu-id="19c13-219">È necessario tooprogrammatically fornito Service Fabric backup e ripristino di funzionalità di controllo per lo stato del servizio.</span><span class="sxs-lookup"><span data-stu-id="19c13-219">You need tooprogrammatically control Service Fabric-provided backup and restore features for your service’s state.</span></span>
* <span data-ttu-id="19c13-220">L'applicazione richiede la cronologia delle modifiche toomaintain per unità di stato.</span><span class="sxs-lookup"><span data-stu-id="19c13-220">Your application needs toomaintain change history for its units of state.</span></span>
* <span data-ttu-id="19c13-221">Si desidera toodevelop o utilizzata il provider di stato sviluppato a terze parti e personalizzati.</span><span class="sxs-lookup"><span data-stu-id="19c13-221">You want toodevelop or consume third-party-developed, custom state providers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="19c13-222">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="19c13-222">Next steps</span></span>
* [<span data-ttu-id="19c13-223">Guida introduttiva a Reliable Services di Microsoft Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="19c13-223">Reliable Services quick start</span></span>](service-fabric-reliable-services-quick-start.md)
* [<span data-ttu-id="19c13-224">Uso avanzato del modello di programmazione Reliable Services</span><span class="sxs-lookup"><span data-stu-id="19c13-224">Reliable Services advanced usage</span></span>](service-fabric-reliable-services-advanced-usage.md)
* [<span data-ttu-id="19c13-225">modello di programmazione di Hello Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="19c13-225">hello Reliable Actors programming model</span></span>](service-fabric-reliable-actors-introduction.md)
