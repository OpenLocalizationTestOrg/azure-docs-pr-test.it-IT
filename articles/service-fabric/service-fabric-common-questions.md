---
title: domande aaaCommon su Microsoft Azure Service Fabric | Documenti Microsoft
description: Domande frequenti su Service Fabric e relative risposte
services: service-fabric
documentationcenter: .net
author: chackdan
manager: timlt
editor: 
ms.assetid: 5a179703-ff0c-4b8e-98cd-377253295d12
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/18/2017
ms.author: chackdan
ms.openlocfilehash: 4cbe92d2a03f7a1ea5d077807fdc982288220a7e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="commonly-asked-service-fabric-questions"></a><span data-ttu-id="40725-103">Domande frequenti su Service Fabric</span><span class="sxs-lookup"><span data-stu-id="40725-103">Commonly asked Service Fabric questions</span></span>

<span data-ttu-id="40725-104">Esistono molte domande frequenti sulle caratteristiche e sulle modalità di uso di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="40725-104">There are many commonly asked questions about what Service Fabric can do and how it should be used.</span></span> <span data-ttu-id="40725-105">In questo documento vengono illustrate molte di queste domande comuni e le relative risposte.</span><span class="sxs-lookup"><span data-stu-id="40725-105">This document covers many of those common questions and their answers.</span></span>

## <a name="cluster-setup-and-management"></a><span data-ttu-id="40725-106">Configurazione e gestione del cluster</span><span class="sxs-lookup"><span data-stu-id="40725-106">Cluster setup and management</span></span>

### <a name="can-i-create-a-cluster-that-spans-multiple-azure-regions-or-my-own-datacenters"></a><span data-ttu-id="40725-107">È possibile creare un cluster che si estenda a più aree di Azure o ai miei data center?</span><span class="sxs-lookup"><span data-stu-id="40725-107">Can I create a cluster that spans multiple Azure regions or my own datacenters?</span></span>

<span data-ttu-id="40725-108">Sì.</span><span class="sxs-lookup"><span data-stu-id="40725-108">Yes.</span></span> 

<span data-ttu-id="40725-109">core Hello tecnologia di clustering Service Fabric può essere utilizzato toocombine macchine in esecuzione ovunque nel mondo hello, in modo che abbiano rete connettività tooeach altri.</span><span class="sxs-lookup"><span data-stu-id="40725-109">hello core Service Fabric clustering technology can be used toocombine machines running anywhere in hello world, so long as they have network connectivity tooeach other.</span></span> <span data-ttu-id="40725-110">La compilazione e l'esecuzione di questo tipo di cluster possono essere tuttavia complicate.</span><span class="sxs-lookup"><span data-stu-id="40725-110">However, building and running such a cluster can be complicated.</span></span>

<span data-ttu-id="40725-111">Se si è interessati in questo scenario, è consigliabile tooget in contatto tramite hello [elenco di problemi di Service Fabric Github](https://github.com/azure/service-fabric-issues) o tramite il supporto tecnico clienti in altro materiale sussidiario tooobtain ordine.</span><span class="sxs-lookup"><span data-stu-id="40725-111">If you are interested in this scenario, we encourage you tooget in contact either through hello [Service Fabric Github Issues List](https://github.com/azure/service-fabric-issues) or through your support representative in order tooobtain additional guidance.</span></span> <span data-ttu-id="40725-112">il team di Service Fabric Hello sta spiegazioni aggiuntive tooprovide, linee guida e consigli per questo scenario.</span><span class="sxs-lookup"><span data-stu-id="40725-112">hello Service Fabric team is working tooprovide additional clarity, guidance, and recommendations for this scenario.</span></span> 

<span data-ttu-id="40725-113">Tooconsider alcune operazioni:</span><span class="sxs-lookup"><span data-stu-id="40725-113">Some things tooconsider:</span></span> 

1. <span data-ttu-id="40725-114">Hello risorsa cluster di Service Fabric in Azure è oggi regionale, come sono set di scalabilità della macchina virtuale hello tale cluster hello si basa su.</span><span class="sxs-lookup"><span data-stu-id="40725-114">hello Service Fabric cluster resource in Azure is regional today, as are hello virtual machine scale sets that hello cluster is built on.</span></span> <span data-ttu-id="40725-115">Ciò significa che nell'evento hello di un errore internazionale è possibile perdere cluster hello di hello possibilità toomanage tramite Gestione risorse di Azure hello o hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="40725-115">This means that in hello event of a regional failure you may lose hello ability toomanage hello cluster via hello Azure Resource Manager or hello Azure Portal.</span></span> <span data-ttu-id="40725-116">Questa situazione può verificarsi anche se hello cluster rimane in esecuzione e sarà in grado di toointeract con esso direttamente.</span><span class="sxs-lookup"><span data-stu-id="40725-116">This can happen even though hello cluster remains running and you'd be able toointeract with it directly.</span></span> <span data-ttu-id="40725-117">Inoltre, Azure attualmente non offre hello possibilità toohave una singola rete virtuale che può essere utilizzata in aree geografiche.</span><span class="sxs-lookup"><span data-stu-id="40725-117">In addition, Azure today does not offer hello ability toohave a single virtual network that is usable across regions.</span></span> <span data-ttu-id="40725-118">Ciò significa che richiede un cluster con più aree in Azure [indirizzi IP pubblici per ogni macchina virtuale nel set di scalabilità di macchine Virtuali hello](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) o [gateway VPN di Azure](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span><span class="sxs-lookup"><span data-stu-id="40725-118">This means that a multi-region cluster in Azure requires either [Public IP Addresses for each VM in hello VM Scale Sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) or [Azure VPN Gateways](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span></span> <span data-ttu-id="40725-119">Queste opzioni rete hanno effetti diversi nella progettazione di applicazioni di livello toosome i costi e prestazioni, in modo che un'attenta analisi e la pianificazione è necessario prima posizione di un ambiente di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="40725-119">These networking choices have different impacts on costs, performance, and toosome degree application design, so careful analysis and planning is required before standing up such an environment.</span></span>
2. <span data-ttu-id="40725-120">Hello manutenzione, la gestione e monitoraggio di tali macchine può diventare complicati, soprattutto quando estese su _tipi_ degli ambienti, ad esempio tra provider di cloud diversi o tra risorse locali e Azure .</span><span class="sxs-lookup"><span data-stu-id="40725-120">hello maintenance, management, and monitoring of these machines can become complicated, especially when spanned across _types_ of environments, such as between different cloud providers or between on-premises resources and Azure.</span></span> <span data-ttu-id="40725-121">Prestare attenzione tooensure che viene aggiornato, il monitoraggio, gestione e diagnostica viene riconosciuta per cluster hello e applicazioni hello prima di eseguire i carichi di lavoro in un tale ambiente.</span><span class="sxs-lookup"><span data-stu-id="40725-121">Care must be taken tooensure that upgrades, monitoring, management, and diagnostics are understood for both hello cluster and hello applications before running production workloads in such an environment.</span></span> <span data-ttu-id="40725-122">Se si ha già grande esperienza di risoluzione di questi problemi in Azure o nei propri Data center, è possibile che si possano applicare queste stesse soluzioni durante la compilazione o l'esecuzione del cluster di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="40725-122">If you already have lots of experience solving these problems in Azure or within your own datacenters, then it is likely that those same solutions can be applied when building out or running your Service Fabric cluster.</span></span> 

### <a name="do-service-fabric-nodes-automatically-receive-os-updates"></a><span data-ttu-id="40725-123">I nodi di Service Fabric ricevono automaticamente aggiornamenti del sistema operativo?</span><span class="sxs-lookup"><span data-stu-id="40725-123">Do Service Fabric nodes automatically receive OS updates?</span></span>

<span data-ttu-id="40725-124">Non oggi, ma è anche una richiesta comune che Azure intende toodeliver.</span><span class="sxs-lookup"><span data-stu-id="40725-124">Not today, but this is also a common request that Azure intends toodeliver.</span></span>

<span data-ttu-id="40725-125">In hello provvisorio, abbiamo [fornita un'applicazione](service-fabric-patch-orchestration-application.md) che i sistemi operativi hello sotto i nodi di Service Fabric rimangono patch e backup toodate.</span><span class="sxs-lookup"><span data-stu-id="40725-125">In hello interim, we have [provided an application](service-fabric-patch-orchestration-application.md) that hello operating systems underneath your Service Fabric nodes stay patched and up toodate.</span></span>

<span data-ttu-id="40725-126">challenge Hello con aggiornamenti del sistema operativo è in genere che richiedono il riavvio del computer hello, che comporta una perdita temporanea della disponibilità.</span><span class="sxs-lookup"><span data-stu-id="40725-126">hello challenge with OS updates is that they typically require a reboot of hello machine, which results in temporary availability loss.</span></span> <span data-ttu-id="40725-127">Di per sé che non è un problema, poiché Service Fabric verrà reindirizzata automaticamente il traffico per tali nodi tooother servizi.</span><span class="sxs-lookup"><span data-stu-id="40725-127">By itself, that is not a problem, since Service Fabric will automatically redirect traffic for those services tooother nodes.</span></span> <span data-ttu-id="40725-128">Tuttavia, se gli aggiornamenti del sistema operativo non vengono coordinati cluster hello, è potenzialmente hello che molti nodi verso il basso in una sola volta.</span><span class="sxs-lookup"><span data-stu-id="40725-128">However, if OS updates are not coordinated across hello cluster, there is hello potential that many nodes go down at once.</span></span> <span data-ttu-id="40725-129">Tali riavvii simultanei possono causare la perdita totale di disponibilità per un servizio o, perlomeno, per una partizione specifica (per un servizio con stato).</span><span class="sxs-lookup"><span data-stu-id="40725-129">Such simultaneous reboots can cause complete availability loss for a service, or at least for a specific partition (for a stateful service).</span></span>

<span data-ttu-id="40725-130">In futuro hello, contiamo criteri di aggiornamento toosupport un sistema operativo che sono completamente automatizzato e coordinato tra i domini di aggiornamento, verificare che la disponibilità viene mantenuta nonostante i riavvii e altri errori imprevisti.</span><span class="sxs-lookup"><span data-stu-id="40725-130">In hello future, we plan toosupport an OS update policy that is fully automated and coordinated across update domains, ensuring that availability is maintained despite reboots and other unexpected failures.</span></span>

### <a name="can-i-use-large-virtual-machine-scale-sets-in-my-sf-cluster"></a><span data-ttu-id="40725-131">È possibile usare set di scalabilità di macchine virtuali di grandi dimensioni nel cluster di Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="40725-131">Can I use Large Virtual Machine Scale Sets in my SF cluster?</span></span> 

<span data-ttu-id="40725-132">**Risposta breve**: no.</span><span class="sxs-lookup"><span data-stu-id="40725-132">**Short answer** - No.</span></span> 

<span data-ttu-id="40725-133">**Tempo di risposta** : anche se i set di scalabilità macchina virtuale di grandi dimensioni hello consentono tooscale un macchina virtuale del set di scalabilità fino a 1000 istanze della macchina virtuale, tale scopo, utilizzare hello dei gruppi di posizionamento (PGs).</span><span class="sxs-lookup"><span data-stu-id="40725-133">**Long Answer** - Although hello Large Virtual Machine Scale Sets allow you tooscale a virtual machine scale set upto 1000 VM instances, it does so by hello use of Placement Groups (PGs).</span></span> <span data-ttu-id="40725-134">Domini di errore (Fd) e domini di aggiornamento (UD) sono solo coerenti all'interno di un servizio dell'infrastruttura Usa posizionamento gruppo decisioni di posizionamento toomake domini di errore e domini di aggiornamento delle istanze di repliche o del servizio del servizio.</span><span class="sxs-lookup"><span data-stu-id="40725-134">Fault domains (FDs) and upgrade domains (UDs) are only consistent within a placement group Service fabric uses FDs and UDs toomake placement decisions of your service replicas/Service instances.</span></span> <span data-ttu-id="40725-135">Poiché hello domini di errore e domini di aggiornamento sono confrontabili solo all'interno di un gruppo di posizionamento SF può essere utilizzato.</span><span class="sxs-lookup"><span data-stu-id="40725-135">Since hello FDs  and UDs are comparable only within a placement group SF cannot use it.</span></span> <span data-ttu-id="40725-136">Ad esempio, se VM1 in PG1 con una topologia di FD = 0 e VM9 in PG2 con una topologia di FD = 4, non significa che VM1 e VM2 si trovano in due rack Hardware diverso, pertanto SF non è possibile utilizzare i valori hello FD nelle decisioni di selezione host case toomake.</span><span class="sxs-lookup"><span data-stu-id="40725-136">For example, If VM1 in PG1 has a topology of FD=0 and VM9 in PG2 has a topology of FD=4 , it does not mean that VM1 and VM2 are on two different Hardware Racks, hence SF cannot use hello FD values in this case toomake placement decisions.</span></span>

<span data-ttu-id="40725-137">Esistono altri problemi con il set di scalabilità di grandi dimensioni di macchina virtuale, ad esempio mancanza di hello di livello 4 di supporto del bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="40725-137">There are other issues with Large virtual machine scale sets currently, like hello lack of level-4 Load balancing support.</span></span> <span data-ttu-id="40725-138">Fare riferimento toofor [informazioni dettagliate sulla grande set di scalabilità](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span><span class="sxs-lookup"><span data-stu-id="40725-138">Refer toofor [details on Large scale sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span></span>



### <a name="what-is-hello-minimum-size-of-a-service-fabric-cluster-why-cant-it-be-smaller"></a><span data-ttu-id="40725-139">Che cos'è una dimensione minima di hello di un cluster di Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="40725-139">What is hello minimum size of a Service Fabric cluster?</span></span> <span data-ttu-id="40725-140">Perché non può essere di dimensioni minori?</span><span class="sxs-lookup"><span data-stu-id="40725-140">Why can't it be smaller?</span></span>

<span data-ttu-id="40725-141">Hello dimensione supportata minima per un cluster di Service Fabric che esegue i carichi di lavoro è cinque nodi.</span><span class="sxs-lookup"><span data-stu-id="40725-141">hello minimum supported size for a Service Fabric cluster running production workloads is five nodes.</span></span> <span data-ttu-id="40725-142">Per scenari di sviluppo e test, sono supportati cluster a tre nodi.</span><span class="sxs-lookup"><span data-stu-id="40725-142">For dev/test scenarios, we support three node clusters.</span></span>

<span data-ttu-id="40725-143">Questi valori minimi esistono perché il cluster di Service Fabric hello esegue un set di servizi di sistema con stato, tra cui servizio di denominazione hello e gestione failover hello.</span><span class="sxs-lookup"><span data-stu-id="40725-143">These minimums exist because hello Service Fabric cluster runs a set of stateful system services, including hello naming service and hello failover manager.</span></span> <span data-ttu-id="40725-144">Questi servizi, tenere traccia di quali servizi sono stati distribuiti toohello cluster e in cui sono ospitati attualmente, dipendono dalla coerenza assoluta.</span><span class="sxs-lookup"><span data-stu-id="40725-144">These services, which track what services have been deployed toohello cluster and where they're currently hosted, depend on strong consistency.</span></span> <span data-ttu-id="40725-145">La coerenza assoluta, a sua volta dipende da hello possibilità tooacquire un *quorum* per qualsiasi aggiornamento specificato toohello stato di tali dei servizi, in cui un quorum rappresenta una maggioranza strict di repliche di hello (N/2 + 1) per un determinato servizio.</span><span class="sxs-lookup"><span data-stu-id="40725-145">That strong consistency, in turn, depends on hello ability tooacquire a *quorum* for any given update toohello state of those services, where a quorum represents a strict majority of hello replicas (N/2 +1) for a given service.</span></span>

<span data-ttu-id="40725-146">Detto questo, esaminiamo alcune possibili configurazioni di cluster:</span><span class="sxs-lookup"><span data-stu-id="40725-146">With that background, let's examine some possible cluster configurations:</span></span>

<span data-ttu-id="40725-147">**Un nodo**: questa opzione non fornisce la disponibilità elevata poiché la perdita di hello del nodo singolo di hello per qualsiasi motivo significa perdita di hello dell'intero cluster hello.</span><span class="sxs-lookup"><span data-stu-id="40725-147">**One node**: this option does not provide high availability since hello loss of hello single node for any reason means hello loss of hello entire cluster.</span></span>

<span data-ttu-id="40725-148">**Due nodi**: un quorum per un servizio distribuito tra due nodi (N = 2) è 2 (2/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="40725-148">**Two nodes**: a quorum for a service deployed across two nodes (N = 2) is 2 (2/2 + 1 = 2).</span></span> <span data-ttu-id="40725-149">Quando una singola replica viene persa, è Impossibile toocreate un quorum.</span><span class="sxs-lookup"><span data-stu-id="40725-149">When a single replica is lost, it is impossible toocreate a quorum.</span></span> <span data-ttu-id="40725-150">Dato che per aggiornare un servizio è necessario portare temporaneamente offline una replica, questa non è una configurazione utile.</span><span class="sxs-lookup"><span data-stu-id="40725-150">Since performing a service upgrade requires temporarily taking down a replica, this is not a useful configuration.</span></span>

<span data-ttu-id="40725-151">**Tre nodi**: con tre nodi (N = 3), hello requisito toocreate un quorum è ancora due nodi (3/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="40725-151">**Three nodes**: with three nodes (N=3), hello requirement toocreate a quorum is still two nodes (3/2 + 1 = 2).</span></span> <span data-ttu-id="40725-152">Ciò significa che è possibile perdere un singolo nodo e mantenere comunque il quorum.</span><span class="sxs-lookup"><span data-stu-id="40725-152">This means that you can lose an individual node and still maintain quorum.</span></span>

<span data-ttu-id="40725-153">configurazione di Hello tre nodi del cluster è supportata per sviluppo/test perché è possibile in modo sicuro eseguire aggiornamenti e mantenute in seguito a errori di nodo singolo, fino a quando essi non vengono eseguite contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="40725-153">hello three node cluster configuration is supported for dev/test because you can safely perform upgrades and survive individual node failures, as long as they don't happen simultaneously.</span></span> <span data-ttu-id="40725-154">Per i carichi di lavoro, è necessario essere resilienti toosuch errori simultanei, quindi cinque nodi sono obbligatori.</span><span class="sxs-lookup"><span data-stu-id="40725-154">For production workloads, you must be resilient toosuch a simultaneous failure, so five nodes are required.</span></span>

### <a name="can-i-turn-off-my-cluster-at-nightweekends-toosave-costs"></a><span data-ttu-id="40725-155">È possibile disattivare il cluster costi toosave notte/i fine settimana?</span><span class="sxs-lookup"><span data-stu-id="40725-155">Can I turn off my cluster at night/weekends toosave costs?</span></span>

<span data-ttu-id="40725-156">Generalmente, no.</span><span class="sxs-lookup"><span data-stu-id="40725-156">In general, no.</span></span> <span data-ttu-id="40725-157">Service Fabric archivia lo stato su dischi locali, temporanei, vale a dire che se tooa spostato diversi host macchina virtuale hello è hello dati non vengono spostati con esso.</span><span class="sxs-lookup"><span data-stu-id="40725-157">Service Fabric stores state on local, ephemeral disks, meaning that if hello virtual machine is moved tooa different host, hello data does not move with it.</span></span> <span data-ttu-id="40725-158">In condizioni normali, che non è un problema come nuovo nodo hello viene portata backup toodate da altri nodi.</span><span class="sxs-lookup"><span data-stu-id="40725-158">In normal operation, that is not a problem as hello new node is brought up toodate by other nodes.</span></span> <span data-ttu-id="40725-159">Tuttavia, se si arresta tutti i nodi e riavviarle in un secondo momento, è possibile che la maggior parte dei nodi hello avviare nei nuovi host e rendere hello sistema non è possibile toorecover significativa.</span><span class="sxs-lookup"><span data-stu-id="40725-159">However, if you stop all nodes and restart them later, there is a significant possibility that most of hello nodes start on new hosts and make hello system unable toorecover.</span></span>

<span data-ttu-id="40725-160">Se si desidera toocreate cluster per il test dell'applicazione prima della distribuzione, è consigliabile creare in modo dinamico tali cluster come parte del [integrazione continua/continua pipeline di distribuzione](service-fabric-set-up-continuous-integration.md).</span><span class="sxs-lookup"><span data-stu-id="40725-160">If you would like toocreate clusters for testing your application before it is deployed, we recommend that you dynamically create those clusters as part of your [continuous integration/continuous deployment pipeline](service-fabric-set-up-continuous-integration.md).</span></span>


### <a name="how-do-i-upgrade-my-operating-system-for-example-from-windows-server-2012-toowindows-server-2016"></a><span data-ttu-id="40725-161">Come aggiornare il sistema operativo (ad esempio da Windows Server 2012 tooWindows Server 2016)</span><span class="sxs-lookup"><span data-stu-id="40725-161">How do I upgrade my Operating System (for example from Windows Server 2012 tooWindows Server 2016)?</span></span>

<span data-ttu-id="40725-162">Mentre si sta lavorando oggi, una migliore esperienza utente è responsabile per l'aggiornamento di hello.</span><span class="sxs-lookup"><span data-stu-id="40725-162">While we're working on an improved experience, today, you are responsible for hello upgrade.</span></span> <span data-ttu-id="40725-163">È necessario aggiornare l'immagine del sistema operativo hello in hello macchine virtuali di hello una macchina virtuale del cluster alla volta.</span><span class="sxs-lookup"><span data-stu-id="40725-163">You must upgrade hello OS image on hello virtual machines of hello cluster one VM at a time.</span></span> 

## <a name="container-support"></a><span data-ttu-id="40725-164">Supporto dei contenitori</span><span class="sxs-lookup"><span data-stu-id="40725-164">Container Support</span></span>

### <a name="why-are-my-containers-that-are-deployed-toosf-unable-tooresolve-dns-addresses"></a><span data-ttu-id="40725-165">Perché sono i contenitori che vengono distribuiti tooSF Impossibile tooresolve DNS risolve?</span><span class="sxs-lookup"><span data-stu-id="40725-165">Why are my containers that are deployed tooSF unable tooresolve DNS addresses?</span></span>

<span data-ttu-id="40725-166">Il problema è stato segnalato nei cluster versione 5.6.204.9494</span><span class="sxs-lookup"><span data-stu-id="40725-166">This issue has been reported on clusters that are on 5.6.204.9494 version</span></span> 

<span data-ttu-id="40725-167">**Attenuazione** : seguire [questo documento](service-fabric-dnsservice.md) tooenable hello DNS del servizio service fabric nel cluster.</span><span class="sxs-lookup"><span data-stu-id="40725-167">**Mitigation** :  Follow [this document](service-fabric-dnsservice.md) tooenable hello DNS service fabric service in your cluster.</span></span>

<span data-ttu-id="40725-168">**Correggere** : versione del cluster aggiornamento tooa supportato che è superiore a 5.6.204.9494, quando è disponibile.</span><span class="sxs-lookup"><span data-stu-id="40725-168">**Fix** :  Upgrade tooa supported cluster version that is higher than 5.6.204.9494, when it is available.</span></span> <span data-ttu-id="40725-169">Se il cluster è impostato tooautomatic aggiornamenti, quindi cluster hello verrà aggiornato automaticamente toohello versione che si è verificato questo problema risolto.</span><span class="sxs-lookup"><span data-stu-id="40725-169">If your cluster is set tooautomatic upgrades, then hello cluster will automatically upgrade toohello version that has this issue fixed.</span></span>

  
## <a name="application-design"></a><span data-ttu-id="40725-170">Progettazione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="40725-170">Application Design</span></span>

### <a name="whats-hello-best-way-tooquery-data-across-partitions-of-a-reliable-collection"></a><span data-ttu-id="40725-171">Che cos'è dati tooquery modo migliori di hello tra partizioni di un insieme affidabile?</span><span class="sxs-lookup"><span data-stu-id="40725-171">What's hello best way tooquery data across partitions of a Reliable Collection?</span></span>

<span data-ttu-id="40725-172">Raccolte affidabili sono in genere [partizionata](service-fabric-concepts-partitioning.md) tooenable con scalabilità maggiore produttività e prestazioni.</span><span class="sxs-lookup"><span data-stu-id="40725-172">Reliable collections are typically [partitioned](service-fabric-concepts-partitioning.md) tooenable scale out for greater performance and throughput.</span></span> <span data-ttu-id="40725-173">Ciò significa che lo stato di hello per un determinato servizio può essere distribuito in 10s o 100s macchine.</span><span class="sxs-lookup"><span data-stu-id="40725-173">That means that hello state for a given service may be spread across 10s or 100s of machines.</span></span> <span data-ttu-id="40725-174">tooperform operazioni sul set di dati completo, sono disponibili alcune opzioni:</span><span class="sxs-lookup"><span data-stu-id="40725-174">tooperform operations over that full data set, you have a few options:</span></span>

- <span data-ttu-id="40725-175">Creare un servizio che esegue una query di tutte le partizioni di un altro servizio toopull nei dati hello necessario.</span><span class="sxs-lookup"><span data-stu-id="40725-175">Create a service that queries all partitions of another service toopull in hello required data.</span></span>
- <span data-ttu-id="40725-176">Creare un servizio che possa ricevere dati da tutte le partizioni di un altro servizio.</span><span class="sxs-lookup"><span data-stu-id="40725-176">Create a service that can receive data from all partitions of another service.</span></span>
- <span data-ttu-id="40725-177">Periodicamente il push dei dati dall'archivio esterno di tooan ogni servizio.</span><span class="sxs-lookup"><span data-stu-id="40725-177">Periodically push data from each service tooan external store.</span></span> <span data-ttu-id="40725-178">Questo approccio è appropriato se stai eseguendo query di hello non fanno parte della logica di business principale.</span><span class="sxs-lookup"><span data-stu-id="40725-178">This approach is only appropriate if hello queries you're performing are not part of your core business logic.</span></span>


### <a name="whats-hello-best-way-tooquery-data-across-my-actors"></a><span data-ttu-id="40725-179">Che cos'è dati tooquery modo migliori di hello in my attori?</span><span class="sxs-lookup"><span data-stu-id="40725-179">What's hello best way tooquery data across my actors?</span></span>

<span data-ttu-id="40725-180">Gli attori sono progettate toobe unità indipendenti dello stato e calcolo, pertanto non è consigliabile tooperform ampie query dello stato actor in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="40725-180">Actors are designed toobe independent units of state and compute, so it is not recommended tooperform broad queries of actor state at runtime.</span></span> <span data-ttu-id="40725-181">Se si dispone di un tooquery necessario tra il set completo di hello dello stato dell'actor, considerare uno:</span><span class="sxs-lookup"><span data-stu-id="40725-181">If you have a need tooquery across hello full set of actor state, you should consider either:</span></span>

- <span data-ttu-id="40725-182">Sostituendo i servizi actor con i servizi reliable con stati, in modo che il numero di hello di rete richieste toogather tutti i dati da hello numero attori toohello di partizioni nel servizio.</span><span class="sxs-lookup"><span data-stu-id="40725-182">Replacing your actor services with stateful reliable services, such that hello number of network requests toogather all data from hello number of actors toohello number of partitions in your service.</span></span>
- <span data-ttu-id="40725-183">Progettazione al push tooperiodically attori relativo archivio esterno tooan di stato per le query più semplice.</span><span class="sxs-lookup"><span data-stu-id="40725-183">Designing your actors tooperiodically push their state tooan external store for easier querying.</span></span> <span data-ttu-id="40725-184">Come in precedenza, questo approccio è realizzabile solo se si sta eseguendo query di hello non sono necessari per il comportamento di runtime.</span><span class="sxs-lookup"><span data-stu-id="40725-184">As above, this approach is only viable if hello queries you're performing are not required for your runtime behavior.</span></span>

### <a name="how-much-data-can-i-store-in-a-reliable-collection"></a><span data-ttu-id="40725-185">Quanti dai è possibile archiviare in una raccolta Reliable Collections?</span><span class="sxs-lookup"><span data-stu-id="40725-185">How much data can I store in a Reliable Collection?</span></span>

<span data-ttu-id="40725-186">Servizi affidabili sono in genere partizionati, in modo quantità hello che è possibile archiviare è limitato solo dalle hello numero dei computer che sono presenti cluster hello e quantità hello di memoria disponibile in tali computer.</span><span class="sxs-lookup"><span data-stu-id="40725-186">Reliable services are typically partitioned, so hello amount you can store is only limited by hello number of machines you have in hello cluster, and hello amount of memory available on those machines.</span></span>

<span data-ttu-id="40725-187">Ad esempio, si supponga di avere una raccolta Reliable Collections in un servizio con 100 partizioni e 3 replica, con archiviati oggetti di dimensioni pari a 1 KB di media.</span><span class="sxs-lookup"><span data-stu-id="40725-187">As an example, suppose that you have a reliable collection in a service with 100 partitions and 3 replicas, storing objects that average 1kb in size.</span></span> <span data-ttu-id="40725-188">Si supponga quindi di disporre di un cluster di 10 macchine con 16 GB di memoria per macchina.</span><span class="sxs-lookup"><span data-stu-id="40725-188">Now suppose that you have a 10 machine cluster with 16gb of memory per machine.</span></span> <span data-ttu-id="40725-189">Per semplicità e toobe molto conservativa, si supponga che hello del sistema operativo e i servizi di sistema, il runtime di Service Fabric hello e i servizi utilizzano 6gb di che, se si lascia 10gb disponibili per ogni computer, o 100gb per i cluster di hello.</span><span class="sxs-lookup"><span data-stu-id="40725-189">For simplicity and toobe very conservative, assume that hello operating system and system services, hello Service Fabric runtime, and your services consume 6gb of that, leaving 10gb available per machine, or 100gb for hello cluster.</span></span>

<span data-ttu-id="40725-190">Tenendo presente che ciascun oggetto deve essere archiviato tre volte (una primaria e due repliche), si avrà una memoria sufficiente per circa 35 milioni di oggetti nella raccolta, con funzionamento a piena capacità.</span><span class="sxs-lookup"><span data-stu-id="40725-190">Keeping in mind that each object must be stored three times (one primary and two replicas), you would have sufficient memory for approximately 35 million objects in your collection when operating at full capacity.</span></span> <span data-ttu-id="40725-191">Tuttavia, è consigliabile essere resilienti toohello perdita simultaneo di un dominio di errore e un dominio di aggiornamento, che rappresenta circa 1/3 della capacità e consentirebbe di ridurre tooroughly numero hello 23 milioni.</span><span class="sxs-lookup"><span data-stu-id="40725-191">However, we recommend being resilient toohello simultaneous loss of a failure domain and an upgrade domain, which represents about 1/3 of capacity, and would reduce hello number tooroughly 23 million.</span></span>

<span data-ttu-id="40725-192">Si noti che questo calcolo presuppone inoltre:</span><span class="sxs-lookup"><span data-stu-id="40725-192">Note that this calculation also assumes:</span></span>

- <span data-ttu-id="40725-193">Tale distribuzione hello dei dati tra partizioni hello è approssimativamente uniforme o che si sta segnalando carico metriche toohello gestione delle risorse Cluster.</span><span class="sxs-lookup"><span data-stu-id="40725-193">That hello distribution of data across hello partitions is roughly uniform or that you're reporting load metrics toohello Cluster Resource Manager.</span></span> <span data-ttu-id="40725-194">Per impostazione predefinita, Service Fabric bilancia il carico in base al numero di repliche.</span><span class="sxs-lookup"><span data-stu-id="40725-194">By default, Service Fabric will load balance based on replica count.</span></span> <span data-ttu-id="40725-195">Nell'esempio precedente, che dovrà inserire 10 repliche primarie e secondarie 20 su ogni nodo nel cluster hello.</span><span class="sxs-lookup"><span data-stu-id="40725-195">In our example above, that would put 10 primary replicas and 20 secondary replicas on each node in hello cluster.</span></span> <span data-ttu-id="40725-196">Che funziona bene per un carico viene distribuito uniformemente tra le partizioni di hello.</span><span class="sxs-lookup"><span data-stu-id="40725-196">That works well for load that is evenly distributed across hello partitions.</span></span> <span data-ttu-id="40725-197">Se il carico non è in realtà, deve segnalare carico hello Gestione risorse può pack insieme le repliche più piccole e consentire più grande tooconsume repliche maggiore quantità di memoria di un singolo nodo.</span><span class="sxs-lookup"><span data-stu-id="40725-197">If load is not even, you must report load so that hello Resource Manager can pack smaller replicas together and allow larger replicas tooconsume more memory on an individual node.</span></span>

- <span data-ttu-id="40725-198">Servizio affidabile hello in questione è solo uno stato archiviazione hello cluster hello.</span><span class="sxs-lookup"><span data-stu-id="40725-198">That hello reliable service in question is hello only one storing state in hello cluster.</span></span> <span data-ttu-id="40725-199">Poiché è possibile distribuire cluster tooa a più servizi, è necessario toobe attenzione risorse hello che ognuno sarà anche necessario toorun e gestire il proprio stato.</span><span class="sxs-lookup"><span data-stu-id="40725-199">Since you can deploy multiple services tooa cluster, you need toobe mindful of hello resources that each will need toorun and manage its state.</span></span>

- <span data-ttu-id="40725-200">Tale cluster hello stesso non stia aumentando o la compattazione.</span><span class="sxs-lookup"><span data-stu-id="40725-200">That hello cluster itself is not growing or shrinking.</span></span> <span data-ttu-id="40725-201">Se si aggiungono altre macchine, Service Fabric verrà ribilanciare la capacità di repliche tooleverage hello aggiuntive fino a quando non numero hello di macchine supera il numero di hello di partizioni nel servizio, poiché non può estendersi a una replica di singole macchine.</span><span class="sxs-lookup"><span data-stu-id="40725-201">If you add more machines, Service Fabric will rebalance your replicas tooleverage hello additional capacity until hello number of machines surpasses hello number of partitions in your service, since an individual replica cannot span machines.</span></span> <span data-ttu-id="40725-202">Al contrario, se si riducono le dimensioni di hello del cluster di hello rimuovendo le macchine, le repliche verranno compressa più rigoroso di minore capacità globale.</span><span class="sxs-lookup"><span data-stu-id="40725-202">By contrast, if you reduce hello size of hello cluster by removing machines, your replicas will be packed more tightly and have less overall capacity.</span></span>

### <a name="how-much-data-can-i-store-in-an-actor"></a><span data-ttu-id="40725-203">Quanti dati è possibile archiviare in un attore?</span><span class="sxs-lookup"><span data-stu-id="40725-203">How much data can I store in an actor?</span></span>

<span data-ttu-id="40725-204">Come per i servizi affidabili, quantità hello di dati che è possibile archiviare in un servizio actor è limitato solo dalle hello spazio totale su disco e memoria disponibile tra i nodi del cluster hello.</span><span class="sxs-lookup"><span data-stu-id="40725-204">As with reliable services, hello amount of data that you can store in an actor service is only limited by hello total disk space and memory available across hello nodes in your cluster.</span></span> <span data-ttu-id="40725-205">Tuttavia, singoli soggetti risultano più efficaci quando vengono utilizzati tooencapsulate una piccola quantità di logica di business associati e stato.</span><span class="sxs-lookup"><span data-stu-id="40725-205">However, individual actors are most effective when they are used tooencapsulate a small amount of state and associated business logic.</span></span> <span data-ttu-id="40725-206">Come regola generale, un singolo attore dovrebbe avere uno stato misurabile in kilobyte.</span><span class="sxs-lookup"><span data-stu-id="40725-206">As a general rule, an individual actor should have state that is measured in kilobytes.</span></span>

## <a name="other-questions"></a><span data-ttu-id="40725-207">Altre domande</span><span class="sxs-lookup"><span data-stu-id="40725-207">Other questions</span></span>

### <a name="how-does-service-fabric-relate-toocontainers"></a><span data-ttu-id="40725-208">Correlazione di toocontainers Service Fabric</span><span class="sxs-lookup"><span data-stu-id="40725-208">How does Service Fabric relate toocontainers?</span></span>

<span data-ttu-id="40725-209">I contenitori offrono un modo semplice toopackage services e le relative dipendenze in modo che possano eseguire in modo coerente in tutti gli ambienti e può funzionare in modo isolato su un singolo computer.</span><span class="sxs-lookup"><span data-stu-id="40725-209">Containers offer a simple way toopackage services and their dependencies such that they run consistently in all environments and can operate in an isolated fashion on a single machine.</span></span> <span data-ttu-id="40725-210">Service Fabric offre un modo toodeploy e gestione dei servizi, tra cui [servizi che sono state incluse in un contenitore](service-fabric-containers-overview.md).</span><span class="sxs-lookup"><span data-stu-id="40725-210">Service Fabric offers a way toodeploy and manage services, including [services that have been packaged in a container](service-fabric-containers-overview.md).</span></span>

### <a name="are-you-planning-tooopen-source-service-fabric"></a><span data-ttu-id="40725-211">Se si sta pianificando origine tooopen Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="40725-211">Are you planning tooopen source Service Fabric?</span></span>

<span data-ttu-id="40725-212">Si prevede servizi affidabili di tooopen origine hello e altri framework attori affidabile su GitHub e accetteranno i progetti di toothose i contributi della community.</span><span class="sxs-lookup"><span data-stu-id="40725-212">We intend tooopen source hello reliable services and reliable actors frameworks on GitHub and will accept community contributions toothose projects.</span></span> <span data-ttu-id="40725-213">Segui hello [blog Service Fabric](https://blogs.msdn.microsoft.com/azureservicefabric/) per altri dettagli come sta annunciati.</span><span class="sxs-lookup"><span data-stu-id="40725-213">Please follow hello [Service Fabric blog](https://blogs.msdn.microsoft.com/azureservicefabric/) for more details as they're announced.</span></span>

<span data-ttu-id="40725-214">Hello non sono attualmente alcuna fase di esecuzione di piani tooopen origine hello Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="40725-214">hello are currently no plans tooopen source hello Service Fabric runtime.</span></span>

## <a name="next-steps"></a><span data-ttu-id="40725-215">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="40725-215">Next steps</span></span>

- [<span data-ttu-id="40725-216">Informazioni sui concetti chiave e sulle procedure consigliate di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="40725-216">Learn about core Service Fabric concepts and best practices</span></span>](https://mva.microsoft.com/en-us/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tbuZM46yC_5206218965)
