---
title: Uso della rete CDN di Azure per accedere a BLOB con domini personalizzati tramite HTTPS
description: Informazioni su come integrare la rete CDN di Azure con l'archiviazione BLOB per accedere a BLOB con domini personalizzati tramite HTTPS
services: storage
documentationcenter: 
author: michaelhauss
manager: vamshik
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: mihauss
ms.openlocfilehash: 6bad04df324a374f6e8473890345cf516322abd6
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="using-the-azure-cdn-to-access-blobs-with-custom-domains-over-https"></a><span data-ttu-id="d3ee7-103">Uso della rete CDN di Azure per accedere a BLOB con domini personalizzati tramite HTTPS</span><span class="sxs-lookup"><span data-stu-id="d3ee7-103">Using the Azure CDN to access blobs with custom domains over HTTPS</span></span>

<span data-ttu-id="d3ee7-104">La rete per la distribuzione di contenuti (rete CDN) di Azure supporta ora HTTPS per i nomi di dominio personalizzati.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-104">Azure Content Delivery Network (CDN) now supports HTTPS for custom domain names.</span></span>
<span data-ttu-id="d3ee7-105">È possibile sfruttare questa funzionalità per accedere ai BLOB di archiviazione usando il dominio personalizzato tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-105">You can leverage this feature to access storage blobs using your custom domain over HTTPS.</span></span> <span data-ttu-id="d3ee7-106">A questo scopo, è innanzitutto necessario abilitare la rete CDN di Azure nell'endpoint BLOB ed eseguire il mapping della rete CDN a un nome di dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-106">To do so, you’ll first need to enable Azure CDN on your blob endpoint and map the CDN to a custom domain name.</span></span> <span data-ttu-id="d3ee7-107">Dopo aver completato questi passaggi, l'uso di HTTPS per il dominio personalizzato risulta semplificato grazie all'abilitazione con un solo clic e alla gestione completa dei certificati, il tutto senza costi aggiuntivi rispetto ai normali prezzi della rete CDN.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-107">Once you take these steps, enabling HTTPS for your custom domain is simplified via one-click enablement, complete certificate management, and all with no additional cost to normal CDN pricing.</span></span>

<span data-ttu-id="d3ee7-108">Questa opportunità è importante perché permette di proteggere la privacy e l'integrità dei dati sensibili in transito dell'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-108">This ability is important because it enables you to protect the privacy and data integrity of your sensitive web application data while in transit.</span></span> <span data-ttu-id="d3ee7-109">L'uso del protocollo SSL per gestire il traffico tramite HTTPS garantisce la crittografia dei dati inviati su Internet.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-109">Using the SSL protocol to serve traffic via HTTPS ensures that data is encrypted when it is sent across the internet.</span></span> <span data-ttu-id="d3ee7-110">HTTPS garantisce attendibilità e autenticazione e protegge le applicazioni Web dagli attacchi.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-110">HTTPS provides trust and authentication, and protects your web applications from attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="d3ee7-111">Oltre a fornire il supporto SSL per i nomi di dominio personalizzati, la rete CDN di Azure semplifica il ridimensionamento dell'applicazione per distribuire contenuto con esigenze di larghezza di banda elevata in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-111">In addition to providing SSL support for custom domain names, the Azure CDN can help you scale your application to deliver high-bandwidth content around the world.</span></span>
> <span data-ttu-id="d3ee7-112">Per altre informazioni, vedere [Panoramica della rete per la distribuzione di contenuti (rete CDN) di Azure](../../cdn/cdn-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-112">To learn more, check out [Overview of the Azure CDN](../../cdn/cdn-overview.md).</span></span>
>
>

## <a name="quick-start"></a><span data-ttu-id="d3ee7-113">Avvio rapido</span><span class="sxs-lookup"><span data-stu-id="d3ee7-113">Quick start</span></span>

<span data-ttu-id="d3ee7-114">Questi sono i passaggi necessari per abilitare HTTPS per l'endpoint di archiviazione BLOB personalizzato:</span><span class="sxs-lookup"><span data-stu-id="d3ee7-114">These are the steps required to enable HTTPS for your custom blob storage endpoint:</span></span>

1.  <span data-ttu-id="d3ee7-115">[Integrare un account di archiviazione di Azure con la rete CDN di Azure](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-115">[Integrate an Azure storage account with Azure CDN](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span></span>
    <span data-ttu-id="d3ee7-116">Questo articolo contiene informazioni dettagliate sulla creazione di un account di archiviazione nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-116">This article walks you through creating a storage account in the Azure Portal if you have not done so already.</span></span>
2.  <span data-ttu-id="d3ee7-117">[Eseguire il mapping del contenuto della rete CDN a un dominio personalizzato](../../cdn/cdn-map-content-to-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-117">[Map Azure CDN content to a custom domain](../../cdn/cdn-map-content-to-custom-domain.md).</span></span>
3.  <span data-ttu-id="d3ee7-118">[Abilitare HTTPS in un dominio personalizzato della rete CDN di Azure](../../cdn/cdn-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-118">[Enable HTTPS on an Azure CDN custom domain](../../cdn/cdn-custom-ssl.md).</span></span>

## <a name="shared-access-signatures"></a><span data-ttu-id="d3ee7-119">Firme di accesso condiviso</span><span class="sxs-lookup"><span data-stu-id="d3ee7-119">Shared Access Signatures</span></span>

<span data-ttu-id="d3ee7-120">Se l'endpoint di archiviazione BLOB è configurato per non consentire l'accesso anonimo in lettura, sarà necessario fornire un token di [firma di accesso condiviso](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) in ogni richiesta effettuata al dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-120">If your blob storage endpoint is configured to disallow anonymous read access, you will need to provide a [Shared Access Signature (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) token in each request you make to your custom domain.</span></span> <span data-ttu-id="d3ee7-121">Per impostazione predefinita, gli endpoint di archiviazione BLOB non consentono l'accesso anonimo in lettura.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-121">By default, blob storage endpoints disallow anonymous read access.</span></span> <span data-ttu-id="d3ee7-122">Per altre informazioni sulle firme di accesso condiviso, vedere [Gestire l'accesso anonimo in lettura a contenitori e BLOB](storage-manage-access-to-resources.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-122">See [Managing anonymous read access to containers and blobs](storage-manage-access-to-resources.md) for more information on shared access signatures.</span></span>

<span data-ttu-id="d3ee7-123">La rete CDN di Azure non rispetta le eventuali restrizioni aggiunte al token di firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-123">Azure CDN does not respect any restrictions added to the SAS token.</span></span> <span data-ttu-id="d3ee7-124">Ad esempio, tutti i token di firma di accesso condiviso hanno una data di scadenza.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-124">For example, all SAS tokens have an expiration time.</span></span> <span data-ttu-id="d3ee7-125">Questo significa che è comunque possibile accedere al contenuto con una firma di accesso condiviso scaduta fino a quando il contenuto non viene eliminato dai nodi perimetrali della rete CDN.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-125">This means that content can still be accessed with an expired SAS until that content is purged from the CDN edge nodes.</span></span> <span data-ttu-id="d3ee7-126">È possibile controllare l'intervallo di tempo per cui i dati vengono memorizzati nella cache nella rete CDN impostando l'intestazione della risposta della cache.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-126">You can control how long data is cached on the CDN by setting the cache response header.</span></span> <span data-ttu-id="d3ee7-127">Per istruzioni, vedere [Gestire la scadenza dei BLOB di archiviazione di Azure nella rete CDN di Azure](../../cdn/cdn-manage-expiration-of-blob-content.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-127">See [Managing expiration of Azure Storage blobs in Azure CDN](../../cdn/cdn-manage-expiration-of-blob-content.md) for instructions.</span></span>

<span data-ttu-id="d3ee7-128">Se si creano più URL di firma di accesso condiviso per lo stesso endpoint BLOB, è consigliabile attivare la memorizzazione nella cache delle stringhe di query per la rete CDN di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-128">If you create multiple SAS URLs for the same blob endpoint, we recommend turning on query string caching for your Azure CDN.</span></span> <span data-ttu-id="d3ee7-129">In questo modo, ogni URL verrà considerato un'entità univoca.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-129">This is to ensure that each URL is treated as a unique entity.</span></span> <span data-ttu-id="d3ee7-130">Per altre informazioni, vedere [Controllare il comportamento di memorizzazione nella cache della rete CDN di Azure con stringhe di query](../../cdn/cdn-query-string.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-130">See [Controlling Azure CDN caching behavior with query strings](../../cdn/cdn-query-string.md) for more information.</span></span>

## <a name="http-to-https-redirection"></a><span data-ttu-id="d3ee7-131">Reindirizzamento del traffico HTTP a HTTPS</span><span class="sxs-lookup"><span data-stu-id="d3ee7-131">HTTP to HTTPS redirection</span></span>

<span data-ttu-id="d3ee7-132">È possibile scegliere di reindirizzare il traffico HTTP a HTTPS.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-132">You can elect to redirect HTTP traffic to HTTPS.</span></span> <span data-ttu-id="d3ee7-133">A questo scopo, è necessario usare il livello Premium della rete CDN di Azure offerto da Verizon.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-133">This requires use of the Azure CDN premium offering from Verizon.</span></span> <span data-ttu-id="d3ee7-134">È necessario [eseguire l'override del comportamento HTTP con il motore regole della rete CDN di Azure](../../cdn/cdn-rules-engine.md) con la regola seguente:</span><span class="sxs-lookup"><span data-stu-id="d3ee7-134">You need to [Override HTTP behavior using the Azure CDN rules engine](../../cdn/cdn-rules-engine.md) with the following rule:</span></span>

![](./media/storage-https-custom-domain-cdn/redirect-to-https.png)

<span data-ttu-id="d3ee7-135">"nome-endpoint-CDN" fa riferimento al nome configurato per l'endpoint della rete CDN.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-135">“Cdn-endpoint-name” refers to the name that you configured for your CDN endpoint.</span></span> <span data-ttu-id="d3ee7-136">È possibile selezionare questo valore nell'elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-136">You can select this value from the dropdown.</span></span> <span data-ttu-id="d3ee7-137">"percorso-origine" fa riferimento al percorso all'interno dell'account di archiviazione di origine in cui si trova il contenuto statico.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-137">“Origin-path” refers to the path within your origin storage account where your static content resides.</span></span>
<span data-ttu-id="d3ee7-138">Se si ospita tutto il contenuto statico in un singolo contenitore, sostituire "percorso-origine" con il nome del contenitore.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-138">If you are hosting all static content in a single container, replace “origin-path” with the name of that container.</span></span>

<span data-ttu-id="d3ee7-139">Per un approfondimento delle regole, vedere [Funzionalità del motore regole della rete CDN di Azure](../../cdn/cdn-rules-engine-reference-features.md).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-139">For a deeper dive into rules, please see the [Azure CDN rules engine features](../../cdn/cdn-rules-engine-reference-features.md).</span></span>

## <a name="pricing-and-billing"></a><span data-ttu-id="d3ee7-140">Prezzi e fatturazione</span><span class="sxs-lookup"><span data-stu-id="d3ee7-140">Pricing and billing</span></span>

<span data-ttu-id="d3ee7-141">Quando si accede ai BLOB tramite una rete CDN di Azure, vengono applicati i [prezzi dell'archiviazione BLOB](https://azure.microsoft.com/pricing/details/storage/blobs/) per il traffico tra i nodi perimetrali e l'origine (archiviazione BLOB) e i [prezzi della rete CDN](https://azure.microsoft.com/pricing/details/cdn/) per l'accesso ai dati dai nodi perimetrali.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-141">When you access blobs through an Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between the edge nodes and the origin (Blob storage), and [CDN prices](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from the edge nodes.</span></span>

<span data-ttu-id="d3ee7-142">Si supponga, ad esempio, un account di archiviazione negli Stati Uniti occidentali cui si accede con una rete CDN di Azure.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-142">For example, say you have a storage account in West US that is being accessed using an Azure CDN.</span></span> <span data-ttu-id="d3ee7-143">Se qualcuno in Regno Unito tenta di accedere a uno dei BLOB nell'account di archiviazione tramite la rete CDN, Azure controlla prima di tutto il nodo perimetrale più vicino al Regno Unito per il BLOB.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-143">If someone in the UK tries to access one of the blobs in that storage account via the CDN, Azure first checks the edge node closest to the UK for that blob.</span></span> <span data-ttu-id="d3ee7-144">Se lo trova, accede a questa copia del BLOB e applica i prezzi della rete CDN, perché l'accesso viene effettuato nella rete CDN.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-144">If found, it accesses that copy of the blob and will use CDN pricing, because it is being accessed on the CDN.</span></span> <span data-ttu-id="d3ee7-145">In caso contrario, Azure copia il BLOB nel nodo perimetrale, applicando costi di uscita e transazione in base ai prezzi di archiviazione BLOB, e quindi accede al file nel nodo perimetrale, generando la fatturazione della rete CDN.</span><span class="sxs-lookup"><span data-stu-id="d3ee7-145">If not found, Azure will copy the blob to the edge node, which will result in egress and transaction charges as specified in the Blob storage pricing, and then access the file on the edge node, which will result in CDN billing.</span></span>

<span data-ttu-id="d3ee7-146">Nel consultare la [pagina dei prezzi delle rete CDN](https://azure.microsoft.com/pricing/details/cdn/), tenere presente che il supporto HTTPS per i nomi di dominio personalizzati è disponibile solo per la rete CDN tramite prodotti Verizon (Standard e Premium).</span><span class="sxs-lookup"><span data-stu-id="d3ee7-146">When looking at the [CDN pricing page](https://azure.microsoft.com/pricing/details/cdn/), note that HTTPS support for custom domain names is only available for Azure CDN from Verizon products (Standard and Premium).</span></span>

## <a name="next-steps"></a><span data-ttu-id="d3ee7-147">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="d3ee7-147">Next steps</span></span>

[<span data-ttu-id="d3ee7-148">Configurare un nome di dominio completo per l'endpoint di archiviazione BLOB</span><span class="sxs-lookup"><span data-stu-id="d3ee7-148">Configure a custom domain name for your Blob storage endpoint</span></span>](storage-custom-domain-name.md)
