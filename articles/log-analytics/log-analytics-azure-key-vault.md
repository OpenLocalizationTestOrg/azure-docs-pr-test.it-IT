---
title: soluzione di insieme di credenziali chiave nel registro Analitica aaaAzure | Documenti Microsoft
description: "È possibile utilizzare soluzioni insieme credenziali chiavi Azure hello in tooreview Analitica Log che registra insieme credenziali chiavi Azure."
services: log-analytics
documentationcenter: 
author: richrundmsft
manager: jochan
editor: 
ms.assetid: 5e25e6d6-dd20-4528-9820-6e2958a40dae
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/09/2017
ms.author: richrund
ms.openlocfilehash: 1c6eae26ded7ad55b0159a3be09cdc9901596298
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-key-vault-analytics-solution-in-log-analytics"></a><span data-ttu-id="ead71-103">Soluzione di Azure Key Vault Analytics in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="ead71-103">Azure Key Vault Analytics solution in Log Analytics</span></span>

![Simbolo di Key Vault](./media/log-analytics-azure-keyvault/key-vault-analytics-symbol.png)

<span data-ttu-id="ead71-105">È possibile utilizzare soluzioni insieme credenziali chiavi Azure hello in tooreview Analitica Log che registra AuditEvent insieme di credenziali chiave di Azure.</span><span class="sxs-lookup"><span data-stu-id="ead71-105">You can use hello Azure Key Vault solution in Log Analytics tooreview Azure Key Vault AuditEvent logs.</span></span>

<span data-ttu-id="ead71-106">soluzione hello toouse, è necessario tooenable registrazione di diagnostica Azure insieme di credenziali chiave e dell'area di lavoro di hello diretto diagnostica tooa Analitica di Log.</span><span class="sxs-lookup"><span data-stu-id="ead71-106">toouse hello solution, you need tooenable logging of Azure Key Vault diagnostics and direct hello diagnostics tooa Log Analytics workspace.</span></span> <span data-ttu-id="ead71-107">Non è necessario toowrite nell'archiviazione Blob tooAzure hello registri.</span><span class="sxs-lookup"><span data-stu-id="ead71-107">It is not necessary toowrite hello logs tooAzure Blob storage.</span></span>

> [!NOTE]
> <span data-ttu-id="ead71-108">Nel gennaio January 2017, hello supportate consentono di inviare i log dall'insieme di credenziali chiave tooLog che Analitica modificato.</span><span class="sxs-lookup"><span data-stu-id="ead71-108">In January 2017, hello supported way of sending logs from Key Vault tooLog Analytics changed.</span></span> <span data-ttu-id="ead71-109">Mostra se soluzione insieme di credenziali chiave hello utilizza *(obsoleto)* nel titolo hello, fare riferimento troppo[la migrazione da una soluzione di insieme di credenziali chiave precedente hello](#migrating-from-the-old-key-vault-solution) per la procedura è necessario toofollow.</span><span class="sxs-lookup"><span data-stu-id="ead71-109">If hello Key Vault solution you are using shows *(deprecated)* in hello title, refer too[migrating from hello old Key Vault solution](#migrating-from-the-old-key-vault-solution) for steps you need toofollow.</span></span>
>
>

## <a name="install-and-configure-hello-solution"></a><span data-ttu-id="ead71-110">Installare e configurare la soluzione hello</span><span class="sxs-lookup"><span data-stu-id="ead71-110">Install and configure hello solution</span></span>
<span data-ttu-id="ead71-111">Utilizzare hello seguendo le istruzioni tooinstall e configurare la soluzione insieme credenziali chiavi Azure hello:</span><span class="sxs-lookup"><span data-stu-id="ead71-111">Use hello following instructions tooinstall and configure hello Azure Key Vault solution:</span></span>

1. <span data-ttu-id="ead71-112">Abilitare soluzioni insieme credenziali chiavi Azure hello [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview) o tramite il processo di hello descritto in [soluzioni aggiungere Log Analitica da hello Solutions Gallery](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="ead71-112">Enable hello Azure Key Vault solution from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview) or by using hello process described in [Add Log Analytics solutions from hello Solutions Gallery](log-analytics-add-solutions.md).</span></span>
2. <span data-ttu-id="ead71-113">Abilitare la diagnostica per toomonitor risorse di hello insieme di credenziali chiave di registrazione, utilizzando entrambi hello [portale](#enable-key-vault-diagnostics-in-the-portal) o [PowerShell](#enable-key-vault-diagnostics-using-powershell)</span><span class="sxs-lookup"><span data-stu-id="ead71-113">Enable diagnostics logging for hello Key Vault resources toomonitor, using either hello [portal](#enable-key-vault-diagnostics-in-the-portal) or [PowerShell](#enable-key-vault-diagnostics-using-powershell)</span></span>

### <a name="enable-key-vault-diagnostics-in-hello-portal"></a><span data-ttu-id="ead71-114">Abilitare la diagnostica di insieme di credenziali chiave nel portale di hello</span><span class="sxs-lookup"><span data-stu-id="ead71-114">Enable Key Vault diagnostics in hello portal</span></span>

1. <span data-ttu-id="ead71-115">Nel portale di Azure hello, spostarsi toohello insieme di credenziali chiave risorsa toomonitor</span><span class="sxs-lookup"><span data-stu-id="ead71-115">In hello Azure portal, navigate toohello Key Vault resource toomonitor</span></span>
2. <span data-ttu-id="ead71-116">Selezionare *log di diagnostica* hello tooopen dopo</span><span class="sxs-lookup"><span data-stu-id="ead71-116">Select *Diagnostics logs* tooopen hello following page</span></span>

   ![Immagine del riquadro Insieme di credenziali delle chiavi di Azure](./media/log-analytics-azure-keyvault/log-analytics-keyvault-enable-diagnostics01.png)
3. <span data-ttu-id="ead71-118">Fare clic su *attivare la diagnostica* hello tooopen dopo</span><span class="sxs-lookup"><span data-stu-id="ead71-118">Click *Turn on diagnostics* tooopen hello following page</span></span>

   ![Immagine del riquadro Insieme di credenziali delle chiavi di Azure](./media/log-analytics-azure-keyvault/log-analytics-keyvault-enable-diagnostics02.png)
4. <span data-ttu-id="ead71-120">tooturn sulla diagnostica, fare clic su *su* in *stato*</span><span class="sxs-lookup"><span data-stu-id="ead71-120">tooturn on diagnostics, click *On* under *Status*</span></span>
5. <span data-ttu-id="ead71-121">Fare clic sulla casella di controllo hello *inviare tooLog Analitica*</span><span class="sxs-lookup"><span data-stu-id="ead71-121">Click hello checkbox for *Send tooLog Analytics*</span></span>
6. <span data-ttu-id="ead71-122">Selezionare un'area di lavoro Log Analytics esistente o creare una</span><span class="sxs-lookup"><span data-stu-id="ead71-122">Select an existing Log Analytics workspace, or create a workspace</span></span>
7. <span data-ttu-id="ead71-123">tooenable *AuditEvent* log, fare clic su casella di controllo hello in Log</span><span class="sxs-lookup"><span data-stu-id="ead71-123">tooenable *AuditEvent* logs, click hello checkbox under Log</span></span>
8. <span data-ttu-id="ead71-124">Fare clic su *salvare* registrazione hello tooenable di diagnostica tooLog Analitica</span><span class="sxs-lookup"><span data-stu-id="ead71-124">Click *Save* tooenable hello logging of diagnostics tooLog Analytics</span></span>

### <a name="enable-key-vault-diagnostics-using-powershell"></a><span data-ttu-id="ead71-125">Abilitare la diagnostica di Key Vault utilizzando PowerShell</span><span class="sxs-lookup"><span data-stu-id="ead71-125">Enable Key Vault diagnostics using PowerShell</span></span>
<span data-ttu-id="ead71-126">Hello lo script di PowerShell seguente viene fornito un esempio di come toouse `Set-AzureRmDiagnosticSetting` tooenable registrazione diagnostica per l'insieme di credenziali chiave:</span><span class="sxs-lookup"><span data-stu-id="ead71-126">hello following PowerShell script provides an example of how toouse `Set-AzureRmDiagnosticSetting` tooenable diagnostic logging for Key Vault:</span></span>
```
$workspaceId = "/subscriptions/d2e37fee-1234-40b2-5678-0b2199de3b50/resourcegroups/oi-default-east-us/providers/microsoft.operationalinsights/workspaces/rollingbaskets"

$kv = Get-AzureRmKeyVault -VaultName 'ContosoKeyVault'

Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId  -WorkspaceId $workspaceId -Enabled $true
```



## <a name="review-azure-key-vault-data-collection-details"></a><span data-ttu-id="ead71-127">Esaminare i dettagli della raccolta di dati dell'Insieme di credenziali delle chiavi di Azure</span><span class="sxs-lookup"><span data-stu-id="ead71-127">Review Azure Key Vault data collection details</span></span>
<span data-ttu-id="ead71-128">Soluzione insieme di credenziali chiave di Azure raccoglie i log di diagnostica direttamente da hello insieme di credenziali chiave.</span><span class="sxs-lookup"><span data-stu-id="ead71-128">Azure Key Vault solution collects diagnostics logs directly from hello Key Vault.</span></span>
<span data-ttu-id="ead71-129">Non è necessario toowrite hello registri tooAzure nell'archiviazione Blob e non è richiesto per la raccolta dati.</span><span class="sxs-lookup"><span data-stu-id="ead71-129">It is not necessary toowrite hello logs tooAzure Blob storage and no agent is required for data collection.</span></span>

<span data-ttu-id="ead71-130">Hello nella tabella seguente illustra i metodi di raccolta dati e altri dettagli sulla modalità di raccolta dati per insieme credenziali chiavi Azure.</span><span class="sxs-lookup"><span data-stu-id="ead71-130">hello following table shows data collection methods and other details about how data is collected for Azure Key Vault.</span></span>

| <span data-ttu-id="ead71-131">Piattaforma</span><span class="sxs-lookup"><span data-stu-id="ead71-131">Platform</span></span> | <span data-ttu-id="ead71-132">Agente diretto</span><span class="sxs-lookup"><span data-stu-id="ead71-132">Direct agent</span></span> | <span data-ttu-id="ead71-133">Agente di Systems Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="ead71-133">Systems Center Operations Manager agent</span></span> | <span data-ttu-id="ead71-134">Azure</span><span class="sxs-lookup"><span data-stu-id="ead71-134">Azure</span></span> | <span data-ttu-id="ead71-135">È necessario Operations Manager?</span><span class="sxs-lookup"><span data-stu-id="ead71-135">Operations Manager required?</span></span> | <span data-ttu-id="ead71-136">Dati dell'agente Operations Manager inviati con il gruppo di gestione</span><span class="sxs-lookup"><span data-stu-id="ead71-136">Operations Manager agent data sent via management group</span></span> | <span data-ttu-id="ead71-137">Frequenza della raccolta</span><span class="sxs-lookup"><span data-stu-id="ead71-137">Collection frequency</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="ead71-138">Azure</span><span class="sxs-lookup"><span data-stu-id="ead71-138">Azure</span></span> |  |  |<span data-ttu-id="ead71-139">&#8226;</span><span class="sxs-lookup"><span data-stu-id="ead71-139">&#8226;</span></span> |  |  | <span data-ttu-id="ead71-140">all'arrivo</span><span class="sxs-lookup"><span data-stu-id="ead71-140">on arrival</span></span> |

## <a name="use-azure-key-vault"></a><span data-ttu-id="ead71-141">Usare l'Insieme di credenziali delle chiavi di Azure</span><span class="sxs-lookup"><span data-stu-id="ead71-141">Use Azure Key Vault</span></span>
<span data-ttu-id="ead71-142">Dopo aver [installare la soluzione hello](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview), visualizzare i dati di insieme di credenziali chiave hello facendo hello **insieme credenziali chiavi Azure** riquadro da hello **Panoramica** pagina del Log Analitica.</span><span class="sxs-lookup"><span data-stu-id="ead71-142">After you [install hello solution](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview), view hello Key Vault data by clicking hello **Azure Key Vault** tile from hello **Overview** page of Log Analytics.</span></span>

![Immagine del riquadro Insieme di credenziali delle chiavi di Azure](./media/log-analytics-azure-keyvault/log-analytics-keyvault-tile.png)

<span data-ttu-id="ead71-144">Dopo aver fatto clic hello **Panoramica** riquadro, è possibile visualizzare i riepiloghi dei log e quindi drill in toodetails per hello seguenti categorie:</span><span class="sxs-lookup"><span data-stu-id="ead71-144">After you click hello **Overview** tile, you can view summaries of your logs and then drill in toodetails for hello following categories:</span></span>

* <span data-ttu-id="ead71-145">Volume di tutte le operazioni dell'insieme di credenziali delle chiavi nel tempo</span><span class="sxs-lookup"><span data-stu-id="ead71-145">Volume of all key vault operations over time</span></span>
* <span data-ttu-id="ead71-146">Volumi di operazioni non riuscite nel tempo</span><span class="sxs-lookup"><span data-stu-id="ead71-146">Failed operation volumes over time</span></span>
* <span data-ttu-id="ead71-147">Latenza operativa media per operazione</span><span class="sxs-lookup"><span data-stu-id="ead71-147">Average operational latency by operation</span></span>
* <span data-ttu-id="ead71-148">Qualità del servizio per le operazioni con il numero di hello delle operazioni che richiedono più di 1000 ms e un elenco delle operazioni che richiedono più di 1000 ms</span><span class="sxs-lookup"><span data-stu-id="ead71-148">Quality of service for operations with hello number of operations that take more than 1000 ms and a list of operations that take more than 1000 ms</span></span>

![Immagine del dashboard dell'Insieme di credenziali delle chiavi di Azure](./media/log-analytics-azure-keyvault/log-analytics-keyvault01.png)

![Immagine del dashboard dell'Insieme di credenziali delle chiavi di Azure](./media/log-analytics-azure-keyvault/log-analytics-keyvault02.png)

### <a name="tooview-details-for-any-operation"></a><span data-ttu-id="ead71-151">Dettagli tooview per qualsiasi operazione</span><span class="sxs-lookup"><span data-stu-id="ead71-151">tooview details for any operation</span></span>
1. <span data-ttu-id="ead71-152">In hello **Panoramica** pagina, fare clic su hello **insieme credenziali chiavi Azure** riquadro.</span><span class="sxs-lookup"><span data-stu-id="ead71-152">On hello **Overview** page, click hello **Azure Key Vault** tile.</span></span>
2. <span data-ttu-id="ead71-153">In hello **insieme credenziali chiavi Azure** dashboard, esaminare le informazioni di riepilogo hello in uno dei pannelli hello e quindi fare clic su uno tooview dettagliate le informazioni nella pagina di ricerca log hello.</span><span class="sxs-lookup"><span data-stu-id="ead71-153">On hello **Azure Key Vault** dashboard, review hello summary information in one of hello blades, and then click one tooview detailed information about it in hello log search page.</span></span>

    <span data-ttu-id="ead71-154">In qualsiasi pagina di ricerca log hello di, è possibile visualizzare i risultati dal tempo, i risultati dettagliati e alla cronologia di ricerca.</span><span class="sxs-lookup"><span data-stu-id="ead71-154">On any of hello log search pages, you can view results by time, detailed results, and your log search history.</span></span> <span data-ttu-id="ead71-155">È inoltre possibile filtrare dai risultati di hello toonarrow facet.</span><span class="sxs-lookup"><span data-stu-id="ead71-155">You can also filter by facets toonarrow hello results.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="ead71-156">Record di Log Analytics</span><span class="sxs-lookup"><span data-stu-id="ead71-156">Log Analytics records</span></span>
<span data-ttu-id="ead71-157">Hello soluzione insieme credenziali chiavi Azure analizza i record che hanno un tipo di **KeyVaults** che vengono raccolti da [AuditEvent registri](../key-vault/key-vault-logging.md) in diagnostica di Azure.</span><span class="sxs-lookup"><span data-stu-id="ead71-157">hello Azure Key Vault solution analyzes records that have a type of **KeyVaults** that are collected from [AuditEvent logs](../key-vault/key-vault-logging.md) in Azure Diagnostics.</span></span>  <span data-ttu-id="ead71-158">Le proprietà per tali record sono in hello nella tabella seguente:</span><span class="sxs-lookup"><span data-stu-id="ead71-158">Properties for these records are in hello following table:</span></span>  

| <span data-ttu-id="ead71-159">Proprietà</span><span class="sxs-lookup"><span data-stu-id="ead71-159">Property</span></span> | <span data-ttu-id="ead71-160">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ead71-160">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="ead71-161">Tipo</span><span class="sxs-lookup"><span data-stu-id="ead71-161">Type</span></span> |<span data-ttu-id="ead71-162">*AzureDiagnostics*</span><span class="sxs-lookup"><span data-stu-id="ead71-162">*AzureDiagnostics*</span></span> |
| <span data-ttu-id="ead71-163">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="ead71-163">SourceSystem</span></span> |<span data-ttu-id="ead71-164">*Azzurro*</span><span class="sxs-lookup"><span data-stu-id="ead71-164">*Azure*</span></span> |
| <span data-ttu-id="ead71-165">CallerIpAddress</span><span class="sxs-lookup"><span data-stu-id="ead71-165">CallerIpAddress</span></span> |<span data-ttu-id="ead71-166">Indirizzo IP del client hello che ha effettuato la richiesta hello</span><span class="sxs-lookup"><span data-stu-id="ead71-166">IP address of hello client who made hello request</span></span> |
| <span data-ttu-id="ead71-167">Categoria</span><span class="sxs-lookup"><span data-stu-id="ead71-167">Category</span></span> | <span data-ttu-id="ead71-168">*AuditEvent*</span><span class="sxs-lookup"><span data-stu-id="ead71-168">*AuditEvent*</span></span> |
| <span data-ttu-id="ead71-169">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="ead71-169">CorrelationId</span></span> |<span data-ttu-id="ead71-170">Un GUID facoltativo che hello client può passare toocorrelate log lato client con i registri dal lato del servizio (insieme di credenziali chiave).</span><span class="sxs-lookup"><span data-stu-id="ead71-170">An optional GUID that hello client can pass toocorrelate client-side logs with service-side (Key Vault) logs.</span></span> |
| <span data-ttu-id="ead71-171">DurationMs</span><span class="sxs-lookup"><span data-stu-id="ead71-171">DurationMs</span></span> |<span data-ttu-id="ead71-172">Tempo impiegato richiesta dell'API REST hello tooservice, in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="ead71-172">Time it took tooservice hello REST API request, in milliseconds.</span></span> <span data-ttu-id="ead71-173">Questa volta non include la latenza di rete, pertanto ora hello in cui si esegue una misurazione sul lato client hello potrebbe non corrispondere a questo momento.</span><span class="sxs-lookup"><span data-stu-id="ead71-173">This time does not include network latency, so hello time that you measure on hello client side might not match this time.</span></span> |
| <span data-ttu-id="ead71-174">httpStatusCode_d</span><span class="sxs-lookup"><span data-stu-id="ead71-174">httpStatusCode_d</span></span> |<span data-ttu-id="ead71-175">Codice di stato HTTP restituito dalla richiesta hello (ad esempio, *200*)</span><span class="sxs-lookup"><span data-stu-id="ead71-175">HTTP status code returned by hello request (for example, *200*)</span></span> |
| <span data-ttu-id="ead71-176">id_s</span><span class="sxs-lookup"><span data-stu-id="ead71-176">id_s</span></span> |<span data-ttu-id="ead71-177">ID univoco della richiesta di hello</span><span class="sxs-lookup"><span data-stu-id="ead71-177">Unique ID of hello request</span></span> |
| <span data-ttu-id="ead71-178">identity_claim_appid_g</span><span class="sxs-lookup"><span data-stu-id="ead71-178">identity_claim_appid_g</span></span> | <span data-ttu-id="ead71-179">GUID per l'id applicazione hello</span><span class="sxs-lookup"><span data-stu-id="ead71-179">GUID for hello application id</span></span> |
| <span data-ttu-id="ead71-180">OperationName</span><span class="sxs-lookup"><span data-stu-id="ead71-180">OperationName</span></span> |<span data-ttu-id="ead71-181">Nome dell'operazione di hello, come documentato [la registrazione dell'insieme di credenziali chiave di Azure](../key-vault/key-vault-logging.md)</span><span class="sxs-lookup"><span data-stu-id="ead71-181">Name of hello operation, as documented in [Azure Key Vault Logging](../key-vault/key-vault-logging.md)</span></span> |
| <span data-ttu-id="ead71-182">OperationVersion</span><span class="sxs-lookup"><span data-stu-id="ead71-182">OperationVersion</span></span> |<span data-ttu-id="ead71-183">Versione dell'API REST richiesto da hello client (ad esempio *2015-06-01*)</span><span class="sxs-lookup"><span data-stu-id="ead71-183">REST API version requested by hello client (for example *2015-06-01*)</span></span> |
| <span data-ttu-id="ead71-184">requestUri_s</span><span class="sxs-lookup"><span data-stu-id="ead71-184">requestUri_s</span></span> |<span data-ttu-id="ead71-185">URI della richiesta di hello</span><span class="sxs-lookup"><span data-stu-id="ead71-185">Uri of hello request</span></span> |
| <span data-ttu-id="ead71-186">Risorsa</span><span class="sxs-lookup"><span data-stu-id="ead71-186">Resource</span></span> |<span data-ttu-id="ead71-187">Nome dell'insieme di credenziali chiave hello</span><span class="sxs-lookup"><span data-stu-id="ead71-187">Name of hello key vault</span></span> |
| <span data-ttu-id="ead71-188">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="ead71-188">ResourceGroup</span></span> |<span data-ttu-id="ead71-189">Gruppo di risorse dell'insieme di credenziali chiave hello</span><span class="sxs-lookup"><span data-stu-id="ead71-189">Resource group of hello key vault</span></span> |
| <span data-ttu-id="ead71-190">ResourceId</span><span class="sxs-lookup"><span data-stu-id="ead71-190">ResourceId</span></span> |<span data-ttu-id="ead71-191">ID della risorsa Gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="ead71-191">Azure Resource Manager Resource ID.</span></span> <span data-ttu-id="ead71-192">Per i registri di insieme di credenziali chiave, si tratta di ID di risorsa hello insieme di credenziali chiave.</span><span class="sxs-lookup"><span data-stu-id="ead71-192">For Key Vault logs, this is hello Key Vault resource ID.</span></span> |
| <span data-ttu-id="ead71-193">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="ead71-193">ResourceProvider</span></span> |<span data-ttu-id="ead71-194">*MICROSOFT.KEYVAULT*</span><span class="sxs-lookup"><span data-stu-id="ead71-194">*MICROSOFT.KEYVAULT*</span></span> |
| <span data-ttu-id="ead71-195">ResourceType</span><span class="sxs-lookup"><span data-stu-id="ead71-195">ResourceType</span></span> | <span data-ttu-id="ead71-196">*VAULTS*</span><span class="sxs-lookup"><span data-stu-id="ead71-196">*VAULTS*</span></span> |
| <span data-ttu-id="ead71-197">ResultSignature</span><span class="sxs-lookup"><span data-stu-id="ead71-197">ResultSignature</span></span> |<span data-ttu-id="ead71-198">Stato HTTP (ad esempio *OK*)</span><span class="sxs-lookup"><span data-stu-id="ead71-198">HTTP status (for example, *OK*)</span></span> |
| <span data-ttu-id="ead71-199">ResultType</span><span class="sxs-lookup"><span data-stu-id="ead71-199">ResultType</span></span> |<span data-ttu-id="ead71-200">Risultato della richiesta dell'API REST (ad esempio *Operazione completata*)</span><span class="sxs-lookup"><span data-stu-id="ead71-200">Result of REST API request (for example, *Success*)</span></span> |
| <span data-ttu-id="ead71-201">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="ead71-201">SubscriptionId</span></span> |<span data-ttu-id="ead71-202">ID sottoscrizione di Azure della sottoscrizione hello contenente hello insieme di credenziali chiave</span><span class="sxs-lookup"><span data-stu-id="ead71-202">Azure subscription ID of hello subscription containing hello Key Vault</span></span> |

## <a name="migrating-from-hello-old-key-vault-solution"></a><span data-ttu-id="ead71-203">La migrazione da una soluzione di insieme di credenziali chiave precedente hello</span><span class="sxs-lookup"><span data-stu-id="ead71-203">Migrating from hello old Key Vault solution</span></span>
<span data-ttu-id="ead71-204">Nel gennaio January 2017, hello supportate consentono di inviare i log dall'insieme di credenziali chiave tooLog che Analitica modificato.</span><span class="sxs-lookup"><span data-stu-id="ead71-204">In January 2017, hello supported way of sending logs from Key Vault tooLog Analytics changed.</span></span> <span data-ttu-id="ead71-205">Queste modifiche consentono hello seguenti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="ead71-205">These changes provide hello following advantages:</span></span>
+ <span data-ttu-id="ead71-206">I log vengono scritti direttamente tooLog Analitica senza hello necessario toouse un account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="ead71-206">Logs are written directly tooLog Analytics without hello need toouse a storage account</span></span>
+ <span data-ttu-id="ead71-207">Minore latenza dall'ora di hello quando i registri sono generati toothem disponibile nel Log Analitica</span><span class="sxs-lookup"><span data-stu-id="ead71-207">Less latency from hello time when logs are generated toothem being available in Log Analytics</span></span>
+ <span data-ttu-id="ead71-208">Meno passaggi di configurazione</span><span class="sxs-lookup"><span data-stu-id="ead71-208">Fewer configuration steps</span></span>
+ <span data-ttu-id="ead71-209">Un formato comune per tutti i tipi di diagnostica di Azure</span><span class="sxs-lookup"><span data-stu-id="ead71-209">A common format for all types of Azure diagnostics</span></span>

<span data-ttu-id="ead71-210">soluzione hello aggiornato toouse:</span><span class="sxs-lookup"><span data-stu-id="ead71-210">toouse hello updated solution:</span></span>

1. [<span data-ttu-id="ead71-211">Configurare diagnostica toobe inviato tooLog Analitica direttamente dall'insieme di credenziali chiave</span><span class="sxs-lookup"><span data-stu-id="ead71-211">Configure diagnostics toobe sent directly tooLog Analytics from Key Vault</span></span>](#enable-key-vault-diagnostics-in-the-portal)  
2. <span data-ttu-id="ead71-212">Per abilitare soluzioni insieme credenziali chiavi Azure hello hello processo descritto in [soluzioni aggiungere Log Analitica da hello Solutions Gallery](log-analytics-add-solutions.md)</span><span class="sxs-lookup"><span data-stu-id="ead71-212">Enable hello Azure Key Vault solution by using hello process described in [Add Log Analytics solutions from hello Solutions Gallery](log-analytics-add-solutions.md)</span></span>
3. <span data-ttu-id="ead71-213">Aggiornare le query salvate, dashboard o avvisi toouse hello nuovo tipo di dati</span><span class="sxs-lookup"><span data-stu-id="ead71-213">Update any saved queries, dashboards, or alerts toouse hello new data type</span></span>
  + <span data-ttu-id="ead71-214">È di tipo di modifica da: KeyVaults tooAzureDiagnostics.</span><span class="sxs-lookup"><span data-stu-id="ead71-214">Type is change from: KeyVaults tooAzureDiagnostics.</span></span> <span data-ttu-id="ead71-215">È possibile utilizzare hello ResourceType toofilter tooKey insieme di credenziali di log.</span><span class="sxs-lookup"><span data-stu-id="ead71-215">You can use hello ResourceType toofilter tooKey Vault Logs.</span></span>
  - <span data-ttu-id="ead71-216">Invece di: `Type=KeyVaults`, utilizzare i campi `Type=AzureDiagnostics ResourceType=VAULTS`:</span><span class="sxs-lookup"><span data-stu-id="ead71-216">Instead of: `Type=KeyVaults`, use `Type=AzureDiagnostics ResourceType=VAULTS`</span></span>
  + <span data-ttu-id="ead71-217">I nomi dei campi distinguono tra maiuscole e minuscole</span><span class="sxs-lookup"><span data-stu-id="ead71-217">Fields: (Field names are case-sensitive)</span></span>
  - <span data-ttu-id="ead71-218">Per qualsiasi campo che contiene un suffisso di \_s, \_d, o \_g in nome hello cambia hello primo carattere toolower maiuscole/minuscole</span><span class="sxs-lookup"><span data-stu-id="ead71-218">For any field that has a suffix of \_s, \_d, or \_g in hello name, change hello first character toolower case</span></span>
  - <span data-ttu-id="ead71-219">Per qualsiasi campo che contiene un suffisso di \_o nel nome, i dati di hello è suddiviso in singoli campi in base ai nomi di campo hello annidato.</span><span class="sxs-lookup"><span data-stu-id="ead71-219">For any field that has a suffix of \_o in name, hello data is split into individual fields based on hello nested field names.</span></span> <span data-ttu-id="ead71-220">Ad esempio, hello UPN del chiamante hello viene archiviato in un campo`identity_claim_http_schemas_xmlsoap_org_ws_2005_05_identity_claims_upn_s`</span><span class="sxs-lookup"><span data-stu-id="ead71-220">For example, hello UPN of hello caller is stored in a field `identity_claim_http_schemas_xmlsoap_org_ws_2005_05_identity_claims_upn_s`</span></span>
   - <span data-ttu-id="ead71-221">TooCallerIPAddress CallerIpAddress campo modificato</span><span class="sxs-lookup"><span data-stu-id="ead71-221">Field CallerIpAddress changed tooCallerIPAddress</span></span>
   - <span data-ttu-id="ead71-222">Il campo RemoteIPCountry non è più presente</span><span class="sxs-lookup"><span data-stu-id="ead71-222">Field RemoteIPCountry is no longer present</span></span>
4. <span data-ttu-id="ead71-223">Rimuovere hello *chiave dell'insieme di credenziali Analitica (obsoleto)* soluzione.</span><span class="sxs-lookup"><span data-stu-id="ead71-223">Remove hello *Key Vault Analytics (Deprecated)* solution.</span></span> <span data-ttu-id="ead71-224">Se si utilizza PowerShell, usare `Set-AzureOperationalInsightsIntelligencePack -ResourceGroupName <resource group that hello workspace is in> -WorkspaceName <name of hello log analytics workspace> -IntelligencePackName "KeyVault" -Enabled $false`</span><span class="sxs-lookup"><span data-stu-id="ead71-224">If you are using PowerShell, use `Set-AzureOperationalInsightsIntelligencePack -ResourceGroupName <resource group that hello workspace is in> -WorkspaceName <name of hello log analytics workspace> -IntelligencePackName "KeyVault" -Enabled $false`</span></span>

<span data-ttu-id="ead71-225">I dati raccolti prima modifica hello non è visibile nella nuova soluzione hello.</span><span class="sxs-lookup"><span data-stu-id="ead71-225">Data collected before hello change is not visible in hello new solution.</span></span> <span data-ttu-id="ead71-226">È possibile continuare tooquery per questa operazione utilizzando dati hello vecchio tipo e i nomi dei campi.</span><span class="sxs-lookup"><span data-stu-id="ead71-226">You can continue tooquery for this data using hello old Type and field names.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="ead71-227">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="ead71-227">Troubleshooting</span></span>
[!INCLUDE [log-analytics-troubleshoot-azure-diagnostics](../../includes/log-analytics-troubleshoot-azure-diagnostics.md)]

## <a name="next-steps"></a><span data-ttu-id="ead71-228">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="ead71-228">Next steps</span></span>
* <span data-ttu-id="ead71-229">Utilizzare [Accedi ricerche Log Analitica](log-analytics-log-searches.md) tooview in dettaglio i dati insieme credenziali chiavi Azure.</span><span class="sxs-lookup"><span data-stu-id="ead71-229">Use [Log searches in Log Analytics](log-analytics-log-searches.md) tooview detailed Azure Key Vault data.</span></span>
