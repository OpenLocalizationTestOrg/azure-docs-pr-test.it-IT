---
title: Risolvere i codici di errore per l'estensione NPS MFA di Azure | Microsoft Docs
description: Informazioni su come risolvere i problemi con l'estensione NPS per Multi-Factor Authentication di Azure con soluzioni specifiche per messaggi di errore comuni
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: it-pro
ms.openlocfilehash: 173353d67772c2549aa1b8ec9f2a471bd1c65677
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="resolve-error-messages-from-the-nps-extension-for-azure-multi-factor-authentication"></a><span data-ttu-id="0effd-103">Risolvere i messaggi di errore dall'estensione NPS per Multi-Factor Authentication di Azure</span><span class="sxs-lookup"><span data-stu-id="0effd-103">Resolve error messages from the NPS extension for Azure Multi-Factor Authentication</span></span>

<span data-ttu-id="0effd-104">Se si verificano errori con l'estensione NPS per Multi-Factor Authentication di Azure, usare questo articolo per ottenere una soluzione in modo rapido.</span><span class="sxs-lookup"><span data-stu-id="0effd-104">If you encounter errors with the NPS extension for Azure Multi-Factor Authentication, use this article to reach a resolution faster.</span></span> 

## <a name="troubleshooting-steps-for-common-errors"></a><span data-ttu-id="0effd-105">Procedura per la risoluzione di errori comuni</span><span class="sxs-lookup"><span data-stu-id="0effd-105">Troubleshooting steps for common errors</span></span>

| <span data-ttu-id="0effd-106">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-106">Error code</span></span> | <span data-ttu-id="0effd-107">Passaggi per la risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="0effd-107">Troubleshooting steps</span></span> |
| ---------- | --------------------- |
| <span data-ttu-id="0effd-108">**CONTACT_SUPPORT**</span><span class="sxs-lookup"><span data-stu-id="0effd-108">**CONTACT_SUPPORT**</span></span> | <span data-ttu-id="0effd-109">[Contattare il supporto tecnico](#contact-microsoft-support) e segnalare l'elenco dei passaggi per la raccolta dei log.</span><span class="sxs-lookup"><span data-stu-id="0effd-109">[Contact support](#contact-microsoft-support), and mention the list of steps for collecting logs.</span></span> <span data-ttu-id="0effd-110">Dare quante più informazioni possibili sulle operazioni verificatesi prima dell'errore, tra cui ID tenant e il nome dell'entità utente.</span><span class="sxs-lookup"><span data-stu-id="0effd-110">Provide as much information as you can about what happened before the error, including tenant id, and user principal name (UPN).</span></span> |
| <span data-ttu-id="0effd-111">**CLIENT_CERT_INSTALL_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-111">**CLIENT_CERT_INSTALL_ERROR**</span></span> | <span data-ttu-id="0effd-112">Potrebbe esserci un problema con la modalità di installazione del certificato client o con la modalità di associazione al tenant.</span><span class="sxs-lookup"><span data-stu-id="0effd-112">There may be an issue with how the client certificate was installed or associated with your tenant.</span></span> <span data-ttu-id="0effd-113">Per analizzare i problemi del certificato client seguire le istruzioni in [Risoluzione dei problemi dell'estensione NPS MFA](multi-factor-authentication-nps-extension.md#troubleshooting).</span><span class="sxs-lookup"><span data-stu-id="0effd-113">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert problems.</span></span> |
| <span data-ttu-id="0effd-114">**ESTS_TOKEN_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-114">**ESTS_TOKEN_ERROR**</span></span> | <span data-ttu-id="0effd-115">Per analizzare i problemi del certificato client e del token ADAL seguire le istruzioni in [Risoluzione dei problemi dell'estensione NPS MFA](multi-factor-authentication-nps-extension.md#troubleshooting).</span><span class="sxs-lookup"><span data-stu-id="0effd-115">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert and ADAL token problems.</span></span> |
| <span data-ttu-id="0effd-116">**HTTPS_COMMUNICATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-116">**HTTPS_COMMUNICATION_ERROR**</span></span> | <span data-ttu-id="0effd-117">Il server NPS non è in grado di ricevere risposte da Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="0effd-117">The NPS server is unable to receive responses from Azure MFA.</span></span> <span data-ttu-id="0effd-118">Verificare che i firewall siano aperti in modalità bidirezionale per il traffico da e verso https://adnotifications.windowsazure.com</span><span class="sxs-lookup"><span data-stu-id="0effd-118">Verify that your firewalls are open bidirectionally for traffic to and from https://adnotifications.windowsazure.com</span></span> |
| <span data-ttu-id="0effd-119">**HTTP_CONNECT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-119">**HTTP_CONNECT_ERROR**</span></span> | <span data-ttu-id="0effd-120">Nel server che esegue l'estensione NPS, verificare la possibilità di raggiungere https://adnotifications.windowsazure.com e https://login.microsoftonline.com/.</span><span class="sxs-lookup"><span data-stu-id="0effd-120">On the server that runs the NPS extension, verify that you can reach  https://adnotifications.windowsazure.com and https://login.microsoftonline.com/.</span></span> <span data-ttu-id="0effd-121">Se tali siti non vengono caricati, risolvere i problemi di connettività sul server.</span><span class="sxs-lookup"><span data-stu-id="0effd-121">If those sites don't load, troubleshoot connectivity on that server.</span></span> |
| <span data-ttu-id="0effd-122">**REGISTRY_CONFIG_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-122">**REGISTRY_CONFIG_ERROR**</span></span> | <span data-ttu-id="0effd-123">Manca una chiave nel registro per l'applicazione. Questa potrebbe essere la causa per cui lo [script di PowerShell](multi-factor-authentication-nps-extension.md#install-the-nps-extension) non viene eseguito dopo l'installazione.</span><span class="sxs-lookup"><span data-stu-id="0effd-123">A key is missing in the registry for the application, which may be because the [PowerShell script](multi-factor-authentication-nps-extension.md#install-the-nps-extension) wasn't run after installation.</span></span> <span data-ttu-id="0effd-124">Il messaggio di errore deve includere la chiave mancante.</span><span class="sxs-lookup"><span data-stu-id="0effd-124">The error message should include the missing key.</span></span> <span data-ttu-id="0effd-125">Assicurarsi che la chiave si trovi in HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span><span class="sxs-lookup"><span data-stu-id="0effd-125">Make sure you have the key under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span></span> |
| <span data-ttu-id="0effd-126">**REQUEST_FORMAT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-126">**REQUEST_FORMAT_ERROR**</span></span> <br> <span data-ttu-id="0effd-127">Nella richiesta RADIUS manca l'attributo RADIUS userName\Identifier attributo obbligatorio. Verificare che NPS riceva le richieste RADIUS</span><span class="sxs-lookup"><span data-stu-id="0effd-127">Radius Request missing mandatory Radius userName\Identifier attribute.Verify that NPS is receiving RADIUS requests</span></span> | <span data-ttu-id="0effd-128">Questo errore indica in genere un problema di installazione.</span><span class="sxs-lookup"><span data-stu-id="0effd-128">This error usually reflects an installation issue.</span></span> <span data-ttu-id="0effd-129">L'estensione NPS deve essere installata nei server NPS che possono ricevere le richieste RADIUS.</span><span class="sxs-lookup"><span data-stu-id="0effd-129">The NPS extension must be installed in NPS servers that can receive RADIUS requests.</span></span> <span data-ttu-id="0effd-130">I server NPS installati come dipendenze dei servizi come RDG e RRAS non ricevono le richieste RADIUS.</span><span class="sxs-lookup"><span data-stu-id="0effd-130">NPS servers that are installed as dependencies for services like RDG and RRAS don't receive radius requests.</span></span> <span data-ttu-id="0effd-131">L'estensione NPS non funziona quando è installata su tali installazioni e genera degli errori poiché è impossibile leggere i dettagli della richiesta di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="0effd-131">NPS Extension does not work when installed over such installations and errors out since it cannot read the details from the authentication request.</span></span> |
| <span data-ttu-id="0effd-132">**REQUEST_MISSING_CODE**</span><span class="sxs-lookup"><span data-stu-id="0effd-132">**REQUEST_MISSING_CODE**</span></span> | <span data-ttu-id="0effd-133">Verificare che il protocollo di crittografia delle password tra i server dei criteri di rete e di accesso alla rete supporti il metodo di autenticazione secondario usato.</span><span class="sxs-lookup"><span data-stu-id="0effd-133">Make sure that the password encryption protocol between the NPS and NAS servers supports the secondary authentication method that you're using.</span></span> <span data-ttu-id="0effd-134">**PAP** supporta tutti i metodi di autenticazione di Azure MFA nel cloud: chiamata telefonica, SMS unidirezionale, notifica dell'app per dispositivi mobili e codice di verifica dell'app per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="0effd-134">**PAP** supports all the authentication methods of Azure MFA in the cloud: phone call, one-way text message, mobile app notification, and mobile app verification code.</span></span> <span data-ttu-id="0effd-135">**CHAPV2** e **EAP** supportano la chiamata telefonica e la notifica dell'app per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="0effd-135">**CHAPV2** and **EAP** support phone call and mobile app notification.</span></span> |
| <span data-ttu-id="0effd-136">**USERNAME_CANONICALIZATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-136">**USERNAME_CANONICALIZATION_ERROR**</span></span> | <span data-ttu-id="0effd-137">Verificare che l'utente sia presente nell'istanza di Active Directory locale e che il servizio NPS disponga delle autorizzazioni per accedere alla directory.</span><span class="sxs-lookup"><span data-stu-id="0effd-137">Verify that the user is present in your on-premises Active Directory instance, and that the NPS Service has permissions to access the directory.</span></span> <span data-ttu-id="0effd-138">Se si usano i trust tra foreste, [contattare il supporto tecnico](#contact-microsoft-support) per maggiore assistenza.</span><span class="sxs-lookup"><span data-stu-id="0effd-138">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |


   

### <a name="alternate-login-id-errors"></a><span data-ttu-id="0effd-139">Errori relativi all'ID di accesso alternativo</span><span class="sxs-lookup"><span data-stu-id="0effd-139">Alternate login ID errors</span></span>

| <span data-ttu-id="0effd-140">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-140">Error code</span></span> | <span data-ttu-id="0effd-141">Messaggio di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-141">Error message</span></span> | <span data-ttu-id="0effd-142">Passaggi per la risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="0effd-142">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="0effd-143">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-143">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="0effd-144">Errore: la ricerca di userObjectSid non è riuscita</span><span class="sxs-lookup"><span data-stu-id="0effd-144">Error: userObjectSid lookup failed</span></span> | <span data-ttu-id="0effd-145">Verificare che l'utente esista nell'istanza di Active Directory locale.</span><span class="sxs-lookup"><span data-stu-id="0effd-145">Verify that the user exists in your on-premises Active Directory instance.</span></span> <span data-ttu-id="0effd-146">Se si usano i trust tra foreste, [contattare il supporto tecnico](#contact-microsoft-support) per maggiore assistenza.</span><span class="sxs-lookup"><span data-stu-id="0effd-146">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |
| <span data-ttu-id="0effd-147">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-147">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="0effd-148">Errore: la ricerca dell'ID di accesso alternativo non è riuscita</span><span class="sxs-lookup"><span data-stu-id="0effd-148">Error: Alternate LoginId lookup failed</span></span> | <span data-ttu-id="0effd-149">Verificare che LDAP_ALTERNATE_LOGINID_ATTRIBUTE sia impostato su un [attributo di Active Directory valido](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="0effd-149">Verify that LDAP_ALTERNATE_LOGINID_ATTRIBUTE is set to a [valid active directory attribute](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span></span> <br><br> <span data-ttu-id="0effd-150">Se LDAP_FORCE_GLOBAL_CATALOG è impostata su True o LDAP_LOOKUP_FORESTS è configurato con un valore non vuoto, verificare di avere configurato un catalogo globale e che vi sia stato aggiunto l'attributo AlternateLoginId.</span><span class="sxs-lookup"><span data-stu-id="0effd-150">If LDAP_FORCE_GLOBAL_CATALOG is set to True, or LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that you have configured a Global Catalog and that the AlternateLoginId attribute is added to it.</span></span> <br><br> <span data-ttu-id="0effd-151">Se LDAP_LOOKUP_FORESTS è configurato con un valore non vuoto, verificare che il valore sia corretto.</span><span class="sxs-lookup"><span data-stu-id="0effd-151">If LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that the value is correct.</span></span> <span data-ttu-id="0effd-152">Se è presente più di un nome di foresta, i nomi devono essere separati da punti e virgola, non da spazi.</span><span class="sxs-lookup"><span data-stu-id="0effd-152">If there is more than one forest name, the names must be separated with semi-colons, not spaces.</span></span> <br><br> <span data-ttu-id="0effd-153">Se questi passaggi non risolvono il problema, [contattare il supporto tecnico](#contact-microsoft-support) per maggiore assistenza.</span><span class="sxs-lookup"><span data-stu-id="0effd-153">If these steps don't fix the problem, [contact support](#contact-microsoft-support) for more help.</span></span> |
| <span data-ttu-id="0effd-154">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="0effd-154">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="0effd-155">Errore: il valore dell'ID di accesso alternativo è vuoto</span><span class="sxs-lookup"><span data-stu-id="0effd-155">Error: Alternate LoginId value is empty</span></span> | <span data-ttu-id="0effd-156">Verificare che l'attributo AlternateLoginId sia configurato per l'utente.</span><span class="sxs-lookup"><span data-stu-id="0effd-156">Verify that the AlternateLoginId attribute is configured for the user.</span></span> |


## <a name="errors-your-users-may-encounter"></a><span data-ttu-id="0effd-157">Errori che possono verificarsi per gli utenti</span><span class="sxs-lookup"><span data-stu-id="0effd-157">Errors your users may encounter</span></span>

| <span data-ttu-id="0effd-158">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-158">Error code</span></span> | <span data-ttu-id="0effd-159">Messaggio di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-159">Error message</span></span> | <span data-ttu-id="0effd-160">Passaggi per la risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="0effd-160">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="0effd-161">**AccessDenied**</span><span class="sxs-lookup"><span data-stu-id="0effd-161">**AccessDenied**</span></span> | <span data-ttu-id="0effd-162">Caller tenant does not have access permissions to do authentication for the user (Il tenant chiamante non dispone delle autorizzazioni di accesso per eseguire l'autenticazione per l'utente)</span><span class="sxs-lookup"><span data-stu-id="0effd-162">Caller tenant does not have access permissions to do authentication for the user</span></span> | <span data-ttu-id="0effd-163">Controllare che il dominio del tenant e il dominio del nome dell'entità utente (UPN) corrispondano.</span><span class="sxs-lookup"><span data-stu-id="0effd-163">Check whether the tenant domain and the domain of the user principal name (UPN) are the same.</span></span> <span data-ttu-id="0effd-164">Ad esempio, assicurarsi che user@contoso.com stia tentando di eseguire l'autenticazione al tenant di Contoso.</span><span class="sxs-lookup"><span data-stu-id="0effd-164">For example, make sure that user@contoso.com is trying to authenticate to the Contoso tenant.</span></span> <span data-ttu-id="0effd-165">L'UPN rappresenta un utente valido per il tenant in Azure.</span><span class="sxs-lookup"><span data-stu-id="0effd-165">The UPN represents a valid user for the tenant in Azure.</span></span> |
| <span data-ttu-id="0effd-166">**AuthenticationMethodNotConfigured**</span><span class="sxs-lookup"><span data-stu-id="0effd-166">**AuthenticationMethodNotConfigured**</span></span> | <span data-ttu-id="0effd-167">The specified authentication method was not configured for the user (Il metodo di autenticazione specificato non è stato configurato per l'utente)</span><span class="sxs-lookup"><span data-stu-id="0effd-167">The specified authentication method was not configured for the user</span></span> | <span data-ttu-id="0effd-168">Richiedere all'utente di aggiungere o verificare i metodi di verifica seguendo le istruzioni in [Gestire le impostazioni per la verifica in due passaggi](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="0effd-168">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="0effd-169">**AuthenticationMethodNotSupported**</span><span class="sxs-lookup"><span data-stu-id="0effd-169">**AuthenticationMethodNotSupported**</span></span> | <span data-ttu-id="0effd-170">Specified authentication method is not supported. (Il metodo di autenticazione specificato non è supportato.)</span><span class="sxs-lookup"><span data-stu-id="0effd-170">Specified authentication method is not supported.</span></span> | <span data-ttu-id="0effd-171">Raccogliere tutti i log che includono questo errore e [contattare il supporto tecnico](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="0effd-171">Collect all your logs that include this error, and [contact support](#contact-microsoft-support).</span></span> <span data-ttu-id="0effd-172">Quando si contatta il supporto tecnico, comunicare il nome utente e il metodo di verifica secondaria che ha generato l'errore.</span><span class="sxs-lookup"><span data-stu-id="0effd-172">When you contact support, provide the username and the secondary verification method that triggered the error.</span></span> |
| <span data-ttu-id="0effd-173">**BecAccessDenied**</span><span class="sxs-lookup"><span data-stu-id="0effd-173">**BecAccessDenied**</span></span> | <span data-ttu-id="0effd-174">MSODS Bec call returned access denied, probably the username is not defined in the tenant (La chiamata MSODS Bec ha restituito un accesso negato, probabilmente il nome utente non è definito nel tenant)</span><span class="sxs-lookup"><span data-stu-id="0effd-174">MSODS Bec call returned access denied, probably the username is not defined in the tenant</span></span> | <span data-ttu-id="0effd-175">L'utente è presente in Active Directory locale, ma non è sincronizzato in Azure AD da AD Connect.</span><span class="sxs-lookup"><span data-stu-id="0effd-175">The user is present in Active Directory on-premises but is not synced into Azure AD by AD Connect.</span></span> <span data-ttu-id="0effd-176">Oppure manca l'utente per il tenant.</span><span class="sxs-lookup"><span data-stu-id="0effd-176">Or, the user is missing for the tenant.</span></span> <span data-ttu-id="0effd-177">Aggiungere l'utente ad Azure AD e richiedergli di aggiungere i metodi di verifica seguendo le istruzioni in [Gestire le impostazioni per la verifica in due passaggi](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="0effd-177">Add the user to Azure AD and have them add their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="0effd-178">**InvalidFormat** o **StrongAuthenticationServiceInvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-178">**InvalidFormat** or **StrongAuthenticationServiceInvalidParameter**</span></span> | <span data-ttu-id="0effd-179">The phone number is in an unrecognizable format (Il numero di telefono presenta un formato non riconoscibile)</span><span class="sxs-lookup"><span data-stu-id="0effd-179">The phone number is in an unrecognizable format</span></span> | <span data-ttu-id="0effd-180">Richiedere all'utente di correggere i numeri di telefono per la verifica.</span><span class="sxs-lookup"><span data-stu-id="0effd-180">Have the user correct their verification phone numbers.</span></span> |
| <span data-ttu-id="0effd-181">**InvalidSession**</span><span class="sxs-lookup"><span data-stu-id="0effd-181">**InvalidSession**</span></span> | <span data-ttu-id="0effd-182">The specified session is invalid or may have expired (La sessione specificata non è valida o potrebbe essere scaduta)</span><span class="sxs-lookup"><span data-stu-id="0effd-182">The specified session is invalid or may have expired</span></span> | <span data-ttu-id="0effd-183">Il completamente della sessione ha richiesto più di tre minuti.</span><span class="sxs-lookup"><span data-stu-id="0effd-183">The session has taken more than three minutes to complete.</span></span> <span data-ttu-id="0effd-184">Verificare che l'utente inserisca il codice di verifica o risponda alla notifica app, entro tre minuti dall'avvio della richiesta di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="0effd-184">Verify that the user is entering the verification code, or responding to the app notification, within three minutes of initiating the authentication request.</span></span> <span data-ttu-id="0effd-185">Se il problema non viene risolto, verificare che non ci siano latenze di rete tra client, server NAS, server NPS ed endpoint MFA di Azure.</span><span class="sxs-lookup"><span data-stu-id="0effd-185">If that doesn't fix the problem, check that there are no network latencies between client, NAS Server, NPS Server, and the Azure MFA endpoint.</span></span>  |
| <span data-ttu-id="0effd-186">**NoDefaultAuthenticationMethodIsConfigured**</span><span class="sxs-lookup"><span data-stu-id="0effd-186">**NoDefaultAuthenticationMethodIsConfigured**</span></span> | <span data-ttu-id="0effd-187">No default authentication method was configured for the user (Non è stato configurato alcun metodo di autenticazione predefinito per l'utente)</span><span class="sxs-lookup"><span data-stu-id="0effd-187">No default authentication method was configured for the user</span></span> | <span data-ttu-id="0effd-188">Richiedere all'utente di aggiungere o verificare i metodi di verifica seguendo le istruzioni in [Gestire le impostazioni per la verifica in due passaggi](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="0effd-188">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="0effd-189">Verificare che l'utente abbia scelto un metodo di autenticazione predefinito e che questo sia stato configurato per il proprio account.</span><span class="sxs-lookup"><span data-stu-id="0effd-189">Verify that the user has chosen a default authentication method, and configured that method for their account.</span></span> |
| <span data-ttu-id="0effd-190">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="0effd-190">**OathCodePinIncorrect**</span></span> | <span data-ttu-id="0effd-191">Wrong code and pin entered. (Codice e pin inseriti non corretti.)</span><span class="sxs-lookup"><span data-stu-id="0effd-191">Wrong code and pin entered.</span></span> | <span data-ttu-id="0effd-192">Questo errore non è previsto nell'estensione NPS.</span><span class="sxs-lookup"><span data-stu-id="0effd-192">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="0effd-193">Se l'utente rileva questo errore, [contattare il supporto tecnico](#contact-microsoft-support) per la risoluzione del problema.</span><span class="sxs-lookup"><span data-stu-id="0effd-193">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="0effd-194">**ProofDataNotFound**</span><span class="sxs-lookup"><span data-stu-id="0effd-194">**ProofDataNotFound**</span></span> | <span data-ttu-id="0effd-195">Proof data was not configured for the specified authentication method. (I dati di prova non sono stati configurati per il metodo di autenticazione specificato.)</span><span class="sxs-lookup"><span data-stu-id="0effd-195">Proof data was not configured for the specified authentication method.</span></span> | <span data-ttu-id="0effd-196">Richiedere all'utente provare un metodo di verifica diverso o di aggiungerne uno nuovo seguendo le istruzioni in [Gestire le impostazioni per la verifica in due passaggi](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="0effd-196">Have the user try a different verification method, or add a new verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="0effd-197">Se l'errore viene visualizzato ancora anche dopo aver confermato che il metodo di verifica è stato configurato correttamente, [contattare il supporto tecnico](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="0effd-197">If the user continues to see this error after you confirmed that their verification method is set up correctly, [contact support](#contact-microsoft-support).</span></span> |
| <span data-ttu-id="0effd-198">**SMSAuthFailedWrongCodePinEntered**</span><span class="sxs-lookup"><span data-stu-id="0effd-198">**SMSAuthFailedWrongCodePinEntered**</span></span> | <span data-ttu-id="0effd-199">Wrong code and pin entered. (Codice e pin inseriti non corretti.)</span><span class="sxs-lookup"><span data-stu-id="0effd-199">Wrong code and pin entered.</span></span> <span data-ttu-id="0effd-200">(OneWaySMS)</span><span class="sxs-lookup"><span data-stu-id="0effd-200">(OneWaySMS)</span></span> | <span data-ttu-id="0effd-201">Questo errore non è previsto nell'estensione NPS.</span><span class="sxs-lookup"><span data-stu-id="0effd-201">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="0effd-202">Se l'utente rileva questo errore, [contattare il supporto tecnico](#contact-microsoft-support) per la risoluzione del problema.</span><span class="sxs-lookup"><span data-stu-id="0effd-202">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="0effd-203">**TenantIsBlocked**</span><span class="sxs-lookup"><span data-stu-id="0effd-203">**TenantIsBlocked**</span></span> | <span data-ttu-id="0effd-204">Tenant is blocked (Il tenant è bloccato)</span><span class="sxs-lookup"><span data-stu-id="0effd-204">Tenant is blocked</span></span> | <span data-ttu-id="0effd-205">[Contattare il supporto tecnico](#contact-microsoft-support) con l'ID directory dalla pagina delle proprietà di Azure AD nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="0effd-205">[Contact support](#contact-microsoft-support) with Directory ID from the Azure AD properties page in the Azure portal.</span></span> |
| <span data-ttu-id="0effd-206">**UserNotFound**</span><span class="sxs-lookup"><span data-stu-id="0effd-206">**UserNotFound**</span></span> | <span data-ttu-id="0effd-207">The specified user was not found (Impossibile trovare l'utente specificato)</span><span class="sxs-lookup"><span data-stu-id="0effd-207">The specified user was not found</span></span> | <span data-ttu-id="0effd-208">Il tenant non è più visibile in Azure AD come attivo.</span><span class="sxs-lookup"><span data-stu-id="0effd-208">The tenant is no longer visible as active in Azure AD.</span></span> <span data-ttu-id="0effd-209">Verificare che la sottoscrizione sia attiva e che si dispone delle app proprietarie necessarie.</span><span class="sxs-lookup"><span data-stu-id="0effd-209">Check that your subscription is active and you have the required first party apps.</span></span> <span data-ttu-id="0effd-210">Assicurarsi anche che il tenant nel soggetto del certificato sia quello previsto e che il certificato sia ancora valido e registrato nell'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="0effd-210">Also make sure the tenant in the certificate subject is as expected and the cert is still valid and registered under the service principal.</span></span> |

## <a name="messages-your-users-may-encounter-that-arent-errors"></a><span data-ttu-id="0effd-211">Messaggi che l'utente potrebbe visualizzare ma che non sono errori</span><span class="sxs-lookup"><span data-stu-id="0effd-211">Messages your users may encounter that aren't errors</span></span>

<span data-ttu-id="0effd-212">In alcuni casi, gli utenti possono ricevere messaggi da Multi-Factor Authentication in quanto la richiesta di autenticazione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="0effd-212">Sometimes, your users may get messages from Multi-Factor Authentication because their authentication request failed.</span></span> <span data-ttu-id="0effd-213">Non si tratta di errori del prodotto di configurazione, ma sono avvisi intenzionali che spiegano il motivo per cui una richiesta di autenticazione è stata negata.</span><span class="sxs-lookup"><span data-stu-id="0effd-213">These aren't errors in the product of configuration, but are intentional warnings explaining why an authentication request was denied.</span></span>

| <span data-ttu-id="0effd-214">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-214">Error code</span></span> | <span data-ttu-id="0effd-215">Messaggio di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-215">Error message</span></span> | <span data-ttu-id="0effd-216">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="0effd-216">Recommended steps</span></span> | 
| ---------- | ------------- | ----------------- |
| <span data-ttu-id="0effd-217">**OathCodeIncorrect**</span><span class="sxs-lookup"><span data-stu-id="0effd-217">**OathCodeIncorrect**</span></span> | <span data-ttu-id="0effd-218">Wrong code entered\OATH Code Incorrect (Codice inserito non corretto\Codice OATH errato)</span><span class="sxs-lookup"><span data-stu-id="0effd-218">Wrong code entered\OATH Code Incorrect</span></span> | <span data-ttu-id="0effd-219">Non è un errore, l'utente ha immesso un codice errato.</span><span class="sxs-lookup"><span data-stu-id="0effd-219">Not an error,User has entered wrong code.</span></span> | <span data-ttu-id="0effd-220">L'utente ha immesso il codice errato.</span><span class="sxs-lookup"><span data-stu-id="0effd-220">The user entered the wrong code.</span></span> <span data-ttu-id="0effd-221">Fare in modo che l'utente ripeta l'operazione richiedendo un nuovo codice o effettuando di nuovo l'accesso.</span><span class="sxs-lookup"><span data-stu-id="0effd-221">Have them try again by requesting a new code or signing in again.</span></span> | 
| <span data-ttu-id="0effd-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span><span class="sxs-lookup"><span data-stu-id="0effd-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span></span> | <span data-ttu-id="0effd-223">Maximum allowed code retry reached (Numero massimo di tentativi di inserimento del codice raggiunto)</span><span class="sxs-lookup"><span data-stu-id="0effd-223">Maximum allowed code retry reached</span></span> | <span data-ttu-id="0effd-224">L'utente ha superato il numero di richieste di verifica consentito.</span><span class="sxs-lookup"><span data-stu-id="0effd-224">The user failed the verification challenge too many times.</span></span> <span data-ttu-id="0effd-225">A seconda delle impostazioni, potrebbe essere necessaria una procedura di sblocco da parte dell'amministratore.</span><span class="sxs-lookup"><span data-stu-id="0effd-225">Depending on your settings, they may need to be unblocked by an admin now.</span></span>  |
| <span data-ttu-id="0effd-226">**SMSAuthFailedWrongCodeEntered**</span><span class="sxs-lookup"><span data-stu-id="0effd-226">**SMSAuthFailedWrongCodeEntered**</span></span> | <span data-ttu-id="0effd-227">Wrong code entered/Text Message OTP Incorrect (Codice inserito errato/OTP del messaggio di testo errato)</span><span class="sxs-lookup"><span data-stu-id="0effd-227">Wrong code entered/Text Message OTP Incorrect</span></span> | <span data-ttu-id="0effd-228">L'utente ha immesso il codice errato.</span><span class="sxs-lookup"><span data-stu-id="0effd-228">The user entered the wrong code.</span></span> <span data-ttu-id="0effd-229">Fare in modo che l'utente ripeta l'operazione richiedendo un nuovo codice o effettuando di nuovo l'accesso.</span><span class="sxs-lookup"><span data-stu-id="0effd-229">Have them try again by requesting a new code or signing in again.</span></span> |

## <a name="errors-that-require-support"></a><span data-ttu-id="0effd-230">Errori per cui è necessario il supporto tecnico</span><span class="sxs-lookup"><span data-stu-id="0effd-230">Errors that require support</span></span>

<span data-ttu-id="0effd-231">Se si verifica uno di questi errori, è consigliabile [contattare il supporto tecnico](#contact-microsoft-support) per assistenza diagnostica.</span><span class="sxs-lookup"><span data-stu-id="0effd-231">If you encounter one of these errors, we recommend that you [contact support](#contact-microsoft-support) for diagnostic help.</span></span> <span data-ttu-id="0effd-232">Non esistono procedure standard che consentono di risolvere questi errori.</span><span class="sxs-lookup"><span data-stu-id="0effd-232">There's no standard set of steps that can address these errors.</span></span> <span data-ttu-id="0effd-233">Quando si contatta il supporto tecnico, assicurarsi di includere più informazioni possibili sui passaggi che hanno causato l'errore e le informazioni del tenant.</span><span class="sxs-lookup"><span data-stu-id="0effd-233">When you do contact support, be sure to include as much information as possible about the steps that led to an error, and your tenant information.</span></span>

| <span data-ttu-id="0effd-234">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-234">Error code</span></span> | <span data-ttu-id="0effd-235">Messaggio di errore</span><span class="sxs-lookup"><span data-stu-id="0effd-235">Error message</span></span> |
| ---------- | ------------- |
| <span data-ttu-id="0effd-236">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-236">**InvalidParameter**</span></span> | <span data-ttu-id="0effd-237">Request must not be null (La richiesta non deve essere null)</span><span class="sxs-lookup"><span data-stu-id="0effd-237">Request must not be null</span></span> |
| <span data-ttu-id="0effd-238">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-238">**InvalidParameter**</span></span> | <span data-ttu-id="0effd-239">ObjectId must not be null or empty for ReplicationScope:{0} (ObjectId non deve essere null o vuoto per ReplicationScope: {0})</span><span class="sxs-lookup"><span data-stu-id="0effd-239">ObjectId must not be null or empty for ReplicationScope:{0}</span></span> |
| <span data-ttu-id="0effd-240">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-240">**InvalidParameter**</span></span> | <span data-ttu-id="0effd-241">The length of CompanyName \{0}\ is longer than the maximum allowed length {1} (La lunghezza di CompanyName \{0}\ supera la lunghezza massima consentita {1})</span><span class="sxs-lookup"><span data-stu-id="0effd-241">The length of CompanyName \{0}\ is longer than the maximum allowed length {1}</span></span> |
| <span data-ttu-id="0effd-242">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-242">**InvalidParameter**</span></span> | <span data-ttu-id="0effd-243">UserPrincipalName must not be null or empty (UserPrincipalName non deve essere null o vuoto)</span><span class="sxs-lookup"><span data-stu-id="0effd-243">UserPrincipalName must not be null or empty</span></span> |
| <span data-ttu-id="0effd-244">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-244">**InvalidParameter**</span></span> | <span data-ttu-id="0effd-245">The provided TenantId is not in correct format (Il TenantId inserito non è nel formato corretto)</span><span class="sxs-lookup"><span data-stu-id="0effd-245">The provided TenantId is not in correct format</span></span> |
| <span data-ttu-id="0effd-246">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-246">**InvalidParameter**</span></span> | <span data-ttu-id="0effd-247">SessionId must not be null or empty (SessionId non deve essere null o vuoto)</span><span class="sxs-lookup"><span data-stu-id="0effd-247">SessionId must not be null or empty</span></span> |
| <span data-ttu-id="0effd-248">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="0effd-248">**InvalidParameter**</span></span> | <span data-ttu-id="0effd-249">Could not resolve any ProofData from request or Msods. (Impossibile risolvere ProofData dalla richiesta o Msods.)</span><span class="sxs-lookup"><span data-stu-id="0effd-249">Could not resolve any ProofData from request or Msods.</span></span> <span data-ttu-id="0effd-250">The ProofData is unKnown (ProofData è sconosciuto)</span><span class="sxs-lookup"><span data-stu-id="0effd-250">The ProofData is unKnown</span></span> |
| <span data-ttu-id="0effd-251">**InternalError**</span><span class="sxs-lookup"><span data-stu-id="0effd-251">**InternalError**</span></span> |  |
| <span data-ttu-id="0effd-252">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="0effd-252">**OathCodePinIncorrect**</span></span> |  |
| <span data-ttu-id="0effd-253">**VersionNotSupported**</span><span class="sxs-lookup"><span data-stu-id="0effd-253">**VersionNotSupported**</span></span> |  |
| <span data-ttu-id="0effd-254">**MFAPinNotSetup**</span><span class="sxs-lookup"><span data-stu-id="0effd-254">**MFAPinNotSetup**</span></span> |  |

## <a name="next-steps"></a><span data-ttu-id="0effd-255">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="0effd-255">Next steps</span></span>

### <a name="troubleshoot-user-accounts"></a><span data-ttu-id="0effd-256">Risolvere i problemi relativi agli account utente</span><span class="sxs-lookup"><span data-stu-id="0effd-256">Troubleshoot user accounts</span></span>

<span data-ttu-id="0effd-257">Se gli utenti hanno [Problemi con la verifica in due passaggi](./end-user/multi-factor-authentication-end-user-troubleshoot.md) è necessario aiutarli a diagnosticare autonomamente i problemi.</span><span class="sxs-lookup"><span data-stu-id="0effd-257">If your users are [Having trouble with two-step verification](./end-user/multi-factor-authentication-end-user-troubleshoot.md), help them self-diagnose problems.</span></span> 

### <a name="contact-microsoft-support"></a><span data-ttu-id="0effd-258">Contattare il supporto Microsoft</span><span class="sxs-lookup"><span data-stu-id="0effd-258">Contact Microsoft support</span></span>

<span data-ttu-id="0effd-259">Se è necessario avere un maggiore supporto, contattare un tecnico del supporto tramite il [supporto del server Multi-Factor Authentication di Azure](https://support.microsoft.com/oas/default.aspx?prid=14947).</span><span class="sxs-lookup"><span data-stu-id="0effd-259">If you need additional help, contact a support professional through [Azure Multi-Factor Authentication Server support](https://support.microsoft.com/oas/default.aspx?prid=14947).</span></span> <span data-ttu-id="0effd-260">Quando si contatta Microsoft, è utile includere il maggior numero possibile di informazioni relative al problema.</span><span class="sxs-lookup"><span data-stu-id="0effd-260">When contacting us, it's helpful if you can include as much information about your issue as possible.</span></span> <span data-ttu-id="0effd-261">Le informazioni da dare includono la pagina in cui viene visualizzato l'errore, il codice dell'errore specifico, l'ID della sessione specifico, l'ID dell'utente che visualizza l'errore e i registri debug.</span><span class="sxs-lookup"><span data-stu-id="0effd-261">Information you can supply includes the page where you saw the error, the specific error code, the specific session ID, the ID of the user who saw the error, and debug logs.</span></span>

<span data-ttu-id="0effd-262">Per raccogliere i registri debug per la diagnostica di supporto, attenersi alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="0effd-262">To collect debug logs for support diagnostics, use the following steps:</span></span> 

1. <span data-ttu-id="0effd-263">Aprire un prompt dei comandi di amministratore ed eseguire questi comandi:</span><span class="sxs-lookup"><span data-stu-id="0effd-263">Open an Administrator command prompt and run these commands:</span></span>

   ```
   Mkdir c:\NPS
   Cd NPS
   netsh trace start Scenario=NetConnection capture=yes tracefile=c:\NPS\nettrace.etl
   logman create trace "NPSExtension" -ow -o c:\NPS\NPSExtension.etl -p {7237ED00-E119-430B-AB0F-C63360C8EE81} 0xffffffffffffffff 0xff -nb 16 16 -bs 1024 -mode Circular -f bincirc -max 4096 -ets
   logman update trace "NPSExtension" -p {EC2E6D3A-C958-4C76-8EA4-0262520886FF} 0xffffffffffffffff 0xff -ets
   ```

2. <span data-ttu-id="0effd-264">Riprodurre il problema</span><span class="sxs-lookup"><span data-stu-id="0effd-264">Reproduce the issue</span></span>

3. <span data-ttu-id="0effd-265">Arrestare la traccia con i comandi seguenti:</span><span class="sxs-lookup"><span data-stu-id="0effd-265">Stop the tracing with these commands:</span></span>

   ```
   logman stop "NPSExtension" -ets
   netsh trace stop
   wevtutil epl AuthNOptCh C:\NPS\%computername%_AuthNOptCh.evtx
   wevtutil epl AuthZOptCh C:\NPS\%computername%_AuthZOptCh.evtx
   wevtutil epl AuthZAdminCh C:\NPS\%computername%_AuthZAdminCh.evtx
   Start .
   ```

4. <span data-ttu-id="0effd-266">Comprimere il contenuto della cartella C:\NPS e allegare il file compresso al caso di supporto.</span><span class="sxs-lookup"><span data-stu-id="0effd-266">Zip the contents of the C:\NPS folder and attach the zipped file to the support case.</span></span>


