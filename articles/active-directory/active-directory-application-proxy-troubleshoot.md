---
title: Risolvere i problemi del proxy dell'applicazione | Documentazione Microsoft
description: Illustra come risolvere gli errori nel Proxy applicazione di Azure AD.
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 970caafb-40b8-483c-bb46-c8b032a4fb74
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/21/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: H1Hack27Feb2017; it-pro
ms.openlocfilehash: 3ef74c8d5d5b75eb2bca4e6c994f4718b5226db8
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="troubleshoot-application-proxy-problems-and-error-messages"></a><span data-ttu-id="6cc19-103">Risolvere i problemi e i messaggi di errore del proxy dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="6cc19-103">Troubleshoot Application Proxy problems and error messages</span></span>
<span data-ttu-id="6cc19-104">Se si verificano errori durante l'accesso a un'applicazione pubblicata o durante la pubblicazione di applicazioni, controllare le opzioni seguenti per verificare se il Proxy applicazione di Microsoft Azure AD funziona correttamente: </span><span class="sxs-lookup"><span data-stu-id="6cc19-104">If errors occur in accessing a published application or in publishing applications, check the following options to see if Microsoft Azure AD Application Proxy is working correctly:</span></span>

* <span data-ttu-id="6cc19-105">Aprire la console dei servizi Windows e verificare che il servizio **Microsoft AAD Application Proxy Connector** sia abilitato e in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-105">Open the Windows Services console and verify that the **Microsoft AAD Application Proxy Connector** service is enabled and running.</span></span> <span data-ttu-id="6cc19-106">È anche possibile osservare la pagina delle proprietà del servizio Proxy applicazione, come mostrato nell'immagine seguente: </span><span class="sxs-lookup"><span data-stu-id="6cc19-106">You may also want to look at the Application Proxy service properties page, as shown in the following image:</span></span>  
  <span data-ttu-id="6cc19-107">![Schermata della finestra delle proprietà del connettore Proxy applicazione di Microsoft AAD](./media/active-directory-application-proxy-troubleshoot/connectorproperties.png)</span><span class="sxs-lookup"><span data-stu-id="6cc19-107">![Microsoft AAD Application Proxy Connector Properties window screenshot](./media/active-directory-application-proxy-troubleshoot/connectorproperties.png)</span></span>
* <span data-ttu-id="6cc19-108">Aprire il Visualizzatore eventi e cercare gli eventi correlati al connettore del proxy di applicazione in **Registri applicazioni e servizi** > **Microsoft** > **AadApplicationProxy** > **Connector** > **Admin**.</span><span class="sxs-lookup"><span data-stu-id="6cc19-108">Open Event Viewer and look for Application Proxy connector events in **Applications and Services Logs** > **Microsoft** > **AadApplicationProxy** > **Connector** > **Admin**.</span></span>
* <span data-ttu-id="6cc19-109">Se necessario, [attivando i log di sessione dei connettore proxy di applicazione](application-proxy-understand-connectors.md#under-the-hood) sono disponibili log più dettagliati.</span><span class="sxs-lookup"><span data-stu-id="6cc19-109">If needed, more detailed logs are available by [turning on the Application Proxy connector session logs](application-proxy-understand-connectors.md#under-the-hood).</span></span>

<span data-ttu-id="6cc19-110">Per altre informazioni sullo strumento di risoluzione dei problemi di Azure AD, vedere [Troubleshooting tool to validate connector networking prerequisites](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/03/troubleshooting-tool-to-validate-connector-networking-prerequisites) (Strumento di risoluzione dei problemi per convalidare i prerequisiti di rete del connettore).</span><span class="sxs-lookup"><span data-stu-id="6cc19-110">For more information about the Azure AD Troubleshooting tool, see [Troubleshooting tool to validate connector networking prerequisites](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/03/troubleshooting-tool-to-validate-connector-networking-prerequisites).</span></span>

## <a name="the-page-is-not-rendered-correctly"></a><span data-ttu-id="6cc19-111">La pagina non viene visualizzata correttamente</span><span class="sxs-lookup"><span data-stu-id="6cc19-111">The page is not rendered correctly</span></span>
<span data-ttu-id="6cc19-112">È possibile che si verifichino problemi di rendering o di funzionamento dell'applicazione, ma che non vengano visualizzati messaggi di errore specifici.</span><span class="sxs-lookup"><span data-stu-id="6cc19-112">You may have problems with your application rendering or functioning incorrectly without receiving specific error messages.</span></span> <span data-ttu-id="6cc19-113">Ciò può verificarsi se è stato pubblicato il percorso dell'articolo, ma l'applicazione richiede contenuto esistente al di fuori di tale percorso.</span><span class="sxs-lookup"><span data-stu-id="6cc19-113">This can occur if you published the article path, but the application requires content that exists outside that path.</span></span>

<span data-ttu-id="6cc19-114">Se ad esempio si pubblica il percorso https://yourapp/app, ma l'applicazione chiama le immagini in https://yourapp/media, il rendering di queste ultime non verrà eseguito.</span><span class="sxs-lookup"><span data-stu-id="6cc19-114">For example, if you publish the path https://yourapp/app but the application calls images in https://yourapp/media, they won't be rendered.</span></span> <span data-ttu-id="6cc19-115">Assicurarsi di pubblicare l'applicazione usando il percorso di livello più alto necessario per includere tutto il contenuto rilevante.</span><span class="sxs-lookup"><span data-stu-id="6cc19-115">Make sure that you publish the application using the highest level path you need to include all relevant content.</span></span> <span data-ttu-id="6cc19-116">In questo esempio il percorso sarebbe http://yourapp/.</span><span class="sxs-lookup"><span data-stu-id="6cc19-116">In this example, it would be http://yourapp/.</span></span>

<span data-ttu-id="6cc19-117">Se si modifica il percorso per includere il contenuto a cui viene fatto riferimento, ma è comunque necessario che gli utenti possano accedere a un collegamento più diretto del percorso, vedere il post di blog [Setting the right link for Application Proxy Applications in the Azure AD access panel and Office 365 app launcher](https://blogs.technet.microsoft.com/applicationproxyblog/2016/04/06/setting-the-right-link-for-application-proxy-applications-in-the-azure-ad-access-panel-and-office-365-app-launcher/)(Impostazione del collegamento corretto per le applicazioni del proxy di applicazione nel pannello di accesso di Azure AD e nell'icona di avvio delle app di Office 365).</span><span class="sxs-lookup"><span data-stu-id="6cc19-117">If you change your path to include referenced content, but still need users to land on a deeper link in the path, see the blog post [Setting the right link for Application Proxy applications in the Azure AD access panel and Office 365 app launcher](https://blogs.technet.microsoft.com/applicationproxyblog/2016/04/06/setting-the-right-link-for-application-proxy-applications-in-the-azure-ad-access-panel-and-office-365-app-launcher/).</span></span>

## <a name="connector-errors"></a><span data-ttu-id="6cc19-118">Errori del connettore</span><span class="sxs-lookup"><span data-stu-id="6cc19-118">Connector errors</span></span>

<span data-ttu-id="6cc19-119">Usare lo [strumento per il test delle porte del connettore Proxy di applicazione Azure AD](https://aadap-portcheck.connectorporttest.msappproxy.net/) per verificare che il connettore possa raggiungere il servizio proxy di applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-119">Use the [Azure AD Application Proxy Connector Ports Test Tool](https://aadap-portcheck.connectorporttest.msappproxy.net/) to verify that your connector can reach the Application Proxy service.</span></span> <span data-ttu-id="6cc19-120">Assicurarsi almeno che l'area Stati Uniti centrali e l'area più vicina all'utente abbiano segni di spunta verdi.</span><span class="sxs-lookup"><span data-stu-id="6cc19-120">At a minimum, make sure that the Central US region and the region closest to you have all green checkmarks.</span></span> <span data-ttu-id="6cc19-121">La presenza di più segni di spunta verdi indica una maggiore resilienza.</span><span class="sxs-lookup"><span data-stu-id="6cc19-121">Beyond that, more green checkmarks means greater resiliency.</span></span> 

<span data-ttu-id="6cc19-122">Se la registrazione non riesce durante l'installazione guidata del connettore, esistono due modi per visualizzare il motivo dell'errore.</span><span class="sxs-lookup"><span data-stu-id="6cc19-122">If registration fails during the Connector wizard installation, there are two ways to view the reason for the failure.</span></span> <span data-ttu-id="6cc19-123">Cercare nel log eventi in **Registri applicazioni e servizi\Microsoft\AadApplicationProxy\Connector\Admin** oppure eseguire il comando di Windows PowerShell seguente:</span><span class="sxs-lookup"><span data-stu-id="6cc19-123">Either look in the event log under **Applications and Services Logs\Microsoft\AadApplicationProxy\Connector\Admin**, or run the following Windows PowerShell command:</span></span>

    Get-EventLog application –source “Microsoft AAD Application Proxy Connector” –EntryType “Error” –Newest 1

<span data-ttu-id="6cc19-124">Dopo aver individuato l'errore del connettore nel log eventi, usare questa tabella di errori comuni per risolvere il problema:</span><span class="sxs-lookup"><span data-stu-id="6cc19-124">Once you find the Connector error from the event log, use this table of common errors to resolve the problem:</span></span>

| <span data-ttu-id="6cc19-125">Errore</span><span class="sxs-lookup"><span data-stu-id="6cc19-125">Error</span></span> | <span data-ttu-id="6cc19-126">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="6cc19-126">Recommended steps</span></span> |
| ----- | ----------------- |
| <span data-ttu-id="6cc19-127">La registrazione del connettore non è riuscita: assicurarsi di avere abilitato il Proxy applicazione nel portale di gestione di Azure e di avere immesso il nome utente e la password di Active Directory corretti.</span><span class="sxs-lookup"><span data-stu-id="6cc19-127">Connector registration failed: Make sure you enabled Application Proxy in the Azure Management Portal and that you entered your Active Directory user name and password correctly.</span></span> <span data-ttu-id="6cc19-128">Errore: "Si sono verificati uno o più errori".</span><span class="sxs-lookup"><span data-stu-id="6cc19-128">Error: 'One or more errors occurred.'</span></span> | <span data-ttu-id="6cc19-129">Se si è chiusa la finestra di registrazione senza aver eseguito l'accesso ad Azure AD, eseguire di nuovo la creazione guidata del connettore e registrarlo.</span><span class="sxs-lookup"><span data-stu-id="6cc19-129">If you closed the registration window without signing in to Azure AD, run the Connector wizard again and register the Connector.</span></span> <br><br> <span data-ttu-id="6cc19-130">Se la finestra di registrazione si apre e poi si chiude immediatamente senza consentire all'utente di accedere, è probabile che venga visualizzato questo errore.</span><span class="sxs-lookup"><span data-stu-id="6cc19-130">If the registration window opens and then immediately closes without allowing you to log in, you will probably get this error.</span></span> <span data-ttu-id="6cc19-131">L'errore si verifica quando viene rilevato un errore di rete nel sistema.</span><span class="sxs-lookup"><span data-stu-id="6cc19-131">This error occurs when there is a networking error on your system.</span></span> <span data-ttu-id="6cc19-132">Assicurarsi che sia possibile connettersi da un browser a un sito Web pubblico e che le porte siano aperte come specificato in [Prerequisiti del Proxy dell’applicazione](active-directory-application-proxy-enable.md).</span><span class="sxs-lookup"><span data-stu-id="6cc19-132">Make sure that it is possible to connect from a browser to a public website and that the ports are open as specified in [Application Proxy prerequisites](active-directory-application-proxy-enable.md).</span></span> |
| <span data-ttu-id="6cc19-133">Viene visualizzato un errore di cancellazione nella finestra di registrazione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-133">Clear error is presented in the registration window.</span></span> <span data-ttu-id="6cc19-134">Impossibile proseguire</span><span class="sxs-lookup"><span data-stu-id="6cc19-134">Cannot proceed</span></span> | <span data-ttu-id="6cc19-135">Se viene visualizzato questo errore e la finestra si chiude, è stato commesso un errore durante l'immissione di nome utente o password.</span><span class="sxs-lookup"><span data-stu-id="6cc19-135">If you see this error and then the window closes, you entered the wrong username or password.</span></span> <span data-ttu-id="6cc19-136">Riprovare.</span><span class="sxs-lookup"><span data-stu-id="6cc19-136">Try again.</span></span> |
| <span data-ttu-id="6cc19-137">La registrazione del connettore non è riuscita: assicurarsi di avere abilitato il Proxy applicazione nel portale di gestione di Azure e di avere immesso il nome utente e la password di Active Directory corretti.</span><span class="sxs-lookup"><span data-stu-id="6cc19-137">Connector registration failed: Make sure you enabled Application Proxy in the Azure Management Portal and that you entered your Active Directory user name and password correctly.</span></span> <span data-ttu-id="6cc19-138">Errore: "AADSTS50059: non sono state trovate informazioni di identificazione del tenant nella richiesta o incluse in modo implicito nelle credenziali fornite e la ricerca in base all'URI dell'entità servizio non è riuscita".</span><span class="sxs-lookup"><span data-stu-id="6cc19-138">Error: 'AADSTS50059: No tenant-identifying information found in either the request or implied by any provided credentials and search by service principal URI has failed.</span></span> | <span data-ttu-id="6cc19-139">Si sta provando ad accedere con un account Microsoft e non con un dominio che fa parte dell'ID organizzazione della directory a cui si vuole accedere.</span><span class="sxs-lookup"><span data-stu-id="6cc19-139">You are trying to sign in using a Microsoft Account and not a domain that is part of the organization ID of the directory you are trying to access.</span></span> <span data-ttu-id="6cc19-140">Assicurarsi che l'amministratore faccia parte dello stesso nome di dominio del dominio tenant. Ad esempio, se il dominio di Azure AD è contoso.com, l'amministratore dovrà essere admin@contoso.com.</span><span class="sxs-lookup"><span data-stu-id="6cc19-140">Make sure that the admin is part of the same domain name as the tenant domain, for example, if the Azure AD domain is contoso.com, the admin should be admin@contoso.com.</span></span> |
| <span data-ttu-id="6cc19-141">Non è possibile recuperare i criteri di esecuzione correnti per l'esecuzione degli script PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6cc19-141">Failed to retrieve the current execution policy for running PowerShell scripts.</span></span> | <span data-ttu-id="6cc19-142">Se l'installazione del connettore non riesce, verificare che il criterio di esecuzione di PowerShell non sia disabilitato.</span><span class="sxs-lookup"><span data-stu-id="6cc19-142">If the Connector installation fails, check to make sure that PowerShell execution policy is not disabled.</span></span> <br><br><span data-ttu-id="6cc19-143">1. Aprire l'Editor Criteri di gruppo.</span><span class="sxs-lookup"><span data-stu-id="6cc19-143">1. Open the Group Policy Editor.</span></span><br><span data-ttu-id="6cc19-144">2. Passare a **Configurazione computer** > **Modelli amministrativi** > **Componenti di Windows** > **Windows PowerShell** e fare doppio clic su **Attiva l'esecuzione di script**.</span><span class="sxs-lookup"><span data-stu-id="6cc19-144">2. Go to **Computer Configuration** > **Administrative Templates** > **Windows Components** > **Windows PowerShell** and double-click **Turn on Script Execution**.</span></span><br><span data-ttu-id="6cc19-145">3. L'esecuzione di questo criterio può essere impostata su **Non configurato** o **Abilitato**.</span><span class="sxs-lookup"><span data-stu-id="6cc19-145">3. The execution policy can be set to either **Not Configured** or **Enabled**.</span></span> <span data-ttu-id="6cc19-146">Se l'impostazione è **Abilitato**, verificare che in Opzioni la voce Criteri di esecuzione sia impostata su **Consenti script locali e script remoti firmati** o su **Consenti tutti gli script**.</span><span class="sxs-lookup"><span data-stu-id="6cc19-146">If set to **Enabled**, make sure that under Options, the Execution Policy is set to either **Allow local scripts and remote signed scripts** or to **Allow all scripts**.</span></span> |
| <span data-ttu-id="6cc19-147">Non è stato possibile configurare il connettore.</span><span class="sxs-lookup"><span data-stu-id="6cc19-147">Connector failed to download the configuration.</span></span> | <span data-ttu-id="6cc19-148">Il certificato client del connettore usato per l'autenticazione è scaduto.</span><span class="sxs-lookup"><span data-stu-id="6cc19-148">The Connector’s client certificate, which is used for authentication, expired.</span></span> <span data-ttu-id="6cc19-149">Questo errore può essere visualizzato anche se l'installazione del connettore è protetta da un proxy.</span><span class="sxs-lookup"><span data-stu-id="6cc19-149">This may also occur if you have the Connector installed behind a proxy.</span></span> <span data-ttu-id="6cc19-150">In questo caso il connettore non può accedere a Internet e non riuscirà a fornire applicazioni agli utenti remoti.</span><span class="sxs-lookup"><span data-stu-id="6cc19-150">In this case, the Connector cannot access the Internet and will not be able to provide applications to remote users.</span></span> <span data-ttu-id="6cc19-151">Rinnovare manualmente l'attendibilità con il cmdlet `Register-AppProxyConnector` in Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6cc19-151">Renew trust manually using the `Register-AppProxyConnector` cmdlet in Windows PowerShell.</span></span> <span data-ttu-id="6cc19-152">Se il connettore è protetto da un proxy, è necessario concedere l'accesso a Internet agli account del connettore "servizi di rete" e "sistema locale".</span><span class="sxs-lookup"><span data-stu-id="6cc19-152">If your Connector is behind a proxy, it is necessary to grant Internet access to the Connector accounts “network services” and “local system.”</span></span> <span data-ttu-id="6cc19-153">A questo scopo, è possibile concedere agli account l'accesso al proxy o impostarli perché ignorino il proxy.</span><span class="sxs-lookup"><span data-stu-id="6cc19-153">This can be accomplished either by granting them access to the Proxy or by setting them to bypass the proxy.</span></span> |
| <span data-ttu-id="6cc19-154">La registrazione del connettore non è riuscita: per registrare il connettore, è necessario essere un amministratore globale di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6cc19-154">Connector registration failed: Make sure you are a Global Administrator of your Active Directory to register the Connector.</span></span> <span data-ttu-id="6cc19-155">Errore: "La richiesta di registrazione è stata negata".</span><span class="sxs-lookup"><span data-stu-id="6cc19-155">Error: 'The registration request was denied.'</span></span> | <span data-ttu-id="6cc19-156">L'alias con cui si sta provando ad accedere non è un amministratore nel dominio.</span><span class="sxs-lookup"><span data-stu-id="6cc19-156">The alias you're trying to log in with isn't an admin on this domain.</span></span> <span data-ttu-id="6cc19-157">Il connettore viene sempre installato per la directory a cui appartiene il dominio dell'utente.</span><span class="sxs-lookup"><span data-stu-id="6cc19-157">Your Connector is always installed for the directory that owns the user’s domain.</span></span> <span data-ttu-id="6cc19-158">Assicurarsi che l'account amministratore con cui si sta provando ad accedere disponga delle autorizzazioni globali per il tenant di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6cc19-158">Make sure that the admin account you are trying to sign in with has global permissions to the Azure AD tenant.</span></span> |

## <a name="kerberos-errors"></a><span data-ttu-id="6cc19-159">Errori di Kerberos</span><span class="sxs-lookup"><span data-stu-id="6cc19-159">Kerberos errors</span></span>

<span data-ttu-id="6cc19-160">Questa tabella contiene gli errori più comuni generati dall'installazione e dalla configurazione di Kerberos e include suggerimenti per la risoluzione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-160">This table covers the more common errors that come from Kerberos setup and configuration, and includes suggestions for resolution.</span></span>

| <span data-ttu-id="6cc19-161">Errore</span><span class="sxs-lookup"><span data-stu-id="6cc19-161">Error</span></span> | <span data-ttu-id="6cc19-162">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="6cc19-162">Recommended steps</span></span> |
| ----- | ----------------- |
| <span data-ttu-id="6cc19-163">Non è possibile recuperare i criteri di esecuzione correnti per l'esecuzione degli script PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6cc19-163">Failed to retrieve the current execution policy for running PowerShell scripts.</span></span> | <span data-ttu-id="6cc19-164">Se l'installazione del connettore non riesce, verificare che il criterio di esecuzione di PowerShell non sia disabilitato.</span><span class="sxs-lookup"><span data-stu-id="6cc19-164">If the Connector installation fails, check to make sure that PowerShell execution policy is not disabled.</span></span><br><br><span data-ttu-id="6cc19-165">1. Aprire l'Editor Criteri di gruppo.</span><span class="sxs-lookup"><span data-stu-id="6cc19-165">1. Open the Group Policy Editor.</span></span><br><span data-ttu-id="6cc19-166">2. Passare a **Configurazione computer** > **Modelli amministrativi** > **Componenti di Windows** > **Windows PowerShell** e fare doppio clic su **Attiva l'esecuzione di script**.</span><span class="sxs-lookup"><span data-stu-id="6cc19-166">2. Go to **Computer Configuration** > **Administrative Templates** > **Windows Components** > **Windows PowerShell** and double-click **Turn on Script Execution**.</span></span><br><span data-ttu-id="6cc19-167">3. L'esecuzione di questo criterio può essere impostata su **Non configurato** o **Abilitato**.</span><span class="sxs-lookup"><span data-stu-id="6cc19-167">3. The execution policy can be set to either **Not Configured** or **Enabled**.</span></span> <span data-ttu-id="6cc19-168">Se l'impostazione è **Abilitato**, verificare che in Opzioni la voce Criteri di esecuzione sia impostata su **Consenti script locali e script remoti firmati** o su **Consenti tutti gli script**.</span><span class="sxs-lookup"><span data-stu-id="6cc19-168">If set to **Enabled**, make sure that under Options, the Execution Policy is set to either **Allow local scripts and remote signed scripts** or to **Allow all scripts**.</span></span> |
| <span data-ttu-id="6cc19-169">12008: Azure AD ha superato il numero massimo di tentativi di autenticazione Kerberos consentiti al server back-end.</span><span class="sxs-lookup"><span data-stu-id="6cc19-169">12008 - Azure AD exceeded the maximum number of permitted Kerberos authentication attempts to the backend server.</span></span> | <span data-ttu-id="6cc19-170">Questo errore può indicare una configurazione non corretta tra Azure AD e il server back-end dell'applicazione oppure un problema di configurazione di data e ora su entrambi i computer.</span><span class="sxs-lookup"><span data-stu-id="6cc19-170">This error may indicate incorrect configuration between Azure AD and the backend application server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="6cc19-171">Il server back-end ha rifiutato il ticket Kerberos creato da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6cc19-171">The backend server declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="6cc19-172">Verificare che Azure AD e il server applicazioni back-end siano configurati correttamente.</span><span class="sxs-lookup"><span data-stu-id="6cc19-172">Verify that Azure AD and the backend application server are configured correctly.</span></span> <span data-ttu-id="6cc19-173">Assicurarsi che la configurazione di data e ora in Azure AD e nel server back-end dell'applicazione siano sincronizzate.</span><span class="sxs-lookup"><span data-stu-id="6cc19-173">Make sure that the time and date configuration on the Azure AD and the backend application server are synchronized.</span></span> |
| <span data-ttu-id="6cc19-174">13016: Azure AD non riesce a recuperare un ticket Kerberos per conto dell'utente, perché non esiste alcun UPN nel token perimetrale o nel cookie di accesso.</span><span class="sxs-lookup"><span data-stu-id="6cc19-174">13016 - Azure AD cannot retrieve a Kerberos ticket on behalf of the user because there is no UPN in the edge token or in the access cookie.</span></span> | <span data-ttu-id="6cc19-175">Si è verificato un problema con la configurazione del servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="6cc19-175">There is a problem with the STS configuration.</span></span> <span data-ttu-id="6cc19-176">Correggere la configurazione dell'attestazione UPN nel servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="6cc19-176">Fix the UPN claim configuration in the STS.</span></span> |
| <span data-ttu-id="6cc19-177">13019: Azure AD non riesce a recuperare un ticket Kerberos per conto dell'utente a causa dell'errore generale dell'API seguente.</span><span class="sxs-lookup"><span data-stu-id="6cc19-177">13019 - Azure AD cannot retrieve a Kerberos ticket on behalf of the user because of the following general API error.</span></span> | <span data-ttu-id="6cc19-178">Questo evento può indicare una configurazione non corretta tra Azure AD e il server controller di dominio oppure un problema di configurazione di data e ora su entrambi i computer.</span><span class="sxs-lookup"><span data-stu-id="6cc19-178">This event may indicate incorrect configuration between Azure AD and the domain controller server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="6cc19-179">Il controller di dominio ha rifiutato il ticket Kerberos creato da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6cc19-179">The domain controller declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="6cc19-180">Verificare che Azure AD e il server applicazioni back-end siano configurati correttamente, in particolare la configurazione del nome dell'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="6cc19-180">Verify that Azure AD and the backend application server are configured correctly, especially the SPN configuration.</span></span> <span data-ttu-id="6cc19-181">Verificare che Azure AD sia aggiunto allo stesso dominio del controller di dominio, per assicurarsi che il controller di dominio stabilisca relazioni di trust con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6cc19-181">Make sure the Azure AD is domain joined to the same domain as the domain controller to ensure that the domain controller establishes trust with Azure AD.</span></span> <span data-ttu-id="6cc19-182">Assicurarsi che la configurazione di data e ora in Azure AD e nel controller di dominio dell'applicazione siano sincronizzate.</span><span class="sxs-lookup"><span data-stu-id="6cc19-182">Make sure that the time and date configuration on the Azure AD and the domain controller are synchronized.</span></span> |
| <span data-ttu-id="6cc19-183">13020: Azure AD non riesce a recuperare un ticket Kerberos per conto dell'utente, perché il nome dell'entità servizio del server back-end non è definito.</span><span class="sxs-lookup"><span data-stu-id="6cc19-183">13020 - Azure AD cannot retrieve a Kerberos ticket on behalf of the user because the backend server SPN is not defined.</span></span> | <span data-ttu-id="6cc19-184">Questo evento può indicare una configurazione non corretta tra Azure AD e il server controller di dominio oppure un problema di configurazione di data e ora su entrambi i computer.</span><span class="sxs-lookup"><span data-stu-id="6cc19-184">This event may indicate incorrect configuration between Azure AD and the domain controller server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="6cc19-185">Il controller di dominio ha rifiutato il ticket Kerberos creato da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6cc19-185">The domain controller declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="6cc19-186">Verificare che Azure AD e il server applicazioni back-end siano configurati correttamente, in particolare la configurazione del nome dell'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="6cc19-186">Verify that Azure AD and the backend application server are configured correctly, especially the SPN configuration.</span></span> <span data-ttu-id="6cc19-187">Verificare che Azure AD sia aggiunto allo stesso dominio del controller di dominio, per assicurarsi che il controller di dominio stabilisca relazioni di trust con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6cc19-187">Make sure the Azure AD is domain joined to the same domain as the domain controller to ensure that the domain controller establishes trust with Azure AD.</span></span> <span data-ttu-id="6cc19-188">Assicurarsi che la configurazione di data e ora in Azure AD e nel controller di dominio dell'applicazione siano sincronizzate.</span><span class="sxs-lookup"><span data-stu-id="6cc19-188">Make sure that the time and date configuration on the Azure AD and the domain controller are synchronized.</span></span> |
| <span data-ttu-id="6cc19-189">13022: Azure AD non riesce ad autenticare l'utente perché il server back-end risponde ai tentativi di autenticazione Kerberos con un errore HTTP 401.</span><span class="sxs-lookup"><span data-stu-id="6cc19-189">13022 - Azure AD cannot authenticate the user because the backend server responds to Kerberos authentication attempts with an HTTP 401 error.</span></span> | <span data-ttu-id="6cc19-190">Questo evento può indicare una configurazione non corretta tra Azure AD e il server back-end dell'applicazione oppure un problema di configurazione di data e ora su entrambi i computer.</span><span class="sxs-lookup"><span data-stu-id="6cc19-190">This event may indicate incorrect configuration between Azure AD and the backend application server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="6cc19-191">Il server back-end ha rifiutato il ticket Kerberos creato da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6cc19-191">The backend server declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="6cc19-192">Verificare che Azure AD e il server applicazioni back-end siano configurati correttamente.</span><span class="sxs-lookup"><span data-stu-id="6cc19-192">Verify that Azure AD and the backend application server are configured correctly.</span></span> <span data-ttu-id="6cc19-193">Assicurarsi che la configurazione di data e ora in Azure AD e nel server back-end dell'applicazione siano sincronizzate.</span><span class="sxs-lookup"><span data-stu-id="6cc19-193">Make sure that the time and date configuration on the Azure AD and the backend application server are synchronized.</span></span> |

## <a name="end-user-errors"></a><span data-ttu-id="6cc19-194">Errori utente finale</span><span class="sxs-lookup"><span data-stu-id="6cc19-194">End-user errors</span></span>

<span data-ttu-id="6cc19-195">Questo elenco contiene gli errori che potrebbero verificarsi quando gli utenti finali tentano di accedere all'app senza riuscirci.</span><span class="sxs-lookup"><span data-stu-id="6cc19-195">This list covers errors that your end users might encounter when they try to access the app and fail.</span></span> 

| <span data-ttu-id="6cc19-196">Errore</span><span class="sxs-lookup"><span data-stu-id="6cc19-196">Error</span></span> | <span data-ttu-id="6cc19-197">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="6cc19-197">Recommended steps</span></span> |
| ----- | ----------------- |
| <span data-ttu-id="6cc19-198">Il sito Web non riesce a visualizzare la pagina.</span><span class="sxs-lookup"><span data-stu-id="6cc19-198">The website cannot display the page.</span></span> | <span data-ttu-id="6cc19-199">L'utente può visualizzare questo errore quando prova ad accedere all'app pubblicata, se l'applicazione è un'applicazione con autenticazione integrata di Windows.</span><span class="sxs-lookup"><span data-stu-id="6cc19-199">Your user may get this error when trying to access the app you published if the application is an IWA application.</span></span> <span data-ttu-id="6cc19-200">Il nome dell'entità servizio dell'applicazione definito potrebbe non essere corretto.</span><span class="sxs-lookup"><span data-stu-id="6cc19-200">The defined SPN for this application may be incorrect.</span></span> <span data-ttu-id="6cc19-201">Per le app con autenticazione integrata di Windows, assicurarsi che il nome dell'entità servizio configurato per l'applicazione sia corretto.</span><span class="sxs-lookup"><span data-stu-id="6cc19-201">For IWA apps, make sure that the SPN configured for this application is correct.</span></span> |
| <span data-ttu-id="6cc19-202">Il sito Web non riesce a visualizzare la pagina.</span><span class="sxs-lookup"><span data-stu-id="6cc19-202">The website cannot display the page.</span></span> | <span data-ttu-id="6cc19-203">L'utente può visualizzare questo errore quando prova ad accedere all'app pubblicata, se si tratta di un'applicazione OWA.</span><span class="sxs-lookup"><span data-stu-id="6cc19-203">Your user may get this error when trying to access the app you published if the application is an OWA application.</span></span> <span data-ttu-id="6cc19-204">Il problema può dipendere da uno dei motivi seguenti: </span><span class="sxs-lookup"><span data-stu-id="6cc19-204">This could be caused by one of the following:</span></span><br><li><span data-ttu-id="6cc19-205">Il nome dell'entità servizio dell'applicazione definito non è corretto.</span><span class="sxs-lookup"><span data-stu-id="6cc19-205">The defined SPN for this application is incorrect.</span></span> <span data-ttu-id="6cc19-206">Assicurarsi che il nome dell'entità servizio configurato per l'applicazione sia corretto.</span><span class="sxs-lookup"><span data-stu-id="6cc19-206">Make sure that the SPN configured for this application is correct.</span></span></li><li><span data-ttu-id="6cc19-207">L'utente che ha provato ad accedere all'applicazione sta usando un account Microsoft invece dell'account aziendale appropriato oppure si tratta di un utente guest.</span><span class="sxs-lookup"><span data-stu-id="6cc19-207">The user who tried to access the application is using a Microsoft account rather than the proper corporate account to sign in, or the user is a guest user.</span></span> <span data-ttu-id="6cc19-208">Assicurarsi che l'utente acceda con il proprio account aziendale corrispondente al dominio dell'applicazione pubblicata.</span><span class="sxs-lookup"><span data-stu-id="6cc19-208">Make sure the user signs in using their corporate account that matches the domain of the published application.</span></span> <span data-ttu-id="6cc19-209">Gli utenti con account Microsoft o guest non possono accedere alle applicazioni con autenticazione integrata di Windows.</span><span class="sxs-lookup"><span data-stu-id="6cc19-209">Microsoft Account users and guest cannot access IWA applications.</span></span></li><li><span data-ttu-id="6cc19-210">L'utente che ha provato ad accedere all'applicazione non è definito correttamente per l'applicazione sul lato locale.</span><span class="sxs-lookup"><span data-stu-id="6cc19-210">The user who tried to access the application is not properly defined for this application on the on-prem side.</span></span> <span data-ttu-id="6cc19-211">Assicurarsi che l'utente abbia le autorizzazioni appropriate definite per questa applicazione back-end nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="6cc19-211">Make sure that this user has the proper permissions as defined for this backend application on the on-prem machine.</span></span> |
| <span data-ttu-id="6cc19-212">Non è possibile accedere a questa app aziendale.</span><span class="sxs-lookup"><span data-stu-id="6cc19-212">This corporate app can’t be accessed.</span></span> <span data-ttu-id="6cc19-213">L'utente non è autorizzato ad accedere a questa applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-213">You are not authorized to access this application.</span></span> <span data-ttu-id="6cc19-214">Autorizzazione non riuscita.</span><span class="sxs-lookup"><span data-stu-id="6cc19-214">Authorization failed.</span></span> <span data-ttu-id="6cc19-215">Assicurarsi di assegnare all'utente l'accesso a questa applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-215">Make sure to assign the user with access to this application.</span></span> | <span data-ttu-id="6cc19-216">Gli utenti possono visualizzare questo errore quando provano ad accedere all'app pubblicata usando un account Microsoft invece del proprio account aziendale.</span><span class="sxs-lookup"><span data-stu-id="6cc19-216">Your users may get this error when trying to access the app you published if they use Microsoft accounts instead of their corporate account to sign in.</span></span> <span data-ttu-id="6cc19-217">Anche gli utenti guest possono visualizzare questo errore.</span><span class="sxs-lookup"><span data-stu-id="6cc19-217">Guest users may also get this error.</span></span> <span data-ttu-id="6cc19-218">Gli utenti con account Microsoft o guest non possono accedere alle applicazioni con autenticazione integrata di Windows.</span><span class="sxs-lookup"><span data-stu-id="6cc19-218">Microsoft Account users and guests cannot access IWA applications.</span></span> <span data-ttu-id="6cc19-219">Assicurarsi che l'utente acceda con il proprio account aziendale corrispondente al dominio dell'applicazione pubblicata.</span><span class="sxs-lookup"><span data-stu-id="6cc19-219">Make sure the user signs in using their corporate account that matches the domain of the published application.</span></span><br><br><span data-ttu-id="6cc19-220">L'utente potrebbe non essere stato assegnato per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-220">You may not have assigned the user for this application.</span></span> <span data-ttu-id="6cc19-221">Passare alla scheda **Applicazione**, quindi in **Utenti e gruppi** assegnare l'utente o il gruppo di utenti all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-221">Go to the **Application** tab, and under **Users and Groups**, assign this user or user group to this application.</span></span> |
| <span data-ttu-id="6cc19-222">Non è possibile accedere a questa app aziendale in questo momento.</span><span class="sxs-lookup"><span data-stu-id="6cc19-222">This corporate app can’t be accessed right now.</span></span> <span data-ttu-id="6cc19-223">Riprovare più tardi. Timeout del connettore.</span><span class="sxs-lookup"><span data-stu-id="6cc19-223">Please try again later…The connector timed out.</span></span> | <span data-ttu-id="6cc19-224">Gli utenti possono visualizzare questo errore quando provano ad accedere all'app pubblicata, se non sono definiti correttamente per questa applicazione sul lato locale.</span><span class="sxs-lookup"><span data-stu-id="6cc19-224">Your users may get this error when trying to access the app you published if they are not properly defined for this application on the on-prem side.</span></span> <span data-ttu-id="6cc19-225">Assicurarsi che l'utente abbia le autorizzazioni appropriate definite per questa applicazione back-end nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="6cc19-225">Make sure that your users have the proper permissions as defined for this backend application on the on-prem machine.</span></span> |
| <span data-ttu-id="6cc19-226">Non è possibile accedere a questa app aziendale.</span><span class="sxs-lookup"><span data-stu-id="6cc19-226">This corporate app can’t be accessed.</span></span> <span data-ttu-id="6cc19-227">L'utente non è autorizzato ad accedere a questa applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cc19-227">You are not authorized to access this application.</span></span> <span data-ttu-id="6cc19-228">Autorizzazione non riuscita.</span><span class="sxs-lookup"><span data-stu-id="6cc19-228">Authorization failed.</span></span> <span data-ttu-id="6cc19-229">Accertarsi che l'utente abbia una licenza per Azure Active Directory Premium o Basic.</span><span class="sxs-lookup"><span data-stu-id="6cc19-229">Make sure that the user has a license for Azure Active Directory Premium or Basic.</span></span> | <span data-ttu-id="6cc19-230">Questo errore potrebbe essere visualizzato dall'utente quando prova ad accedere all'app pubblicata, se non gli è stata esplicitamente assegnata una licenza Premium/Basic dall'amministratore del sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="6cc19-230">Your users may get this error when trying to access the app you published if they weren't explicitly assigned with a Premium/Basic license by the subscriber’s administrator.</span></span> <span data-ttu-id="6cc19-231">Accedere alla scheda **Licenze** di Active Directory del sottoscrittore e verificare che all'utente o al gruppo di utenti sia stata assegnata una licenza Premium o Basic.</span><span class="sxs-lookup"><span data-stu-id="6cc19-231">Go to the subscriber’s Active Directory **Licenses** tab and make sure that this user or user group is assigned a Premium or Basic license.</span></span> |

## <a name="my-error-wasnt-listed-here"></a><span data-ttu-id="6cc19-232">L'errore non è riportato in questi elenchi</span><span class="sxs-lookup"><span data-stu-id="6cc19-232">My error wasn't listed here</span></span>

<span data-ttu-id="6cc19-233">Se si verifica un errore o un problema con il Proxy dell'applicazione Azure AD che non è elencato in questa guida alla risoluzione dei problemi, è necessario segnalarlo.</span><span class="sxs-lookup"><span data-stu-id="6cc19-233">If you encounter an error or problem with Azure AD Application Proxy that isn't listed in this troubleshooting guide, we'd like to hear about it.</span></span> <span data-ttu-id="6cc19-234">Invia un'email al [team che si occupa del feedback](mailto:aadapfeedback@microsoft.com) specificando i dettagli dell'errore che si è verificato.</span><span class="sxs-lookup"><span data-stu-id="6cc19-234">Send an email to our [feedback team](mailto:aadapfeedback@microsoft.com) with the details of the error you encountered.</span></span>

## <a name="see-also"></a><span data-ttu-id="6cc19-235">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="6cc19-235">See also</span></span>
* [<span data-ttu-id="6cc19-236">Abilitare il proxy di applicazione per Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="6cc19-236">Enable Application Proxy for Azure Active Directory</span></span>](active-directory-application-proxy-enable.md)
* [<span data-ttu-id="6cc19-237">Pubblicare le applicazioni con il proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="6cc19-237">Publish applications with Application Proxy</span></span>](active-directory-application-proxy-publish.md)
* [<span data-ttu-id="6cc19-238">Abilita Single Sign-On</span><span class="sxs-lookup"><span data-stu-id="6cc19-238">Enable single sign-on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
* [<span data-ttu-id="6cc19-239">Abilitare l'accesso condizionale</span><span class="sxs-lookup"><span data-stu-id="6cc19-239">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)


<!--Image references-->
[1]: ./media/active-directory-application-proxy-troubleshoot/connectorproperties.png
[2]: ./media/active-directory-application-proxy-troubleshoot/sessionlog.png
