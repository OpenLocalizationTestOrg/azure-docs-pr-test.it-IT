---
title: Messaggi AS2 per l'integrazione aziendale B2B - App per la logica di Azure | Documentazione Microsoft
description: Scambiare messaggi AS2 per l'integrazione aziendale B2B con App per la logica di Azure
services: logic-apps
documentationcenter: .net,nodejs,java
author: MandiOhlinger
manager: anneta
editor: 
ms.assetid: c9b7e1a9-4791-474c-855f-988bd7bf4b7f
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/08/2017
ms.author: LADocs; mandia
ms.openlocfilehash: 91b2f16611b88aa4b9395ca301d88042065ad9dd
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="exchange-as2-messages-for-enterprise-integration-with-logic-apps"></a><span data-ttu-id="cc6f8-103">Scambiare messaggi AS2 per l'integrazione aziendale con le app per la logica di Azure</span><span class="sxs-lookup"><span data-stu-id="cc6f8-103">Exchange AS2 messages for enterprise integration with logic apps</span></span>

<span data-ttu-id="cc6f8-104">Per poter scambiare messaggi AS2 con App per la logica di Azure, è necessario creare un contratto AS2 e archiviarlo nell'account di integrazione.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-104">Before you can exchange AS2 messages for Azure Logic Apps, you must create an AS2 agreement and store that agreement in your integration account.</span></span> <span data-ttu-id="cc6f8-105">Di seguito viene illustrata la procedura per la creazione di un contratto AS2.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-105">Here are the steps for how to create an AS2 agreement.</span></span>

## <a name="before-you-start"></a><span data-ttu-id="cc6f8-106">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="cc6f8-106">Before you start</span></span>

<span data-ttu-id="cc6f8-107">Sono necessari gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="cc6f8-107">Here's the items you need:</span></span>

* <span data-ttu-id="cc6f8-108">Un [account di integrazione](../logic-apps/logic-apps-enterprise-integration-accounts.md) già definito e associato alla sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-108">An [integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) that's already defined and associated with your Azure subscription</span></span>
* <span data-ttu-id="cc6f8-109">Almeno due [partner](logic-apps-enterprise-integration-partners.md) già definiti nell'account di integrazione e configurati con il qualificatore AS2 in **Identità di business**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-109">At least two [partners](logic-apps-enterprise-integration-partners.md) that are already defined in your integration account and configured with the AS2 qualifier under **Business Identities**</span></span>

> [!NOTE]
> <span data-ttu-id="cc6f8-110">Quando si crea un contratto, il contenuto del file del contratto deve corrispondere al tipo di contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-110">When you create an agreement, the content in the agreement file must match the agreement type.</span></span>    

<span data-ttu-id="cc6f8-111">Dopo aver [creato un account di integrazione](../logic-apps/logic-apps-enterprise-integration-accounts.md) e [aggiunto i partner](logic-apps-enterprise-integration-partners.md), è possibile creare un contratto AS2 attenendosi alla procedura seguente.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-111">After you [create an integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) and [add partners](logic-apps-enterprise-integration-partners.md), you can create an AS2 agreement by following these steps.</span></span>

## <a name="create-an-as2-agreement"></a><span data-ttu-id="cc6f8-112">Creare un contratto AS2</span><span class="sxs-lookup"><span data-stu-id="cc6f8-112">Create an AS2 agreement</span></span>

1.  <span data-ttu-id="cc6f8-113">Accedere al [Portale di Azure](http://portal.azure.com "Portale di Azure").</span><span class="sxs-lookup"><span data-stu-id="cc6f8-113">Sign in to the [Azure portal](http://portal.azure.com "Azure portal").</span></span>  

2.  <span data-ttu-id="cc6f8-114">Fare clic su **Altri servizi** nel menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-114">From the left menu, select **More services**.</span></span> <span data-ttu-id="cc6f8-115">Nella casella di ricerca, digitare **integrazione** come filtro.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-115">In the search box, enter **integration** as your filter.</span></span> <span data-ttu-id="cc6f8-116">Nell'elenco dei risultati selezionare **Account di integrazione**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-116">In the results list, select **Integration Accounts**.</span></span>

    > [!TIP]
    > <span data-ttu-id="cc6f8-117">Se **Altri servizi** non viene visualizzato, potrebbe essere necessario espandere il menu.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-117">If you don't see **More services**, you might have to expand the menu first.</span></span> <span data-ttu-id="cc6f8-118">Nella parte superiore del menu compresso, selezionare **Visualizza menu**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-118">At the top of the collapsed menu, select **Show menu**.</span></span>

    ![Altri servizi, filtro su "integrazione", selezionare "Account di integrazione"](./media/logic-apps-enterprise-integration-agreements/overview-1.png)

3. <span data-ttu-id="cc6f8-120">Nel pannello **Account di integrazione** visualizzato selezionare l'account di integrazione nel quale creare il contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-120">In the **Integration Accounts** blade that opens, select the integration account where you want to create the agreement.</span></span>
<span data-ttu-id="cc6f8-121">Se non viene visualizzato alcun account di integrazione, [crearne prima uno](../logic-apps/logic-apps-enterprise-integration-accounts.md "Tutte le informazioni sugli account di integrazione").</span><span class="sxs-lookup"><span data-stu-id="cc6f8-121">If you don't see any integration accounts, [create one first](../logic-apps/logic-apps-enterprise-integration-accounts.md "All about integration accounts").</span></span>  

    ![Selezionare l'account di integrazione in cui si vuole creare il contratto.](./media/logic-apps-enterprise-integration-overview/overview-3.png)

4. <span data-ttu-id="cc6f8-123">Selezionare il riquadro **Accordi**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-123">Choose the **Agreements** tile.</span></span> <span data-ttu-id="cc6f8-124">Se non è presente il riquadro dei contratti, aggiungerlo.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-124">If you don't have an Agreements tile, add the tile first.</span></span>

    ![Selezionare il riquadro "Contratti"](./media/logic-apps-enterprise-integration-agreements/agreement-1.png)

5. <span data-ttu-id="cc6f8-126">Nel pannello Contratti visualizzato, selezionare **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-126">In the Agreements blade that opens, choose **Add**.</span></span>

    ![Selezionare "Aggiungi"](./media/logic-apps-enterprise-integration-agreements/agreement-2.png)

6. <span data-ttu-id="cc6f8-128">In **Aggiungi**, digitare un **nome** per il contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-128">Under **Add**, enter a **Name** for your agreement.</span></span> <span data-ttu-id="cc6f8-129">In **Tipo di contratto**selezionare **AS2**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-129">For **Agreement type**, select **AS2**.</span></span> <span data-ttu-id="cc6f8-130">Selezionare il **Partner host**, l'**Identità host**, il **Partner guest**, e l'**Identità guest** per il contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-130">Select the **Host Partner**, **Host Identity**, **Guest Partner**, and **Guest Identity** for your agreement.</span></span>

    ![Fornire i dettagli relativi al contratto](./media/logic-apps-enterprise-integration-agreements/agreement-3.png)  

    | <span data-ttu-id="cc6f8-132">Proprietà</span><span class="sxs-lookup"><span data-stu-id="cc6f8-132">Property</span></span> | <span data-ttu-id="cc6f8-133">Descrizione</span><span class="sxs-lookup"><span data-stu-id="cc6f8-133">Description</span></span> |
    | --- | --- |
    | <span data-ttu-id="cc6f8-134">Nome</span><span class="sxs-lookup"><span data-stu-id="cc6f8-134">Name</span></span> |<span data-ttu-id="cc6f8-135">Nome del contratto</span><span class="sxs-lookup"><span data-stu-id="cc6f8-135">Name of the agreement</span></span> |
    | <span data-ttu-id="cc6f8-136">Tipo di contratto</span><span class="sxs-lookup"><span data-stu-id="cc6f8-136">Agreement Type</span></span> | <span data-ttu-id="cc6f8-137">Deve essere AS2</span><span class="sxs-lookup"><span data-stu-id="cc6f8-137">Should be AS2</span></span> |
    | <span data-ttu-id="cc6f8-138">Host Partner (Partner host)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-138">Host Partner</span></span> |<span data-ttu-id="cc6f8-139">Un contratto prevede un partner host e un partner guest.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-139">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="cc6f8-140">Il partner host rappresenta l'organizzazione che configura il contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-140">The host partner represents the organization that configures the agreement.</span></span> |
    | <span data-ttu-id="cc6f8-141">Host Identity (Identità host)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-141">Host Identity</span></span> |<span data-ttu-id="cc6f8-142">Un identificatore per il partner host</span><span class="sxs-lookup"><span data-stu-id="cc6f8-142">An identifier for the host partner</span></span> |
    | <span data-ttu-id="cc6f8-143">Guest Partner (Partner guest)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-143">Guest Partner</span></span> |<span data-ttu-id="cc6f8-144">Un contratto prevede un partner host e un partner guest.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-144">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="cc6f8-145">Il partner guest rappresenta l'organizzazione che intrattiene attività commerciali con il partner host.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-145">The guest partner represents the organization that's doing business with the host partner.</span></span> |
    | <span data-ttu-id="cc6f8-146">identità guest</span><span class="sxs-lookup"><span data-stu-id="cc6f8-146">Guest Identity</span></span> |<span data-ttu-id="cc6f8-147">Un identificatore per il partner guest</span><span class="sxs-lookup"><span data-stu-id="cc6f8-147">An identifier for the guest partner</span></span> |
    | <span data-ttu-id="cc6f8-148">Receive Settings (Impostazioni di ricezione)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-148">Receive Settings</span></span> |<span data-ttu-id="cc6f8-149">Queste proprietà si applicano a tutti i messaggi ricevuti da un contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-149">These properties apply to all messages received by an agreement.</span></span> |
    | <span data-ttu-id="cc6f8-150">Send Settings (Impostazioni di invio)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-150">Send Settings</span></span> |<span data-ttu-id="cc6f8-151">Queste proprietà si applicano a tutti i messaggi inviati da un contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-151">These properties apply to all messages sent by an agreement.</span></span> |

## <a name="configure-how-your-agreement-handles-received-messages"></a><span data-ttu-id="cc6f8-152">Configurare il modo in cui il contratto riceve i messaggi</span><span class="sxs-lookup"><span data-stu-id="cc6f8-152">Configure how your agreement handles received messages</span></span>

<span data-ttu-id="cc6f8-153">Dopo aver impostato le proprietà del contratto, è possibile configurare il modo in cui il contratto identifica e gestisce i messaggi in arrivo ricevuti dal partner tramite il presente contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-153">Now that you've set the agreement properties, you can configure how this agreement identifies and handles incoming messages received from your partner through this agreement.</span></span>

1.  <span data-ttu-id="cc6f8-154">In **Aggiungi**, selezionare **Impostazioni di ricezione**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-154">Under **Add**, select **Receive Settings**.</span></span>
<span data-ttu-id="cc6f8-155">Configurare queste proprietà in base al contratto con il partner con cui si scambiano i messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-155">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="cc6f8-156">Per le descrizioni delle proprietà, vedere la tabella in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-156">For property descriptions, see the table in this section.</span></span>

    ![Configurare "Impostazioni di ricezione"](./media/logic-apps-enterprise-integration-agreements/agreement-4.png)

2. <span data-ttu-id="cc6f8-158">Facoltativamente, è possibile eseguire l'override delle proprietà dei messaggi in arrivo selezionando **Ignora proprietà del messaggio**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-158">Optionally, you can override the properties of incoming messages by selecting **Override message properties**.</span></span>

3. <span data-ttu-id="cc6f8-159">Selezionare **Il messaggio deve essere firmato** per richiedere la firma di tutti i messaggi in arrivo.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-159">To require all incoming messages to be signed, select **Message should be signed**.</span></span> <span data-ttu-id="cc6f8-160">Per convalidare la firma dei messaggi, selezionare un **certificato pubblico del partner guest** nell'elenco [Certificato](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="cc6f8-160">From the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for validating the signature on the messages.</span></span> <span data-ttu-id="cc6f8-161">Se non si dispone del certificato, crearne uno.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-161">Or create the certificate, if you don't have one.</span></span>

4.  <span data-ttu-id="cc6f8-162">Per richiedere la crittografia di tutti i messaggi in arrivo, selezionare **Il messaggio deve essere crittografato**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-162">To require all incoming messages to be encrypted, select **Message should be encrypted**.</span></span> <span data-ttu-id="cc6f8-163">Per decrittografare i messaggi in arrivo, dall'elenco **Certificato** selezionare un [certificato privato del partner host](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="cc6f8-163">From the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for decrypting incoming messages.</span></span> <span data-ttu-id="cc6f8-164">Se non si dispone del certificato, crearne uno.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-164">Or create the certificate, if you don't have one.</span></span>

5. <span data-ttu-id="cc6f8-165">Per richiedere la compressione dei messaggi, selezionare **Il messaggio deve essere compresso**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-165">To require messages to be compressed, select **Message should be compressed**.</span></span>

6. <span data-ttu-id="cc6f8-166">Per inviare una notifica sulla ricezione del messaggio (MDN) per i messaggi ricevuti, selezionare **Invia notifica sulla ricezione del messaggio**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-166">To send a synchronous message disposition notification (MDN) for received messages, select **Send MDN**.</span></span>

7. <span data-ttu-id="cc6f8-167">Per inviare notifiche sulla ricezione del messaggio firmate per i messaggi ricevuti, selezionare **Invia notifica sulla ricezione del messaggio firmata**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-167">To send signed MDNs for received messages, select **Send signed MDN**.</span></span>

8. <span data-ttu-id="cc6f8-168">Per inviare notifiche asincrone sulla ricezione del messaggio per i messaggi ricevuti, selezionare **Invia notifica sulla ricezione del messaggio asincrona**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-168">To send asynchronous MDNs for received messages, select **Send asynchronous MDN**.</span></span>

9. <span data-ttu-id="cc6f8-169">Al termine, assicurarsi di salvare le impostazioni selezionando **OK**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-169">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="cc6f8-170">Il contratto è pronto per gestire i messaggi in arrivo conformi alle impostazioni selezionate.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-170">Now your agreement is ready to handle incoming messages that conform to your selected settings.</span></span>

| <span data-ttu-id="cc6f8-171">Proprietà</span><span class="sxs-lookup"><span data-stu-id="cc6f8-171">Property</span></span> | <span data-ttu-id="cc6f8-172">Descrizione</span><span class="sxs-lookup"><span data-stu-id="cc6f8-172">Description</span></span> |
| --- | --- |
| <span data-ttu-id="cc6f8-173">Override message properties</span><span class="sxs-lookup"><span data-stu-id="cc6f8-173">Override message properties</span></span> |<span data-ttu-id="cc6f8-174">Indica che è possibile eseguire l'override delle proprietà nei messaggi ricevuti.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-174">Indicates that properties in received messages can be overridden.</span></span> |
| <span data-ttu-id="cc6f8-175">Il messaggio deve essere firmato</span><span class="sxs-lookup"><span data-stu-id="cc6f8-175">Message should be signed</span></span> |<span data-ttu-id="cc6f8-176">Richiede la firma digitale dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-176">Requires messages to be digitally signed.</span></span> <span data-ttu-id="cc6f8-177">Configurare il certificato pubblico del partner guest per la verifica della firma.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-177">Configure the guest partner public certificate for signature verification.</span></span>  |
| <span data-ttu-id="cc6f8-178">Il messaggio deve essere crittografato</span><span class="sxs-lookup"><span data-stu-id="cc6f8-178">Message should be encrypted</span></span> |<span data-ttu-id="cc6f8-179">Richiede la crittografia dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-179">Requires messages to be encrypted.</span></span> <span data-ttu-id="cc6f8-180">I messaggi non crittografati vengono rifiutati.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-180">Non-encrypted messages are rejected.</span></span> <span data-ttu-id="cc6f8-181">Configurare il certificato privato del partner host per la decrittografia dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-181">Configure the host partner private certificate for decrypting the messages.</span></span>  |
| <span data-ttu-id="cc6f8-182">Il messaggio deve essere compresso</span><span class="sxs-lookup"><span data-stu-id="cc6f8-182">Message should be compressed</span></span> |<span data-ttu-id="cc6f8-183">Richiede la compressione dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-183">Requires messages to be compressed.</span></span> <span data-ttu-id="cc6f8-184">I messaggi non compressi vengono rifiutati.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-184">Non-compressed messages are rejected.</span></span> |
| <span data-ttu-id="cc6f8-185">Testo MDN</span><span class="sxs-lookup"><span data-stu-id="cc6f8-185">MDN Text</span></span> |<span data-ttu-id="cc6f8-186">Notifica sulla ricezione del messaggio (MDN) predefinita da inviare al mittente del messaggio.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-186">The default message disposition notification (MDN) to be sent to the message sender.</span></span> |
| <span data-ttu-id="cc6f8-187">Send MDN (Invia MDN)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-187">Send MDN</span></span> |<span data-ttu-id="cc6f8-188">Richiede l'invio della MDN.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-188">Requires MDNs to be sent.</span></span> |
| <span data-ttu-id="cc6f8-189">Send signed MDN (Invia MDN firmato)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-189">Send signed MDN</span></span> |<span data-ttu-id="cc6f8-190">Richiede la firma delle MDN.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-190">Requires MDNs to be signed.</span></span> |
| <span data-ttu-id="cc6f8-191">MIC Algorithm (Algoritmo MIC)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-191">MIC Algorithm</span></span> |<span data-ttu-id="cc6f8-192">Selezionare l'algoritmo da usare per firmare i messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-192">Select the algorithm to use for signing messages.</span></span> |
| <span data-ttu-id="cc6f8-193">Send asynchronous MDN (Invia MDN asincrono)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-193">Send asynchronous MDN</span></span> | <span data-ttu-id="cc6f8-194">Richiede l'invio asincrono dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-194">Requires messages to be sent asynchronously.</span></span> |
| <span data-ttu-id="cc6f8-195">URL</span><span class="sxs-lookup"><span data-stu-id="cc6f8-195">URL</span></span> | <span data-ttu-id="cc6f8-196">Specificare l'URL al quale inviare le MDN.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-196">Specify the URL where to send the MDNs.</span></span> |

## <a name="configure-how-your-agreement-sends-messages"></a><span data-ttu-id="cc6f8-197">Configurare il modo in cui il contratto invia messaggi</span><span class="sxs-lookup"><span data-stu-id="cc6f8-197">Configure how your agreement sends messages</span></span>

<span data-ttu-id="cc6f8-198">È possibile configurare il modo in cui il contratto identifica e gestisce i messaggi in uscita inviati ai partner tramite il presente contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-198">You can configure how this agreement identifies and handles outgoing messages that you send to your partners through this agreement.</span></span>

1.  <span data-ttu-id="cc6f8-199">In **Aggiungi**, selezionare **Impostazioni di avvio**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-199">Under **Add**, select **Send Settings**.</span></span>
<span data-ttu-id="cc6f8-200">Configurare queste proprietà in base al contratto con il partner con cui si scambiano i messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-200">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="cc6f8-201">Per le descrizioni delle proprietà, vedere la tabella in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-201">For property descriptions, see the table in this section.</span></span>

    ![Impostare le proprietà "Impostazioni di invio"](./media/logic-apps-enterprise-integration-agreements/agreement-51.png)

2. <span data-ttu-id="cc6f8-203">Per inviare messaggi firmati al partner, selezionare **Abilita firma del messaggio**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-203">To send signed messages to your partner, select **Enable message signing**.</span></span> <span data-ttu-id="cc6f8-204">Per firmare i messaggi, nell'elenco **Algoritmo per il controllo di integrità delle credenziali**, selezionare l'*algoritmo per il controllo di integrità delle credenziali del certificato privato del partner host*.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-204">For signing the messages, in the **MIC Algorithm** list, select the *host partner private certificate MIC Algorithm*.</span></span> <span data-ttu-id="cc6f8-205">Dall'elenco **Certificato**, selezionare un [certificato privato del partner host](../logic-apps/logic-apps-enterprise-integration-certificates.md) esistente.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-205">And in the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

3. <span data-ttu-id="cc6f8-206">Per inviare messaggi crittografati al partner, selezionare **Abilita crittografia messaggio**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-206">To send encrypted messages to the partner, select **Enable message encryption**.</span></span> <span data-ttu-id="cc6f8-207">Per crittografare i messaggi, nell'elenco **Algoritmo di crittografia** selezionare l'*algoritmo del certificato pubblico del partner guest*.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-207">For encrypting the messages, in the **Encryption Algorithm** list, select the *guest partner public certificate algorithm*.</span></span>
<span data-ttu-id="cc6f8-208">Dall'elenco **Certificato**, selezionare un [certificato pubblico del partner guest](../logic-apps/logic-apps-enterprise-integration-certificates.md) esistente.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-208">And in the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

4. <span data-ttu-id="cc6f8-209">Per comprimere il messaggio, selezionare **Abilita compressione messaggio**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-209">To compress the message, select **Enable message compression**.</span></span>

5. <span data-ttu-id="cc6f8-210">Per espandere l'intestazione HTTP del tipo di contenuto in una singola riga, selezionare **Espandi intestazioni HTTP**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-210">To unfold the HTTP content-type header into a single line, select **Unfold HTTP headers**.</span></span>

6. <span data-ttu-id="cc6f8-211">Per ricevere notifiche sincrone sulla ricezione del messaggio per i messaggi inviati, selezionare **Richiedi notifica sulla ricezione del messaggio**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-211">To receive synchronous MDNs for the sent messages, select **Request MDN**.</span></span>

7. <span data-ttu-id="cc6f8-212">Per ricevere notifiche sulla ricezione del messaggio firmate per i messaggi inviati, selezionare **Richiedi notifica sulla ricezione del messaggio firmata**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-212">To receive signed MDNs for the sent messages, select **Request signed MDN**.</span></span>

8. <span data-ttu-id="cc6f8-213">Per ricevere notifiche asincrone sulla ricezione del messaggio per i messaggi inviati, selezionare **Richiedi notifica sulla ricezione del messaggio asincrona**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-213">To receive asynchronous MDNs for the sent messages, select **Request asynchronous MDN**.</span></span> <span data-ttu-id="cc6f8-214">Se si seleziona questa opzione, immettere l'URL a cui inviare le MDN.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-214">If you select this option, enter the URL for where to send the MDNs.</span></span>

9. <span data-ttu-id="cc6f8-215">Per richiedere il non ripudio della ricezione, selezionare **Abilita rilevamento messaggi (NRR)**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-215">To require non-repudiation of receipt, select **Enable NRR**.</span></span>  

10. <span data-ttu-id="cc6f8-216">Per specificare il formato di algoritmo da usare per il controllo di integrità delle credenziali o la firma nelle intestazioni in uscita del messaggio AS2 o della notifica sulla ricezione del messaggio, selezionare il **formato di algoritmo SHA2**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-216">To specify algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN, select **SHA2 Algorithm format**.</span></span>  

11. <span data-ttu-id="cc6f8-217">Al termine, assicurarsi di salvare le impostazioni selezionando **OK**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-217">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="cc6f8-218">Il contratto è pronto per gestire i messaggi in uscita conformi alle impostazioni selezionate.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-218">Now your agreement is ready to handle outgoing messages that conform to your selected settings.</span></span>

| <span data-ttu-id="cc6f8-219">Proprietà</span><span class="sxs-lookup"><span data-stu-id="cc6f8-219">Property</span></span> | <span data-ttu-id="cc6f8-220">Descrizione</span><span class="sxs-lookup"><span data-stu-id="cc6f8-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="cc6f8-221">Enable message signing (Abilita la firma dei messaggi)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-221">Enable message signing</span></span> |<span data-ttu-id="cc6f8-222">Richiede la firma di tutti i messaggi inviati dal contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-222">Requires all messages that are sent from the agreement to be signed.</span></span> |
| <span data-ttu-id="cc6f8-223">MIC Algorithm (Algoritmo MIC)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-223">MIC Algorithm</span></span> |<span data-ttu-id="cc6f8-224">L'algoritmo da usare per firmare i messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-224">The algorithm to use for signing messages.</span></span> <span data-ttu-id="cc6f8-225">Configura algoritmo per il controllo di integrità delle credenziali del certificato privato del partner host per la firma dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-225">Configures the host partner private certificate MIC Algorithm for signing the messages.</span></span> |
| <span data-ttu-id="cc6f8-226">Certificate</span><span class="sxs-lookup"><span data-stu-id="cc6f8-226">Certificate</span></span> |<span data-ttu-id="cc6f8-227">Selezionare il certificato da usare per firmare i messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-227">Select the certificate to use for signing messages.</span></span> <span data-ttu-id="cc6f8-228">Configura il certificato privato del partner host per la firma dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-228">Configures the host partner private certificate for signing the messages.</span></span> |
| <span data-ttu-id="cc6f8-229">Enable message encryption (Abilita la crittografia dei messaggi)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-229">Enable message encryption</span></span> |<span data-ttu-id="cc6f8-230">Richiede la crittografia di tutti i messaggi inviati da questo contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-230">Requires encryption of all messages that are sent from this agreement.</span></span> <span data-ttu-id="cc6f8-231">Configura l'algoritmo del certificato pubblico del partner guest per la crittografia dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-231">Configures the guest partner public certificate algorithm for encrypting the messages.</span></span> |
| <span data-ttu-id="cc6f8-232">Algoritmo di crittografia</span><span class="sxs-lookup"><span data-stu-id="cc6f8-232">Encryption Algorithm</span></span> |<span data-ttu-id="cc6f8-233">Algoritmo di crittografia da usare per la crittografia dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-233">The encryption algorithm to use for message encryption.</span></span> <span data-ttu-id="cc6f8-234">Configura il certificato pubblico del partner guest per la crittografia dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-234">Configures the guest partner public certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="cc6f8-235">Certificate</span><span class="sxs-lookup"><span data-stu-id="cc6f8-235">Certificate</span></span> |<span data-ttu-id="cc6f8-236">Certificato da usare per crittografare i messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-236">The certificate to use to encrypt messages.</span></span> <span data-ttu-id="cc6f8-237">Configura il certificato privato del partner guest per crittografare i messaggi.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-237">Configures the guest partner private certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="cc6f8-238">Abilita compressione messaggio</span><span class="sxs-lookup"><span data-stu-id="cc6f8-238">Enable message compression</span></span> |<span data-ttu-id="cc6f8-239">Richiede la compressione di tutti i messaggi inviati da questo contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-239">Requires compression of all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="cc6f8-240">Espandi intestazioni HTTP</span><span class="sxs-lookup"><span data-stu-id="cc6f8-240">Unfold HTTP headers</span></span> |<span data-ttu-id="cc6f8-241">Posiziona l'intestazione HTTP del tipo di contenuto in una singola riga.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-241">Places the HTTP content-type header onto a single line.</span></span> |
| <span data-ttu-id="cc6f8-242">Richiedi MDN</span><span class="sxs-lookup"><span data-stu-id="cc6f8-242">Request MDN</span></span> |<span data-ttu-id="cc6f8-243">Richiede un MDN per tutti i messaggi inviati da questo contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-243">Requires an MDN for all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="cc6f8-244">Richiedi MDN firmato</span><span class="sxs-lookup"><span data-stu-id="cc6f8-244">Request signed MDN</span></span> |<span data-ttu-id="cc6f8-245">Richiede la firma di tutti gli MDN che vengono inviati a questo contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-245">Requires all MDNs that are sent to this agreement to be signed.</span></span> |
| <span data-ttu-id="cc6f8-246">Richiedi MDN asincrono</span><span class="sxs-lookup"><span data-stu-id="cc6f8-246">Request asynchronous MDN</span></span> |<span data-ttu-id="cc6f8-247">Richiede l'invio di MDN asincroni a questo contratto.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-247">Requires asynchronous MDNs to be sent to this agreement.</span></span> |
| <span data-ttu-id="cc6f8-248">URL</span><span class="sxs-lookup"><span data-stu-id="cc6f8-248">URL</span></span> |<span data-ttu-id="cc6f8-249">Specificare l'URL al quale inviare le MDN.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-249">Specify the URL where to send the MDNs.</span></span> |
| <span data-ttu-id="cc6f8-250">Enable NRR (Attiva NRR)</span><span class="sxs-lookup"><span data-stu-id="cc6f8-250">Enable NRR</span></span> |<span data-ttu-id="cc6f8-251">Richiede il non ripudio della ricezione (NRR), un attributo di comunicazione che fornisce prova di ricezione dei dati come inviati.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-251">Requires non-repudiation of receipt (NRR), a communication attribute that provides evidence that the data was received as addressed.</span></span> |
| <span data-ttu-id="cc6f8-252">Formato di algoritmo SHA2</span><span class="sxs-lookup"><span data-stu-id="cc6f8-252">SHA2 Algorithm format</span></span> |<span data-ttu-id="cc6f8-253">Selezionare il formato di algoritmo da usare per il controllo di integrità delle credenziali o la firma nelle intestazioni in uscita del messaggio AS2 o della notifica sulla ricezione del messaggio</span><span class="sxs-lookup"><span data-stu-id="cc6f8-253">Select algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN</span></span> |

## <a name="find-your-created-agreement"></a><span data-ttu-id="cc6f8-254">Individuare il contratto creato</span><span class="sxs-lookup"><span data-stu-id="cc6f8-254">Find your created agreement</span></span>

1.  <span data-ttu-id="cc6f8-255">Dopo aver impostato tutte le proprietà del contratto, scegliere **OK** nel pannello **Aggiungi** per completare la creazione del contratto e tornare al pannello dell'account di integrazione.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-255">After you finish setting all your agreement properties, on the **Add** blade, choose **OK** to finish creating your agreement and return to your integration account blade.</span></span>

    <span data-ttu-id="cc6f8-256">Il contratto appena aggiunto viene visualizzato nell'elenco **Contratti**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-256">Your newly added agreement now appears in your **Agreements** list.</span></span>

2.  <span data-ttu-id="cc6f8-257">È anche possibile visualizzare i contratti nella panoramica dell'account di Integrazione.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-257">You can also view your agreements in your integration account overview.</span></span> <span data-ttu-id="cc6f8-258">Nel pannello dell'account di integrazione, selezionare **Panoramica**, quindi selezionare il riquadro **Contratti**.</span><span class="sxs-lookup"><span data-stu-id="cc6f8-258">On your integration account blade, choose **Overview**, then select the **Agreements** tile.</span></span> 

    ![Scegliere il riquadro Contratti per visualizzare tutti i contratti](./media/logic-apps-enterprise-integration-agreements/agreement-6.png)

## <a name="view-the-swagger"></a><span data-ttu-id="cc6f8-260">Visualizzare il file Swagger</span><span class="sxs-lookup"><span data-stu-id="cc6f8-260">View the swagger</span></span>
<span data-ttu-id="cc6f8-261">Vedere i [dettagli del file Swagger](/connectors/as2/).</span><span class="sxs-lookup"><span data-stu-id="cc6f8-261">See the [swagger details](/connectors/as2/).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="cc6f8-262">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="cc6f8-262">Next steps</span></span>
* [<span data-ttu-id="cc6f8-263">Altre informazioni su Enterprise Integration Pack</span><span class="sxs-lookup"><span data-stu-id="cc6f8-263">Learn more about the Enterprise Integration Pack</span></span>](logic-apps-enterprise-integration-overview.md "Informazioni su Enterprise Integration Pack")  
