---
title: Profili di punteggio (API REST di Ricerca di Azure versione 28/02/2015 Anteprima) | Microsoft Docs
description: "Ricerca di Azure è un servizio di ricerca ospitato sul cloud  che supporta l'ottimizzazione dei risultati in base ai profili di punteggio definiti dall'utente."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
ms.assetid: bfd62649-13d7-40b3-a8fa-85521a15084d
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.author: heidist
ms.date: 10/27/2016
ms.openlocfilehash: a67637d149a84313270c03d21acf8a9c1870be05
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="scoring-profiles-azure-search-rest-api-version-2015-02-28-preview"></a><span data-ttu-id="abd5d-103">Profili di punteggio (API REST di Ricerca di Azure versione 2015-02-28-Preview)</span><span class="sxs-lookup"><span data-stu-id="abd5d-103">Scoring Profiles (Azure Search REST API Version 2015-02-28-Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="abd5d-104">Questo articolo descrive i profili di punteggio in [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span><span class="sxs-lookup"><span data-stu-id="abd5d-104">This article describes scoring profiles in the [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span></span> <span data-ttu-id="abd5d-105">Attualmente non esiste alcuna differenza tra la `2016-09-01` versione documentata in [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) e `2015-02-28-Preview` la versione descritta qui. Questo documento è comunque disponibile per garantire la copertura completa dell'API dal punto di vista della documentazione.</span><span class="sxs-lookup"><span data-stu-id="abd5d-105">Currently there is no difference between the `2016-09-01` version documented on [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) and the `2015-02-28-Preview` version described here, but we offer this document anyway in order to provide document coverage across the entire API.</span></span>
>
>

## <a name="overview"></a><span data-ttu-id="abd5d-106">Panoramica</span><span class="sxs-lookup"><span data-stu-id="abd5d-106">Overview</span></span>
<span data-ttu-id="abd5d-107">L'assegnazione di punteggio fa riferimento al calcolo di un punteggio di ricerca per ogni elemento restituito nei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-107">Scoring refers to the computation of a search score for every item returned in search results.</span></span> <span data-ttu-id="abd5d-108">Il punteggio è un indicatore della rilevanza di un elemento nel contesto dell'operazione di ricerca attuale.</span><span class="sxs-lookup"><span data-stu-id="abd5d-108">The score is an indicator of an item's relevance in the context of the current search operation.</span></span> <span data-ttu-id="abd5d-109">Maggiore è il punteggio, più rilevante sarà l'elemento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-109">The higher the score, the more relevant the item.</span></span> <span data-ttu-id="abd5d-110">Nei risultati della ricerca gli elementi vengono classificati dal maggiore al minore, in base ai punteggi di ricerca calcolati per ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-110">In search results, items are rank ordered from high to low, based on the search score calculated for each item.</span></span>

<span data-ttu-id="abd5d-111">Ricerca di Azure usa l'assegnazione predefinita del punteggio per calcolare un punteggio, ma è possibile personalizzare il calcolo tramite un profilo di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-111">Azure Search uses default scoring to compute an initial score, but you can customize the calculation through a scoring profile.</span></span> <span data-ttu-id="abd5d-112">I profili di punteggio offrono maggiore controllo sulla classificazione degli elementi nei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-112">Scoring profiles give you greater control over the ranking of items in search results.</span></span> <span data-ttu-id="abd5d-113">Ad esempio, è possibile aumentare la priorità degli elementi in base al rispettivo potenziale di profitto, alzare di livello elementi più recenti o evidenziare elementi che sono rimasti troppo a lungo in magazzino.</span><span class="sxs-lookup"><span data-stu-id="abd5d-113">For example, you might want to boost items based on their revenue potential, promote newer items, or perhaps boost items that have been in inventory too long.</span></span>

<span data-ttu-id="abd5d-114">Un profilo di punteggio fa parte della definizione dell'indice, costituita da campi, funzioni e parametri.</span><span class="sxs-lookup"><span data-stu-id="abd5d-114">A scoring profile is part of the index definition, composed of fields, functions, and parameters.</span></span>

<span data-ttu-id="abd5d-115">Per illustrare un profilo di punteggio, l'esempio seguente mostra un semplice profilo denominato 'geo'.</span><span class="sxs-lookup"><span data-stu-id="abd5d-115">To give you an idea of what a scoring profile looks like, the following example shows a simple profile named 'geo'.</span></span> <span data-ttu-id="abd5d-116">Questo profilo aumenta la priorità degli elementi che includono il termine di ricerca nel campo `hotelName` .</span><span class="sxs-lookup"><span data-stu-id="abd5d-116">This one boosts items that have the search term in the `hotelName` field.</span></span> <span data-ttu-id="abd5d-117">Usa anche la funzione `distance` per assegnare una preferenza maggiore agli elementi che si trovano entro dieci chilometri dalla posizione attuale.</span><span class="sxs-lookup"><span data-stu-id="abd5d-117">It also uses the `distance` function to favor items that are within ten kilometers of the current location.</span></span> <span data-ttu-id="abd5d-118">Se si cerca il termine 'inn' e 'inn' fa parte del nome di un hotel, i documenti che includono gli hotel con 'inn' verranno visualizzati più in alto nei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-118">If someone searches on the term 'inn', and 'inn' happens to be part of the hotel name, documents that include hotels with 'inn' will appear higher in the search results.</span></span>

    "scoringProfiles": [
      {
        "name": "geo",
        "text": {
          "weights": { "hotelName": 5 }
        },
        "functions": [
          {
            "type": "distance",
            "boost": 5,
            "fieldName": "location",
            "interpolation": "logarithmic",
            "distance": {
              "referencePointParameter": "currentLocation",
              "boostingDistance": 10
            }
          }
        ]
      }
    ]

<span data-ttu-id="abd5d-119">Per usare il profilo di punteggio, la query viene formulata in modo da specificare il profilo nella stringa di query.</span><span class="sxs-lookup"><span data-stu-id="abd5d-119">To use this scoring profile, your query is formulated to specify the profile on the query string.</span></span> <span data-ttu-id="abd5d-120">Si noti il parametro di query `scoringProfile=geo` nella richiesta presente nella query seguente.</span><span class="sxs-lookup"><span data-stu-id="abd5d-120">In the query below, notice the query parameter, `scoringProfile=geo` in the request.</span></span>

    GET /indexes/hotels/docs?search=inn&scoringProfile=geo&scoringParameter=currentLocation--122.123,44.77233&api-version=2015-02-28-Preview

<span data-ttu-id="abd5d-121">Questa query cerca il termine 'inn' e passa la posizione attuale.</span><span class="sxs-lookup"><span data-stu-id="abd5d-121">This query searches on the term 'inn' and passes in the current location.</span></span> <span data-ttu-id="abd5d-122">Si noti che questa query include altri parametri, ad esempio `scoringParameter`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-122">Note that this query includes other parameters, such as `scoringParameter`.</span></span> <span data-ttu-id="abd5d-123">I parametri della query sono illustrati in [Cercare documenti (API di Ricerca di Azure)](search-api-2015-02-28-preview.md#SearchDocs).</span><span class="sxs-lookup"><span data-stu-id="abd5d-123">Query parameters are described in [Search Documents (Azure Search API)](search-api-2015-02-28-preview.md#SearchDocs).</span></span>

<span data-ttu-id="abd5d-124">Fare clic su [Esempio](#example) per esaminare un esempio più dettagliato del profilo di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-124">Click [Example](#example) to review a more detailed example of a scoring profile.</span></span>

## <a name="what-is-default-scoring"></a><span data-ttu-id="abd5d-125">Informazioni sull'assegnazione predefinita di punteggio</span><span class="sxs-lookup"><span data-stu-id="abd5d-125">What is default scoring?</span></span>
<span data-ttu-id="abd5d-126">L'assegnazione di punteggio calcola un punteggio di ricerca per ogni elemento in un set di risultati ordinato in base a una classificazione.</span><span class="sxs-lookup"><span data-stu-id="abd5d-126">Scoring computes a search score for each item in a rank ordered result set.</span></span> <span data-ttu-id="abd5d-127">A ogni elemento nel set di risultati della ricerca viene assegnato un punteggio di ricerca e quindi gli elementi vengono classificati dal maggiore al minore.</span><span class="sxs-lookup"><span data-stu-id="abd5d-127">Every item in a search result set is assigned a search score, then ranked highest to lowest.</span></span> <span data-ttu-id="abd5d-128">Gli elementi con i punteggi maggiori vengono restituiti all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="abd5d-128">Items with the higher scores are returned to the application.</span></span> <span data-ttu-id="abd5d-129">Per impostazione predefinita, vengono restituiti i primi 50 elementi, ma è possibile usare il parametro `$top` per restituire un numero minore o maggiore di elementi, fino a un massimo di 1000 elementi in una singola risposta.</span><span class="sxs-lookup"><span data-stu-id="abd5d-129">By default, the top 50 are returned, but you can use the `$top` parameter to return a smaller or larger number of items (up to 1000 in a single response).</span></span>

<span data-ttu-id="abd5d-130">Per impostazione predefinita, un punteggio di ricerca viene calcolato in base alle proprietà statistiche dei dati e della query.</span><span class="sxs-lookup"><span data-stu-id="abd5d-130">By default, a search score is computed based on statistical properties of the data and the query.</span></span> <span data-ttu-id="abd5d-131">Ricerca di Azure trova documenti che includono i termini di ricerca nella stringa di query (alcuni o tutti, in base a `searchMode`), preferendo i documenti che includono più istanze del termine di ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-131">Azure Search finds documents that include the search terms in the query string (some or all, depending on `searchMode`), favoring documents that contain many instances of the search term.</span></span> <span data-ttu-id="abd5d-132">Il punteggio di ricerca aumenta ancora di più se il termine risulta raro nell'insieme di dati, ma comune all'interno del documento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-132">The search score goes up even higher if the term is rare across the data corpus, but common within the document.</span></span> <span data-ttu-id="abd5d-133">I concetti di base per questo approccio alla rilevanza di calcolo sono noti come TF-IDF (Term Frequency-Inverse Document Frequency).</span><span class="sxs-lookup"><span data-stu-id="abd5d-133">The basis for this approach to computing relevance is known as TF-IDF or (term frequency-inverse document frequency).</span></span>

<span data-ttu-id="abd5d-134">Se non è applicato alcun ordinamento personalizzato, i risultati vengono quindi classificati in base al punteggio di ricerca prima di essere restituiti all'applicazione chiamante.</span><span class="sxs-lookup"><span data-stu-id="abd5d-134">Assuming there is no custom sorting, results are then ranked by search score before they are returned to the calling application.</span></span> <span data-ttu-id="abd5d-135">Se non viene specificato `$top` , verranno restituiti i 50 elementi con il punteggio di ricerca maggiore.</span><span class="sxs-lookup"><span data-stu-id="abd5d-135">If `$top` is not specified, 50 items having the highest search score are returned.</span></span>

<span data-ttu-id="abd5d-136">I valori dei punteggi di ricerca possono essere ripetuti in un set di risultati.</span><span class="sxs-lookup"><span data-stu-id="abd5d-136">Search score values can be repeated throughout a result set.</span></span> <span data-ttu-id="abd5d-137">Ad esempio, possono essere presenti 10 elementi con punteggio pari a 1,2, 20 elementi con punteggio pari a 1,0 e 20 elementi con punteggio pari a 0,5.</span><span class="sxs-lookup"><span data-stu-id="abd5d-137">For example, you might have 10 items with a score of 1.2, 20 items with a score of 1.0, and 20 items with a score of 0.5.</span></span> <span data-ttu-id="abd5d-138">Quando più riscontri hanno lo stesso punteggio di ricerca, l'ordine degli stessi elementi con punteggio non è definito e non è quindi stabile.</span><span class="sxs-lookup"><span data-stu-id="abd5d-138">When multiple hits have the same search score, the ordering of same scored items is not defined, and is not stable.</span></span> <span data-ttu-id="abd5d-139">Se si esegue di nuovo la query, è possibile che gli elementi cambino posizione.</span><span class="sxs-lookup"><span data-stu-id="abd5d-139">Run the query again, and you might see items shift position.</span></span> <span data-ttu-id="abd5d-140">Se due elementi hanno punteggio identico, non vi è alcuna garanzia su quale elemento verrà visualizzato per primo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-140">Given two items with an identical score, there is no guarantee which one appears first.</span></span>

## <a name="when-to-use-custom-scoring"></a><span data-ttu-id="abd5d-141">Quando usare l'assegnazione personalizzata di punteggio</span><span class="sxs-lookup"><span data-stu-id="abd5d-141">When to use custom scoring</span></span>
<span data-ttu-id="abd5d-142">È consigliabile creare uno o più profili di punteggio quando il comportamento di classificazione predefinito non permette di raggiungere gli obiettivi aziendali stabiliti.</span><span class="sxs-lookup"><span data-stu-id="abd5d-142">You should create one or more scoring profiles when the default ranking behavior doesn’t go far enough in meeting your business objectives.</span></span> <span data-ttu-id="abd5d-143">È ad esempio possibile che si voglia assegnare una rilevanza di ricerca maggiore agli elementi aggiunti di recente.</span><span class="sxs-lookup"><span data-stu-id="abd5d-143">For example, you might decide that search relevance should favor newly added items.</span></span> <span data-ttu-id="abd5d-144">Analogamente, è possibile che sia presente un campo che include i margini di profitto o un altro campo che indica il potenziale di ricavi.</span><span class="sxs-lookup"><span data-stu-id="abd5d-144">Likewise, you might have a field that contains profit margin, or some other field indicating revenue potential.</span></span> <span data-ttu-id="abd5d-145">L'aumento della priorità dei riscontri utili per l'azienda può essere un fattore importante nella decisione di usare i profili di punteggio,</span><span class="sxs-lookup"><span data-stu-id="abd5d-145">Boosting hits that bring benefits to your business can be an important factor in deciding to use scoring profiles.</span></span>

<span data-ttu-id="abd5d-146">che permettono anche di implementare l'ordinamento basato sulla rilevanza.</span><span class="sxs-lookup"><span data-stu-id="abd5d-146">Relevancy-based ordering is also implemented through scoring profiles.</span></span> <span data-ttu-id="abd5d-147">È consigliabile esaminare le pagine di risultati della ricerca usate in precedenza e che permettevano di ordinare i risultati in base a prezzo, data, classificazione o rilevanza.</span><span class="sxs-lookup"><span data-stu-id="abd5d-147">Consider search results pages you’ve used in the past that let you sort by price, date, rating, or relevance.</span></span> <span data-ttu-id="abd5d-148">In Ricerca di Azure i profili di punteggio determinano l'opzione di "rilevanza".</span><span class="sxs-lookup"><span data-stu-id="abd5d-148">In Azure Search, scoring profiles drive the 'relevance' option.</span></span> <span data-ttu-id="abd5d-149">La definizione della rilevanza è controllata dall'utente, in base agli obiettivi aziendali specifici e al tipo di esperienza di ricerca che si vuole offrire.</span><span class="sxs-lookup"><span data-stu-id="abd5d-149">The definition of relevance is controlled by you, predicated on business objectives and the type of search experience you want to deliver.</span></span>

<a name="example"></a>

## <a name="example"></a><span data-ttu-id="abd5d-150">Esempio</span><span class="sxs-lookup"><span data-stu-id="abd5d-150">Example</span></span>
<span data-ttu-id="abd5d-151">Come indicato in precedenza, l'assegnazione personalizzata di punteggio viene implementata tramite profili di punteggio definiti in uno schema di indice.</span><span class="sxs-lookup"><span data-stu-id="abd5d-151">As noted, customized scoring is implemented through scoring profiles defined in an index schema.</span></span>

<span data-ttu-id="abd5d-152">Questo esempio illustra lo schema di un indice con due profili di punteggio (`boostGenre`, `newAndHighlyRated`).</span><span class="sxs-lookup"><span data-stu-id="abd5d-152">This example shows the schema of an index with two scoring profiles (`boostGenre`, `newAndHighlyRated`).</span></span> <span data-ttu-id="abd5d-153">Qualsiasi query eseguita in questo indice e che include uno dei profili come parametro di query userà il profilo per assegnare un punteggio al set di risultati.</span><span class="sxs-lookup"><span data-stu-id="abd5d-153">Any query against this index that includes either profile as a query parameter will use the profile to score the result set.</span></span>

    {
      "name": "musicstoreindex",
      "fields": [
        { "name": "key", "type": "Edm.String", "key": true },
        { "name": "albumTitle", "type": "Edm.String" },
        { "name": "albumUrl", "type": "Edm.String", "filterable": false },
        { "name": "genre", "type": "Edm.String" },
        { "name": "genreDescription", "type": "Edm.String", "filterable": false },
        { "name": "artistName", "type": "Edm.String" },
        { "name": "orderableOnline", "type": "Edm.Boolean" },
        { "name": "rating", "type": "Edm.Int32" },
        { "name": "tags", "type": "Collection(Edm.String)" },
        { "name": "price", "type": "Edm.Double", "filterable": false },
        { "name": "margin", "type": "Edm.Int32", "retrievable": false },
        { "name": "inventory", "type": "Edm.Int32" },
        { "name": "lastUpdated", "type": "Edm.DateTimeOffset" }
      ],
      "scoringProfiles": [
        {
          "name": "boostGenre",
          "text": {
            "weights": {
              "albumTitle": 1.5,
              "genre": 5,
              "artistName": 2
            }
          }
        },
        {
          "name": "newAndHighlyRated",
          "functions": [
            {
              "type": "freshness",
              "fieldName": "lastUpdated",
              "boost": 10,
              "interpolation": "quadratic",
              "freshness": {
                "boostingDuration": "P365D"
              }
            },
            {
              "type": "magnitude",
              "fieldName": "rating",
              "boost": 10,
              "interpolation": "linear",
              "magnitude": {
                "boostingRangeStart": 1,
                "boostingRangeEnd": 5,
                "constantBoostBeyondRange": false
              }
            }
          ]
        }
      ],
      "suggesters": [
        {
          "name": "sg",
          "searchMode": "analyzingInfixMatching",
          "sourceFields": ["albumTitle", "artistName"]
        }
      ]
    }


## <a name="workflow"></a><span data-ttu-id="abd5d-154">Flusso di lavoro</span><span class="sxs-lookup"><span data-stu-id="abd5d-154">Workflow</span></span>
<span data-ttu-id="abd5d-155">Per implementare un comportamento predefinito per l'assegnazione di punteggio, aggiungere un profilo di punteggio allo schema che definisce l'indice.</span><span class="sxs-lookup"><span data-stu-id="abd5d-155">To implement custom scoring behavior, add a scoring profile to the schema that defines the index.</span></span> <span data-ttu-id="abd5d-156">È possibile avere fino a 16 profili di punteggio all'interno di un indice (vedere i [Limiti dei servizi ](search-limits-quotas-capacity.md)), ma è possibile specificare solo un profilo alla volta in ogni query.</span><span class="sxs-lookup"><span data-stu-id="abd5d-156">You can have up to 16 scoring profiles within an index (see [Service Limits](search-limits-quotas-capacity.md)), but you can only specify one profile at time in any given query.</span></span>

<span data-ttu-id="abd5d-157">Iniziare con il profilo [Modello](#bkmk_template) fornito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-157">Start with the [Template](#bkmk_template) provided in this topic.</span></span>

<span data-ttu-id="abd5d-158">Specificare un nome.</span><span class="sxs-lookup"><span data-stu-id="abd5d-158">Provide a name.</span></span> <span data-ttu-id="abd5d-159">I profili di punteggio sono facoltativi, ma quando se ne aggiunge uno è necessario specificare un nome.</span><span class="sxs-lookup"><span data-stu-id="abd5d-159">Scoring profiles are optional, but if you add one, the name is required.</span></span> <span data-ttu-id="abd5d-160">Assicurarsi di rispettare le convenzioni di denominazione per i campi (deve iniziare con una lettera ed evitare caratteri speciali e parole riservate).</span><span class="sxs-lookup"><span data-stu-id="abd5d-160">Be sure to follow the naming conventions for fields (starts with a letter, avoids special characters and reserved words).</span></span> <span data-ttu-id="abd5d-161">Per altre informazioni, vedere [Regole di denominazione](http://msdn.microsoft.com/library/azure/dn857353.aspx) .</span><span class="sxs-lookup"><span data-stu-id="abd5d-161">See [Naming Rules](http://msdn.microsoft.com/library/azure/dn857353.aspx) for more information.</span></span>

<span data-ttu-id="abd5d-162">Il corpo del profilo di punteggio è costituito da campi ponderati e funzioni.</span><span class="sxs-lookup"><span data-stu-id="abd5d-162">The body of the scoring profile is constructed from weighted fields and functions.</span></span>

### <a name="weights"></a><span data-ttu-id="abd5d-163">Weights</span><span class="sxs-lookup"><span data-stu-id="abd5d-163">Weights</span></span>
<span data-ttu-id="abd5d-164">La proprietà `weights` di un profilo di punteggio specifica le coppie nome-valore che assegnano un peso relativo a un campo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-164">The `weights` property of a scoring profile specifies name-value pairs that assign a relative weight to a field.</span></span> <span data-ttu-id="abd5d-165">Nell'[esempio](#example), ai campi albumTitle, genre e artistName viene applicata una priorità pari rispettivamente a 1.5, 5 e 2.</span><span class="sxs-lookup"><span data-stu-id="abd5d-165">In the [Example](#example), the albumTitle, genre, and artistName fields are boosted 1.5, 5, and 2, respectively.</span></span> <span data-ttu-id="abd5d-166">Al campo genre viene assegnata una priorità molto più alta rispetto agli altri,</span><span class="sxs-lookup"><span data-stu-id="abd5d-166">Why is genre boosted so much higher than the others?</span></span> <span data-ttu-id="abd5d-167">poiché se la ricerca viene eseguita su dati abbastanza omogenei (come nel caso di 'genre' in `musicstoreindex`), potrebbe essere necessaria una varianza maggiore nei pesi relativi.</span><span class="sxs-lookup"><span data-stu-id="abd5d-167">If search is conducted over data that is somewhat homogeneous (as is the case with 'genre' in the `musicstoreindex`), you might need a larger variance in the relative weights.</span></span> <span data-ttu-id="abd5d-168">Ad esempio, in `musicstoreindex`, 'rock' viene visualizzato sia come genere che nelle descrizioni di genere che usano lo stesso termine.</span><span class="sxs-lookup"><span data-stu-id="abd5d-168">For example, in the `musicstoreindex`, 'rock' appears as both a genre and in identically phrased genre descriptions.</span></span> <span data-ttu-id="abd5d-169">Se si vuole assegnare una priorità maggiore al genere rispetto alla descrizione del genere, il campo genre dovrà avere un peso relativo decisamente maggiore.</span><span class="sxs-lookup"><span data-stu-id="abd5d-169">If you want genre to outweigh genre description, the genre field will need a much higher relative weight.</span></span>

### <a name="functions"></a><span data-ttu-id="abd5d-170">Funzioni</span><span class="sxs-lookup"><span data-stu-id="abd5d-170">Functions</span></span>
<span data-ttu-id="abd5d-171">Le funzioni vengono usate quando sono necessari calcoli aggiuntivi per contesti specifici.</span><span class="sxs-lookup"><span data-stu-id="abd5d-171">Functions are used when additional calculations are required for specific contexts.</span></span> <span data-ttu-id="abd5d-172">I tipi di funzione validi sono `freshness`, `magnitude`, `distance` e `tag`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-172">Valid function types are `freshness`, `magnitude`, `distance` and `tag`.</span></span> <span data-ttu-id="abd5d-173">Ogni funzione dispone di parametri univoci.</span><span class="sxs-lookup"><span data-stu-id="abd5d-173">Each function has parameters that are unique to it.</span></span>

* <span data-ttu-id="abd5d-174">`freshness` quando si vuole aumentare la priorità in base alla data di creazione più o meno recente di un elemento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-174">`freshness` should be used when you want to boost by how new or old an item is.</span></span> <span data-ttu-id="abd5d-175">Questa funzione può essere usata solo con campi datetime (`Edm.DataTimeOffset`).</span><span class="sxs-lookup"><span data-stu-id="abd5d-175">This function can only be used with datetime fields (`Edm.DataTimeOffset`).</span></span> <span data-ttu-id="abd5d-176">Si noti che l'attributo `boostingDuration` viene usato solo con la funzione freshness.</span><span class="sxs-lookup"><span data-stu-id="abd5d-176">Note the `boostingDuration` attribute is used only with the freshness function.</span></span>
* <span data-ttu-id="abd5d-177">È consigliabile usare `magnitude` quando si vuole aumentare la priorità in base alla grandezza di un valore numerico.</span><span class="sxs-lookup"><span data-stu-id="abd5d-177">`magnitude` should be used when you want to boost based on how high or low a numeric value is.</span></span> <span data-ttu-id="abd5d-178">Gli scenari che richiedono questa funzione includono l'aumento della priorità in base a margine di profitto, prezzo massimo, prezzo minimo o conteggio di download.</span><span class="sxs-lookup"><span data-stu-id="abd5d-178">Scenarios that call for this function include boosting by profit margin, highest price, lowest price, or a count of downloads.</span></span> <span data-ttu-id="abd5d-179">È possibile invertire l'intervallo, dal più alto al più basso, se si vuole il modello inverso. Ad esempio, per aumentare la priorità degli articoli più economici rispetto a quelli più cari.</span><span class="sxs-lookup"><span data-stu-id="abd5d-179">You can reverse the range, high to low, if you want the inverse pattern (for example, to boost lower-priced items more than higher-priced items).</span></span> <span data-ttu-id="abd5d-180">Dato un intervallo di prezzi da €100 a €1, è necessario impostare `boostingRangeStart` su 100 e `boostingRangeEnd` su 1 per aumentare gli elementi con prezzo minore.</span><span class="sxs-lookup"><span data-stu-id="abd5d-180">Given a range of prices from $100 to $1, you would set `boostingRangeStart` at 100 and `boostingRangeEnd` at 1 to boost the lower-priced items.</span></span> <span data-ttu-id="abd5d-181">Questa funzione può essere usata solo con i campi di tipo Integer e Double.</span><span class="sxs-lookup"><span data-stu-id="abd5d-181">This function can only be used with double and integer fields.</span></span>
* <span data-ttu-id="abd5d-182">`distance` quando si vuole aumentare la priorità in base alla prossimità o alla posizione geografica.</span><span class="sxs-lookup"><span data-stu-id="abd5d-182">`distance` should be used when you want to boost by proximity or geographic location.</span></span> <span data-ttu-id="abd5d-183">Questa funzione può essere usata solo con campi `Edm.GeographyPoint` .</span><span class="sxs-lookup"><span data-stu-id="abd5d-183">This function can only be used with `Edm.GeographyPoint` fields.</span></span>
* <span data-ttu-id="abd5d-184">`tag` quando si vuole aumentare la priorità in base ai tag in comune tra documenti e query di ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-184">`tag` should be used when you want to boost by tags in common between documents and search queries.</span></span> <span data-ttu-id="abd5d-185">Questa funzione può essere usata solo con campi `Edm.String` e `Collection(Edm.String)`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-185">This function can only be used with `Edm.String` and `Collection(Edm.String)` fields.</span></span>

#### <a name="rules-for-using-functions"></a><span data-ttu-id="abd5d-186">Regole per l'uso delle funzioni</span><span class="sxs-lookup"><span data-stu-id="abd5d-186">Rules for using functions</span></span>
* <span data-ttu-id="abd5d-187">Il tipo di funzione (freshness, magnitude, distance, tag) deve essere scritto in lettere minuscole.</span><span class="sxs-lookup"><span data-stu-id="abd5d-187">Function type (freshness, magnitude, distance, tag) must be lower case.</span></span>
* <span data-ttu-id="abd5d-188">Le funzioni non possono includere valori Null o vuoti.</span><span class="sxs-lookup"><span data-stu-id="abd5d-188">Functions cannot include null or empty values.</span></span> <span data-ttu-id="abd5d-189">In particolare, se si include il nome campo, sarà necessario impostare un valore.</span><span class="sxs-lookup"><span data-stu-id="abd5d-189">Specifically, if you include fieldname, you have to set it to something.</span></span>
* <span data-ttu-id="abd5d-190">Le funzioni possono essere applicate solo ai campi filtrabili.</span><span class="sxs-lookup"><span data-stu-id="abd5d-190">Functions can only be applied to filterable fields.</span></span> <span data-ttu-id="abd5d-191">Per altre informazioni sui campi filtrabili, vedere [Creare un indice](search-api-2015-02-28-preview.md#CreateIndex).</span><span class="sxs-lookup"><span data-stu-id="abd5d-191">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) for more information about filterable fields.</span></span>
* <span data-ttu-id="abd5d-192">Le funzioni possono essere applicate solo a campi definiti nella raccolta di campi di un indice.</span><span class="sxs-lookup"><span data-stu-id="abd5d-192">Functions can only be applied to fields that are defined in the fields collection of an index.</span></span>

<span data-ttu-id="abd5d-193">Dopo la definizione dell'indice, compilarlo caricando lo schema dell'indice, seguito dai documenti.</span><span class="sxs-lookup"><span data-stu-id="abd5d-193">After the index is defined, build the index by uploading the index schema, followed by documents.</span></span> <span data-ttu-id="abd5d-194">Per istruzioni relative a queste operazioni, vedere [Creare un indice](search-api-2015-02-28-preview.md#CreateIndex) e [Aggiungere o aggiornare documenti](search-api-2015-02-28-preview.md#AddOrUpdateDocuments).</span><span class="sxs-lookup"><span data-stu-id="abd5d-194">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) and [Add or Update Documents](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) for instructions on these operations.</span></span> <span data-ttu-id="abd5d-195">Dopo la compilazione, dovrebbe essere disponibile un profilo di punteggio funzionale utilizzabile con i dati di ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-195">Once the index is built, you should have a functional scoring profile that works with your search data.</span></span>

<a name="bkmk_template"></a>

## <a name="template"></a><span data-ttu-id="abd5d-196">Modello</span><span class="sxs-lookup"><span data-stu-id="abd5d-196">Template</span></span>
<span data-ttu-id="abd5d-197">Questa sezione illustra la sintassi e il modello per i profili di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-197">This section shows the syntax and template for scoring profiles.</span></span> <span data-ttu-id="abd5d-198">Per descrizioni degli attributi, vedere [Riferimento agli attributi dell'indice](#bkmk_indexref) nella sezione seguente.</span><span class="sxs-lookup"><span data-stu-id="abd5d-198">Refer to [Index attribute reference](#bkmk_indexref) in the next section for descriptions of the attributes.</span></span>

    ...
    "scoringProfiles": [
      {
        "name": "name of scoring profile",
        "text": (optional, only applies to searchable fields) {
          "weights": {
            "searchable_field_name": relative_weight_value (positive #'s),
            ...
          }
        },
        "functions": (optional) [
          {
            "type": "magnitude | freshness | distance | tag",
            "boost": # (positive number used as multiplier for raw score != 1),
            "fieldName": "...",
            "interpolation": "constant | linear (default) | quadratic | logarithmic",

            "magnitude": {
              "boostingRangeStart": #,
              "boostingRangeEnd": #,
              "constantBoostBeyondRange": true | false (default)
            }

            // (- or -)

            "freshness": {
              "boostingDuration": "..." (value representing timespan over which boosting occurs)
            }

            // (- or -)

            "distance": {
              "referencePointParameter": "...", (parameter to be passed in queries to use as reference location)
              "boostingDistance": # (the distance in kilometers from the reference location where the boosting range ends)
            }

            // (- or -)

            "tag": {
              "tagsParameter": "..." (parameter to be passed in queries to specify list of tags to compare against target field)
            }
          }
        ],
        "functionAggregation": (optional, applies only when functions are specified)
            "sum (default) | average | minimum | maximum | firstMatching"
      }
    ],
    "defaultScoringProfile": (optional) "...",
    ...

<a name="bkmk_indexref"></a>

## <a name="scoring-profile-property-reference"></a><span data-ttu-id="abd5d-199">Riferimento alle proprietà dei profili di punteggio</span><span class="sxs-lookup"><span data-stu-id="abd5d-199">Scoring profile property reference</span></span>
> [!NOTE]
> <span data-ttu-id="abd5d-200">La funzione di assegnazione del punteggio può essere applicata solo ai campi filtrabili.</span><span class="sxs-lookup"><span data-stu-id="abd5d-200">A scoring function can only be applied to fields that are filterable.</span></span>
>
>

| <span data-ttu-id="abd5d-201">Proprietà</span><span class="sxs-lookup"><span data-stu-id="abd5d-201">Property</span></span> | <span data-ttu-id="abd5d-202">Descrizione</span><span class="sxs-lookup"><span data-stu-id="abd5d-202">Description</span></span> |
| --- | --- |
| `name` |<span data-ttu-id="abd5d-203">Obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-203">Required.</span></span> <span data-ttu-id="abd5d-204">Nome del profilo di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-204">This is the name of the scoring profile.</span></span> <span data-ttu-id="abd5d-205">Segue le stesse convenzioni di denominazione di un campo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-205">It follows the same naming conventions of a field.</span></span> <span data-ttu-id="abd5d-206">Deve iniziare con una lettera, non può contenere punti, punti e virgole o simboli @ e non può iniziare con la frase "azureSearch" (distinzione tra maiuscole e minuscole applicata).</span><span class="sxs-lookup"><span data-stu-id="abd5d-206">It must start with a letter, cannot contain dots, colons or @ symbols, and cannot start with the phrase "azureSearch" (case-sensitive).</span></span> |
| `text` |<span data-ttu-id="abd5d-207">Contiene la proprietà Weights.</span><span class="sxs-lookup"><span data-stu-id="abd5d-207">Contains the Weights property.</span></span> |
| `weights` |<span data-ttu-id="abd5d-208">facoltativo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-208">Optional.</span></span> <span data-ttu-id="abd5d-209">Coppia nome-valore che specifica un nome campo e il peso relativo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-209">A name-value pair that specifies a field name and relative weight.</span></span> <span data-ttu-id="abd5d-210">Il peso relativo deve essere un numero intero o a virgola mobile positivo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-210">Relative weight must be a positive integer or floating-point number.</span></span> <span data-ttu-id="abd5d-211">È possibile specificare il nome campo senza un peso corrispondente.</span><span class="sxs-lookup"><span data-stu-id="abd5d-211">You can specify the field name without a corresponding weight.</span></span> <span data-ttu-id="abd5d-212">I pesi vengono usati per indicare l'importanza di un campo rispetto a un altro.</span><span class="sxs-lookup"><span data-stu-id="abd5d-212">Weights are used to indicate the importance of one field relative to another.</span></span> |
| `functions` |<span data-ttu-id="abd5d-213">facoltativo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-213">Optional.</span></span> <span data-ttu-id="abd5d-214">Si noti che la funzione di assegnazione di punteggio può essere applicata solo a campi filtrabili.</span><span class="sxs-lookup"><span data-stu-id="abd5d-214">Note that a scoring function can only be applied to fields that are filterable.</span></span> |
| `type` |<span data-ttu-id="abd5d-215">Obbligatorio per le funzioni di assegnazione di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-215">Required for scoring functions.</span></span> <span data-ttu-id="abd5d-216">Indica il tipo di funzione da usare.</span><span class="sxs-lookup"><span data-stu-id="abd5d-216">Indicates the type of function to use.</span></span> <span data-ttu-id="abd5d-217">I valori validi includono `magnitude`, `freshness`, `distance` e `tag`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-217">Valid values include `magnitude`, `freshness`, `distance` and `tag`.</span></span> <span data-ttu-id="abd5d-218">È possibile includere più funzioni in ogni profilo di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-218">You can include more than one function in each scoring profile.</span></span> <span data-ttu-id="abd5d-219">Il nome della funzione deve essere scritto in lettere minuscole.</span><span class="sxs-lookup"><span data-stu-id="abd5d-219">The function name must be lower case.</span></span> |
| `boost` |<span data-ttu-id="abd5d-220">Obbligatorio per le funzioni di assegnazione di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-220">Required for scoring functions.</span></span> <span data-ttu-id="abd5d-221">Numero positivo usato come moltiplicatore per un punteggio non elaborato.</span><span class="sxs-lookup"><span data-stu-id="abd5d-221">A positive number used as multiplier for raw score.</span></span> <span data-ttu-id="abd5d-222">Non può essere uguale a 1.</span><span class="sxs-lookup"><span data-stu-id="abd5d-222">It cannot be equal to 1.</span></span> |
| `fieldName` |<span data-ttu-id="abd5d-223">Obbligatorio per le funzioni di assegnazione di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-223">Required for scoring functions.</span></span> <span data-ttu-id="abd5d-224">Una funzione di assegnazione di punteggio può essere applicata solo a campi che fanno parte della raccolta di campi dell'indice e che sono filtrabili.</span><span class="sxs-lookup"><span data-stu-id="abd5d-224">A scoring function can only be applied to fields that are part of the field collection of the index, and that are filterable.</span></span> <span data-ttu-id="abd5d-225">Ogni tipo di funzione introduce inoltre restrizioni aggiuntive (il valore freshness viene usato con campi datetime, il valore magnitude con campi di tipo Integer o Double, il valore distance con campi location e il valore tag con campi string o string collection).</span><span class="sxs-lookup"><span data-stu-id="abd5d-225">In addition, each function type introduces additional restrictions (freshness is used with datetime fields, magnitude with integer or double fields, distance with location fields and tag with string or string collection fields).</span></span> <span data-ttu-id="abd5d-226">È possibile specificare solo un campo per ogni definizione di funzione.</span><span class="sxs-lookup"><span data-stu-id="abd5d-226">You can only specify a single field per function definition.</span></span> <span data-ttu-id="abd5d-227">Ad esempio, per usare il valore magnitude due volte nello stesso profilo, sarà necessario includere due definizioni di magnitude, una per ogni campo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-227">For example, to use magnitude twice in the same profile, you would need to include two definitions magnitude, one for each field.</span></span> |
| `interpolation` |<span data-ttu-id="abd5d-228">Obbligatorio per le funzioni di assegnazione di punteggio.</span><span class="sxs-lookup"><span data-stu-id="abd5d-228">Required for scoring functions.</span></span> <span data-ttu-id="abd5d-229">Definisce il coefficiente angolare in base al quale viene incrementato l'aumento di priorità del punteggio dall'inizio alla fine dell'intervallo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-229">Defines the slope for which the score boosting increases from the start of the range to the end of the range.</span></span> <span data-ttu-id="abd5d-230">I valori validi includono `linear` (impostazione predefinita), `constant`, `quadratic` e `logarithmic`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-230">Valid values include `linear` (default), `constant`, `quadratic`, and `logarithmic`.</span></span> <span data-ttu-id="abd5d-231">Per informazioni dettagliate, vedere [Impostare le interpolazioni](#bkmk_interpolation) .</span><span class="sxs-lookup"><span data-stu-id="abd5d-231">See [Set interpolations](#bkmk_interpolation) for details.</span></span> |
| `magnitude` |<span data-ttu-id="abd5d-232">La funzione di assegnazione di punteggio in base al valore magnitude viene usata per modificare le classificazioni in base all'intervallo di valori per un campo numerico.</span><span class="sxs-lookup"><span data-stu-id="abd5d-232">The magnitude scoring function is used to alter rankings based on the range of values for a numeric field.</span></span> <span data-ttu-id="abd5d-233">Alcuni degli esempi d'uso più comuni sono i seguenti.</span><span class="sxs-lookup"><span data-stu-id="abd5d-233">Some of the most common usage examples of this are:</span></span><ul><li><span data-ttu-id="abd5d-234">Classificazioni a stelle: il punteggio viene modificato in base al valore presente nel campo contenente le stelle di classificazione.</span><span class="sxs-lookup"><span data-stu-id="abd5d-234">Star ratings: Alter the scoring based on the value within the "Star Rating" field.</span></span> <span data-ttu-id="abd5d-235">Quando due elementi sono rilevanti, viene visualizzato per primo l'elemento con la classificazione superiore.</span><span class="sxs-lookup"><span data-stu-id="abd5d-235">When two items are relevant, the item with the higher rating will be displayed first.</span></span></li><li><span data-ttu-id="abd5d-236">Margine: quando due documenti sono rilevanti, è possibile che un rivenditore voglia aumentare la priorità dei documenti che presentano il margine più alto.</span><span class="sxs-lookup"><span data-stu-id="abd5d-236">Margin: When two documents are relevant, a retailer may wish to boost documents that have higher margins first.</span></span></li><li><span data-ttu-id="abd5d-237">Conteggio di clic: per le applicazioni che tengono traccia delle azioni di tipo clickthrough a prodotti o pagine, è possibile usare il valore magnitude per aumentare la priorità degli elementi che tendono a ottenere il traffico maggiore.</span><span class="sxs-lookup"><span data-stu-id="abd5d-237">Click counts: For applications that track click through actions to products or pages, you could use magnitude to boost items that tend to get the most traffic.</span></span></li><li><span data-ttu-id="abd5d-238">Conteggio di download: per le applicazioni che tengono traccia dei download, la funzione magnitude permette di aumentare la priorità degli elementi più scaricati.</span><span class="sxs-lookup"><span data-stu-id="abd5d-238">Download counts: For applications that track downloads, the magnitude function lets you boost items that have the most downloads.</span></span></li></ul> |
| `magnitude:boostingRangeStart` |<span data-ttu-id="abd5d-239">Imposta il valore iniziale dell'intervallo su cui è basato il calcolo della funzione magnitude.</span><span class="sxs-lookup"><span data-stu-id="abd5d-239">Sets the start value of the range over which magnitude is scored.</span></span> <span data-ttu-id="abd5d-240">Il valore deve essere un numero intero o a virgola mobile.</span><span class="sxs-lookup"><span data-stu-id="abd5d-240">The value must be an integer or floating-point number.</span></span> <span data-ttu-id="abd5d-241">Per le classificazioni a stelle da 1 a 4, corrisponde a 1.</span><span class="sxs-lookup"><span data-stu-id="abd5d-241">For star ratings of 1 through 4, this would be 1.</span></span> <span data-ttu-id="abd5d-242">Per i margini superiori al 50%, corrisponde a 50.</span><span class="sxs-lookup"><span data-stu-id="abd5d-242">For margins over 50%, this would be 50.</span></span> |
| `magnitude:boostingRangeEnd` |<span data-ttu-id="abd5d-243">Imposta il valore finale dell'intervallo su cui è basato il calcolo della funzione magnitude.</span><span class="sxs-lookup"><span data-stu-id="abd5d-243">Sets the end value of the range over which magnitude is scored.</span></span> <span data-ttu-id="abd5d-244">Il valore deve essere un numero intero o a virgola mobile.</span><span class="sxs-lookup"><span data-stu-id="abd5d-244">The value must be an integer or floating-point number.</span></span> <span data-ttu-id="abd5d-245">Per le classificazioni a stelle da 1 a 4, corrisponde a 4.</span><span class="sxs-lookup"><span data-stu-id="abd5d-245">For star ratings of 1 through 4, this would be 4.</span></span> |
| `magnitude:constantBoostBeyondRange` |<span data-ttu-id="abd5d-246">I valori validi sono true o false (predefinito).</span><span class="sxs-lookup"><span data-stu-id="abd5d-246">Valid values are true or false (default).</span></span> <span data-ttu-id="abd5d-247">Se impostato su true, l'aumento completo della priorità continuerà a essere applicato a documenti che includono un valore per il campo di destinazione maggiore rispetto al limite superiore dell'intervallo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-247">When set to true, the full boost will continue to apply to documents that have a value for the target field that’s higher than the upper end of the range.</span></span> <span data-ttu-id="abd5d-248">Se false, l'aumento di priorità di questa funzione non verrà applicato ai documenti che includono un valore per il campo di destinazione che non rientra nell'intervallo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-248">If false, the boost of this function won’t be applied to documents having a value for the target field that falls outside of the range.</span></span> |
| `freshness` |<span data-ttu-id="abd5d-249">La funzione freshness per l'assegnazione di punteggio viene usata per modificare i punteggi di classificazione per gli elementi in base ai valori dei campi DateTimeOffset fields.</span><span class="sxs-lookup"><span data-stu-id="abd5d-249">The freshness scoring function is used to alter ranking scores for items based on values in DateTimeOffset fields.</span></span> <span data-ttu-id="abd5d-250">Ad esempio, un elemento con una data più recente può essere classificato con una priorità maggiore rispetto agli elementi meno recenti.</span><span class="sxs-lookup"><span data-stu-id="abd5d-250">For example, an item with a more recent date can be ranked higher than older items.</span></span> <span data-ttu-id="abd5d-251">(Si noti che è anche possibile classificare elementi come eventi di calendario con date future in modo che gli elementi più vicini possano essere classificate in un livello superiore rispetto agli elementi più lontani nel futuro.) Nella versione attuale del servizio un'estremità dell'intervallo sarà fissata all'ora attuale.</span><span class="sxs-lookup"><span data-stu-id="abd5d-251">(Note that it is also possible to rank items like calendar events with future dates such that items closer to the present can be ranked higher than items further in the future.) In the current service release, one end of the range will be fixed to the current time.</span></span> <span data-ttu-id="abd5d-252">L'altra estremità è un momento del passato basato su `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-252">The other end is a time in the past based on the `boostingDuration`.</span></span> <span data-ttu-id="abd5d-253">Per aumentare la priorità di un intervallo di tempo nel futuro usare un valore negativo di `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-253">To boost a range of times in the future use a negative `boostingDuration`.</span></span> <span data-ttu-id="abd5d-254">La frequenza della modifica dell'aumento di priorità da un intervallo massimo e un intervallo minimo viene determinata dall'interpolazione applicata al profilo di punteggio (vedere la figura seguente).</span><span class="sxs-lookup"><span data-stu-id="abd5d-254">The rate at which the boosting changes from a maximum and minimum range is determined by the Interpolation applied to the scoring profile (see the figure below).</span></span> <span data-ttu-id="abd5d-255">Per invertire il fattore di aumento di priorità applicato, scegliere un fattore di aumento di priorità inferiore a 1.</span><span class="sxs-lookup"><span data-stu-id="abd5d-255">To reverse the boosting factor applied, choose a boost factor of less than 1.</span></span> |
| `freshness:boostingDuration` |<span data-ttu-id="abd5d-256">Imposta un periodo di scadenza, dopo il quale l'aumento di priorità non verrà più applicato a un determinato documento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-256">Sets an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="abd5d-257">Per informazioni sulla sintassi ed esempi, vedere [Impostare boostingDuration](#bkmk_boostdur) nella sezione seguente.</span><span class="sxs-lookup"><span data-stu-id="abd5d-257">See [Set boostingDuration](#bkmk_boostdur) in the following section for syntax and examples.</span></span> |
| `distance` |<span data-ttu-id="abd5d-258">La funzione distance per l'assegnazione di punteggio viene usata per influire sul punteggio di documenti in base alla vicinanza o lontananza rispetto a una posizione geografica di riferimento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-258">The distance scoring function is used to affect the score of documents based on how close or far they are relative to a reference geographic location.</span></span> <span data-ttu-id="abd5d-259">La posizione di riferimento viene specificata come parte della query in un parametro (usando il parametro di query `scoringParameter` ) sotto forma di argomento lon,lat.</span><span class="sxs-lookup"><span data-stu-id="abd5d-259">The reference location is given as part of the query in a parameter (using the `scoringParameter` query parameter) as a lon,lat argument.</span></span> |
| `distance:referencePointParameter` |<span data-ttu-id="abd5d-260">Parametro da passare nelle query e da usare come posizione di riferimento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-260">A parameter to be passed in queries to use as reference location.</span></span> <span data-ttu-id="abd5d-261">scoringParameter è un parametro di query.</span><span class="sxs-lookup"><span data-stu-id="abd5d-261">scoringParameter is a query parameter.</span></span> <span data-ttu-id="abd5d-262">Per descrizioni dei parametri di query, vedere [Eseguire ricerche nei documenti](search-api-2015-02-28-preview.md#SearchDocs) .</span><span class="sxs-lookup"><span data-stu-id="abd5d-262">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `distance:boostingDistance` |<span data-ttu-id="abd5d-263">Numero che indica la distanza, in chilometri, dalla posizione di riferimento in cui termina l'intervallo di aumento della priorità.</span><span class="sxs-lookup"><span data-stu-id="abd5d-263">A number that indicates the distance in kilometers from the reference location where the boosting range ends.</span></span> |
| `tag` |<span data-ttu-id="abd5d-264">La funzione per l'assegnazione di punteggio viene usata per influire sul punteggio di documenti in base ai tag nei documenti e nelle query di ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-264">The tag scoring function is used to affect the score of documents based on tags in documents and search queries.</span></span> <span data-ttu-id="abd5d-265">La priorità di documenti con tag in comune con la query di ricerca verrà aumentata.</span><span class="sxs-lookup"><span data-stu-id="abd5d-265">Documents that have tags in common with the search query will be boosted.</span></span> <span data-ttu-id="abd5d-266">I tag per la query di ricerca vengono specificati come parametro di assegnazione dei punteggi in ogni richiesta di ricerca (usando il parametro di query `scoringParameter` ).</span><span class="sxs-lookup"><span data-stu-id="abd5d-266">The tags for the search query is provided as a scoring parameter in each search request(using the `scoringParameter` query parameter).</span></span> |
| `tag:tagsParameter` |<span data-ttu-id="abd5d-267">Parametro da passare nelle query per specificare i tag per una particolare richiesta.</span><span class="sxs-lookup"><span data-stu-id="abd5d-267">A parameter to be passed in queries to specify tags for a particular request.</span></span> <span data-ttu-id="abd5d-268">`scoringParameter` è un parametro di query.</span><span class="sxs-lookup"><span data-stu-id="abd5d-268">`scoringParameter` is a query parameter.</span></span> <span data-ttu-id="abd5d-269">Per descrizioni dei parametri di query, vedere [Eseguire ricerche nei documenti](search-api-2015-02-28-preview.md#SearchDocs) .</span><span class="sxs-lookup"><span data-stu-id="abd5d-269">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `functionAggregation` |<span data-ttu-id="abd5d-270">facoltativo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-270">Optional.</span></span> <span data-ttu-id="abd5d-271">Applicabile solo se vengono specificate funzioni.</span><span class="sxs-lookup"><span data-stu-id="abd5d-271">Applies only when functions are specified.</span></span> <span data-ttu-id="abd5d-272">I valori validi includono `sum` (impostazione predefinita), `average`, `minimum`, `maximum` e `firstMatching`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-272">Valid values include: `sum` (default), `average`, `minimum`, `maximum`, and `firstMatching`.</span></span> <span data-ttu-id="abd5d-273">Un punteggio di ricerca è un singolo valore calcolato da più variabili, con funzioni multiple.</span><span class="sxs-lookup"><span data-stu-id="abd5d-273">A search score is a single value that is computed from multiple variables, including multiple functions.</span></span> <span data-ttu-id="abd5d-274">Questo attributo indica il modo in cui gli aumenti di priorità di tutte le funzioni vengono combinati in un singolo aumento di priorità aggregato, che viene quindi applicato al punteggio di base del documento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-274">This attributes indicates how the boosts of all the functions are combined into a single aggregate boost that is then applied to the base document score.</span></span> <span data-ttu-id="abd5d-275">Il punteggio di base è basato sul valore tf-idf calcolato dal documento e dalla query di ricerca.</span><span class="sxs-lookup"><span data-stu-id="abd5d-275">The base score is based on the tf-idf value computed from the document and the search query.</span></span> |
| `defaultScoringProfile` |<span data-ttu-id="abd5d-276">Quando si esegue una richiesta di ricerca, se non viene specificato alcun profilo di punteggio, verrà usato il punteggio predefinito (solo tf-idf).</span><span class="sxs-lookup"><span data-stu-id="abd5d-276">When executing a search request, if no scoring profile is specified, then default scoring is used (tf-idf only).</span></span> <span data-ttu-id="abd5d-277">È possibile impostare qui un nome di profilo di punteggio predefinito, in modo che Ricerca di Azure usi tale profilo quando nella richiesta di ricerca non viene specificato alcun profilo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-277">A default scoring profile name can be set here, causing Azure Search to use that profile when no specific profile is given in the search request.</span></span> |

<a name="bkmk_interpolation"></a>

## <a name="set-interpolations"></a><span data-ttu-id="abd5d-278">Impostare le interpolazioni</span><span class="sxs-lookup"><span data-stu-id="abd5d-278">Set interpolations</span></span>
<span data-ttu-id="abd5d-279">Le interpolazioni permettono di definire il coefficiente angolare in base al quale viene incrementato l'aumento di priorità del punteggio dall'inizio alla fine dell'intervallo.</span><span class="sxs-lookup"><span data-stu-id="abd5d-279">Interpolations allow you to define the slope for which the score boosting increases from the start of the range to the end of the range.</span></span> <span data-ttu-id="abd5d-280">È possibile usare le interpolazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="abd5d-280">The following interpolations can be used:</span></span>

* <span data-ttu-id="abd5d-281">`Linear`: per gli elementi inclusi nell'intervallo max e min, l'aumento di priorità applicato all'elemento verrà eseguito in misura costantemente decrescente.</span><span class="sxs-lookup"><span data-stu-id="abd5d-281">`Linear`: For items that are within the max and min range, the boost applied to the item will be done in a constantly decreasing amount.</span></span> <span data-ttu-id="abd5d-282">L'interpolazione predefinita per un profilo di punteggio è lineare.</span><span class="sxs-lookup"><span data-stu-id="abd5d-282">Linear is the default interpolation for a scoring profile.</span></span>
* <span data-ttu-id="abd5d-283">`Constant`: per gli elementi inclusi nell'intervallo di inizio e di fine, ai risultati della classificazione verrà applicato un aumento di priorità costante.</span><span class="sxs-lookup"><span data-stu-id="abd5d-283">`Constant`: For items that are within the start and ending range, a constant boost will be applied to the rank results.</span></span>
* <span data-ttu-id="abd5d-284">`Quadratic`: rispetto all'interpolazione lineare che prevede un aumento di priorità costantemente decrescente, l'interpolazione quadratica presenterà una riduzione iniziale a ritmo più ridotto e una riduzione di intervallo molto più elevato in prossimità della fine.</span><span class="sxs-lookup"><span data-stu-id="abd5d-284">`Quadratic`: In comparison to a Linear interpolation that has a constantly decreasing boost, Quadratic will initially decrease at smaller pace and then as it approaches the end range, it decreases at a much higher interval.</span></span> <span data-ttu-id="abd5d-285">Questa opzione di interpolazione non è consentita nelle funzioni di assegnazione di punteggio in base a tag.</span><span class="sxs-lookup"><span data-stu-id="abd5d-285">This interpolation option is not allowed in tag scoring functions.</span></span>
* <span data-ttu-id="abd5d-286">`Logarithmic`: rispetto all'interpolazione lineare che prevede un aumento di priorità costantemente decrescente, l'interpolazione logaritmica presenterà una riduzione iniziale a ritmo più elevato e una riduzione di intervallo molto più ridotto in prossimità della fine.</span><span class="sxs-lookup"><span data-stu-id="abd5d-286">`Logarithmic`: In comparison to a Linear interpolation that has a constantly decreasing boost, Logarithmic will initially decrease at higher pace and then as it approaches the end range, it decreases at a much smaller interval.</span></span> <span data-ttu-id="abd5d-287">Questa opzione di interpolazione non è consentita nelle funzioni di assegnazione di punteggio in base a tag.</span><span class="sxs-lookup"><span data-stu-id="abd5d-287">This interpolation option is not allowed in tag scoring functions.</span></span>

<span data-ttu-id="abd5d-288"><a name="Figure1"></a> ![][1]</span><span class="sxs-lookup"><span data-stu-id="abd5d-288"><a name="Figure1"></a> ![][1]</span></span>

<a name="bkmk_boostdur"></a>

## <a name="set-boostingduration"></a><span data-ttu-id="abd5d-289">Impostare boostingDuration</span><span class="sxs-lookup"><span data-stu-id="abd5d-289">Set boostingDuration</span></span>
<span data-ttu-id="abd5d-290">`boostingDuration` è un attributo della funzione freshness.</span><span class="sxs-lookup"><span data-stu-id="abd5d-290">`boostingDuration` is an attribute of the freshness function.</span></span> <span data-ttu-id="abd5d-291">Consente di impostare un periodo di scadenza, dopo il quale l'aumento di priorità non verrà più applicato a un determinato documento.</span><span class="sxs-lookup"><span data-stu-id="abd5d-291">You use it to set an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="abd5d-292">Ad esempio, per aumentare la priorità di una linea di prodotti o una marca per un periodo promozionale di 10 giorni, è necessario specificare tale periodo come "P10D" per questi documenti.</span><span class="sxs-lookup"><span data-stu-id="abd5d-292">For example, to boost a product line or brand for a 10-day promotional period, you would specify the 10-day period as "P10D" for those documents.</span></span> <span data-ttu-id="abd5d-293">O per migliorare gli eventi previsti per la settimana successiva specificare "-P7D".</span><span class="sxs-lookup"><span data-stu-id="abd5d-293">Or to boost upcoming events in the next week specify "-P7D".</span></span>

<span data-ttu-id="abd5d-294">`boostingDuration` deve essere formattato come valore XSD "dayTimeDuration" (un subset limitato di un valore di durata ISO 8601).</span><span class="sxs-lookup"><span data-stu-id="abd5d-294">`boostingDuration` must be formatted as an XSD "dayTimeDuration" value (a restricted subset of an ISO 8601 duration value).</span></span> <span data-ttu-id="abd5d-295">Il modello è: `[-]P[nD][T[nH][nM][nS]]`.</span><span class="sxs-lookup"><span data-stu-id="abd5d-295">The pattern for this is: `[-]P[nD][T[nH][nM][nS]]`.</span></span>

<span data-ttu-id="abd5d-296">La tabella seguente fornisce alcuni esempi.</span><span class="sxs-lookup"><span data-stu-id="abd5d-296">The following table provides several examples.</span></span>

| <span data-ttu-id="abd5d-297">Durata</span><span class="sxs-lookup"><span data-stu-id="abd5d-297">Duration</span></span> | <span data-ttu-id="abd5d-298">boostingDuration</span><span class="sxs-lookup"><span data-stu-id="abd5d-298">boostingDuration</span></span> |
| --- | --- |
| <span data-ttu-id="abd5d-299">1 giorno</span><span class="sxs-lookup"><span data-stu-id="abd5d-299">1 day</span></span> |<span data-ttu-id="abd5d-300">"P1D"</span><span class="sxs-lookup"><span data-stu-id="abd5d-300">"P1D"</span></span> |
| <span data-ttu-id="abd5d-301">2 giorni e 12 ore</span><span class="sxs-lookup"><span data-stu-id="abd5d-301">2 days and 12 hours</span></span> |<span data-ttu-id="abd5d-302">"P2DT12H"</span><span class="sxs-lookup"><span data-stu-id="abd5d-302">"P2DT12H"</span></span> |
| <span data-ttu-id="abd5d-303">15 minuti</span><span class="sxs-lookup"><span data-stu-id="abd5d-303">15 minutes</span></span> |<span data-ttu-id="abd5d-304">"PT15M"</span><span class="sxs-lookup"><span data-stu-id="abd5d-304">"PT15M"</span></span> |
| <span data-ttu-id="abd5d-305">30 giorni, 5 ore, 10 minuti e 6334 secondi</span><span class="sxs-lookup"><span data-stu-id="abd5d-305">30 days, 5 hours, 10 minutes, and 6.334 seconds</span></span> |<span data-ttu-id="abd5d-306">"P30DT5H10M6.334S"</span><span class="sxs-lookup"><span data-stu-id="abd5d-306">"P30DT5H10M6.334S"</span></span> |

<span data-ttu-id="abd5d-307">Per altri esempi, vedere il sito Web relativo ai [tipi di dati dello schema XML (W3.org)](http://www.w3.org/TR/xmlschema11-2/).</span><span class="sxs-lookup"><span data-stu-id="abd5d-307">For more examples, see [XML Schema: Datatypes (W3.org web site)](http://www.w3.org/TR/xmlschema11-2/).</span></span>

<span data-ttu-id="abd5d-308">**Vedere anche**
[API REST per il servizio Ricerca di Azure](http://msdn.microsoft.com/library/azure/dn798935.aspx) su MSDN</span><span class="sxs-lookup"><span data-stu-id="abd5d-308">**See Also**
[Azure Search Service REST API](http://msdn.microsoft.com/library/azure/dn798935.aspx) on MSDN</span></span> <br/><span data-ttu-id="abd5d-309">
[Create Index (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798941.aspx) (Creare un indice (API di Ricerca di Azure))su MSDN</span><span class="sxs-lookup"><span data-stu-id="abd5d-309">
[Create Index (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798941.aspx) on MSDN</span></span><br/><span data-ttu-id="abd5d-310">
[Add a scoring profile to a search index](http://msdn.microsoft.com/library/azure/dn798928.aspx) (Aggiungere un profilo di punteggio a un indice di ricerca) su MSDN</span><span class="sxs-lookup"><span data-stu-id="abd5d-310">
[Add a scoring profile to a search index](http://msdn.microsoft.com/library/azure/dn798928.aspx) on MSDN</span></span><br/>

<!--Image references-->
[1]: ./media/search-api-scoring-profiles-2015-02-28-Preview/scoring_interpolations.png
