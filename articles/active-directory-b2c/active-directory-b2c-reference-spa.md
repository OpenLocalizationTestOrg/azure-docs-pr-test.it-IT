---
title: 'Azure Active Directory B2C: app a singola pagina tramite flusso implicito | Microsoft Docs'
description: Informazioni su come creare app a singola pagina tramite il flusso implicito OAuth 2.0 con Azure Active Directory B2C.
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 44ff168599e9078506e1afdd0f1dc4657ef0964d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="e963a-103">Azure Active Directory B2C: app a singola pagina tramite il flusso implicito OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e963a-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="e963a-104">Questa funzionalità è in anteprima.</span><span class="sxs-lookup"><span data-stu-id="e963a-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="e963a-105">Molte app moderne hanno un front-end dell'app a singola pagina scritto principalmente in JavaScript.</span><span class="sxs-lookup"><span data-stu-id="e963a-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="e963a-106">L'app viene scritta spesso usando un framework come AngularJS, Ember.js o Durandal.</span><span class="sxs-lookup"><span data-stu-id="e963a-106">Often, the app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="e963a-107">Le app a pagina singola e le altre app JavaScript che vengono eseguite soprattutto in un browser presentano alcune problematiche aggiuntive per l'autenticazione:</span><span class="sxs-lookup"><span data-stu-id="e963a-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="e963a-108">Le caratteristiche di sicurezza di queste app sono considerevolmente diverse da quelle delle tradizionali applicazioni Web basate su server.</span><span class="sxs-lookup"><span data-stu-id="e963a-108">The security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="e963a-109">Molti server di autorizzazione e provider di identità non supportano le richieste CORS (Condivisione risorse tra le origini).</span><span class="sxs-lookup"><span data-stu-id="e963a-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="e963a-110">I reindirizzamenti dei browser a pagina intera dall'app possono risultare particolarmente fastidiosi per l'esperienza utente.</span><span class="sxs-lookup"><span data-stu-id="e963a-110">Full-page browser redirects away from the app can be significantly invasive to the user experience.</span></span>

<span data-ttu-id="e963a-111">Per supportare queste applicazioni, Azure Active Directory B2C (Azure AD B2C) usa il flusso implicito OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="e963a-111">To support these applications, Azure Active Directory B2C (Azure AD B2C) uses the OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="e963a-112">Il flusso di concessione implicita OAuth 2.0 è descritto nella [sezione 4.2 della specifica di OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="e963a-112">The OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of the OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="e963a-113">Nel flusso implicito l'app riceve i token direttamente dall'endpoint di autorizzazione di Azure Active Directory (Azure AD), senza alcuno scambio tra server.</span><span class="sxs-lookup"><span data-stu-id="e963a-113">In implicit flow, the app receives tokens directly from the Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="e963a-114">Tutta la logica di autenticazione e gestione della sessione avviene interamente nel client JavaScript, senza eseguire ulteriori reindirizzamenti di pagina.</span><span class="sxs-lookup"><span data-stu-id="e963a-114">All authentication logic and session handling takes place entirely in the JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="e963a-115">Azure AD B2C estende il flusso implicito OAuth 2.0 standard e va oltre le semplici operazioni di autorizzazione e autenticazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-115">Azure AD B2C extends the standard OAuth 2.0 implicit flow to more than simple authentication and authorization.</span></span> <span data-ttu-id="e963a-116">Azure AD B2C introduce il [parametro di criteri](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="e963a-116">Azure AD B2C introduces the [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="e963a-117">Con il parametro di criteri è possibile usare OAuth 2.0 per aggiungere esperienze utente all'app, ad esempio la gestione dell'iscrizione, dell'accesso e del profilo.</span><span class="sxs-lookup"><span data-stu-id="e963a-117">With the policy parameter, you can use OAuth 2.0 to add user experiences to your app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="e963a-118">Questo articolo spiega come usare il flusso implicito e Azure AD per implementare ogni esperienza nelle applicazioni a singola pagina.</span><span class="sxs-lookup"><span data-stu-id="e963a-118">In this article, we show you how to use the implicit flow and Azure AD to implement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="e963a-119">Per iniziare, vedere anche gli esempi relativi a [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) e [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi).</span><span class="sxs-lookup"><span data-stu-id="e963a-119">To help you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="e963a-120">Nelle richieste HTTP di esempio in questo articolo si usa la directory di Azure AD B2C di esempio, **fabrikamb2c.onmicrosoft.com**.</span><span class="sxs-lookup"><span data-stu-id="e963a-120">In the example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**.</span></span> <span data-ttu-id="e963a-121">Si usano anche i criteri e l'applicazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="e963a-121">We also use our own sample application and policies.</span></span> <span data-ttu-id="e963a-122">È possibile provare le richieste in autonomia usando questi valori o sostituendoli con valori personalizzati.</span><span class="sxs-lookup"><span data-stu-id="e963a-122">You can try the requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="e963a-123">Altre informazioni su come [ottenere la directory, l'applicazione e i criteri di Azure AD B2C personalizzati](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="e963a-123">Learn how to [get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="e963a-124">Diagramma di protocollo</span><span class="sxs-lookup"><span data-stu-id="e963a-124">Protocol diagram</span></span>

<span data-ttu-id="e963a-125">Il flusso di accesso implicito è simile a quello illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="e963a-125">The implicit sign-in flow looks something like the following figure.</span></span> <span data-ttu-id="e963a-126">Ogni passaggio verrà descritto in dettaglio più avanti nell'articolo.</span><span class="sxs-lookup"><span data-stu-id="e963a-126">Each step is described in detail later in the article.</span></span>

![Corsie di OpenID Connect](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="e963a-128">Invio di richieste di autenticazione</span><span class="sxs-lookup"><span data-stu-id="e963a-128">Send authentication requests</span></span>
<span data-ttu-id="e963a-129">Quando l'app Web deve autenticare l'utente ed eseguire un criterio, indirizza l'utente all'endpoint `/authorize`.</span><span class="sxs-lookup"><span data-stu-id="e963a-129">When your web app needs to authenticate the user and execute a policy, it directs the user to the `/authorize` endpoint.</span></span> <span data-ttu-id="e963a-130">Questa è la parte interattiva del flusso, dove l'utente esegue operazioni in base ai criteri.</span><span class="sxs-lookup"><span data-stu-id="e963a-130">This is the interactive portion of the flow, where the user takes action, depending on the policy.</span></span> <span data-ttu-id="e963a-131">L'utente riceve un token ID dall'endpoint di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e963a-131">The user gets an ID token from the Azure AD endpoint.</span></span>

<span data-ttu-id="e963a-132">In questa richiesta il client indica nel parametro `scope` le autorizzazioni che deve acquisire dall'utente.</span><span class="sxs-lookup"><span data-stu-id="e963a-132">In this request, the client indicates in the `scope` parameter the permissions that it needs to acquire from the user.</span></span> <span data-ttu-id="e963a-133">Nel parametro `p` indica i criteri da eseguire.</span><span class="sxs-lookup"><span data-stu-id="e963a-133">In the `p` parameter, it indicates the policy to execute.</span></span> <span data-ttu-id="e963a-134">Di seguito vengono presentati tre esempi (con interruzioni di riga per migliorare la leggibilità), ognuno dei quali usa criteri diversi.</span><span class="sxs-lookup"><span data-stu-id="e963a-134">The following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="e963a-135">Per apprendere il funzionamento di ogni richiesta, provare a incollare la richiesta in un browser ed eseguirla.</span><span class="sxs-lookup"><span data-stu-id="e963a-135">To get a feel for how each request works, try pasting the request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="e963a-136">Uso di un criterio di accesso</span><span class="sxs-lookup"><span data-stu-id="e963a-136">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="e963a-137">Uso di un criterio di iscrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-137">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="e963a-138">Uso di un criterio di modifica del profilo</span><span class="sxs-lookup"><span data-stu-id="e963a-138">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="e963a-139">Parametro</span><span class="sxs-lookup"><span data-stu-id="e963a-139">Parameter</span></span> | <span data-ttu-id="e963a-140">Obbligatorio?</span><span class="sxs-lookup"><span data-stu-id="e963a-140">Required?</span></span> | <span data-ttu-id="e963a-141">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-141">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e963a-142">client_id</span><span class="sxs-lookup"><span data-stu-id="e963a-142">client_id</span></span> |<span data-ttu-id="e963a-143">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-143">Required</span></span> |<span data-ttu-id="e963a-144">ID applicazione assegnato all'app nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e963a-144">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="e963a-145">response_type</span><span class="sxs-lookup"><span data-stu-id="e963a-145">response_type</span></span> |<span data-ttu-id="e963a-146">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-146">Required</span></span> |<span data-ttu-id="e963a-147">Deve includere `id_token` per l'accesso a OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="e963a-147">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="e963a-148">Può anche includere il tipo di risposta `token`.</span><span class="sxs-lookup"><span data-stu-id="e963a-148">It also can include the response type `token`.</span></span> <span data-ttu-id="e963a-149">Se si usa `token`, l'app può ricevere immediatamente un token di accesso dall'endpoint di autorizzazione senza dover inviare una seconda richiesta a tale endpoint.</span><span class="sxs-lookup"><span data-stu-id="e963a-149">If you use `token`, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span>  <span data-ttu-id="e963a-150">Se si usa il tipo di risposta `token`, il parametro `scope` deve contenere un ambito che indica la risorsa per cui emettere il token.</span><span class="sxs-lookup"><span data-stu-id="e963a-150">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="e963a-151">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="e963a-151">redirect_uri</span></span> |<span data-ttu-id="e963a-152">Consigliato</span><span class="sxs-lookup"><span data-stu-id="e963a-152">Recommended</span></span> |<span data-ttu-id="e963a-153">URI di reindirizzamento dell'app dove le risposte di autenticazione possono essere inviate e ricevute dall'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-153">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="e963a-154">Deve corrispondere esattamente a uno degli URI di reindirizzamento registrati nel portale, ad eccezione del fatto che deve essere codificato come URL.</span><span class="sxs-lookup"><span data-stu-id="e963a-154">It must exactly match one of the redirect URIs that you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="e963a-155">response_mode</span><span class="sxs-lookup"><span data-stu-id="e963a-155">response_mode</span></span> |<span data-ttu-id="e963a-156">Consigliato</span><span class="sxs-lookup"><span data-stu-id="e963a-156">Recommended</span></span> |<span data-ttu-id="e963a-157">Specifica il metodo da usare per restituire il token risultante all'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-157">Specifies the method to use to send the resulting token back to your app.</span></span>  <span data-ttu-id="e963a-158">Per i flussi impliciti, usare `fragment`.</span><span class="sxs-lookup"><span data-stu-id="e963a-158">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="e963a-159">scope</span><span class="sxs-lookup"><span data-stu-id="e963a-159">scope</span></span> |<span data-ttu-id="e963a-160">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-160">Required</span></span> |<span data-ttu-id="e963a-161">Elenco di ambiti separati da spazi.</span><span class="sxs-lookup"><span data-stu-id="e963a-161">A space-separated list of scopes.</span></span> <span data-ttu-id="e963a-162">Un valore per l'ambito indica ad Azure AD entrambe le autorizzazioni richieste.</span><span class="sxs-lookup"><span data-stu-id="e963a-162">A single scope value indicates to Azure AD both of the permissions that are being requested.</span></span> <span data-ttu-id="e963a-163">L'ambito `openid` indica un'autorizzazione per l'accesso dell'utente e per ottenere i dati relativi all'utente sotto forma di token ID.</span><span class="sxs-lookup"><span data-stu-id="e963a-163">The `openid` scope indicates a permission to sign in the user and get data about the user in the form of ID tokens.</span></span> <span data-ttu-id="e963a-164">Verranno fornite informazioni più avanti in questo articolo. L’ambito `offline_access` è facoltativo per le applicazioni Web.</span><span class="sxs-lookup"><span data-stu-id="e963a-164">(We'll talk about this more later in the article.) The `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="e963a-165">Indica che l'app necessita di un token di aggiornamento per avere un accesso duraturo alle risorse.</span><span class="sxs-lookup"><span data-stu-id="e963a-165">It indicates that your app needs a refresh token for long-lived access to resources.</span></span> |
| <span data-ttu-id="e963a-166">state</span><span class="sxs-lookup"><span data-stu-id="e963a-166">state</span></span> |<span data-ttu-id="e963a-167">Consigliato</span><span class="sxs-lookup"><span data-stu-id="e963a-167">Recommended</span></span> |<span data-ttu-id="e963a-168">Valore incluso nella richiesta che viene anche restituito nella risposta del token.</span><span class="sxs-lookup"><span data-stu-id="e963a-168">A value included in the request that also is returned in the token response.</span></span> <span data-ttu-id="e963a-169">Può trattarsi di una stringa di qualsiasi contenuto si voglia usare.</span><span class="sxs-lookup"><span data-stu-id="e963a-169">It can be a string of any content that you want to use.</span></span> <span data-ttu-id="e963a-170">Per evitare attacchi di richiesta intersito falsa, viene in genere usato un valore univoco generato casualmente.</span><span class="sxs-lookup"><span data-stu-id="e963a-170">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span> <span data-ttu-id="e963a-171">Lo stato viene inoltre usato per codificare le informazioni sullo stato dell'utente nell'app prima dell'esecuzione della richiesta di autenticazione, ad esempio la pagina in cui si trovava.</span><span class="sxs-lookup"><span data-stu-id="e963a-171">The state is also used to encode information about the user's state in the app before the authentication request occurred, like the page they were on.</span></span> |
| <span data-ttu-id="e963a-172">nonce</span><span class="sxs-lookup"><span data-stu-id="e963a-172">nonce</span></span> |<span data-ttu-id="e963a-173">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-173">Required</span></span> |<span data-ttu-id="e963a-174">Valore incluso nella richiesta, generata dall'app, che viene incorporato nel token ID risultante come attestazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-174">A value included in the request (generated by the app) that is included in the resulting ID token as a claim.</span></span> <span data-ttu-id="e963a-175">L'app può verificare questo valore per ridurre gli attacchi di riproduzione del token.</span><span class="sxs-lookup"><span data-stu-id="e963a-175">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="e963a-176">Il valore è in genere una stringa casuale univoca che può essere usata per identificare l'origine della richiesta.</span><span class="sxs-lookup"><span data-stu-id="e963a-176">Usually, the value is a randomized, unique string that can be used to identify the origin of the request.</span></span> |
| <span data-ttu-id="e963a-177">p</span><span class="sxs-lookup"><span data-stu-id="e963a-177">p</span></span> |<span data-ttu-id="e963a-178">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-178">Required</span></span> |<span data-ttu-id="e963a-179">Criterio da eseguire.</span><span class="sxs-lookup"><span data-stu-id="e963a-179">The policy to execute.</span></span> <span data-ttu-id="e963a-180">Si tratta del nome di un criterio creato nel tenant di Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="e963a-180">It's the name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="e963a-181">Il valore del nome dei criteri deve iniziare con **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="e963a-181">The policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="e963a-182">Per altre informazioni, vedere [Criteri incorporati di Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="e963a-182">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="e963a-183">prompt</span><span class="sxs-lookup"><span data-stu-id="e963a-183">prompt</span></span> |<span data-ttu-id="e963a-184">Facoltativo</span><span class="sxs-lookup"><span data-stu-id="e963a-184">Optional</span></span> |<span data-ttu-id="e963a-185">Tipo di interazione utente obbligatoria.</span><span class="sxs-lookup"><span data-stu-id="e963a-185">The type of user interaction that's required.</span></span> <span data-ttu-id="e963a-186">Al momento l'unico valore valido è `login`.</span><span class="sxs-lookup"><span data-stu-id="e963a-186">Currently, the only valid value is `login`.</span></span> <span data-ttu-id="e963a-187">L'utente è costretto a immettere le credenziali alla richiesta.</span><span class="sxs-lookup"><span data-stu-id="e963a-187">This forces the user to enter their credentials on that request.</span></span> <span data-ttu-id="e963a-188">L'accesso Single Sign-On non avrà effetto.</span><span class="sxs-lookup"><span data-stu-id="e963a-188">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="e963a-189">Viene a questo punto richiesto all'utente di completare il flusso di lavoro dei criteri.</span><span class="sxs-lookup"><span data-stu-id="e963a-189">At this point, the user is asked to complete the policy's workflow.</span></span> <span data-ttu-id="e963a-190">È possibile che venga richiesto all'utente di immettere nome utente e password, di accedere con un'identità di social networking, di iscriversi alla directory o di effettuare qualsiasi altro passaggio.</span><span class="sxs-lookup"><span data-stu-id="e963a-190">This might involve the user entering their username and password, signing in with a social identity, signing up for the directory, or any other number of steps.</span></span> <span data-ttu-id="e963a-191">Le azioni dell'utente dipendono dal modo in cui sono definiti i criteri.</span><span class="sxs-lookup"><span data-stu-id="e963a-191">User actions depend on how the policy is defined.</span></span>

<span data-ttu-id="e963a-192">Dopo che l'utente ha completato i criteri, Azure AD restituisce una risposta per l'app in corrispondenza del valore usato per `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="e963a-192">After the user completes the policy, Azure AD returns a response to your app at the value you used for `redirect_uri`.</span></span> <span data-ttu-id="e963a-193">Viene usato il metodo specificato nel parametro `response_mode`.</span><span class="sxs-lookup"><span data-stu-id="e963a-193">It uses the method specified in the `response_mode` parameter.</span></span> <span data-ttu-id="e963a-194">La risposta è esattamente la stessa per ogni scenario di azione dell'utente, indipendentemente dai criteri eseguiti.</span><span class="sxs-lookup"><span data-stu-id="e963a-194">The response is exactly the same for each of the user action scenarios, independent of the policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="e963a-195">Risposta con esito positivo</span><span class="sxs-lookup"><span data-stu-id="e963a-195">Successful response</span></span>
<span data-ttu-id="e963a-196">Una risposta con esito positivo che usa `response_mode=fragment` e `response_type=id_token+token` è simile a quanto riportato di seguito. Sono state aggiunte interruzioni di riga per migliorare la leggibilità:</span><span class="sxs-lookup"><span data-stu-id="e963a-196">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like the following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="e963a-197">Parametro</span><span class="sxs-lookup"><span data-stu-id="e963a-197">Parameter</span></span> | <span data-ttu-id="e963a-198">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-198">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e963a-199">access_token</span><span class="sxs-lookup"><span data-stu-id="e963a-199">access_token</span></span> |<span data-ttu-id="e963a-200">Token di accesso richiesto dall'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-200">The access token that the app requested.</span></span>  <span data-ttu-id="e963a-201">Il token di accesso non deve essere decodificato o controllato in altro modo,</span><span class="sxs-lookup"><span data-stu-id="e963a-201">The access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="e963a-202">ma può essere trattato come una stringa opaca.</span><span class="sxs-lookup"><span data-stu-id="e963a-202">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="e963a-203">token_type</span><span class="sxs-lookup"><span data-stu-id="e963a-203">token_type</span></span> |<span data-ttu-id="e963a-204">Valore del tipo di token.</span><span class="sxs-lookup"><span data-stu-id="e963a-204">The token type value.</span></span> <span data-ttu-id="e963a-205">L'unico tipo supportato da Azure AD è Bearer.</span><span class="sxs-lookup"><span data-stu-id="e963a-205">The only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="e963a-206">expires_in</span><span class="sxs-lookup"><span data-stu-id="e963a-206">expires_in</span></span> |<span data-ttu-id="e963a-207">Periodo di validità del token di accesso (in secondi).</span><span class="sxs-lookup"><span data-stu-id="e963a-207">The length of time that the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="e963a-208">scope</span><span class="sxs-lookup"><span data-stu-id="e963a-208">scope</span></span> |<span data-ttu-id="e963a-209">Ambiti per i quali il token è valido.</span><span class="sxs-lookup"><span data-stu-id="e963a-209">The scopes that the token is valid for.</span></span> <span data-ttu-id="e963a-210">È possibile usare gli ambiti anche per memorizzare i token nella cache per un uso successivo.</span><span class="sxs-lookup"><span data-stu-id="e963a-210">You also can use scopes to cache tokens for later use.</span></span> |
| <span data-ttu-id="e963a-211">id_token</span><span class="sxs-lookup"><span data-stu-id="e963a-211">id_token</span></span> |<span data-ttu-id="e963a-212">Token ID richiesto dall'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-212">The ID token that the app requested.</span></span> <span data-ttu-id="e963a-213">È possibile usare il token ID per verificare l'identità dell'utente e avviare una sessione con l'utente.</span><span class="sxs-lookup"><span data-stu-id="e963a-213">You can use the ID token to verify the user's identity and begin a session with the user.</span></span> <span data-ttu-id="e963a-214">Per informazioni dettagliate sui token ID e sul relativo contenuto, vedere [Azure AD B2C: informazioni di riferimento sui token](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e963a-214">For more information about ID tokens and their contents, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="e963a-215">state</span><span class="sxs-lookup"><span data-stu-id="e963a-215">state</span></span> |<span data-ttu-id="e963a-216">Se un parametro `state` è incluso nella richiesta, lo stesso valore deve essere visualizzato nella risposta.</span><span class="sxs-lookup"><span data-stu-id="e963a-216">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="e963a-217">L'app deve verificare che i valori `state` nella richiesta e nella risposta siano identici.</span><span class="sxs-lookup"><span data-stu-id="e963a-217">The app should verify that the `state` values in the request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="e963a-218">Risposta di errore</span><span class="sxs-lookup"><span data-stu-id="e963a-218">Error response</span></span>
<span data-ttu-id="e963a-219">Anche le risposte di errore possono essere inviate all'URI di reindirizzamento in modo che l'app possa gestirle adeguatamente:</span><span class="sxs-lookup"><span data-stu-id="e963a-219">Error responses also can be sent to the redirect URI so that the app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="e963a-220">Parametro</span><span class="sxs-lookup"><span data-stu-id="e963a-220">Parameter</span></span> | <span data-ttu-id="e963a-221">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-221">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e963a-222">error</span><span class="sxs-lookup"><span data-stu-id="e963a-222">error</span></span> |<span data-ttu-id="e963a-223">Stringa di codice di errore usata per classificare i tipi di errore che si verificano.</span><span class="sxs-lookup"><span data-stu-id="e963a-223">An error code string used to classify types of errors that occur.</span></span> <span data-ttu-id="e963a-224">È inoltre possibile usare il codice di errore per la gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="e963a-224">You also can use the error code for error handling.</span></span> |
| <span data-ttu-id="e963a-225">error_description</span><span class="sxs-lookup"><span data-stu-id="e963a-225">error_description</span></span> |<span data-ttu-id="e963a-226">Messaggio di errore specifico che consente di identificare la causa principale di un errore di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-226">A specific error message that can help you identify the root cause of an authentication error.</span></span> |
| <span data-ttu-id="e963a-227">state</span><span class="sxs-lookup"><span data-stu-id="e963a-227">state</span></span> |<span data-ttu-id="e963a-228">Vedere la descrizione completa nella tabella precedente.</span><span class="sxs-lookup"><span data-stu-id="e963a-228">See the full description in the preceding table.</span></span> <span data-ttu-id="e963a-229">Se un parametro `state` è incluso nella richiesta, lo stesso valore deve essere visualizzato nella risposta.</span><span class="sxs-lookup"><span data-stu-id="e963a-229">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="e963a-230">L'app deve verificare che i valori `state` nella richiesta e nella risposta siano identici.</span><span class="sxs-lookup"><span data-stu-id="e963a-230">The app should verify that the `state` values in the request and response are identical.</span></span>|

## <a name="validate-the-id-token"></a><span data-ttu-id="e963a-231">Convalidare il token ID</span><span class="sxs-lookup"><span data-stu-id="e963a-231">Validate the ID token</span></span>
<span data-ttu-id="e963a-232">La ricezione di un token ID non è sufficiente per autenticare l'utente.</span><span class="sxs-lookup"><span data-stu-id="e963a-232">Receiving an ID token is not enough to authenticate the user.</span></span> <span data-ttu-id="e963a-233">È necessario convalidare la firma del token ID e verificare se le attestazioni nel token soddisfano i requisiti dell'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-233">You must validate the ID token's signature, and verify the claims in the token per your app's requirements.</span></span> <span data-ttu-id="e963a-234">Azure AD B2C usa i [token Web JSON](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) e la crittografia a chiave pubblica per firmare i token e verificarne la validità.</span><span class="sxs-lookup"><span data-stu-id="e963a-234">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography to sign tokens and verify that they are valid.</span></span>

<span data-ttu-id="e963a-235">Sono disponibili molte librerie open source per la convalida dei token JWT, a seconda del linguaggio preferito.</span><span class="sxs-lookup"><span data-stu-id="e963a-235">Many open-source libraries are available for validating JWTs, depending on the language you prefer to use.</span></span> <span data-ttu-id="e963a-236">È consigliabile prendere in esame le librerie open source disponibili anziché implementare una logica di convalida personalizzata.</span><span class="sxs-lookup"><span data-stu-id="e963a-236">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="e963a-237">È possibile usare le informazioni contenute in questo articolo permettono di imparare a usare correttamente tali librerie.</span><span class="sxs-lookup"><span data-stu-id="e963a-237">You can use the information in this article to help you learn how to properly use those libraries.</span></span>

<span data-ttu-id="e963a-238">Azure AD B2C include un endpoint dei metadati di OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="e963a-238">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="e963a-239">Un'app può usare l'endpoint per recuperare informazioni su Azure AD B2C in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="e963a-239">An app can use the endpoint to fetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="e963a-240">Queste informazioni includono endpoint, contenuti del token e chiavi per la firma dei token.</span><span class="sxs-lookup"><span data-stu-id="e963a-240">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="e963a-241">Il tenant Azure AD B2C include un documento di metadati JSON per ogni criterio.</span><span class="sxs-lookup"><span data-stu-id="e963a-241">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="e963a-242">Ad esempio, il documento di metadati per il criterio b2c_1_sign_in nel tenant fabrikamb2c.onmicrosoft.com si trova in:</span><span class="sxs-lookup"><span data-stu-id="e963a-242">For example, the metadata document for the b2c_1_sign_in policy in the fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="e963a-243">Una proprietà di questo documento di configurazione è `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="e963a-243">One of the properties of this configuration document is the `jwks_uri`.</span></span> <span data-ttu-id="e963a-244">Il valore per lo stesso criterio sarebbe:</span><span class="sxs-lookup"><span data-stu-id="e963a-244">The value for the same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="e963a-245">Per determinare quale criterio è stato usato per la firma di un token ID e la posizione da cui recuperare i metadati, sono disponibili due opzioni.</span><span class="sxs-lookup"><span data-stu-id="e963a-245">To determine which policy was used to sign an ID token (and where to fetch the metadata from), you have two options.</span></span> <span data-ttu-id="e963a-246">Prima di tutto, il nome del criterio è incluso nell'attestazione `acr` in `id_token`.</span><span class="sxs-lookup"><span data-stu-id="e963a-246">First, the policy name is included in the `acr` claim in `id_token`.</span></span> <span data-ttu-id="e963a-247">Per informazioni su come analizzare le attestazioni da un token ID, vedere [Azure AD B2C: informazioni di riferimento sui token](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e963a-247">For information about how to parse the claims from an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="e963a-248">L'altra opzione consiste nel codificare i criteri nel valore del parametro `state` quando si emette la richiesta,</span><span class="sxs-lookup"><span data-stu-id="e963a-248">Your other option is to encode the policy in the value of the `state` parameter when you issue the request.</span></span> <span data-ttu-id="e963a-249">per poi decodificare il parametro `state` e determinare quali criteri sono stati usati.</span><span class="sxs-lookup"><span data-stu-id="e963a-249">Then, decode the `state` parameter to determine which policy was used.</span></span> <span data-ttu-id="e963a-250">Entrambi i metodi sono validi.</span><span class="sxs-lookup"><span data-stu-id="e963a-250">Either method is valid.</span></span>

<span data-ttu-id="e963a-251">Dopo aver acquisito il documento dei metadati dall'endpoint di metadati OpenID Connect, è possibile usare le chiavi pubbliche RSA 256 che si trovano in questo endpoint per convalidare la firma del token ID.</span><span class="sxs-lookup"><span data-stu-id="e963a-251">After you've acquired the metadata document from the OpenID Connect metadata endpoint, you can use the RSA-256 public keys (located at this endpoint) to validate the signature of the ID token.</span></span> <span data-ttu-id="e963a-252">In un determinato punto nel tempo è possibile che siano presenti più chiavi elencate in questo endpoint, ognuna identificata da un'attestazione `kid`.</span><span class="sxs-lookup"><span data-stu-id="e963a-252">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="e963a-253">Anche l'intestazione di `id_token` contiene un'attestazione `kid`,</span><span class="sxs-lookup"><span data-stu-id="e963a-253">The header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="e963a-254">che indica le chiavi usate per firmare il token ID.</span><span class="sxs-lookup"><span data-stu-id="e963a-254">It indicates which of these keys was used to sign the ID token.</span></span> <span data-ttu-id="e963a-255">Per altre informazioni, inclusa la [convalida dei token](active-directory-b2c-reference-tokens.md#token-validation), vedere [Azure AD B2C: informazioni di riferimento sui token](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e963a-255">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve the information on this-->

<span data-ttu-id="e963a-256">Dopo la convalida della firma del token ID sarà necessario verificare anche diverse altre attestazioni,</span><span class="sxs-lookup"><span data-stu-id="e963a-256">After you validate the signature of the ID token, several claims require verification.</span></span> <span data-ttu-id="e963a-257">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="e963a-257">For example:</span></span>

* <span data-ttu-id="e963a-258">Convalidare l'attestazione `nonce` per impedire attacchi di riproduzione dei token.</span><span class="sxs-lookup"><span data-stu-id="e963a-258">Validate the `nonce` claim to prevent token replay attacks.</span></span> <span data-ttu-id="e963a-259">Il valore deve corrispondere a quello specificato nella richiesta di accesso.</span><span class="sxs-lookup"><span data-stu-id="e963a-259">Its value should be what you specified in the sign-in request.</span></span>
* <span data-ttu-id="e963a-260">Convalidare l'attestazione `aud` per verificare che il token ID sia stato emesso per l'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-260">Validate the `aud` claim to ensure that the ID token was issued for your app.</span></span> <span data-ttu-id="e963a-261">Il valore deve essere l'ID applicazione dell'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-261">Its value should be the application ID of your app.</span></span>
* <span data-ttu-id="e963a-262">Convalidare le attestazioni `iat` e `exp` per verificare che il token ID non sia scaduto.</span><span class="sxs-lookup"><span data-stu-id="e963a-262">Validate the `iat` and `exp` claims to ensure that the ID token has not expired.</span></span>

<span data-ttu-id="e963a-263">Esistono anche diverse altre convalide che è opportuno eseguire, descritte in dettaglio nella [specifica di OpenID Connect Core](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="e963a-263">Several more validations that you should perform are described in detail in the [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> <span data-ttu-id="e963a-264">È inoltre consigliabile convalidare attestazioni aggiuntive in base allo scenario.</span><span class="sxs-lookup"><span data-stu-id="e963a-264">You might also want to validate additional claims, depending on your scenario.</span></span> <span data-ttu-id="e963a-265">Alcune convalide comuni includono:</span><span class="sxs-lookup"><span data-stu-id="e963a-265">Some common validations include:</span></span>

* <span data-ttu-id="e963a-266">Verificare che l'utente o l'organizzazione abbia eseguito l'iscrizione all'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-266">Ensuring that the user or organization has signed up for the app.</span></span>
* <span data-ttu-id="e963a-267">Verificare che l'utente abbia le autorizzazioni e i privilegi adeguati.</span><span class="sxs-lookup"><span data-stu-id="e963a-267">Ensuring that the user has proper authorization and privileges.</span></span>
* <span data-ttu-id="e963a-268">Verificare che sia stato applicato un determinato livello di autenticazione, ad esempio l'autenticazione a più fattori di Azure.</span><span class="sxs-lookup"><span data-stu-id="e963a-268">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="e963a-269">Per altri dettagli sulle attestazioni in un token ID, vedere [Azure AD B2C: informazioni di riferimento sui token](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e963a-269">For more information about the claims in an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="e963a-270">Dopo aver convalidato il token ID, è possibile avviare una sessione con l'utente.</span><span class="sxs-lookup"><span data-stu-id="e963a-270">After you have completely validated the ID token, you can begin a session with the user.</span></span> <span data-ttu-id="e963a-271">Usare nell'app le attestazioni del token ID per ottenere informazioni sull'utente.</span><span class="sxs-lookup"><span data-stu-id="e963a-271">In your app, use the claims in the ID token to obtain information about the user.</span></span> <span data-ttu-id="e963a-272">Queste informazioni possono essere usate per la visualizzazione, i record, le autorizzazioni e così via.</span><span class="sxs-lookup"><span data-stu-id="e963a-272">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="e963a-273">Ottenere i token di accesso</span><span class="sxs-lookup"><span data-stu-id="e963a-273">Get access tokens</span></span>
<span data-ttu-id="e963a-274">Se l'app Web deve solo eseguire criteri, è possibile saltare le prossime sezioni.</span><span class="sxs-lookup"><span data-stu-id="e963a-274">If the only thing your web apps needs to do is execute policies, you can skip the next few sections.</span></span> <span data-ttu-id="e963a-275">Le informazioni nelle sezioni seguenti sono applicabili solo alle app Web che devono eseguire chiamate autenticate a un'API Web e che sono protette da Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="e963a-275">The information in the following sections are applicable only to web apps that need to make authenticated calls to a web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="e963a-276">Dopo l'accesso dell'utente all'app a singola pagina, è possibile ottenere i token di accesso per chiamare le API Web protette da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e963a-276">Now that you've signed the user in to your single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="e963a-277">Anche se si è già ricevuto un token usando il tipo di risposta `token`, è possibile usare questo metodo per acquisire i token per risorse aggiuntive senza dover reindirizzare l'utente perché esegua di nuovo l'accesso.</span><span class="sxs-lookup"><span data-stu-id="e963a-277">Even if you have already received a token by using the `token` response type, you can use this method to acquire tokens for additional resources without redirecting the user to sign in again.</span></span>

<span data-ttu-id="e963a-278">In un tipico flusso di app Web, per eseguire questa operazione si invia una richiesta all'endpoint di `/token`.</span><span class="sxs-lookup"><span data-stu-id="e963a-278">In a typical web app flow, you would do this by making a request to the `/token` endpoint.</span></span>  <span data-ttu-id="e963a-279">L'endpoint non supporta però le richieste CORS. Non è quindi possibile eseguire chiamate AJAX per ottenere e aggiornare i token.</span><span class="sxs-lookup"><span data-stu-id="e963a-279">However, the endpoint does not support CORS requests, so making AJAX calls to get and refresh tokens is not an option.</span></span> <span data-ttu-id="e963a-280">È possibile usare invece il flusso implicito in un elemento iframe HTML nascosto per ottenere nuovi token per altre API Web.</span><span class="sxs-lookup"><span data-stu-id="e963a-280">Instead, you can use the implicit flow in a hidden HTML iframe element to get new tokens for other web APIs.</span></span> <span data-ttu-id="e963a-281">Di seguito è riportato un esempio, con le interruzioni di riga per migliorare la leggibilità:</span><span class="sxs-lookup"><span data-stu-id="e963a-281">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="e963a-282">Parametro</span><span class="sxs-lookup"><span data-stu-id="e963a-282">Parameter</span></span> | <span data-ttu-id="e963a-283">Obbligatorio?</span><span class="sxs-lookup"><span data-stu-id="e963a-283">Required?</span></span> | <span data-ttu-id="e963a-284">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-284">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e963a-285">client_id</span><span class="sxs-lookup"><span data-stu-id="e963a-285">client_id</span></span> |<span data-ttu-id="e963a-286">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-286">Required</span></span> |<span data-ttu-id="e963a-287">ID applicazione assegnato all'app nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e963a-287">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="e963a-288">response_type</span><span class="sxs-lookup"><span data-stu-id="e963a-288">response_type</span></span> |<span data-ttu-id="e963a-289">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-289">Required</span></span> |<span data-ttu-id="e963a-290">Deve includere `id_token` per l'accesso a OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="e963a-290">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="e963a-291">Può anche includere il tipo di risposta `token`.</span><span class="sxs-lookup"><span data-stu-id="e963a-291">It might also include the response type `token`.</span></span> <span data-ttu-id="e963a-292">Se si usa `token` in questo momento, l'app può ricevere immediatamente un token di accesso dall'endpoint di autorizzazione senza dover inviare una seconda richiesta a tale endpoint.</span><span class="sxs-lookup"><span data-stu-id="e963a-292">If you use `token` here, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span> <span data-ttu-id="e963a-293">Se si usa il tipo di risposta `token`, il parametro `scope` deve contenere un ambito che indica la risorsa per cui emettere il token.</span><span class="sxs-lookup"><span data-stu-id="e963a-293">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="e963a-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="e963a-294">redirect_uri</span></span> |<span data-ttu-id="e963a-295">Consigliato</span><span class="sxs-lookup"><span data-stu-id="e963a-295">Recommended</span></span> |<span data-ttu-id="e963a-296">URI di reindirizzamento dell'app dove le risposte di autenticazione possono essere inviate e ricevute dall'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-296">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="e963a-297">Deve corrispondere esattamente a uno degli URI di reindirizzamento registrati nel portale, ad eccezione del fatto che deve essere codificato come URL.</span><span class="sxs-lookup"><span data-stu-id="e963a-297">It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="e963a-298">scope</span><span class="sxs-lookup"><span data-stu-id="e963a-298">scope</span></span> |<span data-ttu-id="e963a-299">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-299">Required</span></span> |<span data-ttu-id="e963a-300">Elenco di ambiti separati da spazi.</span><span class="sxs-lookup"><span data-stu-id="e963a-300">A space-separated list of scopes.</span></span>  <span data-ttu-id="e963a-301">Per ottenere i token, includere tutti gli ambiti necessari per la risorsa di interesse.</span><span class="sxs-lookup"><span data-stu-id="e963a-301">For getting tokens, include all scopes that you require for the intended resource.</span></span> |
| <span data-ttu-id="e963a-302">response_mode</span><span class="sxs-lookup"><span data-stu-id="e963a-302">response_mode</span></span> |<span data-ttu-id="e963a-303">Consigliato</span><span class="sxs-lookup"><span data-stu-id="e963a-303">Recommended</span></span> |<span data-ttu-id="e963a-304">Specifica il metodo usato per restituire il token risultante all'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-304">Specifies the method that is used to send the resulting token back to your app.</span></span>  <span data-ttu-id="e963a-305">Può essere `query`, `form_post` o `fragment`.</span><span class="sxs-lookup"><span data-stu-id="e963a-305">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="e963a-306">state</span><span class="sxs-lookup"><span data-stu-id="e963a-306">state</span></span> |<span data-ttu-id="e963a-307">Consigliato</span><span class="sxs-lookup"><span data-stu-id="e963a-307">Recommended</span></span> |<span data-ttu-id="e963a-308">Valore incluso nella richiesta che viene restituito nella risposta del token.</span><span class="sxs-lookup"><span data-stu-id="e963a-308">A value included in the request that is returned in the token response.</span></span>  <span data-ttu-id="e963a-309">Può trattarsi di una stringa di qualsiasi contenuto si voglia usare.</span><span class="sxs-lookup"><span data-stu-id="e963a-309">It can be a string of any content that you want to use.</span></span>  <span data-ttu-id="e963a-310">Per evitare attacchi di richiesta intersito falsa, viene in genere usato un valore univoco generato casualmente.</span><span class="sxs-lookup"><span data-stu-id="e963a-310">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="e963a-311">Anche lo stato viene usato per codificare le informazioni sullo stato dell'utente nell'app prima del verificarsi della richiesta di autenticazione,</span><span class="sxs-lookup"><span data-stu-id="e963a-311">The state also is used to encode information about the user's state in the app before the authentication request occurred.</span></span> <span data-ttu-id="e963a-312">ad esempio, la pagina o la vista in cui si trovava l'utente.</span><span class="sxs-lookup"><span data-stu-id="e963a-312">For example, the page or view the user was on.</span></span> |
| <span data-ttu-id="e963a-313">nonce</span><span class="sxs-lookup"><span data-stu-id="e963a-313">nonce</span></span> |<span data-ttu-id="e963a-314">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-314">Required</span></span> |<span data-ttu-id="e963a-315">Valore incluso nella richiesta, generata dall'app, che viene incluso nel token ID risultante come attestazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-315">A value included in the request, generated by the app, that is included in the resulting ID token as a claim.</span></span>  <span data-ttu-id="e963a-316">L'app può verificare questo valore per ridurre gli attacchi di riproduzione del token.</span><span class="sxs-lookup"><span data-stu-id="e963a-316">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="e963a-317">Il valore è in genere una stringa casuale univoca che identifica l'origine della richiesta.</span><span class="sxs-lookup"><span data-stu-id="e963a-317">Usually, the value is a randomized, unique string that identifies the origin of the request.</span></span> |
| <span data-ttu-id="e963a-318">prompt</span><span class="sxs-lookup"><span data-stu-id="e963a-318">prompt</span></span> |<span data-ttu-id="e963a-319">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-319">Required</span></span> |<span data-ttu-id="e963a-320">Per aggiornare e ottenere i token in un iframe nascosto, usare `prompt=none` per fare in modo che l'iframe non si blocchi alla pagina di accesso e risponda immediatamente.</span><span class="sxs-lookup"><span data-stu-id="e963a-320">To refresh and get tokens in a hidden iframe, use `prompt=none` to ensure that the iframe does not get stuck on the sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="e963a-321">login_hint</span><span class="sxs-lookup"><span data-stu-id="e963a-321">login_hint</span></span> |<span data-ttu-id="e963a-322">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-322">Required</span></span> |<span data-ttu-id="e963a-323">Per aggiornare e ottenere i token in un iframe nascosto, includere il nome utente dell'utente in questo hint per distinguere tra le eventuali varie sessioni dell'utente in un determinato momento.</span><span class="sxs-lookup"><span data-stu-id="e963a-323">To refresh and get tokens in a hidden iframe, include the username of the user in this hint to distinguish between multiple sessions the user might have at a given  time.</span></span> <span data-ttu-id="e963a-324">È possibile estrarre il nome utente da un accesso precedente usando l'attestazione `preferred_username`.</span><span class="sxs-lookup"><span data-stu-id="e963a-324">You can extract the username from an earlier sign-in by using the `preferred_username` claim.</span></span> |
| <span data-ttu-id="e963a-325">domain_hint</span><span class="sxs-lookup"><span data-stu-id="e963a-325">domain_hint</span></span> |<span data-ttu-id="e963a-326">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-326">Required</span></span> |<span data-ttu-id="e963a-327">Può essere `consumers` o `organizations`.</span><span class="sxs-lookup"><span data-stu-id="e963a-327">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="e963a-328">Per aggiornare e ottenere i token in un iframe nascosto, è necessario includere il valore `domain_hint` nella richiesta.</span><span class="sxs-lookup"><span data-stu-id="e963a-328">For refreshing and getting tokens in a hidden iframe, you must include the `domain_hint` value in the request.</span></span>  <span data-ttu-id="e963a-329">Estrarre l'attestazione `tid` dal token ID di un accesso precedente per determinare il valore da usare.</span><span class="sxs-lookup"><span data-stu-id="e963a-329">Extract the `tid` claim from the ID token of an earlier sign-in to determine which value to use.</span></span>  <span data-ttu-id="e963a-330">Se il valore dell'attestazione `tid` è `9188040d-6c67-4c5b-b112-36a304b66dad`, usare `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="e963a-330">If the `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="e963a-331">In caso contrario, usare `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="e963a-331">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="e963a-332">Impostando il parametro `prompt=none`, la richiesta ha immediatamente esito positivo o negativo e torna all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-332">By setting the `prompt=none` parameter, this request either succeeds or fails immediately, and returns to your application.</span></span>  <span data-ttu-id="e963a-333">Una risposta con esito positivo verrà inviata all'app all'URI di reindirizzamento indicato, usando il metodo specificato nel parametro `response_mode`.</span><span class="sxs-lookup"><span data-stu-id="e963a-333">A successful response is sent to your app at the indicated redirect URI, by using the method specified in the `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="e963a-334">Risposta con esito positivo</span><span class="sxs-lookup"><span data-stu-id="e963a-334">Successful response</span></span>
<span data-ttu-id="e963a-335">La risposta con esito positivo quando si usa `response_mode=fragment` è simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="e963a-335">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="e963a-336">Parametro</span><span class="sxs-lookup"><span data-stu-id="e963a-336">Parameter</span></span> | <span data-ttu-id="e963a-337">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-337">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e963a-338">access_token</span><span class="sxs-lookup"><span data-stu-id="e963a-338">access_token</span></span> |<span data-ttu-id="e963a-339">Token richiesto dall'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-339">The token that the app requested.</span></span> |
| <span data-ttu-id="e963a-340">token_type</span><span class="sxs-lookup"><span data-stu-id="e963a-340">token_type</span></span> |<span data-ttu-id="e963a-341">Il tipo di token sarà sempre una connessione.</span><span class="sxs-lookup"><span data-stu-id="e963a-341">The token type will always be Bearer.</span></span> |
| <span data-ttu-id="e963a-342">state</span><span class="sxs-lookup"><span data-stu-id="e963a-342">state</span></span> |<span data-ttu-id="e963a-343">Se un parametro `state` è incluso nella richiesta, lo stesso valore deve essere visualizzato nella risposta.</span><span class="sxs-lookup"><span data-stu-id="e963a-343">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="e963a-344">L'app deve verificare che i valori `state` nella richiesta e nella risposta siano identici.</span><span class="sxs-lookup"><span data-stu-id="e963a-344">The app should verify that the `state` values in the request and response are identical.</span></span> |
| <span data-ttu-id="e963a-345">expires_in</span><span class="sxs-lookup"><span data-stu-id="e963a-345">expires_in</span></span> |<span data-ttu-id="e963a-346">Validità del token di accesso (espressa in secondi).</span><span class="sxs-lookup"><span data-stu-id="e963a-346">How long the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="e963a-347">scope</span><span class="sxs-lookup"><span data-stu-id="e963a-347">scope</span></span> |<span data-ttu-id="e963a-348">Ambiti per i quali il token di accesso è valido.</span><span class="sxs-lookup"><span data-stu-id="e963a-348">The scopes that the access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="e963a-349">Risposta di errore</span><span class="sxs-lookup"><span data-stu-id="e963a-349">Error response</span></span>
<span data-ttu-id="e963a-350">Anche le risposte di errore possono essere inviate all'URI di reindirizzamento in modo che l'app possa gestirle adeguatamente.</span><span class="sxs-lookup"><span data-stu-id="e963a-350">Error responses also can be sent to the redirect URI so that the app can handle them appropriately.</span></span>  <span data-ttu-id="e963a-351">Per `prompt=none` un errore previsto è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="e963a-351">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="e963a-352">Parametro</span><span class="sxs-lookup"><span data-stu-id="e963a-352">Parameter</span></span> | <span data-ttu-id="e963a-353">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-353">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e963a-354">error</span><span class="sxs-lookup"><span data-stu-id="e963a-354">error</span></span> |<span data-ttu-id="e963a-355">Stringa di codice di errore che può essere usata per classificare i tipi di errore che si verificano.</span><span class="sxs-lookup"><span data-stu-id="e963a-355">An error code string that can be used to classify types of errors that occur.</span></span> <span data-ttu-id="e963a-356">È possibile usare la stringa anche per rispondere agli errori.</span><span class="sxs-lookup"><span data-stu-id="e963a-356">You also can use the string to react to errors.</span></span> |
| <span data-ttu-id="e963a-357">error_description</span><span class="sxs-lookup"><span data-stu-id="e963a-357">error_description</span></span> |<span data-ttu-id="e963a-358">Messaggio di errore specifico che consente di identificare la causa principale di un errore di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-358">A specific error message that can help you identify the root cause of an authentication error.</span></span> |

<span data-ttu-id="e963a-359">Se si riceve questo errore nella richiesta iframe, l'utente deve accedere di nuovo in modo interattivo per recuperare un nuovo token.</span><span class="sxs-lookup"><span data-stu-id="e963a-359">If you receive this error in the iframe request, the user must interactively sign in again to retrieve a new token.</span></span> <span data-ttu-id="e963a-360">È possibile gestire questa condizione in modo appropriato per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-360">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="e963a-361">Token di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="e963a-361">Refresh tokens</span></span>
<span data-ttu-id="e963a-362">Token ID e token di accesso scadono entrambi dopo un breve periodo di tempo.</span><span class="sxs-lookup"><span data-stu-id="e963a-362">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="e963a-363">L'app deve essere predisposta ad aggiornare periodicamente questi token.</span><span class="sxs-lookup"><span data-stu-id="e963a-363">Your app must be prepared to refresh these tokens periodically.</span></span>  <span data-ttu-id="e963a-364">Per aggiornare entrambi i tipi di token, eseguire la stessa richiesta nell'iframe nascosto usata in un esempio precedente tramite il parametro `prompt=none` per controllare i passaggi di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e963a-364">To refresh either type of token, perform the same hidden iframe request we used in an earlier example, by using the `prompt=none` parameter to control Azure AD steps.</span></span>  <span data-ttu-id="e963a-365">Per ricevere un nuovo valore `id_token`, assicurarsi di usare `response_type=id_token`, `scope=openid` e un parametro `nonce`.</span><span class="sxs-lookup"><span data-stu-id="e963a-365">To receive a new `id_token` value, be sure to use `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="e963a-366">Inviare una richiesta di disconnessione</span><span class="sxs-lookup"><span data-stu-id="e963a-366">Send a sign-out request</span></span>
<span data-ttu-id="e963a-367">Per disconnettere l'utente dall'app, reindirizzare l'utente alla disconnessione da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e963a-367">When you want to sign the user out of the app, redirect the user to Azure AD to sign out.</span></span> <span data-ttu-id="e963a-368">In caso contrario, l'utente potrebbe essere in grado di autenticarsi nuovamente all'app senza immettere le credenziali,</span><span class="sxs-lookup"><span data-stu-id="e963a-368">If you don't do this, the user might be able to reauthenticate to your app without entering their credentials again.</span></span> <span data-ttu-id="e963a-369">in quanto avrà accesso a una sessione Single Sign-On valida con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e963a-369">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="e963a-370">È sufficiente reindirizzare l'utente all'oggetto `end_session_endpoint` elencato nello stesso documento dei metadati di OpenID Connect descritto in [Convalidare il token ID](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="e963a-370">You can simply redirect the user to the `end_session_endpoint` that is listed in the same OpenID Connect metadata document described in [Validate the ID token](#validate-the-id-token).</span></span> <span data-ttu-id="e963a-371">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="e963a-371">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="e963a-372">Parametro</span><span class="sxs-lookup"><span data-stu-id="e963a-372">Parameter</span></span> | <span data-ttu-id="e963a-373">Obbligatorio?</span><span class="sxs-lookup"><span data-stu-id="e963a-373">Required?</span></span> | <span data-ttu-id="e963a-374">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e963a-374">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e963a-375">p</span><span class="sxs-lookup"><span data-stu-id="e963a-375">p</span></span> |<span data-ttu-id="e963a-376">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e963a-376">Required</span></span> |<span data-ttu-id="e963a-377">Criteri da usare per disconnettere l'utente dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-377">The policy to use to sign the user out of your application.</span></span> |
| <span data-ttu-id="e963a-378">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="e963a-378">post_logout_redirect_uri</span></span> |<span data-ttu-id="e963a-379">Consigliato</span><span class="sxs-lookup"><span data-stu-id="e963a-379">Recommended</span></span> |<span data-ttu-id="e963a-380">URL di destinazione al quale l'utente deve essere reindirizzato dopo la disconnessione.</span><span class="sxs-lookup"><span data-stu-id="e963a-380">The URL that the user should be redirected to after successful sign-out.</span></span> <span data-ttu-id="e963a-381">Se omesso, Azure AD B2C visualizzerà un messaggio generico.</span><span class="sxs-lookup"><span data-stu-id="e963a-381">If it is not included, Azure AD B2C displays a generic message to the user.</span></span> |

> [!NOTE]
> <span data-ttu-id="e963a-382">Anche se indirizzare l'utente a `end_session_endpoint` permette di cancellare parte dello stato Single Sign-On dell'utente con Azure AD B2C,</span><span class="sxs-lookup"><span data-stu-id="e963a-382">Directing the user to the `end_session_endpoint` clears some of the user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="e963a-383">l'utente non viene disconnesso dalla sessione del provider di identità basato su social network.</span><span class="sxs-lookup"><span data-stu-id="e963a-383">However, it doesn't sign the user out of the user's social identity provider session.</span></span> <span data-ttu-id="e963a-384">Se l'utente seleziona lo stesso provider di identità in un accesso successivo, l'autenticazione verrà eseguita nuovamente senza immettere le credenziali.</span><span class="sxs-lookup"><span data-stu-id="e963a-384">If the user selects the same identify provider during a subsequent sign-in, the user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="e963a-385">Se un utente vuole disconnettersi dall'applicazione Azure AD B2C, non significa necessariamente che intenda, ad esempio, disconnettersi del tutto dall'account Facebook.</span><span class="sxs-lookup"><span data-stu-id="e963a-385">If a user wants to sign out of your Azure AD B2C application, it does not necessarily mean they want to completely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="e963a-386">Tuttavia, per gli account locali, la sessione dell'utente viene terminata in modo corretto.</span><span class="sxs-lookup"><span data-stu-id="e963a-386">However, for local accounts, the user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="e963a-387">Usare il tenant personale di Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="e963a-387">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="e963a-388">Per provare queste richieste, completare i tre passaggi seguenti.</span><span class="sxs-lookup"><span data-stu-id="e963a-388">To try these requests yourself, complete the following three steps.</span></span> <span data-ttu-id="e963a-389">Sostituire i valori dell'esempio usato in questo articolo con valori personalizzati:</span><span class="sxs-lookup"><span data-stu-id="e963a-389">Replace the example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="e963a-390">[Creare un tenant di Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="e963a-390">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="e963a-391">Usare il nome del tenant nelle richieste.</span><span class="sxs-lookup"><span data-stu-id="e963a-391">Use the name of your tenant in the requests.</span></span>
2. <span data-ttu-id="e963a-392">[Creare un'applicazione](active-directory-b2c-app-registration.md) per ottenere un ID applicazione e un valore `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="e963a-392">[Create an application](active-directory-b2c-app-registration.md) to obtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="e963a-393">Includere un'API Web o un'app Web nell'app.</span><span class="sxs-lookup"><span data-stu-id="e963a-393">Include a web app or web API in your app.</span></span> <span data-ttu-id="e963a-394">Se lo si desidera, è possibile creare un segreto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e963a-394">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="e963a-395">[Creare i criteri](active-directory-b2c-reference-policies.md) per ottenere i nomi dei criteri.</span><span class="sxs-lookup"><span data-stu-id="e963a-395">[Create your policies](active-directory-b2c-reference-policies.md) to obtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="e963a-396">Esempi</span><span class="sxs-lookup"><span data-stu-id="e963a-396">Samples</span></span>

* [<span data-ttu-id="e963a-397">Creare un'app a singola pagina con Node.js</span><span class="sxs-lookup"><span data-stu-id="e963a-397">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="e963a-398">Creare un'app a singola pagina con .NET</span><span class="sxs-lookup"><span data-stu-id="e963a-398">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

