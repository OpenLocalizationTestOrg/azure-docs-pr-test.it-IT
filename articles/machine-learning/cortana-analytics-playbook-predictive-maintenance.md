---
title: Manutenzione predittiva nel settore aerospaziale con Azure - Modello della soluzione Cortana Intelligence | Documentazione Microsoft
description: Modello di soluzione con Microsoft Cortana Intelligence per la manutenzione predittiva nel settore aerospaziale, nei servizi pubblici e nei trasporti.
services: cortana-analytics
documentationcenter: 
author: fboylu
manager: jhubbard
editor: cgronlun
ms.assetid: 2e8b66db-91eb-432b-b305-6abccca25620
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: fboylu
ms.openlocfilehash: a1e7b95e6dcbf46d83ce3bf10a38d6a572f4497d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="cortana-intelligence-solution-template-playbook-for-predictive-maintenance-in-aerospace-and-other-businesses"></a><span data-ttu-id="4b3a1-103">Studio del modello di soluzione Cortana Intelligence per la manutenzione predittiva nel settore aerospaziale e in altri campi</span><span class="sxs-lookup"><span data-stu-id="4b3a1-103">Cortana Intelligence Solution Template Playbook for predictive maintenance in aerospace and other businesses</span></span>
## <a name="executive-summary"></a><span data-ttu-id="4b3a1-104">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="4b3a1-104">Executive summary</span></span>
<span data-ttu-id="4b3a1-105">La manutenzione predittiva è una delle applicazioni dell'analisi predittiva più richieste, che offre indiscutibili vantaggi tra cui un risparmio significativo in termini di costi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-105">Predictive maintenance is one of the most demanded applications of predictive analytics with unarguable benefits including tremendous amount of cost savings.</span></span> <span data-ttu-id="4b3a1-106">Questo studio ha lo scopo di fornire un riferimento per le soluzioni di manutenzione predittiva, con particolare attenzione ai principali casi d'uso.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-106">This playbook aims at providing a reference for predictive maintenance solutions with the emphasis on major use cases.</span></span>
<span data-ttu-id="4b3a1-107">È concepito per offrire al lettore una descrizione dei più comuni scenari aziendali di manutenzione predittiva, delle sfide legate ai problemi aziendali idonei per queste soluzioni, dei dati richiesti per risolvere questi problemi aziendali, delle tecniche di modellazione predittiva per creare soluzioni con questi dati e delle procedure consigliate con architetture delle soluzioni di esempio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-107">It is prepared to give the reader an understanding of the most common business scenarios of predictive maintenance, challenges of qualifying business problems for such solutions, data required to solve these business problems, predictive modeling techniques to build solutions using such data and best practices with sample solution architectures.</span></span>
<span data-ttu-id="4b3a1-108">Descrive anche le specifiche dei modelli predittivi sviluppati, come la progettazione delle funzioni, lo sviluppo del modello e la valutazione delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-108">It also describes the specifics of the predictive models developed such as feature engineering, model development and performance evaluation.</span></span> <span data-ttu-id="4b3a1-109">In sostanza, questo studio sintetizza le linee guida aziendali e analitiche per sviluppare e distribuire nel modo corretto le soluzioni di manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-109">In essence, this playbook brings together the business and analytical guidelines needed for a successful development and deployment of predictive maintenance solutions.</span></span> <span data-ttu-id="4b3a1-110">Queste linee guida sono concepite per assistere i destinatari nella creazione di una soluzione iniziale con Cortana Intelligence Suite e in particolare Azure Machine Learning come punto di partenza di una strategia di manutenzione predittiva a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-110">These guidelines are prepared to help the audience create an initial solution using Cortana Intelligence Suite and specifically Azure Machine Learning as a starting point in their long-term predictive maintenance strategy.</span></span> <span data-ttu-id="4b3a1-111">La documentazione relativa a Cortana Intelligence Suite e Azure Machine Learning è disponibile nelle pagine [Cortana Analytics](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx) e [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-111">The documentation regarding Cortana Intelligence Suite and Azure Machine Learning can be found in [Cortana Analytics](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx) and [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) pages.</span></span>

> [!TIP]
> <span data-ttu-id="4b3a1-112">Per una guida tecnica all'implementazione di questo modello di soluzione, vedere [Guida tecnica del modello di soluzione Cortana Intelligence per la manutenzione predittiva nel settore aerospaziale e in altri campi](cortana-analytics-technical-guide-predictive-maintenance.md).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-112">For a technical guide to implementing this Solution Template, see [Technical guide to the Cortana Intelligence Solution Template for predictive maintenance](cortana-analytics-technical-guide-predictive-maintenance.md).</span></span>
> <span data-ttu-id="4b3a1-113">Per scaricare un diagramma che fornisce una panoramica architetturale di questo modello, vedere [Architettura del modello di soluzione Cortana Intelligence per la manutenzione predittiva nel settore aerospaziale e in altri campi](cortana-analytics-architecture-predictive-maintenance.md).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-113">To download a diagram that provides an architectural overview of this template, see [Architecture of the Cortana Intelligence Solution Template for predictive maintenance](cortana-analytics-architecture-predictive-maintenance.md).</span></span>
> 
> 

## <a name="playbook-overview-and-target-audience"></a><span data-ttu-id="4b3a1-114">Panoramica dello studio e destinatari</span><span class="sxs-lookup"><span data-stu-id="4b3a1-114">Playbook overview and target audience</span></span>
<span data-ttu-id="4b3a1-115">Questo studio è organizzato a beneficio dei destinatari tecnici e non tecnici con conoscenze e interessi diversi nell'ambito della manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-115">This playbook is organized to benefit both technical and non-technical audience with varying backgrounds and interests in predictive maintenance space.</span></span> <span data-ttu-id="4b3a1-116">Lo studio illustra sia gli aspetti a livello generale dei diversi tipi di soluzioni di manutenzione predittiva che i dettagli della modalità di implementazione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-116">The playbook covers both high-level aspects of the different types of predictive maintenance solutions and details of how to implement them.</span></span> <span data-ttu-id="4b3a1-117">Il contenuto è concepito per soddisfare le esigenze dei destinatari interessati solo a conoscere l'ambito della soluzione e il tipo di applicazioni e di coloro che mirano a implementare queste soluzioni e quindi sono interessati ai relativi dettagli tecnici.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-117">The content is balanced to cater both to the audience who are only interested in understanding the solution space and the type of applications as well as those who are looking to implement these solutions and are hence interested in the technical details.</span></span>

<span data-ttu-id="4b3a1-118">La maggior parte del contenuto di questo studio non presuppone una precedente conoscenza o esperienza nel campo dell'analisi scientifica dei dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-118">Majority of the content in this playbook does not assume prior data science knowledge or expertise.</span></span> <span data-ttu-id="4b3a1-119">Alcune parti dello studio richiederanno tuttavia una certa familiarità con i concetti dell'analisi scientifica dei dati per poter seguire i dettagli dell'implementazione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-119">However, some parts of the playbook will require somewhat familiarity with data science concepts to be able to follow implementation details.</span></span> <span data-ttu-id="4b3a1-120">Per sfruttare appieno il materiale disponibile in quelle sezioni, sono necessarie competenze introduttive nel campo dell'analisi scientifica dei dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-120">Introductory level data science skills are required to fully benefit from the material in those sections.</span></span>

<span data-ttu-id="4b3a1-121">La prima parte dello studio include un'introduzione alle applicazioni di manutenzione predittiva, una descrizione di come qualificare una soluzione di manutenzione predittiva, una raccolta di casi d'uso comuni con dettagli relativi al problema aziendale, i dati riguardanti questi casi d'uso e i vantaggi aziendali dell'implementazione di queste soluzioni di manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-121">The first half of the playbook covers an introduction to predictive maintenance applications, how to qualify a predictive maintenance solution, a collection of common use cases with the details of the business problem, the data surrounding these use cases and the business benefits of implementing these predictive maintenance solutions.</span></span> <span data-ttu-id="4b3a1-122">Queste sezioni non richiedono alcuna conoscenza tecnica nel campo dell'analisi predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-122">These sections don’t require any technical knowledge in the predictive analytics domain.</span></span>

<span data-ttu-id="4b3a1-123">Nella seconda metà dello studio sono descritti i tipi di tecniche di modellazione predittiva per le applicazioni di manutenzione predittiva e la modalità di implementazione di questi modelli tramite esempi dei casi d'uso illustrati nella prima metà dello studio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-123">In the second half of the playbook, we cover the types of predictive modeling techniques for predictive maintenance applications and how to implement these models through examples from the use cases outlined in the first half of the playbook.</span></span> <span data-ttu-id="4b3a1-124">Questi aspetti sono illustrati attraverso i passaggi di pre-elaborazione dei dati, come l'assegnazione di etichette ai dati e la progettazione delle funzioni, la selezione del modello, l'esecuzione di training/test e le procedure consigliate per la valutazione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-124">This is illustrated by going through the steps of data preprocessing such as data labeling and feature engineering, model selection, training/testing and performance evaluation best practices.</span></span> <span data-ttu-id="4b3a1-125">Queste sezioni sono destinate a destinatari con conoscenze tecniche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-125">These sections are suitable for technical audience.</span></span>

## <a name="predictive-maintenance-in-iot"></a><span data-ttu-id="4b3a1-126">Manutenzione predittiva in IoT</span><span class="sxs-lookup"><span data-stu-id="4b3a1-126">Predictive maintenance in IoT</span></span>
<span data-ttu-id="4b3a1-127">Il tempo di inattività non pianificato delle attrezzature può avere un impatto distruttivo per le aziende.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-127">The impact of unscheduled equipment downtime can be extremely destructive for businesses.</span></span> <span data-ttu-id="4b3a1-128">È fondamentale mantenere in funzione le attrezzature sul campo per massimizzare l'utilizzo e le prestazioni, riducendo inoltre il costoso tempo di inattività non pianificato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-128">It is critical to keep field equipment running in order to maximize utilization and performance and by minimizing costly, unscheduled downtime.</span></span> <span data-ttu-id="4b3a1-129">Semplicemente, attendere che si verifichi l'errore non è concepibile nell'attuale scenario delle operazioni aziendali.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-129">Simply, waiting for the failure to occur is not affordable in today’s business operations scene.</span></span> <span data-ttu-id="4b3a1-130">Per rimanere competitive, le aziende sono alla ricerca di nuovi metodi per ottimizzare le prestazioni degli asset usando i dati raccolti da vari canali.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-130">To remain competitive, companies look for new ways to maximize asset performance by making use of the data collected from various channels.</span></span> <span data-ttu-id="4b3a1-131">Un metodo importante per analizzare queste informazioni consiste nell'utilizzare le tecniche di analisi predittiva che si avvalgono di schemi cronologici per prevedere i risultati futuri.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-131">One important way to analyze such information is to utilize predictive analytic techniques that use historical patterns to predict future outcomes.</span></span> <span data-ttu-id="4b3a1-132">Una delle più comuni di queste soluzioni è detta manutenzione predittiva che può essere definita, tra l'altro, come la previsione della possibilità di errore di un asset nel prossimo futuro, in modo da consentire il monitoraggio degli asset per identificare in modo proattivo gli errori e intervenire prima che si verifichino.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-132">One of the most popular of these solutions is called Predictive Maintenance which can generally be defined as but not limited to predicting possibility of failure of an asset in the near future so that the assets can be monitored to proactively identify failures and take action before the failures occur.</span></span> <span data-ttu-id="4b3a1-133">Queste soluzioni rilevano gli schemi di errore per determinare quali asset sono soggetti al maggior rischio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-133">These solutions detect failure patterns to determine assets that are at the greatest risk of failure.</span></span> <span data-ttu-id="4b3a1-134">L'identificazione preventiva dei problemi consente di distribuire una quantità limitata di risorse di manutenzione in modo più conveniente e di migliorare la qualità e i processi della supply chain.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-134">This early identification of issues helps deploy limited maintenance resources in a more cost-effective way and enhance quality and supply chain processes.</span></span>

<span data-ttu-id="4b3a1-135">Con la diffusione delle applicazioni IoT (Internet of Things), la manutenzione predittiva ha suscitato sempre più interesse nel settore, perché le tecnologie di raccolta ed elaborazione dei dati sono migliorate al punto da generare, trasmettere e analizzare ogni tipo di dati in batch o in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-135">With the rise of the Internet of Things (IoT) applications, predictive maintenance has been gaining increasing attention in the industry as the data collection and processing technologies has matured enough to generate, transmit, store and analyze all kinds of data in batches or in real-time.</span></span> <span data-ttu-id="4b3a1-136">Queste tecnologie facilitano lo sviluppo e la distribuzione di soluzioni con soluzioni di analisi avanzate, dove le soluzioni di manutenzione predittiva offrono presumibilmente i maggiori vantaggi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-136">Such technologies enable easy development and deployment of end-to-end solutions with advanced analytics solutions, with predictive maintenance solutions providing arguably the largest benefit.</span></span>

<span data-ttu-id="4b3a1-137">I problemi aziendali nell'ambito della manutenzione predittiva comprendono un elevato rischio operativo, a causa degli errori imprevisti e delle limitate informazioni dettagliate sulla causa radice dei problemi negli ambienti aziendali complessi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-137">Business problems in the predictive maintenance domain range from high operational risk due to unexpected failures and limited insight into the root cause of problems in complex business environments.</span></span> <span data-ttu-id="4b3a1-138">Si può classificare la maggior parte di questi problemi e farli rientrare nelle domande aziendali seguenti:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-138">The majority of these problems can be categorized to fall under the following business questions:</span></span>

* <span data-ttu-id="4b3a1-139">Qual è la probabilità che un componente dell'apparecchiatura si guasti nel prossimo futuro?</span><span class="sxs-lookup"><span data-stu-id="4b3a1-139">What is the probability that a piece of equipment fails in the near future?</span></span>
* <span data-ttu-id="4b3a1-140">Qual è la vita utile rimanente dell'apparecchiatura?</span><span class="sxs-lookup"><span data-stu-id="4b3a1-140">What is the remaining useful life of the equipment?</span></span>
* <span data-ttu-id="4b3a1-141">Quali sono le cause dei guasti e quali azioni di manutenzione si dovranno eseguire per risolvere questi problemi?</span><span class="sxs-lookup"><span data-stu-id="4b3a1-141">What are the causes of failures and what maintenance actions should be performed to fix these issues?</span></span>

<span data-ttu-id="4b3a1-142">Usando la manutenzione predittiva per rispondere alle domande seguenti, le aziende possono:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-142">By utilizing predictive maintenance to answer these questions, businesses can:</span></span>

* <span data-ttu-id="4b3a1-143">Ridurre il rischio operativo e aumentare il tasso di redditività degli asset individuando i guasti prima che si verifichino</span><span class="sxs-lookup"><span data-stu-id="4b3a1-143">Reduce operational risk and increase rate of return on assets by spotting failures before they occurred</span></span>
* <span data-ttu-id="4b3a1-144">Ridurre le inutili operazioni di manutenzione temporizzate e controllare il costo della manutenzione</span><span class="sxs-lookup"><span data-stu-id="4b3a1-144">Reduce unnecessary time-based maintenance operations and control cost of maintenance</span></span>
* <span data-ttu-id="4b3a1-145">Migliorare complessivamente l'immagine del marchio, eliminare la cattiva pubblicità e la conseguente perdita di vendite a causa dell'abbandono da parte dei clienti</span><span class="sxs-lookup"><span data-stu-id="4b3a1-145">Improve overall brand image, eliminate bad publicity and resulting lost sales from customer attrition.</span></span>
* <span data-ttu-id="4b3a1-146">Ridurre i costi di magazzino riducendo i livelli di inventario grazie alla previsione del punto di riordino</span><span class="sxs-lookup"><span data-stu-id="4b3a1-146">Lower inventory costs by reducing inventory levels by predicting the reorder point</span></span>
* <span data-ttu-id="4b3a1-147">Individuare gli schemi connessi ai diversi problemi di manutenzione</span><span class="sxs-lookup"><span data-stu-id="4b3a1-147">Discover patterns connected to various maintenance problems</span></span>

<span data-ttu-id="4b3a1-148">La manutenzione predittiva può fornire indicatori di prestazioni chiave, ad esempio lo stato di integrità per monitorare la condizione degli asset in tempo reale, una stima dell'intervallo di validità rimanente degli asset, le attività di manutenzione proattiva consigliate e le date degli ordini stimate per la sostituzione delle parti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-148">Predictive maintenance solutions can provide businesses with key performance indicators such as health scores to monitor real-time asset condition, an estimate of the remaining lifespan of assets, recommendation for proactive maintenance activities and estimated order dates for replacement of parts.</span></span>

## <a name="qualification-criteria-for-predictive-maintenance"></a><span data-ttu-id="4b3a1-149">Criteri di qualificazione per la manutenzione predittiva</span><span class="sxs-lookup"><span data-stu-id="4b3a1-149">Qualification criteria for predictive maintenance</span></span>
<span data-ttu-id="4b3a1-150">È importante sottolineare che non tutti i casi d'uso o i problemi aziendali possono essere risolti efficacemente dalla manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-150">It is important to emphasize that not all use cases or business problems can be effectively solved by predictive maintenance.</span></span> <span data-ttu-id="4b3a1-151">Tra i criteri di qualificazione importanti occorre valutare se il problema è di natura predittiva, se esiste un chiaro piano d'azione per prevenire gli errori quando vengono rilevati anticipatamente e, ancora più importante, se sono disponibili dati con un livello di qualità sufficiente per supportare il caso d'uso.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-151">Important qualification criteria include whether the problem is predictive in nature, that a clear path of action exists in order to prevent failures when they are detected beforehand and most importantly, data with sufficient quality to support the use case is available.</span></span> <span data-ttu-id="4b3a1-152">In questo caso, si esamineranno i requisiti dei dati per la compilazione di una soluzione di manutenzione predittiva efficiente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-152">Here, we focus on the data requirements for building a successful predictive maintenance solution.</span></span>

<span data-ttu-id="4b3a1-153">Quando si compilano modelli predittivi, si usano dati cronologici per eseguire il training del modello che quindi può identificare gli schemi nascosti, anche nei dati futuri.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-153">When building predictive models, we use historical data to train the model which can then recognize hidden patterns and further identify these patterns in the future data.</span></span> <span data-ttu-id="4b3a1-154">Il training di questi modelli viene eseguito con esempi individuati in base alle relative funzioni e all'obiettivo della stima.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-154">These models are trained with examples described by their features and the target of prediction.</span></span> <span data-ttu-id="4b3a1-155">Il modello con training dovrà eseguire stime in base all'obiettivo osservando solo le funzioni dei nuovi esempi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-155">The trained model is expected to make predictions on the target by only looking at the features of the new examples.</span></span> <span data-ttu-id="4b3a1-156">È fondamentale che il modello acquisisca la relazione tra le funzioni e l'obiettivo della stima.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-156">It is crucial that the model capture the relationship between features and the target of prediction.</span></span> <span data-ttu-id="4b3a1-157">Per eseguire il training di un modello di Machine Learning efficace, sono necessari dati con training che includano funzioni con un'effettiva capacità predittiva rispetto all'obiettivo della stima, vale a dire che i dati dovranno essere pertinenti allo scopo della stima per ottenere stime corrette.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-157">In order to train an effective machine learning model, we need training data which includes features that actually have predictive power towards the target of prediction meaning the data should be relevant to the prediction goal to expect accurate predictions.</span></span>

<span data-ttu-id="4b3a1-158">Ad esempio, se l'obiettivo è quello di stimare i guasti delle ruote del treno, i dati con training dovranno contenere funzioni correlate alle ruote, ad esempio telemetria che riflette lo stato integrità delle ruote, chilometraggio, carico del vagone e così via.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-158">For example, if the target is to predict failures of train wheels, the training data should contain wheel-related features (e.g. telemetry reflecting the health status of wheels, the mileage, car load, etc.).</span></span> <span data-ttu-id="4b3a1-159">Se tuttavia l'obiettivo consiste nello stimare gli errori del motore di training, sarà probabilmente necessario un altro set di dati di training con funzioni relative al motore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-159">However, if the target is to predict train engine failures, we probably need another set of training data that has engine-related features.</span></span> <span data-ttu-id="4b3a1-160">Prima di compilare modelli predittivi, l'esperto aziendale dovrà comprendere il requisito di pertinenza dei dati e fornire la conoscenza del dominio necessaria per selezionare i subset di dati rilevanti per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-160">Before building predictive models, we expect the business expert to understand the data relevancy requirement and provide the domain knowledge that is needed to select relevant subsets of data for the analysis.</span></span>

<span data-ttu-id="4b3a1-161">Quando si qualifica l'idoneità di un problema aziendale per una soluzione di manutenzione predittiva, occorre trovare tre origini dati essenziali:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-161">There are three essential data sources we look for when qualifying a business problem to be suitable for a predictive maintenance solution:</span></span>

1. <span data-ttu-id="4b3a1-162">Cronologia dei guasti: in genere, nelle applicazioni di manutenzione predittiva gli eventi di errore sono molto rari.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-162">Failure History: Typically, in predictive maintenance applications, failure events are very rare.</span></span> <span data-ttu-id="4b3a1-163">Quando tuttavia si compilano modelli predittivi che stimano i guasti, è necessario che l'algoritmo apprenda lo schema operativo normale, oltre allo schema dei guasti attraverso il processo di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-163">However, when building predictive models that predict failures, the algorithm needs to learn the normal operation pattern as well as the failure pattern through the training process.</span></span> <span data-ttu-id="4b3a1-164">Di conseguenza, è fondamentale che i dati di training contengano un numero sufficiente di esempi in entrambe le categorie per apprendere questi due schemi diversi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-164">Hence, it is essential that the training data contains sufficient number of examples in both categories in order to learn these two different patterns.</span></span> <span data-ttu-id="4b3a1-165">Per questo motivo, è necessario che i dati contengano un numero sufficiente di eventi di errore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-165">For that reason, we require that data has sufficient number of failure events.</span></span> <span data-ttu-id="4b3a1-166">Gli eventi di errore si possono trovare nei record di manutenzione e nella cronologia della sostituzione di parti oppure è possibile usare le anomalie nei dati di training come guasti identificati dagli esperti del dominio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-166">Failure events can be found in maintenance records and parts replacement history or anomalies in the training data can also be used as failures as identified by the domain experts.</span></span>
2. <span data-ttu-id="4b3a1-167">Cronologia di manutenzione/riparazione: un'origine di dati essenziale per le soluzioni di manutenzione predittiva è la cronologia di manutenzione dettagliata degli asset, che contiene informazioni sui componenti sostituiti, sulle attività di manutenzione preventiva eseguite e così via. È estremamente importante acquisire questi eventi perché tutti incidono sugli schemi di riduzione delle prestazioni e l'assenza di queste informazioni può causare risultati fuorvianti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-167">Maintenance/Repair History: An essential source of data for predictive maintenance solutions is the detailed maintenance history of the asset containing information about the components replaced, preventive maintenance activates performed, etc. It is extremely important to capture these events as these affect the degradation patterns and absence of this information causes misleading results.</span></span>
3. <span data-ttu-id="4b3a1-168">Condizioni delle macchine: per stimare quanti altri giorni (ore, chilometri, transazioni e così via) dura una macchina prima che si verifichi un guasto, si presuppone che il relativo stato integrità diminuisca con il tempo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-168">Machine Conditions: In order to predict how many more days (hours, miles, transactions, etc.) a machine lasts before it fails, we assume the machine’s health status degrades over time during its operation.</span></span> <span data-ttu-id="4b3a1-169">È quindi necessario che i dati contengano funzioni variabili nel tempo che acquisiscono schemi di aging o qualsiasi anomalia che possa causare una riduzione delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-169">Therefore, we expect the data to contain time-varying features that capture this aging pattern and any anomalies that leads to degradation.</span></span> <span data-ttu-id="4b3a1-170">Nelle applicazioni IoT i dati di telemetria dai diversi sensori costituiscono un buon esempio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-170">In IoT applications, the telemetry data from different sensors represent one good example.</span></span> <span data-ttu-id="4b3a1-171">Per stimare se una macchina possa incorrere in un guasto entro un intervallo di tempo, i dati dovrebbero idealmente acquisire il trend in calo durante questo intervallo prima dell'evento di errore effettivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-171">In order to predict if a machine is going to fail within a time frame, ideally the data should capture degrading trend during this time frame before the actual failure event.</span></span>

<span data-ttu-id="4b3a1-172">È anche necessario che i dati siano direttamente correlati alle condizioni operative dell'asset obiettivo della stima.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-172">Additionally, we require data that is directly related to the operating conditions of the target asset of prediction.</span></span> <span data-ttu-id="4b3a1-173">La decisione relativa all'obiettivo si basa sia sulle esigenze aziendali che sulla disponibilità dei dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-173">The decision of target is based on both business needs and data availability.</span></span> <span data-ttu-id="4b3a1-174">Prendendo come esempio la stima dei guasti delle ruote del treno, è possibile stimare "se il guasto riguarderà la ruota" o "se interesserà tutto il treno".</span><span class="sxs-lookup"><span data-stu-id="4b3a1-174">Taking the train wheel failure prediction as an example, we may predict "if the wheel is going to have a failure" or "if the whole train is going have a failure".</span></span> <span data-ttu-id="4b3a1-175">Il primo è relativo a un componente specifico, mentre il secondo riguarda il treno.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-175">The first one targets a more specific component whereas the second one targets failure of the train.</span></span> <span data-ttu-id="4b3a1-176">Il secondo è una questione più generale che richiede molti più elementi dati sparsi rispetto al primo, rendendo più difficile la compilazione di un modello.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-176">The second one is a more general question that requires a lot more dispersed data elements than the first one, making it harder to build a model.</span></span> <span data-ttu-id="4b3a1-177">Al contrario, cercare di stimare i guasti delle ruote osservando semplicemente i dati sulle condizioni del treno a livello generale potrebbe non essere fattibile, perché non contengono informazioni a livello di componente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-177">Conversely, trying to predict wheel failures just by looking at the high-level train condition data may not be feasible as it does not contain information at the component level.</span></span> <span data-ttu-id="4b3a1-178">In generale, è più pratico stimare eventi di errore specifici rispetto a quelli più generali.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-178">In general, it is more sensible to predict specific failure events than more general ones.</span></span>

<span data-ttu-id="4b3a1-179">Ecco una domanda comune che di solito viene posta solita in merito ai dati della cronologia degli errori "Quanti eventi di errore sono necessari per eseguire il training di un modello e quanti sono considerati "sufficienti"?</span><span class="sxs-lookup"><span data-stu-id="4b3a1-179">One common question that is usually asked about failure history data is "How many failure events are required to train a model and how many is considered as "enough"?</span></span> <span data-ttu-id="4b3a1-180">Non esiste una risposta netta a questa domanda, perché in molti scenari di analisi predittiva è la qualità dei dati che di solito definisce quale sia la quantità accettabile.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-180">There is no clear answer to that question as in many predictive analytics scenarios, it is usually the quality of the data that dictates what is acceptable.</span></span> <span data-ttu-id="4b3a1-181">Se il set di dati non include funzioni rilevanti per la stima dei guasti, anche se sono disponibili molti eventi di errore, potrebbe risultare impossibile compilare un modello di dati appropriato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-181">If the dataset does not include features that are relevant to failure prediction, then even if there are many failure events, building a good model may not be possible.</span></span> <span data-ttu-id="4b3a1-182">Tuttavia, secondo una regola generale, più sono gli eventi di errore, migliore è il modello e una stima approssimativa della quantità di esempi di errore richiesti è una misura che dipende molto dal contesto e dai dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-182">However, the rule of thumb is that the more the failure events the better the model is and a rough estimate of how many failure examples are required is a very context and data-dependent measure.</span></span> <span data-ttu-id="4b3a1-183">Questo problema viene trattato nella sezione per la gestione dei set di dati sbilanciati dove si propongono metodi per affrontare il problema di della mancanza di una quantità sufficiente di guasti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-183">This issue is discussed in the section for handling imbalanced datasets where we propose methods to cope with the problem of not having enough failures.</span></span>

## <a name="sample-use-cases"></a><span data-ttu-id="4b3a1-184">Caso d'uso di esempio</span><span class="sxs-lookup"><span data-stu-id="4b3a1-184">Sample use cases</span></span>
<span data-ttu-id="4b3a1-185">Questa sezione è incentrata su una raccolta di casi d'uso di manutenzione predittiva per diversi settori, ad esempio aerospaziale, dei servizi pubblici e dei trasporti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-185">This section focuses on a collection of predictive maintenance use cases from several industries such as Aerospace, Utilities and Transportation.</span></span> <span data-ttu-id="4b3a1-186">Ogni sottoparagrafo analizza i casi d'uso raccolti da queste aree e descrive un problema aziendale, i dati riguardanti il problema aziendale e i vantaggi di una soluzione di manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-186">Each subsection drills into the use-cases collected from these areas and discusses a business problem, the data surrounding the business problem and the benefits of a predictive maintenance solution.</span></span>

### <a name="aerospace"></a><span data-ttu-id="4b3a1-187">Settore aerospaziale</span><span class="sxs-lookup"><span data-stu-id="4b3a1-187">Aerospace</span></span>
#### <a name="use-case-1-flight-delay-and-cancellations"></a><span data-ttu-id="4b3a1-188">Caso d'uso 1: Ritardo dei voli e cancellazioni</span><span class="sxs-lookup"><span data-stu-id="4b3a1-188">Use Case 1: Flight delay and cancellations</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-189">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-189">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-190">Uno dei principali problemi che una compagnia aerea deve affrontare sono i costi significativi associati al ritardo dei voli a causa di problemi meccanici.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-190">One of the major business problems that airlines face is the significant costs that are associated with flights being delayed due to mechanical problems.</span></span> <span data-ttu-id="4b3a1-191">Se i guasti meccanici non possono essere riparati, i voli potrebbero anche essere cancellati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-191">If the mechanical failures cannot be repaired, flights may even be canceled.</span></span> <span data-ttu-id="4b3a1-192">Questo evento è estremamente costoso, perché i ritardi creano problemi di pianificazione e funzionamento, provocano una cattiva reputazione e l'insoddisfazione dei clienti e molti altri problemi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-192">This is extremely costly as delays create problems in scheduling and operations, causes bad reputation and customer dissatisfaction along with many other problems.</span></span> <span data-ttu-id="4b3a1-193">Le compagnie aeree sono particolarmente interessate alla stima di questi guasti meccanici, per poter ridurre i ritardi dei voli e le cancellazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-193">Airlines are particularly interested in predicting such mechanical failures in advance so that they can reduce flight delays or cancellations.</span></span> <span data-ttu-id="4b3a1-194">Lo scopo della soluzione di manutenzione predittiva per questi casi consiste nello stimare la probabilità che si verifichino ritardi o cancellazioni di un volo, sulla base di origini dati rilevanti come la cronologia di manutenzione e informazioni sulle rotte dei voli.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-194">The goal of the predictive maintenance solution for these cases is to predict the probability of an aircraft being delayed or canceled, based on relevant data sources such as maintenance history and flight route information.</span></span> <span data-ttu-id="4b3a1-195">Le due origini dati principali per questo caso d'uso sono le tratte dei voli e i registri di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-195">The two major data sources for this use case are the flight legs and page logs.</span></span> <span data-ttu-id="4b3a1-196">I dati delle tratte dei voli includono i dettagli delle rotte, ad esempio data e ora della partenza e dell'arrivo, aeroporti di partenza e arrivo e così via. I dati dei registri includono una serie di codici di errore e manutenzione registrati dal personale addetto alla manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-196">Flight leg data includes data about the flight route details such as the date and time of departure and arrival, departure and arrival airports, etc. Page log data includes a series of error and maintenance codes that are recorded by the maintenance personnel.</span></span>

##### <a name="business-value-of-the-predictive-model"></a><span data-ttu-id="4b3a1-197">*Valore del modello predittivo per l'azienda*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-197">*Business value of the predictive model*</span></span>
<span data-ttu-id="4b3a1-198">Usando i dati cronologici disponibili, è stato compilato un modello predittivo con un algoritmo di classificazione multipla per stimare il tipo di problema meccanico che causa un ritardo o la cancellazione di un volo nelle prossime 24 ore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-198">Using the available historical data, a predictive model was built using a multi-classification algorithm to predict the type of mechanical issue which results in a delay or cancellation of a flight within the next 24 hours.</span></span> <span data-ttu-id="4b3a1-199">Sulla base di questa stima è possibile eseguire le operazioni di manutenzione necessarie per ridurre il rischio durante la revisione di un aereo, evitando così ritardi o cancellazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-199">By making this prediction, necessary maintenance actions can be taken to mitigate the risk while an aircraft is being serviced and thus prevent possible delays or cancellations.</span></span> <span data-ttu-id="4b3a1-200">Usando il servizio Web di Azure Machine Learning, i modelli predittivi possono essere facilmente integrati nelle piattaforme operative esistenti delle compagnie aeree.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-200">Using Azure Machine Learning web service, the predictive models can seamlessly and easily be integrated into airlines’ existing operating platforms.</span></span> 

#### <a name="use-case-2-aircraft-component-failure"></a><span data-ttu-id="4b3a1-201">Caso d'uso 2: Guasto di un componente dell'aereo</span><span class="sxs-lookup"><span data-stu-id="4b3a1-201">Use Case 2: Aircraft component failure</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-202">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-202">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-203">I motori degli aerei sono parti dell'equipaggiamento molto delicate e costose e le sostituzioni di parti del motore sono tra le attività di manutenzione più comuni nel settore del trasporto aereo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-203">Aircraft engines are very sensitive and expensive pieces of equipment and engine part replacements are among the most common maintenance tasks in the airline industry.</span></span> <span data-ttu-id="4b3a1-204">Le soluzioni di manutenzione per le compagnie aeree richiedono una gestione accurata della disponibilità, della consegna e della pianificazione delle scorte di componenti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-204">Maintenance solutions for airlines require careful management of component stock availability, delivery and planning.</span></span> <span data-ttu-id="4b3a1-205">La possibilità di raccogliere informazioni sull'affidabilità dei componenti consente una sostanziale riduzione dei costi di investimento.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-205">Being able to gather intelligence on component reliability leads to substantial reduction on investment costs.</span></span> <span data-ttu-id="4b3a1-206">L'origine dati principale in questo caso d'uso sono i dati di telemetria raccolti da una quantità di sensori dell'aereo che forniscono informazioni sulla condizione dell'aereo stesso.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-206">The major data source for this use case is telemetry data collected from a number of sensors in the aircraft providing information on the condition of the aircraft.</span></span> <span data-ttu-id="4b3a1-207">Per identificare quando si sono verificati guasti dei componenti e le sostituzioni eseguite, sono stati usati anche i record di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-207">Maintenance records were also used to identify when component failures occurred and replacements were made.</span></span>

##### <a name="business-value-of-the-predictive-model"></a><span data-ttu-id="4b3a1-208">Valore del modello predittivo per l'azienda</span><span class="sxs-lookup"><span data-stu-id="4b3a1-208">Business value of the predictive model</span></span>
<span data-ttu-id="4b3a1-209">È stato compilato un modello di classificazione multiclasse che stima la probabilità di un guasto causato da un determinato componente nel prossimo mese.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-209">A multi-class classification model was built that predicts the probability of a failure due to a certain component within the next month.</span></span> <span data-ttu-id="4b3a1-210">Usando queste soluzioni, le compagnie aeree possono ridurre i costi di riparazione dei componenti, migliorare la disponibilità delle scorte di componenti, ridurre i livelli di inventario degli asset correlati e migliorare la pianificazione della manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-210">By employing these solutions, airlines can reduce component repair costs, improve component stock availability, reduce inventory levels of related assets and improve maintenance planning.</span></span>

### <a name="utilities"></a><span data-ttu-id="4b3a1-211">Servizi pubblici</span><span class="sxs-lookup"><span data-stu-id="4b3a1-211">Utilities</span></span>
#### <a name="use-case-1-atm-cash-dispense-failure"></a><span data-ttu-id="4b3a1-212">Caso d'uso 1: Guasto dello sportello bancomat</span><span class="sxs-lookup"><span data-stu-id="4b3a1-212">Use Case 1: ATM cash dispense failure</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-213">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-213">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-214">I dirigenti nei settori a elevato utilizzo di asset affermano spesso che il principale rischio operativo per le aziende sono i guasti imprevisti degli asset.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-214">Executives in asset intensive industries often state that primary operational risk to their businesses is unexpected failures of their assets.</span></span> <span data-ttu-id="4b3a1-215">Ad esempio, il guasto di un'apparecchiatura come gli sportelli bancomat nel settore bancario è un problema molto comune che si verifica di frequente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-215">As an example, failure of machinery such as ATMs in banking industry is a very common problem that occurs frequently.</span></span> <span data-ttu-id="4b3a1-216">Questi tipi di problemi rendono le soluzioni di manutenzione predittiva molto ambite per gli operatori di queste apparecchiature.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-216">These types of problems make predictive maintenance solutions very desirable for operators of such machinery.</span></span> <span data-ttu-id="4b3a1-217">In questo caso d'uso il problema della stima consiste nel calcolare la probabilità che una transazione di incasso da un bancomat venga interrotta a causa di un guasto del dispositivo di erogazione del contante, come un inceppamento delle banconote o il guasto di un componente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-217">In this use-case, prediction problem is to calculate the probability that an ATM cash withdrawal transaction gets interrupted due to a failure in the cash dispenser such as a paper jam or a part failure.</span></span> <span data-ttu-id="4b3a1-218">Le origini dati principali in questo caso sono le letture del sensore che raccoglie le misurazioni mentre vengono erogate le banconote, oltre ai record di manutenzione raccolti nel tempo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-218">Major data sources for this case are sensor readings that collect measurements while cash notes are being dispensed and also maintenance records collected over time.</span></span> <span data-ttu-id="4b3a1-219">I dati del sensore includono le relative letture per ogni transazione completata e per ogni banconota erogata.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-219">Sensor data included sensor readings per each transaction completed and also sensor readings per each note dispensed.</span></span> <span data-ttu-id="4b3a1-220">Le letture del sensore forniscono misurazioni come gli intervalli tra le banconote, lo spessore, la distanza massima di arrivo delle banconote e così via. I dati di manutenzione includono i codice errore e le informazioni sulle riparazioni,</span><span class="sxs-lookup"><span data-stu-id="4b3a1-220">The sensor readings provided measurements such as gaps between notes, thickness, note arrival distance etc. Maintenance data included error codes and repair information.</span></span> <span data-ttu-id="4b3a1-221">I dati di manutenzione includono i codice errore e le informazioni sulle riparazioni, che vengono uste per identificare i casi di errore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-221">These were used to identify failure cases.</span></span>

##### <a name="business-value-of-the-predictive-model"></a><span data-ttu-id="4b3a1-222">*Valore del modello predittivo per l'azienda*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-222">*Business value of the predictive model*</span></span>
<span data-ttu-id="4b3a1-223">Per stimare gli errori nelle transazioni di prelevamento di contante e i guasti dei singoli erogatori di banconote durante una transazione, sono stati compilati due modelli predittivi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-223">Two predictive models were built to predict failures in the cash withdrawal transactions and failures in the individual notes dispensed during a transaction.</span></span> <span data-ttu-id="4b3a1-224">La possibilità di stimare in anticipo gli errori delle transazioni consente di intervenire proattivamente sugli sportelli bancomat per evitare che si verifichino errori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-224">By being able to predict transaction failures beforehand, ATMs can be serviced proactively to prevent failures from occurring.</span></span> <span data-ttu-id="4b3a1-225">Inoltre, grazie alla stima degli errori relativi alle banconote, se è probabile che una transazione si interrompa prima del completamento a causa di un guasto dell'erogatore, potrebbe essere preferibile arrestare il processo e avvisare il cliente che la transazione è incompleta, invece di attendere l'arrivo del servizio di manutenzione dopo che l'errore si è verificato, cosa che può causare una maggiore insoddisfazione del cliente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-225">Also, with note failure prediction, if a transaction is likely to fail before it is complete due to a note dispense failure, it may be best to stop the process and warn the customer for incomplete transaction rather than waiting for the maintenance service to arrive after the error occurs which may lead to larger customer dissatisfaction.</span></span>

#### <a name="use-case-2-wind-turbine-failures"></a><span data-ttu-id="4b3a1-226">Caso d'uso 2: Guasti delle turbine eoliche</span><span class="sxs-lookup"><span data-stu-id="4b3a1-226">Use Case 2: Wind turbine failures</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-227">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-227">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-228">Con la diffusione della consapevolezza ambientale, le turbine eoliche sono diventate una delle principali fonti di produzione energetica e in genere hanno costi che ammontano a milioni di euro.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-228">With the raise of environmental awareness, wind turbines have become one of the major sources of energy generation and they usually cost millions of dollars.</span></span> <span data-ttu-id="4b3a1-229">Uno dei principali componenti delle turbine eoliche è il generatore, dotato di molti sensori per il monitoraggio delle condizioni e dello stato delle turbine.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-229">One of the key components of wind turbines is the generator motor which is equipped with many sensors that helps to monitor turbine conditions and status.</span></span> <span data-ttu-id="4b3a1-230">Le letture dei sensori contengono informazioni preziose che possono essere usate per compilare un modello predittivo per la stima degli indicatori KPI critici, come il tempo medio tra i guasti (MTBF) per i componenti della turbina eolica.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-230">The sensor readings contain valuable information which can be used to build a predictive model to predict critical Key Performance Indicators (KPIs) such as mean time to failure for components of the wind turbine.</span></span> <span data-ttu-id="4b3a1-231">I dati per questo caso d'uso provengono da più turbine eoliche in tre diverse installazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-231">Data for this use case comes from multiple wind turbines that are located in three different farm locations.</span></span> <span data-ttu-id="4b3a1-232">Le misurazioni di circa un centinaio di sensori da ogni turbina sono state registrate ogni 10 secondi per un anno.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-232">Measurements from close to a hundred sensors from each turbine were recorded every 10 seconds for one year.</span></span> <span data-ttu-id="4b3a1-233">Queste letture includono misure come temperatura, velocità del generatore, potenza della turbina e avvolgimento del generatore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-233">These readings include measurements such as temperature, generator speed, turbine power and generator winding.</span></span>

##### <a name="business-value-of-the-predictive-model"></a><span data-ttu-id="4b3a1-234">*Valore del modello predittivo per l'azienda*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-234">*Business value of the predictive model*</span></span>
<span data-ttu-id="4b3a1-235">I modelli predittivi sono stati compilati per la stima della vita utile rimanente dei generatori e dei sensori di temperatura.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-235">Predictive models were built to estimate remaining useful life for generators and temperature sensors.</span></span> <span data-ttu-id="4b3a1-236">Stimando la probabilità di guasto, i tecnici addetti alla manutenzione possono concentrarsi subito sulle turbine sospette con la più alta probabilità di guasto, a integrazione dei regimi di manutenzione temporizzata.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-236">By predicting the probability of failure, maintenance technicians can focus on suspicious turbines that are likely to fail soon to complement time-based maintenance regimes.</span></span>
<span data-ttu-id="4b3a1-237">I modelli predittivi forniscono anche informazioni dettagliate sul livello di contributo per diversi fattori alla probabilità che si verifichi un guasto, consentendo all'azienda di comprendere meglio la causa radice dei problemi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-237">Additionally, predictive models bring insight to the level of contribution for different factors to the probability of a failure which helps business to have a better understanding of the root cause of the problems.</span></span>

#### <a name="use-case-3-circuit-breaker-failures"></a><span data-ttu-id="4b3a1-238">Caso d'uso 3: Guasti degli interruttori automatici</span><span class="sxs-lookup"><span data-stu-id="4b3a1-238">Use Case 3: Circuit breaker failures</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-239">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-239">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-240">Le operazioni riguardanti elettricità e gas che includono la produzione, distribuzione e vendita di energia elettrica richiedono una notevole quantità di interventi di manutenzione per assicurare che le linee elettriche siano operative ininterrottamente per garantire la distribuzione di corrente alle abitazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-240">Electricity and gas operations that include generation, distribution and sale of electrical energy require significant amount of maintenance to ensure power lines are operational at all times to guarantee delivery of energy to households.</span></span> <span data-ttu-id="4b3a1-241">Un errore nell'esecuzione di queste operazioni è critico, perché i problemi energetici incidono su quasi ogni entità nell'area in cui si verificano.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-241">Failure of such operations is critical as almost every entity is effected by power problems in the regions that they occur.</span></span> <span data-ttu-id="4b3a1-242">Gli interruttori automatici sono fondamentali per queste operazioni, perché fanno parte dell'apparecchiatura che interrompe la corrente elettrica in caso di problemi e cortocircuiti per evitare che si verifichino danni alle linee elettriche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-242">Circuit breakers are critical for such operations as they are a piece of equipment that cut electrical current in case of problems and short circuits to prevent any damage to power lines from happening.</span></span> <span data-ttu-id="4b3a1-243">Il problema aziendale per questo caso d'uso consiste nello stimare i guasti degli interruttori automatici in base ai registri di manutenzione, alla cronologia dei comandi e alle specifiche tecniche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-243">The business problem for this use case is to predict circuit breaker failures given maintenance logs, command history and technical specifications.</span></span>

<span data-ttu-id="4b3a1-244">Le tre origini dati principali per questo caso sono i registri di manutenzione che includono le azioni correttive, preventive e sistematiche, i dati operativi che includono i comandi automatici e manuali inviati agli interruttori, ad esempio per le azioni di apertura e chiusura, e i dati delle specifiche tecniche relative alle proprietà di ogni interruttore, ad esempio anno di fabbricazione, posizione, modello e così via.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-244">Three major data sources for this case are maintenance logs that include corrective, preventive and systematic actions, operational data that includes automatic and manual commands send to circuit breakers such as for open and close actions and technical specification data about the properties of each circuit breaker such as year made, location, model, etc.</span></span>

##### <a name="business-value-of-the-predictive-model"></a><span data-ttu-id="4b3a1-245">*Valore del modello predittivo per l'azienda*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-245">*Business value of the predictive model*</span></span>
<span data-ttu-id="4b3a1-246">Le soluzioni di manutenzione predittiva contribuiscono a ridurre i costi di riparazione e prolungano il ciclo di vita delle apparecchiature come gli interruttori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-246">Predictive maintenance solutions help reduce repair costs and increase the lifecycle of equipment such as circuit breakers.</span></span> <span data-ttu-id="4b3a1-247">Questi modelli migliorano anche la qualità della rete elettrica, perché i modelli forniscono avvisi preventivi che riducono i guasti imprevisti con la conseguente riduzione delle interruzioni del servizio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-247">These models also help improve the quality of the power network since models provide warnings ahead of time that reduce unexpected failures which lead to fewer interruptions to the service.</span></span>

#### <a name="use-case-4-elevator-door-failures"></a><span data-ttu-id="4b3a1-248">Caso d'uso 4: Guasti delle porte degli ascensori</span><span class="sxs-lookup"><span data-stu-id="4b3a1-248">Use Case 4: Elevator door failures</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-249">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-249">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-250">La maggior parte delle grandi aziende produttrici di ascensori ha in genere milioni di ascensori in funzione nel mondo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-250">Most large elevator companies typically have millions of elevators running around the world.</span></span> <span data-ttu-id="4b3a1-251">Per ottenere un vantaggio competitivo, si concentrano sull'affidabilità che costituisce l'aspetto più importante per i clienti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-251">To gain a competitive edge, they focus on reliability which is what matters most to their customers.</span></span> <span data-ttu-id="4b3a1-252">Attingendo al potenziale di Internet delle cose, connettendo gli ascensori nel cloud e raccogliendo dati dai sistemi e dai sensori degli ascensori, possono trasformare i dati in business intelligence di grande valore che migliora ampiamente le operazioni, offrendo un servizio di manutenzione predittiva e precauzionale non ancora disponibile per i concorrenti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-252">Drawing on the potential of the Internet of Things, by connecting their elevators to the cloud and gathering data from elevator sensors and systems, they are able to transform data into valuable business intelligence which vastly improves operations by offering predictive and preemptive maintenance that is not something that is available to the competitors yet.</span></span> <span data-ttu-id="4b3a1-253">Il requisito aziendale per questo caso consiste nel fornire un'applicazione predittiva con una base di conoscenze che possa stimare le cause potenziali dei guasti alle porte.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-253">The business requirement for this case is to provide a knowledge base predictive application that predicts the potential causes of door failures.</span></span> <span data-ttu-id="4b3a1-254">I dati richiesti per questa implementazione sono costituiti da tre parti, ovvero funzioni statiche dell'ascensore, ad esempio identificatori, frequenza della manutenzione contrattuale, tipo di edificio e così via, informazioni sull'utilizzo, ad esempio numero di cicli delle porte, tempi medi di chiusura delle porte, e cronologia dei guasti, ad esempio registrazioni cronologiche dei guasti e relative cause.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-254">The required data for this implementation consists of three parts which are elevator static features (e.g. identifiers, contract maintenance frequency, building type, etc.), usage information (e.g. number of door cycles, average door close time, etc.) and failure history (i.e. historical failure records and their causes).</span></span>

<span data-ttu-id="4b3a1-255">Per risolvere il problema della stima, viene compilato un modello di regressione logistica multiclasse tramite Azure Machine Learning, con funzioni statiche integrate e dati di utilizzo come funzioni, oltre alle cause delle registrazioni cronologiche dei guasti come etichette delle classi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-255">A multiclass logistic regression model was built with Azure Machine Learning to solve the prediction problem, with the integrated static features and usage data as features, and the causes of historical failure records as class labels.</span></span> <span data-ttu-id="4b3a1-256">Questo modello predittivo viene utilizzato da un'app su un dispositivo mobile, che è usato dai tecnici sul campo per migliorare l'efficienza lavorativa.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-256">This predictive model is consumed by an app on a mobile device which is used by field technicians to help improve working efficiency.</span></span> <span data-ttu-id="4b3a1-257">Quando un tecnico si reca sul posto per riparare un ascensore, può consultare questa app per vedere le cause suggerite e le azioni di manutenzione migliori da seguire per riparare le porte dell'ascensore nel più breve tempo possibile.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-257">When a technician goes on site to repair an elevator, he/she can refer to this app for recommended causes and best courses of maintenance actions to fix the elevator doors as fast as possible.</span></span>

### <a name="transportation-and-logistics"></a><span data-ttu-id="4b3a1-258">Trasporto e logistica</span><span class="sxs-lookup"><span data-stu-id="4b3a1-258">Transportation and logistics</span></span>
#### <a name="use-case-1-brake-disc-failures"></a><span data-ttu-id="4b3a1-259">Caso d'uso 1: Guasti dei dischi freno</span><span class="sxs-lookup"><span data-stu-id="4b3a1-259">Use Case 1: Brake disc failures</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-260">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-260">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-261">I normali criteri di manutenzione dei veicoli includono la manutenzione correttiva e preventiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-261">Typical maintenance policies for vehicles include corrective and preventive maintenance.</span></span> <span data-ttu-id="4b3a1-262">La manutenzione correttiva prevede che il veicolo venga riparato dopo che si è verificato un guasto, cosa che può causare un grave inconveniente per l'autista a seguito di un malfunzionamento imprevisto e al tempo sprecato per recarsi da un meccanico.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-262">Corrective maintenance implies that the vehicle is repaired after a failure has occurred which can cause a severe inconvenience to the driver as a result of an unexpected malfunction and the time wasted on a visit to mechanic.</span></span> <span data-ttu-id="4b3a1-263">La maggior parte dei veicoli è anche soggetta a criteri di manutenzione preventiva, che richiedono l'esecuzione di determinate ispezioni in base a una pianificazione che non considera le condizioni effettive dei sottosistemi del veicolo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-263">Most vehicles are also subject to a preventive maintenance policy, which requires performing certain inspections at a schedule which does not take into account the actual condition of the car subsystems.</span></span> <span data-ttu-id="4b3a1-264">Nessuno di questi approcci è sufficiente per eliminare completamente i problemi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-264">None of these approaches are successful in fully eliminating problems.</span></span> <span data-ttu-id="4b3a1-265">Questo caso d'uso specifico riguarda la stima dei guasti dei dischi freno in base ai dati raccolti tramite i sensori installati nel sistema di pneumatici di un veicolo, che tiene traccia degli schemi di guida cronologici e di altre condizioni a cui è esposto il veicolo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-265">The specific use case here is brake disc failure prediction based on data collected through sensors installed in the tire system of a car which keeps track of historical driving patterns and other conditions that the car is exposed to.</span></span> <span data-ttu-id="4b3a1-266">L'origine dati più importante per questo caso è rappresentata dai dati del sensore che misura, ad esempio, le accelerazioni, gli schemi di frenata, le distanze di guida, la velocità e così via. Queste informazioni, abbinate alle altre informazioni statiche, come le caratteristiche del veicolo, consentono di compilare un set di predittori efficace che può essere usato in un modello predittivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-266">The most important data source for this case is the sensor data that measure, for instance, accelerations, braking patterns, driving distances, velocity, etc. This information, coupled with other static information such as car features, help build a good set of predictors that can be used in a predictive model.</span></span> <span data-ttu-id="4b3a1-267">Un altro set di informazioni essenziali sono i dati relativi ai guasti dedotti dal database degli ordini diparti, usato per tenere traccia delle date degli ordini di parti di ricambio e delle quantità mentre i veicoli vengono revisionati presso i concessionari.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-267">Another set of essential information is the failure data which is inferred from the part order database (used to keep the spare part order dates and quantities as cars are being serviced in the dealerships).</span></span>

##### <a name="business-value-of-the-predictive-model"></a><span data-ttu-id="4b3a1-268">*Valore del modello predittivo per l'azienda*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-268">*Business value of the predictive model*</span></span>
<span data-ttu-id="4b3a1-269">In questo caso, il valore aziendale di un approccio predittivo è sostanziale.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-269">The business value of a predictive approach here is substantial.</span></span> <span data-ttu-id="4b3a1-270">Un sistema di manutenzione predittiva può pianificare una visita al concessionario in base a un modello predittivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-270">A predictive maintenance system can schedule a visit to the dealer based on a predictive model.</span></span> <span data-ttu-id="4b3a1-271">Il modello può basarsi sulle informazioni dei sensori che rappresentano la condizione attuale del veicolo e la cronologia di guida.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-271">The model can be based on sensory information that is representing the current condition of the car and the driving history.</span></span> <span data-ttu-id="4b3a1-272">Questo approccio può ridurre il rischio di guasti imprevisti che possono verificarsi prima della manutenzione periodica successiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-272">This approach can minimize the risk of unexpected failures, which may as well occur before the next periodic maintenance.</span></span>
<span data-ttu-id="4b3a1-273">Può anche ridurre la quantità di inutili attività di manutenzione preventiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-273">It can also reduce the amount of unnecessary preventive maintenance.</span></span> <span data-ttu-id="4b3a1-274">L'autista può essere informato proattivamente che entro qualche settimana potrebbe essere necessaria una sostituzione di parti, fornendo queste informazioni al concessionario.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-274">Driver can proactively be informed that a change of parts might be necessary in a few weeks and supply the dealer with that information.</span></span> <span data-ttu-id="4b3a1-275">Il concessionario può quindi preparare anticipatamente un pacchetto di manutenzione individuale per l'autista.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-275">The dealer could then prepare an individual maintenance package for the driver in advance.</span></span>

#### <a name="use-case-2-subway-train-door-failures"></a><span data-ttu-id="4b3a1-276">Caso d'uso 2: Guasti delle porte dei treni della metropolitana</span><span class="sxs-lookup"><span data-stu-id="4b3a1-276">Use Case 2: Subway train door failures</span></span>
##### <a name="business-problem-and-data-sources"></a><span data-ttu-id="4b3a1-277">*Problema aziendale e origini dati*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-277">*Business problem and data sources*</span></span>
<span data-ttu-id="4b3a1-278">Uno dei motivi principali dei ritardi e dei problemi delle operazioni di una metropolitana sono i guasti delle porte delle carrozze.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-278">One of the major reasons of delays and problems on subway operations is door failures of train cars.</span></span> <span data-ttu-id="4b3a1-279">La possibilità di stimare che le porte di una carrozza potrebbero avere un guasto oppure di prevedere tra quanti giorni si verificherà il prossimo guasto alle porte costituisce un'informazione preventiva estremamente importante.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-279">Predicting if a train car may have a door failure, or being able to forecast the number of days till the next door failure, is extremely important foresight.</span></span> <span data-ttu-id="4b3a1-280">Offre la possibilità di ottimizzare gli interventi di assistenza alle porte del treno e ridurne il tempo di inattività.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-280">It provides the opportunity to optimize train door servicing and reduce the train's down time.</span></span>

#### <a name="data-sources"></a><span data-ttu-id="4b3a1-281">Origini dati</span><span class="sxs-lookup"><span data-stu-id="4b3a1-281">Data sources</span></span>
<span data-ttu-id="4b3a1-282">Le tre origini dei dati in questo caso d'uso sono</span><span class="sxs-lookup"><span data-stu-id="4b3a1-282">Three sources of data in this use-case are</span></span> 

* <span data-ttu-id="4b3a1-283">**Dati degli eventi dei treni**, ovvero i record cronologici degli eventi dei treni</span><span class="sxs-lookup"><span data-stu-id="4b3a1-283">**train event data**, which is the historical records of train events,</span></span> 
* <span data-ttu-id="4b3a1-284">**Dati di manutenzione** , ad esempio tipi di manutenzione, tipi di ordini di lavoro e codici di priorità</span><span class="sxs-lookup"><span data-stu-id="4b3a1-284">**maintenance data** such as maintenance types, work order types, and priority codes,</span></span>  
* <span data-ttu-id="4b3a1-285">**Record dei guasti**</span><span class="sxs-lookup"><span data-stu-id="4b3a1-285">**records of failures**.</span></span>

##### <a name="business-value-of-the-predictive-model"></a><span data-ttu-id="4b3a1-286">*Valore del modello predittivo per l'azienda*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-286">*Business value of the predictive model*</span></span>
<span data-ttu-id="4b3a1-287">Sono stati compilati due modelli per stimare la probabilità di guasti del giorno successivo usando la classificazione binaria e i giorni prima del prossimo guasto usando la regressione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-287">Two models were built to predict next day failure probability using binary classification and days till failure using regression.</span></span> <span data-ttu-id="4b3a1-288">In modo analogo ai casi precedenti, i modelli creano una straordinaria opportunità di miglioramento della qualità del servizio (QoS) e della soddisfazione dei clienti a complemento dei normali regimi di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-288">Similar to the earlier cases, the models create tremendous opportunity to improve quality of service and increase customer satisfaction by complementing the regular maintenance regimes.</span></span>

## <a name="data-preparation"></a><span data-ttu-id="4b3a1-289">Preparazione dei dati</span><span class="sxs-lookup"><span data-stu-id="4b3a1-289">Data preparation</span></span>
### <a name="data-sources"></a><span data-ttu-id="4b3a1-290">Origini dati</span><span class="sxs-lookup"><span data-stu-id="4b3a1-290">Data sources</span></span>
<span data-ttu-id="4b3a1-291">Gli elementi di dati comuni per i problemi di manutenzione predittiva possono essere riepilogati come segue:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-291">The common data elements for predictive maintenance problems can be summarized as follows:</span></span>

* <span data-ttu-id="4b3a1-292">Cronologia dei guasti, ovvero la cronologia dei guasti in una macchina o in un componente della macchina.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-292">Failure history: The failure history of a machine or component within the machine.</span></span>
* <span data-ttu-id="4b3a1-293">Cronologia di manutenzione, ovvero la cronologia delle riparazioni di una macchina, ad esempio codici errore, attività di manutenzione precedenti o sostituzione di componenti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-293">Maintenance history: The repair history of a machine, e.g. error codes, previous maintenance activities or component replacements.</span></span>
* <span data-ttu-id="4b3a1-294">Condizioni e utilizzo della macchina, ovvero le condizioni operative di una macchina, ad esempio i dati raccolti dai sensori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-294">Machine conditions and usage: The operating conditions of a machine e.g. data collected from sensors.</span></span>
* <span data-ttu-id="4b3a1-295">Caratteristiche della macchina, ad esempio cilindrata, marca e modello, posizione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-295">Machine features: The features of a machine, e.g. engine size, make and model, location.</span></span>
* <span data-ttu-id="4b3a1-296">Caratteristiche dell'operatore, ad esempio sesso, esperienze precedenti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-296">Operator features: The features of the operator, e.g. gender, past experience.</span></span>

<span data-ttu-id="4b3a1-297">È possibile, ed è di solito così, che la cronologia dei guasti sia inclusa nella cronologia di manutenzione, ad esempio sotto forma di codici di errore speciali o date degli ordini delle parti di ricambio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-297">It is possible and usually the case that failure history is contained in maintenance history such as in the form of special error codes or order dates for spare parts.</span></span> <span data-ttu-id="4b3a1-298">In alcuni casi, i guasti possono essere estratti dai dati di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-298">In those cases, failures can be extracted from the maintenance data.</span></span> <span data-ttu-id="4b3a1-299">Settori aziendali diversi possono anche avere molte altre origini dati che influenzano gli schemi relativi ai guasti e che qui non sono illustrati in modo esauriente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-299">Additionally, different business domains may have a variety of other data sources that influence failure patterns which are not listed here exhaustively.</span></span> <span data-ttu-id="4b3a1-300">Questi dovranno essere identificati consultando gli esperti del settore al momento della compilazione dei modelli predittivi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-300">These should be identified by consulting the domain experts when building predictive models.</span></span>

<span data-ttu-id="4b3a1-301">Ecco alcuni esempi di elementi dati dai casi d'uso precedenti:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-301">Some examples of above data elements from use cases are:</span></span>

<span data-ttu-id="4b3a1-302">Cronologia dei guasti: date di ritardo dei voli, date e tipi di guasti dei componenti dell'aereo, errori delle transazioni di prelievo di contanti dagli sportelli bancomat, guasti delle porte di treni/ascensori, date degli ordini di sostituzione dei dischi dei freni, dati dei guasti delle turbine eoliche ed errori dei comandi degli interruttori automatici.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-302">Failure history: fight delay dates, aircraft component failure dates and types, ATM cash withdrawal transaction failures, train/elevator door failures, brake disk replacement order dates, wind turbine failure dates and circuit breaker command failures.</span></span>

<span data-ttu-id="4b3a1-303">Cronologia di manutenzione: registri degli errori dei voli, registri degli errori delle transazioni degli sportelli bancomat, record di manutenzione dei treni inclusi tipo di manutenzione, breve descrizione e così via e record di manutenzione degli interruttori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-303">Maintenance history: Flight error logs, ATM transaction error logs, train maintenance records including maintenance type, short description etc. and circuit breaker maintenance records.</span></span>

<span data-ttu-id="4b3a1-304">Condizioni e utilizzo delle macchine: orari e rotte dei voli, dati dei sensori raccolti dai motori dell'aereo, letture dei sensori dalle transazioni bancomat, dati di eventi dei treni, letture di sensori di turbine eoliche, ascensori e veicoli connessi,</span><span class="sxs-lookup"><span data-stu-id="4b3a1-304">Machine conditions and usage: Flight routes and times, sensor data collected from aircraft engines, sensor readings from ATM transactions, train events data, sensor readings from wind turbines, elevators and connected cars.</span></span>

<span data-ttu-id="4b3a1-305">Caratteristiche della macchina: specifiche tecniche dell'interruttore come livelli di tensione, georilevazione o caratteristiche del veicolo, come marca, modello, cilindrata, tipo di pneumatici, impianto di produzione e così via.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-305">Machine features: Circuit breaker technical specifications such as voltage levels, geolocation or car features such as make, model, engine size, tire types, production facility etc.</span></span>

<span data-ttu-id="4b3a1-306">Considerate le origini dati precedenti, i due tipi di dati principali osservati nel dominio di manutenzione predittiva sono dati temporali e dati statici.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-306">Given the above data sources, the two main data types we observe in predictive maintenance domain are temporal data and static data.</span></span>
<span data-ttu-id="4b3a1-307">Cronologia dei guasti, condizioni della macchina, cronologia delle riparazioni, cronologia dell'utilizzo sono quasi sempre accompagnati da timestamp che indicano l'ora della raccolta di ogni singolo dato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-307">Failure history, machine conditions, repair history, usage history almost always come with time-stamps indicating the time of collection for each piece of data.</span></span> <span data-ttu-id="4b3a1-308">Le caratteristiche della macchina e dell'operatore sono in genere statiche, perché di solito descrivono le specifiche tecniche delle macchine o le proprietà dell'operatore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-308">Machine features and operator features in general are static since they usually describe the technical specifications of machines or operator’s properties.</span></span> <span data-ttu-id="4b3a1-309">Queste caratteristiche possono cambiare con il tempo e, in questo caso, dovranno essere gestite come origini dati con timestamp.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-309">It is possible for these features to change over time and if so they should be treated as time stamped data sources.</span></span>

### <a name="merging-data-sources"></a><span data-ttu-id="4b3a1-310">Unione di origini dati</span><span class="sxs-lookup"><span data-stu-id="4b3a1-310">Merging data sources</span></span>
<span data-ttu-id="4b3a1-311">Prima di addentrarsi in qualunque tipo di progettazione di funzioni o di processo di aggiunta di etichette, è necessario preparare i dati nel formato richiesto per crearne le funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-311">Before getting into any type of feature engineering or labeling process, we need to first prepare our data in the form required to create features from.</span></span> <span data-ttu-id="4b3a1-312">Lo scopo finale consiste nel generare un record per ogni unità di tempo di ogni asset con le relative funzioni ed etichette da inserire nell'algoritmo di Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-312">The ultimate goal is to generate a record for each time unit for each asset with its features and labels to be fed into the machine learning algorithm.</span></span> <span data-ttu-id="4b3a1-313">Per preparare il set di dati finale corretto, è necessario eseguire alcuni passaggi di pre-elaborazione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-313">In order to prepare that clean final data set, some pre-processing steps should be taken.</span></span> <span data-ttu-id="4b3a1-314">Il primo consiste nel dividere la durata della raccolta di dati in unità di tempo in cui ogni record a un'unità di tempo per un asset.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-314">First step is to divide the duration of data collection into time units where each record belongs to a time unit for an asset.</span></span> <span data-ttu-id="4b3a1-315">La raccolta di dati può anche essere divisa in altre unità, ad esempio azioni, tuttavia per semplicità nel resto delle descrizioni si usano le unità di tempo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-315">Data collection can also be divided into other units such as actions, however for simplicity we use time units for the rest of the explanations.</span></span>

<span data-ttu-id="4b3a1-316">L'unità di misura di tempo può essere in secondi, minuti, ore, giorni, mesi, cicli, chilometri o transazioni a seconda dell'efficienza di preparazione dei dati e delle modifiche osservate nelle condizioni dell'asset da un'unità di tempo all'altra o di altri fattori specifici del dominio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-316">The measurement unit for time can be in seconds, minutes, hours, days, months, cycles, miles or transactions depending on the efficiency of data preparation and the changes observed in the conditions of the asset from a time unit to the other or other factors specific to the domain.</span></span> <span data-ttu-id="4b3a1-317">In altre parole, l'unità di tempo non deve essere la stessa della frequenza di raccolta di dati, perché in molti casi i dati potrebbero non mostrare alcuna differenza da un'unità all'altra.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-317">In other words, the time unit does not have to be the same as the frequency of data collection as in many cases data may not show any difference from one unit to the other.</span></span> <span data-ttu-id="4b3a1-318">Ad esempio, se i valori di temperatura vengono raccolti ogni 10 secondi, la selezione di un'unità di tempo di 10 secondi per l'intera analisi aumenta il numero di esempi, senza fornire informazioni aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-318">For example, if temperature values were being collected every 10 seconds, picking a time unit of 10 seconds for the whole analysis inflates the number of examples without providing any additional information.</span></span> <span data-ttu-id="4b3a1-319">La strategia migliore consiste nell'usare, ad esempio, una media in un'ora.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-319">Better strategy would be to use average over an hour as an example.</span></span>

<span data-ttu-id="4b3a1-320">Ecco gli schemi di dati generici si esempio per le possibili origini dati illustrati nelle sezioni precedenti:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-320">Example generic data schemas for the possible data sources explained in the earlier section are:</span></span>

<span data-ttu-id="4b3a1-321">Record di manutenzione: sono i record delle azioni di manutenzione eseguite.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-321">Maintenance records: These are the records of maintenance actions performed.</span></span> <span data-ttu-id="4b3a1-322">I dati di manutenzione non elaborati sono di solito associati a un ID asset e a un timestamp con informazioni sulle attività di manutenzione eseguite a quell'ora.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-322">The raw maintenance data usually comes with an Asset ID and time stamp with information about what maintenance activities have been performed at that time.</span></span> <span data-ttu-id="4b3a1-323">Nel caso di dati non elaborati, le attività di manutenzione devono essere trasformate in colonne di categoria, dove ogni categoria corrisponde a un tipo di azione di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-323">In case of such raw data, maintenance activities need to be translated into categorical columns with each category corresponding to a maintenance action type.</span></span> <span data-ttu-id="4b3a1-324">Lo schema dei dati di base per i record di manutenzione includerà le colonne per ID asset, ora e azioni di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-324">The basic data schema for maintenance records would include asset ID, time and maintenance action columns.</span></span>

<span data-ttu-id="4b3a1-325">Record dei guasti: sono record che appartengono all'obiettivo della stima, cioè guasti o motivo del guasto.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-325">Failure records: These are the records that belong to the target of prediction which we call failures or failure reason.</span></span> <span data-ttu-id="4b3a1-326">Possono essere codici errore specifici o eventi di errore definiti da condizioni aziendali specifiche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-326">These can be specific error codes or events of failures defined by specific business condition.</span></span> <span data-ttu-id="4b3a1-327">In alcuni casi i dati includono codici errore multipli, alcuni dei quali corrispondono ai guasti di interesse.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-327">In some cases, data includes multiple error codes some of which correspond to failures of interest.</span></span> <span data-ttu-id="4b3a1-328">Non tutti i guasti sono l'obiettivo di una stima, quindi per costruire le funzioni che possano essere correlate ai guasti vengono in genere usati altri guasti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-328">Not all errors are target of prediction so other errors are usually used to construct features that may correlate with failures.</span></span> <span data-ttu-id="4b3a1-329">Lo schema dei dati di base per i record di guasti includerà le colonne per ID asset, ora e guasto o motivo del guasto, se è disponibile un motivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-329">The basic data schema for failure records would include asset ID, time and failure or failure reason columns if reason is available.</span></span>

<span data-ttu-id="4b3a1-330">Condizioni delle macchine: sono preferibilmente dati di monitoraggio in tempo reale relativi alle condizioni operative dei dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-330">Machine conditions: These are preferably real-time monitoring data about the operating conditions of the data.</span></span> <span data-ttu-id="4b3a1-331">Ad esempio, i gusti delle porte, i tempi di chiusura e apertura delle porte sono ottimi indicatori della condizione attuale.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-331">For example, for door failures, door opening and closing times are good indicators about the current condition of doors.</span></span> <span data-ttu-id="4b3a1-332">Lo schema dei dati di base per le condizioni delle macchine includerà colonne per ID asset, ora e valore della condizione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-332">The basic data schema for machine conditions would include asset ID, time and condition value columns.</span></span>

<span data-ttu-id="4b3a1-333">Dati delle macchine e dell'operatore: questi dati possono essere uniti in uno schema per identificare gli asset gestiti da un dato operatore insieme alle proprietà degli asset e dell'operatore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-333">Machine and operator data: Machine and operator data can be merged into one schema to identify which asset was operated by which operator along with asset and operator properties.</span></span> <span data-ttu-id="4b3a1-334">Ad esempio, un veicolo è solitamente assegnato a un autista con attributi quali età, esperienza di guida e così via. Se questi dati cambiano con il tempo, dovrà essere inclusa anche una colonna per data e ora ed essere gestiti come dati variabili nel tempo per la generazione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-334">For example, a car is usually owned by a driver with attributes such as age, driving experience etc. If this data changes over time, this data should also include a time column and should be treated as time varying data for feature generation.</span></span> <span data-ttu-id="4b3a1-335">Lo schema dei dati di base per le condizioni delle macchine dovrà includere funzioni per ID asset, caratteristiche degli asset, ID operatore e caratteristiche dell'operatore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-335">The basic data schema for machine conditions would include asset ID, asset features, operator ID and operator features.</span></span>

<span data-ttu-id="4b3a1-336">La tabella finale prima dell'assegnazione di etichette e la generazione di funzioni può essere creata con un join a sinistra della tabella delle condizioni delle macchine ai record relativi ai guasti nei campi ID asset e ora.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-336">The final table before labeling and feature generation can be generated by left joining machine conditions table with failure records on Asset ID and time fields.</span></span> <span data-ttu-id="4b3a1-337">La tabella può anche essere unita in join ai record di manutenzione nei campi ID asset e ora e infine con le funzioni relative a macchine e operatore in ID asset.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-337">This table can then be joined with maintenance records on Asset ID and Time fields and finally with machine and operator features on Asset ID.</span></span> <span data-ttu-id="4b3a1-338">Il primo join a sinistra lascia valori Null per la colonna dei guasti durante il normale funzionamento della macchina, che possono essere attribuiti con un valore indicatore per il funzionamento normale.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-338">The first left join leaves null values for failure column when machine is in normal operation, these can be imputed by an indicator value for normal operation.</span></span> <span data-ttu-id="4b3a1-339">Questa colonna dei guasti viene usata per creare etichette per il modello predittivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-339">This failure column is used to create labels for the predictive model.</span></span>

### <a name="feature-engineering"></a><span data-ttu-id="4b3a1-340">Progettazione delle funzioni</span><span class="sxs-lookup"><span data-stu-id="4b3a1-340">Feature engineering</span></span>
<span data-ttu-id="4b3a1-341">Il primo passaggio della modellazione è la progettazione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-341">The first step in modeling is feature engineering.</span></span> <span data-ttu-id="4b3a1-342">L'idea di generazione delle funzioni consiste concettualmente nel descrivere e astrarre la condizione di integrità di una macchina in un dato momento usando dati cronologici raccolti fino a quel momento.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-342">The idea of feature generation is to conceptually describe and abstract a machine’s health condition at a given time using historical data that was collected up to that point in time.</span></span> <span data-ttu-id="4b3a1-343">La sezione successiva fornirà una panoramica del tipo di tecniche che è possibile usare per la manutenzione predittiva e viene eseguita l'assegnazione di etichette per ogni tecnica.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-343">In the next section, we provide an overview of the type of techniques that can be used for predictive maintenance and how the labeling is done for each technique.</span></span> <span data-ttu-id="4b3a1-344">L'esatta tecnica da usare dipende dai dati e dal problema aziendale.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-344">The exact technique that should be used depends on the data and business problem.</span></span> <span data-ttu-id="4b3a1-345">I metodi di progettazione delle funzioni descritti di seguito possono tuttavia essere usati come linea di base per la creazione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-345">However, the feature engineering methods described below can be used as baseline for creating features.</span></span> <span data-ttu-id="4b3a1-346">Di seguito verranno descritte le funzioni di ritardo (lag) che dovranno essere create dalle origini dati che includono timestamp e anche funzioni statiche create da origini dati statiche che forniscono esempi dai casi d'uso illustrati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-346">Below, we discuss lag features that should be constructed from data sources that come with time-stamps and also static features created from static data sources and provide examples from the use cases.</span></span>

#### <a name="lag-features"></a><span data-ttu-id="4b3a1-347">Funzioni di ritardo</span><span class="sxs-lookup"><span data-stu-id="4b3a1-347">Lag features</span></span>
<span data-ttu-id="4b3a1-348">Come già accennato, nella manutenzione preventiva i dati cronologici includono in genere timestamp che indicano l'ora della raccolta di ogni singolo dato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-348">As mentioned earlier, in predictive maintenance, historical data usually comes with timestamps indicating the time of collection for each piece of data.</span></span> <span data-ttu-id="4b3a1-349">Esistono molti modi per creare funzioni dai dati contenenti dati con timestamp.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-349">There are many ways of creating features from the data that comes with timestamped data.</span></span> <span data-ttu-id="4b3a1-350">Questa sezione descrive alcuni di questi metodi usati per la manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-350">In this section, we discuss some of these methods used for predictive maintenance.</span></span> <span data-ttu-id="4b3a1-351">Non si è tuttavia limitati solo a questi metodi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-351">However, we are not limited by these methods alone.</span></span> <span data-ttu-id="4b3a1-352">Poiché la progettazione di funzioni è considerata una della aree più creative della modellazione predittiva, possono esservi molti altri modi per creare funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-352">Since feature engineering is considered to be one of the most creative areas of predictive modeling, there could be many other ways to create features.</span></span> <span data-ttu-id="4b3a1-353">Qui vengono fornite solo tecniche generali.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-353">Here, we provide some general techniques.</span></span>

##### <a name="rolling-aggregates"></a><span data-ttu-id="4b3a1-354">*Aggregazioni in sequenza*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-354">*Rolling aggregates*</span></span>
<span data-ttu-id="4b3a1-355">Per ogni record di un asset viene selezionata una finestra con dimensione "W" che corrisponde al numero di unità di tempo per cui si vogliono calcolare le aggregazioni cronologiche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-355">For each record of an asset, we pick a rolling window of size "W" which is the number of units of time that we would like to compute historical aggregates for.</span></span> <span data-ttu-id="4b3a1-356">Vengono quindi calcolate le funzioni di aggregazione in sequenza usando i periodi W prima della data di quel record.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-356">We then compute rolling aggregate features using the W periods before the date of that record.</span></span> <span data-ttu-id="4b3a1-357">Esempi di aggregazioni in sequenza possono essere conteggi incrementali, medie, deviazioni standard, outlier basati su deviazioni standard, misure della somma cumulativa (CUSUM), valori minimi e massimi della finestra.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-357">Some example rolling aggregates can be rolling counts, means, standard deviations, outliers based on standard deviations, CUSUM measures, minimum and maximum values for the window.</span></span> <span data-ttu-id="4b3a1-358">Un'altra tecnica interessante consiste nell'acquisire modifiche della tendenza, picchi e modifiche dei livelli usando algoritmi che rilevano le anomalie nei dati mediante algoritmi di rilevamento anomalie.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-358">Another interesting technique is to capture trend changes, spikes and level changes using algorithms that detect anomalies in data using anomaly detection algorithms.</span></span>

<span data-ttu-id="4b3a1-359">Per una dimostrazione, vedere la figura 1 dove sono rappresentati i valori di un sensore registrati per un asset per ogni unità di tempo con la linea blu e dove viene contrassegnato il calcolo della funzione media mobile per W=3 per i record in t<sub>1</sub> e t<sub>2</sub>, indicati rispettivamente dai raggruppamenti arancione e verde.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-359">For demonstration, see Figure 1 where we represent sensor values recorded for an asset for each unit of time with the blue lines and mark the rolling average feature calculation for W=3 for the records at t<sub>1</sub> and t<sub>2</sub> which are indicated by orange and green groupings respectively.</span></span>

![Figura 1.](media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)

<span data-ttu-id="4b3a1-362">Figura 1.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-362">Figure 1.</span></span> <span data-ttu-id="4b3a1-363">Funzioni di aggregazione in sequenza</span><span class="sxs-lookup"><span data-stu-id="4b3a1-363">Rolling aggregate features</span></span>

<span data-ttu-id="4b3a1-364">Come esempi, per i guasti dei componenti di aerei sono stati usati i valori dei sensori dell'ultima settimana, degli ultimi tre giorni e dell'ultimo giorno per creare medie mobili, deviazioni standard e funzioni somma.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-364">As examples, for aircraft component failure, sensor values from last week, last three days and last day were used to create rolling means, standard deviation and sum features.</span></span> <span data-ttu-id="4b3a1-365">In modo analogo, per i guasti degli sportelli bancomat sono stati usati valori dei sensori non elaborati e medie mobili, valori mediani, intervallo, deviazioni standard, numero di outlier oltre tre deviazioni standard, funzioni CUSUM superiore e inferiore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-365">Similarly, for ATM failures, both raw sensor values and rolling means, median, range, standard deviations, number of outliers beyond three standard deviations, upper and lower CUMSUM features were used.</span></span>

<span data-ttu-id="4b3a1-366">Per la stima dei ritardi dei voli sono stati usati i conteggi dei codici errore dell'ultima settimana per creare le funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-366">For flight delay prediction, counts of error codes from last week were used to create features.</span></span> <span data-ttu-id="4b3a1-367">Per i guasti delle porte dei treni sono stati usati i conteggi degli eventi dell'ultimo giorno, i conteggi degli eventi delle 2 settimane precedenti e la varianza dei conteggi degli eventi dei 15 giorni precedenti per creare le funzioni di ritardo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-367">For train door failures, counts of the events on the last day, counts of events over the previous 2 weeks and variance of counts of events of the previous 15 days were used to create lag features.</span></span> <span data-ttu-id="4b3a1-368">Lo stesso conteggio è stato eseguito per gli eventi relativi alla manutenzione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-368">Same counting was used for maintenance-related events.</span></span>

<span data-ttu-id="4b3a1-369">Anche scegliendo una W molto grande (ad es.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-369">Additionally, by picking a W that is very large (ex.</span></span> <span data-ttu-id="4b3a1-370">anni), è possibile esaminare la cronologia intera di un asset, come il conteggio di tutti i record di manutenzione, degli errori e così via,</span><span class="sxs-lookup"><span data-stu-id="4b3a1-370">years), it is possible to look at the whole history of an asset such as counting all maintenance records, failures etc.</span></span> <span data-ttu-id="4b3a1-371">fino all'ora del record.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-371">up until the time of the record.</span></span> <span data-ttu-id="4b3a1-372">Questo metodo è stato usato per contare gli errori degli interruttori negli ultimi tre anni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-372">This method was used for counting circuit breaker failures for the last three years.</span></span> <span data-ttu-id="4b3a1-373">Anche per i guasti dei treni sono stati contati tutti gli eventi di manutenzione per creare una funzione che acquisisse gli effetti della manutenzione a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-373">Also for train failures, all maintenance events were counted to create a feature to capture the long-term maintenance effects.</span></span>

##### <a name="tumbling-aggregates"></a><span data-ttu-id="4b3a1-374">*Aggregazioni a cascata*</span><span class="sxs-lookup"><span data-stu-id="4b3a1-374">*Tumbling aggregates*</span></span>
<span data-ttu-id="4b3a1-375">Per ogni record con etichetta di un asset, si seleziona una finestra per la dimensione "W-<sub>k</sub>", dove "k" è il valore o la finestra della dimensione "W" per cui si desidera creare le funzioni di ritardo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-375">For each labeled record of an asset, we pick a window of size "W-<sub>k</sub>" where k is the number or windows of size "W" that we want to create lag features for.</span></span> <span data-ttu-id="4b3a1-376">Si può selezionare "k" come numero elevato per acquisire schemi di degradazione a lungo termine o un numero ridotto per acquisire gli effetti a breve termine.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-376">"k" can be picked as a large number to capture long-term degradation patterns or a small number to capture short-term effects.</span></span> <span data-ttu-id="4b3a1-377">Si usano quindi finestre a cascata k W-<sub>k</sub> , W-<sub>(k-1)</sub>, …, W-<sub>2</sub> , W-<sub>1</sub> per creare funzioni di aggregazione per i periodi precedenti la data e l'ora del record (vedere la figura 2).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-377">We then use k tumbling windows W-<sub>k</sub> , W-<sub>(k-1)</sub>, …, W-<sub>2</sub> , W-<sub>1</sub> to create aggregate features for the periods before the record date and time (see Figure 2).</span></span> <span data-ttu-id="4b3a1-378">Queste sono anche finestre in sequenza a livello di record per un'unità di tempo che non viene acquisita nella figura 2, ma l'idea è la stessa illustrata nella figura 1 dove t<sub>2</sub> viene usato anche per dimostrare l'effetto della sequenza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-378">These are also rolling windows at the record level for a time unit which is not captured in Figure 2 but the idea is the same as in Figure 1 where t<sub>2</sub> is also used to demonstrate the rolling effect.</span></span>

![Figura 2.](media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)

<span data-ttu-id="4b3a1-381">Figura 2.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-381">Figure 2.</span></span> <span data-ttu-id="4b3a1-382">Funzioni di aggregazione a cascata</span><span class="sxs-lookup"><span data-stu-id="4b3a1-382">Tumbling aggregate features</span></span>

<span data-ttu-id="4b3a1-383">Come esempio, per le turbine eoliche sono stati usati W=1 e k=3 mesi per creare le funzioni di ritardo per ognuno degli ultimi 3 mesi usando gli outlier superiore e inferiore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-383">As an example, for wind turbines, W=1 and k=3 months were used to create lag features for each of the last 3 months using top and bottom outliers.</span></span>

#### <a name="static-features"></a><span data-ttu-id="4b3a1-384">Funzioni statiche</span><span class="sxs-lookup"><span data-stu-id="4b3a1-384">Static features</span></span>
<span data-ttu-id="4b3a1-385">Per le apparecchiature sono disponibili specifiche tecniche come la data di fabbricazione, il numero di modello, la posizione e così via. Mentre le funzioni di ritardo sono prevalentemente di natura numerica, le funzioni statiche diventano solitamente variabili categoriche nei modelli.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-385">These are technical specifications of the equipment such as manufacture date, model number, location, etc. While lag features are mostly numeric in nature, static features usually become categorical variables in the models.</span></span> <span data-ttu-id="4b3a1-386">Come esempio, sono state usate le proprietà degli interruttori come le specifiche per tensione, corrente e potenza, oltre ai tipi di trasformatore, le fonti di alimentazione e così via.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-386">As an example, circuit breaker properties such as voltage, current and power specifications along with transformer types, power sources etc. were used.</span></span> <span data-ttu-id="4b3a1-387">Per i guasti dei dischi freni, è stato usato il tipo di cerchione, ad esempio in lega o acciaio, per alcune delle funzioni statistiche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-387">For brake disc failures, the type of tire wheels such as if they are alloy or steel were used as some of the static features.</span></span>

<span data-ttu-id="4b3a1-388">Durante la generazione della funzione è necessario eseguire altri passaggi importanti, come la gestione dei valori mancanti e la normalizzazione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-388">During feature generation, some other important steps such as handling missing values and normalization should be performed.</span></span> <span data-ttu-id="4b3a1-389">Esistono numerosi metodi di attribuzione dei valori mancanti e anche per la normalizzazione dei dati, che non vengono illustrati in questo documento.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-389">There are numerous methods of missing value imputation and also data normalization which is not discussed here.</span></span> <span data-ttu-id="4b3a1-390">È comunque opportuno provare metodi diversi per vedere se è possibile ottenere un miglioramento delle prestazioni della stima.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-390">However, it is beneficial to try different methods to see if an increase in prediction performance is possible.</span></span>

<span data-ttu-id="4b3a1-391">La tabella delle funzioni finale, dopo i passaggi di progettazione delle funzioni illustrati nella sezione precedente, dovrebbe essere simile allo schema di dati di esempio seguente quando l'unità di tempo è un giorno:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-391">The final feature table after feature engineering steps discussed in the earlier section should resemble the following example data schema when time unit is a day:</span></span>

| <span data-ttu-id="4b3a1-392">ID asset</span><span class="sxs-lookup"><span data-stu-id="4b3a1-392">Asset ID</span></span> | <span data-ttu-id="4b3a1-393">Time</span><span class="sxs-lookup"><span data-stu-id="4b3a1-393">Time</span></span> | <span data-ttu-id="4b3a1-394">Colonne delle funzioni</span><span class="sxs-lookup"><span data-stu-id="4b3a1-394">Feature Columns</span></span> | <span data-ttu-id="4b3a1-395">Etichetta</span><span class="sxs-lookup"><span data-stu-id="4b3a1-395">Label</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="4b3a1-396">1</span><span class="sxs-lookup"><span data-stu-id="4b3a1-396">1</span></span> |<span data-ttu-id="4b3a1-397">Giorno 1</span><span class="sxs-lookup"><span data-stu-id="4b3a1-397">Day 1</span></span> | | |
| <span data-ttu-id="4b3a1-398">1</span><span class="sxs-lookup"><span data-stu-id="4b3a1-398">1</span></span> |<span data-ttu-id="4b3a1-399">Giorno 2</span><span class="sxs-lookup"><span data-stu-id="4b3a1-399">Day 2</span></span> | | |
| <span data-ttu-id="4b3a1-400">...</span><span class="sxs-lookup"><span data-stu-id="4b3a1-400">...</span></span> |<span data-ttu-id="4b3a1-401">...</span><span class="sxs-lookup"><span data-stu-id="4b3a1-401">...</span></span> | | |
| <span data-ttu-id="4b3a1-402">2</span><span class="sxs-lookup"><span data-stu-id="4b3a1-402">2</span></span> |<span data-ttu-id="4b3a1-403">Giorno 1</span><span class="sxs-lookup"><span data-stu-id="4b3a1-403">Day 1</span></span> | | |
| <span data-ttu-id="4b3a1-404">2</span><span class="sxs-lookup"><span data-stu-id="4b3a1-404">2</span></span> |<span data-ttu-id="4b3a1-405">Giorno 2</span><span class="sxs-lookup"><span data-stu-id="4b3a1-405">Day 2</span></span> | | |
| <span data-ttu-id="4b3a1-406">...</span><span class="sxs-lookup"><span data-stu-id="4b3a1-406">...</span></span> |<span data-ttu-id="4b3a1-407">...</span><span class="sxs-lookup"><span data-stu-id="4b3a1-407">...</span></span> | | |

## <a name="modeling-techniques"></a><span data-ttu-id="4b3a1-408">Tecniche di modellazione</span><span class="sxs-lookup"><span data-stu-id="4b3a1-408">Modeling techniques</span></span>
<span data-ttu-id="4b3a1-409">La manutenzione predittiva è un ambito molto avanzato che spesso utilizza domande aziendali avvicinabili da molte angolazioni diverse dalla prospettiva della modellazione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-409">Predictive Maintenance is a very rich domain often employing business questions which may be approached from many different angles of the predictive modeling perspective.</span></span> <span data-ttu-id="4b3a1-410">Le sezioni successive illustrano le principali tecniche che è possibile usare per modellare domande aziendali diverse a cui è possibile rispondere con soluzioni di manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-410">In the next sections, we provide main techniques that are used to model different business questions that can be answered with predictive maintenance solutions.</span></span> <span data-ttu-id="4b3a1-411">Anche se ci sono similitudini, ogni modello ha un modo personalizzato di costruire etichette, che sono descritte in dettaglio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-411">Although there are similarities, each model has its own way of constructing labels which are described in detail.</span></span> <span data-ttu-id="4b3a1-412">Come risorsa associata, è possibile far riferimento al modello di manutenzione predittiva incluso negli esperimenti di esempio forniti con Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-412">As an accompanying resource, you can refer to the predictive maintenance template that is included in the sample experiments provided within Azure Machine Learning.</span></span> <span data-ttu-id="4b3a1-413">I collegamenti al materiale online per questo modello sono disponibili nella sezione delle risorse.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-413">The links to the online material for this template are provided in the resources section.</span></span> <span data-ttu-id="4b3a1-414">Si può vedere in che modo vengono applicate alcune tecniche di progettazione delle funzioni descritte in precedenza e la tecnica di modellazione che viene descritta nelle sezioni successive per stimare i guasti dei motori degli aerei usando Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-414">You can see how some of the feature engineering techniques discussed above and the modeling technique that is described in the next sections are applied to predict aircraft engine failures using Azure Machine Learning.</span></span>

### <a name="binary-classification-for-predictive-maintenance"></a><span data-ttu-id="4b3a1-415">Classificazione binaria per la manutenzione predittiva</span><span class="sxs-lookup"><span data-stu-id="4b3a1-415">Binary classification for predictive maintenance</span></span>
<span data-ttu-id="4b3a1-416">La classificazione binaria per la manutenzione predittiva viene usata per stimare la probabilità che l'apparecchiatura possa guastarsi in un periodo di tempo futuro.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-416">Binary Classification for predictive maintenance is used to predict the probability that equipment fails within a future time period.</span></span> <span data-ttu-id="4b3a1-417">Il periodo di tempo viene determinato e si basa sulle regole di business e sui dati disponibili.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-417">The time period is determined by and based on business rules and the data at hand.</span></span> <span data-ttu-id="4b3a1-418">Alcuni periodi di tempo comuni sono il tempo di anticipo minimo richiesto per l'acquisto delle parti di ricambio destinate a sostituire i componenti che potrebbero danneggiarsi oppure il tempo richiesto per distribuire le risorse di manutenzione per eseguire le routine di manutenzione necessarie per risolvere il problema che potrebbe verificarsi in quel periodo di tempo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-418">Some common time periods are minimum lead time required to purchase spare parts to replace likely to damage components or time required to deploy maintenance resources to perform maintenance routines to fix the problem that is likely to occur within that time period.</span></span> <span data-ttu-id="4b3a1-419">Questo periodo verrà chiamato orizzonte temporale futuro "X".</span><span class="sxs-lookup"><span data-stu-id="4b3a1-419">We call this future horizon period "X".</span></span>

<span data-ttu-id="4b3a1-420">Per usare la classificazione binaria, è necessario identificare due tipi di esempi, che saranno chiamati positivo e negativo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-420">In order to use binary classification, we need to identify two types of examples which we call positive and negative.</span></span> <span data-ttu-id="4b3a1-421">Ogni esempio è un record di un unità di tempo per un asset che descrive concettualmente ed astrae le condizioni operative fino all'unità di tempo tramite la progettazione delle funzioni usando origini dati cronologiche e altre descritte in precedenza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-421">Each example is a record that belongs to a time unit for an asset conceptually describing and abstracting its operating conditions up to that time unit through feature engineering using historical and other data sources described earlier.</span></span> <span data-ttu-id="4b3a1-422">Nel contesto della classificazione binaria per la manutenzione predittiva i tipi positivi denotano gli errori (etichetta 1) e quelli negativi le operazioni normali (etichetta = 0), dove le etichette sono di tipo categorico.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-422">In the context of binary classification for predictive maintenance, positive type denotes failures (label 1) and negative type denotes normal operations (label = 0) where labels are of type categorical.</span></span> <span data-ttu-id="4b3a1-423">Lo scopo è trovare un modello che identifichi la probabilità che ogni nuovo esempio possa avere esito negativo o funzionare normalmente entro le prossime X unità di tempo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-423">The goal is to find a model that identifies each new example as likely to fail or operate normally within the next X units of time.</span></span>

#### <a name="label-construction"></a><span data-ttu-id="4b3a1-424">Costruzione delle etichette</span><span class="sxs-lookup"><span data-stu-id="4b3a1-424">Label construction</span></span>
<span data-ttu-id="4b3a1-425">Per creare un modello predittivo che risponda alla domanda "qual è la probabilità che l'asset si guasti entro X unità di tempo", l'assegnazione di etichette viene eseguita scegliendo i record X prima dell'errore di un asset e assegnando l'etichetta "possibile guasto" (etichetta = 1), mentre l'etichetta per tutti gli altri record sarà "normale" (etichetta =0).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-425">In order to create a predictive model to answer the question "What is the probability that the asset fails in the next X units of time?", labeling is done by taking X records prior to the failure of an asset and labeling them as "about to fail" (label = 1) while labeling all other records as "normal" (label =0).</span></span> <span data-ttu-id="4b3a1-426">In questo metodo le etichette sono variabili categoriche, vedere la figura 3.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-426">In this method, labels are categorical variables (see Figure 3).</span></span>

![Figura 3.](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)

<span data-ttu-id="4b3a1-429">Figura 3.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-429">Figure 3.</span></span> <span data-ttu-id="4b3a1-430">Assegnazione di etichette per la classificazione binaria</span><span class="sxs-lookup"><span data-stu-id="4b3a1-430">Labeling for binary classification</span></span>

<span data-ttu-id="4b3a1-431">Per i ritardi e le cancellazioni dei voli viene selezionato X come un giorno per stimare i ritardi nelle prossime 24 ore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-431">For flight delays and cancellations, X is picked as one day to predict delays in the next 24 hours.</span></span> <span data-ttu-id="4b3a1-432">A tutti i voli entro 24 ore prima dei guasti viene assegnata l'etichetta 1.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-432">All flights that are within 24 hours before failures were labeled as 1s.</span></span> <span data-ttu-id="4b3a1-433">Per i guasti degli sportelli bancomat sono stati creati due modelli di classificazione binaria per stimare la probabilità di errori di una transazione nei prossimi 10 minuti e anche la probabilità di errore nelle prossime 100 banconote erogate.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-433">For ATM cash dispense failures, two binary classification models were built to predict the failure probability of a transaction in the next 10 minutes and also to predict the probability of failure in the next 100 notes dispensed.</span></span> <span data-ttu-id="4b3a1-434">A tutte le transazioni eseguite entro gli ultimi 10 minuti dal guasto viene assegnata l'etichetta 1 per il primo modello.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-434">All transactions that happened within the last 10 minutes of the failure are labeled as 1 for the first model.</span></span> <span data-ttu-id="4b3a1-435">A tutte le banconote erogate nelle ultime 100 banconote dal guasto viene assegnata l'etichetta 1 per il secondo modello.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-435">And all notes dispensed within the last 100 notes of a failure were labeled as 1 for the second model.</span></span> <span data-ttu-id="4b3a1-436">Per i guasti degli interruttori l'attività consiste nello stimare la probabilità che il successivo comando dell'interruttore non riesca, nel qual caso verrà scelto X come comando futuro.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-436">For circuit breaker failures, the task is to predict the probability that the next circuit breaker command fails in which case X is chosen to be one future command.</span></span> <span data-ttu-id="4b3a1-437">Per i guasti delle porte del treno è stato creato il modello di classificazione binaria per stimare i guasti entro i prossimi 7 giorni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-437">For train door failures, the binary classification model was built to predict failures within the next 7 days.</span></span> <span data-ttu-id="4b3a1-438">Per i guasti delle turbine eoliche è stato scelto X come 3 mesi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-438">For wind turbine failures, X was chosen as 3 months.</span></span>

<span data-ttu-id="4b3a1-439">I casi delle turbine eoliche e delle porte del treno vengono usati anche per l'analisi di regressione per stimare la vita utile rimanente, usando gli stessi dati con una strategia di assegnazione delle etichette diversa, illustrata nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-439">Wind turbine and train door cases are also used for regression analysis to predict remaining useful life using the same data but by utilizing a different labeling strategy which is explained in the next section.</span></span>

### <a name="regression-for-predictive-maintenance"></a><span data-ttu-id="4b3a1-440">Regressione per la manutenzione predittiva</span><span class="sxs-lookup"><span data-stu-id="4b3a1-440">Regression for predictive maintenance</span></span>
<span data-ttu-id="4b3a1-441">I modelli di regressione nella manutenzione predittiva vengono usati per calcolare la vita utile rimanente di un asset, definita come la quantità di tempo durante il quale l'asset rimane operativo prima che si verifichi il guasto successivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-441">Regression models in predictive maintenance are used to compute the remaining useful life (RUL) of an asset which is defined as the amount of time that the asset is operational before the next failure occurs.</span></span> <span data-ttu-id="4b3a1-442">Come nella classificazione binaria, ogni esempio è un record che appartiene all'unità di tempo "Y" per un asset.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-442">Same as binary classification, each example is a record that belongs to a time unit "Y" for an asset.</span></span> <span data-ttu-id="4b3a1-443">Nel contesto della regressione lo scopo è tuttavia quello di trovare un modello che calcoli la vita utile rimanente di ogni nuovo esempio come numero continuo, che corrisponde al periodo di tempo rimanente prima del guasto.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-443">However, in the context of regression, the goal is to find a model that calculates the remaining useful life of each new example as a continuous number which is the period of time remaining before the failure.</span></span> <span data-ttu-id="4b3a1-444">Questo periodo di tempo è definito come multiplo di Y. Ogni esempio ha anche una vita utile rimanente che può essere calcolata misurando la quantità di tempo rimanente per l'esempio stesso prima del guasto successivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-444">We call this time period some multiple of Y. Each example also has a remaining useful life which can be calculated by measuring the amount of time remaining for that example before the next failure.</span></span>

#### <a name="label-construction"></a><span data-ttu-id="4b3a1-445">Costruzione delle etichette</span><span class="sxs-lookup"><span data-stu-id="4b3a1-445">Label construction</span></span>
<span data-ttu-id="4b3a1-446">Data la domanda "qual è la vita utile rimanente dell'apparecchiatura?</span><span class="sxs-lookup"><span data-stu-id="4b3a1-446">Given the question "What is the remaining useful life of the equipment?</span></span>
<span data-ttu-id="4b3a1-447">", è possibile costruire le etichette scegliendo ogni record prima del guasto e assegnando l'etichetta tramite il calcolo del numero di unità di tempo rimanenti prima del guasto successivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-447">", labels for the regression model can be constructed by taking each record prior to the failure and labeling them by calculating how many units of time remain before the next failure.</span></span> <span data-ttu-id="4b3a1-448">In questo metodo le etichette sono variabili continue, vedere la figura 4.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-448">In this method, labels are continuous variables (See Figure 4).</span></span>

![Figura 4.](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)

<span data-ttu-id="4b3a1-451">Figura 4.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-451">Figure 4.</span></span> <span data-ttu-id="4b3a1-452">Assegnazione di etichette per la regressione</span><span class="sxs-lookup"><span data-stu-id="4b3a1-452">Labeling for regression</span></span>

<span data-ttu-id="4b3a1-453">A differenza della classificazione binaria, per la regressione non si possono usare gli asset privi di guasti nei dati per la modellazione, perché l'assegnazione di etichette viene effettuata con riferimento a un punto di errore e il relativo calcolo non è possibile senza sapere per quanto tempo la vita dell'asset è continuata prima del guasto.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-453">Different than binary classification, for regression, assets without any failures in the data cannot be used for modeling as labeling is done in reference to a failure point and its calculation is not possible without knowing how long the asset survived before failure.</span></span> <span data-ttu-id="4b3a1-454">Questo problema si risolve meglio usando un'altra tecnica statistica detta analisi di sopravvivenza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-454">This issue is best addressed by another statistical technique called Survival Analysis.</span></span>
<span data-ttu-id="4b3a1-455">In questo studio non verrà descritta l'analisi di sopravvivenza, a causa delle potenziali complicazioni che possono insorgere nell'applicare questa tecnica ai casi d'uso della manutenzione predittiva, che prevedono dati variabili nel tempo con intervalli frequenti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-455">We are not going to discuss Survival Analysis in this playbook because of the potential complications that may arise when applying the technique to predictive maintenance use cases that involve time-varying data with frequent intervals.</span></span>

### <a name="multi-class-classification-for-predictive-maintenance"></a><span data-ttu-id="4b3a1-456">Classificazione multiclasse per la manutenzione predittiva</span><span class="sxs-lookup"><span data-stu-id="4b3a1-456">Multi-class classification for predictive maintenance</span></span>
<span data-ttu-id="4b3a1-457">La classificazione multiclasse per la manutenzione predittiva può essere usata per stimare due risultati futuri.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-457">Multi-class classification for predictive maintenance can be used to predict two future outcomes.</span></span> <span data-ttu-id="4b3a1-458">Il primo consiste nell'assegnare un asset a uno dei diversi periodi di tempo per attribuire un intervallo di tempo al guasto per ogni asset.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-458">The first one is to assign an asset to one of the multiple possible periods of time to give a range of time to failure for each asset.</span></span> <span data-ttu-id="4b3a1-459">Il secondo consiste nell'identificare la probabilità di guasto in un periodo futuro per via di una delle molteplici cause radice.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-459">The second one is to identify the likelihood of failure in a future period due to one of the multiple root causes.</span></span> <span data-ttu-id="4b3a1-460">Questo consente al personale addetto alla manutenzione in possesso di queste informazioni di gestire il problema preventivamente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-460">That allows maintenance personnel who are equipped with this knowledge to handle the problems in advance.</span></span> <span data-ttu-id="4b3a1-461">Un'altra tecnica di modellazione multiclasse è incentrata sulla determinazione della causa radice più probabile di un dato guasto.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-461">Another multi-class modeling technique focuses on determining the most likely root cause of a given a failure.</span></span> <span data-ttu-id="4b3a1-462">Questo consente di fornire suggerimenti per le principali azioni di manutenzione da eseguire per riparare un guasto.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-462">This allows recommendations to be given for the top maintenance actions to be taken in order to fix a failure.</span></span>
<span data-ttu-id="4b3a1-463">Disponendo di un elenco classificato di cause radice e delle azioni di riparazione associate,</span><span class="sxs-lookup"><span data-stu-id="4b3a1-463">By having a ranked list of root causes and associated repair actions,</span></span>  
<span data-ttu-id="4b3a1-464">i tecnici possono eseguire le prime azioni di riparazione dopo i guasti in modo più efficace.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-464">technicians can be more effective in taking their first repair actions after failures.</span></span>

#### <a name="label-construction"></a><span data-ttu-id="4b3a1-465">Costruzione delle etichette</span><span class="sxs-lookup"><span data-stu-id="4b3a1-465">Label construction</span></span>
<span data-ttu-id="4b3a1-466">Date le due domande "qual è la probabilità che un asset si guasti nelle prossime unità di tempo "aZ" dove "a" è il numero di periodi" e "qual è la probabilità che l'asset si guasti nelle prossime X unità di tempo a causa del problema "P<sub>i</sub>" dove "i" è il numero delle possibili cause radice", l'assegnazione di etichette viene eseguita nel modo seguente per queste tecniche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-466">Given the two questions which are "What is the probability that an asset fails in the next "aZ" units of time where "a" is the number of periods" and "What is the probability that the asset fails in the next X units of time due to problem "P<sub>i</sub>" where "i" is the number of possible root causes, labeling is done in the following way for these to techniques.</span></span>

<span data-ttu-id="4b3a1-467">Per la prima domanda l'assegnazione di etichette viene eseguita scegliendo i record aZ prima del guasto di un asset e assegnando un'etichetta usando intervalli di tempo (3Z, 2Z, Z), mentre l'etichetta di tutti gli altri record sarà "normale" (etichetta =0).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-467">For the first question, labeling is done by taking aZ records prior to the failure of an asset and labeling them using buckets of time (3Z, 2Z, Z) as their labels while labeling all other records as "normal" (label =0).</span></span> <span data-ttu-id="4b3a1-468">In questo metodo l'etichetta è una variabile categorica, vedere la figura 5.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-468">In this method, label is categorical variable (See Figure 5).</span></span>

![Figura 5.](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)

<span data-ttu-id="4b3a1-471">Figura 5.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-471">Figure 5.</span></span> <span data-ttu-id="4b3a1-472">Assegnazione di etichette per la classificazione multiclasse per la stima dell'ora del guasto</span><span class="sxs-lookup"><span data-stu-id="4b3a1-472">Labeling for multiclass classification for failure time prediction</span></span>

<span data-ttu-id="4b3a1-473">Per la seconda domanda l'assegnazione di etichette viene eseguita scegliendo i record X prima del guasto di un asset e assegnando un'etichetta "possibile guasto a causa del problema P<sub>i</sub>" (etichetta = P<sub>i</sub>), mentre l'etichetta di tutti gli altri record sarà "normale" (etichetta =0).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-473">For the second question, labeling is done by taking X records prior to the failure of an asset and labeling them as "about to fail due to problem P<sub>i</sub>" (label = P<sub>i</sub>) while labeling all other records as "normal" (label =0).</span></span> <span data-ttu-id="4b3a1-474">In questo metodo le etichette sono variabili categoriche, vedere la figura 6.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-474">In this method, labels are categorical variables (See Figure 6).</span></span>

![Figura 6.](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)

<span data-ttu-id="4b3a1-477">Figura 6.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-477">Figure 6.</span></span> <span data-ttu-id="4b3a1-478">Assegnazione di etichette per la classificazione multiclasse per la stima delle cause radice</span><span class="sxs-lookup"><span data-stu-id="4b3a1-478">Labeling for multiclass classification for root cause prediction</span></span>

<span data-ttu-id="4b3a1-479">Il modello assegna una probabilità di guasto a causa di ogni problema P<sub>i</sub>, oltre alla probabilità che non si verifichi alcun guasto.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-479">The model assigns a failure probability due to each P<sub>i</sub> as well as the probability of no failure.</span></span> <span data-ttu-id="4b3a1-480">Queste probabilità possono essere ordinate per grandezza, per consentire la stima dei problemi con la più alta possibilità che si verifichino in futuro.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-480">These probabilities can be ordered by magnitude to allow prediction of the problems that are most likely to occur in the future.</span></span> <span data-ttu-id="4b3a1-481">Il caso d'uso dei guasti ai componenti di aereo è stato strutturato come un problema di classificazione multiclasse.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-481">Aircraft component failure use case was structured as a multiclass classification problem.</span></span> <span data-ttu-id="4b3a1-482">Questo consente la stima delle probabilità di guasto dovuto a due diversi componenti della valvola di pressione che si verificano nel corso del prossimo mese.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-482">This enables the prediction of the probabilities of failure due to two different pressure valve components occurring within the next month.</span></span>

<span data-ttu-id="4b3a1-483">Per suggerire le azioni di manutenzione dopo i guasti, l'assegnazione dell'etichetta non richiede la selezione di un orizzonte temporale futuro.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-483">For recommending maintenance actions after failures, labeling does not require a future horizon to be picked.</span></span> <span data-ttu-id="4b3a1-484">Questo è dovuto al fatto che il modello non stima il guasto nel futuro, ma solo la causa radice più probabile dopo che il guasto si è già verificato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-484">This is because the model is not predicting failure in the future but it is just predicting the most likely root cause once the failure has already happened.</span></span> <span data-ttu-id="4b3a1-485">I guasti delle porte degli ascensori rientrano nel terzo caso, dove lo scopo consiste nello stimare la causa del guasto considerati i dati cronologici in condizioni operative.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-485">Elevator door failures fall into the third case where the goal is to predict the cause of the failure given historical data on operating conditions.</span></span> <span data-ttu-id="4b3a1-486">Questo modello viene quindi usato per stimare le cause radice più probabili dopo che si è verificato un guasto.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-486">This model is then used to predict the most likely root causes after a failure has occurred.</span></span> <span data-ttu-id="4b3a1-487">Un vantaggio chiave di questo modello è che aiuta i tecnici meno esperti a diagnosticare facilmente e risolvere problemi che diversamente richiederebbero anni di esperienza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-487">One key benefit of this model is that it helps inexperienced technicians to easily diagnose and fix problems that would otherwise need years’ worth of experience.</span></span>

## <a name="training-validation-and-testing-methods-in-predictive-maintenance"></a><span data-ttu-id="4b3a1-488">Metodi di training, convalida e test nella manutenzione predittiva</span><span class="sxs-lookup"><span data-stu-id="4b3a1-488">Training, validation and testing methods in predictive maintenance</span></span>
<span data-ttu-id="4b3a1-489">Nella manutenzione predittiva, in modo analogo a qualsiasi altra area della soluzione contenente dati con timestamp, la tipica routine di training e test deve considerare gli aspetti variabili nel tempo per una migliore generalizzazione dei dati futuri non visti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-489">In predictive maintenance, similar to any other solution space containing timestamped data, the typical training and testing routine needs to take account the time varying aspects to better generalize on unseen future data.</span></span>

### <a name="cross-validation"></a><span data-ttu-id="4b3a1-490">Convalida incrociata</span><span class="sxs-lookup"><span data-stu-id="4b3a1-490">Cross validation</span></span>
<span data-ttu-id="4b3a1-491">Molti algoritmi di Machine Learning dipendono da una quantità di iperparametri che possono modificare significativamente le prestazioni del modello.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-491">Many machine learning algorithms depend on a number of hyperparameters that can change model performance significantly.</span></span> <span data-ttu-id="4b3a1-492">I valori ottimali di questi iperparametri non vengono calcolati automaticamente durante il training del modello, ma dovranno essere specificati dai data scientist.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-492">The optimal values of these hyperparameters are not computed automatically when training the model, but should be specified by data scientist.</span></span> <span data-ttu-id="4b3a1-493">Per trovare i valori ottimali degli iperparametri sono disponibili vari modi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-493">There are several ways of finding good values of hyperparameters.</span></span> <span data-ttu-id="4b3a1-494">Quello più comune è la "convalida incrociata di k sezioni" che suddivide in modo casuale gli esempi in "k" sezioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-494">The most common one is "k-fold cross-validation" which splits the examples randomly into "k" folds.</span></span> <span data-ttu-id="4b3a1-495">Per ogni set di valori degli iperparametri, l'algoritmo di apprendimento viene eseguito k volte.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-495">For each set of hyperparameters values, learning algorithm is run k times.</span></span> <span data-ttu-id="4b3a1-496">A ogni iterazione gli esempi nella sezione corrente vengono usati come set di convalida, mentre il resto degli esempi viene usato come set di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-496">At each iteration, the examples in the current fold are used as a validation set, the rest of the examples are used as a training set.</span></span> <span data-ttu-id="4b3a1-497">L'algoritmo esegue il training sugli esempi di training e le metriche delle prestazioni sono calcolate sugli esempi di convalida.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-497">The algorithm trains over training examples and the performance metrics are computed over validation examples.</span></span> <span data-ttu-id="4b3a1-498">Alla fine di questo ciclo, per ogni set di valori degli iperparametri si calcolano i valori delle metriche delle prestazioni k e si scelgono i valori degli iperparametri con le prestazioni medie migliori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-498">At the end of this loop for each set of hyperparameter values, we compute average of the k performance metric values and choose hyperparameter values that have the best average performance.</span></span>

<span data-ttu-id="4b3a1-499">Come accennato in precedenza, nei problemi di manutenzione predittiva i dati vengono registrati in serie temporali di eventi che derivano di diverse origini dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-499">As mentioned before, in predictive maintenance problems, data is recorded as a time series of events that come from several data sources.</span></span> <span data-ttu-id="4b3a1-500">Questi record possono essere ordinati in base all'ora di assegnazione dell'etichetta a un record o un esempio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-500">These records can be ordered according to the time of labeling a record or an example.</span></span> <span data-ttu-id="4b3a1-501">Di conseguenza, se si suddivide in modo causale il set di dati in set di training e convalida, alcuni esempi di training risultano successivi agli esempi di convalida.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-501">Hence, if we split the dataset randomly into training and validation set, some of the training examples are later in time than some of validation examples.</span></span> <span data-ttu-id="4b3a1-502">Questo causa la stima delle prestazioni future dei valori degli iperparametri su dati arrivati prima che fosse eseguito il training del modello.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-502">This results in estimating future performance of hyperparameter values based on the data that arrived before model was trained.</span></span> <span data-ttu-id="4b3a1-503">Queste stime potrebbero risultare eccessivamente ottimistiche, specialmente se le serie temporali non sono fisse e cambiano il comportamento nel tempo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-503">These estimations might be overly optimistic, especially if time-series are not stationary and change their behavior over time.</span></span> <span data-ttu-id="4b3a1-504">I valori degli iperparametri scelti potrebbero quindi risultare non ottimali.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-504">As a result, chosen hyperparameter values might be sub-optimal.</span></span>

<span data-ttu-id="4b3a1-505">Un modo migliore per trovare i valori ottimali degli iperparametri consiste nel suddividere gli esempi in set di training e di convalida in modo dipendente dal tempo, così che tutti gli esempi di convalida siano successivi nel tempo a tutti i gli esempi di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-505">A better way of finding good values of hyperparameters is to split the examples into training and validation set in a time-dependent way, such that all validation examples are later in time than all training examples.</span></span> <span data-ttu-id="4b3a1-506">Quindi per ogni set di valori degli iperparametri si esegue il training dell'algoritmo sul set di training, si misurano le prestazioni del modello sullo stesso set di convalida e si scelgono i valori degli iperparametri che mostrano le prestazioni migliori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-506">Then, for each set of values of hyperparameters we train the algorithm over training set, measure model’s performance over the same validation set and choose hyperparameter values that show the best performance.</span></span> <span data-ttu-id="4b3a1-507">Quando i dati delle serie temporali non sono fissi e si evolvono nel tempo, i valori degli iperparametri scelti dalla suddivisione training/convalida consentono di ottenere prestazioni future del modello migliori rispetto ai valori scelti in modo casuale dalla convalida incrociata.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-507">When time-series data is not stationary and evolves over time, the hyperparameter values chosen by train/validation split lead to a better future "model's performance than with the values chosen randomly by cross-validation.</span></span>

<span data-ttu-id="4b3a1-508">Il modello finale viene generato eseguendo il training di un algoritmo di apprendimento su tutti i dati, usando i valori degli iperparametri migliori trovati usando la suddivisione training/convalida o la convalida incrociata.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-508">The final model is generated by training a learning algorithm over entire data using the best hyperparameter values that are found by using training/validation split or cross-validation.</span></span>

### <a name="testing-for-model-performance"></a><span data-ttu-id="4b3a1-509">Test delle prestazioni del modello</span><span class="sxs-lookup"><span data-stu-id="4b3a1-509">Testing for model performance</span></span>
<span data-ttu-id="4b3a1-510">Dopo la compilazione di un modello, è necessario valutarne le prestazioni future su nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-510">After building a model we need to estimate its future performance on new data.</span></span> <span data-ttu-id="4b3a1-511">La valutazione più semplice potrebbero essere le prestazioni del modello sui dati di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-511">The simplest estimate could be the performance of the model over the training data.</span></span> <span data-ttu-id="4b3a1-512">Questa valutazione è tuttavia eccessivamente ottimistica, perché il modello è personalizzato in base ai dati usati per valutare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-512">But this estimate is overly optimistic, because the model is tailored to the data that is used to estimate performance.</span></span> <span data-ttu-id="4b3a1-513">Una stima migliore potrebbero essere le metriche delle prestazioni dei valori degli iperparametri sul set di convalida oppure le metriche delle prestazioni medie calcolate da una convalida incrociata.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-513">A better estimate could be a performance metric of hyperparameter values computed over the validation set or an average performance metric computed from cross-validation.</span></span> <span data-ttu-id="4b3a1-514">Per gli stessi motivi già definiti, queste stime sono comunque eccessivamente ottimistiche.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-514">But for the same reasons as previously stated, these estimations are still overly optimistic.</span></span> <span data-ttu-id="4b3a1-515">Per misurare le prestazioni del modello sono necessari approcci più realistici.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-515">We need more realistic approaches for measuring model performance.</span></span>

<span data-ttu-id="4b3a1-516">Un modo è suddividere i dati in modo casuale in set di training, convalida e test.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-516">One way is to split the data randomly into training, validation and test sets.</span></span> <span data-ttu-id="4b3a1-517">I set di training e convalida vengono usati per selezionare i valori degli iperparametri ed eseguire il training del modello con questi valori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-517">The training and validation sets are used to select values of hyperparameters and train the model with them.</span></span> <span data-ttu-id="4b3a1-518">Le prestazioni del modello vengono misurati sul set di test.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-518">The performance of the model is measured over the test set.</span></span>

<span data-ttu-id="4b3a1-519">Un altro modo pertinente per la manutenzione predittiva consiste nel suddividere gli esempi in set di training, convalida e test in modo dipendente dal tempo, così che tutti gli esempi di test siano successivi nel tempo a tutti i gli esempi di convalida.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-519">Another way which is relevant to predictive maintenance, is to split the examples into training, validation and test sets in a time-dependent way, such that all test examples are later in time than all training and validation examples.</span></span> <span data-ttu-id="4b3a1-520">Dopo la suddivisione, la generazione del modello e la misurazione delle prestazioni vengono eseguite come descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-520">After the split, model generation and performance measurement are done the same as described earlier.</span></span>

<span data-ttu-id="4b3a1-521">Quando le serie temporali sono fisse e facili da stimare, entrambi gli approcci generano valutazioni simili delle prestazioni future.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-521">When time-series are stationary and easy to predict both approaches generate similar estimations of future performance.</span></span> <span data-ttu-id="4b3a1-522">Quando però le serie temporali non sono fisse e/o difficili da stimare, il secondo approccio genera stime più realistiche delle prestazioni future rispetto al primo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-522">But when time-series are non-stationary and/or hard to predict, the second approach will generate more realistic estimates of future performance than the first one.</span></span>

### <a name="time-dependent-split"></a><span data-ttu-id="4b3a1-523">Suddivisione dipendente dal tempo</span><span class="sxs-lookup"><span data-stu-id="4b3a1-523">Time-dependent split</span></span>
<span data-ttu-id="4b3a1-524">Come procedura consigliata, in questa sezione si esaminerà più in dettaglio come implementare la suddivisione dipendente dal tempo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-524">As a best practice, in this section we take a closer look at how to implement time-dependent split.</span></span> <span data-ttu-id="4b3a1-525">Viene descritta una suddivisione bidirezionale dipendente dal tempo tra i set di training e test, ma dovrà essere applicata esattamente la stesa logica della suddivisione dipendente dal tempo per i set di training e convalida.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-525">We describe a time-dependent two-way split between training and test sets, however exactly the same logic should be applied for time-dependent split for training and validation sets.</span></span>

<span data-ttu-id="4b3a1-526">Si supponga di avere un flusso di eventi con timestamp, ad esempio le misurazioni da diversi sensori.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-526">Suppose we have a stream of timestamped events such as measurements from various sensors.</span></span> <span data-ttu-id="4b3a1-527">Le funzioni degli esempi di training e test e le relative etichette sono definite in base a intervalli di tempo che contengono più eventi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-527">Features of training and test examples, as well as their labels, are defined over timeframes that contain multiple events.</span></span>
<span data-ttu-id="4b3a1-528">Ad esempio, per la classificazione binaria descritte nelle sezioni Progettazione delle funzioni e Tecniche di modellazione, le funzioni vengono create in base agli eventi passati e le etichette in base agli eventi futuri nelle unità di tempo "X" future.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-528">For example, for binary classification, as described in Feature Engineering and Modeling Techniques sections, features are created based on the past events and labels are created based on future events within "X" units of time in the future.</span></span> <span data-ttu-id="4b3a1-529">Quindi, l'intervallo di tempo dell'assegnazione di etichette è successivo all'intervallo di tempo delle relative funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-529">Thus, the labeling timeframe of an example comes later then the timeframe of its features.</span></span> <span data-ttu-id="4b3a1-530">Per la suddivisione dipendente dal tempo viene selezionato un momento in cui si esegue il training di un modello con iperparametri ottimizzati usando dati cronologici fino a quel momento.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-530">For time- dependent split, we pick a point in time at which we train a model with tuned hyperparameters by using historical data up to that point.</span></span> <span data-ttu-id="4b3a1-531">Per impedire la perdita di etichette future che si trovano al di fuori del punto di taglio nei dati di training, si sceglierà l'ultimo intervallo di tempo per l'assegnazione di etichette agli esempi di training impostando X unità prima della data del punto di taglio di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-531">To prevent leakage of future labels that are beyond the training cut-off into training data, we choose the latest timeframe to label training examples to be X units before the training cut-off date.</span></span> <span data-ttu-id="4b3a1-532">Nella figura 7 ogni cerchio pieno rappresenta una riga nel set di dati finale delle funzioni per cui le funzioni e le etichette vengono calcolate in base al metodo descritto sopra.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-532">In Figure 7, each solid circle represents a row in the final feature data set for which the features and labels are computed according to the method described above.</span></span> <span data-ttu-id="4b3a1-533">Ciò detto, la figura mostra i record che dovranno essere inseriti nei set di training e test quando si implementa la suddivisone dipendente dal tempo per X=2 e W=3:</span><span class="sxs-lookup"><span data-stu-id="4b3a1-533">Given that, the figure shows the records that should go into training and testing sets when implementing time-dependent split for X=2 and W=3:</span></span>

![Figura 7.](media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)

<span data-ttu-id="4b3a1-536">Figura 7.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-536">Figure 7.</span></span> <span data-ttu-id="4b3a1-537">Suddivisione dipendente dal tempo per la classificazione binaria</span><span class="sxs-lookup"><span data-stu-id="4b3a1-537">Time-dependent split for binary classification</span></span>

<span data-ttu-id="4b3a1-538">I quadratini verdi rappresentano i record appartenenti alle unità di tempo che possono essere usate per il training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-538">The green squares represent the records belonging to the time units that can be used for training.</span></span> <span data-ttu-id="4b3a1-539">Come spiegato in precedenza, ogni esempio di training nella tabella delle funzioni finale viene generato osservando i 3 periodi precedenti per la generazione di funzioni e i 2 periodi futuri per l'assegnazione di etichette prima del punto di taglio di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-539">As explained earlier, each training example in the final feature table is generated by looking at past 3 periods for feature generation and 2 future periods for labeling before the training day cut-off.</span></span> <span data-ttu-id="4b3a1-540">Nel set di training non vengono usati esempi quando una parte qualsiasi dei 2 periodi futuri di un dato esempio è all'esterno del punto di taglio di training, presupponendo di non avere visibilità oltre il punto di taglio.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-540">We do not use examples in the training set when any part of the 2 future periods for that example is beyond the training cut-off since we assume that we do not have visibility beyond the training cut-off.</span></span> <span data-ttu-id="4b3a1-541">A causa di questo vincolo, gli esempi neri rappresentano i record del set di dati con etichetta finale che non dovranno essere usati nel training set.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-541">Due to that constraint, black examples represent the records of the final labeled dataset that should not be used in the training data set.</span></span> <span data-ttu-id="4b3a1-542">Questi record non saranno usati nei dati di test perché si trovano prima del punto di taglio di training e i relativi intervalli di tempo con etichetta dipendono in parte dall'intervallo di tempo di training, ma non deve essere così perché si preferisce separare completamente gli intervalli di tempo con etichetta per il training e il test per evitare la perdita di informazioni sulle etichette.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-542">These records won’t be used in testing data either since they are before the training cut-off and their labeling timeframes partially depend on the training timeframe which should not be the case as we would like to completely separate labeling timeframes for training and testing to prevent label information leakage.</span></span>

<span data-ttu-id="4b3a1-543">Questa tecnica consente la sovrapposizione nei dati usati per la generazione delle funzioni tra gli esempi di training e di test in prossimità del punto di taglio di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-543">This technique allows for overlap in the data used for feature generation between training and testing examples that are close to the training cut-off.</span></span> <span data-ttu-id="4b3a1-544">A seconda della disponibilità di dati, è possibile eseguire una separazione ancora più netta evitando di usare qualsiasi esempio nel set di test all'interno delle unità di tempo W del punto di taglio di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-544">Depending on data availability, an even more severe separation can be accomplished by not using any of the examples in the test set that are within W time units of the training cut-off.</span></span>

<span data-ttu-id="4b3a1-545">Da questo studio emerge che i modelli di regressione usati per la stima della vita utile rimanente sono più gravemente influenzati dal problema della perdita e l'uso della suddivisione in modo casuale genera un overfitting estremo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-545">From our work, we found that regression models used for predicting remaining useful life are more severely affected by the leakage problem and using a random split leads to extreme overfitting.</span></span> <span data-ttu-id="4b3a1-546">In modo analogo, nei problemi di regressione la suddivisione deve essere tale per cui i record che appartengono ad asset con guasti prima del punto di taglio di training dovranno essere usati per i set di training e gli asset con guasti dopo il punto di taglio dovranno essere usati per i set di test.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-546">Similarly, in regression problems, the split should be such that records belonging to assets with failures before training cut off should be used for the training set and assets that have failures after the cut-off should be used for testing set.</span></span>

<span data-ttu-id="4b3a1-547">Come metodo generale, un'altra importante procedura consigliata per la suddivisione dei dati per training e test consiste nell'usare un suddivisione basata sull'ID asset, in modo che nessuno degli asset usati nel training venga usato per i test, perché l'idea dei test è concepita per assicurare che quando si usa un nuovo asset per eseguire stime, il modello fornisca risultati realistici.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-547">As a general method, another important best practice for splitting data for training and testing is to use a split by asset ID so that none of the assets that were used in training are used for testing since the idea of testing is to make sure that when a new asset is used to make predictions on, the model provides realistic results.</span></span>

### <a name="handling-imbalanced-data"></a><span data-ttu-id="4b3a1-548">Gestione di dati sbilanciati</span><span class="sxs-lookup"><span data-stu-id="4b3a1-548">Handling imbalanced data</span></span>
<span data-ttu-id="4b3a1-549">Nei problemi di classificazione se sono presenti più esempi di una classe rispetto alle altre, si dice che i dati sono sbilanciati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-549">In classification problems, if there are more examples of one class than of the others, the data is said to be imbalanced.</span></span> <span data-ttu-id="4b3a1-550">Idealmente, è preferibile avere abbastanza esempi rappresentativi di ogni classe dei dati di training per poter distinguere le diverse classi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-550">Ideally, we would like to have enough representatives of each class in the training data to be able to differentiate between different classes.</span></span> <span data-ttu-id="4b3a1-551">Se una classe corrisponde a meno del 10% dei dati, si può dire che i dati sono sbilanciati e il set di dati sotto-rappresentato è detto classe di minoranza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-551">If one class is less than 10% of the data, we can say that the data is imbalanced and we call the underrepresented dataset minority class.</span></span> <span data-ttu-id="4b3a1-552">Drasticamente, in molti casi si trovano set di dati sbilanciati in cui una classe è gravemente sotto-rappresentata rispetto ad altre, ad esempio costituendo colo lo 0,001% dei punti dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-552">Drastically, in many cases we find imbalanced datasets where one class is severely underrepresented compared to others for example by only constituting 0.001% of the data points.</span></span> <span data-ttu-id="4b3a1-553">Lo sbilanciamento delle classi è un problema in molti ambiti, inclusi il rilevamento delle frodi, le intrusioni di rete e la manutenzione predittiva in cui gli errori sono di solito occorrenze rare nella durata degli asset che costituiscono gli esempi di classe di minoranza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-553">Class imbalance is a problem in many domains including fraud detection, network intrusion and predictive maintenance where failures are usually rare occurrences in the lifetime of the assets which make up the minority class examples.</span></span>

<span data-ttu-id="4b3a1-554">Nel caso di sbilanciamento delle classi, le prestazioni della maggior parte degli algoritmi di apprendimento standard vengono compromesse, perché il loro scopo è ridurre il tasso di errore complessivo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-554">In case of class imbalance, performance of most standard learning algorithms is compromised as they aim to minimize the overall error rate.</span></span> <span data-ttu-id="4b3a1-555">Ad esempio, per i set di dati con il 99% di esempi di classi negativi e l'1% di esempi di classi positivi, si può ottenere un'accuratezza del 99% semplicemente assegnando un'etichetta negativa a tutte le istanze.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-555">For example, for a data set with 99% negative class examples and 1% positive class examples, we can get 99% accuracy by simply labeling all instances as negative.</span></span> <span data-ttu-id="4b3a1-556">Tuttavia, questa operazione classifica erroneamente tutti gli esempi positivi, quindi l'algoritmo non sarà utile anche se le metriche di accuratezza risultano molto elevate.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-556">However, this misclassifies all positive examples so the algorithm is not a useful one although the accuracy metric is very high.</span></span> <span data-ttu-id="4b3a1-557">Di conseguenza, le metriche di valutazione convenzionali, come l'accuratezza complessiva sul tasso di errore, non sono sufficienti in caso di apprendimento sbilanciato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-557">Consequently, conventional evaluation metrics such as overall accuracy on error rate, are not sufficient in case of imbalanced learning.</span></span> <span data-ttu-id="4b3a1-558">Altre metriche, come precisione, richiamo, punteggi F1 e curve ROC con costi rettificati, vengono usate per le valutazioni in caso di set di dati sbilanciati, che vengono illustrati nella sezione Metriche di valutazione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-558">Other metrics, such as precision, recall, F1 scores and cost adjusted ROC curves are used for evaluations in case of imbalanced datasets which is discussed in the Evaluation Metrics section.</span></span>

<span data-ttu-id="4b3a1-559">Sono tuttavia disponibili alcuni metodi che consentono di ovviar al problema dello sbilanciamento di classi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-559">However, there are some methods that help remedy class imbalance problem.</span></span> <span data-ttu-id="4b3a1-560">I due principali sono le tecniche di campionamento e l'apprendimento suscettibile alla variazione dei costi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-560">The two major ones are sampling techniques and cost sensitive learning.</span></span>

#### <a name="sampling-methods"></a><span data-ttu-id="4b3a1-561">Metodi di campionamento</span><span class="sxs-lookup"><span data-stu-id="4b3a1-561">Sampling methods</span></span>
<span data-ttu-id="4b3a1-562">L'uso dei metodi di campionamento nell'apprendimento sbilanciato consiste nella modifica del set di dati mediante alcuni meccanismi, per fornire un set di dati bilanciato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-562">The use of sampling methods in imbalanced learning consists of modification of the dataset by some mechanisms in order to provide a balanced dataset.</span></span> <span data-ttu-id="4b3a1-563">Anche se sono disponibili molte tecniche di campionamento diverse, quelle più semplici sono il sovracampionamento e il sottocampionamento casuali.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-563">Although there are a lot of different sampling techniques, most straight forward ones are random oversampling and under sampling.</span></span>

<span data-ttu-id="4b3a1-564">In sostanza, il sovracampionamento casuale consiste nel selezionare un campione casuale dalla classe di minoranza nel replicare questi esempi e aggiungerli al training set.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-564">Simply stated, random oversampling is selecting a random sample from minority class, replicating these examples and adding them to training data set.</span></span> <span data-ttu-id="4b3a1-565">In questo modo viene aumentato il numero degli esempi totali nella classe di minoranza, bilanciando infine il numero di esempi delle diverse classi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-565">This increases the number of total examples in minority class and eventually balance the number of examples of different classes.</span></span> <span data-ttu-id="4b3a1-566">Un aspetto rischioso del sovracampionamento è il fatto che più istanze di determinati esempi possono rendere il classificatore troppo specifico, causando un overfitting.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-566">One danger of oversampling is that multiple instances of certain examples can cause the classifier to become too specific leading to overfitting.</span></span>
<span data-ttu-id="4b3a1-567">Questo comporterà un'elevata accuratezza di training, ma le prestazioni dei dati di test non visti potrebbero risultare insufficienti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-567">This would result in high training accuracy but performance on the unseen testing data may be very poor.</span></span> <span data-ttu-id="4b3a1-568">Al contrario, il sottocampionamento casuale consiste nel selezionare un campione casuale dalla classe di maggioranza e nel rimuovere tali esempi dai training set.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-568">Conversely, random under sampling is selecting a random sample from majority class and removing those examples from training data set.</span></span> <span data-ttu-id="4b3a1-569">Tuttavia, la rimozione di esempi dalla classe di maggioranza può far sì che il classificatore ignori concetti importanti riguardanti la classe di maggioranza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-569">However, removing examples from majority class may cause the classifier to miss important concepts pertaining to the majority class.</span></span> <span data-ttu-id="4b3a1-570">Un altro approccio valido è anche il campionamento ibrido, in cui il sovracampionamento della classe di minoranza e il sottocampionamento della classe di maggioranza avvengono contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-570">Hybrid sampling where minority class is oversampled and majority class is under sampled at the same time is another viable approach.</span></span> <span data-ttu-id="4b3a1-571">Sono disponibili molte altre tecniche di campionamento più sofisticate e i metodi di campionamento efficaci per lo sbilanciamento delle classi costituiscono un'ara di ricerca comune che riceve costantemente attenzione e contributi da molti canali.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-571">There are many other more sophisticated sampling techniques are available and effective sampling methods for class imbalance is a popular research area receiving constant attention and contributions from many channels.</span></span> <span data-ttu-id="4b3a1-572">L'uso di tecniche diverse per decidere quali siano le più efficaci è in genere un compito lasciato alla ricerca e agli esperimenti da parte dei data scientist. L'efficacia di tali tecniche è comunque fortemente dipendente dalle proprietà dei dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-572">Use of different techniques to decide on the most effective ones is usually left to the data scientist to research and experiment and are highly dependent on the data properties.</span></span> <span data-ttu-id="4b3a1-573">È anche importante assicurarsi che i metodi di campionamento vengano applicati solo al set di training ma non al set di test.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-573">Additionally, it is important to make sure that sampling methods are applied only to the training set but not the test set.</span></span>

#### <a name="cost-sensitive-learning"></a><span data-ttu-id="4b3a1-574">Apprendimento suscettibile alla variazione dei costi</span><span class="sxs-lookup"><span data-stu-id="4b3a1-574">Cost sensitive learning</span></span>
<span data-ttu-id="4b3a1-575">Nella manutenzione predittiva i guasti che costituiscono la classe di minoranza sono più interessanti degli esempi normali e quindi ci si concentra in genere sulle prestazioni dell'algoritmo sui guasti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-575">In predictive maintenance, failures which constitute the minority class are of more interest than normal examples and thus the focus is on the performance of the algorithm on failures is usually the focus.</span></span> <span data-ttu-id="4b3a1-576">Questo approccio è comunemente detto perdita ineguale o costi asimmetrici dell'errata classificazione di elementi di classi diverse dove la stime errata di una classe positiva come negativa può comportare costi più elevati rispetto al contrario.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-576">This is commonly referred as unequal loss or asymmetric costs of misclassifying elements of different classes wherein incorrectly predicting a positive as negative can cost more than vice versa.</span></span> <span data-ttu-id="4b3a1-577">Il classificatore ottimale deve essere in grado di fornire un'elevata accuratezza della stima rispetto alla classe di minoranza, senza compromettere gravemente l'accuratezza per la classe di maggioranza.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-577">The desired classifier should be able to give high prediction accuracy over the minority class, without severely compromising on the accuracy for the majority class.</span></span>

<span data-ttu-id="4b3a1-578">sono disponibili diversi modi per ottenere questo risultato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-578">There are several ways this can be achieved.</span></span> <span data-ttu-id="4b3a1-579">Assegnando un costo elevato all'errata classificazione della classe di minoranza e provando a ridurre il costo complessivo, il problema delle perdite ineguali può essere gestito in maniera efficace.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-579">By assigning a high cost to misclassification of the minority class, and trying to minimize the overall cost, the problem of unequal loses can be effectively dealt with.</span></span> <span data-ttu-id="4b3a1-580">Alcuni algoritmi di Machine Learning usano questo concetto intrinsecamente, come le macchine a vettori di supporto (SVM), in cui il costo degli esempi positivi e negativi può essere incorporato nei tempi di training.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-580">Some machine learning algorithms use this idea inherently such as SVMs (Support Vector Machines) where cost of positive and negative examples can be incorporated during training time.</span></span> <span data-ttu-id="4b3a1-581">Analogamente vengono usati metodi di aumento di priorità che in genere forniscono ottime prestazione in caso di dati sbilanciati, come gli algoritmi albero delle decisioni con boosting.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-581">Similarly, boosting methods are used and usually show good performance in case of imbalanced data such as boosted decision tree algorithms.</span></span>

## <a name="evaluation-metrics"></a><span data-ttu-id="4b3a1-582">Metriche di valutazione</span><span class="sxs-lookup"><span data-stu-id="4b3a1-582">Evaluation metrics</span></span>
<span data-ttu-id="4b3a1-583">Come accennato in precedenza, lo sbilanciamento delle classi causa una riduzione delle prestazioni, perché gli algoritmi tendono a classificare meglio gli esempi di classe di maggioranza a spese dei casi di classe di minoranza, perché l'errore di errata classificazione totale viene molto migliorato quando l'etichetta della classe di maggioranza è assegnata correttamente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-583">As mentioned earlier, class imbalance causes poor performance as algorithms tend to classify majority class examples better in expense of minority class cases as the total misclassification error is much improved when majority class is labeled correctly.</span></span> <span data-ttu-id="4b3a1-584">Questo causa basse frequenze di richiamo e diventa un problema più esteso quando il costo dei falsi allarmi per l'azienda è molto elevato.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-584">This causes low recall rates and becomes a larger problem when the cost of false alarms to the business is very high.</span></span> <span data-ttu-id="4b3a1-585">L'accuratezza è la metrica più comune usata per descrivere le prestazioni di un classificatore.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-585">Accuracy is the most popular metric used for describing a classifier’s performance.</span></span> <span data-ttu-id="4b3a1-586">Tuttavia, come già spiegato, l'accuratezza è inefficace e non riflette le prestazioni reali della funzione di un classificatore perché è molto sensibile alle distribuzioni dei dati.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-586">However as explained above accuracy is ineffective and do not reflect the real performance of a classifier’s functionality as it is very sensitive to data distributions.</span></span> <span data-ttu-id="4b3a1-587">Per valutare i problemi dell'apprendimento sbilanciato vengono invece usate altre metriche di valutazione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-587">Instead, other evaluation metrics are used to assess imbalanced learning problems.</span></span> <span data-ttu-id="4b3a1-588">In questi casi, precisione, richiamo e punteggio F1 dovranno essere le metriche iniziali da osservare quando si valutano le prestazioni del modello di manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-588">In those cases, precision, recall and F1 scores should be the initial metrics to look at when evaluating predictive maintenance model performance.</span></span> <span data-ttu-id="4b3a1-589">Nella manutenzione predittiva le frequenze di richiamo denotano quanti guasti sono stati identificati correttamente nel set di test da parte del modello.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-589">In predictive maintenance, recall rates denote how many of the failures in the test set were correctly identified by the model.</span></span> <span data-ttu-id="4b3a1-590">Tassi di richiamo più elevati indicano che il modello sta acquisendo correttamente i veri guasti.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-590">Higher recall rates mean the model is successful in catching the true failures.</span></span> <span data-ttu-id="4b3a1-591">Le metriche di precisione sono correlate alla frequenza di falsi allarmi, dove tassi di precisione più bassi corrispondono una maggiore quantità di falsi allarmi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-591">Precision metric relates to the rate of false alarms where lower precision rates correspond to higher false alarms.</span></span> <span data-ttu-id="4b3a1-592">Il punteggio F1 considera le frequenze di precisione e di richiamo, dove il valore migliore è 1 e il peggiore 0.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-592">F1 score considers both precision and recall rates with best value being 1 and worst being 0.</span></span>

<span data-ttu-id="4b3a1-593">Nella classificazione binaria anche le tabelle di classificazione decile e i grafici di accuratezza offrono ottime informazioni per la valutazione delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-593">Moreover, for binary classification, decile tables and lift charts are very informative when evaluating performance.</span></span> <span data-ttu-id="4b3a1-594">Considerano solo la classe positiva (guasti) e forniscono un'immagine più complessa delle prestazioni dell'algoritmo rispetto a ciò che risulta osservando solo un punto operativo fisso nella curva ROC (Receiver Operating Characteristic).</span><span class="sxs-lookup"><span data-stu-id="4b3a1-594">They focus only on the positive class (failures) and provide a more complex picture of the algorithm performance than what is seen by looking at just a fixed operating point on the ROC (Receiver Operating Characteristic) curve.</span></span>
<span data-ttu-id="4b3a1-595">Le tabelle di classificazione decile si ottengono ordinando gli esempi di test in base alle relative probabilità di guasti stimate calcolate dal modello prima della determinazione di soglia per decidere l'etichetta finale.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-595">Decile tables are obtained by ordering the test examples according to their predicted probabilities of failures computed by the model before thresholding to decide on the final label.</span></span> <span data-ttu-id="4b3a1-596">Gli esempi ordinati vengono quindi raggruppati in decili, ad esempio il 10% di campioni con la probabilità più alta e quindi il 20%, 30% e così via.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-596">The ordered samples are then grouped in deciles (i.e. the 10% samples with largest probability and then 20%, 30% and so on).</span></span> <span data-ttu-id="4b3a1-597">Calcolando il rapporto tra la vera percentuale positiva di ogni decile e la relativa baseline casuale, ovvero 0,1, 0,2 e così via, è possibile prevedere come cambiano le prestazioni dell'algoritmo in ogni decile.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-597">By computing the ratio between true positive rate of each decile and its random baseline (i.e. 0.1, 0.2 ..) one can estimate how the algorithm performance changes at each decile.</span></span> <span data-ttu-id="4b3a1-598">I grafici di accuratezza vengono usati per tracciare i valori dei decili, tracciando la percentuale positiva vera del decile rispetto alle coppie di percentuali positive vere casuali per tutti i decili.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-598">Lift charts are used to plot decile values by plotting decile true positive rate versus random true positive rate pairs for all deciles.</span></span> <span data-ttu-id="4b3a1-599">Di solito i primi decili sono l'aspetto centrale dei risultati perché qui si osservano i guadagni più significativi.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-599">Usually, the first deciles are the focus of the results since here we see the largest gains.</span></span> <span data-ttu-id="4b3a1-600">I primi decili possono anche essere considerati rappresentativi di una condizione "a rischio" quando vengono usati per la manutenzione predittiva.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-600">First deciles can also be seen as representative for "at risk" when used for predictive maintenance.</span></span>

## <a name="sample-solution-architecture"></a><span data-ttu-id="4b3a1-601">Architettura della soluzione di esempio</span><span class="sxs-lookup"><span data-stu-id="4b3a1-601">Sample solution architecture</span></span>
<span data-ttu-id="4b3a1-602">Quando si distribuisce una soluzione di manutenzione predittiva, si vuole avere una soluzione end-to-end che offra un ciclo continuo di inserimento dei dati, archiviazione dei dati per il training del modello, generazione di funzioni, stima e visualizzazione dei risultati insieme a un meccanismo di generazione di avvisi quale un dashboard di monitoraggio degli asset.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-602">When deploying a predictive maintenance solution, we are interested in an end to end solution that provides a continuous cycle of data ingestion, data storage for model training, feature generation, prediction and visualization of the results along with an alert generating mechanism such as an asset monitoring dashboard.</span></span> <span data-ttu-id="4b3a1-603">Si vuole una pipeline di dati che fornisca all'utente informazioni dettagliate future in modo automatico e continuo.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-603">We want a data pipeline that provides future insights to the user in a continuous automated manner.</span></span> <span data-ttu-id="4b3a1-604">Un'architettura di manutenzione predittiva di esempio per una pipeline di dati IoT è illustrata nella figura 8 seguente.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-604">An example predictive maintenance architecture for such an IoT data pipeline is illustrated in Figure 8 below.</span></span> <span data-ttu-id="4b3a1-605">Nell'architettura vengono raccolti dati di telemetria in tempo reale in un hub eventi che archivia i dati di streaming.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-605">In the architecture, real-time telemetry is collected into an Event Hub which stores streaming data.</span></span> <span data-ttu-id="4b3a1-606">Questi dati vengono inseriti da Analisi di flusso per l'elaborazione in tempo reale dei dati, come la generazione di funzioni.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-606">This data is ingested by stream analytics for real-time processing of data such as feature generation.</span></span> <span data-ttu-id="4b3a1-607">Le funzioni vengono quindi usate per chiamare il servizio Web del modello predittivo e i risultati vengono visualizzati nel dashboard.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-607">The features are then used to call the predictive model web service and results are displayed on the dashboard.</span></span> <span data-ttu-id="4b3a1-608">contemporaneamente i dati inseriti vengono anche archiviati in un database cronologico e uniti a origine dati esterne, ad esempio i database locali, per creare esempi di training per la modellazione.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-608">At the same time, ingested data is also stored in an historical database and merged with external data sources such as on-premises data bases to create training examples for modeling.</span></span>
<span data-ttu-id="4b3a1-609">Gli stessi data warehouse possono essere usati per i punteggi batch degli esempi e l'archiviazione dei risultati, che possono essere usati di nuovo per fornire report predittivi sul dashboard.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-609">Same data warehouses can be used for batch scoring of the examples and storing of the results which can again be used to provide predictive reports on the dashboard.</span></span>

![Figura 8.](media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)

<span data-ttu-id="4b3a1-612">Figura 8.</span><span class="sxs-lookup"><span data-stu-id="4b3a1-612">Figure 8.</span></span> <span data-ttu-id="4b3a1-613">Architettura della soluzione di esempio per la manutenzione predittiva</span><span class="sxs-lookup"><span data-stu-id="4b3a1-613">Example solution architecture for predictive maintenance</span></span>

<span data-ttu-id="4b3a1-614">Per altre informazioni su ogni componente dell'architettura, vedere la documentazione di [Azure](https://azure.microsoft.com/) .</span><span class="sxs-lookup"><span data-stu-id="4b3a1-614">For more information about each of the components of the architecture please refer to [Azure](https://azure.microsoft.com/) documentation.</span></span>

