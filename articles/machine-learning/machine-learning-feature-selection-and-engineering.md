---
title: Progettazione e selezione di funzioni in Azure Machine Learning | Documentazione Microsoft
description: "Illustra le finalità della progettazione e della selezione di funzioni e fornisce esempi del relativo ruolo nel processo di miglioramento dei dati di Machine Learning."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 9ceb524d-842e-4f77-9eae-a18e599442d6
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/18/2017
ms.author: zhangya;bradsev
ROBOTS: NOINDEX
redirect_url: machine-learning-data-science-create-features
redirect_document_id: TRUE
ms.openlocfilehash: 51a5d8fed492cb9301e048c2b6a721e4573a47d9
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="feature-engineering-and-selection-in-azure-machine-learning"></a><span data-ttu-id="f2bff-103">Progettazione e selezione di funzioni in Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="f2bff-103">Feature engineering and selection in Azure Machine Learning</span></span>
<span data-ttu-id="f2bff-104">Questo argomento illustra le finalità della progettazione e selezione di funzioni nel processo di miglioramento dei dati di Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f2bff-104">This topic explains the purposes of feature engineering and feature selection in the data-enhancement process of machine learning.</span></span> <span data-ttu-id="f2bff-105">Descrive cosa comportano questi processi usando gli esempi forniti da Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="f2bff-105">It illustrates what these processes involve by using examples provided by Azure Machine Learning Studio.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="f2bff-106">I dati di training usati in Machine Learning spesso possono essere migliorati con la selezione o l'estrazione di funzioni dai dati non elaborati raccolti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-106">The training data used in machine learning can often be enhanced by the selection or extraction of features from the raw data collected.</span></span> <span data-ttu-id="f2bff-107">Un esempio di funzione progettata nel contesto dell'apprendimento della modalità di classificazione delle immagini dei caratteri scritti a mano è una mappa della densità di bit costruita dai dati di distribuzione dei bit non elaborati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-107">An example of an engineered feature in the context of learning how to classify the images of handwritten characters is a bit-density map constructed from the raw bit distribution data.</span></span> <span data-ttu-id="f2bff-108">La mappa può essere utile per individuare in modo più efficiente i bordi dei caratteri.</span><span class="sxs-lookup"><span data-stu-id="f2bff-108">This map can help locate the edges of the characters more efficiently than the raw distribution.</span></span>

<span data-ttu-id="f2bff-109">Le funzioni progettate e selezionate migliorano l'efficienza del processo di training che tenta di estrarre le informazioni essenziali contenute nei dati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-109">Engineered and selected features increase the efficiency of the training process, which attempts to extract the key information contained in the data.</span></span> <span data-ttu-id="f2bff-110">Migliorano anche le potenzialità di questi modelli per la classificazione accurata dei dati di input e per la stima più affidabile dei risultati di interesse.</span><span class="sxs-lookup"><span data-stu-id="f2bff-110">They also improve the power of these models to classify the input data accurately and to predict outcomes of interest more robustly.</span></span> <span data-ttu-id="f2bff-111">Progettazione e selezione delle funzioni possono anche combinarsi per rendere l'apprendimento più computazionalmente trattabile.</span><span class="sxs-lookup"><span data-stu-id="f2bff-111">Feature engineering and selection can also combine to make the learning more computationally tractable.</span></span> <span data-ttu-id="f2bff-112">Questa operazione viene eseguita tramite il miglioramento e la successiva riduzione del numero di funzioni richieste per calibrare o eseguire il training di un modello.</span><span class="sxs-lookup"><span data-stu-id="f2bff-112">It does so by enhancing and then reducing the number of features needed to calibrate or train a model.</span></span> <span data-ttu-id="f2bff-113">Da un punto di vista matematico, le funzioni selezionate per eseguire il training di un modello sono costituite da un set minimo di variabili indipendenti che spiegano i modelli nei dati e quindi stimano correttamente i risultati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-113">Mathematically speaking, the features selected to train the model are a minimal set of independent variables that explain the patterns in the data and then predict outcomes successfully.</span></span>

<span data-ttu-id="f2bff-114">La progettazione e selezione delle funzioni fanno parte di un processo più ampio, costituito in genere da quattro passaggi:</span><span class="sxs-lookup"><span data-stu-id="f2bff-114">The engineering and selection of features is one part of a larger process, which typically consists of four steps:</span></span>

* <span data-ttu-id="f2bff-115">Raccolta dei dati</span><span class="sxs-lookup"><span data-stu-id="f2bff-115">Data collection</span></span>
* <span data-ttu-id="f2bff-116">Miglioramento dei dati</span><span class="sxs-lookup"><span data-stu-id="f2bff-116">Data enhancement</span></span>
* <span data-ttu-id="f2bff-117">Costruzione del modello</span><span class="sxs-lookup"><span data-stu-id="f2bff-117">Model construction</span></span>
* <span data-ttu-id="f2bff-118">Post-elaborazione</span><span class="sxs-lookup"><span data-stu-id="f2bff-118">Post-processing</span></span>

<span data-ttu-id="f2bff-119">Progettazione e selezione costituiscono il passaggio di miglioramento dei dati in Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f2bff-119">Engineering and selection make up the data enhancement step of machine learning.</span></span> <span data-ttu-id="f2bff-120">Per le finalità di questo documento, si possono distinguere tre aspetti di questo processo:</span><span class="sxs-lookup"><span data-stu-id="f2bff-120">Three aspects of this process may be distinguished for our purposes:</span></span>

* <span data-ttu-id="f2bff-121">**Pre-elaborazione dei dati**: questo processo tenta di assicurare che i dati raccolti siano puliti e coerenti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-121">**Data pre-processing**: This process tries to ensure that the collected data is clean and consistent.</span></span> <span data-ttu-id="f2bff-122">Include attività come integrazione di più set di dati, gestione di dati mancanti, gestione di dati incoerenti e conversione di tipi di dati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-122">It includes tasks such as integrating multiple data sets, handling missing data, handling inconsistent data, and converting data types.</span></span>
* <span data-ttu-id="f2bff-123">**Progettazione di funzionalità**: questo processo tenta di creare altre funzioni rilevanti dalle funzioni non elaborate esistenti nei dati e di aumentare le potenzialità predittive dell'algoritmo di apprendimento.</span><span class="sxs-lookup"><span data-stu-id="f2bff-123">**Feature engineering**: This process attempts to create additional relevant features from the existing raw features in the data and to increase predictive power to the learning algorithm.</span></span>
* <span data-ttu-id="f2bff-124">**Selezione di funzionalità**: questo processo seleziona il subset principale delle funzionalità dei dati originali per ridurre la dimensionalità del problema di training.</span><span class="sxs-lookup"><span data-stu-id="f2bff-124">**Feature selection**: This process selects the key subset of original data features to reduce the dimensionality of the training problem.</span></span>

<span data-ttu-id="f2bff-125">Questo argomento tratta solo gli aspetti relativi a progettazione e selezione di funzioni del processo di miglioramento dei dati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-125">This topic only covers the feature engineering and feature selection aspects of the data enhancement process.</span></span> <span data-ttu-id="f2bff-126">Per maggiori informazioni sul passaggio di pre-elaborazione dei dati, guardare il video relativo alla [pre-elaborazione dei dati in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/) .</span><span class="sxs-lookup"><span data-stu-id="f2bff-126">For more information on the data pre-processing step, see [Pre-processing data in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span></span>

## <a name="creating-features-from-your-data--feature-engineering"></a><span data-ttu-id="f2bff-127">Creazione di funzioni dai dati: progettazione di funzioni</span><span class="sxs-lookup"><span data-stu-id="f2bff-127">Creating features from your data--feature engineering</span></span>
<span data-ttu-id="f2bff-128">I dati di training sono costituiti da una matrice composta da esempi (record o osservazioni archiviate in righe), ognuno dei quali presenta un set di funzioni (variabili o campi archiviati in colonne).</span><span class="sxs-lookup"><span data-stu-id="f2bff-128">The training data consists of a matrix composed of examples (records or observations stored in rows), each of which has a set of features (variables or fields stored in columns).</span></span> <span data-ttu-id="f2bff-129">Le funzioni specificate nella progettazione sperimentale caratterizzeranno i modelli nei dati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-129">The features specified in the experimental design are expected to characterize the patterns in the data.</span></span> <span data-ttu-id="f2bff-130">Anche se molti dei campi dati non elaborati possono essere inclusi direttamente nel set di funzioni selezionate usato per il training di un modello, spesso devono essere costruite altre funzioni (progettate) dalle funzioni presenti nei dati non elaborati per generare un set di dati di training avanzato.</span><span class="sxs-lookup"><span data-stu-id="f2bff-130">Although many of the raw data fields can be directly included in the selected feature set used to train a model, additional engineered features often need to be constructed from the features in the raw data to generate an enhanced training data set.</span></span>

<span data-ttu-id="f2bff-131">Il tipo di funzioni da creare per migliorare il set di dati durante il training di un modello</span><span class="sxs-lookup"><span data-stu-id="f2bff-131">What kind of features should be created to enhance the data set when training a model?</span></span> <span data-ttu-id="f2bff-132">sono le funzioni progettate che migliorano il training e forniscono informazioni che consentono di differenziare meglio i modello nei dati</span><span class="sxs-lookup"><span data-stu-id="f2bff-132">Engineered features that enhance the training provide information that better differentiates the patterns in the data.</span></span> <span data-ttu-id="f2bff-133">Le nuove funzioni dovrebbero fornire informazioni aggiuntive che non vengono chiaramente acquisite o non risultano facilmente apparenti nel set di funzioni originali o esistenti, ma questo processo è una sorta di artificio.</span><span class="sxs-lookup"><span data-stu-id="f2bff-133">You expect the new features to provide additional information that is not clearly captured or easily apparent in the original or existing feature set, but this process is something of an art.</span></span> <span data-ttu-id="f2bff-134">Le decisioni valide e produttive richiedono spesso una certa esperienza specifica.</span><span class="sxs-lookup"><span data-stu-id="f2bff-134">Sound and productive decisions often require some domain expertise.</span></span>

<span data-ttu-id="f2bff-135">Quando si inizia a usare Azure Machine Learning, è più facile afferrare questo processo in modo concreto tramite gli esempi disponibili in Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="f2bff-135">When starting with Azure Machine Learning, it is easiest to grasp this process concretely by using samples provided in Machine Learning Studio.</span></span> <span data-ttu-id="f2bff-136">Di seguito ne vengono presentati due:</span><span class="sxs-lookup"><span data-stu-id="f2bff-136">Two examples are presented here:</span></span>

* <span data-ttu-id="f2bff-137">Un esempio di regressione basato sulla [stima del numero di noleggi di biciclette](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4) in un esperimento controllato in cui sono noti i valori di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f2bff-137">A regression example ([Prediction of the number of bike rentals](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) in a supervised experiment where the target values are known</span></span>
* <span data-ttu-id="f2bff-138">Un esempio di classificazione di data mining del testo tramite [Feature Hashing][feature-hashing]</span><span class="sxs-lookup"><span data-stu-id="f2bff-138">A text-mining classification example using [Feature Hashing][feature-hashing]</span></span>

### <a name="example-1-adding-temporal-features-for-a-regression-model"></a><span data-ttu-id="f2bff-139">Esempio 1: Aggiunta di funzioni temporali per il modello di regressione</span><span class="sxs-lookup"><span data-stu-id="f2bff-139">Example 1: Adding temporal features for a regression model</span></span>
<span data-ttu-id="f2bff-140">Per dimostrare come progettare le funzioni per un'attività di regressione, si userà l'esperimento "Demand forecasting of bikes" in Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="f2bff-140">To demonstrate how to engineer features for a regression task, let's use the experiment "Demand forecasting of bikes" in Azure Machine Learning Studio.</span></span> <span data-ttu-id="f2bff-141">L'obiettivo di questo esperimento è stimare la domanda di biciclette, ovvero il numero di noleggi di biciclette nell'arco di un mese, un giorno o un'ora specifica.</span><span class="sxs-lookup"><span data-stu-id="f2bff-141">The objective of this experiment is to predict the demand for the bikes, that is, the number of bike rentals within a specific month, day, or hour.</span></span> <span data-ttu-id="f2bff-142">Come dati di input non elaborati si usa il set di dati **Bike Rental UCI data set**.</span><span class="sxs-lookup"><span data-stu-id="f2bff-142">The data set **Bike Rental UCI data set** is used as the raw input data.</span></span>

<span data-ttu-id="f2bff-143">Questo set di dati si basa su dati reali della società Capital Bikeshare che gestisce una rete di noleggio di biciclette a Washington DC, negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-143">This data set is based on real data from the Capital Bikeshare company that maintains a bike rental network in Washington DC in the United States.</span></span> <span data-ttu-id="f2bff-144">Il set di dati rappresenta il numero di noleggi di biciclette in un'ora specifica del giorno dal 2011 al 2012 e include 17.379 righe e 17 colonne.</span><span class="sxs-lookup"><span data-stu-id="f2bff-144">The data set represents the number of bike rentals within a specific hour of a day, from 2011 to 2012, and it contains 17379 rows and 17 columns.</span></span> <span data-ttu-id="f2bff-145">Il set di funzioni non elaborate include le condizioni meteorologiche (temperatura, umidità, velocità del vento) e il tipo di giorno (festività o giorno feriale).</span><span class="sxs-lookup"><span data-stu-id="f2bff-145">The raw feature set contains weather conditions (temperature, humidity, wind speed) and the type of the day (holiday or weekday).</span></span> <span data-ttu-id="f2bff-146">Il campo per la stima è **cnt**, un conteggio che rappresenta i noleggi di biciclette in un'ora specifica e compreso nell'intervallo da 1 a 977.</span><span class="sxs-lookup"><span data-stu-id="f2bff-146">The field to predict is **cnt**, a count that represents the bike rentals within a specific hour and that ranges from 1 to 977.</span></span>

<span data-ttu-id="f2bff-147">Per costruire funzioni efficaci nei dati di training, vengono compilati quattro modelli di regressione con lo stesso algoritmo, ma con quattro diversi set di dati di training.</span><span class="sxs-lookup"><span data-stu-id="f2bff-147">To construct effective features in the training data, four regression models are built by using the same algorithm, but with four different training data sets.</span></span> <span data-ttu-id="f2bff-148">I quattro set di dati rappresentano gli stessi dati di input non elaborati, ma con un numero crescente di set di funzioni.</span><span class="sxs-lookup"><span data-stu-id="f2bff-148">The four data sets represent the same raw input data, but with an increasing number of features set.</span></span> <span data-ttu-id="f2bff-149">Queste funzioni sono raggruppate in quattro categorie:</span><span class="sxs-lookup"><span data-stu-id="f2bff-149">These features are grouped into four categories:</span></span>

1. <span data-ttu-id="f2bff-150">A = funzioni meteo + festività + giorno feriale + fine settimana per la giornata prevista.</span><span class="sxs-lookup"><span data-stu-id="f2bff-150">A = weather + holiday + weekday + weekend features for the predicted day</span></span>
2. <span data-ttu-id="f2bff-151">B = numero di biciclette noleggiate in ognuna delle 12 ore precedenti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-151">B = number of bikes that were rented in each of the previous 12 hours</span></span>
3. <span data-ttu-id="f2bff-152">C = numero di biciclette noleggiate in ognuno dei 12 giorni precedenti alla stessa ora.</span><span class="sxs-lookup"><span data-stu-id="f2bff-152">C = number of bikes that were rented in each of the previous 12 days at the same hour</span></span>
4. <span data-ttu-id="f2bff-153">D = numero di biciclette noleggiate in ognuna delle 12 settimane precedenti nello stesso giorno e alla stessa ora.</span><span class="sxs-lookup"><span data-stu-id="f2bff-153">D = number of bikes that were rented in each of the previous 12 weeks at the same hour and the same day</span></span>

<span data-ttu-id="f2bff-154">Oltre al set di funzioni A, che esiste già nei dati non elaborati originali, gli altri tre set di funzioni vengono creati tramite il processo di progettazione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="f2bff-154">Besides feature set A, which already exists in the original raw data, the other three sets of features are created through the feature engineering process.</span></span> <span data-ttu-id="f2bff-155">Il set di funzioni B acquisisce la domanda di biciclette recente.</span><span class="sxs-lookup"><span data-stu-id="f2bff-155">Feature set B captures the recent demand for the bikes.</span></span> <span data-ttu-id="f2bff-156">Il set di funzioni C acquisisce la domanda di biciclette in un particolare orario.</span><span class="sxs-lookup"><span data-stu-id="f2bff-156">Feature set C captures the demand for bikes at a particular hour.</span></span> <span data-ttu-id="f2bff-157">Il set di funzioni D acquisisce la domanda di biciclette in un particolare orario e giorno della settimana.</span><span class="sxs-lookup"><span data-stu-id="f2bff-157">Feature set D captures demand for bikes at particular hour and particular day of the week.</span></span> <span data-ttu-id="f2bff-158">Ognuno dei quattro set di dati di training include rispettivamente il set di funzioni A, A+B, A+B+C e A+B+C+D.</span><span class="sxs-lookup"><span data-stu-id="f2bff-158">Each of the four training data sets includes feature sets A, A+B, A+B+C, and A+B+C+D, respectively.</span></span>

<span data-ttu-id="f2bff-159">Nell'esperimento di Azure Machine Learning questi quattro set di dati vengono creati dai quattro rami del set di dati di input pre-elaborati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-159">In the Azure Machine Learning experiment, these four training data sets are formed via four branches from the pre-processed input data set.</span></span> <span data-ttu-id="f2bff-160">Ad eccezione del ramo più a sinistra, ogni ramo contiene un modulo [Execute R Script][execute-r-script], in cui un set di funzioni derivate (set B, C e D) viene rispettivamente costruito e aggiunto al set di dati importato.</span><span class="sxs-lookup"><span data-stu-id="f2bff-160">Except for the leftmost branch, each of these branches contains an [Execute R Script][execute-r-script] module in which a set of derived features (feature sets B, C, and D) is respectively constructed and appended to the imported data set.</span></span> <span data-ttu-id="f2bff-161">La figura seguente illustra lo script R usato per creare il set di funzioni B nel secondo ramo a sinistra.</span><span class="sxs-lookup"><span data-stu-id="f2bff-161">The following figure demonstrates the R script used to create feature set B in the second left branch.</span></span>

![Creazione di un set di funzioni](./media/machine-learning-feature-selection-and-engineering/addFeature-Rscripts.png)

<span data-ttu-id="f2bff-163">La tabella seguente riepiloga il confronto dei risultati delle prestazioni dei quattro modelli.</span><span class="sxs-lookup"><span data-stu-id="f2bff-163">The following table summarizes the comparison of the performance results of the four models.</span></span> <span data-ttu-id="f2bff-164">I risultati migliori vengono forniti dalle funzioni A+B+C.</span><span class="sxs-lookup"><span data-stu-id="f2bff-164">The best results are shown by features A+B+C.</span></span> <span data-ttu-id="f2bff-165">Si noti che il tasso di errore diminuisce quando si include un set di funzioni aggiuntivo nei dati di training.</span><span class="sxs-lookup"><span data-stu-id="f2bff-165">Note that the error rate decreases when additional feature sets are included in the training data.</span></span> <span data-ttu-id="f2bff-166">Ciò verifica la stima secondo cui i set di funzioni B e C forniscono altre informazioni rilevanti per l'attività di regressione.</span><span class="sxs-lookup"><span data-stu-id="f2bff-166">This verifies our presumption that the feature sets B and C provide additional relevant information for the regression task.</span></span> <span data-ttu-id="f2bff-167">L'aggiunta del set di funzioni D non sembra fornire un'altra riduzione del tasso di errore.</span><span class="sxs-lookup"><span data-stu-id="f2bff-167">Adding the D feature set does not seem to provide any additional reduction in the error rate.</span></span>

![Confronto dei risultati delle prestazioni](./media/machine-learning-feature-selection-and-engineering/result1.png)

### <span data-ttu-id="f2bff-169"><a name="example2"></a> Esempio 2: Creazione di funzioni per il data mining del testo</span><span class="sxs-lookup"><span data-stu-id="f2bff-169"><a name="example2"></a> Example 2: Creating features in text mining</span></span>
<span data-ttu-id="f2bff-170">La progettazione di funzioni viene ampiamente applicata nelle attività correlate al data mining del testo, ad esempio la classificazione di documenti e l'analisi del sentiment.</span><span class="sxs-lookup"><span data-stu-id="f2bff-170">Feature engineering is widely applied in tasks related to text mining, such as document classification and sentiment analysis.</span></span> <span data-ttu-id="f2bff-171">Ad esempio, quando si vogliono classificare documenti in diverse categorie, un tipico presupposto è il fatto che le parole o le frasi incluse in una categoria di documenti sono presenti con minore probabilità in un'altra categoria di documenti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-171">For example, when you want to classify documents into several categories, a typical assumption is that the words or phrases included in one document category are less likely to occur in another document category.</span></span> <span data-ttu-id="f2bff-172">In altre parole, la frequenza di distribuzione di parole o frasi è in grado di caratterizzare diverse categorie di documenti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-172">In other words, the frequency of the word or phrase distribution is able to characterize different document categories.</span></span> <span data-ttu-id="f2bff-173">Nelle applicazioni di data mining del testo per creare le funzioni che comportano frequenze di parole o frasi è necessario usare il processo di progettazione delle funzioni, poiché singole parti del contenuto di testo vengono in genere usate come dati di input.</span><span class="sxs-lookup"><span data-stu-id="f2bff-173">In text mining applications, the feature engineering process is needed to create the features involving word or phrase frequencies because individual pieces of text-contents usually serve as the input data.</span></span>

<span data-ttu-id="f2bff-174">Per completare questa attività, si applica una tecnica definita *hashing di funzioni* per trasformare in modo efficiente le funzioni di testo arbitrarie in indici.</span><span class="sxs-lookup"><span data-stu-id="f2bff-174">To achieve this task, a technique called *feature hashing* is applied to efficiently turn arbitrary text features into indices.</span></span> <span data-ttu-id="f2bff-175">Anziché associare ogni funzione di testo (parole o frasi) a un indice particolare, questo metodo applica una funzione hash alle funzioni e usa direttamente i relativi valori hash come indici.</span><span class="sxs-lookup"><span data-stu-id="f2bff-175">Instead of associating each text feature (words or phrases) to a particular index, this method functions by applying a hash function to the features and by using their hash values as indices directly.</span></span>

<span data-ttu-id="f2bff-176">In Azure Machine Learning è disponibile un modulo [Feature Hashing][feature-hashing] che crea queste funzioni basate su parole o frasi.</span><span class="sxs-lookup"><span data-stu-id="f2bff-176">In Azure Machine Learning, there is a [Feature Hashing][feature-hashing] module that creates these word or phrase features.</span></span> <span data-ttu-id="f2bff-177">La figura seguente mostra un esempio dell'uso di questo modulo.</span><span class="sxs-lookup"><span data-stu-id="f2bff-177">The following figure shows an example of using this module.</span></span> <span data-ttu-id="f2bff-178">Il set di dati di input contiene due colonne: la classificazione dei libri da 1 a 5 e il contenuto effettivo della recensione.</span><span class="sxs-lookup"><span data-stu-id="f2bff-178">The input data set contains two columns: the book rating ranging from 1 to 5 and the actual review content.</span></span> <span data-ttu-id="f2bff-179">L'obiettivo del modulo [Feature Hashing][feature-hashing] è quello recuperare nuove funzioni che mostrino la frequenza di occorrenza delle parole o frasi corrispondenti nella recensione di un libro particolare.</span><span class="sxs-lookup"><span data-stu-id="f2bff-179">The goal of this [Feature Hashing][feature-hashing] module is to retrieve new features that show the occurrence frequency of the corresponding words or phrases within the particular book review.</span></span> <span data-ttu-id="f2bff-180">Per usare questo modulo, è necessario completare i passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="f2bff-180">To use this module, you need to complete the following steps:</span></span>

1. <span data-ttu-id="f2bff-181">Selezionare la colonna che contiene il testo di input (**Col2** in questo esempio).</span><span class="sxs-lookup"><span data-stu-id="f2bff-181">Select the column that contains the input text (**Col2** in this example).</span></span>
2. <span data-ttu-id="f2bff-182">Impostare *Hashing bitsize* (Dimensione bit di hashing) su 8, che equivale alla creazione di 2^8=256 funzioni.</span><span class="sxs-lookup"><span data-stu-id="f2bff-182">Set *Hashing bitsize* to 8, which means 2^8=256 features are created.</span></span> <span data-ttu-id="f2bff-183">Per le parole o frasi nel testo viene generato un hash per 256 indici.</span><span class="sxs-lookup"><span data-stu-id="f2bff-183">The word or phrase in the text is then hashed to 256 indices.</span></span> <span data-ttu-id="f2bff-184">Il parametro *Hashing bitsize* (Dimensione bit di hashing) è compreso nell'intervallo da 1 a 31.</span><span class="sxs-lookup"><span data-stu-id="f2bff-184">The parameter *Hashing bitsize* ranges from 1 to 31.</span></span> <span data-ttu-id="f2bff-185">Se il parametro è impostato su un numero più elevato, è meno probabile che per le parole o le frasi venga generato un hash nello stesso indice.</span><span class="sxs-lookup"><span data-stu-id="f2bff-185">If the parameter is set to a larger number, the words or phrases are less likely to be hashed into the same index.</span></span>
3. <span data-ttu-id="f2bff-186">Impostare il parametro *N-grams* (N-grammi) su 2.</span><span class="sxs-lookup"><span data-stu-id="f2bff-186">Set the parameter *N-grams* to 2.</span></span> <span data-ttu-id="f2bff-187">In questo modo si recupera la frequenza di occorrenze di unigrammi (una funzione per ogni singola parola) e di digrammi (una funzione per ogni coppia di valori adiacenti) dal testo di input.</span><span class="sxs-lookup"><span data-stu-id="f2bff-187">This retrieves the occurrence frequency of unigrams (a feature for every single word) and bigrams (a feature for every pair of adjacent words) from the input text.</span></span> <span data-ttu-id="f2bff-188">L'intervallo del parametro *N-grams* (N-grammi) è compreso tra 0 e 10 e indica il numero massimo di parole sequenziali da includere in una funzione.</span><span class="sxs-lookup"><span data-stu-id="f2bff-188">The parameter *N-grams* ranges from 0 to 10, which indicates the maximum number of sequential words to be included in a feature.</span></span>  

![Modulo Feature Hashing](./media/machine-learning-feature-selection-and-engineering/feature-Hashing1.png)

<span data-ttu-id="f2bff-190">La figura seguente mostra l'aspetto delle nuove funzioni.</span><span class="sxs-lookup"><span data-stu-id="f2bff-190">The following figure shows what these new features look like.</span></span>

![Esempio di Feature Hashing](./media/machine-learning-feature-selection-and-engineering/feature-Hashing2.png)

## <a name="filtering-features-from-your-data--feature-selection"></a><span data-ttu-id="f2bff-192">Filtro delle funzioni dai dati: selezione di funzioni</span><span class="sxs-lookup"><span data-stu-id="f2bff-192">Filtering features from your data--feature selection</span></span>
<span data-ttu-id="f2bff-193">La *selezione delle funzioni* è un processo applicato comunemente alla costruzione di set di dati di training per le attività di modellazione predittive, come la classificazione o la regressione.</span><span class="sxs-lookup"><span data-stu-id="f2bff-193">*Feature selection* is a process that is commonly applied to the construction of training data sets for predictive modeling tasks such as classification or regression tasks.</span></span> <span data-ttu-id="f2bff-194">L'obiettivo consiste nel selezionare un subset di funzioni dal set di dati originale che riduce le dimensioni usando un set minimo di funzioni per rappresentare la quantità massima di varianza nei dati.</span><span class="sxs-lookup"><span data-stu-id="f2bff-194">The goal is to select a subset of the features from the original data set that reduces its dimensions by using a minimal set of features to represent the maximum amount of variance in the data.</span></span> <span data-ttu-id="f2bff-195">Questo subset di funzioni contiene le sole funzioni da includere per il training del modello.</span><span class="sxs-lookup"><span data-stu-id="f2bff-195">This subset of features contains the only features to be included to train the model.</span></span> <span data-ttu-id="f2bff-196">La selezione delle funzioni ha due scopi principali:</span><span class="sxs-lookup"><span data-stu-id="f2bff-196">Feature selection serves two main purposes:</span></span>

* <span data-ttu-id="f2bff-197">La selezione di funzioni migliora spesso la precisione della classificazione eliminando le funzioni irrilevanti, ridondanti o altamente correlate.</span><span class="sxs-lookup"><span data-stu-id="f2bff-197">Feature selection often increases classification accuracy by eliminating irrelevant, redundant, or highly correlated features.</span></span>
* <span data-ttu-id="f2bff-198">La selezione di funzioni riduce il numero di funzioni rendendo più efficiente il processo di training del modello.</span><span class="sxs-lookup"><span data-stu-id="f2bff-198">Feature selection decreases the number of features, which makes the model training process more efficient.</span></span> <span data-ttu-id="f2bff-199">Questo aspetto è particolarmente importante per gli strumenti di apprendimento, come le macchine a vettori di supporto, il cui training risulta costoso.</span><span class="sxs-lookup"><span data-stu-id="f2bff-199">This is particularly important for learners that are expensive to train such as support vector machines.</span></span>

<span data-ttu-id="f2bff-200">Anche se la selezione delle funzioni cerca di ridurre il numero di funzioni nel set di dati usato per il training del modello, non viene in genere definita con il termine *riduzione della dimensionalità*.</span><span class="sxs-lookup"><span data-stu-id="f2bff-200">Although feature selection seeks to reduce the number of features in the data set used to train the model, it is not usually referred to by the term *dimensionality reduction.*</span></span> <span data-ttu-id="f2bff-201">I metodi di selezione delle funzioni estraggono un subset delle funzioni originali presenti nei dati senza apportarvi modifiche.</span><span class="sxs-lookup"><span data-stu-id="f2bff-201">Feature selection methods extract a subset of original features in the data without changing them.</span></span>  <span data-ttu-id="f2bff-202">I metodi di riduzione della dimensionalità usano funzioni progettate che possono trasformare le funzioni originali e quindi modificarle.</span><span class="sxs-lookup"><span data-stu-id="f2bff-202">Dimensionality reduction methods employ engineered features that can transform the original features and thus modify them.</span></span> <span data-ttu-id="f2bff-203">Analisi in componenti principali, analisi di correlazione canonica e scomposizione di valori singolari sono esempi di metodi di riduzione della dimensionalità.</span><span class="sxs-lookup"><span data-stu-id="f2bff-203">Examples of dimensionality reduction methods include principal component analysis, canonical correlation analysis, and singular value decomposition.</span></span>

<span data-ttu-id="f2bff-204">Una categoria di metodi di selezione delle funzioni ampiamente applicata in un contesto supervisionato è la selezione delle funzioni basata su filtro.</span><span class="sxs-lookup"><span data-stu-id="f2bff-204">One widely applied category of feature selection methods in a supervised context is filter-based feature selection.</span></span> <span data-ttu-id="f2bff-205">Tramite la valutazione della correlazione tra ogni funzione e l'attributo di destinazione, questi metodi applicano una misura statistica per assegnare un punteggio a ogni funzione.</span><span class="sxs-lookup"><span data-stu-id="f2bff-205">By evaluating the correlation between each feature and the target attribute, these methods apply a statistical measure to assign a score to each feature.</span></span> <span data-ttu-id="f2bff-206">Queste funzioni vengono quindi classificate in base al punteggio, che può essere usato per impostare la soglia per mantenere o eliminare una funzione specifica.</span><span class="sxs-lookup"><span data-stu-id="f2bff-206">The features are then ranked by the score, which you can use to set the threshold for keeping or eliminating a specific feature.</span></span> <span data-ttu-id="f2bff-207">Correlazione di Pearson, informazione mutua e test del chi quadrato sono esempi di misure statistiche usate in questi metodi.</span><span class="sxs-lookup"><span data-stu-id="f2bff-207">Examples of the statistical measures used in these methods include Pearson Correlation, mutual information, and the Chi-squared test.</span></span>

<span data-ttu-id="f2bff-208">Azure Machine Learning Studio fornisce moduli per la selezione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="f2bff-208">Azure Machine Learning Studio provides modules for feature selection.</span></span> <span data-ttu-id="f2bff-209">Come illustrato nella figura seguente, questi moduli includono [Filter-Based Feature Selection][filter-based-feature-selection] e [Fisher Linear Discriminant Analysis][fisher-linear-discriminant-analysis].</span><span class="sxs-lookup"><span data-stu-id="f2bff-209">As shown in the following figure, these modules include [Filter-Based Feature Selection][filter-based-feature-selection] and [Fisher Linear Discriminant Analysis][fisher-linear-discriminant-analysis].</span></span>

![Esempio di selezione delle funzioni](./media/machine-learning-feature-selection-and-engineering/feature-Selection.png)

<span data-ttu-id="f2bff-211">Usare ad esempio il modulo [Filter-Based Feature Selection][filter-based-feature-selection] con l'esempio di data mining descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="f2bff-211">For example, use the [Filter-Based Feature Selection][filter-based-feature-selection] module with the text mining example outlined previously.</span></span> <span data-ttu-id="f2bff-212">Si supponga di voler compilare un modello di regressione in base a un set di 256 funzioni create con il modulo [Feature Hashing][feature-hashing] e che la variabile di risposta sia **Col1** e rappresenti le classificazioni delle recensioni di un libro in un intervallo da 1 a 5.</span><span class="sxs-lookup"><span data-stu-id="f2bff-212">Assume that you want to build a regression model after a set of 256 features is created through the [Feature Hashing][feature-hashing] module, and that the response variable is **Col1** and represents a book review rating ranging from 1 to 5.</span></span> <span data-ttu-id="f2bff-213">Impostare **Feature scoring method** (Metodo di assegnazione punteggio alla funzione) su **Pearson Correlation** (Correlazione di Pearson), **Target column** (Colonna di destinazione) su **Col1** e **Number of desired features** (Numero di funzioni desiderate) su **50**.</span><span class="sxs-lookup"><span data-stu-id="f2bff-213">Set **Feature scoring method** to **Pearson Correlation**, **Target column** to **Col1**, and **Number of desired features** to **50**.</span></span> <span data-ttu-id="f2bff-214">Il modulo [Filter-Based Feature Selection][filter-based-feature-selection] restituisce un set di dati contenente 50 funzioni con l'attributo di destinazione **Col1**.</span><span class="sxs-lookup"><span data-stu-id="f2bff-214">The module [Filter-Based Feature Selection][filter-based-feature-selection] then produces a data set containing 50 features together with the target attribute **Col1**.</span></span> <span data-ttu-id="f2bff-215">La figura seguente mostra il flusso dell'esperimento e i parametri di input.</span><span class="sxs-lookup"><span data-stu-id="f2bff-215">The following figure shows the flow of this experiment and the input parameters.</span></span>

![Esempio di selezione delle funzioni](./media/machine-learning-feature-selection-and-engineering/feature-Selection1.png)

<span data-ttu-id="f2bff-217">La figura seguente mostra i set di dati risultanti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-217">The following figure shows the resulting data sets.</span></span> <span data-ttu-id="f2bff-218">Il punteggio di ogni funzione viene calcolato in base alla correlazione di Pearson tra la funzione stessa e l'attributo di destinazione **Col1**.</span><span class="sxs-lookup"><span data-stu-id="f2bff-218">Each feature is scored based on the Pearson Correlation between itself and the target attribute **Col1**.</span></span> <span data-ttu-id="f2bff-219">Vengono mantenute le funzioni con i punteggi più alti.</span><span class="sxs-lookup"><span data-stu-id="f2bff-219">The features with top scores are kept.</span></span>

![Set di dati di selezione delle funzioni basata su filtro](./media/machine-learning-feature-selection-and-engineering/feature-Selection2.png)

<span data-ttu-id="f2bff-221">La figura seguente mostra i punteggi corrispondenti delle funzioni selezionate.</span><span class="sxs-lookup"><span data-stu-id="f2bff-221">The following figure shows the corresponding scores of the selected features.</span></span>

![Punteggi delle funzioni selezionate](./media/machine-learning-feature-selection-and-engineering/feature-Selection3.png)

<span data-ttu-id="f2bff-223">Applicando il modulo [Filter-Based Feature Selection][filter-based-feature-selection], vengono selezionate 50 delle 256 funzioni perché presentano le funzioni maggiormente correlate alle variabile di destinazione **Col1**, sulla base del metodo di assegnazione del punteggio denominato **Pearson Correlation**.</span><span class="sxs-lookup"><span data-stu-id="f2bff-223">By applying this [Filter-Based Feature Selection][filter-based-feature-selection] module, 50 out of 256 features are selected because they have the most features correlated with the target variable **Col1** based on the scoring method **Pearson Correlation**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="f2bff-224">Conclusione</span><span class="sxs-lookup"><span data-stu-id="f2bff-224">Conclusion</span></span>
<span data-ttu-id="f2bff-225">Progettazione di funzioni e selezione di funzioni sono due passaggi eseguiti comunemente per la preparazione dei dati di training durante la creazione di un modello di Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f2bff-225">Feature engineering and feature selection are two steps commonly performed to prepare the training data when building a machine learning model.</span></span> <span data-ttu-id="f2bff-226">In genere, la progettazione di funzioni viene applicata innanzitutto per generare altre funzioni e quindi viene eseguito il passaggio di selezione delle funzioni per eliminare quelle irrilevanti, ridondanti o altamente correlate.</span><span class="sxs-lookup"><span data-stu-id="f2bff-226">Normally, feature engineering is applied first to generate additional features, and then the feature selection step is performed to eliminate irrelevant, redundant, or highly correlated features.</span></span>

<span data-ttu-id="f2bff-227">Non sempre è necessario eseguire la progettazione o la selezione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="f2bff-227">It is not always necessarily to perform feature engineering or feature selection.</span></span> <span data-ttu-id="f2bff-228">La necessità di questi passaggi dipende dai dati disponibili o da raccogliere, dagli algoritmi scelti e dall'obiettivo dell'esperimento.</span><span class="sxs-lookup"><span data-stu-id="f2bff-228">Whether it is needed depends on the data you have or collect, the algorithm you pick, and the objective of the experiment.</span></span>

<!-- Module References -->
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
[feature-hashing]: https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[fisher-linear-discriminant-analysis]: https://msdn.microsoft.com/library/azure/dcaab0b2-59ca-4bec-bb66-79fd23540080/
