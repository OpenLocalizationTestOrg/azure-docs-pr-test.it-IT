---
title: Come configurare la replica geografica per Cache Redis di Azure | Microsoft Docs
description: Informazioni su come replicare le istanze di Cache Redis di Azure in aree geografiche diverse.
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: 71b0d4add7e642487f6d67cda692c500ee78b0e6
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-configure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="e27c5-103">Come configurare la replica geografica per Cache Redis di Azure</span><span class="sxs-lookup"><span data-stu-id="e27c5-103">How to configure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="e27c5-104">La replica geografica fornisce un meccanismo per il collegamento di due istanze di Cache Redis di Azure di livello Premium.</span><span class="sxs-lookup"><span data-stu-id="e27c5-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="e27c5-105">Una cache viene definita come la cache primaria collegata, mentre l'altra come la cache collegata secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-105">One cache is designated as the primary linked cache, and the other as the secondary linked cache.</span></span> <span data-ttu-id="e27c5-106">La cache secondaria collegata diventa di sola lettura e i dati scritti nella cache primaria vengono replicati nella cache collegata secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-106">The secondary linked cache becomes read-only, and data written to the primary cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="e27c5-107">Questa funzionalità può essere usata per replicare una cache nelle aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="e27c5-107">This functionality can be used to replicate a cache across Azure regions.</span></span> <span data-ttu-id="e27c5-108">In questo articolo viene fornita una guida alla configurazione della replica geografica per le istanze di Cache Redis di Azure di livello Premium.</span><span class="sxs-lookup"><span data-stu-id="e27c5-108">This article provides a guide to configuring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="e27c5-109">Prerequisiti per la replica geografica</span><span class="sxs-lookup"><span data-stu-id="e27c5-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="e27c5-110">Per configurare la replica geografica tra due cache, devono essere soddisfatti i prerequisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="e27c5-110">To configure Geo-replication between two caches, the following prerequisites must be met:</span></span>

- <span data-ttu-id="e27c5-111">Entrambe le cache devono essere cache di [livello Premium](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="e27c5-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="e27c5-112">Entrambe le cache devono trovarsi nella stessa sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="e27c5-112">Both caches must be in the same Azure subscription.</span></span>
- <span data-ttu-id="e27c5-113">La cache collegata secondaria deve avere lo stesso piano tariffario o un piano tariffario maggiore rispetto alla cache collegata primaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-113">The secondary linked cache must be either the same pricing tier or a larger pricing tier than the primary linked cache.</span></span>
- <span data-ttu-id="e27c5-114">Se la cache collegata primaria dispone di clustering abilitato, la cache collegata secondaria deve avere il clustering abilitato con lo stesso numero di partizioni della cache collegata primaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-114">If the primary linked cache has clustering enabled, the secondary linked cache must have clustering enabled with the same number of shards as the primary linked cache.</span></span>
- <span data-ttu-id="e27c5-115">Entrambe le cache devono essere create e in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="e27c5-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="e27c5-116">La persistenza non deve essere attivata in nessuna delle due cache.</span><span class="sxs-lookup"><span data-stu-id="e27c5-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="e27c5-117">La replica geografica tra le cache nella stessa rete virtuale è supportata.</span><span class="sxs-lookup"><span data-stu-id="e27c5-117">Geo-replication between caches in the same VNET is supported.</span></span> <span data-ttu-id="e27c5-118">È supportata anche la replica geografica tra cache di diverse reti virtuali, purché le due reti virtuali siano configurate in modo tale che le risorse nelle reti virtuali siano in grado di raggiungersi tra loro tramite connessioni TCP.</span><span class="sxs-lookup"><span data-stu-id="e27c5-118">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

<span data-ttu-id="e27c5-119">Dopo aver configurato la replica geografica, si applicano le restrizioni seguenti alla coppia di cache collegate:</span><span class="sxs-lookup"><span data-stu-id="e27c5-119">After Geo-replication is configured, the following restrictions apply to your linked cache pair:</span></span>

- <span data-ttu-id="e27c5-120">La cache collegata secondaria è di sola lettura. È possibile leggere da essa, ma non è possibile scrivervi dati.</span><span class="sxs-lookup"><span data-stu-id="e27c5-120">The secondary linked cache is read-only; you can read from it, but you can't write any data to it.</span></span> 
- <span data-ttu-id="e27c5-121">Tutti i dati presenti nella cache collegata secondaria prima dell'aggiunta del collegamento vengono rimossi.</span><span class="sxs-lookup"><span data-stu-id="e27c5-121">Any data that was in the secondary linked cache before the link was added is removed.</span></span> <span data-ttu-id="e27c5-122">Tuttavia, se la replica geografica viene successivamente rimossa, i dati replicati rimarranno nella cache collegata secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-122">If the Geo-replication is subsequently removed however, the replicated data remains in the secondary linked cache.</span></span>
- <span data-ttu-id="e27c5-123">Non è possibile avviare un'[operazione di ridimensionamento](cache-how-to-scale.md) nella cache o [modificare il numero di partizioni](cache-how-to-premium-clustering.md) se la cache ha il clustering abilitato.</span><span class="sxs-lookup"><span data-stu-id="e27c5-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change the number of shards](cache-how-to-premium-clustering.md) if the cache has clustering enabled.</span></span>
- <span data-ttu-id="e27c5-124">Non è possibile abilitare la persistenza in nessuna delle cache.</span><span class="sxs-lookup"><span data-stu-id="e27c5-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="e27c5-125">È possibile usare [Esporta](cache-how-to-import-export-data.md#export) con entrambe le cache, ma l'opzione [Importa](cache-how-to-import-export-data.md#import) è abilitata solo nella cache collegata primaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into the primary linked cache.</span></span>
- <span data-ttu-id="e27c5-126">Non è possibile eliminare la cache collegata o il gruppo di risorse che le contiene, fino a quando non si rimuove il collegamento di replica geografica.</span><span class="sxs-lookup"><span data-stu-id="e27c5-126">You can't delete either linked cache, or the resource group that contains them, until you remove the Geo-replication link.</span></span> <span data-ttu-id="e27c5-127">Per altre informazioni, vedere [Perché, quando si è tentato di eliminare la cache collegata, l'operazione non è riuscita?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="e27c5-127">For more information, see [Why did the operation fail when I tried to delete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="e27c5-128">Se le due cache si trovano in aree diverse, i costi di rete in uscita verranno applicati ai dati replicati nelle aree geografiche della cache collegata secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-128">If the two caches are in different regions, network egress costs will apply to the data replicated across regions to the secondary linked cache.</span></span> <span data-ttu-id="e27c5-129">Per altre informazioni, vedere [Quanto costa replicare i dati nelle aree di Azure?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="e27c5-129">For more information, see [How much does it cost to replicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="e27c5-130">Se la cache primaria (e relativa replica) si disattivano, non si verifica alcun failover automatico nella cache collegata secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-130">There is no automatic failover to the secondary linked cache if the primary cache (and its replica) go down.</span></span> <span data-ttu-id="e27c5-131">Per eseguire il failover delle applicazioni del client, è necessario rimuovere manualmente il collegamento di replica geografica e rivolgere le applicazioni del client verso la cache che in precedenza era la cache collegata secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-131">In order to failover client applications, you would need to manually remove the Geo-replication link and point the client applications to the cache that was formerly the secondary linked cache.</span></span> <span data-ttu-id="e27c5-132">Per altre informazioni, vedere [Come funziona il failover nella cache collegata secondaria?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="e27c5-132">For more information, see [How does failing over to the secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="e27c5-133">Aggiungere un collegamento di replica geografica</span><span class="sxs-lookup"><span data-stu-id="e27c5-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="e27c5-134">Per collegare due cache Premium per la replica geografica, fare clic su **Replica geografica** dal menu Risorsa della cache che va considerata come quella collegata primaria e quindi fare clic su **Add cache replication link** (Aggiungi collegamento di replica della cache) dal pannello **Replica geografica**.</span><span class="sxs-lookup"><span data-stu-id="e27c5-134">To link two premium caches together for geo-replication, click **Geo-replication** from the Resource menu of the cache intended as the primary linked cache, and then click **Add cache replication link** from the **Geo-replication** blade.</span></span>

    ![Aggiungi collegamento](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="e27c5-136">Fare clic sul nome della cache secondaria desiderata dall'elenco **Compatible caches** (Cache compatibili).</span><span class="sxs-lookup"><span data-stu-id="e27c5-136">Click the name of the desired secondary cache from the **Compatible caches** list.</span></span> <span data-ttu-id="e27c5-137">Se la cache desiderata non viene visualizzata nell'elenco, verificare che i [Prerequisiti per la replica geografica](#geo-replication-prerequisites) siano soddisfatti per la cache secondaria desiderata.</span><span class="sxs-lookup"><span data-stu-id="e27c5-137">If your desired cache isn't displayed in the list, verify that the [Geo-replication prerequisites](#geo-replication-prerequisites) for the desired secondary cache are met.</span></span> <span data-ttu-id="e27c5-138">Per filtrare le cache per area, fare clic sull'area desiderata nella mappa per visualizzare solo quelle cache nell'elenco **Compatible caches** (Cache compatibili).</span><span class="sxs-lookup"><span data-stu-id="e27c5-138">To filter the caches by region, click the desired region in the map to display only those caches in the **Compatible caches** list.</span></span>

    ![Cache compatibili con la replica geografica](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="e27c5-140">È anche possibile avviare il processo di collegamento o visualizzare i dettagli riguardanti la cache secondaria tramite il menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="e27c5-140">You can also initiate the linking process or view details about the secondary cache by using the context menu.</span></span>

    ![Menu di scelta rapida della replica geografica](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="e27c5-142">Fare clic su **Collega** per collegare le due cache e iniziare il processo di replica.</span><span class="sxs-lookup"><span data-stu-id="e27c5-142">Click **Link** to link the two caches together and begin the replication process.</span></span>

    ![Collega cache](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="e27c5-144">È possibile visualizzare lo stato di avanzamento del processo di replica nel pannello **Replica geografica**.</span><span class="sxs-lookup"><span data-stu-id="e27c5-144">You can view the progress of the replication process on the **Geo-replication** blade.</span></span>

    ![Stato del collegamento](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="e27c5-146">È anche possibile visualizzare lo stato del collegamento nel pannello **Panoramica** per le cache primaria e secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-146">You can also view the linking status on the **Overview** blade for both the primary and secondary caches.</span></span>

    ![Stato della cache](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="e27c5-148">Dopo aver completato il processo di replica, **Link status** (Stato collegamento) visualizza **Riuscito**.</span><span class="sxs-lookup"><span data-stu-id="e27c5-148">Once the replication process is complete, the **Link status** changes to **Succeeded**.</span></span>

    ![Stato della cache](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="e27c5-150">Durante il processo di collegamento, la cache collegata primaria resta disponibile per l'uso, ma la cache collegata secondaria non è disponibile finché non viene completato il processo di collegamento.</span><span class="sxs-lookup"><span data-stu-id="e27c5-150">During the linking process, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="e27c5-151">Rimuovere un collegamento di replica geografica</span><span class="sxs-lookup"><span data-stu-id="e27c5-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="e27c5-152">Per rimuovere il collegamento tra due cache e arrestare la replica geografica, fare clic su **Unlink caches** (Scollega cache) dal pannello **Replica geografica**.</span><span class="sxs-lookup"><span data-stu-id="e27c5-152">To remove the link between two caches and stop Geo-replication, click **Unlink caches** from the **Geo-replication** blade.</span></span>
    
    ![Scollega cache](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="e27c5-154">Al termine del processo di scollegamento, la cache secondaria è disponibile per le operazioni di lettura e scrittura.</span><span class="sxs-lookup"><span data-stu-id="e27c5-154">When the unlinking process completes, the secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="e27c5-155">Quando viene rimosso il collegamento di replica geografica, i dati replicati dalla cache collegata primaria restano nella cache secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-155">When the Geo-replication link is removed, the replicated data from the primary linked cache remains in the secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="e27c5-156">Domande frequenti sulla replica geografica</span><span class="sxs-lookup"><span data-stu-id="e27c5-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="e27c5-157">È possibile usare la replica geografica con una cache di livello Standard o Basic?</span><span class="sxs-lookup"><span data-stu-id="e27c5-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="e27c5-158">La cache è disponibile per l'uso durante il processo di collegamento o scollegamento?</span><span class="sxs-lookup"><span data-stu-id="e27c5-158">Is my cache available for use during the linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="e27c5-159">È possibile collegare più di due cache?</span><span class="sxs-lookup"><span data-stu-id="e27c5-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="e27c5-160">È possibile collegare due cache da diverse sottoscrizioni di Azure?</span><span class="sxs-lookup"><span data-stu-id="e27c5-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="e27c5-161">È possibile collegare due cache con dimensioni diverse?</span><span class="sxs-lookup"><span data-stu-id="e27c5-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="e27c5-162">È possibile usare la replica geografica con il clustering abilitato?</span><span class="sxs-lookup"><span data-stu-id="e27c5-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="e27c5-163">È possibile usare la replica geografica con le cache in una rete virtuale?</span><span class="sxs-lookup"><span data-stu-id="e27c5-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="e27c5-164">È possibile usare PowerShell o l'interfaccia della riga di comando di Azure per gestire la replica geografica?</span><span class="sxs-lookup"><span data-stu-id="e27c5-164">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="e27c5-165">Quanto costa replicare i dati nelle aree di Azure?</span><span class="sxs-lookup"><span data-stu-id="e27c5-165">How much does it cost to replicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="e27c5-166">Perché, quando si è tentato di eliminare la cache collegata, l'operazione non è riuscita?</span><span class="sxs-lookup"><span data-stu-id="e27c5-166">Why did the operation fail when I tried to delete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="e27c5-167">Quale area si deve usare per la cache collegata secondaria?</span><span class="sxs-lookup"><span data-stu-id="e27c5-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="e27c5-168">Come funziona il failover nella cache collegata secondaria?</span><span class="sxs-lookup"><span data-stu-id="e27c5-168">How does failing over to the secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="e27c5-169">È possibile usare la replica geografica con una cache di livello Standard o Basic?</span><span class="sxs-lookup"><span data-stu-id="e27c5-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="e27c5-170">No, la replica geografica è disponibile solo per le cache del livello Premium.</span><span class="sxs-lookup"><span data-stu-id="e27c5-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-the-linking-or-unlinking-process"></a><span data-ttu-id="e27c5-171">La cache è disponibile per l'uso durante il processo di collegamento o scollegamento?</span><span class="sxs-lookup"><span data-stu-id="e27c5-171">Is my cache available for use during the linking or unlinking process?</span></span>

- <span data-ttu-id="e27c5-172">Quando le due cache si collegano per la replica geografica, la cache collegata primaria resta disponibile per l'uso, ma la cache collegata secondaria non è disponibile finché non viene completato il processo di collegamento.</span><span class="sxs-lookup"><span data-stu-id="e27c5-172">When linking two caches together for Geo-replication, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>
- <span data-ttu-id="e27c5-173">Quando si rimuove il collegamento di replica geografica tra due cache, entrambe le cache restano disponibili per l'uso.</span><span class="sxs-lookup"><span data-stu-id="e27c5-173">When removing the Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="e27c5-174">È possibile collegare più di due cache?</span><span class="sxs-lookup"><span data-stu-id="e27c5-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="e27c5-175">No, quando si usa la replica geografica è possibile collegare solo due cache.</span><span class="sxs-lookup"><span data-stu-id="e27c5-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="e27c5-176">È possibile collegare due cache da diverse sottoscrizioni di Azure?</span><span class="sxs-lookup"><span data-stu-id="e27c5-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="e27c5-177">No, entrambe le cache devono trovarsi nella stessa sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="e27c5-177">No, both caches must be in the same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="e27c5-178">È possibile collegare due cache di dimensioni diverse?</span><span class="sxs-lookup"><span data-stu-id="e27c5-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="e27c5-179">Sì, purché la cache collegata secondaria sia più grande della cache collegata primaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-179">Yes, as long as the secondary linked cache is larger than the primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="e27c5-180">È possibile usare la replica geografica con il clustering abilitato?</span><span class="sxs-lookup"><span data-stu-id="e27c5-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="e27c5-181">Sì, purché entrambe le cache abbiano lo stesso numero di partizioni.</span><span class="sxs-lookup"><span data-stu-id="e27c5-181">Yes, as long as both caches have the same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="e27c5-182">È possibile usare la replica geografica con le cache in una rete virtuale?</span><span class="sxs-lookup"><span data-stu-id="e27c5-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="e27c5-183">Sì, la replica geografica di cache nelle reti virtuali è supportata.</span><span class="sxs-lookup"><span data-stu-id="e27c5-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="e27c5-184">La replica geografica tra le cache nella stessa rete virtuale è supportata.</span><span class="sxs-lookup"><span data-stu-id="e27c5-184">Geo-replication between caches in the same VNET is supported.</span></span>
- <span data-ttu-id="e27c5-185">È supportata anche la replica geografica tra cache di diverse reti virtuali, purché le due reti virtuali siano configurate in modo tale che le risorse nelle reti virtuali siano in grado di raggiungersi tra loro tramite connessioni TCP.</span><span class="sxs-lookup"><span data-stu-id="e27c5-185">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-to-manage-geo-replication"></a><span data-ttu-id="e27c5-186">È possibile usare PowerShell o l'interfaccia della riga di comando di Azure per gestire la replica geografica?</span><span class="sxs-lookup"><span data-stu-id="e27c5-186">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>

<span data-ttu-id="e27c5-187">In questo momento è possibile gestire la replica geografica solo tramite il portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="e27c5-187">At this time you can only manage Geo-replication using the Azure portal.</span></span>

### <a name="how-much-does-it-cost-to-replicate-my-data-across-azure-regions"></a><span data-ttu-id="e27c5-188">Quanto costa replicare i dati nelle aree di Azure?</span><span class="sxs-lookup"><span data-stu-id="e27c5-188">How much does it cost to replicate my data across Azure regions?</span></span>

<span data-ttu-id="e27c5-189">Quando si usa la replica geografica, i dati dalla cache collegata primaria vengono replicati nella cache collegata secondaria.</span><span class="sxs-lookup"><span data-stu-id="e27c5-189">When using Geo-replication, data from the primary linked cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="e27c5-190">Se le due cache collegate si trovano nella stessa area di Azure, non è previsto alcun addebito per il trasferimento dei dati.</span><span class="sxs-lookup"><span data-stu-id="e27c5-190">If the two linked caches are in the same Azure region, there is no charge for the data transfer.</span></span> <span data-ttu-id="e27c5-191">Se le due cache collegate si trovano in diverse aree di Azure, l'addebito per il trasferimento dei dati della replica geografica corrisponde al costo della larghezza di banda della replica di quei dati nelle altre aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="e27c5-191">If the two linked caches are in different Azure regions, the Geo-Replication data transfer charge is the bandwidth cost of replicating that data to the other Azure region.</span></span> <span data-ttu-id="e27c5-192">Per altre informazioni, vedere [Dettagli sui prezzi per la larghezza di banda](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="e27c5-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache"></a><span data-ttu-id="e27c5-193">Perché, quando si è tentato di eliminare la cache collegata, l'operazione non è riuscita?</span><span class="sxs-lookup"><span data-stu-id="e27c5-193">Why did the operation fail when I tried to delete my linked cache?</span></span>

<span data-ttu-id="e27c5-194">Quando due cache sono collegate, non è possibile eliminare una delle cache o il gruppo di risorse che le contiene fino a quando non si rimuove il collegamento di replica geografica.</span><span class="sxs-lookup"><span data-stu-id="e27c5-194">When two caches are linked together, you can't delete either cache or the resource group that contains them until you remove the Geo-replication link.</span></span> <span data-ttu-id="e27c5-195">Se si tenta di eliminare il gruppo di risorse che contiene una o entrambe le cache collegate, vengono eliminate le altre risorse nel gruppo di risorse, ma il gruppo di risorse rimane nello stato `deleting` mentre le cache collegate nel gruppo di risorse rimangono nello stato `running`.</span><span class="sxs-lookup"><span data-stu-id="e27c5-195">If you attempt to delete the resource group that contains one or both of the linked caches, the other resources in the resource group are deleted, but the resource group stays in the `deleting` state and any linked caches in the resource group remain in the `running` state.</span></span> <span data-ttu-id="e27c5-196">Per completare l'eliminazione del gruppo di risorse e le cache collegate all'interno di esso, interrompere il collegamento di replica geografica, come descritto in [Rimuovere un collegamento di replica geografica](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="e27c5-196">To complete the deletion of the resource group and the linked caches within it, break the Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="e27c5-197">Quale area si deve usare per la cache collegata secondaria?</span><span class="sxs-lookup"><span data-stu-id="e27c5-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="e27c5-198">In generale, è consigliabile che la cache sia presente nella stessa area di Azure dell'applicazione che accede ad essa.</span><span class="sxs-lookup"><span data-stu-id="e27c5-198">In general, it is recommended for your cache to exist in the same Azure region as the application that accesses it.</span></span> <span data-ttu-id="e27c5-199">Se l'applicazione dispone di un'area primaria e di fallback, le cache primaria e secondaria devono essere presenti in quelle stesse aree.</span><span class="sxs-lookup"><span data-stu-id="e27c5-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="e27c5-200">Per altre informazioni sulle aree abbinate, vedere [Continuità aziendale e ripristino di emergenza nelle aree geografiche abbinate di Azure](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="e27c5-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-to-the-secondary-linked-cache-work"></a><span data-ttu-id="e27c5-201">Come funziona il failover nella cache collegata secondaria?</span><span class="sxs-lookup"><span data-stu-id="e27c5-201">How does failing over to the secondary linked cache work?</span></span>

<span data-ttu-id="e27c5-202">Nella versione iniziale della replica geografica, Cache Redis di Azure non supporta il failover automatico nelle aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="e27c5-202">In the initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="e27c5-203">La replica geografica è usata principalmente in uno scenario di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="e27c5-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="e27c5-204">In uno scenario di ripristino di emergenza, i clienti devono portare lo stack dell'intera applicazione in un'area di backup in modo coordinato invece di consentire che i singoli componenti dell'applicazione decidano quando attivare i backup in modo autonomo.</span><span class="sxs-lookup"><span data-stu-id="e27c5-204">In a distater recovery scenario, customers should bring up the entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when to switch to their backups on their own.</span></span> <span data-ttu-id="e27c5-205">Ciò è particolarmente importante per Redis.</span><span class="sxs-lookup"><span data-stu-id="e27c5-205">This is especially relevant to Redis.</span></span> <span data-ttu-id="e27c5-206">Uno dei principali vantaggi di Redis è quello di essere un archivio a latenza molto bassa.</span><span class="sxs-lookup"><span data-stu-id="e27c5-206">One of the key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="e27c5-207">Se Redis usato da un'applicazione effettua il failover in un'area diversa di Azure, ma il livello di calcolo non lo fa, il tempo di round trip aggiunto avrà un impatto notevole sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="e27c5-207">If Redis used by an application fails over to a different Azure region but the compute tier does not, the added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="e27c5-208">Per questo motivo, si desidera che Redis effettui il failover automatico a causa di problemi temporanei di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="e27c5-208">For this reason, we would like to avoid Redis failing over automatically due to transient availability issues.</span></span>

<span data-ttu-id="e27c5-209">Attualmente, per avviare il failover, è necessario rimuovere il collegamento di replica geografica nel portale di Azure e quindi modificare l'endpoint di connessione nel client Redis dalla cache collegata primaria alla cache secondaria (in precedenza collegata).</span><span class="sxs-lookup"><span data-stu-id="e27c5-209">Currently, to initiate the failover, you need to remove the Geo-replication link in the Azure portal, and then change the connection end-point in the Redis client from the primary linked cache to the (formerly linked) secondary cache.</span></span> <span data-ttu-id="e27c5-210">Quando vengono dissociate le due cache, la replica diventa nuovamente una cache di lettura/scrittura regolare e accetta le richieste direttamente da client Redis.</span><span class="sxs-lookup"><span data-stu-id="e27c5-210">When the two caches are disassociated, the replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="e27c5-211">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="e27c5-211">Next steps</span></span>

<span data-ttu-id="e27c5-212">Altre informazioni nell'articolo [Introduzione al piano Premium di Cache Redis di Azure](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="e27c5-212">Learn more about the [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

