## <a name="configure-your-application-to-access-azure-storage"></a><span data-ttu-id="5b24b-101">Configurare l'applicazione per l'accesso all'archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="5b24b-101">Configure your application to access Azure Storage</span></span>
<span data-ttu-id="5b24b-102">Per autenticare l'applicazione per accedere ai servizi di archiviazione, è possibile procedere in due modi:</span><span class="sxs-lookup"><span data-stu-id="5b24b-102">There are two ways to authenticate your application to access Storage services:</span></span>

* <span data-ttu-id="5b24b-103">Chiave condivisa: usare la Chiave condivisa solo a scopo di test</span><span class="sxs-lookup"><span data-stu-id="5b24b-103">Shared Key: Use Shared Key for testing purposes only</span></span>
* <span data-ttu-id="5b24b-104">Firma di accesso condiviso: usare la firma di accesso condiviso per le applicazioni per la produzione</span><span class="sxs-lookup"><span data-stu-id="5b24b-104">Shared Access Signature (SAS): Use SAS for production applications</span></span>

### <a name="shared-key"></a><span data-ttu-id="5b24b-105">Chiave condivisa</span><span class="sxs-lookup"><span data-stu-id="5b24b-105">Shared Key</span></span>
<span data-ttu-id="5b24b-106">L'autenticazione con la chiave condivisa implica che l'applicazione userà il nome account e la chiave dell'account per accedere ai servizi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="5b24b-106">Shared Key authentication means that your application will use your account name and account key to access Storage services.</span></span> <span data-ttu-id="5b24b-107">Per mostrare rapidamente come usare questa libreria, in questa guida introduttiva verrà usata l'autenticazione con la chiave condivisa.</span><span class="sxs-lookup"><span data-stu-id="5b24b-107">For the purposes of quickly showing how to use this library, we will be using Shared Key authentication in this getting started.</span></span>

> [!WARNING] 
> <span data-ttu-id="5b24b-108">**Per scopi di test, usare solo l'autenticazione con chiave condivisa.**</span><span class="sxs-lookup"><span data-stu-id="5b24b-108">**Only use Shared Key authentication for testing purposes!**</span></span> <span data-ttu-id="5b24b-109">Il nome account e la chiave dell'account, che concedono l'accesso completo in lettura/scrittura all'account di archiviazione associato, verranno distribuiti a ogni persona che scarica l'app.</span><span class="sxs-lookup"><span data-stu-id="5b24b-109">Your account name and account key, which give full read/write access to the associated Storage account, will be distributed to every person that downloads your app.</span></span> <span data-ttu-id="5b24b-110">Questa procedura **non** è consigliabile perché si rischia che la chiave venga compromessa da client non attendibili.</span><span class="sxs-lookup"><span data-stu-id="5b24b-110">This is **not** a good practice as you risk having your key compromised by untrusted clients.</span></span>
> 
> 

<span data-ttu-id="5b24b-111">Quando si usa l'autenticazione con la chiave condivisa, si creerà una [stringa di connessione](../articles/storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="5b24b-111">When using Shared Key authentication, you will create a [connection string](../articles/storage/common/storage-configure-connection-string.md).</span></span> <span data-ttu-id="5b24b-112">La stringa di connessione è costituita da:</span><span class="sxs-lookup"><span data-stu-id="5b24b-112">The connection string is comprised of:</span></span>  

* <span data-ttu-id="5b24b-113">**DefaultEndpointsProtocol** : è possibile scegliere HTTP o HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5b24b-113">The **DefaultEndpointsProtocol** - you can choose HTTP or HTTPS.</span></span> <span data-ttu-id="5b24b-114">Tuttavia, è vivamente consigliato l'uso di HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5b24b-114">However, using HTTPS is highly recommended.</span></span>
* <span data-ttu-id="5b24b-115">**Nome account** : nome dell'account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="5b24b-115">The **Account Name** - the name of your storage account</span></span>
* <span data-ttu-id="5b24b-116">**Chiave account**: se si usa il [portale di Azure](https://portal.azure.com), passare all'account di archiviazione e fare clic sull'icona delle **chiavi** per trovare queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="5b24b-116">The **Account Key** - On the [Azure Portal](https://portal.azure.com), navigate to your storage account and click the **Keys** icon to find this information.</span></span>
* <span data-ttu-id="5b24b-117">(Facoltativo) **EndpointSuffix** : usata per i servizi di archiviazione in aree con suffissi dell'endpoint diversi, ad esempio per Azure China o Azure Governance.</span><span class="sxs-lookup"><span data-stu-id="5b24b-117">(Optional) **EndpointSuffix** - This is used for storage services in regions with different endpoint suffixes, such as Azure China or Azure Governance.</span></span>

<span data-ttu-id="5b24b-118">Ecco un esempio di stringa di connessione che usa l'autenticazione con la chiave condivisa:</span><span class="sxs-lookup"><span data-stu-id="5b24b-118">Here is an example of connection string using Shared Key authentication:</span></span>

`"DefaultEndpointsProtocol=https;AccountName=your_account_name_here;AccountKey=your_account_key_here"`

### <a name="shared-access-signatures-sas"></a><span data-ttu-id="5b24b-119">Firme di accesso condiviso</span><span class="sxs-lookup"><span data-stu-id="5b24b-119">Shared Access Signatures (SAS)</span></span>
<span data-ttu-id="5b24b-120">Per un'applicazione mobile, il metodo consigliato per autenticare una richiesta da parte di un client in base al servizio di archiviazione di Azure è di usare una firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="5b24b-120">For a mobile application, the recommended method for authenticating a request by a client against the Azure Storage service is by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="5b24b-121">La firma di accesso condiviso consente di concedere a un client l'accesso a una risorsa per un periodo di tempo specificato, con un set di autorizzazioni specificato.</span><span class="sxs-lookup"><span data-stu-id="5b24b-121">SAS allows you to grant a client access to a resource for a specified period of time, with a specified set of permissions.</span></span>
<span data-ttu-id="5b24b-122">Il proprietario dell'account di archiviazione dovrà generare una firma di accesso condiviso che verrà usata dai client mobili.</span><span class="sxs-lookup"><span data-stu-id="5b24b-122">As the storage account owner, you'll need to generate a SAS for your mobile clients to consume.</span></span> <span data-ttu-id="5b24b-123">Per generare la firma di accesso condiviso da distribuire ai client, è possibile che si voglia scrivere un apposito servizio separato.</span><span class="sxs-lookup"><span data-stu-id="5b24b-123">To generate the SAS, you'll probably want to write a separate service that generates the SAS to be distributed to your clients.</span></span> <span data-ttu-id="5b24b-124">A scopo di test è possibile usare [Microsoft Azure Storage Explorer](http://storageexplorer.com) o il [portale di Azure](https://portal.azure.com) per generare una firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="5b24b-124">For testing purposes, you can use the [Microsoft Azure Storage Explorer](http://storageexplorer.com) or the [Azure Portal](https://portal.azure.com) to generate a SAS.</span></span> <span data-ttu-id="5b24b-125">Quando si crea la firma di accesso condiviso, è possibile specificare l'intervallo di tempo in cui la firma di accesso condiviso è valida e le autorizzazioni che la firma di accesso condiviso concede al client.</span><span class="sxs-lookup"><span data-stu-id="5b24b-125">When you create the SAS, you can specify the time interval over which the SAS is valid, and the permissions that the SAS grants to the client.</span></span>

<span data-ttu-id="5b24b-126">L'esempio seguente mostra come usare Esplora archivi di Microsoft Azure per generare una firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="5b24b-126">The following example shows how to use the Microsoft Azure Storage Explorer to generate a SAS.</span></span>

1. <span data-ttu-id="5b24b-127">Se non è già stato fatto, [installare Esplora archivi di Microsoft Azure](http://storageexplorer.com)</span><span class="sxs-lookup"><span data-stu-id="5b24b-127">If you haven't already, [Install the Microsoft Azure Storage Explorer](http://storageexplorer.com)</span></span>
2. <span data-ttu-id="5b24b-128">connessione alla sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="5b24b-128">Connect to your subscription.</span></span>
3. <span data-ttu-id="5b24b-129">Fare clic sull'account di archiviazione e quindi sulla scheda "Azioni" in basso a sinistra.</span><span class="sxs-lookup"><span data-stu-id="5b24b-129">Click on your Storage account and click on the "Actions" tab at the bottom left.</span></span> <span data-ttu-id="5b24b-130">Fare clic su "Get Shared Access Signature" (Ottieni firma di accesso condiviso) per generare una "stringa di connessione" per la firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="5b24b-130">Click "Get Shared Access Signature" to generate a "connection string" for your SAS.</span></span>
4. <span data-ttu-id="5b24b-131">Di seguito è riportato un esempio di una stringa di connessione della firma di accesso condiviso che concede le autorizzazioni di lettura e scrittura a livello di servizio, contenitore e oggetto per il servizio BLOB dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="5b24b-131">Here is an example of a SAS connection string that grants read and write permissions at the service, container and object level for the blob service of the Storage account.</span></span>
   
   `"SharedAccessSignature=sv=2015-04-05&ss=b&srt=sco&sp=rw&se=2016-07-21T18%3A00%3A00Z&sig=3ABdLOJZosCp0o491T%2BqZGKIhafF1nlM3MzESDDD3Gg%3D;BlobEndpoint=https://youraccount.blob.core.windows.net"`

<span data-ttu-id="5b24b-132">Come si può osservare, quando si usa una firma di accesso condiviso, non si espone la chiave dell'account nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5b24b-132">As you can see, when using a SAS, you’re not exposing your account key in your application.</span></span> <span data-ttu-id="5b24b-133">Per altre informazioni sulla firma di accesso condiviso e sulle procedure consigliate per il relativo uso, vedere [Firme di accesso condiviso, parte 1: conoscere il modello di firma di accesso condiviso](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="5b24b-133">You can learn more about SAS and best practices for using SAS by checking out [Shared Access Signatures: Understanding the SAS model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span></span>

