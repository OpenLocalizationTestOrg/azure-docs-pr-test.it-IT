---
title: 'Database SQL: Informazioni sulle DTU | Documentazione Microsoft'
description: "Informazioni sulle unità di transazione di database SQL di Azure."
keywords: opzioni di database,prestazioni del database
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: CarlRabeler
ms.assetid: 89e3e9ce-2eeb-4949-b40f-6fc3bf520538
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: NA
ms.date: 04/13/2017
ms.author: carlrab
ms.openlocfilehash: fac947fa153d83b614dc35c3cc0d8e640bfe1c95
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="explaining-database-transaction-units-dtus-and-elastic-database-transaction-units-edtus"></a><span data-ttu-id="66981-105">Unità di transazione di database (DTU) e unità di transazione di database elastico (eDTU)</span><span class="sxs-lookup"><span data-stu-id="66981-105">Explaining Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="66981-106">Questo articolo illustra le unità di transazione di database (DTU) e le unità di transazione di database elastico (eDTU) e cosa accade quando si raggiunge il numero massimo di DTU o eDTU.</span><span class="sxs-lookup"><span data-stu-id="66981-106">This article explains Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs) and what happens when you hit the maximum DTUs or eDTUs.</span></span>  

## <a name="what-are-database-transaction-units-dtus"></a><span data-ttu-id="66981-107">Informazioni sulle unità di transazione di database (DTU)</span><span class="sxs-lookup"><span data-stu-id="66981-107">What are Database Transaction Units (DTUs)</span></span>
<span data-ttu-id="66981-108">Per un singolo database SQL di Azure a un livello di prestazioni specifico all'interno di un [livello di servizio](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft garantisce un certo livello di risorse per il database (a prescindere da qualsiasi altro database nel cloud di Azure) che fornisce un livello di prestazioni prevedibile.</span><span class="sxs-lookup"><span data-stu-id="66981-108">For a single Azure SQL database at a specific performance level within a [service tier](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft guarantees a certain level of resources for that database (independent of any other database in the Azure cloud) and providing a predictable level of performance.</span></span> <span data-ttu-id="66981-109">Questa quantità di risorse viene calcolata come numero di unità di transazione di database o DTU ed è una misura combinata di CPU, memoria, I/O (I/O di dati e log delle transazioni).</span><span class="sxs-lookup"><span data-stu-id="66981-109">This amount of resources is calculated as a number of Database Transaction Units or DTUs, and is a blended measure of CPU, memory, I/O (data and transaction log I/O).</span></span> <span data-ttu-id="66981-110">Il rapporto tra queste risorse è stato originariamente stabilito da un [carico di lavoro di benchmark OLTP](sql-database-benchmark-overview.md) progettato per essere rappresentativo dei carichi di lavoro OLTP reali.</span><span class="sxs-lookup"><span data-stu-id="66981-110">The ratio amongst these resources was originally determined by an [OLTP benchmark workload](sql-database-benchmark-overview.md) designed to be typical of real-world OLTP workloads.</span></span> <span data-ttu-id="66981-111">Quando il carico di lavoro supera la quantità di una di queste risorse, la velocità effettiva viene limitata, generando timeout e prestazioni più lente.</span><span class="sxs-lookup"><span data-stu-id="66981-111">When your workload exceeds the amount of any of these resources, your throughput is throttled - resulting in slower performance and timeouts.</span></span> <span data-ttu-id="66981-112">Le risorse utilizzate dal carico di lavoro non incidono sulle risorse disponibili per gli altri database SQL nel cloud di Azure e le risorse utilizzate dagli altri carichi di lavoro non incidono sulle risorse disponibili per il database SQL.</span><span class="sxs-lookup"><span data-stu-id="66981-112">The resources used by your workload do not impact the resources available to other SQL databases in the Azure cloud, and the resource used by other workloads do not impact the resources available to your SQL database.</span></span>

![rettangolo di selezione](./media/sql-database-what-is-a-dtu/bounding-box.png)

<span data-ttu-id="66981-114">Le DTU sono particolarmente utili per comprendere la quantità relativa di risorse tra i database SQL di Azure a diversi livelli di prestazioni e livelli di servizio.</span><span class="sxs-lookup"><span data-stu-id="66981-114">DTUs are most useful for understanding the relative amount of resources between Azure SQL Databases at different performance levels and service tiers.</span></span> <span data-ttu-id="66981-115">Ad esempio, raddoppiare le DTU aumentando il livello di prestazioni di un database equivale a raddoppiare il set di risorse disponibili per quel database.</span><span class="sxs-lookup"><span data-stu-id="66981-115">For example, doubling the DTUs by increasing the performance level of a database equates to doubling the set of resource available to that database.</span></span> <span data-ttu-id="66981-116">Ad esempio, un database Premium P11 con 1750 DTU fornisce 350 volte più potenza di calcolo DTU di un database Basic con 5 DTU.</span><span class="sxs-lookup"><span data-stu-id="66981-116">For example, a Premium P11 database with 1750 DTUs provides 350x more DTU compute power than a Basic database with 5 DTUs.</span></span>  

<span data-ttu-id="66981-117">Per ottenere maggiori dettagli sul consumo di risorse (DTU) del carico di lavoro, usare [Query Performance Insight del database SQL di Azure](sql-database-query-performance.md) per:</span><span class="sxs-lookup"><span data-stu-id="66981-117">To gain deeper insight into the resource (DTU) consumption of your workload, use [Azure SQL Database Query Performance Insight](sql-database-query-performance.md) to:</span></span>

- <span data-ttu-id="66981-118">Identificare le query principali a livello di CPU/durata/conteggio delle esecuzioni, che possono essere potenzialmente ottimizzate per migliorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="66981-118">Identify the top queries by CPU/Duration/Execution count that can potentially be tuned for improved performance.</span></span> <span data-ttu-id="66981-119">Ad esempio, una query con utilizzo intensivo dell'I/O potrebbe trarre vantaggio dall'utilizzo di [tecniche di ottimizzazione in memoria](sql-database-in-memory.md) per ottimizzare l'uso della memoria disponibile in un determinato livello di servizio e livello di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="66981-119">For example, an I/O intensive query might benefit from the use of [in-memory optimization techniques](sql-database-in-memory.md) to make better use of the available memory at a certain service tier and performance level.</span></span>
- <span data-ttu-id="66981-120">Eseguire il drill-down dei dettagli di una query, visualizzarne il testo e la cronologia di utilizzo delle risorse.</span><span class="sxs-lookup"><span data-stu-id="66981-120">Drill down into the details of a query, view its text and history of resource utilization.</span></span>
- <span data-ttu-id="66981-121">Accedere alle raccomandazioni relative all'ottimizzazione delle prestazioni che descrivono le azioni eseguite da [Advisor per database SQL](sql-database-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="66981-121">Access performance tuning recommendations that show actions performed by [SQL Database Advisor](sql-database-advisor.md).</span></span>

<span data-ttu-id="66981-122">È possibile [modificare i livelli di servizio](sql-database-service-tiers.md) in qualsiasi momento con tempi di inattività minimi per l'applicazione, in genere meno di 4 secondi.</span><span class="sxs-lookup"><span data-stu-id="66981-122">You can [change service tiers](sql-database-service-tiers.md) at any time with minimal downtime to your application (generally averaging under four seconds).</span></span> <span data-ttu-id="66981-123">Per molte aziende e app, la possibilità di creare database e connettere o disconnettere prestazioni su richiesta è sufficiente, specialmente se i modelli d'uso sono relativamente prevedibili.</span><span class="sxs-lookup"><span data-stu-id="66981-123">For many businesses and apps, being able to create databases and dial performance up or down on demand is enough, especially if usage patterns are relatively predictable.</span></span> <span data-ttu-id="66981-124">Ma se si dispone di modelli di utilizzo imprevedibili, può risultare difficile gestire i costi e il modello aziendale.</span><span class="sxs-lookup"><span data-stu-id="66981-124">But if you have unpredictable usage patterns, it can make it hard to manage costs and your business model.</span></span> <span data-ttu-id="66981-125">Per questo scenario usare un pool elastico con un determinato numero di eDTU condivise tra più database nel pool.</span><span class="sxs-lookup"><span data-stu-id="66981-125">For this scenario, you use an elastic pool with a certain number of eDTUs that are shared among multiple database in the pool.</span></span>

![Introduzione al database SQL: DTU di database singolo in base al livello](./media/sql-database-what-is-a-dtu/single_db_dtus.png)

## <a name="what-are-elastic-database-transaction-units-edtus"></a><span data-ttu-id="66981-127">Informazioni sulle unità di transazione di database elastico (eDTU)</span><span class="sxs-lookup"><span data-stu-id="66981-127">What are elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="66981-128">Anziché fornire un set di risorse (DTU) dedicato a un Database SQL che è sempre disponibile indipendentemente dal fatto che sia necessario o meno, è possibile inserire i database in un [pool elastico](sql-database-elastic-pool.md) in un server di database SQL che condivide un pool di risorse tra tali database.</span><span class="sxs-lookup"><span data-stu-id="66981-128">Rather than provide a dedicated set of resources (DTUs) to a SQL Database that is always available regardless of whether needed not, you can place databases into an [elastic pool](sql-database-elastic-pool.md) on a SQL Database server that shares a pool of resources among those database.</span></span> <span data-ttu-id="66981-129">Le risorse condivise in un pool elastico sono misurate dalle unità di transazione di database elastiche o eDTU.</span><span class="sxs-lookup"><span data-stu-id="66981-129">The shared resources in an elastic pool measured by elastic Database Transaction Units or eDTUs.</span></span> <span data-ttu-id="66981-130">I pool elastici offrono una soluzione semplice e conveniente per gestire gli obiettivi di prestazioni per più database con modelli di utilizzo estremamente mutevoli e imprevedibili.</span><span class="sxs-lookup"><span data-stu-id="66981-130">Elastic pools provide a simple cost effective solution to manage the performance goals for multiple databases that have widely varying and unpredictable usage patterns.</span></span> <span data-ttu-id="66981-131">In un pool elastico è possibile garantire che nessun database utilizzi tutte le risorse del pool e anche che una minima quantità di risorse sia sempre disponibile per ogni database del pool elastico.</span><span class="sxs-lookup"><span data-stu-id="66981-131">In an elastic pool, you can guarantee that no one database uses all of the resources in the pool and also that a minimum amount of resources is always available to a database in an elastic pool.</span></span> <span data-ttu-id="66981-132">Per altre informazioni, vedere [Pool elastici](sql-database-elastic-pool.md).</span><span class="sxs-lookup"><span data-stu-id="66981-132">See  [elastic pools](sql-database-elastic-pool.md) for more information.</span></span>

![Introduzione al database SQL: eDTU in base al livello](./media/sql-database-what-is-a-dtu/sqldb_elastic_pools.png)

<span data-ttu-id="66981-134">A un pool viene assegnato un numero definito di eDTU per un prezzo prestabilito.</span><span class="sxs-lookup"><span data-stu-id="66981-134">A pool is given a set number of eDTUs, for a set price.</span></span> <span data-ttu-id="66981-135">All'interno del pool elastico, i singoli database sono sufficientemente flessibili da assicurare la scalabilità automatica nell'ambito di limiti configurati.</span><span class="sxs-lookup"><span data-stu-id="66981-135">Within the elastic pool, individual databases are given the flexibility to auto-scale within the configured boundaries.</span></span> <span data-ttu-id="66981-136">In condizioni di carico elevato, un database può consumare più eDTU per soddisfare la domanda, mentre i database con carico ridotto ne consumano meno, fino ai database senza carico che non ne consumano affatto.</span><span class="sxs-lookup"><span data-stu-id="66981-136">Under heavy load, a database can consume more eDTUs to meet demand while databases under light loads consume less, up to the point that databases under no load consume no eDTUs.</span></span> <span data-ttu-id="66981-137">Effettuando il provisioning delle risorse per l'intero pool e non per i singoli database, le attività di gestione si semplificano e si ha a disposizione un budget prevedibile per il pool.</span><span class="sxs-lookup"><span data-stu-id="66981-137">By provisioning resources for the entire pool, rather than per database, management tasks are simplified and you have a predictable budget for the pool.</span></span>

<span data-ttu-id="66981-138">È possibile aggiungere altre eDTU a un pool esistente senza causare tempi di inattività del database o effetti negativi sui database nel pool.</span><span class="sxs-lookup"><span data-stu-id="66981-138">Additional eDTUs can be added to an existing pool with no database downtime and with no impact on the databases in the pool.</span></span> <span data-ttu-id="66981-139">Analogamente, se le eDTU aggiuntive non sono più necessarie, è possibile rimuoverle da un pool esistente in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="66981-139">Similarly, if extra eDTUs are no longer needed, they can be removed from an existing pool at any point in time.</span></span> <span data-ttu-id="66981-140">È possibile aggiungere o sottrarre database al pool oppure limitare la quantità di eDTU che un database può usare in condizioni di carico elevato per riservare eDTU per altri database.</span><span class="sxs-lookup"><span data-stu-id="66981-140">You can add or subtract databases to the pool, or limit the amount of eDTUs a database can use under heavy load to reserve eDTUs for other databases.</span></span> <span data-ttu-id="66981-141">Se si prevede un sottoutilizzo di risorse per un database, il database può essere rimosso dal pool e configurato come database singolo con la quantità di risorse prevista necessaria.</span><span class="sxs-lookup"><span data-stu-id="66981-141">If a database is predictably under-utilizing resources, you can move it out of the pool and configure it as a single database with predictable amount of resources it requires.</span></span>

## <a name="how-can-i-determine-the-number-of-dtus-needed-by-my-workload"></a><span data-ttu-id="66981-142">Come si determina il numero di DTU necessarie per il carico di lavoro?</span><span class="sxs-lookup"><span data-stu-id="66981-142">How can I determine the number of DTUs needed by my workload?</span></span>
<span data-ttu-id="66981-143">Se si intende eseguire la migrazione di un carico di lavoro locale o di un carico di lavoro di macchine virtuali di SQL Server a un database SQL di Azure, è possibile usare lo [strumento di calcolo DTU](http://dtucalculator.azurewebsites.net/) per simulare il numero di DTU necessarie.</span><span class="sxs-lookup"><span data-stu-id="66981-143">If you are looking to migrate an existing on-premises or SQL Server virtual machine workload to Azure SQL Database, you can use the [DTU Calculator](http://dtucalculator.azurewebsites.net/) to approximate the number of DTUs needed.</span></span> <span data-ttu-id="66981-144">Per un carico di lavoro esistente del database SQL di Azure, è possibile usare [Informazioni dettagliate prestazioni query del database SQL](sql-database-query-performance.md) per comprendere il consumo di risorse di database (DTU) e ottenere altri dati per l'ottimizzazione del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="66981-144">For an existing Azure SQL Database workload, you can use [SQL Database Query Performance Insight](sql-database-query-performance.md) to understand your database resource consumption (DTUs) to get deeper insight into how to optimize your workload.</span></span> <span data-ttu-id="66981-145">È anche possibile usare la DMV [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) per ottenere informazioni sul consumo di risorse per l'ultima ora.</span><span class="sxs-lookup"><span data-stu-id="66981-145">You can also use the [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV to get the resource consumption information for the last one hour.</span></span> <span data-ttu-id="66981-146">In alternativa è possibile eseguire query sulla vista del catalogo [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) per ottenere gli stessi dati per gli ultimi 14 giorni, anche se a una fedeltà inferiore di medie di cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="66981-146">Alternatively, the catalog view [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) can also be queried to get the same data for the last 14 days, although at a lower fidelity of five-minute averages.</span></span>

## <a name="how-do-i-know-if-i-could-benefit-from-an-elastic-pool-of-resources"></a><span data-ttu-id="66981-147">Come è possibile sapere se un pool elastico di risorse può essere utile?</span><span class="sxs-lookup"><span data-stu-id="66981-147">How do I know if I could benefit from an elastic pool of resources?</span></span>
<span data-ttu-id="66981-148">I pool sono adatti per un numero elevato di database con modelli di utilizzo specifici.</span><span class="sxs-lookup"><span data-stu-id="66981-148">Pools are suited for a large number of databases with specific utilization patterns.</span></span> <span data-ttu-id="66981-149">Per un determinato database, questo modello è caratterizzato da un utilizzo medio ridotto con picchi di utilizzo relativamente poco frequenti.</span><span class="sxs-lookup"><span data-stu-id="66981-149">For a given database, this pattern is characterized by low average utilization with relatively infrequent utilization spikes.</span></span> <span data-ttu-id="66981-150">Database SQL valuta automaticamente la cronologia d’utilizzo delle risorse dei database in un server di database SQL esistente e consiglia una configurazione appropriata del pool nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="66981-150">SQL Database automatically evaluates the historical resource usage of databases in an existing SQL Database server and recommends the appropriate pool configuration in the Azure portal.</span></span> <span data-ttu-id="66981-151">Per altre informazioni, vedere [Quando usare un pool elastico](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="66981-151">For more information, see [when should an elastic pool be used?](sql-database-elastic-pool.md)</span></span>

## <a name="what-happens-when-i-hit-my-maximum-dtus"></a><span data-ttu-id="66981-152">Cosa succede se si raggiunge il numero massimo di DTU</span><span class="sxs-lookup"><span data-stu-id="66981-152">What happens when I hit my maximum DTUs</span></span>
<span data-ttu-id="66981-153">I livelli di prestazioni vengono calibrati e gestiti per offrire le risorse necessarie per eseguire il carico di lavoro del database fino ai limiti massimi consentiti per il livello di servizio/livello di prestazioni selezionato.</span><span class="sxs-lookup"><span data-stu-id="66981-153">Performance levels are calibrated and governed to provide the needed resources to run your database workload up to the max limits allowed for your selected service tier/performance level.</span></span> <span data-ttu-id="66981-154">Se il carico di lavoro raggiunge uno dei limiti di CPU/IO dati/IO di log, si continuerà a ricevere le risorse al massimo livello consentito, ma probabilmente si noterà un aumento delle latenze per le query.</span><span class="sxs-lookup"><span data-stu-id="66981-154">If your workload is hitting the limits in one of CPU/Data IO/Log IO limits, you continue to receive the resources at the maximum allowed level, but you are likely to see increased latencies for your queries.</span></span> <span data-ttu-id="66981-155">Con questi limiti non si verificheranno errori, ma solo un rallentamento nel carico di lavoro, a meno che il rallentamento non diventi così grave da provocare il timeout delle query.</span><span class="sxs-lookup"><span data-stu-id="66981-155">These limits do not result in any errors, but rather a slowdown in the workload, unless the slowdown becomes so severe that queries start timing out.</span></span> <span data-ttu-id="66981-156">Se si raggiungono i limiti relativi al numero massimo di richieste o di sessioni utente simultanee (thread di lavoro), verranno visualizzati errori espliciti.</span><span class="sxs-lookup"><span data-stu-id="66981-156">If you are hitting limits of maximum allowed concurrent user sessions/requests (worker threads), you see explicit errors.</span></span> <span data-ttu-id="66981-157">Vedere [Limiti delle risorse del database SQL di Azure](sql-database-resource-limits.md) per informazioni sui limiti di risorse diverse da CPU, memoria, I/O di dati e I/O del log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="66981-157">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>

## <a name="next-steps"></a><span data-ttu-id="66981-158">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="66981-158">Next steps</span></span>
* <span data-ttu-id="66981-159">Vedere [Opzioni e prestazioni disponibili in ogni livello di servizio del database SQL](sql-database-service-tiers.md) per informazioni sulle DTU ed eDTU disponibili per database singoli e pool elastici.</span><span class="sxs-lookup"><span data-stu-id="66981-159">See [Service tier](sql-database-service-tiers.md) for information on the DTUs and eDTUs available for single databases and for elastic pools.</span></span>
* <span data-ttu-id="66981-160">Vedere [Limiti delle risorse del database SQL di Azure](sql-database-resource-limits.md) per informazioni sui limiti di risorse diverse da CPU, memoria, I/O di dati e I/O del log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="66981-160">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>
* <span data-ttu-id="66981-161">Vedere [Informazioni dettagliate prestazioni query del database SQL di Azure](sql-database-query-performance.md) per informazioni sul consumo di DTU.</span><span class="sxs-lookup"><span data-stu-id="66981-161">See [SQL Database Query Performance Insight](sql-database-query-performance.md) to understand your (DTUs) consumption.</span></span>
* <span data-ttu-id="66981-162">Vedere [Informazioni generali sul benchmark del database SQL di Azure](sql-database-benchmark-overview.md) per comprendere la metodologia alla base del carico di lavoro di benchmark OLTP usato per determinare la combinazione di valori per la DTU.</span><span class="sxs-lookup"><span data-stu-id="66981-162">See [SQL Database benchmark overview](sql-database-benchmark-overview.md) to understand the methodology behind the OLTP benchmark workload used to determine the DTU blend.</span></span>
