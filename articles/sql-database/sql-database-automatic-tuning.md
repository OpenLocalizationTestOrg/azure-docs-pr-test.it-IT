---
title: Database - aaaSQL ottimizzazione automatica | Documenti Microsoft
description: Database SQL analizza query SQL e automaticaly adatta toouser del carico di lavoro.
services: sql-database
documentationcenter: 
author: jovanpop-msft
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/05/2017
ms.author: jovanpop
ms.openlocfilehash: 897a8deaabedb6727dc49958c64d0433c5f2e4f4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="automatic-tuning"></a><span data-ttu-id="16969-103">Ottimizzazione automatica</span><span class="sxs-lookup"><span data-stu-id="16969-103">Automatic tuning</span></span>

<span data-ttu-id="16969-104">Database SQL di Azure è un servizio dati completamente gestito che consente di monitorare le query hello che vengono eseguite sul database hello e automaticamente possono migliorare le prestazioni del carico di lavoro hello.</span><span class="sxs-lookup"><span data-stu-id="16969-104">Azure SQL Database is a fully managed data service that monitors hello queries that are executed on hello database and can automatically improve performance of hello workload.</span></span> <span data-ttu-id="16969-105">Database SQL di Azure dispone di un meccanismo di intelligence predefinite che è possibile ottimizzare e migliorare le prestazioni delle query da adattare dinamicamente il carico di lavoro di hello database tooyour automaticamente.</span><span class="sxs-lookup"><span data-stu-id="16969-105">Azure SQL Database has a built-in intelligence mechanism that can automatically tune and improve performance of your queries by dynamically adapting hello database tooyour workload.</span></span> <span data-ttu-id="16969-106">Ottimizzazione automatica nel Database SQL di Azure potrebbe essere una delle funzionalità più importanti hello che è possibile abilitare sulle prestazioni del Database SQL di Azure toooptimize delle query.</span><span class="sxs-lookup"><span data-stu-id="16969-106">Automatic tuning in Azure SQL Database might be one of hello most important features that you can enable on Azure SQL Database toooptimize performance of your queries.</span></span>

<span data-ttu-id="16969-107">Vedere l'articolo per la procedura hello troppo[abilitare la regolazione automatica](sql-database-automatic-tuning-enable.md) utilizzando hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="16969-107">See this article for hello steps too[enable automatic tuning](sql-database-automatic-tuning-enable.md) using hello Azure portal.</span></span>

## <a name="why-automatic-tuning"></a><span data-ttu-id="16969-108">Perché optare per l'ottimizzazione automatica?</span><span class="sxs-lookup"><span data-stu-id="16969-108">Why automatic tuning?</span></span>

<span data-ttu-id="16969-109">Una delle attività principali di hello in Amministrazione classica di database esegue il monitoraggio del carico di lavoro di hello, identificazione critici SQL esegue una query, gli indici devono essere aggiunti tooimprove prestazioni di indici utilizzato di rado.</span><span class="sxs-lookup"><span data-stu-id="16969-109">One of hello main tasks in classic database administration is monitoring hello workload, identifying critical SQL queries, indexes that should be added tooimprove performance, and rarely used indexes.</span></span> <span data-ttu-id="16969-110">Database SQL di Azure fornisce una visione dettagliata query hello e gli indici che è necessario toomonitor.</span><span class="sxs-lookup"><span data-stu-id="16969-110">Azure SQL Database provides detailed insight into hello queries and indexes that you need toomonitor.</span></span> <span data-ttu-id="16969-111">Il monitoraggio costante dei database è tuttavia un'attività complessa e tediosa, in particolare quando sono coinvolti molti database.</span><span class="sxs-lookup"><span data-stu-id="16969-111">However, constantly monitoring database is a hard and tedious task, especially when dealing with many databases.</span></span> <span data-ttu-id="16969-112">Gestisce un numero elevato di database potrebbe essere impossibile toodo in modo efficiente anche tutti gli strumenti disponibili e i rapporti forniti da Database SQL di Azure e portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="16969-112">Managing a huge number of databases might be impossible toodo efficiently even with all available tools and reports that Azure SQL Database and Azure portal provide.</span></span> <span data-ttu-id="16969-113">Invece di monitoraggio e ottimizzazione del database manualmente, è possibile delegare alcuni hello di monitoraggio e ottimizzazione azioni tooAzure Database SQL utilizzando le funzionalità di ottimizzazione automatica.</span><span class="sxs-lookup"><span data-stu-id="16969-113">Instead of monitoring and tuning your database manually, you might consider delegating some of hello monitoring and tuning actions tooAzure SQL Database using automatic tuning feature.</span></span> 


> [!VIDEO https://channel9.msdn.com/Blogs/Azure-in-the-Enterprise/Enabling-Azure-SQL-Database-Auto-Tuning-at-Scale-for-Microsoft-IT/player]
>

## <a name="how-does-automatic-tuning-work"></a><span data-ttu-id="16969-114">Come funziona l'ottimizzazione automatica</span><span class="sxs-lookup"><span data-stu-id="16969-114">How does automatic tuning work?</span></span>

<span data-ttu-id="16969-115">Database SQL di Azure dispone di un processo di analisi e monitoraggio delle prestazioni continua costantemente conoscenza hello caratteristica del carico di lavoro e identifica potenziali problemi e i miglioramenti.</span><span class="sxs-lookup"><span data-stu-id="16969-115">Azure SQL Database has a continuous performance monitoring and analysis process that constantly learns about hello characteristic of your workload and identify potential issues and improvements.</span></span>

![Processo di ottimizzazione automatica](./media/sql-database-automatic-tuning/tuning-process.png)

<span data-ttu-id="16969-117">Questa consente al processo toodynamically Database SQL di Azure adattare il carico di lavoro tooyour individuando quali indici e i piani potrebbero migliorare le prestazioni dei carichi di lavoro e gli indici selezionati influire sui carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="16969-117">This process enables Azure SQL Database toodynamically adapt tooyour workload by finding what indexes and plans might improve performance of your workloads and what indexes affect your workloads.</span></span> <span data-ttu-id="16969-118">In base ai risultati raccolti, l'ottimizzazione automatica applica le azioni di ottimizzazione che consentono di migliorare le prestazioni del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="16969-118">Based on these findings, automatic tuning applies tuning actions that improve performance of your workload.</span></span> <span data-ttu-id="16969-119">Inoltre, i Database SQL di Azure monitora costantemente prestazioni dopo qualsiasi modifica apportata dal tooensure di ottimizzazione automatica che è possibile migliorare le prestazioni del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="16969-119">In addition, Azure SQL Database continuously monitors performance after any change made by automatic tuning tooensure that it improves performance of your workload.</span></span> <span data-ttu-id="16969-120">Qualsiasi azione che non introduce miglioramenti delle prestazioni viene annullata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="16969-120">Any action that didn’t improve performance is automatically reverted.</span></span> <span data-ttu-id="16969-121">Il processo di verifica è una funzionalità chiave che assicura che qualsiasi modifica apportata dall'ottimizzazione automatica non diminuisca le prestazioni di hello del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="16969-121">This verification process is a key feature that ensures that any change made by automatic tuning does not decrease hello performance of your workload.</span></span>

<span data-ttu-id="16969-122">Nel database SQL di Azure sono disponibili due contesti di ottimizzazione automatica:</span><span class="sxs-lookup"><span data-stu-id="16969-122">There are two automatic tuning aspects that are available in Azure SQL Database:</span></span>

 -  <span data-ttu-id="16969-123">**Gestione automatica degli indici** che consente di identificare gli indici da aggiungere al database e quelli che è consigliabile rimuovere.</span><span class="sxs-lookup"><span data-stu-id="16969-123">**Automatic index management** that identifies indexes that should be added in your database, and indexes that should be removed.</span></span>
 -  <span data-ttu-id="16969-124">**Correzione automatica dei piani** (presto disponibile, già presente in SQL Server 2017) che consente di identificare i piani problematici e correggere i problemi di prestazioni dei piani SQL.</span><span class="sxs-lookup"><span data-stu-id="16969-124">**Automatic plan correction** (coming soon, already available in SQL Server 2017) that identifies problematic plans and fixes SQL plan performance problems.</span></span>

## <a name="automatic-index-management"></a><span data-ttu-id="16969-125">Gestione automatica degli indici</span><span class="sxs-lookup"><span data-stu-id="16969-125">Automatic index management</span></span>

<span data-ttu-id="16969-126">Nel database SQL di Azure la gestione degli indici è semplice perché il database SQL di Azure raccoglie informazioni sul carico di lavoro e assicura che i dati vengano indicizzati sempre in modo ottimale.</span><span class="sxs-lookup"><span data-stu-id="16969-126">In Azure SQL Database, index management is easy because Azure SQL Database learns about your workload and ensures that your data is always optimally indexed.</span></span> <span data-ttu-id="16969-127">La progettazione appropriata degli indici è fondamentale per ottenere prestazioni ottimali del carico di lavoro e la gestione automatica degli indici risulta utile per ottimizzare gli indici.</span><span class="sxs-lookup"><span data-stu-id="16969-127">Proper index design is crucial for optimal performance of your workload, and automatic index management can help you optimize your indexes.</span></span> <span data-ttu-id="16969-128">La gestione automatica degli indici possibile correggere i problemi di prestazioni nel database in modo non corretto indicizzati, o gestire e migliorare gli indici lo schema del database esistente hello.</span><span class="sxs-lookup"><span data-stu-id="16969-128">Automatic index management can either fix performance issues in incorrectly indexed databases, or maintain and improve indexes on hello existing database schema.</span></span> 

### <a name="why-do-you-need-index-management"></a><span data-ttu-id="16969-129">Utilità della gestione degli indici</span><span class="sxs-lookup"><span data-stu-id="16969-129">Why do you need index management?</span></span>

<span data-ttu-id="16969-130">Indici velocizzare alcune delle query che recuperano i dati dalle tabelle di hello; Tuttavia, può rallentare le query hello aggiornamento dei dati.</span><span class="sxs-lookup"><span data-stu-id="16969-130">Indexes speed up some of your queries that read data from hello tables; however, they can slow down hello queries that update data.</span></span> <span data-ttu-id="16969-131">È necessario toocarefully analizzare quando toocreate un indice e le colonne che è necessario tooinclude in hello indice.</span><span class="sxs-lookup"><span data-stu-id="16969-131">You need toocarefully analyze when toocreate an index and what columns you need tooinclude in hello index.</span></span> <span data-ttu-id="16969-132">Alcuni indici potrebbero non essere più necessari dopo un certo periodo di tempo.</span><span class="sxs-lookup"><span data-stu-id="16969-132">Some indexes might not be needed after some time.</span></span> <span data-ttu-id="16969-133">Pertanto, è necessario tooperiodically identificare ed eliminare gli indici hello non portare i vantaggi.</span><span class="sxs-lookup"><span data-stu-id="16969-133">Therefore, you would need tooperiodically identify and drop hello indexes that do not bring any benefits.</span></span> <span data-ttu-id="16969-134">Se si ignora hello indici inutilizzati, avrebbe ridotto la prestazione delle query hello aggiornamento dei dati senza alcun vantaggio per le query hello che leggono i dati.</span><span class="sxs-lookup"><span data-stu-id="16969-134">If you ignore hello unused indexes, performance of hello queries that update data would be decreased without any benefit on hello queries that read data.</span></span> <span data-ttu-id="16969-135">Gli indici inutilizzati influire sulle prestazioni complessive del sistema hello perché altri aggiornamenti necessaria la registrazione non necessaria.</span><span class="sxs-lookup"><span data-stu-id="16969-135">Unused indexes also affect overall performance of hello system because additional updates require unnecessary logging.</span></span>

<span data-ttu-id="16969-136">Ricerca set ottimale di hello di indici che consentono di migliorare le prestazioni delle query hello leggere i dati delle tabelle che hanno un impatto minimo per gli aggiornamenti, potrebbe essere necessario analysis continua e complessi.</span><span class="sxs-lookup"><span data-stu-id="16969-136">Finding hello optimal set of indexes that improve performance of hello queries that read data from your tables and have minimal impact on updates might require continuous and complex analysis.</span></span>

<span data-ttu-id="16969-137">Database SQL di Azure Usa intelligenti e regole avanzate di analizzare le query, identificare gli indici che sarebbero ottimali per i carichi di lavoro corrente e gli indici di hello potrebbero essere rimossa.</span><span class="sxs-lookup"><span data-stu-id="16969-137">Azure SQL Database uses built-in intelligence and advanced rules that analyze your queries, identify indexes that would be optimal for your current workloads, and hello indexes might be removed.</span></span> <span data-ttu-id="16969-138">Database SQL di Azure consente di disporre di un set minimo necessario di indici che ottimizzare le query hello che leggono i dati, con un impatto ridotto a icona hello sul hello altre query.</span><span class="sxs-lookup"><span data-stu-id="16969-138">Azure SQL Database ensures that you have a minimal necessary set of indexes that optimize hello queries that read data, with hello minimized impact on hello other queries.</span></span>

### <a name="how-tooidentify-indexes-that-need-toobe-changed-in-your-database"></a><span data-ttu-id="16969-139">Come tooidentify indici toobe tale esigenza modificata nel database?</span><span class="sxs-lookup"><span data-stu-id="16969-139">How tooidentify indexes that need toobe changed in your database?</span></span>

<span data-ttu-id="16969-140">Il database SQL di Azure semplifica il processo di gestione degli indici.</span><span class="sxs-lookup"><span data-stu-id="16969-140">Azure SQL Database makes index management process easy.</span></span> <span data-ttu-id="16969-141">Anziché operazione laboriosa hello di analisi del carico di lavoro manuale e il monitoraggio di indice, Database SQL di Azure analizza il carico di lavoro, consente di identificare query hello che potrebbe essere eseguita più velocemente con un nuovo indice e identifica gli indici inutilizzati o duplicati.</span><span class="sxs-lookup"><span data-stu-id="16969-141">Instead of hello tedious process of manual workload analysis and index monitoring, Azure SQL Database analyzes your workload, identifies hello queries that could be executed faster with a new index, and identifies unused or duplicated indexes.</span></span> <span data-ttu-id="16969-142">Per altre informazioni sull'identificazione degli indici che devono essere modificati, vedere [Find index recommendations in Azure portal](sql-database-advisor-portal.md) (Trovare raccomandazioni per gli indici nel portale di Azure).</span><span class="sxs-lookup"><span data-stu-id="16969-142">Find more information about identification of indexes that should be changed at [Find index recommendations in Azure portal](sql-database-advisor-portal.md).</span></span>

### <a name="automatic-index-management-considerations"></a><span data-ttu-id="16969-143">Considerazioni sulla gestione automatica degli indici</span><span class="sxs-lookup"><span data-stu-id="16969-143">Automatic index management considerations</span></span>

<span data-ttu-id="16969-144">Se si ritiene che le regole predefinite di hello miglioramento delle prestazioni di hello del database, si potrebbe gestire database SQL di Azure automaticamente gli indici.</span><span class="sxs-lookup"><span data-stu-id="16969-144">If you find that hello built-in rules improve hello performance of your database, you might let Azure SQL database automatically manage your indexes.</span></span>

<span data-ttu-id="16969-145">Azioni richieste toocreate indici necessarie nei database di SQL Azure potrebbero utilizzare risorse e temporaneamente le prestazioni del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="16969-145">Actions required toocreate necessary indexes in Azure SQL Databases might consume resources and temporally affect workload performance.</span></span> <span data-ttu-id="16969-146">impatto hello toominimize della creazione dell'indice sulle prestazioni del carico di lavoro, Database SQL di Azure Trova finestra ora appropriato hello per qualsiasi operazione di gestione dell'indice.</span><span class="sxs-lookup"><span data-stu-id="16969-146">toominimize hello impact of index creation on workload performance, Azure SQL Database finds hello appropriate time window for any index management operation.</span></span> <span data-ttu-id="16969-147">Ottimizzazione azione viene posticipato se hello database risorse tooexecute il carico di lavoro e avviato durante hello database dispone di sufficienti risorse inutilizzate che possono essere utilizzate per attività di manutenzione hello.</span><span class="sxs-lookup"><span data-stu-id="16969-147">Tuning action is postponed if hello database needs resources tooexecute your workload, and started when hello database has enough unused resources that can be used for hello maintenance task.</span></span> <span data-ttu-id="16969-148">Una funzionalità importante nella gestione automatica dell'indice è una verifica di azioni di hello.</span><span class="sxs-lookup"><span data-stu-id="16969-148">One important feature in automatic index management is a verification of hello actions.</span></span> <span data-ttu-id="16969-149">Quando il Database SQL di Azure crea o Elimina indice, un processo di monitoraggio consente di analizzare le prestazioni di tooverify il carico di lavoro che l'azione di hello miglioramento delle prestazioni di hello.</span><span class="sxs-lookup"><span data-stu-id="16969-149">When Azure SQL Database creates or drops index, a monitoring process analyzes performance of your workload tooverify that hello action improved hello performance.</span></span> <span data-ttu-id="16969-150">Se non introducono miglioramenti significativi: azione hello viene immediatamente ripristinato.</span><span class="sxs-lookup"><span data-stu-id="16969-150">If it didn’t bring significant improvement – hello action is immediately reverted.</span></span> <span data-ttu-id="16969-151">In questo modo, il database SQL di Azure garantisce che le azioni automatiche non influiscano negativamente sulle prestazioni del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="16969-151">This way, Azure SQL Database ensures that automatic actions do not negatively impact performance of your workload.</span></span> <span data-ttu-id="16969-152">Gli indici creati tramite l'ottimizzazione automatica sono trasparenti per un'operazione di manutenzione hello schema sottostante hello.</span><span class="sxs-lookup"><span data-stu-id="16969-152">Indexes created by automatic tuning are transparent for hello maintenance operation on hello underlying schema.</span></span> <span data-ttu-id="16969-153">Le modifiche dello schema, ad esempio l'eliminazione o ridenominazione delle colonne non sono bloccate dalla presenza di hello degli indici creati automaticamente.</span><span class="sxs-lookup"><span data-stu-id="16969-153">Schema changes such as dropping or renaming columns are not blocked by hello presence of automatically created indexes.</span></span> <span data-ttu-id="16969-154">Gli indici creati automaticamente dal database SQL di Azure vengono eliminati immediatamente in seguito all'eliminazione di tabelle o colonne correlate.</span><span class="sxs-lookup"><span data-stu-id="16969-154">Indexes that are automatically created by Azure SQL Database are immediately dropped when related table or columns is dropped.</span></span>

## <a name="automatic-plan-choice-correction"></a><span data-ttu-id="16969-155">Correzione automatica del piano</span><span class="sxs-lookup"><span data-stu-id="16969-155">Automatic plan choice correction</span></span>

<span data-ttu-id="16969-156">La correzione automatica del piano è una nuova funzionalità di ottimizzazione automatica aggiunta in SQL Server 2017 CTP2.0 che identifica i piani SQL con comportamento errato.</span><span class="sxs-lookup"><span data-stu-id="16969-156">Automatic plan correction is a new automatic tuning feature added in SQL Server 2017 CTP2.0 that identifies SQL plans that misbehave.</span></span> <span data-ttu-id="16969-157">Questa opzione di ottimizzazione automatica sarà presto disponibile nel database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="16969-157">This automatic tuning option is coming soon on Azure SQL Database.</span></span> <span data-ttu-id="16969-158">Per altre informazioni, vedere [Ottimizzazione automatica in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span><span class="sxs-lookup"><span data-stu-id="16969-158">Find more information at [Automatic tuning in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span></span>

## <a name="next-steps"></a><span data-ttu-id="16969-159">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="16969-159">Next steps</span></span>

- <span data-ttu-id="16969-160">ottimizzazione in Database SQL di Azure e consentire automatico automatica tooenable funzionalità di ottimizzazione completamente gestire il carico di lavoro, vedere [abilitare la regolazione automatica](sql-database-automatic-tuning-enable.md).</span><span class="sxs-lookup"><span data-stu-id="16969-160">tooenable automatic tuning in Azure SQL Database and let automatic tuning feature fully manage your workload, see [Enable automatic tuning](sql-database-automatic-tuning-enable.md).</span></span>
- <span data-ttu-id="16969-161">toouse di ottimizzazione manuale, è possibile esaminare [le indicazioni nel portale di Azure di ottimizzazione](sql-database-advisor-portal.md) e applicare manualmente hello varianti che migliorano le prestazioni delle query.</span><span class="sxs-lookup"><span data-stu-id="16969-161">toouse manual tuning, you can review [Tuning recommendations in Azure portal](sql-database-advisor-portal.md) and manually apply hello ones that improve performance of your queries.</span></span>
