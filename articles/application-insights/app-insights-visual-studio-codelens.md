---
title: Application Insights Telemetry in CodeLens di Visual Studio | Microsoft Docs
description: Accesso rapido ai dati di telemetria per richieste ed eccezioni di Application Insights con CodeLens in Visual Studio.
services: application-insights
documentationcenter: .net
author: numberbycolors
manager: carmonm
ms.assetid: 93559e44-23cb-4b9d-8425-60f7f0d0a82c
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/17/2017
ms.author: bwren
ms.openlocfilehash: 20933afab55043ccc5ce908c04c6e4a7a28e3538
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="application-insights-telemetry-in-visual-studio-codelens"></a><span data-ttu-id="685da-103">Application Insights Telemetry in CodeLens di Visual Studio</span><span class="sxs-lookup"><span data-stu-id="685da-103">Application Insights telemetry in Visual Studio CodeLens</span></span>
<span data-ttu-id="685da-104">I metodi nel codice dell'app Web possono essere annotati con dati di telemetria relativi alle eccezioni di run-time e ai tempi di risposta della richiesta.</span><span class="sxs-lookup"><span data-stu-id="685da-104">Methods in the code of your web app can be annotated with telemetry about run-time exceptions and request response times.</span></span> <span data-ttu-id="685da-105">Se si installa [Azure Application Insights](app-insights-overview.md) nell'applicazione, i dati di telemetria vengono visualizzati in [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) di Visual Studio, ovvero nelle note nella parte superiore di ogni funzione in cui vengono visualizzate informazioni utili, ad esempio il numero di posizioni in cui si fa riferimento alla funzione o l'utente che l'ha modificata per ultimo.</span><span class="sxs-lookup"><span data-stu-id="685da-105">If you install [Azure Application Insights](app-insights-overview.md) in your application, the telemetry appears in Visual Studio [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) - the notes at the top of each function where you're used to seeing useful information such as the number of places the function is referenced or the last person who edited it.</span></span>

![CodeLens](./media/app-insights-visual-studio-codelens/codelens-overview.png)

> [!NOTE]
> <span data-ttu-id="685da-107">Application Insights in CodeLens è disponibile in Visual Studio 2015 Update 3 e versioni successive o con la versione più recente dell' [estensione Developer Analytics Tools](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span><span class="sxs-lookup"><span data-stu-id="685da-107">Application Insights in CodeLens is available in Visual Studio 2015 Update 3 and later, or with the latest version of [Developer Analytics Tools extension](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span></span> <span data-ttu-id="685da-108">CodeLens è disponibile nelle edizioni Enterprise e Professional di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="685da-108">CodeLens is available in the Enterprise and Professional editions of Visual Studio.</span></span>
> 
> 

## <a name="where-to-find-application-insights-data"></a><span data-ttu-id="685da-109">Dove trovare i dati di Application Insights</span><span class="sxs-lookup"><span data-stu-id="685da-109">Where to find Application Insights data</span></span>
<span data-ttu-id="685da-110">Cercare i dati di Application Insights Telemetry negli indicatori di CodeLens dei metodi di richiesta pubblici dell'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="685da-110">Look for Application Insights telemetry in the CodeLens indicators of the public request methods of your web application.</span></span> <span data-ttu-id="685da-111">Gli indicatori di CodeLens vengono visualizzati sopra il metodo e le altre dichiarazioni in codice C# e Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="685da-111">CodeLens indicators are shown above method and other declarations in C# and Visual Basic code.</span></span> <span data-ttu-id="685da-112">Se i dati di Application Insights sono disponibili per un metodo, verranno visualizzati indicatori per richieste ed eccezioni, ad esempio "100 richieste, 1% non riuscite" oppure "10 eccezioni".</span><span class="sxs-lookup"><span data-stu-id="685da-112">If Application Insights data is available for a method, you'll see indicators for requests and exceptions such as "100 requests, 1% failed" or "10 exceptions."</span></span> <span data-ttu-id="685da-113">Fare clic su un indicatore di CodeLens per altri dettagli.</span><span class="sxs-lookup"><span data-stu-id="685da-113">Click a CodeLens indicator for more details.</span></span> 

> [!TIP]
> <span data-ttu-id="685da-114">Il caricamento degli indicatori di richieste ed eccezioni di Application Insights può richiedere alcuni secondi aggiuntivi dopo la visualizzazione di altri indicatori di CodeLens.</span><span class="sxs-lookup"><span data-stu-id="685da-114">Application Insights request and exception indicators may take a few extra seconds to load after other CodeLens indicators appear.</span></span>
> 
> 

## <a name="exceptions-in-codelens"></a><span data-ttu-id="685da-115">Eccezioni in CodeLens</span><span class="sxs-lookup"><span data-stu-id="685da-115">Exceptions in CodeLens</span></span>
![Da definire](./media/app-insights-visual-studio-codelens/codelens-exceptions.png)

<span data-ttu-id="685da-117">L'indicatore delle eccezioni di CodeLens visualizza il numero di eccezioni che si sono verificate nelle ultime 24 ore dalle 15 eccezioni più frequenti dell'applicazione in tale periodo, durante l'elaborazione della richiesta servita dal metodo.</span><span class="sxs-lookup"><span data-stu-id="685da-117">The exception CodeLens indicator shows the number of exceptions that have occurred in the past 24 hours from the 15 most frequently occurring exceptions in your application during that period, while processing the request served by the method.</span></span>

<span data-ttu-id="685da-118">Per visualizzare altri dettagli, fare clic sull'indicatore delle eccezioni di CodeLens:</span><span class="sxs-lookup"><span data-stu-id="685da-118">To see more details, click the exceptions CodeLens indicator:</span></span>

* <span data-ttu-id="685da-119">Variazione percentuale nel numero di eccezioni delle ultime 24 ore rispetto alle 24 ore precedenti</span><span class="sxs-lookup"><span data-stu-id="685da-119">The percentage change in number of exceptions from the most recent 24 hours relative to the prior 24 hours</span></span>
* <span data-ttu-id="685da-120">Scegliere **Vai al codice** per passare al codice sorgente della funzione che genera l'eccezione</span><span class="sxs-lookup"><span data-stu-id="685da-120">Choose **Go to code** to navigate to the source code for the function throwing the exception</span></span>
* <span data-ttu-id="685da-121">Scegliere **Cerca** per eseguire una query su tutte le istanze di questa eccezione che si sono verificate nelle ultime 24 ore</span><span class="sxs-lookup"><span data-stu-id="685da-121">Choose **Search** to query all instances of this exception that have occurred in the past 24 hours</span></span>
* <span data-ttu-id="685da-122">Scegliere **Tendenza** per visualizzare la tendenza delle occorrenze di questa eccezione nelle ultime 24 ore</span><span class="sxs-lookup"><span data-stu-id="685da-122">Choose **Trend** to view a trend visualization for occurrences of this exception in the past 24 hours</span></span>
* <span data-ttu-id="685da-123">Scegliere **Visualizza tutte le eccezioni in questa app** per eseguire una query su tutte le eccezioni che si sono verificate nelle ultime 24 ore</span><span class="sxs-lookup"><span data-stu-id="685da-123">Choose **View all exceptions in this app** to query all exceptions that have occurred in the past 24 hours</span></span>
* <span data-ttu-id="685da-124">Scegliere **Esplora tendenze per le eccezioni** per visualizzare la tendenza di tutte le eccezioni che si sono verificate nelle ultime 24 ore.</span><span class="sxs-lookup"><span data-stu-id="685da-124">Choose **Explore exception trends** to view a trend visualization for all exceptions that have occurred in the past 24 hours.</span></span> 

> [!TIP]
> <span data-ttu-id="685da-125">Se CodeLens visualizza "0 eccezioni", ma si è certi che siano presenti eccezioni, verificare che sia selezionata la risorsa di Application Insights corretta in CodeLens.</span><span class="sxs-lookup"><span data-stu-id="685da-125">If you see "0 exceptions" in CodeLens but you know there should be exceptions, check to make sure the right Application Insights resource is selected in CodeLens.</span></span> <span data-ttu-id="685da-126">Per selezionare un'altra risorsa, fare clic con il pulsante destro del mouse sul progetto in Esplora soluzioni e scegliere **Application Insights > Scegli origine dati di telemetria**.</span><span class="sxs-lookup"><span data-stu-id="685da-126">To select another resource, right-click on your project in the Solution Explorer and choose **Application Insights > Choose Telemetry Source**.</span></span> <span data-ttu-id="685da-127">CodeLens viene visualizzato solo per le 15 eccezioni che si sono verificate più frequentemente nell'applicazione nelle ultime 24 ore, quindi se ad esempio un'eccezione è la sedicesima in ordine di frequenza verrà visualizzato "0 eccezioni".</span><span class="sxs-lookup"><span data-stu-id="685da-127">CodeLens is only shown for the 15 most frequently occurring exceptions in your application in the past 24 hours, so if an exception is the 16th most frequently or less, you'll see "0 exceptions."</span></span> <span data-ttu-id="685da-128">Le eccezioni delle visualizzazioni ASP.NET potrebbero non essere indicate per i metodi del controller che hanno generato le visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="685da-128">Exceptions from ASP.NET views may not appear on the controller methods that generated those views.</span></span>
> 
> [!TIP]
> <span data-ttu-id="685da-129">Se viene visualizzato "?</span><span class="sxs-lookup"><span data-stu-id="685da-129">If you see "?</span></span> <span data-ttu-id="685da-130">eccezioni" in CodeLens, è necessario associare l'account Azure a Visual Studio oppure le credenziali dell'account Azure potrebbero essere scadute.</span><span class="sxs-lookup"><span data-stu-id="685da-130">exceptions" in CodeLens, you need to associate your Azure account with Visual Studio or your Azure account credential may have expired.</span></span> <span data-ttu-id="685da-131">In entrambi i casi, fare clic su "?</span><span class="sxs-lookup"><span data-stu-id="685da-131">In either case, click "?</span></span> <span data-ttu-id="685da-132">eccezioni" e scegliere **Aggiungi un account** per immettere le credenziali.</span><span class="sxs-lookup"><span data-stu-id="685da-132">exceptions" and choose **Add an account...** to enter your credentials.</span></span>
> 
> 

## <a name="requests-in-codelens"></a><span data-ttu-id="685da-133">Richieste in CodeLens</span><span class="sxs-lookup"><span data-stu-id="685da-133">Requests in CodeLens</span></span>
![Da definire](./media/app-insights-visual-studio-codelens/codelens-requests.png)

<span data-ttu-id="685da-135">L'indicatore delle richieste di CodeLens visualizza il numero di richieste HTTP servite da un metodo nelle ultime 24 ore, nonché la percentuale di tali richieste che non ha avuto esito positivo.</span><span class="sxs-lookup"><span data-stu-id="685da-135">The request CodeLens indicator shows the number of HTTP requests that been serviced by a method in the past 24 hours, plus the percentage of those requests that failed.</span></span>

<span data-ttu-id="685da-136">Per visualizzare altri dettagli, fare clic sull'indicatore delle richieste di CodeLens:</span><span class="sxs-lookup"><span data-stu-id="685da-136">To see more details, click the requests CodeLens indicator:</span></span>

* <span data-ttu-id="685da-137">La variazione assoluta e percentuale nel numero di richieste, richieste non riuscite e tempi di risposta medi nelle ultime 24 ore rispetto alle 24 ore precedenti</span><span class="sxs-lookup"><span data-stu-id="685da-137">The absolute and percentage changes in number of requests, failed requests, and average response times over the past 24 hours compared to the prior 24 hours</span></span>
* <span data-ttu-id="685da-138">L'affidabilità del metodo, calcolata come percentuale di richieste che hanno avuto esito positivo nelle ultime 24 ore</span><span class="sxs-lookup"><span data-stu-id="685da-138">The reliability of the method, calculated as the percentage of requests that did not fail in the past 24 hours</span></span>
* <span data-ttu-id="685da-139">Scegliere **Cerca** per le richieste o le richieste non riuscite per eseguire una query su tutte le richieste o richieste non riuscite delle ultime 24 ore</span><span class="sxs-lookup"><span data-stu-id="685da-139">Choose **Search** for requests or failed requests to query all the (failed) requests that occurred in the past 24 hours</span></span>
* <span data-ttu-id="685da-140">Scegliere **Tendenza** per visualizzare la tendenza per richieste, richieste non riuscite o tempi di risposta medi nelle ultime 24 ore.</span><span class="sxs-lookup"><span data-stu-id="685da-140">Choose **Trend** to view a trend visualization for requests, failed requests, or average response times in the past 24 hours.</span></span>
* <span data-ttu-id="685da-141">Scegliere il nome della risorsa di Application Insights nell'angolo superiore sinistro della visualizzazione dei dettagli CodeLens per modificare la risorsa che rappresenta l'origine dei dati di CodeLens.</span><span class="sxs-lookup"><span data-stu-id="685da-141">Choose the name of the Application Insights resource in the upper left corner of the CodeLens details view to change which resource is the source for CodeLens data.</span></span>

## <span data-ttu-id="685da-142"><a name="next"></a>Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="685da-142"><a name="next"></a>Next steps</span></span>
|  |  |
| --- | --- |
| <span data-ttu-id="685da-143">**[Uso di Application Insights in Visual Studio](app-insights-visual-studio.md)**</span><span class="sxs-lookup"><span data-stu-id="685da-143">**[Working with Application Insights in Visual Studio](app-insights-visual-studio.md)**</span></span><br/><span data-ttu-id="685da-144">Ricerca sui dati di telemetria, visualizzazione dei dati in CodeLens e configurazione di Application Insights.</span><span class="sxs-lookup"><span data-stu-id="685da-144">Search telemetry, see data in CodeLens, and configure Application Insights.</span></span> <span data-ttu-id="685da-145">Tutto in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="685da-145">All within Visual Studio.</span></span> |![Fare clic con il pulsante destro del mouse sul progetto e scegliere Application Insights, Cerca.](./media/app-insights-visual-studio-codelens/34.png) |
| <span data-ttu-id="685da-147">**[Aggiungere altri dati](app-insights-asp-net-more.md)**</span><span class="sxs-lookup"><span data-stu-id="685da-147">**[Add more data](app-insights-asp-net-more.md)**</span></span><br/><span data-ttu-id="685da-148">Monitorare l'utilizzo, la disponibilità, le dipendenze e le eccezioni,</span><span class="sxs-lookup"><span data-stu-id="685da-148">Monitor usage, availability, dependencies, exceptions.</span></span> <span data-ttu-id="685da-149">integrare le tracce dei framework di registrazione</span><span class="sxs-lookup"><span data-stu-id="685da-149">Integrate traces from logging frameworks.</span></span> <span data-ttu-id="685da-150">e scrivere telemetria personalizzata.</span><span class="sxs-lookup"><span data-stu-id="685da-150">Write custom telemetry.</span></span> |![Visual Studio](./media/app-insights-visual-studio-codelens/64.png) |
| <span data-ttu-id="685da-152">**[Uso del portale Application Insights](app-insights-dashboards.md)**</span><span class="sxs-lookup"><span data-stu-id="685da-152">**[Working with the Application Insights portal](app-insights-dashboards.md)**</span></span><br/><span data-ttu-id="685da-153">Dashboard, strumenti avanzati di diagnostica e di analisi, avvisi, mappa attiva delle dipendenze dell'applicazione ed esportazione dei dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="685da-153">Dashboards, powerful diagnostic and analytic tools, alerts, a live dependency map of your application, and telemetry export.</span></span> |![Visual Studio](./media/app-insights-visual-studio-codelens/62.png) |

