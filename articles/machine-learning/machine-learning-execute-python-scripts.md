---
title: aaaExecute Python apprendimento script | Documenti Microsoft
description: "Descrive i principi di progettazione di base per gli script Python in Azure Machine Learning nonché gli scenari di utilizzo di base, le funzionalità e le limitazioni."
keywords: apprendimento automatico di python, pandas, pandas di python, script di python, eseguire gli script di python
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: ee9eb764-0d3e-4104-a797-19fc29345d39
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: bradsev
ms.openlocfilehash: 8d23aaa972a46cb1a07ea0f18cc1e24933fe3e6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="execute-python-machine-learning-scripts-in-azure-machine-learning-studio"></a><span data-ttu-id="16855-104">Eseguire gli script di apprendimento automatico di Python in Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="16855-104">Execute Python machine learning scripts in Azure Machine Learning Studio</span></span>

<span data-ttu-id="16855-105">Questo argomento descrive i principi di progettazione hello hello supporto corrente per gli script Python in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="16855-105">This topic describes hello design principles underlying hello current support for Python scripts in Azure Machine Learning.</span></span> <span data-ttu-id="16855-106">vengono inoltre descritte fornita la funzionalità principale Hello, inclusi:</span><span class="sxs-lookup"><span data-stu-id="16855-106">hello main capabilities provided are also outlined, including:</span></span>

- <span data-ttu-id="16855-107">Esecuzione di scenari di utilizzo di base</span><span class="sxs-lookup"><span data-stu-id="16855-107">execute basic usage scenarios</span></span>
- <span data-ttu-id="16855-108">Assegnazione di punteggi a un esperimento in un servizio Web</span><span class="sxs-lookup"><span data-stu-id="16855-108">score an experiment in a web service</span></span>
- <span data-ttu-id="16855-109">Supporto per l'importazione di codice esistente</span><span class="sxs-lookup"><span data-stu-id="16855-109">support for importing existing code</span></span>
- <span data-ttu-id="16855-110">Esportazione delle visualizzazioni</span><span class="sxs-lookup"><span data-stu-id="16855-110">export visualizations</span></span>
- <span data-ttu-id="16855-111">Selezione delle funzionalità con supervisione</span><span class="sxs-lookup"><span data-stu-id="16855-111">perform supervised feature selection</span></span>
- <span data-ttu-id="16855-112">Informazioni su alcune limitazioni</span><span class="sxs-lookup"><span data-stu-id="16855-112">understand some limitations</span></span>

<span data-ttu-id="16855-113">[Python](https://www.python.org/) è uno strumento indispensabile hello strumento un'occasione eccezionale molti esperti di dati.</span><span class="sxs-lookup"><span data-stu-id="16855-113">[Python](https://www.python.org/) is an indispensable tool in hello tool chest of many data scientists.</span></span> <span data-ttu-id="16855-114">Le sue caratteristiche sono:</span><span class="sxs-lookup"><span data-stu-id="16855-114">It has:</span></span>

* <span data-ttu-id="16855-115">una sintassi elegante e concisa;</span><span class="sxs-lookup"><span data-stu-id="16855-115">an elegant and concise syntax,</span></span> 
* <span data-ttu-id="16855-116">il supporto multipiattaforma;</span><span class="sxs-lookup"><span data-stu-id="16855-116">cross-platform support,</span></span> 
* <span data-ttu-id="16855-117">un'ampia raccolta di librerie complete;</span><span class="sxs-lookup"><span data-stu-id="16855-117">a vast collection of powerful libraries, and</span></span> 
* <span data-ttu-id="16855-118">strumenti di sviluppo avanzati.</span><span class="sxs-lookup"><span data-stu-id="16855-118">mature development tools.</span></span> 

<span data-ttu-id="16855-119">Python viene usato in tutte le fasi di un flusso di lavoro usato in genere nella modellazione di Machine Learning:</span><span class="sxs-lookup"><span data-stu-id="16855-119">Python is being used in all phases of a workflow typically used in machine learning modeling:</span></span>

- <span data-ttu-id="16855-120">Inserimento ed elaborazione dei dati</span><span class="sxs-lookup"><span data-stu-id="16855-120">data ingest and processing</span></span> 
- <span data-ttu-id="16855-121">Costruzione delle funzionalità</span><span class="sxs-lookup"><span data-stu-id="16855-121">feature construction</span></span>
- <span data-ttu-id="16855-122">Training dei modelli</span><span class="sxs-lookup"><span data-stu-id="16855-122">model training</span></span> 
- <span data-ttu-id="16855-123">Convalida dei modelli</span><span class="sxs-lookup"><span data-stu-id="16855-123">model validation</span></span>
- <span data-ttu-id="16855-124">distribuzione di modelli di hello</span><span class="sxs-lookup"><span data-stu-id="16855-124">deployment of hello models</span></span>

<span data-ttu-id="16855-125">Azure Machine Learning Studio supporta l'incorporamento di script Python in varie parti di un esperimento di apprendimento automatico, nonché la relativa pubblicazione diretta come servizi Web in Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="16855-125">Azure Machine Learning Studio supports embedding Python scripts into various parts of a machine learning experiment and also seamlessly publishing them as web services on Microsoft Azure.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]


## <a name="design-principles-of-python-scripts-in-machine-learning"></a><span data-ttu-id="16855-126">Principi di progettazione degli script Python in Machine Learning</span><span class="sxs-lookup"><span data-stu-id="16855-126">Design principles of Python scripts in Machine Learning</span></span>

<span data-ttu-id="16855-127">tooPython interfaccia primaria Hello in Azure Machine Learning Studio è tramite hello [Execute Python Script] [ execute-python-script] modulo illustrato nella figura 1.</span><span class="sxs-lookup"><span data-stu-id="16855-127">hello primary interface tooPython in Azure Machine Learning Studio is via hello [Execute Python Script][execute-python-script] module shown in Figure 1.</span></span>

![Immagine1](./media/machine-learning-execute-python-scripts/execute-machine-learning-python-scripts-module.png)

![Immagine2](./media/machine-learning-execute-python-scripts/embedded-machine-learning-python-script.png)

<span data-ttu-id="16855-130">Figura 1.</span><span class="sxs-lookup"><span data-stu-id="16855-130">Figure 1.</span></span> <span data-ttu-id="16855-131">Hello **Execute Python Script** modulo.</span><span class="sxs-lookup"><span data-stu-id="16855-131">hello **Execute Python Script** module.</span></span>

<span data-ttu-id="16855-132">Hello [Execute Python Script] [ execute-python-script] modulo in Azure Machine Learning Studio accetta l'input toothree e produce backup output tootwo (descritto nella seguente sezione hello), ad esempio, il relativo analogico R hello [ Eseguire lo Script R] [ execute-r-script] modulo.</span><span class="sxs-lookup"><span data-stu-id="16855-132">hello [Execute Python Script][execute-python-script] module in Azure ML Studio accepts up toothree inputs and produces up tootwo outputs (discussed in hello following section), like its R analogue, hello [Execute R Script][execute-r-script] module.</span></span> <span data-ttu-id="16855-133">Hello toobe codice Python eseguita viene immesso nella casella del parametro hello come speciale denominata funzione di punto di ingresso `azureml_main`.</span><span class="sxs-lookup"><span data-stu-id="16855-133">hello Python code toobe executed is entered into hello parameter box as a specially named entry-point function called `azureml_main`.</span></span> <span data-ttu-id="16855-134">Di seguito sono hello chiave della progettazione principi utilizzato tooimplement questo modulo.</span><span class="sxs-lookup"><span data-stu-id="16855-134">Here are hello key design principles used tooimplement this module:</span></span>

1. <span data-ttu-id="16855-135">*Deve essere idiomatico per gli utenti di Python.*</span><span class="sxs-lookup"><span data-stu-id="16855-135">*Must be idiomatic for Python users.*</span></span> <span data-ttu-id="16855-136">La maggior parte degli utenti di Python struttura il codice come funzioni nei moduli.</span><span class="sxs-lookup"><span data-stu-id="16855-136">Most Python users factor their code as functions inside modules.</span></span> <span data-ttu-id="16855-137">L'inserimento di un numero elevato di istruzioni eseguibili in un modo di primo livello è quindi relativamente raro.</span><span class="sxs-lookup"><span data-stu-id="16855-137">So putting a lot of executable statements in a top-level module is relatively rare.</span></span> <span data-ttu-id="16855-138">Di conseguenza, casella script hello accetta inoltre una funzione di Python appositamente denominata come toojust anziché una sequenza di istruzioni.</span><span class="sxs-lookup"><span data-stu-id="16855-138">As a result, hello script box also takes a specially named Python function as opposed toojust a sequence of statements.</span></span> <span data-ttu-id="16855-139">Hello oggetti esposti nella funzione hello sono tipi di raccolta standard Python come [Pandas](http://pandas.pydata.org/) frame di dati e [NumPy](http://www.numpy.org/) matrici.</span><span class="sxs-lookup"><span data-stu-id="16855-139">hello objects exposed in hello function are standard Python library types such as [Pandas](http://pandas.pydata.org/) data frames and [NumPy](http://www.numpy.org/) arrays.</span></span>
2. <span data-ttu-id="16855-140">*Deve avere un alto livello di fedeltà tra le esecuzioni locali e nel cloud.*</span><span class="sxs-lookup"><span data-stu-id="16855-140">*Must have high-fidelity between local and cloud executions.*</span></span> <span data-ttu-id="16855-141">Hello hello tooexecute back-end utilizzato codice Python è basato su [Anaconda](https://store.continuum.io/cshop/anaconda/), ampiamente utilizzato distribuzione Python di scientifici multipiattaforma.</span><span class="sxs-lookup"><span data-stu-id="16855-141">hello backend used tooexecute hello Python code is based on [Anaconda](https://store.continuum.io/cshop/anaconda/), a widely used cross-platform scientific Python distribution.</span></span> <span data-ttu-id="16855-142">È dotato di chiusura too200 dei pacchetti Python più comuni di hello.</span><span class="sxs-lookup"><span data-stu-id="16855-142">It comes with close too200 of hello most common Python packages.</span></span> <span data-ttu-id="16855-143">Di conseguenza, i professionisti possono eseguire il debug e qualificare il codice nel proprio ambiente Anaconda locale compatibile con Machine Learning di Azure.</span><span class="sxs-lookup"><span data-stu-id="16855-143">Therefore, data scientists can debug and qualify their code on their local Azure Machine Learning-compatible Anaconda environment.</span></span> <span data-ttu-id="16855-144">Quindi utilizzare un ambiente di sviluppo esistenti, ad esempio [IPython](http://ipython.org/) notebook o [Python Tools per Visual Studio](http://aka.ms/ptvs), toorun come parte di un esperimento di Azure ML.</span><span class="sxs-lookup"><span data-stu-id="16855-144">Then use an existing development environment, such as [IPython](http://ipython.org/) notebook or [Python Tools for Visual Studio](http://aka.ms/ptvs), toorun it as part of an Azure ML experiment.</span></span> <span data-ttu-id="16855-145">Hello `azureml_main` punto di ingresso è una funzione di Python vaniglia e pertanto * * * possono essere creati senza codice specifico per Azure ML o hello SDK installato.</span><span class="sxs-lookup"><span data-stu-id="16855-145">hello `azureml_main` entry point is a vanilla Python function and so ****can be authored without Azure ML-specific code or hello SDK installed.</span></span>
3. <span data-ttu-id="16855-146">*Deve essere facilmente componibile con altri moduli di Azure Machine Learning.*</span><span class="sxs-lookup"><span data-stu-id="16855-146">*Must be seamlessly composable with other Azure Machine Learning modules.*</span></span> <span data-ttu-id="16855-147">Hello [Execute Python Script] [ execute-python-script] modulo accetta come input e output, i set di dati standard di Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="16855-147">hello [Execute Python Script][execute-python-script] module accepts, as inputs and outputs, standard Azure Machine Learning datasets.</span></span> <span data-ttu-id="16855-148">il framework sottostante Hello in modo trasparente ed efficace colma il runtime di Azure ML e Python hello.</span><span class="sxs-lookup"><span data-stu-id="16855-148">hello underlying framework transparently and efficiently bridges hello Azure ML and Python runtimes.</span></span> <span data-ttu-id="16855-149">È quindi possibile usare Python in combinazione ai flussi di lavoro di Azure Machine Learning esistenti, inclusi quelli che effettuano chiamate in R e SQLite.</span><span class="sxs-lookup"><span data-stu-id="16855-149">So Python can be used in conjunction with existing Azure ML workflows, including those that call into R and SQLite.</span></span> <span data-ttu-id="16855-150">Un data scientist può quindi creare flussi di lavoro che consentono di eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="16855-150">A  result, data scientist could compose workflows that:</span></span>
   * <span data-ttu-id="16855-151">Uso di Python e Pandas per la pre-elaborazione e la pulizia dei dati.</span><span class="sxs-lookup"><span data-stu-id="16855-151">use Python and Pandas for data pre-processing and cleaning</span></span>
   * <span data-ttu-id="16855-152">feed hello tooa SQL la trasformazione dei dati, aggiunta di funzionalità di tooform più set di dati</span><span class="sxs-lookup"><span data-stu-id="16855-152">feed hello data tooa SQL transformation, joining multiple datasets tooform features</span></span>
   * <span data-ttu-id="16855-153">eseguire il training di modelli utilizzando algoritmi hello in Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="16855-153">train models using hello algorithms in Azure Machine Learning</span></span> 
   * <span data-ttu-id="16855-154">valutare e post-elaborazione dei risultati di hello con R.</span><span class="sxs-lookup"><span data-stu-id="16855-154">evaluate and post-process hello results using R.</span></span>


## <a name="basic-usage-scenarios-in-ml-for-python-scripts"></a><span data-ttu-id="16855-155">Scenari di utilizzo di base in Machine Learning per gli script Python</span><span class="sxs-lookup"><span data-stu-id="16855-155">Basic usage scenarios in ML for Python scripts</span></span>

<span data-ttu-id="16855-156">In questa sezione, rivolto il sondaggio alcuni degli utilizzi di base hello di hello [Execute Python Script] [ execute-python-script] modulo.</span><span class="sxs-lookup"><span data-stu-id="16855-156">In this section, we survey some of hello basic uses of hello [Execute Python Script][execute-python-script] module.</span></span> <span data-ttu-id="16855-157">Modulo di input toohello Python vengono esposti come frame di dati Pandas.</span><span class="sxs-lookup"><span data-stu-id="16855-157">Inputs toohello Python module are exposed as Pandas data frames.</span></span> <span data-ttu-id="16855-158">Hello funzione deve restituire un singolo frame di dati Pandas incluso nel pacchetto all'interno di un Python [sequenza](https://docs.python.org/2/c-api/sequence.html) , ad esempio una tupla, elenco o una matrice NumPy.</span><span class="sxs-lookup"><span data-stu-id="16855-158">hello function must return a single Pandas data frame packaged inside of a Python [sequence](https://docs.python.org/2/c-api/sequence.html) such as a tuple, list, or NumPy array.</span></span> <span data-ttu-id="16855-159">primo elemento di Hello di questa sequenza viene quindi restituito nella porta di output del modulo hello prima hello.</span><span class="sxs-lookup"><span data-stu-id="16855-159">hello first element of this sequence is then returned in hello first output port of hello module.</span></span> <span data-ttu-id="16855-160">Questo schema è illustrato nella figura 2.</span><span class="sxs-lookup"><span data-stu-id="16855-160">This scheme is shown in Figure 2.</span></span>

![Immagine3](./media/machine-learning-execute-python-scripts/map-of-python-script-inputs-outputs.png)

<span data-ttu-id="16855-162">Figura 2.</span><span class="sxs-lookup"><span data-stu-id="16855-162">Figure 2.</span></span> <span data-ttu-id="16855-163">Mapping di tooparameters porte di input e restituiscono valori toooutput porta.</span><span class="sxs-lookup"><span data-stu-id="16855-163">Mapping of input ports tooparameters and return value toooutput port.</span></span>

<span data-ttu-id="16855-164">La semantica di come porte di input hello ottengono tooparameters mappata di hello dettagliate `azureml_main` funzione vengono visualizzati nella tabella 1:</span><span class="sxs-lookup"><span data-stu-id="16855-164">More detailed semantics of how hello input ports get mapped tooparameters of hello `azureml_main` function are shown in Table 1:</span></span>

![Immagine1T](./media/machine-learning-execute-python-scripts/python-script-inputs-mapped-to-parameters.png)

<span data-ttu-id="16855-166">Tabella 1.</span><span class="sxs-lookup"><span data-stu-id="16855-166">Table 1.</span></span> <span data-ttu-id="16855-167">Mapping dei parametri toofunction porte di input.</span><span class="sxs-lookup"><span data-stu-id="16855-167">Mapping of input ports toofunction parameters.</span></span>

<span data-ttu-id="16855-168">mapping di Hello tra porte di input e i parametri della funzione è posizionale:</span><span class="sxs-lookup"><span data-stu-id="16855-168">hello mapping between input ports and function parameters is positional:</span></span>

- <span data-ttu-id="16855-169">porta di input connessi prima Hello è mappato toohello primo parametro della funzione hello.</span><span class="sxs-lookup"><span data-stu-id="16855-169">hello first connected input port is mapped toohello first parameter of hello function.</span></span> 
- <span data-ttu-id="16855-170">Hello secondo input (se connessi) è mappata toohello secondo parametro della funzione hello.</span><span class="sxs-lookup"><span data-stu-id="16855-170">hello second input (if connected) is mapped toohello second parameter of hello function.</span></span>

<span data-ttu-id="16855-171">Vedere *Python per analisi dei dati* (o ' Reilly, 2012) da McKinney occ. Per ulteriori informazioni su Pandas Python e su come può essere utilizzato toomanipulate dati in modo efficace ed efficiente.</span><span class="sxs-lookup"><span data-stu-id="16855-171">See *Python for Data Analysis* (O'Reilly, 2012) by W. McKinney for more information on Python Pandas and on how it can be used toomanipulate data effectively and efficiently.</span></span> 


## <a name="translation-of-input-and-output-types"></a><span data-ttu-id="16855-172">Conversione dei tipi di input e di output</span><span class="sxs-lookup"><span data-stu-id="16855-172">Translation of input and output types</span></span> 
<span data-ttu-id="16855-173">Set di dati di input in Azure Machine Learning sono fotogrammi Pandas toodata convertito.</span><span class="sxs-lookup"><span data-stu-id="16855-173">Input datasets in Azure ML are converted toodata frames in Pandas.</span></span> <span data-ttu-id="16855-174">Frame di dati di output vengono convertiti i set di dati di back-tooAzure ML.</span><span class="sxs-lookup"><span data-stu-id="16855-174">Output data frames are converted back tooAzure ML datasets.</span></span> <span data-ttu-id="16855-175">Hello dopo le conversioni viene eseguita:</span><span class="sxs-lookup"><span data-stu-id="16855-175">hello following conversions are performed:</span></span>

1. <span data-ttu-id="16855-176">Le colonne stringa e numerici vengono convertite come-è e i valori mancanti in un set di dati vengono convertiti too'NA' i valori in Pandas.</span><span class="sxs-lookup"><span data-stu-id="16855-176">String and numeric columns are converted as-is and missing values in a dataset are converted too‘NA’ values in Pandas.</span></span> <span data-ttu-id="16855-177">Hello stessa conversione viene eseguita nel modo nuovamente hello (valori NA Pandas sono valori toomissing convertito in Azure Machine Learning).</span><span class="sxs-lookup"><span data-stu-id="16855-177">hello same conversion happens on hello way back (NA values in Pandas are converted toomissing values in Azure ML).</span></span>
2. <span data-ttu-id="16855-178">I vettori indice di Pandas non sono supportati in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="16855-178">Index vectors in Pandas are not supported in Azure ML.</span></span> <span data-ttu-id="16855-179">Tutti i frame di dati di input nella funzione di Python hello hanno sempre un indice numerico a 64 bit da 0 toohello numero di righe meno 1.</span><span class="sxs-lookup"><span data-stu-id="16855-179">All input data frames in hello Python function always have a 64-bit numerical index from 0 toohello number of rows minus 1.</span></span> 
3. <span data-ttu-id="16855-180">I set di dati di Azure Machine Learning non possono avere nomi di colonna duplicati e diversi da stringhe.</span><span class="sxs-lookup"><span data-stu-id="16855-180">Azure ML datasets cannot have duplicate column names and column names that are not strings.</span></span> <span data-ttu-id="16855-181">Se un frame di dati di output contiene le colonne non numeriche, hello framework chiama `str` sui nomi di colonna hello.</span><span class="sxs-lookup"><span data-stu-id="16855-181">If an output data frame contains non-numeric columns, hello framework calls `str` on hello column names.</span></span> <span data-ttu-id="16855-182">Analogamente, nomi di colonna duplicati vengono automaticamente alterato tooinsure hello nomi siano univoci.</span><span class="sxs-lookup"><span data-stu-id="16855-182">Likewise, any duplicate column names are automatically mangled tooinsure hello names are unique.</span></span> <span data-ttu-id="16855-183">toohello primo duplicato, toohello secondo duplicato (3) e così via, viene aggiunto il suffisso di Hello (2).</span><span class="sxs-lookup"><span data-stu-id="16855-183">hello suffix (2) is added toohello first duplicate, (3) toohello second duplicate, and so on.</span></span>


## <a name="operationalizing-python-scripts"></a><span data-ttu-id="16855-184">Rendere operativi gli script Python</span><span class="sxs-lookup"><span data-stu-id="16855-184">Operationalizing Python scripts</span></span>

<span data-ttu-id="16855-185">Tutti i moduli [Execute Python Script][execute-python-script] (Esegui script Python) usati in un esperimento di assegnazione dei punteggi vengono chiamati al momento della pubblicazione come servizio Web.</span><span class="sxs-lookup"><span data-stu-id="16855-185">Any [Execute Python Script][execute-python-script] modules used in a scoring experiment are called when published as a web service.</span></span> <span data-ttu-id="16855-186">Ad esempio, la figura 3 mostra un esperimento di assegnazione dei punteggi contenente tooevaluate codice hello un'unica espressione Python.</span><span class="sxs-lookup"><span data-stu-id="16855-186">For example, Figure 3 shows a scoring experiment that contains hello code tooevaluate a single Python expression.</span></span> 

![Immagine4](./media/machine-learning-execute-python-scripts/figure3a.png)

![Immagine5](./media/machine-learning-execute-python-scripts/python-script-with-python-pandas.png)

<span data-ttu-id="16855-189">Figura 3.</span><span class="sxs-lookup"><span data-stu-id="16855-189">Figure 3.</span></span> <span data-ttu-id="16855-190">Servizio Web per la valutazione di un'espressione Python.</span><span class="sxs-lookup"><span data-stu-id="16855-190">Web service for evaluating a Python expression.</span></span>

<span data-ttu-id="16855-191">Un servizio Web creato da questo esperimento:</span><span class="sxs-lookup"><span data-stu-id="16855-191">A web service created from this experiment:</span></span>

- <span data-ttu-id="16855-192">Accetta come input un'espressione Python, come stringa.</span><span class="sxs-lookup"><span data-stu-id="16855-192">takes as input a Python expression (as a string)</span></span>
- <span data-ttu-id="16855-193">Invia l'interprete Python toohello</span><span class="sxs-lookup"><span data-stu-id="16855-193">sends it toohello Python interpreter</span></span> 
- <span data-ttu-id="16855-194">Restituisce una tabella che contiene espressioni hello sia risultato hello valutata.</span><span class="sxs-lookup"><span data-stu-id="16855-194">returns a table containing both hello expression and hello evaluated result.</span></span>


## <a name="importing-existing-python-script-modules"></a><span data-ttu-id="16855-195">Importazione di moduli di script Python esistenti</span><span class="sxs-lookup"><span data-stu-id="16855-195">Importing existing Python script modules</span></span>

<span data-ttu-id="16855-196">Un caso di utilizzo comune per molti esperti di dati è script Python esistenti tooincorporate negli esperimenti di Machine Learning di Azure.</span><span class="sxs-lookup"><span data-stu-id="16855-196">A common use-case for many data scientists is tooincorporate existing Python scripts into Azure ML experiments.</span></span> <span data-ttu-id="16855-197">Anziché richiedere che tutto il codice deve essere concatenato e incollato in una casella singolo script, hello [Execute Python Script] [ execute-python-script] modulo accetta un file zip che contiene i moduli Python sulla porta di input terzo hello.</span><span class="sxs-lookup"><span data-stu-id="16855-197">Instead of requiring that all code be concatenated and pasted into a single script box, hello [Execute Python Script][execute-python-script] module accepts a zip file that contains Python modules at hello third input port.</span></span> <span data-ttu-id="16855-198">file Hello è stato decompresso da framework di esecuzione hello in fase di esecuzione e il contenuto di hello viene aggiunto il percorso di libreria toohello dell'interprete Python hello.</span><span class="sxs-lookup"><span data-stu-id="16855-198">hello file is unzipped by hello execution framework at runtime and hello contents are added toohello library path of hello Python interpreter.</span></span> <span data-ttu-id="16855-199">Hello `azureml_main` punto di ingresso funzione quindi possibile importare direttamente questi moduli.</span><span class="sxs-lookup"><span data-stu-id="16855-199">hello `azureml_main` entry point function can then import these modules directly.</span></span>

<span data-ttu-id="16855-200">Ad esempio, prendere in considerazione file hello Hello.py contenente una funzione semplice "Hello, World".</span><span class="sxs-lookup"><span data-stu-id="16855-200">As an example, consider hello file Hello.py containing a simple “Hello, World” function.</span></span>

![Immagine6](./media/machine-learning-execute-python-scripts/figure4.png)

<span data-ttu-id="16855-202">Figura 4.</span><span class="sxs-lookup"><span data-stu-id="16855-202">Figure 4.</span></span> <span data-ttu-id="16855-203">Funzione definita dall'utente nel file Hello.py.</span><span class="sxs-lookup"><span data-stu-id="16855-203">User-defined function in Hello.py file.</span></span>

<span data-ttu-id="16855-204">Viene quindi creato un file Hello.zip contenente Hello.py:</span><span class="sxs-lookup"><span data-stu-id="16855-204">Next, we create a file Hello.zip that contains Hello.py:</span></span>

![Immagine7](./media/machine-learning-execute-python-scripts/figure5.png)

<span data-ttu-id="16855-206">Figura 5.</span><span class="sxs-lookup"><span data-stu-id="16855-206">Figure 5.</span></span> <span data-ttu-id="16855-207">File ZIP contenente codice Python definito dall'utente.</span><span class="sxs-lookup"><span data-stu-id="16855-207">Zip file containing user-defined Python code.</span></span>

<span data-ttu-id="16855-208">In Azure Machine Learning Studio, caricare il file zip hello come set di dati.</span><span class="sxs-lookup"><span data-stu-id="16855-208">Upload hello zip file as a dataset into Azure Machine Learning Studio.</span></span> <span data-ttu-id="16855-209">Quindi creare ed eseguire un esperimento che usi il codice Python di hello nel file Hello.zip hello mediante l'aggiunta di toohello terza porta di input di hello **Execute Python Script** modulo, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="16855-209">Then create and run an experiment that uses hello Python code in hello Hello.zip file by attaching it toohello third input port of hello **Execute Python Script** module, as shown in this figure.</span></span>

![Immagine8](./media/machine-learning-execute-python-scripts/figure6a.png)

![Immagine9](./media/machine-learning-execute-python-scripts/figure6b.png)

<span data-ttu-id="16855-212">Figura 6.</span><span class="sxs-lookup"><span data-stu-id="16855-212">Figure 6.</span></span> <span data-ttu-id="16855-213">Esperimento di esempio con codice Python definito dall'utente caricato come file ZIP.</span><span class="sxs-lookup"><span data-stu-id="16855-213">Sample experiment with user-defined Python code uploaded as a zip file.</span></span>

<span data-ttu-id="16855-214">output del modulo Hello viene illustrato il file zip hello è stato decompresso e tale funzione hello `print_hello` è stato eseguito.</span><span class="sxs-lookup"><span data-stu-id="16855-214">hello module output shows that hello zip file has been unpackaged and that hello function `print_hello` has been run.</span></span>
<span data-ttu-id="16855-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span><span class="sxs-lookup"><span data-stu-id="16855-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span></span>

<span data-ttu-id="16855-216">Figura 7.</span><span class="sxs-lookup"><span data-stu-id="16855-216">Figure 7.</span></span> <span data-ttu-id="16855-217">Funzione definita dall'utente in uso all'interno di hello [Execute Python Script] [ execute-python-script] modulo.</span><span class="sxs-lookup"><span data-stu-id="16855-217">User-defined function in use inside hello [Execute Python Script][execute-python-script] module.</span></span>


## <a name="working-with-visualizations"></a><span data-ttu-id="16855-218">Utilizzo di visualizzazioni</span><span class="sxs-lookup"><span data-stu-id="16855-218">Working with visualizations</span></span>

<span data-ttu-id="16855-219">I grafici creati usando MatplotLib che possono essere visualizzati in browser hello possono essere restituiti da hello [Execute Python Script][execute-python-script].</span><span class="sxs-lookup"><span data-stu-id="16855-219">Plots created using MatplotLib that can be visualized on hello browser can be returned by hello [Execute Python Script][execute-python-script].</span></span> <span data-ttu-id="16855-220">Ma hello grafici non sono automaticamente reindirizzato tooimages come quando si usa R. Utente hello deve esplicitamente salvare qualsiasi tracciati tooPNG file se sono toobe restituito tooAzure indietro Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="16855-220">But hello plots are not automatically redirected tooimages as they are when using R. So hello user must explicitly save any plots tooPNG files if they are toobe returned back tooAzure Machine Learning.</span></span> 

<span data-ttu-id="16855-221">immagine di toogenerate da MatplotLib, è necessario completare hello seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="16855-221">toogenerate images from MatplotLib, you must complete hello following procedure:</span></span>

* <span data-ttu-id="16855-222">switch back-end hello troppo "AGG" da hello predefinito basato su Qt renderer</span><span class="sxs-lookup"><span data-stu-id="16855-222">switch hello backend too“AGG” from hello default Qt-based renderer</span></span> 
* <span data-ttu-id="16855-223">Creare un nuovo oggetto figura.</span><span class="sxs-lookup"><span data-stu-id="16855-223">create a new figure object</span></span> 
* <span data-ttu-id="16855-224">ottenere asse hello e generare grafici tutti al suo interno</span><span class="sxs-lookup"><span data-stu-id="16855-224">get hello axis and generate all plots into it</span></span> 
* <span data-ttu-id="16855-225">salvare file PNG di hello figura tooa</span><span class="sxs-lookup"><span data-stu-id="16855-225">save hello figure tooa PNG file</span></span> 

<span data-ttu-id="16855-226">Questo processo è illustrato nella seguente figura 8 che crea una matrice di tracciato dispersione funzione scatter_matrix hello in Pandas hello.</span><span class="sxs-lookup"><span data-stu-id="16855-226">This process is illustrated in hello following Figure 8 that creates a scatter plot matrix using hello scatter_matrix function in Pandas.</span></span>

![Immagine1v](./media/machine-learning-execute-python-scripts/figure-v1-8.png)

<span data-ttu-id="16855-228">Figura 8.</span><span class="sxs-lookup"><span data-stu-id="16855-228">Figure 8.</span></span> <span data-ttu-id="16855-229">Toosave che matplotlib figure tooimages del codice.</span><span class="sxs-lookup"><span data-stu-id="16855-229">Code toosave MatplotLib figures tooimages.</span></span>

<span data-ttu-id="16855-230">Figura 9 è illustrato un esperimento che usi script hello illustrato in precedenza tooreturn rappresentata tramite la porta di output secondo hello.</span><span class="sxs-lookup"><span data-stu-id="16855-230">Figure 9 shows an experiment that uses hello script shown previously tooreturn plots via hello second output port.</span></span>

![Immagine2v](./media/machine-learning-execute-python-scripts/figure-v2-9a.png) 

![Immagine2v](./media/machine-learning-execute-python-scripts/figure-v2-9b.png) 

<span data-ttu-id="16855-233">Figura 9.</span><span class="sxs-lookup"><span data-stu-id="16855-233">Figure 9.</span></span> <span data-ttu-id="16855-234">Visualizzazione di tracciati generati da codice Python.</span><span class="sxs-lookup"><span data-stu-id="16855-234">Visualizing plots generated from Python code.</span></span>

<span data-ttu-id="16855-235">È possibili tooreturn più figure salvando i file in immagini differenti, hello Azure Machine Learning runtime preleva tutte le immagini e concatenati per la visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="16855-235">It is possible tooreturn multiple figures by saving them into different images, hello Azure Machine Learning runtime picks up all images and concatenates them for visualization.</span></span>


## <a name="advanced-examples"></a><span data-ttu-id="16855-236">Esempi avanzati</span><span class="sxs-lookup"><span data-stu-id="16855-236">Advanced examples</span></span>

<span data-ttu-id="16855-237">ambiente Anaconda Hello installato in Azure Machine Learning contiene pacchetti comuni, ad esempio NumPy, SciPy e Scikits-Learn.</span><span class="sxs-lookup"><span data-stu-id="16855-237">hello Anaconda environment installed in Azure Machine Learning contains common packages such as NumPy, SciPy, and Scikits-Learn.</span></span> <span data-ttu-id="16855-238">Questi pacchetti possono essere usati in modo efficace per diverse attività di elaborazione dei dati in una pipeline di Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="16855-238">These packages can be effectively used for various data processing tasks in a machine learning pipeline.</span></span> <span data-ttu-id="16855-239">Ad esempio, hello script ed esperimento seguente viene illustrato hello utilizzo di strumenti di apprendimento dell'insieme di punteggi di importanza funzionalità toocompute Scikits-Learn per un set di dati.</span><span class="sxs-lookup"><span data-stu-id="16855-239">As an example, hello following experiment and script illustrate hello use of ensemble learners in Scikits-Learn toocompute feature importance scores for a dataset.</span></span> <span data-ttu-id="16855-240">punteggi Hello possono essere utilizzato tooperform sotto la supervisione di selezione funzionalità prima di essere inseriti in un altro modello ML.</span><span class="sxs-lookup"><span data-stu-id="16855-240">hello scores can be used tooperform supervised feature selection before being fed into another ML model.</span></span>

<span data-ttu-id="16855-241">Ecco i punteggi di importanza hello toocompute funzione usato Python hello e funzionalità di hello ordine in base ai punteggi hello:</span><span class="sxs-lookup"><span data-stu-id="16855-241">Here is hello Python function used toocompute hello importance scores and order hello features based on hello scores:</span></span>

![Immagine11](./media/machine-learning-execute-python-scripts/figure8.png)

<span data-ttu-id="16855-243">Figura 10.</span><span class="sxs-lookup"><span data-stu-id="16855-243">Figure 10.</span></span> <span data-ttu-id="16855-244">Funzione toorank funzionalità punteggi.</span><span class="sxs-lookup"><span data-stu-id="16855-244">Function toorank features by scores.</span></span>
<span data-ttu-id="16855-245"> Hello seguente esperimento quindi calcola e restituisce i punteggi di importanza hello di funzionalità nel set di dati "Pima indiano diabete" hello in Azure Machine Learning:</span><span class="sxs-lookup"><span data-stu-id="16855-245">  hello following experiment then computes and returns hello importance scores of features in hello “Pima Indian Diabetes” dataset in Azure Machine Learning:</span></span>

<span data-ttu-id="16855-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span><span class="sxs-lookup"><span data-stu-id="16855-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span></span>    

<span data-ttu-id="16855-247">Figura 11.</span><span class="sxs-lookup"><span data-stu-id="16855-247">Figure 11.</span></span> <span data-ttu-id="16855-248">Funzionalità di toorank esperimento hello Pima indiano diabete DataSet.</span><span class="sxs-lookup"><span data-stu-id="16855-248">Experiment toorank features in hello Pima Indian Diabetes dataset.</span></span>

## <a name="limitations"></a><span data-ttu-id="16855-249">Limitazioni</span><span class="sxs-lookup"><span data-stu-id="16855-249">Limitations</span></span>
<span data-ttu-id="16855-250">Hello [Execute Python Script] [ execute-python-script] dispone attualmente di hello limitazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="16855-250">hello [Execute Python Script][execute-python-script] currently has hello following limitations:</span></span>

1. <span data-ttu-id="16855-251">*Esecuzione in modalità sandbox.*</span><span class="sxs-lookup"><span data-stu-id="16855-251">*Sandboxed execution.*</span></span> <span data-ttu-id="16855-252">il runtime di Python Hello è attualmente in modalità sandbox e, di conseguenza, non consente l'accesso toohello toohello rete o del file system locale in modo permanente.</span><span class="sxs-lookup"><span data-stu-id="16855-252">hello Python runtime is currently sandboxed and, as a result, does not allow access toohello network or toohello local file system in a persistent manner.</span></span> <span data-ttu-id="16855-253">Tutti i file salvati in locale sono isolati ed eliminati una volta terminato il modulo hello.</span><span class="sxs-lookup"><span data-stu-id="16855-253">All files saved locally are isolated and deleted once hello module finishes.</span></span> <span data-ttu-id="16855-254">Hello codice Python non può accedere la maggior parte delle directory nel computer di hello che è in esecuzione, viene eccezione hello hello directory corrente e nelle relative sottodirectory.</span><span class="sxs-lookup"><span data-stu-id="16855-254">hello Python code cannot access most directories on hello machine it runs on, hello exception being hello current directory and its subdirectories.</span></span>
2. <span data-ttu-id="16855-255">*Mancanza di supporto avanzato per sviluppo e debug.*</span><span class="sxs-lookup"><span data-stu-id="16855-255">*Lack of sophisticated development and debugging support.*</span></span> <span data-ttu-id="16855-256">modulo di Python Hello attualmente non supporta le funzionalità IDE quali intellisense il debug.</span><span class="sxs-lookup"><span data-stu-id="16855-256">hello Python module currently does not support IDE features such as intellisense and debugging.</span></span> <span data-ttu-id="16855-257">Inoltre, se il modulo di hello non riesce in fase di esecuzione, hello Python completo dello stack è disponibile.</span><span class="sxs-lookup"><span data-stu-id="16855-257">Also, if hello module fails at runtime, hello full Python stack trace is available.</span></span> <span data-ttu-id="16855-258">Ma deve essere visualizzata nel log di output di hello per modulo hello.</span><span class="sxs-lookup"><span data-stu-id="16855-258">But it must be viewed in hello output log for hello module.</span></span> <span data-ttu-id="16855-259">Attualmente si consiglia di sviluppare e debug di script Python in un ambiente come IPython e quindi importare codice hello nel modulo di hello.</span><span class="sxs-lookup"><span data-stu-id="16855-259">We currently recommend that you develop and debug Python scripts in an environment such as IPython and then import hello code into hello module.</span></span>
3. <span data-ttu-id="16855-260">*Output di un singolo frame di dati.*</span><span class="sxs-lookup"><span data-stu-id="16855-260">*Single data frame output.*</span></span> <span data-ttu-id="16855-261">punto di ingresso Python Hello è consentito tooreturn solo un frame di dati singolo come output.</span><span class="sxs-lookup"><span data-stu-id="16855-261">hello Python entry point is only permitted tooreturn a single data frame as output.</span></span> <span data-ttu-id="16855-262">Non è attualmente possibile tooreturn che Python arbitrario oggetti, ad esempio i modelli con training eseguire direttamente il runtime di Azure Machine Learning toohello.</span><span class="sxs-lookup"><span data-stu-id="16855-262">It is not currently possible tooreturn arbitrary Python objects such as trained models directly back toohello Azure Machine Learning runtime.</span></span> <span data-ttu-id="16855-263">Ad esempio [Execute R Script][execute-r-script], che dispone di hello stessa limitazione, è possibile in molti casi toopickle oggetti in un byte di matrice e quindi restituiscono che all'interno di un frame di dati.</span><span class="sxs-lookup"><span data-stu-id="16855-263">Like [Execute R Script][execute-r-script], which has hello same limitation, it is possible in many cases toopickle objects into a byte array and then return that inside of a data frame.</span></span>
4. <span data-ttu-id="16855-264">*Impossibilità toocustomize installazione Python*.</span><span class="sxs-lookup"><span data-stu-id="16855-264">*Inability toocustomize Python installation*.</span></span> <span data-ttu-id="16855-265">Attualmente, hello solo modo tooadd Python moduli personalizzati sia dal meccanismo di file zip hello descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="16855-265">Currently, hello only way tooadd custom Python modules is via hello zip file mechanism described earlier.</span></span> <span data-ttu-id="16855-266">Anche se ciò è fattibile per i moduli piccoli, risulta complesso per quelli grandi, specialmente quelli con DLL native o un numero elevato di moduli.</span><span class="sxs-lookup"><span data-stu-id="16855-266">While this is feasible for small modules, it is cumbersome for large modules (especially those with native DLLs) or a large number of modules.</span></span> 

## <a name="conclusions"></a><span data-ttu-id="16855-267">Conclusioni</span><span class="sxs-lookup"><span data-stu-id="16855-267">Conclusions</span></span>
<span data-ttu-id="16855-268">Hello [Execute Python Script] [ execute-python-script] modulo consente un esperto di dati codice Python esistente tooincorporate nei flussi di lavoro learning computer basati su cloud in Azure Machine Learning e tooseamlessly rendere operativo come parte di un servizio web.</span><span class="sxs-lookup"><span data-stu-id="16855-268">hello [Execute Python Script][execute-python-script] module allows a data scientist tooincorporate existing Python code into cloud-hosted machine learning workflows in Azure Machine Learning and tooseamlessly operationalize them as part of a web service.</span></span> <span data-ttu-id="16855-269">modulo di script Python Hello interagisce naturalmente con altri moduli in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="16855-269">hello Python script module interoperates naturally with other modules in Azure Machine Learning.</span></span> <span data-ttu-id="16855-270">modulo Hello può essere utilizzato per una gamma di attività da elaborazione toopre l'esplorazione dei dati e l'estrazione, funzionalità e quindi tooevaluation e post-elaborazione dei risultati di hello.</span><span class="sxs-lookup"><span data-stu-id="16855-270">hello module can be used for a range of tasks from data exploration toopre-processing and feature extraction, and then tooevaluation and post-processing of hello results.</span></span> <span data-ttu-id="16855-271">il runtime di back-end Hello utilizzato per l'esecuzione si basa su Anaconda, una distribuzione di Python testata e ampiamente usata.</span><span class="sxs-lookup"><span data-stu-id="16855-271">hello backend runtime used for execution is based on Anaconda, a well-tested and widely used Python distribution.</span></span> <span data-ttu-id="16855-272">Il back-end rende più semplice per consentire le risorse di codice esistenti tooon Lavagna in cloud hello.</span><span class="sxs-lookup"><span data-stu-id="16855-272">This backend makes it simple for you tooon-board existing code assets into hello cloud.</span></span>

<span data-ttu-id="16855-273">Prevediamo tooprovide funzionalità aggiuntive toohello [Execute Python Script] [ execute-python-script] modulo, ad esempio hello tootrain possibilità e utilizzare i modelli di Python e tooadd supporto migliorato per hello sviluppo e debug del codice in Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="16855-273">We expect tooprovide additional functionality toohello [Execute Python Script][execute-python-script] module such as hello ability tootrain and operationalize models in Python and tooadd better support for hello development and debugging code in Azure Machine Learning Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="16855-274">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="16855-274">Next steps</span></span>
<span data-ttu-id="16855-275">Per ulteriori informazioni, vedere hello [Centro per sviluppatori Python](https://azure.microsoft.com/develop/python/).</span><span class="sxs-lookup"><span data-stu-id="16855-275">For more information, see hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span></span>

<!-- Module References -->
[execute-python-script]: https://msdn.microsoft.com/library/azure/cdb56f95-7f4c-404d-bde7-5bb972e6f232/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
