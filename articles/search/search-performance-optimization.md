---
title: Considerazioni sulle prestazioni e ottimizzazione ricerca aaaAzure | Documenti Microsoft
description: "Ottimizzare le prestazioni di Ricerca di Azure e configurare una scalabilità ottimale"
services: search
documentationcenter: 
author: LiamCavanagh
manager: pablocas
editor: 
ms.assetid: 4d3cd864-29d2-4921-be0d-a3f1a819de46
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 05/01/2017
ms.author: liamca
ms.openlocfilehash: 725149ba32773ab6b4c9d4b441424aba78db7c42
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-search-performance-and-optimization-considerations"></a><span data-ttu-id="40785-103">Considerazioni sulle prestazioni e sull'ottimizzazione di Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="40785-103">Azure Search performance and optimization considerations</span></span>
<span data-ttu-id="40785-104">Un'esperienza ottimale di ricerca è una chiave toosuccess per molti dispositivi mobili e le applicazioni web.</span><span class="sxs-lookup"><span data-stu-id="40785-104">A great search experience is a key toosuccess for many mobile and web applications.</span></span> <span data-ttu-id="40785-105">Da immobiliare, cataloghi di tooonline tooused car Marketplace, ricerca veloce e i risultati pertinenti avrà effetto su Analisi utilizzo software hello.</span><span class="sxs-lookup"><span data-stu-id="40785-105">From real estate, tooused car marketplaces tooonline catalogs, fast search and relevant results will affect hello customer experience.</span></span> <span data-ttu-id="40785-106">Questo documento è toohelp previsto individuare le procedure consigliate per la modalità hello tooget meglio la ricerca di Azure, in particolare per scenari avanzati con sofisticate requisiti per la scalabilità, supporto multilingue o classificazione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="40785-106">This document is intended toohelp you discover best practices for how tooget hello most out of Azure Search, especially for advanced scenarios with sophisticated requirements for scalability, multi-language support, or custom ranking.</span></span>  <span data-ttu-id="40785-107">Questo documento illustra anche i meccanismi interni e descrive gli approcci efficienti per le applicazioni reali dei clienti.</span><span class="sxs-lookup"><span data-stu-id="40785-107">In addition, this document outlines internals and covers approaches that work effectively in real-world customer apps.</span></span>

## <a name="performance-and-scale-tuning-for-search-services"></a><span data-ttu-id="40785-108">Prestazioni e pianificazione della scalabilità per i servizi di Ricerca</span><span class="sxs-lookup"><span data-stu-id="40785-108">Performance and scale tuning for Search services</span></span>
<span data-ttu-id="40785-109">È in tutti i motori toosearch utilizzato, ad esempio Bing e Google e hello ad alte prestazioni che offrono.</span><span class="sxs-lookup"><span data-stu-id="40785-109">We are all used toosearch engines such as Bing and Google and hello high performance they offer.</span></span>  <span data-ttu-id="40785-110">Di conseguenza, quando i clienti usano applicazioni mobili o Web abilitate per la ricerca, si aspettano prestazioni simili.</span><span class="sxs-lookup"><span data-stu-id="40785-110">As a result, when customers use your search-enabled web or mobile application, they will expect similar performance characteristics.</span></span>  <span data-ttu-id="40785-111">Per l'ottimizzazione delle prestazioni di ricerca, uno degli approcci migliori hello è toofocus sulla latenza, ovvero hello tempo una query toocomplete e restituire risultati.</span><span class="sxs-lookup"><span data-stu-id="40785-111">When optimizing for search performance, one of hello best approaches is toofocus on latency, which is hello time a query takes toocomplete and return results.</span></span>  <span data-ttu-id="40785-112">Durante l'ottimizzazione della latenza della ricerca, è importante:</span><span class="sxs-lookup"><span data-stu-id="40785-112">When optimizing for search latency it is important to:</span></span>

1. <span data-ttu-id="40785-113">Selezionare una latenza prevista (o la quantità massima di tempo) che una richiesta di ricerca tipiche dovrà essere toocomplete.</span><span class="sxs-lookup"><span data-stu-id="40785-113">Pick a target latency (or maximum amount of time) that a typical search request should take toocomplete.</span></span>
2. <span data-ttu-id="40785-114">Creare e testare un carico di lavoro reale per il servizio di ricerca con un set di dati realistico di toomeasure i tassi di latenza.</span><span class="sxs-lookup"><span data-stu-id="40785-114">Create and test a real workload against your search service with a realistic dataset toomeasure these latency rates.</span></span>
3. <span data-ttu-id="40785-115">Iniziare con un numero ridotto di query al secondo variano e continuare il numero di hello tooincrease eseguito in test hello fino al query hello latenza scende di sotto di hello definito latenza.</span><span class="sxs-lookup"><span data-stu-id="40785-115">Start with a low number of queries per second (QPS) and continue tooincrease hello number executed in hello test until hello query latency drops below hello defined target latency.</span></span>  <span data-ttu-id="40785-116">Si tratta di un toohelp benchmark importante che pianificare per la scala, man mano che aumenta l'applicazione in uso.</span><span class="sxs-lookup"><span data-stu-id="40785-116">This is an important benchmark toohelp you plan for scale as your application grows in usage.</span></span>
4. <span data-ttu-id="40785-117">Se possibile, riusare le connessioni HTTP.</span><span class="sxs-lookup"><span data-stu-id="40785-117">Wherever possible, reuse HTTP connections.</span></span>  <span data-ttu-id="40785-118">Se si utilizza hello Azure Search .NET SDK, ciò significa che è necessario riutilizzare un'istanza o [SearchIndexClient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) istanza e, se si utilizza hello API REST, è necessario riutilizzare HttpClient singolo.</span><span class="sxs-lookup"><span data-stu-id="40785-118">If you are using hello Azure Search .NET SDK, this means you should reuse an instance or [SearchIndexClient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) instance, and if you are using hello REST API, you should reuse a single HttpClient.</span></span>

<span data-ttu-id="40785-119">Durante la creazione di questi test i carichi di lavoro, esistono alcune caratteristiche di ricerca di Azure tookeep presente:</span><span class="sxs-lookup"><span data-stu-id="40785-119">While creating these test workloads, there are some characteristics of Azure Search tookeep in mind:</span></span>

1. <span data-ttu-id="40785-120">È possibile toopush moltissimi ricerca eseguita una query in una sola volta, che sarà possibile sovraccaricate risorse hello disponibili nel servizio di ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40785-120">It is possible toopush so many search queries at one time, that hello resources available in your Azure Search service will be overwhelmed.</span></span>  <span data-ttu-id="40785-121">In questo caso, vengono visualizzati i codici di risposta HTTP 503.</span><span class="sxs-lookup"><span data-stu-id="40785-121">When this happens, you will see HTTP 503 response codes.</span></span>  <span data-ttu-id="40785-122">Per questo motivo, è migliore toostart con vari intervalli di ricerca richieste toosee hello differenze in periodi di latenza quando si aggiungono più richieste di ricerca.</span><span class="sxs-lookup"><span data-stu-id="40785-122">For this reason, it is best toostart with various ranges of search requests toosee hello differences in latency rates as you add more search requests.</span></span>
2. <span data-ttu-id="40785-123">Caricamento di contenuto tooAzure ricerca avrà un impatto sulle prestazioni complessive di hello e latenza di hello del servizio di ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40785-123">Uploading of content tooAzure Search will impact hello overall performance and latency of hello Azure Search service.</span></span>  <span data-ttu-id="40785-124">Se si prevedono di toosend dati mentre gli utenti eseguono ricerche, è importante tootake questo carico di lavoro nell'account di test.</span><span class="sxs-lookup"><span data-stu-id="40785-124">If you expect toosend data while users are performing searches, it is important tootake this workload into account in your tests.</span></span>
3. <span data-ttu-id="40785-125">Non tutte le query di ricerca verrà eseguita in hello stessi livelli di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="40785-125">Not every search query will perform at hello same performance levels.</span></span>  <span data-ttu-id="40785-126">Ad esempio, la visualizzazione di un documento o un consiglio sulla ricerca viene generalmente eseguito più velocemente rispetto a una query con un numero significativo di facet e filtri.</span><span class="sxs-lookup"><span data-stu-id="40785-126">For example, a document lookup or search suggestion will typically perform faster than a query with a significant number of facets and filters.</span></span>  <span data-ttu-id="40785-127">È migliore hello tootake varie query in che previsti toosee considerazione durante la compilazione di test.</span><span class="sxs-lookup"><span data-stu-id="40785-127">It is best tootake hello various queries you expect toosee into account when building your tests.</span></span>  
4. <span data-ttu-id="40785-128">Variazione delle richieste di ricerca è importante perché se si esegue continuamente hello stesso richieste di ricerca, la memorizzazione nella cache dei dati delle prestazioni di avvio toomake sarà meglio potrebbe con una query più diverso impostata.</span><span class="sxs-lookup"><span data-stu-id="40785-128">Variation of search requests is important because if you continually execute hello same search requests, caching of data will start toomake performance look better than it might with a more disparate query set.</span></span>

> [!NOTE]
> <span data-ttu-id="40785-129">[Test di carico di Visual Studio](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) è un tooperform realmente efficace il benchmark testa in quanto consente le richieste HTTP tooexecute che sarebbero necessari per l'esecuzione di query su ricerca di Azure e consente la parallelizzazione delle richieste.</span><span class="sxs-lookup"><span data-stu-id="40785-129">[Visual Studio Load Testing](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) is a really good way tooperform your benchmark tests as it allows you tooexecute HTTP requests as you would need for executing queries against Azure Search and enables parallelization of requests.</span></span>
> 
> 

## <a name="scaling-azure-search-for-high-query-rates-and-throttled-requests"></a><span data-ttu-id="40785-130">Ridimensionamento di Ricerca di Azure per tassi elevati di query e richieste limitate</span><span class="sxs-lookup"><span data-stu-id="40785-130">Scaling Azure Search for high query rates and throttled requests</span></span>
<span data-ttu-id="40785-131">Quando si ricevono troppi le richieste limitate o superano le tariffe di latenza di destinazione da un carico maggiore di query, è possibile esaminare i tassi di latenza toodecrease in uno dei due modi:</span><span class="sxs-lookup"><span data-stu-id="40785-131">When you are receiving too many throttled requests or exceed your target latency rates from an increased query load, you can look toodecrease latency rates in one of two ways:</span></span>

1. <span data-ttu-id="40785-132">**Aumento delle repliche:** una replica è una copia dei dati che consente di più copie di ricerca di Azure tooload bilanciamento delle richieste su hello.</span><span class="sxs-lookup"><span data-stu-id="40785-132">**Increase Replicas:**  A replica is like a copy of your data allowing Azure Search tooload balance requests against hello multiple copies.</span></span>  <span data-ttu-id="40785-133">Tutto il bilanciamento del carico e la replica dei dati tra le repliche è gestita da ricerca di Azure è possibile modificare il numero di hello di repliche allocata per il servizio in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="40785-133">All load balancing and replication of data across replicas is managed by Azure Search and you can alter hello number of replicas allocated for your service at any time.</span></span>  <span data-ttu-id="40785-134">È possibile allocare backup too12 le repliche di un servizio di ricerca Standard e 3 repliche in un servizio di ricerca.</span><span class="sxs-lookup"><span data-stu-id="40785-134">You can allocate up too12 replicas in a Standard search service and 3 replicas in a Basic search service.</span></span> <span data-ttu-id="40785-135">Le repliche possono essere modificate da hello [portale di Azure](search-create-service-portal.md) o [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="40785-135">Replicas can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="40785-136">**Aumentare il livello di Ricerca:** sono disponibili [diversi livelli](https://azure.microsoft.com/pricing/details/search/) per Ricerca di Azure, ognuno dei quali offre diversi livelli di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="40785-136">**Increase Search Tier:**  Azure Search comes in a [number of tiers](https://azure.microsoft.com/pricing/details/search/) and each of these tiers offers different levels of performance.</span></span>  <span data-ttu-id="40785-137">In alcuni casi, potrebbe essere così tante query trovano in tale livello di hello non può fornire tariffe sufficientemente bassa latenza, anche quando si raggiunge il limite massimo delle repliche.  In questo caso, è consigliabile tooconsider utilizzando uno dei piani ricerca superiori hello, ad esempio livello di hello S3 di ricerca di Azure che è particolarmente adatto per scenari con un numero elevato di documenti e i carichi di lavoro di query estremamente elevate.</span><span class="sxs-lookup"><span data-stu-id="40785-137">In some cases, you may have so many queries that hello tier you are on cannot provide sufficiently low latency rates, even when replicas are maxed out.  In this case, you may want tooconsider leveraging one of hello higher search tiers such as hello Azure Search S3 tier that is well suited for scenarios with large numbers of documents and extremely high query workloads.</span></span>

## <a name="scaling-azure-search-for-slow-individual-queries"></a><span data-ttu-id="40785-138">Ridimensionamento di Ricerca di Azure per le singole query lente</span><span class="sxs-lookup"><span data-stu-id="40785-138">Scaling Azure Search for slow individual queries</span></span>
<span data-ttu-id="40785-139">Un altro motivo, perché può essere lente periodi di latenza è da una singola query tenendo toocomplete troppo lungo.</span><span class="sxs-lookup"><span data-stu-id="40785-139">Another reason why latency rates can be slow is from a single query taking too long toocomplete.</span></span>  <span data-ttu-id="40785-140">In questo caso, l'aggiunta di repliche non migliorerà il tasso di latenza.</span><span class="sxs-lookup"><span data-stu-id="40785-140">In this case, adding replicas will not improve latency rates.</span></span>  <span data-ttu-id="40785-141">In questo caso sono disponibili due opzioni:</span><span class="sxs-lookup"><span data-stu-id="40785-141">For this case there are two options available:</span></span>

1. <span data-ttu-id="40785-142">**Aumentare le partizioni**: una partizione è un meccanismo per la suddivisione dei dati tra le risorse aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="40785-142">**Increase Partitions** A partition is a mechanism for splitting your data across extra resources.</span></span>  <span data-ttu-id="40785-143">Per questo motivo, quando si aggiunge una seconda partizione, si ottengono dati divisi in due parti.</span><span class="sxs-lookup"><span data-stu-id="40785-143">For this reason, when you add a second partition, your data gets split into two.</span></span>  <span data-ttu-id="40785-144">Una terza partizione suddivide l'indice in tre parti e così via.  Questo ha inoltre effetto di hello che in alcuni casi, le query lente eseguirà più velocemente a causa di parallelizzazione toohello di calcolo.</span><span class="sxs-lookup"><span data-stu-id="40785-144">A third partition splits your index into three, etc.  This also has hello effect that in some cases, slow queries will perform faster due toohello parallelization of computation.</span></span>  <span data-ttu-id="40785-145">Sono disponibili alcuni esempi dell'efficienza della parallelizzazione con query che dispongono di query a selettività ridotta.</span><span class="sxs-lookup"><span data-stu-id="40785-145">There are a few examples of where we have seen this parallelization work extremely well with queries that have low selectivity queries.</span></span>  <span data-ttu-id="40785-146">Si tratta di una query che soddisfano molti documenti o quando è necessario facet tooprovide conta su un numero elevato di documenti.</span><span class="sxs-lookup"><span data-stu-id="40785-146">This consists of queries that match many documents or when faceting needs tooprovide counts over large numbers of documents.</span></span>  <span data-ttu-id="40785-147">Poiché non esiste che una grande quantità di calcolo necessarie rilevanza hello tooscore di documenti hello o numeri di hello toocount dei documenti, aggiunta di partizioni aggiuntive consentono di calcolo aggiuntive tooprovide.</span><span class="sxs-lookup"><span data-stu-id="40785-147">Since there is a lot of computation needed tooscore hello relevancy of hello documents or toocount hello numbers of documents, adding extra partitions can help tooprovide additional computation.</span></span>  
   
   <span data-ttu-id="40785-148">Può esistere un massimo di 12 partizioni nel servizio di ricerca Standard e la 1 partizione nel servizio di ricerca basic hello.</span><span class="sxs-lookup"><span data-stu-id="40785-148">There can be a maximum of 12 partitions in Standard search service and 1 partition in hello basic search service.</span></span>  <span data-ttu-id="40785-149">Le partizioni possono essere modificate da hello [portale di Azure](search-create-service-portal.md) o [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="40785-149">Partitions can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="40785-150">**Campi di cardinalità elevata limite:** un campo di cardinalità elevata è costituito da un facetable o filtrabile campo che dispone di un numero significativo di valori univoci e di conseguenza, assume una grande quantità di risorse toocompute risultati.</span><span class="sxs-lookup"><span data-stu-id="40785-150">**Limit High Cardinality Fields:** A high cardinality field consists of a facetable or filterable field that has a significant number of unique values, and as a result, takes a lot of resources toocompute results over.</span></span>   <span data-ttu-id="40785-151">Ad esempio, l'impostazione di un campo ID prodotto o la descrizione come filtrabile/facetable renderebbe per cardinalità elevata poiché la maggior parte dei valori hello toodocument documento sono univoca.</span><span class="sxs-lookup"><span data-stu-id="40785-151">For example, setting a Product ID or Description field as facetable/filterable would make for high cardinality because most of hello values from document toodocument are unique.</span></span> <span data-ttu-id="40785-152">Laddove possibile, limitare il numero di hello di campi di cardinalità elevata.</span><span class="sxs-lookup"><span data-stu-id="40785-152">Wherever possible, limit hello number of high cardinality fields.</span></span>
3. <span data-ttu-id="40785-153">**Aumento del livello di ricerca:** spostando verso l'alto tooa maggiore livello di ricerca di Azure può essere un altro modo tooimprove le prestazioni delle query lente.</span><span class="sxs-lookup"><span data-stu-id="40785-153">**Increase Search Tier:**  Moving up tooa higher Azure Search tier can be another way tooimprove performance of slow queries.</span></span>  <span data-ttu-id="40785-154">Ogni livello superiore fornisce CPU più veloce e memoria più ampia, elementi che possono avere un impatto positivo sulle prestazioni delle query.</span><span class="sxs-lookup"><span data-stu-id="40785-154">Each higher tier also provides faster CPU’s and more memory which can have a positive impact on query performance.</span></span>

## <a name="scaling-for-availability"></a><span data-ttu-id="40785-155">Ridimensionamento per la disponibilità</span><span class="sxs-lookup"><span data-stu-id="40785-155">Scaling for availability</span></span>
<span data-ttu-id="40785-156">Le repliche non solo consentono di ridurre la latenza delle query ma possono anche favorire una disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="40785-156">Replicas not only help reduce query latency but can also allow for high availability.</span></span>  <span data-ttu-id="40785-157">Con una singola replica, è possibile aspettarsi periodica tempi di inattività a causa di riavvii tooserver dopo gli aggiornamenti software o per altri eventi di manutenzione che si verificheranno.</span><span class="sxs-lookup"><span data-stu-id="40785-157">With a single replica, you should expect periodic downtime due tooserver reboots after software updates or for other maintenance events that will occur.</span></span>  <span data-ttu-id="40785-158">Di conseguenza, è importante tooconsider se l'applicazione richiede la disponibilità elevata di ricerche, le query, nonché operazioni di scrittura (eventi di indicizzazione).</span><span class="sxs-lookup"><span data-stu-id="40785-158">As a result, it is important tooconsider if your application requires high availability of searches (queries) as well as writes (indexing events).</span></span>  <span data-ttu-id="40785-159">Ricerca di Azure offre opzioni di contratto di servizio su tutti hello offerte a pagamento di ricerca con hello gli attributi seguenti:</span><span class="sxs-lookup"><span data-stu-id="40785-159">Azure Search offers SLA options on all hello paid search offerings with hello following attributes:</span></span>

* <span data-ttu-id="40785-160">2 repliche per la disponibilità elevata dei carichi di lavoro di sola lettura (query)</span><span class="sxs-lookup"><span data-stu-id="40785-160">2 replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="40785-161">3 o più repliche per la disponibilità elevata dei carichi di lavoro di lettura/scrittura (query e indicizzazione)</span><span class="sxs-lookup"><span data-stu-id="40785-161">3 or more replicas for high availability of read-write workloads (queries and indexing)</span></span>

<span data-ttu-id="40785-162">Per ulteriori informazioni, visitare hello [contratto del servizio di ricerca di Azure](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="40785-162">For more details on this, please visit hello [Azure Search Service Level Agreement](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>

<span data-ttu-id="40785-163">Poiché le repliche sono copie dei dati, con più repliche consente il riavvio di ricerca di Azure toodo macchina e manutenzione su una replica in un momento, consentendo query toobe toocontinue eseguite hello altre repliche.</span><span class="sxs-lookup"><span data-stu-id="40785-163">Since replicas are copies of your data, having multiple replicas allows Azure Search toodo machine reboots and maintenance against one replica at a time while allowing queries toocontinue toobe executed against hello other replicas.</span></span>  <span data-ttu-id="40785-164">Per questo motivo, è necessario anche tooconsider questo periodo di inattività possibile impatto query hello in cui sono stati toobe eseguite una minore copia dei dati di hello.</span><span class="sxs-lookup"><span data-stu-id="40785-164">For that reason, you will also need tooconsider how this downtime may impact hello queries that now have toobe executed against one less copy of hello data.</span></span>

## <a name="scaling-geo-distributed-workloads-and-provide-geo-redundancy"></a><span data-ttu-id="40785-165">Ridimensionamento dei carichi di lavoro distribuiti geograficamente e ridondanza geografica</span><span class="sxs-lookup"><span data-stu-id="40785-165">Scaling geo-distributed workloads and provide geo-redundancy</span></span>
<span data-ttu-id="40785-166">Per carichi di lavoro distribuita geograficamente, si noterà che gli utenti trovano lontano dal centro dati hello in cui è ospitato il servizio di ricerca di Azure avrà la velocità di latenza.</span><span class="sxs-lookup"><span data-stu-id="40785-166">For geo-distributed workloads, you will find that users located far from hello data center where your Azure Search service is hosted will have higher latency rates.</span></span>  <span data-ttu-id="40785-167">Per questo motivo, è spesso importante toohave ricerca più servizi in aree che sono in più vicino agli utenti di toothese prossimità.</span><span class="sxs-lookup"><span data-stu-id="40785-167">For this reason, it is often important toohave multiple search services in regions that are in closer proximity toothese users.</span></span>  <span data-ttu-id="40785-168">Ricerca di Azure attualmente non offre un metodo automatizzato di replica geografica indici di ricerca di Azure tra le aree, ma esistono alcune tecniche che consentono di che possono rendere questo tooimplement semplice processo e gestire.</span><span class="sxs-lookup"><span data-stu-id="40785-168">Azure Search does not currently provide an automated method of geo-replicating Azure Search indexes across regions, but there are some techniques that can be used that can make this process simple tooimplement and manage.</span></span> <span data-ttu-id="40785-169">Queste vengono illustrate in hello prossime sezioni.</span><span class="sxs-lookup"><span data-stu-id="40785-169">These are outlined in hello next few sections.</span></span>

<span data-ttu-id="40785-170">obiettivo di un set geograficamente distribuite di servizi di ricerca Hello è toohave due o più indici disponibili in due o più aree in cui un utente sarà indirizzato toohello del servizio di ricerca di Azure che fornisce la latenza più bassa di hello, come illustrato in questo esempio:</span><span class="sxs-lookup"><span data-stu-id="40785-170">hello goal of a geo-distributed set of search services is toohave two or more indexes available in two or more regions where a user will be routed toohello Azure Search service that provides hello lowest latency as seen in this example:</span></span>

   ![Incrocio dei servizi per area][1]

### <a name="keeping-data-in-sync-across-multiple-azure-search-services"></a><span data-ttu-id="40785-172">Mantenere sincronizzati i dati tra più servizi di Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="40785-172">Keeping data in sync across multiple Azure Search services</span></span>
<span data-ttu-id="40785-173">Sono disponibili due opzioni per mantenere i servizi di ricerca distribuita sincronizzati tramite composti da hello [indicizzatore di ricerca di Azure](search-indexer-overview.md) o hello API Push (definita anche hello tooas [API REST di ricerca di Azure](https://docs.microsoft.com/rest/api/searchservice/)).</span><span class="sxs-lookup"><span data-stu-id="40785-173">There are two options for keeping your distributed search services in sync which consist of either using hello [Azure Search Indexer](search-indexer-overview.md) or hello Push API (also referred tooas hello [Azure Search REST API](https://docs.microsoft.com/rest/api/searchservice/)).</span></span>  

### <a name="azure-search-indexers"></a><span data-ttu-id="40785-174">Indicizzatori di Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="40785-174">Azure Search Indexers</span></span>
<span data-ttu-id="40785-175">Se si utilizza hello indicizzatore di ricerca di Azure, già importate le modifiche ai dati da un archivio dati centrale, ad esempio database SQL di Azure o Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="40785-175">If you are using hello Azure Search Indexer, you are already importing data changes from a central datastore such as Azure SQL DB or Azure Cosmos DB.</span></span> <span data-ttu-id="40785-176">Quando si crea una nuova ricerca del servizio, è sufficiente anche creare un nuovo indicizzatore di ricerca di Azure per il servizio che toothis punti stesso archivio dati.</span><span class="sxs-lookup"><span data-stu-id="40785-176">When you create a new search Service, you simply also create a new Azure Search Indexer for that service that points toothis same datastore.</span></span> <span data-ttu-id="40785-177">In questo modo, ogni volta che le nuove modifiche diventano hello archivio dati, si dovessero poi rendere indicizzato da hello diversi indicizzatori.</span><span class="sxs-lookup"><span data-stu-id="40785-177">That way, whenever new changes come into hello data store, they will then be indexed by hello various Indexers.</span></span>  

<span data-ttu-id="40785-178">Di seguito è riportato un esempio dell'aspetto dell'architettura.</span><span class="sxs-lookup"><span data-stu-id="40785-178">Here is an example of what that architecture would look like.</span></span>

   ![Singola origine dati con indicizzatore distribuito e combinazioni di servizio][2]

### <a name="push-api"></a><span data-ttu-id="40785-180">API Push</span><span class="sxs-lookup"><span data-stu-id="40785-180">Push API</span></span>
<span data-ttu-id="40785-181">Se si utilizza hello API Push ricerca di Azure troppo[aggiornare il contenuto in un indice di ricerca di Azure](https://docs.microsoft.com/rest/api/searchservice/update-index), è possibile mantenere sincronizzati i vari servizi di ricerca mediante il push dei servizi di ricerca tooall modifiche ogni volta che è necessario un aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="40785-181">If you are using hello Azure Search Push API too[update content in your Azure Search index](https://docs.microsoft.com/rest/api/searchservice/update-index), you can keep your various search services in sync by pushing changes tooall search services whenever an update is required.</span></span>  <span data-ttu-id="40785-182">In tal caso è importante toomake che toohandle casi in cui un servizio di ricerca tooone aggiornamento ha esito negativo e l'esito positivo di uno o più aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="40785-182">When doing this it is important toomake sure toohandle cases where an update tooone search service fails and one or more updates succeed.</span></span>

## <a name="leveraging-azure-traffic-manager"></a><span data-ttu-id="40785-183">Uso di Gestione traffico di Azure</span><span class="sxs-lookup"><span data-stu-id="40785-183">Leveraging Azure Traffic Manager</span></span>
<span data-ttu-id="40785-184">[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) consente tooroute richieste toomultiple posizionati geograficamente i siti Web che vengono quindi supportato da più servizi di ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40785-184">[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) allows you tooroute requests toomultiple geo-located websites that are then backed by multiple Azure Search Services.</span></span>  <span data-ttu-id="40785-185">Uno dei vantaggi di gestione traffico hello è che può probe tooensure di ricerca di Azure che sia disponibile e distribuire servizi di ricerca di utenti tooalternate nell'evento hello del tempo di inattività.</span><span class="sxs-lookup"><span data-stu-id="40785-185">One advantage of hello Traffic Manager is that it can probe Azure Search tooensure that it is available and route users tooalternate search services in hello event of downtime.</span></span>  <span data-ttu-id="40785-186">Inoltre, se si esegue il routing delle richieste di ricerca tramite siti Web di Azure, Azure Traffic Manager consente tooload saldo casi in cui sito Web di hello backup ma non ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40785-186">In addition, if you are routing search requests through Azure Web Sites, Azure Traffic Manager allows you tooload balance cases where hello Website is up but not Azure Search.</span></span>  <span data-ttu-id="40785-187">Di seguito è riportato un esempio di architettura hello che sfrutta Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="40785-187">Here is an example of what hello architecture that leverages Traffic Manager.</span></span>

   ![Incrocio dei servizi per area con Gestione traffico centrale][3]

## <a name="monitoring-performance"></a><span data-ttu-id="40785-189">Monitoraggio delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="40785-189">Monitoring performance</span></span>
<span data-ttu-id="40785-190">Ricerca di Azure offre hello possibilità tooanalyze e monitoraggio hello prestazioni del servizio tramite [ricerca traffico Analitica (STA)](search-traffic-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="40785-190">Azure Search offers hello ability tooanalyze and monitor hello performance of your service through [Search Traffic Analytics (STA)](search-traffic-analytics.md).</span></span> <span data-ttu-id="40785-191">Tramite STA, è facoltativamente possibile registrare le operazioni di ricerca individuali hello, nonché account di archiviazione Azure tooan le metriche di aggregazione che possono essere elaborati per l'analisi o visualizzati in Power BI.</span><span class="sxs-lookup"><span data-stu-id="40785-191">Through STA, you can optionally log hello individual search operations as well as aggregated metrics tooan Azure Storage account that can then be processed for analysis or visualized in Power BI.</span></span>  <span data-ttu-id="40785-192">Con le metriche STA, è possibile esaminare le statistiche sulle prestazioni, ad esempio il numero medio delle query o i tempi di risposta alle query.</span><span class="sxs-lookup"><span data-stu-id="40785-192">Using STA metrics, you can review performance statistics such as average number of queries or query response times.</span></span>  <span data-ttu-id="40785-193">Inoltre, la registrazione di operazioni hello consente toodrill in dettagli delle operazioni di ricerca specifico.</span><span class="sxs-lookup"><span data-stu-id="40785-193">In addition, hello operation logging allows you toodrill into details of specific search operations.</span></span>

<span data-ttu-id="40785-194">STA rappresenta una velocità di latenza strumento prezioso toounderstand dal punto di vista che ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40785-194">STA is a valuable tool toounderstand latency rates from that Azure Search perspective.</span></span>  <span data-ttu-id="40785-195">Poiché le metriche delle prestazioni di query hello registrate sono basate su tempo hello una query richiede toobe completamente elaborati nella ricerca di Azure (da ora hello è toowhen richiesto che venga inviato), si è in grado di toouse questo toodetermine se problemi di latenza da hello del servizio di ricerca di Azure sul lato o all'esterno di hello service, ad esempio dalla latenza di rete.</span><span class="sxs-lookup"><span data-stu-id="40785-195">Since hello query performance metrics logged are based on hello time a query takes toobe fully processed in Azure Search (from hello time it is requested toowhen it is sent out), you are able toouse this toodetermine if latency issues are from hello Azure Search service side or outside of hello service, such as from network latency.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="40785-196">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="40785-196">Next steps</span></span>
<span data-ttu-id="40785-197">vedere toolearn ulteriori informazioni sui prezzi di livelli e i limiti di servizi per ognuno di essi, hello [limiti in ricerca di Azure del servizio](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="40785-197">toolearn more about hello pricing tiers and services limits for each one, see [Service limits in Azure Search](search-limits-quotas-capacity.md).</span></span>

<span data-ttu-id="40785-198">Visitare [la pianificazione della capacità](search-capacity-planning.md) toolearn ulteriori informazioni sulle combinazioni di partizione e di replica.</span><span class="sxs-lookup"><span data-stu-id="40785-198">Visit [Capacity planning](search-capacity-planning.md) toolearn more about partition and replica combinations.</span></span>

<span data-ttu-id="40785-199">Per ulteriori drill-down sulle prestazioni e toosee alcune dimostrazioni della modalità tooimplement hello ottimizzazioni descritti in questo articolo, eseguire il controllo hello video seguente:</span><span class="sxs-lookup"><span data-stu-id="40785-199">For more drilldown on performance and toosee some demonstrations of how tooimplement hello optimizations discussed in this article, watch hello following video:</span></span>

> [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON319/player]
> 
> 

<!--Image references-->
[1]: ./media/search-performance-optimization/geo-redundancy.png
[2]: ./media/search-performance-optimization/scale-indexers.png
[3]: ./media/search-performance-optimization/geo-search-traffic-mgr.png
