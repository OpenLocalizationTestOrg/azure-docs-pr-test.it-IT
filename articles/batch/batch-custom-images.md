---
title: in un pool da immagini personalizzate aaaProvision Azure Batch | Documenti Microsoft
description: "È possibile creare un pool da un'immagine personalizzata di tooprovision calcolo nodi che contengono software hello e i dati necessari per l'applicazione di Batch. Immagini personalizzate sono un modo efficiente tooconfigure i carichi di lavoro Batch toorun nodi di calcolo."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 5cb698ee90f7d3ec9ffe69fa4dc602132c3f7569
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-custom-image-toocreate-a-pool-of-virtual-machines"></a><span data-ttu-id="43ed5-104">Utilizzare toocreate un'immagine personalizzata un pool di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="43ed5-104">Use a custom image toocreate a pool of virtual machines</span></span>

<span data-ttu-id="43ed5-105">Quando si crea un pool di macchine virtuali in Azure Batch, specificare un'immagine di macchina virtuale (VM) che fornisce hello del sistema operativo per ogni nodo di calcolo nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="43ed5-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides hello operating system for each compute node in hello pool.</span></span> <span data-ttu-id="43ed5-106">È possibile creare un pool di macchine virtuali usando un'immagine di Azure Marketplace oppure fornendo un'immagine di disco rigido virtuale personalizzata preparata.</span><span class="sxs-lookup"><span data-stu-id="43ed5-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="43ed5-107">Quando si specifica un'immagine personalizzata, è possibile controllo sulla configurazione del sistema operativo hello in fase di hello che viene eseguito il provisioning di ogni nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="43ed5-107">When you provide a custom image, you have control over how hello operating system is configured at hello time that each compute node is provisioned.</span></span> <span data-ttu-id="43ed5-108">L'immagine personalizzata è incluse anche le applicazioni e dati di riferimento che sono disponibili in hello nodo di calcolo non appena è disponibile.</span><span class="sxs-lookup"><span data-stu-id="43ed5-108">Your custom image can also include applications and reference data that are available on hello compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="43ed5-109">Utilizza un'immagine personalizzata può risparmiare tempo durante il recupero di nodi di calcolo del pool pronto toorun il carico di lavoro di Batch.</span><span class="sxs-lookup"><span data-stu-id="43ed5-109">Using a custom image can save you time in getting your pool's compute nodes ready toorun your Batch workload.</span></span> <span data-ttu-id="43ed5-110">Benché sia sempre possibile usare un'immagine di Azure Marketplace e installare il software in ogni nodo di calcolo dopo averne effettuato il provisioning, questo approccio può rivelarsi meno efficiente rispetto all'uso di un'immagine personalizzata.</span><span class="sxs-lookup"><span data-stu-id="43ed5-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="43ed5-111">Un'immagine personalizzata che è configurata per lo scenario di toouse alcuni motivi includono la necessità di:</span><span class="sxs-lookup"><span data-stu-id="43ed5-111">Some reasons toouse a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="43ed5-112">**Configurare il sistema operativo hello (sistema operativo)** alcuna configurazione particolare del sistema operativo hello può essere eseguite su immagine personalizzata hello.</span><span class="sxs-lookup"><span data-stu-id="43ed5-112">**Configure hello operating system (OS)** Any special configuration of hello operating system can be performed on hello custom image.</span></span> 
- <span data-ttu-id="43ed5-113">**Installare applicazioni di grandi dimensioni.**</span><span class="sxs-lookup"><span data-stu-id="43ed5-113">**Install large applications.**</span></span> <span data-ttu-id="43ed5-114">L'installazione di applicazioni in un'immagine personalizzata è più efficiente che installarle in ogni nodo di calcolo dopo averne effettuato il provisioning.</span><span class="sxs-lookup"><span data-stu-id="43ed5-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="43ed5-115">**Copiare quantità significative di dati.**</span><span class="sxs-lookup"><span data-stu-id="43ed5-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="43ed5-116">Se i dati di hello immagine personalizzata toohello copiato, deve solo toobe copiati una volta, anziché del nodo di calcolo tooeach, risparmiando tempo e la larghezza di banda.</span><span class="sxs-lookup"><span data-stu-id="43ed5-116">If hello data is copied toohello custom image, it only needs toobe copied once, rather than tooeach compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="43ed5-117">**Riavviare il computer hello VM durante il processo di installazione di hello.**</span><span class="sxs-lookup"><span data-stu-id="43ed5-117">**Reboot hello VM during hello setup process.**</span></span> <span data-ttu-id="43ed5-118">Riavvio hello VM può essere un processo richiede molto tempo, soprattutto se si dispone di un numero di nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="43ed5-118">Rebooting hello VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="43ed5-119">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="43ed5-119">Prerequisites</span></span>

- <span data-ttu-id="43ed5-120">**Un account Batch è stato creato con la modalità di allocazione del pool di hello sottoscrizione utente.**</span><span class="sxs-lookup"><span data-stu-id="43ed5-120">**A Batch account created with hello User Subscription pool allocation mode.**</span></span> <span data-ttu-id="43ed5-121">toouse un pool di macchine virtuali tooprovision immagine personalizzata, creare un account Batch con hello sottoscrizione utente [modalità di allocazione del pool](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="43ed5-121">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="43ed5-122">In questa modalità, il pool di Batch viene allocato nella sottoscrizione hello in cui risiede l'account di hello.</span><span class="sxs-lookup"><span data-stu-id="43ed5-122">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="43ed5-123">Vedere hello [Account](batch-api-basics.md#account) sezione [paralleli su larga scala di sviluppare soluzioni con Batch di calcolo](batch-api-basics.md) per informazioni sull'impostazione di modalità di allocazione del pool di hello quando si crea un account Batch.</span><span class="sxs-lookup"><span data-stu-id="43ed5-123">See hello [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting hello pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="43ed5-124">Un **account di archiviazione di Azure**.</span><span class="sxs-lookup"><span data-stu-id="43ed5-124">**An Azure Storage account.**</span></span> <span data-ttu-id="43ed5-125">toocreate un pool di macchine virtuali mediante un'immagine personalizzata, è necessario un account di archiviazione di Azure standard, di uso generale in hello stessa sottoscrizione e area.</span><span class="sxs-lookup"><span data-stu-id="43ed5-125">toocreate a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in hello same subscription and region.</span></span> <span data-ttu-id="43ed5-126">Se si crea un'immagine personalizzata da una macchina virtuale di Azure, si copierà hello immagine toohello account di archiviazione in cui si trova su disco del sistema operativo della macchina virtuale di hello e non sarà necessario toocreate un account di archiviazione separata.</span><span class="sxs-lookup"><span data-stu-id="43ed5-126">If you create a custom image from an Azure VM, then you will copy hello image toohello storage account where hello VM's OS disk resides, and you won't need toocreate a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="43ed5-127">Preparare un'immagine personalizzata</span><span class="sxs-lookup"><span data-stu-id="43ed5-127">Prepare a custom image</span></span>

<span data-ttu-id="43ed5-128">tooprepare un'immagine personalizzata per l'utilizzo con Batch, è necessario generalizzare un'installazione esistente di Linux o Windows.</span><span class="sxs-lookup"><span data-stu-id="43ed5-128">tooprepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="43ed5-129">La generalizzazione di un'installazione del sistema operativo comporta la rimozione delle informazioni specifiche del computer.</span><span class="sxs-lookup"><span data-stu-id="43ed5-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="43ed5-130">il risultato di Hello è un'immagine che può essere installata su altri computer o macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="43ed5-130">hello result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="43ed5-131">Batch non supporta attualmente l'utilizzo di Azure gestiti immagini tooprovision un pool.</span><span class="sxs-lookup"><span data-stu-id="43ed5-131">Batch does not currently support using Azure managed images tooprovision a pool.</span></span> <span data-ttu-id="43ed5-132">immagine personalizzata Hello è utilizzare tooprovision che un pool deve essere archiviato in archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="43ed5-132">hello custom image you use tooprovision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="43ed5-133">Quando si prepara un'immagine personalizzata, tenere hello presente seguenti punti:</span><span class="sxs-lookup"><span data-stu-id="43ed5-133">When preparing your custom image, keep in mind hello following points:</span></span>
> - <span data-ttu-id="43ed5-134">Garantire che un'immagine del sistema operativo base hello è utilizzare tooprovision i pool di Batch non sia una pre-installato le estensioni di Azure, ad esempio estensione Custom Script hello.</span><span class="sxs-lookup"><span data-stu-id="43ed5-134">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="43ed5-135">Se l'immagine di hello contiene un'estensione di pre-installata, Azure potrebbe verificarsi problemi di distribuzione hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="43ed5-135">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="43ed5-136">Garantire che un'immagine del sistema operativo base hello che fornire utilizza hello unità temporanea predefinita, come hello agente nodo Batch attualmente prevista unità temporanea predefinita di hello.</span><span class="sxs-lookup"><span data-stu-id="43ed5-136">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="43ed5-137">È possibile usare qualsiasi immagine Windows o Linux preparata esistente come immagine personalizzata.</span><span class="sxs-lookup"><span data-stu-id="43ed5-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="43ed5-138">Ad esempio, se si desidera toouse un'immagine locale e quindi caricare l'account di archiviazione di Azure con i tooan immagine hello in hello stessa sottoscrizione e area geografica dell'account Batch usando [AzCopy](../storage/storage-use-azcopy.md) o un altro strumento di caricamento.</span><span class="sxs-lookup"><span data-stu-id="43ed5-138">For example, if you wish toouse a local image, then upload hello image tooan Azure Storage account that is in hello same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="43ed5-139">È anche possibile preparare un'immagine personalizzata da una VM di Azure nuova o esistente.</span><span class="sxs-lookup"><span data-stu-id="43ed5-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="43ed5-140">Se si sta creando una nuova macchina virtuale, è possibile utilizzare un'immagine di Azure Marketplace come immagine di base hello per l'immagine personalizzata e quindi personalizzarlo.</span><span class="sxs-lookup"><span data-stu-id="43ed5-140">If you are creating a new VM, you can use an Azure Marketplace image as hello base image for your custom image and then customize it.</span></span> <span data-ttu-id="43ed5-141">immagine di base hello toocustomize, creare una macchina virtuale di Azure e aggiungere le applicazioni o dati tooit.</span><span class="sxs-lookup"><span data-stu-id="43ed5-141">toocustomize hello base image, create an Azure VM and add your applications or data tooit.</span></span> <span data-ttu-id="43ed5-142">Quindi generalizzare hello VM tooserve come immagine personalizzata e salvarlo tooAzure archiviazione.</span><span class="sxs-lookup"><span data-stu-id="43ed5-142">Then generalize hello VM tooserve as your custom image and save it tooAzure Storage.</span></span> 

<span data-ttu-id="43ed5-143">tooprepare un'immagine personalizzata da una macchina virtuale di Azure, seguire questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="43ed5-143">tooprepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="43ed5-144">Creare una VM di Azure **non gestita** da un'immagine di Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="43ed5-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="43ed5-145">Azure Marketplace include immagini sia per [Windows](../virtual-machines/windows/quick-create-portal.md) che per [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="43ed5-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="43ed5-146">Nel passaggio 3 di hello processo di creazione della macchina virtuale, assicurarsi di selezionare **n** per **archiviazione: utilizzare dischi gestiti** opzione.</span><span class="sxs-lookup"><span data-stu-id="43ed5-146">On step 3 of hello VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="43ed5-147">Prendere nota del nome di account di archiviazione di hello per disco del sistema operativo della macchina virtuale di hello, come l'account di archiviazione è anche in Azure verrà salvato l'immagine personalizzata:</span><span class="sxs-lookup"><span data-stu-id="43ed5-147">Also take note of hello storage account name for hello VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Creare una macchina virtuale non gestita e nome di account di archiviazione hello nota](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="43ed5-149">Completare il processo di hello di creazione di una macchina virtuale e attendere che toobe allocato da Azure.</span><span class="sxs-lookup"><span data-stu-id="43ed5-149">Complete hello process of creating your VM, and wait for it toobe allocated by Azure.</span></span> <span data-ttu-id="43ed5-150">Di seguito è riportata un'immagine che mostra una macchina virtuale nel portale di Azure in stato di esecuzione hello hello:</span><span class="sxs-lookup"><span data-stu-id="43ed5-150">Here's an image that shows a VM in hello Azure portal in hello running state:</span></span>

    ![Creare una macchina virtuale da un'immagine del marketplace](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="43ed5-152">Una volta hello macchina virtuale è in esecuzione, connettersi tooit tramite RDP (per Windows) o SSH (per Linux).</span><span class="sxs-lookup"><span data-stu-id="43ed5-152">Once hello VM is running, connect tooit via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="43ed5-153">Installare il software necessario o copiare i dati desiderati e quindi generalizzare hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="43ed5-153">Install any necessary software or copy desired data, and then generalize hello VM.</span></span> <span data-ttu-id="43ed5-154">Seguire i passaggi di hello descritti in [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="43ed5-154">Follow hello steps described in [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="43ed5-155">Seguire i passaggi di hello troppo[Accedi tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="43ed5-155">Follow hello steps too[Log in tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="43ed5-156">tooinstall Azure PowerShell, vedere [Panoramica di Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="43ed5-156">tooinstall Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="43ed5-157">Seguire i passaggi di hello troppo[Deallocate hello VM e set hello stato toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="43ed5-157">Next, follow hello steps too[Deallocate hello VM and set hello state toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="43ed5-158">Nel portale di Azure hello, si noti che hello deallocata:</span><span class="sxs-lookup"><span data-stu-id="43ed5-158">In hello Azure portal, notice that hello VM is deallocated:</span></span>

    ![Verificare che hello deallocata](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="43ed5-160">Creare e salvare hello VM immagine tooAzure archiviazione utilizzando hello [Salva AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="43ed5-160">Create and save hello VM image tooAzure Storage using hello [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="43ed5-161">Seguire le istruzioni di hello descritte [Crea immagine hello](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="43ed5-161">Follow hello instructions described in [Create hello image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="43ed5-162">immagine di macchina virtuale Hello viene salvato l'account di archiviazione Azure toohello creato quando hello VM è stato creato, come illustrato nel passaggio 1 di questa procedura.</span><span class="sxs-lookup"><span data-stu-id="43ed5-162">hello VM image is saved toohello Azure Storage account created when hello VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="43ed5-163">cmdlet Save-AzureRmVMImage Hello Salva hello immagine toohello **sistema** contenitore nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="43ed5-163">hello Save-AzureRmVMImage cmdlet saves hello image toohello **system** container in that storage account.</span></span> <span data-ttu-id="43ed5-164">Hello `-DestinationContainername` una directory virtuale all'interno di hello di nomi di parametro **sistema** contenitore.</span><span class="sxs-lookup"><span data-stu-id="43ed5-164">hello `-DestinationContainername` parameter names a virtual directory within hello **system** container.</span></span> <span data-ttu-id="43ed5-165">Hello `-VHDNamePrefix` parametro specifica un prefisso per il nome di blob hello.</span><span class="sxs-lookup"><span data-stu-id="43ed5-165">hello `-VHDNamePrefix` parameter specifies a prefix for hello blob name.</span></span> <span data-ttu-id="43ed5-166">Questo prefisso è il nome di blob toohello preceduta da un trattino.</span><span class="sxs-lookup"><span data-stu-id="43ed5-166">This prefix is prepended toohello blob name with a hyphen.</span></span> 

    <span data-ttu-id="43ed5-167">Si supponga, ad esempio, che è necessario chiamare Save AzureRmVMImage con hello seguenti parametri:</span><span class="sxs-lookup"><span data-stu-id="43ed5-167">For example, suppose you call Save-AzureRmVMImage with hello following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="43ed5-168">l'immagine risultante Hello viene salvato toohello percorso e nome del blob illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="43ed5-168">hello resulting image is saved toohello location and blob name shown here:</span></span>

    ![Percorso del disco rigido virtuale salvato nel contenitore system](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="43ed5-170">Una VM non gestita di Azure crea più account di archiviazione per scopi diversi.</span><span class="sxs-lookup"><span data-stu-id="43ed5-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="43ed5-171">Se non è stato annotato nome hello hello del contenitore dell'archiviazione per il disco del sistema operativo hello quando hello macchina virtuale è stata creata, quindi trovare account di archiviazione di hello associata che contiene hello **sistema** contenitore.</span><span class="sxs-lookup"><span data-stu-id="43ed5-171">If you did not note hello name of hello storage container for hello OS disk when hello VM was created, then find hello associated storage account that contains hello **system** container.</span></span> <span data-ttu-id="43ed5-172">Spostarsi tra hello **sistema** toofind hello personalizzato immagine contenitore con i valori hello specificati per hello **Salva AzureRmVMImage** comando.</span><span class="sxs-lookup"><span data-stu-id="43ed5-172">Navigate through hello **system** container toofind hello custom image using hello values you specified for hello **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-hello-portal"></a><span data-ttu-id="43ed5-173">Creare un pool da un'immagine personalizzata nel portale di hello</span><span class="sxs-lookup"><span data-stu-id="43ed5-173">Create a pool from a custom image in hello portal</span></span>

<span data-ttu-id="43ed5-174">Dopo avere salvato l'immagine personalizzata e conoscendone il percorso, è possibile creare un pool di Batch da tale immagine.</span><span class="sxs-lookup"><span data-stu-id="43ed5-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="43ed5-175">Seguire questi toocreate passaggi un pool da hello portale di Azure:</span><span class="sxs-lookup"><span data-stu-id="43ed5-175">Follow these steps toocreate a pool from hello Azure portal:</span></span>

1. <span data-ttu-id="43ed5-176">Passare l'account Batch tooyour in hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="43ed5-176">Navigate tooyour Batch account in hello Azure portal.</span></span> <span data-ttu-id="43ed5-177">Questo account deve essere hello stessa sottoscrizione e area come archiviazione hello account immagine personalizzata di hello che lo contiene.</span><span class="sxs-lookup"><span data-stu-id="43ed5-177">This account must be in hello same subscription and region as hello storage account containing hello custom image.</span></span> 
2. <span data-ttu-id="43ed5-178">In hello **impostazioni** finestra hello a sinistra, seleziona hello **pool** voce di menu.</span><span class="sxs-lookup"><span data-stu-id="43ed5-178">In hello **Settings** window on hello left, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="43ed5-179">In hello **pool** finestra, seleziona hello **Aggiungi** comando.</span><span class="sxs-lookup"><span data-stu-id="43ed5-179">In hello **Pools** window, select hello **Add** command.</span></span>
4. <span data-ttu-id="43ed5-180">In hello **Aggiungi Pool** selezionare **immagine personalizzata (Linux/Windows)** da hello **tipo di immagine** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="43ed5-180">On hello **Add Pool** window, select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="43ed5-181">portale Hello Visualizza hello **immagine personalizzata** selezione.</span><span class="sxs-lookup"><span data-stu-id="43ed5-181">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="43ed5-182">Passare toohello account di archiviazione in cui si trova l'immagine personalizzata e selezionare hello VHD desiderato dal contenitore hello.</span><span class="sxs-lookup"><span data-stu-id="43ed5-182">Navigate toohello storage account where your custom image is located, and select hello desired VHD from hello container.</span></span> 
5. <span data-ttu-id="43ed5-183">Seleziona hello corretto **offerta/server di pubblicazione/Sku** per il disco rigido virtuale personalizzato.</span><span class="sxs-lookup"><span data-stu-id="43ed5-183">Select hello correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="43ed5-184">Specificare hello rimanenti impostazioni, tra cui hello **dimensioni nodo**, **dedicato i nodi di destinazione**, e **nodi per priorità bassa**, nonché qualsiasi desiderato impostazioni facoltative.</span><span class="sxs-lookup"><span data-stu-id="43ed5-184">Specify hello remaining required settings, including hello **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="43ed5-185">Ad esempio, per un'immagine personalizzata di Microsoft Windows Server Datacenter 2016, hello **Aggiungi Pool** verrà visualizzata la finestra, come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="43ed5-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, hello **Add Pool** window appears as shown here:</span></span>

    ![Aggiungere un pool da un'immagine di Windows personalizzata](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="43ed5-187">toocheck se un pool esistente è basato su un'immagine personalizzata, vedere hello **del sistema operativo** proprietà nella sezione di riepilogo risorse hello di hello **Pool** finestra.</span><span class="sxs-lookup"><span data-stu-id="43ed5-187">toocheck whether an existing pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** window.</span></span> <span data-ttu-id="43ed5-188">Se il pool di hello è stato creato da un'immagine personalizzata, è impostato troppo**immagine di macchina virtuale personalizzata**.</span><span class="sxs-lookup"><span data-stu-id="43ed5-188">If hello pool was created from a custom image, it is set too**Custom VM Image**.</span></span>

<span data-ttu-id="43ed5-189">Vengono visualizzati tutti i dischi rigidi virtuali personalizzati associati a un pool nel pool di hello **proprietà** finestra.</span><span class="sxs-lookup"><span data-stu-id="43ed5-189">All custom VHDs associated with a pool are displayed on hello pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="43ed5-190">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="43ed5-190">Next steps</span></span>

- <span data-ttu-id="43ed5-191">Per una panoramica dettagliata di Batch, vedere [Sviluppare soluzioni di calcolo parallele su larga scala con Batch](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="43ed5-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="43ed5-192">Per informazioni sulla creazione di un account Batch, vedere [creare un account Batch con il portale di Azure hello](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="43ed5-192">For information about creating a Batch account, see [Create a Batch account with hello Azure portal](batch-account-create-portal.md).</span></span>
