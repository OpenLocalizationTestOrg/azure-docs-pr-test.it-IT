---
title: Panoramica di architettura di App servizio ambienti aaaNetwork
description: Panoramica dell'architettura della topologia di rete degli ambienti del servizio app.
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: 13d03a37-1fe2-4e3e-9d57-46dfb330ba52
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2016
ms.author: stefsch
ms.openlocfilehash: 3cbc86883f5687a9ada35a3ab2f577a450a3fa0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="network-architecture-overview-of-app-service-environments"></a><span data-ttu-id="aec32-103">Panoramica dell'architettura di rete degli ambienti del servizio app</span><span class="sxs-lookup"><span data-stu-id="aec32-103">Network Architecture Overview of App Service Environments</span></span>
## <a name="introduction"></a><span data-ttu-id="aec32-104">Introduzione</span><span class="sxs-lookup"><span data-stu-id="aec32-104">Introduction</span></span>
<span data-ttu-id="aec32-105">Gli ambienti del servizio App vengono sempre creati all'interno di una subnet di un [rete virtuale] [ virtualnetwork] -le applicazioni in esecuzione in un ambiente del servizio App possono comunicare con privato endpoint si trovano all'interno di hello stesso virtuale topologia di rete.</span><span class="sxs-lookup"><span data-stu-id="aec32-105">App Service Environments are always created within a subnet of a [virtual network][virtualnetwork] - apps running in an App Service Environment can communicate with private endpoints located within hello same virtual network topology.</span></span>  <span data-ttu-id="aec32-106">Poiché i clienti possono bloccare le parti dell'infrastruttura di rete virtuale, è importante toounderstand tipi di hello dei flussi di comunicazione di rete che si verificano con un ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="aec32-106">Since customers may lock down parts of their virtual network infrastructure, it is important toounderstand hello types of network communication flows that occur with an App Service Environment.</span></span>

## <a name="general-network-flow"></a><span data-ttu-id="aec32-107">Flusso di rete generale</span><span class="sxs-lookup"><span data-stu-id="aec32-107">General Network Flow</span></span>
<span data-ttu-id="aec32-108">Quando un ambiente del servizio app usa un indirizzo IP virtuale pubblico (VIP) per le app, tutto il traffico in ingresso viene ricevuto su questo indirizzo VIP pubblico.</span><span class="sxs-lookup"><span data-stu-id="aec32-108">When an App Service Environment (ASE) uses a public virtual IP address (VIP) for apps, all inbound traffic arrives on that public VIP.</span></span>  <span data-ttu-id="aec32-109">Sono inclusi il traffico HTTP e HTTPS per le app, altro traffico per l'FTP, la funzionalità di debug remoto e le operazioni di gestione di Azure.</span><span class="sxs-lookup"><span data-stu-id="aec32-109">This includes HTTP and HTTPS traffic for apps, as well as other traffic for FTP, remote debugging functionality, and Azure management operations.</span></span>  <span data-ttu-id="aec32-110">Per un elenco completo di hello porte specifiche (obbligatori e facoltative) disponibili in VIP pubblico hello vedere l'articolo di hello in [controllare il traffico in entrata] [ controllinginboundtraffic] tooan ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="aec32-110">For a full list of hello specific ports (both required and optional) that are available on hello public VIP see hello article on [controlling inbound traffic][controllinginboundtraffic] tooan App Service Environment.</span></span> 

<span data-ttu-id="aec32-111">Gli ambienti del servizio App supportare anche l'esecuzione delle App che sono associate solo tooa virtuale rete indirizzo interno, denominato anche tooas un indirizzo di bilanciamento del carico interno (bilanciamento del carico interno).</span><span class="sxs-lookup"><span data-stu-id="aec32-111">App Service Environments also support running apps that are bound only tooa virtual network internal address, also referred tooas an ILB (internal load balancer) address.</span></span>  <span data-ttu-id="aec32-112">In un bilanciamento del carico interno traffico ASE, HTTP e HTTPS abilitato per le app, nonché il debug delle chiamate remote, arrivano sul hello indirizzo di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="aec32-112">On an ILB enabled ASE, HTTP and HTTPS traffic for apps as well as remote debugging calls, arrive on hello ILB address.</span></span>  <span data-ttu-id="aec32-113">Per le configurazioni di bilanciamento del carico interno ASE più comuni, il traffico FTP o FTPS anche arriveranno hello indirizzo di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="aec32-113">For most common ILB-ASE configurations, FTP/FTPS traffic will also arrive on hello ILB address.</span></span>  <span data-ttu-id="aec32-114">Tuttavia le operazioni di gestione di Azure passeranno tooports 454/455 su hello VIP pubblico di un ILB abilitato ASE.</span><span class="sxs-lookup"><span data-stu-id="aec32-114">However Azure management operations will still flow tooports 454/455 on hello public VIP of an ILB enabled ASE.</span></span>

<span data-ttu-id="aec32-115">Hello seguito vengono illustrate una panoramica di hello vari flussi di rete in ingresso e in uscita per un ambiente del servizio App in cui sono associati tooa indirizzo IP virtuale pubblico hello App:</span><span class="sxs-lookup"><span data-stu-id="aec32-115">hello diagram below shows an overview of hello various inbound and outbound network flows for an App Service Environment where hello apps are bound tooa public virtual IP address:</span></span>

![Flussi di rete generali][GeneralNetworkFlows]

<span data-ttu-id="aec32-117">Un ambiente del servizio app può comunicare con svariati endpoint di clienti privati.</span><span class="sxs-lookup"><span data-stu-id="aec32-117">An App Service Environment can communicate with a variety of private customer endpoints.</span></span>  <span data-ttu-id="aec32-118">Ad esempio, le applicazioni in esecuzione nell'ambiente del servizio App può connettersi toodatabase server in esecuzione nelle macchine virtuali IaaS hello hello stessa topologia di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="aec32-118">For example, apps running in hello App Service Environment can connect toodatabase server(s) running on IaaS virtual machines in hello same virtual network topology.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aec32-119">Esaminando il diagramma di rete hello, hello "altre calcolo risorse" vengono distribuite in una Subnet diversa da hello ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="aec32-119">Looking at hello network diagram, hello "Other Compute Resources" are deployed in a different Subnet from hello App Service Environment.</span></span> <span data-ttu-id="aec32-120">Distribuzione delle risorse in hello stessa Subnet con hello ASE bloccherà la connettività dalle risorse toothose ASE (ad eccezione di routing specifico intra-ASE).</span><span class="sxs-lookup"><span data-stu-id="aec32-120">Deploying resources in hello same Subnet with hello ASE will block connectivity from ASE toothose resources (except for specific intra-ASE routing).</span></span> <span data-ttu-id="aec32-121">Distribuire tooa Subnet diversa invece (nella stessa rete virtuale hello).</span><span class="sxs-lookup"><span data-stu-id="aec32-121">Deploy tooa different Subnet instead (in hello same VNET).</span></span> <span data-ttu-id="aec32-122">Hello ambiente del servizio App sarà quindi in grado di tooconnect.</span><span class="sxs-lookup"><span data-stu-id="aec32-122">hello App Service Environment will then be able tooconnect.</span></span> <span data-ttu-id="aec32-123">Non è necessaria alcuna configurazione aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="aec32-123">No additional configuration is necessary.</span></span>
> 
> 

<span data-ttu-id="aec32-124">Gli ambienti del servizio app comunicano anche con le risorse database SQL e di archiviazione di Azure necessarie per la gestione e il funzionamento di un ambiente del servizio app.</span><span class="sxs-lookup"><span data-stu-id="aec32-124">App Service Environments also communicate with Sql DB and Azure Storage resources necessary for managing and operating an App Service Environment.</span></span>  <span data-ttu-id="aec32-125">Alcune delle risorse di archiviazione e Sql hello un ambiente del servizio App con cui comunica si trovano in hello stessa area hello ambiente del servizio App, mentre altri si trovano in aree di Azure remote.</span><span class="sxs-lookup"><span data-stu-id="aec32-125">Some of hello Sql and Storage resources that an App Service Environment communicates with are located in hello same region as hello App Service Environment, while others are located in remote Azure regions.</span></span>  <span data-ttu-id="aec32-126">Di conseguenza, la connettività in uscita toohello Internet è sempre necessario per un ambiente del servizio App di toofunction correttamente.</span><span class="sxs-lookup"><span data-stu-id="aec32-126">As a result, outbound connectivity toohello Internet is always required for an App Service Environment toofunction properly.</span></span> 

<span data-ttu-id="aec32-127">Poiché un ambiente del servizio App viene distribuito in una subnet, gruppi di sicurezza di rete possono essere utilizzati toocontrol subnet toohello il traffico in ingresso.</span><span class="sxs-lookup"><span data-stu-id="aec32-127">Since an App Service Environment is deployed in a subnet, network security groups can be used toocontrol inbound traffic toohello subnet.</span></span>  <span data-ttu-id="aec32-128">Per informazioni dettagliate su come toocontrol in ingresso a traffico tooan ambiente del servizio App, vedere l'esempio hello [articolo][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="aec32-128">For details on how toocontrol inbound traffic tooan App Service Environment, see hello following [article][controllinginboundtraffic].</span></span>

<span data-ttu-id="aec32-129">Per informazioni dettagliate su come tooallow la connettività Internet in uscita da un ambiente del servizio App, vedere l'articolo sull'utilizzo di seguente hello [Express Route][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="aec32-129">For details on how tooallow outbound Internet connectivity from an App Service Environment, see hello following article about working with [Express Route][ExpressRoute].</span></span>  <span data-ttu-id="aec32-130">il tunneling forzato Hello stesso approccio descritto nell'articolo hello si applica quando si utilizza la connettività da sito a sito e l'uso.</span><span class="sxs-lookup"><span data-stu-id="aec32-130">hello same approach described in hello article applies when working with Site-to-Site connectivity and using forced tunneling.</span></span>

## <a name="outbound-network-addresses"></a><span data-ttu-id="aec32-131">Indirizzi di rete in uscita</span><span class="sxs-lookup"><span data-stu-id="aec32-131">Outbound Network Addresses</span></span>
<span data-ttu-id="aec32-132">Quando un ambiente del servizio App effettua chiamate in uscita, un indirizzo IP è sempre associato a chiamate in uscita hello.</span><span class="sxs-lookup"><span data-stu-id="aec32-132">When an App Service Environment makes outbound calls, an IP Address is always associated with hello outbound calls.</span></span>  <span data-ttu-id="aec32-133">indirizzo IP specifico Hello utilizzato varia a seconda che endpoint hello la chiamata si trova all'interno della topologia di rete virtuale hello o all'esterno di topologia di rete virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="aec32-133">hello specific IP address that is used depends on whether hello endpoint being called is located within hello virtual network topology, or outside of hello virtual network topology.</span></span>

<span data-ttu-id="aec32-134">Se la chiamata endpoint di hello **esterno** della topologia di rete virtuale hello, hello in uscita indirizzo (noto anche come hello in uscita NAT) utilizzato è hello VIP pubblico di hello ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="aec32-134">If hello endpoint being called is **outside** of hello virtual network topology, then hello outbound address (aka hello outbound NAT address) that is used is hello public VIP of hello App Service Environment.</span></span>  <span data-ttu-id="aec32-135">Questo indirizzo è reperibile nell'interfaccia utente del portale hello per hello ambiente del servizio App nel Pannello proprietà.</span><span class="sxs-lookup"><span data-stu-id="aec32-135">This address can be found in hello portal user interface for hello App Service Environment in Properties blade.</span></span>

![Indirizzo IP in uscita][OutboundIPAddress]

<span data-ttu-id="aec32-137">Questo indirizzo può essere determinato anche per ASEs che hanno solo un VIP pubblico creando un'applicazione hello ambiente del servizio App, e quindi eseguendo un *nslookup* sull'indirizzo dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="aec32-137">This address can also be determined for ASEs that only have a public VIP by creating an app in hello App Service Environment, and then performing an *nslookup* on hello app's address.</span></span> <span data-ttu-id="aec32-138">l'indirizzo IP Hello risulta sia VIP pubblico hello sia indirizzo NAT in uscita dell'ambiente del servizio App di hello.</span><span class="sxs-lookup"><span data-stu-id="aec32-138">hello resultant IP address is both hello public VIP, as well as hello App Service Environment's outbound NAT address.</span></span>

<span data-ttu-id="aec32-139">Se la chiamata endpoint di hello **all'interno di** della topologia di rete virtuale hello, indirizzo in uscita di hello dell'applicazione chiamante hello sarà l'indirizzo IP interno hello della risorsa di calcolo singole hello in esecuzione app hello.</span><span class="sxs-lookup"><span data-stu-id="aec32-139">If hello endpoint being called is **inside** of hello virtual network topology, hello outbound address of hello calling app will be hello internal IP address of hello individual compute resource running hello app.</span></span>  <span data-ttu-id="aec32-140">Tuttavia non è un mapping persistente di tooapps gli indirizzi IP interni di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="aec32-140">However there is not a persistent mapping of virtual network internal IP addresses tooapps.</span></span>  <span data-ttu-id="aec32-141">App è possono spostarsi tra le risorse di calcolo diverso e pool di risorse di calcolo disponibili in un ambiente del servizio App di hello modificabili a causa di operazioni tooscaling.</span><span class="sxs-lookup"><span data-stu-id="aec32-141">Apps can move around across different compute resources, and hello pool of available compute resources in an App Service Environment can change due tooscaling operations.</span></span>

<span data-ttu-id="aec32-142">Tuttavia, poiché un ambiente del servizio App si trova sempre all'interno di una subnet, si è certi che indirizzo IP interno hello di esecuzione di un'applicazione di una risorsa di calcolo verrà si trovano sempre all'interno di un intervallo di subnet hello CIDR hello.</span><span class="sxs-lookup"><span data-stu-id="aec32-142">However, since an App Service Environment is always located within a subnet, you are guaranteed that hello internal IP address of a compute resource running an app will always lie within hello CIDR range of hello subnet.</span></span>  <span data-ttu-id="aec32-143">Di conseguenza, quando vengono utilizzati gli ACL con granularità fine o gruppi di sicurezza di rete toosecure accedere agli endpoint tooother all'interno di rete virtuale hello, hello intervallo di subnet contenente toobe esigenze di ambiente del servizio App hello concesso l'accesso.</span><span class="sxs-lookup"><span data-stu-id="aec32-143">As a result, when fine-grained ACLs or network security groups are used toosecure access tooother endpoints within hello virtual network, hello subnet range containing hello App Service Environment needs toobe granted access.</span></span>

<span data-ttu-id="aec32-144">Hello diagramma seguente illustra questi concetti in modo più dettagliato:</span><span class="sxs-lookup"><span data-stu-id="aec32-144">hello following diagram shows these concepts in more detail:</span></span>

![Indirizzi di rete in uscita][OutboundNetworkAddresses]

<span data-ttu-id="aec32-146">In hello diagramma:</span><span class="sxs-lookup"><span data-stu-id="aec32-146">In hello above diagram:</span></span>

* <span data-ttu-id="aec32-147">Poiché hello VIP pubblico di hello ambiente del servizio App è 192.23.1.2, che è hello in uscita degli indirizzi IP utilizzati quando si effettuano chiamate troppo endpoint "Internet".</span><span class="sxs-lookup"><span data-stu-id="aec32-147">Since hello public VIP of hello App Service Environment is 192.23.1.2, that is hello outbound IP address used when making calls too"Internet" endpoints.</span></span>
* <span data-ttu-id="aec32-148">Hello intervallo CIDR di hello contenente subnet per hello ambiente del servizio App è 10.0.1.0/26.</span><span class="sxs-lookup"><span data-stu-id="aec32-148">hello CIDR range of hello containing subnet for hello App Service Environment is 10.0.1.0/26.</span></span>  <span data-ttu-id="aec32-149">Altri endpoint all'interno di hello stessa infrastruttura di rete virtuale verrà visualizzato chiamate dalle applicazioni come proveniente da un punto qualsiasi all'interno di questo intervallo di indirizzi.</span><span class="sxs-lookup"><span data-stu-id="aec32-149">Other endpoints within hello same virtual network infrastructure will see calls from apps as originating from somewhere within this address range.</span></span>

## <a name="calls-between-app-service-environments"></a><span data-ttu-id="aec32-150">Chiamate tra gli ambienti del servizio app</span><span class="sxs-lookup"><span data-stu-id="aec32-150">Calls Between App Service Environments</span></span>
<span data-ttu-id="aec32-151">Uno scenario più complesso può verificarsi se si distribuiscono più ambienti di servizio App in hello stessa rete virtuale, quindi effettuare chiamate in uscita da un ambiente del servizio App tooanother ambiente del servizio App.</span><span class="sxs-lookup"><span data-stu-id="aec32-151">A more complex scenario can occur if you deploy multiple App Service Environments in hello same virtual network, and make outbound calls from one App Service Environment tooanother App Service Environment.</span></span>  <span data-ttu-id="aec32-152">Anche questi tipi di chiamate tra ambienti del servizio app saranno considerati come chiamate "Internet".</span><span class="sxs-lookup"><span data-stu-id="aec32-152">These types of cross App Service Environment calls will also be treated as "Internet" calls.</span></span>

<span data-ttu-id="aec32-153">Hello seguente diagramma viene illustrato un esempio di un'architettura a più livelli con le App in un ambiente del servizio App (ad esempio Le app web da "Porta principale") la chiamata di App in un ambiente del servizio App secondo (ad esempio applicazioni API back-end interne non previsto toobe accessibile da Internet hello).</span><span class="sxs-lookup"><span data-stu-id="aec32-153">hello following diagram shows an example of a layered architecture with apps on one App Service Environment (e.g. "Front door" web apps) calling apps on a second App Service Environment (e.g. internal back-end API apps not intended toobe accessible from hello Internet).</span></span> 

![Chiamate tra gli ambienti del servizio app][CallsBetweenAppServiceEnvironments] 

<span data-ttu-id="aec32-155">In hello riportato sopra hello ambiente del servizio App "ASE uno" ha un indirizzo IP in uscita di 192.23.1.2.</span><span class="sxs-lookup"><span data-stu-id="aec32-155">In hello example above hello App Service Environment "ASE One" has an outbound IP address of 192.23.1.2.</span></span>  <span data-ttu-id="aec32-156">Se un'app in esecuzione in questo ambiente del servizio App effettua un'app tooan chiamata in uscita in esecuzione in un secondo ambiente del servizio App ("ASE due") si trova nella stessa virtuale di rete, hello hello in uscita chiamata verrà considerata come una chiamata di "Internet".</span><span class="sxs-lookup"><span data-stu-id="aec32-156">If an app running on this App Service Environment makes an outbound call tooan app running on a second App Service Environment ("ASE Two") located in hello same virtual network, hello outbound call will be treated as an "Internet" call.</span></span>  <span data-ttu-id="aec32-157">Di conseguenza il traffico di rete hello in arrivo sul hello secondo ambiente del servizio App verrà visualizzata come proveniente da 192.23.1.2 (vale a dire non hello subnet intervallo di indirizzi hello prima dell'ambiente del servizio App).</span><span class="sxs-lookup"><span data-stu-id="aec32-157">As a result hello network traffic arriving on hello second App Service Environment will show as originating from 192.23.1.2 (i.e. not hello subnet address range of hello first App Service Environment).</span></span>

<span data-ttu-id="aec32-158">Anche se le chiamate tra ambienti diversi di servizio App vengono considerate come chiamate di "Internet", quando entrambi gli ambienti del servizio App si trovano in hello traffico di rete stessa regione di Azure hello rimarrà nella rete Azure regionale hello e non trasmetterà fisicamente su hello rete Internet pubblica.</span><span class="sxs-lookup"><span data-stu-id="aec32-158">Even though calls between different App Service Environments are treated as "Internet" calls, when both App Service Environments are located in hello same Azure region hello network traffic will remain on hello regional Azure network and will not physically flow over hello public Internet.</span></span>  <span data-ttu-id="aec32-159">Di conseguenza è possibile utilizzare un gruppo di sicurezza di rete nella subnet hello di hello tooonly Consenti chiamate in ingresso dall'ambiente del servizio App secondo hello primo ambiente del servizio App (il cui indirizzo IP in uscita è 192.23.1.2), garantendo così la comunicazione protetta tra hello Ambienti del servizio app.</span><span class="sxs-lookup"><span data-stu-id="aec32-159">As a result you can use a network security group on hello subnet of hello second App Service Environment tooonly allow inbound calls from hello first App Service Environment (whose outbound IP address is 192.23.1.2), thus ensuring secure communication between hello App Service Environments.</span></span>

## <a name="additional-links-and-information"></a><span data-ttu-id="aec32-160">Informazioni e collegamenti aggiuntivi</span><span class="sxs-lookup"><span data-stu-id="aec32-160">Additional Links and Information</span></span>
<span data-ttu-id="aec32-161">Tutti gli articoli e in che modo-per per gli ambienti del servizio App sono disponibili in hello [file Leggimi per gli ambienti del servizio dell'applicazione](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="aec32-161">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="aec32-162">Informazioni su dati in ingresso porte usate per gli ambienti del servizio App e toocontrol gruppi di sicurezza rete il traffico in ingresso è possibile utilizzare [qui][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="aec32-162">Details on inbound ports used by App Service Environments and using network security groups toocontrol inbound traffic is available [here][controllinginboundtraffic].</span></span>

<span data-ttu-id="aec32-163">Informazioni dettagliate sull'utilizzo definiti dall'utente route toogrant in uscita Internet access tooApp gli ambienti del servizio è disponibile in questa [articolo][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="aec32-163">Details on using user defined routes toogrant outbound Internet access tooApp Service Environments is available in this [article][ExpressRoute].</span></span> 

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[controllinginboundtraffic]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[ExpressRoute]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/

<!-- IMAGES -->
[GeneralNetworkFlows]: ./media/app-service-app-service-environment-network-architecture-overview/NetworkOverview-1.png
[OutboundIPAddress]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundIPAddress-1.png
[OutboundNetworkAddresses]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundNetworkAddresses-1.png
[CallsBetweenAppServiceEnvironments]: ./media/app-service-app-service-environment-network-architecture-overview/CallsBetweenEnvironments-1.png

