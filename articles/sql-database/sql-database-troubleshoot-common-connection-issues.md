---
title: problemi di connessione comuni aaaTroubleshoot tooAzure Database SQL
description: Passaggi tooidentify e risolvere comuni errori di connessione per il Database SQL di Azure.
services: sql-database
documentationcenter: 
author: dalechen
manager: cshepard
editor: 
ms.assetid: ac463d1c-aec8-443d-b66e-fa5eadcccfa8
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: daleche
ms.openlocfilehash: eb5f2d7b123a76942c7e4a84a7f475344fbcb144
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-connection-issues-tooazure-sql-database"></a><span data-ttu-id="415d8-103">Risolvere i problemi di connessione tooAzure Database SQL</span><span class="sxs-lookup"><span data-stu-id="415d8-103">Troubleshoot connection issues tooAzure SQL Database</span></span>
<span data-ttu-id="415d8-104">Quando hello connessione tooAzure Database SQL non riesce, viene visualizzato [messaggi di errore](sql-database-develop-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="415d8-104">When hello connection tooAzure SQL Database fails, you receive [error messages](sql-database-develop-error-messages.md).</span></span> <span data-ttu-id="415d8-105">Questo articolo tratta un argomento centrale che aiuta l'utente a risolvere i problemi di connettività del database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="415d8-105">This article is a centralized topic that helps you troubleshoot Azure SQL Database connectivity issues.</span></span> <span data-ttu-id="415d8-106">Introduce [hello le cause più comuni](#cause) dei problemi di connessione, si consiglia [uno strumento di risoluzione dei problemi](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) che consente di problema hello identità e fornisce la risoluzione dei problemi toosolve passaggi [ gli errori temporanei](#troubleshoot-transient-errors) e [errori persistenti o non temporaneo](#troubleshoot-persistent-errors).</span><span class="sxs-lookup"><span data-stu-id="415d8-106">It introduces [hello common causes](#cause) of connection issues, recommends [a troubleshooting tool](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) that helps you identity hello problem, and provides troubleshooting steps toosolve [transient errors](#troubleshoot-transient-errors) and [persistent or non-transient errors](#troubleshoot-persistent-errors).</span></span> 

<span data-ttu-id="415d8-107">Se si verificano problemi di connessione hello, hello provare a risolvere i problemi relativi alla procedura descritta in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="415d8-107">If you encounter hello connection issues, try hello troubleshoot steps that are described in this article.</span></span>
[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="cause"></a><span data-ttu-id="415d8-108">Causa</span><span class="sxs-lookup"><span data-stu-id="415d8-108">Cause</span></span>
<span data-ttu-id="415d8-109">Problemi di connessione possono essere causati da uno qualsiasi dei seguenti hello:</span><span class="sxs-lookup"><span data-stu-id="415d8-109">Connection problems may be caused by any of hello following:</span></span>

* <span data-ttu-id="415d8-110">Errore tooapply procedure consigliate e linee guida di progettazione durante il processo di progettazione dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="415d8-110">Failure tooapply best practices and design guidelines during hello application design process.</span></span>  <span data-ttu-id="415d8-111">Vedere [Cenni preliminari sullo sviluppo di Database SQL](sql-database-develop-overview.md) tooget avviato.</span><span class="sxs-lookup"><span data-stu-id="415d8-111">See [SQL Database Development Overview](sql-database-develop-overview.md) tooget started.</span></span>
* <span data-ttu-id="415d8-112">Riconfigurazione del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="415d8-112">Azure SQL Database reconfiguration</span></span>
* <span data-ttu-id="415d8-113">Impostazioni del firewall</span><span class="sxs-lookup"><span data-stu-id="415d8-113">Firewall settings</span></span>
* <span data-ttu-id="415d8-114">Timeout della connessione</span><span class="sxs-lookup"><span data-stu-id="415d8-114">Connection time-out</span></span>
* <span data-ttu-id="415d8-115">Informazioni di accesso non corrette</span><span class="sxs-lookup"><span data-stu-id="415d8-115">Incorrect login information</span></span>
* <span data-ttu-id="415d8-116">Raggiungimento del limite massimo su alcune risorse del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="415d8-116">Maximum limit reached on some Azure SQL Database resources</span></span>

<span data-ttu-id="415d8-117">In genere, è possibile classificare tooAzure problemi di connessione del Database SQL come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="415d8-117">Generally, connection issues tooAzure SQL Database can be classified as follows:</span></span>

* [<span data-ttu-id="415d8-118">Errori temporanei (di breve durata o intermittenti)</span><span class="sxs-lookup"><span data-stu-id="415d8-118">Transient errors (short-lived or intermittent)</span></span>](#troubleshoot-transient-errors)
* [<span data-ttu-id="415d8-119">Errori non temporanei o permanenti (gli errori che si ripetono regolarmente)</span><span class="sxs-lookup"><span data-stu-id="415d8-119">Persistent or non-transient errors (errors that regularly recur)</span></span>](#troubleshoot-persistent-errors)

## <a name="try-hello-troubleshooter-for-azure-sql-database-connectivity-issues"></a><span data-ttu-id="415d8-120">La risoluzione dei problemi di hello per problemi di connettività di Database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="415d8-120">Try hello troubleshooter for Azure SQL Database connectivity issues</span></span>
<span data-ttu-id="415d8-121">Se si verifica un errore di connessione specifico, provare [questo strumento](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database)che consente di identificare rapidamente e risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="415d8-121">If you encounter a specific connection error, try [this tool](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), which will help you quickly identity and resolve your problem.</span></span>

## <a name="troubleshoot-transient-errors"></a><span data-ttu-id="415d8-122">Risolvere i problemi causati da errori temporanei</span><span class="sxs-lookup"><span data-stu-id="415d8-122">Troubleshoot transient errors</span></span>

<span data-ttu-id="415d8-123">Quando un'applicazione si connette a database SQL di Azure tooan, viene visualizzato hello seguente messaggio di errore:</span><span class="sxs-lookup"><span data-stu-id="415d8-123">When an application connects tooan Azure SQL database, you receive hello following error message:</span></span>

```
Error code 40613: "Database <x> on server <y> is not currently available. Please retry hello connection later. If hello problem persists, contact customer support, and provide them hello session tracing ID of <z>"
```

> [!NOTE]
> <span data-ttu-id="415d8-124">Questo messaggio di errore è in genere temporaneo.</span><span class="sxs-lookup"><span data-stu-id="415d8-124">This error message is typically transient (short-lived).</span></span>
> 
> 

<span data-ttu-id="415d8-125">Questo errore si verifica quando hello Azure database viene spostato (o riconfigurato) e l'applicazione perde il proprio database SQL toohello di connessione.</span><span class="sxs-lookup"><span data-stu-id="415d8-125">This error occurs when hello Azure database is being moved (or reconfigured) and your application loses its connection toohello SQL database.</span></span> <span data-ttu-id="415d8-126">La riconfigurazione del database SQL avviene in seguito a eventi pianificati, ad esempio nel caso degli aggiornamenti software, o non pianificati, ad esempio per l'arresto anomalo di un processo o il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="415d8-126">SQL database reconfiguration events occur because of a planned event (for example, a software upgrade) or an unplanned event (for example, a process crash, or load balancing).</span></span> <span data-ttu-id="415d8-127">La maggior parte degli eventi di riconfigurazione è di breve durata e deve essere completata in meno di 60 secondi al massimo.</span><span class="sxs-lookup"><span data-stu-id="415d8-127">Most reconfiguration events are generally short-lived and should be completed in less than 60 seconds at most.</span></span> <span data-ttu-id="415d8-128">Tuttavia, questi eventi possono talvolta richiedere toofinish più lungo, ad esempio quando una transazione di grandi dimensioni provoca un ripristino con esecuzione prolungata.</span><span class="sxs-lookup"><span data-stu-id="415d8-128">However, these events can occasionally take longer toofinish, such as when a large transaction causes a long-running recovery.</span></span>

### <a name="steps-tooresolve-transient-connectivity-issues"></a><span data-ttu-id="415d8-129">Problemi di connettività temporanei tooresolve di passaggi</span><span class="sxs-lookup"><span data-stu-id="415d8-129">Steps tooresolve transient connectivity issues</span></span>

1. <span data-ttu-id="415d8-130">Controllare hello [Dashboard del servizio di Microsoft Azure](https://azure.microsoft.com/status) per eventuali interruzioni del servizio noti che si è verificato durante la fase di hello durante cui hello sono stati segnalati errori da un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="415d8-130">Check hello [Microsoft Azure Service Dashboard](https://azure.microsoft.com/status) for any known outages that occurred during hello time during which hello errors were reported by hello application.</span></span>
2. <span data-ttu-id="415d8-131">Applicazioni che si connettono servizio cloud tooa, ad esempio Database SQL di Azure deve prevedere gli eventi di riconfigurazione periodica e implementare ripetere logica toohandle questi errori anziché superfici queste informazioni come toousers errori dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="415d8-131">Applications that connect tooa cloud service such as Azure SQL Database should expect periodic reconfiguration events and implement retry logic toohandle these errors instead of surfacing these as application errors toousers.</span></span> <span data-ttu-id="415d8-132">Hello revisione [errori temporanei](sql-database-connectivity-issues.md) sezione hello procedure consigliate e linee guida alla progettazione [Cenni preliminari sullo sviluppo di Database SQL](sql-database-develop-overview.md) per ulteriori informazioni e generale ripetere strategie.</span><span class="sxs-lookup"><span data-stu-id="415d8-132">Review hello [Transient errors](sql-database-connectivity-issues.md) section and hello best practices and design guidelines at [SQL Database Development Overview](sql-database-develop-overview.md) for more information and general retry strategies.</span></span> <span data-ttu-id="415d8-133">Per informazioni dettagliate, vedere gli esempi di codice in: [Raccolte di connessioni per database SQL e Server SQL](sql-database-libraries.md) .</span><span class="sxs-lookup"><span data-stu-id="415d8-133">Then, see code samples at [Connection Libraries for SQL Database and SQL Server](sql-database-libraries.md) for specifics.</span></span>
3. <span data-ttu-id="415d8-134">Quando un database si avvicina i limiti di risorse, può apparire toobe un problema di connettività temporaneo.</span><span class="sxs-lookup"><span data-stu-id="415d8-134">As a database approaches its resource limits, it can seem toobe a transient connectivity issue.</span></span> <span data-ttu-id="415d8-135">Vedere la pagina relativa alla [risoluzione dei problemi di prestazioni](sql-database-troubleshoot-performance.md).</span><span class="sxs-lookup"><span data-stu-id="415d8-135">See [Troubleshooting Performance Issues](sql-database-troubleshoot-performance.md).</span></span>
4. <span data-ttu-id="415d8-136">Se i problemi di connettività di continuare o se hello durata per cui l'applicazione rileva l'errore hello maggiore di 60 secondi o se vengono riscontrate più occorrenze dell'errore hello in un determinato giorno, file di una richiesta di supporto tecnico di Azure selezionando **ottenere supporto** su hello [supporto Azure](https://azure.microsoft.com/support/options) sito.</span><span class="sxs-lookup"><span data-stu-id="415d8-136">If connectivity problems continue, or if hello duration for which your application encounters hello error exceeds 60 seconds or if you see multiple occurrences of hello error in a given day, file an Azure support request by selecting **Get Support** on hello [Azure Support](https://azure.microsoft.com/support/options) site.</span></span>

## <a name="troubleshoot-persistent-errors"></a><span data-ttu-id="415d8-137">Risolvere gli errori persistenti</span><span class="sxs-lookup"><span data-stu-id="415d8-137">Troubleshoot persistent errors</span></span>
<span data-ttu-id="415d8-138">Se un'applicazione hello non riesce in modo permanente tooconnect tooAzure Database SQL, in genere indica un problema con uno dei seguenti hello:</span><span class="sxs-lookup"><span data-stu-id="415d8-138">If hello application persistently fails tooconnect tooAzure SQL Database, it usually indicates an issue with one of hello following:</span></span>

* <span data-ttu-id="415d8-139">Configurazione del firewall.</span><span class="sxs-lookup"><span data-stu-id="415d8-139">Firewall configuration.</span></span> <span data-ttu-id="415d8-140">Hello Azure SQL database o sul lato client il firewall blocchi tooAzure connessioni Database SQL.</span><span class="sxs-lookup"><span data-stu-id="415d8-140">hello Azure SQL database or client-side firewall is blocking connections tooAzure SQL Database.</span></span>
* <span data-ttu-id="415d8-141">Rete di riconfigurazione sul lato client hello: ad esempio, un nuovo indirizzo IP o un server proxy.</span><span class="sxs-lookup"><span data-stu-id="415d8-141">Network reconfiguration on hello client side: for example, a new IP address or a proxy server.</span></span>
* <span data-ttu-id="415d8-142">Errore dell'utente: ad esempio, stato digitato correttamente i parametri di connessione, ad esempio nome del server nella stringa di connessione hello hello.</span><span class="sxs-lookup"><span data-stu-id="415d8-142">User error: for example, mistyped connection parameters, such as hello server name in hello connection string.</span></span>

### <a name="steps-tooresolve-persistent-connectivity-issues"></a><span data-ttu-id="415d8-143">Problemi di connettività permanente tooresolve di passaggi</span><span class="sxs-lookup"><span data-stu-id="415d8-143">Steps tooresolve persistent connectivity issues</span></span>
1. <span data-ttu-id="415d8-144">Impostare [regole del firewall](sql-database-configure-firewall-settings.md) tooallow indirizzo IP del client hello.</span><span class="sxs-lookup"><span data-stu-id="415d8-144">Set up [firewall rules](sql-database-configure-firewall-settings.md) tooallow hello client IP address.</span></span> <span data-ttu-id="415d8-145">Per temporaneo a scopo di test, impostare una regola del firewall utilizzando 0.0.0.0 come hello inizio intervallo di indirizzi IP e l'utilizzo di 255.255.255.255 come hello fine intervallo di indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="415d8-145">For temporary testing purposes, set up a firewall rule using 0.0.0.0 as hello starting IP address range and using 255.255.255.255 as hello ending IP address range.</span></span> <span data-ttu-id="415d8-146">Verrà aperta hello tooall gli indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="415d8-146">This will open hello server tooall IP addresses.</span></span> <span data-ttu-id="415d8-147">Se questo risolve il problema di connettività, rimuovere la regola e creare una regola del firewall per un indirizzo o un intervallo di indirizzi IP adeguatamente limitato.</span><span class="sxs-lookup"><span data-stu-id="415d8-147">If this resolves your connectivity issue, remove this rule and create a firewall rule for an appropriately limited IP address or address range.</span></span> 
2. <span data-ttu-id="415d8-148">In tutti i firewall tra il client di hello e hello Internet, assicurarsi che la porta 1433 è aperta per le connessioni in uscita.</span><span class="sxs-lookup"><span data-stu-id="415d8-148">On all firewalls between hello client and hello Internet, make sure that port 1433 is open for outbound connections.</span></span> <span data-ttu-id="415d8-149">Revisione [configurare Windows Firewall di hello tooAllow accesso a SQL Server](https://msdn.microsoft.com/library/cc646023.aspx) e [protocolli e le porte richieste identità ibrida](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) per puntatori aggiuntivi correlati tooadditional porte che è necessario tooopen per Autenticazione di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="415d8-149">Review [Configure hello Windows Firewall tooAllow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) and [Hybrid Identity Required Ports and Protocols](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) for additional pointers related tooadditional ports that you need tooopen for Azure Active Directory authentication.</span></span>
3. <span data-ttu-id="415d8-150">Verificare la stringa di connessione e le altre impostazioni di connessione.</span><span class="sxs-lookup"><span data-stu-id="415d8-150">Verify your connection string and other connection settings.</span></span> <span data-ttu-id="415d8-151">Vedere la sezione stringa di connessione in hello hello [argomento problemi di connettività](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="415d8-151">See hello Connection String section in hello [connectivity issues topic](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span></span>
4. <span data-ttu-id="415d8-152">Controllare l'integrità del servizio nel dashboard di hello.</span><span class="sxs-lookup"><span data-stu-id="415d8-152">Check service health in hello dashboard.</span></span> <span data-ttu-id="415d8-153">Se si ritiene che si verifica un'interruzione internazionale, vedere [recuperare da un'interruzione](sql-database-disaster-recovery.md) per una nuova area tooa toorecover passaggi.</span><span class="sxs-lookup"><span data-stu-id="415d8-153">If you think there’s a regional outage, see [Recover from an outage](sql-database-disaster-recovery.md) for steps toorecover tooa new region.</span></span>

## <a name="next-steps"></a><span data-ttu-id="415d8-154">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="415d8-154">Next steps</span></span>
* [<span data-ttu-id="415d8-155">Risoluzione dei problemi di prestazioni del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="415d8-155">Troubleshoot Azure SQL Database performance issues</span></span>](sql-database-troubleshoot-performance.md)
* [<span data-ttu-id="415d8-156">Ricerca di documentazione hello in Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="415d8-156">Search hello documentation on Microsoft Azure</span></span>](http://azure.microsoft.com/search/documentation/)
* [<span data-ttu-id="415d8-157">Hello vista ultimi aggiornamenti del servizio di Database SQL di Azure toohello</span><span class="sxs-lookup"><span data-stu-id="415d8-157">View hello latest updates toohello Azure SQL Database service</span></span>](http://azure.microsoft.com/updates/?service=sql-database)

## <a name="additional-resources"></a><span data-ttu-id="415d8-158">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="415d8-158">Additional resources</span></span>
* [<span data-ttu-id="415d8-159">Panoramica dello sviluppo di database SQL</span><span class="sxs-lookup"><span data-stu-id="415d8-159">SQL Database Development Overview</span></span>](sql-database-develop-overview.md)
* [<span data-ttu-id="415d8-160">Linee guida generali per la gestione degli errori temporanei</span><span class="sxs-lookup"><span data-stu-id="415d8-160">General transient fault-handling guidance</span></span>](../best-practices-retry-general.md)
* [<span data-ttu-id="415d8-161">Raccolte di connessioni per database SQL e Server SQL</span><span class="sxs-lookup"><span data-stu-id="415d8-161">Connection libraries for SQL Database and SQL Server</span></span>](sql-database-libraries.md)

