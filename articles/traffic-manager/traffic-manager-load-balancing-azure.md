---
title: Uso dei servizi di bilanciamento del carico in Azure | Microsoft Docs
description: 'Questa esercitazione illustra come creare uno scenario tramite il portafoglio di soluzioni Azure per il bilanciamento del carico: Gestione traffico, il gateway applicazione e Load Balancer.'
services: traffic-manager
documentationcenter: 
author: liumichelle
manager: vitinnan
editor: 
ms.assetid: f89be3be-a16f-4d47-bcae-db2ab72ade17
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/27/2016
ms.author: limichel
ms.openlocfilehash: ae9bd30b76786f94f0d836a39137da696fdb94a2
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="using-load-balancing-services-in-azure"></a><span data-ttu-id="d8c6b-103">Uso dei servizi di bilanciamento del carico in Azure</span><span class="sxs-lookup"><span data-stu-id="d8c6b-103">Using load-balancing services in Azure</span></span>

## <a name="introduction"></a><span data-ttu-id="d8c6b-104">Introduzione</span><span class="sxs-lookup"><span data-stu-id="d8c6b-104">Introduction</span></span>

<span data-ttu-id="d8c6b-105">Microsoft Azure offre numerosi servizi che consentono di gestire la distribuzione del traffico e il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-105">Microsoft Azure provides multiple services for managing how network traffic is distributed and load balanced.</span></span> <span data-ttu-id="d8c6b-106">È possibile usare questi servizi singolarmente o combinarne i metodi in base alle esigenze, così da realizzare una soluzione ottimale.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-106">You can use these services individually or combine their methods, depending on your needs, to build the optimal solution.</span></span>

<span data-ttu-id="d8c6b-107">In questa esercitazione viene innanzitutto illustrato un caso d'uso di un cliente e viene mostrato in che modo è possibile assicurare maggiore affidabilità e prestazioni più elevate mediante il portafoglio di soluzioni Azure per il bilanciamento del carico: Gestione traffico, il gateway applicazione e Load Balancer.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-107">In this tutorial, we first define a customer use case and see how it can be made more robust and performant by using the following Azure load-balancing portfolio: Traffic Manager, Application Gateway, and Load Balancer.</span></span> <span data-ttu-id="d8c6b-108">Vengono quindi illustrate istruzioni dettagliate per la creazione di una distribuzione che sia geograficamente ridondante, distribuisca il traffico alle macchine virtuali e aiuti a gestire differenti tipi di richieste.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-108">We then provide step-by-step instructions for creating a deployment that is geographically redundant, distributes traffic to VMs, and helps you manage different types of requests.</span></span>

<span data-ttu-id="d8c6b-109">A livello concettuale, ognuno di questi servizi svolge un ruolo distinto nella gerarchia di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-109">At a conceptual level, each of these services plays a distinct role in the load-balancing hierarchy.</span></span>

* <span data-ttu-id="d8c6b-110">**Gestione traffico** offre il bilanciamento del carico DNS globale.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-110">**Traffic Manager** provides global DNS load balancing.</span></span> <span data-ttu-id="d8c6b-111">Esamina le richieste DNS in ingresso e risponde con un endpoint integro e in base ai criteri di routing selezionati dal cliente.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-111">It looks at incoming DNS requests and responds with a healthy endpoint, in accordance with the routing policy the customer has selected.</span></span> <span data-ttu-id="d8c6b-112">Le opzioni per i metodi di routing sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-112">Options for routing methods are:</span></span>
  * <span data-ttu-id="d8c6b-113">Routing delle prestazioni per reindirizzare il richiedente all'endpoint più vicino in termini di latenza.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-113">Performance routing to send the requestor to the closest endpoint in terms of latency.</span></span>
  * <span data-ttu-id="d8c6b-114">Priorità di routing per indirizzare tutto il traffico a un endpoint, con altri endpoint come backup.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-114">Priority routing to direct all traffic to an endpoint, with other endpoints as backup.</span></span>
  * <span data-ttu-id="d8c6b-115">Routing round robin ponderato, che distribuisce il traffico in base alla ponderazione assegnata a ciascun endpoint.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-115">Weighted round-robin routing, which distributes traffic based on the weighting that is assigned to each endpoint.</span></span>

  <span data-ttu-id="d8c6b-116">Il client si connette direttamente a tale endpoint.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-116">The client connects directly to that endpoint.</span></span> <span data-ttu-id="d8c6b-117">Gestione traffico di Azure rileva gli endpoint non integri e reindirizza i client a un'altra istanza integra.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-117">Azure Traffic Manager detects when an endpoint is unhealthy and then redirects the clients to another healthy instance.</span></span> <span data-ttu-id="d8c6b-118">Per altre informazioni sul servizio, vedere [Gestione traffico di Azure](traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d8c6b-118">Refer to [Azure Traffic Manager documentation](traffic-manager-overview.md) to learn more about the service.</span></span>
* <span data-ttu-id="d8c6b-119">Il **gateway applicazione** offre un servizio di controller per la distribuzione di applicazioni con numerose funzionalità di bilanciamento del carico di livello 7.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-119">**Application Gateway** provides application delivery controller (ADC) as a service, offering various Layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="d8c6b-120">Consente ai clienti di ottimizzare la produttività delle Web farm tramite l'offload della terminazione SSL con uso elevato di CPU al gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-120">It allows customers to optimize web farm productivity by offloading CPU-intensive SSL termination to the application gateway.</span></span> <span data-ttu-id="d8c6b-121">Altre funzionalità di routing di livello 7 includono la distribuzione round robin del traffico in ingresso, l'affinità di sessione basata su cookie, il routing basato su percorso URL e la possibilità di ospitare più siti Web dietro un unico gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-121">Other Layer 7 routing capabilities include round-robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and the ability to host multiple websites behind a single application gateway.</span></span> <span data-ttu-id="d8c6b-122">Il gateway applicazione può essere configurato come gateway con connessione Internet, come gateway solo interno o come una combinazione di queste due opzioni.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-122">Application Gateway can be configured as an Internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> <span data-ttu-id="d8c6b-123">È completamente gestito in Azure e offre scalabilità e disponibilità elevata,</span><span class="sxs-lookup"><span data-stu-id="d8c6b-123">Application Gateway is fully Azure managed, scalable, and highly available.</span></span> <span data-ttu-id="d8c6b-124">oltre a un set completo di funzionalità di registrazione e diagnostica che ne migliorano la gestibilità.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-124">It provides a rich set of diagnostics and logging capabilities for better manageability.</span></span>
* <span data-ttu-id="d8c6b-125">**Load Balancer** è parte integrante dello stack SDN di azure e offre servizi di bilanciamento del carico di livello 4 a elevate prestazioni e bassa latenza per tutti i protocolli UDP e TCP.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-125">**Load Balancer** is an integral part of the Azure SDN stack, providing high-performance, low-latency Layer 4 load-balancing services for all UDP and TCP protocols.</span></span> <span data-ttu-id="d8c6b-126">Gestisce le connessioni in ingresso e in uscita.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-126">It manages inbound and outbound connections.</span></span> <span data-ttu-id="d8c6b-127">È possibile configurare endpoint pubblici e interni con carico bilanciato e definire regole per mappare le connessioni in ingresso a destinazioni pool back-end con opzioni di probe dell'integrità TCP e HTTP per gestire la disponibilità del servizio.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-127">You can configure public and internal load-balanced endpoints and define rules to map inbound connections to back-end pool destinations by using TCP and HTTP health-probing options to manage service availability.</span></span>

## <a name="scenario"></a><span data-ttu-id="d8c6b-128">Scenario</span><span class="sxs-lookup"><span data-stu-id="d8c6b-128">Scenario</span></span>

<span data-ttu-id="d8c6b-129">In questo scenario di esempio viene usato un semplice sito Web che gestisce due tipi di contenuto: immagini e pagine Web con rendering dinamico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-129">In this example scenario, we use a simple website that serves two types of content: images and dynamically rendered webpages.</span></span> <span data-ttu-id="d8c6b-130">Questo sito Web deve essere geograficamente ridondante e deve servire gli utenti dalla località ad essi più vicina (latenza più bassa).</span><span class="sxs-lookup"><span data-stu-id="d8c6b-130">The website must be geographically redundant, and it should serve its users from the closest (lowest latency) location to them.</span></span> <span data-ttu-id="d8c6b-131">Lo sviluppatore dell'applicazione ha deciso che qualsiasi URL corrispondente al pattern /images/* venga servito da un pool dedicato di macchine virtuali separato dal resto della Web farm.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-131">The application developer has decided that any URLs that match the pattern /images/* are served from a dedicated pool of VMs that are different from the rest of the web farm.</span></span>

<span data-ttu-id="d8c6b-132">Inoltre, il pool predefinito di macchine virtuali che rende disponibile il contenuto dinamico deve comunicare con un database back-end ospitato in un cluster a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-132">Additionally, the default VM pool serving the dynamic content needs to talk to a back-end database that is hosted on a high-availability cluster.</span></span> <span data-ttu-id="d8c6b-133">La configurazione dell'intera distribuzione viene eseguita tramite Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-133">The entire deployment is set up through Azure Resource Manager.</span></span>

<span data-ttu-id="d8c6b-134">L'uso di Gestione traffico, del gateway applicazione e di Load Balancer consente al sito Web di raggiungere gli obiettivi di progettazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-134">Using Traffic Manager, Application Gateway, and Load Balancer allows this website to achieve these design goals:</span></span>

* <span data-ttu-id="d8c6b-135">**Ridondanza multi-geografica**: se un'area geografica risulta non disponibile, Gestione traffico reindirizza senza problemi il traffico all'area geografica appropriata più vicina senza alcun intervento da parte del proprietario dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-135">**Multi-geo redundancy**: If one region goes down, Traffic Manager routes traffic seamlessly to the closest region without any intervention from the application owner.</span></span>
* <span data-ttu-id="d8c6b-136">**Latenza ridotta**: il cliente viene automaticamente indirizzato da Gestione traffico all'area geografica più vicina. Per questo motivo, quando il cliente richiede il contenuto delle pagine Web, si registra una latenza più bassa.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-136">**Reduced latency**: Because Traffic Manager automatically directs the customer to the closest region, the customer experiences lower latency when requesting the webpage contents.</span></span>
* <span data-ttu-id="d8c6b-137">**Scalabilità indipendente**: poiché il carico di lavoro delle applicazioni Web è separato in base al tipo di contenuto, il proprietario dell'applicazione può ridimensionare i carichi di lavoro relativi alle richieste in modo indipendente l'uno dall'altro.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-137">**Independent scalability**: Because the web application workload is separated by type of content, the application owner can scale the request workloads independent of each other.</span></span> <span data-ttu-id="d8c6b-138">Il gateway applicazione assicura che il traffico venga indirizzato ai pool corretti in base alle regole specificate e all'integrità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-138">Application Gateway ensures that the traffic is routed to the right pools based on the specified rules and the health of the application.</span></span>
* <span data-ttu-id="d8c6b-139">**Bilanciamento del carico interno**: con il posizionamento di Load Balancer davanti al cluster a disponibilità elevata, viene esposto all'applicazione solo l'endpoint attivo e integro per un database.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-139">**Internal load balancing**: Because Load Balancer is in front of the high-availability cluster, only the active and healthy endpoint for a database is exposed to the application.</span></span> <span data-ttu-id="d8c6b-140">Inoltre, un amministratore del database può ottimizzare il carico di lavoro distribuendo le repliche attive e passive nel cluster indipendentemente dall'applicazione front-end.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-140">Additionally, a database administrator can optimize the workload by distributing active and passive replicas across the cluster independent of the front-end application.</span></span> <span data-ttu-id="d8c6b-141">Load Balancer offre connessioni al cluster a disponibilità elevata e assicura che soltanto i database integri ricevano le richieste di connessione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-141">Load Balancer delivers connections to the high-availability cluster and ensures that only healthy databases receive connection requests.</span></span>

<span data-ttu-id="d8c6b-142">Il diagramma seguente illustra l'architettura di questi scenario:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-142">The following diagram shows the architecture of this scenario:</span></span>

![Diagramma dell'architettura di bilanciamento del carico](./media/traffic-manager-load-balancing-azure/scenario-diagram.png)

> [!NOTE]
> <span data-ttu-id="d8c6b-144">Questo esempio è solo una delle numerose configurazioni possibili dei servizi di bilanciamento del carico offerti da Azure.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-144">This example is only one of many possible configurations of the load-balancing services that Azure offers.</span></span> <span data-ttu-id="d8c6b-145">È possibile combinare e associare Gestione traffico, il gateway applicazione e Load Balancer per soddisfare al meglio le specifiche esigenze di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-145">Traffic Manager, Application Gateway, and Load Balancer can be mixed and matched to best suit your load-balancing needs.</span></span> <span data-ttu-id="d8c6b-146">Se, ad esempio, l'offload SSL o l'elaborazione di livello 7 non sono necessari, è possibile usare Load Balancer al posto del gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-146">For example, if SSL offload or Layer 7 processing is not necessary, Load Balancer can be used in place of Application Gateway.</span></span>

## <a name="setting-up-the-load-balancing-stack"></a><span data-ttu-id="d8c6b-147">Impostazione dello stack di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="d8c6b-147">Setting up the load-balancing stack</span></span>

### <a name="step-1-create-a-traffic-manager-profile"></a><span data-ttu-id="d8c6b-148">Passaggio 1: creare un profilo di Gestione traffico</span><span class="sxs-lookup"><span data-stu-id="d8c6b-148">Step 1: Create a Traffic Manager profile</span></span>

1. <span data-ttu-id="d8c6b-149">Nel portale di Azure, fare clic su **Nuovo**, e cercare "Profilo di Gestione traffico" in Marketplace.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-149">In the Azure portal, click **New**, and then search the marketplace for "Traffic Manager profile."</span></span>
2. <span data-ttu-id="d8c6b-150">Nel pannello **Crea profilo di Gestione traffico**, inserire le seguenti informazioni di base:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-150">On the **Create Traffic Manager profile** blade, enter the following basic information:</span></span>

  * <span data-ttu-id="d8c6b-151">**Nome**: assegnare al profilo di Gestione traffico un nome del prefisso DNS.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-151">**Name**: Give your Traffic Manager profile a DNS prefix name.</span></span>
  * <span data-ttu-id="d8c6b-152">**Metodo di routing**: selezionare il criterio per il metodo di routing del traffico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-152">**Routing method**: Select the traffic-routing method policy.</span></span> <span data-ttu-id="d8c6b-153">Per altre informazioni sui metodi, vedere [Informazioni sui metodi di routing del traffico di Gestione traffico](traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="d8c6b-153">For more information about the methods, see [About Traffic Manager traffic routing methods](traffic-manager-routing-methods.md).</span></span>
  * <span data-ttu-id="d8c6b-154">**Sottoscrizione**: selezionare la sottoscrizione contenente il profilo.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-154">**Subscription**: Select the subscription that contains the profile.</span></span>
  * <span data-ttu-id="d8c6b-155">**Gruppo di risorse**: selezionare il gruppo di risorse contenente il profilo.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-155">**Resource group**: Select the resource group that contains the profile.</span></span> <span data-ttu-id="d8c6b-156">Può trattarsi di un gruppo di risorse nuovo o esistente.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-156">It can be a new or existing resource group.</span></span>
  * <span data-ttu-id="d8c6b-157">**Percorso gruppo di risorse**: il servizio Gestione traffico è globale e non legato a una località.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-157">**Resource group location**: Traffic Manager service is global and not bound to a location.</span></span> <span data-ttu-id="d8c6b-158">Tuttavia, è necessario specificare un'area per il gruppo in cui risiedono i metadati associati al profilo di Gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-158">However, you must specify a region for the group where the metadata associated with the Traffic Manager profile resides.</span></span> <span data-ttu-id="d8c6b-159">La località non ha alcun impatto sulla disponibilità di runtime del profilo.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-159">This location has no impact on the runtime availability of the profile.</span></span>

3. <span data-ttu-id="d8c6b-160">Fare clic su **Crea** per generare il profilo di Gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-160">Click **Create** to generate the Traffic Manager profile.</span></span>

  ![Pannello "Crea profilo di Gestione traffico"](./media/traffic-manager-load-balancing-azure/s1-create-tm-blade.png)

### <a name="step-2-create-the-application-gateways"></a><span data-ttu-id="d8c6b-162">Passaggio 2: creare il gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="d8c6b-162">Step 2: Create the application gateways</span></span>

1. <span data-ttu-id="d8c6b-163">Nel portale di Azure fare clic su **Nuovo** > **Rete** > **Gateway applicazione** nel pannello a sinistra.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-163">In the Azure portal, in the left pane, click **New** > **Networking** > **Application Gateway**.</span></span>
2. <span data-ttu-id="d8c6b-164">Inserire le seguenti informazioni di base sul gateway applicazione:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-164">Enter the following basic information about the application gateway:</span></span>

  * <span data-ttu-id="d8c6b-165">**Nome** : nome del gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-165">**Name**: The name of the application gateway.</span></span>
  * <span data-ttu-id="d8c6b-166">**Dimensioni SKU**: dimensioni del gateway applicazione. Le opzioni disponibili sono Small, Medium e Large.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-166">**SKU size**: The size of the application gateway, available as Small, Medium, or Large.</span></span>
  * <span data-ttu-id="d8c6b-167">**Numero di istanze**: il numero di istanze, un valore da 2 a 10.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-167">**Instance count**: The number of instances, a value from 2 through 10.</span></span>
  * <span data-ttu-id="d8c6b-168">**Gruppo di risorse**: il gruppo di risorse che contiene il gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-168">**Resource group**: The resource group that holds the application gateway.</span></span> <span data-ttu-id="d8c6b-169">Può trattarsi di un gruppo di risorse nuovo o esistente.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-169">It can be an existing resource group or a new one.</span></span>
  * <span data-ttu-id="d8c6b-170">**Posizione**: l'area del gateway applicazione. È la stessa posizione del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-170">**Location**: The region for the application gateway, which is the same location as the resource group.</span></span> <span data-ttu-id="d8c6b-171">La posizione è importante perché la rete virtuale e l'IP pubblico devono trovarsi nella stessa posizione del gateway.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-171">The location is important, because the virtual network and public IP must be in the same location as the gateway.</span></span>
3. <span data-ttu-id="d8c6b-172">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-172">Click **OK**.</span></span>
4. <span data-ttu-id="d8c6b-173">Definire le configurazioni della rete virtuale, della subnet, dell'IP front-end e del listener per il gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-173">Define the virtual network, subnet, front-end IP, and listener configurations for the application gateway.</span></span> <span data-ttu-id="d8c6b-174">In questo scenario l'indirizzo IP front-end è **Pubblico**. Questo consente, in un secondo tempo, di aggiungerlo come endpoint al profilo di Gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-174">In this scenario, the front-end IP address is **Public**, which allows it to be added as an endpoint to the Traffic Manager profile later on.</span></span>
5. <span data-ttu-id="d8c6b-175">Configurare il listener con una delle opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-175">Configure the listener with one of the following options:</span></span>
    * <span data-ttu-id="d8c6b-176">Se si usa HTTP, non sono necessarie configurazioni.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-176">If you use HTTP, there is nothing to configure.</span></span> <span data-ttu-id="d8c6b-177">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-177">Click **OK**.</span></span>
    * <span data-ttu-id="d8c6b-178">Se si usa HTTPS sono necessarie operazioni di configurazione aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-178">If you use HTTPS, further configuration is required.</span></span> <span data-ttu-id="d8c6b-179">Fare riferimento a [Creare un gateway applicazione](../application-gateway/application-gateway-create-gateway-portal.md), a partire dal passaggio 9.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-179">Refer to [Create an application gateway](../application-gateway/application-gateway-create-gateway-portal.md), starting at step 9.</span></span> <span data-ttu-id="d8c6b-180">Una volta completata la configurazione, fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-180">When you have completed the configuration, click **OK**.</span></span>

#### <a name="configure-url-routing-for-application-gateways"></a><span data-ttu-id="d8c6b-181">Configurare il routing degli URL per i gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="d8c6b-181">Configure URL routing for application gateways</span></span>

<span data-ttu-id="d8c6b-182">Quando si sceglie un pool back-end, un gateway applicazione configurato con una regola basata sul percorso tiene conto non solo della distribuzione round robin ma anche del modello di percorso dell'URL della richiesta.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-182">When you choose a back-end pool, an application gateway that's configured with a path-based rule takes a path pattern of the request URL in addition to round-robin distribution.</span></span> <span data-ttu-id="d8c6b-183">In questo scenario viene aggiunta una regola basata sul percorso per indirizzare qualsiasi URL con "/images/\*" al pool di server di immagine.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-183">In this scenario, we are adding a path-based rule to direct any URL with "/images/\*" to the image server pool.</span></span> <span data-ttu-id="d8c6b-184">Per altre informazioni sulla configurazione del routing degli URL in base al percorso per un gateway applicazione, vedere [Creare una regola basata sul percorso per un gateway applicazione](../application-gateway/application-gateway-create-url-route-portal.md).</span><span class="sxs-lookup"><span data-stu-id="d8c6b-184">For more information about configuring URL path-based routing for an application gateway, refer to [Create a path-based rule for an application gateway](../application-gateway/application-gateway-create-url-route-portal.md).</span></span>

![Diagramma di livello Web del gateway applicazione](./media/traffic-manager-load-balancing-azure/web-tier-diagram.png)

1. <span data-ttu-id="d8c6b-186">Dal gruppo di risorse passare all'istanza del gateway applicazione creata nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-186">From your resource group, go to the instance of the application gateway that you created in the preceding section.</span></span>
2. <span data-ttu-id="d8c6b-187">Nella sezione **Impostazioni** selezionare **Pool back-end**, quindi selezionare **Aggiungi** per aggiungere le macchine virtuali da associare ai pool back-end di livello Web.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-187">Under **Settings**, select **Backend pools**, and then select **Add** to add the VMs that you want to associate with the web-tier back-end pools.</span></span>
3. <span data-ttu-id="d8c6b-188">Nel pannello **Aggiungi pool back-end** immettere il nome del pool back-end e tutti gli indirizzi IP dei computer presenti nel pool.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-188">On the **Add backend pool** blade, enter the name of the back-end pool and all the IP addresses of the machines that reside in the pool.</span></span> <span data-ttu-id="d8c6b-189">In questo scenario vengono connessi due pool back-end di server di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-189">In this scenario, we are connecting two back-end server pools of virtual machines.</span></span>

  ![Pannello "Aggiungi pool back-end" del gateway applicazione](./media/traffic-manager-load-balancing-azure/s2-appgw-add-bepool.png)

4. <span data-ttu-id="d8c6b-191">Nella sezione **Impostazioni** del gateway applicazione selezionare **Regole** e quindi fare clic sul pulsante **Basata sul percorso** per aggiungere una nuova regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-191">Under **Settings** of the application gateway, select **Rules**, and then click the **Path based** button to add a rule.</span></span>

  ![Pulsante "Basata sul percorso", regole del gateway applicazione](./media/traffic-manager-load-balancing-azure/s2-appgw-add-pathrule.png)

5. <span data-ttu-id="d8c6b-193">Nel pannello **Aggiungi regola basata sul percorso** immettere le informazioni seguenti per configurare la regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-193">On the **Add path-based rule** blade, configure the rule by providing the following information.</span></span>

   <span data-ttu-id="d8c6b-194">Impostazioni di base:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-194">Basic settings:</span></span>

   + <span data-ttu-id="d8c6b-195">**Nome**: nome descrittivo della regola accessibile nel portale.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-195">**Name**: The friendly name of the rule that is accessible in the portal.</span></span>
   + <span data-ttu-id="d8c6b-196">**Listener**: listener usato per la regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-196">**Listener**: The listener that is used for the rule.</span></span>
   + <span data-ttu-id="d8c6b-197">**Pool back-end predefinito**: pool back-end da usare con la regola predefinita.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-197">**Default backend pool**: The back-end pool to be used with the default rule.</span></span>
   + <span data-ttu-id="d8c6b-198">**Impostazioni HTTP predefinite**: impostazioni HTTP da usare con la regola predefinita.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-198">**Default HTTP settings**: The HTTP settings to be used with the default rule.</span></span>

   <span data-ttu-id="d8c6b-199">Regole basate sul percorso:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-199">Path-based rules:</span></span>

   + <span data-ttu-id="d8c6b-200">**Nome**: nome descrittivo della regola basata sul percorso.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-200">**Name**: The friendly name of the path-based rule.</span></span>
   + <span data-ttu-id="d8c6b-201">**Percorsi**: regola basata sul percorso usata per l'inoltro del traffico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-201">**Paths**: The path rule that is used for forwarding traffic.</span></span>
   + <span data-ttu-id="d8c6b-202">**Pool back-end**: pool back-end da usare con questa regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-202">**Backend Pool**: The back-end pool to be used with this rule.</span></span>
   + <span data-ttu-id="d8c6b-203">**Impostazione HTTP**: impostazioni HTTP da usare con questa regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-203">**HTTP Setting**: The HTTP settings to be used with this rule.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="d8c6b-204">Percorsi: i percorsi validi devono iniziare con "/".</span><span class="sxs-lookup"><span data-stu-id="d8c6b-204">Paths: Valid paths must start with "/".</span></span> <span data-ttu-id="d8c6b-205">Il carattere jolly "\*" è consentito solo alla fine del percorso.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-205">The wildcard "\*" is allowed only at the end.</span></span> <span data-ttu-id="d8c6b-206">Alcuni esempi validi: /xyz, /xyz\* o /xyz/\*.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-206">Valid examples are /xyz, /xyz\*, or /xyz/\*.</span></span>

   ![Pannello "Aggiungi regola basata sul percorso" del gateway applicazione](./media/traffic-manager-load-balancing-azure/s2-appgw-pathrule-blade.png)

### <a name="step-3-add-application-gateways-to-the-traffic-manager-endpoints"></a><span data-ttu-id="d8c6b-208">Passaggio 3: aggiungere gateway applicazione agli endpoint di Gestione traffico</span><span class="sxs-lookup"><span data-stu-id="d8c6b-208">Step 3: Add application gateways to the Traffic Manager endpoints</span></span>

<span data-ttu-id="d8c6b-209">In questo scenario Gestione traffico è connesso ai gateway applicazione (come configurati nei passaggi precedenti) presenti in aree geografiche diverse.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-209">In this scenario, Traffic Manager is connected to application gateways (as configured in the preceding steps) that reside in different regions.</span></span> <span data-ttu-id="d8c6b-210">Dopo aver configurato i gateway applicazione, il passaggio successivo consiste nel connettere tali gateway al profilo di Gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-210">Now that the application gateways are configured, the next step is to connect them to your Traffic Manager profile.</span></span>

1. <span data-ttu-id="d8c6b-211">Aprire il profilo di Gestione traffico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-211">Open your Traffic Manager profile.</span></span> <span data-ttu-id="d8c6b-212">A tale scopo, esaminare il gruppo di risorse o cercare il nome del profilo di Gestione traffico in **Tutte le risorse**.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-212">To do so, look in your resource group or search for the name of the Traffic Manager profile from **All Resources**.</span></span>
2. <span data-ttu-id="d8c6b-213">Nel riquadro a sinistra, selezionare **Endpoint** e fare clic su **Aggiungi** per aggiungere un endpoint.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-213">In the left pane, select **Endpoints**, and then click **Add** to add an endpoint.</span></span>

  ![Pulsante "Aggiungi" per gli endpoint di Gestione traffico](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint.png)

3. <span data-ttu-id="d8c6b-215">Nel pannello **Aggiungi endpoint** immettere le informazioni seguenti per creare un endpoint:</span><span class="sxs-lookup"><span data-stu-id="d8c6b-215">On the **Add endpoint** blade, create an endpoint by entering the following information:</span></span>

  * <span data-ttu-id="d8c6b-216">**Tipo**: selezionare il tipo di endpoint per il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-216">**Type**: Select the type of endpoint to load-balance.</span></span> <span data-ttu-id="d8c6b-217">In questo scenario selezionare **Endpoint di Azure** perché ci si sta connettendo alle istanze del gateway applicazione configurate in precedenza.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-217">In this scenario, select **Azure endpoint** because we are connecting it to the application gateway instances that were configured previously.</span></span>
  * <span data-ttu-id="d8c6b-218">**Nome**: inserire il nome dell'endpoint.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-218">**Name**: Enter the name of the endpoint.</span></span>
  * <span data-ttu-id="d8c6b-219">**Tipo di risorsa di destinazione**: selezionare **Indirizzo IP pubblico**, quindi, nell'impostazione **Risorsa di destinazione**, selezionare l'IP pubblico del gateway applicazione configurato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-219">**Target resource type**: Select **Public IP address** and then, under **Target resource**, select the public IP of the application gateway that was configured previously.</span></span>

   ![Pannello "Aggiungi endpoint" di Gestione traffico](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint-blade.png)

4. <span data-ttu-id="d8c6b-221">È ora possibile testare la configurazione accedendovi con il DNS del profilo di Gestione traffico, in questo esempio TrafficManagerScenario.trafficmanager.net.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-221">Now you can test your setup by accessing it with the DNS of your Traffic Manager profile (in this example: TrafficManagerScenario.trafficmanager.net).</span></span> <span data-ttu-id="d8c6b-222">È possibile inviare nuovamente le richieste, attivare/disattivare le macchine virtuali e i server Web creati in aree geografiche differenti e modificare le impostazioni del profilo di Gestione traffico per testare la configurazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-222">You can resend requests, bring up or bring down VMs and web servers that were created in different regions, and change the Traffic Manager profile settings to test your setup.</span></span>

### <a name="step-4-create-a-load-balancer"></a><span data-ttu-id="d8c6b-223">Passaggio 4: creare un servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="d8c6b-223">Step 4: Create a load balancer</span></span>

<span data-ttu-id="d8c6b-224">In questo scenario Load Balancer distribuisce le connessioni dal livello Web al database all'interno di un cluster a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-224">In this scenario, Load Balancer distributes connections from the web tier to the databases within a high-availability cluster.</span></span>

<span data-ttu-id="d8c6b-225">Se il cluster di database a disponibilità elevata usa SQL Server AlwaysOn, per istruzioni dettagliate vedere [Configurare uno o più listener nei gruppi di disponibilità AlwaysOn](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md).</span><span class="sxs-lookup"><span data-stu-id="d8c6b-225">If your high-availability database cluster is using SQL Server AlwaysOn, refer to [Configure one or more Always On Availability Group Listeners](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) for step-by-step instructions.</span></span>

<span data-ttu-id="d8c6b-226">Per altri dettagli sulla configurazione di un servizio di bilanciamento del carico interno, vedere [Creare un servizio di bilanciamento del carico interno nel portale di Azure](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span><span class="sxs-lookup"><span data-stu-id="d8c6b-226">For more information about configuring an internal load balancer, see [Create an Internal load balancer in the Azure portal](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span></span>

1. <span data-ttu-id="d8c6b-227">Nel portale di Azure fare clic su **Nuovo** > **Rete** > **Bilanciamento del carico** nel pannello a sinistra.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-227">In the Azure portal, in the left pane, click **New** > **Networking** > **Load balancer**.</span></span>
2. <span data-ttu-id="d8c6b-228">Nel pannello **Crea servizio di bilanciamento del carico** scegliere un nome per il servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-228">On the **Create load balancer** blade, choose a name for your load balancer.</span></span>
3. <span data-ttu-id="d8c6b-229">Impostare **Tipo** su **Interno** e scegliere la rete virtuale e la subnet appropriate per il servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-229">Set the **Type** to **Internal**, and choose the appropriate virtual network and subnet for the load balancer to reside in.</span></span>
4. <span data-ttu-id="d8c6b-230">In **Assegnazione indirizzo IP** selezionare **Dinamico** o **Statico**.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-230">Under **IP address assignment**, select either **Dynamic** or **Static**.</span></span>
5. <span data-ttu-id="d8c6b-231">In **Gruppo di risorse** scegliere il gruppo di risorse per il servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-231">Under **Resource group**, choose the resource group for the load balancer.</span></span>
6. <span data-ttu-id="d8c6b-232">In **Località** scegliere l'area geografica appropriata per il servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-232">Under **Location**, choose the appropriate region for the load balancer.</span></span>
7. <span data-ttu-id="d8c6b-233">Al termine, fare clic su **Crea** per generare il servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-233">Click **Create** to generate the load balancer.</span></span>

#### <a name="connect-a-back-end-database-tier-to-the-load-balancer"></a><span data-ttu-id="d8c6b-234">Connettere un livello del database back-end al servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="d8c6b-234">Connect a back-end database tier to the load balancer</span></span>

1. <span data-ttu-id="d8c6b-235">Dal gruppo di risorse individuare il servizio di bilanciamento del carico creato nei passaggi precedenti.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-235">From your resource group, find the load balancer that was created in the previous steps.</span></span>
2. <span data-ttu-id="d8c6b-236">Nella sezione **Impostazioni** fare clic su **Pool back-end** e quindi fare clic su **Aggiungi** per aggiungere un nuovo pool back-end.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-236">Under **Settings**, click **Backend pools**, and then click **Add** to add a back-end pool.</span></span>

  ![Pannello "Aggiungi pool back-end" di Load Balancer](./media/traffic-manager-load-balancing-azure/s4-ilb-add-bepool.png)

3. <span data-ttu-id="d8c6b-238">Nel pannello **Aggiungi pool back-end** immettere il nome del pool back-end.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-238">On the **Add backend pool** blade, enter the name of the back-end pool.</span></span>
4. <span data-ttu-id="d8c6b-239">Aggiungere singoli computer o un set di disponibilità per il pool back-end.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-239">Add either individual machines or an availability set to the back-end pool.</span></span>

#### <a name="configure-a-probe"></a><span data-ttu-id="d8c6b-240">Configurare un probe</span><span class="sxs-lookup"><span data-stu-id="d8c6b-240">Configure a probe</span></span>

1. <span data-ttu-id="d8c6b-241">Nella sezione **Impostazioni** del servizio di bilanciamento del carico selezionare **Probe** e quindi selezionare **Aggiungi** per aggiungere un nuovo probe.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-241">In your load balancer, under **Settings**, select **Probes**, and then click **Add** to add a probe.</span></span>

 ![Pannello "Aggiungi probe" di Load Balancer](./media/traffic-manager-load-balancing-azure/s4-ilb-add-probe.png)

2. <span data-ttu-id="d8c6b-243">Nel pannello **Aggiungi probe** immettere il nome del probe.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-243">On the **Add probe** blade, enter the name for the probe.</span></span>
3. <span data-ttu-id="d8c6b-244">Selezionare il **Protocollo** per il probe.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-244">Select the **Protocol** for the probe.</span></span> <span data-ttu-id="d8c6b-245">Per un database, può essere preferibile un probe TCP anziché un probe HTTP.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-245">For a database, you might want a TCP probe rather than an HTTP probe.</span></span> <span data-ttu-id="d8c6b-246">Per altre informazioni sui probe del servizio di bilanciamento del carico, vedere [Probe del servizio di bilanciamento del carico](../load-balancer/load-balancer-custom-probe-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d8c6b-246">To learn more about load-balancer probes, refer to [Understand load balancer probes](../load-balancer/load-balancer-custom-probe-overview.md).</span></span>
4. <span data-ttu-id="d8c6b-247">Immettere la **Porta** del database da usare per l'accesso al probe.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-247">Enter the **Port** of your database to be used for accessing the probe.</span></span>
5. <span data-ttu-id="d8c6b-248">In **Intervallo** specificare la frequenza di probe per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-248">Under **Interval**, specify how frequently to probe the application.</span></span>
6. <span data-ttu-id="d8c6b-249">In **Soglia di non integrità** specificare il numero di tentativi continui di probe non riusciti che possono verificarsi prima che una macchina virtuale back-end venga considerata non integra.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-249">Under **Unhealthy threshold**, specify the number of continuous probe failures that must occur for the back-end VM to be considered unhealthy.</span></span>
7. <span data-ttu-id="d8c6b-250">Fare clic su **OK** per creare il probe.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-250">Click **OK** to create the probe.</span></span>

#### <a name="configure-the-load-balancing-rules"></a><span data-ttu-id="d8c6b-251">Configurare le regole del servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="d8c6b-251">Configure the load-balancing rules</span></span>

1. <span data-ttu-id="d8c6b-252">Nella sezione **Impostazioni** del servizio di bilanciamento del carico selezionare **Regole di bilanciamento del carico** e quindi selezionare **Aggiungi** per creare una regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-252">Under **Settings** of your load balancer, select **Load balancing rules**, and then click **Add** to create a rule.</span></span>
2. <span data-ttu-id="d8c6b-253">Nel pannello **Aggiungi regola di bilanciamento del carico** immettere il **Nome** della regola di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-253">On the **Add load balancing rule** blade, enter the **Name** for the load-balancing rule.</span></span>
3. <span data-ttu-id="d8c6b-254">Impostare le opzioni **Indirizzo IP front-end** del servizio di bilanciamento del carico, **Protocollo** e **Porta**.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-254">Choose the **Frontend IP Address** of the load balancer, **Protocol**, and **Port**.</span></span>
4. <span data-ttu-id="d8c6b-255">In **Porta back-end** specificare la porta da usare nel pool di back-end.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-255">Under **Backend port**, specify the port to be used in the back-end pool.</span></span>
5. <span data-ttu-id="d8c6b-256">Selezionare il **Pool back-end** e il **Probe** creati nei passaggi precedenti per applicarvi la regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-256">Select the **Backend pool** and the **Probe** that were created in the previous steps to apply the rule to.</span></span>
6. <span data-ttu-id="d8c6b-257">In **Salvataggio permanente sessione** scegliere la modalità di salvataggio delle sessioni.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-257">Under **Session persistence**, choose how you want the sessions to persist.</span></span>
7. <span data-ttu-id="d8c6b-258">In **Timeout di inattività** specificare il numero di minuti prima di un timeout di inattività.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-258">Under **Idle timeouts**, specify the number of minutes before an idle timeout.</span></span>
8. <span data-ttu-id="d8c6b-259">Per **Indirizzo IP mobile** selezionare **Disabilitato** o **Abilitato**.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-259">Under **Floating IP**, select either **Disabled** or **Enabled**.</span></span>
9. <span data-ttu-id="d8c6b-260">Fare clic su **OK** per creare la regola.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-260">Click **OK** to create the rule.</span></span>

### <a name="step-5-connect-web-tier-vms-to-the-load-balancer"></a><span data-ttu-id="d8c6b-261">Passaggio 5: connettere macchine virtuali di livello Web al servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="d8c6b-261">Step 5: Connect web-tier VMs to the load balancer</span></span>

<span data-ttu-id="d8c6b-262">Vengono ora configurati l'indirizzo IP e la porta font-end del servizio di bilanciamento del carico nell'applicazione in esecuzione sulle macchine virtuali di livello Web per qualsiasi connessione di database.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-262">Now we configure the IP address and load-balancer front-end port in the applications that are running on your web-tier VMs for any database connections.</span></span> <span data-ttu-id="d8c6b-263">Questa configurazione è specifica delle applicazioni in esecuzione su tali macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-263">This configuration is specific to the applications that run on these VMs.</span></span> <span data-ttu-id="d8c6b-264">Per configurare l'indirizzo IP e la porta di destinazione, fare riferimento alla documentazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-264">To configure the destination IP address and port, refer to the application documentation.</span></span> <span data-ttu-id="d8c6b-265">Per individuare l'indirizzo IP del front-end, passare al pool di indirizzi IP front-end nel **pannello delle impostazioni del servizio di bilanciamento del carico** nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="d8c6b-265">To find the IP address of the front end, in the Azure portal, go to the front-end IP pool on the **Load balancer settings** blade.</span></span>

![Riquadro "Pool di indirizzi IP front-end" di Load Balancer](./media/traffic-manager-load-balancing-azure/s5-ilb-frontend-ippool.png)

## <a name="next-steps"></a><span data-ttu-id="d8c6b-267">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="d8c6b-267">Next steps</span></span>

* [<span data-ttu-id="d8c6b-268">Gestione traffico di Azure</span><span class="sxs-lookup"><span data-stu-id="d8c6b-268">Overview of Traffic Manager</span></span>](traffic-manager-overview.md)
* [<span data-ttu-id="d8c6b-269">Panoramica del gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="d8c6b-269">Application Gateway overview</span></span>](../application-gateway/application-gateway-introduction.md)
* [<span data-ttu-id="d8c6b-270">Panoramica di Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="d8c6b-270">Azure Load Balancer overview</span></span>](../load-balancer/load-balancer-overview.md)
