---
title: "Evento di completamento attività di Azure Batch | Microsoft Docs"
description: "Riferimento per l'evento di completamento dell'attività batch."
services: batch
author: tamram
manager: timlt
ms.assetid: 
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 04/20/2017
ms.author: tamram
ms.openlocfilehash: 015adf7dbc47c29a78df4e4889b2ee1ddcccdd8e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="task-complete-event"></a><span data-ttu-id="dabf4-103">Evento di completamento attività</span><span class="sxs-lookup"><span data-stu-id="dabf4-103">Task complete event</span></span>

 <span data-ttu-id="dabf4-104">Questo evento viene generato al completamento di un'attività, indipendentemente dal codice di uscita.</span><span class="sxs-lookup"><span data-stu-id="dabf4-104">This event is emitted once a task is completed, regardless of the exit code.</span></span> <span data-ttu-id="dabf4-105">Può essere usato per determinare la durata di un'attività, la posizione in cui è stata eseguita e se è stata tentata più volte.</span><span class="sxs-lookup"><span data-stu-id="dabf4-105">This event can be used to determine the duration of a task, where the task ran, and whether it was retried.</span></span>


 <span data-ttu-id="dabf4-106">L'esempio seguente illustra il corpo di un evento di completamento attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-106">The following example shows the body of a task complete event.</span></span>

```
{
    "jobId": "job-0000000001",
    "id": "task-5",
    "taskType": "User",
    "systemTaskVersion": 0,
    "nodeInfo": {
        "poolId": "pool-001",
        "nodeId": "tvm-257509324_1-20160908t162728z"
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 2
    },
    "executionInfo": {
        "startTime": "2016-09-08T16:32:23.799Z",
        "endTime": "2016-09-08T16:34:00.666Z",
        "exitCode": 0,
        "retryCount": 0,
        "requeueCount": 0
    }
}
```

|<span data-ttu-id="dabf4-107">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="dabf4-107">Element name</span></span>|<span data-ttu-id="dabf4-108">Tipo</span><span class="sxs-lookup"><span data-stu-id="dabf4-108">Type</span></span>|<span data-ttu-id="dabf4-109">Note</span><span class="sxs-lookup"><span data-stu-id="dabf4-109">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="dabf4-110">jobId</span><span class="sxs-lookup"><span data-stu-id="dabf4-110">jobId</span></span>|<span data-ttu-id="dabf4-111">String</span><span class="sxs-lookup"><span data-stu-id="dabf4-111">String</span></span>|<span data-ttu-id="dabf4-112">ID del processo contenente l'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-112">The id of the job containing the task.</span></span>|
|<span data-ttu-id="dabf4-113">id</span><span class="sxs-lookup"><span data-stu-id="dabf4-113">id</span></span>|<span data-ttu-id="dabf4-114">String</span><span class="sxs-lookup"><span data-stu-id="dabf4-114">String</span></span>|<span data-ttu-id="dabf4-115">ID dell'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-115">The id of the task.</span></span>|
|<span data-ttu-id="dabf4-116">taskType</span><span class="sxs-lookup"><span data-stu-id="dabf4-116">taskType</span></span>|<span data-ttu-id="dabf4-117">String</span><span class="sxs-lookup"><span data-stu-id="dabf4-117">String</span></span>|<span data-ttu-id="dabf4-118">Tipo dell'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-118">The type of the task.</span></span> <span data-ttu-id="dabf4-119">Il valore può essere "JobManager" per indicare che si tratta di un'attività del gestore di processi oppure 'User' per indicare che non si tratta di un'attività del gestore di processi.</span><span class="sxs-lookup"><span data-stu-id="dabf4-119">This can either be 'JobManager' indicating it is a job manager task or 'User' indicating it is not a job manager task.</span></span> <span data-ttu-id="dabf4-120">Questo evento non viene generato per le attività di preparazione del processo, le attività di rilascio del processo o le attività di avvio.</span><span class="sxs-lookup"><span data-stu-id="dabf4-120">This event is not emitted for job preparation tasks, job release tasks or start tasks.</span></span>|
|<span data-ttu-id="dabf4-121">systemTaskVersion</span><span class="sxs-lookup"><span data-stu-id="dabf4-121">systemTaskVersion</span></span>|<span data-ttu-id="dabf4-122">Int32</span><span class="sxs-lookup"><span data-stu-id="dabf4-122">Int32</span></span>|<span data-ttu-id="dabf4-123">Contatore dei tentativi interni di esecuzione di un'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-123">This is the internal retry counter on a task.</span></span> <span data-ttu-id="dabf4-124">Il servizio Batch può ritentare internamente l'esecuzione di un'attività in funzione di problemi transitori.</span><span class="sxs-lookup"><span data-stu-id="dabf4-124">Internally the Batch service can retry a task to account for transient issues.</span></span> <span data-ttu-id="dabf4-125">Questi problemi possono includere errori interni di pianificazione o tentativi di ripristino a seguito di nodi di calcolo in uno stato non valido.</span><span class="sxs-lookup"><span data-stu-id="dabf4-125">These issues can include internal scheduling errors or attempts to recover from compute nodes in a bad state.</span></span>|
|[<span data-ttu-id="dabf4-126">nodeInfo</span><span class="sxs-lookup"><span data-stu-id="dabf4-126">nodeInfo</span></span>](#nodeInfo)|<span data-ttu-id="dabf4-127">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="dabf4-127">Complex Type</span></span>|<span data-ttu-id="dabf4-128">Contiene informazioni sul nodo di calcolo in cui è stata eseguita l'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-128">Contains information about the compute node on which the task ran.</span></span>|
|[<span data-ttu-id="dabf4-129">multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="dabf4-129">multiInstanceSettings</span></span>](#multiInstanceSettings)|<span data-ttu-id="dabf4-130">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="dabf4-130">Complex Type</span></span>|<span data-ttu-id="dabf4-131">Specifica che l'attività è un'attività con istanze multiple che richiede più nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="dabf4-131">Specifies that the task is a Multi-Instance Task requiring multiple compute nodes.</span></span>  <span data-ttu-id="dabf4-132">Per informazioni dettagliate, vedere [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task).</span><span class="sxs-lookup"><span data-stu-id="dabf4-132">See [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) for details.</span></span>|
|[<span data-ttu-id="dabf4-133">constraints</span><span class="sxs-lookup"><span data-stu-id="dabf4-133">constraints</span></span>](#constraints)|<span data-ttu-id="dabf4-134">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="dabf4-134">Complex Type</span></span>|<span data-ttu-id="dabf4-135">Vincoli di esecuzione che si applicano a questa attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-135">The execution constraints that apply to this task.</span></span>|
|[<span data-ttu-id="dabf4-136">executionInfo</span><span class="sxs-lookup"><span data-stu-id="dabf4-136">executionInfo</span></span>](#executionInfo)|<span data-ttu-id="dabf4-137">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="dabf4-137">Complex Type</span></span>|<span data-ttu-id="dabf4-138">Contiene informazioni sull'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-138">Contains information about the execution of the task.</span></span>|

###  <span data-ttu-id="dabf4-139"><a name="nodeInfo"></a> nodeInfo</span><span class="sxs-lookup"><span data-stu-id="dabf4-139"><a name="nodeInfo"></a> nodeInfo</span></span>

|<span data-ttu-id="dabf4-140">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="dabf4-140">Element name</span></span>|<span data-ttu-id="dabf4-141">Tipo</span><span class="sxs-lookup"><span data-stu-id="dabf4-141">Type</span></span>|<span data-ttu-id="dabf4-142">Note</span><span class="sxs-lookup"><span data-stu-id="dabf4-142">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="dabf4-143">poolId</span><span class="sxs-lookup"><span data-stu-id="dabf4-143">poolId</span></span>|<span data-ttu-id="dabf4-144">String</span><span class="sxs-lookup"><span data-stu-id="dabf4-144">String</span></span>|<span data-ttu-id="dabf4-145">ID del pool in cui viene eseguita l'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-145">The id of the pool on which the task ran.</span></span>|
|<span data-ttu-id="dabf4-146">nodeId</span><span class="sxs-lookup"><span data-stu-id="dabf4-146">nodeId</span></span>|<span data-ttu-id="dabf4-147">String</span><span class="sxs-lookup"><span data-stu-id="dabf4-147">String</span></span>|<span data-ttu-id="dabf4-148">ID del nodo in cui viene eseguita l'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-148">The id of the node on which the task ran.</span></span>|

###  <span data-ttu-id="dabf4-149"><a name="multiInstanceSettings"></a> multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="dabf4-149"><a name="multiInstanceSettings"></a> multiInstanceSettings</span></span>

|<span data-ttu-id="dabf4-150">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="dabf4-150">Element name</span></span>|<span data-ttu-id="dabf4-151">Tipo</span><span class="sxs-lookup"><span data-stu-id="dabf4-151">Type</span></span>|<span data-ttu-id="dabf4-152">Note</span><span class="sxs-lookup"><span data-stu-id="dabf4-152">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="dabf4-153">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="dabf4-153">numberOfInstances</span></span>|<span data-ttu-id="dabf4-154">Int32</span><span class="sxs-lookup"><span data-stu-id="dabf4-154">Int32</span></span>|<span data-ttu-id="dabf4-155">Numero di nodi di calcolo richiesti dall'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-155">The number of compute nodes required by the task.</span></span>|

###  <span data-ttu-id="dabf4-156"><a name="constraints"></a> constraints</span><span class="sxs-lookup"><span data-stu-id="dabf4-156"><a name="constraints"></a> constraints</span></span>

|<span data-ttu-id="dabf4-157">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="dabf4-157">Element name</span></span>|<span data-ttu-id="dabf4-158">Tipo</span><span class="sxs-lookup"><span data-stu-id="dabf4-158">Type</span></span>|<span data-ttu-id="dabf4-159">Note</span><span class="sxs-lookup"><span data-stu-id="dabf4-159">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="dabf4-160">maxTaskRetryCount</span><span class="sxs-lookup"><span data-stu-id="dabf4-160">maxTaskRetryCount</span></span>|<span data-ttu-id="dabf4-161">Int32</span><span class="sxs-lookup"><span data-stu-id="dabf4-161">Int32</span></span>|<span data-ttu-id="dabf4-162">Numero massimo di tentativi consentiti per l'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-162">The maximum number of times the task may be retried.</span></span> <span data-ttu-id="dabf4-163">Il servizio Batch ripete un'attività se il relativo codice di uscita è diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="dabf4-163">The Batch service retries a task if its exit code is nonzero.</span></span><br /><br /> <span data-ttu-id="dabf4-164">Si noti che questo valore controlla specificamente il numero di tentativi.</span><span class="sxs-lookup"><span data-stu-id="dabf4-164">Note that this value specifically controls the number of retries.</span></span> <span data-ttu-id="dabf4-165">Il servizio Batch eseguirà l'attività una volta e quindi ripeterà l'esecuzione fino al limite di tentativi specificato.</span><span class="sxs-lookup"><span data-stu-id="dabf4-165">The Batch service will try the task once, and may then retry up to this limit.</span></span> <span data-ttu-id="dabf4-166">Ad esempio, se il numero massimo di tentativi è 3, il servizio Batch eseguirà l'attività 4 volte, ovvero una iniziale e 3 ulteriori tentativi.</span><span class="sxs-lookup"><span data-stu-id="dabf4-166">For example, if the maximum retry count is 3, Batch tries a task up to 4 times (one initial try and 3 retries).</span></span><br /><br /> <span data-ttu-id="dabf4-167">Se il numero massimo di tentativi è 0, il servizio Batch non eseguirà ulteriori tentativi.</span><span class="sxs-lookup"><span data-stu-id="dabf4-167">If the maximum retry count is 0, the Batch service does not retry tasks.</span></span><br /><br /> <span data-ttu-id="dabf4-168">Se il numero massimo di tentativi è -1, il servizio Batch continuerà a eseguire tentativi senza limiti.</span><span class="sxs-lookup"><span data-stu-id="dabf4-168">If the maximum retry count is -1, the Batch service retries tasks without limit.</span></span><br /><br /> <span data-ttu-id="dabf4-169">Il valore predefinito è 0, ovvero nessun tentativo.</span><span class="sxs-lookup"><span data-stu-id="dabf4-169">The default value is 0 (no retries).</span></span>|

###  <span data-ttu-id="dabf4-170"><a name="executionInfo"></a> executionInfo</span><span class="sxs-lookup"><span data-stu-id="dabf4-170"><a name="executionInfo"></a> executionInfo</span></span>

|<span data-ttu-id="dabf4-171">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="dabf4-171">Element name</span></span>|<span data-ttu-id="dabf4-172">Tipo</span><span class="sxs-lookup"><span data-stu-id="dabf4-172">Type</span></span>|<span data-ttu-id="dabf4-173">Note</span><span class="sxs-lookup"><span data-stu-id="dabf4-173">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="dabf4-174">startTime</span><span class="sxs-lookup"><span data-stu-id="dabf4-174">startTime</span></span>|<span data-ttu-id="dabf4-175">DateTime</span><span class="sxs-lookup"><span data-stu-id="dabf4-175">DateTime</span></span>|<span data-ttu-id="dabf4-176">Data e ora in cui è iniziata l'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-176">The time at which the task started running.</span></span> <span data-ttu-id="dabf4-177">"Running" corrisponde allo stato **in esecuzione** e pertanto, se l'attività specifica file di risorse o pacchetti dell'applicazione, la data e l'ora di inizio rispecchiano quelle in cui l'attività ne ha iniziato il download o la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="dabf4-177">'Running' corresponds to the **running** state, so if the task specifies resource files or application packages, then the start time reflects the time at which the task started downloading or deploying these.</span></span>  <span data-ttu-id="dabf4-178">Se l'attività è stata riavviata o ritentata, la data e l'ora indicate saranno quelle di inizio dell'ultima esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-178">If the task has been restarted or retried, this is the most recent time at which the task started running.</span></span>|
|<span data-ttu-id="dabf4-179">endTime</span><span class="sxs-lookup"><span data-stu-id="dabf4-179">endTime</span></span>|<span data-ttu-id="dabf4-180">DateTime</span><span class="sxs-lookup"><span data-stu-id="dabf4-180">DateTime</span></span>|<span data-ttu-id="dabf4-181">Data e ora in cui è stata completata l'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-181">The time at which the task completed.</span></span>|
|<span data-ttu-id="dabf4-182">exitCode</span><span class="sxs-lookup"><span data-stu-id="dabf4-182">exitCode</span></span>|<span data-ttu-id="dabf4-183">Int32</span><span class="sxs-lookup"><span data-stu-id="dabf4-183">Int32</span></span>|<span data-ttu-id="dabf4-184">Codice di uscita dell'attività.</span><span class="sxs-lookup"><span data-stu-id="dabf4-184">The exit code of the task.</span></span>|
|<span data-ttu-id="dabf4-185">retryCount</span><span class="sxs-lookup"><span data-stu-id="dabf4-185">retryCount</span></span>|<span data-ttu-id="dabf4-186">Int32</span><span class="sxs-lookup"><span data-stu-id="dabf4-186">Int32</span></span>|<span data-ttu-id="dabf4-187">Numero di tentativi di esecuzione dell'attività da parte del servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="dabf4-187">The number of times the task has been retried by the Batch service.</span></span> <span data-ttu-id="dabf4-188">L'attività viene ritentata se si conclude con un codice di uscita diverso da zero, fino al limite specificato in MaxTaskRetryCount.</span><span class="sxs-lookup"><span data-stu-id="dabf4-188">The task is retried if it exits with a nonzero exit code, up to the specified MaxTaskRetryCount.</span></span>|
|<span data-ttu-id="dabf4-189">requeueCount</span><span class="sxs-lookup"><span data-stu-id="dabf4-189">requeueCount</span></span>|<span data-ttu-id="dabf4-190">Int32</span><span class="sxs-lookup"><span data-stu-id="dabf4-190">Int32</span></span>|<span data-ttu-id="dabf4-191">Numero di volte in cui l'attività è stata reinserita nella coda dal servizio Batch a seguito di una richiesta dell'utente.</span><span class="sxs-lookup"><span data-stu-id="dabf4-191">The number of times the task has been requeued by the Batch service as the result of a user request.</span></span><br /><br /> <span data-ttu-id="dabf4-192">Quando si rimuovono nodi da un pool (tramite ridimensionamento o riduzione del pool) o quando il processo viene disabilitato, l'utente può specificare che le attività in esecuzione sui nodi siano reinserite nella coda per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="dabf4-192">When the user removes nodes from a pool (by resizing or shrinking the pool) or when the job is being disabled, the user can specify that running tasks on the nodes be requeued for execution.</span></span> <span data-ttu-id="dabf4-193">Questo conteggio tiene traccia del numero di volte in cui l'attività è stata reinserita nella coda per questi motivi.</span><span class="sxs-lookup"><span data-stu-id="dabf4-193">This count tracks how many times the task has been requeued for these reasons.</span></span>|
