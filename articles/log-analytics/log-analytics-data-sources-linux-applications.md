---
title: Raccogliere prestazioni delle applicazioni Linux in Log Analytics di OMS | Microsoft Docs
description: Questo articolo fornisce informazioni dettagliate per configurare l'agente OMS per Linux in modo che raccolga i contatori delle prestazioni per il server HTTP Apache e MySQL.
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: f1d5bde4-6b86-4b8e-b5c1-3ecbaba76198
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 04ea6f728e59ec8b47e54fe45e1adc6cbbfb85ff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="collect-performance-counters-for-linux-applications-in-log-analytics"></a><span data-ttu-id="69638-103">Raccogliere i contatori delle prestazioni per applicazioni Linux in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="69638-103">Collect performance counters for Linux applications in Log Analytics</span></span> 
<span data-ttu-id="69638-104">Questo articolo fornisce informazioni dettagliate per configurare l'[agente OMS per Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) in modo che raccolga i contatori delle prestazioni per applicazioni specifiche.</span><span class="sxs-lookup"><span data-stu-id="69638-104">This article provides details for configuring the [OMS Agent for Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) to collect performance counters for specific applications.</span></span>  <span data-ttu-id="69638-105">Le applicazioni incluse in questo articolo sono:</span><span class="sxs-lookup"><span data-stu-id="69638-105">The applications included in this article are:</span></span>  

- [<span data-ttu-id="69638-106">MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-106">MySQL</span></span>](#MySQL)
- [<span data-ttu-id="69638-107">Server HTTP Apache</span><span class="sxs-lookup"><span data-stu-id="69638-107">Apache HTTP Server</span></span>](#apache-http-server)

## <a name="mysql"></a><span data-ttu-id="69638-108">MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-108">MySQL</span></span>
<span data-ttu-id="69638-109">Se viene rilevato un server MySQL o MariaDB nel computer in cui è installato l'agente OMS, viene automaticamente installato un provider di monitoraggio delle prestazioni per il server MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-109">If MySQL Server or MariaDB Server is detected on the computer when the OMS agent is installed, a performance monitoring provider for MySQL Server will be automatically installed.</span></span> <span data-ttu-id="69638-110">Questo provider si connette al server MySQL/MariaDB locale per esporre le statistiche relative alle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="69638-110">This provider connects to the local MySQL/MariaDB server to expose performance statistics.</span></span> <span data-ttu-id="69638-111">Le credenziali utente di MySQL devono essere configurate in modo che il provider possa accedere al server MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-111">MySQL user credentials must be configured so that the provider can access the MySQL Server.</span></span>

### <a name="configure-mysql-credentials"></a><span data-ttu-id="69638-112">Configurare le credenziali di MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-112">Configure MySQL credentials</span></span>
<span data-ttu-id="69638-113">Il provider OMI MySQL richiede un utente di MySQL preconfigurato e librerie client MySQL installate, in modo da poter eseguire query sulle prestazioni o sulle informazioni di integrità dall'istanza di MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-113">The MySQL OMI provider requires a preconfigured MySQL user and installed MySQL client libraries in order to query the performance and health information from the MySQL instance.</span></span>  <span data-ttu-id="69638-114">Queste credenziali vengono salvate in un file di autenticazione archiviato nell'agente Linux.</span><span class="sxs-lookup"><span data-stu-id="69638-114">These credentials are stored in an authentication file that's stored on the Linux agent.</span></span>  <span data-ttu-id="69638-115">Il file di autenticazione specifica il valore bind-address e la porta su cui è in ascolto l'istanza di MySQL e le credenziali da usare per raccogliere metriche.</span><span class="sxs-lookup"><span data-stu-id="69638-115">The authentication file specifies what bind-address and port the MySQL instance is listening on and what credentials to use to gather metrics.</span></span>  

<span data-ttu-id="69638-116">Durante l'installazione dell'agente OMS per Linux, il provider OMI MySQL analizzerà i file di configurazione my.cnf di MySQL (percorsi predefiniti) per cercare il valore bind-address e la porta e imposterà in modo parziale il file di configurazione di OMI MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-116">During installation of the OMS Agent for Linux the MySQL OMI provider will scan MySQL my.cnf configuration files (default locations) for bind-address and port and partially set the MySQL OMI authentication file.</span></span>

<span data-ttu-id="69638-117">Il file di autenticazione di MySQL viene archiviato in `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span><span class="sxs-lookup"><span data-stu-id="69638-117">The MySQL authentication file is stored at `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span></span>


### <a name="authentication-file-format"></a><span data-ttu-id="69638-118">Formato del file di autenticazione</span><span class="sxs-lookup"><span data-stu-id="69638-118">Authentication file format</span></span>
<span data-ttu-id="69638-119">Di seguito è riportato il formato per il file di autenticazione di OMI MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-119">Following is the format for the MySQL OMI authentication file</span></span>

    [Port]=[Bind-Address], [username], [Base64 encoded Password]
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    AutoUpdate=[true|false]

<span data-ttu-id="69638-120">Nella tabella seguente sono descritte le voci presenti nel file di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="69638-120">The entries in the authentication file are described in the following table.</span></span>

| <span data-ttu-id="69638-121">Proprietà</span><span class="sxs-lookup"><span data-stu-id="69638-121">Property</span></span> | <span data-ttu-id="69638-122">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69638-122">Description</span></span> |
|:--|:--|
| <span data-ttu-id="69638-123">Porta</span><span class="sxs-lookup"><span data-stu-id="69638-123">Port</span></span> | <span data-ttu-id="69638-124">Rappresenta la porta corrente su cui è in ascolto l'istanza di MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-124">Represents the current port the MySQL instance is listening on.</span></span> <span data-ttu-id="69638-125">La porta 0 indica che per l'istanza predefinita vengono usate le proprietà seguenti.</span><span class="sxs-lookup"><span data-stu-id="69638-125">Port 0 specifies that the properties following are used for default instance.</span></span> |
| <span data-ttu-id="69638-126">Bind-address</span><span class="sxs-lookup"><span data-stu-id="69638-126">Bind-Address</span></span>| <span data-ttu-id="69638-127">Valore bind-address corrente di MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-127">Current MySQL bind-address.</span></span> |
| <span data-ttu-id="69638-128">username</span><span class="sxs-lookup"><span data-stu-id="69638-128">username</span></span>| <span data-ttu-id="69638-129">Utente di MySQL usato per monitorare l'istanza del server MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-129">MySQL user used to use to monitor the MySQL server instance.</span></span> |
| <span data-ttu-id="69638-130">Password con codifica Base64</span><span class="sxs-lookup"><span data-stu-id="69638-130">Base64 encoded Password</span></span>| <span data-ttu-id="69638-131">Password dell'utente di monitoraggio di MySQL con codifica Base64.</span><span class="sxs-lookup"><span data-stu-id="69638-131">Password of the MySQL monitoring user encoded in Base64.</span></span> |
| <span data-ttu-id="69638-132">AutoUpdate</span><span class="sxs-lookup"><span data-stu-id="69638-132">AutoUpdate</span></span>| <span data-ttu-id="69638-133">Specifica se ripetere la ricerca di modifiche nel file my.cnf e se sovrascrivere il file di autenticazione di OMI MySQL quando viene aggiornato il provider OMI MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-133">Specifies whether to rescan for changes in the my.cnf file and overwrite the MySQL OMI Authentication file when the MySQL OMI Provider is upgraded.</span></span> |

### <a name="default-instance"></a><span data-ttu-id="69638-134">Istanza predefinita</span><span class="sxs-lookup"><span data-stu-id="69638-134">Default instance</span></span>
<span data-ttu-id="69638-135">Il file di autenticazione di OMI MySQL può definire un numero di porta e un'istanza predefinita per semplificare la gestione di più istanze di MySQL in un unico host Linux.</span><span class="sxs-lookup"><span data-stu-id="69638-135">The MySQL OMI authentication file can define a default instance and port number to make managing multiple MySQL instances on one Linux host easier.</span></span>  <span data-ttu-id="69638-136">L'istanza predefinita è costituita dall'istanza con la porta 0.</span><span class="sxs-lookup"><span data-stu-id="69638-136">The default instance is denoted by an instance with port 0.</span></span> <span data-ttu-id="69638-137">Tutte le istanze aggiuntive ereditano le proprietà impostate dall'istanza predefinita, a meno che non vengano specificati valori diversi.</span><span class="sxs-lookup"><span data-stu-id="69638-137">All additional instances will inherit properties set from the default instance unless they specify different values.</span></span> <span data-ttu-id="69638-138">Se, ad esempio, viene aggiunta l'istanza di MySQL in ascolto sulla porta "3308", il valore bind-address, il nome utente e la password con codifica Base64 dell'istanza predefinita verranno usati per provare a monitorare l'istanza in ascolto sulla porta 3308.</span><span class="sxs-lookup"><span data-stu-id="69638-138">For example, if MySQL instance listening on port ‘3308’ is added, the default instance’s bind-address, username, and Base64 encoded password will be used to try and monitor the instance listening on 3308.</span></span> <span data-ttu-id="69638-139">Se l'istanza sulla porta 3308 è associata a un altro indirizzo e usa la stessa coppia nome utente e password di MySQL, sarà necessario specificare solo il valore bind-address e le altre proprietà verranno ereditate.</span><span class="sxs-lookup"><span data-stu-id="69638-139">If the instance on 3308 is bound to another address and uses the same MySQL username and password pair only the bind-address is needed, and the other properties will be inherited.</span></span>

<span data-ttu-id="69638-140">Nella tabella seguente sono riportate impostazioni di un'istanza di esempio</span><span class="sxs-lookup"><span data-stu-id="69638-140">The following table has example instance settings</span></span> 

| <span data-ttu-id="69638-141">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69638-141">Description</span></span> | <span data-ttu-id="69638-142">File</span><span class="sxs-lookup"><span data-stu-id="69638-142">File</span></span> |
|:--|:--|
| <span data-ttu-id="69638-143">Istanza predefinita e istanza con porta 3308.</span><span class="sxs-lookup"><span data-stu-id="69638-143">Default instance and instance with port 3308.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=, ,`<br>`AutoUpdate=true` |
| <span data-ttu-id="69638-144">Istanza predefinita e istanza con porta 3308 e nome e password diversi.</span><span class="sxs-lookup"><span data-stu-id="69638-144">Default instance and instance with port 3308 and different user name and password.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=127.0.1.1, myuser2,cGluaGVhZA==`<br>`AutoUpdate=true` |


### <a name="mysql-omi-authentication-file-program"></a><span data-ttu-id="69638-145">Programma del file di autenticazione OMI MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-145">MySQL OMI Authentication File Program</span></span>
<span data-ttu-id="69638-146">Con l'installazione del provider OMI MySQL viene fornito un programma per il file di autenticazione di OMI MySQL che consente di modificare il file di autenticazione di OMI MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-146">Included with the installation of the MySQL OMI provider is a MySQL OMI authentication file program which can be used to edit the MySQL OMI Authentication file.</span></span> <span data-ttu-id="69638-147">Il programma del file di autenticazione si trova nel percorso seguente.</span><span class="sxs-lookup"><span data-stu-id="69638-147">The authentication file program can be found at the following location.</span></span>

    /opt/microsoft/mysql-cimprov/bin/mycimprovauth

> [!NOTE]
> <span data-ttu-id="69638-148">Il file delle credenziali deve essere leggibile dall'account omsagent.</span><span class="sxs-lookup"><span data-stu-id="69638-148">The credentials file must be readable by the omsagent account.</span></span> <span data-ttu-id="69638-149">È consigliabile eseguire il comando mycimprovauth come omsgent.</span><span class="sxs-lookup"><span data-stu-id="69638-149">Running the mycimprovauth command as omsgent is recommended.</span></span>

<span data-ttu-id="69638-150">La tabella seguente fornisce informazioni dettagliate sulla sintassi per l'utilizzo di mycimprovauth.</span><span class="sxs-lookup"><span data-stu-id="69638-150">The following table provides details on the syntax for using mycimprovauth.</span></span>

| <span data-ttu-id="69638-151">Operazione</span><span class="sxs-lookup"><span data-stu-id="69638-151">Operation</span></span> | <span data-ttu-id="69638-152">Esempio</span><span class="sxs-lookup"><span data-stu-id="69638-152">Example</span></span> | <span data-ttu-id="69638-153">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69638-153">Description</span></span>
|:--|:--|:--|
| <span data-ttu-id="69638-154">autoupdate *false\\</span><span class="sxs-lookup"><span data-stu-id="69638-154">autoupdate *false\\</span></span>|<span data-ttu-id="69638-155">true*</span><span class="sxs-lookup"><span data-stu-id="69638-155">true*</span></span> | <span data-ttu-id="69638-156">mycimprovauth autoupdate false</span><span class="sxs-lookup"><span data-stu-id="69638-156">mycimprovauth autoupdate false</span></span> | <span data-ttu-id="69638-157">Specifica se il file di autenticazione verrà aggiornato automaticamente in caso di riavvio o aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="69638-157">Sets whether or not the authentication file will be automatically updated on restart or update.</span></span> |
| <span data-ttu-id="69638-158">default *bind-address nome utente password*</span><span class="sxs-lookup"><span data-stu-id="69638-158">default *bind-address username password*</span></span> | <span data-ttu-id="69638-159">mycimprovauth default 127.0.0.1 root pwd</span><span class="sxs-lookup"><span data-stu-id="69638-159">mycimprovauth default 127.0.0.1 root pwd</span></span> | <span data-ttu-id="69638-160">Imposta l'istanza predefinita nel file di autenticazione di OMI MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-160">Sets the default instance in the MySQL OMI authentication file.</span></span><br><span data-ttu-id="69638-161">Nel campo della password deve essere immesso un valore in testo normale: la password nel file di autenticazione di OMI MySQL verrà codificata in Base 64.</span><span class="sxs-lookup"><span data-stu-id="69638-161">The password field should be entered in plain text - the password in the MySQL OMI authentication file will be Base 64 encoded.</span></span> |
| <span data-ttu-id="69638-162">delete *predefinita\\</span><span class="sxs-lookup"><span data-stu-id="69638-162">delete *default\\</span></span>|<span data-ttu-id="69638-163">num_port*</span><span class="sxs-lookup"><span data-stu-id="69638-163">port_num*</span></span> | <span data-ttu-id="69638-164">mycimprovauth 3308</span><span class="sxs-lookup"><span data-stu-id="69638-164">mycimprovauth 3308</span></span> | <span data-ttu-id="69638-165">Elimina l'istanza specificata per impostazione predefinita o in base al numero di porta.</span><span class="sxs-lookup"><span data-stu-id="69638-165">Deletes the specified instance by either default or by port number.</span></span> |
| <span data-ttu-id="69638-166">help</span><span class="sxs-lookup"><span data-stu-id="69638-166">help</span></span> | <span data-ttu-id="69638-167">mycimprov help</span><span class="sxs-lookup"><span data-stu-id="69638-167">mycimprov help</span></span> | <span data-ttu-id="69638-168">Stampa un elenco di comandi da usare.</span><span class="sxs-lookup"><span data-stu-id="69638-168">Prints out a list of commands to use.</span></span> |
| <span data-ttu-id="69638-169">print</span><span class="sxs-lookup"><span data-stu-id="69638-169">print</span></span> | <span data-ttu-id="69638-170">mycimprov print</span><span class="sxs-lookup"><span data-stu-id="69638-170">mycimprov print</span></span> | <span data-ttu-id="69638-171">Stampa un file di autenticazione di OMI MySQL di facile lettura.</span><span class="sxs-lookup"><span data-stu-id="69638-171">Prints out an easy to read MySQL OMI authentication file.</span></span> |
| <span data-ttu-id="69638-172">update port_num *bind-address nome utente password*</span><span class="sxs-lookup"><span data-stu-id="69638-172">update port_num *bind-address username password*</span></span> | <span data-ttu-id="69638-173">mycimprov update 3307 127.0.0.1 root pwd</span><span class="sxs-lookup"><span data-stu-id="69638-173">mycimprov update 3307 127.0.0.1 root pwd</span></span> | <span data-ttu-id="69638-174">Aggiorna l'istanza specificata o aggiunge l'istanza, se non esiste.</span><span class="sxs-lookup"><span data-stu-id="69638-174">Updates the specified instance or adds the instance if it does not exist.</span></span> |

<span data-ttu-id="69638-175">I comandi di esempio seguenti definiscono un account utente predefinito per il server MySQL su localhost.</span><span class="sxs-lookup"><span data-stu-id="69638-175">The following example commands define a default user account for the MySQL server on localhost.</span></span>  <span data-ttu-id="69638-176">Nel campo della password deve essere immesso un valore in testo normale: la password nel file di autenticazione OMI MySQL verrà codificata in Base 64.</span><span class="sxs-lookup"><span data-stu-id="69638-176">The password field should be entered in plain text - the password in the MySQL OMI authentication file will be Base 64 encoded</span></span>

    sudo su omsagent -c '/opt/microsoft/mysql-cimprov/bin/mycimprovauth default 127.0.0.1 <username> <password>'
    sudo /opt/omi/bin/service_control restart

### <a name="database-permissions-required-for-mysql-performance-counters"></a><span data-ttu-id="69638-177">Autorizzazioni del database necessarie per i contatori delle prestazioni di MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-177">Database Permissions Required for MySQL Performance Counters</span></span>
<span data-ttu-id="69638-178">L'utente di MySQL deve poter accedere alle query seguenti per raccogliere dati sulle prestazioni del server MySQL.</span><span class="sxs-lookup"><span data-stu-id="69638-178">The MySQL User requires access to the following queries to collect MySQL Server performance data.</span></span> 

    SHOW GLOBAL STATUS;
    SHOW GLOBAL VARIABLES:


<span data-ttu-id="69638-179">L'utente di MySQL deve anche avere l'accesso di tipo SELECT alle tabelle predefinite seguenti.</span><span class="sxs-lookup"><span data-stu-id="69638-179">The MySQL user also requires SELECT access to the following default tables.</span></span>

- <span data-ttu-id="69638-180">information_schema</span><span class="sxs-lookup"><span data-stu-id="69638-180">information_schema</span></span>
- <span data-ttu-id="69638-181">mysql.</span><span class="sxs-lookup"><span data-stu-id="69638-181">mysql.</span></span> 

<span data-ttu-id="69638-182">Questi privilegi possono essere concessi mediante l'esecuzione dei comandi grant seguenti.</span><span class="sxs-lookup"><span data-stu-id="69638-182">These privileges can be granted by running the following grant commands.</span></span>

    GRANT SELECT ON information_schema.* TO ‘monuser’@’localhost’;
    GRANT SELECT ON mysql.* TO ‘monuser’@’localhost’;


> [!NOTE]
> <span data-ttu-id="69638-183">Per concedere autorizzazioni a un utente di monitoraggio di MySQL, l'utente che le concede deve avere il privilegio 'GRANT option', oltre al privilegio da concedere.</span><span class="sxs-lookup"><span data-stu-id="69638-183">To grant permissions to a MySQL monitoring user the granting user must have the ‘GRANT option’ privilege as well as the privilege being granted.</span></span>

### <a name="define-performance-counters"></a><span data-ttu-id="69638-184">Definire i contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="69638-184">Define performance counters</span></span>

<span data-ttu-id="69638-185">Dopo aver configurato l'agente OMS per Linux per inviare dati a Log Analytics, è necessario configurare i contatori delle prestazioni da raccogliere.</span><span class="sxs-lookup"><span data-stu-id="69638-185">Once you configure the OMS Agent for Linux to send data to Log Analytics, you must configure the performance counters to collect.</span></span>  <span data-ttu-id="69638-186">Usare la procedura descritta in [Origini dati per le prestazioni di Windows e Linux in Log Analytics](log-analytics-data-sources-windows-events.md) con i contatori presenti nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="69638-186">Use the procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with the counters in the following table.</span></span>

| <span data-ttu-id="69638-187">Nome oggetto</span><span class="sxs-lookup"><span data-stu-id="69638-187">Object Name</span></span> | <span data-ttu-id="69638-188">Nome contatore</span><span class="sxs-lookup"><span data-stu-id="69638-188">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="69638-189">MySQL Database</span><span class="sxs-lookup"><span data-stu-id="69638-189">MySQL Database</span></span> | <span data-ttu-id="69638-190">Disk Space in Bytes</span><span class="sxs-lookup"><span data-stu-id="69638-190">Disk Space in Bytes</span></span> |
| <span data-ttu-id="69638-191">MySQL Database</span><span class="sxs-lookup"><span data-stu-id="69638-191">MySQL Database</span></span> | <span data-ttu-id="69638-192">Tabelle</span><span class="sxs-lookup"><span data-stu-id="69638-192">Tables</span></span> |
| <span data-ttu-id="69638-193">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-193">MySQL Server</span></span> | <span data-ttu-id="69638-194">Aborted Connection Pct</span><span class="sxs-lookup"><span data-stu-id="69638-194">Aborted Connection Pct</span></span> |
| <span data-ttu-id="69638-195">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-195">MySQL Server</span></span> | <span data-ttu-id="69638-196">Connection Use Pct</span><span class="sxs-lookup"><span data-stu-id="69638-196">Connection Use Pct</span></span> |
| <span data-ttu-id="69638-197">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-197">MySQL Server</span></span> | <span data-ttu-id="69638-198">Disk Space Use in Bytes</span><span class="sxs-lookup"><span data-stu-id="69638-198">Disk Space Use in Bytes</span></span> |
| <span data-ttu-id="69638-199">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-199">MySQL Server</span></span> | <span data-ttu-id="69638-200">Full Table Scan Pct</span><span class="sxs-lookup"><span data-stu-id="69638-200">Full Table Scan Pct</span></span> |
| <span data-ttu-id="69638-201">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-201">MySQL Server</span></span> | <span data-ttu-id="69638-202">InnoDB Buffer Pool Hit Pct</span><span class="sxs-lookup"><span data-stu-id="69638-202">InnoDB Buffer Pool Hit Pct</span></span> |
| <span data-ttu-id="69638-203">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-203">MySQL Server</span></span> | <span data-ttu-id="69638-204">InnoDB Buffer Pool Use Pct</span><span class="sxs-lookup"><span data-stu-id="69638-204">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="69638-205">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-205">MySQL Server</span></span> | <span data-ttu-id="69638-206">InnoDB Buffer Pool Use Pct</span><span class="sxs-lookup"><span data-stu-id="69638-206">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="69638-207">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-207">MySQL Server</span></span> | <span data-ttu-id="69638-208">Key Cache Hit Pct</span><span class="sxs-lookup"><span data-stu-id="69638-208">Key Cache Hit Pct</span></span> |
| <span data-ttu-id="69638-209">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-209">MySQL Server</span></span> | <span data-ttu-id="69638-210">Key Cache Use Pct</span><span class="sxs-lookup"><span data-stu-id="69638-210">Key Cache Use Pct</span></span> |
| <span data-ttu-id="69638-211">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-211">MySQL Server</span></span> | <span data-ttu-id="69638-212">Key Cache Write Pct</span><span class="sxs-lookup"><span data-stu-id="69638-212">Key Cache Write Pct</span></span> |
| <span data-ttu-id="69638-213">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-213">MySQL Server</span></span> | <span data-ttu-id="69638-214">Query Cache Hit Pct</span><span class="sxs-lookup"><span data-stu-id="69638-214">Query Cache Hit Pct</span></span> |
| <span data-ttu-id="69638-215">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-215">MySQL Server</span></span> | <span data-ttu-id="69638-216">Query Cache Prunes Pct</span><span class="sxs-lookup"><span data-stu-id="69638-216">Query Cache Prunes Pct</span></span> |
| <span data-ttu-id="69638-217">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-217">MySQL Server</span></span> | <span data-ttu-id="69638-218">Query Cache Use Pct</span><span class="sxs-lookup"><span data-stu-id="69638-218">Query Cache Use Pct</span></span> |
| <span data-ttu-id="69638-219">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-219">MySQL Server</span></span> | <span data-ttu-id="69638-220">Table Cache Hit Pct</span><span class="sxs-lookup"><span data-stu-id="69638-220">Table Cache Hit Pct</span></span> |
| <span data-ttu-id="69638-221">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-221">MySQL Server</span></span> | <span data-ttu-id="69638-222">Table Cache Use Pct</span><span class="sxs-lookup"><span data-stu-id="69638-222">Table Cache Use Pct</span></span> |
| <span data-ttu-id="69638-223">Server MySQL</span><span class="sxs-lookup"><span data-stu-id="69638-223">MySQL Server</span></span> | <span data-ttu-id="69638-224">Table Lock Contention Pct</span><span class="sxs-lookup"><span data-stu-id="69638-224">Table Lock Contention Pct</span></span> |

## <a name="apache-http-server"></a><span data-ttu-id="69638-225">Server HTTP Apache</span><span class="sxs-lookup"><span data-stu-id="69638-225">Apache HTTP Server</span></span> 
<span data-ttu-id="69638-226">Se viene rilevato un server HTTP Apache nel computer in cui è installata l'aggregazione omsagent, viene automaticamente installato un provider di monitoraggio delle prestazioni per il server HTTP Apache.</span><span class="sxs-lookup"><span data-stu-id="69638-226">If Apache HTTP Server is detected on the computer when the omsagent bundle is installed, a performance monitoring provider for Apache HTTP Server will be automatically installed.</span></span> <span data-ttu-id="69638-227">Questo provider si basa su un modulo Apache che deve essere caricato nel server HTTP Apache per poter accedere ai dati sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="69638-227">This provider relies on an Apache module that must be loaded into the Apache HTTP Server in order to access performance data.</span></span> <span data-ttu-id="69638-228">È possibile caricare il modulo con il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="69638-228">The module can be loaded with the following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -c
```

<span data-ttu-id="69638-229">Per scaricare il modulo di monitoraggio Apache, eseguire il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="69638-229">To unload the Apache monitoring module, run the following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -u
```

### <a name="define-performance-counters"></a><span data-ttu-id="69638-230">Definire i contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="69638-230">Define performance counters</span></span>

<span data-ttu-id="69638-231">Dopo aver configurato l'agente OMS per Linux per inviare dati a Log Analytics, è necessario configurare i contatori delle prestazioni da raccogliere.</span><span class="sxs-lookup"><span data-stu-id="69638-231">Once you configure the OMS Agent for Linux to send data to Log Analytics, you must configure the performance counters to collect.</span></span>  <span data-ttu-id="69638-232">Usare la procedura descritta in [Origini dati per le prestazioni di Windows e Linux in Log Analytics](log-analytics-data-sources-windows-events.md) con i contatori presenti nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="69638-232">Use the procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with the counters in the following table.</span></span>

| <span data-ttu-id="69638-233">Nome oggetto</span><span class="sxs-lookup"><span data-stu-id="69638-233">Object Name</span></span> | <span data-ttu-id="69638-234">Nome contatore</span><span class="sxs-lookup"><span data-stu-id="69638-234">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="69638-235">Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="69638-235">Apache HTTP Server</span></span> | <span data-ttu-id="69638-236">Busy Workers</span><span class="sxs-lookup"><span data-stu-id="69638-236">Busy Workers</span></span> |
| <span data-ttu-id="69638-237">Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="69638-237">Apache HTTP Server</span></span> | <span data-ttu-id="69638-238">Idle Workers</span><span class="sxs-lookup"><span data-stu-id="69638-238">Idle Workers</span></span> |
| <span data-ttu-id="69638-239">Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="69638-239">Apache HTTP Server</span></span> | <span data-ttu-id="69638-240">Pct Busy Workers</span><span class="sxs-lookup"><span data-stu-id="69638-240">Pct Busy Workers</span></span> |
| <span data-ttu-id="69638-241">Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="69638-241">Apache HTTP Server</span></span> | <span data-ttu-id="69638-242">Total Pct CPU</span><span class="sxs-lookup"><span data-stu-id="69638-242">Total Pct CPU</span></span> |
| <span data-ttu-id="69638-243">Apache Virtual Host</span><span class="sxs-lookup"><span data-stu-id="69638-243">Apache Virtual Host</span></span> | <span data-ttu-id="69638-244">Errors per Minute - Client</span><span class="sxs-lookup"><span data-stu-id="69638-244">Errors per Minute - Client</span></span> |
| <span data-ttu-id="69638-245">Apache Virtual Host</span><span class="sxs-lookup"><span data-stu-id="69638-245">Apache Virtual Host</span></span> | <span data-ttu-id="69638-246">Errors per Minute - Server</span><span class="sxs-lookup"><span data-stu-id="69638-246">Errors per Minute - Server</span></span> |
| <span data-ttu-id="69638-247">Apache Virtual Host</span><span class="sxs-lookup"><span data-stu-id="69638-247">Apache Virtual Host</span></span> | <span data-ttu-id="69638-248">KB per Request</span><span class="sxs-lookup"><span data-stu-id="69638-248">KB per Request</span></span> |
| <span data-ttu-id="69638-249">Apache Virtual Host</span><span class="sxs-lookup"><span data-stu-id="69638-249">Apache Virtual Host</span></span> | <span data-ttu-id="69638-250">Requests KB per Second</span><span class="sxs-lookup"><span data-stu-id="69638-250">Requests KB per Second</span></span> |
| <span data-ttu-id="69638-251">Apache Virtual Host</span><span class="sxs-lookup"><span data-stu-id="69638-251">Apache Virtual Host</span></span> | <span data-ttu-id="69638-252">Requests per Second</span><span class="sxs-lookup"><span data-stu-id="69638-252">Requests per Second</span></span> |



## <a name="next-steps"></a><span data-ttu-id="69638-253">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="69638-253">Next steps</span></span>
* <span data-ttu-id="69638-254">[Raccogliere i contatori delle prestazioni](log-analytics-data-sources-performance-counters.md) da agenti Linux.</span><span class="sxs-lookup"><span data-stu-id="69638-254">[Collect performance counters](log-analytics-data-sources-performance-counters.md) from Linux agents.</span></span>
* <span data-ttu-id="69638-255">Informazioni sulle [ricerche nei log](log-analytics-log-searches.md) per analizzare i dati raccolti dalle origini dati e dalle soluzioni.</span><span class="sxs-lookup"><span data-stu-id="69638-255">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span> 