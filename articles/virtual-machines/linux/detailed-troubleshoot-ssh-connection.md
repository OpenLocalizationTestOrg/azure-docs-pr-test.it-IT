---
title: risoluzione dei problemi SSH aaaDetailed per una macchina virtuale di Azure | Documenti Microsoft
description: Ulteriori SSH risoluzione di problemi di connessione tooan macchina virtuale di Azure
keywords: connessione SSH rifiutata,errore SSH,SSH Azure,connessione SSH non riuscita
services: virtual-machines-linux
documentationcenter: 
author: iainfoulds
manager: timlt
editor: 
tags: top-support-issue,azure-service-management,azure-resource-manager
ms.assetid: b8e8be5f-e8a6-489d-9922-9df8de32e839
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: support-article
ms.date: 07/06/2017
ms.author: iainfou
ms.openlocfilehash: 3f711e53a8251f8c06dbb589a258222566a4ae1e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="detailed-ssh-troubleshooting-steps-for-issues-connecting-tooa-linux-vm-in-azure"></a><span data-ttu-id="8781f-104">SSH dettagliate risoluzione di problemi di connessione tooa VM Linux di Azure</span><span class="sxs-lookup"><span data-stu-id="8781f-104">Detailed SSH troubleshooting steps for issues connecting tooa Linux VM in Azure</span></span>
<span data-ttu-id="8781f-105">Vi sono molti i motivi possibili che client SSH hello potrebbe non essere tooreach in grado di servizio SSH hello in hello VM.</span><span class="sxs-lookup"><span data-stu-id="8781f-105">There are many possible reasons that hello SSH client might not be able tooreach hello SSH service on hello VM.</span></span> <span data-ttu-id="8781f-106">Se sono state eseguite tramite hello più [generale SSH risoluzione](troubleshoot-ssh-connection.md), è necessario toofurther risolvere il problema di connessione hello.</span><span class="sxs-lookup"><span data-stu-id="8781f-106">If you have followed through hello more [general SSH troubleshooting steps](troubleshoot-ssh-connection.md), you need toofurther troubleshoot hello connection issue.</span></span> <span data-ttu-id="8781f-107">In questo articolo in modo semplificato dettagliate sulla risoluzione dei problemi toodetermine di passaggi in cui non è possibile eseguire la connessione SSH hello e come tooresolve è.</span><span class="sxs-lookup"><span data-stu-id="8781f-107">This article guides you through detailed troubleshooting steps toodetermine where hello SSH connection is failing and how tooresolve it.</span></span>

## <a name="take-preliminary-steps"></a><span data-ttu-id="8781f-108">Operazioni preliminari</span><span class="sxs-lookup"><span data-stu-id="8781f-108">Take preliminary steps</span></span>
<span data-ttu-id="8781f-109">Hello diagramma seguente mostra i componenti di hello coinvolti.</span><span class="sxs-lookup"><span data-stu-id="8781f-109">hello following diagram shows hello components that are involved.</span></span>

![Diagramma che mostra i componenti del servizio SSH](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot1.png)

<span data-ttu-id="8781f-111">Hello passaggi seguenti consentono di isolare origine hello dell'errore hello e scoprire le soluzioni.</span><span class="sxs-lookup"><span data-stu-id="8781f-111">hello following steps help you isolate hello source of hello failure and figure out solutions or workarounds.</span></span>

1. <span data-ttu-id="8781f-112">Controllare lo stato di hello di hello VM nel portale di hello.</span><span class="sxs-lookup"><span data-stu-id="8781f-112">Check hello status of hello VM in hello portal.</span></span>
   <span data-ttu-id="8781f-113">In hello [portale di Azure](https://portal.azure.com)selezionare **macchine virtuali** > *nome della macchina virtuale*.</span><span class="sxs-lookup"><span data-stu-id="8781f-113">In hello [Azure portal](https://portal.azure.com), select **Virtual machines** > *VM name*.</span></span>

   <span data-ttu-id="8781f-114">Hello riquadro di stato per hello VM mostreranno **esecuzione**.</span><span class="sxs-lookup"><span data-stu-id="8781f-114">hello status pane for hello VM should show **Running**.</span></span> <span data-ttu-id="8781f-115">Scorrere verso il basso tooshow attività recente calcolo, archiviazione e risorse di rete.</span><span class="sxs-lookup"><span data-stu-id="8781f-115">Scroll down tooshow recent activity for compute, storage, and network resources.</span></span>

2. <span data-ttu-id="8781f-116">Selezionare **impostazioni** tooexamine endpoint, gli indirizzi IP, gruppi di sicurezza di rete e altre impostazioni.</span><span class="sxs-lookup"><span data-stu-id="8781f-116">Select **Settings** tooexamine endpoints, IP addresses, network security groups, and other settings.</span></span>

   <span data-ttu-id="8781f-117">Hello macchina virtuale deve disporre di un endpoint definito per il traffico SSH che è possibile visualizzare in **endpoint** o  **[il gruppo di sicurezza di rete](../../virtual-network/virtual-networks-nsg.md)**.</span><span class="sxs-lookup"><span data-stu-id="8781f-117">hello VM should have an endpoint defined for SSH traffic that you can view in **Endpoints** or **[Network security group](../../virtual-network/virtual-networks-nsg.md)**.</span></span> <span data-ttu-id="8781f-118">Gli endpoint nelle VM create tramite Resource Manager vengono archiviati in un gruppo di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="8781f-118">Endpoints in VMs that were created by using Resource Manager are stored in a network security group.</span></span> <span data-ttu-id="8781f-119">Inoltre, verificare che le regole di hello siano stati applicati toohello gruppo di sicurezza di rete e che sta viene fatto riferimento nella subnet hello.</span><span class="sxs-lookup"><span data-stu-id="8781f-119">Also, verify that hello rules have been applied toohello network security group and that they're referenced in hello subnet.</span></span>

<span data-ttu-id="8781f-120">connettività di rete tooverify endpoint hello configurato e controllare se è possibile raggiungere hello VM tramite un altro protocollo, ad esempio HTTP o un altro servizio.</span><span class="sxs-lookup"><span data-stu-id="8781f-120">tooverify network connectivity, check hello configured endpoints and see if you can reach hello VM through another protocol, such as HTTP or another service.</span></span>

<span data-ttu-id="8781f-121">Dopo questi passaggi, riprovare hello connessione SSH.</span><span class="sxs-lookup"><span data-stu-id="8781f-121">After these steps, try hello SSH connection again.</span></span>

## <a name="find-hello-source-of-hello-issue"></a><span data-ttu-id="8781f-122">Trovare hello origine del problema hello</span><span class="sxs-lookup"><span data-stu-id="8781f-122">Find hello source of hello issue</span></span>
<span data-ttu-id="8781f-123">client di Hello SSH nel computer in uso potrebbe non riuscire il servizio SSH hello tooreach su hello Azure VM scadenza tooissues o errori di configurazione in hello seguenti aree:</span><span class="sxs-lookup"><span data-stu-id="8781f-123">hello SSH client on your computer might fail tooreach hello SSH service on hello Azure VM due tooissues or misconfigurations in hello following areas:</span></span>

* [<span data-ttu-id="8781f-124">Computer client SSH</span><span class="sxs-lookup"><span data-stu-id="8781f-124">SSH client computer</span></span>](#source-1-ssh-client-computer)
* [<span data-ttu-id="8781f-125">Dispositivo periferico dell'organizzazione</span><span class="sxs-lookup"><span data-stu-id="8781f-125">Organization edge device</span></span>](#source-2-organization-edge-device)
* [<span data-ttu-id="8781f-126">Endpoint del servizio cloud ed elenco di controllo di accesso (ACL)</span><span class="sxs-lookup"><span data-stu-id="8781f-126">Cloud service endpoint and access control list (ACL)</span></span>](#source-3-cloud-service-endpoint-and-acl)
* [<span data-ttu-id="8781f-127">Gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="8781f-127">Network security groups</span></span>](#source-4-network-security-groups)
* [<span data-ttu-id="8781f-128">VM di Azure basata su Linux</span><span class="sxs-lookup"><span data-stu-id="8781f-128">Linux-based Azure VM</span></span>](#source-5-linux-based-azure-virtual-machine)

## <a name="source-1-ssh-client-computer"></a><span data-ttu-id="8781f-129">Origine 1: computer client SSH</span><span class="sxs-lookup"><span data-stu-id="8781f-129">Source 1: SSH client computer</span></span>
<span data-ttu-id="8781f-130">tooeliminate computer come origine di hello di errore hello, verificare che è possibile rendere SSH connessioni tooanother locale, i computer basati su Linux.</span><span class="sxs-lookup"><span data-stu-id="8781f-130">tooeliminate your computer as hello source of hello failure, verify that it can make SSH connections tooanother on-premises, Linux-based computer.</span></span>

![Diagramma che evidenzia i componenti del computer client SSH](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot2.png)

<span data-ttu-id="8781f-132">Se la connessione hello non riesce, verificare la presenza hello seguenti problemi nel computer in uso:</span><span class="sxs-lookup"><span data-stu-id="8781f-132">If hello connection fails, check for hello following issues on your computer:</span></span>

* <span data-ttu-id="8781f-133">Un'impostazione locale del firewall che blocca il traffico SSH in ingresso o in uscita (TCP 22)</span><span class="sxs-lookup"><span data-stu-id="8781f-133">A local firewall setting that is blocking inbound or outbound SSH traffic (TCP 22)</span></span>
* <span data-ttu-id="8781f-134">Software proxy client installato localmente che impedisce le connessioni SSH</span><span class="sxs-lookup"><span data-stu-id="8781f-134">Locally installed client proxy software that is preventing SSH connections</span></span>
* <span data-ttu-id="8781f-135">Software di monitoraggio della rete installato localmente che impedisce le connessioni SSH</span><span class="sxs-lookup"><span data-stu-id="8781f-135">Locally installed network monitoring software that is preventing SSH connections</span></span>
* <span data-ttu-id="8781f-136">Altri tipi di software di sicurezza che eseguono il monitoraggio del traffico o consentono/non consentono tipi di traffico specifici</span><span class="sxs-lookup"><span data-stu-id="8781f-136">Other types of security software that either monitor traffic or allow/disallow specific types of traffic</span></span>

<span data-ttu-id="8781f-137">Se una di queste condizioni si applica, temporaneamente disattivare software hello e provare un toofind SSH connessione tooan locale computer out motivo hello connessione hello è stato bloccato nel computer in uso.</span><span class="sxs-lookup"><span data-stu-id="8781f-137">If one of these conditions apply, temporarily disable hello software and try an SSH connection tooan on-premises computer toofind out hello reason hello connection is being blocked on your computer.</span></span> <span data-ttu-id="8781f-138">Quindi utilizzare connessioni di rete amministratore toocorrect hello software impostazioni tooallow SSH.</span><span class="sxs-lookup"><span data-stu-id="8781f-138">Then work with your network administrator toocorrect hello software settings tooallow SSH connections.</span></span>

<span data-ttu-id="8781f-139">Se si utilizza l'autenticazione del certificato, verificare di disporre queste autorizzazioni toohello .ssh cartella nella home directory:</span><span class="sxs-lookup"><span data-stu-id="8781f-139">If you are using certificate authentication, verify that you have these permissions toohello .ssh folder in your home directory:</span></span>

* <span data-ttu-id="8781f-140">Chmod 700 ~/.ssh</span><span class="sxs-lookup"><span data-stu-id="8781f-140">Chmod 700 ~/.ssh</span></span>
* <span data-ttu-id="8781f-141">Chmod 644 ~/.ssh/\*.pub</span><span class="sxs-lookup"><span data-stu-id="8781f-141">Chmod 644 ~/.ssh/\*.pub</span></span>
* <span data-ttu-id="8781f-142">Chmod 600 ~/.ssh/id_rsa (o qualsiasi altro file in cui siano archiviate le chiavi private)</span><span class="sxs-lookup"><span data-stu-id="8781f-142">Chmod 600 ~/.ssh/id_rsa (or any other files that have your private keys stored in them)</span></span>
* <span data-ttu-id="8781f-143">Chmod 644 ~/.ssh/known_hosts (contiene host che si è connessi toovia SSH)</span><span class="sxs-lookup"><span data-stu-id="8781f-143">Chmod 644 ~/.ssh/known_hosts (contains hosts that you’ve connected toovia SSH)</span></span>

## <a name="source-2-organization-edge-device"></a><span data-ttu-id="8781f-144">Origine 2: dispositivo periferico dell'organizzazione</span><span class="sxs-lookup"><span data-stu-id="8781f-144">Source 2: Organization edge device</span></span>
<span data-ttu-id="8781f-145">tooeliminate il dispositivo perimetrale dell'organizzazione come origine di hello di errore hello, verificare che un computer che è direttamente connesso toohello Internet può rendere tooyour connessioni SSH macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="8781f-145">tooeliminate your organization edge device as hello source of hello failure, verify that a computer that's directly connected toohello Internet can make SSH connections tooyour Azure VM.</span></span> <span data-ttu-id="8781f-146">Se si accede tramite una VPN da sito a sito o una connessione Azure ExpressRoute hello macchina virtuale, andare troppo[origine 4: gruppi di sicurezza di rete](#nsg).</span><span class="sxs-lookup"><span data-stu-id="8781f-146">If you are accessing hello VM over a site-to-site VPN or an Azure ExpressRoute connection, skip too[Source 4: Network security groups](#nsg).</span></span>

![Diagramma che evidenzia il dispositivo periferico dell'organizzazione](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot3.png)

<span data-ttu-id="8781f-148">Se non si dispone di un computer che è direttamente connesso toohello Internet, creare una nuova macchina virtuale di Azure nel proprio risorse gruppo o un servizio cloud e utilizzarlo.</span><span class="sxs-lookup"><span data-stu-id="8781f-148">If you don't have a computer that is directly connected toohello Internet, create a new Azure VM in its own resource group or cloud service and use it.</span></span> <span data-ttu-id="8781f-149">Per altre informazioni, vedere [Creare una macchina virtuale che esegue Linux in Azure](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="8781f-149">For more information, see [Create a virtual machine running Linux in Azure](quick-create-cli.md).</span></span> <span data-ttu-id="8781f-150">Al termine con i test, eliminare hello risorse gruppo o macchina virtuale e il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="8781f-150">Delete hello resource group or VM and cloud service when you're done with your testing.</span></span>

<span data-ttu-id="8781f-151">Se è possibile creare una connessione SSH con un computer che è direttamente connesso toohello Internet, controllare il dispositivo perimetrale dell'organizzazione per:</span><span class="sxs-lookup"><span data-stu-id="8781f-151">If you can create an SSH connection with a computer that's directly connected toohello Internet, check your organization edge device for:</span></span>

* <span data-ttu-id="8781f-152">Un firewall interno che sta bloccando il traffico SSH con hello Internet</span><span class="sxs-lookup"><span data-stu-id="8781f-152">An internal firewall that's blocking SSH traffic with hello Internet</span></span>
* <span data-ttu-id="8781f-153">Un server proxy impedisce le connessioni SSH</span><span class="sxs-lookup"><span data-stu-id="8781f-153">A proxy server that's preventing SSH connections</span></span>
* <span data-ttu-id="8781f-154">Un software per il rilevamento di intrusioni o il monitoraggio della rete in esecuzione sui dispositivi presenti nella rete perimetrale impedisce le connessioni SSH</span><span class="sxs-lookup"><span data-stu-id="8781f-154">Intrusion detection or network monitoring software running on devices in your edge network that's preventing SSH connections</span></span>

<span data-ttu-id="8781f-155">Funziona con le impostazioni di rete amministratore toocorrect hello del traffico organizzazione edge dispositivi tooallow SSH con hello Internet.</span><span class="sxs-lookup"><span data-stu-id="8781f-155">Work with your network administrator toocorrect hello settings of your organization edge devices tooallow SSH traffic with hello Internet.</span></span>

## <a name="source-3-cloud-service-endpoint-and-acl"></a><span data-ttu-id="8781f-156">Origine 3: endpoint del servizio cloud e ACL</span><span class="sxs-lookup"><span data-stu-id="8781f-156">Source 3: Cloud service endpoint and ACL</span></span>
> [!NOTE]
> <span data-ttu-id="8781f-157">L'origine si applica solo tooVMs che sono state create tramite il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="8781f-157">This source applies only tooVMs that were created by using hello classic deployment model.</span></span> <span data-ttu-id="8781f-158">Per le macchine virtuali che sono state create usando Gestione risorse, ignorare troppo[origine 4: gruppi di sicurezza di rete](#nsg).</span><span class="sxs-lookup"><span data-stu-id="8781f-158">For VMs that were created by using Resource Manager, skip too[source 4: Network security groups](#nsg).</span></span>

<span data-ttu-id="8781f-159">endpoint del servizio cloud hello tooeliminate e ACL come origine di hello di errore hello, verificare che un'altra macchina virtuale di Azure in hello stessa rete virtuale è possibile apportare tooyour connessioni SSH macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="8781f-159">tooeliminate hello cloud service endpoint and ACL as hello source of hello failure, verify that another Azure VM in hello same virtual network can make SSH connections tooyour VM.</span></span>

![Diagramma che evidenzia l'endpoint del servizio cloud e l'elenco di controllo di accesso](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot4.png)

<span data-ttu-id="8781f-161">Se non si dispone di un'altra macchina virtuale in hello stessa rete virtuale, è possibile creare facilmente uno.</span><span class="sxs-lookup"><span data-stu-id="8781f-161">If you don't have another VM in hello same virtual network, you can easily create one.</span></span> <span data-ttu-id="8781f-162">Per ulteriori informazioni, vedere [creare una VM Linux in Azure utilizzando hello CLI](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="8781f-162">For more information, see [Create a Linux VM on Azure using hello CLI](quick-create-cli.md).</span></span> <span data-ttu-id="8781f-163">Eliminare hello VM aggiuntive al termine con i test.</span><span class="sxs-lookup"><span data-stu-id="8781f-163">Delete hello extra VM when you are done with your testing.</span></span>

<span data-ttu-id="8781f-164">Se è possibile creare una connessione SSH con una macchina virtuale in hello virtuale stessa rete, controllare hello seguenti aree:</span><span class="sxs-lookup"><span data-stu-id="8781f-164">If you can create an SSH connection with a VM in hello same virtual network, check hello following areas:</span></span>

* <span data-ttu-id="8781f-165">**configurazione dell'endpoint Hello del traffico SSH sulla destinazione hello macchina virtuale.**</span><span class="sxs-lookup"><span data-stu-id="8781f-165">**hello endpoint configuration for SSH traffic on hello target VM.**</span></span> <span data-ttu-id="8781f-166">porta TCP privata Hello dell'endpoint hello deve corrispondere la porta TCP hello su quale hello SSH servizio su hello macchina virtuale è in ascolto.</span><span class="sxs-lookup"><span data-stu-id="8781f-166">hello private TCP port of hello endpoint should match hello TCP port on which hello SSH service on hello VM is listening.</span></span> <span data-ttu-id="8781f-167">(porta predefinita hello è 22).</span><span class="sxs-lookup"><span data-stu-id="8781f-167">(hello default port is 22).</span></span> <span data-ttu-id="8781f-168">Verifica del numero di porta SSH TCP hello nel portale di Azure hello selezionando **macchine virtuali** > *nome della macchina virtuale* > **impostazioni**  >  **Endpoint**.</span><span class="sxs-lookup"><span data-stu-id="8781f-168">Verify hello SSH TCP port number in hello Azure portal by selecting **Virtual machines** > *VM name* > **Settings** > **Endpoints**.</span></span>
* <span data-ttu-id="8781f-169">**Hello ACL per l'endpoint di traffico hello SSH nella macchina virtuale di destinazione hello.**</span><span class="sxs-lookup"><span data-stu-id="8781f-169">**hello ACL for hello SSH traffic endpoint on hello target virtual machine.**</span></span> <span data-ttu-id="8781f-170">Un ACL consente toospecify consentito o negato il traffico in ingresso da hello Internet, in base al relativo indirizzo IP di origine.</span><span class="sxs-lookup"><span data-stu-id="8781f-170">An ACL enables you toospecify allowed or denied incoming traffic from hello Internet, based on its source IP address.</span></span> <span data-ttu-id="8781f-171">ACL configurato in modo errato può impedire l'endpoint di toohello traffico SSH in ingresso.</span><span class="sxs-lookup"><span data-stu-id="8781f-171">Misconfigured ACLs can prevent incoming SSH traffic toohello endpoint.</span></span> <span data-ttu-id="8781f-172">Controllare il tooensure ACL che è consentito il traffico in ingresso da indirizzi IP pubblici hello del proxy o un altro server edge.</span><span class="sxs-lookup"><span data-stu-id="8781f-172">Check your ACLs tooensure that incoming traffic from hello public IP addresses of your proxy or other edge server is allowed.</span></span> <span data-ttu-id="8781f-173">Per altre informazioni, vedere [Informazioni sugli elenchi di controllo di accesso (ACL) di rete](../../virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="8781f-173">For more information, see [About network access control lists (ACLs)](../../virtual-network/virtual-networks-acl.md).</span></span>

<span data-ttu-id="8781f-174">endpoint di hello tooeliminate come origine del problema hello, rimuovere l'endpoint corrente di hello, creare un altro endpoint e specificare il nome SSH hello (porta TCP 22 per il numero di porta pubblica e privata hello).</span><span class="sxs-lookup"><span data-stu-id="8781f-174">tooeliminate hello endpoint as a source of hello problem, remove hello current endpoint, create another endpoint, and specify hello SSH name (TCP port 22 for hello public and private port number).</span></span> <span data-ttu-id="8781f-175">Per altre informazioni, vedere [Configurare endpoint in una macchina virtuale in Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8781f-175">For more information, see [Set up endpoints on a virtual machine in Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

<a id="nsg"></a>

## <a name="source-4-network-security-groups"></a><span data-ttu-id="8781f-176">Origine 4: gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="8781f-176">Source 4: Network security groups</span></span>
<span data-ttu-id="8781f-177">Gruppi di sicurezza di rete consentono di toohave un controllo più granulare del traffico consentito in ingresso e in uscita.</span><span class="sxs-lookup"><span data-stu-id="8781f-177">Network security groups enable you toohave more granular control of allowed inbound and outbound traffic.</span></span> <span data-ttu-id="8781f-178">È possibile creare regole che si estendono alle subnet e ai servizi cloud in una rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="8781f-178">You can create rules that span subnets and cloud services in an Azure virtual network.</span></span> <span data-ttu-id="8781f-179">Controllare il tooensure di regole gruppo di sicurezza rete tale tooand traffico SSH da hello che Internet è consentita.</span><span class="sxs-lookup"><span data-stu-id="8781f-179">Check your network security group rules tooensure that SSH traffic tooand from hello Internet is allowed.</span></span>
<span data-ttu-id="8781f-180">Per altre informazioni, vedere [Informazioni sui gruppi di sicurezza di rete](../../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="8781f-180">For more information, see [About network security groups](../../virtual-network/virtual-networks-nsg.md).</span></span>

<span data-ttu-id="8781f-181">È inoltre possibile utilizzare IP verificare la configurazione di NSG hello toovalidate.</span><span class="sxs-lookup"><span data-stu-id="8781f-181">You can also use IP Verify toovalidate hello NSG configuration.</span></span> <span data-ttu-id="8781f-182">Per altre informazioni, vedere [Panoramica del monitoraggio della rete in Azure](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="8781f-182">For more information, see [Azure network monitoring overview](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span></span> 

## <a name="source-5-linux-based-azure-virtual-machine"></a><span data-ttu-id="8781f-183">Origine 5: macchina virtuale di Azure basata su Linux</span><span class="sxs-lookup"><span data-stu-id="8781f-183">Source 5: Linux-based Azure virtual machine</span></span>
<span data-ttu-id="8781f-184">origine di ultima Hello di possibili problemi è hello Azure macchina virtuale stessa.</span><span class="sxs-lookup"><span data-stu-id="8781f-184">hello last source of possible problems is hello Azure virtual machine itself.</span></span>

![Diagramma che evidenzia la macchina virtuale di Azure basata su Linux](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot5.png)

<span data-ttu-id="8781f-186">Se non è già fatto, seguire le istruzioni di hello [tooreset una password o SSH per le macchine virtuali basate su Linux](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8781f-186">If you haven't done so already, follow hello instructions [tooreset a password or SSH for Linux-based virtual machines](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>

<span data-ttu-id="8781f-187">Provare nuovamente la connessione dal computer.</span><span class="sxs-lookup"><span data-stu-id="8781f-187">Try connecting from your computer again.</span></span> <span data-ttu-id="8781f-188">Se il problema persiste, hello Ecco alcune delle possibili problemi di hello:</span><span class="sxs-lookup"><span data-stu-id="8781f-188">If it still fails, hello following are some of hello possible issues:</span></span>

* <span data-ttu-id="8781f-189">Hello servizio SSH non è in esecuzione nella macchina virtuale di destinazione hello.</span><span class="sxs-lookup"><span data-stu-id="8781f-189">hello SSH service is not running on hello target virtual machine.</span></span>
* <span data-ttu-id="8781f-190">Hello servizio SSH non è in ascolto sulla porta TCP 22.</span><span class="sxs-lookup"><span data-stu-id="8781f-190">hello SSH service is not listening on TCP port 22.</span></span> <span data-ttu-id="8781f-191">tootest, installare un client telnet nel computer locale ed eseguire "telnet *Nomeserviziocloud*. cloudapp.net 22".</span><span class="sxs-lookup"><span data-stu-id="8781f-191">tootest, install a telnet client on your local computer and run "telnet *cloudServiceName*.cloudapp.net 22".</span></span> <span data-ttu-id="8781f-192">Questo passaggio determina se macchina virtuale hello consente a endpoint di comunicazione in entrata e in uscita toohello SSH.</span><span class="sxs-lookup"><span data-stu-id="8781f-192">This step determines if hello virtual machine allows inbound and outbound communication toohello SSH endpoint.</span></span>
* <span data-ttu-id="8781f-193">firewall locale di Hello nella macchina virtuale di destinazione hello dispone di regole che impediscono il traffico in ingresso o in uscita SSH.</span><span class="sxs-lookup"><span data-stu-id="8781f-193">hello local firewall on hello target virtual machine has rules that are preventing inbound or outbound SSH traffic.</span></span>
* <span data-ttu-id="8781f-194">Rilevamento delle intrusioni o software che è in esecuzione nella macchina virtuale di Azure hello di monitoraggio della rete impedisce le connessioni SSH.</span><span class="sxs-lookup"><span data-stu-id="8781f-194">Intrusion detection or network monitoring software that's running on hello Azure virtual machine is preventing SSH connections.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="8781f-195">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="8781f-195">Additional resources</span></span>
<span data-ttu-id="8781f-196">Per ulteriori informazioni sulla risoluzione dei problemi di accesso all'applicazione, vedere [applicazione tooan accesso di risoluzione dei problemi in esecuzione in una macchina virtuale di Azure](troubleshoot-app-connection.md)</span><span class="sxs-lookup"><span data-stu-id="8781f-196">For more information about troubleshooting application access, see [Troubleshoot access tooan application running on an Azure virtual machine](troubleshoot-app-connection.md)</span></span>
