---
title: procedure consigliate aaaBest e Guida alla risoluzione dei problemi per le applicazioni di nodo per le app Web di Azure
description: Altre procedure consigliate hello e procedure di risoluzione dei problemi per le applicazioni di nodo per le app Web di Azure.
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: 975898142a224f14df1091a46d16e9074d9e2831
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="1c518-103">Procedure consigliate e guida alla risoluzione dei problemi per le applicazioni Node in App Web di Azure</span><span class="sxs-lookup"><span data-stu-id="1c518-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="1c518-104">In questo articolo verranno illustrate le procedure consigliate di hello e procedure di risoluzione dei problemi per [applicazioni nodo](app-service-web-get-started-nodejs.md) in esecuzione in Azure WebApp (con [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="1c518-104">In this article, you will learn hello best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="1c518-105">Prestare attenzione durante l'uso delle procedure di risoluzione dei problemi nel sito di produzione.</span><span class="sxs-lookup"><span data-stu-id="1c518-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="1c518-106">Si consiglia di tootroubleshoot l'app in una non di produzione del programma di installazione, ad esempio slot di gestione temporanea e quando non è stato risolto il problema di hello, scambio di slot di gestione temporanea con slot di produzione.</span><span class="sxs-lookup"><span data-stu-id="1c518-106">Recommendation is tootroubleshoot your app on a non-production setup for example your staging slot and when hello issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="1c518-107">Configurazione IISNODE</span><span class="sxs-lookup"><span data-stu-id="1c518-107">IISNODE configuration</span></span>
<span data-ttu-id="1c518-108">Questo [file di schema](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) Mostra tutte le impostazioni di hello che possono essere configurate per iisnode.</span><span class="sxs-lookup"><span data-stu-id="1c518-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all hello settings that can be configured for iisnode.</span></span> <span data-ttu-id="1c518-109">Alcune impostazioni che si riveleranno utili per l'applicazione hello sono:</span><span class="sxs-lookup"><span data-stu-id="1c518-109">Some of hello settings that will be useful for your application are:</span></span>

* <span data-ttu-id="1c518-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="1c518-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="1c518-111">Questa impostazione controlla il numero di hello di processi di nodo che vengono avviate per ogni applicazione IIS.</span><span class="sxs-lookup"><span data-stu-id="1c518-111">This setting controls hello number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="1c518-112">Il valore predefinito è 1.</span><span class="sxs-lookup"><span data-stu-id="1c518-112">Default value is 1.</span></span> <span data-ttu-id="1c518-113">È possibile avviare tante node.exe come il numero di core VM impostando questo too0.</span><span class="sxs-lookup"><span data-stu-id="1c518-113">You can launch as many node.exe’s as your VM core count by setting this too0.</span></span> <span data-ttu-id="1c518-114">Valore consigliato è 0 per la maggior parte delle applicazioni in modo è possibile utilizzare tutti i core hello nel computer.</span><span class="sxs-lookup"><span data-stu-id="1c518-114">Recommended value is 0 for most application so you can utilize all of hello cores on your machine.</span></span> <span data-ttu-id="1c518-115">Node.exe è singolo thread in modo uno node.exe utilizzerà un massimo di 1 core e tooget le massime prestazioni dall'applicazione nodo si tooutilize tutti i core.</span><span class="sxs-lookup"><span data-stu-id="1c518-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and tooget maximum performance out of your node application you would want tooutilize all cores.</span></span>
* <span data-ttu-id="1c518-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="1c518-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="1c518-117">Questa impostazione Controlla hello percorso toohello node.exe.</span><span class="sxs-lookup"><span data-stu-id="1c518-117">This setting controls hello path toohello node.exe.</span></span> <span data-ttu-id="1c518-118">È possibile impostare questa versione di node.exe tooyour toopoint valore.</span><span class="sxs-lookup"><span data-stu-id="1c518-118">You can set this value toopoint tooyour node.exe version.</span></span>
* <span data-ttu-id="1c518-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="1c518-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="1c518-120">Questa impostazione Controlla numero massimo di hello di richieste simultanee inviato da iisnode tooeach node.exe.</span><span class="sxs-lookup"><span data-stu-id="1c518-120">This setting controls hello maximum number of concurrent requests sent by iisnode tooeach node.exe.</span></span> <span data-ttu-id="1c518-121">In azure WebApp, valore predefinito hello è infinito.</span><span class="sxs-lookup"><span data-stu-id="1c518-121">On azure webapps, hello default value for this is Infinite.</span></span> <span data-ttu-id="1c518-122">Non è tooworry su questa impostazione.</span><span class="sxs-lookup"><span data-stu-id="1c518-122">You will not have tooworry about this setting.</span></span> <span data-ttu-id="1c518-123">All'esterno di azure WebApp, valore predefinito di hello è 1024.</span><span class="sxs-lookup"><span data-stu-id="1c518-123">Outside azure webapps, hello default value is 1024.</span></span> <span data-ttu-id="1c518-124">È possibile tooconfigure a seconda di quanti richiede l'applicazione ottiene e la velocità con cui l'applicazione elabora ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="1c518-124">You might want tooconfigure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="1c518-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="1c518-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="1c518-126">Questa impostazione Controlla hello numero massimo iisnode ritenterà la connessione su hello denominato richiesta hello di pipe toosend su toonode.exe.</span><span class="sxs-lookup"><span data-stu-id="1c518-126">This setting controls hello maximum number of times iisnode will retry making connection on hello named pipe toosend hello request over toonode.exe.</span></span> <span data-ttu-id="1c518-127">Questa impostazione in combinazione con namedPipeConnectionRetryDelay determina hello timeout totale di ogni richiesta all'interno di iisnode.</span><span class="sxs-lookup"><span data-stu-id="1c518-127">This setting in combination with namedPipeConnectionRetryDelay determines hello total timeout of each request within iisnode.</span></span> <span data-ttu-id="1c518-128">Il valore predefinito è 200 in App Web di Azure.</span><span class="sxs-lookup"><span data-stu-id="1c518-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="1c518-129">Timeout totale in secondi = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="1c518-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="1c518-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="1c518-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="1c518-131">Questa quantità di hello impostazione controlli di tempo (in ms) iisnode dovrà attendere tra ogni tentativo toosend richiesta toonode.exe su hello denominato pipe.</span><span class="sxs-lookup"><span data-stu-id="1c518-131">This setting controls hello amount of time (in ms) iisnode will wait for between each retry toosend request toonode.exe over hello named pipe.</span></span> <span data-ttu-id="1c518-132">Il valore predefinito è 250 ms.</span><span class="sxs-lookup"><span data-stu-id="1c518-132">Default value is 250ms.</span></span>
    <span data-ttu-id="1c518-133">Timeout totale in secondi = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="1c518-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="1c518-134">Per impostazione predefinita il timeout totale di hello in iisnode in azure WebApp è 200 \* 250ms = 50 secondi.</span><span class="sxs-lookup"><span data-stu-id="1c518-134">By default hello total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="1c518-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="1c518-135">logDirectory</span></span>
  
    <span data-ttu-id="1c518-136">Questa impostazione Controlla directory hello in iisnode registrerà stdout/stderr.</span><span class="sxs-lookup"><span data-stu-id="1c518-136">This setting controls hello directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="1c518-137">Il valore predefinito è iisnode ovvero directory script principale relativo toohello (directory in cui è presente server.js principale)</span><span class="sxs-lookup"><span data-stu-id="1c518-137">Default value is iisnode which is relative toohello main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="1c518-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="1c518-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="1c518-139">Questa impostazione controlla la versione di node-inspector verrà usata da iisnode durante il debug dell'applicazione Node.</span><span class="sxs-lookup"><span data-stu-id="1c518-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="1c518-140">Attualmente iisnode-controllo-0.7.3.dll e iisnode inspector.dll hello solo 2 valori sono validi per questa impostazione.</span><span class="sxs-lookup"><span data-stu-id="1c518-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are hello only 2 valid values for this setting.</span></span> <span data-ttu-id="1c518-141">Il valore predefinito è iisnode-inspector-0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="1c518-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="1c518-142">versione di iisnode-controllo-0.7.3.dll Usa nodo-controllo-0.7.3 e WebSocket, pertanto sarà necessario tooenable WebSocket in toouse l'App Web di azure questa versione.</span><span class="sxs-lookup"><span data-stu-id="1c518-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need tooenable websockets on your azure webapp toouse this version.</span></span> <span data-ttu-id="1c518-143">Vedere <http://www.ranjithr.com/?p=98> per ulteriori informazioni su come tooconfigure iisnode toouse hello nuovo nodo-controllo.</span><span class="sxs-lookup"><span data-stu-id="1c518-143">See <http://www.ranjithr.com/?p=98> for more details on how tooconfigure iisnode toouse hello new node-inspector.</span></span>
* <span data-ttu-id="1c518-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="1c518-144">flushResponse</span></span>
  
    <span data-ttu-id="1c518-145">comportamento predefinito di Hello di IIS è che memorizza nel buffer dei dati di risposta di too4MB prima di scaricare o fino al termine di hello di risposta hello, verifica per primo.</span><span class="sxs-lookup"><span data-stu-id="1c518-145">hello default behavior of IIS is that it buffers response data up too4MB before flushing, or until hello end of hello response, whichever comes first.</span></span> <span data-ttu-id="1c518-146">iisnode offre un'impostazione di questo comportamento toooverride di configurazione: tooflush un frammento del corpo entità della risposta hello appena iisnode riceve da node.exe, è necessario tooset hello iisnode/@flushResponse attributo nel file Web. config too'true':</span><span class="sxs-lookup"><span data-stu-id="1c518-146">iisnode offers a configuration setting toooverride this behavior: tooflush a fragment of hello response entity body as soon as iisnode receives it from node.exe, you need tooset hello iisnode/@flushResponse attribute in web.config too'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="1c518-147">L'abilitazione lo scaricamento di ogni frammento del corpo entità della risposta hello aggiunge overhead delle prestazioni che consente di ridurre la velocità effettiva hello del sistema hello del 5% (a partire da v0.1.13), pertanto è ottimale tooscope questo tooendpoints unica impostazione che richiedono il flusso di risposta (ad esempio utilizzando hello <location> elemento hello di Web. config)</span><span class="sxs-lookup"><span data-stu-id="1c518-147">Enabling flushing of every fragment of hello response entity body adds performance overhead that reduces hello throughput of hello system by ~5% (as of v0.1.13), so it is best tooscope this setting only tooendpoints that require response streaming (e.g. using hello <location> element in hello web.config)</span></span>
  
    <span data-ttu-id="1c518-148">In aggiunta toothis, per lo streaming di applicazioni, sarà necessario tooalso set responseBufferLimit del too0 gestore iisnode.</span><span class="sxs-lookup"><span data-stu-id="1c518-148">In addition toothis, for streaming applications, you will need tooalso set responseBufferLimit of your iisnode handler too0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="1c518-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="1c518-149">watchedFiles</span></span>
  
    <span data-ttu-id="1c518-150">Si tratta di un elenco di file separato da punti e virgola che sarà controllato per rilevare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="1c518-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="1c518-151">Un file tooa modifica comporta toorecycle applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-151">A change tooa file causes hello application toorecycle.</span></span> <span data-ttu-id="1c518-152">Ogni voce è costituito da un nome di directory facoltativo più di un nome file richiesto che sono directory toohello relativo punto di ingresso principale dell'applicazione hello in cui si trova.</span><span class="sxs-lookup"><span data-stu-id="1c518-152">Each entry consists of an optional directory name plus required file name which are relative toohello directory where hello main application entry point is located.</span></span> <span data-ttu-id="1c518-153">I caratteri jolly sono consentiti nelle solo parte del nome file hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-153">Wild cards are allowed in hello file name portion only.</span></span> <span data-ttu-id="1c518-154">Il valore predefinito è "\*.js;web.config"</span><span class="sxs-lookup"><span data-stu-id="1c518-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="1c518-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="1c518-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="1c518-156">Il valore predefinito è False.</span><span class="sxs-lookup"><span data-stu-id="1c518-156">Default value is false.</span></span> <span data-ttu-id="1c518-157">Se abilitata, l'applicazione del nodo può connettersi tooa denominato pipe (variabile di ambiente IISNODE\_controllo\_PIPE) e inviare un messaggio "riciclo".</span><span class="sxs-lookup"><span data-stu-id="1c518-157">If enabled, your node application can connect tooa named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="1c518-158">In questo modo hello w3wp toorecycle normalmente.</span><span class="sxs-lookup"><span data-stu-id="1c518-158">This will cause hello w3wp toorecycle gracefully.</span></span>
* <span data-ttu-id="1c518-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="1c518-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="1c518-160">Il valore predefinito è 0, ovvero questa funzionalità è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="1c518-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="1c518-161">Quando set toosome valore maggiore di 0, iisnode effettua il paging tutti i relativi elementi figlio elabora ogni millisecondi 'idlePageOutTimePeriod'.</span><span class="sxs-lookup"><span data-stu-id="1c518-161">When set toosome value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="1c518-162">cosa significa che, paging toounderstand consultare toothis [documentazione](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c518-162">toounderstand what page out means, please refer toothis [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="1c518-163">Questa impostazione sarà utile per le applicazioni che utilizzano una grande quantità di memoria e si desidera toopageout memoria toodisk occasionalmente toofree backup parte della RAM.</span><span class="sxs-lookup"><span data-stu-id="1c518-163">This setting will be useful for applications that consume a lot of memory and want toopageout memory toodisk occasionally toofree up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="1c518-164">Prestare attenzione quando si abilita hello seguire le impostazioni di configurazione di applicazioni di produzione.</span><span class="sxs-lookup"><span data-stu-id="1c518-164">Use caution when enabling hello following configuration settings on production applications.</span></span> <span data-ttu-id="1c518-165">Toonot si consiglia di attivare l'applicazioni di produzione in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="1c518-165">Recommendation is toonot enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="1c518-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="1c518-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="1c518-167">valore predefinito di Hello è false.</span><span class="sxs-lookup"><span data-stu-id="1c518-167">hello default value is false.</span></span> <span data-ttu-id="1c518-168">Se impostato, tootrue iisnode aggiungerà una risposta HTTP risposta intestazione iisnode debug tooevery HTTP invia il valore dell'intestazione di debug iisnode hello è un URL.</span><span class="sxs-lookup"><span data-stu-id="1c518-168">If set tootrue, iisnode will add an HTTP response header iisnode-debug tooevery HTTP response it sends hello iisnode-debug header value is a URL.</span></span> <span data-ttu-id="1c518-169">Esaminando il frammento di URL hello possono potranno singole parti di informazioni diagnostiche, ma viene ottenuta una migliore visualizzazione aprendo hello URL nel browser hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-169">Individual pieces of diagnostic information can be gleaned by looking at hello URL fragment, but a much better visualization is achieved by opening hello URL in hello browser.</span></span>
* <span data-ttu-id="1c518-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="1c518-170">loggingEnabled</span></span>
  
    <span data-ttu-id="1c518-171">Questa impostazione controlla la registrazione di hello di stdout e stderr da iisnode.</span><span class="sxs-lookup"><span data-stu-id="1c518-171">This setting controls hello logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="1c518-172">Iisnode verrà acquisire stdout/stderr dai processi di nodo che viene avviato e scrittura directory toohello specificato nell'impostazione di 'logDirectory' hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-172">Iisnode will capture stdout/stderr from node processes it launches and write toohello directory specified in hello ‘logDirectory’ setting.</span></span> <span data-ttu-id="1c518-173">Dopo aver attivato attiva, l'applicazione verrà scritta registri toohello file system e a seconda della quantità di hello di registrazione eseguita dall'applicazione hello, potrebbe essere implicazioni sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="1c518-173">Once this is enable, your application will be writing logs toohello file system and depending on hello amount of logging done by hello application, there could be performance implications.</span></span>
* <span data-ttu-id="1c518-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="1c518-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="1c518-175">Il valore predefinito è False.</span><span class="sxs-lookup"><span data-stu-id="1c518-175">Default value is false.</span></span> <span data-ttu-id="1c518-176">Se impostato, tootrue iisnode verrà visualizzato il codice di stato HTTP hello e codice di errore Win32 nel browser.</span><span class="sxs-lookup"><span data-stu-id="1c518-176">When set tootrue, iisnode will display hello HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="1c518-177">codice win32 Hello possono risultare utile per determinati tipi di problemi di debug.</span><span class="sxs-lookup"><span data-stu-id="1c518-177">hello win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="1c518-178">debuggingEnabled (non abilitare questa impostazione nel sito di produzione live)</span><span class="sxs-lookup"><span data-stu-id="1c518-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="1c518-179">Questa impostazione controlla la funzionalità di debug.</span><span class="sxs-lookup"><span data-stu-id="1c518-179">This setting controls debugging feature.</span></span> <span data-ttu-id="1c518-180">Iisnode è integrato con node-inspector.</span><span class="sxs-lookup"><span data-stu-id="1c518-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="1c518-181">Abilitando questa impostazione, si abilita il debug dell'applicazione Node.</span><span class="sxs-lookup"><span data-stu-id="1c518-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="1c518-182">Dopo aver abilitata questa impostazione, iisnode verrà layout hello necessarie nodo-controllo file nella directory 'debuggerVirtualDir' nel primo debug richiesta tooyour nodo un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-182">Once this setting is enabled, iisnode will layout hello necessary node-inspector files in ‘debuggerVirtualDir’ directory on hello first debug request tooyour node application.</span></span> <span data-ttu-id="1c518-183">È possibile caricare hello nodo-controllo inviando una richiesta toohttp://yoursite/server.js/debug.</span><span class="sxs-lookup"><span data-stu-id="1c518-183">You can load hello node-inspector by sending a request toohttp://yoursite/server.js/debug.</span></span> <span data-ttu-id="1c518-184">Segmento di URL hello debug è possibile controllare con l'impostazione 'debuggerPathSegment'.</span><span class="sxs-lookup"><span data-stu-id="1c518-184">You can control hello debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="1c518-185">Per impostazione predefinita, debuggerPathSegment='debug'.</span><span class="sxs-lookup"><span data-stu-id="1c518-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="1c518-186">È possibile impostare questo GUID tooa ad esempio, in modo che sia più difficile toobe individuati da altri utenti.</span><span class="sxs-lookup"><span data-stu-id="1c518-186">You can set this tooa GUID for example so that it is more difficult toobe discovered by others.</span></span>
  
    <span data-ttu-id="1c518-187">Per altre informazioni sul debug, vedere questo [collegamento](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) .</span><span class="sxs-lookup"><span data-stu-id="1c518-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="1c518-188">Scenari e indicazioni/risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="1c518-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="1c518-189">L'applicazione Node effettua un numero eccessivo di chiamate in uscita.</span><span class="sxs-lookup"><span data-stu-id="1c518-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="1c518-190">Molte applicazioni opportuno che le connessioni in uscita toomake come parte del relativo funzionamento regolare.</span><span class="sxs-lookup"><span data-stu-id="1c518-190">Many applications would want toomake outbound connections as part of their regular operation.</span></span> <span data-ttu-id="1c518-191">Ad esempio, quando arriva una richiesta, l'app nodo sarebbe desidera toocontact altrove un'API REST e ottenere una richiesta di informazioni tooprocess hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-191">For example, when a request comes in, your node app would want toocontact a REST API elsewhere and get some information tooprocess hello request.</span></span> <span data-ttu-id="1c518-192">Quando si effettuano chiamate http o https, è opportuno toouse un agente di keep alive.</span><span class="sxs-lookup"><span data-stu-id="1c518-192">You would want toouse a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="1c518-193">Ad esempio, è possibile utilizzare il modulo di agentkeepalive hello come l'agente di keep-alive quando si eseguono queste chiamate in uscita.</span><span class="sxs-lookup"><span data-stu-id="1c518-193">For example, you could use hello agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="1c518-194">Ciò assicura che i socket hello vengono riutilizzati sul webapp azure VM e riduzione di overhead hello di creazione di nuovi socket per ogni richiesta in uscita.</span><span class="sxs-lookup"><span data-stu-id="1c518-194">This makes sure that hello sockets are reused on your azure webapp VM and reducing hello overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="1c518-195">Inoltre, in tal modo che si sta utilizzando un minor numero di socket toomake che molte richieste in uscita e pertanto non superare maxSockets hello allocati per ogni macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1c518-195">Also, this makes sure that you are using less number of sockets toomake many outbound requests and therefore you don’t exceed hello maxSockets that are allocated per VM.</span></span> <span data-ttu-id="1c518-196">Indicazione su Azure WebApp sarebbe tooset hello agentKeepAlive maxSockets valore totale tooa di 160 socket per ogni macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1c518-196">Recommendation on Azure Webapps would be tooset hello agentKeepAlive maxSockets value tooa total of 160 sockets per VM.</span></span> <span data-ttu-id="1c518-197">Ciò significa che se si dispone di 4 node.exe in esecuzione su hello VM, desiderata tooset hello agentKeepAlive maxSockets too40 per node.exe ovvero 160 totale per ogni macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1c518-197">This means that if you have 4 node.exe running on hello VM, you would want tooset hello agentKeepAlive maxSockets too40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="1c518-198">Configurazione di esempio per [agentKeepALive](https://www.npmjs.com/package/agentkeepalive):</span><span class="sxs-lookup"><span data-stu-id="1c518-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="1c518-199">Questo esempio presuppone che siano presenti quattro file node.exe in esecuzione nella VM.</span><span class="sxs-lookup"><span data-stu-id="1c518-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="1c518-200">Se si dispone di un numero diverso di node.exe in esecuzione su hello VM, sarà necessario toomodify hello maxSockets impostare di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="1c518-200">If you have a different number of node.exe running on hello VM, you will have toomodify hello maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="1c518-201">L'applicazione Node utilizza una quantità eccessiva di CPU.</span><span class="sxs-lookup"><span data-stu-id="1c518-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="1c518-202">È probabile che si riceva una raccomandazione relativa all'utilizzo elevato di CPU da App Web di Azure nel portale.</span><span class="sxs-lookup"><span data-stu-id="1c518-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="1c518-203">È anche possibile toowatch monitoraggi il programma di installazione per determinati [metriche](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="1c518-203">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="1c518-204">Durante il controllo dell'utilizzo della CPU hello nel hello [Dashboard portale Azure](../application-insights/app-insights-web-monitor-performance.md), verificare i valori massimo hello per CPU, per perdere neanche i valori di picco hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-204">When checking hello CPU usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for CPU so you don’t miss out hello peak values.</span></span>
<span data-ttu-id="1c518-205">Nei casi in cui si ritiene che l'applicazione utilizza una quantità eccessiva della CPU e si non può spiegare il motivo, è necessario tooprofile l'applicazione del nodo.</span><span class="sxs-lookup"><span data-stu-id="1c518-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need tooprofile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="1c518-206">Profilatura dell'applicazione Node in App Web di Azure con V8-Profiler</span><span class="sxs-lookup"><span data-stu-id="1c518-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="1c518-207">Ad esempio, consente ad esempio si dispone di un'app di hello world che si desidera tooprofile come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="1c518-207">For example, lets say you have a hello world app that you want tooprofile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="1c518-208">Passare tooyour scm sito https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="1c518-208">Go tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="1c518-209">Verrà visualizzato un prompt dei comandi, come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="1c518-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="1c518-210">Passare al sito/directory wwwroot.</span><span class="sxs-lookup"><span data-stu-id="1c518-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="1c518-211">Eseguire il comando hello "npm install v8 profiler"</span><span class="sxs-lookup"><span data-stu-id="1c518-211">Run hello command “npm install v8-profiler”</span></span>

<span data-ttu-id="1c518-212">Nella directory node\_modules dovrebbe essere eseguita l'installazione di v8-profiler e di tutte le rispettive dipendenze.</span><span class="sxs-lookup"><span data-stu-id="1c518-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="1c518-213">A questo punto, modificare il tooprofile server.js l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1c518-213">Now, edit your server.js tooprofile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="1c518-214">Hello sopra le modifiche verrà funzione WriteConsoleLog hello del profilo e quindi scrivere hello profilo output too'profile.cpuprofile' file in wwwroot del sito.</span><span class="sxs-lookup"><span data-stu-id="1c518-214">hello above changes will profile hello WriteConsoleLog function and then write hello profile output too‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="1c518-215">Invio di un'applicazione tooyour richiesta.</span><span class="sxs-lookup"><span data-stu-id="1c518-215">Send a request tooyour application.</span></span> <span data-ttu-id="1c518-216">Verrà visualizzato un file 'profile.cpuprofile' creato in wwwroot del sito.</span><span class="sxs-lookup"><span data-stu-id="1c518-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="1c518-217">Scaricare questo file e sarà necessario tooopen questo file con strumenti F12 Chrome.</span><span class="sxs-lookup"><span data-stu-id="1c518-217">Download this file and you will need tooopen this file with Chrome F12 Tools.</span></span> <span data-ttu-id="1c518-218">Premere F12 in chrome, quindi fare clic su hello "Nella scheda Profili".</span><span class="sxs-lookup"><span data-stu-id="1c518-218">Hit F12 on chrome, then click on hello “Profiles Tab”.</span></span> <span data-ttu-id="1c518-219">Fare clic sul pulsante "Load" (Carica).</span><span class="sxs-lookup"><span data-stu-id="1c518-219">Click on “Load” Button.</span></span> <span data-ttu-id="1c518-220">Selezionare il file profile.cpuprofile appena scaricato.</span><span class="sxs-lookup"><span data-stu-id="1c518-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="1c518-221">Fare clic sul profilo hello che appena caricato.</span><span class="sxs-lookup"><span data-stu-id="1c518-221">Click on hello profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="1c518-222">Si noterà che 95% di tempo hello utilizzato dalla funzione WriteConsoleLog come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="1c518-222">You will see that 95% of hello time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="1c518-223">Ciò illustra anche i numeri di riga esatta hello e i file di origine che causano il problema di hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-223">This also shows you hello exact line numbers and source files that cause hello issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="1c518-224">L'applicazione Node utilizza una quantità eccessiva di memoria.</span><span class="sxs-lookup"><span data-stu-id="1c518-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="1c518-225">È probabile che si riceva da App Web di Azure nel portale una raccomandazione relativa all'utilizzo elevato di memoria.</span><span class="sxs-lookup"><span data-stu-id="1c518-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="1c518-226">È anche possibile toowatch monitoraggi il programma di installazione per determinati [metriche](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="1c518-226">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="1c518-227">Durante il controllo dell'utilizzo della memoria hello in hello [Dashboard portale Azure](../application-insights/app-insights-web-monitor-performance.md), verificare i valori massimo hello per la memoria per perdere neanche i valori di picco hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-227">When checking hello memory usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for memory so you don’t miss out hello peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="1c518-228">Rilevamento della perdita di risorse e delle differenze tra heap per node.js</span><span class="sxs-lookup"><span data-stu-id="1c518-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="1c518-229">È possibile utilizzare [nodo memwatch](https://github.com/lloyd/node-memwatch) perdite toohelp identificare la memoria.</span><span class="sxs-lookup"><span data-stu-id="1c518-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) toohelp you identify memory leaks.</span></span>
<span data-ttu-id="1c518-230">È possibile installare memwatch come v8 profiler e modificare che il codice toocapture e diff heap tooidentify hello le perdite di memoria nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1c518-230">You can install memwatch just like v8-profiler and edit your code toocapture and diff heaps tooidentify hello memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="1c518-231">I file node.exe vengono terminati in modo casuale</span><span class="sxs-lookup"><span data-stu-id="1c518-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="1c518-232">Questo problema può avere alcune cause:</span><span class="sxs-lookup"><span data-stu-id="1c518-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="1c518-233">L'applicazione sta generando eccezioni non rilevate – d: controllo Please\\home\\LogFiles\\applicazione\\file di registrazione-Errors. txt per i dettagli di hello eccezione hello generata.</span><span class="sxs-lookup"><span data-stu-id="1c518-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="1c518-234">Questo file contiene l'analisi dello stack hello per risolverli in base a questa applicazione.</span><span class="sxs-lookup"><span data-stu-id="1c518-234">This file has hello stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="1c518-235">L'applicazione utilizza una quantità troppo elevata di memoria e ciò impedisce l'avvio di altri processi.</span><span class="sxs-lookup"><span data-stu-id="1c518-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="1c518-236">Se memoria della macchina virtuale hello totale è % too100 Chiudi, potrebbe essere terminato il node.exe hello processo manager toolet altri processi di ottengono un toodo possibilità alcune operazioni.</span><span class="sxs-lookup"><span data-stu-id="1c518-236">If hello total VM memory is close too100%, your node.exe’s could be killed by hello process manager toolet other processes get a chance toodo some work.</span></span> <span data-ttu-id="1c518-237">toofix, assicurarsi che l'applicazione non dispone di memoria o se l'applicazione deve toouse una grande quantità di memoria, per applicare la scalabilità verticale tooa VM più grande con una grande quantità di RAM.</span><span class="sxs-lookup"><span data-stu-id="1c518-237">toofix this, either make sure your application is not leaking memory OR if you application really needs toouse a lot of memory, please scale up tooa larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="1c518-238">Non è possibile avviare l'applicazione Node</span><span class="sxs-lookup"><span data-stu-id="1c518-238">My node application does not start</span></span>
<span data-ttu-id="1c518-239">Se l'applicazione restituisce errori di tipo 500 all'avvio, è possibile che si siano verificati i problemi seguenti:</span><span class="sxs-lookup"><span data-stu-id="1c518-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="1c518-240">Node.exe non è presente nella posizione corretta hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-240">Node.exe is not present at hello correct location.</span></span> <span data-ttu-id="1c518-241">Verificare l'impostazione nodeProcessCommandLine.</span><span class="sxs-lookup"><span data-stu-id="1c518-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="1c518-242">File di script principale non è presente nella posizione corretta hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-242">Main script file is not present at hello correct location.</span></span> <span data-ttu-id="1c518-243">Verificare i file Web. config e verificare nome hello hello principale del file di script nella sezione gestori hello corrisponde al file script principale di hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-243">Check web.config and make sure hello name of hello main script file in hello handlers section matches hello main script file.</span></span>
3. <span data-ttu-id="1c518-244">Configurazione Web. config non è corretta – controllare le impostazioni di hello nomi/valori.</span><span class="sxs-lookup"><span data-stu-id="1c518-244">Web.config configuration is not correct – check hello settings names/values.</span></span>
4. <span data-ttu-id="1c518-245">Avvio a freddo: l'applicazione richiede toostartup troppo lungo.</span><span class="sxs-lookup"><span data-stu-id="1c518-245">Cold Start – Your application is taking too long toostartup.</span></span> <span data-ttu-id="1c518-246">Se l'avvio dell'applicazione richiede più di (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 secondi, iisnode restituirà un errore di tipo 500.</span><span class="sxs-lookup"><span data-stu-id="1c518-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="1c518-247">Aumentare i valori hello di toomatch queste impostazioni applicazione avviare ora tooprevent iisnode da scadere e restituire l'errore hello 500.</span><span class="sxs-lookup"><span data-stu-id="1c518-247">Increase hello values of these settings toomatch your application start time tooprevent iisnode from timing out and returning hello 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="1c518-248">Si è verificato l'arresto anomalo dell'applicazione Node</span><span class="sxs-lookup"><span data-stu-id="1c518-248">My node application crashed</span></span>
<span data-ttu-id="1c518-249">L'applicazione sta generando eccezioni non rilevate – d: controllo Please\\home\\LogFiles\\applicazione\\file di registrazione-Errors. txt per i dettagli di hello eccezione hello generata.</span><span class="sxs-lookup"><span data-stu-id="1c518-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="1c518-250">Questo file contiene l'analisi dello stack hello per risolverli in base a questa applicazione.</span><span class="sxs-lookup"><span data-stu-id="1c518-250">This file has hello stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-toostartup-cold-start"></a><span data-ttu-id="1c518-251">Applicazione nodo accetta toostartup troppo tempo (avvio freddo)</span><span class="sxs-lookup"><span data-stu-id="1c518-251">My node application takes too much time toostartup (Cold Start)</span></span>
<span data-ttu-id="1c518-252">Motivo più comune è che un'applicazione hello dispone di molti file nel nodo hello\_moduli e tooload tentativi di applicazione hello la maggior parte di questi file durante l'avvio.</span><span class="sxs-lookup"><span data-stu-id="1c518-252">Most common reason for this is that hello application has a lot of files in hello node\_modules and hello application tries tooload most of these files during startup.</span></span> <span data-ttu-id="1c518-253">Per impostazione predefinita, poiché si trovano i file nella condivisione di rete hello in WebApp di Azure, il caricamento di molti file può richiedere del tempo.</span><span class="sxs-lookup"><span data-stu-id="1c518-253">By default, since your files reside on hello network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="1c518-254">Alcune soluzioni toomake più velocemente in questo sono:</span><span class="sxs-lookup"><span data-stu-id="1c518-254">Some solutions toomake this faster are:</span></span>

1. <span data-ttu-id="1c518-255">Accertarsi di avere una struttura flat dipendenza e senza dipendenze duplicate utilizzando npm3 tooinstall dei moduli.</span><span class="sxs-lookup"><span data-stu-id="1c518-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 tooinstall your modules.</span></span>
2. <span data-ttu-id="1c518-256">Provare a carico toolazy il nodo\_moduli e caricare tutti i moduli di hello all'avvio.</span><span class="sxs-lookup"><span data-stu-id="1c518-256">Try toolazy load your node\_modules and not load all of hello modules at startup.</span></span> <span data-ttu-id="1c518-257">Ciò significa che toorequire('module') chiamata hello deve essere eseguita quando è effettivamente necessario all'interno di funzione hello si tenta di modulo hello toouse.</span><span class="sxs-lookup"><span data-stu-id="1c518-257">This means that hello call toorequire(‘module’) should be done when you actually need it within hello function you try toouse hello module.</span></span>
3. <span data-ttu-id="1c518-258">App Web di Azure offre una funzionalità definita cache locale.</span><span class="sxs-lookup"><span data-stu-id="1c518-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="1c518-259">Questa funzione Copia il contenuto da hello rete condivisione toohello disco locale nel hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="1c518-259">This feature copies your content from hello network share toohello local disk on hello VM.</span></span> <span data-ttu-id="1c518-260">Poiché i file hello sono locali, hello tempo di caricamento della nodo\_moduli è molto più veloce.</span><span class="sxs-lookup"><span data-stu-id="1c518-260">Since hello files are local, hello load time of node\_modules is much faster.</span></span> <span data-ttu-id="1c518-261">-Questo [documentazione](../app-service/app-service-local-cache.md) spiega come toouse Cache locale in ulteriori dettagli.</span><span class="sxs-lookup"><span data-stu-id="1c518-261">- This [documentation](../app-service/app-service-local-cache.md) explains how toouse Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="1c518-262">Stato e stato secondario HTTP di IISNODE</span><span class="sxs-lookup"><span data-stu-id="1c518-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="1c518-263">Questo [file di origine](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) elenchi tutti iisnode di combinazione di stato possibili dello stato secondario hello può restituire in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="1c518-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all hello possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="1c518-264">Abilita FREB per il codice di errore applicazione toosee hello win32 (. Assicurarsi di abilitare FREB solo nei siti non di produzione per motivi di prestazioni).</span><span class="sxs-lookup"><span data-stu-id="1c518-264">Enable FREB for your application toosee hello win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="1c518-265">Stato HTTP</span><span class="sxs-lookup"><span data-stu-id="1c518-265">Http Status</span></span> | <span data-ttu-id="1c518-266">Stato secondario HTTP</span><span class="sxs-lookup"><span data-stu-id="1c518-266">Http SubStatus</span></span> | <span data-ttu-id="1c518-267">Possibile motivo</span><span class="sxs-lookup"><span data-stu-id="1c518-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1c518-268">500</span><span class="sxs-lookup"><span data-stu-id="1c518-268">500</span></span> |<span data-ttu-id="1c518-269">1000</span><span class="sxs-lookup"><span data-stu-id="1c518-269">1000</span></span> |<span data-ttu-id="1c518-270">Si è verificato un problema di invio hello richiesta tooIISNODE: controllare se node.exe è stato avviato.</span><span class="sxs-lookup"><span data-stu-id="1c518-270">There was some issue dispatching hello request tooIISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="1c518-271">È possibile che si sia verificato l'arresto anomalo di Node.exe all'avvio.</span><span class="sxs-lookup"><span data-stu-id="1c518-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="1c518-272">Cercare eventuali errori nella configurazione del file web.config.</span><span class="sxs-lookup"><span data-stu-id="1c518-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="1c518-273">500</span><span class="sxs-lookup"><span data-stu-id="1c518-273">500</span></span> |<span data-ttu-id="1c518-274">1001</span><span class="sxs-lookup"><span data-stu-id="1c518-274">1001</span></span> |<span data-ttu-id="1c518-275">-0x2 - App Win32Error toohello URL non risponde.</span><span class="sxs-lookup"><span data-stu-id="1c518-275">- Win32Error 0x2 - App is not responding toohello URL.</span></span> <span data-ttu-id="1c518-276">Le regole o se l'applicazione express ha definita la route corretto hello riscrittura dell'URL di controllo.</span><span class="sxs-lookup"><span data-stu-id="1c518-276">Check URL rewrite rules or if your express app has hello correct routes defined.</span></span> <span data-ttu-id="1c518-277">-Win32Error 0x6d – named pipe è occupato: Node.exe non accetta richieste pipe hello è occupata.</span><span class="sxs-lookup"><span data-stu-id="1c518-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because hello pipe is busy.</span></span> <span data-ttu-id="1c518-278">Controllare se l'utilizzo della CPU è elevato.</span><span class="sxs-lookup"><span data-stu-id="1c518-278">Check high cpu usage.</span></span> <span data-ttu-id="1c518-279">- Altri errori: controllare se si è verificato l'arresto anomalo di node.exe.</span><span class="sxs-lookup"><span data-stu-id="1c518-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="1c518-280">500</span><span class="sxs-lookup"><span data-stu-id="1c518-280">500</span></span> |<span data-ttu-id="1c518-281">1002</span><span class="sxs-lookup"><span data-stu-id="1c518-281">1002</span></span> |<span data-ttu-id="1c518-282">Si è verificato l'arresto anomalo di Node.exe: verificare se nel file d:\\home\\LogFiles\\logging-errors.txt è disponibile l'analisi dello stack.</span><span class="sxs-lookup"><span data-stu-id="1c518-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="1c518-283">500</span><span class="sxs-lookup"><span data-stu-id="1c518-283">500</span></span> |<span data-ttu-id="1c518-284">1003</span><span class="sxs-lookup"><span data-stu-id="1c518-284">1003</span></span> |<span data-ttu-id="1c518-285">Problema di configurazione di pipe non dovrebbe mai visibile, ma in caso contrario, hello denominato configurazione pipe non è corretto.</span><span class="sxs-lookup"><span data-stu-id="1c518-285">Pipe configuration Issue – You should never see this but if you do, hello named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="1c518-286">500</span><span class="sxs-lookup"><span data-stu-id="1c518-286">500</span></span> |<span data-ttu-id="1c518-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="1c518-287">1004-1018</span></span> |<span data-ttu-id="1c518-288">Si è verificato un errore durante l'invio di risposta di hello di richiesta o elaborazione hello in/da node.exe.</span><span class="sxs-lookup"><span data-stu-id="1c518-288">There was some error while sending hello request or processing hello response to/from node.exe.</span></span> <span data-ttu-id="1c518-289">Controllare se si è verificato l'arresto anomalo di node.exe.</span><span class="sxs-lookup"><span data-stu-id="1c518-289">Check if node.exe crashed.</span></span> <span data-ttu-id="1c518-290">Verificare se nel file d:\\home\\LogFiles\\logging-errors.txt è disponibile l'analisi dello stack.</span><span class="sxs-lookup"><span data-stu-id="1c518-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="1c518-291">503</span><span class="sxs-lookup"><span data-stu-id="1c518-291">503</span></span> |<span data-ttu-id="1c518-292">1000</span><span class="sxs-lookup"><span data-stu-id="1c518-292">1000</span></span> |<span data-ttu-id="1c518-293">Non è sufficiente memoria tooallocate più connessioni named pipe.</span><span class="sxs-lookup"><span data-stu-id="1c518-293">Not enough memory tooallocate more named pipe connections.</span></span> <span data-ttu-id="1c518-294">Verificare i motivi per cui l'app utilizza una quantità così elevata di memoria.</span><span class="sxs-lookup"><span data-stu-id="1c518-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="1c518-295">Controllare il valore dell'impostazione maxConcurrentRequestsPerProcess.</span><span class="sxs-lookup"><span data-stu-id="1c518-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="1c518-296">Se non infinito e si dispone di un numero elevato di richieste, aumentare questo valore tooprevent questo errore.</span><span class="sxs-lookup"><span data-stu-id="1c518-296">If its not infinite and you have a lot of requests, increase this value tooprevent this error.</span></span> |
| <span data-ttu-id="1c518-297">503</span><span class="sxs-lookup"><span data-stu-id="1c518-297">503</span></span> |<span data-ttu-id="1c518-298">1001</span><span class="sxs-lookup"><span data-stu-id="1c518-298">1001</span></span> |<span data-ttu-id="1c518-299">Richiesta non è stato inviato toonode.exe perché il riciclo dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="1c518-299">Request could not be dispatched toonode.exe because hello application is recycling.</span></span> <span data-ttu-id="1c518-300">Dopo l'applicazione hello è stato riciclato, le richieste di effettiva necessità di servire normalmente.</span><span class="sxs-lookup"><span data-stu-id="1c518-300">After hello application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="1c518-301">503</span><span class="sxs-lookup"><span data-stu-id="1c518-301">503</span></span> |<span data-ttu-id="1c518-302">1002</span><span class="sxs-lookup"><span data-stu-id="1c518-302">1002</span></span> |<span data-ttu-id="1c518-303">Codice di errore win32 di controllo per il motivo effettivo: richiesta non è stato inviato tooa node.exe.</span><span class="sxs-lookup"><span data-stu-id="1c518-303">Check win32 error code for actual reason – Request could not be dispatched tooa node.exe.</span></span> |
| <span data-ttu-id="1c518-304">503</span><span class="sxs-lookup"><span data-stu-id="1c518-304">503</span></span> |<span data-ttu-id="1c518-305">1003</span><span class="sxs-lookup"><span data-stu-id="1c518-305">1003</span></span> |<span data-ttu-id="1c518-306">La named pipe è troppo occupata. Controllare se il nodo utilizza una quantità elevata di CPU.</span><span class="sxs-lookup"><span data-stu-id="1c518-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="1c518-307">NODE.exe include un'impostazione definita NODE\_PENDING\_PIPE\_INSTANCES.</span><span class="sxs-lookup"><span data-stu-id="1c518-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="1c518-308">Per impostazione predefinita, all'esterno di App Web di Azure questo valore è 4.</span><span class="sxs-lookup"><span data-stu-id="1c518-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="1c518-309">Ciò significa che node.exe può accettare solo 4 richieste contemporaneamente nella hello denominato pipe.</span><span class="sxs-lookup"><span data-stu-id="1c518-309">This means that node.exe can only accept 4 requests at a time on hello named pipe.</span></span> <span data-ttu-id="1c518-310">In Azure WebApp, questo valore è impostato too5000 e questo valore deve essere adeguato per la maggior parte delle applicazioni in esecuzione in azure WebApp nodo.</span><span class="sxs-lookup"><span data-stu-id="1c518-310">On Azure Webapps, this value is set too5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="1c518-311">Non dovrebbe essere visualizzato 503.1003 in azure WebApp poiché è un valore elevato per hello nodo\_PENDING\_PIPE\_istanze.</span><span class="sxs-lookup"><span data-stu-id="1c518-311">You should not see 503.1003 on azure webapps because we have a high value for hello NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="1c518-312">Altre risorse</span><span class="sxs-lookup"><span data-stu-id="1c518-312">More resources</span></span>
<span data-ttu-id="1c518-313">Seguire questi toolearn collegamenti ulteriori informazioni sulle applicazioni node.js in Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="1c518-313">Follow these links toolearn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="1c518-314">Introduzione alle app Web Node.js nel servizio app di Azure</span><span class="sxs-lookup"><span data-stu-id="1c518-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="1c518-315">Come toodebug un Node.js web app in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="1c518-315">How toodebug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="1c518-316">Utilizzo di moduli Node.js con le applicazioni Azure</span><span class="sxs-lookup"><span data-stu-id="1c518-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="1c518-317">Blog sulle app Web del servizio app di Azure: Node.js</span><span class="sxs-lookup"><span data-stu-id="1c518-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="1c518-318">Centro per sviluppatori di Node. js</span><span class="sxs-lookup"><span data-stu-id="1c518-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="1c518-319">Esplorazione hello Super segreto Kudu Debug Console</span><span class="sxs-lookup"><span data-stu-id="1c518-319">Exploring hello Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

