---
title: Aggregazione di eventi di Azure Service Fabric con Diagnostica di Azure per Linux | Microsoft Docs
description: Informazioni sull'aggregazione e la raccolta di eventi con LAD per il monitoraggio e la diagnostica dei cluster di Azure Service Fabric.
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: bcc3a229369a065cfcfbd32eadbf3f6ae6fe0036
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="81f54-103">Aggregazione e raccolta di eventi con Diagnostica di Azure per Linux</span><span class="sxs-lookup"><span data-stu-id="81f54-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="81f54-104">Windows</span><span class="sxs-lookup"><span data-stu-id="81f54-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="81f54-105">Linux</span><span class="sxs-lookup"><span data-stu-id="81f54-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="81f54-106">Quando si esegue un cluster Azure Service Fabric, è consigliabile raccogliere i log da tutti i nodi in una posizione centrale.</span><span class="sxs-lookup"><span data-stu-id="81f54-106">When you're running an Azure Service Fabric cluster, it's a good idea to collect the logs from all the nodes in a central location.</span></span> <span data-ttu-id="81f54-107">Il salvataggio dei log in una posizione centrale semplifica l'analisi e la risoluzione di eventuali problemi nel cluster o nelle applicazioni e nei servizi in esecuzione nel cluster.</span><span class="sxs-lookup"><span data-stu-id="81f54-107">Having the logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in the applications and services running in that cluster.</span></span>

<span data-ttu-id="81f54-108">Un modo per caricare e raccogliere i registri consiste nell'usare l'estensione Diagnostica di Azure per Linux, ovvero LAD, che consente di caricare i registri nell'Archiviazione di Azure e di inviarli ad Azure Application Insights o Hub eventi.</span><span class="sxs-lookup"><span data-stu-id="81f54-108">One way to upload and collect logs is to use the Linux Azure Diagnostics (LAD) extension, which uploads logs to Azure Storage, and also has the option to send logs to Azure Application Insights or Event Hubs.</span></span> <span data-ttu-id="81f54-109">È anche possibile usare un processo esterno per leggere gli eventi dalla risorsa di archiviazione e inserirli in una piattaforma di analisi come [Log Analytics di OMS](../log-analytics/log-analytics-service-fabric.md) o un'altra soluzione di analisi di registrazione.</span><span class="sxs-lookup"><span data-stu-id="81f54-109">You can also use an external process to read the events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="81f54-110">Origini di log ed eventi</span><span class="sxs-lookup"><span data-stu-id="81f54-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="81f54-111">Eventi della piattaforma Service Fabric</span><span class="sxs-lookup"><span data-stu-id="81f54-111">Service Fabric platform events</span></span>
<span data-ttu-id="81f54-112">Service Fabric emette alcuni registri pronti all'uso tramite [LTTng](http://lttng.org), inclusi gli eventi operativi o gli eventi di runtime.</span><span class="sxs-lookup"><span data-stu-id="81f54-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="81f54-113">Questi log vengono archiviati nel percorso specificato dal cluster del modello di Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="81f54-113">These logs are stored in the location that the cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="81f54-114">Per ottenere e impostare i dettagli dell'account di archiviazione, cercare il tag **AzureTableWinFabETWQueryable** e quindi **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="81f54-114">To get or set the storage account details, search for the tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="81f54-115">Eventi dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="81f54-115">Application events</span></span>
 <span data-ttu-id="81f54-116">Eventi generati dal codice delle applicazioni e dei servizi come specificato dall'utente durante la strumentazione del software.</span><span class="sxs-lookup"><span data-stu-id="81f54-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="81f54-117">È possibile usare qualsiasi soluzione di registrazione che scriva file di log basati su testo, ad esempio LTTng.</span><span class="sxs-lookup"><span data-stu-id="81f54-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="81f54-118">Per altre informazioni, vedere la documentazione di LTTng relativa alla traccia dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="81f54-118">For more information, see the LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="81f54-119">[Monitorare e diagnosticare servizi in una configurazione di sviluppo con computer locale](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="81f54-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-the-diagnostics-extension"></a><span data-ttu-id="81f54-120">Distribuire l'estensione Diagnostica</span><span class="sxs-lookup"><span data-stu-id="81f54-120">Deploy the Diagnostics extension</span></span>
<span data-ttu-id="81f54-121">Il primo passaggio per la raccolta dei log consiste nel distribuire l'estensione Diagnostica in ogni VM del cluster Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="81f54-121">The first step in collecting logs is to deploy the Diagnostics extension on each of the VMs in the Service Fabric cluster.</span></span> <span data-ttu-id="81f54-122">Questa estensione raccoglie i log in ogni VM e li carica nell'account di archiviazione specificato.</span><span class="sxs-lookup"><span data-stu-id="81f54-122">The Diagnostics extension collects logs on each VM and uploads them to the storage account that you specify.</span></span> <span data-ttu-id="81f54-123">La procedura varia a seconda che si usi il portale di Azure oppure Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="81f54-123">The steps vary based on whether you use the Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="81f54-124">Per distribuire l'estensione di diagnostica nelle VM del cluster come parte della creazione del cluster, impostare **Diagnostica** su **Attiva**.</span><span class="sxs-lookup"><span data-stu-id="81f54-124">To deploy the Diagnostics extension to the VMs in the cluster as part of cluster creation, set **Diagnostics** to **On**.</span></span> <span data-ttu-id="81f54-125">Dopo aver creato il cluster, è possibile modificare questa impostazione tramite il portale.</span><span class="sxs-lookup"><span data-stu-id="81f54-125">After you create the cluster, you can't change this setting by using the portal.</span></span>

<span data-ttu-id="81f54-126">Configurare quindi l'estensione Diagnostica di Azure per Linux per raccogliere i file e inserirli nel proprio account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="81f54-126">Then, configure Linux Azure Diagnostics (LAD) to collect the files and place them into your storage account.</span></span> <span data-ttu-id="81f54-127">Questo processo viene illustrato nello scenario 3 ("Caricamento dei propri file di log") descritto nell'articolo relativo all' [uso dell'estensione Diagnostica di Azure per Linux per il monitoraggio e la diagnosi di VM Linux](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="81f54-127">This process is explained as scenario 3 ("Upload your own log files") in the article [Using LAD to monitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="81f54-128">Questo processo consente di ottenere l'accesso alle tracce.</span><span class="sxs-lookup"><span data-stu-id="81f54-128">Following this process gets you access to the traces.</span></span> <span data-ttu-id="81f54-129">È possibile anche caricare le tracce in un visualizzatore a scelta.</span><span class="sxs-lookup"><span data-stu-id="81f54-129">You can upload the traces to a visualizer of your choice.</span></span>

<span data-ttu-id="81f54-130">È anche possibile distribuire l'estensione di Diagnostica con Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="81f54-130">You can also deploy the Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="81f54-131">Il processo è simile per Windows e per Linux ed è documentato per i cluster Windows nell'articolo [Come raccogliere log con Diagnostica di Azure](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="81f54-131">The process is similar for Windows and Linux and is documented for Windows clusters in [How to collect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="81f54-132">È anche possibile usare Operations Management Suite, come descritto in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/) (Analisi dei log di Operations Management Suite con Linux).</span><span class="sxs-lookup"><span data-stu-id="81f54-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="81f54-133">Dopo aver terminato la configurazione, l'agente di Diagnostica di Azure per Linux monitora i file di log specificati.</span><span class="sxs-lookup"><span data-stu-id="81f54-133">After you finish this configuration, the LAD agent monitors the specified log files.</span></span> <span data-ttu-id="81f54-134">Ogni volta che viene aggiunta una nuova riga al file, l'agente crea una voce syslog che viene inviata alla risorsa di archiviazione specificata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="81f54-134">Whenever a new line is appended to the file, it creates a syslog entry that is sent to the storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="81f54-135">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="81f54-135">Next steps</span></span>

<span data-ttu-id="81f54-136">Per comprendere più nel dettaglio gli eventi da esaminare durante la risoluzione dei problemi, vedere la [documentazione di LTTng](http://lttng.org/docs) e l'articolo relativo all'[uso dell'estensione Diagnostica di Azure per Linux](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="81f54-136">To understand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>