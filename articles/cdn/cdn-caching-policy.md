---
title: criteri di memorizzazione nella cache della rete CDN di Azure in servizi multimediali di Azure aaaManage | Documenti Microsoft
description: Informazioni su come toomanage criteri di memorizzazione nella cache della rete CDN di Azure in servizi multimediali di Azure.
services: media-services,cdn
documentationcenter: .NET
author: juliako
manager: erikre
editor: 
ms.assetid: be33aecc-6dbe-43d7-a056-10ba911e0e94
ms.service: media-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/04/2017
ms.author: juliako
ms.openlocfilehash: 4c7ee2922fcbb5727e10fbe44fc6e61b79f6917c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="manage-azure-cdn-caching-policy-in-azure-media-services"></a><span data-ttu-id="dce09-103">Gestire i criteri di memorizzazione nella cache della rete CDN di Azure in Servizi multimediali di Azure</span><span class="sxs-lookup"><span data-stu-id="dce09-103">Manage Azure CDN caching policy in Azure Media Services</span></span>
<span data-ttu-id="dce09-104">Servizi multimediali di Azure fornisce lo streaming adattivo e il download progressivo basati su HTTP.</span><span class="sxs-lookup"><span data-stu-id="dce09-104">Azure Media Services provides HTTP based Adaptive Streaming and progressive download.</span></span> <span data-ttu-id="dce09-105">Lo streaming basato su HTTP è altamente scalabile con i vantaggi della cache nei livelli proxy e di rete CDN, nonché della cache sul lato client.</span><span class="sxs-lookup"><span data-stu-id="dce09-105">HTTP based streaming is highly scalable with benefits of caching in proxy and CDN layers as well as client side caching.</span></span> <span data-ttu-id="dce09-106">Gli endpoint di streaming forniscono funzionalità di streaming generale e configurazione per le intestazioni di cache HTTP.</span><span class="sxs-lookup"><span data-stu-id="dce09-106">Streaming endpoints provides general streaming capabilities and also configuration for HTTP cache headers.</span></span> <span data-ttu-id="dce09-107">Gli endpoint di streaming impostano le intestazioni HTTP Cache-Control: max-age ed Expires.</span><span class="sxs-lookup"><span data-stu-id="dce09-107">Streaming endpoints sets HTTP Cache-Control: max-age and Expires headers.</span></span> <span data-ttu-id="dce09-108">È possibile ottenere ulteriori informazioni per le intestazioni della cache HTTP da [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span><span class="sxs-lookup"><span data-stu-id="dce09-108">You can get more information for HTTP cache headers from [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span></span>

## <a name="default-caching-headers"></a><span data-ttu-id="dce09-109">Intestazioni di memorizzazione nella cache predefinite</span><span class="sxs-lookup"><span data-stu-id="dce09-109">Default Caching headers</span></span>
<span data-ttu-id="dce09-110">Per impostazione predefinita, gli endpoint di streaming applicano intestazioni di cache di 3 giorni per i dati di streaming on demand (frammenti multimediali effettivi/blocchi) e manifest(playlist).</span><span class="sxs-lookup"><span data-stu-id="dce09-110">By default streaming-endpoints apply 3 day cache headers for on-demand streaming data (actual media fragments/chunks) and manifest(playlist).</span></span> <span data-ttu-id="dce09-111">Per lo streaming live, gli endpoint di streaming applicano intestazioni di cache di 3 giorni per i dati (frammenti multimediali effettivi/blocchi) e intestazioni di cache di 2 secondi per le richieste manifest(playlist).</span><span class="sxs-lookup"><span data-stu-id="dce09-111">For live streaming, streaming endpoints apply 3 day cache headers for data (actual media fragments/chunks) and 2 seconds cache header for manifest(playlist) requests.</span></span> <span data-ttu-id="dce09-112">Quando si programma in diretta attiva richiesta tooon (archivio in tempo reale) quindi applicano le intestazioni della cache di streaming su richiesta.</span><span class="sxs-lookup"><span data-stu-id="dce09-112">When live program turns tooon-demand (live archive) then on-demand streaming cache headers apply.</span></span>

## <a name="azure-cdn-integration"></a><span data-ttu-id="dce09-113">Integrazione della rete CDN di Azure</span><span class="sxs-lookup"><span data-stu-id="dce09-113">Azure CDN integration</span></span>
<span data-ttu-id="dce09-114">Servizi multimediali di Azure fornisce [la rete CDN integrata](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) per gli endpoint di streaming.</span><span class="sxs-lookup"><span data-stu-id="dce09-114">Azure Media Services provides [integrated CDN](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) for streaming-endpoints.</span></span> <span data-ttu-id="dce09-115">Intestazioni cache-control applica in hello stesso modo in streaming tooCDN endpoint abilitato l'endpoint di streaming.</span><span class="sxs-lookup"><span data-stu-id="dce09-115">Cache-control headers applies in hello same way as streaming endpoints tooCDN enabled streaming endpoints.</span></span> <span data-ttu-id="dce09-116">Azure CDN vengono utilizzati flussi endpoint configurato cache valori toodefine hello durata di hello internamente memorizzati nella cache gli oggetti e Usa anche le intestazioni di cache questo valore tooset hello recapito.</span><span class="sxs-lookup"><span data-stu-id="dce09-116">Azure CDN uses streaming endpoint configured cache values toodefine hello life time of hello internally cached objects and also uses this value tooset hello delivery cache headers.</span></span> <span data-ttu-id="dce09-117">Quando gli endpoint di streaming abilitato l'utilizzo della rete CDN non è consigliabile tooset i valori della cache è ridotta.</span><span class="sxs-lookup"><span data-stu-id="dce09-117">When using CDN enabled streaming endpoints it is not recommended tooset small cache values.</span></span> <span data-ttu-id="dce09-118">Impostazione dei valori di piccole dimensioni verrà ridurre le prestazioni di hello e ridurre il vantaggio di hello della rete CDN.</span><span class="sxs-lookup"><span data-stu-id="dce09-118">Setting small values will decrease hello performance and reduce hello benefit of CDN.</span></span> <span data-ttu-id="dce09-119">Non è consentito intestazioni cache tooset minore di 600 secondi per la rete CDN abilitato l'endpoint di streaming.</span><span class="sxs-lookup"><span data-stu-id="dce09-119">It is not allowed tooset cache headers smaller than 600 seconds for CDN enabled streaming endpoints.</span></span>

> [!IMPORTANT]
><span data-ttu-id="dce09-120">Servizi multimediali di Azure assicura una perfetta integrazione con la rete CDN di Azure.</span><span class="sxs-lookup"><span data-stu-id="dce09-120">Azure Media Services has complete integration with Azure CDN.</span></span> <span data-ttu-id="dce09-121">È possibile integrare tutti hello disponibili rete CDN di Azure provider (Akamai e Verizon) tooyour endpoint, compresi i prodotti della rete CDN Standard e Premium di streaming con un solo clic.</span><span class="sxs-lookup"><span data-stu-id="dce09-121">With a single click you can integrate all hello available Azure CDN providers (Akamai and Verizon) tooyour streaming endpoint including CDN Standard and Premium products.</span></span> <span data-ttu-id="dce09-122">Per altre informazioni, vedere questo [annuncio](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span><span class="sxs-lookup"><span data-stu-id="dce09-122">For more information, see this [announcement](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span></span>
> 
> <span data-ttu-id="dce09-123">Gli addebiti di dati dal flusso endpoint tooCDN Ottiene disabilitata solo se hello CDN è abilitata tramite le API di endpoint di streaming o utilizzando una sezione di endpoint di streaming del portale di gestione di Azure.</span><span class="sxs-lookup"><span data-stu-id="dce09-123">Data charges from streaming endpoint tooCDN only gets disabled if hello CDN is enabled over streaming endpoint APIs or using Azure management portal's streaming endpoint section.</span></span> <span data-ttu-id="dce09-124">Integrazione manuale o direttamente la creazione di un endpoint rete CDN utilizzando le API di rete CDN o sezione portale gli addebiti di hello dati non verrà disabilitato.</span><span class="sxs-lookup"><span data-stu-id="dce09-124">Manual integration or directly creating a CDN endpoint using CDN APIs or portal section will not disable hello data charges.</span></span>

## <a name="configuring-cache-headers-with-azure-media-services"></a><span data-ttu-id="dce09-125">Configurazione delle intestazioni della cache con Servizi multimediali di Azure</span><span class="sxs-lookup"><span data-stu-id="dce09-125">Configuring cache headers with Azure Media Services</span></span>
<span data-ttu-id="dce09-126">È possibile utilizzare il portale di gestione di Azure o i valori dell'intestazione cache tooconfigure le API di servizi multimediali di Azure.</span><span class="sxs-lookup"><span data-stu-id="dce09-126">You can use Azure Management portal or Azure Media Services APIs tooconfigure cache header values.</span></span>

1. <span data-ttu-id="dce09-127">le intestazioni di cache tooconfigure tramite Gestione portale consultare troppo[come endpoint di Streaming tooManage](../media-services/media-services-portal-manage-streaming-endpoints.md) hello di sezione Configurazione Endpoint di Streaming.</span><span class="sxs-lookup"><span data-stu-id="dce09-127">tooconfigure cache headers using management portal please refer too[How tooManage Streaming Endpoints](../media-services/media-services-portal-manage-streaming-endpoints.md) section Configuring hello Streaming Endpoint.</span></span>
2. <span data-ttu-id="dce09-128">API REST di Servizi multimediali di Azure, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span><span class="sxs-lookup"><span data-stu-id="dce09-128">Azure Media Services REST API, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span></span>
3. <span data-ttu-id="dce09-129">SDK .NET di Servizi multimediali di Azure, [Proprietà StreamingEndpointCacheControl](http://go.microsoft.com/fwlink/?LinkId=615302).</span><span class="sxs-lookup"><span data-stu-id="dce09-129">Azure Media Services .NET SDK, [StreamingEndpointCacheControl Properties](http://go.microsoft.com/fwlink/?LinkId=615302).</span></span>

## <a name="cache-configuration-precedence-order"></a><span data-ttu-id="dce09-130">Ordine di precedenza di configurazione della cache</span><span class="sxs-lookup"><span data-stu-id="dce09-130">Cache configuration precedence order</span></span>
1. <span data-ttu-id="dce09-131">Il valore della cache configurato di Servizi multimediali di Azure sostituisce il valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="dce09-131">Azure Media Services configured cache value overrides default value.</span></span>
2. <span data-ttu-id="dce09-132">Se non è presente alcuna configurazione manuale, vengono applicati i valori predefiniti.</span><span class="sxs-lookup"><span data-stu-id="dce09-132">If there is no manual configuration, default values applies.</span></span>
3. <span data-ttu-id="dce09-133">2 secondi si applica intestazioni cache toolive streaming manifest(playlist) indipendentemente dalla configurazione di archiviazione di Azure o del supporto di Azure e si esegue l'override di questo valore non è disponibile per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="dce09-133">By default 2 seconds cache headers applies toolive streaming manifest(playlist) regardless of Azure Media or Azure Storage configuration and overriding of this value is not available.</span></span>

