---
title: 'Servizio di sincronizzazione Azure AD Connect: informazioni su utenti e contatti | Documentazione Microsoft'
description: Informazioni su utenti e contatti nel Servizio di sincronizzazione Azure AD Connect.
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
ms.assetid: 8d204647-213a-4519-bd62-49563c421602
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: markvi;andkjell
ms.openlocfilehash: 495e926a1975128707212ba571d47cfc7c9507b3
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-understanding-users-and-contacts"></a><span data-ttu-id="7eb1f-103">Servizio di sincronizzazione Azure AD Connect: Informazioni su utenti e contatti</span><span class="sxs-lookup"><span data-stu-id="7eb1f-103">Azure AD Connect sync: Understanding Users and Contacts</span></span>
<span data-ttu-id="7eb1f-104">I motivi per cui possono essere presenti più foreste Active Directory e sono disponibili più topologie di distribuzione sono diversi.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-104">There are several different reasons why you would have multiple Active Directory forests and there are several different deployment topologies.</span></span> <span data-ttu-id="7eb1f-105">I modelli comuni prevedono una distribuzione account-risorse e foreste sincronizzate tramite Elenco indirizzi globale dopo operazioni di fusione e acquisizione.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-105">Common models include an account-resource deployment and GAL sync’ed forests after a merger & acquisition.</span></span> <span data-ttu-id="7eb1f-106">Anche se esistono modelli puri, sono molto diffusi anche i modelli ibridi.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-106">But even if there are pure models, hybrid models are common as well.</span></span> <span data-ttu-id="7eb1f-107">La configurazione predefinita nel servizio di sincronizzazione Azure AD Connect non presuppone alcun modello specifico, ma è possibile osservare diversi comportamenti in base all'opzione di corrispondenza utenti selezionata nella guida all'installazione.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-107">The default configuration in Azure AD Connect sync does not assume any particular model but depending on how user matching was selected in the installation guide, different behaviors can be observed.</span></span>

<span data-ttu-id="7eb1f-108">Questo argomento illustra il comportamento della configurazione predefinita in determinate topologie.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-108">In this topic, we will go through how the default configuration behaves in certain topologies.</span></span> <span data-ttu-id="7eb1f-109">Sarà anche possibile esaminare la configurazione tramite l'editor delle regole di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-109">We will go through the configuration and the Synchronization Rules Editor can be used to look at the configuration.</span></span>

<span data-ttu-id="7eb1f-110">La configurazione presuppone le regole generali seguenti:</span><span class="sxs-lookup"><span data-stu-id="7eb1f-110">There are a few general rules the configuration assumes:</span></span>

* <span data-ttu-id="7eb1f-111">Indipendentemente dall'ordine di importazione dalle directory di Active Directory di origine, il risultato finale sarà sempre lo stesso.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-111">Regardless of which order we import from the source Active Directories, the end result should always be the same.</span></span>
* <span data-ttu-id="7eb1f-112">Un account attivo fornirà sempre le informazioni di accesso, inclusi gli attributi **userPrincipalName** e **sourceAnchor**.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-112">An active account will always contribute sign-in information, including **userPrincipalName** and **sourceAnchor**.</span></span>
* <span data-ttu-id="7eb1f-113">Un account disabilitato fornirà gli attributi userPrincipalName e sourceAnchor, a meno che non si tratti di una cassetta postale collegata, se non è presente alcun account attivo da trovare.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-113">A disabled account will contribute userPrincipalName and sourceAnchor, unless it is a linked mailbox, if there is no active account to be found.</span></span>
* <span data-ttu-id="7eb1f-114">Un account con una cassetta postale collegata non verrà usato per gli attributi userPrincipalName e sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-114">An account with a linked mailbox will never be used for userPrincipalName and sourceAnchor.</span></span> <span data-ttu-id="7eb1f-115">Si presuppone che un account attivo venga trovato in seguito.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-115">It is assumed that an active account will be found later.</span></span>
* <span data-ttu-id="7eb1f-116">È possibile eseguire il provisioning di un oggetto contatto in Azure AD come contatto o come utente.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-116">A contact object might be provisioned to Azure AD as a contact or as a user.</span></span> <span data-ttu-id="7eb1f-117">Questa informazione non è nota finché tutte le foreste Active Directory di origine non sono state elaborate.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-117">You don’t really know until all source Active Directory forests have been processed.</span></span>

## <a name="contacts"></a><span data-ttu-id="7eb1f-118">Contatti</span><span class="sxs-lookup"><span data-stu-id="7eb1f-118">Contacts</span></span>
<span data-ttu-id="7eb1f-119">I contatti che rappresentano un utente in una foresta diversa costituiscono una situazione comune dopo un'operazione di acquisizione o fusione in cui la soluzione GALSync collega due o più foreste di Exchange.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-119">Having contacts representing a user in a different forest is common after a merger & acquisition where a GALSync solution is bridging two or more Exchange forests.</span></span> <span data-ttu-id="7eb1f-120">L'oggetto contatto viene sempre aggiunto dallo spazio connettore allo spazio metaverse usando l'attributo mail.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-120">The contact object is always joining from the connector space to the metaverse using the mail attribute.</span></span> <span data-ttu-id="7eb1f-121">Se è già presente un oggetto contatto o un oggetto utente con lo stesso indirizzo di posta elettronica, gli oggetti vengono uniti.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-121">If there is already a contact object or user object with the same mail address, the objects are joined together.</span></span> <span data-ttu-id="7eb1f-122">Questo comportamento è configurato nella regola **In ingresso da Active Directory - Aggiunta contatto**.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-122">This is configured in the rule **In from AD – Contact Join**.</span></span> <span data-ttu-id="7eb1f-123">Esiste anche una regola denominata **In ingresso da Active Directory - Contatto comune** con un flusso dell'attributo all'attributo metaverse **sourceObjectType** con la costante **Contact**.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-123">There is also a rule named **In from AD – Contact Common** with an attribute flow to the metaverse attribute **sourceObjectType** with the constant **Contact**.</span></span> <span data-ttu-id="7eb1f-124">Questa regola presenta una precedenza molto bassa, quindi se un oggetto utente viene aggiunto allo stesso oggetto metaverse, la regola **In ingresso da Active Directory - Utente comune** fornirà il valore Utente a questo attributo.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-124">This rule has very low precedence so if any user object is joined to the same metaverse object, then the rule **In from AD – User Common** will contribute the value User to this attribute.</span></span> <span data-ttu-id="7eb1f-125">Con questa regola l'attributo avrà il valore Contact solo se non sono stati aggiunti utenti e il valore User se è stato trovato almeno un utente.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-125">With this rule, this attribute will have the value Contact if no user has been joined and the value User if at least one user has been found.</span></span>

<span data-ttu-id="7eb1f-126">Per eseguire il provisioning di un oggetto in Azure AD, la regola in uscita **In uscita ad Azure AD - Unione contatto** creerà un oggetto contatto se l'attributo metaverse **sourceObjectType** è impostato su **Contatto**.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-126">For provisioning an object to Azure AD, the outbound rule **Out to AAD – Contact Join** will create a contact object if the metaverse attribute **sourceObjectType** is set to **Contact**.</span></span> <span data-ttu-id="7eb1f-127">Se questo attributo è impostato su **Utente**, la regola **In uscita ad Azure AD - Unione utente** creerà un oggetto utente.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-127">If this attribute is set to **User**, then the rule **Out to AAD – User Join** will create a user object instead.</span></span>
<span data-ttu-id="7eb1f-128">È possibile che un oggetto venga innalzato di livello da Contact a User quando vengono importate e sincronizzate più directory di Active Directory di origine.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-128">It is possible that an object is promoted from Contact to User when more source Active Directories are imported and synchronized.</span></span>

<span data-ttu-id="7eb1f-129">Ad esempio, in una topologia GALSync saranno presenti oggetti contatto per tutti gli oggetti della seconda foresta quando si importa la prima.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-129">For example, in a GALSync topology we will find contact objects for everyone in the second forest when we import the first forest.</span></span> <span data-ttu-id="7eb1f-130">Verranno quindi inseriti nuovi oggetti contatto nel connettore AAD.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-130">This will stage new contact objects in the AAD Connector.</span></span> <span data-ttu-id="7eb1f-131">Quando in seguito si importa e si sincronizza la seconda foresta, saranno presenti gli utenti effettivi che verranno aggiunti agli oggetti metaverse esistenti.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-131">When we later import and synchronize the second forest, we will find the real users and join them to the existing metaverse objects.</span></span> <span data-ttu-id="7eb1f-132">Si procederà quindi all'eliminazione dell'oggetto contatto in Azure AD e verrà creato un nuovo oggetto utente.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-132">We will then delete the contact object in AAD and create a new user object instead.</span></span>

<span data-ttu-id="7eb1f-133">In una topologia in cui gli utenti sono rappresentati come contatti, nella guida all'installazione assicurarsi di selezionare la corrispondenza degli utenti in base all'attributo Mail.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-133">If you have a topology where users are represented as contacts, make sure you select to match users on the mail attribute in the installation guide.</span></span> <span data-ttu-id="7eb1f-134">Se si seleziona un'altra opzione, si otterrà una configurazione dipendente dall'ordine.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-134">If you select another option, then you will have an order dependent configuration.</span></span> <span data-ttu-id="7eb1f-135">L'aggiunta degli oggetti contatto verrà sempre eseguita in base all'attributo Mail, ma gli oggetti utente verranno aggiunti in base all'attributo Mail solo se questa opzione è stata selezionata nella guida all'installazione.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-135">Contact objects will always join on the mail attribute, but user objects will only join on the mail attribute if this option was selected in the installation guide.</span></span> <span data-ttu-id="7eb1f-136">Se l'oggetto contatto viene importato prima dell'oggetto utente, nell'oggetto metaverse potrebbero essere presenti due oggetti diversi con lo stesso attributo Mail.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-136">You could then end up with two different objects in the metaverse with the same mail attribute if the contact object was imported before the user object.</span></span> <span data-ttu-id="7eb1f-137">Durante l'esportazione in Azure AD, verrà generato un errore.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-137">During export to Azure AD, an error will be thrown.</span></span> <span data-ttu-id="7eb1f-138">Si tratta di un comportamento da progettazione che indica che sono presenti dati non validi o che durante l'installazione la topologia non è stata identificata correttamente.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-138">This behavior is by design and would indicate bad data or that the topology was not correctly identified during the installation.</span></span>

## <a name="disabled-accounts"></a><span data-ttu-id="7eb1f-139">Account disabilitati</span><span class="sxs-lookup"><span data-stu-id="7eb1f-139">Disabled accounts</span></span>
<span data-ttu-id="7eb1f-140">Anche gli account disabilitati vengono sincronizzati con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-140">Disabled accounts are synchronized as well to Azure AD.</span></span> <span data-ttu-id="7eb1f-141">Gli account disabilitati in genere rappresentano le risorse in Exchange, ad esempio le sale riunioni.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-141">Disabled accounts are common to represent resources in Exchange, for example conference rooms.</span></span> <span data-ttu-id="7eb1f-142">Fanno eccezione gli utenti con una cassetta postale collegata. Come indicato in precedenza, per questi non verrà mai eseguito il provisioning di un account in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-142">The exception is users with a linked mailbox; as previously mentioned, these will never provision an account to Azure AD.</span></span>

<span data-ttu-id="7eb1f-143">Si presuppone che se viene trovato un account utente disabilitato, non verrà trovato un altro account attivo successivamente e verrà effettuato il provisioning dell'oggetto in Azure AD con gli attributi userPrincipalName e sourceAnchor trovati.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-143">The assumption is that if a disabled user account is found, then we will not find another active account later and the object is provisioned to Azure AD with the userPrincipalName and sourceAnchor found.</span></span> <span data-ttu-id="7eb1f-144">Se un altro account attivo viene aggiunto allo stesso oggetto metaverse, verranno usati i relativi attributi userPrincipalName e sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-144">In case another active account will join to the same metaverse object, then its userPrincipalName and sourceAnchor will be used.</span></span>

## <a name="changing-sourceanchor"></a><span data-ttu-id="7eb1f-145">Modifica dell'attributo sourceAnchor</span><span class="sxs-lookup"><span data-stu-id="7eb1f-145">Changing sourceAnchor</span></span>
<span data-ttu-id="7eb1f-146">Dopo che un oggetto è stato esportato in Azure AD, non è più possibile modificarne l'attributo sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-146">When an object has been exported to Azure AD then it is not allowed to change the sourceAnchor anymore.</span></span> <span data-ttu-id="7eb1f-147">Dopo che l'oggetto è stato esportato, l'attributo metaverse **cloudSourceAnchor** viene impostato sul valore **sourceAnchor** accettato da Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-147">When the object has been exported the metaverse attribute **cloudSourceAnchor** is set with the **sourceAnchor** value accepted by Azure AD.</span></span> <span data-ttu-id="7eb1f-148">Se **sourceAnchor** viene modificato e non corrisponde a **cloudSourceAnchor**, la regola **In uscita ad Azure AD - Unisci utente** genera un errore indicante che **l'attributo sourceAnchor è stato modificato**.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-148">If **sourceAnchor** is changed and not match **cloudSourceAnchor**, the rule **Out to AAD – User Join** will throw the error **sourceAnchor attribute has changed**.</span></span> <span data-ttu-id="7eb1f-149">In questo caso, è necessario correggere la configurazione o i dati in modo che lo stesso attributo sourceAnchor sia di nuovo presente nell'oggetto metaverse prima che l'oggetto venga sincronizzato di nuovo.</span><span class="sxs-lookup"><span data-stu-id="7eb1f-149">In this case, the configuration or data must be corrected so the same sourceAnchor is present in the metaverse again before the object can be synchronized again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7eb1f-150">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="7eb1f-150">Additional Resources</span></span>
* [<span data-ttu-id="7eb1f-151">Servizio di sincronizzazione Azure AD Connect: Personalizzazione delle opzioni di sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="7eb1f-151">Azure AD Connect Sync: Customizing Synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="7eb1f-152">Integrazione delle identità locali con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7eb1f-152">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

