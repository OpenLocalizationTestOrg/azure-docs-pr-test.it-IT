---
title: l'autenticazione di Azure Active Directory aaaConfigure - SQL | Documenti Microsoft
description: Informazioni su come tooconnect tooSQL Database e SQL Data Warehouse mediante autenticazione di Azure Active Directory.
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/10/2017
ms.author: rickbyh
ms.openlocfilehash: d6222da0b840f96d4bcfbc02964dc7c54d5ea1ee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="configure-and-manage-azure-active-directory-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="d732a-103">Configurare e gestire l'autenticazione di Azure Active Directory con il database SQL oppure con SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="d732a-103">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>

<span data-ttu-id="d732a-104">In questo articolo illustra come toocreate popolare Azure AD e quindi utilizzare Azure AD con Database SQL di Azure e SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-104">This article shows you how toocreate and populate Azure AD, and then use Azure AD with Azure SQL Database and SQL Data Warehouse.</span></span> <span data-ttu-id="d732a-105">Per una panoramica vedere [Autenticazione di Azure Active Directory](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="d732a-105">For an overview, see [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>

>  [!NOTE]  
>  <span data-ttu-id="d732a-106">Connessione tooSQL Server in esecuzione in una macchina virtuale di Azure non è supportato con un account Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-106">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="d732a-107">Usare un account Active Directory di dominio.</span><span class="sxs-lookup"><span data-stu-id="d732a-107">Use a domain Active Directory account instead.</span></span>

## <a name="create-and-populate-an-azure-ad"></a><span data-ttu-id="d732a-108">Creare e popolare un'istanza di Azure AD</span><span class="sxs-lookup"><span data-stu-id="d732a-108">Create and populate an Azure AD</span></span>
<span data-ttu-id="d732a-109">Creare un'istanza di Azure AD e popolarla con utenti e gruppi.</span><span class="sxs-lookup"><span data-stu-id="d732a-109">Create an Azure AD and populate it with users and groups.</span></span> <span data-ttu-id="d732a-110">Azure AD può essere hello dominio gestito di Azure Active Directory del dominio iniziale.</span><span class="sxs-lookup"><span data-stu-id="d732a-110">Azure AD can be hello initial domain Azure AD managed domain.</span></span> <span data-ttu-id="d732a-111">Azure AD può essere anche un locale Active Directory Domain Services che è federata con Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-111">Azure AD can also be an on-premises Active Directory Domain Services that is federated with hello Azure AD.</span></span>

<span data-ttu-id="d732a-112">Per ulteriori informazioni, vedere [integrazione delle identità locali con Azure Active Directory](../active-directory/active-directory-aadconnect.md), [aggiungere la propria tooAzure nome di dominio Active Directory](../active-directory/active-directory-add-domain.md), [Microsoft Azure supporta ora la federazione con Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [amministrazione della directory di Azure AD](https://msdn.microsoft.com/library/azure/hh967611.aspx), [gestire Azure AD tramite Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), e [identità ibride Porte e protocolli obbligatori](../active-directory/active-directory-aadconnect-ports.md).</span><span class="sxs-lookup"><span data-stu-id="d732a-112">For more information, see [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Manage Azure AD using Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), and [Hybrid Identity Required Ports and Protocols](../active-directory/active-directory-aadconnect-ports.md).</span></span>

## <a name="optional-associate-or-change-hello-active-directory-that-is-currently-associated-with-your-azure-subscription"></a><span data-ttu-id="d732a-113">Facoltativo: Associare o modificare hello active directory a cui è attualmente associato alla sottoscrizione di Azure</span><span class="sxs-lookup"><span data-stu-id="d732a-113">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription</span></span>
<span data-ttu-id="d732a-114">tooassociate il database con la directory hello Azure AD per l'organizzazione, creare directory hello una directory attendibile per database di hosting hello di hello sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="d732a-114">tooassociate your database with hello Azure AD directory for your organization, make hello directory a trusted directory for hello Azure subscription hosting hello database.</span></span> <span data-ttu-id="d732a-115">Per altre informazioni, vedere [Associazione delle sottoscrizioni di Azure ad Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-115">For more information, see [How Azure subscriptions are associated with Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span></span>

<span data-ttu-id="d732a-116">**Altre informazioni:** ogni sottoscrizione di Azure ha una relazione di trust con un'istanza di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-116">**Additional information:** Every Azure subscription has a trust relationship with an Azure AD instance.</span></span> <span data-ttu-id="d732a-117">Ciò significa che tale tooauthenticate directory considera attendibili gli utenti, servizi e dispositivi.</span><span class="sxs-lookup"><span data-stu-id="d732a-117">This means that it trusts that directory tooauthenticate users, services, and devices.</span></span> <span data-ttu-id="d732a-118">Più sottoscrizioni possono considerare attendibile hello stessa directory, ma una sottoscrizione considera attendibile solo una directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-118">Multiple subscriptions can trust hello same directory, but a subscription trusts only one directory.</span></span> <span data-ttu-id="d732a-119">È possibile visualizzare la directory considerata attendibile dalla sottoscrizione nella hello **impostazioni** scheda in [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="d732a-119">You can see which directory is trusted by your subscription under hello **Settings** tab at [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="d732a-120">Questa relazione di trust che dispone di una sottoscrizione con una directory è diversa dalla relazione hello che dispone di una sottoscrizione con tutte le altre risorse in Azure (siti Web, database e così via), che sono piuttosto risorse figlio di una sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="d732a-120">This trust relationship that a subscription has with a directory is unlike hello relationship that a subscription has with all other resources in Azure (websites, databases, and so on), which are more like child resources of a subscription.</span></span> <span data-ttu-id="d732a-121">Arresta anche se una sottoscrizione scade, accesso toothose ad altre risorse associate alla sottoscrizione hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-121">If a subscription expires, then access toothose other resources associated with hello subscription also stops.</span></span> <span data-ttu-id="d732a-122">Directory hello rimane in Azure, ma è possibile associare un'altra sottoscrizione a tale directory e continuare utenti toomanage hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-122">But hello directory remains in Azure, and you can associate another subscription with that directory and continue toomanage hello directory users.</span></span> <span data-ttu-id="d732a-123">Per altre informazioni sulle risorse, vedere [Informazioni sull'accesso alle risorse di Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-123">For more information about resources, see [Understanding resource access in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span></span>

<span data-ttu-id="d732a-124">Hello procedure seguenti viene descritto come hello toochange associata directory per una sottoscrizione specificata.</span><span class="sxs-lookup"><span data-stu-id="d732a-124">hello following procedures show you how toochange hello associated directory for a given subscription.</span></span>
1. <span data-ttu-id="d732a-125">Connettersi tooyour [portale di Azure classico](https://manage.windowsazure.com/) utilizzando un amministratore della sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="d732a-125">Connect tooyour [Azure Classic Portal](https://manage.windowsazure.com/) by using an Azure subscription administrator.</span></span>
2. <span data-ttu-id="d732a-126">Nel banner sinistro hello, selezionare **impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="d732a-126">On hello left banner, select **SETTINGS**.</span></span>
3. <span data-ttu-id="d732a-127">Le sottoscrizioni vengono visualizzate nella schermata Impostazioni hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-127">Your subscriptions appear in hello settings screen.</span></span> <span data-ttu-id="d732a-128">Se lo si desidera hello sottoscrizione non viene visualizzata, fare clic su **sottoscrizioni** nella parte superiore di hello, elenco a discesa hello **filtro dalla DIRECTORY** casella selezionare hello directory che contiene le sottoscrizioni e quindi fare clic su **Applica**.</span><span class="sxs-lookup"><span data-stu-id="d732a-128">If hello desired subscription does not appear, click **Subscriptions** at hello top, drop down hello **FILTER BY DIRECTORY** box and select hello directory that contains your subscriptions, and then click **APPLY**.</span></span>
   
    ![selezionare la sottoscrizione][4]
4. <span data-ttu-id="d732a-130">In hello **impostazioni** area, fare clic sulla sottoscrizione e quindi fare clic su **modifica DIRECTORY** nella parte inferiore di hello della pagina hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-130">In hello **settings** area, click your subscription, and then click  **EDIT DIRECTORY** at hello bottom of hello page.</span></span>
   
    ![ad-settings-portal][5]
5. <span data-ttu-id="d732a-132">In hello **modifica DIRECTORY** selezionare hello Azure Active Directory a cui è associata a SQL Server o SQL Data Warehouse e quindi fare clic sulla freccia di hello per successivo.</span><span class="sxs-lookup"><span data-stu-id="d732a-132">In hello **EDIT DIRECTORY** box, select hello Azure Active Directory that is associated with your SQL Server or SQL Data Warehouse, and then click hello arrow for next.</span></span>
   
    ![edit-directory-select][6]
6. <span data-ttu-id="d732a-134">In hello **conferma** directory finestra di dialogo Mapping, verificare che "**verranno rimossi tutti i coamministratori.**"</span><span class="sxs-lookup"><span data-stu-id="d732a-134">In hello **CONFIRM** directory Mapping dialog box, confirm that "**All co-administrators will be removed.**"</span></span>
   
    ![edit-directory-confirm][7]
7. <span data-ttu-id="d732a-136">Fare clic su hello controllo tooreload hello portale.</span><span class="sxs-lookup"><span data-stu-id="d732a-136">Click hello check tooreload hello portal.</span></span>

   > [!NOTE]
   > <span data-ttu-id="d732a-137">Quando si modifica directory hello, i coamministratori tooall accesso, utenti di Azure AD e gruppi e gli utenti delle risorse di directory di backup vengono rimosse e non è più necessario l'accesso toothis sottoscrizione e le relative risorse.</span><span class="sxs-lookup"><span data-stu-id="d732a-137">When you change hello directory, access tooall co-administrators, Azure AD users and groups, and directory-backed resource users are removed and they no longer have access toothis subscription or its resources.</span></span> <span data-ttu-id="d732a-138">Solo per, come un amministratore del servizio, configurare l'accesso per le entità in base a una nuova directory hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-138">Only you, as a service administrator, can configure access for principals based on hello new directory.</span></span> <span data-ttu-id="d732a-139">Questa modifica potrebbe impiegare una notevole quantità di risorse tooall toopropagate di tempo.</span><span class="sxs-lookup"><span data-stu-id="d732a-139">This change might take a substantial amount of time toopropagate tooall resources.</span></span> <span data-ttu-id="d732a-140">Modifica della directory di hello, anche le modifiche hello amministratore di Azure AD per Database SQL e SQL Data Warehouse e impedire l'accesso al database per eventuali utenti di Azure AD esistenti.</span><span class="sxs-lookup"><span data-stu-id="d732a-140">Changing hello directory, also changes hello Azure AD administrator for SQL Database and SQL Data Warehouse and disallow database access for any existing Azure AD users.</span></span> <span data-ttu-id="d732a-141">salve Azure AD deve essere reimpostazione (come descritto di seguito) e Azure nuovi utenti di Active Directory devono essere creati.</span><span class="sxs-lookup"><span data-stu-id="d732a-141">hello Azure AD admin must be reset (as described below) and new Azure AD users must be created.</span></span>
   >  

## <a name="create-an-azure-ad-administrator-for-azure-sql-server"></a><span data-ttu-id="d732a-142">Creare un amministratore di Azure Active Directory per il server SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="d732a-142">Create an Azure AD administrator for Azure SQL server</span></span>
<span data-ttu-id="d732a-143">Ogni server SQL Azure (che ospita un Database SQL o SQL Data Warehouse) inizia con un account di amministratore di server singolo di messaggio per l'amministratore del server SQL Azure intera hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-143">Each Azure SQL server (which hosts a SQL Database or SQL Data Warehouse) starts with a single server administrator account that is hello administrator of hello entire Azure SQL server.</span></span> <span data-ttu-id="d732a-144">È necessario creare un secondo amministratore del server SQL, cioè un account Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-144">A second SQL Server administrator must be created, that is an Azure AD account.</span></span> <span data-ttu-id="d732a-145">Questa entità viene creata come un utente del database contenuti nel database master hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-145">This principal is created as a contained database user in hello master database.</span></span> <span data-ttu-id="d732a-146">Come amministratori, account di amministratore di hello server sono membri di hello **db_owner** ruolo in tutti gli utenti del database e immettere ogni database utente come hello **dbo** utente.</span><span class="sxs-lookup"><span data-stu-id="d732a-146">As administrators, hello server administrator accounts are members of hello **db_owner** role in every user database, and enter each user database as hello **dbo** user.</span></span> <span data-ttu-id="d732a-147">Per ulteriori informazioni sugli account amministratore di server hello, vedere [gestione di database e account di accesso nel Database SQL di Azure](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="d732a-147">For more information about hello server administrator accounts, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="d732a-148">Quando si usa Azure Active Directory con la replica geografica, amministratore di hello Azure Active Directory deve essere configurato per hello primario sia i server secondari hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-148">When using Azure Active Directory with geo-replication, hello Azure Active Directory administrator must be configured for both hello primary and hello secondary servers.</span></span> <span data-ttu-id="d732a-149">Se un server non dispone di un amministratore di Azure Active Directory, quindi gli utenti e account di accesso di Azure Active Directory errore "Impossibile connettersi" tooserver.</span><span class="sxs-lookup"><span data-stu-id="d732a-149">If a server does not have an Azure Active Directory administrator, then Azure Active Directory logins and users receive a "Cannot connect" tooserver error.</span></span>

> [!NOTE]
> <span data-ttu-id="d732a-150">Gli utenti che non sono basati su un account di Azure AD (incluso l'account amministratore del server SQL Azure hello), non è possibile creare gli utenti basati su Active Directory di Azure, perché non hanno toovalidate autorizzazioni proposte gli utenti del database con hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-150">Users that are not based on an Azure AD account (including hello Azure SQL server administrator account), cannot create Azure AD-based users, because they do not have permission toovalidate proposed database users with hello Azure AD.</span></span>
> 

## <a name="provision-an-azure-active-directory-administrator-for-your-azure-sql-server"></a><span data-ttu-id="d732a-151">Eseguire il provisioning di un amministratore di Azure Active Directory per Azure SQL Server</span><span class="sxs-lookup"><span data-stu-id="d732a-151">Provision an Azure Active Directory administrator for your Azure SQL server</span></span>

<span data-ttu-id="d732a-152">Hello due procedure seguenti illustrano come tooprovision un amministratore di Azure Active Directory per il server SQL Azure nel portale di Azure hello e tramite PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d732a-152">hello following two procedures show you how tooprovision an Azure Active Directory administrator for your Azure SQL server in hello Azure portal and by using PowerShell.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="d732a-153">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="d732a-153">Azure portal</span></span>
1. <span data-ttu-id="d732a-154">In hello [portale di Azure](https://portal.azure.com/)in hello angolo superiore destro, fare clic su toodrop la connessione di visualizzare un elenco di possibili Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-154">In hello [Azure portal](https://portal.azure.com/), in hello upper-right corner, click your connection toodrop down a list of possible Active Directories.</span></span> <span data-ttu-id="d732a-155">Scegliere hello correggere Active Directory come valore predefinito di hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-155">Choose hello correct Active Directory as hello default Azure AD.</span></span> <span data-ttu-id="d732a-156">Questo passaggio collegamenti hello associazione sottoscrizione con Active Directory con il server SQL Azure assicurandosi che hello stessa sottoscrizione utilizzata sia per Azure AD e SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d732a-156">This step links hello subscription association with Active Directory with Azure SQL server making sure that hello same subscription is used for both Azure AD and SQL Server.</span></span> <span data-ttu-id="d732a-157">(hello Azure SQL server può essere che ospita il Database di SQL Azure o Azure SQL Data Warehouse.)</span><span class="sxs-lookup"><span data-stu-id="d732a-157">(hello Azure SQL server can be hosting either Azure SQL Database or Azure SQL Data Warehouse.)</span></span>   
    <span data-ttu-id="d732a-158">![choose-ad][8]</span><span class="sxs-lookup"><span data-stu-id="d732a-158">![choose-ad][8]</span></span>   
    
2. <span data-ttu-id="d732a-159">In hello a sinistra selezionare banner **istanze di SQL Server**, selezionare il **SQL server**e quindi in hello **SQL Server** pannello, fare clic su **amministratore di Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="d732a-159">In hello left banner select **SQL servers**, select your **SQL server**, and then in hello **SQL Server** blade, click **Active Directory admin**.</span></span>   
3. <span data-ttu-id="d732a-160">In hello **amministratore di Active Directory** pannello, fare clic su **impostare l'amministratore di**.</span><span class="sxs-lookup"><span data-stu-id="d732a-160">In hello **Active Directory admin** blade, click **Set admin**.</span></span>   
    <span data-ttu-id="d732a-161">![Selezionare Active Directory](./media/sql-database-aad-authentication/select-active-directory.png)</span><span class="sxs-lookup"><span data-stu-id="d732a-161">![select active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span></span>  
    
4. <span data-ttu-id="d732a-162">In hello **aggiungere admin** pannello, cercare un utente, utente di selezionare hello o un gruppo toobe, un amministratore e quindi fare clic su **selezionare**.</span><span class="sxs-lookup"><span data-stu-id="d732a-162">In hello **Add admin** blade, search for a user, select hello user or group toobe an administrator, and then click **Select**.</span></span> <span data-ttu-id="d732a-163">(il pannello di amministrazione di Active Directory hello Visualizza tutti i membri e i gruppi di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-163">(hello Active Directory admin blade shows all members and groups of your Active Directory.</span></span> <span data-ttu-id="d732a-164">Gli utenti e i gruppi non disponibili (in grigio) non possono essere selezionati, perché non sono supportati come amministratori di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-164">Users or groups that are grayed out cannot be selected because they are not supported as Azure AD administrators.</span></span> <span data-ttu-id="d732a-165">(Vedere hello elenco di amministratori supportati in hello **le funzionalità di Azure Active Directory e le limitazioni** sezione [utilizzare Azure Active Directory l'autenticazione per l'autenticazione con il Database SQL o SQL Data Warehouse](sql-database-aad-authentication.md).) Controllo di accesso basato sui ruoli (RBAC) si applica solo a toohello portal e non viene propagato tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="d732a-165">(See hello list of supported admins in hello **Azure AD Features and Limitations** section of [Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication.md).) Role-based access control (RBAC) applies only toohello portal and is not propagated tooSQL Server.</span></span>   
    <span data-ttu-id="d732a-166">![Selezionare l'amministratore](./media/sql-database-aad-authentication/select-admin.png)</span><span class="sxs-lookup"><span data-stu-id="d732a-166">![select admin](./media/sql-database-aad-authentication/select-admin.png)</span></span>  
    
5. <span data-ttu-id="d732a-167">Nella parte superiore di hello di hello **amministratore di Active Directory** pannello, fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="d732a-167">At hello top of hello **Active Directory admin** blade, click **SAVE**.</span></span>   
    <span data-ttu-id="d732a-168">![Salvare l'impostazione dell'amministratore](./media/sql-database-aad-authentication/save-admin.png)</span><span class="sxs-lookup"><span data-stu-id="d732a-168">![save admin](./media/sql-database-aad-authentication/save-admin.png)</span></span>   

<span data-ttu-id="d732a-169">il processo di Hello di modifica di messaggio per l'amministratore potrebbe richiedere alcuni minuti.</span><span class="sxs-lookup"><span data-stu-id="d732a-169">hello process of changing hello administrator may take several minutes.</span></span> <span data-ttu-id="d732a-170">Quindi viene visualizzato di nuovo amministratore hello in hello **amministratore di Active Directory** casella.</span><span class="sxs-lookup"><span data-stu-id="d732a-170">Then hello new administrator appears in hello **Active Directory admin** box.</span></span>

   > [!NOTE]
   > <span data-ttu-id="d732a-171">Quando si configura Azure AD salve, hello nuovo nome amministratore (utente o gruppo) non può essere già presente nel database master virtuale hello come un utente di autenticazione di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d732a-171">When setting up hello Azure AD admin, hello new admin name (user or group) cannot already be present in hello virtual master database as a SQL Server authentication user.</span></span> <span data-ttu-id="d732a-172">Se presente, l'installazione di amministrazione di Azure AD hello avrà esito negativo; la creazione di rollback e che indica che tale amministratore (nome) già esiste.</span><span class="sxs-lookup"><span data-stu-id="d732a-172">If present, hello Azure AD admin setup will fail; rolling back its creation and indicating that such an admin (name) already exists.</span></span> <span data-ttu-id="d732a-173">Poiché tali un utente di autenticazione di SQL Server non fa parte di hello Azure AD, impegno tooconnect toohello server utilizzando l'autenticazione di Azure AD ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="d732a-173">Since such a SQL Server authentication user is not part of hello Azure AD, any effort tooconnect toohello server using Azure AD authentication fails.</span></span>
   > 


<span data-ttu-id="d732a-174">toolater rimuovere un amministratore, nella parte superiore di hello di hello **amministratore di Active Directory** pannello, fare clic su **rimuovere admin**, quindi fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="d732a-174">toolater remove an Admin, at hello top of hello **Active Directory admin** blade, click **Remove admin**, and then click **Save**.</span></span>

### <a name="powershell"></a><span data-ttu-id="d732a-175">PowerShell</span><span class="sxs-lookup"><span data-stu-id="d732a-175">PowerShell</span></span>
<span data-ttu-id="d732a-176">toorun i cmdlet di PowerShell, è necessario toohave Azure PowerShell installato e in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="d732a-176">toorun PowerShell cmdlets, you need toohave Azure PowerShell installed and running.</span></span> <span data-ttu-id="d732a-177">Per informazioni dettagliate, vedere [come tooinstall e configurare Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="d732a-177">For detailed information, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="d732a-178">un amministratore di Azure AD, tooprovision eseguire hello seguenti comandi PowerShell di Azure:</span><span class="sxs-lookup"><span data-stu-id="d732a-178">tooprovision an Azure AD admin, execute hello following Azure PowerShell commands:</span></span>

* <span data-ttu-id="d732a-179">Add-AzureRmAccount</span><span class="sxs-lookup"><span data-stu-id="d732a-179">Add-AzureRmAccount</span></span>
* <span data-ttu-id="d732a-180">Select-AzureRmSubscription</span><span class="sxs-lookup"><span data-stu-id="d732a-180">Select-AzureRmSubscription</span></span>

<span data-ttu-id="d732a-181">I cmdlet utilizzati tooprovision e gestire l'amministrazione di Azure AD:</span><span class="sxs-lookup"><span data-stu-id="d732a-181">Cmdlets used tooprovision and manage Azure AD admin:</span></span>

| <span data-ttu-id="d732a-182">Nome del cmdlet</span><span class="sxs-lookup"><span data-stu-id="d732a-182">Cmdlet name</span></span> | <span data-ttu-id="d732a-183">Descrizione</span><span class="sxs-lookup"><span data-stu-id="d732a-183">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="d732a-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="d732a-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/set-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="d732a-185">Esegue il provisioning di un amministratore di Azure Active Directory per il server di Azure SQL o per Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-185">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="d732a-186">(Deve essere dalla sottoscrizione corrente hello).</span><span class="sxs-lookup"><span data-stu-id="d732a-186">(Must be from hello current subscription.)</span></span> |
| [<span data-ttu-id="d732a-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="d732a-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/remove-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="d732a-188">Rimuove un amministratore di Azure Active Directory per il server di Azure SQL o per Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-188">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
| [<span data-ttu-id="d732a-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="d732a-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/get-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="d732a-190">Restituisce informazioni relative a un amministratore di Azure Active Directory attualmente configurata per il server di SQL Azure hello o Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-190">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="d732a-191">Utilizzare PowerShell comando get-help toosee ulteriori informazioni, vedere per ognuno di questi comandi, ad esempio ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span><span class="sxs-lookup"><span data-stu-id="d732a-191">Use PowerShell command get-help toosee more details for each of these commands, for example ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span></span>

<span data-ttu-id="d732a-192">Hello dopo il provisioning di uno script denominato di un gruppo di amministratori di Azure AD **DBA_Group** (id di oggetto `40b79501-b343-44ed-9ce7-da4c8cc7353f`) per hello **demo_server** server in un gruppo di risorse denominato **gruppo 23** :</span><span class="sxs-lookup"><span data-stu-id="d732a-192">hello following script provisions an Azure AD administrator group named **DBA_Group** (object id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) for hello **demo_server** server in a resource group named **Group-23**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group"
```

<span data-ttu-id="d732a-193">Hello **DisplayName** parametro di input accetta nome visualizzato hello Azure AD o hello Nome entità utente.</span><span class="sxs-lookup"><span data-stu-id="d732a-193">hello **DisplayName** input parameter accepts either hello Azure AD display name or hello User Principal Name.</span></span> <span data-ttu-id="d732a-194">Ad esempio, ``DisplayName="John Smith"`` e ``DisplayName="johns@contoso.com"``.</span><span class="sxs-lookup"><span data-stu-id="d732a-194">For example, ``DisplayName="John Smith"`` and ``DisplayName="johns@contoso.com"``.</span></span> <span data-ttu-id="d732a-195">Per hello solo gruppi di Azure AD Azure AD nome visualizzato è supportato.</span><span class="sxs-lookup"><span data-stu-id="d732a-195">For Azure AD groups only hello Azure AD display name is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="d732a-196">comando di Azure PowerShell Hello ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` impedirà di provisioning gli amministratori di Azure AD per gli utenti non supportati.</span><span class="sxs-lookup"><span data-stu-id="d732a-196">hello Azure PowerShell  command ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` does not prevent you from provisioning Azure AD admins for unsupported users.</span></span> <span data-ttu-id="d732a-197">Un utente non supportato può eseguire il provisioning, ma non è stato possibile connettersi tooa database.</span><span class="sxs-lookup"><span data-stu-id="d732a-197">An unsupported user can be provisioned, but can not connect tooa database.</span></span> 
> 

<span data-ttu-id="d732a-198">esempio Hello utilizza hello facoltativo **ObjectID**:</span><span class="sxs-lookup"><span data-stu-id="d732a-198">hello following example uses hello optional **ObjectID**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group" -ObjectId "40b79501-b343-44ed-9ce7-da4c8cc7353f"
```

> [!NOTE]
> <span data-ttu-id="d732a-199">Hello Azure AD **ObjectID** è obbligatorio quando hello **DisplayName** non è univoco.</span><span class="sxs-lookup"><span data-stu-id="d732a-199">hello Azure AD **ObjectID** is required when hello **DisplayName** is not unique.</span></span> <span data-ttu-id="d732a-200">hello tooretrieve **ObjectID** e **DisplayName** valori, utilizzare sezione Active Directory hello Classic del portale di Azure e visualizzare le proprietà di hello di un utente o gruppo.</span><span class="sxs-lookup"><span data-stu-id="d732a-200">tooretrieve hello **ObjectID** and **DisplayName** values, use hello Active Directory section of Azure Classic Portal, and view hello properties of a user or group.</span></span>
> 

<span data-ttu-id="d732a-201">Hello di esempio seguente restituisce informazioni sui salve corrente AD Azure per server SQL di Azure:</span><span class="sxs-lookup"><span data-stu-id="d732a-201">hello following example returns information about hello current Azure AD admin for Azure SQL server:</span></span>

```
Get-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server" | Format-List
```

<span data-ttu-id="d732a-202">Hello di esempio seguente rimuove un amministratore di Azure AD:</span><span class="sxs-lookup"><span data-stu-id="d732a-202">hello following example removes an Azure AD administrator:</span></span>

```
Remove-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server"
```

<span data-ttu-id="d732a-203">Tramite le API REST di hello, è possibile fornire anche un amministratore di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-203">You can also provision an Azure Active Directory Administrator by using hello REST APIs.</span></span> <span data-ttu-id="d732a-204">Per altre informazioni [informazioni di riferimento sull'API REST di gestione dei servizi e le operazioni per i database SQL di Azure](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span><span class="sxs-lookup"><span data-stu-id="d732a-204">For more information, see [Service Management REST API Reference and Operations for Azure SQL Databases Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span></span>

### <a name="cli"></a><span data-ttu-id="d732a-205">CLI</span><span class="sxs-lookup"><span data-stu-id="d732a-205">CLI</span></span>  
<span data-ttu-id="d732a-206">Si può anche effettuare il provisioning di un amministratore di Azure AD hello chiamante seguendo i comandi CLI:</span><span class="sxs-lookup"><span data-stu-id="d732a-206">You can also provision an Azure AD admin by calling hello following CLI commands:</span></span>
| <span data-ttu-id="d732a-207">Comando</span><span class="sxs-lookup"><span data-stu-id="d732a-207">Command</span></span> | <span data-ttu-id="d732a-208">Descrizione</span><span class="sxs-lookup"><span data-stu-id="d732a-208">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="d732a-209">az sql server ad-admin create</span><span class="sxs-lookup"><span data-stu-id="d732a-209">az sql server ad-admin create</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#create) |<span data-ttu-id="d732a-210">Esegue il provisioning di un amministratore di Azure Active Directory per il server di Azure SQL o per Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-210">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="d732a-211">(Deve essere dalla sottoscrizione corrente hello).</span><span class="sxs-lookup"><span data-stu-id="d732a-211">(Must be from hello current subscription.)</span></span> |
|[<span data-ttu-id="d732a-212">az sql server ad-admin delete</span><span class="sxs-lookup"><span data-stu-id="d732a-212">az sql server ad-admin delete</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#delete) |<span data-ttu-id="d732a-213">Rimuove un amministratore di Azure Active Directory per il server di Azure SQL o per Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-213">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="d732a-214">az sql server ad-admin list</span><span class="sxs-lookup"><span data-stu-id="d732a-214">az sql server ad-admin list</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#list) |<span data-ttu-id="d732a-215">Restituisce informazioni relative a un amministratore di Azure Active Directory attualmente configurata per il server di SQL Azure hello o Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-215">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="d732a-216">az sql server ad-admin update</span><span class="sxs-lookup"><span data-stu-id="d732a-216">az sql server ad-admin update</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#update) |<span data-ttu-id="d732a-217">Aggiorna l'amministratore di Active Directory hello per un server SQL di Azure o Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-217">Updates hello Active Directory administrator for an Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="d732a-218">Per altre informazioni sui comandi dell'interfaccia della riga di comando, vedere [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="d732a-218">For more information about CLI commands, see [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span></span>  


## <a name="configure-your-client-computers"></a><span data-ttu-id="d732a-219">Configurare i computer client</span><span class="sxs-lookup"><span data-stu-id="d732a-219">Configure your client computers</span></span>
<span data-ttu-id="d732a-220">In tutti i computer client, da cui le applicazioni o gli utenti connetteranno tooAzure Database SQL o utilizzando l'identità di Azure AD, Azure SQL Data Warehouse è necessario installare hello seguente software:</span><span class="sxs-lookup"><span data-stu-id="d732a-220">On all client machines, from which your applications or users connect tooAzure SQL Database or Azure SQL Data Warehouse using Azure AD identities, you must install hello following software:</span></span>

* <span data-ttu-id="d732a-221">.NET Framework 4.6 o versione successiva dalla pagina [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-221">.NET Framework 4.6 or later from [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span></span>
* <span data-ttu-id="d732a-222">Azure Active Directory Authentication Library per SQL Server (**ADALSQL. DLL**) è disponibile in più lingue (x86 e amd64) dall'area download hello in [Microsoft Active Directory Authentication Library per Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span><span class="sxs-lookup"><span data-stu-id="d732a-222">Azure Active Directory Authentication Library for SQL Server (**ADALSQL.DLL**) is available in multiple languages (both x86 and amd64) from hello download center at [Microsoft Active Directory Authentication Library for Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span></span>

<span data-ttu-id="d732a-223">È possibile soddisfare questi requisiti tramite:</span><span class="sxs-lookup"><span data-stu-id="d732a-223">You can meet these requirements by:</span></span>

* <span data-ttu-id="d732a-224">L'installazione di uno [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) o [SQL Server Data Tools per Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) hello di soddisfa il requisito di .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="d732a-224">Installing either [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) or [SQL Server Data Tools for Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) meets hello .NET Framework 4.6 requirement.</span></span>
* <span data-ttu-id="d732a-225">SQL Server Management Studio installa la versione di hello x86 di **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="d732a-225">SSMS installs hello x86 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="d732a-226">SSDT installa la versione di hello amd64 di **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="d732a-226">SSDT installs hello amd64 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="d732a-227">Hello più recente di Visual Studio da [download di Visual Studio](https://www.visualstudio.com/downloads/download-visual-studio-vs) soddisfa i requisiti di .NET Framework 4.6 hello, ma non installa versione amd64 obbligatorio hello di **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="d732a-227">hello latest Visual Studio from [Visual Studio Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) meets hello .NET Framework 4.6 requirement, but does not install hello required amd64 version of **ADALSQL.DLL**.</span></span>

## <a name="create-contained-database-users-in-your-database-mapped-tooazure-ad-identities"></a><span data-ttu-id="d732a-228">Creare utenti del database indipendente in tooAzure del database eseguito il mapping delle identità di Active Directory</span><span class="sxs-lookup"><span data-stu-id="d732a-228">Create contained database users in your database mapped tooAzure AD identities</span></span>

<span data-ttu-id="d732a-229">L'autenticazione di Azure Active Directory richiede toobe agli utenti di database creato come utenti del database indipendente.</span><span class="sxs-lookup"><span data-stu-id="d732a-229">Azure Active Directory authentication requires database users toobe created as contained database users.</span></span> <span data-ttu-id="d732a-230">Un utente del database indipendente in base a un'identità di Azure AD, è un utente del database che non dispone di un account di accesso nel database master hello e identità tooan mappe in hello directory di Azure AD associata al database hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-230">A contained database user based on an Azure AD identity, is a database user that does not have a login in hello master database, and which maps tooan identity in hello Azure AD directory that is associated with hello database.</span></span> <span data-ttu-id="d732a-231">Hello Azure AD identity può essere un singolo account utente o un gruppo.</span><span class="sxs-lookup"><span data-stu-id="d732a-231">hello Azure AD identity can be either an individual user account or a group.</span></span> <span data-ttu-id="d732a-232">Per altre informazioni sugli utenti di database indipendente, vedere [Utenti di database indipendente: rendere portabile un database](https://msdn.microsoft.com/library/ff929188.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-232">For more information about contained database users, see [Contained Database Users- Making Your Database Portable](https://msdn.microsoft.com/library/ff929188.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="d732a-233">Gli utenti del database (con eccezione hello degli amministratori) non possono essere creati usando portale.</span><span class="sxs-lookup"><span data-stu-id="d732a-233">Database users (with hello exception of administrators) cannot be created using portal.</span></span> <span data-ttu-id="d732a-234">Ruoli RBAC non vengono propagati tooSQL Server, Database SQL o SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-234">RBAC roles are not propagated tooSQL Server, SQL Database, or SQL Data Warehouse.</span></span> <span data-ttu-id="d732a-235">I ruoli Azure RBAC vengono utilizzati per la gestione delle risorse di Azure e non si applicano autorizzazioni toodatabase.</span><span class="sxs-lookup"><span data-stu-id="d732a-235">Azure RBAC roles are used for managing Azure Resources, and do not apply toodatabase permissions.</span></span> <span data-ttu-id="d732a-236">Ad esempio, hello **collaboratore di SQL Server** ruolo non consente l'accesso tooconnect toohello Database SQL o SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="d732a-236">For example, hello **SQL Server Contributor** role does not grant access tooconnect toohello SQL Database or SQL Data Warehouse.</span></span> <span data-ttu-id="d732a-237">deve disporre dell'autorizzazione di accesso Hello direttamente nel database di hello utilizzando istruzioni Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="d732a-237">hello access permission must be granted directly in hello database using Transact-SQL statements.</span></span>
>

<span data-ttu-id="d732a-238">un utente di Azure database contenuto basato su Active Directory (ad eccezione di hello amministratore del server cui appartiene il database di hello), la connessione database toohello con un'identità di Azure AD, come utente con toocreate almeno hello **ALTER ANY USER** autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="d732a-238">toocreate an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity, as a user with at least hello **ALTER ANY USER** permission.</span></span> <span data-ttu-id="d732a-239">Utilizzare quindi hello sintassi Transact-SQL seguente:</span><span class="sxs-lookup"><span data-stu-id="d732a-239">Then use hello following Transact-SQL syntax:</span></span>

```
CREATE USER <Azure_AD_principal_name> FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="d732a-240">*Azure_AD_principal_name* può essere hello nome principale di un nome di visualizzazione utente o hello Azure Active Directory per un gruppo di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-240">*Azure_AD_principal_name* can be hello user principal name of an Azure AD user or hello display name for an Azure AD group.</span></span>

<span data-ttu-id="d732a-241">**Esempi:** toocreate un utente del database indipendente che rappresenta un annuncio di Azure federati o gestiti utente di dominio:</span><span class="sxs-lookup"><span data-stu-id="d732a-241">**Examples:** toocreate a contained database user representing an Azure AD federated or managed domain user:</span></span>
```
CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;
CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="d732a-242">toocreate un utente del database indipendente che rappresenta un annuncio di Azure o federata gruppo di dominio, fornire il nome visualizzato hello di un gruppo di sicurezza:</span><span class="sxs-lookup"><span data-stu-id="d732a-242">toocreate a contained database user representing an Azure AD or federated domain group, provide hello display name of a security group:</span></span>
```
CREATE USER [ICU Nurses] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="d732a-243">toocreate un utente del database indipendente che rappresenta un'applicazione che si connette utilizzando un token di Azure AD:</span><span class="sxs-lookup"><span data-stu-id="d732a-243">toocreate a contained database user representing an application that connects using an Azure AD token:</span></span>

```
CREATE USER [appName] FROM EXTERNAL PROVIDER;
```

>  [!TIP]
>  <span data-ttu-id="d732a-244">È possibile creare un utente direttamente da Azure Active Directory diverso da hello Azure Active Directory associato alla sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="d732a-244">You cannot directly create a user from an Azure Active Directory other than hello Azure Active Directory that is associated with your Azure subscription.</span></span> <span data-ttu-id="d732a-245">Tuttavia, i membri di altre directory di Active Directory che sono gli utenti importati in hello associata Active Directory, denominata anche utenti esterni, è possibile aggiungere il gruppo di Active Directory tooan nel tenant di hello Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-245">However, members of other Active Directories that are imported users in hello associated Active Directory (known as external users) can be added tooan Active Directory group in hello tenant Active Directory.</span></span> <span data-ttu-id="d732a-246">Tramite la creazione di un utente del database indipendente per tale gruppo di Active Directory, hello gli utenti da hello esterno di Active Directory possono ottenere accesso tooSQL Database.</span><span class="sxs-lookup"><span data-stu-id="d732a-246">By creating a contained database user for that AD group, hello users from hello external Active Directory can gain access tooSQL Database.</span></span>   

<span data-ttu-id="d732a-247">Per altre informazioni sulla creazione di utenti di database indipendente basati su identità di Azure Active Directory, vedere [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-247">For more information about creating contained database users based on Azure Active Directory identities, see [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="d732a-248">Amministratore di Azure Active Directory hello rimozione per il server SQL Azure impedisce la connessione server toohello qualsiasi utente di autenticazione di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-248">Removing hello Azure Active Directory administrator for Azure SQL server prevents any Azure AD authentication user from connecting toohello server.</span></span> <span data-ttu-id="d732a-249">Se necessario, un amministratore del database SQL può eliminare manualmente gli utenti di Azure AD inutilizzabili.</span><span class="sxs-lookup"><span data-stu-id="d732a-249">If necessary, unusable Azure AD users can be dropped manually by a SQL Database administrator.</span></span>   

>  [!NOTE]
>  <span data-ttu-id="d732a-250">Se si riceve un **connessione Timeout scaduto**, potrebbe essere necessario hello tooset `TransparentNetworkIPResolution` parametro di toofalse di stringa di connessione hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-250">If you receive a **Connection Timeout Expired**, you may need tooset hello `TransparentNetworkIPResolution` parameter of hello connection string toofalse.</span></span> <span data-ttu-id="d732a-251">Per altre informazioni, vedere [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/) (Problema di timeout della connessione con .NET Framework 4.6.1 - TransparentNetworkIPResolution).</span><span class="sxs-lookup"><span data-stu-id="d732a-251">For more information, see [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span></span>   

   
<span data-ttu-id="d732a-252">Quando si crea un utente del database, che l'utente riceve hello **CONNETTI** autorizzazione e possono connettersi al database toothat come membro di hello **pubblica** ruolo.</span><span class="sxs-lookup"><span data-stu-id="d732a-252">When you create a database user, that user receives hello **CONNECT** permission and can connect toothat database as a member of hello **PUBLIC** role.</span></span> <span data-ttu-id="d732a-253">Inizialmente hello solo le autorizzazioni utente toohello disponibili sono le autorizzazioni concesse toohello **pubblica** ruolo o le autorizzazioni concesse tooany gruppi di Windows che sono membri di.</span><span class="sxs-lookup"><span data-stu-id="d732a-253">Initially hello only permissions available toohello user are any permissions granted toohello **PUBLIC** role, or any permissions granted tooany Windows groups that they are a member of.</span></span> <span data-ttu-id="d732a-254">Una volta si esegue il provisioning di un utente del database contenuti in base AD Azure, è possibile concedere autorizzazioni aggiuntive hello, hello stesso quando si concede l'autorizzazione tooany altro tipo di utente.</span><span class="sxs-lookup"><span data-stu-id="d732a-254">Once you provision an Azure AD-based contained database user, you can grant hello user additional permissions, hello same way as you grant permission tooany other type of user.</span></span> <span data-ttu-id="d732a-255">In genere concedere le autorizzazioni dei ruoli toodatabase e aggiungere gli utenti tooroles.</span><span class="sxs-lookup"><span data-stu-id="d732a-255">Typically grant permissions toodatabase roles, and add users tooroles.</span></span> <span data-ttu-id="d732a-256">Per altre informazioni, vedere l'articolo relativo alle [nozioni di base delle autorizzazioni per il motore di database](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-256">For more information, see [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span></span> <span data-ttu-id="d732a-257">Per altre informazioni sui ruoli speciali del database SQL, vedere [Gestione di database e account di accesso nel database SQL di Azure](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="d732a-257">For more information about special SQL Database roles, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>
<span data-ttu-id="d732a-258">Un utente di dominio federato che verrà importato in un dominio di gestione, è necessario utilizzare l'identità del dominio hello gestito.</span><span class="sxs-lookup"><span data-stu-id="d732a-258">A federated domain user that is imported into a manage domain, must use hello managed domain identity.</span></span>

> [!NOTE]
> <span data-ttu-id="d732a-259">Agli utenti di Azure AD sono contrassegnati nei metadati di database hello al tipo E (EXTERNAL_USER) e per i gruppi con tipo X (EXTERNAL_GROUPS).</span><span class="sxs-lookup"><span data-stu-id="d732a-259">Azure AD users are marked in hello database metadata with type E (EXTERNAL_USER) and for groups with type X (EXTERNAL_GROUPS).</span></span> <span data-ttu-id="d732a-260">Per altre informazioni, vedere [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-260">For more information, see [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span> 
>

## <a name="connect-toohello-user-database-or-data-warehouse-by-using-ssms-or-ssdt"></a><span data-ttu-id="d732a-261">Connettersi toohello utente database o data warehouse con SQL Server Management Studio o SSDT</span><span class="sxs-lookup"><span data-stu-id="d732a-261">Connect toohello user database or data warehouse by using SSMS or SSDT</span></span>  
<span data-ttu-id="d732a-262">tooconfirm messaggio Azure AD per l'amministratore sia configurato correttamente, connettersi toohello **master** database utilizzando l'account amministratore hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d732a-262">tooconfirm hello Azure AD administrator is properly set up, connect toohello **master** database using hello Azure AD administrator account.</span></span>
<span data-ttu-id="d732a-263">un utente di Azure database contenuto basato su Active Directory (ad eccezione di hello l'amministratore del server cui appartiene il database di hello) tooprovision connettersi toohello database con un'identità di Azure AD con database di access toohello.</span><span class="sxs-lookup"><span data-stu-id="d732a-263">tooprovision an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity that has access toohello database.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d732a-264">Il supporto per l'autenticazione di Azure Active Directory è disponibile con [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) e [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="d732a-264">Support for Azure Active Directory authentication is available with [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span></span> <span data-ttu-id="d732a-265">Hello versione di agosto 2016 di SQL Server Management Studio include anche il supporto per l'autenticazione universale di Active Directory, che consente agli amministratori toorequire multi-Factor Authentication con una chiamata telefonica, SMS, smart card, pin o la notifica dell'app mobile.</span><span class="sxs-lookup"><span data-stu-id="d732a-265">hello August 2016 release of SSMS also includes support for Active Directory Universal Authentication, which allows administrators toorequire Multi-Factor Authentication using a phone call, text message, smart cards with pin, or mobile app notification.</span></span>
 
## <a name="using-an-azure-ad-identity-tooconnect-using-ssms-or-ssdt"></a><span data-ttu-id="d732a-266">Utilizzando un tooconnect di identità di Azure AD utilizzando SQL Server Management Studio o SSDT</span><span class="sxs-lookup"><span data-stu-id="d732a-266">Using an Azure AD identity tooconnect using SSMS or SSDT</span></span>  

<span data-ttu-id="d732a-267">Hello, seguire le procedure seguenti viene illustrato come tooconnect tooa SQL database con un'identità di Azure AD utilizzando SQL Server Management Studio o gli strumenti di Database di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d732a-267">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity using SQL Server Management Studio or SQL Server Database Tools.</span></span>

### <a name="active-directory-integrated-authentication"></a><span data-ttu-id="d732a-268">Autenticazione integrata di Active Directory</span><span class="sxs-lookup"><span data-stu-id="d732a-268">Active Directory integrated authentication</span></span>

<span data-ttu-id="d732a-269">Utilizzare questo metodo se si è connessi in tooWindows utilizzando le credenziali di Azure Active Directory da un dominio federato.</span><span class="sxs-lookup"><span data-stu-id="d732a-269">Use this method if you are logged in tooWindows using your Azure Active Directory credentials from a federated domain.</span></span>

1. <span data-ttu-id="d732a-270">Avviare Management Studio o gli strumenti di dati e in hello **connettersi tooServer** (o **connettersi tooDatabase motore**) della finestra di dialogo hello **autenticazione** selezionare **Integrata in active Directory -**.</span><span class="sxs-lookup"><span data-stu-id="d732a-270">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Integrated**.</span></span> <span data-ttu-id="d732a-271">Password non è necessaria o può essere immesso perché le credenziali esistenti verranno presentate per la connessione hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-271">No password is needed or can be entered because your existing credentials will be presented for hello connection.</span></span>   

    ![Selezionare Autenticazione integrata di Active Directory][11]
2. <span data-ttu-id="d732a-273">Fare clic su hello **opzioni** pulsante e hello **le proprietà di connessione** hello della pagina **connettersi toodatabase** casella, il nome del tipo hello del database utente hello desiderato tooconnect A.</span><span class="sxs-lookup"><span data-stu-id="d732a-273">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="d732a-274">(hello **ID tenant o nome di dominio Active Directory**"opzione è supportata solo per **Universal con connessione di autenticazione a più fattori** opzioni, in caso contrario è disponibile.)</span><span class="sxs-lookup"><span data-stu-id="d732a-274">(hello **AD domain name or tenant ID**” option is only supported for **Universal with MFA connection** options, otherwise it is greyed out.)</span></span>  

    ![Selezionare il nome di database hello][13]

## <a name="active-directory-password-authentication"></a><span data-ttu-id="d732a-276">Autenticazione della password di Active Directory</span><span class="sxs-lookup"><span data-stu-id="d732a-276">Active Directory password authentication</span></span>

<span data-ttu-id="d732a-277">Utilizzare questo metodo quando la connessione con un nome dell'entità di Azure AD mediante Azure AD hello gestito dominio.</span><span class="sxs-lookup"><span data-stu-id="d732a-277">Use this method when connecting with an Azure AD principal name using hello Azure AD managed domain.</span></span> <span data-ttu-id="d732a-278">È possibile inoltre utilizzare per l'account federato senza dominio toohello di accesso, ad esempio quando si lavora in remoto.</span><span class="sxs-lookup"><span data-stu-id="d732a-278">You can also use it for federated account without access toohello domain, for example when working remotely.</span></span>

<span data-ttu-id="d732a-279">Utilizzare questo metodo se si è connessi tooWindows utilizzando le credenziali da un dominio che non è federato con Azure o quando si utilizza l'autenticazione di Azure AD usando Azure Active Directory in base a hello iniziale o hello dominio client.</span><span class="sxs-lookup"><span data-stu-id="d732a-279">Use this method if you are logged in tooWindows using credentials from a domain that is not federated with Azure, or when using Azure AD authentication using Azure AD based on hello initial or hello client domain.</span></span>

1. <span data-ttu-id="d732a-280">Avviare Management Studio o gli strumenti di dati e in hello **connettersi tooServer** (o **connettersi tooDatabase motore**) della finestra di dialogo hello **autenticazione** selezionare **Active Directory - Password**.</span><span class="sxs-lookup"><span data-stu-id="d732a-280">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Password**.</span></span>
2. <span data-ttu-id="d732a-281">In hello **nome utente** , digitare il nome utente di Azure Active Directory in formato hello  **username@domain.com** . Deve trattarsi di un account da hello Azure Active Directory o un account da un dominio la federazione con hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-281">In hello **User name** box, type your Azure Active Directory user name in hello format **username@domain.com**. This must be an account from hello Azure Active Directory or an account from a domain federate with hello Azure Active Directory.</span></span>
3. <span data-ttu-id="d732a-282">In hello **Password** , digitare la password dell'utente per conto di hello Azure Active Directory o account di dominio federato.</span><span class="sxs-lookup"><span data-stu-id="d732a-282">In hello **Password** box, type your user password for hello Azure Active Directory account or federated domain account.</span></span>

    ![Selezionare Autenticazione della password di Active Directory][12]
4. <span data-ttu-id="d732a-284">Fare clic su hello **opzioni** pulsante e hello **le proprietà di connessione** hello della pagina **connettersi toodatabase** casella, il nome del tipo hello del database utente hello desiderato tooconnect A.</span><span class="sxs-lookup"><span data-stu-id="d732a-284">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="d732a-285">(Vedere l'immagine di hello nell'opzione precedente hello).</span><span class="sxs-lookup"><span data-stu-id="d732a-285">(See hello graphic in hello previous option.)</span></span>

## <a name="using-an-azure-ad-identity-tooconnect-from-a-client-application"></a><span data-ttu-id="d732a-286">Utilizzando un tooconnect di identità di Azure AD da un'applicazione client</span><span class="sxs-lookup"><span data-stu-id="d732a-286">Using an Azure AD identity tooconnect from a client application</span></span>

<span data-ttu-id="d732a-287">Hello, seguire le procedure seguenti viene illustrato come tooconnect tooa SQL database con un'identità di Azure AD da un'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="d732a-287">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity from a client application.</span></span>

###  <a name="active-directory-integrated-authentication"></a><span data-ttu-id="d732a-288">Autenticazione integrata di Active Directory</span><span class="sxs-lookup"><span data-stu-id="d732a-288">Active Directory integrated authentication</span></span>

<span data-ttu-id="d732a-289">toouse autenticazione integrata di Windows, Active Directory del dominio deve essere federato con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-289">toouse integrated Windows authentication, your domain’s Active Directory must be federated with Azure Active Directory.</span></span> <span data-ttu-id="d732a-290">L'applicazione client (o un servizio) connessione database toohello deve essere in esecuzione in un computer aggiunto al dominio con credenziali di dominio dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d732a-290">Your client application (or a service) connecting toohello database must be running on a domain-joined machine under a user’s domain credentials.</span></span>

<span data-ttu-id="d732a-291">tooconnect tooa database utilizzando integrato l'autenticazione e identità di Azure AD, è necessario impostare la parola chiave autenticazione hello nella stringa di connessione database hello tooActive Directory integrata.</span><span class="sxs-lookup"><span data-stu-id="d732a-291">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword in hello database connection string must be set tooActive Directory Integrated.</span></span> <span data-ttu-id="d732a-292">Hello seguente esempio di codice c# utilizza ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="d732a-292">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Integrated; Initial Catalog=testdb;";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="d732a-293">parola chiave di stringa di connessione Hello ``Integrated Security=True`` non è supportato per la connessione tooAzure Database SQL.</span><span class="sxs-lookup"><span data-stu-id="d732a-293">hello connection string keyword ``Integrated Security=True`` is not supported for connecting tooAzure SQL Database.</span></span> <span data-ttu-id="d732a-294">Quando si effettua una connessione ODBC, sarà anche necessario tooremove spazi e impostare l'autenticazione too'ActiveDirectoryIntegrated'.</span><span class="sxs-lookup"><span data-stu-id="d732a-294">When making an ODBC connection, you will need tooremove spaces and set Authentication too'ActiveDirectoryIntegrated'.</span></span>

### <a name="active-directory-password-authentication"></a><span data-ttu-id="d732a-295">Autenticazione della password di Active Directory</span><span class="sxs-lookup"><span data-stu-id="d732a-295">Active Directory password authentication</span></span>

<span data-ttu-id="d732a-296">tooconnect tooa database utilizzando integrato l'autenticazione e identità di Azure AD, è necessario impostare parola chiave di autenticazione hello tooActive la Password della Directory.</span><span class="sxs-lookup"><span data-stu-id="d732a-296">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword must be set tooActive Directory Password.</span></span> <span data-ttu-id="d732a-297">stringa di connessione Hello deve contenere ID utente/UID e parole chiave Password o PWD e valori.</span><span class="sxs-lookup"><span data-stu-id="d732a-297">hello connection string must contain User ID/UID and Password/PWD keywords and values.</span></span> <span data-ttu-id="d732a-298">Hello seguente esempio di codice c# utilizza ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="d732a-298">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Password; Initial Catalog=testdb;  UID=bob@contoso.onmicrosoft.com; PWD=MyPassWord!";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="d732a-299">Altre informazioni sui metodi di autenticazione di Azure AD usando hello demo codici di esempio disponibile all'indirizzo [Demo di Azure Active Directory l'autenticazione di GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span><span class="sxs-lookup"><span data-stu-id="d732a-299">Learn more about Azure AD authentication methods using hello demo code samples available at [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span></span>

## <a name="azure-ad-token"></a><span data-ttu-id="d732a-300">Token Azure AD</span><span class="sxs-lookup"><span data-stu-id="d732a-300">Azure AD token</span></span>
<span data-ttu-id="d732a-301">Questo metodo di autenticazione consente a servizi di livello intermedio tooconnect tooAzure Database SQL o Azure SQL Data Warehouse ottenendo un token da Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="d732a-301">This authentication method allows middle-tier services tooconnect tooAzure SQL Database or Azure SQL Data Warehouse by obtaining a token from Azure Active Directory (AAD).</span></span> <span data-ttu-id="d732a-302">Consente scenari complessi, tra cui l'autenticazione basata su certificato.</span><span class="sxs-lookup"><span data-stu-id="d732a-302">It enables sophisticated scenarios including certificate-based authentication.</span></span> <span data-ttu-id="d732a-303">È necessario eseguire quattro passaggi di base toouse token autenticazione di Azure AD:</span><span class="sxs-lookup"><span data-stu-id="d732a-303">You must complete four basic steps toouse Azure AD token authentication:</span></span>

1. <span data-ttu-id="d732a-304">Registrare l'applicazione con Azure Active Directory e ottenere l'id client hello per il codice.</span><span class="sxs-lookup"><span data-stu-id="d732a-304">Register your application with Azure Active Directory and get hello client id for your code.</span></span> 
2. <span data-ttu-id="d732a-305">Creare una database utente che rappresenta un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-305">Create a database user representing hello application.</span></span> <span data-ttu-id="d732a-306">(Completato in precedenza al passaggio 6).</span><span class="sxs-lookup"><span data-stu-id="d732a-306">(Completed earlier in step 6.)</span></span>
3. <span data-ttu-id="d732a-307">Creare un certificato nel computer client di hello esegue un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="d732a-307">Create a certificate on hello client computer runs hello application.</span></span>
4. <span data-ttu-id="d732a-308">Aggiungere il certificato di hello come chiave per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d732a-308">Add hello certificate as a key for your application.</span></span>

<span data-ttu-id="d732a-309">Stringa di connessione di esempio:</span><span class="sxs-lookup"><span data-stu-id="d732a-309">Sample connection string:</span></span>

```
string ConnectionString =@"Data Source=n9lxnyuzhv.database.windows.net; Initial Catalog=testdb;"
SqlConnection conn = new SqlConnection(ConnectionString);
connection.AccessToken = "Your JWT token"
conn.Open();
```

<span data-ttu-id="d732a-310">Per altre informazioni, vedere [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/)(Blog sulla sicurezza del server SQL).</span><span class="sxs-lookup"><span data-stu-id="d732a-310">For more information, see [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span></span>

### <a name="sqlcmd"></a><span data-ttu-id="d732a-311">sqlcmd</span><span class="sxs-lookup"><span data-stu-id="d732a-311">sqlcmd</span></span>

<span data-ttu-id="d732a-312">Hello seguendo le istruzioni, connettersi utilizzando la versione 13.1 di sqlcmd, è disponibile da hello [area Download](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="d732a-312">hello following statements, connect using version 13.1 of sqlcmd, which is available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>

```
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net  -G  
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net -U bob@contoso.com -P MyAADPassword -G -l 30
```

## <a name="next-steps"></a><span data-ttu-id="d732a-313">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="d732a-313">Next steps</span></span>
- <span data-ttu-id="d732a-314">Per una panoramica dell'accesso e del controllo nel database SQL, vedere l'articolo relativo al [controllo dell'accesso al database SQL](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="d732a-314">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="d732a-315">Per una panoramica degli account di accesso, degli utenti e dei ruoli del database nel database SQL, vedere l'articolo relativo ad [account di accesso, utenti e ruoli del database](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="d732a-315">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="d732a-316">Per altre informazioni sulle entità di database, vedere [Entità](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-316">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="d732a-317">Per altre informazioni sui ruoli del database, vedere [Ruoli a livello di database](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="d732a-317">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="d732a-318">Per informazioni generali sulle regole del firewall, vedere l'articolo relativo alle [regole del firewall per il database SQL](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="d732a-318">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/active-directory-integrated.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth2.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db2.png

