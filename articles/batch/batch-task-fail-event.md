---
title: "Evento di fallimento attività di Azure Batch | Microsoft Docs"
description: "Riferimento per l'evento di fallimento dell'attività batch."
services: batch
author: tamram
manager: timlt
ms.assetid: 
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 04/20/2017
ms.author: tamram
ms.openlocfilehash: 08feb4ec34bb1635f8ea744b54a10b677b94ab3e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="task-fail-event"></a><span data-ttu-id="50689-103">Evento di attività non riuscita</span><span class="sxs-lookup"><span data-stu-id="50689-103">Task fail event</span></span>

 <span data-ttu-id="50689-104">Questo evento viene generato quando un'attività viene completata con un errore.</span><span class="sxs-lookup"><span data-stu-id="50689-104">This event is emitted when a task completes with a failure.</span></span> <span data-ttu-id="50689-105">Attualmente, tutti i codici di uscita diversi da zero vengono considerati come errori.</span><span class="sxs-lookup"><span data-stu-id="50689-105">Currently all nonzero exit codes are considered failures.</span></span> <span data-ttu-id="50689-106">Questo evento verrà generato *in aggiunta a* un evento di completamento attività e può essere usato per rilevare quando un'attività non è riuscita.</span><span class="sxs-lookup"><span data-stu-id="50689-106">This event will be emitted *in addition to* a task complete event and can be used to detect when a task has failed.</span></span>


 <span data-ttu-id="50689-107">L'esempio seguente illustra il corpo di un evento di attività non riuscita.</span><span class="sxs-lookup"><span data-stu-id="50689-107">The following example shows the body of a task fail event.</span></span>

```
{
    "jobId": "job-0000000001",
    "id": "task-5",
    "taskType": "User",
    "systemTaskVersion": 0,
    "nodeInfo": {
        "poolId": "pool-001",
        "nodeId": "tvm-257509324_1-20160908t162728z"
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 2
    },
    "executionInfo": {
        "startTime": "2016-09-08T16:32:23.799Z",
        "endTime": "2016-09-08T16:34:00.666Z",
        "exitCode": 1,
        "retryCount": 2,
        "requeueCount": 0
    }
}
```

|<span data-ttu-id="50689-108">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="50689-108">Element name</span></span>|<span data-ttu-id="50689-109">Tipo</span><span class="sxs-lookup"><span data-stu-id="50689-109">Type</span></span>|<span data-ttu-id="50689-110">Note</span><span class="sxs-lookup"><span data-stu-id="50689-110">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="50689-111">jobId</span><span class="sxs-lookup"><span data-stu-id="50689-111">jobId</span></span>|<span data-ttu-id="50689-112">String</span><span class="sxs-lookup"><span data-stu-id="50689-112">String</span></span>|<span data-ttu-id="50689-113">ID del processo contenente l'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-113">The id of the job containing the task.</span></span>|
|<span data-ttu-id="50689-114">id</span><span class="sxs-lookup"><span data-stu-id="50689-114">id</span></span>|<span data-ttu-id="50689-115">String</span><span class="sxs-lookup"><span data-stu-id="50689-115">String</span></span>|<span data-ttu-id="50689-116">ID dell'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-116">The id of the task.</span></span>|
|<span data-ttu-id="50689-117">taskType</span><span class="sxs-lookup"><span data-stu-id="50689-117">taskType</span></span>|<span data-ttu-id="50689-118">String</span><span class="sxs-lookup"><span data-stu-id="50689-118">String</span></span>|<span data-ttu-id="50689-119">Tipo dell'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-119">The type of the task.</span></span> <span data-ttu-id="50689-120">Il valore può essere "JobManager" per indicare che si tratta di un'attività del gestore di processi oppure 'User' per indicare che non si tratta di un'attività del gestore di processi.</span><span class="sxs-lookup"><span data-stu-id="50689-120">This can either be 'JobManager' indicating it is a job manager task or 'User' indicating it is not a job manager task.</span></span> <span data-ttu-id="50689-121">Questo evento non viene generato per le attività di preparazione del processo, le attività di rilascio del processo o le attività di avvio.</span><span class="sxs-lookup"><span data-stu-id="50689-121">This event is not emitted for job preparation tasks, job release tasks or start tasks.</span></span>|
|<span data-ttu-id="50689-122">systemTaskVersion</span><span class="sxs-lookup"><span data-stu-id="50689-122">systemTaskVersion</span></span>|<span data-ttu-id="50689-123">Int32</span><span class="sxs-lookup"><span data-stu-id="50689-123">Int32</span></span>|<span data-ttu-id="50689-124">Contatore dei tentativi interni di esecuzione di un'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-124">This is the internal retry counter on a task.</span></span> <span data-ttu-id="50689-125">Il servizio Batch può ritentare internamente l'esecuzione di un'attività in funzione di problemi transitori.</span><span class="sxs-lookup"><span data-stu-id="50689-125">Internally the Batch service can retry a task to account for transient issues.</span></span> <span data-ttu-id="50689-126">Questi problemi possono includere errori interni di pianificazione o tentativi di ripristino a seguito di nodi di calcolo in uno stato non valido.</span><span class="sxs-lookup"><span data-stu-id="50689-126">These issues can include internal scheduling errors or attempts to recover from compute nodes in a bad state.</span></span>|
|[<span data-ttu-id="50689-127">nodeInfo</span><span class="sxs-lookup"><span data-stu-id="50689-127">nodeInfo</span></span>](#nodeInfo)|<span data-ttu-id="50689-128">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="50689-128">Complex Type</span></span>|<span data-ttu-id="50689-129">Contiene informazioni sul nodo di calcolo in cui è stata eseguita l'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-129">Contains information about the compute node on which the task ran.</span></span>|
|[<span data-ttu-id="50689-130">multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="50689-130">multiInstanceSettings</span></span>](#multiInstanceSettings)|<span data-ttu-id="50689-131">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="50689-131">Complex Type</span></span>|<span data-ttu-id="50689-132">Specifica che l'attività è un'attività con istanze multiple che richiede più nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="50689-132">Specifies that the task is a Multi-Instance Task requiring multiple compute nodes.</span></span>  <span data-ttu-id="50689-133">Per informazioni dettagliate, vedere [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task).</span><span class="sxs-lookup"><span data-stu-id="50689-133">See [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) for details.</span></span>|
|[<span data-ttu-id="50689-134">constraints</span><span class="sxs-lookup"><span data-stu-id="50689-134">constraints</span></span>](#constraints)|<span data-ttu-id="50689-135">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="50689-135">Complex Type</span></span>|<span data-ttu-id="50689-136">Vincoli di esecuzione che si applicano a questa attività.</span><span class="sxs-lookup"><span data-stu-id="50689-136">The execution constraints that apply to this task.</span></span>|
|[<span data-ttu-id="50689-137">executionInfo</span><span class="sxs-lookup"><span data-stu-id="50689-137">executionInfo</span></span>](#executionInfo)|<span data-ttu-id="50689-138">Tipo complesso</span><span class="sxs-lookup"><span data-stu-id="50689-138">Complex Type</span></span>|<span data-ttu-id="50689-139">Contiene informazioni sull'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-139">Contains information about the execution of the task.</span></span>|

###  <span data-ttu-id="50689-140"><a name="nodeInfo"></a> nodeInfo</span><span class="sxs-lookup"><span data-stu-id="50689-140"><a name="nodeInfo"></a> nodeInfo</span></span>

|<span data-ttu-id="50689-141">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="50689-141">Element name</span></span>|<span data-ttu-id="50689-142">Tipo</span><span class="sxs-lookup"><span data-stu-id="50689-142">Type</span></span>|<span data-ttu-id="50689-143">Note</span><span class="sxs-lookup"><span data-stu-id="50689-143">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="50689-144">poolId</span><span class="sxs-lookup"><span data-stu-id="50689-144">poolId</span></span>|<span data-ttu-id="50689-145">String</span><span class="sxs-lookup"><span data-stu-id="50689-145">String</span></span>|<span data-ttu-id="50689-146">ID del pool in cui viene eseguita l'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-146">The id of the pool on which the task ran.</span></span>|
|<span data-ttu-id="50689-147">nodeId</span><span class="sxs-lookup"><span data-stu-id="50689-147">nodeId</span></span>|<span data-ttu-id="50689-148">String</span><span class="sxs-lookup"><span data-stu-id="50689-148">String</span></span>|<span data-ttu-id="50689-149">ID del nodo in cui viene eseguita l'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-149">The id of the node on which the task ran.</span></span>|

###  <span data-ttu-id="50689-150"><a name="multiInstanceSettings"></a> multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="50689-150"><a name="multiInstanceSettings"></a> multiInstanceSettings</span></span>

|<span data-ttu-id="50689-151">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="50689-151">Element name</span></span>|<span data-ttu-id="50689-152">Tipo</span><span class="sxs-lookup"><span data-stu-id="50689-152">Type</span></span>|<span data-ttu-id="50689-153">Note</span><span class="sxs-lookup"><span data-stu-id="50689-153">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="50689-154">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="50689-154">numberOfInstances</span></span>|<span data-ttu-id="50689-155">Int32</span><span class="sxs-lookup"><span data-stu-id="50689-155">Int32</span></span>|<span data-ttu-id="50689-156">Numero di nodi di calcolo richiesti dall'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-156">The number of compute nodes required by the task.</span></span>|

###  <span data-ttu-id="50689-157"><a name="constraints"></a> constraints</span><span class="sxs-lookup"><span data-stu-id="50689-157"><a name="constraints"></a> constraints</span></span>

|<span data-ttu-id="50689-158">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="50689-158">Element name</span></span>|<span data-ttu-id="50689-159">Tipo</span><span class="sxs-lookup"><span data-stu-id="50689-159">Type</span></span>|<span data-ttu-id="50689-160">Note</span><span class="sxs-lookup"><span data-stu-id="50689-160">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="50689-161">maxTaskRetryCount</span><span class="sxs-lookup"><span data-stu-id="50689-161">maxTaskRetryCount</span></span>|<span data-ttu-id="50689-162">Int32</span><span class="sxs-lookup"><span data-stu-id="50689-162">Int32</span></span>|<span data-ttu-id="50689-163">Numero massimo di tentativi consentiti per l'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-163">The maximum number of times the task may be retried.</span></span> <span data-ttu-id="50689-164">Il servizio Batch ripete un'attività se il relativo codice di uscita è diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="50689-164">The Batch service retries a task if its exit code is nonzero.</span></span><br /><br /> <span data-ttu-id="50689-165">Si noti che questo valore controlla specificamente il numero di tentativi.</span><span class="sxs-lookup"><span data-stu-id="50689-165">Note that this value specifically controls the number of retries.</span></span> <span data-ttu-id="50689-166">Il servizio Batch eseguirà l'attività una volta e quindi ripeterà l'esecuzione fino al limite di tentativi specificato.</span><span class="sxs-lookup"><span data-stu-id="50689-166">The Batch service will try the task once, and may then retry up to this limit.</span></span> <span data-ttu-id="50689-167">Ad esempio, se il numero massimo di tentativi è 3, il servizio Batch eseguirà l'attività 4 volte, ovvero una iniziale e 3 ulteriori tentativi.</span><span class="sxs-lookup"><span data-stu-id="50689-167">For example, if the maximum retry count is 3, Batch tries a task up to 4 times (one initial try and 3 retries).</span></span><br /><br /> <span data-ttu-id="50689-168">Se il numero massimo di tentativi è 0, il servizio Batch non eseguirà ulteriori tentativi.</span><span class="sxs-lookup"><span data-stu-id="50689-168">If the maximum retry count is 0, the Batch service does not retry tasks.</span></span><br /><br /> <span data-ttu-id="50689-169">Se il numero massimo di tentativi è -1, il servizio Batch continuerà a eseguire tentativi senza limiti.</span><span class="sxs-lookup"><span data-stu-id="50689-169">If the maximum retry count is -1, the Batch service retries tasks without limit.</span></span><br /><br /> <span data-ttu-id="50689-170">Il valore predefinito è 0, ovvero nessun tentativo.</span><span class="sxs-lookup"><span data-stu-id="50689-170">The default value is 0 (no retries).</span></span>|


###  <span data-ttu-id="50689-171"><a name="executionInfo"></a> executionInfo</span><span class="sxs-lookup"><span data-stu-id="50689-171"><a name="executionInfo"></a> executionInfo</span></span>

|<span data-ttu-id="50689-172">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="50689-172">Element name</span></span>|<span data-ttu-id="50689-173">Tipo</span><span class="sxs-lookup"><span data-stu-id="50689-173">Type</span></span>|<span data-ttu-id="50689-174">Note</span><span class="sxs-lookup"><span data-stu-id="50689-174">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="50689-175">startTime</span><span class="sxs-lookup"><span data-stu-id="50689-175">startTime</span></span>|<span data-ttu-id="50689-176">DateTime</span><span class="sxs-lookup"><span data-stu-id="50689-176">DateTime</span></span>|<span data-ttu-id="50689-177">Data e ora in cui è iniziata l'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-177">The time at which the task started running.</span></span> <span data-ttu-id="50689-178">"Running" corrisponde allo stato **in esecuzione** e pertanto, se l'attività specifica file di risorse o pacchetti dell'applicazione, la data e l'ora di inizio rispecchiano quelle in cui l'attività ne ha iniziato il download o la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="50689-178">'Running' corresponds to the **running** state, so if the task specifies resource files or application packages, then the start time reflects the time at which the task started downloading or deploying these.</span></span>  <span data-ttu-id="50689-179">Se l'attività è stata riavviata o ritentata, la data e l'ora indicate saranno quelle di inizio dell'ultima esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-179">If the task has been restarted or retried, this is the most recent time at which the task started running.</span></span>|
|<span data-ttu-id="50689-180">endTime</span><span class="sxs-lookup"><span data-stu-id="50689-180">endTime</span></span>|<span data-ttu-id="50689-181">DateTime</span><span class="sxs-lookup"><span data-stu-id="50689-181">DateTime</span></span>|<span data-ttu-id="50689-182">Data e ora in cui è stata completata l'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-182">The time at which the task completed.</span></span>|
|<span data-ttu-id="50689-183">exitCode</span><span class="sxs-lookup"><span data-stu-id="50689-183">exitCode</span></span>|<span data-ttu-id="50689-184">Int32</span><span class="sxs-lookup"><span data-stu-id="50689-184">Int32</span></span>|<span data-ttu-id="50689-185">Codice di uscita dell'attività.</span><span class="sxs-lookup"><span data-stu-id="50689-185">The exit code of the task.</span></span>|
|<span data-ttu-id="50689-186">retryCount</span><span class="sxs-lookup"><span data-stu-id="50689-186">retryCount</span></span>|<span data-ttu-id="50689-187">Int32</span><span class="sxs-lookup"><span data-stu-id="50689-187">Int32</span></span>|<span data-ttu-id="50689-188">Numero di tentativi di esecuzione dell'attività da parte del servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="50689-188">The number of times the task has been retried by the Batch service.</span></span> <span data-ttu-id="50689-189">L'attività viene ritentata se si conclude con un codice di uscita diverso da zero, fino al limite specificato in MaxTaskRetryCount.</span><span class="sxs-lookup"><span data-stu-id="50689-189">The task is retried if it exits with a nonzero exit code, up to the specified MaxTaskRetryCount.</span></span>|
|<span data-ttu-id="50689-190">requeueCount</span><span class="sxs-lookup"><span data-stu-id="50689-190">requeueCount</span></span>|<span data-ttu-id="50689-191">Int32</span><span class="sxs-lookup"><span data-stu-id="50689-191">Int32</span></span>|<span data-ttu-id="50689-192">Numero di volte in cui l'attività è stata reinserita nella coda dal servizio Batch a seguito di una richiesta dell'utente.</span><span class="sxs-lookup"><span data-stu-id="50689-192">The number of times the task has been requeued by the Batch service as the result of a user request.</span></span><br /><br /> <span data-ttu-id="50689-193">Quando si rimuovono nodi da un pool (tramite ridimensionamento o riduzione del pool) o quando il processo viene disabilitato, l'utente può specificare che le attività in esecuzione sui nodi siano reinserite nella coda per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="50689-193">When the user removes nodes from a pool (by resizing or shrinking the pool) or when the job is being disabled, the user can specify that running tasks on the nodes be requeued for execution.</span></span> <span data-ttu-id="50689-194">Questo conteggio tiene traccia del numero di volte in cui l'attività è stata reinserita nella coda per questi motivi.</span><span class="sxs-lookup"><span data-stu-id="50689-194">This count tracks how many times the task has been requeued for these reasons.</span></span>|
