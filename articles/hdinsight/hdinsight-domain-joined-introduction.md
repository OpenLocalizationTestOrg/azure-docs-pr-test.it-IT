---
title: Sicurezza Hadoop - Cluster HDInsight aggiunti al dominio - Azure | Documentazione Microsoft
description: Informazioni su...
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 7dc6847d-10d4-4b5c-9c83-cc513cf91965
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/31/2016
ms.author: saurinsh
ms.openlocfilehash: 303be1d303df8074283cb1d37c74923cca80ae59
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="an-introduction-to-hadoop-security-with-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="feb76-103">Introduzione alla sicurezza Hadoop con i cluster HDInsight aggiunti al dominio (anteprima)</span><span class="sxs-lookup"><span data-stu-id="feb76-103">An introduction to Hadoop security with domain-joined HDInsight clusters (Preview)</span></span>

<span data-ttu-id="feb76-104">Fino a questo momento, Azure HDInsight ha supportato solo un unico amministratore locale degli utenti. Questo funzionava bene per i team di applicazioni o i reparti di dimensioni ridotte.</span><span class="sxs-lookup"><span data-stu-id="feb76-104">Azure HDInsight until today supported only a single user local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="feb76-105">Man mano che i carichi di lavoro basati su Hadoop hanno continuato ad affermarsi nel settore aziendale, l'esigenza di funzionalità di livello aziendale come autenticazione basata su active directory, supporto multiutente e controllo degli accessi basato sui ruoli è diventata sempre più importante.</span><span class="sxs-lookup"><span data-stu-id="feb76-105">As Hadoop based workloads gained more popularity in the enterprise sector, the need for enterprise grade capabilities like active directory based authentication, multi-user support, and role based access control became increasingly important.</span></span> <span data-ttu-id="feb76-106">Con l'uso di cluster HDInsight aggiunti al dominio, è possibile creare un cluster HDInsight aggiunto a un dominio di Active Directory e configurare un elenco di dipendenti aziendali in grado di autenticarsi tramite Azure Active Directory per accedere al cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="feb76-106">Using Domain-joined HDInsight clusters, you can create an HDInsight cluster joined to an Active Directory domain, configure a list of employees from the enterprise who can authenticate through Azure Active Directory to log on to HDInsight cluster.</span></span> <span data-ttu-id="feb76-107">Nessun utente esterno all'azienda può accedere al cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="feb76-107">Anyone outside the enterprise cannot log on or access the HDInsight cluster.</span></span> <span data-ttu-id="feb76-108">L'amministratore può configurare il controllo degli accessi basato sui ruoli per la sicurezza di Hive usando [Apache Ranger](http://hortonworks.com/apache/ranger/), limitando così l'accesso ai dati solo ai ruoli interessati.</span><span class="sxs-lookup"><span data-stu-id="feb76-108">The enterprise admin can configure role based access control for Hive security using [Apache Ranger](http://hortonworks.com/apache/ranger/), thus restricting access to data to only as much as needed.</span></span> <span data-ttu-id="feb76-109">Infine, l'amministratore può controllare l'accesso ai dati da parte dei dipendenti e le eventuali modifiche apportate ai criteri di controllo degli accessi, ottenendo in questo modo un elevato livello di governance delle risorse aziendali.</span><span class="sxs-lookup"><span data-stu-id="feb76-109">Finally, the admin can audit the data access by employees, and any changes done to access control policies, thus achieving a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="feb76-110">Le nuove funzionalità descritte in questa anteprima sono disponibili solo nei cluster HDInsight basati su Linux per i carichi di lavoro di Hive.</span><span class="sxs-lookup"><span data-stu-id="feb76-110">The new features described in this preview are available only on Linux-based HDInsight clusters for Hive workload.</span></span> <span data-ttu-id="feb76-111">Altri carichi di lavoro, ad esempio HBase, Spark, Storm e Kafka, verranno abilitati nelle versioni future.</span><span class="sxs-lookup"><span data-stu-id="feb76-111">The other workloads, such as HBase, Spark, Storm and Kafka, will be enabled in future releases.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="feb76-112">Oozie non è abilitato in HDInsight aggiunto al dominio.</span><span class="sxs-lookup"><span data-stu-id="feb76-112">Oozie is not enabled on domain-joined HDInsight.</span></span>

## <a name="benefits"></a><span data-ttu-id="feb76-113">Vantaggi</span><span class="sxs-lookup"><span data-stu-id="feb76-113">Benefits</span></span>
<span data-ttu-id="feb76-114">La protezione aziendale si basa su quattro importanti pilastri: protezione perimetrale, autenticazione, autorizzazione e crittografia.</span><span class="sxs-lookup"><span data-stu-id="feb76-114">Enterprise Security contains four big pillars – Perimeter Security, Authentication, Authorization, and Encryption.</span></span>

![I pilastri dei vantaggi dei cluster HDInsight aggiunti al dominio](./media/hdinsight-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="feb76-116">.</span><span class="sxs-lookup"><span data-stu-id="feb76-116">.</span></span>

### <a name="perimeter-security"></a><span data-ttu-id="feb76-117">Protezione perimetrale</span><span class="sxs-lookup"><span data-stu-id="feb76-117">Perimeter Security</span></span>
<span data-ttu-id="feb76-118">La protezione perimetrale in HDInsight si raggiunge con l'uso di reti virtuali e servizio gateway.</span><span class="sxs-lookup"><span data-stu-id="feb76-118">Perimeter security in HDInsight is achieved using virtual networks and Gateway service.</span></span> <span data-ttu-id="feb76-119">Oggi, un amministratore aziendale può creare un cluster HDInsight all'interno di una rete virtuale e usare gruppi di sicurezza di rete (regole del firewall in entrata o in uscita) per limitare l'accesso alla rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="feb76-119">Today, an enterprise admin can create an HDInsight cluster inside a virtual network and use Network Security Groups (inbound or outbound firewall rules) to restrict access to the virtual network.</span></span> <span data-ttu-id="feb76-120">Solo gli indirizzi IP definiti nelle regole del firewall in entrata potranno comunicare con il cluster HDInsight, fornendo in tal modo la protezione perimetrale.</span><span class="sxs-lookup"><span data-stu-id="feb76-120">Only the IP addresses defined in the inbound firewall rules will be able to communicate with the HDInsight cluster, thus providing perimeter security.</span></span> <span data-ttu-id="feb76-121">Un altro livello di protezione perimetrale viene garantito grazie al servizio gateway.</span><span class="sxs-lookup"><span data-stu-id="feb76-121">Another layer of perimeter security is achieved using Gateway service.</span></span> <span data-ttu-id="feb76-122">Il gateway è il servizio che funge da prima linea di difesa per qualsiasi richiesta in entrata al cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="feb76-122">The Gateway is the service which acts as first line of defense for any incoming request to the HDInsight cluster.</span></span> <span data-ttu-id="feb76-123">Accetta la richiesta, poi la verifica e solo a questo punto consente alla richiesta di passare agli altri nodi nel cluster, offrendo protezione perimetrale ad altri nodi di nomi e dati nel cluster.</span><span class="sxs-lookup"><span data-stu-id="feb76-123">It accepts the request, validates it and only then allows the request to pass to the other nodes in cluster, thus providing perimeter security to other name and data nodes in the cluster.</span></span>

### <a name="authentication"></a><span data-ttu-id="feb76-124">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="feb76-124">Authentication</span></span>
<span data-ttu-id="feb76-125">Con questa anteprima pubblica, un amministratore può effettuare il provisioning di un cluster HDInsight aggiunto al dominio in una [rete virtuale](https://azure.microsoft.com/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="feb76-125">With this public preview, an enterprise admin can provision a Domain-joined HDInsight cluster, in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="feb76-126">I nodi del cluster HDInsight verranno aggiunti al dominio gestito dall'azienda.</span><span class="sxs-lookup"><span data-stu-id="feb76-126">The nodes of the HDInsight cluster will be joined to the domain managed by the enterprise.</span></span> <span data-ttu-id="feb76-127">Questo è possibile grazie all'uso dei [servizi di dominio di Azure Active Directory](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="feb76-127">This is achieved through use of [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="feb76-128">Tutti i nodi del cluster sono aggiunti a un dominio gestito dall'azienda.</span><span class="sxs-lookup"><span data-stu-id="feb76-128">All the nodes in the cluster are joined to a domain that the enterprise manages.</span></span> <span data-ttu-id="feb76-129">Con questa configurazione, i dipendenti dell'azienda possono accedere ai nodi del cluster usando le credenziali del dominio.</span><span class="sxs-lookup"><span data-stu-id="feb76-129">With this setup, the enterprise employees can log on to the cluster nodes using their domain credentials.</span></span> <span data-ttu-id="feb76-130">Inoltre, usano le credenziali del dominio per l'autenticazione con altri endpoint approvati, come Hue, viste di Ambari, ODBC, JDBC, PowerShell e API REST per interagire con il cluster.</span><span class="sxs-lookup"><span data-stu-id="feb76-130">They can also use their domain credentials to authenticate with other approved endpoints like Hue, Ambari Views, ODBC, JDBC, PowerShell and REST APIs to interact with the cluster.</span></span> <span data-ttu-id="feb76-131">L'amministratore ha il pieno controllo sulla limitazione del numero di utenti che interagiscono con il cluster tramite questi endpoint.</span><span class="sxs-lookup"><span data-stu-id="feb76-131">The admin has full control over limiting the number of users interacting with the cluster via these endpoints.</span></span>

### <a name="authorization"></a><span data-ttu-id="feb76-132">Autorizzazione</span><span class="sxs-lookup"><span data-stu-id="feb76-132">Authorization</span></span>
<span data-ttu-id="feb76-133">Una procedura consigliata seguita dalla maggior parte delle aziende è limitare l'accesso a tutte le risorse aziendali da parte dei dipendenti.</span><span class="sxs-lookup"><span data-stu-id="feb76-133">A best practice followed by most enterprises is that not every employee has access to all enterprise resources.</span></span> <span data-ttu-id="feb76-134">In modo analogo, con questa versione l'amministratore può definire i criteri di controllo degli accessi basato sui ruoli per le risorse del cluster.</span><span class="sxs-lookup"><span data-stu-id="feb76-134">Likewise, with this release, the admin can define role based access control policies for the cluster resources.</span></span> <span data-ttu-id="feb76-135">Ad esempio, l'amministratore può configurare [Apache Ranger](http://hortonworks.com/apache/ranger/) per impostare criteri di controllo degli accessi per Hive.</span><span class="sxs-lookup"><span data-stu-id="feb76-135">For example, the admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) to set access control policies for Hive.</span></span> <span data-ttu-id="feb76-136">Questa funzionalità garantisce che i dipendenti saranno in grado di accedere solo ai dati di cui hanno bisogno per svolgere il loro lavoro in modo corretto.</span><span class="sxs-lookup"><span data-stu-id="feb76-136">This functionality ensures that employees will be able to access only as much data as they need to be successful in their jobs.</span></span> <span data-ttu-id="feb76-137">L'accesso SSH al cluster è limitato solo all'amministratore.</span><span class="sxs-lookup"><span data-stu-id="feb76-137">SSH access to the cluster is also restricted only to the administrator.</span></span>

### <a name="auditing"></a><span data-ttu-id="feb76-138">Controllo</span><span class="sxs-lookup"><span data-stu-id="feb76-138">Auditing</span></span>
<span data-ttu-id="feb76-139">Oltre a proteggere i dati e le risorse del cluster HDInsight da utenti non autorizzati, è necessario controllare tutti gli accessi alle risorse del cluster e ai dati per tenere traccia degli accessi non autorizzati o non intenzionali alle risorse.</span><span class="sxs-lookup"><span data-stu-id="feb76-139">Along with protecting the HDInsight cluster resources from unauthorized users, and securing the data, auditing of all access to the cluster resources, and the data is necessary to track unauthorized or unintentional access of the resources.</span></span> <span data-ttu-id="feb76-140">Grazie a questa anteprima, l'amministratore può visualizzare e segnalare tutti gli accessi ai dati e alle risorse del cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="feb76-140">With this preview, the admin can view and report all access to the HDInsight cluster resources and data.</span></span> <span data-ttu-id="feb76-141">L'amministratore può anche visualizzare e segnalare tutte le modifiche ai criteri di controllo degli accessi eseguite negli endpoint supportati da Apache Ranger.</span><span class="sxs-lookup"><span data-stu-id="feb76-141">The admin can also view and report all changes to the access control policies done in Apache Ranger supported endpoints.</span></span> <span data-ttu-id="feb76-142">Un cluster HDInsight aggiunto al dominio usa la già nota interfaccia utente di Apache Ranger per effettuare ricerche nei log di controllo.</span><span class="sxs-lookup"><span data-stu-id="feb76-142">A Domain-joined HDInsight cluster uses the familiar Apache Ranger UI to search audit logs.</span></span> <span data-ttu-id="feb76-143">Ranger usa [Apache Solr](http://hortonworks.com/apache/solr/) per l'archiviazione e la ricerca nei log nel back-end.</span><span class="sxs-lookup"><span data-stu-id="feb76-143">On the backend, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching the logs.</span></span>

### <a name="encryption"></a><span data-ttu-id="feb76-144">Crittografia</span><span class="sxs-lookup"><span data-stu-id="feb76-144">Encryption</span></span>
<span data-ttu-id="feb76-145">La protezione dei dati è importante per soddisfare i requisiti aziendali in termini di protezione e conformità; oltre a limitare l'accesso ai dati da parte di dipendenti non autorizzati, è fondamentale anche proteggerli mediante crittografia.</span><span class="sxs-lookup"><span data-stu-id="feb76-145">Protecting data is important for meeting organizational security and compliance requirements, and along with restricting access to data from unauthorized employees, it should also be secured by encrypting it.</span></span> <span data-ttu-id="feb76-146">Entrambi gli archivi di dati per i cluster HDInsight, il BLOB di archiviazione di Azure e Azure Data Lake, supportano la [crittografia dei dati](../storage/common/storage-service-encryption.md) inattivi trasparente lato server.</span><span class="sxs-lookup"><span data-stu-id="feb76-146">Both the data stores for HDInsight clusters, Azure Storage Blob, and Azure Data Lake Storage support transparent server-side [encryption of data](../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="feb76-147">La protezione dei cluster HDInsight sarà perfettamente compatibile con questa crittografia lato server della funzionalità dei dati inattivi.</span><span class="sxs-lookup"><span data-stu-id="feb76-147">Secure HDInsight clusters will seamlessly work with this server side encryption of data at rest capability.</span></span>

## <a name="next-steps"></a><span data-ttu-id="feb76-148">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="feb76-148">Next steps</span></span>
* <span data-ttu-id="feb76-149">Per configurare un cluster HDInsight aggiunto al dominio, vedere [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md) (Configurare i cluster HDInsight aggiunti al dominio).</span><span class="sxs-lookup"><span data-stu-id="feb76-149">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="feb76-150">Per gestire cluster HDInsight aggiunti al dominio, vedere [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md) (Gestire i cluster HDInsight aggiunti al dominio).</span><span class="sxs-lookup"><span data-stu-id="feb76-150">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="feb76-151">Per configurare i criteri ed eseguire query Hive, vedere [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md) (Configurare criteri Hive per cluster HDInsight aggiunti al dominio).</span><span class="sxs-lookup"><span data-stu-id="feb76-151">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="feb76-152">Per eseguire query Hive usando SSH nei cluster HDInsight aggiunti al dominio, vedere [Usare SSH con HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="feb76-152">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
