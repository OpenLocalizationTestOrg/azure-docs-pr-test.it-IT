---
title: Considerazioni relative alla topologia di rete quando si usa il proxy applicazione di Azure Active Directory | Microsoft Docs
description: Tratta alcune considerazioni relative alla topologia di rete quando si usa il proxy applicazione Azure AD.
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 11244e0044eef8441e3a37ab8aeff0da30dacdb8
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="network-topology-considerations-when-using-azure-active-directory-application-proxy"></a><span data-ttu-id="2dced-103">Considerazioni relative alla topologia di rete quando si usa il proxy applicazione di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="2dced-103">Network topology considerations when using Azure Active Directory Application Proxy</span></span>

<span data-ttu-id="2dced-104">Questo articolo presenta alcune considerazioni relative alla topologia di rete quando si usa il proxy applicazione di Azure Active Directory (Azure AD) per la pubblicazione delle applicazioni e il relativo accesso da remoto.</span><span class="sxs-lookup"><span data-stu-id="2dced-104">This article explains network topology considerations when using Azure Active Directory (Azure AD) Application Proxy for publishing and accessing your applications remotely.</span></span>

## <a name="traffic-flow"></a><span data-ttu-id="2dced-105">Flusso del traffico</span><span class="sxs-lookup"><span data-stu-id="2dced-105">Traffic flow</span></span>

<span data-ttu-id="2dced-106">Quando un'applicazione viene pubblicata tramite il proxy applicazione di Azure AD, il traffico dagli utenti alle applicazioni passa attraverso tre connessioni:</span><span class="sxs-lookup"><span data-stu-id="2dced-106">When an application is published through Azure AD Application Proxy, traffic from the users to the applications flows through three connections:</span></span>

1. <span data-ttu-id="2dced-107">L'utente si connette all'endpoint pubblico del servizio proxy di applicazione di Azure AD in Azure</span><span class="sxs-lookup"><span data-stu-id="2dced-107">The user connects to the Azure AD Application Proxy service public endpoint on Azure</span></span>
2. <span data-ttu-id="2dced-108">Il servizio proxy di applicazione si connette al connettore del proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="2dced-108">The Application Proxy service connects to the Application Proxy connector</span></span>
3. <span data-ttu-id="2dced-109">Il connettore del proxy di applicazione si connette all'applicazione di destinazione</span><span class="sxs-lookup"><span data-stu-id="2dced-109">The Application Proxy connector connects to the target application</span></span>

![Diagramma che illustra il flusso del traffico dall'utente all'applicazione di destinazione](./media/application-proxy-network-topologies/application-proxy-three-hops.png)

## <a name="tenant-location-and-application-proxy-service"></a><span data-ttu-id="2dced-111">Località del tenant e servizio proxy applicazione</span><span class="sxs-lookup"><span data-stu-id="2dced-111">Tenant location and Application Proxy service</span></span>

<span data-ttu-id="2dced-112">Al momento dell'iscrizione a un tenant di Azure AD, l'area del tenant è determinata dal paese che si specifica.</span><span class="sxs-lookup"><span data-stu-id="2dced-112">When you sign up for an Azure AD tenant, the region of your tenant is determined by the country you specify.</span></span> <span data-ttu-id="2dced-113">Quando si abilita il proxy di applicazione, le istanze del servizio proxy di applicazione per il tenant vengono scelte o create nella stessa area del tenant di Azure AD o nell'area più vicina.</span><span class="sxs-lookup"><span data-stu-id="2dced-113">When you enable Application Proxy, the Application Proxy service instances for your tenant are chosen or created in the same region as your Azure AD tenant, or the closest region to it.</span></span>

<span data-ttu-id="2dced-114">Se ad esempio l'area del tenant di Azure AD è Unione Europea (UE), tutti i connettori del proxy applicazione usano istanze del servizio nei data center di Azure nell'Unione Europea.</span><span class="sxs-lookup"><span data-stu-id="2dced-114">For example, if your Azure AD tenant’s region is the European Union (EU), all your Application Proxy connectors use service instances in Azure datacenters in the EU.</span></span> <span data-ttu-id="2dced-115">Quando gli utenti accedono alle applicazioni pubblicate, il traffico passa attraverso le istanze del servizio proxy applicazione in questa località.</span><span class="sxs-lookup"><span data-stu-id="2dced-115">When your users access published applications, their traffic goes through the Application Proxy service instances in this location.</span></span>

## <a name="considerations-for-reducing-latency"></a><span data-ttu-id="2dced-116">Considerazioni per ridurre la latenza</span><span class="sxs-lookup"><span data-stu-id="2dced-116">Considerations for reducing latency</span></span>

<span data-ttu-id="2dced-117">Tutte le soluzioni proxy introducono latenza nella connessione di rete.</span><span class="sxs-lookup"><span data-stu-id="2dced-117">All proxy solutions introduce latency into your network connection.</span></span> <span data-ttu-id="2dced-118">Indipendentemente dalla soluzione proxy o VPN scelta per l'accesso remoto, include sempre un set di server che consente la connessione all'interno della rete aziendale.</span><span class="sxs-lookup"><span data-stu-id="2dced-118">No matter which proxy or VPN solution you choose as your remote access solution, it always includes a set of servers enabling the connection to inside your corporate network.</span></span>

<span data-ttu-id="2dced-119">Le organizzazioni includono in genere endpoint server nella rete perimetrale.</span><span class="sxs-lookup"><span data-stu-id="2dced-119">Organizations typically include server endpoints in their perimeter network.</span></span> <span data-ttu-id="2dced-120">Con il proxy applicazione di Azure AD, tuttavia, il traffico passa attraverso il servizio proxy nel cloud, mentre i connettori si trovano nella rete aziendale.</span><span class="sxs-lookup"><span data-stu-id="2dced-120">With Azure AD Application Proxy, however, traffic flows through the proxy service in the cloud while the connectors reside on your corporate network.</span></span> <span data-ttu-id="2dced-121">Non è richiesta alcuna rete perimetrale.</span><span class="sxs-lookup"><span data-stu-id="2dced-121">No perimeter network is required.</span></span>

<span data-ttu-id="2dced-122">Le sezioni successive contengono altri suggerimenti per ridurre ulteriormente la latenza.</span><span class="sxs-lookup"><span data-stu-id="2dced-122">The next sections contain additional suggestions to help you reduce latency even further.</span></span> 

### <a name="connector-placement"></a><span data-ttu-id="2dced-123">Posizionamento dei connettori</span><span class="sxs-lookup"><span data-stu-id="2dced-123">Connector placement</span></span>

<span data-ttu-id="2dced-124">Il servizio proxy applicazione sceglie automaticamente la posizione delle istanze in base alla località del tenant.</span><span class="sxs-lookup"><span data-stu-id="2dced-124">Application Proxy chooses the location of instances for you, based on your tenant location.</span></span> <span data-ttu-id="2dced-125">L'utente deve comunque decidere dove installare il connettore e, in questo modo, può definire le caratteristiche di latenza del traffico di rete.</span><span class="sxs-lookup"><span data-stu-id="2dced-125">However, you get to decide where to install the connector, giving you the power to define the latency characteristics of your network traffic.</span></span>

<span data-ttu-id="2dced-126">Quando si configura il servizio proxy applicazione, è consigliabile porsi le domande seguenti:</span><span class="sxs-lookup"><span data-stu-id="2dced-126">When setting up the Application Proxy service, ask the following questions:</span></span>

* <span data-ttu-id="2dced-127">Dove si trova l'app?</span><span class="sxs-lookup"><span data-stu-id="2dced-127">Where is the app located?</span></span>
* <span data-ttu-id="2dced-128">Dove si trova la maggior parte degli utenti che accedono all'app?</span><span class="sxs-lookup"><span data-stu-id="2dced-128">Where are most users who access the app located?</span></span>
* <span data-ttu-id="2dced-129">Dove si trova l'istanza del proxy applicazione?</span><span class="sxs-lookup"><span data-stu-id="2dced-129">Where is the Application Proxy instance located?</span></span>
* <span data-ttu-id="2dced-130">È già disponibile una connessione di rete dedicata ai data center di Azure, ad esempio Azure ExpressRoute o VPN simile?</span><span class="sxs-lookup"><span data-stu-id="2dced-130">Do you already have a dedicated network connection to Azure datacenters set up, like Azure ExpressRoute or a similar VPN?</span></span>

<span data-ttu-id="2dced-131">Il connettore deve comunicare sia con Azure sia con le applicazioni (passaggi 2 e 3 nel diagramma di flusso del traffico) e la sua posizione influisce quindi sulla latenza di queste due connessioni.</span><span class="sxs-lookup"><span data-stu-id="2dced-131">The connector has to communicate with both Azure and your applications (steps 2 and 3 in the Traffic flow diagram), so the placement of the connector affects the latency of those two connections.</span></span> <span data-ttu-id="2dced-132">Quando si valuta il posizionamento del connettore, tenere presente quanto segue:</span><span class="sxs-lookup"><span data-stu-id="2dced-132">When evaluating the placement of the connector, keep in mind the following points:</span></span>

* <span data-ttu-id="2dced-133">Se si intende usare la delega vincolata Kerberos (KCD) per l'accesso Single Sign-On, il connettore deve avere visibilità su un data center.</span><span class="sxs-lookup"><span data-stu-id="2dced-133">If you want to use Kerberos constrained delegation (KCD) for single sign-on, then the connector needs a line of sight to a datacenter.</span></span> <span data-ttu-id="2dced-134">È necessario inoltre che il server del connettore sia aggiunto a un dominio.</span><span class="sxs-lookup"><span data-stu-id="2dced-134">Additionally, the connector server needs to be domain joined.</span></span>  
* <span data-ttu-id="2dced-135">In caso di dubbi, installare il connettore più vicino all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2dced-135">When in doubt, install the connector closer to the application.</span></span>

### <a name="general-approach-to-minimize-latency"></a><span data-ttu-id="2dced-136">Approccio generale per ridurre al minimo la latenza</span><span class="sxs-lookup"><span data-stu-id="2dced-136">General approach to minimize latency</span></span>

<span data-ttu-id="2dced-137">È possibile ridurre al minimo la latenza del traffico end-to-end ottimizzando ognuna delle connessioni di rete.</span><span class="sxs-lookup"><span data-stu-id="2dced-137">You can minimize the latency of the end-to-end traffic by optimizing each network connection.</span></span> <span data-ttu-id="2dced-138">Ogni connessione può essere ottimizzata eseguendo le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="2dced-138">Each connection can be optimized by:</span></span>

* <span data-ttu-id="2dced-139">Ridurre la distanza tra le due estremità dell'hop.</span><span class="sxs-lookup"><span data-stu-id="2dced-139">Reducing the distance between the two ends of the hop.</span></span>
* <span data-ttu-id="2dced-140">Scegliere la rete appropriata da attraversare.</span><span class="sxs-lookup"><span data-stu-id="2dced-140">Choosing the right network to traverse.</span></span> <span data-ttu-id="2dced-141">Ad esempio può risultare più veloce attraversare una rete privata anziché la rete Internet pubblica grazie ai collegamenti dedicati.</span><span class="sxs-lookup"><span data-stu-id="2dced-141">For example, traversing a private network rather than the public Internet may be faster, due to dedicated links.</span></span>

<span data-ttu-id="2dced-142">Se è presente un collegamento VPN o ExpressRoute dedicato tra Azure e la rete aziendale, è consigliabile usare tale collegamento.</span><span class="sxs-lookup"><span data-stu-id="2dced-142">If you have a dedicated VPN or ExpressRoute link between Azure and your corporate network, you may want to use that.</span></span>

## <a name="focus-your-optimization-strategy"></a><span data-ttu-id="2dced-143">Individuare la migliore strategia di ottimizzazione</span><span class="sxs-lookup"><span data-stu-id="2dced-143">Focus your optimization strategy</span></span>

<span data-ttu-id="2dced-144">Non si può fare molto per controllare la connessione tra gli utenti e il servizio proxy di applicazione,</span><span class="sxs-lookup"><span data-stu-id="2dced-144">There's little that you can do to control the connection between your users and the Application Proxy service.</span></span> <span data-ttu-id="2dced-145">poiché gli utenti possono accedere alle applicazioni da una rete domestica, un bar o un paese diverso.</span><span class="sxs-lookup"><span data-stu-id="2dced-145">Users may access your apps from a home network, a coffee shop, or a different country.</span></span> <span data-ttu-id="2dced-146">È possibile invece ottimizzare le connessioni dal servizio proxy di applicazione ai connettori del proxy di applicazione e alle app.</span><span class="sxs-lookup"><span data-stu-id="2dced-146">Instead, you can optimize the connections from the Application Proxy service to the Application Proxy connectors to the apps.</span></span> <span data-ttu-id="2dced-147">È consigliabile incorporare i modelli seguenti nell'ambiente in uso.</span><span class="sxs-lookup"><span data-stu-id="2dced-147">Consider incorporating the following patterns in your environment.</span></span>

### <a name="pattern-1-put-the-connector-close-to-the-application"></a><span data-ttu-id="2dced-148">Modello 1: Inserire il connettore vicino all'applicazione</span><span class="sxs-lookup"><span data-stu-id="2dced-148">Pattern 1: Put the connector close to the application</span></span>

<span data-ttu-id="2dced-149">Posizionare il connettore vicino all'applicazione di destinazione nella rete del cliente.</span><span class="sxs-lookup"><span data-stu-id="2dced-149">Place the connector close to the target application in the customer network.</span></span> <span data-ttu-id="2dced-150">Questa configurazione riduce al minimo il passaggio 3 nel diagramma della topografia, perché il connettore e l'applicazione sono vicini.</span><span class="sxs-lookup"><span data-stu-id="2dced-150">This configuration minimizes step 3 in the topography diagram, because the connector and application are close.</span></span> 

<span data-ttu-id="2dced-151">Se il connettore deve comunicare con il controller di dominio, questo modello è vantaggioso.</span><span class="sxs-lookup"><span data-stu-id="2dced-151">If your connector needs a line of sight to the domain controller, then this pattern is advantageous.</span></span> <span data-ttu-id="2dced-152">Molti clienti usano questo modello poiché è adatto alla maggior parte degli scenari.</span><span class="sxs-lookup"><span data-stu-id="2dced-152">Most of our customers use this pattern, because it works well for most scenarios.</span></span> <span data-ttu-id="2dced-153">Questo modello può essere combinato anche con il modello 2, in modo da ottimizzare il traffico tra il servizio e il connettore.</span><span class="sxs-lookup"><span data-stu-id="2dced-153">This pattern can also be combined with pattern 2 to optimize traffic between the service and the connector.</span></span>

### <a name="pattern-2-take-advantage-of-expressroute-with-public-peering"></a><span data-ttu-id="2dced-154">Modello 2: Sfruttare ExpressRoute con peering pubblico</span><span class="sxs-lookup"><span data-stu-id="2dced-154">Pattern 2: Take advantage of ExpressRoute with public peering</span></span>

<span data-ttu-id="2dced-155">Se ExpressRoute è configurato con peering pubblico, è possibile usare la connessione ExpressRoute più veloce per il traffico tra il proxy applicazione e il connettore.</span><span class="sxs-lookup"><span data-stu-id="2dced-155">If you have ExpressRoute set up with public peering, you can use the faster ExpressRoute connection for traffic between Application Proxy and the connector.</span></span> <span data-ttu-id="2dced-156">Il connettore risiede ancora nella rete, vicino all'app.</span><span class="sxs-lookup"><span data-stu-id="2dced-156">The connector is still on your network, close to the app.</span></span>

### <a name="pattern-3-take-advantage-of-expressroute-with-private-peering"></a><span data-ttu-id="2dced-157">Modello 3: Sfruttare ExpressRoute con peering privato</span><span class="sxs-lookup"><span data-stu-id="2dced-157">Pattern 3: Take advantage of ExpressRoute with private peering</span></span>

<span data-ttu-id="2dced-158">Se tra Azure e la rete aziendale è configurato un collegamento VPN o ExpressRoute dedicato con peering privato, è disponibile un'altra opzione.</span><span class="sxs-lookup"><span data-stu-id="2dced-158">If you have a dedicated VPN or ExpressRoute set up with private peering between Azure and your corporate network, you have another option.</span></span> <span data-ttu-id="2dced-159">In questa configurazione, la rete virtuale in Azure è in genere considerata come un'estensione della rete aziendale.</span><span class="sxs-lookup"><span data-stu-id="2dced-159">In this configuration, the virtual network in Azure is typically considered as an extension of the corporate network.</span></span> <span data-ttu-id="2dced-160">È quindi possibile installare il connettore nel data center di Azure soddisfacendo comunque i requisiti di bassa latenza della connessione da connettore ad app.</span><span class="sxs-lookup"><span data-stu-id="2dced-160">So you can install the connector in the Azure datacenter, and still satisfy the low latency requirements of the connector-to-app connection.</span></span>

<span data-ttu-id="2dced-161">Poiché il traffico scorre attraverso una connessione dedicata, la latenza non è compromessa.</span><span class="sxs-lookup"><span data-stu-id="2dced-161">Latency is not compromised because traffic is flowing over a dedicated connection.</span></span> <span data-ttu-id="2dced-162">Si migliora inoltre la latenza dal servizio proxy applicazione al connettore perché il connettore è installato in un data center di Azure vicino alla posizione del tenant di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="2dced-162">You also get improved Application Proxy service-to-connector latency because the connector is installed in an Azure datacenter close to your Azure AD tenant location.</span></span>

![Diagramma che illustra l'installazione del connettore in un data center di Azure](./media/application-proxy-network-topologies/application-proxy-expressroute-private.png)

### <a name="other-approaches"></a><span data-ttu-id="2dced-164">Altri approcci</span><span class="sxs-lookup"><span data-stu-id="2dced-164">Other approaches</span></span>

<span data-ttu-id="2dced-165">Nonostante questo articolo sia incentrato sul posizionamento del connettore, per ottenere caratteristiche di latenza migliori è anche possibile modificare il posizionamento dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2dced-165">Although the focus of this article is connector placement, you can also change the placement of the application to get better latency characteristics.</span></span>

<span data-ttu-id="2dced-166">Le organizzazioni spostano sempre più spesso le loro reti in ambienti in hosting.</span><span class="sxs-lookup"><span data-stu-id="2dced-166">Increasingly, organizations are moving their networks into hosted environments.</span></span> <span data-ttu-id="2dced-167">Ciò consente di posizionare le app in un ambiente ospitato che fa anche parte della rete aziendale rimanendo comunque all'interno del dominio.</span><span class="sxs-lookup"><span data-stu-id="2dced-167">This enables them to place their apps in a hosted environment that is also part of their corporate network, and still be within the domain.</span></span> <span data-ttu-id="2dced-168">In questo caso, i modelli illustrati nelle sezioni precedenti possono essere applicati alla nuova posizione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2dced-168">In this case, the patterns discussed in the preceding sections can be applied to the new application location.</span></span> <span data-ttu-id="2dced-169">Se si sta considerando questa opzione, vedere [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2dced-169">If you're considering this option, see [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span>

<span data-ttu-id="2dced-170">È possibile anche valutare l'opportunità di organizzare i connettori usando [gruppi di connettori](active-directory-application-proxy-connectors.md) per raggiungere le app che si trovano in posizioni e reti diverse.</span><span class="sxs-lookup"><span data-stu-id="2dced-170">Additionally, consider organizing your connectors using [connector groups](active-directory-application-proxy-connectors.md) to target apps that are in different locations and networks.</span></span> 

## <a name="common-use-cases"></a><span data-ttu-id="2dced-171">Casi d'uso comuni</span><span class="sxs-lookup"><span data-stu-id="2dced-171">Common use cases</span></span>

<span data-ttu-id="2dced-172">In questa sezione si esaminano alcuni scenari comuni.</span><span class="sxs-lookup"><span data-stu-id="2dced-172">In this section, we walk through a few common scenarios.</span></span> <span data-ttu-id="2dced-173">Si supponga che il tenant di Azure AD e di conseguenza l'endpoint del servizio proxy si trovino negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="2dced-173">Assume that the Azure AD tenant (and therefore proxy service endpoint) is located in the United States (US).</span></span> <span data-ttu-id="2dced-174">Le considerazioni illustrate in questi casi d'uso si applicano anche ad altre aree nel mondo.</span><span class="sxs-lookup"><span data-stu-id="2dced-174">The considerations discussed in these use cases also apply to other regions around the globe.</span></span>

<span data-ttu-id="2dced-175">In questi scenari ogni connessione viene chiamata "hop" e viene numerata per semplificare la discussione:</span><span class="sxs-lookup"><span data-stu-id="2dced-175">For these scenarios, we call each connection a "hop" and number them for easier discussion:</span></span>

- <span data-ttu-id="2dced-176">**Hop 1**: dall'utente al proxy del servizio di applicazione</span><span class="sxs-lookup"><span data-stu-id="2dced-176">**Hop 1**: User to the Application Proxy service</span></span>
- <span data-ttu-id="2dced-177">**Hop 2**: dal servizio del proxy di applicazione al connettore del proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="2dced-177">**Hop 2**: Application Proxy service to the Application Proxy connector</span></span>
- <span data-ttu-id="2dced-178">**Hop 3**: dal connettore del proxy di applicazione all'applicazione di destinazione</span><span class="sxs-lookup"><span data-stu-id="2dced-178">**Hop 3**: Application Proxy connector to the target application</span></span> 

### <a name="use-case-1"></a><span data-ttu-id="2dced-179">Caso d'uso 1</span><span class="sxs-lookup"><span data-stu-id="2dced-179">Use case 1</span></span>

<span data-ttu-id="2dced-180">**Scenario:** l'app si trova in una rete dell'organizzazione negli Stati Uniti, con utenti nella stessa area.</span><span class="sxs-lookup"><span data-stu-id="2dced-180">**Scenario:** The app is in an organization's network in the US, with users in the same region.</span></span> <span data-ttu-id="2dced-181">Tra il data center di Azure e la rete aziendale non esiste alcun collegamento VPN o ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="2dced-181">No ExpressRoute or VPN exists between the Azure datacenter and the corporate network.</span></span>

<span data-ttu-id="2dced-182">**Raccomandazione:** seguire il modello 1 illustrato nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="2dced-182">**Recommendation:** Follow pattern 1, explained in the previous section.</span></span> <span data-ttu-id="2dced-183">Per migliorare la latenza, valutare la possibilità di usare ExpressRoute, se necessario.</span><span class="sxs-lookup"><span data-stu-id="2dced-183">For improved latency, consider using ExpressRoute, if needed.</span></span>

<span data-ttu-id="2dced-184">Si tratta di un modello semplice.</span><span class="sxs-lookup"><span data-stu-id="2dced-184">This is a simple pattern.</span></span> <span data-ttu-id="2dced-185">Si ottimizza l'hop 3 posizionando il connettore vicino all'app.</span><span class="sxs-lookup"><span data-stu-id="2dced-185">You optimize hop 3 by placing the connector near the app.</span></span> <span data-ttu-id="2dced-186">Questa è anche una scelta naturale, perché il connettore viene in genere installato in modo che comunichi con l'app e il data center per eseguire operazioni KCD.</span><span class="sxs-lookup"><span data-stu-id="2dced-186">This is also a natural choice, because the connector typically is installed with line of sight to the app and to the datacenter to perform KCD operations.</span></span>

![Diagramma che mostra che gli utenti, il proxy, il connettore e l'app sono tutti negli Stati Uniti](./media/application-proxy-network-topologies/application-proxy-pattern1.png)

### <a name="use-case-2"></a><span data-ttu-id="2dced-188">Caso d'uso 2</span><span class="sxs-lookup"><span data-stu-id="2dced-188">Use case 2</span></span>

<span data-ttu-id="2dced-189">**Scenario:** l'app si trova in una rete dell'organizzazione negli Stati Uniti, con utenti distribuiti in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="2dced-189">**Scenario:** The app is in an organization's network in the US, with users spread out globally.</span></span> <span data-ttu-id="2dced-190">Tra il data center di Azure e la rete aziendale non esiste alcun collegamento VPN o ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="2dced-190">No ExpressRoute or VPN exists between the Azure datacenter and the corporate network.</span></span>

<span data-ttu-id="2dced-191">**Raccomandazione:** seguire il modello 1 illustrato nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="2dced-191">**Recommendation:** Follow pattern 1, explained in the previous section.</span></span> 

<span data-ttu-id="2dced-192">Anche in questo caso, il modello comune consiste nell'ottimizzare l'hop 3, posizionando il connettore vicino all'app.</span><span class="sxs-lookup"><span data-stu-id="2dced-192">Again, the common pattern is to optimize hop 3, where you place the connector near the app.</span></span> <span data-ttu-id="2dced-193">L'hop 3 non è in genere costoso, se si trova interamente all'interno della stessa area.</span><span class="sxs-lookup"><span data-stu-id="2dced-193">Hop 3 is not typically expensive, if it is all within the same region.</span></span> <span data-ttu-id="2dced-194">L'hop 1 può invece essere più costoso a seconda di dove si trova l'utente, perché gli utenti nel mondo devono accedere all'istanza del proxy applicazione negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="2dced-194">However, hop 1 can be more expensive depending on where the user is, because users across the world must access the Application Proxy instance in the US.</span></span> <span data-ttu-id="2dced-195">È opportuno notare che qualsiasi soluzione proxy presenta caratteristiche simili in relazione a utenti distribuiti in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="2dced-195">It's worth noting that any proxy solution has similar characteristics regarding users being spread out globally.</span></span>

![Diagramma che mostra che gli utenti sono distribuiti a livello globale, ma il proxy, il connettore e l'app sono negli Stati Uniti](./media/application-proxy-network-topologies/application-proxy-pattern2.png)

### <a name="use-case-3"></a><span data-ttu-id="2dced-197">Caso d'uso 3</span><span class="sxs-lookup"><span data-stu-id="2dced-197">Use case 3</span></span>

<span data-ttu-id="2dced-198">**Scenario:** l'app si trova in una rete dell'organizzazione negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="2dced-198">**Scenario:** The app is in an organization's network in the US.</span></span> <span data-ttu-id="2dced-199">Tra Azure e la rete aziendale è presente ExpressRoute con peering pubblico.</span><span class="sxs-lookup"><span data-stu-id="2dced-199">ExpressRoute with public peering exists between Azure and the corporate network.</span></span>

<span data-ttu-id="2dced-200">**Raccomandazione:** seguire i modelli 1 e 2 illustrati nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="2dced-200">**Recommendation:** Follow patterns 1 and 2, explained in the previous section.</span></span>

<span data-ttu-id="2dced-201">Per prima cosa, posizionare il connettore il più vicino possibile all'app.</span><span class="sxs-lookup"><span data-stu-id="2dced-201">First, place the connector as close as possible to the app.</span></span> <span data-ttu-id="2dced-202">In questo modo, il sistema usa automaticamente ExpressRoute per l'hop 2.</span><span class="sxs-lookup"><span data-stu-id="2dced-202">Then, the system automatically uses ExpressRoute for hop 2.</span></span> 

<span data-ttu-id="2dced-203">Se il collegamento ExpressRoute usa il peering pubblico, il traffico tra il proxy e il connettore viene trasmesso su tale collegamento.</span><span class="sxs-lookup"><span data-stu-id="2dced-203">If the ExpressRoute link is using public peering, the traffic between the proxy and the connector flows over that link.</span></span> <span data-ttu-id="2dced-204">L'hop 2 ha una latenza ottimizzata.</span><span class="sxs-lookup"><span data-stu-id="2dced-204">Hop 2 has optimized latency.</span></span>

![Diagramma che mostra ExpressRoute tra il proxy e il connettore](./media/application-proxy-network-topologies/application-proxy-pattern3.png)

### <a name="use-case-4"></a><span data-ttu-id="2dced-206">Caso d'uso 4</span><span class="sxs-lookup"><span data-stu-id="2dced-206">Use case 4</span></span>

<span data-ttu-id="2dced-207">**Scenario:** l'app si trova in una rete dell'organizzazione negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="2dced-207">**Scenario:** The app is in an organization's network in the US.</span></span> <span data-ttu-id="2dced-208">Tra Azure e la rete aziendale è presente ExpressRoute con peering privato.</span><span class="sxs-lookup"><span data-stu-id="2dced-208">ExpressRoute with private peering exists between Azure and the corporate network.</span></span>

<span data-ttu-id="2dced-209">**Raccomandazione:** seguire il modello 3 illustrato nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="2dced-209">**Recommendation:** Follow pattern 3, explained in the previous section.</span></span>

<span data-ttu-id="2dced-210">Posizionare il connettore nel data center di Azure connesso alla rete aziendale tramite il peering privato di ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="2dced-210">Place the connector in the Azure datacenter that is connected to the corporate network through ExpressRoute private peering.</span></span> 

<span data-ttu-id="2dced-211">Il connettore può essere posizionato nel data center di Azure.</span><span class="sxs-lookup"><span data-stu-id="2dced-211">The connector can be placed in the Azure datacenter.</span></span> <span data-ttu-id="2dced-212">Dato che il connettore comunica comunque con l'applicazione e il data center tramite la rete privata, l'hop 3 rimane ottimizzato.</span><span class="sxs-lookup"><span data-stu-id="2dced-212">Since the connector still has a line of sight to the application and the datacenter through the private network, hop 3 remains optimized.</span></span> <span data-ttu-id="2dced-213">Viene anche ulteriormente ottimizzato l'hop 2.</span><span class="sxs-lookup"><span data-stu-id="2dced-213">In addition, hop 2 is optimized further.</span></span>

![Diagramma che mostra il connettore in un data center di Azure ed ExpressRoute tra il connettore e l'app](./media/application-proxy-network-topologies/application-proxy-pattern4.png)

### <a name="use-case-5"></a><span data-ttu-id="2dced-215">Caso d'uso 5</span><span class="sxs-lookup"><span data-stu-id="2dced-215">Use case 5</span></span>

<span data-ttu-id="2dced-216">**Scenario:** l'app è in una rete aziendale dell'Unione europea, con l'istanza del proxy applicazione e la maggior parte degli utenti negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="2dced-216">**Scenario:** The app is in an organization's network in the EU, with the Application Proxy instance and most users in the US.</span></span>

<span data-ttu-id="2dced-217">**Raccomandazione:** posizionare il connettore vicino all'app.</span><span class="sxs-lookup"><span data-stu-id="2dced-217">**Recommendation:** Place the connector near the app.</span></span> <span data-ttu-id="2dced-218">Dato che gli utenti degli Stati Uniti accedono a un'istanza del proxy applicazione che si trova nella stessa area, l'hop 1 non è troppo costoso.</span><span class="sxs-lookup"><span data-stu-id="2dced-218">Because US users are accessing an Application Proxy instance that happens to be in the same region, hop 1 is not too expensive.</span></span> <span data-ttu-id="2dced-219">L'hop 3 è ottimizzato.</span><span class="sxs-lookup"><span data-stu-id="2dced-219">Hop 3 is optimized.</span></span> <span data-ttu-id="2dced-220">È consigliabile usare ExpressRoute per ottimizzare l'hop 2.</span><span class="sxs-lookup"><span data-stu-id="2dced-220">Consider using ExpressRoute to optimize hop 2.</span></span> 

![Diagramma che mostra gli utenti e il proxy negli Stati Uniti, con il connettore e l'app dell'Unione europea](./media/application-proxy-network-topologies/application-proxy-pattern5b.png)

<span data-ttu-id="2dced-222">In questa situazione è anche possibile prendere in considerazione l'uso di un'altra variante.</span><span class="sxs-lookup"><span data-stu-id="2dced-222">You can also consider using one other variant in this situation.</span></span> <span data-ttu-id="2dced-223">Se la maggior parte degli utenti nell'organizzazione si trova negli Stati Uniti, la rete potrebbe estendersi anche negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="2dced-223">If most users in the organization are in the US, then chances are that your network extends to the US as well.</span></span> <span data-ttu-id="2dced-224">Posizionare il connettore negli Stati Uniti e usare la linea della rete aziendale interna dedicata verso l'applicazione nell'Unione Europea.</span><span class="sxs-lookup"><span data-stu-id="2dced-224">Place the connector in the US, and use the dedicated internal corporate network line to the application in the EU.</span></span> <span data-ttu-id="2dced-225">In questo modo, gli hop 2 e 3 vengono ottimizzati.</span><span class="sxs-lookup"><span data-stu-id="2dced-225">This way hops 2 and 3 are optimized.</span></span>

![Diagramma che mostra gli utenti, il proxy e il connettore negli Stati Uniti e l'app nell'Unione europea](./media/application-proxy-network-topologies/application-proxy-pattern5c.png)

## <a name="next-steps"></a><span data-ttu-id="2dced-227">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="2dced-227">Next steps</span></span>

- [<span data-ttu-id="2dced-228">Abilitare il proxy dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="2dced-228">Enable Application Proxy</span></span>](active-directory-application-proxy-enable.md)
- [<span data-ttu-id="2dced-229">Abilitare l'accesso Single Sign-On</span><span class="sxs-lookup"><span data-stu-id="2dced-229">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
- [<span data-ttu-id="2dced-230">Abilitare l'accesso condizionale</span><span class="sxs-lookup"><span data-stu-id="2dced-230">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)
- [<span data-ttu-id="2dced-231">Risolvere i problemi che si verificano con il proxy di applicazione</span><span class="sxs-lookup"><span data-stu-id="2dced-231">Troubleshoot issues you're having with Application Proxy</span></span>](active-directory-application-proxy-troubleshoot.md)
