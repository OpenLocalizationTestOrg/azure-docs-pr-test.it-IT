---
title: "Pianificazione della capacità per Ricerca di Azure | Documentazione Microsoft"
description: "Regolare le risorse di calcolo, ovvero partizioni e repliche, dove il prezzo di ogni risorsa è definito in unità di ricerca fatturabili, in Ricerca di Azure."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 1dc16afe-56f9-439d-8874-1733ae1a2b74
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 02/08/2017
ms.author: heidist
ms.openlocfilehash: 26f5e71f3d00161a92de702209e224008ec8a5ae
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="scale-resource-levels-for-query-and-indexing-workloads-in-azure-search"></a><span data-ttu-id="3083f-103">Ridimensionare i livelli di risorse per i carichi di lavoro di indicizzazione e query in Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="3083f-103">Scale resource levels for query and indexing workloads in Azure Search</span></span>
<span data-ttu-id="3083f-104">Dopo aver [scelto un piano tariffario](search-sku-tier.md) ed [eseguito il provisioning di un servizio di ricerca](search-create-service-portal.md), il passaggio successivo consente di aumentare il numero di repliche o partizioni usate dal servizio.</span><span class="sxs-lookup"><span data-stu-id="3083f-104">After you [choose a pricing tier](search-sku-tier.md) and [provision a search service](search-create-service-portal.md), the next step is to optionally increase the number of replicas or partitions used by your service.</span></span> <span data-ttu-id="3083f-105">Ogni livello offre un numero fisso di unità di fatturazione.</span><span class="sxs-lookup"><span data-stu-id="3083f-105">Each tier offers a fixed number of billing units.</span></span> <span data-ttu-id="3083f-106">Questo articolo illustra come assegnare le unità per ottenere una configurazione ottimale che bilanci i requisiti per l'esecuzione di query, indicizzazione e archiviazione.</span><span class="sxs-lookup"><span data-stu-id="3083f-106">This article explains how to allocate those units to achieve an optimal configuration that balances your requirements for query execution, indexing, and storage.</span></span>

<span data-ttu-id="3083f-107">La configurazione delle risorse è disponibile se si imposta un servizio al [livello Basic](http://aka.ms/azuresearchbasic) o a uno dei [livelli Standard](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="3083f-107">Resource configuration is available when you set up a service at the [Basic tier](http://aka.ms/azuresearchbasic) or one of the [Standard tiers](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="3083f-108">Per tutti i servizi fatturabili di questi livelli è possibile acquistare capacità a incrementi di *unità di ricerca* (SU). Le singole partizioni e repliche vengono considerate come una unità di ricerca.</span><span class="sxs-lookup"><span data-stu-id="3083f-108">For billable services at these tiers, capacity is purchased in increments of *search units* (SUs) where each partition and replica counts as one SU.</span></span> 

<span data-ttu-id="3083f-109">Usando un numero minore di risultati SU in una fattura proporzionalmente inferiore.</span><span class="sxs-lookup"><span data-stu-id="3083f-109">Using fewer SUs results in a proportionally lower bill.</span></span> <span data-ttu-id="3083f-110">La fatturazione è attiva per l'intera durata impostata per il servizio.</span><span class="sxs-lookup"><span data-stu-id="3083f-110">Billing is in effect for as long as the service is set up.</span></span> <span data-ttu-id="3083f-111">Se temporaneamente non si usa un servizio, l'unico modo per evitare la fatturazione è eliminare il servizio e quindi ricrearlo quando sarà necessario.</span><span class="sxs-lookup"><span data-stu-id="3083f-111">If you are temporarily not using a service, the only way to avoid billing is by deleting the service and then re-creating it when you need it.</span></span>

> [!Note]
> <span data-ttu-id="3083f-112">Eliminando un servizio si elimina tutto il suo contenuto.</span><span class="sxs-lookup"><span data-stu-id="3083f-112">Deleting a service deletes everything on it.</span></span> <span data-ttu-id="3083f-113">Non sono disponibili funzionalità all'interno di Ricerca di Azure per eseguire il backup e il ripristino dei dati di ricerca permanenti.</span><span class="sxs-lookup"><span data-stu-id="3083f-113">There is no facility within Azure Search for backing up and restoring persisted search data.</span></span> <span data-ttu-id="3083f-114">Per ridistribuire un indice esistente in un nuovo servizio è necessario eseguire il programma utilizzato in origine per crearlo e caricarlo.</span><span class="sxs-lookup"><span data-stu-id="3083f-114">To redeploy an existing index on a new service, you should run the program used to create and load it originally.</span></span> 

## <a name="terminology-partitions-and-replicas"></a><span data-ttu-id="3083f-115">Terminologia: partizioni e repliche</span><span class="sxs-lookup"><span data-stu-id="3083f-115">Terminology: partitions and replicas</span></span>
<span data-ttu-id="3083f-116">Partizioni e repliche sono le risorse primarie alla base di un servizio di ricerca.</span><span class="sxs-lookup"><span data-stu-id="3083f-116">Partitions and replicas are the primary resources that back a search service.</span></span>

| <span data-ttu-id="3083f-117">Risorsa</span><span class="sxs-lookup"><span data-stu-id="3083f-117">Resource</span></span> | <span data-ttu-id="3083f-118">Definizione</span><span class="sxs-lookup"><span data-stu-id="3083f-118">Definition</span></span> |
|----------|------------|
|<span data-ttu-id="3083f-119">*Partizioni*</span><span class="sxs-lookup"><span data-stu-id="3083f-119">*Partitions*</span></span> | <span data-ttu-id="3083f-120">Offre l'archiviazione degli indici e l'I/O per le operazioni di lettura e scrittura, ad esempio durante la compilazione o l'aggiornamento di un indice.</span><span class="sxs-lookup"><span data-stu-id="3083f-120">Provides index storage and I/O for read/write operations (for example, when rebuilding or refreshing an index).</span></span>|
|<span data-ttu-id="3083f-121">*Repliche*</span><span class="sxs-lookup"><span data-stu-id="3083f-121">*Replicas*</span></span> | <span data-ttu-id="3083f-122">Istanze del servizio di ricerca, utilizzate principalmente per il bilanciamento di carico delle operazioni di query.</span><span class="sxs-lookup"><span data-stu-id="3083f-122">Instances of the search service, used primarily to load balance query operations.</span></span> <span data-ttu-id="3083f-123">Ogni replica ospita sempre una copia di un indice.</span><span class="sxs-lookup"><span data-stu-id="3083f-123">Each replica always hosts one copy of an index.</span></span> <span data-ttu-id="3083f-124">Se si dispone di 12 repliche, si disporrà di 12 copie di ogni indice caricate nel servizio.</span><span class="sxs-lookup"><span data-stu-id="3083f-124">If you have 12 replicas, you will have 12 copies of every index loaded on the service.</span></span>|

> [!NOTE]
> <span data-ttu-id="3083f-125">Non è possibile manipolare o scegliere direttamente quali indici devono essere eseguiti su una replica.</span><span class="sxs-lookup"><span data-stu-id="3083f-125">There is no way to directly manipulate or manage which indexes run on a replica.</span></span> <span data-ttu-id="3083f-126">L'architettura del servizio include una copia di ogni indice in ogni replica.</span><span class="sxs-lookup"><span data-stu-id="3083f-126">One copy of each index on every replica is part of the service architecture.</span></span>
>

## <a name="how-to-allocate-partitions-and-replicas"></a><span data-ttu-id="3083f-127">Modalità di allocazione di partizioni e repliche</span><span class="sxs-lookup"><span data-stu-id="3083f-127">How to allocate partitions and replicas</span></span>
<span data-ttu-id="3083f-128">In Ricerca di Azure viene allocato inizialmente a un servizio un livello minimo di risorse costituito da una partizione e una replica.</span><span class="sxs-lookup"><span data-stu-id="3083f-128">In Azure Search, a service is initially allocated a minimal level of resources consisting of one partition and one replica.</span></span> <span data-ttu-id="3083f-129">Per i livelli che lo supportano, è possibile regolare in modo incrementale le risorse di elaborazione aumentando le partizioni se si ha bisogno di maggiore spazio di archiviazione e I/O o aggiungendo più repliche per volumi di query maggiori o migliori prestazioni.</span><span class="sxs-lookup"><span data-stu-id="3083f-129">For tiers that support it, you can incrementally adjust computational resources by increasing partitions if you need more storage and I/O, or add more replicas for larger query volumes or better performance.</span></span> <span data-ttu-id="3083f-130">Un singolo servizio deve disporre di risorse sufficienti per gestire tutti i carichi di lavoro (indicizzazione e query).</span><span class="sxs-lookup"><span data-stu-id="3083f-130">A single service must have sufficient resources to handle all workloads (indexing and queries).</span></span> <span data-ttu-id="3083f-131">Non è possibile suddividere i carichi di lavoro tra più servizi.</span><span class="sxs-lookup"><span data-stu-id="3083f-131">You cannot subdivide workloads among multiple services.</span></span>

<span data-ttu-id="3083f-132">Per aumentare o modificare l'allocazione delle repliche e delle partizioni, è consigliabile usare il portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="3083f-132">To increase or change the allocation of replicas and partitions, we recommend using the Azure portal.</span></span> <span data-ttu-id="3083f-133">Il portale applica limiti alle combinazioni consentite inferiori ai limiti massimi:</span><span class="sxs-lookup"><span data-stu-id="3083f-133">The portal enforces limits on allowable combinations that stay below maximum limits:</span></span>

1. <span data-ttu-id="3083f-134">Accedere al [portale di Azure](https://portal.azure.com/) e selezionare il servizio di ricerca.</span><span class="sxs-lookup"><span data-stu-id="3083f-134">Sign in to the [Azure portal](https://portal.azure.com/) and select the search service.</span></span>
2. <span data-ttu-id="3083f-135">In **Impostazioni** aprire il pannello **Piano** e usare i dispositivi di scorrimento per aumentare o ridurre il numero di partizioni e repliche.</span><span class="sxs-lookup"><span data-stu-id="3083f-135">In **Settings**, open the **Scale** blade and use the sliders to increase or decrease the number of partitions and replicas.</span></span>

<span data-ttu-id="3083f-136">Se è necessario un approccio di provisioning basato script o su codice, invece del portale è possibile usare l'[API REST di gestione](https://msdn.microsoft.com/library/azure/dn832687.aspx).</span><span class="sxs-lookup"><span data-stu-id="3083f-136">If you require a script-based or code-based provisioning approach, the [Management REST API](https://msdn.microsoft.com/library/azure/dn832687.aspx) is an alternative to the portal.</span></span>

<span data-ttu-id="3083f-137">In generale le applicazioni di ricerca richiedono più repliche che partizioni, in particolare quando fra le operazioni del servizio prevalgono i carichi di lavoro di query.</span><span class="sxs-lookup"><span data-stu-id="3083f-137">Generally, search applications need more replicas than partitions, particularly when the service operations are biased toward query workloads.</span></span> <span data-ttu-id="3083f-138">La sezione relativa alla [disponibilità elevata](#HA) spiega perché.</span><span class="sxs-lookup"><span data-stu-id="3083f-138">The section on [high availability](#HA) explains why.</span></span>

> [!NOTE]
> <span data-ttu-id="3083f-139">Dopo aver effettuato il provisioning di un servizio, non è possibile aggiornarlo passando a uno SKU superiore.</span><span class="sxs-lookup"><span data-stu-id="3083f-139">After a service is provisioned, it cannot be upgraded to a higher SKU.</span></span> <span data-ttu-id="3083f-140">È necessario creare un servizio di ricerca a un nuovo livello e ricaricare gli indici.</span><span class="sxs-lookup"><span data-stu-id="3083f-140">You will need to create a search service at the new tier and reload your indexes.</span></span> <span data-ttu-id="3083f-141">Per assistenza sul provisioning del servizio, vedere [Creare un servizio Ricerca di Azure nel portale](search-create-service-portal.md) .</span><span class="sxs-lookup"><span data-stu-id="3083f-141">See [Create an Azure Search service in the portal](search-create-service-portal.md) for help with service provisioning.</span></span>
>
>

<a id="HA"></a>

## <a name="high-availability"></a><span data-ttu-id="3083f-142">Disponibilità elevata</span><span class="sxs-lookup"><span data-stu-id="3083f-142">High availability</span></span>
<span data-ttu-id="3083f-143">Poiché è facile e relativamente veloce eseguire la scalabilità verticale, è consigliabile in genere iniziare con una partizione e una o due repliche e quindi eseguire la scalabilità verticale come vengono compilati i volumi di query.</span><span class="sxs-lookup"><span data-stu-id="3083f-143">Because it's easy and relatively fast to scale up, we generally recommend that you start with one partition and one or two replicas, and then scale up as query volumes build.</span></span> <span data-ttu-id="3083f-144">Per molti servizi al livello Basic o S1, una partizione offre risorse di archiviazione e I/O sufficienti, con 15 milioni di documenti per partizione.</span><span class="sxs-lookup"><span data-stu-id="3083f-144">For many services at the Basic or S1 tiers, one partition provides sufficient storage and I/O (at 15 million documents per partition).</span></span>

<span data-ttu-id="3083f-145">I carichi di lavoro di query vengono eseguiti principalmente nelle repliche.</span><span class="sxs-lookup"><span data-stu-id="3083f-145">Query workloads run primarily on replicas.</span></span> <span data-ttu-id="3083f-146">Se è necessaria maggiore velocità effettiva o una disponibilità elevata, probabilmente saranno necessarie repliche aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="3083f-146">If you need more throughput or high availability, you will probably require additional replicas.</span></span>

<span data-ttu-id="3083f-147">Le indicazioni generali per la disponibilità elevata sono:</span><span class="sxs-lookup"><span data-stu-id="3083f-147">General recommendations for high availability are:</span></span>

* <span data-ttu-id="3083f-148">Due repliche per la disponibilità elevata di carichi di lavoro di sola lettura, vale a dire query.</span><span class="sxs-lookup"><span data-stu-id="3083f-148">Two replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="3083f-149">Tre o più repliche per la disponibilità elevata dei carichi di lavoro di lettura e scrittura, vale a dire query e indicizzazione man mano che singoli documenti vengono aggiunti, aggiornati o eliminati.</span><span class="sxs-lookup"><span data-stu-id="3083f-149">Three or more replicas for high availability of read/write workloads (queries plus indexing as individual documents are added, updated, or deleted)</span></span>

<span data-ttu-id="3083f-150">I contratti di servizio per Ricerca di Azure sono associati a operazioni di query e aggiornamenti di indici che consistono nell'aggiunta, l'aggiornamento o l'eliminazione di documenti.</span><span class="sxs-lookup"><span data-stu-id="3083f-150">Service level agreements (SLA) for Azure Search are targeted at query operations and at index updates that consist of adding, updating, or deleting documents.</span></span>

### <a name="index-availability-during-a-rebuild"></a><span data-ttu-id="3083f-151">Disponibilità degli indici durante la ricompilazione</span><span class="sxs-lookup"><span data-stu-id="3083f-151">Index availability during a rebuild</span></span>

<span data-ttu-id="3083f-152">La disponibilità elevata per Ricerca di Azure riguarda gli aggiornamenti di query e indici che non comportano la ricompilazione di un indice.</span><span class="sxs-lookup"><span data-stu-id="3083f-152">High availability for Azure Search pertains to queries and index updates that don't involve rebuilding an index.</span></span> <span data-ttu-id="3083f-153">Se si elimina o si rinomina un campo oppure si modifica il tipo di dati, sarà necessario ricompilare l'indice.</span><span class="sxs-lookup"><span data-stu-id="3083f-153">If you delete a field, change a data type, or rename a field, you will need to rebuild the index.</span></span> <span data-ttu-id="3083f-154">A tale scopo, è necessario eliminare l'indice, ricrearlo e ricaricare i dati.</span><span class="sxs-lookup"><span data-stu-id="3083f-154">To rebuild the index, you must delete the index, re-create the index, and reload the data.</span></span>

> [!NOTE]
> <span data-ttu-id="3083f-155">È possibile aggiungere nuovi campi a un indice di Ricerca di Azure senza ricompilare l'indice.</span><span class="sxs-lookup"><span data-stu-id="3083f-155">You can add new fields to an Azure Search index without rebuilding the index.</span></span> <span data-ttu-id="3083f-156">Il valore del nuovo campo sarà null per tutti i documenti già presenti nell'indice.</span><span class="sxs-lookup"><span data-stu-id="3083f-156">The value of the new field will be null for all documents already in the index.</span></span>

<span data-ttu-id="3083f-157">Per mantenere la disponibilità degli indici durante la ricompilazione, è necessario avere una copia dell'indice con un nome diverso nelle stesso servizio oppure una copia dell'indice con lo stesso nome in un servizio diverso e quindi specificare la logica di reindirizzamento o di failover nel codice.</span><span class="sxs-lookup"><span data-stu-id="3083f-157">To maintain index availability during a rebuild, you must have a copy of the index with a different name on the same service, or a copy of the index with the same name on a different service, and then provide redirection or failover logic in your code.</span></span>

## <a name="disaster-recovery"></a><span data-ttu-id="3083f-158">Ripristino di emergenza</span><span class="sxs-lookup"><span data-stu-id="3083f-158">Disaster recovery</span></span>
<span data-ttu-id="3083f-159">Attualmente, non esiste alcun meccanismo incorporato per il ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="3083f-159">Currently, there is no built-in mechanism for disaster recovery.</span></span> <span data-ttu-id="3083f-160">L'aggiunta di partizioni o repliche sarebbe una strategia errata per soddisfare gli obiettivi di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="3083f-160">Adding partitions or replicas would be the wrong strategy for meeting disaster recovery objectives.</span></span> <span data-ttu-id="3083f-161">Il metodo più comune consiste nell'aggiungere ridondanza a livello di servizio impostando un secondo servizio di ricerca in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="3083f-161">The most common approach is to add redundancy at the service level by setting up a second search service in another region.</span></span> <span data-ttu-id="3083f-162">Come con la disponibilità durante la ricostruzione di un indice, la logica di reindirizzamento o di failover deve provenire dal codice.</span><span class="sxs-lookup"><span data-stu-id="3083f-162">As with availability during an index rebuild, the redirection or failover logic must come from your code.</span></span>

## <a name="increase-query-performance-with-replicas"></a><span data-ttu-id="3083f-163">Aumentare le prestazioni delle query con le repliche</span><span class="sxs-lookup"><span data-stu-id="3083f-163">Increase query performance with replicas</span></span>
<span data-ttu-id="3083f-164">La latenza delle query indica che sono necessarie repliche aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="3083f-164">Query latency is an indicator that additional replicas are needed.</span></span> <span data-ttu-id="3083f-165">In genere, un primo passo per migliorare le prestazioni delle query consiste nell'aggiungere altre repliche.</span><span class="sxs-lookup"><span data-stu-id="3083f-165">Generally, a first step toward improving query performance is to add more of this resource.</span></span> <span data-ttu-id="3083f-166">Quando si aggiungono le repliche, copie aggiuntive dell'indice vengono portate online per supportare carichi di lavoro di query maggiori e per bilanciare il carico delle richieste su più repliche.</span><span class="sxs-lookup"><span data-stu-id="3083f-166">As you add replicas, additional copies of the index are brought online to support bigger query workloads and to load balance the requests over the multiple replicas.</span></span>

<span data-ttu-id="3083f-167">Non è possibile fornire stime precise sulle query al secondo. Le prestazioni, infatti, dipendono dalla complessità della query e dai carichi di lavoro concorrenti.</span><span class="sxs-lookup"><span data-stu-id="3083f-167">We cannot provide hard estimates on queries per second (QPS): query performance depends on the complexity of the query and competing workloads.</span></span> <span data-ttu-id="3083f-168">In media, una replica agli SKU Basic o S1 può soddisfare circa 15 QPS, ma la velocità effettiva sarà leggermente superiore o inferiore a seconda della complessità della query (le query con facet sono più complesse) e della latenza di rete.</span><span class="sxs-lookup"><span data-stu-id="3083f-168">On average, a replica at Basic or S1 SKUs can service about 15 QPS, but your throughput will be higher or lower depending on query complexity (faceted queries are more complex) and network latency.</span></span> <span data-ttu-id="3083f-169">È importante sapere che mentre l'aggiunta di repliche consente certamente di migliorare la scalabilità e le prestazioni, il risultato non è strettamente lineare. Vale a dire che l'aggiunta di tre repliche non garantisce una velocità effettiva triplicata.</span><span class="sxs-lookup"><span data-stu-id="3083f-169">Also, it's important to recognize that although adding replicas will definitely add scale and performance, the result is not strictly linear: adding three replicas does not guarantee triple throughput.</span></span>

<span data-ttu-id="3083f-170">Per altre informazioni sulle query al secondo, inclusi i metodi per la stima di tale valore in funzione dei carichi di lavoro, vedere [Gestire il servizio di ricerca](search-manage.md).</span><span class="sxs-lookup"><span data-stu-id="3083f-170">To learn about QPS, including approaches for estimating QPS for your workloads, see [Manage your Search service](search-manage.md).</span></span>

## <a name="increase-indexing-performance-with-partitions"></a><span data-ttu-id="3083f-171">Aumentare le prestazioni dell'indicizzazione con le partizioni</span><span class="sxs-lookup"><span data-stu-id="3083f-171">Increase indexing performance with partitions</span></span>
<span data-ttu-id="3083f-172">Le applicazioni di ricerca che richiedono l'aggiornamento dei dati quasi in tempo reale avranno bisogno in proporzione di più partizioni che repliche.</span><span class="sxs-lookup"><span data-stu-id="3083f-172">Search applications that require near real-time data refresh will need proportionally more partitions than replicas.</span></span> <span data-ttu-id="3083f-173">L'aggiunta di partizioni distribuisce le operazioni di lettura/scrittura su un numero più ampio di risorse di calcolo.</span><span class="sxs-lookup"><span data-stu-id="3083f-173">Adding partitions spreads read/write operations across a larger number of compute resources.</span></span> <span data-ttu-id="3083f-174">Offre inoltre più spazio su disco per l'archiviazione di documenti e indici aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="3083f-174">It also gives you more disk space for storing additional indexes and documents.</span></span>

<span data-ttu-id="3083f-175">L'esecuzione di query su indici di dimensioni maggiori può richiedere tempi più lunghi.</span><span class="sxs-lookup"><span data-stu-id="3083f-175">Larger indexes take longer to query.</span></span> <span data-ttu-id="3083f-176">Di conseguenza, si noterà che ogni aumento incrementale delle partizioni richiede un aumento delle repliche proporzionale ma più limitato.</span><span class="sxs-lookup"><span data-stu-id="3083f-176">As such, you might find that every incremental increase in partitions requires a smaller but proportional increase in replicas.</span></span> <span data-ttu-id="3083f-177">La complessità e il volume delle query influiscono sulla rapidità di esecuzione delle stesse.</span><span class="sxs-lookup"><span data-stu-id="3083f-177">The complexity of your queries and query volume will factor into how quickly query execution is turned around.</span></span>

## <a name="basic-tier-partition-and-replica-combinations"></a><span data-ttu-id="3083f-178">Livello Basic: combinazioni di partizioni e repliche</span><span class="sxs-lookup"><span data-stu-id="3083f-178">Basic tier: Partition and replica combinations</span></span>
<span data-ttu-id="3083f-179">Il servizio Basic prevede esattamente una partizione e fino a tre repliche, per un massimo di tre unità di ricerca.</span><span class="sxs-lookup"><span data-stu-id="3083f-179">A Basic service can have exactly one partition and up to three replicas, for a maximum limit of three SUs.</span></span> <span data-ttu-id="3083f-180">Le repliche sono l'unica risorsa regolabile.</span><span class="sxs-lookup"><span data-stu-id="3083f-180">The only adjustable resource is replicas.</span></span> <span data-ttu-id="3083f-181">Per la disponibilità elevata relativa alle query è necessario un minimo di due repliche.</span><span class="sxs-lookup"><span data-stu-id="3083f-181">You need a minimum of two replicas for high availability on queries.</span></span>

<a id="chart"></a>

## <a name="standard-tiers-partition-and-replica-combinations"></a><span data-ttu-id="3083f-182">Livello Standard: combinazioni di partizioni e repliche</span><span class="sxs-lookup"><span data-stu-id="3083f-182">Standard tiers: Partition and replica combinations</span></span>
<span data-ttu-id="3083f-183">La tabella seguente mostra le unità di ricerca necessarie per supportare combinazioni di repliche e partizioni entro il limite di 36 unità di ricerca, per tutti i livelli Standard.</span><span class="sxs-lookup"><span data-stu-id="3083f-183">This table shows the SUs required to support combinations of replicas and partitions, subject to the 36-SU limit, for all Standard tiers.</span></span>

|   | <span data-ttu-id="3083f-184">**1 partizione**</span><span class="sxs-lookup"><span data-stu-id="3083f-184">**1 partition**</span></span> | <span data-ttu-id="3083f-185">**2 partizioni**</span><span class="sxs-lookup"><span data-stu-id="3083f-185">**2 partitions**</span></span> | <span data-ttu-id="3083f-186">**3 partizioni**</span><span class="sxs-lookup"><span data-stu-id="3083f-186">**3 partitions**</span></span> | <span data-ttu-id="3083f-187">**4 partizioni**</span><span class="sxs-lookup"><span data-stu-id="3083f-187">**4 partitions**</span></span> | <span data-ttu-id="3083f-188">**6 partizioni**</span><span class="sxs-lookup"><span data-stu-id="3083f-188">**6 partitions**</span></span> | <span data-ttu-id="3083f-189">**12 partizioni**</span><span class="sxs-lookup"><span data-stu-id="3083f-189">**12 partitions**</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="3083f-190">**1 replica.**</span><span class="sxs-lookup"><span data-stu-id="3083f-190">**1 replica**</span></span> |<span data-ttu-id="3083f-191">1 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-191">1 SU</span></span> |<span data-ttu-id="3083f-192">2 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-192">2 SU</span></span> |<span data-ttu-id="3083f-193">3 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-193">3 SU</span></span> |<span data-ttu-id="3083f-194">4 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-194">4 SU</span></span> |<span data-ttu-id="3083f-195">6 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-195">6 SU</span></span> |<span data-ttu-id="3083f-196">12 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-196">12 SU</span></span> |
| <span data-ttu-id="3083f-197">**2 repliche**</span><span class="sxs-lookup"><span data-stu-id="3083f-197">**2 replicas**</span></span> |<span data-ttu-id="3083f-198">2 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-198">2 SU</span></span> |<span data-ttu-id="3083f-199">4 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-199">4 SU</span></span> |<span data-ttu-id="3083f-200">6 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-200">6 SU</span></span> |<span data-ttu-id="3083f-201">8 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-201">8 SU</span></span> |<span data-ttu-id="3083f-202">12 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-202">12 SU</span></span> |<span data-ttu-id="3083f-203">24 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-203">24 SU</span></span> |
| <span data-ttu-id="3083f-204">**3 repliche**</span><span class="sxs-lookup"><span data-stu-id="3083f-204">**3 replicas**</span></span> |<span data-ttu-id="3083f-205">3 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-205">3 SU</span></span> |<span data-ttu-id="3083f-206">6 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-206">6 SU</span></span> |<span data-ttu-id="3083f-207">9 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-207">9 SU</span></span> |<span data-ttu-id="3083f-208">12 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-208">12 SU</span></span> |<span data-ttu-id="3083f-209">18 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-209">18 SU</span></span> |<span data-ttu-id="3083f-210">36 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-210">36 SU</span></span> |
| <span data-ttu-id="3083f-211">**4 repliche**</span><span class="sxs-lookup"><span data-stu-id="3083f-211">**4 replicas**</span></span> |<span data-ttu-id="3083f-212">4 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-212">4 SU</span></span> |<span data-ttu-id="3083f-213">8 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-213">8 SU</span></span> |<span data-ttu-id="3083f-214">12 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-214">12 SU</span></span> |<span data-ttu-id="3083f-215">16 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-215">16 SU</span></span> |<span data-ttu-id="3083f-216">24 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-216">24 SU</span></span> |<span data-ttu-id="3083f-217">N/D</span><span class="sxs-lookup"><span data-stu-id="3083f-217">N/A</span></span> |
| <span data-ttu-id="3083f-218">**5 repliche**</span><span class="sxs-lookup"><span data-stu-id="3083f-218">**5 replicas**</span></span> |<span data-ttu-id="3083f-219">5 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-219">5 SU</span></span> |<span data-ttu-id="3083f-220">10 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-220">10 SU</span></span> |<span data-ttu-id="3083f-221">15 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-221">15 SU</span></span> |<span data-ttu-id="3083f-222">20 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-222">20 SU</span></span> |<span data-ttu-id="3083f-223">30 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-223">30 SU</span></span> |<span data-ttu-id="3083f-224">N/D</span><span class="sxs-lookup"><span data-stu-id="3083f-224">N/A</span></span> |
| <span data-ttu-id="3083f-225">**6 repliche**</span><span class="sxs-lookup"><span data-stu-id="3083f-225">**6 replicas**</span></span> |<span data-ttu-id="3083f-226">6 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-226">6 SU</span></span> |<span data-ttu-id="3083f-227">12 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-227">12 SU</span></span> |<span data-ttu-id="3083f-228">18 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-228">18 SU</span></span> |<span data-ttu-id="3083f-229">24 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-229">24 SU</span></span> |<span data-ttu-id="3083f-230">36 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-230">36 SU</span></span> |<span data-ttu-id="3083f-231">N/D</span><span class="sxs-lookup"><span data-stu-id="3083f-231">N/A</span></span> |
| <span data-ttu-id="3083f-232">**12 repliche**</span><span class="sxs-lookup"><span data-stu-id="3083f-232">**12 replicas**</span></span> |<span data-ttu-id="3083f-233">12 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-233">12 SU</span></span> |<span data-ttu-id="3083f-234">24 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-234">24 SU</span></span> |<span data-ttu-id="3083f-235">36 unità di ricerca</span><span class="sxs-lookup"><span data-stu-id="3083f-235">36 SU</span></span> |<span data-ttu-id="3083f-236">N/D</span><span class="sxs-lookup"><span data-stu-id="3083f-236">N/A</span></span> |<span data-ttu-id="3083f-237">N/D</span><span class="sxs-lookup"><span data-stu-id="3083f-237">N/A</span></span> |<span data-ttu-id="3083f-238">N/D</span><span class="sxs-lookup"><span data-stu-id="3083f-238">N/A</span></span> |

<span data-ttu-id="3083f-239">Le unità di ricerca, i prezzi e le capacità sono illustrati in dettaglio nel sito web di Azure.</span><span class="sxs-lookup"><span data-stu-id="3083f-239">SUs, pricing, and capacity are explained in detail on the Azure website.</span></span> <span data-ttu-id="3083f-240">Per altre informazioni, vedere i [dettagli sui prezzi](https://azure.microsoft.com/pricing/details/search/).</span><span class="sxs-lookup"><span data-stu-id="3083f-240">For more information, see [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>

> [!NOTE]
> <span data-ttu-id="3083f-241">Il numero di repliche e partizioni divide equamente per 12 (in particolare 1, 2, 3, 4, 6, 12).</span><span class="sxs-lookup"><span data-stu-id="3083f-241">The number of replicas and partitions divides evenly into 12 (specifically, 1, 2, 3, 4, 6, 12).</span></span> <span data-ttu-id="3083f-242">In questo modo Ricerca di Azure divide preventivamente ogni indice in 12 partizioni in modo che possa essere distribuito ugualmente tra tutte le partizioni.</span><span class="sxs-lookup"><span data-stu-id="3083f-242">This is because Azure Search pre-divides each index into 12 shards so that it can be spread in equal portions across all partitions.</span></span> <span data-ttu-id="3083f-243">Ad esempio, se il servizio ha tre partizioni e si crea un indice, ogni partizione conterrà quattro partizioni dell'indice.</span><span class="sxs-lookup"><span data-stu-id="3083f-243">For example, if your service has three partitions and you create an index, each partition will contain four shards of the index.</span></span> <span data-ttu-id="3083f-244">Il modo in cui Ricerca di Azure suddivide un indice in partizioni è un dettaglio di implementazione ed è soggetto a modifiche nelle versioni successive.</span><span class="sxs-lookup"><span data-stu-id="3083f-244">How Azure Search shards an index is an implementation detail, subject to change in future releases.</span></span> <span data-ttu-id="3083f-245">Sebbene il numero attualmente sia 12, tale numero potrebbe non essere 12 in futuro.</span><span class="sxs-lookup"><span data-stu-id="3083f-245">Although the number is 12 today, you shouldn't expect that number to always be 12 in the future.</span></span>
>
>

## <a name="billing-formula-for-replica-and-partition-resources"></a><span data-ttu-id="3083f-246">Formula di fatturazione per le risorse di replica e partizione</span><span class="sxs-lookup"><span data-stu-id="3083f-246">Billing formula for replica and partition resources</span></span>
<span data-ttu-id="3083f-247">La formula per il calcolo del numero di unità di ricerca usate per combinazioni specifiche è il prodotto delle repliche e delle partizioni, vale a dire (R X P = SU).</span><span class="sxs-lookup"><span data-stu-id="3083f-247">The formula for calculating how many SUs are used for specific combinations is the product of replicas and partitions, or (R X P = SU).</span></span> <span data-ttu-id="3083f-248">Ad esempio, tre repliche moltiplicate per tre partizioni vengono fatturate come nove unità di ricerca.</span><span class="sxs-lookup"><span data-stu-id="3083f-248">For example, three replicas multiplied by three partitions is billed as nine SUs.</span></span>

<span data-ttu-id="3083f-249">Il costo per SU è determinato dal livello, con una tariffa di fatturazione per unità inferiore per il livello Basic rispetto al livello Standard.</span><span class="sxs-lookup"><span data-stu-id="3083f-249">Cost per SU is determined by the tier, with a lower per-unit billing rate for Basic than for Standard.</span></span> <span data-ttu-id="3083f-250">Le tariffe per ogni livello sono disponibili in [Prezzi di Ricerca](https://azure.microsoft.com/pricing/details/search/).</span><span class="sxs-lookup"><span data-stu-id="3083f-250">Rates for each tier can be found on [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>
