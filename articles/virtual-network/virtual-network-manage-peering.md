---
title: Creare, modificare o eliminare un peering reti virtuali di Azure | Microsoft Docs
description: Informazioni su come creare, modificare o eliminare un peering reti virtuali.
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: jdial
ms.openlocfilehash: 43053ce764fdeb88bde574d489fbfecbfcb491eb
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="create-change-or-delete-a-virtual-network-peering"></a><span data-ttu-id="b3a26-103">Creare, modificare o eliminare un peering reti virtuali</span><span class="sxs-lookup"><span data-stu-id="b3a26-103">Create, change, or delete a virtual network peering</span></span>

<span data-ttu-id="b3a26-104">Informazioni su come creare, modificare o eliminare un peering reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="b3a26-104">Learn how to create, change, or delete a virtual network peering.</span></span> <span data-ttu-id="b3a26-105">Il peering reti virtuali consente di connettere due reti virtuali nella stessa località di Azure tramite la rete backbone di Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a26-105">Virtual network peering enables you to connect two virtual networks in the same Azure location through the Azure backbone network.</span></span> <span data-ttu-id="b3a26-106">Dopo che è stato eseguito il peering, le due reti virtuali vengono ancora gestite come risorse separate.</span><span class="sxs-lookup"><span data-stu-id="b3a26-106">Once peered, the two virtual networks are still managed as separate resources.</span></span> <span data-ttu-id="b3a26-107">Le risorse in tali reti virtuali comunicano con la stessa latenza e larghezza di banda che userebbero se si trovassero nella stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-107">Resources in either virtual network communicate with the same latency and bandwidth as if the resources were in the same virtual network.</span></span> <span data-ttu-id="b3a26-108">Se non si ha familiarità con il peering reti virtuali, è consigliabile leggere [Panoramica del peering reti virtuali](virtual-network-peering-overview.md) e completare l'esercitazione [Create a virtual network peering](virtual-network-create-peering.md) (Creare un peering reti virtuali), prima di completare le attività di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="b3a26-108">If you're not familiar with virtual network peering, we recommend reading the [Virtual network peering overview](virtual-network-peering-overview.md) and completing the [Create a virtual network peering tutorial](virtual-network-create-peering.md), before completing the tasks in this article.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="b3a26-109">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="b3a26-109">Before you begin</span></span>

<span data-ttu-id="b3a26-110">Prima di completare i passaggi di qualsiasi sezione di questo articolo, eseguire le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="b3a26-110">Complete the following tasks before completing steps in any section of this article:</span></span>

- <span data-ttu-id="b3a26-111">Per informazioni sui limiti del peering, vedere l'articolo [Limiti di Azure](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span><span class="sxs-lookup"><span data-stu-id="b3a26-111">Review the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article to learn about limits for peering.</span></span>
- <span data-ttu-id="b3a26-112">Accedere al portale di Azure, all'interfaccia della riga di comando di Azure oppure ad Azure PowerShell con un account Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a26-112">Log in to the Azure portal, Azure command-line interface (CLI), or Azure PowerShell with an Azure account.</span></span> <span data-ttu-id="b3a26-113">Se non si ha un account Azure, registrarsi per ottenere un [account per la versione di prova gratuita](https://azure.microsoft.com/free).</span><span class="sxs-lookup"><span data-stu-id="b3a26-113">If you don't already have an Azure account, sign up for a [free trial account](https://azure.microsoft.com/free).</span></span>
- <span data-ttu-id="b3a26-114">Se si usano comandi di PowerShell per completare le attività di questo articolo, [installare e configurare Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3a26-114">If using PowerShell commands to complete tasks in this article, [install and configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="b3a26-115">Assicurarsi che sia installata la versione più recente dei cmdlet di Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b3a26-115">Ensure you have the most recent version of the Azure PowerShell cmdlets installed.</span></span> <span data-ttu-id="b3a26-116">Per informazioni ed esempi relativi ai comandi di PowerShell, digitare `get-help <command> -full`.</span><span class="sxs-lookup"><span data-stu-id="b3a26-116">To get help for PowerShell commands, with examples, type `get-help <command> -full`.</span></span>
- <span data-ttu-id="b3a26-117">Se si usano comandi dell'interfaccia della riga di comando di Azure per completare le attività di questo articolo, [installare e configurare l'interfaccia della riga di comando di Azure](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3a26-117">If using Azure Command-line interface (CLI) commands to complete tasks in this article, [install and configure the Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="b3a26-118">Assicurarsi che sia installata la versione più recente dell'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a26-118">Ensure you have the most recent version of the Azure CLI installed.</span></span> <span data-ttu-id="b3a26-119">Per informazioni sui comandi dell'interfaccia della riga di comando, digitare `az <command> --help`.</span><span class="sxs-lookup"><span data-stu-id="b3a26-119">To get help for CLI commands, type `az <command> --help`.</span></span> <span data-ttu-id="b3a26-120">Invece di installare l'interfaccia della riga di comando e i rispettivi prerequisiti, è possibile usare Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="b3a26-120">Rather than installing the CLI and its pre-requisites, you can use the Azure Cloud Shell.</span></span> <span data-ttu-id="b3a26-121">Azure Cloud Shell è una shell Bash gratuita che può essere eseguita direttamente nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a26-121">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="b3a26-122">Cloud Shell include l'interfaccia della riga di comando di Azure preinstallata e configurata per l'uso con l'account.</span><span class="sxs-lookup"><span data-stu-id="b3a26-122">The Cloud Shell has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="b3a26-123">Per usare Cloud Shell, fare clic sul pulsante Cloud Shell **>_** nella parte superiore del [portale](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b3a26-123">To use the Cloud Shell, click the Cloud Shell **>_** button at the top of the [portal](https://portal.azure.com).</span></span> 

## <a name="create-a-peering"></a><span data-ttu-id="b3a26-124">Creare un peering</span><span class="sxs-lookup"><span data-stu-id="b3a26-124">Create a peering</span></span>

>[!NOTE]
><span data-ttu-id="b3a26-125">I requisiti, i vincoli e le considerazioni da tenere presenti per creare correttamente un peering di rete virtuale sono diversi.</span><span class="sxs-lookup"><span data-stu-id="b3a26-125">There are several requirements, constraints, and considerations to successfully create a virtual network peering.</span></span> <span data-ttu-id="b3a26-126">Prima di creare un peering, assicurarsi di avere acquisito familiarità con i [requisiti e i vincoli](#requirements-and-constraints) e con le [autorizzazioni necessarie](#permissions).</span><span class="sxs-lookup"><span data-stu-id="b3a26-126">Before creating a peering, ensure you've familiarized yourself with the [requirements and constraints](#requirements-and-constraints) and [required permissions](#permissions).</span></span>
>

1. <span data-ttu-id="b3a26-127">Accedere al [portale](https://portal.azure.com) con un account a cui sono stati assegnati [i ruoli o le autorizzazioni](#permissions) necessari.</span><span class="sxs-lookup"><span data-stu-id="b3a26-127">Log in to the [portal](https://portal.azure.com) with an account that is assigned the necessary [role or permissions](#permissions).</span></span>
2. <span data-ttu-id="b3a26-128">Nella finestra che contiene il testo *Cerca risorse*, nella parte superiore del portale di Azure, digitare *reti virtuali*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-128">In the box that contains the text *Search resources* at the top of the Azure portal, type *virtual networks*.</span></span> <span data-ttu-id="b3a26-129">Fare clic su **Reti virtuali** quando viene visualizzato nei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="b3a26-129">When **Virtual networks** appears in the search results, click it.</span></span> <span data-ttu-id="b3a26-130">Non selezionare **Reti virtuali (versione classica)** se è visualizzato nell'elenco, perché non è possibile creare un peering da una rete virtuale distribuita tramite il modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="b3a26-130">Do not select **Virtual networks (classic)** if it appears in the list, as you cannot create a peering from a virtual network deployed through the classic deployment model.</span></span>
3. <span data-ttu-id="b3a26-131">Nel pannello **Reti virtuali** che viene visualizzato fare clic sulla rete virtuale per cui si vuole creare un peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-131">In the **Virtual networks** blade that appears, click the virtual network you want to create a peering for.</span></span>
4. <span data-ttu-id="b3a26-132">Nel riquadro che viene visualizzato per la rete virtuale selezionata fare clic su **Peer** nella sezione **IMPOSTAZIONI**.</span><span class="sxs-lookup"><span data-stu-id="b3a26-132">In the pane that appears for the virtual network you selected, click **Peerings** in the **SETTINGS** section.</span></span>
5. <span data-ttu-id="b3a26-133">Fare clic su **+ Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="b3a26-133">Click **+ Add**.</span></span> 
6. <span data-ttu-id="b3a26-134"><a name="add-peering"></a>Nel pannello **Aggiungi peering** immettere o selezionare i valori per le impostazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b3a26-134"><a name="add-peering"></a>In the **Add peering** blade, enter or select values for the following settings:</span></span>
    - <span data-ttu-id="b3a26-135">**Nome**: il nome per il peering deve essere univoco all'interno della rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-135">**Name:** The name for the peering must be unique within the virtual network.</span></span>
    - <span data-ttu-id="b3a26-136">**Modello di distribuzione della rete virtuale:** selezionare il modello di distribuzione tramite il quale è stata distribuita la rete virtuale con cui si vuole eseguire il peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-136">**Virtual network deployment model:** Select which deployment model the virtual network you want to peer with was deployed through.</span></span>
    - <span data-ttu-id="b3a26-137">**Conosco l'ID della risorsa:** se si ha accesso in lettura alla rete virtuale con la quale si vuole eseguire il peering, lasciare deselezionate questa casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="b3a26-137">**I know my resource ID:** If you have read access to the virtual network you want to peer with, leave this checkbox unchecked.</span></span> <span data-ttu-id="b3a26-138">Se non si ha accesso in lettura alla rete virtuale o alla sottoscrizione con la quale si vuole eseguire il peering, selezionare questa casella.</span><span class="sxs-lookup"><span data-stu-id="b3a26-138">If you don't have read access to the virtual network or subscription you want to peer with, check this box.</span></span> <span data-ttu-id="b3a26-139">Immettere l'ID risorsa completo della rete virtuale con la quale si vuole eseguire il peering nella casella **ID risorsa** visualizzata quando è stata selezionata la casella.</span><span class="sxs-lookup"><span data-stu-id="b3a26-139">Enter the full resource ID of the virtual network you want to peer with in the **Resource ID** box that appeared when you checked the box.</span></span> <span data-ttu-id="b3a26-140">L'ID risorsa immesso deve essere quello di una rete virtuale che esiste nella stessa [località](https://azure.microsoft.com/regions) di Azure della rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-140">The resource ID you enter must be for a virtual network that exists in the same Azure [location](https://azure.microsoft.com/regions) as this virtual network.</span></span> <span data-ttu-id="b3a26-141">L'ID risorsa completo è simile a /subscriptions/<Id>/resourceGroups/<nome-gruppo-di-risorse>/providers/Microsoft.Network/virtualNetworks/<nome-rete-virtuale>.</span><span class="sxs-lookup"><span data-stu-id="b3a26-141">The full resource ID looks similar to /subscriptions/<Id>/resourceGroups/<resource-group-name>/providers/Microsoft.Network/virtualNetworks/<virtual-network-name>.</span></span> <span data-ttu-id="b3a26-142">È possibile ottenere l'ID risorsa per una rete virtuale visualizzandone le proprietà.</span><span class="sxs-lookup"><span data-stu-id="b3a26-142">You can get the resource ID  for a virtual network by viewing the properties for a virtual network.</span></span> <span data-ttu-id="b3a26-143">Per informazioni su come visualizzare le proprietà per una rete virtuale, vedere [Gestire le reti virtuali](virtual-network-manage-network.md#view-vnet).</span><span class="sxs-lookup"><span data-stu-id="b3a26-143">To learn how to view the properties for a virtual network, see [Manage virtual networks](virtual-network-manage-network.md#view-vnet).</span></span>
    - <span data-ttu-id="b3a26-144">**Sottoscrizione:** selezionare la [sottoscrizione](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription) della rete virtuale con la quale si vuole eseguire il peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-144">**Subscription:** Select the [subscription](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription) of the virtual network you want to peer with.</span></span> <span data-ttu-id="b3a26-145">Il numero di sottoscrizioni che vengono elencate dipende dal numero di sottoscrizioni a cui l'account ha accesso in lettura.</span><span class="sxs-lookup"><span data-stu-id="b3a26-145">One or more subscriptions are listed, depending on how many subscriptions your account has read access to.</span></span> <span data-ttu-id="b3a26-146">Se si è selezionata la casella di controllo **ID risorsa**, questa impostazione non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="b3a26-146">If you checked the **Resource ID** checkbox, this setting isn't available.</span></span> <span data-ttu-id="b3a26-147">È possibile eseguire il peering di reti virtuali in sottoscrizioni diverse purché entrambe le reti virtuali siano state create tramite Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b3a26-147">You can peer virtual networks in different subscriptions as long as both virtual networks were created through Resource Manager.</span></span> <span data-ttu-id="b3a26-148">È possibile eseguire il peering in sottoscrizioni create tramite modelli di distribuzione diversi nella versione di anteprima.</span><span class="sxs-lookup"><span data-stu-id="b3a26-148">The ability to peer across subscriptions created through different deployment models is in preview release.</span></span> <span data-ttu-id="b3a26-149">Eseguire la registrazione per l'anteprima prima di creare un peering tra reti virtuali distribuite tramite modelli di distribuzione diversi che esistono in sottoscrizioni diverse.</span><span class="sxs-lookup"><span data-stu-id="b3a26-149">Register for the preview before creating a peering between virtual networks deployed through different deployment models that exist in different subscriptions.</span></span> <span data-ttu-id="b3a26-150">Altre informazioni su come eseguire la registrazione per l'anteprima ed [eseguire il peering di reti virtuali create tramite modelli di distribuzione diversi in sottoscrizioni diverse](create-peering-different-deployment-models-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="b3a26-150">Learn more about how to register for the preview and [peer virtual networks created through different deployment models in different subscriptions](create-peering-different-deployment-models-subscriptions.md).</span></span>
    - <span data-ttu-id="b3a26-151">**Rete virtuale:** selezionare la rete virtuale con cui si vuole eseguire il peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-151">**Virtual network:** Select the virtual network you want to peer with.</span></span> <span data-ttu-id="b3a26-152">È possibile selezionare una rete virtuale creata tramite l'uno o l'altro dei due modelli di distribuzione di Azure, ma la rete virtuale deve essere nella stessa località della rete virtuale da cui si avvia il peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-152">You can select a virtual network created through either Azure deployment model, but the virtual network must be in the same location as the virtual network you're initiating the peering from.</span></span> <span data-ttu-id="b3a26-153">È necessario avere accesso in lettura alla rete virtuale perché venga visualizzata nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="b3a26-153">You must have read access to the virtual network for it to be visible in the list.</span></span> <span data-ttu-id="b3a26-154">Se una rete virtuale è elencata, ma disattivata, la causa potrebbe essere la sovrapposizione dello spazio indirizzi per la rete virtuale con lo spazio indirizzi per questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-154">If a virtual network is listed, but grayed out, it may be because the address space for the virtual network overlaps with the address space for this virtual network.</span></span> <span data-ttu-id="b3a26-155">Se gli spazi indirizzi delle reti virtuali si sovrappongono, non è possibile eseguire il peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-155">If virtual network address spaces overlap, they cannot be peered.</span></span> <span data-ttu-id="b3a26-156">Se si è selezionata la casella di controllo **ID risorsa**, questa impostazione non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="b3a26-156">If you checked the **Resource ID** checkbox, this setting isn't available.</span></span>
    - <span data-ttu-id="b3a26-157">**Consenti accesso alla rete virtuale:** selezionare **Abilitata** (impostazione predefinita) per abilitare la comunicazione tra le due reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="b3a26-157">**Allow virtual network access:** Select **Enabled** (default) if you want to enable communication between the two virtual networks.</span></span> <span data-ttu-id="b3a26-158">L'abilitazione della comunicazione tra reti virtuali consente alle risorse connesse a una o all'altra delle reti virtuali di comunicare tra loro con la stessa larghezza di banda e latenza che userebbero se fossero connesse alla stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-158">Enabling communication between virtual networks allows resources connected to either virtual network to communicate with each other with the same bandwidth and latency as if they were connected to the same virtual network.</span></span> <span data-ttu-id="b3a26-159">Tutte le comunicazioni tra le risorse nelle due reti virtuali avvengono tramite la rete privata di Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a26-159">All communication between resources in the two virtual networks is over the Azure private network.</span></span> <span data-ttu-id="b3a26-160">Il tag predefinito **VirtualNetwork** per i gruppi di sicurezza di rete comprende la rete virtuale e la rete virtuale con peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-160">The **VirtualNetwork** default tag for network security groups encompasses the virtual network and peered virtual network.</span></span> <span data-ttu-id="b3a26-161">Per altre informazioni sui tag predefiniti dei gruppi di sicurezza di rete, vedere l'articolo [Panoramica dei gruppi di sicurezza di rete](virtual-networks-nsg.md#default-tags).</span><span class="sxs-lookup"><span data-stu-id="b3a26-161">To learn more about network security group default tags, read the [Network security groups overview](virtual-networks-nsg.md#default-tags) article.</span></span>  <span data-ttu-id="b3a26-162">Selezionare **Disabilitata** se non si vuole inviare il flusso del traffico alla rete virtuale con peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-162">Select **Disabled** if you don't want traffic to flow to the peered virtual network.</span></span> <span data-ttu-id="b3a26-163">È possibile selezionare **Disabilitata** se si è eseguito il peering di una rete virtuale con un'altra rete virtuale, ma occasionalmente si vuole disabilitare il flusso del traffico tra le due reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="b3a26-163">You might select **Disabled** if you've peered a virtual network with another virtual network, but occasionally want to disable traffic flow between the two virtual networks.</span></span> <span data-ttu-id="b3a26-164">L'abilitazione/disabilitazione può risultare più pratica che eliminare e ricreare i peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-164">You may find enabling/disabling is more convenient than deleting and re-creating peerings.</span></span> <span data-ttu-id="b3a26-165">Quando questa impostazione è disabilitata, il traffico non viene trasmesso tra le due reti virtuali con peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-165">When this setting is disabled, traffic doesn't flow between the peered virtual networks.</span></span>
    - <span data-ttu-id="b3a26-166">**Consenti traffico inoltrato:** selezionare questa casella per consentire il flusso verso questa rete virtuale del traffico inoltrato alla rete virtuale con peering (traffico non proveniente dalla rete virtuale con peering).</span><span class="sxs-lookup"><span data-stu-id="b3a26-166">**Allow forwarded traffic:** Check this box to allow traffic forwarded to the peered virtual network (traffic not originating in the peered virtual network) to flow to this virtual network.</span></span> <span data-ttu-id="b3a26-167">L'inoltro del traffico è comune quando si è distribuita un'appliance virtuale di rete nella rete virtuale con cui si sta eseguendo il peering e si sono create route definite dall'utente per inoltrare il traffico all'appliance virtuale di rete.</span><span class="sxs-lookup"><span data-stu-id="b3a26-167">Traffic forwarding is common when you've deployed a network virtual appliance in the virtual network you're peering with and created user-defined routes to forward traffic through the network virtual appliance.</span></span> <span data-ttu-id="b3a26-168">Se si lascia questa casella deselezionata (impostazione predefinita), il traffico inoltrato dalla rete virtuale con peering non può essere trasmesso a questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-168">If you leave this box unchecked (default), traffic forwarded from the peered virtual network cannot flow to this virtual network.</span></span> <span data-ttu-id="b3a26-169">L'abilitazione di questa funzionalità consente il traffico inoltrato attraverso il peering, tuttavia non crea route definite dall'utente né appliance virtuali di rete.</span><span class="sxs-lookup"><span data-stu-id="b3a26-169">While enabling this capability allows the forwarded traffic through the peering, it does not create any user-defined routes or network virtual appliances.</span></span> <span data-ttu-id="b3a26-170">Le route definite dall'utente e le appliance virtuali di rete vengono create separatamente.</span><span class="sxs-lookup"><span data-stu-id="b3a26-170">User-defined routes and network virtual appliances are created separately.</span></span> <span data-ttu-id="b3a26-171">Informazioni sulle [route definite dall'utente](virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3a26-171">Learn about [user-defined routes](virtual-networks-udr-overview.md).</span></span>
    - <span data-ttu-id="b3a26-172">**Consenti transito gateway:** selezionare questa casella se un gateway di rete virtuale è collegato a questa rete virtuale e si vuole consentire il flusso attraverso il gateway del traffico dalla rete virtuale con peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-172">**Allow gateway transit:** Check this box if you have a virtual network gateway attached to this virtual network and want to allow traffic from the peered virtual network to flow through the gateway.</span></span> <span data-ttu-id="b3a26-173">Questa rete virtuale, ad esempio, potrebbe essere collegata a una rete locale tramite un gateway di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-173">For example, this virtual network may be attached to an on-premises network through a virtual network gateway.</span></span> <span data-ttu-id="b3a26-174">Selezionando questa casella, si consente il flusso del traffico dalla rete virtuale con peering attraverso il gateway collegato a questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-174">Checking this box allows traffic from the peered virtual network to flow through the gateway attached to this virtual network.</span></span> <span data-ttu-id="b3a26-175">Se si seleziona questa casella, la rete virtuale con peering non può avere un gateway configurato.</span><span class="sxs-lookup"><span data-stu-id="b3a26-175">If you check this box, the peered virtual network cannot have a gateway configured.</span></span> <span data-ttu-id="b3a26-176">La rete virtuale con peering deve avere la casella di controllo **Usa gateway remoti** selezionata quando si configura il peering dall'altra rete virtuale a questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-176">The peered virtual network must have the **Use remote gateway** checkbox checked when setting up the peering from the other virtual network to this virtual network.</span></span> <span data-ttu-id="b3a26-177">Se si lascia questa casella deselezionata (impostazione predefinita), il traffico dalla rete virtuale con peering viene ancora trasmesso a questa rete virtuale, ma non può essere trasmesso attraverso un gateway di rete virtuale collegato a questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-177">If you leave this box unchecked (default), traffic from the peered virtual network still flows to this virtual network, but cannot flow through a virtual network gateway attached to this virtual network.</span></span> <span data-ttu-id="b3a26-178">Altre informazioni sui [gateway di rete virtuale](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti).</span><span class="sxs-lookup"><span data-stu-id="b3a26-178">Learn more about [virtual network gateways](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti).</span></span> 
    
    <span data-ttu-id="b3a26-179">Non è possibile abilitare questa opzione se si esegue il peering di una rete virtuale (Resource Manager) con una rete virtuale (versione classica).</span><span class="sxs-lookup"><span data-stu-id="b3a26-179">You cannot enable this option if you're peering a virtual network (Resource Manager) with a virtual network (classic).</span></span> <span data-ttu-id="b3a26-180">Anche se il traffico viene trasmesso tra le due reti virtuali, il traffico della rete virtuale (versione classica) non può essere trasmesso attraverso un gateway di rete collegato alla rete virtuale (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="b3a26-180">Though the traffic flows between the two virtual networks, the virtual network (classic) traffic cannot flow through a network gateway attached to the virtual network (Resource Manager).</span></span>
    - <span data-ttu-id="b3a26-181">**Usa gateway remoti:** selezionare questa casella per consentire il flusso del traffico da questa rete virtuale attraverso un gateway di rete virtuale collegato alla rete virtuale con cui si sta eseguendo il peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-181">**Use remote gateways:** Check this box to allow traffic from this virtual network to flow through a virtual network gateway attached to the virtual network you're peering with.</span></span> <span data-ttu-id="b3a26-182">Ad esempio, la rete virtuale con cui si sta eseguendo il peering ha un gateway VPN collegato che consente la comunicazione con una rete locale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-182">For example, the virtual network you're peering with has a VPN gateway attached that enables communication to an on-premises network.</span></span>  <span data-ttu-id="b3a26-183">Selezionando questa casella, si consente il flusso del traffico da questa rete virtuale attraverso il gateway VPN collegato alla rete virtuale con peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-183">Checking this box allows traffic from this virtual network to flow through the VPN gateway attached to the peered virtual network.</span></span> <span data-ttu-id="b3a26-184">Se si seleziona questa casella, alla rete virtuale con peering deve essere collegato un gateway di rete virtuale e la casella di controllo **Consenti transito gateway** deve essere selezionata.</span><span class="sxs-lookup"><span data-stu-id="b3a26-184">If you check this box, the peered virtual network must have a virtual network gateway attached to it and must have the **Allow gateway transit** checkbox checked.</span></span> <span data-ttu-id="b3a26-185">Se si lascia questa casella deselezionata (impostazione predefinita), il traffico dalla rete virtuale con peering può ancora essere trasmesso a questa rete virtuale, ma non può essere trasmesso attraverso un gateway di rete virtuale collegato a questa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-185">If you leave this box unchecked (default), traffic from the peered virtual network can still flow to this virtual network, but cannot flow through a virtual network gateway attached to this virtual network.</span></span> 
    
    <span data-ttu-id="b3a26-186">Non è possibile abilitare questa opzione se si esegue il peering di una rete virtuale (Resource Manager) con una rete virtuale (versione classica).</span><span class="sxs-lookup"><span data-stu-id="b3a26-186">You cannot enable this option if you're peering a virtual network (Resource Manager) with a virtual network (classic).</span></span> <span data-ttu-id="b3a26-187">Anche se il traffico viene trasmesso tra le due reti virtuali, il traffico della rete virtuale (Resource Manager) non può essere trasmesso attraverso un gateway di rete collegato alla rete virtuale (versione classica).</span><span class="sxs-lookup"><span data-stu-id="b3a26-187">Though the traffic flows between the two virtual networks, the virtual network (Resource Manager) traffic cannot flow through a network gateway attached to the virtual network (classic).</span></span>
7. <span data-ttu-id="b3a26-188">Fare clic su **OK** per aggiungere la subnet alla rete virtuale selezionata.</span><span class="sxs-lookup"><span data-stu-id="b3a26-188">Click the **OK** button to add the subnet to the virtual network you selected.</span></span>

### <a name="commands"></a><span data-ttu-id="b3a26-189">Comandi:</span><span class="sxs-lookup"><span data-stu-id="b3a26-189">Commands</span></span>

|<span data-ttu-id="b3a26-190">Strumento</span><span class="sxs-lookup"><span data-stu-id="b3a26-190">Tool</span></span>|<span data-ttu-id="b3a26-191">Comando</span><span class="sxs-lookup"><span data-stu-id="b3a26-191">Command</span></span>|
|---|---|
|<span data-ttu-id="b3a26-192">CLI</span><span class="sxs-lookup"><span data-stu-id="b3a26-192">CLI</span></span>|[<span data-ttu-id="b3a26-193">az network vnet peering create</span><span class="sxs-lookup"><span data-stu-id="b3a26-193">az network vnet peering create</span></span>](/cli/azure/network/vnet/peering#create?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="b3a26-194">PowerShell</span><span class="sxs-lookup"><span data-stu-id="b3a26-194">PowerShell</span></span>|[<span data-ttu-id="b3a26-195">Add-AzureRmVirtualNetworkPeering</span><span class="sxs-lookup"><span data-stu-id="b3a26-195">Add-AzureRmVirtualNetworkPeering</span></span>](/powershell/module/azurerm.network/add-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json)|


### <a name="scenarios"></a><span data-ttu-id="b3a26-196">Scenari</span><span class="sxs-lookup"><span data-stu-id="b3a26-196">Scenarios</span></span>

<span data-ttu-id="b3a26-197">Un peering di reti virtuali viene generato tra reti virtuali create tramite modelli di distribuzione uguali o diversi esistenti in sottoscrizioni uguali o diverse.</span><span class="sxs-lookup"><span data-stu-id="b3a26-197">A virtual network peering is created between virtual networks created through the same, or different deployment models that exist in the same, or different subscriptions.</span></span> <span data-ttu-id="b3a26-198">Completare un'esercitazione dettagliata per uno degli scenari seguenti:</span><span class="sxs-lookup"><span data-stu-id="b3a26-198">Complete a step-by-step tutorial for one of the following scenarios:</span></span>
 
|<span data-ttu-id="b3a26-199">Modello di distribuzione di Azure</span><span class="sxs-lookup"><span data-stu-id="b3a26-199">Azure deployment model</span></span>  | <span data-ttu-id="b3a26-200">Subscription</span><span class="sxs-lookup"><span data-stu-id="b3a26-200">Subscription</span></span>  |
|---------|---------|
|<span data-ttu-id="b3a26-201">Entrambi Resource Manager</span><span class="sxs-lookup"><span data-stu-id="b3a26-201">Both Resource Manager</span></span> |[<span data-ttu-id="b3a26-202">Uguale</span><span class="sxs-lookup"><span data-stu-id="b3a26-202">Same</span></span>](virtual-network-create-peering.md)|
| |[<span data-ttu-id="b3a26-203">Diversa</span><span class="sxs-lookup"><span data-stu-id="b3a26-203">Different</span></span>](create-peering-different-subscriptions.md)|
|<span data-ttu-id="b3a26-204">Uno di Resource Manager, uno della versione classica</span><span class="sxs-lookup"><span data-stu-id="b3a26-204">One Resource Manager, one classic</span></span>     |[<span data-ttu-id="b3a26-205">Uguale</span><span class="sxs-lookup"><span data-stu-id="b3a26-205">Same</span></span>](create-peering-different-deployment-models.md)|
| |[<span data-ttu-id="b3a26-206">Diversa</span><span class="sxs-lookup"><span data-stu-id="b3a26-206">Different</span></span>](create-peering-different-deployment-models-subscriptions.md)|

## <a name="view-or-change-peering-settings"></a><span data-ttu-id="b3a26-207">Visualizzare o modificare le impostazioni dei peering</span><span class="sxs-lookup"><span data-stu-id="b3a26-207">View or change peering settings</span></span>

1. <span data-ttu-id="b3a26-208">Accedere al [portale](https://portal.azure.com) con un account a cui sono stati assegnati [i ruoli o le autorizzazioni](#permissions) necessari.</span><span class="sxs-lookup"><span data-stu-id="b3a26-208">Log in to the [portal](https://portal.azure.com) with an account that is assigned the necessary [role or permissions](#permissions).</span></span>
2. <span data-ttu-id="b3a26-209">Nella finestra che contiene il testo *Cerca risorse*, nella parte superiore del portale di Azure, digitare *reti virtuali*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-209">In the box that contains the text *Search resources* at the top of the Azure portal, type *virtual networks*.</span></span> <span data-ttu-id="b3a26-210">Fare clic su **Reti virtuali** quando viene visualizzato nei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="b3a26-210">When **Virtual networks** appears in the search results, click it.</span></span>
3. <span data-ttu-id="b3a26-211">Nel pannello **Reti virtuali** che viene visualizzato fare clic sulla rete virtuale per cui si vuole creare un peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-211">In the **Virtual networks** blade that appears, click the virtual network you want to create a peering for.</span></span>
4. <span data-ttu-id="b3a26-212">Nel riquadro che viene visualizzato per la rete virtuale selezionata fare clic su **Peer** nella sezione **IMPOSTAZIONI**.</span><span class="sxs-lookup"><span data-stu-id="b3a26-212">In the pane that appears for the virtual network you selected, click **Peerings** in the **SETTINGS** section.</span></span>
5. <span data-ttu-id="b3a26-213">Fare clic sul peering di cui si vogliono visualizzare o modificare le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="b3a26-213">Click the peering you want to view or change settings for.</span></span>
6. <span data-ttu-id="b3a26-214">Modificare l'impostazione appropriata.</span><span class="sxs-lookup"><span data-stu-id="b3a26-214">Change the appropriate setting.</span></span> <span data-ttu-id="b3a26-215">Per le opzioni di ogni impostazione, vedere il [passaggio 6](#add-peering) della sezione Creare un peering di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="b3a26-215">Read about the options for each setting in [step 6](#add-peering) of the Create a peering section of this article.</span></span> 

    >[!NOTE]
    ><span data-ttu-id="b3a26-216">I requisiti, i vincoli e le considerazioni da tenere presenti per creare correttamente un peering di rete virtuale sono diversi.</span><span class="sxs-lookup"><span data-stu-id="b3a26-216">There are several requirements, constraints, and considerations to successfully create a virtual network peering.</span></span> <span data-ttu-id="b3a26-217">Prima di creare un peering, assicurarsi di avere acquisito familiarità con i [requisiti e i vincoli](#requirements-and-constraints) e con le [autorizzazioni necessarie](#permissions).</span><span class="sxs-lookup"><span data-stu-id="b3a26-217">Before creating a peering, ensure you've familiarized yourself with the [requirements and constraints](#requirements-and-constraints) and [required permissions](#permissions).</span></span>
    >

7. <span data-ttu-id="b3a26-218">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b3a26-218">Click **Save**.</span></span>

<span data-ttu-id="b3a26-219">**Comandi**</span><span class="sxs-lookup"><span data-stu-id="b3a26-219">**Commands**</span></span>

|<span data-ttu-id="b3a26-220">Strumento</span><span class="sxs-lookup"><span data-stu-id="b3a26-220">Tool</span></span>|<span data-ttu-id="b3a26-221">Comando</span><span class="sxs-lookup"><span data-stu-id="b3a26-221">Command</span></span>|
|---|---|
|<span data-ttu-id="b3a26-222">CLI</span><span class="sxs-lookup"><span data-stu-id="b3a26-222">CLI</span></span>|<span data-ttu-id="b3a26-223">[az network vnet peering list](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#list) per elencare i peering di una rete virtuale, [az network vnet peering show](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#show) per visualizzare le impostazioni di uno specifico peering e [az network vnet peering update](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#update) per modificare le impostazioni di un peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-223">[az network vnet peering list](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#list) to list peerings for a virtual network, [az network vnet peering show](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#show) to show settings for a specific peering, and [az network vnet peering update](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#update) to change peering settings.</span></span>|
|<span data-ttu-id="b3a26-224">PowerShell</span><span class="sxs-lookup"><span data-stu-id="b3a26-224">PowerShell</span></span>|<span data-ttu-id="b3a26-225">[Get-AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/get-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) per recuperare le impostazioni di un peering e [Set-AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/set-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) per modificare le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="b3a26-225">[Get-AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/get-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) to retrieve view peering settings and [Set-AzureRmVirtualNetworkPeering](/powershell/module/azurerm.network/set-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json) to change settings.</span></span>|

## <a name="delete-a-peering"></a><span data-ttu-id="b3a26-226">Eliminare un peering</span><span class="sxs-lookup"><span data-stu-id="b3a26-226">Delete a peering</span></span>
<span data-ttu-id="b3a26-227">Quando un peering viene eliminato, il traffico da una rete virtuale non viene più trasmesso alla rete virtuale con peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-227">When a peering is deleted, traffic from a virtual network no longer flows to the peered virtual network.</span></span> <span data-ttu-id="b3a26-228">Quando viene eseguito il peering di reti virtuali distribuite tramite Resource Manager, ogni rete virtuale ha un peering all'altra rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-228">When virtual networks deployed through Resource Manager are peered, each virtual network has a peering to the other virtual network.</span></span> <span data-ttu-id="b3a26-229">L'eliminazione del peering da una rete virtuale, anche se disabilita la comunicazione tra le reti virtuali, non elimina il peering dall'altra rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-229">Though deleting the peering from one virtual network disables the communication between the virtual networks, it does not delete the peering from the other virtual network.</span></span> <span data-ttu-id="b3a26-230">Lo stato del peering che esiste nell'altra rete virtuale è **Disconnesso**.</span><span class="sxs-lookup"><span data-stu-id="b3a26-230">The peering status for the peering that exists in the other virtual network is **Disconnected**.</span></span> <span data-ttu-id="b3a26-231">È possibile ricreare il peering solo dopo aver ricreato il peering nella prima rete virtuale e dopo che lo stato del peering per entrambe le reti virtuali viene impostato su *Connesso*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-231">You cannot recreate the peering until you re-create the peering in the first virtual network and the peering status for both virtual networks changes to *Connected*.</span></span> 

<span data-ttu-id="b3a26-232">Per far comunicare le reti virtuali non sempre, ma solo in alcuni casi, invece di eliminare un peering, è possibile configurare l'impostazione **Consenti accesso alla rete virtuale** su **Disabilitato**.</span><span class="sxs-lookup"><span data-stu-id="b3a26-232">If you want virtual networks to communicate sometimes, but not always, rather than deleting a peering, you can set the **Allow virtual network access** setting to **Disabled** instead.</span></span> <span data-ttu-id="b3a26-233">Per la procedura, vedere il passaggio 6 della sezione [Creare un peering](#create-peering) di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="b3a26-233">To learn how, read step 6 of the [Create a peering](#create-peering) section of this article.</span></span> <span data-ttu-id="b3a26-234">Disabilitare e abilitare l'accesso alla rete può risultare più facile che eliminare e ricreare i peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-234">You may find disabling and enabling network access easier than deleting and recreating peerings.</span></span>

1. <span data-ttu-id="b3a26-235">Accedere al [portale](https://portal.azure.com) con un account a cui sono stati assegnati [i ruoli o le autorizzazioni](#permissions) necessari.</span><span class="sxs-lookup"><span data-stu-id="b3a26-235">Log in to the [portal](https://portal.azure.com) with an account that is assigned the necessary [role or permissions](#permissions).</span></span>
2. <span data-ttu-id="b3a26-236">Nella finestra che contiene il testo *Cerca risorse*, nella parte superiore del portale di Azure, digitare *reti virtuali*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-236">In the box that contains the text *Search resources* at the top of the Azure portal, type *virtual networks*.</span></span> <span data-ttu-id="b3a26-237">Fare clic su **Reti virtuali** quando viene visualizzato nei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="b3a26-237">When **Virtual networks** appears in the search results, click it.</span></span>
3. <span data-ttu-id="b3a26-238">Nel pannello **Reti virtuali** che viene visualizzato fare clic sulla rete virtuale da cui si vuole eliminare un peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-238">In the **Virtual networks** blade that appears, click the virtual network you want to delete a peering from.</span></span>
4. <span data-ttu-id="b3a26-239">Nel pannello che viene visualizzato per la rete virtuale selezionata fare clic su **Peer** in **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="b3a26-239">In the blade that appears for the virtual network you selected, click **Peerings** under **Settings**.</span></span>
5. <span data-ttu-id="b3a26-240">Nell'elenco di peering visualizzato nel pannello Peer fare clic con il pulsante destro del mouse sul peering che si vuole eliminare, scegliere **Elimina**, quindi **Sì** per eliminare il peering dalla prima rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-240">In the list of peerings that appears in the peerings blade, right-click the peering you want to delete, click **Delete**, then **Yes** to delete the peering from the first virtual network.</span></span>
6. <span data-ttu-id="b3a26-241">Completare la procedura precedente per eliminare il peering dall'altra rete virtuale nel peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-241">Complete the previous steps to delete the peering from the other virtual network in the peering.</span></span>

<span data-ttu-id="b3a26-242">**Comandi**</span><span class="sxs-lookup"><span data-stu-id="b3a26-242">**Commands**</span></span>

|<span data-ttu-id="b3a26-243">Strumento</span><span class="sxs-lookup"><span data-stu-id="b3a26-243">Tool</span></span>|<span data-ttu-id="b3a26-244">Comando</span><span class="sxs-lookup"><span data-stu-id="b3a26-244">Command</span></span>|
|---|---|
|<span data-ttu-id="b3a26-245">CLI</span><span class="sxs-lookup"><span data-stu-id="b3a26-245">CLI</span></span>|[<span data-ttu-id="b3a26-246">az network vnet peering delete</span><span class="sxs-lookup"><span data-stu-id="b3a26-246">az network vnet peering delete</span></span>](/cli/azure/network/vnet/peering?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="b3a26-247">PowerShell</span><span class="sxs-lookup"><span data-stu-id="b3a26-247">PowerShell</span></span>|[<span data-ttu-id="b3a26-248">Remove-AzureRmVirtualNetworkPeering</span><span class="sxs-lookup"><span data-stu-id="b3a26-248">Remove-AzureRmVirtualNetworkPeering</span></span>](/powershell/module/azurerm.network/remove-azurermvirtualnetworkpeering?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="requirements-and-constraints"></a><span data-ttu-id="b3a26-249">Requisiti e vincoli</span><span class="sxs-lookup"><span data-stu-id="b3a26-249">Requirements and constraints</span></span> 

- <span data-ttu-id="b3a26-250">Le reti virtuali di cui si esegue il peering non devono avere spazi di indirizzi IP sovrapposti.</span><span class="sxs-lookup"><span data-stu-id="b3a26-250">The virtual networks you peer must have non-overlapping IP address spaces.</span></span>
- <span data-ttu-id="b3a26-251">Non è possibile aggiungere o eliminare spazi di indirizzi in una rete virtuale dopo che ne è stato eseguito il peering con un'altra rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-251">You can't add address spaces to, or delete address spaces from a virtual network once a virtual network is peered with another virtual network.</span></span> <span data-ttu-id="b3a26-252">Per aggiungere o rimuovere spazi indirizzi, eliminare il peering, aggiungere o rimuovere lo spazio indirizzi, quindi ricreare il peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-252">To add or remove address spaces, delete the peering, add or remove the address spaces, then re-create the peering.</span></span> <span data-ttu-id="b3a26-253">Per aggiungere o rimuovere spazi indirizzi nelle reti virtuali, vedere l'articolo [Creare, modificare o eliminare le reti virtuali](virtual-network-manage-network.md#add-address-spaces).</span><span class="sxs-lookup"><span data-stu-id="b3a26-253">To add address spaces to, or remove address spaces from virtual networks, read the [Create, change, or delete virtual networks](virtual-network-manage-network.md#add-address-spaces) article.</span></span> 
- <span data-ttu-id="b3a26-254">È possibile eseguire il peering di due reti virtuali distribuite tramite Resource Manager o di una rete virtuale distribuita tramite Resource Manager con una rete virtuale distribuita tramite il modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="b3a26-254">You can peer two virtual networks deployed through Resource Manager or a virtual network deployed through Resource Manager with a virtual network deployed through the classic deployment model.</span></span> <span data-ttu-id="b3a26-255">Non è possibile eseguire il peering di due reti virtuali create tramite il modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="b3a26-255">You cannot peer two virtual networks created through the classic deployment model.</span></span> <span data-ttu-id="b3a26-256">Se non si ha familiarità con i modelli di distribuzione di Azure, vedere l'articolo [Informazioni sui modelli di distribuzione di Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3a26-256">If you're not familiar with Azure deployment models, read the [Understand Azure deployment models](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> <span data-ttu-id="b3a26-257">È possibile usare un [gateway VPN](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) per collegare due reti virtuali create tramite il modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="b3a26-257">You can use a [VPN Gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) to connect two virtual networks created through the classic deployment model.</span></span>
- <span data-ttu-id="b3a26-258">Quando si esegue il peering di due reti virtuali create tramite Resource Manager, deve essere configurato un peering per ogni rete virtuale nel peering.</span><span class="sxs-lookup"><span data-stu-id="b3a26-258">When peering two virtual networks created through Resource Manager, a peering must be configured for each virtual network in the peering.</span></span> <span data-ttu-id="b3a26-259">Quando si crea il peering alla seconda rete virtuale dalla prima rete virtuale, lo stato del peering è *Avviato*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-259">When you create the peering to the second virtual network from the first virtual network, the peering status is *Initiated*.</span></span>  <span data-ttu-id="b3a26-260">Quando si crea il peering dalla seconda rete virtuale alla prima rete virtuale, lo stato del peering è *Connesso*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-260">When you create the peering from the second virtual network to the first virtual network, its peering status is *Connected*.</span></span> <span data-ttu-id="b3a26-261">Se si visualizza lo stato del peering per la prima rete virtuale, si osserva che lo stato è cambiato da *Avviato* a *Connesso*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-261">If you view the peering status for the first virtual network, you see its status changed from *Initiated* to *Connected*.</span></span> <span data-ttu-id="b3a26-262">Il peering è stabilito correttamente solo dopo che lo stato del peering per entrambe le reti virtuali è *Connesso*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-262">The peering is not successfully established until the peering status for both virtual network peerings is *Connected*.</span></span> 
- <span data-ttu-id="b3a26-263">Quando si esegue il peering di una rete virtuale creata tramite Resource Manager con una rete virtuale creata tramite il modello di distribuzione classica, si configura solo un peering per la rete virtuale distribuita tramite Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b3a26-263">When peering a virtual network created through Resource Manager with a virtual network created through the classic deployment model, you only configure a peering for the virtual network deployed through Resource Manager.</span></span> <span data-ttu-id="b3a26-264">Non è possibile configurare il peering per una rete virtuale (versione classica) o tra due reti virtuali distribuite tramite il modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="b3a26-264">You cannot configure peering for a virtual network (classic), or between two virtual networks deployed through the classic deployment model.</span></span> <span data-ttu-id="b3a26-265">Quando si crea il peering dalla rete virtuale (Resource Manager) alla rete virtuale (versione classica), lo stato del peering è *Aggiornamento* e dopo poco diventa *Connesso*.</span><span class="sxs-lookup"><span data-stu-id="b3a26-265">When you create the peering from the virtual network (Resource Manager) to the virtual network (Classic), the peering status is *Updating*, then shortly changes to *Connected*.</span></span>   
- <span data-ttu-id="b3a26-266">Un peering viene stabilito tra due reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="b3a26-266">A peering is established between two virtual networks.</span></span> <span data-ttu-id="b3a26-267">I peering non sono transitivi.</span><span class="sxs-lookup"><span data-stu-id="b3a26-267">Peerings are not transitive.</span></span> <span data-ttu-id="b3a26-268">Se si creano peering tra:</span><span class="sxs-lookup"><span data-stu-id="b3a26-268">If you create peerings between:</span></span>
    - <span data-ttu-id="b3a26-269">VirtualNetwork1 e VirtualNetwork2</span><span class="sxs-lookup"><span data-stu-id="b3a26-269">VirtualNetwork1 & VirtualNetwork2</span></span>
    - <span data-ttu-id="b3a26-270">VirtualNetwork2 e VirtualNetwork3</span><span class="sxs-lookup"><span data-stu-id="b3a26-270">VirtualNetwork2 & VirtualNetwork3</span></span>

  <span data-ttu-id="b3a26-271">Non vengono stabiliti peering tra la VirtualNetwork1 e la VirtualNetwork3 tramite la VirtualNetwork2.</span><span class="sxs-lookup"><span data-stu-id="b3a26-271">There is no peering between VirtualNetwork1 and VirtualNetwork3 through VirtualNetwork2.</span></span> <span data-ttu-id="b3a26-272">Se si desidera creare un peering delle reti virtuali tra VirtualNetwork1 e VirtualNetwork3, è necessario creare un peering tra VirtualNetwork1 e VirtualNetwork3.</span><span class="sxs-lookup"><span data-stu-id="b3a26-272">If you want to create a virtual network peering between VirtualNetwork1 and VirtualNetwork3, you have to create a peering between VirtualNetwork1 and VirtualNetwork3.</span></span>
- <span data-ttu-id="b3a26-273">Non è possibile risolvere i nomi nelle reti virtuali con peering usando la risoluzione dei nomi di Azure predefinita.</span><span class="sxs-lookup"><span data-stu-id="b3a26-273">You can't resolve names in peered virtual networks using default Azure name resolution.</span></span> <span data-ttu-id="b3a26-274">Per risolvere i nomi in altre reti virtuali, è necessario usare un server DNS personalizzato.</span><span class="sxs-lookup"><span data-stu-id="b3a26-274">To resolve names in other virtual networks, you must use a custom DNS server.</span></span> <span data-ttu-id="b3a26-275">Per informazioni su come configurare il server DNS, vedere l'articolo [Risoluzione dei nomi usando il server DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="b3a26-275">To learn how to set up your own DNS server, read the [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server) article.</span></span>
- <span data-ttu-id="b3a26-276">Le risorse in entrambe le reti virtuali del peering possono comunicare tra loro con la stessa larghezza di banda e latenza che userebbero se fossero nella stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-276">Resources in both virtual networks in the peering can communicate with each other with the same bandwidth and latency as if they were in the same virtual network.</span></span> <span data-ttu-id="b3a26-277">Ogni dimensione di macchina virtuale presenta tuttavia una specifica larghezza di banda di rete massima.</span><span class="sxs-lookup"><span data-stu-id="b3a26-277">Each virtual machine size has its own maximum network bandwidth however.</span></span> <span data-ttu-id="b3a26-278">Per altre informazioni sulla larghezza di banda di rete massima per le diverse dimensioni delle macchine virtuali, vedere gli articoli sulle dimensioni delle macchine virtuali [Windows](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) o [Linux](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3a26-278">To learn more about maximum network bandwidth for different virtual machine sizes, read the [Windows](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) or [Linux](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) virtual machine sizes articles.</span></span>
- <span data-ttu-id="b3a26-279">È possibile eseguire il peering delle reti virtuali distribuite tramite Resource Manager, che sono nella stessa sottoscrizione o in sottoscrizioni diverse.</span><span class="sxs-lookup"><span data-stu-id="b3a26-279">You can peer virtual networks deployed through Resource Manager that are in the same, or different subscriptions.</span></span>
- <span data-ttu-id="b3a26-280">È possibile eseguire il peering di reti virtuali distribuite tramite modelli di distribuzione differenti, che si trovano nella stessa sottoscrizione o in sottoscrizioni differenti (anteprima).</span><span class="sxs-lookup"><span data-stu-id="b3a26-280">You can peer virtual networks deployed through different deployment models that are in the same, or different subscriptions (preview).</span></span> 
- <span data-ttu-id="b3a26-281">Le sottoscrizione in cui si trovano entrambe le reti virtuali devono essere associate allo stesso tenant di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b3a26-281">The subscriptions that both virtual networks are in must be associated to the same Azure Active Directory tenant.</span></span> <span data-ttu-id="b3a26-282">Se non si ha già un tenant di AD, è possibile [crearne uno](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch) rapidamente.</span><span class="sxs-lookup"><span data-stu-id="b3a26-282">If you don't already have an AD tenant, you can quickly [create one](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch).</span></span> <span data-ttu-id="b3a26-283">È possibile usare un [Gateway VPN ](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) per connettere due reti virtuali esistenti in diverse sottoscrizioni associate a tenant differenti di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b3a26-283">You can use a [VPN Gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#V2V) to connect two virtual networks that exist in different subscriptions associated to different Active Directory tenants.</span></span>
- <span data-ttu-id="b3a26-284">È possibile eseguire il peering di una rete virtuale a un'altra rete virtuale e anche connettere una rete virtuale a un'altra con un gateway di rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a26-284">A virtual network can be peered to another virtual network, and also be connected to another virtual network with an Azure virtual network gateway.</span></span> <span data-ttu-id="b3a26-285">Quando le reti virtuali vengono connesse sia tramite il peering che tramite un gateway, il traffico tra le reti virtuali segue la configurazione del peering invece che il gateway.</span><span class="sxs-lookup"><span data-stu-id="b3a26-285">When virtual networks are connected through both peering and a gateway, traffic between the virtual networks flows through the peering configuration, rather than the gateway.</span></span>
- <span data-ttu-id="b3a26-286">È previsto un importo minimo per il traffico in ingresso e in uscita che usa un peering di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="b3a26-286">There is a nominal charge for ingress and egress traffic that utilizes a virtual network peering.</span></span> <span data-ttu-id="b3a26-287">Per altre informazioni vedere la [pagina dei prezzi](https://azure.microsoft.com/pricing/details/virtual-network).</span><span class="sxs-lookup"><span data-stu-id="b3a26-287">For more information, see the [pricing page](https://azure.microsoft.com/pricing/details/virtual-network).</span></span>


## <a name="permissions"></a><span data-ttu-id="b3a26-288">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="b3a26-288">Permissions</span></span>

<span data-ttu-id="b3a26-289">Gli account usati per creare un peering di rete virtuale devono disporre del ruolo o delle autorizzazioni necessarie.</span><span class="sxs-lookup"><span data-stu-id="b3a26-289">The accounts you use to create a virtual network peering must have the necessary role or permissions.</span></span> <span data-ttu-id="b3a26-290">Ad esempio, per eseguire il peering di due reti virtuali denominate myVNetA e myVNetB, è necessario assegnare all'account il ruolo minimo o le autorizzazioni minime seguenti per ogni rete virtuale:</span><span class="sxs-lookup"><span data-stu-id="b3a26-290">For example, if you were peering two virtual networks named myVnetA and myVnetB, your account must be assigned the following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="b3a26-291">Rete virtuale</span><span class="sxs-lookup"><span data-stu-id="b3a26-291">Virtual network</span></span>|<span data-ttu-id="b3a26-292">Modello di distribuzione</span><span class="sxs-lookup"><span data-stu-id="b3a26-292">Deployment model</span></span>|<span data-ttu-id="b3a26-293">Ruolo</span><span class="sxs-lookup"><span data-stu-id="b3a26-293">Role</span></span>|<span data-ttu-id="b3a26-294">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="b3a26-294">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="b3a26-295">myVnetA</span><span class="sxs-lookup"><span data-stu-id="b3a26-295">myVnetA</span></span>|<span data-ttu-id="b3a26-296">Gestione risorse</span><span class="sxs-lookup"><span data-stu-id="b3a26-296">Resource Manager</span></span>|[<span data-ttu-id="b3a26-297">Collaboratore di rete</span><span class="sxs-lookup"><span data-stu-id="b3a26-297">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="b3a26-298">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="b3a26-298">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="b3a26-299">Classico</span><span class="sxs-lookup"><span data-stu-id="b3a26-299">Classic</span></span>|[<span data-ttu-id="b3a26-300">Collaboratore reti virtuali classiche</span><span class="sxs-lookup"><span data-stu-id="b3a26-300">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="b3a26-301">N/D</span><span class="sxs-lookup"><span data-stu-id="b3a26-301">N/A</span></span>|
|<span data-ttu-id="b3a26-302">myVnetB</span><span class="sxs-lookup"><span data-stu-id="b3a26-302">myVnetB</span></span>|<span data-ttu-id="b3a26-303">Gestione risorse</span><span class="sxs-lookup"><span data-stu-id="b3a26-303">Resource Manager</span></span>|[<span data-ttu-id="b3a26-304">Collaboratore di rete</span><span class="sxs-lookup"><span data-stu-id="b3a26-304">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="b3a26-305">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="b3a26-305">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="b3a26-306">Classico</span><span class="sxs-lookup"><span data-stu-id="b3a26-306">Classic</span></span>|[<span data-ttu-id="b3a26-307">Collaboratore reti virtuali classiche</span><span class="sxs-lookup"><span data-stu-id="b3a26-307">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="b3a26-308">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="b3a26-308">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="b3a26-309">Altre informazioni sui [ruoli predefiniti](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) e sull'assegnazione di autorizzazioni specifiche ai [ruoli personalizzati](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (solo Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="b3a26-309">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions to [custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="b3a26-310"><a name="next-steps"></a>Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="b3a26-310"><a name="next-steps"></a>Next steps</span></span>

<span data-ttu-id="b3a26-311">Informazioni su come creare una [topologia di rete hub-spoke](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering)</span><span class="sxs-lookup"><span data-stu-id="b3a26-311">Learn how to create a [hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering)</span></span> 
