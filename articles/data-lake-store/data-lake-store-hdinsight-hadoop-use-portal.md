---
title: cluster di hello aaaUse toocreate portale Azure HDInsight di Azure con archivio Data Lake | Documenti Microsoft
description: Utilizzare hello toocreate portale Azure e i cluster di HDInsight con archivio Azure Data Lake
services: data-lake-store,hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: a8c45a83-a8e3-4227-8b02-1bc1e1de6767
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/14/2017
ms.author: nitinme
ms.openlocfilehash: f23113d444a3c5a01894dba29f75f3621b2d16bd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-hdinsight-clusters-with-data-lake-store-by-using-hello-azure-portal"></a><span data-ttu-id="33a06-103">Creare cluster HDInsight con archivio Data Lake tramite hello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="33a06-103">Create HDInsight clusters with Data Lake Store by using hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="33a06-104">Utilizzare hello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="33a06-104">Use hello Azure portal</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
> * [<span data-ttu-id="33a06-105">Usare PowerShell (per l'archiviazione predefinita)</span><span class="sxs-lookup"><span data-stu-id="33a06-105">Use PowerShell (for default storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell-for-default-storage.md)
> * [<span data-ttu-id="33a06-106">Usare PowerShell (per l'archiviazione aggiuntiva)</span><span class="sxs-lookup"><span data-stu-id="33a06-106">Use PowerShell (for additional storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)
> * [<span data-ttu-id="33a06-107">Usare Resource Manager</span><span class="sxs-lookup"><span data-stu-id="33a06-107">Use Resource Manager</span></span>](data-lake-store-hdinsight-hadoop-use-resource-manager-template.md)
>
>

<span data-ttu-id="33a06-108">Informazioni su come toouse hello toocreate portale Azure un cluster di HDInsight con un account archivio Azure Data Lake come spazio di archiviazione predefinito hello o un ulteriore spazio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="33a06-108">Learn how toouse hello Azure portal toocreate a HDInsight cluster with an Azure Data Lake Store account as hello default storage or an additional storage.</span></span> <span data-ttu-id="33a06-109">Anche se ulteriore spazio di archiviazione è facoltativa per un cluster HDInsight, è consigliabile toostore i dati di business in account di archiviazione aggiuntivi hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-109">Even though additional storage is optional for a HDInsight cluster, it is recommended toostore your business data in hello additional storage accounts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="33a06-110">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="33a06-110">Prerequisites</span></span>
<span data-ttu-id="33a06-111">Prima di iniziare questa esercitazione, verificare che siano soddisfatti hello seguenti requisiti:</span><span class="sxs-lookup"><span data-stu-id="33a06-111">Before you begin this tutorial, ensure that you've met hello following requirements:</span></span>

* <span data-ttu-id="33a06-112">**Una sottoscrizione di Azure**.</span><span class="sxs-lookup"><span data-stu-id="33a06-112">**An Azure subscription**.</span></span> <span data-ttu-id="33a06-113">Andare troppo[versione di valutazione gratuita di Azure ottenere](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="33a06-113">Go too[Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="33a06-114">**Un account Azure Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="33a06-114">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="33a06-115">Seguire le istruzioni di hello da [introduzione archivio Azure Data Lake tramite il portale di Azure hello](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="33a06-115">Follow hello instructions from [Get started with Azure Data Lake Store by using hello Azure portal](data-lake-store-get-started-portal.md).</span></span> <span data-ttu-id="33a06-116">È inoltre necessario creare una cartella radice account hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-116">You must also create a root folder on hello account.</span></span>  <span data-ttu-id="33a06-117">In questa esercitazione viene usata una cartella radice denominata __/clusters__.</span><span class="sxs-lookup"><span data-stu-id="33a06-117">In this tutorial, a root folder called __/clusters__ is used.</span></span>
* <span data-ttu-id="33a06-118">**Un'entità servizio di Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="33a06-118">**An Azure Active Directory service principal**.</span></span> <span data-ttu-id="33a06-119">In questa esercitazione vengono fornite istruzioni su come toocreate un'entità servizio in Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="33a06-119">This tutorial provides instructions on how toocreate a service principal in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="33a06-120">Tuttavia, toocreate un'entità servizio, è necessario essere un amministratore di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="33a06-120">However, toocreate a service principal, you must be an Azure AD administrator.</span></span> <span data-ttu-id="33a06-121">Se si è un amministratore, è possibile ignorare questo prerequisito e continuare l'esercitazione hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-121">If you are an administrator, you can skip this prerequisite and proceed with hello tutorial.</span></span>

    >[!NOTE]
    ><span data-ttu-id="33a06-122">È possibile creare un'entità servizio solo se si è un amministratore di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="33a06-122">You can create a service principal only if you are an Azure AD administrator.</span></span> <span data-ttu-id="33a06-123">Prima di poter creare un cluster HDInsight con Data Lake Store, un amministratore di Azure AD deve creare un'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="33a06-123">Your Azure AD administrator must create a service principal before you can create an HDInsight cluster with Data Lake Store.</span></span> <span data-ttu-id="33a06-124">Entità servizio hello deve essere creato anche con un certificato, come descritto in [creare un'entità servizio con certificato](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span><span class="sxs-lookup"><span data-stu-id="33a06-124">Also, hello service principal must be created with a certificate, as described at [Create a service principal with certificate](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span></span>
    >

## <a name="create-an-hdinsight-cluster"></a><span data-ttu-id="33a06-125">Creazione di un cluster HDInsight</span><span class="sxs-lookup"><span data-stu-id="33a06-125">Create an HDInsight cluster</span></span>

<span data-ttu-id="33a06-126">In questa sezione creare un cluster di HDInsight con account archivio Data Lake come valore predefinito di hello o spazio di archiviazione aggiuntivo hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-126">In this section, you create a HDInsight cluster with Data Lake Store accounts as hello default or hello additional storage.</span></span> <span data-ttu-id="33a06-127">Questo articolo è incentrato solo parte di hello della configurazione di account archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="33a06-127">This article only focuses hello part of configuring Data Lake Store accounts.</span></span>  <span data-ttu-id="33a06-128">Per informazioni sulla creazione di hello cluster generali e procedure, vedere [cluster creare Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="33a06-128">For hello general cluster creation information and procedures, see [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span></span>

### <a name="create-a-cluster-with-data-lake-store-as-default-storage"></a><span data-ttu-id="33a06-129">Creare un cluster con Data Lake Store come risorsa di archiviazione predefinita</span><span class="sxs-lookup"><span data-stu-id="33a06-129">Create a cluster with Data Lake Store as default storage</span></span>

<span data-ttu-id="33a06-130">**toocreate un HDInsight cluster con un archivio Data Lake come account di archiviazione predefinito hello**</span><span class="sxs-lookup"><span data-stu-id="33a06-130">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="33a06-131">Accedi toohello [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="33a06-131">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="33a06-132">Seguire [creare cluster](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) per le informazioni generali sulla creazione di cluster HDInsight hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-132">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="33a06-133">In hello **archiviazione** pannello, in **tipo di archiviazione primario**selezionare **archivio Data Lake**e quindi immettere hello le seguenti informazioni:</span><span class="sxs-lookup"><span data-stu-id="33a06-133">On hello **Storage** blade, under **Primary storage type**, select **Data Lake Store**, and then enter hello following information:</span></span>

    <span data-ttu-id="33a06-134">![Aggiungi il principale tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "cluster tooHDInsight principale del componente servizio")</span><span class="sxs-lookup"><span data-stu-id="33a06-134">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="33a06-135">**Seleziona account Data Lake Store**: selezionare un account Data Lake Store esistente.</span><span class="sxs-lookup"><span data-stu-id="33a06-135">**Select Data Lake Store account**: Select an existing Data Lake Store account.</span></span> <span data-ttu-id="33a06-136">È necessario un account Data Lake Store esistente.</span><span class="sxs-lookup"><span data-stu-id="33a06-136">An existing Data Lake Store account is required.</span></span>  <span data-ttu-id="33a06-137">Vedere [Prerequisiti](#prereuisites).</span><span class="sxs-lookup"><span data-stu-id="33a06-137">See [Prerequisites](#prereuisites).</span></span>
    - <span data-ttu-id="33a06-138">**Percorso radice**: immettere un percorso in cui i file specifici per i cluster hello sono toobe archiviati.</span><span class="sxs-lookup"><span data-stu-id="33a06-138">**Root path**: Enter a path where hello cluster-specific files are toobe stored.</span></span> <span data-ttu-id="33a06-139">Nella schermata di hello è __/cluster myhdiadlcluster/__, in cui hello __/cluster__ cartella deve essere presente e hello portale crea *myhdicluster* cartella.</span><span class="sxs-lookup"><span data-stu-id="33a06-139">On hello screenshot, it is __/clusters/myhdiadlcluster/__, in which hello __/clusters__ folder must exist, and hello Portal creates *myhdicluster* folder.</span></span>  <span data-ttu-id="33a06-140">Hello *myhdicluster* è il nome del cluster hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-140">hello *myhdicluster* is hello cluster name.</span></span>
    - <span data-ttu-id="33a06-141">**Accesso archivio Data Lake**: configurare l'accesso tra account archivio Data Lake hello e il cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="33a06-141">**Data Lake Store access**: Configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="33a06-142">Per istruzioni, vedere [Configurare l'accesso a Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="33a06-142">For instructions, see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>
    - <span data-ttu-id="33a06-143">**Account di archiviazione aggiuntivi**: aggiungere gli account di archiviazione di Azure come ulteriore spazio di archiviazione degli account per il cluster hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-143">**Additional storage accounts**: Add Azure Storage Accounts as additional storage accounts for hello cluster.</span></span> <span data-ttu-id="33a06-144">tooadd aggiuntive Data Lake archivi viene eseguito, assegnando autorizzazioni cluster hello sui dati in più account archivio Data Lake durante la configurazione di un account archivio Data Lake come tipo di archiviazione primaria hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-144">tooadd additional Data Lake Stores is done by giving hello cluster permissions on data in more Data Lake Store accounts while configuring a Data Lake Store account as hello primary storage type.</span></span> <span data-ttu-id="33a06-145">Vedere [Configurare l'accesso a Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="33a06-145">See [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

4. <span data-ttu-id="33a06-146">In hello **accesso archivio Data Lake**, fare clic su **selezionare**, quindi continuare con la creazione del cluster, come descritto in [cluster creare Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span><span class="sxs-lookup"><span data-stu-id="33a06-146">On hello **Data Lake Store access**, click **Select**, and then continue with cluster creation as described in [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span></span>


### <a name="create-a-cluster-with-data-lake-store-as-additional-storage"></a><span data-ttu-id="33a06-147">Creare un cluster con Data Lake Store come risorsa di archiviazione aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="33a06-147">Create a cluster with Data Lake Store as additional storage</span></span>

<span data-ttu-id="33a06-148">Hello istruzioni riportate di seguito creare un cluster di HDInsight con un account di archiviazione di Azure come spazio di archiviazione predefinito hello e un account archivio Data Lake come un'ulteriore spazio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="33a06-148">hello following instructions create a HDInsight cluster with an Azure Storage account as hello default storage, and a Data Lake Store account as an additional storage.</span></span>
<span data-ttu-id="33a06-149">**toocreate un HDInsight cluster con un archivio Data Lake come account di archiviazione predefinito hello**</span><span class="sxs-lookup"><span data-stu-id="33a06-149">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="33a06-150">Accedi toohello [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="33a06-150">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="33a06-151">Seguire [creare cluster](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) per le informazioni generali sulla creazione di cluster HDInsight hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-151">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="33a06-152">In hello **archiviazione** pannello, in **tipo di archiviazione primario**, selezionare **di archiviazione di Azure**e quindi immettere hello le seguenti informazioni:</span><span class="sxs-lookup"><span data-stu-id="33a06-152">On hello **Storage** blade, under **Primary storage type**, select **Azure Storage**, and then enter hello following information:</span></span>

    <span data-ttu-id="33a06-153">![Aggiungi il principale tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "cluster tooHDInsight principale del componente servizio")</span><span class="sxs-lookup"><span data-stu-id="33a06-153">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="33a06-154">**Metodo di selezione**: utilizzare una delle seguenti opzioni hello:</span><span class="sxs-lookup"><span data-stu-id="33a06-154">**Selection method**: use one of hello following options:</span></span>

        * <span data-ttu-id="33a06-155">Selezionare un account di archiviazione che fa parte della sottoscrizione di Azure, toospecify **sottoscrizioni personali**, quindi selezionare l'account di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-155">toospecify a storage account that is part of your Azure subscription, select **My subscriptions**, and then select hello storage account.</span></span>
        * <span data-ttu-id="33a06-156">un account di archiviazione che non rientra nella sottoscrizione di Azure, seleziona toospecify **chiave di accesso**, quindi fornire le informazioni di hello per hello all'esterno di account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="33a06-156">toospecify a storage account that is outside your Azure subscription, select **Access key**, and then provide hello information for hello outside storage account.</span></span>

    - <span data-ttu-id="33a06-157">**Contenitore predefinito**: utilizzare il valore predefinito di hello o specificare il proprio nome.</span><span class="sxs-lookup"><span data-stu-id="33a06-157">**Default container**: use either hello default value or specify your own name.</span></span>

    - <span data-ttu-id="33a06-158">Altri account di archiviazione: aggiungere altri account di archiviazione di Azure come spazio di archiviazione aggiuntivo hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-158">Additional Storage accounts: add more Azure Storage accounts as hello additional storage.</span></span>
    - <span data-ttu-id="33a06-159">Accesso archivio Data Lake: configurare l'accesso tra account archivio Data Lake hello e il cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="33a06-159">Data Lake Store access: configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="33a06-160">Per istruzioni, vedere [Configurare l'accesso a Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="33a06-160">For instructions see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

## <a name="configure-data-lake-store-access"></a><span data-ttu-id="33a06-161">Configurare l'accesso a Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="33a06-161">Configure Data Lake Store access</span></span> 

<span data-ttu-id="33a06-162">In questa sezione è possibile configurare l'accesso a Data Lake Store dai cluster HDInsight usando un'entità servizio di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="33a06-162">In this section, you configure Data Lake Store access from HDInsight clusters using an Azure Active Directory service principal.</span></span> 

### <a name="specify-a-service-principal"></a><span data-ttu-id="33a06-163">Specificare un'entità servizio</span><span class="sxs-lookup"><span data-stu-id="33a06-163">Specify a service principal</span></span>

<span data-ttu-id="33a06-164">Dal portale di Azure hello, è possibile utilizzare un'entità servizio esistente o crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="33a06-164">From hello Azure portal, you can either use an existing service principal or create a new one.</span></span>

<span data-ttu-id="33a06-165">**toocreate un'entità servizio da hello portale di Azure**</span><span class="sxs-lookup"><span data-stu-id="33a06-165">**toocreate a service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="33a06-166">Fare clic su **accesso archivio Data Lake** dal pannello archivio hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-166">Click **Data Lake Store access** from hello Store blade.</span></span>
2. <span data-ttu-id="33a06-167">In hello **accesso archivio Data Lake** pannello, fare clic su **Crea nuovo**.</span><span class="sxs-lookup"><span data-stu-id="33a06-167">On hello **Data Lake Store access** blade, click **Create new**.</span></span>
3. <span data-ttu-id="33a06-168">Fare clic su **dell'entità servizio**, quindi seguire le istruzioni di hello toocreate un'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="33a06-168">Click **Service Principal**, and then follow hello instructions toocreate a service principal.</span></span>
4. <span data-ttu-id="33a06-169">Scaricare il certificato di hello se si decide di toouse nuovamente in futuro hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-169">Download hello certificate if you decide toouse it again in hello future.</span></span> <span data-ttu-id="33a06-170">Download certificato hello è utile che se si desidera toouse hello stesso servizio principale quando si crea i cluster HDInsight aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="33a06-170">Downloading hello certificate is useful if you want toouse hello same service principal when you create additional HDInsight clusters.</span></span>

    <span data-ttu-id="33a06-171">![Aggiungi il principale tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "cluster tooHDInsight principale del componente servizio")</span><span class="sxs-lookup"><span data-stu-id="33a06-171">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="33a06-172">Fare clic su **accesso** tooconfigure accesso alle cartelle di hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-172">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="33a06-173">Vedere [Configurare le autorizzazioni file](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="33a06-173">See [Configure file permissions](#configure-file-permissions).</span></span>


<span data-ttu-id="33a06-174">**toouse un'entità dal portale di Azure hello servizio esistente**</span><span class="sxs-lookup"><span data-stu-id="33a06-174">**toouse an existing service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="33a06-175">Fare clic su **Accesso a Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="33a06-175">Click **Data Lake Store access**.</span></span>
1. <span data-ttu-id="33a06-176">In hello **accesso archivio Data Lake** pannello, fare clic su **utilizzare esistente**.</span><span class="sxs-lookup"><span data-stu-id="33a06-176">On hello **Data Lake Store access** blade, click **Use existing**.</span></span>
2. <span data-ttu-id="33a06-177">Fare clic su **Entità servizio** e quindi selezionare un'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="33a06-177">Click **Service Principal**, and then select a service principal.</span></span> 
3. <span data-ttu-id="33a06-178">Caricare il certificato di hello (file con estensione pfx) che ha associato l'entità servizio selezionata e quindi immettere la password del certificato hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-178">Upload hello certificate (.pfx file) that's associated with your selected service principal, and then enter hello certificate password.</span></span>

    <span data-ttu-id="33a06-179">![Aggiungi il principale tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "cluster tooHDInsight principale del componente servizio")</span><span class="sxs-lookup"><span data-stu-id="33a06-179">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="33a06-180">Fare clic su **accesso** tooconfigure accesso alle cartelle di hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-180">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="33a06-181">Vedere [Configurare le autorizzazioni file](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="33a06-181">See [Configure file permissions](#configure-file-permissions).</span></span>


### <span data-ttu-id="33a06-182"><a name="configure-file-permissions"></a>Configurare le autorizzazioni file</span><span class="sxs-lookup"><span data-stu-id="33a06-182"><a name="configure-file-permissions"></a>Configure file permissions</span></span>

<span data-ttu-id="33a06-183">Configura Hello sono diverse a seconda se account hello viene utilizzato come spazio di archiviazione predefinito hello o un account di archiviazione aggiuntive:</span><span class="sxs-lookup"><span data-stu-id="33a06-183">hello configures are different depending on whether hello account is used as hello default storage or an additional storage account:</span></span>

- <span data-ttu-id="33a06-184">Uso come risorsa di archiviazione predefinita</span><span class="sxs-lookup"><span data-stu-id="33a06-184">Used as default storage</span></span>

    - <span data-ttu-id="33a06-185">autorizzazione a livello di radice hello di hello account archivio Data Lake</span><span class="sxs-lookup"><span data-stu-id="33a06-185">permission at hello root level of hello Data Lake Store account</span></span>
    - <span data-ttu-id="33a06-186">autorizzazione a livello di radice hello di hello archiviazione cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="33a06-186">permission at hello root level of hello HDInsight cluster storage.</span></span> <span data-ttu-id="33a06-187">Ad esempio, hello __/cluster__ cartella utilizzata in precedenza nell'esercitazione hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-187">For example, hello __/clusters__ folder used earlier in hello tutorial.</span></span>
- <span data-ttu-id="33a06-188">Uso come risorsa di archiviazione aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="33a06-188">Use as an additional storage</span></span>

    - <span data-ttu-id="33a06-189">Autorizzazione in cartelle hello in cui è necessario accesso al file.</span><span class="sxs-lookup"><span data-stu-id="33a06-189">Permission at hello folders where you need file access.</span></span>

<span data-ttu-id="33a06-190">**autorizzazione tooassign hello a livello di radice account archivio Data Lake**</span><span class="sxs-lookup"><span data-stu-id="33a06-190">**tooassign permission at hello Data Lake Store account root level**</span></span>

1. <span data-ttu-id="33a06-191">In hello **accesso archivio Data Lake** pannello, fare clic su **accesso**.</span><span class="sxs-lookup"><span data-stu-id="33a06-191">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="33a06-192">Hello **selezionare le autorizzazioni del file** pannello viene aperto.</span><span class="sxs-lookup"><span data-stu-id="33a06-192">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="33a06-193">Elenca tutti gli account archivio Data Lake hello nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="33a06-193">It lists all hello Data Lake Store accounts in your subscription.</span></span>
2. <span data-ttu-id="33a06-194">Passare il mouse (non selezionare) passaggio del mouse hello Nome hello di hello account archivio Data Lake toomake hello casella di controllo è visibile, quindi selezionare hello casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="33a06-194">Hover (do not click) hello mouse over hello name of hello Data Lake Store account toomake hello check box visible, then select hello check box.</span></span>

    <span data-ttu-id="33a06-195">![Aggiungi il principale tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "cluster tooHDInsight principale del componente servizio")</span><span class="sxs-lookup"><span data-stu-id="33a06-195">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Add service principal tooHDInsight cluster")</span></span>

  <span data-ttu-id="33a06-196">Per impostazione predefinita, __LETTURA__, __SCRITTURA__ ed __ESECUZIONE__ sono selezionati.</span><span class="sxs-lookup"><span data-stu-id="33a06-196">By default, __READ__, __WRITE__, AND __EXECUTE__ are all selected.</span></span>

3. <span data-ttu-id="33a06-197">Fare clic su **selezionare** nella parte inferiore di hello della pagina hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-197">Click **Select** on hello bottom of hello page.</span></span>
4. <span data-ttu-id="33a06-198">Fare clic su **eseguire** tooassign autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="33a06-198">Click **Run** tooassign permission.</span></span>
5. <span data-ttu-id="33a06-199">Fare clic su **Done**.</span><span class="sxs-lookup"><span data-stu-id="33a06-199">Click **Done**.</span></span>

<span data-ttu-id="33a06-200">**autorizzazione tooassign al livello radice del cluster HDInsight hello**</span><span class="sxs-lookup"><span data-stu-id="33a06-200">**tooassign permission at hello HDInsight cluster root level**</span></span>

1. <span data-ttu-id="33a06-201">In hello **accesso archivio Data Lake** pannello, fare clic su **accesso**.</span><span class="sxs-lookup"><span data-stu-id="33a06-201">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="33a06-202">Hello **selezionare le autorizzazioni del file** pannello viene aperto.</span><span class="sxs-lookup"><span data-stu-id="33a06-202">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="33a06-203">Elenca tutti gli account archivio Data Lake hello nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="33a06-203">It lists all hello Data Lake Store accounts in your subscription.</span></span>
1. <span data-ttu-id="33a06-204">Da hello **selezionare le autorizzazioni del file** pannello, fare clic su tooshow nome di archivio Data Lake hello il relativo contenuto.</span><span class="sxs-lookup"><span data-stu-id="33a06-204">From hello **Select file permissions** blade, click hello Data Lake Store name tooshow its content.</span></span>
2. <span data-ttu-id="33a06-205">Selezionare una radice di archiviazione del cluster HDInsight hello selezionando la casella di controllo di hello a sinistra di hello della cartella hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-205">Select hello HDInsight cluster storage root by selecting hello checkbox on hello left of hello folder.</span></span> <span data-ttu-id="33a06-206">Secondo toohello schermata precedente, è radice di archiviazione cluster hello __/cluster__ cartella specificata durante la selezione di archivio Data Lake di hello come spazio di archiviazione predefinito.</span><span class="sxs-lookup"><span data-stu-id="33a06-206">According toohello screenshot earlier, hello cluster storage root is __/clusters__ folder that you specified while selecting hello Data Lake Store as default storage.</span></span>
3. <span data-ttu-id="33a06-207">Impostare le autorizzazioni di hello nella cartella hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-207">Set hello permissions on hello folder.</span></span>  <span data-ttu-id="33a06-208">Per impostazione predefinita, sono selezionate lettura, scrittura ed esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33a06-208">By default, read, write, and execute are all selected.</span></span>
4. <span data-ttu-id="33a06-209">Fare clic su **selezionare** nella parte inferiore di hello della pagina hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-209">Click **Select** on hello bottom of hello page.</span></span>
5. <span data-ttu-id="33a06-210">Fare clic su **Run**.</span><span class="sxs-lookup"><span data-stu-id="33a06-210">Click **Run**.</span></span>
6. <span data-ttu-id="33a06-211">Fare clic su **Done**.</span><span class="sxs-lookup"><span data-stu-id="33a06-211">Click **Done**.</span></span>

<span data-ttu-id="33a06-212">Se si utilizza l'archivio Data Lake come ulteriore spazio di archiviazione, è necessario assegnare autorizzazioni solo per le cartelle di hello che si desidera tooaccess dal cluster HDInsight hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-212">If you are using Data Lake Store as additional storage, you must assign permission only for hello folders that you want tooaccess from hello HDInsight cluster.</span></span> <span data-ttu-id="33a06-213">Ad esempio, nella schermata hello seguente permette di accedere solo troppo**hdiaddonstorage** cartella in un account archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="33a06-213">For example, in hello screenshot below, you provide access only too**hdiaddonstorage** folder in a Data Lake Store account.</span></span>

<span data-ttu-id="33a06-214">![Assegnare i cluster di HDInsight toohello autorizzazioni dell'entità servizio](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "cluster di HDInsight toohello autorizzazioni dell'entità servizio Assign")</span><span class="sxs-lookup"><span data-stu-id="33a06-214">![Assign service principal permissions toohello HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "Assign service principal permissions toohello HDInsight cluster")</span></span>


## <a name="verify-cluster-set-up"></a><span data-ttu-id="33a06-215">Verificare la configurazione del cluster</span><span class="sxs-lookup"><span data-stu-id="33a06-215">Verify cluster set up</span></span>

<span data-ttu-id="33a06-216">Al termine dell'installazione del cluster di hello, nel Pannello di hello cluster, verificare i risultati effettuando uno o entrambi hello alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="33a06-216">After hello cluster setup is complete, on hello cluster blade, verify your results by doing either or both of hello following steps:</span></span>

* <span data-ttu-id="33a06-217">tooverify hello spazi di archiviazione associati per il cluster hello è account archivio Data Lake hello specificato, fare clic su **gli account di archiviazione** nel riquadro di sinistra hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-217">tooverify that hello associated storage for hello cluster is hello Data Lake Store account that you specified, click **Storage accounts** in hello left pane.</span></span>

    <span data-ttu-id="33a06-218">![Aggiungi il principale tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "cluster tooHDInsight principale del componente servizio")</span><span class="sxs-lookup"><span data-stu-id="33a06-218">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Add service principal tooHDInsight cluster")</span></span>

* <span data-ttu-id="33a06-219">tooverify che hello dell'entità servizio è associato correttamente al cluster HDInsight hello, fare clic su **accesso archivio Data Lake** nel riquadro di sinistra hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-219">tooverify that hello service principal is correctly associated with hello HDInsight cluster, click **Data Lake Store access** in hello left pane.</span></span>

    <span data-ttu-id="33a06-220">![Aggiungi il principale tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "cluster tooHDInsight principale del componente servizio")</span><span class="sxs-lookup"><span data-stu-id="33a06-220">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Add service principal tooHDInsight cluster")</span></span>


## <a name="examples"></a><span data-ttu-id="33a06-221">esempi</span><span class="sxs-lookup"><span data-stu-id="33a06-221">Examples</span></span>

<span data-ttu-id="33a06-222">Dopo aver impostato i cluster hello con archivio Data Lake come lo spazio di archiviazione, vedere esempi toothese come toouse HDInsight cluster tooanalyze hello i dati archiviati nell'archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="33a06-222">After you have set up hello cluster with Data Lake Store as your storage, refer toothese examples of how toouse HDInsight cluster tooanalyze hello data that's stored in Data Lake Store.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-primary-storage"></a><span data-ttu-id="33a06-223">Eseguire una query Hive sui dati archiviati in Data Lake Store (come risorsa di archiviazione primaria)</span><span class="sxs-lookup"><span data-stu-id="33a06-223">Run a Hive query against data in a Data Lake Store (as primary storage)</span></span>

<span data-ttu-id="33a06-224">toorun una query Hive, usare l'interfaccia di viste di Hive di hello nel portale Ambari hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-224">toorun a Hive query, use hello Hive views interface in hello Ambari portal.</span></span> <span data-ttu-id="33a06-225">Per istruzioni su come toouse Ambari Hive viste, vedere [hello utilizzare Vista Hive con Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span><span class="sxs-lookup"><span data-stu-id="33a06-225">For instructions on how toouse Ambari Hive views, see [Use hello Hive View with Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span></span>

<span data-ttu-id="33a06-226">Quando si lavora con i dati in un archivio Data Lake, esistono alcune stringhe toochange.</span><span class="sxs-lookup"><span data-stu-id="33a06-226">When you work with data in a Data Lake Store, there are a few strings toochange.</span></span>

<span data-ttu-id="33a06-227">Se si utilizza, ad esempio, hello cluster che è stato creato con l'archivio Data Lake come archiviazione primaria, dati di toohello hello del percorso sono: *adl: / / < data_lake_store_account_name > /azuredatalakestore.net/path/to/file*.</span><span class="sxs-lookup"><span data-stu-id="33a06-227">If you use, for example, hello cluster that you created with Data Lake Store as primary storage, hello path toohello data is: *adl://<data_lake_store_account_name>/azuredatalakestore.net/path/to/file*.</span></span> <span data-ttu-id="33a06-228">Un toocreate query Hive di una tabella dai dati di esempio che viene archiviati in hello account archivio Data Lake aspetto hello istruzione:</span><span class="sxs-lookup"><span data-stu-id="33a06-228">A Hive query toocreate a table from sample data that's stored in hello Data Lake Store account looks like hello following statement:</span></span>

    CREATE EXTERNAL TABLE websitelog (str string) LOCATION 'adl://hdiadlsstorage.azuredatalakestore.net/clusters/myhdiadlcluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/'

<span data-ttu-id="33a06-229">Descrizioni:</span><span class="sxs-lookup"><span data-stu-id="33a06-229">Descriptions:</span></span>
* <span data-ttu-id="33a06-230">`adl://hdiadlstorage.azuredatalakestore.net/`è la radice hello di hello account archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="33a06-230">`adl://hdiadlstorage.azuredatalakestore.net/` is hello root of hello Data Lake Store account.</span></span>
* <span data-ttu-id="33a06-231">`/clusters/myhdiadlcluster`è hello radice dei dati di cluster hello specificato durante la creazione di cluster hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-231">`/clusters/myhdiadlcluster` is hello root of hello cluster data that you specified while creating hello cluster.</span></span>
* <span data-ttu-id="33a06-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/`è il percorso di hello del file di esempio hello che è stato utilizzato nella query hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/` is hello location of hello sample file that you used in hello query.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-additional-storage"></a><span data-ttu-id="33a06-233">Eseguire una query Hive sui dati archiviati in Data Lake Store (come risorsa di archiviazione aggiuntiva)</span><span class="sxs-lookup"><span data-stu-id="33a06-233">Run a Hive query against data in a Data Lake Store (as additional storage)</span></span>

<span data-ttu-id="33a06-234">Se il cluster hello creato utilizza l'archiviazione Blob come spazio di archiviazione predefinito, i dati di esempio hello non sono contenuti in hello account archivio Azure Data Lake utilizzato come spazio di archiviazione aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="33a06-234">If hello cluster that you created uses Blob storage as default storage, hello sample data is not contained in hello Azure Data Lake Store account that's used as additional storage.</span></span> <span data-ttu-id="33a06-235">In tal caso, innanzitutto trasferire dati hello da archiviazione di Blob toohello archivio Data Lake e quindi si eseguono query hello come illustrato nell'esempio sopra riportato hello.</span><span class="sxs-lookup"><span data-stu-id="33a06-235">In such a case, first transfer hello data from Blob storage toohello Data Lake Store, and then run hello queries as shown in hello preceding example.</span></span>

<span data-ttu-id="33a06-236">Per informazioni sulla modalità di memorizzazione tooa Data Lake di toocopy dati dall'archiviazione Blob, vedere hello seguenti articoli:</span><span class="sxs-lookup"><span data-stu-id="33a06-236">For information on how toocopy data from Blob storage tooa Data Lake Store, see hello following articles:</span></span>

* [<span data-ttu-id="33a06-237">Utilizzare i dati di toocopy Distcp tra BLOB di archiviazione di Azure e archivio Data Lake</span><span class="sxs-lookup"><span data-stu-id="33a06-237">Use Distcp toocopy data between Azure Storage blobs and Data Lake Store</span></span>](data-lake-store-copy-data-wasb-distcp.md)
* [<span data-ttu-id="33a06-238">Usa AdlCopy toocopy dati da archiviazione di Azure BLOB tooData Lake archivio</span><span class="sxs-lookup"><span data-stu-id="33a06-238">Use AdlCopy toocopy data from Azure Storage blobs tooData Lake Store</span></span>](data-lake-store-copy-data-azure-storage-blob.md)

### <a name="use-data-lake-store-with-a-spark-cluster"></a><span data-ttu-id="33a06-239">Usare Data Lake Store con un cluster Spark</span><span class="sxs-lookup"><span data-stu-id="33a06-239">Use Data Lake Store with a Spark cluster</span></span>
<span data-ttu-id="33a06-240">È possibile utilizzare un processi di Spark toorun cluster Spark sui dati archiviati in un archivio Data Lake.</span><span class="sxs-lookup"><span data-stu-id="33a06-240">You can use a Spark cluster toorun Spark jobs on data that is stored in a Data Lake Store.</span></span> <span data-ttu-id="33a06-241">Per ulteriori informazioni, vedere [usare HDInsight Spark cluster tooanalyze dati archivio Data Lake](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="33a06-241">For more information, see [Use HDInsight Spark cluster tooanalyze data in Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span></span>


### <a name="use-data-lake-store-in-a-storm-topology"></a><span data-ttu-id="33a06-242">Usare Data Lake Store in una topologia Storm</span><span class="sxs-lookup"><span data-stu-id="33a06-242">Use Data Lake Store in a Storm topology</span></span>
<span data-ttu-id="33a06-243">È possibile utilizzare dati di hello archivio Data Lake toowrite da una topologia di Storm.</span><span class="sxs-lookup"><span data-stu-id="33a06-243">You can use hello Data Lake Store toowrite data from a Storm topology.</span></span> <span data-ttu-id="33a06-244">Per istruzioni su come tooachieve questo scenario, vedere [archivio utilizzare Azure Data Lake con Apache Storm con HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="33a06-244">For instructions on how tooachieve this scenario, see [Use Azure Data Lake Store with Apache Storm with HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="33a06-245">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="33a06-245">See also</span></span>
* [<span data-ttu-id="33a06-246">PowerShell: Creazione di un toouse cluster HDInsight archivio Data Lake</span><span class="sxs-lookup"><span data-stu-id="33a06-246">PowerShell: Create an HDInsight cluster toouse Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)

[makecert]: https://msdn.microsoft.com/library/windows/desktop/ff548309(v=vs.85).aspx
[pvk2pfx]: https://msdn.microsoft.com/library/windows/desktop/ff550672(v=vs.85).aspx
