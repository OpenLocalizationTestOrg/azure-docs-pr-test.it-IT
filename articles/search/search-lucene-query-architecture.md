---
title: architettura del motore (Lucene) ricerca testo aaaFull in ricerca di Azure | Documenti Microsoft
description: Spiegazione di Lucene documento e l'elaborazione il recupero dei concetti relativi alle query per la ricerca full-text, come tooAzure correlati ricerca.
services: search
manager: jhubbard
author: yahnoosh
documentationcenter: 
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 04/06/2017
ms.author: jlembicz
ms.openlocfilehash: c6d1bea8d40154fd9237b9e44584cdfcd193cbd9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="how-full-text-search-works-in-azure-search"></a><span data-ttu-id="71da3-103">Funzionamento della ricerca full-text in Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="71da3-103">How full text search works in Azure Search</span></span>

<span data-ttu-id="71da3-104">Questo articolo si rivolge agli sviluppatori che hanno bisogno di una conoscenza più approfondita circa il funzionamento della ricerca full-text di Lucene in Ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="71da3-104">This article is for developers who need a deeper understanding of how Lucene full text search works in Azure Search.</span></span> <span data-ttu-id="71da3-105">Per le query di testo, Ricerca di Azure fornirà i risultati previsti nella maggior parte degli scenari, ma in alcuni casi è possibile ottenere un risultato che sembrerà in qualche modo "strano".</span><span class="sxs-lookup"><span data-stu-id="71da3-105">For text queries, Azure Search will seamlessly deliver expected results in most scenarios, but occasionally you might get a result that seems "off" somehow.</span></span> <span data-ttu-id="71da3-106">In queste situazioni, con uno sfondo hello quattro fasi di esecuzione di query Lucene (analisi lessicale, analisi di query, documento corrispondente, il punteggio) consentono di identificare le modifiche specifiche tooquery parametri o un indice di configurazione che apporterà hello risultato desiderato.</span><span class="sxs-lookup"><span data-stu-id="71da3-106">In these situations, having a background in hello four stages of Lucene query execution (query parsing, lexical analysis, document matching, scoring) can help you identify specific changes tooquery parameters or index configuration that will deliver hello desired outcome.</span></span> 

> [!Note] 
> <span data-ttu-id="71da3-107">Ricerca di Azure usa Lucene per la ricerca full-text, ma l'integrazione con Lucene non è completa.</span><span class="sxs-lookup"><span data-stu-id="71da3-107">Azure Search uses Lucene for full text search, but Lucene integration is not exhaustive.</span></span> <span data-ttu-id="71da3-108">È in modo selettivo espongono ed estendere Lucene funzionalità tooenable hello scenari importanti tooAzure ricerca.</span><span class="sxs-lookup"><span data-stu-id="71da3-108">We selectively expose and extend Lucene functionality tooenable hello scenarios important tooAzure Search.</span></span> 

## <a name="architecture-overview-and-diagram"></a><span data-ttu-id="71da3-109">Panoramica e diagramma dell'architettura</span><span class="sxs-lookup"><span data-stu-id="71da3-109">Architecture overview and diagram</span></span>

<span data-ttu-id="71da3-110">Elaborazione di una query di ricerca full-text inizia con i termini di ricerca tooextract testo hello query di analisi.</span><span class="sxs-lookup"><span data-stu-id="71da3-110">Processing a full text search query starts with parsing hello query text tooextract search terms.</span></span> <span data-ttu-id="71da3-111">il motore di ricerca Hello Usa un tooretrieve indicizzare i documenti con termini corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="71da3-111">hello search engine uses an index tooretrieve documents with matching terms.</span></span> <span data-ttu-id="71da3-112">I termini di query singole sono suddivisi in alcuni casi e ricostituita nel nuovo form toocast una rete più ampia su ciò che può essere considerato come corrispondenza potenziale.</span><span class="sxs-lookup"><span data-stu-id="71da3-112">Individual query terms are sometimes broken down and reconstituted into new forms toocast a broader net over what could be considered as a potential match.</span></span> <span data-ttu-id="71da3-113">Un set di risultati viene quindi ordinato per un pertinenza punteggio tooeach assegnato corrispondente documento singolo.</span><span class="sxs-lookup"><span data-stu-id="71da3-113">A result set is then sorted by a relevance score assigned tooeach individual matching document.</span></span> <span data-ttu-id="71da3-114">Quelli nella parte superiore di hello di hello classificata elenco vengono restituiti l'applicazione chiamante toohello.</span><span class="sxs-lookup"><span data-stu-id="71da3-114">Those at hello top of hello ranked list are returned toohello calling application.</span></span>

<span data-ttu-id="71da3-115">L'esecuzione di query riproposte presenta quattro fasi:</span><span class="sxs-lookup"><span data-stu-id="71da3-115">Restated, query execution has four stages:</span></span> 

1. <span data-ttu-id="71da3-116">Analisi della query</span><span class="sxs-lookup"><span data-stu-id="71da3-116">Query parsing</span></span> 
2. <span data-ttu-id="71da3-117">Analisi lessicale</span><span class="sxs-lookup"><span data-stu-id="71da3-117">Lexical analysis</span></span> 
3. <span data-ttu-id="71da3-118">Recupero dei documenti</span><span class="sxs-lookup"><span data-stu-id="71da3-118">Document retrieval</span></span> 
4. <span data-ttu-id="71da3-119">Assegnazione dei punteggi</span><span class="sxs-lookup"><span data-stu-id="71da3-119">Scoring</span></span> 

<span data-ttu-id="71da3-120">diagramma di Hello seguente illustra hello componenti utilizzati tooprocess una richiesta di ricerca.</span><span class="sxs-lookup"><span data-stu-id="71da3-120">hello diagram below illustrates hello components used tooprocess a search request.</span></span> 

 ![Diagramma dell'architettura della query di Lucene in Ricerca di Azure][1]


| <span data-ttu-id="71da3-122">Componenti chiave</span><span class="sxs-lookup"><span data-stu-id="71da3-122">Key components</span></span> | <span data-ttu-id="71da3-123">Descrizione funzionale</span><span class="sxs-lookup"><span data-stu-id="71da3-123">Functional description</span></span> | 
|----------------|------------------------|
|<span data-ttu-id="71da3-124">**Parser della query**</span><span class="sxs-lookup"><span data-stu-id="71da3-124">**Query parsers**</span></span> | <span data-ttu-id="71da3-125">Separare i termini di query dagli operatori di query e creare il motore di ricerca toohello hello query struttura (albero di query) toobe inviato.</span><span class="sxs-lookup"><span data-stu-id="71da3-125">Separate query terms from query operators and create hello query structure (a query tree) toobe sent toohello search engine.</span></span> |
|<span data-ttu-id="71da3-126">**Analizzatori**</span><span class="sxs-lookup"><span data-stu-id="71da3-126">**Analyzers**</span></span> | <span data-ttu-id="71da3-127">Eseguire l'analisi lessicale sui termini della query.</span><span class="sxs-lookup"><span data-stu-id="71da3-127">Perform lexical analysis on query terms.</span></span> <span data-ttu-id="71da3-128">Questo processo può implicare la trasformazione, la rimozione o l'espansione dei termini della query.</span><span class="sxs-lookup"><span data-stu-id="71da3-128">This process can involve transforming, removing, or expanding of query terms.</span></span> |
|<span data-ttu-id="71da3-129">**Index**</span><span class="sxs-lookup"><span data-stu-id="71da3-129">**Index**</span></span> | <span data-ttu-id="71da3-130">Una struttura di dati efficiente utilizzato toostore e organizzare ricerca termini estratti da documenti indicizzati.</span><span class="sxs-lookup"><span data-stu-id="71da3-130">An efficient data structure used toostore and organize searchable terms extracted from indexed documents.</span></span> |
|<span data-ttu-id="71da3-131">**Motore di ricerca**</span><span class="sxs-lookup"><span data-stu-id="71da3-131">**Search engine**</span></span> | <span data-ttu-id="71da3-132">Recupera e punteggi di corrispondenza in base al contenuto hello di hello documenti indice invertito.</span><span class="sxs-lookup"><span data-stu-id="71da3-132">Retrieves and scores matching documents based on hello contents of hello inverted index.</span></span> |

## <a name="anatomy-of-a-search-request"></a><span data-ttu-id="71da3-133">Anatomia di una richiesta di ricerca</span><span class="sxs-lookup"><span data-stu-id="71da3-133">Anatomy of a search request</span></span>

<span data-ttu-id="71da3-134">Una richiesta di ricerca è una specifica completa di ciò che deve essere restituito in un set di risultati.</span><span class="sxs-lookup"><span data-stu-id="71da3-134">A search request is a complete specification of what should be returned in a result set.</span></span> <span data-ttu-id="71da3-135">Nella forma più semplice, è una query vuota senza alcun tipo di criterio.</span><span class="sxs-lookup"><span data-stu-id="71da3-135">In simplest form, it is an empty query with no criteria of any kind.</span></span> <span data-ttu-id="71da3-136">Un esempio più realistico include parametri, diversi termini, i campi toocertain probabilmente con ambito, con probabilmente un'espressione di filtro e ordinamento delle regole di query.</span><span class="sxs-lookup"><span data-stu-id="71da3-136">A more realistic example includes parameters, several query terms, perhaps scoped toocertain fields, with possibly a filter expression and ordering rules.</span></span>  

<span data-ttu-id="71da3-137">esempio Hello è una richiesta di ricerca è possibile inviare tooAzure ricerca utilizzando hello [API REST](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="71da3-137">hello following example is a search request you might send tooAzure Search using hello [REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>  

~~~~
POST /indexes/hotels/docs/search?api-version=2016-09-01 
{  
    "search": "Spacious, air-condition* +\"Ocean view\"",  
    "searchFields": "description, title",  
    "searchMode": "any",
    "filter": "price ge 60 and price lt 300",  
    "orderby": "geo.distance(location, geography'POINT(-159.476235 22.227659)')", 
    "queryType": "full" 
 } 
~~~~

<span data-ttu-id="71da3-138">Per questa richiesta, il motore di ricerca hello hello seguenti:</span><span class="sxs-lookup"><span data-stu-id="71da3-138">For this request, hello search engine does hello following:</span></span>

1. <span data-ttu-id="71da3-139">Filtra i documenti in cui il prezzo di hello almeno $60 e inferiore a $300.</span><span class="sxs-lookup"><span data-stu-id="71da3-139">Filters out documents where hello price is at least $60 and less than $300.</span></span>
2. <span data-ttu-id="71da3-140">Esegue query hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-140">Executes hello query.</span></span> <span data-ttu-id="71da3-141">In questo esempio, la query di ricerca hello costituito frasi e termini: `"Spacious, air-condition* +\"Ocean view\""` (gli utenti in genere non immettono segni di punteggiatura, ma incluso nell'esempio hello consente tooexplain come gli analizzatori di gestirlo).</span><span class="sxs-lookup"><span data-stu-id="71da3-141">In this example, hello search query consists of phrases and terms: `"Spacious, air-condition* +\"Ocean view\""` (users typically don't enter punctuation, but including it in hello example allows us tooexplain how analyzers handle it).</span></span> <span data-ttu-id="71da3-142">Per questa query, il motore di ricerca hello analizza descrizione hello e i campi titolo specificati `searchFields` per documenti che contengono "Vista sull'Oceano" e inoltre termine hello "spazioso" o su termini che iniziano con il prefisso hello "air-condition".</span><span class="sxs-lookup"><span data-stu-id="71da3-142">For this query, hello search engine scans hello description and title fields specified in `searchFields` for documents that contain "Ocean view", and additionally on hello term "spacious", or on terms that start with hello prefix "air-condition".</span></span> <span data-ttu-id="71da3-143">Hello `searchMode` parametro è utilizzato toomatch su qualsiasi termine (impostazione predefinita) o tutti, per i casi in cui non è richiesto in modo esplicito un termine (`+`).</span><span class="sxs-lookup"><span data-stu-id="71da3-143">hello `searchMode` parameter is used toomatch on any term (default) or all of them, for cases where a term is not explicitly required (`+`).</span></span>
3. <span data-ttu-id="71da3-144">Gli ordini hello set risultante di hotel da prossimità tooa geography percorso specificato e quindi restituiti toohello di applicazione chiamante.</span><span class="sxs-lookup"><span data-stu-id="71da3-144">Orders hello resulting set of hotels by proximity tooa given geography location, and then returned toohello calling application.</span></span> 

<span data-ttu-id="71da3-145">Hello maggior parte di questo articolo riguarda l'elaborazione di hello *query di ricerca*: `"Spacious, air-condition* +\"Ocean view\""`.</span><span class="sxs-lookup"><span data-stu-id="71da3-145">hello majority of this article is about processing of hello *search query*: `"Spacious, air-condition* +\"Ocean view\""`.</span></span> <span data-ttu-id="71da3-146">Il filtro e l'ordinamento non appartengono all'ambito.</span><span class="sxs-lookup"><span data-stu-id="71da3-146">Filtering and ordering are out of scope.</span></span> <span data-ttu-id="71da3-147">Per ulteriori informazioni, vedere hello [la documentazione di riferimento API di ricerca](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="71da3-147">For more information, see hello [Search API reference documentation](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>

<a name="stage1"></a>
## <a name="stage-1-query-parsing"></a><span data-ttu-id="71da3-148">Fase 1: Analisi della query</span><span class="sxs-lookup"><span data-stu-id="71da3-148">Stage 1: Query parsing</span></span> 

<span data-ttu-id="71da3-149">Come accennato, la stringa di query hello è hello prima riga della richiesta di hello:</span><span class="sxs-lookup"><span data-stu-id="71da3-149">As noted, hello query string is hello first line of hello request:</span></span> 

~~~~
 "search": "Spacious, air-condition* +\"Ocean view\"", 
~~~~

<span data-ttu-id="71da3-150">il parser separa gli operatori di query di Hello (ad esempio `*` e `+` nell'esempio hello) da ricerca di termini e annullamento della costruzione delle query di ricerca hello in *sottoquery* di un tipo supportato:</span><span class="sxs-lookup"><span data-stu-id="71da3-150">hello query parser separates operators (such as `*` and `+` in hello example) from search terms, and deconstructs hello search query into *subqueries* of a supported type:</span></span> 

+ <span data-ttu-id="71da3-151">*query del termine* per i termini singoli (ad esempio spazioso)</span><span class="sxs-lookup"><span data-stu-id="71da3-151">*term query* for standalone terms (like spacious)</span></span>
+ <span data-ttu-id="71da3-152">*query della frase* per i termini tra virgolette (ad esempio vista oceano)</span><span class="sxs-lookup"><span data-stu-id="71da3-152">*phrase query* for quoted terms (like ocean view)</span></span>
+ <span data-ttu-id="71da3-153">*query del prefisso* per i termini seguiti da un operatore prefisso `*` (ad esempio, aria condizionata)</span><span class="sxs-lookup"><span data-stu-id="71da3-153">*prefix query* for terms followed by a prefix operator `*` (like air-condition)</span></span>

<span data-ttu-id="71da3-154">Per un elenco completo dei tipi di query supportati vedere [Sintassi di query Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span><span class="sxs-lookup"><span data-stu-id="71da3-154">For a full list of supported query types see [Lucene query sytnax](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span></span>

<span data-ttu-id="71da3-155">Operatori associati a una sottoquery determinano se la query hello "deve essere" o "deve essere" soddisfatti in ordine per un documento toobe considerata una corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="71da3-155">Operators associated with a subquery determine whether hello query "must be" or "should be" satisfied in order for a document toobe considered a match.</span></span> <span data-ttu-id="71da3-156">Ad esempio, `+"Ocean view"` "deve" toohello scadenza `+` operatore.</span><span class="sxs-lookup"><span data-stu-id="71da3-156">For example, `+"Ocean view"` is "must" due toohello `+` operator.</span></span> 

<span data-ttu-id="71da3-157">parser di query Hello Ristruttura sottoquery hello in un *della struttura della query* (una struttura interna che rappresenta la query hello) passa nel motore di ricerca toohello.</span><span class="sxs-lookup"><span data-stu-id="71da3-157">hello query parser restructures hello subqueries into a *query tree* (an internal structure representing hello query) it passes on toohello search engine.</span></span> <span data-ttu-id="71da3-158">Nella prima fase hello di query di analisi, la struttura della query hello è simile al seguente.</span><span class="sxs-lookup"><span data-stu-id="71da3-158">In hello first stage of query parsing, hello query tree looks like this.</span></span>  

 ![Boolean query searchmode any][2]

### <a name="supported-parsers-simple-and-full-lucene"></a><span data-ttu-id="71da3-160">Parser supportati: Lucene semplice e completa</span><span class="sxs-lookup"><span data-stu-id="71da3-160">Supported parsers: Simple and Full Lucene</span></span> 

 <span data-ttu-id="71da3-161">La Ricerca di Azure espone due diversi linguaggi di query, `simple` (impostazione predefinita) e `full`.</span><span class="sxs-lookup"><span data-stu-id="71da3-161">Azure Search exposes two different query languages, `simple` (default) and `full`.</span></span> <span data-ttu-id="71da3-162">Per impostazione hello `queryType` parametro con la richiesta di ricerca, comunicare hello query parser del linguaggio di query si sceglie in modo che rilevi come toointerpret hello operatori e sintassi.</span><span class="sxs-lookup"><span data-stu-id="71da3-162">By setting hello `queryType` parameter with your search request, you tell hello query parser which query language you choose so that it knows how toointerpret hello operators and syntax.</span></span> <span data-ttu-id="71da3-163">Hello [lingua query semplice](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) è intuitiva e potente, l'input dell'utente toointerpret spesso adatto come-senza elaborazione sul lato client.</span><span class="sxs-lookup"><span data-stu-id="71da3-163">hello [Simple query langauge](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) is intuitive and robust, often suitable toointerpret user input as-is without client-side processing.</span></span> <span data-ttu-id="71da3-164">Supporta operatori di query familiari dai motori di ricerca Web.</span><span class="sxs-lookup"><span data-stu-id="71da3-164">It supports query operators familiar from web search engines.</span></span> <span data-ttu-id="71da3-165">Hello [il linguaggio di query completo Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), che si ottiene impostando `queryType=full`, estende il linguaggio di query semplice hello predefinito aggiungendo supporto per più operatori e tipi di query come carattere jolly, fuzzy regex e le query con ambito di campo.</span><span class="sxs-lookup"><span data-stu-id="71da3-165">hello [Full Lucene query language](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), which you get by setting `queryType=full`, extends hello default Simple query language by adding support for more operators and query types like wildcard, fuzzy, regex, and field-scoped queries.</span></span> <span data-ttu-id="71da3-166">Ad esempio, un'espressione regolare inviata nella sintassi di query semplice verrebbe interpretata come una stringa di query e non come un'espressione.</span><span class="sxs-lookup"><span data-stu-id="71da3-166">For example, a regular expression sent in Simple query syntax would be interpreted as a query string and not an expression.</span></span> <span data-ttu-id="71da3-167">richiesta di esempio Hello in questo articolo viene utilizzato il linguaggio di query completo Lucene hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-167">hello example request in this article uses hello Full Lucene query language.</span></span>

### <a name="impact-of-searchmode-on-hello-parser"></a><span data-ttu-id="71da3-168">Impatto di searchMode nel parser hello</span><span class="sxs-lookup"><span data-stu-id="71da3-168">Impact of searchMode on hello parser</span></span> 

<span data-ttu-id="71da3-169">Un altro parametro di richiesta di ricerca che interessa l'analisi è hello `searchMode` parametro.</span><span class="sxs-lookup"><span data-stu-id="71da3-169">Another search request parameter that affects parsing is hello `searchMode` parameter.</span></span> <span data-ttu-id="71da3-170">Controlla l'operatore predefinito hello per le query booleane: qualsiasi (impostazione predefinita) o tutti.</span><span class="sxs-lookup"><span data-stu-id="71da3-170">It controls hello default operator for Boolean queries: any (default) or all.</span></span>  

<span data-ttu-id="71da3-171">Quando `searchMode=any`, ovvero hello spazio delimitatore spazioso predefinita hello e air-condition è o (`||`), rendendo equivalente al testo di query di esempio hello:</span><span class="sxs-lookup"><span data-stu-id="71da3-171">When `searchMode=any`, which is hello default, hello space delimiter between spacious and air-condition is OR (`||`), making hello sample query text equivalent to:</span></span> 

~~~~
Spacious,||air-condition*+"Ocean view" 
~~~~

<span data-ttu-id="71da3-172">Gli operatori espliciti, ad esempio `+` in `+"Ocean view"`, non sono ambigui nella costruzione delle query booleano (termine hello *deve* corrispondono).</span><span class="sxs-lookup"><span data-stu-id="71da3-172">Explicit operators, such as `+` in `+"Ocean view"`, are unambiguous in boolean query construction (hello term *must* match).</span></span> <span data-ttu-id="71da3-173">È meno ovvio come condizioni di hello toointerpret rimanenti: spazioso e air-condition.</span><span class="sxs-lookup"><span data-stu-id="71da3-173">Less obvious is how toointerpret hello remaining terms: spacious and air-condition.</span></span> <span data-ttu-id="71da3-174">Dovrebbe motore di ricerca hello trovare corrispondenze nella vista sull'Oceano *e* spazioso *e* air-condition?</span><span class="sxs-lookup"><span data-stu-id="71da3-174">Should hello search engine find matches on ocean view *and* spacious *and* air-condition?</span></span> <span data-ttu-id="71da3-175">O deve trovare vista sull'Oceano più *uno* di hello rimanenti condizioni?</span><span class="sxs-lookup"><span data-stu-id="71da3-175">Or should it find ocean view plus *either one* of hello remaining terms?</span></span> 

<span data-ttu-id="71da3-176">Per impostazione predefinita (`searchMode=any`), il motore di ricerca hello presuppone l'interpretazione di più ampia di hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-176">By default (`searchMode=any`), hello search engine assumes hello broader interpretation.</span></span> <span data-ttu-id="71da3-177">Uno dei campi *dovrebbe* essere associato, riflettendo la semantica di "or".</span><span class="sxs-lookup"><span data-stu-id="71da3-177">Either field *should* be matched, reflecting "or" semantics.</span></span> <span data-ttu-id="71da3-178">struttura ad albero di query iniziale Hello illustrato in precedenza, con hello due operazioni "deve", Mostra hello predefinito.</span><span class="sxs-lookup"><span data-stu-id="71da3-178">hello initial query tree illustrated previously, with hello two "should" operations, shows hello default.</span></span>  

<span data-ttu-id="71da3-179">Si supponga che abbiamo ora impostato `searchMode=all`.</span><span class="sxs-lookup"><span data-stu-id="71da3-179">Suppose that we now set `searchMode=all`.</span></span> <span data-ttu-id="71da3-180">In questo caso, lo spazio di hello viene interpretato come un'operazione "e".</span><span class="sxs-lookup"><span data-stu-id="71da3-180">In this case, hello space is interpreted as an "and" operation.</span></span> <span data-ttu-id="71da3-181">Ognuna delle condizioni rimanenti hello devono essere entrambi presente in hello documento tooqualify come una corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="71da3-181">Each of hello remaining terms must both be present in hello document tooqualify as a match.</span></span> <span data-ttu-id="71da3-182">query di esempio risultante Hello verrebbe interpretato come segue:</span><span class="sxs-lookup"><span data-stu-id="71da3-182">hello resulting sample query would be interpreted as follows:</span></span> 

~~~~
+Spacious,+air-condition*+"Ocean view"  
~~~~

<span data-ttu-id="71da3-183">Una struttura ad albero di query modificata per la query sarà come segue, in cui un documento corrispondente è l'intersezione di hello di tutti e tre le sottoquery:</span><span class="sxs-lookup"><span data-stu-id="71da3-183">A modified query tree for this query would be as follows, where a matching document is hello intersection of all three subqueries:</span></span> 

 ![Boolean query searchmode all][3]

> [!Note] 
> <span data-ttu-id="71da3-185">La scelta `searchMode=any` rispetto a `searchMode=all` è una scelta migliore a cui si arriva eseguendo le query rappresentative.</span><span class="sxs-lookup"><span data-stu-id="71da3-185">Choosing `searchMode=any` over `searchMode=all` is a decision best arrived at by running representative queries.</span></span> <span data-ttu-id="71da3-186">Gli utenti che sono probabilmente tooinclude operatori (comune quando si archivia il documento di ricerca) può risultare risultati più intuitiva se `searchMode=all` informa i costrutti delle query booleano.</span><span class="sxs-lookup"><span data-stu-id="71da3-186">Users who are likely tooinclude operators (common when searching document stores) might find results more intuitive if `searchMode=all` informs boolean query constructs.</span></span> <span data-ttu-id="71da3-187">Per ulteriori informazioni sull'interazione di hello tra `searchMode` e operatori, vedere [semplice sintassi di query](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span><span class="sxs-lookup"><span data-stu-id="71da3-187">For more about hello interplay between `searchMode` and operators, see [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span></span>

<a name="stage2"></a>
## <a name="stage-2-lexical-analysis"></a><span data-ttu-id="71da3-188">Fase 2: Analisi lessicale</span><span class="sxs-lookup"><span data-stu-id="71da3-188">Stage 2: Lexical analysis</span></span> 

<span data-ttu-id="71da3-189">Processo analizzatori lessicali *termini query* e *una frase query* dopo hello query albero.</span><span class="sxs-lookup"><span data-stu-id="71da3-189">Lexical analyzers process *term queries* and *phrase queries* after hello query tree is structured.</span></span> <span data-ttu-id="71da3-190">Un analizzatore accetta hello tooit dato di input di testo dal parser hello processi hello testo e quindi invia di nuovo in formato token termini toobe incorporato in hello della struttura della query.</span><span class="sxs-lookup"><span data-stu-id="71da3-190">An analyzer accepts hello text inputs given tooit by hello parser, processes hello text, and then sends back tokenized terms toobe incorporated into hello query tree.</span></span> 

<span data-ttu-id="71da3-191">Hello form più comuni di analisi lessicale è *l'analisi linguistica* che consente di trasformare i termini di query in base a tooa specifico di regole specificato linguaggio:</span><span class="sxs-lookup"><span data-stu-id="71da3-191">hello most common form of lexical analysis is *linguistic analysis* which transforms query terms based on rules specific tooa given language:</span></span> 

* <span data-ttu-id="71da3-192">La riduzione di un modulo di query termine toohello radice di una parola</span><span class="sxs-lookup"><span data-stu-id="71da3-192">Reducing a query term toohello root form of a word</span></span> 
* <span data-ttu-id="71da3-193">Rimozione di parole non essenziali (parole non significative, ad esempio "the" o "and" in inglese)</span><span class="sxs-lookup"><span data-stu-id="71da3-193">Removing non-essential words (stopwords, such as "the" or "and" in English)</span></span> 
* <span data-ttu-id="71da3-194">Suddivisione di una parola composta nelle parti che la compongono</span><span class="sxs-lookup"><span data-stu-id="71da3-194">Breaking a composite word into component parts</span></span> 
* <span data-ttu-id="71da3-195">Trasformazione in lettere minuscole di una parola in lettere maiuscole</span><span class="sxs-lookup"><span data-stu-id="71da3-195">Lower casing an upper case word</span></span> 

<span data-ttu-id="71da3-196">Tutte queste operazioni tendono tooerase differenze tra l'input di testo hello fornito dai termini hello hello e utente, archiviati nell'indice hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-196">All of these operations tend tooerase differences between hello text input provided by hello user and hello terms stored in hello index.</span></span> <span data-ttu-id="71da3-197">Tali operazioni superano l'elaborazione del testo e richiedono una conoscenza approfondita del linguaggio hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-197">Such operations go beyond text processing and require in-depth knowledge of hello language itself.</span></span> <span data-ttu-id="71da3-198">tooadd questo livello di compatibilità linguistico, ricerca di Azure supporta un lungo elenco di [gli analizzatori del linguaggio](https://docs.microsoft.com/rest/api/searchservice/language-support) da Lucene e Microsoft.</span><span class="sxs-lookup"><span data-stu-id="71da3-198">tooadd this layer of linguistic awareness, Azure Search supports a long list of [language analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support) from both Lucene and Microsoft.</span></span>

> [!Note]
> <span data-ttu-id="71da3-199">Requisiti per l'analisi può variare da tooelaborate minimo a seconda dello scenario.</span><span class="sxs-lookup"><span data-stu-id="71da3-199">Analysis requirements can range from minimal tooelaborate depending on your scenario.</span></span> <span data-ttu-id="71da3-200">È possibile controllare la complessità dell'analisi lessicale hello selezionando una delle analizzatori hello predefinita o creando un proprio [analizzatore personalizzato](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span><span class="sxs-lookup"><span data-stu-id="71da3-200">You can control complexity of lexical analysis by hello selecting one of hello predefined analyzers or by creating your own [custom analyzer](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span></span> <span data-ttu-id="71da3-201">Gli analizzatori sono campi toosearchable con ambito e vengono specificati come parte di una definizione di campo.</span><span class="sxs-lookup"><span data-stu-id="71da3-201">Analyzers are scoped toosearchable fields and are specified as part of a field definition.</span></span> <span data-ttu-id="71da3-202">In questo modo si analisi lessicale toovary in base al campo.</span><span class="sxs-lookup"><span data-stu-id="71da3-202">This allows you toovary lexical analysis on a per-field basis.</span></span> <span data-ttu-id="71da3-203">Non viene specificato, hello *standard* analizzatore Lucene viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="71da3-203">Unspecified, hello *standard* Lucene analyzer is used.</span></span>

<span data-ttu-id="71da3-204">Nell'esempio precedente tooanalysis, una virgola che hello parser di query vengono interpretati come parte del termine della query hello (una virgola non viene considerata un operatore di query language) dell'albero di query iniziale hello ha termine hello "Spacious", con una "S" maiuscola.</span><span class="sxs-lookup"><span data-stu-id="71da3-204">In our example, prior tooanalysis, hello initial query tree has hello term "Spacious," with an uppercase "S" and a comma that hello query parser interprets as a part of hello query term (a comma is not considered a query language operator).</span></span>  

<span data-ttu-id="71da3-205">Quando l'analizzatore predefinito hello elabora termine hello, verrà minuscolo "Vista sull'Oceano" e "spazioso" e rimuovere carattere virgola hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-205">When hello default analyzer processes hello term, it will lowercase "ocean view" and "spacious", and remove hello comma character.</span></span> <span data-ttu-id="71da3-206">Struttura query modificata Hello apparirà come segue:</span><span class="sxs-lookup"><span data-stu-id="71da3-206">hello modified query tree will look as follows:</span></span> 

 ![Query booleana con termini analizzati][4]

### <a name="testing-analyzer-behaviors"></a><span data-ttu-id="71da3-208">Comportamenti dell'analizzatore del test</span><span class="sxs-lookup"><span data-stu-id="71da3-208">Testing analyzer behaviors</span></span> 

<span data-ttu-id="71da3-209">comportamento di Hello di un analizzatore può essere testato usando hello [analizzare API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span><span class="sxs-lookup"><span data-stu-id="71da3-209">hello behavior of an analyzer can be tested using hello [Analyze API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span></span> <span data-ttu-id="71da3-210">Fornire testo hello da tooanalyze toosee genererà i termini dato analyzer.</span><span class="sxs-lookup"><span data-stu-id="71da3-210">Provide hello text you want tooanalyze toosee what terms given analyzer will generate.</span></span> <span data-ttu-id="71da3-211">Ad esempio, toosee elabora come analizzatore standard hello hello testo "air-condition", è possibile emettere hello seguito richiesta:</span><span class="sxs-lookup"><span data-stu-id="71da3-211">For example, toosee how hello standard analyzer would process hello text "air-condition", you can issue hello following request:</span></span>

~~~~
{ 
    "text": "air-condition",
    "analyzer": "standard"
}
~~~~

<span data-ttu-id="71da3-212">analizzatore standard Hello suddivide il testo di input hello in hello due token, li annotazione con attributi quali iniziale e offset finale (utilizzato per l'evidenziazione dei riscontri), nonché la loro posizione (utilizzato per la corrispondenza di una frase) seguenti:</span><span class="sxs-lookup"><span data-stu-id="71da3-212">hello standard analyzer breaks hello input text into hello following two tokens, annotating them with attributes like start and end offsets (used for hit highlighting) as well as their position (used for phrase matching):</span></span>

~~~~
{  
  "tokens": [
    {
      "token": "air",
      "startOffset": 0,
      "endOffset": 3,
      "position": 0
    },
    {
      "token": "condition",
      "startOffset": 4,
      "endOffset": 13,
      "position": 1
    }
  ]
}
~~~~

### <a name="exceptions-toolexical-analysis"></a><span data-ttu-id="71da3-213">Analisi toolexical eccezioni</span><span class="sxs-lookup"><span data-stu-id="71da3-213">Exceptions toolexical analysis</span></span> 

<span data-ttu-id="71da3-214">Analisi lessicale applicano tooquery solo i tipi che richiedono i termini, una query di termine o una query di una frase.</span><span class="sxs-lookup"><span data-stu-id="71da3-214">Lexical analysis applies only tooquery types that require complete terms – either a term query or a phrase query.</span></span> <span data-ttu-id="71da3-215">Tipi di tooquery con termini incompleti: query di prefisso, la query con caratteri jolly, query regex – o tooa fuzzy query non è applicabile.</span><span class="sxs-lookup"><span data-stu-id="71da3-215">It doesn’t apply tooquery types with incomplete terms – prefix query, wildcard query, regex query – or tooa fuzzy query.</span></span> <span data-ttu-id="71da3-216">Tali tipi, tra cui query prefisso hello con termini di query *air-condition\**  in questo esempio, vengono aggiunti direttamente sui toohello albero della query, ignorando fase di analisi hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-216">Those query types, including hello prefix query with term *air-condition\** in our example, are added directly toohello query tree, bypassing hello analysis stage.</span></span> <span data-ttu-id="71da3-217">Hello solo trasformazione eseguita in base alle esigenze di questi tipi di query è minuscola.</span><span class="sxs-lookup"><span data-stu-id="71da3-217">hello only transformation performed on query terms of those types is lowercasing.</span></span>

<a name="stage3"></a>
## <a name="stage-3-document-retrieval"></a><span data-ttu-id="71da3-218">Fase 3: Recupero dei documenti</span><span class="sxs-lookup"><span data-stu-id="71da3-218">Stage 3: Document retrieval</span></span> 

<span data-ttu-id="71da3-219">Il recupero di documento fa riferimento toofinding documenti con i termini corrispondenti nell'indice hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-219">Document retrieval refers toofinding documents with matching terms in hello index.</span></span> <span data-ttu-id="71da3-220">Questa fase viene spiegata meglio attraverso un esempio.</span><span class="sxs-lookup"><span data-stu-id="71da3-220">This stage is understood best through an example.</span></span> <span data-ttu-id="71da3-221">Iniziamo con un indice gli alberghi con hello segue uno schema semplice:</span><span class="sxs-lookup"><span data-stu-id="71da3-221">Let's start with a hotels index having hello following simple schema:</span></span> 

~~~~
{   
    "name": "hotels",     
    "fields": [     
        { "name": "id", "type": "Edm.String", "key": true, "searchable": false },     
        { "name": "title", "type": "Edm.String", "searchable": true },     
        { "name": "description", "type": "Edm.String", "searchable": true }
    ] 
} 
~~~~

<span data-ttu-id="71da3-222">Si supponga inoltre che l'indice contiene hello quattro documenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="71da3-222">Further assume that this index contains hello following four documents:</span></span> 

~~~~
{ 
    "value": [
        {         
            "id": "1",         
            "title": "Hotel Atman",         
            "description": "Spacious rooms, ocean view, walking distance toohello beach."   
        },       
        {         
            "id": "2",         
            "title": "Beach Resort",        
            "description": "Located on hello north shore of hello island of Kauaʻi. Ocean view."     
        },       
        {         
            "id": "3",         
            "title": "Playa Hotel",         
            "description": "Comfortable, air-conditioned rooms with ocean view."
        },       
        {         
            "id": "4",         
            "title": "Ocean Retreat",         
            "description": "Quiet and secluded"
        }    
    ]
}
~~~~

<span data-ttu-id="71da3-223">**Come vengono indicizzati termini**</span><span class="sxs-lookup"><span data-stu-id="71da3-223">**How terms are indexed**</span></span>

<span data-ttu-id="71da3-224">recupero di toounderstand, è utile tooknow alcune nozioni fondamentali per l'indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="71da3-224">toounderstand retrieval, it helps tooknow a few basics about indexing.</span></span> <span data-ttu-id="71da3-225">unità di Hello di archiviazione è un indice invertito, uno per ogni campo di ricerca.</span><span class="sxs-lookup"><span data-stu-id="71da3-225">hello unit of storage is an inverted index, one for each searchable field.</span></span> <span data-ttu-id="71da3-226">In un indice invertito è presente un elenco ordinato di tutti i termini derivanti da tutti i documenti.</span><span class="sxs-lookup"><span data-stu-id="71da3-226">Within an inverted index is a sorted list of all terms from all documents.</span></span> <span data-ttu-id="71da3-227">Esegue il mapping di ogni termine toohello elenco di documenti in cui si verifica, come è evidente nel seguente esempio hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-227">Each term maps toohello list of documents in which it occurs, as evident in hello example below.</span></span>

<span data-ttu-id="71da3-228">condizioni di hello tooproduce in un indice invertito, il motore di ricerca di hello esegue analisi lessicale sul contenuto dei documenti, hello toowhat simile si verifica durante l'elaborazione delle query.</span><span class="sxs-lookup"><span data-stu-id="71da3-228">tooproduce hello terms in an inverted index, hello search engine performs lexical analysis over hello content of documents, similar toowhat happens during query processing.</span></span> <span data-ttu-id="71da3-229">Input di testo vengono passati tooan analyzer in minuscolo, prive di punteggiatura e così via, a seconda della configurazione dell'analizzatore hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-229">Text inputs are passed tooan analyzer, lower-cased, stripped of punctuation, and so forth, depending on hello analyzer configuration.</span></span> <span data-ttu-id="71da3-230">È comune, ma non obbligatorio, toouse hello stesso analizzatori per la ricerca e le operazioni di indicizzazione in modo che i termini di query somigliare più ad termini all'interno dell'indice hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-230">It's common, but not required, toouse hello same analyzers for search and indexing operations so that query terms look more like terms inside hello index.</span></span>

> [!Note]
> <span data-ttu-id="71da3-231">Ricerca di Azure consente di specificare diversi analizzatori per l'indicizzazione e la ricerca tramite parametri di campo aggiuntivi `indexAnalyzer` e `searchAnalyzer`.</span><span class="sxs-lookup"><span data-stu-id="71da3-231">Azure Search lets you specify different analyzers for indexing and search via additional `indexAnalyzer` and `searchAnalyzer` field parameters.</span></span> <span data-ttu-id="71da3-232">Se non viene specificato, hello analyzer impostata con hello `analyzer` proprietà viene utilizzata per l'indicizzazione e ricerca.</span><span class="sxs-lookup"><span data-stu-id="71da3-232">If unspecified, hello analyzer set with hello `analyzer` property is used for both indexing and searching.</span></span>  

<span data-ttu-id="71da3-233">**Indice invertito per i documenti di esempio**</span><span class="sxs-lookup"><span data-stu-id="71da3-233">**Inverted index for example documents**</span></span>

<span data-ttu-id="71da3-234">Restituzione tooour, ad esempio, hello **titolo** campo indice invertito hello è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="71da3-234">Returning tooour example, for hello **title** field, hello inverted index looks like this:</span></span>

| <span data-ttu-id="71da3-235">Termine</span><span class="sxs-lookup"><span data-stu-id="71da3-235">Term</span></span> | <span data-ttu-id="71da3-236">Elenco di documenti</span><span class="sxs-lookup"><span data-stu-id="71da3-236">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="71da3-237">atman</span><span class="sxs-lookup"><span data-stu-id="71da3-237">atman</span></span> | <span data-ttu-id="71da3-238">1</span><span class="sxs-lookup"><span data-stu-id="71da3-238">1</span></span> |
| <span data-ttu-id="71da3-239">spiaggia</span><span class="sxs-lookup"><span data-stu-id="71da3-239">beach</span></span> | <span data-ttu-id="71da3-240">2</span><span class="sxs-lookup"><span data-stu-id="71da3-240">2</span></span> |
| <span data-ttu-id="71da3-241">hotel</span><span class="sxs-lookup"><span data-stu-id="71da3-241">hotel</span></span> | <span data-ttu-id="71da3-242">1, 3</span><span class="sxs-lookup"><span data-stu-id="71da3-242">1, 3</span></span> |
| <span data-ttu-id="71da3-243">oceano</span><span class="sxs-lookup"><span data-stu-id="71da3-243">ocean</span></span> | <span data-ttu-id="71da3-244">4</span><span class="sxs-lookup"><span data-stu-id="71da3-244">4</span></span>  |
| <span data-ttu-id="71da3-245">playa</span><span class="sxs-lookup"><span data-stu-id="71da3-245">playa</span></span> | <span data-ttu-id="71da3-246">3</span><span class="sxs-lookup"><span data-stu-id="71da3-246">3</span></span> |
| <span data-ttu-id="71da3-247">resort</span><span class="sxs-lookup"><span data-stu-id="71da3-247">resort</span></span> | <span data-ttu-id="71da3-248">3</span><span class="sxs-lookup"><span data-stu-id="71da3-248">3</span></span> |
| <span data-ttu-id="71da3-249">rifugio</span><span class="sxs-lookup"><span data-stu-id="71da3-249">retreat</span></span> | <span data-ttu-id="71da3-250">4</span><span class="sxs-lookup"><span data-stu-id="71da3-250">4</span></span> |

<span data-ttu-id="71da3-251">Nel campo titolo hello, solo *hotel* viene visualizzato in due documenti: 1, 3.</span><span class="sxs-lookup"><span data-stu-id="71da3-251">In hello title field, only *hotel* shows up in two documents: 1, 3.</span></span>

<span data-ttu-id="71da3-252">Per hello **descrizione** campo indice hello è come segue:</span><span class="sxs-lookup"><span data-stu-id="71da3-252">For hello **description** field, hello index is as follows:</span></span>

| <span data-ttu-id="71da3-253">Termine</span><span class="sxs-lookup"><span data-stu-id="71da3-253">Term</span></span> | <span data-ttu-id="71da3-254">Elenco di documenti</span><span class="sxs-lookup"><span data-stu-id="71da3-254">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="71da3-255">aria</span><span class="sxs-lookup"><span data-stu-id="71da3-255">air</span></span> | <span data-ttu-id="71da3-256">3</span><span class="sxs-lookup"><span data-stu-id="71da3-256">3</span></span>
| <span data-ttu-id="71da3-257">e</span><span class="sxs-lookup"><span data-stu-id="71da3-257">and</span></span> | <span data-ttu-id="71da3-258">4</span><span class="sxs-lookup"><span data-stu-id="71da3-258">4</span></span>
| <span data-ttu-id="71da3-259">spiaggia</span><span class="sxs-lookup"><span data-stu-id="71da3-259">beach</span></span> | <span data-ttu-id="71da3-260">1</span><span class="sxs-lookup"><span data-stu-id="71da3-260">1</span></span>
| <span data-ttu-id="71da3-261">condizionata</span><span class="sxs-lookup"><span data-stu-id="71da3-261">conditioned</span></span> | <span data-ttu-id="71da3-262">3</span><span class="sxs-lookup"><span data-stu-id="71da3-262">3</span></span>
| <span data-ttu-id="71da3-263">comodo</span><span class="sxs-lookup"><span data-stu-id="71da3-263">comfortable</span></span> | <span data-ttu-id="71da3-264">3</span><span class="sxs-lookup"><span data-stu-id="71da3-264">3</span></span>
| <span data-ttu-id="71da3-265">distance</span><span class="sxs-lookup"><span data-stu-id="71da3-265">distance</span></span> | <span data-ttu-id="71da3-266">1</span><span class="sxs-lookup"><span data-stu-id="71da3-266">1</span></span>
| <span data-ttu-id="71da3-267">isola</span><span class="sxs-lookup"><span data-stu-id="71da3-267">island</span></span> | <span data-ttu-id="71da3-268">2</span><span class="sxs-lookup"><span data-stu-id="71da3-268">2</span></span>
| <span data-ttu-id="71da3-269">kauaʻi</span><span class="sxs-lookup"><span data-stu-id="71da3-269">kauaʻi</span></span> | <span data-ttu-id="71da3-270">2</span><span class="sxs-lookup"><span data-stu-id="71da3-270">2</span></span>
| <span data-ttu-id="71da3-271">posizionato</span><span class="sxs-lookup"><span data-stu-id="71da3-271">located</span></span> | <span data-ttu-id="71da3-272">2</span><span class="sxs-lookup"><span data-stu-id="71da3-272">2</span></span>
| <span data-ttu-id="71da3-273">nord</span><span class="sxs-lookup"><span data-stu-id="71da3-273">north</span></span> | <span data-ttu-id="71da3-274">2</span><span class="sxs-lookup"><span data-stu-id="71da3-274">2</span></span>
| <span data-ttu-id="71da3-275">oceano</span><span class="sxs-lookup"><span data-stu-id="71da3-275">ocean</span></span> | <span data-ttu-id="71da3-276">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="71da3-276">1, 2, 3</span></span>
| <span data-ttu-id="71da3-277">di</span><span class="sxs-lookup"><span data-stu-id="71da3-277">of</span></span> | <span data-ttu-id="71da3-278">2</span><span class="sxs-lookup"><span data-stu-id="71da3-278">2</span></span>
| <span data-ttu-id="71da3-279">in</span><span class="sxs-lookup"><span data-stu-id="71da3-279">on</span></span> |<span data-ttu-id="71da3-280">2</span><span class="sxs-lookup"><span data-stu-id="71da3-280">2</span></span>
| <span data-ttu-id="71da3-281">tranquillo</span><span class="sxs-lookup"><span data-stu-id="71da3-281">quiet</span></span> | <span data-ttu-id="71da3-282">4</span><span class="sxs-lookup"><span data-stu-id="71da3-282">4</span></span>
| <span data-ttu-id="71da3-283">camere</span><span class="sxs-lookup"><span data-stu-id="71da3-283">rooms</span></span>  | <span data-ttu-id="71da3-284">1, 3</span><span class="sxs-lookup"><span data-stu-id="71da3-284">1, 3</span></span>
| <span data-ttu-id="71da3-285">appartato</span><span class="sxs-lookup"><span data-stu-id="71da3-285">secluded</span></span> | <span data-ttu-id="71da3-286">4</span><span class="sxs-lookup"><span data-stu-id="71da3-286">4</span></span>
| <span data-ttu-id="71da3-287">costa</span><span class="sxs-lookup"><span data-stu-id="71da3-287">shore</span></span> | <span data-ttu-id="71da3-288">2</span><span class="sxs-lookup"><span data-stu-id="71da3-288">2</span></span>
| <span data-ttu-id="71da3-289">spazioso</span><span class="sxs-lookup"><span data-stu-id="71da3-289">spacious</span></span> | <span data-ttu-id="71da3-290">1</span><span class="sxs-lookup"><span data-stu-id="71da3-290">1</span></span>
| <span data-ttu-id="71da3-291">Hello</span><span class="sxs-lookup"><span data-stu-id="71da3-291">hello</span></span> | <span data-ttu-id="71da3-292">1, 2</span><span class="sxs-lookup"><span data-stu-id="71da3-292">1, 2</span></span>
| <span data-ttu-id="71da3-293">Anche</span><span class="sxs-lookup"><span data-stu-id="71da3-293">too</span></span>| <span data-ttu-id="71da3-294">1</span><span class="sxs-lookup"><span data-stu-id="71da3-294">1</span></span>
| <span data-ttu-id="71da3-295">view</span><span class="sxs-lookup"><span data-stu-id="71da3-295">view</span></span> | <span data-ttu-id="71da3-296">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="71da3-296">1, 2, 3</span></span>
| <span data-ttu-id="71da3-297">passeggiata</span><span class="sxs-lookup"><span data-stu-id="71da3-297">walking</span></span> | <span data-ttu-id="71da3-298">1</span><span class="sxs-lookup"><span data-stu-id="71da3-298">1</span></span>
| <span data-ttu-id="71da3-299">con</span><span class="sxs-lookup"><span data-stu-id="71da3-299">with</span></span> | <span data-ttu-id="71da3-300">3</span><span class="sxs-lookup"><span data-stu-id="71da3-300">3</span></span>


<span data-ttu-id="71da3-301">**Corrispondenza dei termini di query con i termini indicizzati**</span><span class="sxs-lookup"><span data-stu-id="71da3-301">**Matching query terms against indexed terms**</span></span>

<span data-ttu-id="71da3-302">Indici invertito hello precedenti, verrà restituito nella query di esempio toohello provvisto di vedere documenti corrispondenti come vengono rilevati per la query di esempio.</span><span class="sxs-lookup"><span data-stu-id="71da3-302">Given hello inverted indices above, let’s return toohello sample query and see how matching documents are found for our example query.</span></span> <span data-ttu-id="71da3-303">Richiamare che tale struttura ad albero di query finale hello è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="71da3-303">Recall that hello final query tree looks like this:</span></span> 

 ![Query booleana con termini analizzati][4]

<span data-ttu-id="71da3-305">Durante l'esecuzione di query, le singole query vengono eseguite in campi ricercabili hello in modo indipendente.</span><span class="sxs-lookup"><span data-stu-id="71da3-305">During query execution, individual queries are executed against hello searchable fields independently.</span></span> 

+ <span data-ttu-id="71da3-306">Hello TermQuery "spazioso", corrisponde a 1 (Hotel Atman) di documento.</span><span class="sxs-lookup"><span data-stu-id="71da3-306">hello TermQuery, "spacious", matches document 1 (Hotel Atman).</span></span> 

+ <span data-ttu-id="71da3-307">Hello PrefixQuery, "air-condition *", non corrisponde a tutti i documenti.</span><span class="sxs-lookup"><span data-stu-id="71da3-307">hello PrefixQuery, "air-condition*", doesn't match any documents.</span></span> 

  <span data-ttu-id="71da3-308">Si tratta di un comportamento che a volte confonde gli sviluppatori.</span><span class="sxs-lookup"><span data-stu-id="71da3-308">This is a behavior that sometimes confuses developers.</span></span> <span data-ttu-id="71da3-309">Sebbene hello air-conditioned esiste nel documento hello, viene suddivisa in due termini dall'analizzatore di hello predefinito.</span><span class="sxs-lookup"><span data-stu-id="71da3-309">Although hello term air-conditioned exists in hello document, it is split into two terms by hello default analyzer.</span></span> <span data-ttu-id="71da3-310">È importante ricordare che le query di prefisso, che contengono termini parziali, non vengono analizzate.</span><span class="sxs-lookup"><span data-stu-id="71da3-310">Recall that prefix queries, which contain partial terms, are not analyzed.</span></span> <span data-ttu-id="71da3-311">Pertanto i termini con prefisso "air-condition" vengono ricercati in hello indice invertito e non trovato.</span><span class="sxs-lookup"><span data-stu-id="71da3-311">Therefore terms with prefix "air-condition" are looked up in hello inverted index and not found.</span></span>

+ <span data-ttu-id="71da3-312">Hello PhraseQuery "Vista sull'Oceano," Cerca termini hello "Oceano" e "visualizzazione" e verifica di prossimità hello delle condizioni nel documento originale hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-312">hello PhraseQuery, "ocean view", looks up hello terms "ocean" and "view" and checks hello proximity of terms in hello original document.</span></span> <span data-ttu-id="71da3-313">Documenti 1, 2 e 3 corrispondano alla query nel campo Descrizione hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-313">Documents 1, 2 and 3 match this query in hello description field.</span></span> <span data-ttu-id="71da3-314">Il documento di avviso 4 è Oceano termine hello nel titolo hello ma non è considerato una corrispondenza, come, stiamo cercando la frase "Vista sull'Oceano" hello, anziché a singole parole.</span><span class="sxs-lookup"><span data-stu-id="71da3-314">Notice document 4 has hello term ocean in hello title but isn’t considered a match, as we're looking for hello "ocean view" phrase rather than individual words.</span></span> 

> [!Note]
> <span data-ttu-id="71da3-315">Una query di ricerca viene eseguita in modo indipendente rispetto a tutti i campi ricercabili nell'indice di ricerca di Azure a meno che non si limita i campi di hello impostato con hello hello `searchFields` parametro, come illustrato nella richiesta di ricerca di esempio hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-315">A search query is executed independently against all searchable fields in hello Azure Search index unless you limit hello fields set with hello `searchFields` parameter, as illustrated in hello example search request.</span></span> <span data-ttu-id="71da3-316">Vengono restituiti i documenti che corrispondono in uno dei campi hello selezionato.</span><span class="sxs-lookup"><span data-stu-id="71da3-316">Documents that match in any of hello selected fields are returned.</span></span> 

<span data-ttu-id="71da3-317">In hello intero, per query hello in questione, documenti hello corrispondenti sono 1, 2, 3.</span><span class="sxs-lookup"><span data-stu-id="71da3-317">On hello whole, for hello query in question, hello documents that match are 1, 2, 3.</span></span> 

## <a name="stage-4-scoring"></a><span data-ttu-id="71da3-318">Fase 4: Assegnazione dei punteggi</span><span class="sxs-lookup"><span data-stu-id="71da3-318">Stage 4: Scoring</span></span>  

<span data-ttu-id="71da3-319">Ad ogni documento in un set di risultati di ricerca viene assegnato un punteggio di pertinenza.</span><span class="sxs-lookup"><span data-stu-id="71da3-319">Every document in a search result set is assigned a relevance score.</span></span> <span data-ttu-id="71da3-320">funzione Hello del punteggio di pertinenza hello è maggiore di tali documenti che meglio risposta a un utente di domanda espresse dalla query di ricerca hello toorank.</span><span class="sxs-lookup"><span data-stu-id="71da3-320">hello function of hello relevance score is toorank higher those documents that best answer a user question as expressed by hello search query.</span></span> <span data-ttu-id="71da3-321">Hello punteggio viene calcolato in base alle proprietà statistiche dei termini corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="71da3-321">hello score is computed based on statistical properties of terms that matched.</span></span> <span data-ttu-id="71da3-322">Componenti di base di hello punteggio formula hello è [TF/IDF (frequenza di termini documento frequenza inverso)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span><span class="sxs-lookup"><span data-stu-id="71da3-322">At hello core of hello scoring formula is [TF/IDF (term frequency-inverse document frequency)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span></span> <span data-ttu-id="71da3-323">Nelle query che contiene termini comuni e rari, TF/IDF Alza di livello risultati contenenti termini rari hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-323">In queries containing rare and common terms, TF/IDF promotes results containing hello rare term.</span></span> <span data-ttu-id="71da3-324">Ad esempio in un indice ipotetico con tutti gli articoli di Wikipedia, documenti query hello corrispondente da *presidente hello*, documenti corrispondenza *presidente* sono considerati più pertinenti di ricerca in documenti *il*.</span><span class="sxs-lookup"><span data-stu-id="71da3-324">For example, in a hypothetical index with all Wikipedia articles, from documents that matched hello query *hello president*, documents matching on *president* are considered more relevant than documents matching on *the*.</span></span>


### <a name="scoring-example"></a><span data-ttu-id="71da3-325">Esempio di assegnazione dei punteggi</span><span class="sxs-lookup"><span data-stu-id="71da3-325">Scoring example</span></span>

<span data-ttu-id="71da3-326">Richiamo hello tre documenti che soddisfano la query di esempio:</span><span class="sxs-lookup"><span data-stu-id="71da3-326">Recall hello three documents that matched our example query:</span></span>
~~~~
search=Spacious, air-condition* +"Ocean view"  
~~~~
~~~~
{  
  "value": [
    {
      "@search.score": 0.25610128,
      "id": "1",
      "title": "Hotel Atman",
      "description": "Spacious rooms, ocean view, walking distance toohello beach."
    },
    {
      "@search.score": 0.08951007,
      "id": "3",
      "title": "Playa Hotel",
      "description": "Comfortable, air-conditioned rooms with ocean view."
    },
    {
      "@search.score": 0.05967338,
      "id": "2",
      "title": "Ocean Resort",
      "description": "Located on a cliff on hello north shore of hello island of Kauai. Ocean view."
    }
  ]
}
~~~~

<span data-ttu-id="71da3-327">Documentare meglio 1 query hello corrispondente perché entrambi hello termine *spazioso* e frase obbligatorio hello *vista sull'Oceano* si verificano nel campo Descrizione hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-327">Document 1 matched hello query best because both hello term *spacious* and hello required phrase *ocean view* occur in hello description field.</span></span> <span data-ttu-id="71da3-328">Hello due documenti che corrispondono solo la frase hello *vista sull'Oceano*.</span><span class="sxs-lookup"><span data-stu-id="71da3-328">hello next two documents match only hello phrase *ocean view*.</span></span> <span data-ttu-id="71da3-329">Potrebbe sorprendere il punteggio di pertinenza hello per documento 2 e 3 è diversa, anche se di corrispondenza con query hello in hello allo stesso modo.</span><span class="sxs-lookup"><span data-stu-id="71da3-329">It might be surprising that hello relevance score for document 2 and 3 is different even though they matched hello query in hello same way.</span></span> <span data-ttu-id="71da3-330">Infatti hello punteggio formula include più componenti appena TF/IDF.</span><span class="sxs-lookup"><span data-stu-id="71da3-330">It's because hello scoring formula has more components than just TF/IDF.</span></span> <span data-ttu-id="71da3-331">In questo caso al documento 3 è stato assegnato un punteggio leggermente maggiore perché la sua descrizione è più breve.</span><span class="sxs-lookup"><span data-stu-id="71da3-331">In this case, document 3 was assigned a slightly higher score because its description is shorter.</span></span> <span data-ttu-id="71da3-332">Informazioni su [Lucene pratiche di punteggio Formula](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand come lunghezza del campo e altri fattori possono incidere sui hello punteggio di pertinenza.</span><span class="sxs-lookup"><span data-stu-id="71da3-332">Learn about [Lucene's Practical Scoring Formula](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand how field length and other factors can influence hello relevance score.</span></span>

<span data-ttu-id="71da3-333">Per alcune query di tipo (carattere jolly, prefisso, regex) contribuiscono sempre un costante punteggio complessivo toohello punteggio dei documenti.</span><span class="sxs-lookup"><span data-stu-id="71da3-333">Some query types (wildcard, prefix, regex) always contribute a constant score toohello overall document score.</span></span> <span data-ttu-id="71da3-334">In questo modo corrispondenze trovate tramite query espansione toobe inclusi nei risultati di hello, ma senza influire sul calcolo della pertinenza hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-334">This allows matches found through query expansion toobe included in hello results, but without affecting hello ranking.</span></span> 

<span data-ttu-id="71da3-335">Un esempio illustra il motivo per cui questo risulta importante.</span><span class="sxs-lookup"><span data-stu-id="71da3-335">An example illustrates why this matters.</span></span> <span data-ttu-id="71da3-336">Ricerche con caratteri jolly, tra cui ricerche con prefisso, sono ambigue per definizione perché hello input è una stringa parziale con le eventuali corrispondenze in un numero molto elevato di termini diversi (prendere in considerazione un input di "Panoramica *", con corrispondenze trovate in "demo", "tourettes", e " tourmaline").</span><span class="sxs-lookup"><span data-stu-id="71da3-336">Wildcard searches, including prefix searches, are ambiguous by definition because hello input is a partial string with potential matches on a very large number of disparate terms (consider an input of "tour*", with matches found on “tours”, “tourettes”, and “tourmaline”).</span></span> <span data-ttu-id="71da3-337">Data la natura hello di questi risultati, non è possibile dedurre tooreasonably quali termini sono più utili rispetto ad altri.</span><span class="sxs-lookup"><span data-stu-id="71da3-337">Given hello nature of these results, there is no way tooreasonably infer which terms are more valuable than others.</span></span> <span data-ttu-id="71da3-338">Per questo motivo, verranno ignorate le frequenze di termini durante l'assegnazione dei punteggi dei risultati nelle query di tipo con caratteri jolly, prefisso e regex.</span><span class="sxs-lookup"><span data-stu-id="71da3-338">For this reason, we ignore term frequencies when scoring results in queries of types wildcard, prefix and regex.</span></span> <span data-ttu-id="71da3-339">In una richiesta di ricerca più parti che contiene i termini parziali e completi, i risultati da un input parziale hello vengono incorporati con una costante punteggio distorsione tooavoid verso risultati imprevisti.</span><span class="sxs-lookup"><span data-stu-id="71da3-339">In a multi-part search request that includes partial and complete terms, results from hello partial input are incorporated with a constant score tooavoid bias towards potentially unexpected matches.</span></span>

### <a name="score-tuning"></a><span data-ttu-id="71da3-340">Ottimizzazione del punteggio</span><span class="sxs-lookup"><span data-stu-id="71da3-340">Score tuning</span></span>

<span data-ttu-id="71da3-341">Esistono due modi i punteggi di pertinenza tootune in ricerca di Azure:</span><span class="sxs-lookup"><span data-stu-id="71da3-341">There are two ways tootune relevance scores in Azure Search:</span></span>

1. <span data-ttu-id="71da3-342">**I profili di punteggio** promuovere i documenti nell'elenco di hello classificata dei risultati in base a un set di regole.</span><span class="sxs-lookup"><span data-stu-id="71da3-342">**Scoring profiles** promote documents in hello ranked list of results based on a set of rules.</span></span> <span data-ttu-id="71da3-343">In questo esempio, è possibile prendere in considerazione documenti corrispondenti nel campo titolo hello più pertinente di documenti corrispondenti nel campo Descrizione hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-343">In our example, we could consider documents that matched in hello title field more relevant than documents that matched in hello description field.</span></span> <span data-ttu-id="71da3-344">In aggiunta, se l'indice dispone di un campo prezzo per ogni albergo, è possibile promuovere i documenti con prezzo inferiore.</span><span class="sxs-lookup"><span data-stu-id="71da3-344">Additionally, if our index had a price field for each hotel, we could promote documents with lower price.</span></span> <span data-ttu-id="71da3-345">Altre informazioni come troppo[aggiungere l'indice di ricerca tooa i profili di punteggio.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span><span class="sxs-lookup"><span data-stu-id="71da3-345">Learn more how too[add Scoring Profiles tooa search index.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span></span>
2. <span data-ttu-id="71da3-346">**Al termine boosting** (disponibile solo nella sintassi della query completa Lucene hello) fornisce un operatore boosting `^` che può essere applicato tooany parte dell'albero di query hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-346">**Term boosting** (available only in hello Full Lucene query syntax) provides a boosting operator `^` that can be applied tooany part of hello query tree.</span></span> <span data-ttu-id="71da3-347">In questo esempio, anziché dover cercare prefisso hello *air-condition*\*, una possibile cercare un termine esatto hello *air-condition* o prefisso hello, ma i documenti che corrispondono in hello esatta termine di un livello superiore tramite l'applicazione di query di termine toohello boost: *aria condizione ^ 2 | | AIR-Condition**.</span><span class="sxs-lookup"><span data-stu-id="71da3-347">In our example, instead of searching on hello prefix *air-condition*\*, one could search for either hello exact term *air-condition* or hello prefix, but documents that match on hello exact term are ranked higher by applying boost toohello term query: *air-condition^2||air-condition**.</span></span> <span data-ttu-id="71da3-348">Altre informazioni sull'[aumento della priorità dei termini](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span><span class="sxs-lookup"><span data-stu-id="71da3-348">Learn more about [term boosting](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span></span>


### <a name="scoring-in-a-distributed-index"></a><span data-ttu-id="71da3-349">Assegnazione dei punteggi in un indice distribuito</span><span class="sxs-lookup"><span data-stu-id="71da3-349">Scoring in a distributed index</span></span>

<span data-ttu-id="71da3-350">Tutti gli indici in ricerca di Azure vengono automaticamente suddiviso in più partizioni, consentendo a noi tooquickly distribuire indice hello tra più nodi durante il ridimensionamento di un servizio di backup o scalare verso il basso.</span><span class="sxs-lookup"><span data-stu-id="71da3-350">All indexes in Azure Search are automatically split into multiple shards, allowing us tooquickly distribute hello index among multiple nodes during service scale up or scale down.</span></span> <span data-ttu-id="71da3-351">Quando viene eseguita una richiesta di ricerca, viene generata in ogni partizione in modo indipendente.</span><span class="sxs-lookup"><span data-stu-id="71da3-351">When a search request is issued, it’s issued against each shard independently.</span></span> <span data-ttu-id="71da3-352">Hello risultati di ogni partizione vengono quindi uniti e ordinati in base al punteggio (se è definito alcun altro ordine).</span><span class="sxs-lookup"><span data-stu-id="71da3-352">hello results from each shard are then merged and ordered by score (if no other ordering is defined).</span></span> <span data-ttu-id="71da3-353">È importante tooknow che hello punteggio funzione pesi termine frequenza delle query con la frequenza di documento inverso in tutti i documenti all'interno di partizioni hello, non tra tutte le partizioni.</span><span class="sxs-lookup"><span data-stu-id="71da3-353">It is important tooknow that hello scoring function weights query term frequency against its inverse document frequency in all documents within hello shard, not across all shards!</span></span>

<span data-ttu-id="71da3-354">Ciò significa che un punteggio di pertinenza *potrebbe* essere diverso per documenti identici se si trovano in partizioni diverse.</span><span class="sxs-lookup"><span data-stu-id="71da3-354">This means a relevance score *could* be different for identical documents if they reside on different shards.</span></span> <span data-ttu-id="71da3-355">Fortunatamente, tali differenze tendono toodisappear man mano che aumenta il numero di hello di documenti nell'indice hello a causa di distribuzione di termini anche toomore.</span><span class="sxs-lookup"><span data-stu-id="71da3-355">Fortunately, such differences tend toodisappear as hello number of documents in hello index grows due toomore even term distribution.</span></span> <span data-ttu-id="71da3-356">Non è possibile tooassume su quale partizione verrà inserito un documento specifico.</span><span class="sxs-lookup"><span data-stu-id="71da3-356">It’s not possible tooassume on which shard any given document will be placed.</span></span> <span data-ttu-id="71da3-357">Tuttavia, se una chiave di documento non viene modificato, sarà sempre assegnato toohello stesso partizione.</span><span class="sxs-lookup"><span data-stu-id="71da3-357">However, assuming a document key doesn't change, it will always be assigned toohello same shard.</span></span>

<span data-ttu-id="71da3-358">In generale, il punteggio di documento non attributo migliore hello ordinare documenti se stabilità di ordine è importante.</span><span class="sxs-lookup"><span data-stu-id="71da3-358">In general, document score is not hello best attribute for ordering documents if order stability is important.</span></span> <span data-ttu-id="71da3-359">Ad esempio, ha due documento con un punteggio identico, non è garantito quale compare per primo nelle esecuzioni successive dell'hello stessa query.</span><span class="sxs-lookup"><span data-stu-id="71da3-359">For example, given two document with an identical score, there is no guarantee which one appears first in subsequent runs of hello same query.</span></span> <span data-ttu-id="71da3-360">Punteggio di documento deve solo un'idea generale di pertinenza documento documenti tooother relativo nel set di risultati hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-360">Document score should only give a general sense of document relevance relative tooother documents in hello results set.</span></span>

## <a name="conclusion"></a><span data-ttu-id="71da3-361">Conclusioni</span><span class="sxs-lookup"><span data-stu-id="71da3-361">Conclusion</span></span>

<span data-ttu-id="71da3-362">esito positivo Hello dei motori di ricerca internet ha generato le aspettative dei clienti per la ricerca full-text su dati privati.</span><span class="sxs-lookup"><span data-stu-id="71da3-362">hello success of internet search engines has raised expectations for full text search over private data.</span></span> <span data-ttu-id="71da3-363">Per quasi tutti i tipi di esperienza di ricerca, è ora previsto hello motore toounderstand finalità, anche quando i termini di errori di ortografia o incompleta.</span><span class="sxs-lookup"><span data-stu-id="71da3-363">For almost any kind of search experience, we now expect hello engine toounderstand our intent, even when terms are misspelled or incomplete.</span></span> <span data-ttu-id="71da3-364">Si possono anche prevedere delle corrispondenze basate su termini quasi equivalenti o sinonimi che non abbiamo mai specificato.</span><span class="sxs-lookup"><span data-stu-id="71da3-364">We might even expect matches based on near equivalent terms or synonyms that we never actually specified.</span></span>

<span data-ttu-id="71da3-365">Dal punto di vista tecnico, ricerca full-text è estremamente complessa, che richiedono l'analisi linguistica sofisticata e tooprocessing un approccio sistematico in modo da filtrare, espanderla e la trasformazione query termini toodeliver un risultato pertinente.</span><span class="sxs-lookup"><span data-stu-id="71da3-365">From a technical standpoint, full text search is highly complex, requiring sophisticated linguistic analysis and a systematic approach tooprocessing in ways that distill, expand, and transform query terms toodeliver a relevant result.</span></span> <span data-ttu-id="71da3-366">Dato complessità intrinseca hello, esistono molti fattori che possono influire sul risultato di hello di una query.</span><span class="sxs-lookup"><span data-stu-id="71da3-366">Given hello inherent complexities, there are a lot of factors that can affect hello outcome of a query.</span></span> <span data-ttu-id="71da3-367">Per questo motivo, investire hello ora toounderstand hello meccanismi che consentono di ricerca full-text offre vantaggi tangibili durante il tentativo di toowork tramite risultati imprevisti.</span><span class="sxs-lookup"><span data-stu-id="71da3-367">For this reason, investing hello time toounderstand hello mechanics of full text search offers tangible benefits when trying toowork through unexpected results.</span></span>  

<span data-ttu-id="71da3-368">In questo articolo sono stati illustrati la ricerca full-text nel contesto di hello di ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="71da3-368">This article explored full text search in hello context of Azure Search.</span></span> <span data-ttu-id="71da3-369">Ci auguriamo che offre sufficiente background toorecognize le possibili cause e soluzioni per risolvere problemi comuni di query.</span><span class="sxs-lookup"><span data-stu-id="71da3-369">We hope it gives you sufficient background toorecognize potential causes and resolutions for addressing common query problems.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="71da3-370">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="71da3-370">Next steps</span></span>

+ <span data-ttu-id="71da3-371">Compilare l'indice degli esempi di hello, provare a query diverse e rivedere i risultati.</span><span class="sxs-lookup"><span data-stu-id="71da3-371">Build hello sample index, try out different queries and review results.</span></span> <span data-ttu-id="71da3-372">Per istruzioni, vedere [compilare ed eseguire query di un indice nel portale di hello](search-get-started-portal.md#query-index).</span><span class="sxs-lookup"><span data-stu-id="71da3-372">For instructions, see [Build and query an index in hello portal](search-get-started-portal.md#query-index).</span></span>

+ <span data-ttu-id="71da3-373">Provare la sintassi di query aggiuntive di hello [ricerca documenti](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) sezione esempio o da [semplice sintassi di query](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) in Esplora ricerche nel portale di hello.</span><span class="sxs-lookup"><span data-stu-id="71da3-373">Try additional query syntax from hello [Search Documents](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) example section or from [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) in Search explorer in hello portal.</span></span>

+ <span data-ttu-id="71da3-374">Revisione [i profili di punteggio](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) se si desidera tootune classificazione nell'applicazione di ricerca.</span><span class="sxs-lookup"><span data-stu-id="71da3-374">Review [scoring profiles](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) if you want tootune ranking in your search application.</span></span>

+ <span data-ttu-id="71da3-375">Informazioni su come tooapply [analizzatori lessicali specifiche della lingua](https://docs.microsoft.com/rest/api/searchservice/language-support).</span><span class="sxs-lookup"><span data-stu-id="71da3-375">Learn how tooapply [language-specific lexical analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support).</span></span>

+ <span data-ttu-id="71da3-376">[Configurare gli analizzatori personalizzati](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) per un'elaborazione minima o specializzati per settori specifici.</span><span class="sxs-lookup"><span data-stu-id="71da3-376">[Configure custom analyzers](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) for either minimal processing or specialized processing on specific fields.</span></span>

+ <span data-ttu-id="71da3-377">[Fare un confronto affiancato degli analizzatori standard e in lingua inglese](http://alice.unearth.ai/) in questo sito Web demo.</span><span class="sxs-lookup"><span data-stu-id="71da3-377">[Compare standard and English analyzers](http://alice.unearth.ai/)) side-by-side on this demo web site.</span></span> 

## <a name="see-also"></a><span data-ttu-id="71da3-378">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="71da3-378">See also</span></span>

<span data-ttu-id="71da3-379">[Search Documents REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents) (API REST di Ricerca di documenti)</span><span class="sxs-lookup"><span data-stu-id="71da3-379">[Search Documents REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents)</span></span>

[<span data-ttu-id="71da3-380">Sintassi di query semplice</span><span class="sxs-lookup"><span data-stu-id="71da3-380">Simple query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search)

<span data-ttu-id="71da3-381">[Full Lucene query syntax](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search) (Sintassi di query completa Lucene)</span><span class="sxs-lookup"><span data-stu-id="71da3-381">[Full Lucene query syntax](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span></span>

[<span data-ttu-id="71da3-382">Gestire i risultati della ricerca</span><span class="sxs-lookup"><span data-stu-id="71da3-382">Handle search results</span></span>](https://docs.microsoft.com/azure/search/search-pagination-page-layout)

<!--Image references-->
[1]: ./media/search-lucene-query-architecture/architecture-diagram2.png
[2]: ./media/search-lucene-query-architecture/azSearch-queryparsing-should2.png
[3]: ./media/search-lucene-query-architecture/azSearch-queryparsing-must2.png
[4]: ./media/search-lucene-query-architecture/azSearch-queryparsing-spacious2.png
