---
title: 'Backup di Azure: backup coerente con le applicazioni di VM Linux | Microsoft Docs'
description: Usare gli script per garantire backup coerenti con l'applicazione in Azure, per le macchine virtuali Linux. Gli script si applicano solo alle VM Linux in una distribuzione di Resource Manager, non si applicano alle VM di Windows o alle distribuzioni di Service Manager. In questo articolo vengono illustrati i passaggi per configurare gli script, inclusa la risoluzione dei problemi.
services: backup
documentationcenter: dev-center-name
author: anuragmehrotra
manager: shivamg
keywords: backup coerente delle app; backup coerente delle applicazioni di VM di Azure; backup di VM Linux; Backup di Azure
ms.assetid: bbb99cf2-d8c7-4b3d-8b29-eadc0fed3bef
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 4/12/2017
ms.author: anuragm;markgal
ms.openlocfilehash: 378c65bec8fd1f880ed459e76f5e4b5d85e49d2a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="application-consistent-backup-of-azure-linux-vms-preview"></a><span data-ttu-id="7f0d1-106">Backup coerente con le applicazioni di VM Linux di Azure (anteprima)</span><span class="sxs-lookup"><span data-stu-id="7f0d1-106">Application-consistent backup of Azure Linux VMs (preview)</span></span>

<span data-ttu-id="7f0d1-107">Questo articolo illustra il framework degli script di pre e post-backup di Linux e il relativo uso per eseguire backup coerenti con le applicazioni di VM Linux di Azure.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-107">This article talks about the Linux pre-script and post-script framework, and how it can be used to take application-consistent backups of Azure Linux VMs.</span></span>

> [!Note]
> <span data-ttu-id="7f0d1-108">Il framework degli script di pre e post-backup è supportato solo per le macchine virtuali Linux distribuite di Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-108">The pre-script and post-script framework is supported only for Azure Resource Manager-deployed Linux virtual machines.</span></span> <span data-ttu-id="7f0d1-109">Gli script per la coerenza con l'applicazione non sono supportati per le macchine virtuali distribuite di Service Manager o le macchine virtuali di Windows.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-109">Scripts for application consistency are not supported for Service Manager-deployed virtual machines or Windows virtual machines.</span></span>
>

## <a name="how-the-framework-works"></a><span data-ttu-id="7f0d1-110">Come funziona il framework</span><span class="sxs-lookup"><span data-stu-id="7f0d1-110">How the framework works</span></span>

<span data-ttu-id="7f0d1-111">Il framework offre un'opzione per eseguire script di pre e post-backup durante la creazione di snapshot delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-111">The framework provides an option to run custom pre-scripts and post-scripts while you're taking VM snapshots.</span></span> <span data-ttu-id="7f0d1-112">Gli script pre-backup vengono eseguiti immediatamente prima della creazione dello snapshot della macchina virtuale e gli script post-backup vengono eseguiti immediatamente dopo la creazione dello snapshot della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-112">Pre-scripts are run just before you take the VM snapshot, and post-scripts are run immediately after you take the VM snapshot.</span></span> <span data-ttu-id="7f0d1-113">Questo offre la flessibilità di controllare l'applicazione e l'ambiente quando si creano snapshot delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-113">This gives you the flexibility to control your application and environment while you're taking VM snapshots.</span></span>

<span data-ttu-id="7f0d1-114">In questo scenario, è importante assicurare backup coerenti con le applicazioni delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-114">In this scenario, it's important to ensure application-consistent VM backup.</span></span> <span data-ttu-id="7f0d1-115">Lo script di pre-backup può richiamare API native delle applicazioni per disattivare gli I/O e scaricare sul disco il contenuto in memoria.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-115">The pre-script can invoke application-native APIs to quiesce the IOs and flush in-memory content to the disk.</span></span> <span data-ttu-id="7f0d1-116">Ciò garantisce che lo snapshot sia coerente con le applicazioni (ossia, che l'applicazione venga avviata quando viene avviata la macchina virtuale dopo il ripristino).</span><span class="sxs-lookup"><span data-stu-id="7f0d1-116">This ensures that the snapshot is application-consistent (that is, that the application comes up when the VM is booted post-restore).</span></span> <span data-ttu-id="7f0d1-117">Lo script di post-backup può essere utilizzato per sbloccare gli I/O.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-117">Post-script can be used to thaw the IOs.</span></span> <span data-ttu-id="7f0d1-118">Consente questo mediante le API native delle applicazioni, in modo che l'applicazione possa riprendere le normali operazioni successivamente allo snapshot della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-118">It does this by using application-native APIs so that the application can resume normal operations post-VM snapshot.</span></span>

## <a name="steps-to-configure-pre-script-and-post-script"></a><span data-ttu-id="7f0d1-119">Passaggi per configurare gli script di pre e post-backup</span><span class="sxs-lookup"><span data-stu-id="7f0d1-119">Steps to configure pre-script and post-script</span></span>

1. <span data-ttu-id="7f0d1-120">Accedere come utente root alla macchina virtuale Linux VM di cui si vuole eseguire il backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-120">Sign in as the root user to the Linux VM that you want to back up.</span></span>

2. <span data-ttu-id="7f0d1-121">Scaricare **VMSnapshotScriptPluginConfig.json** da [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) e quindi copiarlo nella cartella **/etc/azure** in tutte le macchine virtuali di cui si intende eseguire il backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-121">Download **VMSnapshotScriptPluginConfig.json** from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig), and then copy it to the **/etc/azure** folder on all the VMs that you're going to back up.</span></span> <span data-ttu-id="7f0d1-122">Creare la directory **/etc/azure** se non esiste già.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-122">Create the **/etc/azure** directory if it doesn't exist already.</span></span>

3. <span data-ttu-id="7f0d1-123">Copiare lo script di pre-backup e lo script di post-backup per l'applicazione su tutte le macchine virtuali di cui eseguire il backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-123">Copy the pre-script and post-script for your application on all the VMs that you plan to back up.</span></span> <span data-ttu-id="7f0d1-124">È possibile copiare gli script in qualsiasi posizione nella macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-124">You can copy the scripts to any location on the VM.</span></span> <span data-ttu-id="7f0d1-125">Assicurarsi di aggiornare il percorso completo del file di script nel file **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-125">Be sure to update the full path of the script files in the **VMSnapshotScriptPluginConfig.json** file.</span></span>

4. <span data-ttu-id="7f0d1-126">Assicurarsi che siano disponibili le autorizzazioni seguenti per i file:</span><span class="sxs-lookup"><span data-stu-id="7f0d1-126">Ensure the following permissions for these files:</span></span>

   - <span data-ttu-id="7f0d1-127">**VMSnapshotScriptPluginConfig.json**: autorizzazione "600".</span><span class="sxs-lookup"><span data-stu-id="7f0d1-127">**VMSnapshotScriptPluginConfig.json**: Permission “600.”</span></span> <span data-ttu-id="7f0d1-128">Ad esempio solo l'utente "root" deve avere le autorizzazioni di "lettura" e "scrittura" per questo file, nessun utente deve avere autorizzazioni di "esecuzione".</span><span class="sxs-lookup"><span data-stu-id="7f0d1-128">For example, only “root” user should have “read” and “write” permissions to this file, and no user should have “execute” permissions.</span></span>

   - <span data-ttu-id="7f0d1-129">**File script di pre-backup**: autorizzazione "700".</span><span class="sxs-lookup"><span data-stu-id="7f0d1-129">**Pre-script file**: Permission “700.”</span></span>  <span data-ttu-id="7f0d1-130">Ad esempio, solo l'utente "root" deve avere le autorizzazioni di "lettura", "scrittura" ed "esecuzione" per questo file.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-130">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>
  
   - <span data-ttu-id="7f0d1-131">**Script di post-backup**: autorizzazione "700".</span><span class="sxs-lookup"><span data-stu-id="7f0d1-131">**Post-script** Permission “700.”</span></span> <span data-ttu-id="7f0d1-132">Ad esempio, solo l'utente "root" deve avere le autorizzazioni di "lettura", "scrittura" ed "esecuzione" per questo file.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-132">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>

   > [!Important]
   > <span data-ttu-id="7f0d1-133">Il framework offre notevoli potenzialità agli utenti.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-133">The framework gives users a lot of power.</span></span> <span data-ttu-id="7f0d1-134">È importante assicurare che solo l'utente "root" abbia accesso ai file di script e JSON critici.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-134">It’s important that it's secure and that only “root” user has access to critical JSON and script files.</span></span>
   > <span data-ttu-id="7f0d1-135">Se i requisiti precedenti non sono soddisfatti, lo script non viene eseguito.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-135">If the previous requirements aren't met, the script doesn't run.</span></span> <span data-ttu-id="7f0d1-136">In questo modo si genera un backup coerente con file system e arresto anomalo.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-136">This results in file system/crash consistent backup.</span></span>
   >

5. <span data-ttu-id="7f0d1-137">Configurare **VMSnapshotScriptPluginConfig.json** come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="7f0d1-137">Configure **VMSnapshotScriptPluginConfig.json** as described here:</span></span>
    - <span data-ttu-id="7f0d1-138">**pluginName**: lasciare invariato il campo, altrimenti gli script potrebbero non funzionare come previsto.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-138">**pluginName**: Leave this field as is or your scripts might not work as expected.</span></span>

    - <span data-ttu-id="7f0d1-139">**preScriptLocation**: specificare il percorso completo dello script di pre-backup nella VM di cui si eseguirà il backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-139">**preScriptLocation**: Provide the full path of the pre-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="7f0d1-140">**postScriptLocation**: specificare il percorso completo dello script di post-backup nella VM di cui si eseguirà il backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-140">**postScriptLocation**: Provide the full path of the post-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="7f0d1-141">**preScriptParams**: specificare i parametri facoltativi da passare allo script di pre-backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-141">**preScriptParams**: Provide the optional parameters that need to be passed to the pre-script.</span></span> <span data-ttu-id="7f0d1-142">Tutti i parametri devono essere racchiusi tra virgolette e, se sono presenti più parametri, devono essere separati da virgole.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-142">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="7f0d1-143">**postScriptParams**: specificare i parametri facoltativi da passare allo script di post-backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-143">**postScriptParams**: Provide the optional parameters that need to be passed to the post-script.</span></span> <span data-ttu-id="7f0d1-144">Tutti i parametri devono essere racchiusi tra virgolette e, se sono presenti più parametri, devono essere separati da virgole.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-144">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="7f0d1-145">**preScriptNoOfRetries**: impostare il numero di volte in cui lo script di pre-backup deve essere ritentato se è presente un errore prima di terminare.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-145">**preScriptNoOfRetries**: Set the number of times the pre-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="7f0d1-146">Zero indica un solo tentativo, senza alcun nuovo tentativo in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-146">Zero means only one try and no retry if there is a failure.</span></span>

    - <span data-ttu-id="7f0d1-147">**postScriptNoOfRetries**: impostare il numero di volte in cui lo script di post-backup deve essere ritentato se è presente un errore prima di terminare.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-147">**postScriptNoOfRetries**:  Set the number of times the post-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="7f0d1-148">Zero indica un solo tentativo, senza alcun nuovo tentativo in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-148">Zero means only one try and no retry if there is a failure.</span></span>
    
    - <span data-ttu-id="7f0d1-149">**timeoutInSeconds**: specificare i timeout individuali per lo script di pre-backup e lo script di post-backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-149">**timeoutInSeconds**: Specify individual timeouts for the pre-script and the post-script.</span></span>

    - <span data-ttu-id="7f0d1-150">**continueBackupOnFailure**: impostare questo valore su **true** se si desidera che Backup di Azure esegua il fallback a un backup coerente con file system/arresto anomalo in caso di errore dello script di pre-backup o post-backup.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-150">**continueBackupOnFailure**: Set this value to **true** if you want Azure Backup to fall back to a file system consistent/crash consistent backup if pre-script or post-script fails.</span></span> <span data-ttu-id="7f0d1-151">Impostando questo valore su **false** il backup viene interrotto in caso di errore dello script (tranne nel caso in cui sia presenta una macchina virtuale con un solo disco che esegue il fallback su un backup coerente con l'arresto anomalo indipendentemente da questa impostazione).</span><span class="sxs-lookup"><span data-stu-id="7f0d1-151">Setting this to **false** fails the backup in case of script failure (except when you have single-disk VM that falls back to crash-consistent backup regardless of this setting).</span></span>

    - <span data-ttu-id="7f0d1-152">**fsFreezeEnabled**: specificare se il comando fsfreeze di Linux deve essere chiamato durante la creazione dello snapshot della macchina virtuale per garantire la coerenza del file system.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-152">**fsFreezeEnabled**: Specify whether Linux fsfreeze should be called while you're taking the VM snapshot to ensure file system consistency.</span></span> <span data-ttu-id="7f0d1-153">Si consiglia di mantenere questa impostazione su **true**, a meno che l'applicazione abbia legami di dipendenza con la disattivazione di fsfreeze.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-153">We recommend keeping this setting set to **true** unless your application has a dependency on disabling fsfreeze.</span></span>

6. <span data-ttu-id="7f0d1-154">Il framework di script è ora configurato.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-154">The script framework is now configured.</span></span> <span data-ttu-id="7f0d1-155">Se il backup della macchina virtuale è già configurato, il backup successivo richiamerà gli script e attiverà backup coerenti con le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-155">If the VM backup is already configured, the next backup invokes the scripts and triggers application-consistent backup.</span></span> <span data-ttu-id="7f0d1-156">Se il backup della macchina virtuale non è configurato, configurarlo facendo riferimento a [Backup di macchine virtuali di Azure in insiemi di credenziali di Servizi di ripristino](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span><span class="sxs-lookup"><span data-stu-id="7f0d1-156">If the VM backup is not configured, configure it by using [Back up Azure virtual machines to Recovery Services vaults.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="7f0d1-157">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="7f0d1-157">Troubleshooting</span></span>

<span data-ttu-id="7f0d1-158">Accertarsi di aggiungere le funzioni di log appropriate negli script di pre e post-backup e controllare i log di script per risolvere eventuali problemi degli script.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-158">Make sure you add appropriate logging while writing your pre-script and post-script, and review your script logs to fix any script issues.</span></span> <span data-ttu-id="7f0d1-159">Se continuano a verificarsi problemi durante l'esecuzione degli script, vedere la tabella seguente per altre informazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-159">If you still have problems running scripts, refer to the following table for more information.</span></span>

| <span data-ttu-id="7f0d1-160">Errore</span><span class="sxs-lookup"><span data-stu-id="7f0d1-160">Error</span></span> | <span data-ttu-id="7f0d1-161">Messaggio di errore</span><span class="sxs-lookup"><span data-stu-id="7f0d1-161">Error message</span></span> | <span data-ttu-id="7f0d1-162">Azione consigliata</span><span class="sxs-lookup"><span data-stu-id="7f0d1-162">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="7f0d1-163">Pre-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="7f0d1-163">Pre-ScriptExecutionFailed</span></span> |<span data-ttu-id="7f0d1-164">Lo script di pre-backup ha restituito un errore perciò il backup potrebbe non essere coerente con le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-164">The pre-script returned an error, so backup might not be application-consistent.</span></span>   | <span data-ttu-id="7f0d1-165">Controllare i log di errore dello script per risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-165">Look at the failure logs for your script to fix the issue.</span></span>|  
|   <span data-ttu-id="7f0d1-166">Post-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="7f0d1-166">Post-ScriptExecutionFailed</span></span> |    <span data-ttu-id="7f0d1-167">Lo script di post-backup ha restituito un errore che potrebbe compromettere lo stato dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-167">The post-script returned an error that might impact application state.</span></span> |    <span data-ttu-id="7f0d1-168">Controllare i log di errore dello script per risolvere il problema e verificare lo stato dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-168">Look at the failure logs for your script to fix the issue and check the application state.</span></span> |
| <span data-ttu-id="7f0d1-169">Pre-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="7f0d1-169">Pre-ScriptNotFound</span></span> |  <span data-ttu-id="7f0d1-170">Lo script di pre-backup non è stato trovato nel percorso specificato nel file di configurazione **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-170">The pre-script was not found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="7f0d1-171">Assicurarsi che lo script di pre-backup sia presente nel percorso specificato nel file di configurazione per garantire un backup coerente con le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-171">Make sure that pre-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="7f0d1-172">Post-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="7f0d1-172">Post-ScriptNotFound</span></span> | <span data-ttu-id="7f0d1-173">Lo script di post-backup non è stato trovato nel percorso specificato nel file di configurazione **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-173">The post-script wasn't found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="7f0d1-174">Assicurarsi che lo script di post-backup sia presente nel percorso specificato nel file di configurazione per garantire un backup coerente con le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-174">Make sure that post-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="7f0d1-175">IncorrectPluginhostFile</span><span class="sxs-lookup"><span data-stu-id="7f0d1-175">IncorrectPluginhostFile</span></span> | <span data-ttu-id="7f0d1-176">Il file **Pluginhost** incluso con l'estensione VmSnapshotLinux è danneggiato perciò non è possibile eseguire gli script di pre e post-backup e il backup non sarà coerente con le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-176">The **Pluginhost** file, which comes with the VmSnapshotLinux extension, is corrupted, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="7f0d1-177">Disinstallare l'estensione **VmSnapshotLinux** che sarà automaticamente reinstallata con il backup successivo per risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-177">Uninstall the **VmSnapshotLinux** extension, and it will automatically be reinstalled with the next backup to fix the problem.</span></span> |
| <span data-ttu-id="7f0d1-178">IncorrectJSONConfigFile</span><span class="sxs-lookup"><span data-stu-id="7f0d1-178">IncorrectJSONConfigFile</span></span> | <span data-ttu-id="7f0d1-179">Il file **VMSnapshotScriptPluginConfig.json** non è corretto, perciò non è possibile eseguire gli script di pre e post-backup e il backup non sarà coerente con le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-179">The **VMSnapshotScriptPluginConfig.json** file is incorrect, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="7f0d1-180">Scaricare la copia da [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) ed eseguirne di nuovo la configurazione.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-180">Download the copy from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) and configure it again.</span></span> |
| <span data-ttu-id="7f0d1-181">InsufficientPermissionforPre-Script</span><span class="sxs-lookup"><span data-stu-id="7f0d1-181">InsufficientPermissionforPre-Script</span></span> | <span data-ttu-id="7f0d1-182">Per eseguire gli script, l'utente "root" deve essere il proprietario del file e il file deve avere le autorizzazioni "700" (ovvero solo il "proprietario" deve possedere le autorizzazioni di "lettura", "scrittura" ed "esecuzione").</span><span class="sxs-lookup"><span data-stu-id="7f0d1-182">For running scripts, "root" user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="7f0d1-183">Assicurarsi che l'utente "root" sia il "proprietario" del file di script e che solo il "proprietario" abbia le autorizzazioni di "lettura", "scrittura" ed "esecuzione".</span><span class="sxs-lookup"><span data-stu-id="7f0d1-183">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="7f0d1-184">InsufficientPermissionforPost-Script</span><span class="sxs-lookup"><span data-stu-id="7f0d1-184">InsufficientPermissionforPost-Script</span></span> | <span data-ttu-id="7f0d1-185">Per eseguire gli script, l'utente root deve essere il proprietario del file e il file deve avere le autorizzazioni "700" (ovvero solo il "proprietario" deve possedere le autorizzazioni di "lettura", "scrittura" ed "esecuzione").</span><span class="sxs-lookup"><span data-stu-id="7f0d1-185">For running scripts, root user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="7f0d1-186">Assicurarsi che l'utente "root" sia il "proprietario" del file di script e che solo il "proprietario" abbia le autorizzazioni di "lettura", "scrittura" ed "esecuzione".</span><span class="sxs-lookup"><span data-stu-id="7f0d1-186">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="7f0d1-187">Pre-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="7f0d1-187">Pre-ScriptTimeout</span></span> | <span data-ttu-id="7f0d1-188">Si è verificato il time-out dell'esecuzione dello script di pre-backup per un backup coerente della applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-188">The execution of the application-consistent backup pre-script timed-out.</span></span> | <span data-ttu-id="7f0d1-189">Controllare lo script e aumentare il timeout nel file **VMSnapshotScriptPluginConfig.json** disponibile all'indirizzo **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-189">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |
| <span data-ttu-id="7f0d1-190">Post-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="7f0d1-190">Post-ScriptTimeout</span></span> | <span data-ttu-id="7f0d1-191">Si è verificato il time-out dell'esecuzione dello script di post-backup per un backup coerente della applicazioni.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-191">The execution of the application-consistent backup post-script timed out.</span></span> | <span data-ttu-id="7f0d1-192">Controllare lo script e aumentare il timeout nel file **VMSnapshotScriptPluginConfig.json** disponibile all'indirizzo **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="7f0d1-192">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="7f0d1-193">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="7f0d1-193">Next steps</span></span>
[<span data-ttu-id="7f0d1-194">Configurare il backup di una VM in un insieme di credenziali di Servizi di ripristino</span><span class="sxs-lookup"><span data-stu-id="7f0d1-194">Configure VM backup to a Recovery Services vault</span></span>](https://docs.microsoft.com/azure/backup/backup-azure-arm-vms)
