---
title: Usare le chiavi SSH con Windows per le VM Linux | Microsoft Docs
description: Informazioni su come generare e usare chiavi SSH in un computer Windows per connettersi a una macchina virtuale Linux in Azure.
services: virtual-machines-linux
documentationcenter: 
author: dlepow
manager: timlt
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 2cacda3b-7949-4036-bd5d-837e8b09a9c8
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 03/08/2017
ms.author: danlep
ms.openlocfilehash: 66837a3a153cda041f5351c52c8ccb1f8ccfea50
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-use-ssh-keys-with-windows-on-azure"></a><span data-ttu-id="c80a9-103">Come usare le chiavi SSH con Windows in Azure</span><span class="sxs-lookup"><span data-stu-id="c80a9-103">How to Use SSH keys with Windows on Azure</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="c80a9-104">Windows</span><span class="sxs-lookup"><span data-stu-id="c80a9-104">Windows</span></span>](ssh-from-windows.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
> * [<span data-ttu-id="c80a9-105">Linux/Mac</span><span class="sxs-lookup"><span data-stu-id="c80a9-105">Linux/Mac</span></span>](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
>
>

<span data-ttu-id="c80a9-106">Quando ci si connette a macchine virtuali (VM) Linux in Azure, è necessario usare la [crittografia a chiave pubblica](https://wikipedia.org/wiki/Public-key_cryptography) per fornire un modo più sicuro per accedere alla VM Linux.</span><span class="sxs-lookup"><span data-stu-id="c80a9-106">When you connect to Linux virtual machines (VMs) in Azure, you should use [public-key cryptography](https://wikipedia.org/wiki/Public-key_cryptography) to provide a more secure way to log in to your Linux VM.</span></span> <span data-ttu-id="c80a9-107">Questo processo comporta uno scambio di chiavi pubbliche e private mediante il comando Sicure Shell (SSH) per l'autenticazione, anziché nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="c80a9-107">This process involves a public and private key exchange using the secure shell (SSH) command to authenticate yourself rather than a username and password.</span></span> <span data-ttu-id="c80a9-108">Le password sono vulnerabili agli attacchi di forza bruta, soprattutto nelle VM con connessione Internet, ad esempio i server Web.</span><span class="sxs-lookup"><span data-stu-id="c80a9-108">Passwords are vulnerable to brute-force attacks, especially on Internet-facing VMs such as web servers.</span></span> <span data-ttu-id="c80a9-109">Questo articolo fornisce una panoramica delle chiavi SSH e di come generare le chiavi appropriate in un computer Windows.</span><span class="sxs-lookup"><span data-stu-id="c80a9-109">This article provides an overview of SSH keys and how to generate the appropriate keys on a Windows computer.</span></span>

## <a name="overview-of-ssh-and-keys"></a><span data-ttu-id="c80a9-110">Panoramica di SSH e delle chiavi</span><span class="sxs-lookup"><span data-stu-id="c80a9-110">Overview of SSH and keys</span></span>
<span data-ttu-id="c80a9-111">È possibile accedere in modo sicuro alla VM Linux mediante una chiave pubblica e una chiave privata:</span><span class="sxs-lookup"><span data-stu-id="c80a9-111">You can securely log in to your Linux VM by using public and private keys:</span></span>

* <span data-ttu-id="c80a9-112">La **chiave pubblica** si trova nella VM Linux o in qualsiasi altro servizio che si desidera usare con la crittografia a chiave pubblica.</span><span class="sxs-lookup"><span data-stu-id="c80a9-112">The **public key** is placed on your Linux VM, or any other service that you wish to use with public-key cryptography.</span></span>
* <span data-ttu-id="c80a9-113">La **chiave privata** è quella che si presenta alla VM Linux quando si effettua l'accesso, per verificare la propria identità.</span><span class="sxs-lookup"><span data-stu-id="c80a9-113">The **private key** is what you present to your Linux VM when you log in, to verify your identity.</span></span> <span data-ttu-id="c80a9-114">Sulla chiave privata è necessario mantenere la massima riservatezza,</span><span class="sxs-lookup"><span data-stu-id="c80a9-114">Protect this private key.</span></span> <span data-ttu-id="c80a9-115">evitando di condividerla.</span><span class="sxs-lookup"><span data-stu-id="c80a9-115">Do not share it.</span></span>

<span data-ttu-id="c80a9-116">La chiave pubblica e la chiave privata sono utilizzabili in più VM e servizi.</span><span class="sxs-lookup"><span data-stu-id="c80a9-116">These public and private keys can be used on multiple VMs and services.</span></span> <span data-ttu-id="c80a9-117">Non è necessaria una coppia di chiavi per ogni VM o servizio a cui si desidera accedere.</span><span class="sxs-lookup"><span data-stu-id="c80a9-117">You do not need a pair of keys for each VM or service you wish to access.</span></span> <span data-ttu-id="c80a9-118">Per una panoramica più dettagliata, vedere [crittografia a chiave pubblica](https://wikipedia.org/wiki/Public-key_cryptography).</span><span class="sxs-lookup"><span data-stu-id="c80a9-118">For a more detailed overview, see [public-key cryptography](https://wikipedia.org/wiki/Public-key_cryptography).</span></span>

<span data-ttu-id="c80a9-119">SSH è un protocollo per connessioni crittografate che consente accessi protetti su connessioni non sicure.</span><span class="sxs-lookup"><span data-stu-id="c80a9-119">SSH is an encrypted connection protocol that allows secure logins over unsecured connections.</span></span> <span data-ttu-id="c80a9-120">È il protocollo di connessione predefinito per le VM Linux ospitate in Azure.</span><span class="sxs-lookup"><span data-stu-id="c80a9-120">It is the default connection protocol for Linux VMs hosted in Azure.</span></span> <span data-ttu-id="c80a9-121">Sebbene SSH stessa fornisca una connessione crittografata, se si usano password con le connessioni SSH la VM rimane vulnerabile agli attacchi di forza bruta o di individuazione password.</span><span class="sxs-lookup"><span data-stu-id="c80a9-121">Although SSH itself provides an encrypted connection, using passwords with SSH connections still leaves the VM vulnerable to brute-force attacks or guessing of passwords.</span></span> <span data-ttu-id="c80a9-122">Un metodo più sicuro e preferito per la connessione a una VM mediante SSH è tramite chiave pubblica e privata, anche dette chiavi SSH.</span><span class="sxs-lookup"><span data-stu-id="c80a9-122">A more secure and preferred method of connecting to a VM using SSH is by using these public and private keys, also known as SSH keys.</span></span>

<span data-ttu-id="c80a9-123">Se non si desidera usare chiavi SSH, è possibile comunque accedere alle VM Linux mediante una password.</span><span class="sxs-lookup"><span data-stu-id="c80a9-123">If you do not wish to use SSH keys, you can still log in to your Linux VMs using a password.</span></span> <span data-ttu-id="c80a9-124">Se la VM non è connessa a Internet, l'utilizzo di password può essere sufficiente.</span><span class="sxs-lookup"><span data-stu-id="c80a9-124">If your VM is not exposed to the Internet, using passwords may be sufficient.</span></span> <span data-ttu-id="c80a9-125">Tuttavia è comunque necessario gestire le password per ogni VM Linux e mantenere criteri e procedure relative alle password integre, quali una lunghezza minima delle password e aggiornamenti regolari.</span><span class="sxs-lookup"><span data-stu-id="c80a9-125">However, you still need to manage your passwords for each Linux VM and maintain healthy password policies and practices, such as minimum password length and regularly updating them.</span></span> <span data-ttu-id="c80a9-126">L'utilizzo delle chiavi SSH riduce la complessità di gestione delle credenziali individuali tra più VM.</span><span class="sxs-lookup"><span data-stu-id="c80a9-126">The use of SSH keys reduces the complexity of managing individual credentials across multiple VMs.</span></span>

## <a name="windows-packages-and-ssh-clients"></a><span data-ttu-id="c80a9-127">Pacchetti Windows e client SSH</span><span class="sxs-lookup"><span data-stu-id="c80a9-127">Windows packages and SSH clients</span></span>
<span data-ttu-id="c80a9-128">Per la connessione a VM Linux e la loro gestione in Azure si usa un client **SSH**.</span><span class="sxs-lookup"><span data-stu-id="c80a9-128">You connect to and manage Linux VMs in Azure using an **SSH client**.</span></span> <span data-ttu-id="c80a9-129">I computer Windows tipicamente non hanno un client SSH installato.</span><span class="sxs-lookup"><span data-stu-id="c80a9-129">Windows computers do not typically have an SSH client installed.</span></span> <span data-ttu-id="c80a9-130">Nell'Aggiornamento dell'anniversario di Windows 10 è stato aggiunto Bash per Windows e l'aggiornamento Windows 10 Creators Update più recente offre aggiornamenti aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="c80a9-130">The Windows 10 Anniversary Update added Bash for Windows, and the latest Windows 10 Creators Update provides additional updates.</span></span> <span data-ttu-id="c80a9-131">Questo sottosistema di Windows per Linux consente di eseguire e di accedere a utilità come un client SSH in modo nativo dall'interno della shell di Bash.</span><span class="sxs-lookup"><span data-stu-id="c80a9-131">This Windows Subsystem for Linux allows you to run and access utilities such as an SSH client natively within a Bash shell.</span></span> <span data-ttu-id="c80a9-132">È quindi possibile seguire uno dei documenti Linux, ad esempio [How to generate SSH key pairs for Linux](mac-create-ssh-keys.md) (Come generare coppie di chiavi SSH per Linux).</span><span class="sxs-lookup"><span data-stu-id="c80a9-132">You can then follow any of the Linux docs, such as [How to generate SSH key pairs for Linux](mac-create-ssh-keys.md).</span></span> <span data-ttu-id="c80a9-133">Bash per Windows è ancora in fase di sviluppo e viene considerato una versione beta.</span><span class="sxs-lookup"><span data-stu-id="c80a9-133">Bash for Windows is still under development, and is considered a beta release.</span></span> <span data-ttu-id="c80a9-134">Per altre informazioni su Bash per Windows, vedere [Bash in Ubuntu in Windows](https://msdn.microsoft.com/commandline/wsl/about).</span><span class="sxs-lookup"><span data-stu-id="c80a9-134">For more information about Bash for Windows, see [Bash on Ubuntu on Windows](https://msdn.microsoft.com/commandline/wsl/about).</span></span>

<span data-ttu-id="c80a9-135">Se si intende usare una soluzione diversa da Bash per Windows, sono disponibili client SSH Windows comuni nei pacchetti seguenti:</span><span class="sxs-lookup"><span data-stu-id="c80a9-135">If you wish to use something other than Bash for Windows, common Windows SSH clients you can install are included in the following packages:</span></span>

* [<span data-ttu-id="c80a9-136">Git per Windows</span><span class="sxs-lookup"><span data-stu-id="c80a9-136">Git For Windows</span></span>](https://git-for-windows.github.io/)
* [<span data-ttu-id="c80a9-137">puTTY</span><span class="sxs-lookup"><span data-stu-id="c80a9-137">puTTY</span></span>](http://www.chiark.greenend.org.uk/~sgtatham/putty/)
* [<span data-ttu-id="c80a9-138">MobaXterm</span><span class="sxs-lookup"><span data-stu-id="c80a9-138">MobaXterm</span></span>](http://mobaxterm.mobatek.net/)
* [<span data-ttu-id="c80a9-139">Cygwin</span><span class="sxs-lookup"><span data-stu-id="c80a9-139">Cygwin</span></span>](https://cygwin.com/)


## <a name="which-key-files-do-you-need-to-create"></a><span data-ttu-id="c80a9-140">Quali file di chiavi è necessario creare?</span><span class="sxs-lookup"><span data-stu-id="c80a9-140">Which key files do you need to create?</span></span>
<span data-ttu-id="c80a9-141">Azure richiede chiavi pubbliche e private nel formato **ssh-rsa** almeno a 2048 bit.</span><span class="sxs-lookup"><span data-stu-id="c80a9-141">Azure requires at least 2048-bit, **ssh-rsa** formatted public and private keys.</span></span> <span data-ttu-id="c80a9-142">Se si gestiscono risorse di Azure usando il modello di distribuzione classico, è necessario anche generare un PEM (file `.pem`).</span><span class="sxs-lookup"><span data-stu-id="c80a9-142">If you are managing Azure resources using the Classic deployment model, you also need to generate a PEM (`.pem` file).</span></span>

<span data-ttu-id="c80a9-143">Di seguito sono descritti gli scenari di distribuzione e i tipi di file da usare per ognuno:</span><span class="sxs-lookup"><span data-stu-id="c80a9-143">Here are the deployment scenarios, and the types of files you use in each:</span></span>

1. <span data-ttu-id="c80a9-144">Le chiavi **ssh-rsa** sono necessarie per qualsiasi distribuzione che usa il [portale di Azure](https://portal.azure.com) e le distribuzioni di Resource Manager che usano l'[interfaccia della riga di comando di Azure](../../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="c80a9-144">**ssh-rsa** keys are required for any deployment using the [Azure portal](https://portal.azure.com), and Resource Manager deployments using the [Azure CLI](../../cli-install-nodejs.md).</span></span>
   * <span data-ttu-id="c80a9-145">Queste chiavi sono in genere tutto ciò che serve alla maggior parte degli utenti.</span><span class="sxs-lookup"><span data-stu-id="c80a9-145">These keys are usually all most people need.</span></span>
2. <span data-ttu-id="c80a9-146">Il file `.pem` è necessario per creare VM mediante la distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="c80a9-146">A `.pem` file is required to create VMs using the Classic deployment.</span></span> <span data-ttu-id="c80a9-147">Queste chiavi sono supportate nelle distribuzioni classiche quando si usa il [portale di Azure](https://portal.azure.com) o l'[interfaccia della riga di comando di Azure](../../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="c80a9-147">These keys are supported in Classic deployments when using the [Azure portal](https://portal.azure.com) or [Azure CLI](../../cli-install-nodejs.md).</span></span>
   * <span data-ttu-id="c80a9-148">È necessario creare questi certificati e chiavi aggiuntive solo se si gestiscono risorse create usando il modello di distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="c80a9-148">You only need to create these additional keys and certificates if you are managing resources created using the Classic deployment model.</span></span>

## <a name="install-git-for-windows"></a><span data-ttu-id="c80a9-149">Installare Git per Windows</span><span class="sxs-lookup"><span data-stu-id="c80a9-149">Install Git for Windows</span></span>
<span data-ttu-id="c80a9-150">Nella sezione precedente sono elencati diversi pacchetti che includono lo strumento `openssl` per Windows.</span><span class="sxs-lookup"><span data-stu-id="c80a9-150">The preceding section listed several packages that include the `openssl` tool for Windows.</span></span> <span data-ttu-id="c80a9-151">Questo strumento è necessario per creare chiavi pubbliche e private.</span><span class="sxs-lookup"><span data-stu-id="c80a9-151">This tool is needed to create public and private keys.</span></span> <span data-ttu-id="c80a9-152">L'esempio seguente illustra come installare e usare **Git per Windows**, ma è possibile scegliere qualsiasi pacchetto desiderato.</span><span class="sxs-lookup"><span data-stu-id="c80a9-152">The following examples detail how to install and use **Git for Windows**, though you can choose whichever package you prefer.</span></span> <span data-ttu-id="c80a9-153">**GIT per Windows** consente di accedere ad alcuni strumenti software open-source ([OSS](https://en.wikipedia.org/wiki/Open-source_software)) e utilità aggiuntive che possono essere utili quando si lavora con le VM Linux.</span><span class="sxs-lookup"><span data-stu-id="c80a9-153">**Git for Windows** gives you access to some additional open-source software ([OSS](https://en.wikipedia.org/wiki/Open-source_software)) tools and utilities that may be useful as you work with Linux VMs.</span></span>

1. <span data-ttu-id="c80a9-154">Scaricare e installare **Git per Windows** dal percorso seguente: [https://git-for-windows.github.io/](https://git-for-windows.github.io/).</span><span class="sxs-lookup"><span data-stu-id="c80a9-154">Download and install **Git for Windows** from the following location: [https://git-for-windows.github.io/](https://git-for-windows.github.io/).</span></span>
2. <span data-ttu-id="c80a9-155">Accettare le opzioni predefinite durante il processo di installazione, a meno che sia necessario modificarle.</span><span class="sxs-lookup"><span data-stu-id="c80a9-155">Accept the default options during the install process unless you specifically need to change them.</span></span>
3. <span data-ttu-id="c80a9-156">Eseguire **Git Bash** dal **Menu Start** > **Git** > **Git Bash**.</span><span class="sxs-lookup"><span data-stu-id="c80a9-156">Run **Git Bash** from the **Start Menu** > **Git** > **Git Bash**.</span></span> <span data-ttu-id="c80a9-157">La console è simile all'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="c80a9-157">The console looks similar to the following example:</span></span>

    ![Shell Bash di GIT per Windows](./media/ssh-from-windows/git-bash-window.png)

## <a name="create-a-private-key"></a><span data-ttu-id="c80a9-159">Creare una chiave privata</span><span class="sxs-lookup"><span data-stu-id="c80a9-159">Create a private key</span></span>
1. <span data-ttu-id="c80a9-160">Nella finestra **Git Bash** usare `openssl.exe` per creare una chiave privata.</span><span class="sxs-lookup"><span data-stu-id="c80a9-160">In your **Git Bash** window, use `openssl.exe` to create a private key.</span></span> <span data-ttu-id="c80a9-161">Nell'esempio seguente vengono creati una chiave denominata `myPrivateKey` e un certificato denominato `myCert.pem`:</span><span class="sxs-lookup"><span data-stu-id="c80a9-161">The following example creates a key named `myPrivateKey` and certificate named `myCert.pem`:</span></span>

    ```bash
    openssl.exe req -x509 -nodes -days 365 -newkey rsa:2048 \
        -keyout myPrivateKey.key -out myCert.pem
    ```

    <span data-ttu-id="c80a9-162">L'output è simile al seguente esempio:</span><span class="sxs-lookup"><span data-stu-id="c80a9-162">The output looks similar to the following example:</span></span>

    ```bash
    Generating a 2048 bit RSA private key
    .......................................+++
    .......................+++
    writing new private key to 'myPrivateKey.key'
    -----
    You are about to be asked to enter information that will be incorporated
    into your certificate request.
    What you are about to enter is what is called a Distinguished Name or a DN.
    There are quite a few fields but you can leave some blank
    For some fields there will be a default value,
    If you enter '.', the field will be left blank.
    -----
    Country Name (2 letter code) [AU]:
    ```

   <span data-ttu-id="c80a9-163">Se bash segnala un errore, provare ad aprire una nuova finestra **Git Bash** con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="c80a9-163">If bash reports an error, try opening a new **Git Bash** window with elevated privileges.</span></span> <span data-ttu-id="c80a9-164">Quindi eseguire di nuovo il comando `openssl`.</span><span class="sxs-lookup"><span data-stu-id="c80a9-164">Then, rerun the `openssl` command.</span></span>

2. <span data-ttu-id="c80a9-165">Rispondere ai prompt per il nome del paese, la località, il nome dell'organizzazione e così via.</span><span class="sxs-lookup"><span data-stu-id="c80a9-165">Answer the prompts for country name, location, organization name, etc.</span></span>
3. <span data-ttu-id="c80a9-166">La nuova chiave privata e certificato vengono creati nella directory di lavoro corrente.</span><span class="sxs-lookup"><span data-stu-id="c80a9-166">Your new private key and certificate are created in your current working directory.</span></span> <span data-ttu-id="c80a9-167">Come misura di sicurezza, è necessario impostare le autorizzazioni per la chiave privata in modo da essere l'unica persona a potervi accedere:</span><span class="sxs-lookup"><span data-stu-id="c80a9-167">As a security measure, you should set the permissions on your private key so that only you can access it:</span></span>

    ```bash
    chmod 0600 myPrivateKey.key
    ```

4. <span data-ttu-id="c80a9-168">La [sezione successiva](#create-a-private-key-for-putty) descrive nei dettagli l'uso di PuTTYgen sia per visualizzare che per utilizzare la chiave pubblica nonché per creare una chiave privata specifica per l'impiego di PuTTY con SSH in VM Linux.</span><span class="sxs-lookup"><span data-stu-id="c80a9-168">The [next section](#create-a-private-key-for-putty) details using PuTTYgen to both view and use the public key, and create a private key specific for using PuTTY to SSH to Linux VMs.</span></span> <span data-ttu-id="c80a9-169">Il comando seguente genera un file di chiave pubblica denominato `myPublicKey.key` che è possibile usare subito:</span><span class="sxs-lookup"><span data-stu-id="c80a9-169">The following command generates a public key file named `myPublicKey.key` that you can use right away:</span></span>

    ```bash
    openssl.exe rsa -pubout -in myPrivateKey.key -out myPublicKey.key
    ```

5. <span data-ttu-id="c80a9-170">Se è necessario anche gestire le risorse classiche, convertire `myCert.pem` in `myCert.cer` (certificato X509 con codifica DER).</span><span class="sxs-lookup"><span data-stu-id="c80a9-170">If you also need to manage Classic resources, convert the `myCert.pem` to `myCert.cer` (DER encoded X509 certificate).</span></span> <span data-ttu-id="c80a9-171">Eseguire questo passaggio facoltativo solo se è necessario gestire in modo specifico risorse classiche precedenti.</span><span class="sxs-lookup"><span data-stu-id="c80a9-171">Perform this optional step only if you need to specifically manage older Classic resources.</span></span>

    <span data-ttu-id="c80a9-172">Convertire il certificato mediante il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="c80a9-172">Convert the certificate using the following command:</span></span>

    ```bash
    openssl.exe  x509 -outform der -in myCert.pem -out myCert.cer
    ```

## <a name="create-a-private-key-for-putty"></a><span data-ttu-id="c80a9-173">Creare una chiave privata per PuTTY</span><span class="sxs-lookup"><span data-stu-id="c80a9-173">Create a private key for PuTTY</span></span>
<span data-ttu-id="c80a9-174">PuTTY è un comune client SSH per Windows.</span><span class="sxs-lookup"><span data-stu-id="c80a9-174">PuTTY is a common SSH client for Windows.</span></span> <span data-ttu-id="c80a9-175">È possibile usare qualsiasi client SSH desiderato.</span><span class="sxs-lookup"><span data-stu-id="c80a9-175">You are free to use any SSH client that you wish.</span></span> <span data-ttu-id="c80a9-176">Per usare PuTTY è necessario creare un tipo di chiave aggiuntivo, una chiave privata PuTTY (PPK).</span><span class="sxs-lookup"><span data-stu-id="c80a9-176">To use PuTTY, you need to create an additional type of key - a PuTTY Private Key (PPK).</span></span> <span data-ttu-id="c80a9-177">Se non si desidera usare PuTTY, ignorare questa sezione.</span><span class="sxs-lookup"><span data-stu-id="c80a9-177">If you do not wish to use PuTTY, skip this section.</span></span>

<span data-ttu-id="c80a9-178">L'esempio seguente crea questa chiave privata aggiuntiva appositamente per l'uso da parte di PuTTY:</span><span class="sxs-lookup"><span data-stu-id="c80a9-178">The following example creates this additional private key specifically for PuTTY to use:</span></span>

1. <span data-ttu-id="c80a9-179">Usare **Git Bash** per convertire la propria chiave privata in una chiave privata RSA che PuTTYgen possa comprendere.</span><span class="sxs-lookup"><span data-stu-id="c80a9-179">Use **Git Bash** to convert your private key into an RSA private key that PuTTYgen can understand.</span></span> <span data-ttu-id="c80a9-180">Nell'esempio seguente viene creata una chiave denominata `myPrivateKey_rsa` dalla chiave esistente denominata `myPrivateKey`:</span><span class="sxs-lookup"><span data-stu-id="c80a9-180">The following example creates a key named `myPrivateKey_rsa` from the existing key named `myPrivateKey`:</span></span>

    ```bash
    openssl rsa -in ./myPrivateKey.key -out myPrivateKey_rsa
    ```

    <span data-ttu-id="c80a9-181">Come misura di sicurezza, è necessario impostare le autorizzazioni per la chiave privata in modo da essere l'unica persona a potervi accedere:</span><span class="sxs-lookup"><span data-stu-id="c80a9-181">As a security measure, you should set the permissions on your private key so that only you can access it:</span></span>

    ```bash
    chmod 0600 myPrivateKey_rsa
    ```
2. <span data-ttu-id="c80a9-182">Scaricare ed eseguire PuTTYgen dal percorso seguente: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span><span class="sxs-lookup"><span data-stu-id="c80a9-182">Download and run PuTTYgen from the following location: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span></span>
3. <span data-ttu-id="c80a9-183">Fare clic sul menu: **File** > **Load Private Key**</span><span class="sxs-lookup"><span data-stu-id="c80a9-183">Click the menu: **File** > **Load Private Key**</span></span>
4. <span data-ttu-id="c80a9-184">Individuare la chiave privata (`myPrivateKey_rsa` nell'esempio precedente).</span><span class="sxs-lookup"><span data-stu-id="c80a9-184">Locate your private key (`myPrivateKey_rsa` in the previous example).</span></span> <span data-ttu-id="c80a9-185">La directory predefinita quando si avvia **Git Bash** è `C:\Users\%username%`.</span><span class="sxs-lookup"><span data-stu-id="c80a9-185">The default directory when you start **Git Bash** is `C:\Users\%username%`.</span></span> <span data-ttu-id="c80a9-186">Modificare il filtro dei file in modo da visualizzare **Tutti i file (\*.\*)**:</span><span class="sxs-lookup"><span data-stu-id="c80a9-186">Change the file filter to show **All Files (\*.\*)**:</span></span>

    ![Caricare la chiave privata esistente in PuTTYgen](./media/ssh-from-windows/load-private-key.png)
5. <span data-ttu-id="c80a9-188">Fare clic su **Apri**.</span><span class="sxs-lookup"><span data-stu-id="c80a9-188">Click **Open**.</span></span> <span data-ttu-id="c80a9-189">Un messaggio indica che la chiave è stata importata correttamente:</span><span class="sxs-lookup"><span data-stu-id="c80a9-189">A prompt indicates that the key has been successfully imported:</span></span>

    ![Chiave importata correttamente in PuTTYgen](./media/ssh-from-windows/successfully-imported-key.png)
6. <span data-ttu-id="c80a9-191">Fare clic su **OK** per chiudere la finestra del messaggio.</span><span class="sxs-lookup"><span data-stu-id="c80a9-191">Click **OK** to close the prompt.</span></span>
7. <span data-ttu-id="c80a9-192">La chiave pubblica viene visualizzata nella parte superiore della finestra di **PuTTYgen**.</span><span class="sxs-lookup"><span data-stu-id="c80a9-192">The public key is displayed at the top of the **PuTTYgen** window.</span></span> <span data-ttu-id="c80a9-193">Questa chiave pubblica potrà essere copiata e incollata nel portale di Azure o in un modello di Azure Resource Manager quando si crea una VM Linux.</span><span class="sxs-lookup"><span data-stu-id="c80a9-193">You copy and paste this public key into the Azure portal or Azure Resource Manager template when you create a Linux VM.</span></span> <span data-ttu-id="c80a9-194">È inoltre possibile fare clic su **Salva chiave pubblica** per salvare una copia nel computer:</span><span class="sxs-lookup"><span data-stu-id="c80a9-194">You can also click **Save public key** to save a copy to your computer:</span></span>

    ![Salvare un file di chiave pubblica PuTTY](./media/ssh-from-windows/save-public-key.png)

    <span data-ttu-id="c80a9-196">L'esempio seguente illustra come copiare e incollare questa chiave pubblica nel portale di Azure quando si crea una VM Linux.</span><span class="sxs-lookup"><span data-stu-id="c80a9-196">The following example shows how you would copy and paste this public key into the Azure portal when you create a Linux VM.</span></span> <span data-ttu-id="c80a9-197">Quindi la chiave pubblica viene generalmente archiviata in `~/.ssh/authorized_keys` nella nuova VM.</span><span class="sxs-lookup"><span data-stu-id="c80a9-197">The public key is typically then stored in `~/.ssh/authorized_keys` on your new VM.</span></span>

    ![Usare la chiave pubblica quando si crea una VM nel portale di Azure](./media/ssh-from-windows/use-public-key-azure-portal.png)
8. <span data-ttu-id="c80a9-199">Quando si torna in **PuTTYgen**, fare clic su **Save private Key**:</span><span class="sxs-lookup"><span data-stu-id="c80a9-199">Back in **PuTTYgen**, Click **Save private Key**:</span></span>

    ![Salvare il file di chiave privata PuTTY](./media/ssh-from-windows/save-ppk-file.png)

   > [!WARNING]
   > <span data-ttu-id="c80a9-201">Un messaggio chiede se si desidera continuare senza immettere una passphrase per la chiave.</span><span class="sxs-lookup"><span data-stu-id="c80a9-201">A prompt asks if you wish to continue without entering a passphrase for your key.</span></span> <span data-ttu-id="c80a9-202">Una passphrase è come una password associata alla chiave privata.</span><span class="sxs-lookup"><span data-stu-id="c80a9-202">A passphrase is like a password attached to your private key.</span></span> <span data-ttu-id="c80a9-203">Anche se qualcuno riuscisse a ottenere la chiave privata, la sola chiave non gli consentirebbe comunque di autenticarsi.</span><span class="sxs-lookup"><span data-stu-id="c80a9-203">Even if someone were to obtain your private key, they still would not be able to authenticate using just the key.</span></span> <span data-ttu-id="c80a9-204">Per farlo avrebbe bisogno anche della passphrase.</span><span class="sxs-lookup"><span data-stu-id="c80a9-204">They would also need the passphrase.</span></span> <span data-ttu-id="c80a9-205">Quando non si imposta una passphrase, se un utente ottiene la chiave privata potrà accedere a qualsiasi VM o servizio che usa tale chiave.</span><span class="sxs-lookup"><span data-stu-id="c80a9-205">Without a passphrase, if someone obtains your private key, they can log in to any VM or service that uses that key.</span></span> <span data-ttu-id="c80a9-206">Creare una passphrase è altamente consigliato.</span><span class="sxs-lookup"><span data-stu-id="c80a9-206">We recommend you create a passphrase.</span></span> <span data-ttu-id="c80a9-207">Tuttavia, se si dimentica la passphrase, non è possibile recuperarla.</span><span class="sxs-lookup"><span data-stu-id="c80a9-207">However, if you forget the passphrase, there is no way to recover it.</span></span>
   >
   >

    <span data-ttu-id="c80a9-208">Se si desidera immettere una passphrase, fare clic su **No**, immettere una passphrase nella finestra principale di PuTTYgen e quindi fare clic di nuovo su **Save private key**.</span><span class="sxs-lookup"><span data-stu-id="c80a9-208">If you wish to enter a passphrase, click **No**, enter a passphrase in the main PuTTYgen window, and then click **Save private key** again.</span></span> <span data-ttu-id="c80a9-209">In caso contrario, fare clic su **Sì** per continuare senza fornire la passphrase facoltativa.</span><span class="sxs-lookup"><span data-stu-id="c80a9-209">Otherwise, click **Yes** to continue without providing the optional passphrase.</span></span>
9. <span data-ttu-id="c80a9-210">Immettere un nome e un percorso in cui salvare il file PPK.</span><span class="sxs-lookup"><span data-stu-id="c80a9-210">Enter a name and location to save your PPK file.</span></span>

## <a name="use-putty-to-ssh-to-a-linux-machine"></a><span data-ttu-id="c80a9-211">Usare Putty per connettere SSH a un computer Linux</span><span class="sxs-lookup"><span data-stu-id="c80a9-211">Use Putty to SSH to a Linux Machine</span></span>
<span data-ttu-id="c80a9-212">PuTTY, come indicato in precedenza, è un comune client SSH per Windows.</span><span class="sxs-lookup"><span data-stu-id="c80a9-212">Again, PuTTY is a common SSH client for Windows.</span></span> <span data-ttu-id="c80a9-213">È possibile usare qualsiasi client SSH desiderato.</span><span class="sxs-lookup"><span data-stu-id="c80a9-213">You are free to use any SSH client that you wish.</span></span> <span data-ttu-id="c80a9-214">La procedura seguente illustra come usare la chiave privata per autenticarsi con la VM Azure tramite SSH.</span><span class="sxs-lookup"><span data-stu-id="c80a9-214">The following steps detail how to use your private key to authenticate with your Azure VM using SSH.</span></span> <span data-ttu-id="c80a9-215">I passaggi sono simili in altri client con chiave SSH per quanto riguarda la necessità di caricare la chiave privata per autenticare la connessione SSH.</span><span class="sxs-lookup"><span data-stu-id="c80a9-215">The steps are similar in other SSH key clients in terms of needing to load your private key to authenticate the SSH connection.</span></span>

1. <span data-ttu-id="c80a9-216">Scaricare ed eseguire putty dal percorso seguente: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span><span class="sxs-lookup"><span data-stu-id="c80a9-216">Download and run putty from the following location: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span></span>
2. <span data-ttu-id="c80a9-217">Specificare il nome host o l'indirizzo IP della VM dal portale di Azure:</span><span class="sxs-lookup"><span data-stu-id="c80a9-217">Fill in the host name or IP address of your VM from the Azure portal:</span></span>

    ![Aprire una nuova connessione PuTTY](./media/ssh-from-windows/putty-new-connection.png)
3. <span data-ttu-id="c80a9-219">Prima di selezionare **Apri**, fare clic sulla scheda **Connessione** > **SSH** > **Aut**.</span><span class="sxs-lookup"><span data-stu-id="c80a9-219">Before selecting **Open**, click **Connection** > **SSH** > **Auth** tab.</span></span> <span data-ttu-id="c80a9-220">Individuare e selezionare la chiave privata:</span><span class="sxs-lookup"><span data-stu-id="c80a9-220">Browse to and select your private key:</span></span>

    ![Selezionare la chiave privata PuTTY per l'autenticazione](./media/ssh-from-windows/putty-auth-dialog.png)
4. <span data-ttu-id="c80a9-222">Fare clic su **Open** per connettersi alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="c80a9-222">Click **Open** to connect to your virtual machine</span></span>

## <a name="next-steps"></a><span data-ttu-id="c80a9-223">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="c80a9-223">Next steps</span></span>
<span data-ttu-id="c80a9-224">È possibile generare chiavi pubbliche e private anche [con OS X e Linux](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c80a9-224">You can also generate the public and private keys [using OS X and Linux](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="c80a9-225">Per altre informazioni su Bash per Windows e sui vantaggi di avere strumenti OSS disponibili nel computer Windows, vedere [Bash in Ubuntu in Windows](https://msdn.microsoft.com/commandline/wsl/about).</span><span class="sxs-lookup"><span data-stu-id="c80a9-225">For more information about Bash for Windows and the benefits of having OSS tools readily available on your Windows computer, see [Bash on Ubuntu on Windows](https://msdn.microsoft.com/commandline/wsl/about).</span></span>

<span data-ttu-id="c80a9-226">Se si verificano problemi nell'uso di SSH per connettersi alle VM Linux, vedere [Risoluzione dei problemi di connessione SSH a una VM Linux di Azure](troubleshoot-ssh-connection.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c80a9-226">If you have trouble using SSH to connect to your Linux VMs, see [Troubleshoot SSH connections to an Azure Linux VM](troubleshoot-ssh-connection.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>
