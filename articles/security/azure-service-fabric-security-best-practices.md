---
title: procedure ottimali di protezione dell'infrastruttura a servizio aaaAzure | Documenti Microsoft
description: Questo articolo offre un set di procedure consigliate per la sicurezza di Azure Service Fabric.
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 483a21240da17d56bb4641653093ddcbad379d6a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="20835-103">Procedure consigliate per la sicurezza di Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="20835-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="20835-104">Distribuire un'applicazione in Azure è veloce, semplice ed economico.</span><span class="sxs-lookup"><span data-stu-id="20835-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="20835-105">Prima di distribuire l'applicazione cloud in produzione utile toohave una procedura consigliata tooassist nella valutazione dell'applicazione in un elenco di procedure consigliate essenziali e consigliate.</span><span class="sxs-lookup"><span data-stu-id="20835-105">Before deploying cloud application in production useful toohave a best practice tooassist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="20835-106">Azure Service Fabric è una piattaforma di sistemi distribuiti che rende facile toopackage, distribuire e gestire microservizi scalabili e affidabili.</span><span class="sxs-lookup"><span data-stu-id="20835-106">Azure Service Fabric is a distributed systems platform that makes it easy toopackage, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="20835-107">Service Fabric risolve inoltre le sfide significativo hello nello sviluppo e la gestione delle applicazioni cloud.</span><span class="sxs-lookup"><span data-stu-id="20835-107">Service Fabric also addresses hello significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="20835-108">Gli sviluppatori e gli amministratori non devono più occuparsi di risolvere complessi problemi di infrastruttura e possono concentrarsi sull'implementazione di carichi di lavoro cruciali e impegnativi, con la certezza di assicurare scalabilità, affidabilità e gestibilità.</span><span class="sxs-lookup"><span data-stu-id="20835-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="20835-109">Per ogni procedura consigliata verrà illustrato:</span><span class="sxs-lookup"><span data-stu-id="20835-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="20835-110">Quali consigliabile hello</span><span class="sxs-lookup"><span data-stu-id="20835-110">What hello best practice is</span></span>
-   <span data-ttu-id="20835-111">Motivo per cui si desidera tooenable consigliata</span><span class="sxs-lookup"><span data-stu-id="20835-111">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="20835-112">Se non è consigliata di hello tooenable, quale potrebbe essere il risultato di hello</span><span class="sxs-lookup"><span data-stu-id="20835-112">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="20835-113">Informazioni come procedura consigliata hello tooenable</span><span class="sxs-lookup"><span data-stu-id="20835-113">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="20835-114">Attualmente sono hello Azure Service Fabric sicurezza procedure consigliate seguenti:</span><span class="sxs-lookup"><span data-stu-id="20835-114">We currently have hello following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="20835-115">Utilizzare il modello Manager(ARM) risorse di Azure e cluster sicuro toocreate di modulo di PowerShell Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="20835-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module toocreate secure cluster</span></span>
-   <span data-ttu-id="20835-116">Usare certificati X.509</span><span class="sxs-lookup"><span data-stu-id="20835-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="20835-117">Configurare criteri di sicurezza</span><span class="sxs-lookup"><span data-stu-id="20835-117">Configure security policies</span></span>
-   <span data-ttu-id="20835-118">Configurazione della sicurezza in Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="20835-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="20835-119">Configurare l'autenticazione SSL per Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="20835-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="20835-120">Isolamento/sicurezza di rete con Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="20835-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="20835-121">Configurare un insieme di credenziali delle chiavi per la sicurezza</span><span class="sxs-lookup"><span data-stu-id="20835-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="20835-122">Assegnare gli utenti tooroles</span><span class="sxs-lookup"><span data-stu-id="20835-122">Assign users tooroles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="20835-123">Procedure consigliate per proteggere il cluster</span><span class="sxs-lookup"><span data-stu-id="20835-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="20835-124">**Quadro generale**</span><span class="sxs-lookup"><span data-stu-id="20835-124">**Big Picture**</span></span>

<span data-ttu-id="20835-125">Usare sempre un cluster sicuro</span><span class="sxs-lookup"><span data-stu-id="20835-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="20835-126">Sicurezza del cluster: usare i certificati</span><span class="sxs-lookup"><span data-stu-id="20835-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="20835-127">Accesso client (Admin e sola lettura): usare AAD</span><span class="sxs-lookup"><span data-stu-id="20835-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="20835-128">Usare distribuzioni automatiche</span><span class="sxs-lookup"><span data-stu-id="20835-128">Use automated deployments</span></span>
-   <span data-ttu-id="20835-129">Utilizzare gli script toogenerate, distribuire e, il rollover di segreti</span><span class="sxs-lookup"><span data-stu-id="20835-129">Use scripts toogenerate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="20835-130">Tenere i segreti hello KV, usare Active Directory per tutti gli altri accessi client</span><span class="sxs-lookup"><span data-stu-id="20835-130">Keep hello secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="20835-131">Nessun umane devono avere accesso toothem senza autenticazione.</span><span class="sxs-lookup"><span data-stu-id="20835-131">No human should have access toothem without authentication.</span></span>

<span data-ttu-id="20835-132">Inoltre, prendere in considerazione seguente hello:</span><span class="sxs-lookup"><span data-stu-id="20835-132">Additionally, consider hello following:</span></span>
-   <span data-ttu-id="20835-133">Creare reti perimetrali usando gruppi di sicurezza di rete (NSG)</span><span class="sxs-lookup"><span data-stu-id="20835-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="20835-134">Usare Jump tooRDP di server in macchine virtuali del cluster o toomanage in un cluster</span><span class="sxs-lookup"><span data-stu-id="20835-134">Use Jump servers tooRDP into cluster VMs or toomanage your cluster</span></span>

<span data-ttu-id="20835-135">I cluster devono essere utenti di tooprevent protetto non autorizzato dalla connessione tooyour cluster, in particolare quando dispone i carichi di lavoro in esecuzione su di esso.</span><span class="sxs-lookup"><span data-stu-id="20835-135">Clusters must be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="20835-136">Sebbene sia possibile toocreate un cluster non protetto, in questo modo consente agli utenti anonimi tooconnect tooit, se espone Gestione endpoint toohello rete Internet pubblica.</span><span class="sxs-lookup"><span data-stu-id="20835-136">Although it is possible toocreate an unsecured cluster, doing so allows anonymous users tooconnect tooit, if it exposes management endpoints toohello public Internet.</span></span>

<span data-ttu-id="20835-137">Utilizzare le tecnologie tooimplement tali scenari.</span><span class="sxs-lookup"><span data-stu-id="20835-137">Technologies used tooimplement those scenarios.</span></span> <span data-ttu-id="20835-138">Hello [degli scenari di sicurezza cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) sono:</span><span class="sxs-lookup"><span data-stu-id="20835-138">hello [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="20835-139">Nodo a nodo sicurezza This protegge le comunicazioni tra hello macchine virtuali e i computer nel cluster hello.</span><span class="sxs-lookup"><span data-stu-id="20835-139">Node-to-node security- This secures communication between hello VMs and computers in hello cluster.</span></span> <span data-ttu-id="20835-140">In questo modo si garantisce che solo i computer che sono autorizzati toojoin hello cluster possono prendere parte all'hosting di applicazioni e servizi in cluster hello.</span><span class="sxs-lookup"><span data-stu-id="20835-140">This ensures that only computers that are authorized toojoin hello cluster can participate in hosting applications and services in hello cluster.</span></span>
<span data-ttu-id="20835-141">I cluster eseguiti in Azure o i cluster autonomi eseguiti in Windows possono usare la [sicurezza basata su certificati](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) o la [sicurezza di Windows](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) per computer Windows Server.</span><span class="sxs-lookup"><span data-stu-id="20835-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="20835-142">Da client a nodo sicurezza This protegge le comunicazioni tra un client di Service Fabric e i singoli nodi cluster hello.</span><span class="sxs-lookup"><span data-stu-id="20835-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in hello cluster.</span></span>
-   <span data-ttu-id="20835-143">Controllo di accesso basato sui ruoli (RBAC) - hello ruoli amministratore e utente client è specificare in fase di creazione del cluster di hello fornendo identità separate (certificati, e così via AAD) per ognuno.</span><span class="sxs-lookup"><span data-stu-id="20835-143">Role-based access control (RBAC) - You specify hello administrator and user client roles at hello time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="20835-144">Consigli sulla sicurezza-cluster per Azure, è consigliabile usare i client tooauthenticate di sicurezza di Azure ad e i certificati per la sicurezza del nodo per nodo.</span><span class="sxs-lookup"><span data-stu-id="20835-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="20835-145">tooconfigure hello autonomo cluster di Windows, vedere [configurare le impostazioni per i cluster di windows autonoma](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="20835-145">tooconfigure hello standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="20835-146">Utilizzare i modelli di gestione risorse di Azure e cluster sicuro toocreate di modulo di PowerShell Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="20835-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module toocreate secure cluster.</span></span>
<span data-ttu-id="20835-147">Le istruzioni per configurare un cluster sicuro di Azure Service Fabric in Azure tramite Azure Resource Manager sono disponibili [qui](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="20835-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="20835-148">Usare un cluster di hello Azure Resource Manager modello toocustomize</span><span class="sxs-lookup"><span data-stu-id="20835-148">Use hello Azure Resource Manager template toocustomize your cluster</span></span>
-   <span data-ttu-id="20835-149">Archiviazione gestita tramite il programma di installazione per i dischi rigidi virtuali delle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="20835-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="20835-150">Utilizzare hello Azure Resource Manager modello toodrive modifiche tooyour gruppo di risorse</span><span class="sxs-lookup"><span data-stu-id="20835-150">Use hello Azure Resource Manager template toodrive changes tooyour Resource Group</span></span>
-   <span data-ttu-id="20835-151">Gestione facilitata della configurazione</span><span class="sxs-lookup"><span data-stu-id="20835-151">Easy configuration management</span></span>
-   <span data-ttu-id="20835-152">Controllo</span><span class="sxs-lookup"><span data-stu-id="20835-152">Auditing</span></span>

<span data-ttu-id="20835-153">Gestire la configurazione del cluster come codice</span><span class="sxs-lookup"><span data-stu-id="20835-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="20835-154">Eseguire il controllo delle configurazioni di hello prescelto toodeploy la diagnostica</span><span class="sxs-lookup"><span data-stu-id="20835-154">Be thorough in checking hello configurations you choose toodeploy</span></span>
-   <span data-ttu-id="20835-155">Evitare di utilizzare direttamente le risorse tootweak comandi implicita</span><span class="sxs-lookup"><span data-stu-id="20835-155">Avoid using implicit commands tootweak your resources directly</span></span>

<span data-ttu-id="20835-156">Molti aspetti di hello [ciclo di vita dell'applicazione Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) possono essere automatizzate.</span><span class="sxs-lookup"><span data-stu-id="20835-156">Many aspects of hello [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="20835-157">Il [modulo Azure PowerShell di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatizza le attività di uso più comune per la distribuzione, l'aggiornamento, la rimozione e il test delle applicazioni di Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="20835-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="20835-158">Sono disponibili anche API gestite e HTTP per la gestione delle app.</span><span class="sxs-lookup"><span data-stu-id="20835-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="20835-159">Usare certificati X.509</span><span class="sxs-lookup"><span data-stu-id="20835-159">Use X.509 certificates</span></span>
<span data-ttu-id="20835-160">I cluster devono sempre essere protetti con certificati x.509 o la sicurezza di Windows.</span><span class="sxs-lookup"><span data-stu-id="20835-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="20835-161">Al momento della creazione del cluster viene configurata solo la sicurezza e non è possibile tooenable sicurezza dopo la creazione di cluster hello.</span><span class="sxs-lookup"><span data-stu-id="20835-161">Security is only configured at cluster creation time and it is not possible tooenable security after hello cluster is created.</span></span>

<span data-ttu-id="20835-162">Se si specifica un [certificato cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), impostare il valore di hello di ClusterCredentialType tooX509.</span><span class="sxs-lookup"><span data-stu-id="20835-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set hello value of ClusterCredentialType tooX509.</span></span> <span data-ttu-id="20835-163">Se si specifica il certificato server per le connessioni esterne, impostare tooX509 ServerCredentialType hello.</span><span class="sxs-lookup"><span data-stu-id="20835-163">If you are specifying server certificate for outside connections, set hello ServerCredentialType tooX509.</span></span>

-   <span data-ttu-id="20835-164">È consigliabile creare i certificati usati nei cluster che eseguono carichi di lavoro di produzione con un servizio certificati di Windows Server configurato correttamente oppure ottenerli da un'Autorità di certificazione (CA) approvata.</span><span class="sxs-lookup"><span data-stu-id="20835-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="20835-165">Non usare mai in fase di produzione certificati temporanei o di test creati con strumenti come MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="20835-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="20835-166">È possibile usare un certificato autofirmato, ma lo si deve fare solo per i cluster di test e non nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="20835-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="20835-167">Se il cluster hello è protetto.</span><span class="sxs-lookup"><span data-stu-id="20835-167">If hello cluster is unsecure.</span></span> <span data-ttu-id="20835-168">Chiunque si può connettere in modo anonimo ed eseguire operazioni di gestione. È quindi necessario proteggere sempre i cluster di produzione usando certificati X.509 o la sicurezza di Windows.</span><span class="sxs-lookup"><span data-stu-id="20835-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="20835-169">più certificati tooenable in cluster di service fabric vedere, toolearn [aggiungere o rimuovere i certificati per un cluster di service fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="20835-169">toolearn more how tooenable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="20835-170">Configurare criteri di sicurezza</span><span class="sxs-lookup"><span data-stu-id="20835-170">Configure security policies</span></span>
<span data-ttu-id="20835-171">Service Fabric consente anche di hello sicuro le risorse usate dalle applicazioni in fase di hello della distribuzione con account utente di hello, ad esempio, file, directory e i certificati.</span><span class="sxs-lookup"><span data-stu-id="20835-171">Service Fabric also helps secure hello resources that are used by applications at hello time of deployment under hello user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="20835-172">In questo modo le applicazioni in esecuzione, anche in un ambiente ospitato condiviso, sono reciprocamente protette.</span><span class="sxs-lookup"><span data-stu-id="20835-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="20835-173">Usare un utente o gruppo di dominio Active Directory: È possibile eseguire hello servizio con le credenziali di hello per un account utente o gruppo di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="20835-173">Use an Active Directory domain group or user: You can run hello service under hello credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="20835-174">Si tratta di Active Directory locale nel dominio e non di Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="20835-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="20835-175">Usando un utente di dominio o un gruppo, possono quindi accedere altre risorse nel dominio hello (ad esempio, le condivisioni di file) che sono state concesse autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="20835-175">By using a domain user or group, you can then access other resources in hello domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="20835-176">Assegnare un criterio di accesso di sicurezza per gli endpoint HTTP e HTTPS: se si applica un servizio di tooa criteri RunAs e manifesto del servizio hello dichiara le risorse di endpoint con protocollo hello HTTP, è necessario specificare un tooensure SecurityAccessPolicy che porte allocata toothese gli endpoint sono correttamente ad accesso controllato elencati per l'account utente RunAs cui viene eseguito il servizio hello hello.</span><span class="sxs-lookup"><span data-stu-id="20835-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy tooa service and hello service manifest declares endpoint resources with hello HTTP protocol, you must specify a SecurityAccessPolicy tooensure that ports allocated toothese endpoints are correctly access-controlled listed for hello RunAs user account that hello service runs under.</span></span> <span data-ttu-id="20835-177">In caso contrario, http.sys non dispone di accesso toohello servizio e ricevere errori con le chiamate client hello.</span><span class="sxs-lookup"><span data-stu-id="20835-177">Otherwise, http.sys does not have access toohello service, and you get failures with calls from hello client.</span></span>
<span data-ttu-id="20835-178">toolearn abilitare più criteri di sicurezza dell'infrastruttura di servizio, vedere [configurare criteri di sicurezza per l'applicazione](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="20835-178">toolearn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="20835-179">Configurazione della sicurezza in Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="20835-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="20835-180">Servizio Fabric Reliable Actors è un'implementazione del modello di progettazione di hello attore.</span><span class="sxs-lookup"><span data-stu-id="20835-180">Service Fabric Reliable Actors is an implementation of hello actor design pattern.</span></span> <span data-ttu-id="20835-181">Come con qualsiasi modello di progettazione del software, decisione hello se toouse un pattern specifico viene eseguito in base a o meno un software per progettare problema soddisfa il criterio di hello.</span><span class="sxs-lookup"><span data-stu-id="20835-181">As with any software design pattern, hello decision whether toouse a specific pattern is made based on whether or not a software design problem fits hello pattern.</span></span>

<span data-ttu-id="20835-182">Come indicazione generale, prendere in considerazione hello attore modello toomodel il problema o scenario se:</span><span class="sxs-lookup"><span data-stu-id="20835-182">As general guidance, consider hello actor pattern toomodel your problem or scenario if:</span></span>
-   <span data-ttu-id="20835-183">Il problema riguarda un gran numero (migliaia o più) di piccole unità indipendenti e isolate di stato e logica.</span><span class="sxs-lookup"><span data-stu-id="20835-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="20835-184">Si desidera toowork con oggetti a thread singolo che non richiedono una notevole interazione da componenti esterni, incluse l'esecuzione di query dello stato in un set di attori.</span><span class="sxs-lookup"><span data-stu-id="20835-184">You want toowork with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="20835-185">Le istanze degli attori non bloccano i chiamanti con ritardi imprevedibili eseguendo operazioni I/O.</span><span class="sxs-lookup"><span data-stu-id="20835-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="20835-186">In Service Fabric, attori vengono implementati in framework Reliable Actors hello: un framework di applicazione basato su attori modello compilato in cima [affidabili servizi dell'infrastruttura](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="20835-186">In Service Fabric, actors are implemented in hello Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="20835-187">Ogni servizio di tipo Reliable Actor che viene scritto è di fatto un servizio Reliable partizionato con stato.</span><span class="sxs-lookup"><span data-stu-id="20835-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="20835-188">Ogni attore è definito come un'istanza di un tipo attore, identici toohello modo un oggetto .NET è un'istanza di un tipo .NET.</span><span class="sxs-lookup"><span data-stu-id="20835-188">Every actor is defined as an instance of an actor type, identical toohello way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="20835-189">Potrebbe esserci più attori di quel tipo distribuiti su vari nodi in un cluster, ad esempio, potrebbe esserci un tipo actor che implementa la funzionalità di hello di una calcolatrice.</span><span class="sxs-lookup"><span data-stu-id="20835-189">For example, there may be an actor type that implements hello functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="20835-190">Ciascuno di questi attori è identificato in modo univoco da un ID.</span><span class="sxs-lookup"><span data-stu-id="20835-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="20835-191">[Le configurazioni di sicurezza Replicator](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) sono canale di comunicazione utilizzati toosecure hello utilizzato durante la replica.</span><span class="sxs-lookup"><span data-stu-id="20835-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="20835-192">Ciò significa che i servizi non è possibile vedere di altro traffico di replica, assicurandosi che i dati hello resi altamente disponibili anche siano sicuri.</span><span class="sxs-lookup"><span data-stu-id="20835-192">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span> <span data-ttu-id="20835-193">Per impostazione predefinita, una sezione di configurazione della sicurezza vuota non abilita la sicurezza della replica.</span><span class="sxs-lookup"><span data-stu-id="20835-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="20835-194">Le configurazioni di Replicator configurare replicator hello che è responsabile di garantire lo stato del Provider di stato attore hello altamente affidabile.</span><span class="sxs-lookup"><span data-stu-id="20835-194">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="20835-195">Configurare l'autenticazione SSL per Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="20835-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="20835-196">L'autenticazione del server: [conferma](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello client di gestione tooa endpoint Gestione cluster, in modo che hello client management sa stia comunicando toohello reale cluster.</span><span class="sxs-lookup"><span data-stu-id="20835-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello cluster management endpoints tooa management client, so that hello management client knows it is talking toohello real cluster.</span></span> <span data-ttu-id="20835-197">Questo certificato fornisce inoltre un [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) per hello API di gestione HTTPS e per Service Fabric Explorer tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="20835-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for hello HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="20835-198">È necessario ottenere un nome di dominio personalizzato per il cluster.</span><span class="sxs-lookup"><span data-stu-id="20835-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="20835-199">Quando si richiede un certificato da un'autorità di certificazione, hello Nome soggetto del certificato deve corrispondere nome di dominio personalizzato hello utilizzati per il cluster.</span><span class="sxs-lookup"><span data-stu-id="20835-199">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="20835-200">tooconfigure SSL per un'applicazione, è innanzitutto necessario tooget un certificato SSL firmato da un'autorità di certificazione, una terza parte attendibile che rilascia certificati a questo scopo.</span><span class="sxs-lookup"><span data-stu-id="20835-200">tooconfigure SSL for an application, you first need tooget an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="20835-201">Se non hai già uno, è necessario tooobtain da una società che vende i certificati SSL.</span><span class="sxs-lookup"><span data-stu-id="20835-201">If you do not already have one, you need tooobtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="20835-202">certificato Hello deve soddisfare i seguenti requisiti per i certificati SSL in Azure hello:</span><span class="sxs-lookup"><span data-stu-id="20835-202">hello certificate must meet hello following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="20835-203">certificato di Hello deve contenere una chiave privata.</span><span class="sxs-lookup"><span data-stu-id="20835-203">hello certificate must contain a private key.</span></span>
-   <span data-ttu-id="20835-204">Hello certificato deve essere creato per lo scambio di chiave, esportabile tooa file di scambio di informazioni personali (PFX).</span><span class="sxs-lookup"><span data-stu-id="20835-204">hello certificate must be created for key exchange, exportable tooa Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="20835-205">Hello nome soggetto del certificato deve corrispondere il servizio cloud hello di hello dominio utilizzato tooaccess.</span><span class="sxs-lookup"><span data-stu-id="20835-205">hello certificate's subject name must match hello domain used tooaccess hello cloud service.</span></span> <span data-ttu-id="20835-206">È possibile ottenere un certificato SSL da un'autorità di certificazione (CA) per il dominio cloudapp.net hello.</span><span class="sxs-lookup"><span data-stu-id="20835-206">You cannot obtain an SSL certificate from a certificate authority (CA) for hello cloudapp.net domain.</span></span> <span data-ttu-id="20835-207">È necessario acquisire un toouse nome di dominio personalizzato durante l'accesso al servizio.</span><span class="sxs-lookup"><span data-stu-id="20835-207">You must acquire a custom domain name toouse when access your service.</span></span> <span data-ttu-id="20835-208">Quando si richiede un certificato da un'autorità di certificazione, nome del soggetto del certificato hello deve corrispondere tooaccess nome di dominio personalizzato hello l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="20835-208">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name used tooaccess your application.</span></span> <span data-ttu-id="20835-209">Se ad esempio il nome di dominio personalizzato è contoso.com, occorre richiedere alla CA un certificato per **.contoso.com** o **www.contoso.com.**</span><span class="sxs-lookup"><span data-stu-id="20835-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="20835-210">certificato di Hello deve utilizzare almeno la crittografia a 2048 bit.</span><span class="sxs-lookup"><span data-stu-id="20835-210">hello certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="20835-211">HTTP non è protetto ed è soggetto tooeavesdropping attacchi perché hello dati trasferiti dal server web toohello di hello web browser o tra gli altri endpoint, viene trasmesso in testo non crittografato.</span><span class="sxs-lookup"><span data-stu-id="20835-211">HTTP is insecure and is subject tooeavesdropping attacks because hello data being transferred from hello web browser toohello web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="20835-212">Ciò significa che gli utenti malintenzionati possono intercettare e visualizzare i dati sensibili, ad esempio i dati della carta di credito e gli account di accesso.</span><span class="sxs-lookup"><span data-stu-id="20835-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="20835-213">Quando i dati vengono inviati o pubblicati tramite un browser che usa il protocollo HTTPS, l'autenticazione SSL assicura che tali informazioni siano crittografate e protette da intercettazione.</span><span class="sxs-lookup"><span data-stu-id="20835-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="20835-214">vedere, più toolearn, [configurare SSL per l'applicazione azure](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="20835-214">toolearn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="20835-215">Isolamento/sicurezza di rete con Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="20835-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="20835-216">Utilizzare [modello di Azure Resource Manager (ARM)](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) come esempio per la configurazione di un tipo di nodo tre cluster protetto e toocontrol hello in ingresso e in uscita il traffico di rete tramite gruppi di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="20835-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and toocontrol hello inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="20835-217">modello Hello è associato un gruppo di sicurezza di rete per ogni hello scala set(VMSS) toocontrol hello traffico delle macchine virtuali da e verso hello VMSS.</span><span class="sxs-lookup"><span data-stu-id="20835-217">hello template has a Network Security Group for each of hello virtual machine scale set(VMSS) toocontrol hello traffic in and out of hello VMSS.</span></span> <span data-ttu-id="20835-218">Per impostazione predefinita, tooallow che tutti hello traffico Necessito vengono impostate regole hello da hello sistema hello e servizi alle porte dell'applicazione specificate nel modello di hello.</span><span class="sxs-lookup"><span data-stu-id="20835-218">As a default, hello rules are set up tooallow all hello traffic needed by hello system services and hello application ports specified in hello template.</span></span> <span data-ttu-id="20835-219">Esaminare le regole e apportare modifiche toofit delle esigenze, tra cui aggiungere quelli nuovi per le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="20835-219">Review those rules and make changes toofit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="20835-220">Per altre informazioni, vedere [Azure Service Fabric: Modelli di rete di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="20835-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="20835-221">Configurare un insieme di credenziali delle chiavi per la sicurezza</span><span class="sxs-lookup"><span data-stu-id="20835-221">Set up a key vault for security</span></span>
<span data-ttu-id="20835-222">I certificati vengono usati in Service Fabric tooprovide autenticazione e crittografia toosecure vari aspetti di un cluster e le relative applicazioni.</span><span class="sxs-lookup"><span data-stu-id="20835-222">Certificates are used in Service Fabric tooprovide authentication and encryption toosecure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="20835-223">Service Fabric utilizza toosecure certificati x. 509 un cluster e fornisce le funzionalità di sicurezza dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="20835-223">Service Fabric uses X.509 certificates toosecure a cluster and provide application security features.</span></span> <span data-ttu-id="20835-224">Utilizzare insieme di credenziali chiave troppo[gestire i certificati](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) per i cluster di Service Fabric in Azure.</span><span class="sxs-lookup"><span data-stu-id="20835-224">You use Key Vault too[manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="20835-225">Quando viene distribuito un cluster in Azure, i provider di risorse di Azure hello che è responsabili della creazione di cluster di Service Fabric estrae i certificati dall'insieme di credenziali chiave e li installa nel cluster hello macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="20835-225">When a cluster is deployed in Azure, hello Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on hello cluster VMs.</span></span>

<span data-ttu-id="20835-226">relazione tra Hello [insieme credenziali chiavi Azure](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), un cluster di service fabric e provider di risorse di Azure hello che utilizza i certificati archiviati in un insieme di credenziali chiave durante la creazione di un cluster.</span><span class="sxs-lookup"><span data-stu-id="20835-226">hello relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and hello Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="20835-227">**Creare un gruppo di risorse** hello primo passaggio consiste toocreate un gruppo di risorse in modo specifico per l'insieme di credenziali chiave.</span><span class="sxs-lookup"><span data-stu-id="20835-227">**Create a resource group** hello first step is toocreate a resource group specifically for your key vault.</span></span> <span data-ttu-id="20835-228">Si consiglia di inserire l'insieme di credenziali chiave hello nel proprio gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="20835-228">We recommend that you put hello key vault into its own resource group.</span></span> <span data-ttu-id="20835-229">Questa azione consente di rimuovere hello calcolo e archiviazione gruppi di risorse, tra cui gruppo di risorse hello che contiene il cluster di Service Fabric, senza perdere le chiavi e segreti.</span><span class="sxs-lookup"><span data-stu-id="20835-229">This action lets you remove hello compute and storage resource groups, including hello resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="20835-230">gruppo di risorse Hello che contiene l'insieme di credenziali chiave deve essere in hello stessa area geografica hello cluster che lo usa.</span><span class="sxs-lookup"><span data-stu-id="20835-230">hello resource group that contains your key vault must be in hello same region as hello cluster that is using it.</span></span>

<span data-ttu-id="20835-231">**Creare un insieme di credenziali chiave nel nuovo gruppo di risorse hello** hello insieme di credenziali deve essere abilitato per la distribuzione tooallow hello calcolo certificati tooget provider di risorse da esso e installarla su istanze di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="20835-231">**Create a key vault in hello new resource group** hello key vault must be enabled for deployment tooallow hello compute resource provider tooget certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="20835-232">toolearn più tooset di insieme di credenziali chiave di Azure vedere, [introduzione insieme credenziali chiavi Azure](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="20835-232">toolearn more how tooset up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="20835-233">Assegnare utenti ai ruoli</span><span class="sxs-lookup"><span data-stu-id="20835-233">Assign users roles</span></span>
<span data-ttu-id="20835-234">Dopo aver creato hello toorepresent di applicazioni del cluster, assegnare gli utenti ruoli toohello supportati dall'infrastruttura di servizio: sola lettura e l'amministratore. È possibile assegnare ruoli hello utilizzando hello portale di Azure classico.</span><span class="sxs-lookup"><span data-stu-id="20835-234">After you have created hello applications toorepresent your cluster, assign your users toohello roles supported by Service Fabric: read-only and admin. You can assign hello roles by using hello Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="20835-235">Per altre informazioni sui ruoli in Service Fabric, vedere [Controllo degli accessi in base al ruolo per i client di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="20835-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="20835-236">Azure Service Fabric supporta due tipi di controllo di accesso diversi per i client che sono connesso tooa [cluster di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): amministratore e utente.</span><span class="sxs-lookup"><span data-stu-id="20835-236">Azure Service Fabric supports two different access control types for clients that are connected tooa [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="20835-237">Controllo degli accessi consente hello cluster amministratore toolimit accesso toocertain le operazioni del cluster per diversi gruppi di utenti, di rendere più sicuro cluster hello.</span><span class="sxs-lookup"><span data-stu-id="20835-237">Access control allows hello cluster administrator toolimit access toocertain cluster operations for different groups of users, making hello cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="20835-238">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="20835-238">Next steps</span></span>
- <span data-ttu-id="20835-239">Configurazione dell'[ambiente di sviluppo di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="20835-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="20835-240">Informazioni sulle [opzioni di supporto di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="20835-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

