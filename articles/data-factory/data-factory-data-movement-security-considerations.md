---
title: Considerazioni sulla sicurezza dello spostamento dei dati in Azure Data Factory | Microsoft Docs
description: Informazioni su come proteggere lo spostamento dei dati in Azure Data Factory.
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: monicar
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/27/2017
ms.author: abnarain
ms.openlocfilehash: 4c39d71a2a2f9451531f0c0082c05fd6dc54fbd5
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="azure-data-factory---security-considerations-for-data-movement"></a><span data-ttu-id="5c0a5-103">Azure Data Factory: considerazioni sulla sicurezza dello spostamento dei dati</span><span class="sxs-lookup"><span data-stu-id="5c0a5-103">Azure Data Factory - Security considerations for data movement</span></span>
## <a name="introduction"></a><span data-ttu-id="5c0a5-104">Introduzione</span><span class="sxs-lookup"><span data-stu-id="5c0a5-104">Introduction</span></span>
<span data-ttu-id="5c0a5-105">Questo articolo descrive l'infrastruttura di sicurezza di base usata dai servizi di spostamento dei dati in Azure Data Factory per proteggere i dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-105">This article describes basic security infrastructure that data movement services in Azure Data Factory use to secure your data.</span></span> <span data-ttu-id="5c0a5-106">Le risorse di gestione di Azure Data Factory si basano sull'infrastruttura di sicurezza di Azure e ricorrono a tutte le misure di sicurezza offerte da Azure.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-106">Azure Data Factory management resources are built on Azure security infrastructure and use all possible security measures offered by Azure.</span></span>

<span data-ttu-id="5c0a5-107">In una soluzione Data Factory si creano una o più [pipeline](data-factory-create-pipelines.md)di dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-107">In a Data Factory solution, you create one or more data [pipelines](data-factory-create-pipelines.md).</span></span> <span data-ttu-id="5c0a5-108">Una pipeline è un raggruppamento logico di attività che insieme eseguono un compito.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-108">A pipeline is a logical grouping of activities that together perform a task.</span></span> <span data-ttu-id="5c0a5-109">Queste pipeline si trovano nell'area in cui è stata creata la data factory.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-109">These pipelines reside in the region where the data factory was created.</span></span> 

<span data-ttu-id="5c0a5-110">Anche se Data Factory è disponibile solo nelle aree **Stati Uniti occidentali**, **Stati Uniti orientali** ed **Europa settentrionale**, il servizio di spostamento dei dati è disponibile [a livello globale](data-factory-data-movement-activities.md#global) in alcune aree.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-110">Even though Data Factory is available in only **West US**, **East US**, and **North Europe** regions, the data movement service is available [globally in several regions](data-factory-data-movement-activities.md#global).</span></span> <span data-ttu-id="5c0a5-111">Il servizio Data Factory assicura che i dati non lascino un'area geografica/area a meno che non venga indicano esplicitamente al servizio di usare un'area alternativa nel caso in cui il servizio di spostamento dei dati non fosse stato ancora distribuito in tale area.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-111">Data Factory service ensures that data does not leave a geographical area/ region unless you explicitly instruct the service to use an alternate region if the data movement service is not yet deployed to that region.</span></span> 

<span data-ttu-id="5c0a5-112">Azure Data Factory non archivia i dati ad eccezione delle credenziali del servizio collegato per gli archivi di dati cloud, che vengono crittografate tramite l'uso di certificati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-112">Azure Data Factory itself does not store any data except for linked service credentials for cloud data stores, which are encrypted using certificates.</span></span> <span data-ttu-id="5c0a5-113">Consente di creare flussi di lavoro basati sui dati per orchestrare lo spostamento di dati tra [archivi dati supportati](data-factory-data-movement-activities.md#supported-data-stores-and-formats) e l'elaborazione di dati usando i [servizi di calcolo](data-factory-compute-linked-services.md) in altre aree o in un ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-113">It lets you create data-driven workflows to orchestrate movement of data between [supported data stores](data-factory-data-movement-activities.md#supported-data-stores-and-formats) and processing of data using [compute services](data-factory-compute-linked-services.md) in other regions or in an on-premises environment.</span></span> <span data-ttu-id="5c0a5-114">Consente anche di [monitorare e gestire i flussi di lavoro](data-factory-monitor-manage-pipelines.md) usando meccanismi a livello di codice e di interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-114">It also allows you to [monitor and manage workflows](data-factory-monitor-manage-pipelines.md) using both programmatic and UI mechanisms.</span></span>

<span data-ttu-id="5c0a5-115">Lo spostamento dei dati con Azure Data Factory è stato **certificato** per:</span><span class="sxs-lookup"><span data-stu-id="5c0a5-115">Data movement using Azure Data Factory has been **certified** for:</span></span>
-   [<span data-ttu-id="5c0a5-116">HIPAA/HITECH</span><span class="sxs-lookup"><span data-stu-id="5c0a5-116">HIPAA/HITECH</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/HIPAA)  
-   [<span data-ttu-id="5c0a5-117">ISO/IEC 27001</span><span class="sxs-lookup"><span data-stu-id="5c0a5-117">ISO/IEC 27001</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27001)  
-   [<span data-ttu-id="5c0a5-118">ISO/IEC 27018</span><span class="sxs-lookup"><span data-stu-id="5c0a5-118">ISO/IEC 27018</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27018) 
-   [<span data-ttu-id="5c0a5-119">CSA STAR</span><span class="sxs-lookup"><span data-stu-id="5c0a5-119">CSA STAR</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/CSA-STAR-Certification)
     
<span data-ttu-id="5c0a5-120">Se si è interessati alla conformità di Azure e alle modalità di protezione dell'infrastruttura da parte di Azure, visitare il [Microsoft Trust Center](https://www.microsoft.com/TrustCenter/default.aspx).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-120">If you are interested in Azure compliance and how Azure secures its own infrastructure, visit the [Microsoft Trust Center](https://www.microsoft.com/TrustCenter/default.aspx).</span></span> 

<span data-ttu-id="5c0a5-121">In questo articolo vengono prese in esame le considerazioni sulla sicurezza nei due scenari di spostamento di dati seguenti:</span><span class="sxs-lookup"><span data-stu-id="5c0a5-121">In this article, we review security considerations in the following two data movement scenarios:</span></span> 

- <span data-ttu-id="5c0a5-122">**Scenario cloud**: in questo scenario, l'origine e la destinazione sono accessibili pubblicamente tramite internet.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-122">**Cloud scenario**- In this scenario, both your source and destination are publicly accessible through internet.</span></span> <span data-ttu-id="5c0a5-123">Sono inclusi i servizi di archiviazione cloud gestiti come Archiviazione di Azure, Azure SQL Data Warehouse, Database SQL di Azure, Azure Data Lake Store, Amazon S3, Amazon Redshift, i servizi SaaS come Salesforce e i protocolli Web, ad esempio FTP e OData.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-123">These include managed cloud storage services like Azure Storage, Azure SQL Data Warehouse, Azure SQL Database, Azure Data Lake Store, Amazon S3, Amazon Redshift, SaaS services such as Salesforce, and web protocols such as FTP and OData.</span></span> <span data-ttu-id="5c0a5-124">L'elenco completo delle origini dati supportate è disponibile [qui](data-factory-data-movement-activities.md#supported-data-stores-and-formats).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-124">You can find a complete list of supported data sources [here](data-factory-data-movement-activities.md#supported-data-stores-and-formats).</span></span>
- <span data-ttu-id="5c0a5-125">**Scenario ibrido**: in questo scenario l'origine e la destinazione sono entrambe protette da un firewall o all'interno di una rete aziendale locale, oppure l'archivio dati è in una rete privata/virtuale (più spesso l'origine) e non vi si può accedere pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-125">**Hybrid scenario**- In this scenario, either your source or destination is behind a firewall or inside an on-premises corporate network or the data store is in a private network/ virtual network (most often the source) and is not publicly accessible.</span></span> <span data-ttu-id="5c0a5-126">Anche i server di database ospitati nelle macchine virtuali rientrano in questo scenario.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-126">Database servers hosted on virtual machines also fall under this scenario.</span></span>

## <a name="cloud-scenarios"></a><span data-ttu-id="5c0a5-127">Scenari cloud</span><span class="sxs-lookup"><span data-stu-id="5c0a5-127">Cloud scenarios</span></span>
###<a name="securing-data-store-credentials"></a><span data-ttu-id="5c0a5-128">Proteggere le credenziali dell'archivio dati</span><span class="sxs-lookup"><span data-stu-id="5c0a5-128">Securing data store credentials</span></span>
<span data-ttu-id="5c0a5-129">Azure Data Factory protegge le credenziali dell'archivio dati **crittografandoli** con i **certificati gestiti da Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-129">Azure Data Factory protects your data store credentials by **encrypting** them by using **certificates managed by Microsoft**.</span></span> <span data-ttu-id="5c0a5-130">Questi certificati ruotano ogni **due anni** (in questo arco temporale è compreso il rinnovo del certificato e la migrazione delle credenziali).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-130">These certificates are rotated every **two years** (which includes renewal of certificate and migration of credentials).</span></span> <span data-ttu-id="5c0a5-131">Queste credenziali crittografate vengono archiviate in modo sicuro all'interno di un'**Archiviazione di Azure gestita dai servizi di gestione di Azure Data Factory**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-131">These encrypted credentials are securely stored in an **Azure Storage managed by Azure Data Factory management services**.</span></span> <span data-ttu-id="5c0a5-132">Per altre informazioni sulla sicurezza di Archiviazione di Azure, vedere [Panoramica sulla sicurezza di Archiviazione di Azure](../security/security-storage-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-132">For more information about Azure Storage security, refer [Azure Storage Security Overview](../security/security-storage-overview.md).</span></span>

### <a name="data-encryption-in-transit"></a><span data-ttu-id="5c0a5-133">Crittografia di dati in transito</span><span class="sxs-lookup"><span data-stu-id="5c0a5-133">Data encryption in transit</span></span>
<span data-ttu-id="5c0a5-134">Se l'archivio dati cloud supporta HTTPS o TLS, tutti i trasferimenti di dati tra i servizi di spostamento dei dati in Data Factory e un archivio dati cloud avvengono tramite un canale TLS o HTTPS sicuro.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-134">If the cloud data store supports HTTPS or TLS, all data transfers between data movement services in Data Factory and a cloud data store are via secure channel HTTPS or TLS.</span></span>

> [!NOTE]
> <span data-ttu-id="5c0a5-135">Tutte le connessioni al **database SQL di Azure** e ad **Azure SQL Data Warehouse** richiedono sempre la crittografia (SSL/TLS) quando i dati sono in transito da e verso il database.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-135">All connections to **Azure SQL Database** and **Azure SQL Data Warehouse** always require encryption (SSL/TLS) while data is in transit to and from the database.</span></span> <span data-ttu-id="5c0a5-136">Durante la creazione di una pipeline con un editor JSON, aggiungere la proprietà **crittografia** e impostarla su **true** nella **stringa di connessione**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-136">While authoring a pipeline using a JSON editor, add the **encryption** property and set it to **true** in the **connection string**.</span></span> <span data-ttu-id="5c0a5-137">Quando si usa [Copia guidata](data-factory-azure-copy-wizard.md), la procedura guidata imposta questa proprietà per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-137">When you use the [Copy Wizard](data-factory-azure-copy-wizard.md), the wizard sets this property by default.</span></span> <span data-ttu-id="5c0a5-138">Per **Archiviazione di Azure** è possibile usare **HTTPS** nella stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-138">For **Azure Storage**, you can use **HTTPS** in the connection string.</span></span>

### <a name="data-encryption-at-rest"></a><span data-ttu-id="5c0a5-139">Crittografia di dati inattivi</span><span class="sxs-lookup"><span data-stu-id="5c0a5-139">Data encryption at rest</span></span>
<span data-ttu-id="5c0a5-140">Alcuni archivi di dati supportano la crittografia dei dati inattivi.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-140">Some data stores support encryption of data at rest.</span></span> <span data-ttu-id="5c0a5-141">È consigliabile abilitare il meccanismo di crittografia dei dati per gli archivi dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-141">We suggest that you enable data encryption mechanism for those data stores.</span></span> 

#### <a name="azure-sql-data-warehouse"></a><span data-ttu-id="5c0a5-142">Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="5c0a5-142">Azure SQL Data Warehouse</span></span>
<span data-ttu-id="5c0a5-143">La funzionalità Transparent Data Encryption (TDE) di Azure SQL Data Warehouse consente di proteggersi da attività dannose eseguendo in tempo reale la crittografia e la decrittografia dei dati inattivi.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-143">Transparent Data Encryption (TDE) in Azure SQL Data Warehouse helps with protecting against the threat of malicious activity by performing real-time encryption and decryption of your data at rest.</span></span> <span data-ttu-id="5c0a5-144">Questo comportamento è trasparente per il client.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-144">This behavior is transparent to the client.</span></span> <span data-ttu-id="5c0a5-145">Per altre informazioni, vedere [Proteggere un database in SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-145">For more information, see [Secure a database in SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span></span>

#### <a name="azure-sql-database"></a><span data-ttu-id="5c0a5-146">Database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="5c0a5-146">Azure SQL Database</span></span>
<span data-ttu-id="5c0a5-147">Il database SQL di Azure supporta anche la funzionalità Transparent Data Encryption (TDE), che consente di proteggersi da attività dannose eseguendo in tempo reale la crittografia e la decrittografia dei dati, senza dover apportare modifiche all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-147">Azure SQL Database also supports transparent data encryption (TDE), which helps with protecting against the threat of malicious activity by performing real-time encryption and decryption of the data without requiring changes to the application.</span></span> <span data-ttu-id="5c0a5-148">Questo comportamento è trasparente per il client.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-148">This behavior is transparent to the client.</span></span> <span data-ttu-id="5c0a5-149">Per altre informazioni, vedere [Transparent Data Encryption con il database SQL di Azure](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-149">For more information, see [Transparent Data Encryption with Azure SQL Database](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database).</span></span> 

#### <a name="azure-data-lake-store"></a><span data-ttu-id="5c0a5-150">Archivio Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="5c0a5-150">Azure Data Lake Store</span></span>
<span data-ttu-id="5c0a5-151">Azure Data Lake Store offre anche la possibilità di crittografare i dati archiviati nell'account.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-151">Azure Data Lake store also provides encryption for data stored in the account.</span></span> <span data-ttu-id="5c0a5-152">Se abilitato, Data Lake Store crittografa automaticamente i dati prima di renderli persistenti e li decrittografa prima di recuperarli, rendendo quindi trasparente per il client l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-152">When enabled, Data Lake store automatically encrypts data before persisting and decrypts before retrieval, making it transparent to the client accessing the data.</span></span> <span data-ttu-id="5c0a5-153">Per altre informazioni, vedere [Sicurezza in Archivio Azure Data Lake](../data-lake-store/data-lake-store-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-153">For more information, see [Security in Azure Data Lake Store](../data-lake-store/data-lake-store-security-overview.md).</span></span> 

#### <a name="azure-blob-storage-and-azure-table-storage"></a><span data-ttu-id="5c0a5-154">Archiviazione BLOB di Azure e Archiviazione tabelle di Azure</span><span class="sxs-lookup"><span data-stu-id="5c0a5-154">Azure Blob Storage and Azure Table Storage</span></span>
<span data-ttu-id="5c0a5-155">Archiviazione BLOB di Azure e Archiviazione tabelle di Azure supportano la crittografia del servizio di archiviazione, che crittografa automaticamente i dati prima di renderli persistenti nella risorsa di archiviazione e li decrittografa prima di recuperarli.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-155">Azure Blob Storage and Azure Table storage supports Storage Service Encryption (SSE), which automatically encrypts your data before persisting to storage and decrypts before retrieval.</span></span> <span data-ttu-id="5c0a5-156">Per altre informazioni, vedere [Crittografia del servizio di archiviazione di Azure per dati inattivi](../storage/common/storage-service-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-156">For more information, see [Azure Storage Service Encryption for Data at Rest](../storage/common/storage-service-encryption.md).</span></span>

#### <a name="amazon-s3"></a><span data-ttu-id="5c0a5-157">Amazon S3</span><span class="sxs-lookup"><span data-stu-id="5c0a5-157">Amazon S3</span></span>
<span data-ttu-id="5c0a5-158">Amazon S3 supporta la crittografia client e server dei dati inattivi.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-158">Amazon S3 supports both client and server encryption of data at Rest.</span></span> <span data-ttu-id="5c0a5-159">Per altre informazioni, vedere [Protezione dei dati mediante la crittografia](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-159">For more information, see [Protecting Data Using Encryption](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html).</span></span> <span data-ttu-id="5c0a5-160">Attualmente, Data Factory non supporta Amazon S3 all'interno di un cloud privato virtuale (VPC).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-160">Currently, Data Factory does not support Amazon S3 inside a virtual private cloud (VPC).</span></span>

#### <a name="amazon-redshift"></a><span data-ttu-id="5c0a5-161">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="5c0a5-161">Amazon Redshift</span></span>
<span data-ttu-id="5c0a5-162">Amazon Redshift supporta la crittografia cluster per i dati inattivi.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-162">Amazon Redshift supports cluster encryption for data at rest.</span></span> <span data-ttu-id="5c0a5-163">Per altre informazioni, vedere [Amazon Redshift Database Encryption](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html) (Crittografia database Amazon Redshift).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-163">For more information, see [Amazon Redshift Database Encryption](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html).</span></span> <span data-ttu-id="5c0a5-164">Attualmente, Data Factory non supporta Amazon Redshift all'interno di un cloud privato virtuale (VPC).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-164">Currently, Data Factory does not support Amazon Redshift inside a VPC.</span></span> 

#### <a name="salesforce"></a><span data-ttu-id="5c0a5-165">Salesforce</span><span class="sxs-lookup"><span data-stu-id="5c0a5-165">Salesforce</span></span>
<span data-ttu-id="5c0a5-166">Salesforce supporta il servizio Shield Platform Encryption, che consente la crittografia di tutti i file, gli allegati e i campi personalizzati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-166">Salesforce supports Shield Platform Encryption that allows encryption of all files, attachments, custom fields.</span></span> <span data-ttu-id="5c0a5-167">Per altre informazioni, vedere [Understanding the Web Server OAuth Authentication Flow](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm) (Comprendere il flusso di autenticazione OAuth per il server Web).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-167">For more information, see [Understanding the Web Server OAuth Authentication Flow](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm).</span></span>  

## <a name="hybrid-scenarios-using-data-management-gateway"></a><span data-ttu-id="5c0a5-168">Scenari ibridi (usando il gateway di gestione dati)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-168">Hybrid Scenarios (using Data Management Gateway)</span></span>
<span data-ttu-id="5c0a5-169">Gli scenari ibridi richiedono l'installazione del gateway di gestione dati in una rete locale, in una rete virtuale (Azure) o in una cloud privato virtuale (Amazon).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-169">Hybrid scenarios require Data Management Gateway to be installed in an on-premises network or inside a virtual network (Azure) or a virtual private cloud (Amazon).</span></span> <span data-ttu-id="5c0a5-170">Il gateway deve essere in grado di accedere gli archivi dati locali.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-170">The gateway must be able to access the local data stores.</span></span> <span data-ttu-id="5c0a5-171">Per altre informazioni sul gateway, vedere [Gateway di gestione dati](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-171">For more information about the gateway, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span> 

![Canali del gateway di gestione dati](media/data-factory-data-movement-security-considerations/data-management-gateway-channels.png)

<span data-ttu-id="5c0a5-173">Il **canale di comando** consente la comunicazione tra i servizi di spostamento dei dati in Data Factory e nel gateway di gestione dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-173">The **command channel** allows communication between data movement services in Data Factory and Data Management Gateway.</span></span> <span data-ttu-id="5c0a5-174">La comunicazione contiene informazioni relative all'attività.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-174">The communication contains information related to the activity.</span></span> <span data-ttu-id="5c0a5-175">Il canale di dati viene usato per trasferire i dati tra gli archivi dati locali e quelli nel cloud.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-175">The data channel is used for transferring data between on-premises data stores and cloud data stores.</span></span>    

### <a name="on-premises-data-store-credentials"></a><span data-ttu-id="5c0a5-176">Credenziali dell'archivio dati locale</span><span class="sxs-lookup"><span data-stu-id="5c0a5-176">On-premises data store credentials</span></span>
<span data-ttu-id="5c0a5-177">Le credenziali per gli archivi dati locali vengono salvate in locale (non nel cloud) e</span><span class="sxs-lookup"><span data-stu-id="5c0a5-177">The credentials for your on-premises data stores are stored locally (not in the cloud).</span></span> <span data-ttu-id="5c0a5-178">possono essere impostate in tre modi diversi.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-178">They can be set in three different ways.</span></span> 

- <span data-ttu-id="5c0a5-179">Usando **testo normale** (meno sicuro) tramite HTTPS dal portale di Azure/Copia guidata.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-179">Using **plain-text** (less secure) via HTTPS from Azure Portal/ Copy Wizard.</span></span> <span data-ttu-id="5c0a5-180">Le credenziali vengono trasferite al gateway locale in testo normale.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-180">The credentials are passed in plain-text to the on-premises gateway.</span></span>
- <span data-ttu-id="5c0a5-181">Usando la **libreria JavaScript per la crittografia da Copia guidata**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-181">Using **JavaScript Cryptography library from Copy Wizard**.</span></span>
- <span data-ttu-id="5c0a5-182">Usando l'**app di gestione delle credenziali basata su un solo clic**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-182">Using **click-once based credentials manager app**.</span></span> <span data-ttu-id="5c0a5-183">L'applicazione con un solo clic viene eseguita nel computer locale che ha accesso al gateway e imposta le credenziali per l'archivio dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-183">The click-once application executes on the on-premises machine that has access to the gateway and sets credentials for the data store.</span></span> <span data-ttu-id="5c0a5-184">Questa opzione e la successiva sono le opzioni più sicure.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-184">This option and the next one are the most secure options.</span></span> <span data-ttu-id="5c0a5-185">Per impostazione predefinita, l'app di gestione delle credenziali usa la porta 8050 nella macchina con il gateway per la comunicazione sicura.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-185">The credential manager app, by default, uses the port 8050 on the machine with gateway for secure communication.</span></span>  
- <span data-ttu-id="5c0a5-186">Usare il cmdlet di PowerShell [New-AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) per crittografare le credenziali.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-186">Use [New-AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) PowerShell cmdlet to encrypt credentials.</span></span> <span data-ttu-id="5c0a5-187">Questo cmdlet consente di crittografare le credenziali mediante il certificato usato dal gateway.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-187">The cmdlet uses the certificate that gateway is configured to use to encrypt the credentials.</span></span> <span data-ttu-id="5c0a5-188">È possibile usare le credenziali crittografate restituite da questo cmdlet e aggiungerle all'elemento **EncryptedCredential** di **connectionString** nel file JSON che si usa con il cmdlet [New-AzureRmDataFactoryLinkedService](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) o nel frammento di codice JSON nell'editor di Data Factory nel portale.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-188">You can use the encrypted credentials returned by this cmdlet and add it to **EncryptedCredential** element of the **connectionString** in the JSON file that you use with the [New-AzureRmDataFactoryLinkedService](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) cmdlet or in the JSON snippet in the Data Factory Editor in the portal.</span></span> <span data-ttu-id="5c0a5-189">Questa opzione e l'applicazione con un clic sono le opzioni più sicure.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-189">This option and the click-once application are the most secure options.</span></span> 

#### <a name="javascript-cryptography-library-based-encryption"></a><span data-ttu-id="5c0a5-190">Crittografia basata sulla libreria JavaScript per la crittografia</span><span class="sxs-lookup"><span data-stu-id="5c0a5-190">JavaScript cryptography library-based encryption</span></span>
<span data-ttu-id="5c0a5-191">È possibile crittografare le credenziali di archivio dati usando la [libreria JavaScript per la crittografia](https://www.microsoft.com/download/details.aspx?id=52439) da [Copia guidata](data-factory-copy-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-191">You can encrypt data store credentials using [JavaScript Cryptography library](https://www.microsoft.com/download/details.aspx?id=52439) from the [Copy Wizard](data-factory-copy-wizard.md).</span></span> <span data-ttu-id="5c0a5-192">Quando si seleziona questa opzione, Copia guidata recupera la chiave pubblica del gateway e la usa per crittografare le credenziali dell'archivio dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-192">When you select this option, the Copy Wizard retrieves the public key of gateway and uses it to encrypt the data store credentials.</span></span> <span data-ttu-id="5c0a5-193">Le credenziali vengono decrittografate dal computer del gateway e protetta da Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-193">The credentials are decrypted by the gateway machine and protected by Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span></span>

<span data-ttu-id="5c0a5-194">**Browser supportati:** IE8, IE9, IE10, IE11, Microsoft Edge e l'ultima versione di Firefox, Chrome, Opera, Safari.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-194">**Supported browsers:** IE8, IE9, IE10, IE11, Microsoft Edge, and latest Firefox, Chrome, Opera, Safari browsers.</span></span> 

#### <a name="click-once-credentials-manager-app"></a><span data-ttu-id="5c0a5-195">App di gestione delle credenziali con un solo clic</span><span class="sxs-lookup"><span data-stu-id="5c0a5-195">Click-once credentials manager app</span></span>
<span data-ttu-id="5c0a5-196">È possibile avviare l'app di gestione delle credenziali basata su un solo clic dal portale di Azure/Copia guidata durante la creazione di pipeline.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-196">You can launch the click-once based credential manager app from Azure portal/Copy Wizard when authoring pipelines.</span></span> <span data-ttu-id="5c0a5-197">Questa applicazione assicura che le credenziali non vengano trasmesse via cavo in testo normale.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-197">This application ensures that credentials are not transferred in plain text over the wire.</span></span> <span data-ttu-id="5c0a5-198">Per impostazione predefinita, questa app usa la porta **8050** nella macchina con il gateway per la comunicazione sicura.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-198">By default, it uses the port **8050** on the machine with gateway for secure communication.</span></span> <span data-ttu-id="5c0a5-199">Se necessario, è possibile cambiare porta.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-199">If necessary, this port can be changed.</span></span>  
  
![Porta HTTPS per il gateway](media/data-factory-data-movement-security-considerations/https-port-for-gateway.png)

<span data-ttu-id="5c0a5-201">Attualmente, il gateway di gestione dati usa un singolo **certificato**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-201">Currently, Data Management Gateway uses a single **certificate**.</span></span> <span data-ttu-id="5c0a5-202">Questo certificato viene creato durante l'installazione del gateway (si applica al gateway di gestione dati creato dopo il mese di novembre 2016 e la versione 2.4.xxxx.x o successive).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-202">This certificate is created during the gateway installation (applies to Data Management Gateway created after November 2016 and version 2.4.xxxx.x or later).</span></span> <span data-ttu-id="5c0a5-203">È possibile sostituire il certificato con il proprio certificato SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-203">You can replace this certificate with your own SSL/TLS certificate.</span></span> <span data-ttu-id="5c0a5-204">Questo certificato viene usato dall'app di gestione delle credenziali basata su un solo clic per connettersi in modo sicuro al computer del gateway al fine di impostare le credenziali dell'archivio dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-204">This certificate is used by the click-once credential manager application to securely connect to the gateway machine for setting data store credentials.</span></span> <span data-ttu-id="5c0a5-205">Archivia in locale le credenziali dell'archivio dati in modo sicuro usando Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) nel computer con il gateway.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-205">It stores data store credentials securely on-premises by using the Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) on the machine with gateway.</span></span> 

> [!NOTE]
> <span data-ttu-id="5c0a5-206">I vecchi gateway installati prima del mese di novembre 2016 o della versione 2.3.xxxx.x continuano a usare le credenziali crittografate e archiviate nel cloud.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-206">Older gateways that were installed before November 2016 or of version 2.3.xxxx.x continue to use credentials encrypted and stored on cloud.</span></span> <span data-ttu-id="5c0a5-207">Anche se si aggiorna il gateway alla versione più recente, le credenziali non vengono migrate in un computer locale.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-207">Even if you upgrade the gateway to the latest version, the credentials are not migrated to an on-premises machine</span></span>    
  
| <span data-ttu-id="5c0a5-208">Versione del gateway (durante la creazione)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-208">Gateway version (during creation)</span></span> | <span data-ttu-id="5c0a5-209">Credenziali memorizzate</span><span class="sxs-lookup"><span data-stu-id="5c0a5-209">Credentials Stored</span></span> | <span data-ttu-id="5c0a5-210">Crittografia/sicurezza delle credenziali</span><span class="sxs-lookup"><span data-stu-id="5c0a5-210">Credential encryption/ security</span></span> | 
| --------------------------------- | ------------------ | --------- |  
| <span data-ttu-id="5c0a5-211">< = 2.3.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="5c0a5-211">< = 2.3.xxxx.x</span></span> | <span data-ttu-id="5c0a5-212">Nel cloud</span><span class="sxs-lookup"><span data-stu-id="5c0a5-212">On cloud</span></span> | <span data-ttu-id="5c0a5-213">Crittografate mediante certificato (diverso da quello usato dall'app Gestione credenziali)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-213">Encrypted using certificate (different from the one used by Credential manager app)</span></span> | 
| <span data-ttu-id="5c0a5-214">> = 2.4.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="5c0a5-214">> = 2.4.xxxx.x</span></span> | <span data-ttu-id="5c0a5-215">Locale</span><span class="sxs-lookup"><span data-stu-id="5c0a5-215">On premises</span></span> | <span data-ttu-id="5c0a5-216">Protette tramite DPAPI</span><span class="sxs-lookup"><span data-stu-id="5c0a5-216">Secured via DPAPI</span></span> | 
  

### <a name="encryption-in-transit"></a><span data-ttu-id="5c0a5-217">Crittografia in transito</span><span class="sxs-lookup"><span data-stu-id="5c0a5-217">Encryption in transit</span></span>
<span data-ttu-id="5c0a5-218">Tutti i trasferimenti di dati avvengono attraverso un canale **HTTPS** e **TLS sicuro su TCP** per impedire attacchi di tipo "man-in-the-middle" durante la comunicazione con i servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-218">All data transfers are via secure channel **HTTPS** and **TLS over TCP** to prevent man-in-the-middle attacks during communication with Azure services.</span></span>
 
<span data-ttu-id="5c0a5-219">Inoltre, è possibile usare [VPN IPSec](../vpn-gateway/vpn-gateway-about-vpn-devices.md) o [Express Route](../expressroute/expressroute-introduction.md) per proteggere ulteriormente il canale di comunicazione tra la rete locale e Azure.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-219">You can also use [IPSec VPN](../vpn-gateway/vpn-gateway-about-vpn-devices.md) or [Express Route](../expressroute/expressroute-introduction.md) to further secure the communication channel between your on-premises network and Azure.</span></span>

<span data-ttu-id="5c0a5-220">La rete virtuale è una rappresentazione logica della propria rete nel cloud.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-220">Virtual network is a logical representation of your network in the cloud.</span></span> <span data-ttu-id="5c0a5-221">È possibile connettere una rete locale alla propria rete virtuale di Azure (VNet) configurando VPN IPSec (da sito a sito) o Express Route (peering privato)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-221">You can connect an on-premises network to your Azure virtual network (VNet) by setting up IPSec VPN (site-to-site) or Express Route (Private Peering)</span></span>     

<span data-ttu-id="5c0a5-222">La tabella seguente riassume i consigli di configurazione di rete e del gateway in base alle diverse combinazioni di percorsi di origine e destinazione per lo spostamento dei dati ibridi.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-222">The following table summarizes the network and gateway configuration recommendations based on different combinations of source and destination locations for hybrid data movement.</span></span>

| <span data-ttu-id="5c0a5-223">Sorgente</span><span class="sxs-lookup"><span data-stu-id="5c0a5-223">Source</span></span> | <span data-ttu-id="5c0a5-224">Destination</span><span class="sxs-lookup"><span data-stu-id="5c0a5-224">Destination</span></span> | <span data-ttu-id="5c0a5-225">Network configuration</span><span class="sxs-lookup"><span data-stu-id="5c0a5-225">Network configuration</span></span> | <span data-ttu-id="5c0a5-226">Configurazione del gateway</span><span class="sxs-lookup"><span data-stu-id="5c0a5-226">Gateway setup</span></span> |
| ------ | ----------- | --------------------- | ------------- | 
| <span data-ttu-id="5c0a5-227">Locale</span><span class="sxs-lookup"><span data-stu-id="5c0a5-227">On-premises</span></span> | <span data-ttu-id="5c0a5-228">Servizi cloud e macchine virtuali distribuiti nelle reti virtuali</span><span class="sxs-lookup"><span data-stu-id="5c0a5-228">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="5c0a5-229">VPN IPSec (da punto a sito o da sito a sito)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-229">IPSec VPN (point-to-site or site-to-site)</span></span> | <span data-ttu-id="5c0a5-230">Il gateway può essere installato in locale o in una VM di Azure nella VNet</span><span class="sxs-lookup"><span data-stu-id="5c0a5-230">Gateway can be installed either on-premises or on an Azure virtual machine (VM) in VNet</span></span> | 
| <span data-ttu-id="5c0a5-231">Locale</span><span class="sxs-lookup"><span data-stu-id="5c0a5-231">On-premises</span></span> | <span data-ttu-id="5c0a5-232">Servizi cloud e macchine virtuali distribuiti nelle reti virtuali</span><span class="sxs-lookup"><span data-stu-id="5c0a5-232">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="5c0a5-233">ExpressRoute (peering privato)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-233">ExpressRoute (Private Peering)</span></span> | <span data-ttu-id="5c0a5-234">Il gateway può essere installato in locale o in una macchina virtuale di Azure nella VNet</span><span class="sxs-lookup"><span data-stu-id="5c0a5-234">Gateway can be installed either on-premises or on an Azure VM in VNet</span></span> | 
| <span data-ttu-id="5c0a5-235">Locale</span><span class="sxs-lookup"><span data-stu-id="5c0a5-235">On-premises</span></span> | <span data-ttu-id="5c0a5-236">Servizi basati su Azure con un endpoint pubblico</span><span class="sxs-lookup"><span data-stu-id="5c0a5-236">Azure-based services that have a public endpoint</span></span> | <span data-ttu-id="5c0a5-237">ExpressRoute (peering pubblico)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-237">ExpressRoute (Public Peering)</span></span> | <span data-ttu-id="5c0a5-238">Il gateway deve essere installato in locale</span><span class="sxs-lookup"><span data-stu-id="5c0a5-238">Gateway must be installed on-premises</span></span> | 

<span data-ttu-id="5c0a5-239">Le immagini seguenti mostrano come usare il gateway di gestione dati per spostare i dati tra un database locale e i servizi di Azure ricorrendo a Express Route e a VPN IPSec (con la rete virtuale):</span><span class="sxs-lookup"><span data-stu-id="5c0a5-239">The following images show the usage of Data Management Gateway for moving data between an on-premises database and Azure services using Express route and IPSec VPN (with Virtual Network):</span></span>

<span data-ttu-id="5c0a5-240">**ExpressRoute:**</span><span class="sxs-lookup"><span data-stu-id="5c0a5-240">**Express Route:**</span></span>
 
![usare Express Route con il gateway](media/data-factory-data-movement-security-considerations/express-route-for-gateway.png) 

<span data-ttu-id="5c0a5-242">**VPN IPSec:**</span><span class="sxs-lookup"><span data-stu-id="5c0a5-242">**IPSec VPN:**</span></span>

![VPN IPSec con gateway](media/data-factory-data-movement-security-considerations/ipsec-vpn-for-gateway.png)

### <a name="firewall-configurations-and-whitelisting-ip-address-of-gateway"></a><span data-ttu-id="5c0a5-244">Configurazioni del firewall e inserimento nell'elenco elementi consentiti dell'indirizzo IP del gateway</span><span class="sxs-lookup"><span data-stu-id="5c0a5-244">Firewall configurations and whitelisting IP address of gateway</span></span>

#### <a name="firewall-requirements-for-on-premisesprivate-network"></a><span data-ttu-id="5c0a5-245">Requisiti del firewall per la rete locale/privata</span><span class="sxs-lookup"><span data-stu-id="5c0a5-245">Firewall requirements for on-premises/private network</span></span>  
<span data-ttu-id="5c0a5-246">In un'azienda il **firewall aziendale** viene eseguito nel router centrale dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-246">In an enterprise, a **corporate firewall** runs on the central router of the organization.</span></span> <span data-ttu-id="5c0a5-247">Inoltre, il **firewall di Windows** viene eseguito come daemon nel computer locale in cui è stato installato il gateway.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-247">And, **Windows firewall** runs as a daemon on the local machine on which the gateway is installed.</span></span> 

<span data-ttu-id="5c0a5-248">La tabella seguente indica la **porta in uscita** e i requisiti di dominio per il **firewall aziendale**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-248">The following table provides **outbound port** and domain requirements for the **corporate firewall**.</span></span>

| <span data-ttu-id="5c0a5-249">Nomi di dominio</span><span class="sxs-lookup"><span data-stu-id="5c0a5-249">Domain names</span></span> | <span data-ttu-id="5c0a5-250">Porte in uscita</span><span class="sxs-lookup"><span data-stu-id="5c0a5-250">Outbound ports</span></span> | <span data-ttu-id="5c0a5-251">Descrizione</span><span class="sxs-lookup"><span data-stu-id="5c0a5-251">Description</span></span> |
| ------------ | -------------- | ----------- | 
| `*.servicebus.windows.net` | <span data-ttu-id="5c0a5-252">443, 80</span><span class="sxs-lookup"><span data-stu-id="5c0a5-252">443, 80</span></span> | <span data-ttu-id="5c0a5-253">Richieste dal gateway per connettersi ai servizi di spostamento dei dati in Data Factory</span><span class="sxs-lookup"><span data-stu-id="5c0a5-253">Required by the gateway to connect to data movement services in Data Factory</span></span> |
| `*.core.windows.net` | <span data-ttu-id="5c0a5-254">443</span><span class="sxs-lookup"><span data-stu-id="5c0a5-254">443</span></span> | <span data-ttu-id="5c0a5-255">Usata dal gateway per connettersi all'account di Archiviazione di Azure quando si usa la funzionalità di [ copia temporanea](data-factory-copy-activity-performance.md#staged-copy).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-255">Used by the gateway to connect to Azure Storage Account when you use the [staged copy](data-factory-copy-activity-performance.md#staged-copy) feature.</span></span> | 
| `*.frontend.clouddatahub.net` | <span data-ttu-id="5c0a5-256">443</span><span class="sxs-lookup"><span data-stu-id="5c0a5-256">443</span></span> | <span data-ttu-id="5c0a5-257">Richiesta dal gateway per connettersi al servizio di Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-257">Required by the gateway to connect to the Azure Data Factory service.</span></span> | 
| `*.database.windows.net` | <span data-ttu-id="5c0a5-258">1433</span><span class="sxs-lookup"><span data-stu-id="5c0a5-258">1433</span></span>   | <span data-ttu-id="5c0a5-259">(OPZIONALE) necessaria quando la destinazione è il database SQL di Azure o Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-259">(OPTIONAL) needed when your destination is Azure SQL Database/ Azure SQL Data Warehouse.</span></span> <span data-ttu-id="5c0a5-260">Usare la funzionalità di copia temporanea per copiare i dati nel database SQL di Azure o in Azure SQL Data Warehouse senza aprire la porta 1433.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-260">Use the staged copy feature to copy data to Azure SQL Database/Azure SQL Data Warehouse without opening the port 1433.</span></span> | 
| `*.azuredatalakestore.net` | <span data-ttu-id="5c0a5-261">443</span><span class="sxs-lookup"><span data-stu-id="5c0a5-261">443</span></span> | <span data-ttu-id="5c0a5-262">(OPTIONALE) necessaria quando la destinazione è Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="5c0a5-262">(OPTIONAL) needed when your destination is Azure Data Lake store</span></span> | 

> [!NOTE] 
> <span data-ttu-id="5c0a5-263">Potrebbe essere necessario gestire porte/domini di inserimento nell'elenco elementi consentiti a livello del firewall aziendale come richiesto dalle rispettive origini dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-263">You may have to manage ports/ whitelisting domains at the corporate firewall level as required by respective data sources.</span></span> <span data-ttu-id="5c0a5-264">Nella tabella sono riportati solo esempi di database SQL di Azure, Azure SQL Data Warehouse e Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-264">This table only uses Azure SQL Database, Azure SQL Data Warehouse, Azure Data Lake Store as examples.</span></span>   

<span data-ttu-id="5c0a5-265">Nella tabella seguente vengono indicati i requisiti relativi alla **porta in ingresso** per il **firewall di Windows**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-265">The following table provides **inbound port** requirements for the **windows firewall**.</span></span>

| <span data-ttu-id="5c0a5-266">Porte in ingresso</span><span class="sxs-lookup"><span data-stu-id="5c0a5-266">Inbound ports</span></span> | <span data-ttu-id="5c0a5-267">Descrizione</span><span class="sxs-lookup"><span data-stu-id="5c0a5-267">Description</span></span> | 
| ------------- | ----------- | 
| <span data-ttu-id="5c0a5-268">8050 (TCP)</span><span class="sxs-lookup"><span data-stu-id="5c0a5-268">8050 (TCP)</span></span> | <span data-ttu-id="5c0a5-269">Richiesta dall'applicazione di gestione delle credenziali per impostare in modo sicuro le credenziali per gli archivi dati locali nel gateway.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-269">Required by the credential manager application to securely set credentials for on-premises data stores on the gateway.</span></span> | 

![Requisiti relativi alla porta del gateway](media\data-factory-data-movement-security-considerations/gateway-port-requirements.png) 

#### <a name="ip-configurations-whitelisting-in-data-store"></a><span data-ttu-id="5c0a5-271">Inserimento nell'elenco elementi consentiti/configurazioni IP nell'archivio dati</span><span class="sxs-lookup"><span data-stu-id="5c0a5-271">IP configurations/ whitelisting in data store</span></span>
<span data-ttu-id="5c0a5-272">Alcuni archivi dati nel cloud richiedono anche l'inserimento nell'elenco elementi consentiti del computer da cui si accede.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-272">Some data stores in the cloud also require whitelisting of IP address of the machine accessing them.</span></span> <span data-ttu-id="5c0a5-273">Assicurarsi che l'indirizzo IP del computer del gateway sia stato correttamente inserito nell'elenco elementi consentiti nel firewall.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-273">Ensure that the IP address of the gateway machine is whitelisted/ configured in firewall appropriately.</span></span>

<span data-ttu-id="5c0a5-274">Gli archivi dati cloud seguenti richiedono l'inserimento nell'elenco elementi consentiti dell'indirizzo IP del computer del gateway,</span><span class="sxs-lookup"><span data-stu-id="5c0a5-274">The following cloud data stores require whitelisting of IP address of the gateway machine.</span></span> <span data-ttu-id="5c0a5-275">ma, per impostazione predefinita, alcuni di questi archivi dati potrebbero non richiederlo.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-275">Some of these data stores, by default, may not require whitelisting of the IP address.</span></span> 

- [<span data-ttu-id="5c0a5-276">Database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="5c0a5-276">Azure SQL Database</span></span>](../sql-database/sql-database-firewall-configure.md) 
- [<span data-ttu-id="5c0a5-277">Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="5c0a5-277">Azure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-get-started-provision.md#create-a-server-level-firewall-rule-in-the-azure-portal)
- [<span data-ttu-id="5c0a5-278">Archivio Data Lake di Azure</span><span class="sxs-lookup"><span data-stu-id="5c0a5-278">Azure Data Lake Store</span></span>](../data-lake-store/data-lake-store-secure-data.md#set-ip-address-range-for-data-access)
- [<span data-ttu-id="5c0a5-279">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="5c0a5-279">Azure Cosmos DB</span></span>](../documentdb/documentdb-firewall-support.md)
- [<span data-ttu-id="5c0a5-280">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="5c0a5-280">Amazon Redshift</span></span>](http://docs.aws.amazon.com/redshift/latest/gsg/rs-gsg-authorize-cluster-access.html) 

## <a name="frequently-asked-questions"></a><span data-ttu-id="5c0a5-281">Domande frequenti</span><span class="sxs-lookup"><span data-stu-id="5c0a5-281">Frequently asked questions</span></span>

<span data-ttu-id="5c0a5-282">**Domanda:** il gateway può essere condiviso tra data factory diverse?</span><span class="sxs-lookup"><span data-stu-id="5c0a5-282">**Question:** Can the Gateway be shared across different data factories?</span></span>
<span data-ttu-id="5c0a5-283">**Risposta:** questa funzionalità non è ancora supportata,</span><span class="sxs-lookup"><span data-stu-id="5c0a5-283">**Answer:** We do not support this feature yet.</span></span> <span data-ttu-id="5c0a5-284">ma Microsoft ci sta lavorando attivamente.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-284">We are actively working on it.</span></span>

<span data-ttu-id="5c0a5-285">**Domanda:** quali sono i requisiti di porta per poter usare il gateway?</span><span class="sxs-lookup"><span data-stu-id="5c0a5-285">**Question:** What are the port requirements for the gateway to work?</span></span>
<span data-ttu-id="5c0a5-286">**Risposta:** il gateway stabilisce connessioni basate su HTTP per accedere a Internet.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-286">**Answer:** Gateway makes HTTP-based connections to open internet.</span></span> <span data-ttu-id="5c0a5-287">Le **porte in uscita 80 e 443** deve essere aperte per permettere al gateway di stabilire una connessione.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-287">The **outbound ports 443 and 80** must be opened for gateway to make this connection.</span></span> <span data-ttu-id="5c0a5-288">Aprire la **porta in ingresso 8050** solo a livello di computer (non a livello di firewall aziendale) per l'applicazione di gestione delle credenziali.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-288">Open **Inbound Port 8050** only at the machine level (not at corporate firewall level) for Credential Manager application.</span></span> <span data-ttu-id="5c0a5-289">Se si usa il database SQL di Azure o Azure SQL Data Warehouse come origine o destinazione, allora sarà necessario aprire anche la porta **1433**.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-289">If Azure SQL Database or Azure SQL Data Warehouse is used as source/ destination, then you need to open **1433** port as well.</span></span> <span data-ttu-id="5c0a5-290">Per altre informazioni, vedere la sezione [Configurazioni del firewall e inserimento nell'elenco elementi consentiti degli indirizzi IP](#firewall-configurations-and-whitelisting-ip-address-of gateway).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-290">For more information, see [Firewall configurations and whitelisting IP addresses](#firewall-configurations-and-whitelisting-ip-address-of gateway) section.</span></span> 

<span data-ttu-id="5c0a5-291">**Domanda:** quali sono i requisiti relativi al certificato per il gateway?</span><span class="sxs-lookup"><span data-stu-id="5c0a5-291">**Question:** What are certificate requirements for Gateway?</span></span>
<span data-ttu-id="5c0a5-292">**Risposta:** il gateway corrente richiede un certificato che viene usato dall'applicazione di gestione delle credenziali per impostare in modo sicuro le credenziali dell'archivio dati.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-292">**Answer:** Current gateway requires a certificate that is used by the credential manager application for securely setting data store credentials.</span></span> <span data-ttu-id="5c0a5-293">Si tratta di un certificato autofirmato creato e configurato dal programma di installazione del gateway.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-293">This certificate is a self-signed certificate created and configured by the gateway setup.</span></span> <span data-ttu-id="5c0a5-294">In alternativa, è possibile usare il proprio certificato TLS/SSL.</span><span class="sxs-lookup"><span data-stu-id="5c0a5-294">You can use your own TLS/ SSL certificate instead.</span></span> <span data-ttu-id="5c0a5-295">Per altre informazioni, vedere la sezione dedicata all'[applicazione di gestione delle credenziali con un solo clic](#click-once-credentials-manager-app).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-295">For more information, see [click-once credential manager application](#click-once-credentials-manager-app) section.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="5c0a5-296">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="5c0a5-296">Next steps</span></span>
<span data-ttu-id="5c0a5-297">Per informazioni sulle prestazioni dell'attività di copia, vedere [Guida alle prestazioni dell'attività di copia e all'ottimizzazione](data-factory-copy-activity-performance.md).</span><span class="sxs-lookup"><span data-stu-id="5c0a5-297">For information about performance of copy activity, see [Copy activity performance and tuning guide](data-factory-copy-activity-performance.md).</span></span>

 
