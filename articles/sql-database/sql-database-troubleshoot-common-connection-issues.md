---
title: Risoluzione dei problemi di connessione comuni al database SQL di Azure
description: Passaggi per identificare e risolvere gli errori di connessione comuni al database SQL di Azure.
services: sql-database
documentationcenter: 
author: dalechen
manager: cshepard
editor: 
ms.assetid: ac463d1c-aec8-443d-b66e-fa5eadcccfa8
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: daleche
ms.openlocfilehash: b8abf1285318e491d51aadf90f921103d84ce1a4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshoot-connection-issues-to-azure-sql-database"></a><span data-ttu-id="0ae21-103">Risoluzione dei problemi di connessione al database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="0ae21-103">Troubleshoot connection issues to Azure SQL Database</span></span>
<span data-ttu-id="0ae21-104">Quando la connessione al database SQL di Azure non riesce, vengono visualizzati [messaggi di errore](sql-database-develop-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="0ae21-104">When the connection to Azure SQL Database fails, you receive [error messages](sql-database-develop-error-messages.md).</span></span> <span data-ttu-id="0ae21-105">Questo articolo tratta un argomento centrale che aiuta l'utente a risolvere i problemi di connettività del database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="0ae21-105">This article is a centralized topic that helps you troubleshoot Azure SQL Database connectivity issues.</span></span> <span data-ttu-id="0ae21-106">Presenta le [cause comuni](#cause) dei problemi di connessione, consiglia [uno strumento di risoluzione dei problemi](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) che aiuta a identificare il problema e fornisce i passaggi necessari per risolvere gli [errori temporanei](#troubleshoot-transient-errors) e gli [errori persistenti o non temporanei](#troubleshoot-persistent-errors).</span><span class="sxs-lookup"><span data-stu-id="0ae21-106">It introduces [the common causes](#cause) of connection issues, recommends [a troubleshooting tool](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) that helps you identity the problem, and provides troubleshooting steps to solve [transient errors](#troubleshoot-transient-errors) and [persistent or non-transient errors](#troubleshoot-persistent-errors).</span></span> 

<span data-ttu-id="0ae21-107">In caso di problemi di connessione, provare i passaggi di risoluzione dei problemi descritti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="0ae21-107">If you encounter the connection issues, try the troubleshoot steps that are described in this article.</span></span>
[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="cause"></a><span data-ttu-id="0ae21-108">Causa</span><span class="sxs-lookup"><span data-stu-id="0ae21-108">Cause</span></span>
<span data-ttu-id="0ae21-109">I problemi di connessione possono dipendere da una delle seguenti cause:</span><span class="sxs-lookup"><span data-stu-id="0ae21-109">Connection problems may be caused by any of the following:</span></span>

* <span data-ttu-id="0ae21-110">Impossibilità di applicare le procedure consigliate e delle linee guida di progettazione durante il processo di progettazione delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="0ae21-110">Failure to apply best practices and design guidelines during the application design process.</span></span>  <span data-ttu-id="0ae21-111">Per iniziare, vedere [Panoramica dello sviluppo di database SQL](sql-database-develop-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="0ae21-111">See [SQL Database Development Overview](sql-database-develop-overview.md) to get started.</span></span>
* <span data-ttu-id="0ae21-112">Riconfigurazione del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="0ae21-112">Azure SQL Database reconfiguration</span></span>
* <span data-ttu-id="0ae21-113">Impostazioni del firewall</span><span class="sxs-lookup"><span data-stu-id="0ae21-113">Firewall settings</span></span>
* <span data-ttu-id="0ae21-114">Timeout della connessione</span><span class="sxs-lookup"><span data-stu-id="0ae21-114">Connection time-out</span></span>
* <span data-ttu-id="0ae21-115">Informazioni di accesso non corrette</span><span class="sxs-lookup"><span data-stu-id="0ae21-115">Incorrect login information</span></span>
* <span data-ttu-id="0ae21-116">Raggiungimento del limite massimo su alcune risorse del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="0ae21-116">Maximum limit reached on some Azure SQL Database resources</span></span>

<span data-ttu-id="0ae21-117">I problemi di connessione al database SQL di Azure possono essere classificati a grandi linee nelle seguenti categorie:</span><span class="sxs-lookup"><span data-stu-id="0ae21-117">Generally, connection issues to Azure SQL Database can be classified as follows:</span></span>

* [<span data-ttu-id="0ae21-118">Errori temporanei (di breve durata o intermittenti)</span><span class="sxs-lookup"><span data-stu-id="0ae21-118">Transient errors (short-lived or intermittent)</span></span>](#troubleshoot-transient-errors)
* [<span data-ttu-id="0ae21-119">Errori non temporanei o permanenti (gli errori che si ripetono regolarmente)</span><span class="sxs-lookup"><span data-stu-id="0ae21-119">Persistent or non-transient errors (errors that regularly recur)</span></span>](#troubleshoot-persistent-errors)

## <a name="try-the-troubleshooter-for-azure-sql-database-connectivity-issues"></a><span data-ttu-id="0ae21-120">Provare la procedura di risoluzione dei problemi di connettività del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="0ae21-120">Try the troubleshooter for Azure SQL Database connectivity issues</span></span>
<span data-ttu-id="0ae21-121">Se si verifica un errore di connessione specifico, provare [questo strumento](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database)che consente di identificare rapidamente e risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="0ae21-121">If you encounter a specific connection error, try [this tool](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), which will help you quickly identity and resolve your problem.</span></span>

## <a name="troubleshoot-transient-errors"></a><span data-ttu-id="0ae21-122">Risolvere i problemi causati da errori temporanei</span><span class="sxs-lookup"><span data-stu-id="0ae21-122">Troubleshoot transient errors</span></span>

<span data-ttu-id="0ae21-123">Quando un'applicazione si connette a un database SQL di Azure, viene visualizzato il messaggio di errore seguente:</span><span class="sxs-lookup"><span data-stu-id="0ae21-123">When an application connects to an Azure SQL database, you receive the following error message:</span></span>

```
Error code 40613: "Database <x> on server <y> is not currently available. Please retry the connection later. If the problem persists, contact customer support, and provide them the session tracing ID of <z>"
```

> [!NOTE]
> <span data-ttu-id="0ae21-124">Questo messaggio di errore è in genere temporaneo.</span><span class="sxs-lookup"><span data-stu-id="0ae21-124">This error message is typically transient (short-lived).</span></span>
> 
> 

<span data-ttu-id="0ae21-125">Questo errore si verifica quando il database di Azure viene spostato o riconfigurato e di conseguenza l'applicazione perde la connessione al database SQL.</span><span class="sxs-lookup"><span data-stu-id="0ae21-125">This error occurs when the Azure database is being moved (or reconfigured) and your application loses its connection to the SQL database.</span></span> <span data-ttu-id="0ae21-126">La riconfigurazione del database SQL avviene in seguito a eventi pianificati, ad esempio nel caso degli aggiornamenti software, o non pianificati, ad esempio per l'arresto anomalo di un processo o il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="0ae21-126">SQL database reconfiguration events occur because of a planned event (for example, a software upgrade) or an unplanned event (for example, a process crash, or load balancing).</span></span> <span data-ttu-id="0ae21-127">La maggior parte degli eventi di riconfigurazione è di breve durata e deve essere completata in meno di 60 secondi al massimo.</span><span class="sxs-lookup"><span data-stu-id="0ae21-127">Most reconfiguration events are generally short-lived and should be completed in less than 60 seconds at most.</span></span> <span data-ttu-id="0ae21-128">Tuttavia, il completamento di questi eventi in alcuni casi può richiedere più tempo, ad esempio quando una transazione di grandi dimensioni provoca un ripristino a esecuzione prolungata.</span><span class="sxs-lookup"><span data-stu-id="0ae21-128">However, these events can occasionally take longer to finish, such as when a large transaction causes a long-running recovery.</span></span>

### <a name="steps-to-resolve-transient-connectivity-issues"></a><span data-ttu-id="0ae21-129">Passaggi per risolvere problemi di connettività temporanei</span><span class="sxs-lookup"><span data-stu-id="0ae21-129">Steps to resolve transient connectivity issues</span></span>

1. <span data-ttu-id="0ae21-130">Controllare nel [Dashboard dei servizi di Microsoft Azure](https://azure.microsoft.com/status) le eventuali interruzioni note che si sono verificate durante il periodo nel quale sono stati segnalati errori dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="0ae21-130">Check the [Microsoft Azure Service Dashboard](https://azure.microsoft.com/status) for any known outages that occurred during the time during which the errors were reported by the application.</span></span>
2. <span data-ttu-id="0ae21-131">Le applicazioni che si connettono a un servizio cloud, come il database SQL di Azure, devono prevedere il verificarsi periodico di eventi di riconfigurazione e implementare la logica di ripetizione per gestire gli errori, invece di lasciare che vengano visualizzati dagli utenti come errori dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="0ae21-131">Applications that connect to a cloud service such as Azure SQL Database should expect periodic reconfiguration events and implement retry logic to handle these errors instead of surfacing these as application errors to users.</span></span> <span data-ttu-id="0ae21-132">Per altre informazioni e per le strategie generali di ripetizione dei tentativi, vedere la sezione [Errori temporanei](sql-database-connectivity-issues.md) e le procedure consigliate e linee guida per la progettazione in [Panoramica dello sviluppo di database SQL](sql-database-develop-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0ae21-132">Review the [Transient errors](sql-database-connectivity-issues.md) section and the best practices and design guidelines at [SQL Database Development Overview](sql-database-develop-overview.md) for more information and general retry strategies.</span></span> <span data-ttu-id="0ae21-133">Per informazioni dettagliate, vedere gli esempi di codice in: [Raccolte di connessioni per database SQL e Server SQL](sql-database-libraries.md) .</span><span class="sxs-lookup"><span data-stu-id="0ae21-133">Then, see code samples at [Connection Libraries for SQL Database and SQL Server](sql-database-libraries.md) for specifics.</span></span>
3. <span data-ttu-id="0ae21-134">Quando un database sta per raggiungere i limiti delle risorse, può sembrare che si stia verificando un problema di connettività temporaneo.</span><span class="sxs-lookup"><span data-stu-id="0ae21-134">As a database approaches its resource limits, it can seem to be a transient connectivity issue.</span></span> <span data-ttu-id="0ae21-135">Vedere la pagina relativa alla [risoluzione dei problemi di prestazioni](sql-database-troubleshoot-performance.md).</span><span class="sxs-lookup"><span data-stu-id="0ae21-135">See [Troubleshooting Performance Issues](sql-database-troubleshoot-performance.md).</span></span>
4. <span data-ttu-id="0ae21-136">Se i problemi di connettività persistono oppure se l'applicazione rileva l'errore per più di 60 secondi o se vengono visualizzate più occorrenze dell'errore in un dato giorno, inoltrare una richiesta di supporto tecnico di Azure selezionando **Ottieni supporto** nel sito [Supporto tecnico di Azure](https://azure.microsoft.com/support/options) .</span><span class="sxs-lookup"><span data-stu-id="0ae21-136">If connectivity problems continue, or if the duration for which your application encounters the error exceeds 60 seconds or if you see multiple occurrences of the error in a given day, file an Azure support request by selecting **Get Support** on the [Azure Support](https://azure.microsoft.com/support/options) site.</span></span>

## <a name="troubleshoot-persistent-errors"></a><span data-ttu-id="0ae21-137">Risolvere gli errori persistenti</span><span class="sxs-lookup"><span data-stu-id="0ae21-137">Troubleshoot persistent errors</span></span>
<span data-ttu-id="0ae21-138">Se l'applicazione non riesce a connettersi in maniera costante al database SQL di Azure, il problema è uno dei seguenti:</span><span class="sxs-lookup"><span data-stu-id="0ae21-138">If the application persistently fails to connect to Azure SQL Database, it usually indicates an issue with one of the following:</span></span>

* <span data-ttu-id="0ae21-139">Configurazione del firewall.</span><span class="sxs-lookup"><span data-stu-id="0ae21-139">Firewall configuration.</span></span> <span data-ttu-id="0ae21-140">Il firewall del database SQL di Azure o lato client blocca le connessioni al database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="0ae21-140">The Azure SQL database or client-side firewall is blocking connections to Azure SQL Database.</span></span>
* <span data-ttu-id="0ae21-141">Riconfigurazione della rete lato client: ad esempio un nuovo indirizzo IP o un nuovo server proxy.</span><span class="sxs-lookup"><span data-stu-id="0ae21-141">Network reconfiguration on the client side: for example, a new IP address or a proxy server.</span></span>
* <span data-ttu-id="0ae21-142">Errore dell'utente: ad esempio, digitazione errata dei parametri di connessione, come il nome del server nella stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="0ae21-142">User error: for example, mistyped connection parameters, such as the server name in the connection string.</span></span>

### <a name="steps-to-resolve-persistent-connectivity-issues"></a><span data-ttu-id="0ae21-143">Passaggi per risolvere problemi di connettività permanenti</span><span class="sxs-lookup"><span data-stu-id="0ae21-143">Steps to resolve persistent connectivity issues</span></span>
1. <span data-ttu-id="0ae21-144">Impostare le [regole del firewall](sql-database-configure-firewall-settings.md) per consentire l'indirizzo IP del client.</span><span class="sxs-lookup"><span data-stu-id="0ae21-144">Set up [firewall rules](sql-database-configure-firewall-settings.md) to allow the client IP address.</span></span> <span data-ttu-id="0ae21-145">Ai fini dei test temporanei, impostare una regola del firewall usando 0.0.0.0 come intervallo di indirizzi IP iniziale e 255.255.255.255 come intervallo di indirizzi IP finale.</span><span class="sxs-lookup"><span data-stu-id="0ae21-145">For temporary testing purposes, set up a firewall rule using 0.0.0.0 as the starting IP address range and using 255.255.255.255 as the ending IP address range.</span></span> <span data-ttu-id="0ae21-146">Il server verrà così aperto a tutti gli indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="0ae21-146">This will open the server to all IP addresses.</span></span> <span data-ttu-id="0ae21-147">Se questo risolve il problema di connettività, rimuovere la regola e creare una regola del firewall per un indirizzo o un intervallo di indirizzi IP adeguatamente limitato.</span><span class="sxs-lookup"><span data-stu-id="0ae21-147">If this resolves your connectivity issue, remove this rule and create a firewall rule for an appropriately limited IP address or address range.</span></span> 
2. <span data-ttu-id="0ae21-148">Assicurarsi che la porta 1433 sia aperta per le connessioni in uscita in tutti i firewall tra il client e Internet.</span><span class="sxs-lookup"><span data-stu-id="0ae21-148">On all firewalls between the client and the Internet, make sure that port 1433 is open for outbound connections.</span></span> <span data-ttu-id="0ae21-149">Vedere [Configure the Windows Firewall to Allow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) (Configurare Windows Firewall per consentire l'accesso a SQL Server) e [Porte e protocolli necessari per la soluzione ibrida di gestione delle identità](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) per altre informazioni sulle porte aggiuntive da aprire per l'autenticazione di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0ae21-149">Review [Configure the Windows Firewall to Allow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) and [Hybrid Identity Required Ports and Protocols](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) for additional pointers related to additional ports that you need to open for Azure Active Directory authentication.</span></span>
3. <span data-ttu-id="0ae21-150">Verificare la stringa di connessione e le altre impostazioni di connessione.</span><span class="sxs-lookup"><span data-stu-id="0ae21-150">Verify your connection string and other connection settings.</span></span> <span data-ttu-id="0ae21-151">Vedere la sezione sulla stringa di connessione nell' [argomento relativo ai problemi di connettività](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="0ae21-151">See the Connection String section in the [connectivity issues topic](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span></span>
4. <span data-ttu-id="0ae21-152">Controllare lo stato del servizio nel dashboard.</span><span class="sxs-lookup"><span data-stu-id="0ae21-152">Check service health in the dashboard.</span></span> <span data-ttu-id="0ae21-153">Se si ritiene che si sia verificata un'interruzione regionale, vedere [Ripristinare un database SQL di Azure in seguito a un'interruzione del servizio](sql-database-disaster-recovery.md) per i passaggi di ripristino in una nuova area.</span><span class="sxs-lookup"><span data-stu-id="0ae21-153">If you think there’s a regional outage, see [Recover from an outage](sql-database-disaster-recovery.md) for steps to recover to a new region.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0ae21-154">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="0ae21-154">Next steps</span></span>
* [<span data-ttu-id="0ae21-155">Risoluzione dei problemi di prestazioni del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="0ae21-155">Troubleshoot Azure SQL Database performance issues</span></span>](sql-database-troubleshoot-performance.md)
* [<span data-ttu-id="0ae21-156">Ricerca della documentazione su Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0ae21-156">Search the documentation on Microsoft Azure</span></span>](http://azure.microsoft.com/search/documentation/)
* [<span data-ttu-id="0ae21-157">Informazioni sugli aggiornamenti più recenti al servizio database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="0ae21-157">View the latest updates to the Azure SQL Database service</span></span>](http://azure.microsoft.com/updates/?service=sql-database)

## <a name="additional-resources"></a><span data-ttu-id="0ae21-158">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="0ae21-158">Additional resources</span></span>
* [<span data-ttu-id="0ae21-159">Panoramica dello sviluppo di database SQL</span><span class="sxs-lookup"><span data-stu-id="0ae21-159">SQL Database Development Overview</span></span>](sql-database-develop-overview.md)
* [<span data-ttu-id="0ae21-160">Linee guida generali per la gestione degli errori temporanei</span><span class="sxs-lookup"><span data-stu-id="0ae21-160">General transient fault-handling guidance</span></span>](../best-practices-retry-general.md)
* [<span data-ttu-id="0ae21-161">Raccolte di connessioni per database SQL e Server SQL</span><span class="sxs-lookup"><span data-stu-id="0ae21-161">Connection libraries for SQL Database and SQL Server</span></span>](sql-database-libraries.md)

