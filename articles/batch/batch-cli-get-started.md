---
title: Introduzione all'interfaccia della riga di comando di Azure per Batch | Microsoft Docs
description: Introduzione rapida ai comandi per Batch nell'interfaccia della riga di comando di Azure per la gestione delle risorse del servizio Azure Batch
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: 
ms.assetid: fcd76587-1827-4bc8-a84d-bba1cd980d85
ms.service: batch
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: multiple
ms.workload: big-compute
ms.date: 07/20/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 9bee0344ba70c50cda36a87ea617906283040ff9
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="manage-batch-resources-with-azure-cli"></a><span data-ttu-id="a34cc-103">Gestire le risorse di Batch con l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="a34cc-103">Manage Batch resources with Azure CLI</span></span>

<span data-ttu-id="a34cc-104">L'interfaccia della riga di comando di Azure 2.0 è la nuova esperienza della riga di comando di Azure per gestire le risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="a34cc-104">The Azure CLI 2.0 is Azure's new command-line experience for managing Azure resources.</span></span> <span data-ttu-id="a34cc-105">Può essere usata in macOS, Linux e Windows.</span><span class="sxs-lookup"><span data-stu-id="a34cc-105">It can be used on macOS, Linux, and Windows.</span></span> <span data-ttu-id="a34cc-106">L'interfaccia della riga di comando di Azure 2.0 è ottimizzata per la gestione e l'amministrazione delle risorse di Azure dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="a34cc-106">Azure CLI 2.0 is optimized for managing and administering Azure resources from the command line.</span></span> <span data-ttu-id="a34cc-107">Si può usare l'interfaccia della riga di comando di Azure per gestire gli account Azure Batch e le risorse, come pool, processi e attività.</span><span class="sxs-lookup"><span data-stu-id="a34cc-107">You can use the Azure CLI to manage your Azure Batch accounts and to manage resources such as pools, jobs, and tasks.</span></span> <span data-ttu-id="a34cc-108">Con l'interfaccia della riga di comando di Azure è possibile creare script per molte delle attività eseguite con le API Batch, il portale di Azure e i cmdlet di PowerShell per Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-108">With the Azure CLI, you can script many of the same tasks you carry out with the Batch APIs, Azure portal, and Batch PowerShell cmdlets.</span></span>

<span data-ttu-id="a34cc-109">Questo articolo offre una panoramica dell'uso dell'[interfaccia della riga di comando di Azure versione 2.0](https://docs.microsoft.com/cli/azure/overview) con Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-109">This article provides an overview of using [Azure CLI version 2.0](https://docs.microsoft.com/cli/azure/overview) with Batch.</span></span> <span data-ttu-id="a34cc-110">Per una panoramica dell'uso dell'interfaccia della riga di comando con Azure, vedere [Introduzione all'interfaccia della riga di comando di Azure 2.0](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli).</span><span class="sxs-lookup"><span data-stu-id="a34cc-110">See [Get started with Azure CLI 2.0](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli) for an overview of using the CLI with Azure.</span></span>

<span data-ttu-id="a34cc-111">È consigliabile usare la versione più recente dell'interfaccia della riga di comando di Azure 2.0.</span><span class="sxs-lookup"><span data-stu-id="a34cc-111">Microsoft recommends using the latest version of the Azure CLI, version 2.0.</span></span> <span data-ttu-id="a34cc-112">Per altre informazioni sulla versione 2.0, vedere l'articolo relativo alla [disponibilità generale dell'interfaccia della riga di comando di Azure 2.0](https://azure.microsoft.com/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/).</span><span class="sxs-lookup"><span data-stu-id="a34cc-112">For more information about version 2.0, see [Azure Command Line 2.0 now generally available](https://azure.microsoft.com/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/).</span></span>

## <a name="set-up-the-azure-cli"></a><span data-ttu-id="a34cc-113">Configurare l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="a34cc-113">Set up the Azure CLI</span></span>

<span data-ttu-id="a34cc-114">Per installare l'interfaccia della riga di comando di Azure, seguire la procedura illustrata nell'articolo [Installare l'interfaccia della riga di comando di Azure](https://docs.microsoft.com/cli/azure/install-azure-cli.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-114">To install the Azure CLI, follow the steps outlined in [Install the Azure CLI](https://docs.microsoft.com/cli/azure/install-azure-cli.md).</span></span>

> [!TIP]
> <span data-ttu-id="a34cc-115">È consigliabile aggiornare frequentemente l'installazione dell'interfaccia della riga di comando di Azure per sfruttare i vantaggi degli aggiornamenti e dei miglioramenti del servizio.</span><span class="sxs-lookup"><span data-stu-id="a34cc-115">We recommend that you update your Azure CLI installation frequently to take advantage of service updates and enhancements.</span></span>
> 
> 

## <a name="command-help"></a><span data-ttu-id="a34cc-116">Guida per i comandi</span><span class="sxs-lookup"><span data-stu-id="a34cc-116">Command help</span></span>

<span data-ttu-id="a34cc-117">È possibile visualizzare il testo della Guida per ogni comando dell'interfaccia della riga di comando di Azure aggiungendo `-h` al comando.</span><span class="sxs-lookup"><span data-stu-id="a34cc-117">You can display help text for every command in the Azure CLI by appending `-h` to the command.</span></span> <span data-ttu-id="a34cc-118">Omettere qualsiasi altra opzione.</span><span class="sxs-lookup"><span data-stu-id="a34cc-118">Omit any other options.</span></span> <span data-ttu-id="a34cc-119">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="a34cc-119">For example:</span></span>

* <span data-ttu-id="a34cc-120">Per visualizzare la Guida per il comando `az`, immettere `az -h`</span><span class="sxs-lookup"><span data-stu-id="a34cc-120">To get help for the `az` command, enter: `az -h`</span></span>
* <span data-ttu-id="a34cc-121">Per ottenere un elenco di tutti i comandi per Batch nell'interfaccia della riga di comando, usare `az batch -h`</span><span class="sxs-lookup"><span data-stu-id="a34cc-121">To get a list of all Batch commands in the CLI, use: `az batch -h`</span></span>
* <span data-ttu-id="a34cc-122">Per visualizzare la Guida in merito alla creazione di un account Batch, immettere `az batch account create -h`</span><span class="sxs-lookup"><span data-stu-id="a34cc-122">To get help on creating a Batch account, enter: `az batch account create -h`</span></span>

<span data-ttu-id="a34cc-123">In caso di dubbi, usare l'opzione della riga di comando `-h` per visualizzare la Guida per qualsiasi comando dell'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="a34cc-123">When in doubt, use the `-h` command-line option to get help on any Azure CLI command.</span></span>

> [!NOTE]
> <span data-ttu-id="a34cc-124">Nelle versioni precedenti dell'interfaccia della riga di comando di Azure si usa `azure` anteposto al comando dell'interfaccia della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="a34cc-124">Earlier versions of the Azure CLI used `azure` to preface a CLI command.</span></span> <span data-ttu-id="a34cc-125">Nella versione 2.0 tutti i comandi ora sono preceduti da `az`.</span><span class="sxs-lookup"><span data-stu-id="a34cc-125">In version 2.0, all commands are now prefaced with `az`.</span></span> <span data-ttu-id="a34cc-126">Assicurarsi di aggiornare gli script per l'uso della nuova sintassi con la versione 2.0.</span><span class="sxs-lookup"><span data-stu-id="a34cc-126">Be sure to update your scripts to use the new syntax with version 2.0.</span></span>
>
>  

<span data-ttu-id="a34cc-127">Per informazioni dettagliate sui [comandi dell'interfaccia della riga di comando di Azure per Batch](https://docs.microsoft.com/cli/azure/batch), vedere la documentazione di riferimento dell'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="a34cc-127">Additionally, refer to the Azure CLI reference documentation for details about [Azure CLI commands for Batch](https://docs.microsoft.com/cli/azure/batch).</span></span> 

## <a name="log-in-and-authenticate"></a><span data-ttu-id="a34cc-128">Accesso e autenticazione</span><span class="sxs-lookup"><span data-stu-id="a34cc-128">Log in and authenticate</span></span>

<span data-ttu-id="a34cc-129">Per usare l'interfaccia della riga di comando di Azure con Batch, è necessario accedere ed eseguire l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a34cc-129">To use the Azure CLI with Batch, you need to log in and authenticate.</span></span> <span data-ttu-id="a34cc-130">La procedura prevede due semplici passaggi:</span><span class="sxs-lookup"><span data-stu-id="a34cc-130">There are two simple steps to follow:</span></span>

1. <span data-ttu-id="a34cc-131">**Accedere ad Azure.**</span><span class="sxs-lookup"><span data-stu-id="a34cc-131">**Log into Azure.**</span></span> <span data-ttu-id="a34cc-132">L'accesso ad Azure permette di accedere ai comandi di Azure Resource Manager, tra cui i comandi del [servizio di gestione Batch](batch-management-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-132">Logging into Azure gives you access to Azure Resource Manager commands, including [Batch Management service](batch-management-dotnet.md) commands.</span></span>  
2. <span data-ttu-id="a34cc-133">**Accedere all'account Batch.**</span><span class="sxs-lookup"><span data-stu-id="a34cc-133">**Log into your Batch account.**</span></span> <span data-ttu-id="a34cc-134">L'accesso all'account Batch permette di accedere ai comandi del servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-134">Logging into your Batch account gives you access to Batch service commands.</span></span>   

### <a name="log-in-to-azure"></a><span data-ttu-id="a34cc-135">Accedere ad Azure</span><span class="sxs-lookup"><span data-stu-id="a34cc-135">Log in to Azure</span></span>

<span data-ttu-id="a34cc-136">Per accedere ad Azure è possibile procedere in diversi modi, descritti nel dettaglio nell'articolo [Accedere con l'interfaccia della riga di comando di Azure 2.0](https://docs.microsoft.com/cli/azure/authenticate-azure-cli):</span><span class="sxs-lookup"><span data-stu-id="a34cc-136">There are a few different ways to log into Azure, described in detail in [Log in with Azure CLI 2.0](https://docs.microsoft.com/cli/azure/authenticate-azure-cli):</span></span>

1. <span data-ttu-id="a34cc-137">[Accedere modo interattivo](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#interactive-log-in).</span><span class="sxs-lookup"><span data-stu-id="a34cc-137">[Log in interactively](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#interactive-log-in).</span></span> <span data-ttu-id="a34cc-138">Accedere in modo interattivo quando si eseguono comandi dell'interfaccia della riga di comando di Azure direttamente dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="a34cc-138">Log in interactively when you are running Azure CLI commands yourself from the command line.</span></span>
2. <span data-ttu-id="a34cc-139">[Accedere con un'entità servizio](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#logging-in-with-a-service-principal).</span><span class="sxs-lookup"><span data-stu-id="a34cc-139">[Log in with a service principal](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#logging-in-with-a-service-principal).</span></span> <span data-ttu-id="a34cc-140">Accedere con un'entità servizio quando si eseguono comandi dell'interfaccia della riga di comando di Azure da uno script o un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a34cc-140">Log in with a service principal when you are running Azure CLI commands from a script or an application.</span></span>

<span data-ttu-id="a34cc-141">Ai fini di questo articolo, viene illustrato come accedere ad Azure in modo interattivo.</span><span class="sxs-lookup"><span data-stu-id="a34cc-141">For the purposes of this article, we show how to log into Azure interactively.</span></span> <span data-ttu-id="a34cc-142">Digitare [az login](https://docs.microsoft.com/cli/azure/#login) nella riga di comando:</span><span class="sxs-lookup"><span data-stu-id="a34cc-142">Type [az login](https://docs.microsoft.com/cli/azure/#login) on the command line:</span></span>

```azurecli
# Log in to Azure and authenticate interactively.
az login
```

<span data-ttu-id="a34cc-143">Il comando `az login` restituisce un token che può essere usato per eseguire l'autenticazione, come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="a34cc-143">The `az login` command returns a token that you can use to authenticate, as shown here.</span></span> <span data-ttu-id="a34cc-144">Seguire le istruzioni fornite per aprire una pagina Web e inviare il token ad Azure:</span><span class="sxs-lookup"><span data-stu-id="a34cc-144">Follow the instructions provided to open a web page and submit the token to Azure:</span></span>

![Accedere ad Azure](./media/batch-cli-get-started/az-login.png)

<span data-ttu-id="a34cc-146">Gli esempi riportati nella sezione [Script della shell di esempio](#sample-shell-scripts) mostrano anche come avviare la sessione dell'interfaccia della riga di comando di Azure eseguendo l'accesso ad Azure in modo interattivo.</span><span class="sxs-lookup"><span data-stu-id="a34cc-146">The examples listed in the [Sample shell scripts](#sample-shell-scripts) section also show how to start your Azure CLI session by logging into Azure interactively.</span></span> <span data-ttu-id="a34cc-147">Dopo aver eseguito l'accesso, è possibile chiamare i comandi per usare le risorse di gestione Batch, inclusi i pacchetti di applicazioni, le chiavi, le quote e gli account Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-147">Once you have logged in, you can call commands to work with Batch Management resources, including Batch accounts, keys, application packages, and quotas.</span></span>  

### <a name="log-in-to-your-batch-account"></a><span data-ttu-id="a34cc-148">Accedere all'account Batch</span><span class="sxs-lookup"><span data-stu-id="a34cc-148">Log in to your Batch account</span></span>

<span data-ttu-id="a34cc-149">Per usare l'interfaccia della riga di comando di Azure per gestire le risorse di Batch, come pool, processi e attività, è necessario accedere all'account Batch ed eseguire l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a34cc-149">To use the Azure CLI to manage Batch resources, such as pools, jobs, and tasks, you need to log into your Batch account and authenticate.</span></span> <span data-ttu-id="a34cc-150">Per accedere al servizio Batch, usare il comando [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login).</span><span class="sxs-lookup"><span data-stu-id="a34cc-150">To log in to the Batch service, use the [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) command.</span></span> 

<span data-ttu-id="a34cc-151">Per l'autenticazione con l'account Batch è possibile procedere in due modi:</span><span class="sxs-lookup"><span data-stu-id="a34cc-151">You have two options for authenticating against your Batch account:</span></span>

- <span data-ttu-id="a34cc-152">**Tramite l'autenticazione con Azure Active Directory (Azure AD).**</span><span class="sxs-lookup"><span data-stu-id="a34cc-152">**By using Azure Active Directory (Azure AD) authentication.**</span></span> 

    <span data-ttu-id="a34cc-153">L'autenticazione con Azure AD è l'opzione predefinita quando si usa l'interfaccia della riga di comando di Azure con Batch ed è consigliata per la maggior parte degli scenari.</span><span class="sxs-lookup"><span data-stu-id="a34cc-153">Authenticating with Azure AD is the default when you use the Azure CLI with Batch, and recommended for most scenarios.</span></span> 
    
    <span data-ttu-id="a34cc-154">Quando si accede ad Azure in modo interattivo, come descritto nella sezione precedente, le credenziali vengono memorizzate nella cache per accedere tramite l'interfaccia della riga di comando di Azure al proprio account Batch usando le stesse credenziali.</span><span class="sxs-lookup"><span data-stu-id="a34cc-154">When you log in to Azure interactively, as described in the previous section, your credentials are cached, so the Azure CLI can log you in to your Batch account using those same credentials.</span></span> <span data-ttu-id="a34cc-155">Se si accede ad Azure usando un'entità servizio, tali credenziali vengono usate anche per accedere all'account Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-155">If you log in to Azure using a service principal, those credentials are also used to log in to your Batch account.</span></span>

    <span data-ttu-id="a34cc-156">Uno dei vantaggi di Azure AD è che offre il controllo degli accessi in base al ruolo.</span><span class="sxs-lookup"><span data-stu-id="a34cc-156">An advantage of Azure AD is that it offers role-based access control (RBAC).</span></span> <span data-ttu-id="a34cc-157">Con il controllo degli accessi in base al ruolo, l'accesso dell'utente dipende dal ruolo assegnato anziché dal fatto che abbia o meno le chiavi dell'account.</span><span class="sxs-lookup"><span data-stu-id="a34cc-157">With RBAC, a user's access depends on their assigned role, rather than whether or not they possess the account keys.</span></span> <span data-ttu-id="a34cc-158">Anziché gestire le chiavi dell'account, è possibile gestire i ruoli del controllo degli accessi in base al ruolo e lasciare la gestione dell'accesso e dell'autenticazione ad Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a34cc-158">Instead of managing account keys, you can manage RBAC roles, and let Azure AD handle access and authentication.</span></span>  

    <span data-ttu-id="a34cc-159">L'autenticazione con Azure AD è necessaria se l'account Azure Batch è stato creato con la modalità di allocazione pool impostata su "Sottoscrizione utente".</span><span class="sxs-lookup"><span data-stu-id="a34cc-159">Authenticating with Azure AD is required if you created your Azure Batch account with its pool allocation mode set to 'User Subscription'.</span></span> 

    <span data-ttu-id="a34cc-160">Per accedere all'account Batch con Azure AD, chiamare il comando [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login):</span><span class="sxs-lookup"><span data-stu-id="a34cc-160">To log in to your Batch account using Azure AD, call the [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) command:</span></span> 

    ```azurecli
    az batch account login -g myresource group -n mybatchaccount
    ```

- <span data-ttu-id="a34cc-161">**Tramite l'autenticazione con chiave condivisa.**</span><span class="sxs-lookup"><span data-stu-id="a34cc-161">**By using Shared Key authentication.**</span></span>

    <span data-ttu-id="a34cc-162">[L'autenticazione con chiave condivisa](https://docs.microsoft.com/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service#authentication-via-shared-key) usa le chiavi di accesso dell'account per autenticare i comandi dell'interfaccia della riga di comando di Azure per il servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-162">[Shared Key authentication](https://docs.microsoft.com/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service#authentication-via-shared-key) uses your account access keys to authenticate Azure CLI commands for the Batch service.</span></span>

    <span data-ttu-id="a34cc-163">Se si creano script dell'interfaccia della riga di comando di Azure per automatizzare la chiamata di comandi di Batch, è possibile usare l'autenticazione con chiave condivisa o un'entità servizio di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a34cc-163">If you are creating Azure CLI scripts to automate calling Batch commands, you can use either Shared Key authentication, or an Azure AD service principal.</span></span> <span data-ttu-id="a34cc-164">In alcuni scenari potrebbe essere più semplice usare l'autenticazione con chiave condivisa anziché creare un'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="a34cc-164">In some scenarios, using Shared Key authentication may be simpler than creating a service principal.</span></span>  

    <span data-ttu-id="a34cc-165">Per accedere usando l'autenticazione con chiave condivisa, includere l'opzione `--shared-key-auth` nella riga di comando:</span><span class="sxs-lookup"><span data-stu-id="a34cc-165">To log in using Shared Key authentication, include the `--shared-key-auth` option on the command line:</span></span>

    ```azurecli
    az batch account login -g myresourcegroup -n mybatchaccount --shared-key-auth
    ```

<span data-ttu-id="a34cc-166">Gli esempi riportati nella sezione [Script della shell di esempio](#sample-shell-scripts) mostrano come accedere all'account Batch con l'interfaccia della riga di comando di Azure usando sia Azure AD che la chiave condivisa.</span><span class="sxs-lookup"><span data-stu-id="a34cc-166">The examples listed in the [Sample shell scripts](#sample-shell-scripts) section show how to log into your Batch account with the Azure CLI using both Azure AD and Shared Key.</span></span>

## <a name="use-azure-batch-cli-templates-and-file-transfer-preview"></a><span data-ttu-id="a34cc-167">Usare il trasferimento di file e i modelli dell'interfaccia della riga di comando di Azure Batch (anteprima)</span><span class="sxs-lookup"><span data-stu-id="a34cc-167">Use Azure Batch CLI Templates and File Transfer (Preview)</span></span>

<span data-ttu-id="a34cc-168">È possibile usare l'interfaccia della riga di comando di Azure per eseguire processi di Batch end-to-end senza scrivere codice.</span><span class="sxs-lookup"><span data-stu-id="a34cc-168">You can use the Azure CLI to run Batch jobs end-to-end without writing code.</span></span> <span data-ttu-id="a34cc-169">I file di modello del servizio Batch supportano la creazione di pool, processi e attività con l'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="a34cc-169">Batch template files support creating pools, jobs, and tasks with the Azure CLI.</span></span> <span data-ttu-id="a34cc-170">È anche possibile usare l'interfaccia della riga di comando di Azure per caricare file di input dei processi nell'account di archiviazione di Azure associato all'account Batch e quindi scaricare file di output dei processi da tale interfaccia.</span><span class="sxs-lookup"><span data-stu-id="a34cc-170">You can also use the Azure CLI to upload job input files to the Azure Storage account associated with the Batch account, and download job output files from it.</span></span> <span data-ttu-id="a34cc-171">Per altre informazioni, vedere [Usare il trasferimento di file e i modelli dell'interfaccia della riga di comando di Azure Batch (anteprima)](batch-cli-templates.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-171">For more information, see [Use Azure Batch CLI Templates and File Transfer (Preview)](batch-cli-templates.md).</span></span>

## <a name="sample-shell-scripts"></a><span data-ttu-id="a34cc-172">Script della shell di esempio</span><span class="sxs-lookup"><span data-stu-id="a34cc-172">Sample shell scripts</span></span>

<span data-ttu-id="a34cc-173">Gli script di esempio riportati nella tabella seguente mostrano come usare i comandi dell'interfaccia della riga di comando di Azure con il servizio Batch e il servizio di gestione Batch per eseguire attività comuni.</span><span class="sxs-lookup"><span data-stu-id="a34cc-173">The sample scripts listed in the following table show how to use Azure CLI commands with the Batch service and Batch Management service to accomplish common tasks.</span></span> <span data-ttu-id="a34cc-174">Questi script di esempio illustrano molti dei comandi disponibili nell'interfaccia della riga di comando di Azure per Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-174">These sample scripts cover many of the commands available in the Azure CLI for Batch.</span></span> 

| <span data-ttu-id="a34cc-175">Script</span><span class="sxs-lookup"><span data-stu-id="a34cc-175">Script</span></span> | <span data-ttu-id="a34cc-176">Note</span><span class="sxs-lookup"><span data-stu-id="a34cc-176">Notes</span></span> |
|---|---|
| [<span data-ttu-id="a34cc-177">Creare un account Batch</span><span class="sxs-lookup"><span data-stu-id="a34cc-177">Create a Batch account</span></span>](./scripts/batch-cli-sample-create-account.md) | <span data-ttu-id="a34cc-178">Crea un account Batch e lo associa a un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="a34cc-178">Creates a Batch account and associates it with a storage account.</span></span> |
| [<span data-ttu-id="a34cc-179">Aggiungere un'applicazione</span><span class="sxs-lookup"><span data-stu-id="a34cc-179">Add an application</span></span>](./scripts/batch-cli-sample-add-application.md) | <span data-ttu-id="a34cc-180">Aggiunge un'applicazione e carica i file binari nel pacchetto.</span><span class="sxs-lookup"><span data-stu-id="a34cc-180">Adds an application and uploads packaged binaries.</span></span>|
| [<span data-ttu-id="a34cc-181">Gestire i pool di Batch</span><span class="sxs-lookup"><span data-stu-id="a34cc-181">Manage Batch pools</span></span>](./scripts/batch-cli-sample-manage-pool.md) | <span data-ttu-id="a34cc-182">Illustra la creazione, il ridimensionamento e la gestione dei pool.</span><span class="sxs-lookup"><span data-stu-id="a34cc-182">Demonstrates creating, resizing, and managing pools.</span></span> |
| [<span data-ttu-id="a34cc-183">Eseguire un processo e le attività con Batch</span><span class="sxs-lookup"><span data-stu-id="a34cc-183">Run a job and tasks with Batch</span></span>](./scripts/batch-cli-sample-run-job.md) | <span data-ttu-id="a34cc-184">Illustra l'esecuzione di un processo e l'aggiunta di attività.</span><span class="sxs-lookup"><span data-stu-id="a34cc-184">Demonstrates running a job and adding tasks.</span></span> |

## <a name="json-files-for-resource-creation"></a><span data-ttu-id="a34cc-185">File JSON per la creazione di risorse</span><span class="sxs-lookup"><span data-stu-id="a34cc-185">JSON files for resource creation</span></span>

<span data-ttu-id="a34cc-186">Quando si creano risorse di Batch come pool e processi, è possibile specificare un file JSON contenente la configurazione della nuova risorsa anziché passarne i parametri come opzioni della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="a34cc-186">When you create Batch resources like pools and jobs, you can specify a JSON file containing the new resource's configuration instead of passing its parameters as command-line options.</span></span> <span data-ttu-id="a34cc-187">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="a34cc-187">For example:</span></span>

```azurecli
az batch pool create my_batch_pool.json
```

<span data-ttu-id="a34cc-188">Anche se è possibile creare la maggior parte delle risorse Batch usando solo opzioni della riga di comando, per alcune funzionalità è necessario specificare un file in formato JSON contenente i dettagli delle risorse.</span><span class="sxs-lookup"><span data-stu-id="a34cc-188">While you can create most Batch resources using only command-line options, some features require that you specify a JSON-formatted file containing the resource details.</span></span> <span data-ttu-id="a34cc-189">È necessario usare un file JSON, ad esempio, se si vogliono specificare file di risorse per un'attività di avvio.</span><span class="sxs-lookup"><span data-stu-id="a34cc-189">For example, you must use a JSON file if you want to specify resource files for a start task.</span></span>

<span data-ttu-id="a34cc-190">Per la sintassi JSON necessaria per creare una risorsa, vedere la documentazione di [riferimento sull'API REST di Batch][rest_api].</span><span class="sxs-lookup"><span data-stu-id="a34cc-190">To see the JSON syntax required to create a resource, refer to the [Batch REST API reference][rest_api] documentation.</span></span> <span data-ttu-id="a34cc-191">Ogni argomento "Aggiungi *tipo di risorsa*" nelle informazioni di riferimento sull'API REST contiene script JSON di esempio per la creazione di tale risorsa.</span><span class="sxs-lookup"><span data-stu-id="a34cc-191">Each "Add *resource type*" topic in the REST API reference contains sample JSON scripts for creating that resource.</span></span> <span data-ttu-id="a34cc-192">È possibile usare gli script JSON di esempio come modelli per i file JSON da usare con l'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="a34cc-192">You can use those sample JSON scripts as templates for JSON files to use with the Azure CLI.</span></span> <span data-ttu-id="a34cc-193">Per la sintassi JSON necessaria per la creazione di pool, vedere [Add a pool to an account][rest_add_pool] (Aggiungere un pool a un account).</span><span class="sxs-lookup"><span data-stu-id="a34cc-193">For example, to see the JSON syntax for pool creation, refer to [Add a pool to an account][rest_add_pool].</span></span>

<span data-ttu-id="a34cc-194">Per uno script di esempio che specifica un file JSON, vedere [Eseguire processi in Azure Batch con l'interfaccia della riga di comando di Azure](./scripts/batch-cli-sample-run-job.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-194">For a sample script that specifies a JSON file, see [Run a job and tasks with Batch](./scripts/batch-cli-sample-run-job.md).</span></span>

> [!NOTE]
> <span data-ttu-id="a34cc-195">Se si specifica un file JSON durante la creazione di una risorsa, gli altri parametri specificati nella riga di comando per la risorsa vengono ignorati.</span><span class="sxs-lookup"><span data-stu-id="a34cc-195">If you specify a JSON file when you create a resource, any other parameters that you specify on the command line for that resource are ignored.</span></span>
> 
> 

## <a name="efficient-queries-for-batch-resources"></a><span data-ttu-id="a34cc-196">Query efficienti per le risorse Batch</span><span class="sxs-lookup"><span data-stu-id="a34cc-196">Efficient queries for Batch resources</span></span>

<span data-ttu-id="a34cc-197">Ogni tipo di risorsa di Batch supporta un comando `list` che esegue query sull'account Batch ed elenca le risorse di tale tipo.</span><span class="sxs-lookup"><span data-stu-id="a34cc-197">Each Batch resource type supports a `list` command that queries your Batch account and lists resources of that type.</span></span> <span data-ttu-id="a34cc-198">È ad esempio possibile elencare i pool dell'account e le attività di un processo:</span><span class="sxs-lookup"><span data-stu-id="a34cc-198">For example, you can list the pools in your account and the tasks in a job:</span></span>

```azurecli
az batch pool list
az batch task list --job-id job001
```

<span data-ttu-id="a34cc-199">Quando si esegue una query sul servizio Batch con un'operazione `list`, è possibile specificare una clausola OData per limitare la quantità di dati restituiti.</span><span class="sxs-lookup"><span data-stu-id="a34cc-199">When you query the Batch service with a `list` operation, you can specify an OData clause to limit the amount of data returned.</span></span> <span data-ttu-id="a34cc-200">Dato che tutte le operazioni di filtro vengono eseguite sul lato server, vengono restituiti solo i dati richiesti.</span><span class="sxs-lookup"><span data-stu-id="a34cc-200">Because all filtering occurs server-side, only the data you request crosses the wire.</span></span> <span data-ttu-id="a34cc-201">Queste clausole consentono di risparmiare larghezza di banda (e quindi tempo) quando si eseguono operazioni di tipo elenco.</span><span class="sxs-lookup"><span data-stu-id="a34cc-201">Use these clauses to save bandwidth (and therefore time) when you perform list operations.</span></span>

<span data-ttu-id="a34cc-202">La tabella seguente illustra le clausole OData supportate dal servizio Batch:</span><span class="sxs-lookup"><span data-stu-id="a34cc-202">The following table describes the OData clauses supported by the Batch service:</span></span>

| <span data-ttu-id="a34cc-203">Clausola</span><span class="sxs-lookup"><span data-stu-id="a34cc-203">Clause</span></span> | <span data-ttu-id="a34cc-204">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a34cc-204">Description</span></span> |
|---|---|
| `--select-clause [select-clause]` | <span data-ttu-id="a34cc-205">Restituisce un subset di proprietà per ogni entità.</span><span class="sxs-lookup"><span data-stu-id="a34cc-205">Returns a subset of properties for each entity.</span></span> |
| `--filter-clause [filter-clause]` | <span data-ttu-id="a34cc-206">Restituisce solo le entità che corrispondono all'espressione OData specificata.</span><span class="sxs-lookup"><span data-stu-id="a34cc-206">Returns only entities that match the specified OData expression.</span></span> |
| `--expand-clause [expand-clause]` | <span data-ttu-id="a34cc-207">Ottiene le informazioni sull'entità in una singola chiamata REST sottostante.</span><span class="sxs-lookup"><span data-stu-id="a34cc-207">Obtains the entity information in a single underlying REST call.</span></span> <span data-ttu-id="a34cc-208">La clausola expand supporta attualmente solo la proprietà `stats`.</span><span class="sxs-lookup"><span data-stu-id="a34cc-208">The expand clause currently supports only the `stats` property.</span></span> |

<span data-ttu-id="a34cc-209">Per uno script di esempio che illustra come usare la clausola OData, vedere [Eseguire processi in Azure Batch con l'interfaccia della riga di comando di Azure](./scripts/batch-cli-sample-run-job.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-209">For a sample script that shows how to use an OData clause, see [Run a job and tasks with Batch](./scripts/batch-cli-sample-run-job.md).</span></span>

<span data-ttu-id="a34cc-210">Per altre informazioni sull'esecuzione di query di elenco efficienti con clausole OData, vedere [Creare query per elencare le risorse di Batch in modo efficiente](batch-efficient-list-queries.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-210">For more information on performing efficient list queries with OData clauses, see [Query the Azure Batch service efficiently](batch-efficient-list-queries.md).</span></span>

## <a name="troubleshooting-tips"></a><span data-ttu-id="a34cc-211">Suggerimenti per la risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="a34cc-211">Troubleshooting tips</span></span>

<span data-ttu-id="a34cc-212">I suggerimenti riportati di seguito possono contribuire alla risoluzione di problemi dell'interfaccia della riga di comando di Azure:</span><span class="sxs-lookup"><span data-stu-id="a34cc-212">The following tips may help when you are troubleshooting Azure CLI issues:</span></span>

* <span data-ttu-id="a34cc-213">Usare `-h` per visualizzare il **testo della Guida** per qualsiasi comando dell'interfaccia della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="a34cc-213">Use `-h` to get **help text** for any CLI command</span></span>
* <span data-ttu-id="a34cc-214">Usare `-v` e `-vv` per visualizzare l'output del comando **verbose**.</span><span class="sxs-lookup"><span data-stu-id="a34cc-214">Use `-v` and `-vv` to display **verbose** command output.</span></span> <span data-ttu-id="a34cc-215">Quando il flag `-vv` è incluso, l'interfaccia della riga di comando di Azure visualizza le richieste REST e le risposte effettive.</span><span class="sxs-lookup"><span data-stu-id="a34cc-215">When the `-vv` flag is included, the Azure CLI displays the actual REST requests and responses.</span></span> <span data-ttu-id="a34cc-216">Queste opzioni sono utili per visualizzare l'output completo degli errori.</span><span class="sxs-lookup"><span data-stu-id="a34cc-216">These switches are handy for displaying full error output.</span></span>
* <span data-ttu-id="a34cc-217">È possibile visualizzare l'**output del comando in formato JSON** con l'opzione `--json`.</span><span class="sxs-lookup"><span data-stu-id="a34cc-217">You can view **command output as JSON** with the `--json` option.</span></span> <span data-ttu-id="a34cc-218">Ad esempio, `az batch pool show pool001 --json` visualizza le proprietà di pool001 in formato JSON.</span><span class="sxs-lookup"><span data-stu-id="a34cc-218">For example, `az batch pool show pool001 --json` displays pool001's properties in JSON format.</span></span> <span data-ttu-id="a34cc-219">È quindi possibile copiare e modificare tale output per l'uso in un `--json-file` (vedere [File JSON](#json-files) più indietro in questo articolo).</span><span class="sxs-lookup"><span data-stu-id="a34cc-219">You can then copy and modify this output to use in a `--json-file` (see [JSON files](#json-files) earlier in this article).</span></span>
<!---Loc Comment: Please, check link [JSON files] since it's not redirecting to any location.--->
* <span data-ttu-id="a34cc-220">Il [forum di Batch][batch_forum] è monitorato dai membri del team di Batch.</span><span class="sxs-lookup"><span data-stu-id="a34cc-220">The [Batch forum][batch_forum] is monitored by Batch team members.</span></span> <span data-ttu-id="a34cc-221">Se si riscontrano problemi o si vuole assistenza per un'operazione specifica, è possibile pubblicare le proprie domande nel forum.</span><span class="sxs-lookup"><span data-stu-id="a34cc-221">You can post your questions there if you run into issues or would like help with a specific operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a34cc-222">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a34cc-222">Next steps</span></span>

* <span data-ttu-id="a34cc-223">Per altre informazioni sull'interfaccia della riga di comando di Azure, vedere la [documentazione sull'interfaccia della riga di comando di Azure](https://docs.microsoft.com/cli/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="a34cc-223">For more information about the Azure CLI, see the [Azure CLI documentation](https://docs.microsoft.com/cli/azure/overview).</span></span>
* <span data-ttu-id="a34cc-224">Per altre informazioni sulle risorse Batch, vedere la [panoramica di Azure Batch per gli sviluppatori](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-224">For more information about Batch resources, see [Overview of Azure Batch for developers](batch-api-basics.md).</span></span>
* <span data-ttu-id="a34cc-225">Per altre informazioni sull'uso dei modelli del servizio Batch per creare pool processi e attività senza scrivere codice, vedere [Usare il trasferimento di file e i modelli dell'interfaccia della riga di comando di Azure Batch (anteprima)](batch-cli-templates.md).</span><span class="sxs-lookup"><span data-stu-id="a34cc-225">For more information about using Batch templates to create pools, jobs, and tasks without writing code, see [Use Azure Batch CLI Templates and File Transfer (Preview)](batch-cli-templates.md).</span></span>

[batch_forum]: https://social.msdn.microsoft.com/forums/azure/home?forum=azurebatch
[github_readme]: https://github.com/Azure/azure-xplat-cli/blob/dev/README.md
[rest_api]: https://msdn.microsoft.com/library/azure/dn820158.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
