---
title: regole del firewall di Database SQL aaaAzure | Documenti Microsoft
description: Informazioni su come tooconfigure un SQL database firewall con accesso toomanage di regole firewall a livello di server e a livello di database.
keywords: firewall del database
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: cgronlun
tags: 
ms.assetid: ac57f84c-35c3-4975-9903-241c8059011e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 04/10/2017
ms.author: rickbyh
ms.openlocfilehash: 6a8cdf629d0d0e55421a5e9f9b894a21371be568
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-server-level-and-database-level-firewall-rules"></a><span data-ttu-id="7e7c3-104">Regole firewall a livello di server e di database per il database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7c3-104">Azure SQL Database server-level and database-level firewall rules</span></span> 

<span data-ttu-id="7e7c3-105">Il database SQL di Microsoft Azure fornisce un servizio di database relazionale per Azure e altre applicazioni basate su Internet.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-105">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="7e7c3-106">toohelp proteggere i dati, i firewall impediscono tutti i server di database di access tooyour finché non si specifica quali computer dispongono di autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-106">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="7e7c3-107">firewall Hello concede accesso toodatabases in base a hello provenienti dall'indirizzo IP di ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-107">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

## <a name="overview"></a><span data-ttu-id="7e7c3-108">Panoramica</span><span class="sxs-lookup"><span data-stu-id="7e7c3-108">Overview</span></span>

<span data-ttu-id="7e7c3-109">Inizialmente, tutti i server di SQL Azure tooyour di accesso Transact-SQL è bloccato dal firewall hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-109">Initially, all Transact-SQL access tooyour Azure SQL server is blocked by hello firewall.</span></span> <span data-ttu-id="7e7c3-110">toobegin utilizzando il server SQL Azure, è necessario specificare uno o più regole firewall di livello server che consentono accesso tooyour Azure SQL server.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-110">toobegin using your Azure SQL server, you must specify one or more server-level firewall rules that enable access tooyour Azure SQL server.</span></span> <span data-ttu-id="7e7c3-111">Utilizzare toospecify di regole firewall hello quale indirizzo IP compreso tra hello Internet consentiti e indica se le applicazioni Azure possano tentare tooconnect tooyour Azure SQL server.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-111">Use hello firewall rules toospecify which IP address ranges from hello Internet are allowed, and whether Azure applications can attempt tooconnect tooyour Azure SQL server.</span></span>

<span data-ttu-id="7e7c3-112">toojust accesso grant tooselectively uno dei database hello del server SQL Azure, è necessario creare una regola a livello di database per il database richiesto hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-112">tooselectively grant access toojust one of hello databases in your Azure SQL server, you must create a database-level rule for hello required database.</span></span> <span data-ttu-id="7e7c3-113">Specificare un intervallo di indirizzi IP per la regola del firewall database hello che esula hello specificato nella regola del firewall a livello di server hello intervallo di indirizzi IP e verificare che l'indirizzo IP hello del client hello sia compreso nell'intervallo di hello specificato nella regola di hello a livello di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-113">Specify an IP address range for hello database firewall rule that is beyond hello IP address range specified in hello server-level firewall rule, and ensure that hello IP address of hello client falls in hello range specified in hello database-level rule.</span></span>

<span data-ttu-id="7e7c3-114">Hello di tentativi di connessione da Internet e Azure deve superare il firewall hello prima di poter raggiungere il server SQL di Azure o un Database SQL, come illustrato nel seguente diagramma hello:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-114">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your Azure SQL server or SQL Database, as shown in hello following diagram:</span></span>

   ![Diagramma che descrive la configurazione del firewall.][1]

* <span data-ttu-id="7e7c3-116">**Le regole del firewall a livello di server:** consentono tooaccess client l'intero server SQL Azure, vale a dire tutti i database all'interno di hello hello stesso server logico.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-116">**Server-level firewall rules:** These rules enable clients tooaccess your entire Azure SQL server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="7e7c3-117">Queste regole sono archiviate in hello **master** database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-117">These rules are stored in hello **master** database.</span></span> <span data-ttu-id="7e7c3-118">Regole del firewall a livello di server possono essere configurate tramite il portale di hello o utilizzando istruzioni Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-118">Server-level firewall rules can be configured by using hello portal or by using Transact-SQL statements.</span></span> <span data-ttu-id="7e7c3-119">le regole firewall di livello server toocreate con hello portale di Azure o PowerShell, è necessario essere proprietario della sottoscrizione hello o un collaboratore alla sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-119">toocreate server-level firewall rules using hello Azure portal or PowerShell, you must be hello subscription owner or a subscription contributor.</span></span> <span data-ttu-id="7e7c3-120">toocreate una regola del firewall a livello di server tramite Transact-SQL, è necessario connettere l'istanza del Database SQL toohello come account di accesso principale di hello a livello di server o amministratore di Azure Active Directory hello (il che significa che una regola del firewall a livello di server è necessario innanzitutto creare da un utente con autorizzazioni a livello di Azure).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-120">toocreate a server-level firewall rule using Transact-SQL, you must connect toohello SQL Database instance as hello server-level principal login or hello Azure Active Directory administrator (which means that a server-level firewall rule must first be created by a user with Azure-level permissions).</span></span>
* <span data-ttu-id="7e7c3-121">**Le regole del firewall a livello di database:** consentono client tooaccess determinati (sicuro) database all'interno di hello stesso server logico.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-121">**Database-level firewall rules:** These rules enable clients tooaccess certain (secure) databases within hello same logical server.</span></span> <span data-ttu-id="7e7c3-122">È possibile creare queste regole per ogni database (inclusi hello **master** database0) e sono archiviate nei singoli database hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-122">You can create these rules for each database (including hello **master** database0) and they are stored in hello individual databases.</span></span> <span data-ttu-id="7e7c3-123">Le regole del firewall a livello di database possono essere configurate solo tramite istruzioni Transact-SQL e solo dopo aver configurato hello primo firewall di livello server.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-123">Database-level firewall rules can only be configured by using Transact-SQL statements and only after you have configured hello first server-level firewall.</span></span> <span data-ttu-id="7e7c3-124">Se si specifica un intervallo di indirizzi IP nella regola del firewall a livello di database hello è intervallo hello esterno specificato nella regola del firewall a livello di server hello, solo i client che dispongono di indirizzi IP nell'intervallo di hello a livello di database possono accedere a database hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-124">If you specify an IP address range in hello database-level firewall rule that is outside hello range specified in hello server-level firewall rule, only those clients that have IP addresses in hello database-level range can access hello database.</span></span> <span data-ttu-id="7e7c3-125">Per un database è possibile avere un massimo di 128 regole del firewall a livello di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-125">You can have a maximum of 128 database-level firewall rules for a database.</span></span> <span data-ttu-id="7e7c3-126">Le regole del firewall a livello di database per database master e utente possono essere create e gestite solo tramite Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-126">Database-level firewall rules for master and user databases can only be created and managed through Transact-SQL.</span></span> <span data-ttu-id="7e7c3-127">Per ulteriori informazioni sulla configurazione delle regole del firewall a livello di database, vedere l'esempio hello più avanti in questo articolo e vedere [sp_set_database_firewall_rule (database SQL di Azure)](https://msdn.microsoft.com/library/dn270010.aspx).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-127">For more information on configuring database-level firewall rules, see hello example later in this article and see [sp_set_database_firewall_rule (Azure SQL Databases)](https://msdn.microsoft.com/library/dn270010.aspx).</span></span>

<span data-ttu-id="7e7c3-128">**Consiglio:** Microsoft consiglia di utilizzare le regole del firewall a livello di database ogni volta che sicurezza tooenhance possibili e toomake del database più portabile.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-128">**Recommendation:** Microsoft recommends using database-level firewall rules whenever possible tooenhance security and toomake your database more portable.</span></span> <span data-ttu-id="7e7c3-129">Utilizzare le regole del firewall a livello di server per gli amministratori e quando si dispone di molti database che hanno hello stessi requisiti di accesso e non si desidera ora toospend configurare singolarmente ogni database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-129">Use server-level firewall rules for administrators and when you have many databases that have hello same access requirements and you don't want toospend time configuring each database individually.</span></span>

> [!Note]
> <span data-ttu-id="7e7c3-130">Per informazioni sui database portabile nel contesto di hello di continuità aziendale, vedere [requisiti di autenticazione per il ripristino di emergenza](sql-database-geo-replication-security-config.md).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-130">For information about portable databases in hello context of business continuity, see [Authentication requirements for disaster recovery](sql-database-geo-replication-security-config.md).</span></span>
>

### <a name="connecting-from-hello-internet"></a><span data-ttu-id="7e7c3-131">Connessione da Internet hello</span><span class="sxs-lookup"><span data-stu-id="7e7c3-131">Connecting from hello Internet</span></span>

<span data-ttu-id="7e7c3-132">Quando un computer tenta di server di database tooyour tooconnect da hello Internet, firewall hello controlla innanzitutto hello provenienti dall'indirizzo IP della richiesta di hello rispetto alle regole firewall di livello database hello, per il database di hello che richiede la connessione hello:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-132">When a computer attempts tooconnect tooyour database server from hello Internet, hello firewall first checks hello originating IP address of hello request against hello database-level firewall rules, for hello database that hello connection is requesting:</span></span>

* <span data-ttu-id="7e7c3-133">Se l'indirizzo IP hello della richiesta di hello è in uno degli intervalli di hello specificati nelle regole del firewall a livello di database hello, connessione hello viene concessa toohello Database SQL che contiene la regola di hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-133">If hello IP address of hello request is within one of hello ranges specified in hello database-level firewall rules, hello connection is granted toohello SQL Database that contains hello rule.</span></span>
* <span data-ttu-id="7e7c3-134">Se l'indirizzo IP hello della richiesta di hello non è in uno degli intervalli di hello specificati nella regola del firewall a livello di database hello, vengono controllate le regole firewall di livello server hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-134">If hello IP address of hello request is not within one of hello ranges specified in hello database-level firewall rule, hello server-level firewall rules are checked.</span></span> <span data-ttu-id="7e7c3-135">Se l'indirizzo IP hello della richiesta di hello è in uno degli intervalli di hello specificati nelle regole del firewall a livello di server hello, connessione hello viene concessa.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-135">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span> <span data-ttu-id="7e7c3-136">Le regole del firewall a livello di server applicano tooall database SQL server SQL Azure hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-136">Server-level firewall rules apply tooall SQL databases on hello Azure SQL server.</span></span>  
* <span data-ttu-id="7e7c3-137">Se l'indirizzo IP hello della richiesta di hello non è presente all'interno di intervalli hello specificata in una delle hello a livello di database o delle regole del firewall a livello di server, hello richiesta di connessione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-137">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>

> [!NOTE]
> <span data-ttu-id="7e7c3-138">tooaccess Database SQL di Azure dal computer locale, verificare che il firewall di hello in rete e nel computer locale consenta la comunicazione in uscita sulla porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-138">tooaccess Azure SQL Database from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>
> 

### <a name="connecting-from-azure"></a><span data-ttu-id="7e7c3-139">Connessione da Azure</span><span class="sxs-lookup"><span data-stu-id="7e7c3-139">Connecting from Azure</span></span>
<span data-ttu-id="7e7c3-140">è necessario abilitare le applicazioni tooallow da Azure tooconnect tooyour server SQL di Azure, le connessioni di Azure.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-140">tooallow applications from Azure tooconnect tooyour Azure SQL server, Azure connections must be enabled.</span></span> <span data-ttu-id="7e7c3-141">Quando un'applicazione da Azure tenta di server di database tooyour tooconnect, firewall hello verifica che le connessioni di Azure sono consentite.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-141">When an application from Azure attempts tooconnect tooyour database server, hello firewall verifies that Azure connections are allowed.</span></span> <span data-ttu-id="7e7c3-142">Un'impostazione con iniziale e finale uguale too0.0.0.0 di indirizzo del firewall indica che queste connessioni sono consentite.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-142">A firewall setting with starting and ending address equal too0.0.0.0 indicates these connections are allowed.</span></span> <span data-ttu-id="7e7c3-143">Se non è consentito il tentativo di connessione hello, hello richiesta non raggiungerà il server di Database SQL di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-143">If hello connection attempt is not allowed, hello request does not reach hello Azure SQL Database server.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7e7c3-144">Questa opzione Configura hello firewall tooallow tutte le connessioni dalle connessioni tra cui Azure dalle sottoscrizioni hello di altri clienti.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-144">This option configures hello firewall tooallow all connections from Azure including connections from hello subscriptions of other customers.</span></span> <span data-ttu-id="7e7c3-145">Quando questa opzione, assicurarsi che l'account di accesso e autorizzazioni utente limitare tooonly accesso agli utenti autorizzati.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-145">When selecting this option, make sure your login and user permissions limit access tooonly authorized users.</span></span>
> 

## <a name="creating-and-managing-firewall-rules"></a><span data-ttu-id="7e7c3-146">Creazione e gestione di regole del firewall</span><span class="sxs-lookup"><span data-stu-id="7e7c3-146">Creating and managing firewall rules</span></span>
<span data-ttu-id="7e7c3-147">prima impostazione del firewall di livello server Hello può essere creata usando hello [portale di Azure](https://portal.azure.com/) o a livello di programmazione utilizzando [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [CLI di Azure](/cli/azure/sql/server/firewall-rule#create), o hello [API REST](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-147">hello first server-level firewall setting can be created using hello [Azure portal](https://portal.azure.com/) or programmatically using [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), or hello [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span></span> <span data-ttu-id="7e7c3-148">Le regole del firewall a livello di server successive possono essere create e gestite utilizzando questi metodi e tramite Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-148">Subsequent server-level firewall rules can be created and managed using these methods, and through Transact-SQL.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="7e7c3-149">Le regole del firewall a livello di database possono essere create e gestite solo con Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-149">Database-level firewall rules can only be created and managed using Transact-SQL.</span></span> 
>

<span data-ttu-id="7e7c3-150">prestazioni tooimprove, il firewall di livello server regole temporaneamente vengono memorizzati nella cache a livello di database hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-150">tooimprove performance, server-level firewall rules are temporarily cached at hello database level.</span></span> <span data-ttu-id="7e7c3-151">cache di hello toorefresh, vedere [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-151">toorefresh hello cache, see [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="7e7c3-152">È possibile utilizzare [SQL Database Auditing](sql-database-auditing.md) tooaudit le modifiche alle firewall a livello di server e a livello di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-152">You can use [SQL Database Auditing](sql-database-auditing.md) tooaudit server-level and database-level firewall changes.</span></span>
>

### <a name="azure-portal"></a><span data-ttu-id="7e7c3-153">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7c3-153">Azure portal</span></span>

<span data-ttu-id="7e7c3-154">una regola del firewall a livello di server nel portale di Azure hello tooset, è possibile proseguire toohello pagina di panoramica per la pagina di panoramica hello o database SQL di Azure per il server logico di Database di Azure.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-154">tooset a server-level firewall rule in hello Azure portal, you can either go toohello Overview page for your Azure SQL database or hello Overview page for your Azure Database logical server.</span></span>

> [!TIP]
> <span data-ttu-id="7e7c3-155">Per un'esercitazione, vedere [crea un database utilizzando il portale di Azure di hello](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-155">For a tutorial, see [Create a DB using hello Azure portal](sql-database-get-started-portal.md).</span></span>
>

<span data-ttu-id="7e7c3-156">**Dalla pagina di Panoramica del database**</span><span class="sxs-lookup"><span data-stu-id="7e7c3-156">**From database overview page**</span></span>

1. <span data-ttu-id="7e7c3-157">Fare clic su una regola del firewall a livello di server dalla pagina di panoramica database hello, tooset **impostare firewall del server** sulla barra degli strumenti hello, come illustrato nella seguente immagine hello: hello **le impostazioni del Firewall** pagina per hello SQL Verrà visualizzata la finestra di server di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-157">tooset a server-level firewall rule from hello database overview page, click **Set server firewall** on hello toolbar as shown in hello following image: hello **Firewall settings** page for hello SQL Database server opens.</span></span>

      ![Regola del firewall del server](./media/sql-database-get-started-portal/server-firewall-rule.png) 

2. <span data-ttu-id="7e7c3-159">Fare clic su **Aggiungi indirizzo IP del client** sull'indirizzo IP del computer hello hello barra degli strumenti tooadd hello attualmente in uso e quindi fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-159">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="7e7c3-160">Una regola del firewall a livello di server viene creata per l'indirizzo IP corrente.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-160">A server-level firewall rule is created for your current IP address.</span></span>

      ![Impostare la regola del firewall del server](./media/sql-database-get-started-portal/server-firewall-rule-set.png) 

<span data-ttu-id="7e7c3-162">**Dalla pagina della panoramica del server**</span><span class="sxs-lookup"><span data-stu-id="7e7c3-162">**From server overview page**</span></span>

<span data-ttu-id="7e7c3-163">pagina di panoramica per il server viene visualizzata, che mostra hello completamente Hello completo del server (ad esempio **mynewserver20170403.database.windows.net**) e offre opzioni per un'ulteriore configurazione.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-163">hello overview page for your server opens, showing you hello fully qualified server name (such as **mynewserver20170403.database.windows.net**) and provides options for further configuration.</span></span>

1. <span data-ttu-id="7e7c3-164">Fare clic su una regola a livello di server dalla pagina di panoramica di server, tooset **Firewall** nel menu a sinistra di hello in impostazioni, come illustrato nella seguente immagine hello:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-164">tooset a server-level rule from server overview page, click **Firewall** in hello left-hand menu under Settings as showed in hello following image:</span></span> 

     ![panoramica del server logico](./media/sql-database-migrate-your-sql-server-database/logical-server-overview.png)

2. <span data-ttu-id="7e7c3-166">Fare clic su **Aggiungi indirizzo IP del client** sull'indirizzo IP del computer hello hello barra degli strumenti tooadd hello attualmente in uso e quindi fare clic su **salvare**.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-166">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="7e7c3-167">Una regola del firewall a livello di server viene creata per l'indirizzo IP corrente.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-167">A server-level firewall rule is created for your current IP address.</span></span>

     ![Impostare la regola del firewall del server](./media/sql-database-migrate-your-sql-server-database/server-firewall-rule-set.png)

### <a name="transact-sql"></a><span data-ttu-id="7e7c3-169">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="7e7c3-169">Transact-SQL</span></span>
| <span data-ttu-id="7e7c3-170">Vista del catalogo o una Stored Procedure</span><span class="sxs-lookup"><span data-stu-id="7e7c3-170">Catalog View or Stored Procedure</span></span> | <span data-ttu-id="7e7c3-171">Level</span><span class="sxs-lookup"><span data-stu-id="7e7c3-171">Level</span></span> | <span data-ttu-id="7e7c3-172">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7e7c3-172">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="7e7c3-173">sys.firewall_rules</span><span class="sxs-lookup"><span data-stu-id="7e7c3-173">sys.firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269980.aspx) |<span data-ttu-id="7e7c3-174">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-174">Server</span></span> |<span data-ttu-id="7e7c3-175">Visualizza le regole firewall di livello server correnti hello</span><span class="sxs-lookup"><span data-stu-id="7e7c3-175">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-176">sp_set_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-176">sp_set_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270017.aspx) |<span data-ttu-id="7e7c3-177">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-177">Server</span></span> |<span data-ttu-id="7e7c3-178">Crea o aggiorna regole del firewall a livello di server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-178">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-179">sp_delete_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-179">sp_delete_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270024.aspx) |<span data-ttu-id="7e7c3-180">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-180">Server</span></span> |<span data-ttu-id="7e7c3-181">Rimuove regole del firewall a livello di server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-181">Removes server-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-182">sys.database_firewall_rules</span><span class="sxs-lookup"><span data-stu-id="7e7c3-182">sys.database_firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269982.aspx) |<span data-ttu-id="7e7c3-183">Database</span><span class="sxs-lookup"><span data-stu-id="7e7c3-183">Database</span></span> |<span data-ttu-id="7e7c3-184">Visualizza le regole firewall di livello database correnti hello</span><span class="sxs-lookup"><span data-stu-id="7e7c3-184">Displays hello current database-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-185">sp_set_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-185">sp_set_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270010.aspx) |<span data-ttu-id="7e7c3-186">Database</span><span class="sxs-lookup"><span data-stu-id="7e7c3-186">Database</span></span> |<span data-ttu-id="7e7c3-187">Crea o aggiorna regole firewall di livello database hello</span><span class="sxs-lookup"><span data-stu-id="7e7c3-187">Creates or updates hello database-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-188">sp_delete_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-188">sp_delete_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270030.aspx) |<span data-ttu-id="7e7c3-189">Database</span><span class="sxs-lookup"><span data-stu-id="7e7c3-189">Databases</span></span> |<span data-ttu-id="7e7c3-190">Rimuove le regole del firewall a livello di database</span><span class="sxs-lookup"><span data-stu-id="7e7c3-190">Removes database-level firewall rules</span></span> |


<span data-ttu-id="7e7c3-191">Hello negli esempi seguenti rivedere le regole esistenti hello, abilitare un intervallo di indirizzi IP nel server di hello Contoso e consente di eliminare una regola del firewall:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-191">hello following examples review hello existing rules, enable a range of IP addresses on hello server Contoso, and deletes a firewall rule:</span></span>
   
```sql
SELECT * FROM sys.firewall_rules ORDER BY name;
```
  
<span data-ttu-id="7e7c3-192">Successivamente, aggiungere una regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-192">Next, add a firewall rule.</span></span>
   
```sql
EXECUTE sp_set_firewall_rule @name = N'ContosoFirewallRule',
   @start_ip_address = '192.168.1.1', @end_ip_address = '192.168.1.10'
```

<span data-ttu-id="7e7c3-193">toodelete una regola del firewall a livello di server, eseguire la procedura di hello sp_delete_firewall_rule archiviati.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-193">toodelete a server-level firewall rule, execute hello sp_delete_firewall_rule stored procedure.</span></span> <span data-ttu-id="7e7c3-194">Hello esempio Elimina regola hello denominata ContosoFirewallRule:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-194">hello following example deletes hello rule named ContosoFirewallRule:</span></span>
   
```sql
EXECUTE sp_delete_firewall_rule @name = N'ContosoFirewallRule'
```   

### <a name="azure-powershell"></a><span data-ttu-id="7e7c3-195">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="7e7c3-195">Azure PowerShell</span></span>
| <span data-ttu-id="7e7c3-196">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="7e7c3-196">Cmdlet</span></span> | <span data-ttu-id="7e7c3-197">Level</span><span class="sxs-lookup"><span data-stu-id="7e7c3-197">Level</span></span> | <span data-ttu-id="7e7c3-198">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7e7c3-198">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="7e7c3-199">Get-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-199">Get-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546731.aspx) |<span data-ttu-id="7e7c3-200">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-200">Server</span></span> |<span data-ttu-id="7e7c3-201">Restituisce le regole firewall di livello server correnti hello</span><span class="sxs-lookup"><span data-stu-id="7e7c3-201">Returns hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-202">New-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-202">New-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546724.aspx) |<span data-ttu-id="7e7c3-203">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-203">Server</span></span> |<span data-ttu-id="7e7c3-204">Crea una nuova regola del firewall a livello di server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-204">Creates a new server-level firewall rule</span></span> |
| [<span data-ttu-id="7e7c3-205">Set-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-205">Set-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546739.aspx) |<span data-ttu-id="7e7c3-206">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-206">Server</span></span> |<span data-ttu-id="7e7c3-207">Aggiorna proprietà hello di una regola firewall di livello server esistente</span><span class="sxs-lookup"><span data-stu-id="7e7c3-207">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="7e7c3-208">Remove-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="7e7c3-208">Remove-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546727.aspx) |<span data-ttu-id="7e7c3-209">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-209">Server</span></span> |<span data-ttu-id="7e7c3-210">Rimuove regole del firewall a livello di server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-210">Removes server-level firewall rules</span></span> |


<span data-ttu-id="7e7c3-211">Hello di esempio seguente imposta una regola del firewall a livello di server con PowerShell:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-211">hello following example sets a server-level firewall rule using PowerShell:</span></span>

```powershell
New-AzureRmSqlServerFirewallRule -ResourceGroupName "myResourceGroup" `
    -ServerName $servername `
    -FirewallRuleName "AllowSome" -StartIpAddress "0.0.0.0" -EndIpAddress "0.0.0.0"
```

> [!TIP]
> <span data-ttu-id="7e7c3-212">Per esempi di PowerShell nel contesto di hello di una Guida introduttiva, vedere [creare DB - PowerShell](sql-database-get-started-powershell.md) e [creare un singolo database e configurare una regola del firewall tramite PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="7e7c3-212">For PowerShell examples in hello context of a quick start, see [Create DB - PowerShell](sql-database-get-started-powershell.md) and [Create a single database and configure a firewall rule using PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span></span>
>

### <a name="azure-cli"></a><span data-ttu-id="7e7c3-213">Interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7c3-213">Azure CLI</span></span>
| <span data-ttu-id="7e7c3-214">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="7e7c3-214">Cmdlet</span></span> | <span data-ttu-id="7e7c3-215">Level</span><span class="sxs-lookup"><span data-stu-id="7e7c3-215">Level</span></span> | <span data-ttu-id="7e7c3-216">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7e7c3-216">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="7e7c3-217">az sql server firewall create</span><span class="sxs-lookup"><span data-stu-id="7e7c3-217">az sql server firewall create</span></span>](/cli/azure/sql/server/firewall-rule#create) | <span data-ttu-id="7e7c3-218">Crea un tooall di accesso tooallow regola firewall SQL database nel server di hello dall'intervallo di indirizzi IP hello immesso.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-218">Creates a firewall rule tooallow access tooall SQL Databases on hello server from hello entered IP address range.</span></span>|
| [<span data-ttu-id="7e7c3-219">az sql server firewall delete</span><span class="sxs-lookup"><span data-stu-id="7e7c3-219">az sql server firewall delete</span></span>](/cli/azure/sql/server/firewall-rule#delete)| <span data-ttu-id="7e7c3-220">Elimina una regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-220">Deletes a firewall rule.</span></span>|
| [<span data-ttu-id="7e7c3-221">az sql server firewall list</span><span class="sxs-lookup"><span data-stu-id="7e7c3-221">az sql server firewall list</span></span>](/cli/azure/sql/server/firewall-rule#list)| <span data-ttu-id="7e7c3-222">Elenca le regole del firewall hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-222">Lists hello firewall rules.</span></span>|
| [<span data-ttu-id="7e7c3-223">az sql server firewall rule show</span><span class="sxs-lookup"><span data-stu-id="7e7c3-223">az sql server firewall rule show</span></span>](/cli/azure/sql/server/firewall-rule#show)| <span data-ttu-id="7e7c3-224">Mostra i dettagli di hello di una regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-224">Shows hello details of a firewall rule.</span></span>|
| [<span data-ttu-id="7e7c3-225">ax sql server firewall rule update</span><span class="sxs-lookup"><span data-stu-id="7e7c3-225">ax sql server firewall rule update</span></span>](/cli/azure/sql/server/firewall-rule#update)| <span data-ttu-id="7e7c3-226">Aggiorna una regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-226">Updates a firewall rule.</span></span>

<span data-ttu-id="7e7c3-227">Hello di esempio seguente imposta una regola del firewall a livello di server utilizzando hello CLI di Azure:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-227">hello following example sets a server-level firewall rule using hello Azure CLI:</span></span> 

```azurecli-interactive
az sql server firewall-rule create --resource-group myResourceGroup --server $servername \
    -n AllowYourIp --start-ip-address 0.0.0.0 --end-ip-address 0.0.0.0
```

> [!TIP]
> <span data-ttu-id="7e7c3-228">Per un esempio di CLI di Azure nel contesto di hello di una Guida introduttiva, vedere [creare DDB - CLI di Azure](sql-database-get-started-cli.md) e [creare un singolo database e configurare una regola del firewall utilizzando hello CLI di Azure](scripts/sql-database-create-and-configure-database-cli.md)</span><span class="sxs-lookup"><span data-stu-id="7e7c3-228">For an Azure CLI example in hello context of a quick start, see [Create DDB - Azure CLI](sql-database-get-started-cli.md) and [Create a single database and configure a firewall rule using hello Azure CLI](scripts/sql-database-create-and-configure-database-cli.md)</span></span>
>

### <a name="rest-api"></a><span data-ttu-id="7e7c3-229">API REST</span><span class="sxs-lookup"><span data-stu-id="7e7c3-229">REST API</span></span>
| <span data-ttu-id="7e7c3-230">API</span><span class="sxs-lookup"><span data-stu-id="7e7c3-230">API</span></span> | <span data-ttu-id="7e7c3-231">Level</span><span class="sxs-lookup"><span data-stu-id="7e7c3-231">Level</span></span> | <span data-ttu-id="7e7c3-232">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7e7c3-232">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="7e7c3-233">Elencare le regole del firewall</span><span class="sxs-lookup"><span data-stu-id="7e7c3-233">List Firewall Rules</span></span>](https://msdn.microsoft.com/library/azure/dn505715.aspx) |<span data-ttu-id="7e7c3-234">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-234">Server</span></span> |<span data-ttu-id="7e7c3-235">Visualizza le regole firewall di livello server correnti hello</span><span class="sxs-lookup"><span data-stu-id="7e7c3-235">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-236">Creare la regola del firewall</span><span class="sxs-lookup"><span data-stu-id="7e7c3-236">Create Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505712.aspx) |<span data-ttu-id="7e7c3-237">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-237">Server</span></span> |<span data-ttu-id="7e7c3-238">Crea o aggiorna regole del firewall a livello di server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-238">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="7e7c3-239">Impostare la regola del firewall</span><span class="sxs-lookup"><span data-stu-id="7e7c3-239">Set Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505707.aspx) |<span data-ttu-id="7e7c3-240">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-240">Server</span></span> |<span data-ttu-id="7e7c3-241">Aggiorna proprietà hello di una regola firewall di livello server esistente</span><span class="sxs-lookup"><span data-stu-id="7e7c3-241">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="7e7c3-242">Eliminare la regola del firewall</span><span class="sxs-lookup"><span data-stu-id="7e7c3-242">Delete Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505706.aspx) |<span data-ttu-id="7e7c3-243">Server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-243">Server</span></span> |<span data-ttu-id="7e7c3-244">Rimuove regole del firewall a livello di server</span><span class="sxs-lookup"><span data-stu-id="7e7c3-244">Removes server-level firewall rules</span></span> |

## <a name="server-level-firewall-rule-versus-a-database-level-firewall-rule"></a><span data-ttu-id="7e7c3-245">Regola del firewall a livello di server contro una regola del firewall a livello di database</span><span class="sxs-lookup"><span data-stu-id="7e7c3-245">Server-level firewall rule versus a database-level firewall rule</span></span>
<span data-ttu-id="7e7c3-246">D:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-246">Q.</span></span> <span data-ttu-id="7e7c3-247">Gli utenti di un database devono essere completamente isolati da un altro database?</span><span class="sxs-lookup"><span data-stu-id="7e7c3-247">Should users of one database be fully isolated from another database?</span></span>   
  <span data-ttu-id="7e7c3-248">In caso affermativo, concedere l'accesso tramite le regole del firewall a livello di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-248">If yes, grant access using database-level firewall rules.</span></span> <span data-ttu-id="7e7c3-249">Questo evita utilizzando le regole firewall di livello server, che consente l'accesso attraverso il firewall hello tooall database, riducendo la profondità hello di difese.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-249">This avoids using server-level firewall rules, which permit access through hello firewall tooall databases, reducing hello depth of your defenses.</span></span>   
 
<span data-ttu-id="7e7c3-250">D:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-250">Q.</span></span> <span data-ttu-id="7e7c3-251">Gli utenti in corrispondenza dell'indirizzo IP hello necessario accedere tooall database?</span><span class="sxs-lookup"><span data-stu-id="7e7c3-251">Do users at hello IP address’s need access tooall databases?</span></span>   
  <span data-ttu-id="7e7c3-252">Utilizzare firewall di livello server regole tooreduce hello numero di volte in cui che è necessario configurare le regole del firewall.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-252">Use server-level firewall rules tooreduce hello number of times you must configure firewall rules.</span></span>   

<span data-ttu-id="7e7c3-253">D:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-253">Q.</span></span> <span data-ttu-id="7e7c3-254">Persona hello o configurazione di regole firewall hello solo team dispone di accesso tramite hello portale di Azure, PowerShell o API REST di hello?</span><span class="sxs-lookup"><span data-stu-id="7e7c3-254">Does hello person or team configuring hello firewall rules only have access through hello Azure portal, PowerShell, or hello REST API?</span></span>   
  <span data-ttu-id="7e7c3-255">È necessario usare le regole del firewall a livello di server.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-255">You must use server-level firewall rules.</span></span> <span data-ttu-id="7e7c3-256">Le regole del firewall a livello di database possono essere configurate solo con Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-256">Database-level firewall rules can only be configured using Transact-SQL.</span></span>  

<span data-ttu-id="7e7c3-257">D:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-257">Q.</span></span> <span data-ttu-id="7e7c3-258">Non è persona hello o configurazione di regole firewall hello team consentito dalla presenza di alto livello dell'autorizzazione a livello di database hello?</span><span class="sxs-lookup"><span data-stu-id="7e7c3-258">Is hello person or team configuring hello firewall rules prohibited from having high-level permission at hello database level?</span></span>   
  <span data-ttu-id="7e7c3-259">Usare le regole del firewall a livello di server.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-259">Use server-level firewall rules.</span></span> <span data-ttu-id="7e7c3-260">Per configurare regole del firewall a livello di database utilizzando Transact-SQL, è necessario almeno `CONTROL DATABASE` autorizzazione a livello di database hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-260">Configuring database-level firewall rules using Transact-SQL, requires at least `CONTROL DATABASE` permission at hello database level.</span></span>  

<span data-ttu-id="7e7c3-261">D:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-261">Q.</span></span> <span data-ttu-id="7e7c3-262">È la persona hello o team configurazione o il controllo delle regole del firewall hello, la gestione centralizzata delle regole del firewall per molti (ad esempio 100s) di database?</span><span class="sxs-lookup"><span data-stu-id="7e7c3-262">Is hello person or team configuring or auditing hello firewall rules, centrally managing firewall rules for many (perhaps 100s) of databases?</span></span>   
  <span data-ttu-id="7e7c3-263">Questa selezione dipende dalle esigenze e degli ambienti.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-263">This selection depends upon your needs and environment.</span></span> <span data-ttu-id="7e7c3-264">Le regole del firewall a livello di server potrebbero essere più facile tooconfigure, ma lo scripting è possibile configurare le regole in hello a livello di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-264">Server-level firewall rules might be easier tooconfigure, but scripting can configure rules at hello database-level.</span></span> <span data-ttu-id="7e7c3-265">E anche se si utilizzano le regole del firewall a livello di server, potrebbe essere necessario regole firewall di database tooaudit hello toosee se gli utenti con `CONTROL` autorizzazione sul database hello hanno creato le regole del firewall a livello di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-265">And even if you use server-level firewall rules, you might need tooaudit hello database-firewall rules, toosee if users with `CONTROL` permission on hello database have created database-level firewall rules.</span></span>   

<span data-ttu-id="7e7c3-266">D:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-266">Q.</span></span> <span data-ttu-id="7e7c3-267">È possibile usare un insieme di regole del firewall a livello di server e di database?</span><span class="sxs-lookup"><span data-stu-id="7e7c3-267">Can I use a mix of both server-level and database-level firewall rules?</span></span>   
  <span data-ttu-id="7e7c3-268">Sì.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-268">Yes.</span></span> <span data-ttu-id="7e7c3-269">Alcuni utenti, ad esempio gli amministratori, potrebbero aver bisogno di regole del firewall a livello di server.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-269">Some users, such as administrators might need server-level firewall rules.</span></span> <span data-ttu-id="7e7c3-270">Altri utenti, ad esempio gli utenti di un'applicazione di database, potrebbero aver bisogno di regole del firewall a livello di database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-270">Other users, such as users of a database application, might need database-level firewall rules.</span></span>   

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="7e7c3-271">Risoluzione dei problemi di firewall del database hello</span><span class="sxs-lookup"><span data-stu-id="7e7c3-271">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="7e7c3-272">Considerare i seguenti punti di accesso toohello servizio Database SQL di Microsoft Azure non comportarsi come previsto hello:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-272">Consider hello following points when access toohello Microsoft Azure SQL Database service does not behave as you expect:</span></span>

* <span data-ttu-id="7e7c3-273">**Configurazione del firewall locale:** prima che il computer possa accedere a Database SQL di Azure, potrebbe essere necessario toocreate un'eccezione del firewall nel computer in uso per la porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-273">**Local firewall configuration:** Before your computer can access Azure SQL Database, you may need toocreate a firewall exception on your computer for TCP port 1433.</span></span> <span data-ttu-id="7e7c3-274">Se si apportano le connessioni all'interno dei confini di hello cloud di Azure, è possibile tooopen altre porte.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-274">If you are making connections inside hello Azure cloud boundary, you may have tooopen additional ports.</span></span> <span data-ttu-id="7e7c3-275">Per ulteriori informazioni, vedere hello **Database SQL: all'esterno di Visual Studio all'interno di** sezione [porte 1433 per il Database di SQL e ADO.NET 4.5](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-275">For more information, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="7e7c3-276">**La network address (NAT):** tooNAT scadenza, indirizzo IP di hello utilizzato per il tooAzure tooconnect computer Database SQL potrebbero essere diverso da indirizzo IP hello indicato nelle impostazioni di configurazione IP del computer.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-276">**Network address translation (NAT):** Due tooNAT, hello IP address used by your computer tooconnect tooAzure SQL Database may be different than hello IP address shown in your computer IP configuration settings.</span></span> <span data-ttu-id="7e7c3-277">indirizzo IP di hello tooview è il computer utilizzando tooconnect tooAzure, accedi al portale toohello e passare toohello **configura** scheda server hello che ospita il database.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-277">tooview hello IP address your computer is using tooconnect tooAzure, log in toohello portal and navigate toohello **Configure** tab on hello server that hosts your database.</span></span> <span data-ttu-id="7e7c3-278">In hello **indirizzi IP consentiti** sezione hello **indirizzo IP Client corrente** viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-278">Under hello **Allowed IP Addresses** section, hello **Current Client IP Address** is displayed.</span></span> <span data-ttu-id="7e7c3-279">Fare clic su **Aggiungi** toohello **indirizzi IP consentiti** tooallow server hello tooaccess computer.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-279">Click **Add** toohello **Allowed IP Addresses** tooallow this computer tooaccess hello server.</span></span>
* <span data-ttu-id="7e7c3-280">**Elenco Consenti toohello le modifiche non sono state applicate ancora:** potrebbero essere presenti in quanto un ritardo di cinque minuti per la modifica di effetto di tootake configurazione di firewall di toohello Database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-280">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure SQL Database firewall configuration tootake effect.</span></span>
* <span data-ttu-id="7e7c3-281">**account di accesso Hello non è autorizzato o è stata utilizzata una password errata:** se un account di accesso non dispone di autorizzazioni nel server di Database SQL di Azure hello o password hello utilizzata è errata, server di Database SQL di Azure toohello connessione hello è negato.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-281">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure SQL Database server or hello password used is incorrect, hello connection toohello Azure SQL Database server is denied.</span></span> <span data-ttu-id="7e7c3-282">Creazione di un'impostazione del firewall fornisce solo i client con un'opportunità tooattempt connessione server tooyour; ogni client dovrà fornire le credenziali di sicurezza necessarie hello.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-282">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span> <span data-ttu-id="7e7c3-283">Per ulteriori informazioni sulla preparazione degli account di accesso, vedere Gestione di database, account di accesso e utenti nel database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-283">For more information about preparing logins, see Managing Databases, Logins, and Users in Azure SQL Database.</span></span>
* <span data-ttu-id="7e7c3-284">**Indirizzo IP dinamico:** se si dispone di una connessione Internet con impostazione di indirizzi IP dinamici e si verificano problemi di comunicazione attraverso il firewall hello, è possibile provare una delle seguenti soluzioni hello:</span><span class="sxs-lookup"><span data-stu-id="7e7c3-284">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>
  
  * <span data-ttu-id="7e7c3-285">Richiedere il Provider di servizi Internet (ISP) per l'intervallo di indirizzi IP hello assegnato tooyour i computer client che server di Database SQL di Azure hello di accesso e quindi aggiungere l'intervallo di indirizzi IP hello come una regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-285">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure SQL Database server, and then add hello IP address range as a firewall rule.</span></span>
  * <span data-ttu-id="7e7c3-286">Ottenere indirizzi IP statici per i computer client e quindi aggiungere gli indirizzi IP hello come regole del firewall.</span><span class="sxs-lookup"><span data-stu-id="7e7c3-286">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7e7c3-287">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="7e7c3-287">Next steps</span></span>

- <span data-ttu-id="7e7c3-288">Per una Guida introduttiva alla creazione di un database e di una regola del firewall a livello di server, vedere [Creare un database SQL di Azure nel portale di Azure](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-288">For a quick start on creating a database and a server-level firewall rule, see [Create an Azure SQL database](sql-database-get-started-portal.md).</span></span>
- <span data-ttu-id="7e7c3-289">Per informazioni sulla connessione database di SQL Azure tooan da applicazioni di terze parti o open source di, vedere [tooSQL Database degli esempi di codice di avvio rapido Client](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span><span class="sxs-lookup"><span data-stu-id="7e7c3-289">For help in connecting tooan Azure SQL database from open source or third-party applications, see [Client quick-start code samples tooSQL Database](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span></span>
- <span data-ttu-id="7e7c3-290">Per informazioni su altre porte che potrebbe essere necessario tooopen, vedere hello **Database SQL: all'esterno di Visual Studio all'interno di** sezione [porte 1433 per il Database di SQL e ADO.NET 4.5](sql-database-develop-direct-route-ports-adonet-v12.md)</span><span class="sxs-lookup"><span data-stu-id="7e7c3-290">For information on additional ports that you may need tooopen, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md)</span></span>
- <span data-ttu-id="7e7c3-291">Per una panoramica della sicurezza del Database SQL di Azure vedere [Protezione del Database SQL](sql-database-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="7e7c3-291">For an overview of Azure SQL Database security, see [Securing your database](sql-database-security-overview.md)</span></span>

<!--Image references-->
[1]: ./media/sql-database-firewall-configure/sqldb-firewall-1.png
