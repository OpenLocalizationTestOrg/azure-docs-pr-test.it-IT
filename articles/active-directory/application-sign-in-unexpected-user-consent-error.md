---
title: Errore imprevisto durante la richiesta di consenso per un'applicazione | Microsoft Docs
description: "Vengono illustrati gli errori che possono verificarsi quando si tenta di ottenere il consenso per un'applicazione, nonché suggerite le operazioni da eseguire per risolverli"
services: active-directory
documentationcenter: 
author: ajamess
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: asteen
ms.openlocfilehash: fd500fdd4c8642bad96dcf71eebcf1fad461a35f
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="unexpected-error-when-performing-consent-to-an-application"></a><span data-ttu-id="70a50-103">Errore imprevisto durante la richiesta di consenso per un'applicazione</span><span class="sxs-lookup"><span data-stu-id="70a50-103">Unexpected error when performing consent to an application</span></span>

<span data-ttu-id="70a50-104">Questo articolo descrive gli errori che possono verificarsi quando si tenta di ottenere il consenso per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="70a50-104">This article discusses errors that can occur during the process of consenting to an application.</span></span> <span data-ttu-id="70a50-105">Per risolvere i problemi relativi a richieste di consenso impreviste che non contengono messaggi di errore, vedere [Scenari di autenticazione per Azure AD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-scenarios).</span><span class="sxs-lookup"><span data-stu-id="70a50-105">If you are Troubleshoot unexpected consent prompts that do not contain any error messages, see [Authentication Scenarios for Azure AD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-scenarios).</span></span>

<span data-ttu-id="70a50-106">Molte applicazioni integrate in Azure Active Directory richiedono autorizzazioni per accedere ad altre risorse e garantire il funzionamento.</span><span class="sxs-lookup"><span data-stu-id="70a50-106">Many applications that integrate with Azure Active Directory require permissions to access other resources in order to function.</span></span> <span data-ttu-id="70a50-107">Quando anche queste risorse sono integrate in Azure Active Directory, le autorizzazioni per il relativo accesso vengono spesso richieste tramite il framework di consenso comune.</span><span class="sxs-lookup"><span data-stu-id="70a50-107">When these resources are also integrated with Azure Active Directory, permissions to access them is often requested using the common consent framework.</span></span> 

<span data-ttu-id="70a50-108">Questo comporta la visualizzazione di una richiesta di consenso, che in genere viene inviata al primo utilizzo di un'applicazione ma a volte anche successivamente.</span><span class="sxs-lookup"><span data-stu-id="70a50-108">This results in a consent prompt being displayed, which generally occurs the first time an application is used but can also occur on a subsequent use of the application.</span></span>

<span data-ttu-id="70a50-109">Perché un utente possa concedere le autorizzazioni richieste da un'applicazione, è necessario che siano soddisfatte determinate condizioni.</span><span class="sxs-lookup"><span data-stu-id="70a50-109">Certain conditions must be true for a user to consent to the permissions an application requires.</span></span> <span data-ttu-id="70a50-110">In caso contrario, possono verificarsi diversi errori,</span><span class="sxs-lookup"><span data-stu-id="70a50-110">If these conditions are not met, various errors can occur.</span></span> <span data-ttu-id="70a50-111">inclusi i seguenti:</span><span class="sxs-lookup"><span data-stu-id="70a50-111">These include:</span></span>

## <a name="requesting-not-authorized-permissions-error"></a><span data-ttu-id="70a50-112">Errore di richiesta di autorizzazioni non consentite</span><span class="sxs-lookup"><span data-stu-id="70a50-112">Requesting not authorized permissions error</span></span>
* <span data-ttu-id="70a50-113">**AADSTS90093:** &lt;NomeVisualizzatoAppClient&gt; richiede una o più autorizzazioni che l'utente non è autorizzato a concedere.</span><span class="sxs-lookup"><span data-stu-id="70a50-113">**AADSTS90093:** &lt;clientAppDisplayName&gt; is requesting one or more permissions that you are not authorized to grant.</span></span> <span data-ttu-id="70a50-114">Contattare un amministratore che possa concedere il consenso per l'applicazione per conto dell'utente.</span><span class="sxs-lookup"><span data-stu-id="70a50-114">Contact an administrator, who can consent to this application on your behalf.</span></span>

<span data-ttu-id="70a50-115">Questo errore si verifica quando un utente non amministratore della società tenta di utilizzare un'applicazione che richiede autorizzazioni che solo un amministratore può concedere.</span><span class="sxs-lookup"><span data-stu-id="70a50-115">This error occurs when a user who is not a company administrator attempts to use an application that is requesting permissions that only an administrator can grant.</span></span> <span data-ttu-id="70a50-116">Il problema può essere risolto chiedendo a un amministratore di concedere l'accesso all'applicazione per conto dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="70a50-116">This error can be resolved by an administrator granting access to the application on behalf of their organization.</span></span>

## <a name="policy-prevents-granting-permissions-error"></a><span data-ttu-id="70a50-117">Errore dovuto a criteri che impediscono di concedere le autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="70a50-117">Policy prevents granting permissions error</span></span>
* <span data-ttu-id="70a50-118">**AADSTS90093:** un amministratore di &lt;NomeVisualizzatoTenant&gt; ha configurato criteri che impediscono di concedere a &lt;nome dell'app&gt; le autorizzazioni che richiede.</span><span class="sxs-lookup"><span data-stu-id="70a50-118">**AADSTS90093:** An administrator of &lt;tenantDisplayName&gt; has set a policy that prevents you from granting &lt;name of app&gt; the permissions it is requesting.</span></span> <span data-ttu-id="70a50-119">Contattare un amministratore di &lt;NomeVisualizzatoTenant&gt; che possa concedere le autorizzazioni richieste dall'app per conto dell'utente.</span><span class="sxs-lookup"><span data-stu-id="70a50-119">Contact an administrator of &lt;tenantDisplayName&gt;, who can grant permissions to this app on your behalf.</span></span>

<span data-ttu-id="70a50-120">Questo errore si verifica quando un amministratore della società impedisce agli utenti di concedere il consenso per le applicazioni e un utente non amministratore tenta di usare un'applicazione che richiede il consenso.</span><span class="sxs-lookup"><span data-stu-id="70a50-120">This error occurs when a company administrator turns off the ability for users to consent to applications, then a non-administrator user attempts to use an application that requires consent.</span></span> <span data-ttu-id="70a50-121">Il problema può essere risolto chiedendo a un amministratore di concedere l'accesso all'applicazione per conto dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="70a50-121">This error can be resolved by an administrator granting access to the application on behalf of their organization.</span></span>

## <a name="intermittent-problem-error"></a><span data-ttu-id="70a50-122">Errore dovuto a un problema intermittente</span><span class="sxs-lookup"><span data-stu-id="70a50-122">Intermittent problem error</span></span>
* <span data-ttu-id="70a50-123">**AADSTS90090:** sembra che si sia verificato un problema intermittente durante la registrazione delle autorizzazioni che si è tentato di concedere a &lt;NomeVisualizzazioneAppClient&gt;.</span><span class="sxs-lookup"><span data-stu-id="70a50-123">**AADSTS90090:** It looks like we encountered an intermittent problem recording the permissions you attempted to grant to &lt;clientAppDisplayName&gt;.</span></span> <span data-ttu-id="70a50-124">Riprovare in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="70a50-124">try again later.</span></span>

<span data-ttu-id="70a50-125">Questo errore indica che si è verificato un problema intermittente relativo al servizio.</span><span class="sxs-lookup"><span data-stu-id="70a50-125">This error indicates that an intermittent service side issue has occurred.</span></span> <span data-ttu-id="70a50-126">È possibile risolverlo provando a concedere di nuovo il consenso per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="70a50-126">It can be resolved by attempting to consent to the application again.</span></span>

## <a name="resource-not-available-error"></a><span data-ttu-id="70a50-127">Errore di risorsa non disponibile</span><span class="sxs-lookup"><span data-stu-id="70a50-127">Resource not available error</span></span>
* <span data-ttu-id="70a50-128">**AADSTS65005:** l'app &lt;NomeVisualizzatoAppClient&gt; ha richiesto autorizzazioni per accedere alla risorsa &lt;NomeVisualizzatoAppRisorsa&gt; che non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="70a50-128">**AADSTS65005:** The app &lt;clientAppDisplayName&gt; requested permissions to access a resource &lt;resourceAppDisplayName&gt; that is not available.</span></span> 

<span data-ttu-id="70a50-129">Contattare lo sviluppatore dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="70a50-129">Contact the application developer.</span></span>

##  <a name="resource-not-available-in-tenant-error"></a><span data-ttu-id="70a50-130">Errore di risorsa non disponibile nel tenant</span><span class="sxs-lookup"><span data-stu-id="70a50-130">Resource not available in tenant error</span></span>
* <span data-ttu-id="70a50-131">**AADSTS65005:** &lt;NomeVisualizzatoAppClient&gt; richiede l'accesso alla risorsa &lt;NomeVisualizzatoAppRisorsa&gt; che non è disponibile all'interno dell'organizzazione &lt;NomeVisualizzatoTenant&gt;.</span><span class="sxs-lookup"><span data-stu-id="70a50-131">**AADSTS65005:** &lt;clientAppDisplayName&gt; is requesting access to a resource &lt;resourceAppDisplayName&gt; that is not available in your organization &lt;tenantDisplayName&gt;.</span></span> 

<span data-ttu-id="70a50-132">Assicurarsi che la risorsa sia disponibile o contattare un amministratore di &lt;NomeVisualizzatoTenant&gt;.</span><span class="sxs-lookup"><span data-stu-id="70a50-132">Ensure that this resource is available or contact an administrator of &lt;tenantDisplayName&gt;.</span></span>

## <a name="permissions-mismatch-error"></a><span data-ttu-id="70a50-133">Errore di mancata corrispondenza delle autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="70a50-133">Permissions mismatch error</span></span>
* <span data-ttu-id="70a50-134">**AADSTS65005:** l'app ha richiesto il consenso per accedere alla risorsa &lt;NomeVisualizzatoAppRisorsa&gt;.</span><span class="sxs-lookup"><span data-stu-id="70a50-134">**AADSTS65005:** The app requested consent to access resource &lt;resourceAppDisplayName&gt;.</span></span> <span data-ttu-id="70a50-135">Questa richiesta ha avuto esito negativo perché non corrisponde al modo in cui l'app è stata preconfigurata durante la registrazione.</span><span class="sxs-lookup"><span data-stu-id="70a50-135">This request failed because it does not match how the app was pre-configured during app registration.</span></span> <span data-ttu-id="70a50-136">Contattare il fornitore dell'app.**</span><span class="sxs-lookup"><span data-stu-id="70a50-136">Contact the app vendor.**</span></span>

<span data-ttu-id="70a50-137">Tutti questi errori si verificano quando l'applicazione per la quale un utente sta provando a concedere il consenso richiede autorizzazioni per accedere a un'applicazione della risorsa non trovata nella directory dell'organizzazione (tenant).</span><span class="sxs-lookup"><span data-stu-id="70a50-137">These errors all occur when the application a user is trying to consent to is requesting permissions to access a resource application that cannot be found in the organization’s directory (tenant).</span></span> <span data-ttu-id="70a50-138">Questa situazione può verificarsi per diversi motivi:</span><span class="sxs-lookup"><span data-stu-id="70a50-138">This can occur for several reasons:</span></span>

-   <span data-ttu-id="70a50-139">Lo sviluppatore dell'applicazione client ha configurato l'applicazione in modo errato per cui questa richiede l'accesso a una risorsa non valida.</span><span class="sxs-lookup"><span data-stu-id="70a50-139">The client application developer has configured their application incorrectly, causing it to request access to an invalid resource.</span></span> <span data-ttu-id="70a50-140">In questo caso, lo sviluppatore dell'applicazione deve aggiornare la configurazione dell'applicazione client per risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="70a50-140">In this case, the application developer must update the configuration of the client application to resolve this issue.</span></span>

-   <span data-ttu-id="70a50-141">Un'entità servizio che rappresenta l'applicazione della risorsa di destinazione non esiste nell'organizzazione o esisteva in precedenza ma è stata rimossa.</span><span class="sxs-lookup"><span data-stu-id="70a50-141">A Service Principal representing the target resource application does not exist in the organization, or existed in the past but has been removed.</span></span> <span data-ttu-id="70a50-142">Per risolvere questo problema, è necessario eseguire il provisioning di un'entità servizio per l'applicazione della risorsa all'interno dell'organizzazione, in modo che l'applicazione client possa richiedere le autorizzazioni per tale entità.</span><span class="sxs-lookup"><span data-stu-id="70a50-142">To resolve this issue, a Service Principal for the resource application must be provisioned in the organization so the client application can request permissions to it.</span></span> <span data-ttu-id="70a50-143">A seconda del tipo di applicazione, è possibile eseguire questa operazione in diversi modi, tra cui:</span><span class="sxs-lookup"><span data-stu-id="70a50-143">This can happen in an number of ways, depending on the type of application, including:</span></span>

    -   <span data-ttu-id="70a50-144">Acquisendo una sottoscrizione per l'applicazione della risorsa (applicazioni pubblicate da Microsoft)</span><span class="sxs-lookup"><span data-stu-id="70a50-144">Acquiring a subscription for the resource application (Microsoft published applications)</span></span>

    -   <span data-ttu-id="70a50-145">Concedendo il consenso per l'applicazione della risorsa</span><span class="sxs-lookup"><span data-stu-id="70a50-145">Consenting to the resource application</span></span>

    -   <span data-ttu-id="70a50-146">Concedendo le autorizzazioni all'applicazione tramite il portale di Azure</span><span class="sxs-lookup"><span data-stu-id="70a50-146">Granting the application permissions via the Azure Portal</span></span>

    -   <span data-ttu-id="70a50-147">Aggiungendo l'applicazione dalla raccolta di applicazioni di Azure AD</span><span class="sxs-lookup"><span data-stu-id="70a50-147">Adding the application from the Azure AD Application Gallery</span></span>

## <a name="next-steps"></a><span data-ttu-id="70a50-148">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="70a50-148">Next steps</span></span> 

[<span data-ttu-id="70a50-149">App, autorizzazioni e consenso in Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="70a50-149">Apps, permissions, and consent in Azure Active Directory (v1 endpoint)</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-apps-permissions-consent)<br>

[<span data-ttu-id="70a50-150">Ambiti, autorizzazioni e consenso in Azure Active Directory (endpoint v2.0)</span><span class="sxs-lookup"><span data-stu-id="70a50-150">Scopes, permissions, and consent in the Azure Active Directory (v2.0 endpoint)</span></span>](https://docs.microsoft.com/azure/active-directory/develop/active-directory-v2-scopes)


