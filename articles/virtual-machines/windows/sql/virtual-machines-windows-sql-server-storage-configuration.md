---
title: configurazione aaaStorage per le macchine virtuali di SQL Server | Documenti Microsoft
description: "Questo argomento descrive come viene configurata l'archiviazione da Azure per le VM di SQL Server durante il provisioning (modello di distribuzione di Resource Manager). Viene inoltre spiegato come è possibile configurare l'archiviazione per le VM di SQL Server esistenti."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: b50dbd698828780cfc044fa0966e8f4e2f3bb6c6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="08939-104">Configurazione dell'archiviazione per le VM di SQL Server</span><span class="sxs-lookup"><span data-stu-id="08939-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="08939-105">Quando si configura un'immagine di macchina virtuale di SQL Server in Azure, tooautomate hello portale consente la configurazione di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="08939-105">When you configure a SQL Server virtual machine image in Azure, hello Portal helps tooautomate your storage configuration.</span></span> <span data-ttu-id="08939-106">Ciò include toohello archiviazione macchina virtuale, rendendo tale tooSQL accessibile archiviazione Server e configurarlo toooptimize per i requisiti di prestazioni specifici di collegamento.</span><span class="sxs-lookup"><span data-stu-id="08939-106">This includes attaching storage toohello VM, making that storage accessible tooSQL Server, and configuring it toooptimize for your specific performance requirements.</span></span>

<span data-ttu-id="08939-107">Questo argomento illustra come viene configurata l'archiviazione da Azure per le VM di SQL Server, sia durante il provisioning che per le VM esistenti.</span><span class="sxs-lookup"><span data-stu-id="08939-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="08939-108">Questa configurazione è basata su hello [consigliate per le prestazioni](virtual-machines-windows-sql-performance.md) per le macchine virtuali di Azure che esegue SQL Server.</span><span class="sxs-lookup"><span data-stu-id="08939-108">This configuration is based on hello [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="08939-109">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="08939-109">Prerequisites</span></span>
<span data-ttu-id="08939-110">hello toouse automatizzata le impostazioni di configurazione di archiviazione, la macchina virtuale richiede hello seguenti caratteristiche:</span><span class="sxs-lookup"><span data-stu-id="08939-110">toouse hello automated storage configuration settings, your virtual machine requires hello following characteristics:</span></span>

* <span data-ttu-id="08939-111">Provisioning eseguito con un' [immagine della raccolta di SQL Server](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span><span class="sxs-lookup"><span data-stu-id="08939-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="08939-112">Usa hello [il modello di distribuzione di gestione risorse](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="08939-112">Uses hello [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="08939-113">Uso dell' [archiviazione Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="08939-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="08939-114">Nuove VM</span><span class="sxs-lookup"><span data-stu-id="08939-114">New VMs</span></span>
<span data-ttu-id="08939-115">Hello sezioni seguenti descrivono come archiviazione tooconfigure per nuove macchine virtuali di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="08939-115">hello following sections describe how tooconfigure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="08939-116">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="08939-116">Azure Portal</span></span>
<span data-ttu-id="08939-117">Durante il provisioning di una macchina virtuale di Azure usando un'immagine della raccolta di SQL Server, è possibile scegliere tooautomatically configurare l'archiviazione di hello per la nuova macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="08939-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose tooautomatically configure hello storage for your new VM.</span></span> <span data-ttu-id="08939-118">Specificare dimensioni di archiviazione hello, limiti sulle prestazioni e il tipo di carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="08939-118">You specify hello storage size, performance limits, and workload type.</span></span> <span data-ttu-id="08939-119">Hello seguente schermata Mostra pannello di configurazione di archiviazione hello utilizzato durante la VM SQL provisioning.</span><span class="sxs-lookup"><span data-stu-id="08939-119">hello following screenshot shows hello Storage configuration blade used during SQL VM provisioning.</span></span>

![Configurazione dell'archiviazione per le VM di SQL Server durante il provisioning](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="08939-121">In base alle scelte, Azure esegue hello seguente attività di configurazione di archiviazione dopo la creazione di hello VM:</span><span class="sxs-lookup"><span data-stu-id="08939-121">Based on your choices, Azure performs hello following storage configuration tasks after creating hello VM:</span></span>

* <span data-ttu-id="08939-122">Crea e collega premium archiviazione macchina virtuale di dati dischi toohello.</span><span class="sxs-lookup"><span data-stu-id="08939-122">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="08939-123">Configura hello dati dischi toobe accessibile tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="08939-123">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="08939-124">Configura i dischi dati hello in uno spazio di archiviazione specificato alcun pool in base a hello requisiti (IOPS e la velocità effettiva) di dimensioni e prestazioni.</span><span class="sxs-lookup"><span data-stu-id="08939-124">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="08939-125">Associa il pool di archiviazione hello con una nuova unità sulla macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="08939-125">Associates hello storage pool with a new drive on hello virtual machine.</span></span>
* <span data-ttu-id="08939-126">Ottimizza la nuova unità in base al tipo di carico di lavoro specificato (data warehousing, elaborazione transazionale o generale).</span><span class="sxs-lookup"><span data-stu-id="08939-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="08939-127">Per ulteriori informazioni su come Azure Configura le impostazioni di archiviazione, vedere hello [sezione di configurazione dell'archiviazione](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="08939-127">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="08939-128">Per una procedura dettagliata completa di toocreate vedere una VM SQL Server nel portale di Azure, hello [hello provisioning esercitazione](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="08939-128">For a full walkthrough of how toocreate a SQL Server VM in hello Azure Portal, see [hello provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="08939-129">Modelli di Resource Manager</span><span class="sxs-lookup"><span data-stu-id="08939-129">Resource Manage templates</span></span>
<span data-ttu-id="08939-130">Se si utilizza hello seguenti modelli di gestione risorse, per impostazione predefinita, senza alcuna configurazione di pool di archiviazione vengono collegati due dischi di dati premium.</span><span class="sxs-lookup"><span data-stu-id="08939-130">If you use hello following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="08939-131">Tuttavia, è possibile personalizzare queste numero di hello toochange di modelli di dischi dati premium di macchina virtuale toohello associata.</span><span class="sxs-lookup"><span data-stu-id="08939-131">However, you can customize these templates toochange hello number of premium data disks that are attached toohello virtual machine.</span></span>

* [<span data-ttu-id="08939-132">Creare una VM con il backup automatico</span><span class="sxs-lookup"><span data-stu-id="08939-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="08939-133">Creare una VM con l'applicazione automatica delle patch</span><span class="sxs-lookup"><span data-stu-id="08939-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="08939-134">Creare una VM con l'integrazione di AKV</span><span class="sxs-lookup"><span data-stu-id="08939-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="08939-135">VM esistenti</span><span class="sxs-lookup"><span data-stu-id="08939-135">Existing VMs</span></span>
<span data-ttu-id="08939-136">Per SQL Server le macchine virtuali esistenti, è possibile modificare alcune impostazioni di archiviazione nel portale di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="08939-136">For existing SQL Server VMs, you can modify some storage settings in hello Azure portal.</span></span> <span data-ttu-id="08939-137">Selezionare la macchina virtuale, andare toohello area delle impostazioni e quindi selezionare configurazione di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="08939-137">Select your VM, go toohello Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="08939-138">Pannello di configurazione di SQL Server Hello viene illustrato l'utilizzo di archiviazione della macchina virtuale corrente hello.</span><span class="sxs-lookup"><span data-stu-id="08939-138">hello SQL Server Configuration blade shows hello current storage usage of your VM.</span></span> <span data-ttu-id="08939-139">In questo grafico vengono visualizzate tutte le unità esistenti nella VM.</span><span class="sxs-lookup"><span data-stu-id="08939-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="08939-140">Per ogni unità, consente di visualizzare lo spazio di archiviazione hello nelle quattro sezioni:</span><span class="sxs-lookup"><span data-stu-id="08939-140">For each drive, hello storage space displays in four sections:</span></span>

* <span data-ttu-id="08939-141">Dati SQL</span><span class="sxs-lookup"><span data-stu-id="08939-141">SQL data</span></span>
* <span data-ttu-id="08939-142">Log SQL</span><span class="sxs-lookup"><span data-stu-id="08939-142">SQL log</span></span>
* <span data-ttu-id="08939-143">Altro (archiviazione non SQL)</span><span class="sxs-lookup"><span data-stu-id="08939-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="08939-144">Disponibile</span><span class="sxs-lookup"><span data-stu-id="08939-144">Available</span></span>

![Configurare l'archiviazione per le VM di SQL Server esistenti](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="08939-146">tooconfigure hello archiviazione tooadd una nuova unità o estendere un'unità esistente, fare clic sul collegamento Modifica hello sopra il grafico hello.</span><span class="sxs-lookup"><span data-stu-id="08939-146">tooconfigure hello storage tooadd a new drive or extend an existing drive, click hello Edit link above hello chart.</span></span>

<span data-ttu-id="08939-147">opzioni di configurazione Hello visualizzate variano a seconda se si usa questa funzionalità prima.</span><span class="sxs-lookup"><span data-stu-id="08939-147">hello configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="08939-148">Quando si utilizza per hello prima volta, è possibile specificare i requisiti di archiviazione per una nuova unità.</span><span class="sxs-lookup"><span data-stu-id="08939-148">When using for hello first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="08939-149">Se è stata utilizzata in precedenza questo toocreate funzionalità un'unità, è possibile scegliere tooextend archiviazione dell'unità.</span><span class="sxs-lookup"><span data-stu-id="08939-149">If you previously used this feature toocreate a drive, you can choose tooextend that drive’s storage.</span></span>

### <a name="use-for-hello-first-time"></a><span data-ttu-id="08939-150">Utilizzo per la prima volta hello</span><span class="sxs-lookup"><span data-stu-id="08939-150">Use for hello first time</span></span>
<span data-ttu-id="08939-151">Se è la prima volta che tramite questa funzionalità, è possibile specificare limiti di dimensioni e le prestazioni di archiviazione per una nuova unità hello.</span><span class="sxs-lookup"><span data-stu-id="08939-151">If it is your first time using this feature, you can specify hello storage size and performance limits for a new drive.</span></span> <span data-ttu-id="08939-152">Questa esperienza è simile toowhat che verrà visualizzato in fase di provisioning.</span><span class="sxs-lookup"><span data-stu-id="08939-152">This experience is similar toowhat you would see at provisioning time.</span></span> <span data-ttu-id="08939-153">la differenza principale Hello è che non sono consentiti tipo di carico di lavoro toospecify hello.</span><span class="sxs-lookup"><span data-stu-id="08939-153">hello main difference is that you are not permitted toospecify hello workload type.</span></span> <span data-ttu-id="08939-154">Questa restrizione impedisce che interrompere qualsiasi configurazione esistente di SQL Server nella macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="08939-154">This restriction prevents disrupting any existing SQL Server configurations on hello virtual machine.</span></span>

![Configurare i dispositivi di scorrimento delle opzioni per l'archiviazione di SQL Server](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="08939-156">Azure crea una nuova unità in base alle specifiche.</span><span class="sxs-lookup"><span data-stu-id="08939-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="08939-157">In questo scenario, Azure esegue hello seguenti attività di configurazione di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="08939-157">In this scenario, Azure performs hello following storage configuration tasks:</span></span>

* <span data-ttu-id="08939-158">Crea e collega premium archiviazione macchina virtuale di dati dischi toohello.</span><span class="sxs-lookup"><span data-stu-id="08939-158">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="08939-159">Configura hello dati dischi toobe accessibile tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="08939-159">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="08939-160">Configura i dischi dati hello in uno spazio di archiviazione specificato alcun pool in base a hello requisiti (IOPS e la velocità effettiva) di dimensioni e prestazioni.</span><span class="sxs-lookup"><span data-stu-id="08939-160">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="08939-161">Associa il pool di archiviazione hello con una nuova unità sulla macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="08939-161">Associates hello storage pool with a new drive on hello virtual machine.</span></span>

<span data-ttu-id="08939-162">Per ulteriori informazioni su come Azure Configura le impostazioni di archiviazione, vedere hello [sezione di configurazione dell'archiviazione](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="08939-162">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="08939-163">Aggiungere una nuova unità</span><span class="sxs-lookup"><span data-stu-id="08939-163">Add a new drive</span></span>
<span data-ttu-id="08939-164">Se l'archiviazione è già stata configurata nella VM di SQL Server, per l'espansione dell'archiviazione diventano disponibili due nuove opzioni.</span><span class="sxs-lookup"><span data-stu-id="08939-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="08939-165">Hello prima opzione è tooadd una nuova unità, che è possibile aumentare il livello di prestazioni hello della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="08939-165">hello first option is tooadd a new drive, which can increase hello performance level of your VM.</span></span>

![Aggiungere un nuovo tooa unità SQL VM](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="08939-167">Dopo l'aggiunta di unità di hello, tuttavia, è necessario eseguire alcuni miglioramento delle prestazioni hello tooachieve configurazione manuale aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="08939-167">However, after adding hello drive, you must perform some extra manual configuration tooachieve hello performance increase.</span></span>

### <a name="extend-hello-drive"></a><span data-ttu-id="08939-168">Estendere hello unità</span><span class="sxs-lookup"><span data-stu-id="08939-168">Extend hello drive</span></span>
<span data-ttu-id="08939-169">Hello altre opzioni per l'espansione di archiviazione sono tooextend hello esistente unità.</span><span class="sxs-lookup"><span data-stu-id="08939-169">hello other option for expanding storage is tooextend hello existing drive.</span></span> <span data-ttu-id="08939-170">Questa opzione aumenta spazio di archiviazione disponibile hello per le unità, ma non aumenta le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="08939-170">This option increases hello available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="08939-171">Con pool di archiviazione, è possibile modificare il numero di hello di colonne dopo la creazione di pool di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="08939-171">With storage pools, you cannot alter hello number of columns after hello storage pool is created.</span></span> <span data-ttu-id="08939-172">numero di Hello colonne determina il numero di hello di scrittura in parallelo, che possono essere archiviati con striping nei dischi dati hello.</span><span class="sxs-lookup"><span data-stu-id="08939-172">hello number of columns determines hello number of parallel writes, which can be striped across hello data disks.</span></span> <span data-ttu-id="08939-173">Di conseguenza, qualsiasi disco dati aggiunto non consente di aumentare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="08939-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="08939-174">Forniscono maggiore spazio di archiviazione solo per i dati di hello in corso la scrittura.</span><span class="sxs-lookup"><span data-stu-id="08939-174">They can only provide more storage for hello data being written.</span></span> <span data-ttu-id="08939-175">Questa limitazione significa anche che, quando si estende unità hello, numero hello colonne determina il numero minimo di hello di dischi dati che è possibile aggiungere.</span><span class="sxs-lookup"><span data-stu-id="08939-175">This limitation also means that, when extending hello drive, hello number of columns determines hello minimum number of data disks that you can add.</span></span> <span data-ttu-id="08939-176">Pertanto, se si crea un pool di archiviazione con dischi quattro dati, hello numero di colonne è inoltre quattro.</span><span class="sxs-lookup"><span data-stu-id="08939-176">So if you create a storage pool with four data disks, hello number of columns is also four.</span></span> <span data-ttu-id="08939-177">Ogni volta che si estende archiviazione hello, è necessario aggiungere dischi dati almeno quattro.</span><span class="sxs-lookup"><span data-stu-id="08939-177">Any time you extend hello storage, you must add at least four data disks.</span></span>

![Estendere un'unità per una VM di SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="08939-179">Configurazione dell'archiviazione</span><span class="sxs-lookup"><span data-stu-id="08939-179">Storage configuration</span></span>
<span data-ttu-id="08939-180">In questa sezione fornisce un riferimento per le modifiche di configurazione archiviazione hello che Azure esegue automaticamente durante il provisioning della VM SQL o la configurazione nel portale di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="08939-180">This section provides a reference for hello storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in hello Azure Portal.</span></span>

* <span data-ttu-id="08939-181">Se sono stati selezionati meno di due TB di spazio di archiviazione per la VM, Azure non crea un pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="08939-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="08939-182">Se sono stati selezionati almeno due TB di spazio di archiviazione per la VM, Azure configura un pool di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="08939-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="08939-183">sezione successiva di Hello di questo argomento fornisce i dettagli di hello di configurazione del pool di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="08939-183">hello next section of this topic provides hello details of hello storage pool configuration.</span></span>
* <span data-ttu-id="08939-184">Per la configurazione automatica dell'archiviazione vengono sempre usati dischi dati P30 di [archiviazione Premium](../../../storage/common/storage-premium-storage.md) .</span><span class="sxs-lookup"><span data-stu-id="08939-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="08939-185">Di conseguenza, non esiste un mapping 1:1 tra il numero selezionato di terabyte e numero hello di dischi dati collegati tooyour macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="08939-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and hello number of data disks attached tooyour VM.</span></span>

<span data-ttu-id="08939-186">Per informazioni sui prezzi, vedere hello [prezzi di archiviazione](https://azure.microsoft.com/pricing/details/storage) pagina hello **archiviazione su disco** scheda.</span><span class="sxs-lookup"><span data-stu-id="08939-186">For pricing information, see hello [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on hello **Disk Storage** tab.</span></span>

### <a name="creation-of-hello-storage-pool"></a><span data-ttu-id="08939-187">Creazione di pool di archiviazione hello</span><span class="sxs-lookup"><span data-stu-id="08939-187">Creation of hello storage pool</span></span>
<span data-ttu-id="08939-188">Azure Usa hello seguente pool di archiviazione di impostazioni toocreate hello in macchine virtuali di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="08939-188">Azure uses hello following settings toocreate hello storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="08939-189">Impostazione</span><span class="sxs-lookup"><span data-stu-id="08939-189">Setting</span></span> | <span data-ttu-id="08939-190">Valore</span><span class="sxs-lookup"><span data-stu-id="08939-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="08939-191">Dimensioni di striping</span><span class="sxs-lookup"><span data-stu-id="08939-191">Stripe size</span></span> |<span data-ttu-id="08939-192">256 KB (data warehousing); 64 KB (transazionale)</span><span class="sxs-lookup"><span data-stu-id="08939-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="08939-193">Dimensione disco</span><span class="sxs-lookup"><span data-stu-id="08939-193">Disk sizes</span></span> |<span data-ttu-id="08939-194">1 TB ciascuno</span><span class="sxs-lookup"><span data-stu-id="08939-194">1 TB each</span></span> |
| <span data-ttu-id="08939-195">Cache</span><span class="sxs-lookup"><span data-stu-id="08939-195">Cache</span></span> |<span data-ttu-id="08939-196">Lettura</span><span class="sxs-lookup"><span data-stu-id="08939-196">Read</span></span> |
| <span data-ttu-id="08939-197">Dimensioni allocazione</span><span class="sxs-lookup"><span data-stu-id="08939-197">Allocation size</span></span> |<span data-ttu-id="08939-198">Dimensioni delle unità di allocazione NTFS = 64 KB</span><span class="sxs-lookup"><span data-stu-id="08939-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="08939-199">Inizializzazione file immediata</span><span class="sxs-lookup"><span data-stu-id="08939-199">Instant file initialization</span></span> |<span data-ttu-id="08939-200">Enabled</span><span class="sxs-lookup"><span data-stu-id="08939-200">Enabled</span></span> |
| <span data-ttu-id="08939-201">Blocco di pagine in memoria</span><span class="sxs-lookup"><span data-stu-id="08939-201">Lock pages in memory</span></span> |<span data-ttu-id="08939-202">Enabled</span><span class="sxs-lookup"><span data-stu-id="08939-202">Enabled</span></span> |
| <span data-ttu-id="08939-203">Ripristino</span><span class="sxs-lookup"><span data-stu-id="08939-203">Recovery</span></span> |<span data-ttu-id="08939-204">Recupero con registrazione minima (nessuna resilienza)</span><span class="sxs-lookup"><span data-stu-id="08939-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="08939-205">Numero di colonne</span><span class="sxs-lookup"><span data-stu-id="08939-205">Number of columns</span></span> |<span data-ttu-id="08939-206">Numero di dischi dati<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="08939-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="08939-207">Percorso TempDB</span><span class="sxs-lookup"><span data-stu-id="08939-207">TempDB location</span></span> |<span data-ttu-id="08939-208">Archiviato sui dischi dati<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="08939-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="08939-209"><sup>1</sup> dopo la creazione di pool di archiviazione hello, non è possibile modificare il numero di hello di colonne nel pool di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="08939-209"><sup>1</sup> After hello storage pool is created, you cannot alter hello number of columns in hello storage pool.</span></span>

<span data-ttu-id="08939-210"><sup>2</sup> questa impostazione si applica solo a toohello prima unità creata tramite funzionalità di configurazione di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="08939-210"><sup>2</sup> This setting only applies toohello first drive you create using hello storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="08939-211">Impostazioni di ottimizzazione del carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="08939-211">Workload optimization settings</span></span>
<span data-ttu-id="08939-212">Hello nella tabella seguente vengono descritti hello del carico di lavoro tipo disponibili tre opzioni e le ottimizzazioni corrispondente:</span><span class="sxs-lookup"><span data-stu-id="08939-212">hello following table describes hello three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="08939-213">Tipo di carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="08939-213">Workload type</span></span> | <span data-ttu-id="08939-214">Descrizione</span><span class="sxs-lookup"><span data-stu-id="08939-214">Description</span></span> | <span data-ttu-id="08939-215">Ottimizzazioni</span><span class="sxs-lookup"><span data-stu-id="08939-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="08939-216">**Generale**</span><span class="sxs-lookup"><span data-stu-id="08939-216">**General**</span></span> |<span data-ttu-id="08939-217">Impostazione predefinita che supporta la maggior parte dei carichi di lavoro</span><span class="sxs-lookup"><span data-stu-id="08939-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="08939-218">None</span><span class="sxs-lookup"><span data-stu-id="08939-218">None</span></span> |
| <span data-ttu-id="08939-219">**Elaborazione transazionale**</span><span class="sxs-lookup"><span data-stu-id="08939-219">**Transactional processing**</span></span> |<span data-ttu-id="08939-220">Ottimizza l'archiviazione di hello per carichi di lavoro OLTP database tradizionale</span><span class="sxs-lookup"><span data-stu-id="08939-220">Optimizes hello storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="08939-221">Flag di traccia 1117</span><span class="sxs-lookup"><span data-stu-id="08939-221">Trace Flag 1117</span></span><br/><span data-ttu-id="08939-222">Flag di traccia 1118</span><span class="sxs-lookup"><span data-stu-id="08939-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="08939-223">**Data warehousing**</span><span class="sxs-lookup"><span data-stu-id="08939-223">**Data warehousing**</span></span> |<span data-ttu-id="08939-224">Ottimizza l'archiviazione di hello per carichi di lavoro di analisi e creazione report</span><span class="sxs-lookup"><span data-stu-id="08939-224">Optimizes hello storage for analytic and reporting workloads</span></span> |<span data-ttu-id="08939-225">Flag di traccia 610</span><span class="sxs-lookup"><span data-stu-id="08939-225">Trace Flag 610</span></span><br/><span data-ttu-id="08939-226">Flag di traccia 1117</span><span class="sxs-lookup"><span data-stu-id="08939-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="08939-227">È possibile specificare il tipo di carico di lavoro hello solo quando si esegue il provisioning di una macchina virtuale SQL selezionandolo nel passaggio di configurazione di archiviazione hello.</span><span class="sxs-lookup"><span data-stu-id="08939-227">You can only specify hello workload type when you provision a SQL virtual machine by selecting it in hello storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="08939-228">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="08939-228">Next steps</span></span>
<span data-ttu-id="08939-229">Per altri argomenti correlati toorunning SQL Server in macchine virtuali di Azure, vedere [SQL Server in macchine virtuali di Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="08939-229">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
