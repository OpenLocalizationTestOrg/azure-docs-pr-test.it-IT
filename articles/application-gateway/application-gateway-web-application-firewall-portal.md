---
title: Creare o aggiornare un gateway applicazione di Azure con il web application firewall | Microsoft Docs
description: Informazioni su come creare un gateway applicazione con il firewall applicazione Web tramite il portale
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: b561a210-ed99-4ab4-be06-b49215e3255a
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: gwallace
ms.openlocfilehash: 650f26d19615d27a94f3947aad7b7904b6c1fabc
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="create-an-application-gateway-with-web-application-firewall-by-using-the-portal"></a><span data-ttu-id="70471-103">Creare un gateway applicazione con il firewall applicazione Web tramite il portale</span><span class="sxs-lookup"><span data-stu-id="70471-103">Create an application gateway with web application firewall by using the portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="70471-104">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="70471-104">Azure portal</span></span>](application-gateway-web-application-firewall-portal.md)
> * [<span data-ttu-id="70471-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="70471-105">PowerShell</span></span>](application-gateway-web-application-firewall-powershell.md)
> * [<span data-ttu-id="70471-106">Interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="70471-106">Azure CLI</span></span>](application-gateway-web-application-firewall-cli.md)

<span data-ttu-id="70471-107">Informazioni su come creare un gateway applicazione con firewall applicazione Web abilitato.</span><span class="sxs-lookup"><span data-stu-id="70471-107">Learn how to create a web application firewall enabled application gateway.</span></span>

<span data-ttu-id="70471-108">Il firewall applicazione Web (WAF) nel gateway applicazione di Azure protegge le applicazioni Web dai comuni attacchi basati sul Web, come ad esempio gli attacchi SQL injection, gli attacchi di scripting intersito e il controllo delle sessioni.</span><span class="sxs-lookup"><span data-stu-id="70471-108">The web application firewall (WAF) in Azure Application Gateway protects web applications from common web-based attacks like SQL injection, cross-site scripting attacks, and session hijacks.</span></span> <span data-ttu-id="70471-109">L'applicazione Web protegge da molte delle 10 vulnerabilità Web OWASP più diffuse.</span><span class="sxs-lookup"><span data-stu-id="70471-109">Web application protects against many of the OWASP top 10 common web vulnerabilities.</span></span>

## <a name="scenarios"></a><span data-ttu-id="70471-110">Scenari</span><span class="sxs-lookup"><span data-stu-id="70471-110">Scenarios</span></span>

<span data-ttu-id="70471-111">Questo articolo presenta due scenari:</span><span class="sxs-lookup"><span data-stu-id="70471-111">In this article there are two scenarios:</span></span>

<span data-ttu-id="70471-112">Nel primo scenario si apprenderà come [creare un gateway applicazione con il firewall applicazione Web](#create-an-application-gateway-with-web-application-firewall)</span><span class="sxs-lookup"><span data-stu-id="70471-112">In the first scenario, you learn to [create an application gateway with web application firewall](#create-an-application-gateway-with-web-application-firewall)</span></span>

<span data-ttu-id="70471-113">Nel secondo scenario si apprenderà come [aggiungere un firewall applicazione Web a un gateway applicazione esistente](#add-web-application-firewall-to-an-existing-application-gateway).</span><span class="sxs-lookup"><span data-stu-id="70471-113">In the second scenario, you learn to [add web application firewall to an existing application gateway](#add-web-application-firewall-to-an-existing-application-gateway).</span></span>

![Esempio dello scenario][scenario]

> [!NOTE]
> <span data-ttu-id="70471-115">La configurazione aggiuntiva del gateway applicazione, che include i probe di integrità personalizzati, gli indirizzi del pool back-end e le regole aggiuntive, viene definita dopo la configurazione del gateway applicazione e non durante la distribuzione iniziale.</span><span class="sxs-lookup"><span data-stu-id="70471-115">Additional configuration of the application gateway, including custom health probes, backend pool addresses, and additional rules are configured after the application gateway is configured and not during initial deployment.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="70471-116">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="70471-116">Before you begin</span></span>

<span data-ttu-id="70471-117">Il gateway applicazione di Azure richiede una propria subnet.</span><span class="sxs-lookup"><span data-stu-id="70471-117">Azure Application Gateway requires its own subnet.</span></span> <span data-ttu-id="70471-118">Quando si crea una rete virtuale, assicurarsi di lasciare uno spazio indirizzi sufficiente per più subnet.</span><span class="sxs-lookup"><span data-stu-id="70471-118">When creating a virtual network, ensure that you leave enough address space to have multiple subnets.</span></span> <span data-ttu-id="70471-119">Dopo che un gateway applicazione è stato distribuito in una subnet, alla subnet possono essere aggiunti solo altri gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="70471-119">Once you deploy an application gateway to a subnet, only additional application gateways are able to be added to the subnet.</span></span>

##<span data-ttu-id="70471-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a> Aggiungere un firewall applicazione Web a un gateway applicazione esistente</span><span class="sxs-lookup"><span data-stu-id="70471-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a> Add web application firewall to an existing application gateway</span></span>

<span data-ttu-id="70471-121">Questo esempio aggiorna un gateway applicazione esistente per supportare il firewall applicazione Web in modalità di prevenzione.</span><span class="sxs-lookup"><span data-stu-id="70471-121">This example updates an existing application gateway to support web application firewall in prevention mode.</span></span>

1. <span data-ttu-id="70471-122">Nel riquadro **Preferiti** del portale di Azure fare clic su **Tutte le risorse**.</span><span class="sxs-lookup"><span data-stu-id="70471-122">In the Azure portal **Favorites** pane, click **All resources**.</span></span> <span data-ttu-id="70471-123">Fare clic sul gateway applicazione esistente nel pannello **Tutte le risorse**.</span><span class="sxs-lookup"><span data-stu-id="70471-123">Click the existing Application Gateway in the **All resources** blade.</span></span> <span data-ttu-id="70471-124">Se nella sottoscrizione selezionata sono già presenti delle risorse, è possibile immettere il nome nella casella **Filtra per nome**</span><span class="sxs-lookup"><span data-stu-id="70471-124">If the subscription you selected already has several resources in it, you can enter the name in the **Filter by name…**</span></span> <span data-ttu-id="70471-125">per accedere facilmente alla zona DNS.</span><span class="sxs-lookup"><span data-stu-id="70471-125">box to easily access the DNS zone.</span></span>

   ![Creazione di un gateway applicazione][1]

1. <span data-ttu-id="70471-127">Fare clic su **Firewall applicazione Web** e aggiornare le impostazioni del gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="70471-127">Click **Web application firewall** and update the application gateway settings.</span></span> <span data-ttu-id="70471-128">Al termine, fare clic su **Salva**</span><span class="sxs-lookup"><span data-stu-id="70471-128">When complete click **Save**</span></span>

    <span data-ttu-id="70471-129">Di seguito vengono elencate le impostazioni per aggiornare un gateway applicazione esistente per supportare il firewall applicazione Web:</span><span class="sxs-lookup"><span data-stu-id="70471-129">The settings to update an existing application gateway to support web application firewall are:</span></span>

   | <span data-ttu-id="70471-130">**Impostazione**</span><span class="sxs-lookup"><span data-stu-id="70471-130">**Setting**</span></span> | <span data-ttu-id="70471-131">**Valore**</span><span class="sxs-lookup"><span data-stu-id="70471-131">**Value**</span></span> | <span data-ttu-id="70471-132">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="70471-132">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="70471-133">**Eseguire l'aggiornamento al livello WAF**</span><span class="sxs-lookup"><span data-stu-id="70471-133">**Upgrade to WAF Tier**</span></span>| <span data-ttu-id="70471-134">Selezionato</span><span class="sxs-lookup"><span data-stu-id="70471-134">Checked</span></span> | <span data-ttu-id="70471-135">Il livello del gateway applicazione viene impostato al livello WAF.</span><span class="sxs-lookup"><span data-stu-id="70471-135">This sets the tier of the application gateway to the WAF tier.</span></span>|
   |<span data-ttu-id="70471-136">**Stato del firewall**</span><span class="sxs-lookup"><span data-stu-id="70471-136">**Firewall status**</span></span>| <span data-ttu-id="70471-137">Enabled</span><span class="sxs-lookup"><span data-stu-id="70471-137">Enabled</span></span> | <span data-ttu-id="70471-138">Questa impostazione abilita il firewall su WAF.</span><span class="sxs-lookup"><span data-stu-id="70471-138">This setting enables the firewall on the WAF.</span></span>|
   |<span data-ttu-id="70471-139">**Modalità firewall**</span><span class="sxs-lookup"><span data-stu-id="70471-139">**Firewall mode**</span></span> | <span data-ttu-id="70471-140">Prevenzione</span><span class="sxs-lookup"><span data-stu-id="70471-140">Prevention</span></span> | <span data-ttu-id="70471-141">Questa impostazione riguarda la modalità di gestione del traffico dannoso da parte del firewall applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="70471-141">This setting is how web application firewall deals with malicious traffic.</span></span> <span data-ttu-id="70471-142">La modalità **Rilevamento** registra solo gli eventi. La modalità **Prevenzione** registra gli eventi e blocca il traffico dannoso.</span><span class="sxs-lookup"><span data-stu-id="70471-142">**Detection** mode only logs the events, where **Prevention** mode logs the events and stops the malicious traffic.</span></span>|
   |<span data-ttu-id="70471-143">**Set di regole**</span><span class="sxs-lookup"><span data-stu-id="70471-143">**Rule set**</span></span>|<span data-ttu-id="70471-144">3.0</span><span class="sxs-lookup"><span data-stu-id="70471-144">3.0</span></span>|<span data-ttu-id="70471-145">Questa impostazione determina il [set di regole di base](application-gateway-web-application-firewall-overview.md#core-rule-sets) usato per proteggere i membri del pool back-end.</span><span class="sxs-lookup"><span data-stu-id="70471-145">This setting determines the [core rule set](application-gateway-web-application-firewall-overview.md#core-rule-sets) that is used to protect the backend pool members.</span></span>|
   |<span data-ttu-id="70471-146">**Configurare regole disabilitate**</span><span class="sxs-lookup"><span data-stu-id="70471-146">**Configure disabled rules**</span></span>|<span data-ttu-id="70471-147">variabile</span><span class="sxs-lookup"><span data-stu-id="70471-147">varies</span></span>|<span data-ttu-id="70471-148">Per impedire possibili falsi positivi, questa impostazione consente di disabilitare alcune [regole e gruppi di regole](application-gateway-crs-rulegroups-rules.md).</span><span class="sxs-lookup"><span data-stu-id="70471-148">To prevent possible false positives, this setting allows you to disable certain [rules and rule groups](application-gateway-crs-rulegroups-rules.md).</span></span>|

    >[!NOTE]
    > <span data-ttu-id="70471-149">Quando si aggiorna un gateway applicazione esistente per lo SKU WAF, le dimensioni dello SKU cambiano in **medie**.</span><span class="sxs-lookup"><span data-stu-id="70471-149">When upgrading an existing application gateway to the WAF SKU, the SKU size changes to **medium**.</span></span> <span data-ttu-id="70471-150">L'impostazione può essere riconfigurata al termine della configurazione.</span><span class="sxs-lookup"><span data-stu-id="70471-150">This can be reconfigured after configuration is complete.</span></span>

    ![Pannello con impostazioni di base][2-1]

    > [!NOTE]
    > <span data-ttu-id="70471-152">Per visualizzare i log del firewall applicazione Web, è necessario abilitare la diagnostica e selezionare ApplicationGatewayFirewallLog.</span><span class="sxs-lookup"><span data-stu-id="70471-152">To view web application firewall logs, diagnostics must be enabled and ApplicationGatewayFirewallLog selected.</span></span> <span data-ttu-id="70471-153">A scopo di test si può scegliere 1 come numero di istanze.</span><span class="sxs-lookup"><span data-stu-id="70471-153">An instance count of 1 can be chosen for testing purposes.</span></span> <span data-ttu-id="70471-154">È importante sapere che un numero di istanze inferiore a due non è coperto dal contratto di servizio e non è quindi consigliabile.</span><span class="sxs-lookup"><span data-stu-id="70471-154">It is important to know that any instance count under two instances is not covered by the SLA and are therefore not recommended.</span></span> <span data-ttu-id="70471-155">Con il firewall applicazione Web non è possibile usare gateway di piccole dimensioni.</span><span class="sxs-lookup"><span data-stu-id="70471-155">Small gateways are not available when using web application firewall.</span></span>

## <a name="create-an-application-gateway-with-web-application-firewall"></a><span data-ttu-id="70471-156">creare un gateway applicazione con il firewall applicazione Web</span><span class="sxs-lookup"><span data-stu-id="70471-156">Create an application gateway with web application firewall</span></span>

<span data-ttu-id="70471-157">Questo scenario illustrerà come:</span><span class="sxs-lookup"><span data-stu-id="70471-157">This scenario will:</span></span>

* <span data-ttu-id="70471-158">Creare un gateway applicazione del firewall applicazione Web Medium con due istanze.</span><span class="sxs-lookup"><span data-stu-id="70471-158">Create a medium web application firewall application gateway with two instances.</span></span>
* <span data-ttu-id="70471-159">Creare una rete virtuale denominata AdatumAppGatewayVNET con un blocco CIDR riservato 10.0.0.0/16.</span><span class="sxs-lookup"><span data-stu-id="70471-159">Create a virtual network named AdatumAppGatewayVNET with a reserved CIDR block of 10.0.0.0/16.</span></span>
* <span data-ttu-id="70471-160">Creare una subnet denominata Appgatewaysubnet che usa 10.0.0.0/28 come blocco CIDR.</span><span class="sxs-lookup"><span data-stu-id="70471-160">Create a subnet called Appgatewaysubnet that uses 10.0.0.0/28 as its CIDR block.</span></span>
* <span data-ttu-id="70471-161">Configurare un certificato per l'offload SSL.</span><span class="sxs-lookup"><span data-stu-id="70471-161">Configure a certificate for SSL offload.</span></span>

1. <span data-ttu-id="70471-162">Accedere al [Portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="70471-162">Log in to the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="70471-163">Se non si dispone già di un account, è possibile iscriversi per ottenere una [versione di valutazione gratuita della durata di un mese](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="70471-163">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>
1. <span data-ttu-id="70471-164">Nel riquadro Preferiti del portale fare clic su **Nuovo**</span><span class="sxs-lookup"><span data-stu-id="70471-164">In the Favorites pane of the portal, click **New**</span></span>
1. <span data-ttu-id="70471-165">Nel pannello **Nuovo** fare clic su **Rete**.</span><span class="sxs-lookup"><span data-stu-id="70471-165">In the **New** blade, click **Networking**.</span></span> <span data-ttu-id="70471-166">Nel pannello **Rete** fare clic su **Gateway applicazione**, come mostrato nell'immagine seguente:</span><span class="sxs-lookup"><span data-stu-id="70471-166">In the **Networking** blade, click **Application Gateway**, as shown in the following image:</span></span>
1. <span data-ttu-id="70471-167">Passare al portale di Azure e fare clic su **Nuovo** > **Rete** > **Gateway applicazione**</span><span class="sxs-lookup"><span data-stu-id="70471-167">Navigate to the Azure portal, click **New** > **Networking** > **Application Gateway**</span></span>

    ![Creazione di un gateway applicazione][1]

1. <span data-ttu-id="70471-169">Nel pannello **Informazioni di base** visualizzato immettere i valori seguenti e quindi fare clic su **OK**:</span><span class="sxs-lookup"><span data-stu-id="70471-169">In the **Basics** blade that appears, enter the following values, then click **OK**:</span></span>

   | <span data-ttu-id="70471-170">**Impostazione**</span><span class="sxs-lookup"><span data-stu-id="70471-170">**Setting**</span></span> | <span data-ttu-id="70471-171">**Valore**</span><span class="sxs-lookup"><span data-stu-id="70471-171">**Value**</span></span> | <span data-ttu-id="70471-172">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="70471-172">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="70471-173">**Nome**</span><span class="sxs-lookup"><span data-stu-id="70471-173">**Name**</span></span>|<span data-ttu-id="70471-174">AdatumAppGateway</span><span class="sxs-lookup"><span data-stu-id="70471-174">AdatumAppGateway</span></span>|<span data-ttu-id="70471-175">Il nome del gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="70471-175">The name of the application gateway</span></span>|
   |<span data-ttu-id="70471-176">**Livello**</span><span class="sxs-lookup"><span data-stu-id="70471-176">**Tier**</span></span>|<span data-ttu-id="70471-177">WAF</span><span class="sxs-lookup"><span data-stu-id="70471-177">WAF</span></span>|<span data-ttu-id="70471-178">I valori disponibili sono Standard e WAF.</span><span class="sxs-lookup"><span data-stu-id="70471-178">Available values are Standard and WAF.</span></span> <span data-ttu-id="70471-179">Per altre informazioni su WAF, visitare [firewall applicazione Web](application-gateway-web-application-firewall-overview.md).</span><span class="sxs-lookup"><span data-stu-id="70471-179">Visit [web application firewall](application-gateway-web-application-firewall-overview.md) to learn more about WAF.</span></span>|
   |<span data-ttu-id="70471-180">**Dimensioni SKU**</span><span class="sxs-lookup"><span data-stu-id="70471-180">**SKU Size**</span></span>|<span data-ttu-id="70471-181">Media</span><span class="sxs-lookup"><span data-stu-id="70471-181">Medium</span></span>|<span data-ttu-id="70471-182">Opzioni disponibili quando si sceglie il livello Standard: Small, Medium e Large.</span><span class="sxs-lookup"><span data-stu-id="70471-182">Choices when choosing Standard tier are Small, Medium, and Large.</span></span> <span data-ttu-id="70471-183">Quando si sceglie il livello WAF, le opzioni sono solo Medium e Large.</span><span class="sxs-lookup"><span data-stu-id="70471-183">When choosing WAF tier, options are Medium and Large only.</span></span>|
   |<span data-ttu-id="70471-184">**Numero di istanze**</span><span class="sxs-lookup"><span data-stu-id="70471-184">**Instance count**</span></span>|<span data-ttu-id="70471-185">2</span><span class="sxs-lookup"><span data-stu-id="70471-185">2</span></span>|<span data-ttu-id="70471-186">Numero di istanze del gateway applicazione per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="70471-186">Number of instances of the application gateway for high availability.</span></span> <span data-ttu-id="70471-187">I numeri di istanze di 1 devono essere usati solo a scopo di test.</span><span class="sxs-lookup"><span data-stu-id="70471-187">Instance counts of 1 should only be used for testing purposes.</span></span>|
   |<span data-ttu-id="70471-188">**Sottoscrizione**</span><span class="sxs-lookup"><span data-stu-id="70471-188">**Subscription**</span></span>|<span data-ttu-id="70471-189">[Sottoscrizione]</span><span class="sxs-lookup"><span data-stu-id="70471-189">[Your subscription]</span></span>|<span data-ttu-id="70471-190">Selezionare una sottoscrizione in cui creare il gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="70471-190">Select a subscription to create the application gateway in.</span></span>|
   |<span data-ttu-id="70471-191">**Gruppo di risorse**</span><span class="sxs-lookup"><span data-stu-id="70471-191">**Resource group**</span></span>|<span data-ttu-id="70471-192">**Crea nuovo:** AdatumAppGatewayRG</span><span class="sxs-lookup"><span data-stu-id="70471-192">**Create new:** AdatumAppGatewayRG</span></span>|<span data-ttu-id="70471-193">Creare un gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="70471-193">Create a resource group.</span></span> <span data-ttu-id="70471-194">Il nome del gruppo di risorse deve essere univoco all'interno della sottoscrizione selezionata.</span><span class="sxs-lookup"><span data-stu-id="70471-194">The resource group name must be unique within the subscription you selected.</span></span> <span data-ttu-id="70471-195">Per altre informazioni sui gruppi di risorse, vedere l'articolo [Panoramica di Resource Manager](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups).</span><span class="sxs-lookup"><span data-stu-id="70471-195">To learn more about resource groups, read the [Resource Manager](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups) overview article.</span></span>|
   |<span data-ttu-id="70471-196">**Posizione**</span><span class="sxs-lookup"><span data-stu-id="70471-196">**Location**</span></span>|<span data-ttu-id="70471-197">Stati Uniti occidentali</span><span class="sxs-lookup"><span data-stu-id="70471-197">West US</span></span>||

   ![Pannello con impostazioni di base][2-2]

1. <span data-ttu-id="70471-199">Nel pannello **Impostazioni** che viene visualizzato in **Rete virtuale**, fare clic su **Scegliere una rete virtuale**.</span><span class="sxs-lookup"><span data-stu-id="70471-199">In the **Settings** blade that appears under **Virtual network**, click **Choose a virtual network**.</span></span> <span data-ttu-id="70471-200">Questo passaggio apre il pannello **Scegli rete virtuale**.</span><span class="sxs-lookup"><span data-stu-id="70471-200">This step opens enter the **Choose virtual network** blade.</span></span>  <span data-ttu-id="70471-201">Fare clic su **Crea nuovo** per aprire il pannello **Crea rete virtuale**.</span><span class="sxs-lookup"><span data-stu-id="70471-201">Click **Create new** to open the **Create virtual network** blade.</span></span>

   ![scegliere una rete virtuale][2]

1. <span data-ttu-id="70471-203">Nel pannello **Crea rete virtuale** immettere i valori seguenti e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="70471-203">On the **Create virtual network blade** enter the following values, then click **OK**.</span></span> <span data-ttu-id="70471-204">Questo passaggio chiude i pannelli **Crea rete virtuale** e **Scegli rete virtuale**.</span><span class="sxs-lookup"><span data-stu-id="70471-204">This step closes the **Create virtual network** and **Choose virtual network** blades.</span></span> <span data-ttu-id="70471-205">Con questa operazione il campo **Subnet** nel pannello **Impostazioni** viene popolato con la subnet selezionata.</span><span class="sxs-lookup"><span data-stu-id="70471-205">This populates the **Subnet** field on the **Settings** blade with the subnet chosen.</span></span>

   |<span data-ttu-id="70471-206">**Impostazione**</span><span class="sxs-lookup"><span data-stu-id="70471-206">**Setting**</span></span> | <span data-ttu-id="70471-207">**Valore**</span><span class="sxs-lookup"><span data-stu-id="70471-207">**Value**</span></span> | <span data-ttu-id="70471-208">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="70471-208">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="70471-209">**Nome**</span><span class="sxs-lookup"><span data-stu-id="70471-209">**Name**</span></span>|<span data-ttu-id="70471-210">AdatumAppGatewayVNET</span><span class="sxs-lookup"><span data-stu-id="70471-210">AdatumAppGatewayVNET</span></span>|<span data-ttu-id="70471-211">Nome del gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="70471-211">Name of the application gateway</span></span>|
   |<span data-ttu-id="70471-212">**Spazio di indirizzi:**</span><span class="sxs-lookup"><span data-stu-id="70471-212">**Address Space**</span></span>|<span data-ttu-id="70471-213">10.0.0.0/16</span><span class="sxs-lookup"><span data-stu-id="70471-213">10.0.0.0/16</span></span>| <span data-ttu-id="70471-214">È lo spazio degli indirizzi per la rete virtuale</span><span class="sxs-lookup"><span data-stu-id="70471-214">This value is the address space for the virtual network</span></span>|
   |<span data-ttu-id="70471-215">**Nome della subnet**</span><span class="sxs-lookup"><span data-stu-id="70471-215">**Subnet name**</span></span>|<span data-ttu-id="70471-216">AppGatewaySubnet</span><span class="sxs-lookup"><span data-stu-id="70471-216">AppGatewaySubnet</span></span>|<span data-ttu-id="70471-217">Nome della subnet per il gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="70471-217">Name of the subnet for the application gateway</span></span>|
   |<span data-ttu-id="70471-218">**Intervallo di indirizzi subnet**</span><span class="sxs-lookup"><span data-stu-id="70471-218">**Subnet address range**</span></span>|<span data-ttu-id="70471-219">10.0.0.0/28</span><span class="sxs-lookup"><span data-stu-id="70471-219">10.0.0.0/28</span></span> | <span data-ttu-id="70471-220">Questa subnet consente subnet aggiuntive nella rete virtuale per i membri del pool back-end</span><span class="sxs-lookup"><span data-stu-id="70471-220">This subnet allows more additional subnets in the virtual network for backend pool members</span></span>|

1. <span data-ttu-id="70471-221">Nel pannello **Impostazioni** in **Configurazione IP front-end** scegliere **Pubblico** in **Tipo di indirizzo IP**</span><span class="sxs-lookup"><span data-stu-id="70471-221">On the **Settings** blade under **Frontend IP configuration**, choose **Public** as the **IP address type**</span></span>

1. <span data-ttu-id="70471-222">Nel pannello **Impostazioni** in **Indirizzo IP pubblico** fare clic su **Scegliere un indirizzo IP pubblico**. Nel pannello **Scegliere un indirizzo IP pubblico** visualizzato fare clic su **Crea nuovo**.</span><span class="sxs-lookup"><span data-stu-id="70471-222">On the **Settings** blade under **Public IP address**, click **Choose a public IP address**, this step opens the **Choose public IP address** blade, click **Create new**.</span></span>

   ![scegliere un indirizzo IP pubblico][3]

1. <span data-ttu-id="70471-224">Nel pannello **Crea indirizzo IP pubblico** accettare il valore predefinito e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="70471-224">On the **Create public IP address** blade, accept the default value, and click **OK**.</span></span> <span data-ttu-id="70471-225">Questo passaggio chiude i pannelli **Scegliere un indirizzo IP pubblico** e **Crea indirizzo IP pubblico** e inserisce nel campo **Indirizzo IP pubblico** l'indirizzo IP pubblico selezionato.</span><span class="sxs-lookup"><span data-stu-id="70471-225">This step closes the **Choose public IP address** blade, the **Create public IP address** blade, and populate **Public IP address** with the public IP address chosen.</span></span>

1. <span data-ttu-id="70471-226">Nel pannello **Impostazioni** in **Configurazione listener** fare clic su **HTTP** in **Protocollo**.</span><span class="sxs-lookup"><span data-stu-id="70471-226">On the **Settings** blade under **Listener configuration**, click **HTTP** under **Protocol**.</span></span> <span data-ttu-id="70471-227">Per usare **HTTPS**è necessario un certificato.</span><span class="sxs-lookup"><span data-stu-id="70471-227">To use **https**, a certificate is required.</span></span> <span data-ttu-id="70471-228">Poiché è necessaria la chiave privata del certificato, si devono specificare un file di esportazione con estensione pfx del certificato e la password per il file.</span><span class="sxs-lookup"><span data-stu-id="70471-228">The private key of the certificate is needed so a .pfx export of the certificate needs to be provided and the password for the file.</span></span>

1. <span data-ttu-id="70471-229">Configurare le impostazioni specifiche del **WAF** .</span><span class="sxs-lookup"><span data-stu-id="70471-229">Configure the **WAF** specific settings.</span></span>

   |<span data-ttu-id="70471-230">**Impostazione**</span><span class="sxs-lookup"><span data-stu-id="70471-230">**Setting**</span></span> | <span data-ttu-id="70471-231">**Valore**</span><span class="sxs-lookup"><span data-stu-id="70471-231">**Value**</span></span> | <span data-ttu-id="70471-232">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="70471-232">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="70471-233">**Stato del firewall**</span><span class="sxs-lookup"><span data-stu-id="70471-233">**Firewall status**</span></span>| <span data-ttu-id="70471-234">Enabled</span><span class="sxs-lookup"><span data-stu-id="70471-234">Enabled</span></span>| <span data-ttu-id="70471-235">Questa impostazione attiva o disattiva il WAF.</span><span class="sxs-lookup"><span data-stu-id="70471-235">This setting turns WAF on or off.</span></span>|
   |<span data-ttu-id="70471-236">**Modalità firewall**</span><span class="sxs-lookup"><span data-stu-id="70471-236">**Firewall mode**</span></span> | <span data-ttu-id="70471-237">Prevenzione</span><span class="sxs-lookup"><span data-stu-id="70471-237">Prevention</span></span>| <span data-ttu-id="70471-238">Questa impostazione determina le misure che WAF adotta contro il traffico dannoso.</span><span class="sxs-lookup"><span data-stu-id="70471-238">This setting determines the actions WAF takes on malicious traffic.</span></span> <span data-ttu-id="70471-239">Se viene scelta l'opzione **Rilevamento** , il traffico sarà solo registrato.</span><span class="sxs-lookup"><span data-stu-id="70471-239">If **Detection** is chosen, traffic is only logged.</span></span>  <span data-ttu-id="70471-240">Se viene scelta l'opzione **Prevenzione**, il traffico viene registrato e interrotto con una risposta 403 di accesso non autorizzato.</span><span class="sxs-lookup"><span data-stu-id="70471-240">If **Prevention** is chosen, traffic is logged and stopped with a 403 Unauthorized response.</span></span>|


1. <span data-ttu-id="70471-241">Esaminare la pagina di riepilogo e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="70471-241">Review the Summary page and click **OK**.</span></span>  <span data-ttu-id="70471-242">Il gateway applicazione verrà inserito in coda e creato.</span><span class="sxs-lookup"><span data-stu-id="70471-242">Now the application gateway is queued up and created.</span></span>

1. <span data-ttu-id="70471-243">Al termine della creazione del gateway applicazione, passare al gateway applicazione nel portale per proseguirne la configurazione.</span><span class="sxs-lookup"><span data-stu-id="70471-243">Once the application gateway has been created, navigate to it in the portal to continue configuration of the application gateway.</span></span>

    ![Visualizzazione della risorsa del gateway applicazione][10]

<span data-ttu-id="70471-245">Questi passaggi creano un gateway applicazione di base con le impostazioni predefinite per il listener, il pool back-end, le impostazioni HTTP back-end e le regole.</span><span class="sxs-lookup"><span data-stu-id="70471-245">These steps create a basic application gateway with default settings for the listener, backend pool, backend http settings, and rules.</span></span> <span data-ttu-id="70471-246">Queste impostazioni possono essere modificate in base alla propria distribuzione dopo che è stato completato il provisioning.</span><span class="sxs-lookup"><span data-stu-id="70471-246">You can modify these settings to suit your deployment once the provisioning is successful</span></span>

> [!NOTE]
> <span data-ttu-id="70471-247">I gateway applicazione creati con la configurazione di base del web application firewall sono configurati con CRS 3.0 per la protezione.</span><span class="sxs-lookup"><span data-stu-id="70471-247">Application gateways created with the basic web application firewall configuration are configured with CRS 3.0 for protections.</span></span>

## <a name="next-steps"></a><span data-ttu-id="70471-248">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="70471-248">Next steps</span></span>

<span data-ttu-id="70471-249">Successivamente, è possibile imparare a configurare un alias di dominio personalizzato per l'[indirizzo IP pubblico](../dns/dns-custom-domain.md#public-ip-address) tramite DNS di Azure o un altro provider DNS.</span><span class="sxs-lookup"><span data-stu-id="70471-249">Next, you can learn how to configure a custom domain alias for the [public IP address](../dns/dns-custom-domain.md#public-ip-address) using Azure DNS or another DNS provider.</span></span>

<span data-ttu-id="70471-250">Per informazioni su come configurare la registrazione diagnostica, per registrare gli eventi che vengono rilevati o bloccati con il web application firewall, visitare [Registrazione diagnostica per il gateway applicazione](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="70471-250">Learn how to configure diagnostic logging, to log the events that are detected or prevented with web application firewall by visiting [Application Gateway Diagnostics](application-gateway-diagnostics.md)</span></span>

<span data-ttu-id="70471-251">Per informazioni su come creare probe di integrità personalizzati, vedere [Creare un probe personalizzato per un gateway applicazione con il portale](application-gateway-create-probe-portal.md)</span><span class="sxs-lookup"><span data-stu-id="70471-251">Learn how to create custom health probes by visiting [Create a custom health probe](application-gateway-create-probe-portal.md)</span></span>

<span data-ttu-id="70471-252">Per informazioni su come configurare l'offload SSL ed evitare costose attività di decrittografia SSL nei server Web, vedere [Configurare un gateway applicazione per l'offload SSL con Azure Resource Manager](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="70471-252">Learn how to configure SSL Offloading and take the costly SSL decryption off your web servers by visiting [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

<!--Image references-->
[1]: ./media/application-gateway-web-application-firewall-portal/figure1.png
[2]: ./media/application-gateway-web-application-firewall-portal/figure2.png
[2-1]: ./media/application-gateway-web-application-firewall-portal/figure2-1.png
[2-2]: ./media/application-gateway-web-application-firewall-portal/figure2-2.png
[3]: ./media/application-gateway-web-application-firewall-portal/figure3.png
[10]: ./media/application-gateway-web-application-firewall-portal/figure10.png
[scenario]: ./media/application-gateway-web-application-firewall-portal/scenario.png
