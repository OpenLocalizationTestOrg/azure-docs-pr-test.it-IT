---
title: Asset aaaCredential in automazione di Azure | Documenti Microsoft
description: Asset credenziali di automazione di Azure contengono le credenziali di sicurezza che possono essere utilizzati tooauthenticate tooresources accede runbook hello o configurazione DSC. In questo articolo viene descritto come toocreate asset delle credenziali e usarli in un runbook o di una configurazione DSC.
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 3209bf73-c208-425e-82b6-df49860546dd
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: bwren
ms.openlocfilehash: 46f23a8f79d5863265af9cf84f6003e30f8e7d39
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="credential-assets-in-azure-automation"></a><span data-ttu-id="23f76-104">Asset credenziali in Automazione di Azure</span><span class="sxs-lookup"><span data-stu-id="23f76-104">Credential assets in Azure Automation</span></span>
<span data-ttu-id="23f76-105">Un asset credenziali di Automazione contiene un oggetto [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) contenente credenziali di sicurezza, ad esempio un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="23f76-105">An Automation credential asset holds a [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential)  object which contains security credentials such as a username and password.</span></span> <span data-ttu-id="23f76-106">Le configurazioni DSC e i runbook possono usare i cmdlet che accettano un oggetto PSCredential per l'autenticazione, o si può estrarre hello username e password dell'applicazione di toosome tooprovide oggetto PSCredential hello o un servizio che richiede l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="23f76-106">Runbooks and DSC configurations may use cmdlets that accept a PSCredential object for authentication, or they may extract hello username and password of hello PSCredential object tooprovide toosome application or service requiring authentication.</span></span> <span data-ttu-id="23f76-107">proprietà Hello per le credenziali vengono archiviate in modo sicuro in automazione di Azure e sono accessibili nel runbook hello o configurazione di DSC con hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) attività.</span><span class="sxs-lookup"><span data-stu-id="23f76-107">hello properties for a credential are stored securely in Azure Automation and can be accessed in hello runbook or DSC configuration with hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) activity.</span></span>

> [!NOTE]
> <span data-ttu-id="23f76-108">Gli asset sicuri in Automazione di Azure includono credenziali, certificati, connessioni e variabili crittografate.</span><span class="sxs-lookup"><span data-stu-id="23f76-108">Secure assets in Azure Automation include credentials, certificates, connections, and encrypted variables.</span></span> <span data-ttu-id="23f76-109">Questi asset vengono crittografati e archiviati in automazione di Azure con una chiave univoca generata per ogni account di automazione hello.</span><span class="sxs-lookup"><span data-stu-id="23f76-109">These assets are encrypted and stored in hello Azure Automation using a unique key that is generated for each automation account.</span></span> <span data-ttu-id="23f76-110">La chiave viene crittografata da un certificato master e archiviata in Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="23f76-110">This key is encrypted by a master certificate and stored in Azure Automation.</span></span> <span data-ttu-id="23f76-111">Prima di archiviare un bene sicuro, chiave hello per account di automazione hello viene decrittografato tramite certificato master hello e quindi asset hello tooencrypt.</span><span class="sxs-lookup"><span data-stu-id="23f76-111">Before storing a secure asset, hello key for hello automation account is decrypted using hello master certificate and then used tooencrypt hello asset.</span></span>  

## <a name="windows-powershell-cmdlets"></a><span data-ttu-id="23f76-112">Cmdlet di Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="23f76-112">Windows PowerShell cmdlets</span></span>
<span data-ttu-id="23f76-113">cmdlet Hello in hello nella tabella seguente vengono utilizzati toocreate e gestire asset credenziali di automazione con Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="23f76-113">hello cmdlets in hello following table are used toocreate and manage automation credential assets with Windows PowerShell.</span></span>  <span data-ttu-id="23f76-114">Vengono forniti come parte di hello [modulo Azure PowerShell](/powershell/azure/overview) disponibile per l'uso nei runbook di automazione e le configurazioni DSC.</span><span class="sxs-lookup"><span data-stu-id="23f76-114">They ship as part of hello [Azure PowerShell module](/powershell/azure/overview) which is available for use in Automation runbooks and DSC configurations.</span></span>

| <span data-ttu-id="23f76-115">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="23f76-115">Cmdlets</span></span> | <span data-ttu-id="23f76-116">Descrizione</span><span class="sxs-lookup"><span data-stu-id="23f76-116">Description</span></span> |
|:--- |:--- |
| [<span data-ttu-id="23f76-117">Get-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="23f76-117">Get-AzureAutomationCredential</span></span>](/powershell/module/azure/get-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="23f76-118">Recupera informazioni riguardo un asset credenziali.</span><span class="sxs-lookup"><span data-stu-id="23f76-118">Retrieves information about a credential asset.</span></span> <span data-ttu-id="23f76-119">È possibile recuperare solo credenziali hello da **Get-AutomationPSCredential** attività.</span><span class="sxs-lookup"><span data-stu-id="23f76-119">You can only retrieve hello credential itself from **Get-AutomationPSCredential** activity.</span></span> |
| [<span data-ttu-id="23f76-120">New-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="23f76-120">New-AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="23f76-121">Crea nuove credenziali di Automazione.</span><span class="sxs-lookup"><span data-stu-id="23f76-121">Creates a new Automation credential.</span></span> |
| [<span data-ttu-id="23f76-122">Remove- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="23f76-122">Remove- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="23f76-123">Rimuove le credenziali di Automazione.</span><span class="sxs-lookup"><span data-stu-id="23f76-123">Removes an Automation credential.</span></span> |
| [<span data-ttu-id="23f76-124">Set- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="23f76-124">Set- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="23f76-125">Set di hello le proprietà per le credenziali di automazione esistenti.</span><span class="sxs-lookup"><span data-stu-id="23f76-125">Sets hello properties for an existing Automation credential.</span></span> |

## <a name="runbook-activities"></a><span data-ttu-id="23f76-126">Attività del Runbook</span><span class="sxs-lookup"><span data-stu-id="23f76-126">Runbook activities</span></span>
<span data-ttu-id="23f76-127">le attività di Hello in hello nella tabella seguente sono utilizzati tooaccess credenziali in un runbook e le configurazioni DSC.</span><span class="sxs-lookup"><span data-stu-id="23f76-127">hello activities in hello following table are used tooaccess credentials in a runbook and DSC configurations.</span></span>

| <span data-ttu-id="23f76-128">attività</span><span class="sxs-lookup"><span data-stu-id="23f76-128">Activities</span></span> | <span data-ttu-id="23f76-129">Descrizione</span><span class="sxs-lookup"><span data-stu-id="23f76-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="23f76-130">Get-AutomationPSCredential</span><span class="sxs-lookup"><span data-stu-id="23f76-130">Get-AutomationPSCredential</span></span> |<span data-ttu-id="23f76-131">Ottiene un toouse credenziali in un runbook o di una configurazione DSC.</span><span class="sxs-lookup"><span data-stu-id="23f76-131">Gets a credential toouse in a runbook or DSC configuration.</span></span> <span data-ttu-id="23f76-132">Restituisce un oggetto [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) .</span><span class="sxs-lookup"><span data-stu-id="23f76-132">Returns a [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) object.</span></span> |

> [!NOTE]
> <span data-ttu-id="23f76-133">È consigliabile evitare l'uso delle variabili nel hello – parametro Name di Get-AutomationPSCredential poiché ciò può complicare l'individuazione delle dipendenze tra i runbook o le configurazioni DSC e asset delle credenziali in fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="23f76-133">You should avoid using variables in hello –Name parameter of Get-AutomationPSCredential since this can complicate discovering dependencies between runbooks or DSC configurations, and credential assets at design time.</span></span>
> 
> 

## <a name="creating-a-new-credential-asset"></a><span data-ttu-id="23f76-134">Creazione di un nuovo asset credenziali</span><span class="sxs-lookup"><span data-stu-id="23f76-134">Creating a new credential asset</span></span>

### <a name="toocreate-a-new-credential-asset-with-hello-azure-portal"></a><span data-ttu-id="23f76-135">toocreate un nuovo asset delle credenziali con hello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="23f76-135">toocreate a new credential asset with hello Azure portal</span></span>
1. <span data-ttu-id="23f76-136">Scegliere l'account di automazione, hello **asset** parte tooopen hello **asset** blade.</span><span class="sxs-lookup"><span data-stu-id="23f76-136">From your automation account, click hello **Assets** part tooopen hello **Assets** blade.</span></span>
2. <span data-ttu-id="23f76-137">Fare clic su hello **credenziali** parte tooopen hello **credenziali** blade.</span><span class="sxs-lookup"><span data-stu-id="23f76-137">Click hello **Credentials** part tooopen hello **Credentials** blade.</span></span>
3. <span data-ttu-id="23f76-138">Fare clic su **aggiungere una credenziale** nella parte superiore di hello del pannello hello.</span><span class="sxs-lookup"><span data-stu-id="23f76-138">Click **Add a credential** at hello top of hello blade.</span></span>
4. <span data-ttu-id="23f76-139">Completare il modulo hello e fare clic su **crea** toosave hello nuove credenziali.</span><span class="sxs-lookup"><span data-stu-id="23f76-139">Complete hello form and click **Create** toosave hello new credential.</span></span>

### <a name="toocreate-a-new-credential-asset-with-windows-powershell"></a><span data-ttu-id="23f76-140">toocreate un nuovo asset delle credenziali con Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="23f76-140">toocreate a new credential asset with Windows PowerShell</span></span>
<span data-ttu-id="23f76-141">Hello comandi di esempio seguenti mostrano come toocreate automazione un nuova credenziale.</span><span class="sxs-lookup"><span data-stu-id="23f76-141">hello following sample commands show how toocreate a new automation credential.</span></span> <span data-ttu-id="23f76-142">Un oggetto PSCredential viene innanzitutto creato con nome hello e una password e quindi utilizzato asset delle credenziali di hello toocreate.</span><span class="sxs-lookup"><span data-stu-id="23f76-142">A PSCredential object is first created with hello name and password and then used toocreate hello credential asset.</span></span> <span data-ttu-id="23f76-143">In alternativa, è possibile utilizzare hello **Get-Credential** toobe cmdlet richiesto tootype in un nome e una password.</span><span class="sxs-lookup"><span data-stu-id="23f76-143">Alternatively, you could use hello **Get-Credential** cmdlet toobe prompted tootype in a name and password.</span></span>

    $user = "MyDomain\MyUser"
    $pw = ConvertTo-SecureString "PassWord!" -AsPlainText -Force
    $cred = New-Object –TypeName System.Management.Automation.PSCredential –ArgumentList $user, $pw
    New-AzureAutomationCredential -AutomationAccountName "MyAutomationAccount" -Name "MyCredential" -Value $cred

### <a name="toocreate-a-new-credential-asset-with-hello-azure-classic-portal"></a><span data-ttu-id="23f76-144">toocreate un nuovo asset delle credenziali con hello portale di Azure classico</span><span class="sxs-lookup"><span data-stu-id="23f76-144">toocreate a new credential asset with hello Azure classic portal</span></span>
1. <span data-ttu-id="23f76-145">Scegliere l'account di automazione, **asset** nella parte superiore di hello della finestra hello.</span><span class="sxs-lookup"><span data-stu-id="23f76-145">From your automation account, click **Assets** at hello top of hello window.</span></span>
2. <span data-ttu-id="23f76-146">Nella parte inferiore di hello della finestra hello, fare clic su **Aggiungi impostazione**.</span><span class="sxs-lookup"><span data-stu-id="23f76-146">At hello bottom of hello window, click **Add Setting**.</span></span>
3. <span data-ttu-id="23f76-147">Fare clic su **Aggiungi credenziali**.</span><span class="sxs-lookup"><span data-stu-id="23f76-147">Click **Add Credential**.</span></span>
4. <span data-ttu-id="23f76-148">In hello **tipo di credenziale** elenco a discesa Seleziona **credenziale di PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="23f76-148">In hello **Credential Type** dropdown, select **PowerShell Credential**.</span></span>
5. <span data-ttu-id="23f76-149">Completare la procedura guidata hello e fare clic su hello casella di controllo toosave hello nuove credenziali.</span><span class="sxs-lookup"><span data-stu-id="23f76-149">Complete hello wizard and click hello checkbox toosave hello new credential.</span></span>

## <a name="using-a-powershell-credential"></a><span data-ttu-id="23f76-150">Uso di credenziali PowerShell </span><span class="sxs-lookup"><span data-stu-id="23f76-150">Using a PowerShell credential</span></span>
<span data-ttu-id="23f76-151">Per recuperare un asset delle credenziali in un runbook o di una configurazione DSC con hello **Get-AutomationPSCredential** attività.</span><span class="sxs-lookup"><span data-stu-id="23f76-151">You retrieve a credential asset in a runbook or DSC configuration with hello **Get-AutomationPSCredential** activity.</span></span> <span data-ttu-id="23f76-152">Verrà restituito un [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) da usare con un'attività o un cmdlet che richiede un parametro PSCredential.</span><span class="sxs-lookup"><span data-stu-id="23f76-152">This returns a [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) that you can use with an activity or cmdlet that requires a PSCredential parameter.</span></span> <span data-ttu-id="23f76-153">È inoltre possibile recuperare le proprietà di hello di hello credenziali oggetto toouse singolarmente.</span><span class="sxs-lookup"><span data-stu-id="23f76-153">You can also retrieve hello properties of hello credential object toouse individually.</span></span> <span data-ttu-id="23f76-154">oggetto Hello ha una proprietà per hello username e password sicura hello oppure è possibile utilizzare hello **GetNetworkCredential** metodo tooreturn un [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) oggetto che fornisce un non protetto versione della password hello.</span><span class="sxs-lookup"><span data-stu-id="23f76-154">hello object has a property for hello username and hello secure password, or you can use hello **GetNetworkCredential** method tooreturn a [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) object that will provide an unsecured version of hello password.</span></span>

### <a name="textual-runbook-sample"></a><span data-ttu-id="23f76-155">Esempio di Runbook testuale</span><span class="sxs-lookup"><span data-stu-id="23f76-155">Textual runbook sample</span></span>
<span data-ttu-id="23f76-156">Hello comandi di esempio seguenti mostrano come toouse un PowerShell credenziali in un runbook.</span><span class="sxs-lookup"><span data-stu-id="23f76-156">hello following sample commands show how toouse a PowerShell credential in a runbook.</span></span> <span data-ttu-id="23f76-157">In questo esempio vengono recuperate credenziali hello e il nome utente e la password assegnata toovariables.</span><span class="sxs-lookup"><span data-stu-id="23f76-157">In this example, hello credential is retrieved and its username and password assigned toovariables.</span></span>

    $myCredential = Get-AutomationPSCredential -Name 'MyCredential'
    $userName = $myCredential.UserName
    $securePassword = $myCredential.Password
    $password = $myCredential.GetNetworkCredential().Password


### <a name="graphical-runbook-sample"></a><span data-ttu-id="23f76-158">Esempio di Runbook grafico</span><span class="sxs-lookup"><span data-stu-id="23f76-158">Graphical runbook sample</span></span>
<span data-ttu-id="23f76-159">Si aggiunge un **Get-AutomationPSCredential** runbook grafico tooa di attività facendo clic su credenziali hello nel riquadro libreria hello dell'editor grafico hello e selezionando **aggiungere toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="23f76-159">You add a **Get-AutomationPSCredential** activity tooa graphical runbook by right-clicking on hello credential in hello Library pane of hello graphical editor and selecting **Add toocanvas**.</span></span>

![Aggiungere credenziali toocanvas](media/automation-credentials/credential-add-canvas.png)

<span data-ttu-id="23f76-161">Hello immagine seguente viene illustrato un esempio dell'utilizzo di una credenziale in un runbook grafico.</span><span class="sxs-lookup"><span data-stu-id="23f76-161">hello following image shows an example of using a credential in a graphical runbook.</span></span>  <span data-ttu-id="23f76-162">In questo caso, viene utilizzato tooprovide autenticazione per le risorse tooAzure un runbook come descritto in [runbook l'autenticazione con account utente di Active Directory di Azure](automation-create-aduser-account.md).</span><span class="sxs-lookup"><span data-stu-id="23f76-162">In this case, it is being used tooprovide authentication for a runbook tooAzure resources as described in [Authenticate Runbooks with Azure AD User account](automation-create-aduser-account.md).</span></span>  <span data-ttu-id="23f76-163">prima attività Hello recupera le credenziali di hello che ha accesso toohello sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="23f76-163">hello first activity retrieves hello credential that has access toohello Azure subscription.</span></span>  <span data-ttu-id="23f76-164">Hello **Add-AzureAccount** attività utilizza quindi tooprovide autenticazione delle credenziali per qualsiasi attività seguono.</span><span class="sxs-lookup"><span data-stu-id="23f76-164">hello **Add-AzureAccount** activity then uses this credential tooprovide authentication for any activities that come after it.</span></span>  <span data-ttu-id="23f76-165">Viene usato un [collegamento pipeline](automation-graphical-authoring-intro.md#links-and-workflow) poiché **Get-AutomationPSCredential** prevede un singolo oggetto.</span><span class="sxs-lookup"><span data-stu-id="23f76-165">A [pipeline link](automation-graphical-authoring-intro.md#links-and-workflow) is here since **Get-AutomationPSCredential** is expecting a single object.</span></span>  

![Aggiungere credenziali toocanvas](media/automation-credentials/get-credential.png)

## <a name="using-a-powershell-credential-in-dsc"></a><span data-ttu-id="23f76-167">Uso di credenziali PowerShell in DSC</span><span class="sxs-lookup"><span data-stu-id="23f76-167">Using a PowerShell credential in DSC</span></span>
<span data-ttu-id="23f76-168">Anche se le configurazioni DSC in Automazione di Azure possono fare riferimento ad asset credenziali con **Get-AutomationPSCredential**, gli asset credenziali possono essere passati anche con i parametri, se necessario.</span><span class="sxs-lookup"><span data-stu-id="23f76-168">While DSC configurations in Azure Automation can reference credential assets using **Get-AutomationPSCredential**, credential assets can also be passed in via parameters, if desired.</span></span> <span data-ttu-id="23f76-169">Per ulteriori informazioni vedere [Compilazione di configurazioni in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span><span class="sxs-lookup"><span data-stu-id="23f76-169">For more information, see [Compiling configurations in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="23f76-170">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="23f76-170">Next Steps</span></span>
* <span data-ttu-id="23f76-171">toolearn ulteriori informazioni sui collegamenti nella creazione di grafici, vedere [collegamenti nella creazione di grafici](automation-graphical-authoring-intro.md#links-and-workflow)</span><span class="sxs-lookup"><span data-stu-id="23f76-171">toolearn more about links in graphical authoring, see [Links in graphical authoring](automation-graphical-authoring-intro.md#links-and-workflow)</span></span>
* <span data-ttu-id="23f76-172">toounderstand hello diversi metodi di autenticazione con l'automazione, vedere [sicurezza di automazione di Azure](automation-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="23f76-172">toounderstand hello different authentication methods with Automation, see [Azure Automation Security](automation-security-overview.md)</span></span>
* <span data-ttu-id="23f76-173">tooget avviato con runbook grafici, vedere [il primo runbook grafico](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="23f76-173">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="23f76-174">tooget avviato con runbook del flusso di lavoro di PowerShell, vedere [il primo runbook del flusso di lavoro di PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="23f76-174">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 

