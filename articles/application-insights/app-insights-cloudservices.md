---
title: aaaApplication Insights per servizi Cloud di Azure | Documenti Microsoft
description: Monitorare i ruoli Web e di lavoro in modo efficace con Application Insights
services: application-insights
documentationcenter: 
keywords: WAD2AI, Diagnostica di Azure
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: 6956ce423eea1e2cf387bd98250bae32d9501ed0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="4a76e-104">Application Insights per Servizi cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="4a76e-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="4a76e-105">Le [app del servizio cloud di Microsoft Azure](https://azure.microsoft.com/services/cloud-services/) possono essere monitorate da [Application Insights][start] in termini di disponibilità, prestazioni, errori e utilizzo combinando i dati degli SDK di Application Insights con i dati di [Diagnostica di Azure](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) provenienti dai servizi cloud.</span><span class="sxs-lookup"><span data-stu-id="4a76e-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="4a76e-106">Con il feedback hello che è ottenere sulle prestazioni di hello e l'efficacia dell'app in hello wild, è possibile prendere decisioni informate sulla direzione hello della progettazione hello in ogni ciclo di vita di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-106">With hello feedback you get about hello performance and effectiveness of your app in hello wild, you can make informed choices about hello direction of hello design in each development lifecycle.</span></span>

![Esempio](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="4a76e-108">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="4a76e-108">Before you start</span></span>
<span data-ttu-id="4a76e-109">Sono necessari gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="4a76e-109">You'll need:</span></span>

* <span data-ttu-id="4a76e-110">Una sottoscrizione con [Microsoft Azure](http://azure.com).</span><span class="sxs-lookup"><span data-stu-id="4a76e-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="4a76e-111">È possibile accedere con un account Microsoft, che in genere si ottiene per Windows, XBox Live o altri servizi cloud Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4a76e-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="4a76e-112">Strumenti di Microsoft Azure 2.9 o versione successiva</span><span class="sxs-lookup"><span data-stu-id="4a76e-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="4a76e-113">Developer Analytics Tools 7.10 o versione successiva</span><span class="sxs-lookup"><span data-stu-id="4a76e-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="4a76e-114">Avvio rapido</span><span class="sxs-lookup"><span data-stu-id="4a76e-114">Quick start</span></span>
<span data-ttu-id="4a76e-115">Hello toomonitor modo rapido e semplice che il servizio cloud con Application Insights è toochoose che opzione quando si pubblica il servizio tooAzure.</span><span class="sxs-lookup"><span data-stu-id="4a76e-115">hello quickest and easiest way toomonitor your cloud service with Application Insights is toochoose that option when you publish your service tooAzure.</span></span>

![Esempio](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="4a76e-117">Strumenti di questa opzione l'app in fase di esecuzione, fornendo tutti i dati di telemetria di hello occorre toomonitor richieste, eccezioni e le dipendenze nel ruolo web, nonché sulle prestazioni di contatori dai ruoli di lavoro.</span><span class="sxs-lookup"><span data-stu-id="4a76e-117">This option instruments your app at run time, giving you all hello telemetry you need toomonitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="4a76e-118">Tutte le tracce di diagnostica generate dalla tua app vengono inviate anche tooApplication Insights.</span><span class="sxs-lookup"><span data-stu-id="4a76e-118">Any diagnostic traces generated by your app are also sent tooApplication Insights.</span></span>

<span data-ttu-id="4a76e-119">Se non si hanno altre esigenze, non è necessario eseguire altre operazioni.</span><span class="sxs-lookup"><span data-stu-id="4a76e-119">If that's all you need, you're done!</span></span> <span data-ttu-id="4a76e-120">I passaggi successivi prevedono la [visualizzazione delle metriche dall'app](app-insights-metrics-explorer.md), la [query dei dati con Analytics](app-insights-analytics.md) ed eventualmente la configurazione di un [dashboard](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="4a76e-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="4a76e-121">È possibile tooset backup [prove di disponibilità](app-insights-monitor-web-app-availability.md) e [aggiungere le pagine web tooyour codice](app-insights-javascript.md) prestazioni toomonitor nel browser hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-121">You might want tooset up [availability tests](app-insights-monitor-web-app-availability.md) and [add code tooyour web pages](app-insights-javascript.md) toomonitor performance in hello browser.</span></span>

<span data-ttu-id="4a76e-122">Sono disponibili anche altre opzioni:</span><span class="sxs-lookup"><span data-stu-id="4a76e-122">But you can also get more options:</span></span>

* <span data-ttu-id="4a76e-123">Invio di dati da diversi componenti e le configurazioni della build tooseparate risorse.</span><span class="sxs-lookup"><span data-stu-id="4a76e-123">Send data from different components and build configurations tooseparate resources.</span></span>
* <span data-ttu-id="4a76e-124">Aggiungere dati di telemetria personalizzati dall'app.</span><span class="sxs-lookup"><span data-stu-id="4a76e-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="4a76e-125">Se tali opzioni sono di interesse tooyou, continuare a leggere.</span><span class="sxs-lookup"><span data-stu-id="4a76e-125">If those options are of interest tooyou, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="4a76e-126">Applicazione di esempio instrumentata con Application Insights</span><span class="sxs-lookup"><span data-stu-id="4a76e-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="4a76e-127">Dare un'occhiata [applicazione di esempio](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in cui Application Insights viene aggiunto il servizio di cloud tooa con due ruoli di lavoro ospitati in Azure.</span><span class="sxs-lookup"><span data-stu-id="4a76e-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added tooa cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="4a76e-128">Di seguito indica come tooadapt progetto servizio cloud in hello allo stesso modo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-128">What follows tells you how tooadapt your own cloud service project in hello same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="4a76e-129">Pianificare le risorse e i gruppi di risorse</span><span class="sxs-lookup"><span data-stu-id="4a76e-129">Plan resources and resource groups</span></span>
<span data-ttu-id="4a76e-130">telemetria Hello dall'app verrà archiviato, analizzato e visualizzato in una risorsa di Azure di tipo Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4a76e-130">hello telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="4a76e-131">Ogni risorsa appartiene il gruppo di risorse tooa.</span><span class="sxs-lookup"><span data-stu-id="4a76e-131">Each resource belongs tooa resource group.</span></span> <span data-ttu-id="4a76e-132">Gruppi di risorse vengono utilizzati per la gestione dei costi, per concedere l'accesso, i membri tooteam e toodeploy gli aggiornamenti in una singola transazione coordinata.</span><span class="sxs-lookup"><span data-stu-id="4a76e-132">Resource groups are used for managing costs, for granting access tooteam members, and toodeploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="4a76e-133">Ad esempio, è possibile [scrivere un toodeploy script](../azure-resource-manager/resource-group-template-deploy.md) un servizio Cloud di Azure e il relativo monitoraggio risorse un'unica operazione di Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4a76e-133">For example, you could [write a script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="4a76e-134">Risorse per i componenti</span><span class="sxs-lookup"><span data-stu-id="4a76e-134">Resources for components</span></span>
<span data-ttu-id="4a76e-135">Hello consiglia schema toocreate una risorsa distinta per ogni componente dell'applicazione, vale a dire, ogni ruolo web e ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="4a76e-135">hello recommended scheme is toocreate a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="4a76e-136">È possibile analizzare separatamente ogni componente, ma è possibile creare un [dashboard](app-insights-dashboards.md) che riunisce grafici chiave hello da tutti i componenti di hello, in modo che sia possibile confrontare e monitorarli insieme.</span><span class="sxs-lookup"><span data-stu-id="4a76e-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together hello key charts from all hello components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="4a76e-137">Uno schema alternativo è telemetria hello toosend da più di un ruolo toohello stessa risorsa, ma [aggiungere un elemento di dati di telemetria tooeach proprietà dimensione](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) che identifica il ruolo di origine.</span><span class="sxs-lookup"><span data-stu-id="4a76e-137">An alternative scheme is toosend hello telemetry from more than one role toohello same resource, but [add a dimension property tooeach telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="4a76e-138">In questo schema metrica grafici, ad esempio eccezioni normalmente mostrano un'aggregazione dei conteggi hello da hello ruoli diversi, ma è possibile segmentare grafico hello dall'identificatore di ruolo hello quando richiesto.</span><span class="sxs-lookup"><span data-stu-id="4a76e-138">In this scheme, metric charts such as exceptions normally show an aggregation of hello counts from hello different roles, but you can segment hello chart by hello role identifier when required.</span></span> <span data-ttu-id="4a76e-139">È inoltre possibile filtrare le ricerche da hello stessa dimensione.</span><span class="sxs-lookup"><span data-stu-id="4a76e-139">Searches can also be filtered by hello same dimension.</span></span> <span data-ttu-id="4a76e-140">Questa procedura alternativa rende tooview un po' più semplice è sempre hello stesso tempo, ma anche provocare confusione toosome tra i ruoli di hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-140">This alternative makes it a bit easier tooview everything at hello same time, but could also lead toosome confusion between hello roles.</span></span>

<span data-ttu-id="4a76e-141">Dati di telemetria browser è in genere incluse in hello stessa risorsa, come il ruolo del server web.</span><span class="sxs-lookup"><span data-stu-id="4a76e-141">Browser telemetry is usually included in hello same resource as its server-side web role.</span></span>

<span data-ttu-id="4a76e-142">Inserire le risorse di Application Insights hello per i diversi componenti hello in un gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="4a76e-142">Put hello Application Insights resources for hello different components in one resource group.</span></span> <span data-ttu-id="4a76e-143">In questo modo è facile toomanage insieme.</span><span class="sxs-lookup"><span data-stu-id="4a76e-143">This makes it easy toomanage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="4a76e-144">Separazione di sviluppo, test e produzione</span><span class="sxs-lookup"><span data-stu-id="4a76e-144">Separating development, test, and production</span></span>
<span data-ttu-id="4a76e-145">Se si sviluppa eventi personalizzati per la funzionalità successiva mentre la versione precedente di hello è in tempo reale, si desidera toosend hello sviluppo telemetria tooa separato risorsa di Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4a76e-145">If you are developing custom events for your next feature while hello previous version is live, you want toosend hello development telemetry tooa separate Application Insights resource.</span></span> <span data-ttu-id="4a76e-146">In caso contrario sarà toofind disco dati di telemetria test tra tutti hello traffico dal sito di hello in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="4a76e-146">Otherwise it will be hard toofind your test telemetry among all hello traffic from hello live site.</span></span>

<span data-ttu-id="4a76e-147">tooavoid questa situazione, creare risorse separate per ogni configurazione di compilazione o "indicatore" (sviluppo, test, produzione,...) del sistema.</span><span class="sxs-lookup"><span data-stu-id="4a76e-147">tooavoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="4a76e-148">Inserire le risorse di hello per ogni configurazione di compilazione in un gruppo di risorse separato.</span><span class="sxs-lookup"><span data-stu-id="4a76e-148">Put hello resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="4a76e-149">toosend hello telemetria toohello delle risorse appropriate, è possibile impostare hello Application Insights SDK in modo che sceglie una chiave di strumentazione diversi a seconda della configurazione della build hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-149">toosend hello telemetry toohello appropriate resources, you can set up hello Application Insights SDK so that it picks up a different instrumentation key depending on hello build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="4a76e-150">Creare una risorsa di Application Insights per ogni ruolo</span><span class="sxs-lookup"><span data-stu-id="4a76e-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="4a76e-151">Se si è deciso di una risorsa distinta per ogni ruolo - toocreate probabilmente di impostare una separata per ogni configurazione di compilazione - ed è più semplice toocreate tutti nel portale Application Insights hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-151">If you've decided toocreate a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest toocreate them all in hello Application Insights portal.</span></span> <span data-ttu-id="4a76e-152">(Se si creano una grande quantità di risorse, è possibile [automatizzare il processo di hello](app-insights-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="4a76e-152">(If you create resources a lot, you can [automate hello process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="4a76e-153">In hello [portale di Azure][portal], creare una nuova risorsa di Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4a76e-153">In hello [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="4a76e-154">Scegliere l'app ASP.NET per il tipo di applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a76e-154">For application type, choose ASP.NET app.</span></span> 

    ![Fare clic su Nuovo, Application Insights](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="4a76e-156">Si noti che ogni risorsa viene identificata da una chiave di strumentazione</span><span class="sxs-lookup"><span data-stu-id="4a76e-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="4a76e-157">Si potrebbe essere necessaria in seguito se si desidera toomanually Configura o verifica configurazione hello di hello SDK.</span><span class="sxs-lookup"><span data-stu-id="4a76e-157">You might need this later if you want toomanually configure or verify hello configuration of hello SDK.</span></span>

    ![Fare clic su proprietà, selezionare la chiave hello e premere ctrl + C](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="4a76e-159">Configurare Diagnostica di Azure per ogni ruolo</span><span class="sxs-lookup"><span data-stu-id="4a76e-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="4a76e-160">Impostare toomonitor questa opzione l'app con Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4a76e-160">Set this option toomonitor your app with Application Insights.</span></span> <span data-ttu-id="4a76e-161">Per i ruoli Web offre monitoraggio delle prestazioni, avvisi e diagnostica, oltre all'analisi dell'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="4a76e-162">Per altri ruoli, è possibile cercare e il monitoraggio diagnostica Azure, ad esempio il riavvio, i contatori delle prestazioni e tooSystem.Diagnostics.Trace di chiamate.</span><span class="sxs-lookup"><span data-stu-id="4a76e-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls tooSystem.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="4a76e-163">In Esplora soluzioni di Visual Studio, sotto &lt;YourCloudService&gt;, ruoli, aprire le proprietà di hello di ogni ruolo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open hello properties of each role.</span></span>
2. <span data-ttu-id="4a76e-164">In **configurazione**, impostare **inviare dati di diagnostica tooApplication Insights** e selezionare hello risorsa di Application Insights appropriato creato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="4a76e-164">In **Configuration**, set **Send diagnostics data tooApplication Insights** and select hello appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="4a76e-165">Se si è deciso toouse una risorsa di Application Insights distinta per ogni configurazione di compilazione, selezionare innanzitutto configurazione hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-165">If you have decided toouse a separate Application Insights resource for each build configuration, select hello configuration first.</span></span>

![Nelle proprietà di hello di ogni ruolo di Azure, configurare Application Insights](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="4a76e-167">Questo ha effetto hello di inserimento delle chiavi di strumentazione di Application Insights nel file hello denominati `ServiceConfiguration.*.cscfg`.</span><span class="sxs-lookup"><span data-stu-id="4a76e-167">This has hello effect of inserting your Application Insights instrumentation keys into hello files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="4a76e-168">([Codice di esempio](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span><span class="sxs-lookup"><span data-stu-id="4a76e-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="4a76e-169">Se si desidera livello hello toovary di informazioni diagnostiche inviate tooApplication Insights, è possibile farlo [modificando hello `.cscfg` direttamente i file](app-insights-azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="4a76e-169">If you want toovary hello level of diagnostic information sent tooApplication Insights, you can do so [by editing hello `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="4a76e-170"><a name="sdk"></a>Installare SDK hello in ogni progetto</span><span class="sxs-lookup"><span data-stu-id="4a76e-170"><a name="sdk"></a>Install hello SDK in each project</span></span>
<span data-ttu-id="4a76e-171">Questa opzione aggiunge hello possibilità tooadd business personalizzata telemetria tooany ruolo, per un'analisi più dettagliata di come l'applicazione viene utilizzato e vengono eseguite.</span><span class="sxs-lookup"><span data-stu-id="4a76e-171">This option adds hello ability tooadd custom business telemetry tooany role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="4a76e-172">In Visual Studio, è possibile configurare hello Application Insights SDK per ogni progetto di app cloud.</span><span class="sxs-lookup"><span data-stu-id="4a76e-172">In Visual Studio, configure hello Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="4a76e-173">**I ruoli Web**: fare clic sul progetto hello e scegliere **Configura Application Insights** o **Aggiungi > telemetria di Application Insights**.</span><span class="sxs-lookup"><span data-stu-id="4a76e-173">**Web roles**: Right-click hello project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="4a76e-174">**Ruoli di lavoro**:</span><span class="sxs-lookup"><span data-stu-id="4a76e-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="4a76e-175">Fare clic sul progetto hello e selezionare **Gestisci pacchetti Nuget**.</span><span class="sxs-lookup"><span data-stu-id="4a76e-175">Right-click hello project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="4a76e-176">Aggiungere [Application Insights per server Windows](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span><span class="sxs-lookup"><span data-stu-id="4a76e-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    ![Cercare "Application Insights"](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="4a76e-178">Configurare hello SDK toosend dati toohello risorsa di Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4a76e-178">Configure hello SDK toosend data toohello Application Insights resource.</span></span>

    <span data-ttu-id="4a76e-179">In una funzione di avvio appropriato, impostare la chiave di strumentazione hello dall'impostazione di configurazione hello in file con estensione cscfg hello:</span><span class="sxs-lookup"><span data-stu-id="4a76e-179">In a suitable startup function, set hello instrumentation key from hello configuration setting in hello .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="4a76e-180">Eseguire questa operazione per ogni ruolo nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a76e-180">Do this for each role in your application.</span></span> <span data-ttu-id="4a76e-181">Vedere gli esempi di hello:</span><span class="sxs-lookup"><span data-stu-id="4a76e-181">See hello examples:</span></span>
   
   * [<span data-ttu-id="4a76e-182">Ruolo Web</span><span class="sxs-lookup"><span data-stu-id="4a76e-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="4a76e-183">Ruolo di lavoro</span><span class="sxs-lookup"><span data-stu-id="4a76e-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="4a76e-184">Per pagine Web</span><span class="sxs-lookup"><span data-stu-id="4a76e-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="4a76e-185">Set hello Applicationinsights file toobe sempre copiati toohello directory di output.</span><span class="sxs-lookup"><span data-stu-id="4a76e-185">Set hello ApplicationInsights.config file toobe copied always toohello output directory.</span></span> 
   
    <span data-ttu-id="4a76e-186">(Nel file hello. config, si noterà i messaggi di richiesta è tooplace hello chiave di strumentazione non esiste.</span><span class="sxs-lookup"><span data-stu-id="4a76e-186">(In hello .config file, you'll see messages asking you tooplace hello instrumentation key there.</span></span> <span data-ttu-id="4a76e-187">Tuttavia, per le applicazioni cloud è migliore tooset dal file con estensione cscfg hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-187">However, for cloud applications it's better tooset it from hello .cscfg file.</span></span> <span data-ttu-id="4a76e-188">In questo modo che il ruolo di hello sia identificato correttamente nel portale di hello.)</span><span class="sxs-lookup"><span data-stu-id="4a76e-188">This ensures that hello role is correctly identified in hello portal.)</span></span>

#### <a name="run-and-publish-hello-app"></a><span data-ttu-id="4a76e-189">Eseguire e pubblicare l'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="4a76e-189">Run and publish hello app</span></span>
<span data-ttu-id="4a76e-190">Eseguire l'app e accedere ad Azure.</span><span class="sxs-lookup"><span data-stu-id="4a76e-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="4a76e-191">Risorse di Application Insights hello aperto è stato creato e si noterà singoli punti dati visualizzati in [ricerca](app-insights-diagnostic-search.md), e dati aggregati in [metrica Esplora](app-insights-metrics-explorer.md).</span><span class="sxs-lookup"><span data-stu-id="4a76e-191">Open hello Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="4a76e-192">Aggiungere ulteriori dati di telemetria, vedere le sezioni di hello seguenti -, quindi pubblicare app tooget in tempo reale sull'utilizzo e diagnostica commenti e suggerimenti.</span><span class="sxs-lookup"><span data-stu-id="4a76e-192">Add more telemetry - see hello sections below - and then publish your app tooget live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="4a76e-193">Dati non visualizzati</span><span class="sxs-lookup"><span data-stu-id="4a76e-193">No data?</span></span>
* <span data-ttu-id="4a76e-194">Aprire hello [ricerca] [ diagnostic] riquadro, toosee singoli eventi.</span><span class="sxs-lookup"><span data-stu-id="4a76e-194">Open hello [Search][diagnostic] tile, toosee individual events.</span></span>
* <span data-ttu-id="4a76e-195">Utilizzare l'applicazione hello, apertura di pagine diverse in modo che generi alcuni dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="4a76e-195">Use hello application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="4a76e-196">Attendere alcuni secondi e fare clic su Aggiorna.</span><span class="sxs-lookup"><span data-stu-id="4a76e-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="4a76e-197">Vedere [Risoluzione dei problemi][qna].</span><span class="sxs-lookup"><span data-stu-id="4a76e-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="4a76e-198">Visualizzare gli eventi di Diagnostica di Azure</span><span class="sxs-lookup"><span data-stu-id="4a76e-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="4a76e-199">In cui hello toofind [diagnostica Azure](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) informazioni in Application Insights:</span><span class="sxs-lookup"><span data-stu-id="4a76e-199">Where toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="4a76e-200">I contatori delle prestazioni vengono visualizzati come metriche personalizzate.</span><span class="sxs-lookup"><span data-stu-id="4a76e-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="4a76e-201">I registri eventi di Windows vengono visualizzati come tracce ed eventi personalizzati.</span><span class="sxs-lookup"><span data-stu-id="4a76e-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="4a76e-202">I log applicazioni, i log ETW e gli eventuali log dell'infrastruttura di diagnostica vengono visualizzati come tracce.</span><span class="sxs-lookup"><span data-stu-id="4a76e-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="4a76e-203">i contatori delle prestazioni toosee e i conteggi di eventi, aprire [Esplora metriche](app-insights-metrics-explorer.md) e aggiungere un nuovo grafico:</span><span class="sxs-lookup"><span data-stu-id="4a76e-203">toosee performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Dati di diagnostica di Azure](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="4a76e-205">Utilizzare [ricerca](app-insights-diagnostic-search.md) o [query Analitica](app-insights-analytics-tour.md) toosearch tra hello vari registri inviati da diagnostica di Azure di traccia.</span><span class="sxs-lookup"><span data-stu-id="4a76e-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) toosearch across hello various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="4a76e-206">Si supponga, ad esempio, che si dispone di un'eccezione non gestita che ha causato un ruolo toocrash e riciclo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-206">For example, suppose you have an unhandled exception which caused a Role toocrash and recycle.</span></span> <span data-ttu-id="4a76e-207">Tali informazioni viene visualizzato in hello applicazione del canale del registro eventi di Windows.</span><span class="sxs-lookup"><span data-stu-id="4a76e-207">That information would show up in hello Application channel of Windows Event Log.</span></span> <span data-ttu-id="4a76e-208">È possibile utilizzare ricerca toolook hello errore registro eventi di Windows e visualizzare la traccia dello stack completa hello per hello eccezione.</span><span class="sxs-lookup"><span data-stu-id="4a76e-208">You can use Search toolook at hello Windows Event Log error and get hello full stack trace for hello exception.</span></span> <span data-ttu-id="4a76e-209">Che consentono di trovare hello principale causa del problema hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-209">That will help you find hello root cause of hello issue.</span></span>

![Ricerca di dati di diagnostica di Azure](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="4a76e-211">Altri dati di telemetria</span><span class="sxs-lookup"><span data-stu-id="4a76e-211">More telemetry</span></span>
<span data-ttu-id="4a76e-212">Hello sezioni seguente mostra come tooget ulteriori dati di telemetria da diversi aspetti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a76e-212">hello sections below show how tooget additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="4a76e-213">Tenere traccia delle richieste dai ruoli di lavoro</span><span class="sxs-lookup"><span data-stu-id="4a76e-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="4a76e-214">In ruoli web, hello richieste modulo raccoglie automaticamente i dati sulle richieste HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a76e-214">In web roles, hello requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="4a76e-215">Vedere hello [esempio MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) per esempi di come è possibile ignorare il comportamento dell'insieme di hello predefinito.</span><span class="sxs-lookup"><span data-stu-id="4a76e-215">See hello [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override hello default collection behavior.</span></span> 

<span data-ttu-id="4a76e-216">È possibile acquisire le prestazioni di hello dei ruoli tooworker chiamate rilevando li in hello esattamente come le richieste HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a76e-216">You can capture hello performance of calls tooworker roles by tracking them in hello same way as HTTP requests.</span></span> <span data-ttu-id="4a76e-217">In Application Insights, tipo di dati di telemetria richiesta hello misura un'unità di lavoro sul lato server denominato che è possibile programmare in modo indipendente esito positivo o negativo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-217">In Application Insights, hello Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="4a76e-218">Mentre le richieste HTTP vengono acquisite automaticamente da hello SDK, è possibile inserire i propri ruoli di tooworker codice tootrack richieste.</span><span class="sxs-lookup"><span data-stu-id="4a76e-218">While HTTP requests are captured automatically by hello SDK, you can insert your own code tootrack requests tooworker roles.</span></span>

<span data-ttu-id="4a76e-219">Vedere hello due esempio lavoro ruoli tooreport instrumentata richieste: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) e [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span><span class="sxs-lookup"><span data-stu-id="4a76e-219">See hello two sample worker roles instrumented tooreport requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="4a76e-220">Eccezioni</span><span class="sxs-lookup"><span data-stu-id="4a76e-220">Exceptions</span></span>
<span data-ttu-id="4a76e-221">Vedere [Monitoraggio delle eccezioni in Application Insights](app-insights-asp-net-exceptions.md) per informazioni su come è possibile raccogliere le eccezioni non gestite da diversi tipi di applicazioni Web.</span><span class="sxs-lookup"><span data-stu-id="4a76e-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="4a76e-222">ruolo web di esempio Hello ha controller MVC5 e API Web 2.</span><span class="sxs-lookup"><span data-stu-id="4a76e-222">hello sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="4a76e-223">eccezioni non gestite da hello due Hello vengono acquisite con hello gestori seguenti:</span><span class="sxs-lookup"><span data-stu-id="4a76e-223">hello unhandled exceptions from hello two are captured with hello following handlers:</span></span>

* <span data-ttu-id="4a76e-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) impostato [qui](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) per i controller MVC5</span><span class="sxs-lookup"><span data-stu-id="4a76e-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="4a76e-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) impostato [qui](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) per i controller Web API 2</span><span class="sxs-lookup"><span data-stu-id="4a76e-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="4a76e-226">Per i ruoli di lavoro, sono disponibili due modi tootrack eccezioni:</span><span class="sxs-lookup"><span data-stu-id="4a76e-226">For worker roles, there are two ways tootrack exceptions:</span></span>

* <span data-ttu-id="4a76e-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="4a76e-227">TrackException(ex)</span></span>
* <span data-ttu-id="4a76e-228">Se è stato aggiunto il pacchetto NuGet del listener di hello Application Insights traccia, è possibile utilizzare **Trace** toolog eccezioni.</span><span class="sxs-lookup"><span data-stu-id="4a76e-228">If you have added hello Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** toolog exceptions.</span></span> [<span data-ttu-id="4a76e-229">Esempio di codice.</span><span class="sxs-lookup"><span data-stu-id="4a76e-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="4a76e-230">Contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="4a76e-230">Performance Counters</span></span>
<span data-ttu-id="4a76e-231">Hello seguendo i contatori viene raccolti per impostazione predefinita:</span><span class="sxs-lookup"><span data-stu-id="4a76e-231">hello following counters are collected by default:</span></span>

    * <span data-ttu-id="4a76e-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="4a76e-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="4a76e-233">\Memory\Available Bytes</span><span class="sxs-lookup"><span data-stu-id="4a76e-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="4a76e-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span><span class="sxs-lookup"><span data-stu-id="4a76e-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="4a76e-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span><span class="sxs-lookup"><span data-stu-id="4a76e-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="4a76e-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="4a76e-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="4a76e-237">\Processor(_Total)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="4a76e-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="4a76e-238">Per i ruoli Web vengono raccolti anche i contatori seguenti:</span><span class="sxs-lookup"><span data-stu-id="4a76e-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="4a76e-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span><span class="sxs-lookup"><span data-stu-id="4a76e-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="4a76e-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span><span class="sxs-lookup"><span data-stu-id="4a76e-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="4a76e-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span><span class="sxs-lookup"><span data-stu-id="4a76e-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="4a76e-242">È possibile specificare altri contatori delle prestazioni personalizzati o di Windows modificando ApplicationInsights.config, [come illustrato in questo esempio](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span><span class="sxs-lookup"><span data-stu-id="4a76e-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![Contatori delle prestazioni](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="4a76e-244">Telemetria correlata per i ruoli di lavoro</span><span class="sxs-lookup"><span data-stu-id="4a76e-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="4a76e-245">È un'esperienza di diagnostica, quando è possibile verificare quali tooa led non è riuscita o una richiesta ad alta latenza.</span><span class="sxs-lookup"><span data-stu-id="4a76e-245">It is a rich diagnostic experience, when you can see what led tooa failed or high latency request.</span></span> <span data-ttu-id="4a76e-246">Con i ruoli web, hello che SDK configura automaticamente la correlazione tra relativi dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="4a76e-246">With web roles, hello SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="4a76e-247">Per i ruoli di lavoro, è possibile utilizzare un tooset di inizializzatore di dati di telemetria personalizzati un attributo di contesto Operation.Id comune per tutti i tooachieve telemetria hello questo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-247">For worker roles, you can use a custom telemetry initializer tooset a common Operation.Id context attribute for all hello telemetry tooachieve this.</span></span> <span data-ttu-id="4a76e-248">In questo modo si toosee se è stato causato il problema di latenza/errore hello scadenza tooa dipendenza o il codice, a colpo d'occhio!</span><span class="sxs-lookup"><span data-stu-id="4a76e-248">This allows you toosee whether hello latency/failure issue was caused due tooa dependency or your code, at a glance!</span></span> 

<span data-ttu-id="4a76e-249">Ecco come:</span><span class="sxs-lookup"><span data-stu-id="4a76e-249">Here's how:</span></span>

* <span data-ttu-id="4a76e-250">Impostare l'Id di correlazione hello in un CallContext come illustrato [qui](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span><span class="sxs-lookup"><span data-stu-id="4a76e-250">Set hello correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="4a76e-251">In questo caso, si sta usando hello ID richiesta come id di correlazione hello</span><span class="sxs-lookup"><span data-stu-id="4a76e-251">In this case, we are using hello Request ID as hello correlation id</span></span>
* <span data-ttu-id="4a76e-252">Aggiungere un'implementazione personalizzata di TelemetryInitializer, ID correlazione toohello Operation.Id hello tooset impostata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="4a76e-252">Add a custom TelemetryInitializer implementation, tooset hello Operation.Id toohello correlationId set above.</span></span> <span data-ttu-id="4a76e-253">Per un esempio, vedere: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span><span class="sxs-lookup"><span data-stu-id="4a76e-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="4a76e-254">Aggiungere l'inizializzatore di telemetria personalizzata hello.</span><span class="sxs-lookup"><span data-stu-id="4a76e-254">Add hello custom telemetry initializer.</span></span> <span data-ttu-id="4a76e-255">È possibile farlo nel file Applicationinsights config hello o nel codice come illustrato [qui](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="4a76e-255">You could do that in hello ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="4a76e-256">L'operazione è terminata.</span><span class="sxs-lookup"><span data-stu-id="4a76e-256">That's it!</span></span> <span data-ttu-id="4a76e-257">esperienza del portale Hello è già collegato toohelp che vedere tutti i dati di telemetria a colpo d'occhio:</span><span class="sxs-lookup"><span data-stu-id="4a76e-257">hello portal experience is already wired up toohelp you see all associated telemetry at a glance:</span></span>

![Dati di telemetria correlati](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="4a76e-259">Telemetria client</span><span class="sxs-lookup"><span data-stu-id="4a76e-259">Client telemetry</span></span>
<span data-ttu-id="4a76e-260">[Aggiungere pagine web di JavaScript SDK tooyour hello] [ client] tooget di telemetria basate su browser, ad esempio conteggi delle visualizzazioni di pagina, i tempi di caricamento pagina, eccezioni di script e toolet scrivere telemetria personalizzata negli script di pagina.</span><span class="sxs-lookup"><span data-stu-id="4a76e-260">[Add hello JavaScript SDK tooyour web pages][client] tooget browser-based telemetry such as page view counts, page load times, script exceptions, and toolet you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="4a76e-261">Test della disponibilità</span><span class="sxs-lookup"><span data-stu-id="4a76e-261">Availability tests</span></span>
<span data-ttu-id="4a76e-262">[Configurare i test web] [ availability] toomake che l'applicazione rimane in tempo reale e reattiva.</span><span class="sxs-lookup"><span data-stu-id="4a76e-262">[Set up web tests][availability] toomake sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="4a76e-263">Visualizzare tutti gli elementi contemporaneamente</span><span class="sxs-lookup"><span data-stu-id="4a76e-263">Display everything together</span></span>
<span data-ttu-id="4a76e-264">tooget un quadro complessivo del sistema, è possibile visualizzare grafici di monitoraggio insieme in una chiave di hello [dashboard](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="4a76e-264">tooget an overall picture of your system, you can bring hello key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="4a76e-265">Ad esempio, è possibile aggiungere richiesta hello e i conteggi di errori di ogni ruolo.</span><span class="sxs-lookup"><span data-stu-id="4a76e-265">For example, you could pin hello request and failure counts of each role.</span></span> 

<span data-ttu-id="4a76e-266">Se il sistema usa altri servizi di Azure, ad esempio l'analisi di flusso, includere anche i relativi grafici di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="4a76e-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="4a76e-267">Se si dispone di una client app per dispositivi mobili, inserire alcuni codice toosend gli eventi personalizzati su operazioni chiave utente e creare un [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span><span class="sxs-lookup"><span data-stu-id="4a76e-267">If you have a client mobile app, insert some code toosend custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="4a76e-268">Creare query in [Analitica](app-insights-analytics.md) toodisplay hello conteggio degli eventi e aggiungerli toohello dashboard.</span><span class="sxs-lookup"><span data-stu-id="4a76e-268">Create queries in [Analytics](app-insights-analytics.md) toodisplay hello event counts, and pin them toohello dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="4a76e-269">Esempio</span><span class="sxs-lookup"><span data-stu-id="4a76e-269">Example</span></span>
<span data-ttu-id="4a76e-270">[esempio Hello](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) consente di monitorare un servizio che dispone di un ruolo web e i due ruoli di lavoro.</span><span class="sxs-lookup"><span data-stu-id="4a76e-270">[hello example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="4a76e-271">Eccezione "metodo non trovato" durante l'esecuzione dei servizi cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="4a76e-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="4a76e-272">È stata eseguita la compilazione per .NET 4.6?</span><span class="sxs-lookup"><span data-stu-id="4a76e-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="4a76e-273">La versione 4.6 non è supportata automaticamente nei ruoli dei servizi cloud di Azure.</span><span class="sxs-lookup"><span data-stu-id="4a76e-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="4a76e-274">[Installare la versione 4.6 in ogni ruolo](../cloud-services/cloud-services-dotnet-install-dotnet.md) prima di eseguire l'app.</span><span class="sxs-lookup"><span data-stu-id="4a76e-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="4a76e-275">Video</span><span class="sxs-lookup"><span data-stu-id="4a76e-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="4a76e-276">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="4a76e-276">Next steps</span></span>
* [<span data-ttu-id="4a76e-277">Configurare l'invio di informazioni di diagnostica Azure tooApplication</span><span class="sxs-lookup"><span data-stu-id="4a76e-277">Configure sending Azure Diagnostics tooApplication Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="4a76e-278">Automatizzare la creazione di risorse di Application Insights</span><span class="sxs-lookup"><span data-stu-id="4a76e-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="4a76e-279">Automatizzare Diagnostica di Azure</span><span class="sxs-lookup"><span data-stu-id="4a76e-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="4a76e-280">Funzioni di Azure</span><span class="sxs-lookup"><span data-stu-id="4a76e-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
