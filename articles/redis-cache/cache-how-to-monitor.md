---
title: Come monitorare Cache Redis di Azure | Microsoft Docs
description: "Informazioni su come monitorare l'integrità e le prestazioni delle istanze di Cache Redis di Azure"
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 7e70b153-9c87-4290-85af-2228f31df118
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: sdanie
ms.openlocfilehash: 8996f5ce03e39557d9cc9c3de1ec214f5cd664b4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-monitor-azure-redis-cache"></a><span data-ttu-id="b162e-103">Come monitorare Cache Redis di Azure</span><span class="sxs-lookup"><span data-stu-id="b162e-103">How to monitor Azure Redis Cache</span></span>
<span data-ttu-id="b162e-104">La Cache Redis di Azure usa [Monitoraggio di Azure](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) per offrire alcune opzioni per il monitoraggio delle istanze della cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) to provide several options for monitoring your cache instances.</span></span> <span data-ttu-id="b162e-105">È possibile visualizzare le metriche, aggiungere i grafici delle metriche alla Schermata iniziale, personalizzare l'intervallo di data e ora per il monitoraggio dei grafici, aggiungere e rimuovere metriche dai grafici e impostare avvisi per le situazioni in cui vengono soddisfatte determinate condizioni.</span><span class="sxs-lookup"><span data-stu-id="b162e-105">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="b162e-106">Questi strumenti permettono di monitorare l'integrità delle istanze della Cache Redis di Azure e semplificano la gestione delle applicazioni di memorizzazione nella cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-106">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span></span>

<span data-ttu-id="b162e-107">Le metriche per le istanze della Cache Redis di Azure vengono raccolte tramite il comando [INFO](http://redis.io/commands/info) di Redis circa due volte al minuto e vengono archiviate automaticamente per 30 giorni (vedere [Esportare le metriche della cache](#export-cache-metrics) per configurare criteri di conservazione diversi), in modo che sia possibile visualizzarle nei grafici relativi alle metriche e valutarle in base alla regole di avviso.</span><span class="sxs-lookup"><span data-stu-id="b162e-107">Metrics for Azure Redis Cache instances are collected using the Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) to configure a different retention policy) so they can be displayed in the metrics charts and evaluated by alert rules.</span></span> <span data-ttu-id="b162e-108">Per ulteriori informazioni sui diversi valori INFO usati per ciascuna metrica della cache, vedere [Metriche disponibili e intervalli di report](#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="b162e-108">For more information about the different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span></span>

<a name="view-cache-metrics"></a>

<span data-ttu-id="b162e-109">Per visualizzare le metriche della cache, [cercare](cache-configure.md#configure-redis-cache-settings) l'istanza della cache nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b162e-109">To view cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) to your cache instance in the [Azure portal](https://portal.azure.com).</span></span>  <span data-ttu-id="b162e-110">La Cache Redis di Azure offre alcuni grafici incorporati nel pannello **Panoramica** e nel pannello **Metriche di Redis**.</span><span class="sxs-lookup"><span data-stu-id="b162e-110">Azure Redis Cache provides some built-in charts on the **Overview** blade and the **Redis metrics** blade.</span></span> <span data-ttu-id="b162e-111">Ogni grafico può essere personalizzata aggiungendo o rimuovendo le metriche e modificando l'intervallo di report.</span><span class="sxs-lookup"><span data-stu-id="b162e-111">Each chart can be customized by adding or removing metrics and changing the reporting interval.</span></span>

![Metriche Redis](./media/cache-how-to-monitor/redis-cache-redis-metrics-blade.png)

## <a name="view-pre-configured-metrics-charts"></a><span data-ttu-id="b162e-113">Visualizzare i grafici preconfigurati relativi alle metriche</span><span class="sxs-lookup"><span data-stu-id="b162e-113">View pre-configured metrics charts</span></span>

<span data-ttu-id="b162e-114">Il pannello **Panoramica** include i grafici preconfigurati seguenti relativi al monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b162e-114">The **Overview** blade has the following pre-configured monitoring charts.</span></span>

* [<span data-ttu-id="b162e-115">Grafici di monitoraggio</span><span class="sxs-lookup"><span data-stu-id="b162e-115">Monitoring charts</span></span>](#monitoring-charts)
* [<span data-ttu-id="b162e-116">Grafici di utilizzo</span><span class="sxs-lookup"><span data-stu-id="b162e-116">Usage charts</span></span>](#usage-charts)

### <a name="monitoring-charts"></a><span data-ttu-id="b162e-117">Grafici di monitoraggio</span><span class="sxs-lookup"><span data-stu-id="b162e-117">Monitoring charts</span></span>
<span data-ttu-id="b162e-118">La sezione **Monitoraggio** del pannello **Panoramica** include i grafici **Riscontri e mancati riscontri**, **Recuperi e impostazioni**, **Connessioni** e **Totale comandi**.</span><span class="sxs-lookup"><span data-stu-id="b162e-118">The **Monitoring** section in the **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span></span>

![Grafici di monitoraggio](./media/cache-how-to-monitor/redis-cache-monitoring-part.png)

### <a name="usage-charts"></a><span data-ttu-id="b162e-120">Grafici di utilizzo</span><span class="sxs-lookup"><span data-stu-id="b162e-120">Usage charts</span></span>
<span data-ttu-id="b162e-121">La sezione **Utilizzo** del pannello **Panoramica** include i grafici **Carico server Redis**, **Utilizzo memoria**, **Larghezza di banda di rete** e **Utilizzo CPU** nonché **Piano tariffario** per l'istanza della cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-121">The **Usage** section in the **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwith**, and **CPU Usage** charts, and also displays the **Pricing tier** for the cache instance.</span></span>

![Grafici di utilizzo](./media/cache-how-to-monitor/redis-cache-usage-part.png)

<span data-ttu-id="b162e-123">In **Livello di prezzo** è possibile visualizzare il livello di prezzo della cache nonché [scalare](cache-how-to-scale.md) la cache a un livello di prezzo diverso.</span><span class="sxs-lookup"><span data-stu-id="b162e-123">The **Pricing tier** displays the cache pricing tier, and can be used to [scale](cache-how-to-scale.md) the cache to a different pricing tier.</span></span>

## <a name="view-metrics-with-azure-monitor"></a><span data-ttu-id="b162e-124">Visualizzare le metriche con Monitoraggio di Azure</span><span class="sxs-lookup"><span data-stu-id="b162e-124">View metrics with Azure monitor</span></span>
<span data-ttu-id="b162e-125">Per visualizzare le metriche di Redis e creare grafici personalizzati usando Monitoraggio di Azure, scegliere **Metriche** dal menu **Risorsa**, quindi personalizzare il grafico usando le metriche desiderate, l'intervallo di report, il tipo di grafico e altri elementi appropriati per le esigenze specifiche.</span><span class="sxs-lookup"><span data-stu-id="b162e-125">To view Redis metrics and create custom charts using Azure Monitor, click **Metrics** from the **Resource menu**, and customize your chart using the desired metrics, reporting interval, chart type, and more.</span></span>

![Metriche Redis](./media/cache-how-to-monitor/redis-cache-monitor.png)

<span data-ttu-id="b162e-127">Per altre informazioni sull'uso delle metriche con Monitoraggio di Azure, vedere [Panoramica delle metriche in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="b162e-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span></span>

<a name="how-to-view-metrics-and-customize-chart"></a>
<a name="enable-cache-diagnostics"></a>
## <a name="export-cache-metrics"></a><span data-ttu-id="b162e-128">Esportare le metriche della cache</span><span class="sxs-lookup"><span data-stu-id="b162e-128">Export cache metrics</span></span>
<span data-ttu-id="b162e-129">Per impostazione predefinita, le metriche relative alla cache in Monitoraggio di Azure vengono [archiviate per 30 giorni](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) e quindi vengono eliminate.</span><span class="sxs-lookup"><span data-stu-id="b162e-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span></span> <span data-ttu-id="b162e-130">Per salvare in modo permanente le metriche della cache per un periodo superiore a 30 giorni, è possibile [designare un account di archiviazione](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) e specificare un criterio di **Conservazione (giorni)** per le metriche della cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-130">To persist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span></span> 

<span data-ttu-id="b162e-131">Per configurare un account di archiviazione per le metriche della cache:</span><span class="sxs-lookup"><span data-stu-id="b162e-131">To configure a storage account for your cache metrics:</span></span>

1. <span data-ttu-id="b162e-132">Scegliere **Diagnostica** dal menu **Risorsa** nel pannello **Cache Redis**.</span><span class="sxs-lookup"><span data-stu-id="b162e-132">Click **Diagnostics** from the **Resource menu** in the **Redis Cache** blade.</span></span>
2. <span data-ttu-id="b162e-133">Fare clic su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="b162e-133">Click **On**.</span></span>
3. <span data-ttu-id="b162e-134">Selezionare **Archivia in un account di archiviazione**.</span><span class="sxs-lookup"><span data-stu-id="b162e-134">Check **Archive to a storage account**.</span></span>
4. <span data-ttu-id="b162e-135">Selezionare l'account di archiviazione in cui archiviare le metriche della cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-135">Select the storage account in which to store the cache metrics.</span></span>
5. <span data-ttu-id="b162e-136">Selezionare la casella di controllo **1 minuto** e specificare un criterio di **Conservazione (giorni)**.</span><span class="sxs-lookup"><span data-stu-id="b162e-136">Check the **1 minute** checkbox and specify a **Retention (days)** policy.</span></span> <span data-ttu-id="b162e-137">Se non si vogliono applicare criteri di conservazione e conservare i dati senza scadenza, impostare **Conservazione (giorni)** su **0**.</span><span class="sxs-lookup"><span data-stu-id="b162e-137">If you do not want to apply any retention policy and retain data forever, set **Retention (days)** to **0**.</span></span>
6. <span data-ttu-id="b162e-138">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b162e-138">Click **Save**.</span></span>

![Diagnostica di Redis](./media/cache-how-to-monitor/redis-cache-diagnostics.png)

>[!NOTE]
><span data-ttu-id="b162e-140">Oltre ad archiviare le metriche della cache, è possibile [eseguirne lo streaming a un hub eventi o inviarli a Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span><span class="sxs-lookup"><span data-stu-id="b162e-140">In addition to archiving your cache metrics to storage, you can also [stream them to an Event hub or send them to Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span></span>
>
>

<span data-ttu-id="b162e-141">Per accedere alle metriche, è possibile visualizzarli nel portale di Azure, come illustrato in precedenza in questo articolo, e anche accedervi tramite l'[API REST Monitoraggio di Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span><span class="sxs-lookup"><span data-stu-id="b162e-141">To access your metrics, you can view them in the Azure portal as previously described in this article, and you can also access them using the [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span></span>

> [!NOTE]
> <span data-ttu-id="b162e-142">Se si modificano gli account di archiviazione, i dati nell'account di archiviazione configurato in precedenza rimangono disponibili per il download, ma non vengono visualizzati nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="b162e-142">If you change storage accounts, the data in the previously configured storage account remains available for download, but it is not displayed in the Azure portal.</span></span>  
> 
> 

## <a name="available-metrics-and-reporting-intervals"></a><span data-ttu-id="b162e-143">Metriche disponibili e intervalli di report</span><span class="sxs-lookup"><span data-stu-id="b162e-143">Available metrics and reporting intervals</span></span>
<span data-ttu-id="b162e-144">Le metriche della cache vengono segnalate usando diversi intervalli di report, tra cui **Ultima ora**, **Oggi**, **Ultima settimana** e **Personalizza**.</span><span class="sxs-lookup"><span data-stu-id="b162e-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span></span> <span data-ttu-id="b162e-145">Nel pannello **Metrica** per ogni grafico delle metriche vengono visualizzati i valori medi, minimi e massimi per ogni metrica nel grafico e alcune metriche visualizzano un totale per l'intervallo di report.</span><span class="sxs-lookup"><span data-stu-id="b162e-145">The **Metric** blade for each metrics chart displays the average, minimum, and maximum values for each metric in the chart, and some metrics display a total for the reporting interval.</span></span> 

<span data-ttu-id="b162e-146">In ogni metrica sono incluse due versioni.</span><span class="sxs-lookup"><span data-stu-id="b162e-146">Each metric includes two versions.</span></span> <span data-ttu-id="b162e-147">Una metrica misura la prestazione per l'intera cache e, per le cache che usano il [clustering](cache-how-to-premium-clustering.md), una seconda versione della metrica che include `(Shard 0-9)` nel nome misura le prestazioni per una singola partizione in una cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-147">One metric measures performance for the entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of the metric that includes `(Shard 0-9)` in the name measures performance for a single shard in a cache.</span></span> <span data-ttu-id="b162e-148">Se ad esempio una cache ha 4 partizioni, `Cache Hits` è la quantità totale di riscontri per l'intera cache e `Cache Hits (Shard 3)` rappresenta le occorrenze di tale partizionamento della cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-148">For example if a cache has 4 shards, `Cache Hits` is the total amount of hits for the entire cache, and `Cache Hits (Shard 3)` is just the hits for that shard of the cache.</span></span>

> [!NOTE]
> <span data-ttu-id="b162e-149">Anche quando la cache è inattiva senza applicazioni client attive connesse, è possibile osservare una certa attività della cache, ad esempio client connessi, uso della memoria e operazioni eseguite.</span><span class="sxs-lookup"><span data-stu-id="b162e-149">Even when the cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span></span> <span data-ttu-id="b162e-150">Questa attività è normale durante il funzionamento di un'istanza di Cache Redis di Azure.</span><span class="sxs-lookup"><span data-stu-id="b162e-150">This activity is normal during the operation of an Azure Redis Cache instance.</span></span>
> 
> 

| <span data-ttu-id="b162e-151">Metrica</span><span class="sxs-lookup"><span data-stu-id="b162e-151">Metric</span></span> | <span data-ttu-id="b162e-152">Descrizione</span><span class="sxs-lookup"><span data-stu-id="b162e-152">Description</span></span> |
| --- | --- |
| <span data-ttu-id="b162e-153">Riscontri cache</span><span class="sxs-lookup"><span data-stu-id="b162e-153">Cache Hits</span></span> |<span data-ttu-id="b162e-154">Il numero di ricerche chiave riuscite durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-154">The number of successful key lookups during the specified reporting interval.</span></span> <span data-ttu-id="b162e-155">Questo `keyspace_hits` è associato al comando [INFO](http://redis.io/commands/info) di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-155">This maps to `keyspace_hits` from the Redis [INFO](http://redis.io/commands/info) command.</span></span> |
| <span data-ttu-id="b162e-156">Mancati riscontri nella cache</span><span class="sxs-lookup"><span data-stu-id="b162e-156">Cache Misses</span></span> |<span data-ttu-id="b162e-157">Il numero di ricerche chiave non riuscite durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-157">The number of failed key lookups during the specified reporting interval.</span></span> <span data-ttu-id="b162e-158">Questo `keyspace_misses` è associato al comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-158">This maps to `keyspace_misses` from the Redis INFO command.</span></span> <span data-ttu-id="b162e-159">I mancati riscontri nella cache non indicano necessariamente un problema con la cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-159">Cache misses do not necessarily mean there is an issue with the cache.</span></span> <span data-ttu-id="b162e-160">Ad esempio, quando si utilizza il modello di programmazione cache-aside, un'applicazione esegue la ricerca di un elemento innanzitutto nella cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-160">For example, when using the cache-aside programming pattern, an application looks first in the cache for an item.</span></span> <span data-ttu-id="b162e-161">Se l'elemento non è presente (mancato riscontro nella cache), viene recuperato dal database e aggiunto alla cache per la volta successiva.</span><span class="sxs-lookup"><span data-stu-id="b162e-161">If the item is not there (cache miss), the item is retrieved from the database and added to the cache for next time.</span></span> <span data-ttu-id="b162e-162">I mancati riscontri nella cache sono un comportamento normale per il modello di programmazione cache-aside.</span><span class="sxs-lookup"><span data-stu-id="b162e-162">Cache misses are normal behavior for the cache-aside programming pattern.</span></span> <span data-ttu-id="b162e-163">Se il numero di mancati riscontri nella cache è superiore al previsto, esaminare la logica dell'applicazione che consente di popolare ed eseguire le lettura dalla cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-163">If the number of cache misses is higher than expected, examine the application logic that populates and reads from the cache.</span></span> <span data-ttu-id="b162e-164">Se gli elementi vengono rimossi dalla cache a causa della pressione della memoria, si possono verificare alcuni mancati riscontri nella cache, ma una metrica migliore da monitorare relativamente alla pressione della memoria sarebbe `Used Memory` o `Evicted Keys`.</span><span class="sxs-lookup"><span data-stu-id="b162e-164">If items are being evicted from the cache due to memory pressure then there may be some cache misses, but a better metric to monitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span></span> |
| <span data-ttu-id="b162e-165">Client connessi</span><span class="sxs-lookup"><span data-stu-id="b162e-165">Connected Clients</span></span> |<span data-ttu-id="b162e-166">Il numero di connessioni client alla cache durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-166">The number of client connections to the cache during the specified reporting interval.</span></span> <span data-ttu-id="b162e-167">Questo `connected_clients` è associato al comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-167">This maps to `connected_clients` from the Redis INFO command.</span></span> <span data-ttu-id="b162e-168">Una volta raggiunto il [limite delle connessioni](cache-configure.md#default-redis-server-configuration) , i successivi tentativi di connessione alla cache avranno esito negativo.</span><span class="sxs-lookup"><span data-stu-id="b162e-168">Once the [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts to the cache will fail.</span></span> <span data-ttu-id="b162e-169">Si noti che anche in assenza di applicazione client attive, è possibile che siano presenti alcune istanze di client connesse a causa di processi e connessioni interni.</span><span class="sxs-lookup"><span data-stu-id="b162e-169">Note that even if there are no active client application, there may still be a few instances of connected clients due to internal processes and connections.</span></span> |
| <span data-ttu-id="b162e-170">Chiavi rimosse</span><span class="sxs-lookup"><span data-stu-id="b162e-170">Evicted Keys</span></span> |<span data-ttu-id="b162e-171">Il numero di elementi rimossi dalla cache durante l'intervallo di report specificato a causa del limite `maxmemory` .</span><span class="sxs-lookup"><span data-stu-id="b162e-171">The number of items evicted from the cache during the specified reporting interval due to the `maxmemory` limit.</span></span> <span data-ttu-id="b162e-172">Questo `evicted_keys` è associato al comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-172">This maps to `evicted_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="b162e-173">Chiavi scadute</span><span class="sxs-lookup"><span data-stu-id="b162e-173">Expired Keys</span></span> |<span data-ttu-id="b162e-174">Il numero di elementi nella cache durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-174">The number of items expired from the cache during the specified reporting interval.</span></span> <span data-ttu-id="b162e-175">Questo valore esegue il mapping a `expired_keys` dal comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-175">This value maps to `expired_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="b162e-176">Totale chiavi</span><span class="sxs-lookup"><span data-stu-id="b162e-176">Total Keys</span></span>  | <span data-ttu-id="b162e-177">Il numero massimo di chiavi nella cache durante l'ultimo periodo di report.</span><span class="sxs-lookup"><span data-stu-id="b162e-177">The maximum number of keys in the cache during the past reporting time period.</span></span> <span data-ttu-id="b162e-178">Questo `keyspace` è associato al comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-178">This maps to `keyspace` from the Redis INFO command.</span></span> <span data-ttu-id="b162e-179">A causa di una limitazione del sistema di metriche sottostante, per le cache con il clustering abilitato, il valore Totale chiavi restituisce il numero massimo di chiavi della partizione che includeva il numero massimo di chiavi durante l'intervallo di report.</span><span class="sxs-lookup"><span data-stu-id="b162e-179">Due to a limitation of the underlying metrics system, for caches with clustering enabled, Total Keys returns the maximum number of keys of the shard that had the maximum number of keys during the reporting interval.</span></span>  |
| <span data-ttu-id="b162e-180">Operazioni Get</span><span class="sxs-lookup"><span data-stu-id="b162e-180">Gets</span></span> |<span data-ttu-id="b162e-181">Il numero di operazioni Get nella cache durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-181">The number of get operations from the cache during the specified reporting interval.</span></span> <span data-ttu-id="b162e-182">Questo valore è la somma dei seguenti valori del comando INFO di Redis (tutto): `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit` e `cmdstat_getrange`, ed è equivalente alla somma dei riscontri e dei mancati riscontri nella cache durante l'intervallo di report.</span><span class="sxs-lookup"><span data-stu-id="b162e-182">This value is the sum of the following values from the Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent to the sum of cache hits and misses during the reporting interval.</span></span> |
| <span data-ttu-id="b162e-183">Carico server Redis</span><span class="sxs-lookup"><span data-stu-id="b162e-183">Redis Server Load</span></span> |<span data-ttu-id="b162e-184">La percentuale di cicli in cui il server di Redis è impegnato nell’elaborare e non inattivo in attesa di messaggi.</span><span class="sxs-lookup"><span data-stu-id="b162e-184">The percentage of cycles in which the Redis server is busy processing and not waiting idle for messages.</span></span> <span data-ttu-id="b162e-185">Se il contatore raggiunge 100 significa che il server di Redis ha raggiunto un limite massimo delle prestazioni e la CPU non può elaborare il lavoro più velocemente.</span><span class="sxs-lookup"><span data-stu-id="b162e-185">If this counter reaches 100 it means the Redis server has hit a performance ceiling and the CPU can't process work any faster.</span></span> <span data-ttu-id="b162e-186">Se si osserva un elevato carico del server Redis si vedranno le eccezioni di timeout nel client.</span><span class="sxs-lookup"><span data-stu-id="b162e-186">If you are seeing high Redis Server Load then you will see timeout exceptions in the client.</span></span> <span data-ttu-id="b162e-187">In tal caso, è necessario prendere in considerazione il dimensionamento o il partizionamento dei dati in più cache.</span><span class="sxs-lookup"><span data-stu-id="b162e-187">In this case you should consider scaling up or partitioning your data into multiple caches.</span></span> |
| <span data-ttu-id="b162e-188">Operazioni Set</span><span class="sxs-lookup"><span data-stu-id="b162e-188">Sets</span></span> |<span data-ttu-id="b162e-189">Il numero di operazioni Set nella cache durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-189">The number of set operations to the cache during the specified reporting interval.</span></span> <span data-ttu-id="b162e-190">Questo valore è la somma dei seguenti valori del comando INFO di Redis (tutto): `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange` e `cmdstat_setnx`.</span><span class="sxs-lookup"><span data-stu-id="b162e-190">This value is the sum of the following values from the Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span></span> |
| <span data-ttu-id="b162e-191">Totale operazioni</span><span class="sxs-lookup"><span data-stu-id="b162e-191">Total Operations</span></span> |<span data-ttu-id="b162e-192">Numero totale di comandi elaborati dal server di cache durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-192">The total number of commands processed by the cache server during the specified reporting interval.</span></span> <span data-ttu-id="b162e-193">Questo valore esegue il mapping a `total_commands_processed` dal comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-193">This value maps to `total_commands_processed` from the Redis INFO command.</span></span> <span data-ttu-id="b162e-194">Si noti che quando Cache Redis di Azure viene utilizzata esclusivamente per la pubblicazione o la sottoscrizione non saranno disponibili metriche per `Cache Hits`, `Cache Misses`, `Gets` o `Sets`, ma saranno disponibili metriche `Total Operations` che riflettono l'utilizzo della cache per le operazioni di pubblicazione/sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="b162e-194">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect the cache usage for pub/sub operations.</span></span> |
| <span data-ttu-id="b162e-195">Memoria utilizzata</span><span class="sxs-lookup"><span data-stu-id="b162e-195">Used Memory</span></span> |<span data-ttu-id="b162e-196">La quantità di memoria cache utilizzata per le coppie chiave/valore nella cache in MB durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-196">The amount of cache memory used for key/value pairs in the cache in MB during the specified reporting interval.</span></span> <span data-ttu-id="b162e-197">Questo valore esegue il mapping a `used_memory` dal comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-197">This value maps to `used_memory` from the Redis INFO command.</span></span> <span data-ttu-id="b162e-198">Non include i metadati o la frammentazione.</span><span class="sxs-lookup"><span data-stu-id="b162e-198">This does not include metadata or fragmentation.</span></span> |
| <span data-ttu-id="b162e-199">Memoria utilizzata RSS</span><span class="sxs-lookup"><span data-stu-id="b162e-199">Used Memory RSS</span></span> |<span data-ttu-id="b162e-200">La quantità di memoria cache utilizzata in MB durante l'intervallo di report specificato, comprese la frammentazione e i metadati.</span><span class="sxs-lookup"><span data-stu-id="b162e-200">The amount of cache memory used in MB during the specified reporting interval, including fragmentation and metadata.</span></span> <span data-ttu-id="b162e-201">Questo valore esegue il mapping a `used_memory_rss` dal comando INFO di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-201">This value maps to `used_memory_rss` from the Redis INFO command.</span></span> |
| <span data-ttu-id="b162e-202">CPU</span><span class="sxs-lookup"><span data-stu-id="b162e-202">CPU</span></span> |<span data-ttu-id="b162e-203">L'utilizzo della CPU del server Cache Redis di Azure come percentuale durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-203">The CPU utilization of the Azure Redis Cache server as a percentage during the specified reporting interval.</span></span> <span data-ttu-id="b162e-204">Questo valore è associato al contatore delle prestazioni `\Processor(_Total)\% Processor Time` del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="b162e-204">This value maps to the operating system `\Processor(_Total)\% Processor Time` performance counter.</span></span> |
| <span data-ttu-id="b162e-205">Lettura da cache</span><span class="sxs-lookup"><span data-stu-id="b162e-205">Cache Read</span></span> |<span data-ttu-id="b162e-206">La quantità di dati letti dalla cache in megabyte al secondo (MB/s) durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-206">The amount of data read from the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="b162e-207">Questo valore è derivato dalle schede di interfaccia di rete che supportano la macchina virtuale che ospita la cache, e non è specifico di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-207">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="b162e-208">**Questo valore corrisponde alla larghezza di banda della rete usata da questa cache. Se si desidera impostare avvisi per i limiti della larghezza di banda della rete lato server, usare questo contatore `Cache Read`. Per i limiti della larghezza di banda osservati nei diversi piani tariffari e nelle varie dimensioni della cache, vedere [questa tabella](cache-faq.md#cache-performance).**</span><span class="sxs-lookup"><span data-stu-id="b162e-208">**This value corresponds to the network bandwidth used by this cache. If you want to set up alerts for server side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for the observed bandwidth limits for various cache pricing tiers and sizes.**</span></span> |
| <span data-ttu-id="b162e-209">Scrittura nella cache</span><span class="sxs-lookup"><span data-stu-id="b162e-209">Cache Write</span></span> |<span data-ttu-id="b162e-210">La quantità di dati scritti nella cache in megabyte al secondo (MB/s) durante l'intervallo di report specificato.</span><span class="sxs-lookup"><span data-stu-id="b162e-210">The amount of data written to the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="b162e-211">Questo valore è derivato dalle schede di interfaccia di rete che supportano la macchina virtuale che ospita la cache, e non è specifico di Redis.</span><span class="sxs-lookup"><span data-stu-id="b162e-211">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="b162e-212">Questo valore corrisponde alla larghezza di banda della rete relativa ai dati inviati alla cache dal client.</span><span class="sxs-lookup"><span data-stu-id="b162e-212">This value corresponds to the network bandwidth of data sent to the cache from the client.</span></span> |

<a name="operations-and-alerts"></a>
## <a name="alerts"></a><span data-ttu-id="b162e-213">Avvisi</span><span class="sxs-lookup"><span data-stu-id="b162e-213">Alerts</span></span>
<span data-ttu-id="b162e-214">È possibile configurare un avviso basato sulle metriche e sui log attività.</span><span class="sxs-lookup"><span data-stu-id="b162e-214">You can configure to receive alerts based on metrics and activity logs.</span></span> <span data-ttu-id="b162e-215">Monitoraggio di Azure consente di configurare un avviso in modo che, se attivato, esegua queste operazioni:</span><span class="sxs-lookup"><span data-stu-id="b162e-215">Azure Monitor allows you to configure an alert to do the following when it triggers:</span></span>

* <span data-ttu-id="b162e-216">Inviare una notifica via posta elettronica</span><span class="sxs-lookup"><span data-stu-id="b162e-216">Send an email notification</span></span>
* <span data-ttu-id="b162e-217">Chiamare un webhook</span><span class="sxs-lookup"><span data-stu-id="b162e-217">Call a webhook</span></span>
* <span data-ttu-id="b162e-218">Richiamare un'app per la logica di Azure</span><span class="sxs-lookup"><span data-stu-id="b162e-218">Invoke an Azure Logic App</span></span>

<span data-ttu-id="b162e-219">Per configurare le regole di avviso per la cache, scegliere **Regole di avviso** dal menu **Risorsa**.</span><span class="sxs-lookup"><span data-stu-id="b162e-219">To configure Alert rules for your cache, click **Alert rules** from the **Resource menu**.</span></span>

![Monitoraggio](./media/cache-how-to-monitor/redis-cache-monitoring.png)

<span data-ttu-id="b162e-221">Per altre informazioni sulla configurazione e sull'uso degli avvisi, vedere [Panoramica degli avvisi](../monitoring-and-diagnostics/insights-alerts-portal.md).</span><span class="sxs-lookup"><span data-stu-id="b162e-221">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="b162e-222">Log attività</span><span class="sxs-lookup"><span data-stu-id="b162e-222">Activity Logs</span></span>
<span data-ttu-id="b162e-223">I log attività offrono informazioni dettagliate sulle operazioni eseguite nelle istanze della Cache Redis di Azure.</span><span class="sxs-lookup"><span data-stu-id="b162e-223">Activity logs provide insight into the operations that were performed on your Azure Redis Cache instances.</span></span> <span data-ttu-id="b162e-224">In precedenza erano noti come "log di controllo" o "log operativi".</span><span class="sxs-lookup"><span data-stu-id="b162e-224">It was previously known as "audit logs" or "operational logs".</span></span> <span data-ttu-id="b162e-225">L'uso del log attività consente di acquisire informazioni dettagliate su qualsiasi operazione di scrittura (PUT, POST, DELETE) eseguita sulle istanze della Cache Redis di Azure.</span><span class="sxs-lookup"><span data-stu-id="b162e-225">Using activity logs, you can determine the "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span></span> 

> [!NOTE]
> <span data-ttu-id="b162e-226">I log attività non includono le operazioni di lettura (GET).</span><span class="sxs-lookup"><span data-stu-id="b162e-226">Activity logs do not include read (GET) operations.</span></span>
>
>

<span data-ttu-id="b162e-227">Per visualizzare i log attività per la cache, scegliere **Log attività** dal menu **Risorsa**.</span><span class="sxs-lookup"><span data-stu-id="b162e-227">To view activity logs for your cache, click **Activity logs** from the **Resource menu**.</span></span>

<span data-ttu-id="b162e-228">Per altre informazioni sui log attività, vedere [Panoramica del log attività di Azure](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span><span class="sxs-lookup"><span data-stu-id="b162e-228">For more information about Activity logs, see [Overview of the Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>











