---
title: aaaCreate un ambiente del servizio App di Azure tramite un modello di gestione risorse
description: Viene illustrato come toocreate un ambiente esterno o servizio di bilanciamento del carico interno Azure App usando un modello di gestione risorse
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 6eb7d43d-e820-4a47-818c-80ff7d3b6f8e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: c8aeedee675a6e931169b725ee916cc7fa8f762f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-ase-by-using-an-azure-resource-manager-template"></a><span data-ttu-id="49ce2-103">Creare un ambiente del servizio app usando un modello di Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="49ce2-103">Create an ASE by using an Azure Resource Manager template</span></span>

## <a name="overview"></a><span data-ttu-id="49ce2-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="49ce2-104">Overview</span></span>
<span data-ttu-id="49ce2-105">È possibile creare gli ambienti del servizio app di Azure con un endpoint accessibile da Internet o un endpoint di un indirizzo interno di una rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="49ce2-105">Azure App Service environments (ASEs) can be created with an internet-accessible endpoint or an endpoint on an internal address in an Azure virtual network (VNet).</span></span> <span data-ttu-id="49ce2-106">Quando viene creato con un endpoint interno, tale endpoint dispone di un componente Azure denominato servizio di bilanciamento del carico interno (ILB).</span><span class="sxs-lookup"><span data-stu-id="49ce2-106">When created with an internal endpoint, that endpoint is provided by an Azure component called an internal load balancer (ILB).</span></span> <span data-ttu-id="49ce2-107">Hello ASE su un indirizzo IP interno viene chiamato un ASE di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-107">hello ASE on an internal IP address is called an ILB ASE.</span></span> <span data-ttu-id="49ce2-108">Hello ASE con un endpoint pubblico viene chiamato un ASE esterno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-108">hello ASE with a public endpoint is called an External ASE.</span></span> 

<span data-ttu-id="49ce2-109">È possibile creare un ASE utilizzando hello portale di Azure o un modello di gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="49ce2-109">An ASE can be created by using hello Azure portal or an Azure Resource Manager template.</span></span> <span data-ttu-id="49ce2-110">In questo articolo vengono illustrati i passaggi di hello e la sintassi è necessario toocreate un ASE esterno o bilanciamento del carico interno ASE con modelli di gestione risorse.</span><span class="sxs-lookup"><span data-stu-id="49ce2-110">This article walks through hello steps and syntax you need toocreate an External ASE or ILB ASE with Resource Manager templates.</span></span> <span data-ttu-id="49ce2-111">toolearn toocreate un ASE in hello portale di Azure, vedere [rendere un ASE esterno] [ MakeExternalASE] o [rendere ASE un bilanciamento del carico interno][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="49ce2-111">toolearn how toocreate an ASE in hello Azure portal, see [Make an External ASE][MakeExternalASE] or [Make an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="49ce2-112">Quando si crea un ASE in hello portale di Azure, è possibile creare la rete virtuale in hello stesso ora oppure scegliere un toodeploy preesistenti di rete virtuale in.</span><span class="sxs-lookup"><span data-stu-id="49ce2-112">When you create an ASE in hello Azure portal, you can create your VNet at hello same time or choose a preexisting VNet toodeploy into.</span></span> <span data-ttu-id="49ce2-113">Quando si crea un modello, è necessario iniziare con:</span><span class="sxs-lookup"><span data-stu-id="49ce2-113">When you create an ASE from a template, you must start with:</span></span> 

* <span data-ttu-id="49ce2-114">Una rete virtuale di Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="49ce2-114">A Resource Manager VNet.</span></span>
* <span data-ttu-id="49ce2-115">una subnet in tale rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="49ce2-115">A subnet in that VNet.</span></span> <span data-ttu-id="49ce2-116">Si consiglia una dimensione subnet ASE `/25` con conto della crescita futura tooaccomodate gli indirizzi a 128.</span><span class="sxs-lookup"><span data-stu-id="49ce2-116">We recommend an ASE subnet size of `/25` with 128 addresses tooaccomodate future growth.</span></span> <span data-ttu-id="49ce2-117">Dopo la creazione di ASE hello, è possibile modificare le dimensioni di hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-117">After hello ASE is created, you can't change hello size.</span></span>
* <span data-ttu-id="49ce2-118">ID di risorsa Hello da una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="49ce2-118">hello resource ID from your VNet.</span></span> <span data-ttu-id="49ce2-119">È possibile ottenere queste informazioni dal portale di Azure hello in proprietà di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="49ce2-119">You can get this information from hello Azure portal under your virtual network properties.</span></span>
* <span data-ttu-id="49ce2-120">sottoscrizione di Hello da toodeploy in.</span><span class="sxs-lookup"><span data-stu-id="49ce2-120">hello subscription you want toodeploy into.</span></span>
* <span data-ttu-id="49ce2-121">Hello posizione toodeploy in.</span><span class="sxs-lookup"><span data-stu-id="49ce2-121">hello location you want toodeploy into.</span></span>

<span data-ttu-id="49ce2-122">tooautomate la creazione di base:</span><span class="sxs-lookup"><span data-stu-id="49ce2-122">tooautomate your ASE creation:</span></span>

1. <span data-ttu-id="49ce2-123">Creare hello ASE da un modello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-123">Create hello ASE from a template.</span></span> <span data-ttu-id="49ce2-124">Se si crea un ambiente del servizio app esterno, questo è l'ultimo passaggio.</span><span class="sxs-lookup"><span data-stu-id="49ce2-124">If you create an External ASE, you're finished after this step.</span></span> <span data-ttu-id="49ce2-125">Se si crea un ASE ILB, esistono alcune altre toodo di operazioni.</span><span class="sxs-lookup"><span data-stu-id="49ce2-125">If you create an ILB ASE, there are a few more things toodo.</span></span>

2. <span data-ttu-id="49ce2-126">Dopo avere creato l'ambiente del servizio app con bilanciamento del carico interno, viene caricato un certificato SSL corrispondente al dominio dell'ambiente del servizio app con bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-126">After your ILB ASE is created, an SSL certificate that matches your ILB ASE domain is uploaded.</span></span>

3. <span data-ttu-id="49ce2-127">Hello caricato certificato SSL sia assegnato toohello ASE di bilanciamento del carico interno come il proprio certificato SSL "default".</span><span class="sxs-lookup"><span data-stu-id="49ce2-127">hello uploaded SSL certificate is assigned toohello ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="49ce2-128">Questo certificato viene usato per tooapps traffico SSL su hello ASE ILB quando usano hello comuni dominio radice ASE toohello assegnato (ad esempio, https://someapp.mycustomrootcomain.com).</span><span class="sxs-lookup"><span data-stu-id="49ce2-128">This certificate is used for SSL traffic tooapps on hello ILB ASE when they use hello common root domain that's assigned toohello ASE (for example, https://someapp.mycustomrootcomain.com).</span></span>


## <a name="create-hello-ase"></a><span data-ttu-id="49ce2-129">Creare hello ASE</span><span class="sxs-lookup"><span data-stu-id="49ce2-129">Create hello ASE</span></span>
<span data-ttu-id="49ce2-130">Un modello di Resource Manager che crea un ambiente del servizio app e il file dei parametri associati sono disponibili [in un esempio][quickstartasev2create] in GitHub.</span><span class="sxs-lookup"><span data-stu-id="49ce2-130">A Resource Manager template that creates an ASE and its associated parameters file is available [in an example][quickstartasev2create] on GitHub.</span></span>

<span data-ttu-id="49ce2-131">Se si desidera toomake ASE un bilanciamento del carico interno, usare questi modelli di gestione risorse [esempi][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="49ce2-131">If you want toomake an ILB ASE, use these Resource Manager template [examples][quickstartilbasecreate].</span></span> <span data-ttu-id="49ce2-132">Questi servizi di ristorazione toothat caso di utilizzo.</span><span class="sxs-lookup"><span data-stu-id="49ce2-132">They cater toothat use case.</span></span> <span data-ttu-id="49ce2-133">La maggior parte dei parametri di hello in hello *azuredeploy.parameters.json* file sono comuni toohello la creazione di bilanciamento del carico interno ASEs e ASEs esterno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-133">Most of hello parameters in hello *azuredeploy.parameters.json* file are common toohello creation of ILB ASEs and External ASEs.</span></span> <span data-ttu-id="49ce2-134">Hello elenco riportato di seguito chiama un'attenzione particolare i parametri out o che sono univoci, quando si crea un ASE di bilanciamento del carico interno:</span><span class="sxs-lookup"><span data-stu-id="49ce2-134">hello following list calls out parameters of special note, or that are unique, when you create an ILB ASE:</span></span>

* <span data-ttu-id="49ce2-135">*interalLoadBalancingMode*: nella maggior parte dei casi, impostare questo too3, ovvero sia il traffico sulle porte 80/443 HTTP/HTTPS, e le porte canale dati di controllo/hello resta in attesa del servizio FTP hello tooby su hello ASE, sarà associato tooan allocato al bilanciamento del carico interno rete virtuale indirizzo interno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-135">*interalLoadBalancingMode*: In most cases, set this too3, which means both HTTP/HTTPS traffic on ports 80/443, and hello control/data channel ports listened tooby hello FTP service on hello ASE, will be bound tooan ILB-allocated virtual network internal address.</span></span> <span data-ttu-id="49ce2-136">Se questa proprietà è impostata too2, solo hello FTP relativi al servizio porte (canali di controllo e i dati) sono indirizzi di bilanciamento del carico interno tooan associato.</span><span class="sxs-lookup"><span data-stu-id="49ce2-136">If this property is set too2, only hello FTP service-related ports (both control and data channels) are bound tooan ILB address.</span></span> <span data-ttu-id="49ce2-137">il traffico HTTP/HTTPS Hello rimanga nel VIP pubblico hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-137">hello HTTP/HTTPS traffic remains on hello public VIP.</span></span>
* <span data-ttu-id="49ce2-138">*suffisso DNS*: questo parametro definisce hello predefinito dominio radice ASE toohello assegnato.</span><span class="sxs-lookup"><span data-stu-id="49ce2-138">*dnsSuffix*: This parameter defines hello default root domain that's assigned toohello ASE.</span></span> <span data-ttu-id="49ce2-139">Nella variante pubblica di hello del servizio App di Azure, dominio radice di hello predefinito per tutte le app web è *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="49ce2-139">In hello public variation of Azure App Service, hello default root domain for all web apps is *azurewebsites.net*.</span></span> <span data-ttu-id="49ce2-140">Poiché un ASE di bilanciamento del carico interno è la rete virtuale del cliente tooa interno, può non essere dominio di radice del servizio di rilevamento toouse hello pubblico predefinito.</span><span class="sxs-lookup"><span data-stu-id="49ce2-140">Because an ILB ASE is internal tooa customer's virtual network, it doesn't make sense toouse hello public service's default root domain.</span></span> <span data-ttu-id="49ce2-141">Un ambiente del servizio app con servizio di bilanciamento del carico interno deve invece avere un dominio radice predefinito appropriato per la rete virtuale interna dell'azienda.</span><span class="sxs-lookup"><span data-stu-id="49ce2-141">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span> <span data-ttu-id="49ce2-142">Ad esempio, Contoso Corporation potrebbe utilizzare un dominio radice predefinito di *contoso.com interna* per le app che sono previsti toobe risolvibile e accessibile solo all'interno di rete virtuale di Contoso.</span><span class="sxs-lookup"><span data-stu-id="49ce2-142">For example, Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended toobe resolvable and accessible only within Contoso's virtual network.</span></span> 
* <span data-ttu-id="49ce2-143">*ipSslAddressCount*: questo parametro viene impostato automaticamente tooa valore pari a 0 in hello *azuredeploy.json* file perché il bilanciamento del carico interno ASEs avere solo un singolo indirizzo di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-143">*ipSslAddressCount*: This parameter automatically defaults tooa value of 0 in hello *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span> <span data-ttu-id="49ce2-144">Non esistono indirizzi IP SSL per un ambiente del servizio app con bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-144">There are no explicit IP-SSL addresses for an ILB ASE.</span></span> <span data-ttu-id="49ce2-145">Di conseguenza, è necessario impostare hello pool di indirizzi IP SSL per un bilanciamento del carico interno di ASE toozero.</span><span class="sxs-lookup"><span data-stu-id="49ce2-145">Hence, hello IP-SSL address pool for an ILB ASE must be set toozero.</span></span> <span data-ttu-id="49ce2-146">In caso contrario, si verifica un errore di provisioning.</span><span class="sxs-lookup"><span data-stu-id="49ce2-146">Otherwise, a provisioning error occurs.</span></span> 

<span data-ttu-id="49ce2-147">Dopo aver hello *azuredeploy.parameters.json* file viene compilato, creare hello ASE utilizzando frammento di codice hello PowerShell.</span><span class="sxs-lookup"><span data-stu-id="49ce2-147">After hello *azuredeploy.parameters.json* file is filled in, create hello ASE by using hello PowerShell code snippet.</span></span> <span data-ttu-id="49ce2-148">Modificare hello percorsi toomatch hello Gestione risorse file modello percorsi dei file nel computer.</span><span class="sxs-lookup"><span data-stu-id="49ce2-148">Change hello file paths toomatch hello Resource Manager template-file locations on your machine.</span></span> <span data-ttu-id="49ce2-149">Ricorda toosupply i propri valori per nome della distribuzione di gestione delle risorse hello e nome del gruppo di risorse hello:</span><span class="sxs-lookup"><span data-stu-id="49ce2-149">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="49ce2-150">Richiede circa un'ora per hello ASE toobe creato.</span><span class="sxs-lookup"><span data-stu-id="49ce2-150">It takes about an hour for hello ASE toobe created.</span></span> <span data-ttu-id="49ce2-151">Quindi ASE hello viene visualizzato nel portale di hello in elenco hello ASEs per sottoscrizione hello che ha attivato la distribuzione di hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-151">Then hello ASE shows up in hello portal in hello list of ASEs for hello subscription that triggered hello deployment.</span></span>

## <a name="upload-and-configure-hello-default-ssl-certificate"></a><span data-ttu-id="49ce2-152">Caricare e configurare il certificato SSL di "predefinita" hello</span><span class="sxs-lookup"><span data-stu-id="49ce2-152">Upload and configure hello "default" SSL certificate</span></span>
<span data-ttu-id="49ce2-153">Un certificato SSL deve essere associato a ASE hello come hello "default" certificato SSL usato tooestablish SSL connessioni tooapps.</span><span class="sxs-lookup"><span data-stu-id="49ce2-153">An SSL certificate must be associated with hello ASE as hello "default" SSL certificate that's used tooestablish SSL connections tooapps.</span></span> <span data-ttu-id="49ce2-154">Se è il suffisso DNS predefinito hello del ASE *contoso.com interna*, toohttps://some-random-app.internal-contoso.com una connessione richiede un certificato SSL valido per **.internal contoso.com* .</span><span class="sxs-lookup"><span data-stu-id="49ce2-154">If hello ASE's default DNS suffix is *internal-contoso.com*, a connection toohttps://some-random-app.internal-contoso.com requires an SSL certificate that's valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="49ce2-155">Ottenere un certificato SSL valido usando le autorità di certificazione interne, acquistando un certificato da un'autorità di certificazione esterna o usando un certificato autofirmato.</span><span class="sxs-lookup"><span data-stu-id="49ce2-155">Obtain a valid SSL certificate by using internal certificate authorities, purchasing a certificate from an external issuer, or using a self-signed certificate.</span></span> <span data-ttu-id="49ce2-156">Indipendentemente dall'origine hello del certificato SSL di hello, hello gli attributi di certificato seguenti deve essere configurato correttamente:</span><span class="sxs-lookup"><span data-stu-id="49ce2-156">Regardless of hello source of hello SSL certificate, hello following certificate attributes must be configured properly:</span></span>

* <span data-ttu-id="49ce2-157">**Oggetto**: questo attributo deve essere impostato troppo **.your-radice-dominio-here.com*.</span><span class="sxs-lookup"><span data-stu-id="49ce2-157">**Subject**: This attribute must be set too**.your-root-domain-here.com*.</span></span>
* <span data-ttu-id="49ce2-158">**Nome alternativo soggetto**: questo attributo deve includere sia **.your-root-domain-here.com* che **.scm.your-root-domain-here.com*. Toohello connessioni SSL sito SCM/Kudu associata a ciascuna applicazione usa un indirizzo del modulo hello *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="49ce2-158">**Subject Alternative Name**: This attribute must include both **.your-root-domain-here.com* and **.scm.your-root-domain-here.com*. SSL connections toohello SCM/Kudu site associated with each app use an address of hello form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="49ce2-159">Dopo aver ottenuto un certificato SSL valido sono necessari altri due passaggi preliminari.</span><span class="sxs-lookup"><span data-stu-id="49ce2-159">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span> <span data-ttu-id="49ce2-160">Converti/Salva certificato SSL hello come file con estensione pfx.</span><span class="sxs-lookup"><span data-stu-id="49ce2-160">Convert/save hello SSL certificate as a .pfx file.</span></span> <span data-ttu-id="49ce2-161">Tenere presente tale file con estensione pfx hello deve includere tutti intermedi e i certificati radice.</span><span class="sxs-lookup"><span data-stu-id="49ce2-161">Remember that hello .pfx file must include all intermediate and root certificates.</span></span> <span data-ttu-id="49ce2-162">Proteggerlo con una password.</span><span class="sxs-lookup"><span data-stu-id="49ce2-162">Secure it with a password.</span></span>

<span data-ttu-id="49ce2-163">file con estensione pfx Hello deve toobe convertito in una stringa base64 perché il caricamento del certificato SSL hello utilizzando un modello di gestione risorse.</span><span class="sxs-lookup"><span data-stu-id="49ce2-163">hello .pfx file needs toobe converted into a base64 string because hello SSL certificate is uploaded by using a Resource Manager template.</span></span> <span data-ttu-id="49ce2-164">Poiché i modelli di gestione risorse sono file di testo, file con estensione pfx hello deve essere convertite in una stringa base 64.</span><span class="sxs-lookup"><span data-stu-id="49ce2-164">Because Resource Manager templates are text files, hello .pfx file must be converted into a base64 string.</span></span> <span data-ttu-id="49ce2-165">In questo modo può essere incluso come un parametro di modello hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-165">This way it can be included as a parameter of hello template.</span></span>

<span data-ttu-id="49ce2-166">Utilizzare hello seguente frammento di codice PowerShell:</span><span class="sxs-lookup"><span data-stu-id="49ce2-166">Use hello following PowerShell code snippet to:</span></span>

* <span data-ttu-id="49ce2-167">Generare un certificato autofirmato.</span><span class="sxs-lookup"><span data-stu-id="49ce2-167">Generate a self-signed certificate.</span></span>
* <span data-ttu-id="49ce2-168">Esportare il certificato di hello come file con estensione pfx.</span><span class="sxs-lookup"><span data-stu-id="49ce2-168">Export hello certificate as a .pfx file.</span></span>
* <span data-ttu-id="49ce2-169">Convertire i file con estensione pfx hello in una stringa con codifica base64.</span><span class="sxs-lookup"><span data-stu-id="49ce2-169">Convert hello .pfx file into a base64-encoded string.</span></span>
* <span data-ttu-id="49ce2-170">Salvare file separato tooa stringa con codifica base64 di hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-170">Save hello base64-encoded string tooa separate file.</span></span> 

<span data-ttu-id="49ce2-171">Questo codice di PowerShell per la codifica base64 è stato adattato dall'hello [script di PowerShell blog][examplebase64encoding]:</span><span class="sxs-lookup"><span data-stu-id="49ce2-171">This PowerShell code for base64 encoding was adapted from hello [PowerShell scripts blog][examplebase64encoding]:</span></span>

        $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

        $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
        $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

        $fileName = "exportedcert.pfx"
        Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

        $fileContentBytes = get-content -encoding byte $fileName
        $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
        $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="49ce2-172">Dopo certificato SSL hello è stato generato e convertita una stringa con codifica base64 tooa, usare modello di gestione risorse di esempio hello [certificato SSL predefinito di hello configura] [ quickstartconfiguressl] su GitHub.</span><span class="sxs-lookup"><span data-stu-id="49ce2-172">After hello SSL certificate is successfully generated and converted tooa base64-encoded string, use hello example Resource Manager template [Configure hello default SSL certificate][quickstartconfiguressl] on GitHub.</span></span> 

<span data-ttu-id="49ce2-173">i parametri in hello Hello *azuredeploy.parameters.json* file sono elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="49ce2-173">hello parameters in hello *azuredeploy.parameters.json* file are listed here:</span></span>

* <span data-ttu-id="49ce2-174">*appServiceEnvironmentName*: nome hello di hello ASE ILB da configurare.</span><span class="sxs-lookup"><span data-stu-id="49ce2-174">*appServiceEnvironmentName*: hello name of hello ILB ASE being configured.</span></span>
* <span data-ttu-id="49ce2-175">*existingAseLocation*: stringa di testo contenente hello regione di Azure in cui hello ASE di bilanciamento del carico interno è stato distribuito.</span><span class="sxs-lookup"><span data-stu-id="49ce2-175">*existingAseLocation*: Text string containing hello Azure region where hello ILB ASE was deployed.</span></span>  <span data-ttu-id="49ce2-176">Ad esempio "Stati Uniti centro-meridionali".</span><span class="sxs-lookup"><span data-stu-id="49ce2-176">For example: "South Central US".</span></span>
* <span data-ttu-id="49ce2-177">*pfxBlobString*: hello rappresentazione di stringa codificata in formato based64 di file con estensione pfx hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-177">*pfxBlobString*: hello based64-encoded string representation of hello .pfx file.</span></span> <span data-ttu-id="49ce2-178">Usare il frammento di codice hello illustrato in precedenza e copiare stringa hello contenuto in "exportedcert.pfx.b64".</span><span class="sxs-lookup"><span data-stu-id="49ce2-178">Use hello code snippet shown earlier and copy hello string contained in "exportedcert.pfx.b64".</span></span> <span data-ttu-id="49ce2-179">Incollarlo come valore di hello di hello *pfxBlobString* attributo.</span><span class="sxs-lookup"><span data-stu-id="49ce2-179">Paste it in as hello value of hello *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="49ce2-180">*password*: file con estensione pfx hello toosecure hello password utilizzata.</span><span class="sxs-lookup"><span data-stu-id="49ce2-180">*password*: hello password used toosecure hello .pfx file.</span></span>
* <span data-ttu-id="49ce2-181">*certificateThumbprint*: hello identificazione personale del certificato.</span><span class="sxs-lookup"><span data-stu-id="49ce2-181">*certificateThumbprint*: hello certificate's thumbprint.</span></span> <span data-ttu-id="49ce2-182">Se si recupera il valore da PowerShell (ad esempio, *$certificate. Identificazione personale* da hello frammento di codice precedente), è possibile utilizzare hello valore.</span><span class="sxs-lookup"><span data-stu-id="49ce2-182">If you retrieve this value from PowerShell (for example, *$certificate.Thumbprint* from hello earlier code snippet), you can use hello value as is.</span></span> <span data-ttu-id="49ce2-183">Se si copia il valore di hello dalla finestra di dialogo certificato Windows hello, tenere presente toostrip out spazi hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-183">If you copy hello value from hello Windows certificate dialog box, remember toostrip out hello extraneous spaces.</span></span> <span data-ttu-id="49ce2-184">Hello *certificateThumbprint* dovrebbe essere simile a AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span><span class="sxs-lookup"><span data-stu-id="49ce2-184">hello *certificateThumbprint* should look something like  AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span></span>
* <span data-ttu-id="49ce2-185">*Nomecertificato*: un identificatore di stringa di propria scelta utilizzato certificato hello tooidentity.</span><span class="sxs-lookup"><span data-stu-id="49ce2-185">*certificateName*: A friendly string identifier of your own choosing used tooidentity hello certificate.</span></span> <span data-ttu-id="49ce2-186">nome di Hello viene utilizzato come parte di gestione risorse identificatore hello per hello *Microsoft.Web/certificates* entità che rappresenta i certificati SSL hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-186">hello name is used as part of hello unique Resource Manager identifier for hello *Microsoft.Web/certificates* entity that represents hello SSL certificate.</span></span> <span data-ttu-id="49ce2-187">nome Hello *deve* terminare con hello successivo suffisso: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="49ce2-187">hello name *must* end with hello following suffix: \_yourASENameHere_InternalLoadBalancingASE.</span></span> <span data-ttu-id="49ce2-188">Hello portale di Azure Usa questo suffisso, come un indicatore che hello certificato è usato toosecure un ASE abilitata al bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="49ce2-188">hello Azure portal uses this suffix as an indicator that hello certificate is used toosecure an ILB-enabled ASE.</span></span>

<span data-ttu-id="49ce2-189">Un esempio abbreviato di *azuredeploy.parameters.json* è illustrato qui:</span><span class="sxs-lookup"><span data-stu-id="49ce2-189">An abbreviated example of *azuredeploy.parameters.json* is shown here:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="49ce2-190">Dopo aver hello *azuredeploy.parameters.json* file viene compilato, configurare il certificato SSL predefinito di hello utilizzando frammento di codice hello PowerShell.</span><span class="sxs-lookup"><span data-stu-id="49ce2-190">After hello *azuredeploy.parameters.json* file is filled in, configure hello default SSL certificate by using hello PowerShell code snippet.</span></span> <span data-ttu-id="49ce2-191">Modificare hello toomatch di percorsi di file in cui si trovano i file modello di gestione risorse di hello nel computer.</span><span class="sxs-lookup"><span data-stu-id="49ce2-191">Change hello file paths toomatch where hello Resource Manager template files are located on your machine.</span></span> <span data-ttu-id="49ce2-192">Ricorda toosupply i propri valori per nome della distribuzione di gestione delle risorse hello e nome del gruppo di risorse hello:</span><span class="sxs-lookup"><span data-stu-id="49ce2-192">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

     $templatePath="PATH\azuredeploy.json"
     $parameterPath="PATH\azuredeploy.parameters.json"

     New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="49ce2-193">Sono necessari circa 40 minuti per modifica hello tooapply front-end di base.</span><span class="sxs-lookup"><span data-stu-id="49ce2-193">It takes roughly 40 minutes per ASE front end tooapply hello change.</span></span> <span data-ttu-id="49ce2-194">Ad esempio, per ASE con dimensioni predefinite che utilizza due front-end, hello modello ha attorno un'ora e toocomplete di 20 minuti.</span><span class="sxs-lookup"><span data-stu-id="49ce2-194">For example, for a default-sized ASE that uses two front ends, hello template takes around one hour and 20 minutes toocomplete.</span></span> <span data-ttu-id="49ce2-195">Durante l'esecuzione di modello hello hello ASE non può essere scalato.</span><span class="sxs-lookup"><span data-stu-id="49ce2-195">While hello template is running, hello ASE can't scale.</span></span>  

<span data-ttu-id="49ce2-196">Al termine del modello di hello, App in hello ASE di bilanciamento del carico interno sono accessibili tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="49ce2-196">After hello template finishes, apps on hello ILB ASE can be accessed over HTTPS.</span></span> <span data-ttu-id="49ce2-197">connessioni Hello sono protette mediante il certificato SSL predefinito di hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-197">hello connections are secured by using hello default SSL certificate.</span></span> <span data-ttu-id="49ce2-198">certificato SSL di Hello predefinito viene utilizzato quando l'App in hello ASE di bilanciamento del carico interno vengono indirizzate mediante una combinazione del nome dell'applicazione hello e nome host predefinito di hello.</span><span class="sxs-lookup"><span data-stu-id="49ce2-198">hello default SSL certificate is used when apps on hello ILB ASE are addressed by using a combination of hello application name plus hello default host name.</span></span> <span data-ttu-id="49ce2-199">Ad esempio, https://mycustomapp.internal-contoso.com utilizza certificato per SSL predefinito di hello **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="49ce2-199">For example, https://mycustomapp.internal-contoso.com uses hello default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="49ce2-200">Tuttavia, come App eseguibili su servizio multi-tenant pubblico di hello, gli sviluppatori possono configurare i nomi host personalizzati per le singole applicazioni.</span><span class="sxs-lookup"><span data-stu-id="49ce2-200">However, just like apps that run on hello public multitenant service, developers can configure custom host names for individual apps.</span></span> <span data-ttu-id="49ce2-201">Possono anche configurare associazioni di certificati SSL basati su SNI univoche per le singole app.</span><span class="sxs-lookup"><span data-stu-id="49ce2-201">They also can configure unique SNI SSL certificate bindings for individual apps.</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="49ce2-202">Ambiente del servizio app 1</span><span class="sxs-lookup"><span data-stu-id="49ce2-202">App Service Environment v1</span></span> ##
<span data-ttu-id="49ce2-203">Esistono due versioni dell'ambiente del servizio app: ASEv1 e ASEv2.</span><span class="sxs-lookup"><span data-stu-id="49ce2-203">App Service Environment has two versions: ASEv1 and ASEv2.</span></span> <span data-ttu-id="49ce2-204">Hello precedenti informazioni è basato su ASEv2.</span><span class="sxs-lookup"><span data-stu-id="49ce2-204">hello preceding information was based on ASEv2.</span></span> <span data-ttu-id="49ce2-205">Questa sezione viene illustrata hello ASEv1 e ASEv2 differenze.</span><span class="sxs-lookup"><span data-stu-id="49ce2-205">This section shows you hello differences between ASEv1 and ASEv2.</span></span>

<span data-ttu-id="49ce2-206">In ASEv1, gestire tutte le risorse di hello manualmente.</span><span class="sxs-lookup"><span data-stu-id="49ce2-206">In ASEv1, you manage all of hello resources manually.</span></span> <span data-ttu-id="49ce2-207">Che include gli indirizzi IP usati per SSL basato su IP front-end hello e processi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="49ce2-207">That includes hello front ends, workers, and IP addresses used for IP-based SSL.</span></span> <span data-ttu-id="49ce2-208">Prima di è possibile scalare orizzontalmente il piano di servizio App, è necessario proporzioni timeout pool di lavoro hello che si desidera toohost.</span><span class="sxs-lookup"><span data-stu-id="49ce2-208">Before you can scale out your App Service plan, you must scale out hello worker pool that you want toohost it.</span></span>

<span data-ttu-id="49ce2-209">ASEv1 usa un modello tariffario diverso rispetto a ASEv2.</span><span class="sxs-lookup"><span data-stu-id="49ce2-209">ASEv1 uses a different pricing model from ASEv2.</span></span> <span data-ttu-id="49ce2-210">Nella versione ASEv1, in particolare, si paga per tutti i core allocati,</span><span class="sxs-lookup"><span data-stu-id="49ce2-210">In ASEv1, you pay for each core allocated.</span></span> <span data-ttu-id="49ce2-211">inclusi i core usati per i front-end o i ruoli di lavoro in cui non sono ospitati carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="49ce2-211">That includes cores that are used for front ends or workers that aren't hosting any workloads.</span></span> <span data-ttu-id="49ce2-212">In ASEv1, hello predefinito della scala massima pari a un ASE sono 55 host totale.</span><span class="sxs-lookup"><span data-stu-id="49ce2-212">In ASEv1, hello default maximum-scale size of an ASE is 55 total hosts.</span></span> <span data-ttu-id="49ce2-213">inclusi ruoli di lavoro e front-end.</span><span class="sxs-lookup"><span data-stu-id="49ce2-213">That includes workers and front ends.</span></span> <span data-ttu-id="49ce2-214">Un vantaggio tooASEv1 è che possono essere distribuito in una rete virtuale classica e una rete virtuale di gestione risorse.</span><span class="sxs-lookup"><span data-stu-id="49ce2-214">One advantage tooASEv1 is that it can be deployed in a classic virtual network and a Resource Manager virtual network.</span></span> <span data-ttu-id="49ce2-215">vedere toolearn ulteriori informazioni su ASEv1, [introduzione v1 ambiente del servizio App][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="49ce2-215">toolearn more about ASEv1, see [App Service Environment v1 introduction][ASEv1Intro].</span></span>

<span data-ttu-id="49ce2-216">toocreate un ASEv1 utilizzando un modello di gestione delle risorse, vedere [crea un v1 ASE di bilanciamento del carico interno con un modello di gestione risorse][ILBASEv1Template].</span><span class="sxs-lookup"><span data-stu-id="49ce2-216">toocreate an ASEv1 by using a Resource Manager template, see [Create an ILB ASE v1 with a Resource Manager template][ILBASEv1Template].</span></span>


<!--Links-->
[quickstartilbasecreate]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-ilb-create
[quickstartasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-create
[quickstartconfiguressl]: http://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl
[quickstartwebapponasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asp-app-on-asev2-create
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ILBASEv1Template]: ../../app-service-web/app-service-app-service-environment-create-ilb-ase-resourcemanager.md
