---
title: aaaArchive i log di diagnostica di Azure | Documenti Microsoft
description: Informazioni su come tooarchive registra la diagnostica di Azure per la conservazione a lungo termine in un account di archiviazione.
author: johnkemnetz
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 3a55c73f-2ef3-45f3-8956-bcf9c0cb7e05
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/21/2017
ms.author: johnkem
ms.openlocfilehash: bc9edbd3a649023a728b7fe77130dba2b6e6370d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="archive-azure-diagnostic-logs"></a><span data-ttu-id="3383f-103">Archiviare i log di diagnostica di Azure</span><span class="sxs-lookup"><span data-stu-id="3383f-103">Archive Azure Diagnostic Logs</span></span>
<span data-ttu-id="3383f-104">In questo articolo viene illustrato come è possibile utilizzare hello portale di Azure PowerShell Cmdlets CLI, o REST API tooarchive il [i log di diagnostica Azure](monitoring-overview-of-diagnostic-logs.md) in un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="3383f-104">In this article, we show how you can use hello Azure portal, PowerShell Cmdlets, CLI, or REST API tooarchive your [Azure diagnostic logs](monitoring-overview-of-diagnostic-logs.md) in a storage account.</span></span> <span data-ttu-id="3383f-105">Questa opzione è utile se si desidera tooretain la diagnostica registra con un criterio di conservazione facoltativo per backup, di analisi statica o di controllo.</span><span class="sxs-lookup"><span data-stu-id="3383f-105">This option is useful if you would like tooretain your diagnostic logs with an optional retention policy for audit, static analysis, or backup.</span></span> <span data-ttu-id="3383f-106">account di archiviazione Hello non presenti toobe hello stessa sottoscrizione di risorse hello la creazione di log come utente di hello che configura l'impostazione di hello dispone di sottoscrizioni di tooboth accesso RBAC appropriate.</span><span class="sxs-lookup"><span data-stu-id="3383f-106">hello storage account does not have toobe in hello same subscription as hello resource emitting logs as long as hello user who configures hello setting has appropriate RBAC access tooboth subscriptions.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="3383f-107">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="3383f-107">Prerequisites</span></span>
<span data-ttu-id="3383f-108">Prima di iniziare, è necessario troppo[creare un account di archiviazione](../storage/storage-create-storage-account.md) toowhich è possibile archiviare i log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="3383f-108">Before you begin, you need too[create a storage account](../storage/storage-create-storage-account.md) toowhich you can archive your diagnostic logs.</span></span> <span data-ttu-id="3383f-109">Si consiglia di non utilizzare un account di archiviazione esistente che dispone di altri, non di monitoraggio di dati in essa archiviati in modo che è possibile controllare meglio toomonitoring accedere ai dati.</span><span class="sxs-lookup"><span data-stu-id="3383f-109">We highly recommend that you do not use an existing storage account that has other, non-monitoring data stored in it so that you can better control access toomonitoring data.</span></span> <span data-ttu-id="3383f-110">Tuttavia, se si desidera archiviare anche il registro attività e account di archiviazione tooa metriche di diagnostica, può avere senso toouse tale account di archiviazione per il log di diagnostica anche tookeep tutti i dati di monitoraggio in una posizione centrale.</span><span class="sxs-lookup"><span data-stu-id="3383f-110">However, if you are also archiving your Activity Log and diagnostic metrics tooa storage account, it may make sense toouse that storage account for your diagnostic logs as well tookeep all monitoring data in a central location.</span></span> <span data-ttu-id="3383f-111">account di archiviazione Hello utilizzato deve essere un account di archiviazione generico, non un account di archiviazione blob.</span><span class="sxs-lookup"><span data-stu-id="3383f-111">hello storage account you use must be a general purpose storage account, not a blob storage account.</span></span>

## <a name="diagnostic-settings"></a><span data-ttu-id="3383f-112">Impostazioni di diagnostica</span><span class="sxs-lookup"><span data-stu-id="3383f-112">Diagnostic settings</span></span>
<span data-ttu-id="3383f-113">tooarchive la diagnostica registra utilizzando uno dei seguenti metodi di hello, impostare un **impostazione diagnostica** per una particolare risorsa.</span><span class="sxs-lookup"><span data-stu-id="3383f-113">tooarchive your diagnostic logs using any of hello methods below, you set a **diagnostic setting** for a particular resource.</span></span> <span data-ttu-id="3383f-114">Un'impostazione di diagnostica per una risorsa definisce le categorie di hello di log e dati di metrica inviati destinazione tooa (account di archiviazione, spazio dei nomi di hub eventi o Analitica Log).</span><span class="sxs-lookup"><span data-stu-id="3383f-114">A diagnostic setting for a resource defines hello categories of logs and metric data sent tooa destination (storage account, Event Hubs namespace, or Log Analytics).</span></span> <span data-ttu-id="3383f-115">Definisce inoltre i criteri di conservazione hello (numero di giorni tooretain) per gli eventi di ogni categoria di log e dati di metrica archiviati in un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="3383f-115">It also defines hello retention policy (number of days tooretain) for events of each log category and metric data stored in a storage account.</span></span> <span data-ttu-id="3383f-116">Se un criterio di conservazione è impostato toozero, gli eventi per tale categoria di log vengono archiviati in modo permanente (che è sempre toosay,).</span><span class="sxs-lookup"><span data-stu-id="3383f-116">If a retention policy is set toozero, events for that log category are stored indefinitely (that is toosay, forever).</span></span> <span data-ttu-id="3383f-117">Diversamente, un criterio di conservazione può essere qualsiasi numero di giorni compreso tra 1 e 2147483647.</span><span class="sxs-lookup"><span data-stu-id="3383f-117">A retention policy can otherwise be any number of days between 1 and 2147483647.</span></span> <span data-ttu-id="3383f-118">[Altre informazioni sulle impostazioni di diagnostica sono disponibili qui](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings).</span><span class="sxs-lookup"><span data-stu-id="3383f-118">[You can read more about diagnostic settings here](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings).</span></span> <span data-ttu-id="3383f-119">Criteri di conservazione vengono applicati al giorno, verranno eliminati in modo a hello fine di un giorno (UTC), i log da giorno hello che si trova ora oltre i criteri di conservazione hello.</span><span class="sxs-lookup"><span data-stu-id="3383f-119">Retention policies are applied per-day, so at hello end of a day (UTC), logs from hello day that is now beyond hello retention policy will be deleted.</span></span> <span data-ttu-id="3383f-120">Ad esempio, se si dispone di un criterio di conservazione di un giorno, all'inizio di hello del giorno hello oggi hello registri hello ieri verrebbero eliminati</span><span class="sxs-lookup"><span data-stu-id="3383f-120">For example, if you had a retention policy of one day, at hello beginning of hello day today hello logs from hello day before yesterday would be deleted</span></span>

## <a name="archive-diagnostic-logs-using-hello-portal"></a><span data-ttu-id="3383f-121">Archivio di log di diagnostica tramite il portale di hello</span><span class="sxs-lookup"><span data-stu-id="3383f-121">Archive diagnostic logs using hello portal</span></span>
1. <span data-ttu-id="3383f-122">Nel portale di hello passare tooAzure Monitor e fare clic su **le impostazioni di diagnostica**</span><span class="sxs-lookup"><span data-stu-id="3383f-122">In hello portal, navigate tooAzure Monitor and click on **Diagnostic Settings**</span></span>

    ![Sezione relativa al monitoraggio di Monitoraggio di Azure](media/monitoring-archive-diagnostic-logs/diagnostic-settings-blade.png)

2. <span data-ttu-id="3383f-124">Se lo si desidera filtrare l'elenco hello in base al tipo di risorsa o gruppo di risorse, fare clic sul risorse hello per il quale si desidera tooset un'impostazione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="3383f-124">Optionally filter hello list by resource group or resource type, then click on hello resource for which you would like tooset a diagnostic setting.</span></span>

3. <span data-ttu-id="3383f-125">Se nessuna impostazione esistano nella risorsa hello selezionata, verrà richiesta toocreate un'impostazione.</span><span class="sxs-lookup"><span data-stu-id="3383f-125">If no settings exist on hello resource you have selected, you are prompted toocreate a setting.</span></span> <span data-ttu-id="3383f-126">Fare clic su "Attiva diagnostica".</span><span class="sxs-lookup"><span data-stu-id="3383f-126">Click "Turn on diagnostics."</span></span>

   ![Aggiungi impostazione di diagnostica - Nessuna impostazione esistente](media/monitoring-archive-diagnostic-logs/diagnostic-settings-none.png)

   <span data-ttu-id="3383f-128">Se sono presenti le impostazioni esistenti sulla risorsa hello, vedrai un elenco di impostazioni già configurato per questa risorsa.</span><span class="sxs-lookup"><span data-stu-id="3383f-128">If there are existing settings on hello resource, you will see a list of settings already configured on this resource.</span></span> <span data-ttu-id="3383f-129">Fare clic su "Add diagnostic setting" (Aggiungi impostazione di diagnostica).</span><span class="sxs-lookup"><span data-stu-id="3383f-129">Click "Add diagnostic setting."</span></span>

   !["Add diagnostic setting" (Aggiungi impostazione di diagnostica) - impostazioni esistenti](media/monitoring-archive-diagnostic-logs/diagnostic-settings-multiple.png)

3. <span data-ttu-id="3383f-131">Assegnare un nome all'impostazione e casella hello per **esportare tooStorage Account**, quindi selezionare un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="3383f-131">Give your setting a name and check hello box for **Export tooStorage Account**, then select a storage account.</span></span> <span data-ttu-id="3383f-132">Facoltativamente, impostare il numero di giorni tooretain questi log tramite hello **conservazione (giorni)** dispositivi di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="3383f-132">Optionally, set a number of days tooretain these logs by using hello **Retention (days)** sliders.</span></span> <span data-ttu-id="3383f-133">La riserva di zero giorni registri hello vengono archiviati per un periodo illimitato.</span><span class="sxs-lookup"><span data-stu-id="3383f-133">A retention of zero days stores hello logs indefinitely.</span></span>
   
   !["Add diagnostic setting" (Aggiungi impostazione di diagnostica) - impostazioni esistenti](media/monitoring-archive-diagnostic-logs/diagnostic-settings-configure.png)
    
4. <span data-ttu-id="3383f-135">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="3383f-135">Click **Save**.</span></span>

<span data-ttu-id="3383f-136">Dopo alcuni istanti, hello nuova impostazione è visualizzata nell'elenco delle impostazioni per questa risorsa e i log di diagnostica vengono archiviati toothat storage account appena nuovi dati di evento viene generati.</span><span class="sxs-lookup"><span data-stu-id="3383f-136">After a few moments, hello new setting appears in your list of settings for this resource, and diagnostic logs are archived toothat storage account as soon as new event data is generated.</span></span>

## <a name="archive-diagnostic-logs-via-azure-powershell"></a><span data-ttu-id="3383f-137">Archiviare i log di diagnostica tramite Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3383f-137">Archive diagnostic logs via Azure PowerShell</span></span>
```
Set-AzureRmDiagnosticSetting -ResourceId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg -StorageAccountId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/myrg1/providers/Microsoft.Storage/storageAccounts/my_storage -Categories networksecuritygroupevent,networksecuritygrouprulecounter -Enabled $true -RetentionEnabled $true -RetentionInDays 90
```

| <span data-ttu-id="3383f-138">Proprietà</span><span class="sxs-lookup"><span data-stu-id="3383f-138">Property</span></span> | <span data-ttu-id="3383f-139">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="3383f-139">Required</span></span> | <span data-ttu-id="3383f-140">Descrizione</span><span class="sxs-lookup"><span data-stu-id="3383f-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3383f-141">ResourceId</span><span class="sxs-lookup"><span data-stu-id="3383f-141">ResourceId</span></span> |<span data-ttu-id="3383f-142">Sì</span><span class="sxs-lookup"><span data-stu-id="3383f-142">Yes</span></span> |<span data-ttu-id="3383f-143">ID risorsa della risorsa di hello in cui si desidera tooset un'impostazione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="3383f-143">Resource ID of hello resource on which you want tooset a diagnostic setting.</span></span> |
| <span data-ttu-id="3383f-144">StorageAccountId</span><span class="sxs-lookup"><span data-stu-id="3383f-144">StorageAccountId</span></span> |<span data-ttu-id="3383f-145">No</span><span class="sxs-lookup"><span data-stu-id="3383f-145">No</span></span> |<span data-ttu-id="3383f-146">ID di risorsa dell'Account di archiviazione di hello toowhich i log di diagnostica deve essere salvato.</span><span class="sxs-lookup"><span data-stu-id="3383f-146">Resource ID of hello Storage Account toowhich Diagnostic Logs should be saved.</span></span> |
| <span data-ttu-id="3383f-147">Categorie</span><span class="sxs-lookup"><span data-stu-id="3383f-147">Categories</span></span> |<span data-ttu-id="3383f-148">No</span><span class="sxs-lookup"><span data-stu-id="3383f-148">No</span></span> |<span data-ttu-id="3383f-149">Elenco delimitato da virgole di tooenable categorie log.</span><span class="sxs-lookup"><span data-stu-id="3383f-149">Comma-separated list of log categories tooenable.</span></span> |
| <span data-ttu-id="3383f-150">Enabled</span><span class="sxs-lookup"><span data-stu-id="3383f-150">Enabled</span></span> |<span data-ttu-id="3383f-151">Sì</span><span class="sxs-lookup"><span data-stu-id="3383f-151">Yes</span></span> |<span data-ttu-id="3383f-152">Valore booleano che indica se la diagnostica viene abilitata o disabilitata per questa risorsa.</span><span class="sxs-lookup"><span data-stu-id="3383f-152">Boolean indicating whether diagnostics are enabled or disabled on this resource.</span></span> |
| <span data-ttu-id="3383f-153">RetentionEnabled</span><span class="sxs-lookup"><span data-stu-id="3383f-153">RetentionEnabled</span></span> |<span data-ttu-id="3383f-154">No</span><span class="sxs-lookup"><span data-stu-id="3383f-154">No</span></span> |<span data-ttu-id="3383f-155">Valore booleano che indica se un criterio di conservazione è abilitato per questa risorsa.</span><span class="sxs-lookup"><span data-stu-id="3383f-155">Boolean indicating if a retention policy are enabled on this resource.</span></span> |
| <span data-ttu-id="3383f-156">RetentionInDays</span><span class="sxs-lookup"><span data-stu-id="3383f-156">RetentionInDays</span></span> |<span data-ttu-id="3383f-157">No</span><span class="sxs-lookup"><span data-stu-id="3383f-157">No</span></span> |<span data-ttu-id="3383f-158">Numero di giorni per cui gli eventi devono essere conservati, compreso tra 1 e 2147483647.</span><span class="sxs-lookup"><span data-stu-id="3383f-158">Number of days for which events should be retained between 1 and 2147483647.</span></span> <span data-ttu-id="3383f-159">Un valore pari a zero registri hello vengono archiviati per un periodo illimitato.</span><span class="sxs-lookup"><span data-stu-id="3383f-159">A value of zero stores hello logs indefinitely.</span></span> |

## <a name="archive-diagnostic-logs-via-hello-cross-platform-cli"></a><span data-ttu-id="3383f-160">Log di diagnostica di archiviazione tramite hello CLI multipiattaforma</span><span class="sxs-lookup"><span data-stu-id="3383f-160">Archive diagnostic logs via hello Cross-Platform CLI</span></span>
```
azure insights diagnostic set --resourceId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg --storageId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/myrg1/providers/Microsoft.Storage/storageAccounts/my_storage –categories networksecuritygroupevent,networksecuritygrouprulecounter --enabled true
```

| <span data-ttu-id="3383f-161">Proprietà</span><span class="sxs-lookup"><span data-stu-id="3383f-161">Property</span></span> | <span data-ttu-id="3383f-162">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="3383f-162">Required</span></span> | <span data-ttu-id="3383f-163">Descrizione</span><span class="sxs-lookup"><span data-stu-id="3383f-163">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3383f-164">ResourceId</span><span class="sxs-lookup"><span data-stu-id="3383f-164">resourceId</span></span> |<span data-ttu-id="3383f-165">Sì</span><span class="sxs-lookup"><span data-stu-id="3383f-165">Yes</span></span> |<span data-ttu-id="3383f-166">ID risorsa della risorsa di hello in cui si desidera tooset un'impostazione di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="3383f-166">Resource ID of hello resource on which you want tooset a diagnostic setting.</span></span> |
| <span data-ttu-id="3383f-167">storageId</span><span class="sxs-lookup"><span data-stu-id="3383f-167">storageId</span></span> |<span data-ttu-id="3383f-168">No</span><span class="sxs-lookup"><span data-stu-id="3383f-168">No</span></span> |<span data-ttu-id="3383f-169">ID di risorsa di log di diagnostica toowhich hello Account di archiviazione deve essere salvato.</span><span class="sxs-lookup"><span data-stu-id="3383f-169">Resource ID of hello Storage Account toowhich diagnostic logs should be saved.</span></span> |
| <span data-ttu-id="3383f-170">Categorie</span><span class="sxs-lookup"><span data-stu-id="3383f-170">categories</span></span> |<span data-ttu-id="3383f-171">No</span><span class="sxs-lookup"><span data-stu-id="3383f-171">No</span></span> |<span data-ttu-id="3383f-172">Elenco delimitato da virgole di tooenable categorie log.</span><span class="sxs-lookup"><span data-stu-id="3383f-172">Comma-separated list of log categories tooenable.</span></span> |
| <span data-ttu-id="3383f-173">Enabled</span><span class="sxs-lookup"><span data-stu-id="3383f-173">enabled</span></span> |<span data-ttu-id="3383f-174">Sì</span><span class="sxs-lookup"><span data-stu-id="3383f-174">Yes</span></span> |<span data-ttu-id="3383f-175">Valore booleano che indica se la diagnostica viene abilitata o disabilitata per questa risorsa.</span><span class="sxs-lookup"><span data-stu-id="3383f-175">Boolean indicating whether diagnostics are enabled or disabled on this resource.</span></span> |

## <a name="archive-diagnostic-logs-via-hello-rest-api"></a><span data-ttu-id="3383f-176">Log di diagnostica di archiviazione tramite hello API REST</span><span class="sxs-lookup"><span data-stu-id="3383f-176">Archive diagnostic logs via hello REST API</span></span>
<span data-ttu-id="3383f-177">[Vedere il documento](https://docs.microsoft.com/rest/api/monitor/servicediagnosticsettings) per informazioni su come è possibile configurare un'impostazione di diagnostica mediante hello API REST di monitoraggio di Azure.</span><span class="sxs-lookup"><span data-stu-id="3383f-177">[See this document](https://docs.microsoft.com/rest/api/monitor/servicediagnosticsettings) for information on how you can set up a diagnostic setting using hello Azure Monitor REST API.</span></span>

## <a name="schema-of-diagnostic-logs-in-hello-storage-account"></a><span data-ttu-id="3383f-178">Schema dei log di diagnostica nell'account di archiviazione hello</span><span class="sxs-lookup"><span data-stu-id="3383f-178">Schema of diagnostic logs in hello storage account</span></span>
<span data-ttu-id="3383f-179">Dopo aver configurato archiviazione, un contenitore di archiviazione viene creato nell'account di archiviazione hello non appena si verifica un evento in una delle categorie log hello che è stata abilitata.</span><span class="sxs-lookup"><span data-stu-id="3383f-179">Once you have set up archival, a storage container is created in hello storage account as soon as an event occurs in one of hello log categories you have enabled.</span></span> <span data-ttu-id="3383f-180">BLOB Hello all'interno del contenitore hello seguire hello stesso formato in log di diagnostica e hello Log attività.</span><span class="sxs-lookup"><span data-stu-id="3383f-180">hello blobs within hello container follow hello same format across Diagnostic Logs and hello Activity Log.</span></span> <span data-ttu-id="3383f-181">struttura Hello di tali BLOB è:</span><span class="sxs-lookup"><span data-stu-id="3383f-181">hello structure of these blobs is:</span></span>

> <span data-ttu-id="3383f-182">insights-logs-{log category name}/resourceId=/SUBSCRIPTIONS/{subscription ID}/RESOURCEGROUPS/{nome gruppo risorse}/PROVIDERS/{nome provider risorse}/{tipo risorsa}/{nome risorsa}/y={anno numerico a quattro cifre}/m={mese numerico a due cifre}/d={giorno numerico a due cifre}/h={ora in formato 24 ore a due cifre}/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="3383f-182">insights-logs-{log category name}/resourceId=/SUBSCRIPTIONS/{subscription ID}/RESOURCEGROUPS/{resource group name}/PROVIDERS/{resource provider name}/{resource type}/{resource name}/y={four-digit numeric year}/m={two-digit numeric month}/d={two-digit numeric day}/h={two-digit 24-hour clock hour}/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="3383f-183">O più semplicemente,</span><span class="sxs-lookup"><span data-stu-id="3383f-183">Or, more simply,</span></span>

> <span data-ttu-id="3383f-184">insights-logs-{nome categoria log}/resourceId=/{ID risorsa}/y={anno numerico a quattro cifre}/m={mese numerico a due cifre}/d={giorno numerico a due cifre}/h={ora in formato 24 ore a due cifre}/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="3383f-184">insights-logs-{log category name}/resourceId=/{resource Id}/y={four-digit numeric year}/m={two-digit numeric month}/d={two-digit numeric day}/h={two-digit 24-hour clock hour}/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="3383f-185">Ad esempio, un nome BLOB potrebbe essere:</span><span class="sxs-lookup"><span data-stu-id="3383f-185">For example, a blob name might be:</span></span>

> <span data-ttu-id="3383f-186">insights-logs-networksecuritygrouprulecounter/resourceId=/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUP/TESTNSG/y=2016/m=08/d=22/h=18/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="3383f-186">insights-logs-networksecuritygrouprulecounter/resourceId=/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUP/TESTNSG/y=2016/m=08/d=22/h=18/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="3383f-187">Ciascun blob PT1H.json contiene un blob JSON di eventi che si sono verificati entro ora hello specificata nell'URL blob hello (ad esempio, h = 12).</span><span class="sxs-lookup"><span data-stu-id="3383f-187">Each PT1H.json blob contains a JSON blob of events that occurred within hello hour specified in hello blob URL (for example, h=12).</span></span> <span data-ttu-id="3383f-188">Durante l'ora presenta hello, gli eventi sono accodati toohello PT1H.json file che si verificano.</span><span class="sxs-lookup"><span data-stu-id="3383f-188">During hello present hour, events are appended toohello PT1H.json file as they occur.</span></span> <span data-ttu-id="3383f-189">valore dei minuti Hello (m = 00) è sempre 00, poiché gli eventi di log di diagnostica sono suddivisi in singoli BLOB all'ora.</span><span class="sxs-lookup"><span data-stu-id="3383f-189">hello minute value (m=00) is always 00, since diagnostic log events are broken into individual blobs per hour.</span></span>

<span data-ttu-id="3383f-190">Nel file PT1H.json hello, ogni evento viene archiviato nella matrice di record"hello", il formato seguente:</span><span class="sxs-lookup"><span data-stu-id="3383f-190">Within hello PT1H.json file, each event is stored in hello “records” array, following this format:</span></span>

```
{
    "records": [
        {
            "time": "2016-07-01T00:00:37.2040000Z",
            "systemId": "46cdbb41-cb9c-4f3d-a5b4-1d458d827ff1",
            "category": "NetworkSecurityGroupRuleCounter",
            "resourceId": "/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUPS/TESTNSG",
            "operationName": "NetworkSecurityGroupCounters",
            "properties": {
                "vnetResourceGuid": "{12345678-9012-3456-7890-123456789012}",
                "subnetPrefix": "10.3.0.0/24",
                "macAddress": "000123456789",
                "ruleName": "/subscriptions/ s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg/securityRules/default-allow-rdp",
                "direction": "In",
                "type": "allow",
                "matchedConnections": 1988
            }
        }
    ]
}
```

| <span data-ttu-id="3383f-191">Nome dell'elemento</span><span class="sxs-lookup"><span data-stu-id="3383f-191">Element name</span></span> | <span data-ttu-id="3383f-192">Descrizione</span><span class="sxs-lookup"><span data-stu-id="3383f-192">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3383f-193">time</span><span class="sxs-lookup"><span data-stu-id="3383f-193">time</span></span> |<span data-ttu-id="3383f-194">Timestamp dell'evento hello è stato generato da hello di elaborazione del servizio Azure hello richiesta evento hello corrispondente.</span><span class="sxs-lookup"><span data-stu-id="3383f-194">Timestamp when hello event was generated by hello Azure service processing hello request corresponding hello event.</span></span> |
| <span data-ttu-id="3383f-195">resourceId</span><span class="sxs-lookup"><span data-stu-id="3383f-195">resourceId</span></span> |<span data-ttu-id="3383f-196">ID di risorsa di hello influisce sulle risorse.</span><span class="sxs-lookup"><span data-stu-id="3383f-196">Resource ID of hello impacted resource.</span></span> |
| <span data-ttu-id="3383f-197">operationName</span><span class="sxs-lookup"><span data-stu-id="3383f-197">operationName</span></span> |<span data-ttu-id="3383f-198">Nome dell'operazione di hello.</span><span class="sxs-lookup"><span data-stu-id="3383f-198">Name of hello operation.</span></span> |
| <span data-ttu-id="3383f-199">category</span><span class="sxs-lookup"><span data-stu-id="3383f-199">category</span></span> |<span data-ttu-id="3383f-200">Categoria di log dell'evento hello.</span><span class="sxs-lookup"><span data-stu-id="3383f-200">Log category of hello event.</span></span> |
| <span data-ttu-id="3383f-201">properties</span><span class="sxs-lookup"><span data-stu-id="3383f-201">properties</span></span> |<span data-ttu-id="3383f-202">Set di `<Key, Value>` coppie (ad esempio Dictionary) che descrive hello dettagli dell'evento hello.</span><span class="sxs-lookup"><span data-stu-id="3383f-202">Set of `<Key, Value>` pairs (i.e. Dictionary) describing hello details of hello event.</span></span> |

> [!NOTE]
> <span data-ttu-id="3383f-203">proprietà Hello e l'utilizzo di tali proprietà può variare a seconda delle risorse di hello.</span><span class="sxs-lookup"><span data-stu-id="3383f-203">hello properties and usage of those properties can vary depending on hello resource.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="3383f-204">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="3383f-204">Next steps</span></span>
* [<span data-ttu-id="3383f-205">Introduzione all'archivio BLOB di Azure con .NET</span><span class="sxs-lookup"><span data-stu-id="3383f-205">Download blobs for analysis</span></span>](../storage/storage-dotnet-how-to-use-blobs.md)
* [<span data-ttu-id="3383f-206">Flusso diagnostica registra lo spazio dei nomi di hub eventi tooan</span><span class="sxs-lookup"><span data-stu-id="3383f-206">Stream diagnostic logs tooan Event Hubs namespace</span></span>](monitoring-stream-diagnostic-logs-to-event-hubs.md)
* [<span data-ttu-id="3383f-207">Altre informazioni sui log di diagnostica</span><span class="sxs-lookup"><span data-stu-id="3383f-207">Read more about diagnostic logs</span></span>](monitoring-overview-of-diagnostic-logs.md)
