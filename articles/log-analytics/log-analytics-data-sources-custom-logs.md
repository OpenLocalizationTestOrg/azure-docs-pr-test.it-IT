---
title: Registra aaaCollect personalizzato in OMS Log Analitica | Documenti Microsoft
description: "Log Analytics può raccogliere gli eventi dai file di testo nei computer Windows e Linux.  In questo articolo viene descritto come toodefine un nuovo log personalizzato e i dettagli del record di hello che ha creato nel repository OMS hello."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: aca7f6bb-6f53-4fd4-a45c-93f12ead4ae1
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/15/2017
ms.author: bwren
ms.openlocfilehash: a75d058c371fecf7c43690a797d4e650c1570317
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="custom-logs-in-log-analytics"></a><span data-ttu-id="a9d6a-104">Log personalizzati in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="a9d6a-104">Custom logs in Log Analytics</span></span>
<span data-ttu-id="a9d6a-105">origine dei dati di log personalizzati Hello in Log Analitica consente toocollect eventi dai file di testo nei computer Windows e Linux.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-105">hello Custom Logs data source in Log Analytics allows you toocollect events from text files on both Windows and Linux computers.</span></span> <span data-ttu-id="a9d6a-106">Molte applicazioni log file di informazioni tootext anziché i servizi di registrazione standard, ad esempio il registro eventi di Windows o Syslog.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-106">Many applications log information tootext files instead of standard logging services such as Windows Event log or Syslog.</span></span>  <span data-ttu-id="a9d6a-107">Una volta raccolti, è possibile analizzare ogni record di log hello nei campi tooindividual utilizzando hello [campi personalizzati](log-analytics-custom-fields.md) funzionalità di Log Analitica.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-107">Once collected, you can parse each record in hello log in tooindividual fields using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

![Raccolta di log personalizzati](media/log-analytics-data-sources-custom-logs/overview.png)

<span data-ttu-id="a9d6a-109">Hello toobe di file di log raccolti deve corrispondere hello seguenti criteri.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-109">hello log files toobe collected must match hello following criteria.</span></span>

- <span data-ttu-id="a9d6a-110">log Hello deve avere una sola voce per ogni riga o utilizzare un timestamp corrispondente uno dei seguenti hello formati all'inizio di hello di ciascuna voce.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-110">hello log must either have a single entry per line or use a timestamp matching one of hello following formats at hello start of each entry.</span></span>

    <span data-ttu-id="a9d6a-111">AAAA-MM-GG HH:MM:SS </span><span class="sxs-lookup"><span data-stu-id="a9d6a-111">YYYY-MM-DD HH:MM:SS</span></span><br><span data-ttu-id="a9d6a-112">M/G/AAAA HH:MM:SS AM/PM</span><span class="sxs-lookup"><span data-stu-id="a9d6a-112">M/D/YYYY HH:MM:SS AM/PM</span></span> <br><span data-ttu-id="a9d6a-113">Lun GG,AAAA HH:MM:SS</span><span class="sxs-lookup"><span data-stu-id="a9d6a-113">Mon DD,YYYY HH:MM:SS</span></span>

- <span data-ttu-id="a9d6a-114">file di log Hello deve consentire aggiornamenti circolari non in file hello viene sovrascritto con le nuove voci.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-114">hello log file must not allow circular updates where hello file is overwritten with new entries.</span></span>
- <span data-ttu-id="a9d6a-115">file di log Hello deve usare la codifica ASCII o UTF-8.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-115">hello log file must use ASCII or UTF-8 encoding.</span></span>  <span data-ttu-id="a9d6a-116">Non sono supportati altri formati, ad esempio UTF-16.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-116">Other formats such as UTF-16 are not supported.</span></span>

>[!NOTE]
><span data-ttu-id="a9d6a-117">Se sono presenti voci duplicate nel file di log hello, Log Analitica raccoglierà tali.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-117">If there are duplicate entries in hello log file, Log Analytics will collect them.</span></span>  <span data-ttu-id="a9d6a-118">Tuttavia, i risultati della ricerca hello risulterà incoerente in cui i risultati del filtro hello mostrano ulteriori eventi di conteggio risultati hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-118">However, hello search results will be inconsistent where hello filter results show more events than hello result count.</span></span>  <span data-ttu-id="a9d6a-119">Sarà importante convalidare hello log toodetermine se a causa di un'applicazione hello che l'ha creato questo comportamento e risolverlo prima di creare una definizione di raccolta log personalizzati hello se possibile.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-119">It will be important that you validate hello log toodetermine if hello application that creates it is causing this behavior and address it if possible before creating hello custom log collection definition.</span></span>  
>
  
## <a name="defining-a-custom-log"></a><span data-ttu-id="a9d6a-120">Definizione di un log personalizzato</span><span class="sxs-lookup"><span data-stu-id="a9d6a-120">Defining a custom log</span></span>
<span data-ttu-id="a9d6a-121">Utilizzare hello seguendo procedure toodefine un file di log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-121">Use hello following procedure toodefine a custom log file.</span></span>  <span data-ttu-id="a9d6a-122">Scorrere toohello fine di questo articolo per una procedura dettagliata di un esempio di aggiunta di un log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-122">Scroll toohello end of this article for a walkthrough of a sample of adding a custom log.</span></span>

### <a name="step-1-open-hello-custom-log-wizard"></a><span data-ttu-id="a9d6a-123">Passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-123">Step 1.</span></span> <span data-ttu-id="a9d6a-124">Aprire una creazione guidata Registro personalizzata hello</span><span class="sxs-lookup"><span data-stu-id="a9d6a-124">Open hello Custom Log Wizard</span></span>
<span data-ttu-id="a9d6a-125">Creazione guidata Registro personalizzata Hello viene eseguita nel portale OMS hello e consente di toodefine un nuovo toocollect log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-125">hello Custom Log Wizard runs in hello OMS portal and allows you toodefine a new custom log toocollect.</span></span>

1. <span data-ttu-id="a9d6a-126">Nel portale OMS hello, andare troppo**impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-126">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="a9d6a-127">Fare clic su **Dati**, quindi su **Log personalizzati**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-127">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="a9d6a-128">Per impostazione predefinita, tutte le modifiche di configurazione vengono automaticamente spostate tooall agenti.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-128">By default, all configuration changes are automatically pushed tooall agents.</span></span>  <span data-ttu-id="a9d6a-129">Per gli agenti Linux, un file di configurazione viene inviato l'agente di raccolta dati Fluentd toohello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-129">For Linux agents, a configuration file is sent toohello Fluentd data collector.</span></span>  <span data-ttu-id="a9d6a-130">Se si desidera toomodify questo file manualmente in ogni agente Linux, quindi deselezionare la casella di hello *Apply below macchine Linux di configurazione toomy*.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-130">If you wish toomodify this file manually on each Linux agent, then uncheck hello box *Apply below configuration toomy Linux machines*.</span></span>
4. <span data-ttu-id="a9d6a-131">Fare clic su **Aggiungi +** tooopen hello guidata Log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-131">Click **Add+** tooopen hello Custom Log Wizard.</span></span>

### <a name="step-2-upload-and-parse-a-sample-log"></a><span data-ttu-id="a9d6a-132">Passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-132">Step 2.</span></span> <span data-ttu-id="a9d6a-133">Caricare e analizzare un log di esempio</span><span class="sxs-lookup"><span data-stu-id="a9d6a-133">Upload and parse a sample log</span></span>
<span data-ttu-id="a9d6a-134">È innanzitutto necessario caricare un esempio di log personalizzato hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-134">You start by uploading a sample of hello custom log.</span></span>  <span data-ttu-id="a9d6a-135">Hello verrà analizzare e visualizzare le voci di hello in questo file per si toovalidate.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-135">hello wizard will parse and display hello entries in this file for you toovalidate.</span></span>  <span data-ttu-id="a9d6a-136">Log Analitica utilizzerà il delimitatore di hello specificare tooidentify ogni record.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-136">Log Analytics will use hello delimiter that you specify tooidentify each record.</span></span>

<span data-ttu-id="a9d6a-137">**Nuova riga** è il delimitatore predefinito hello e viene utilizzata per i file di log che hanno una singola voce per ogni riga.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-137">**New Line** is hello default delimiter and is used for log files that have a single entry per line.</span></span>  <span data-ttu-id="a9d6a-138">Se la riga hello inizia con una data e ora in uno dei formati disponibili hello, quindi è possibile specificare un **Timestamp** delimitatore che supporta le voci che si estendono su più righe.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-138">If hello line starts with a date and time in one of hello available formats, then you can specify a **Timestamp** delimiter which supports entries that span more than one line.</span></span>

<span data-ttu-id="a9d6a-139">Se viene utilizzato un delimitatore di timestamp, proprietà TimeGenerated hello di ogni record archiviati in OMS verrà popolato con hello data/ora specificato per tale voce nel file di log hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-139">If a timestamp delimiter is used, then hello TimeGenerated property of each record stored in OMS will be populated with hello date/time specified for that entry in hello log file.</span></span>  <span data-ttu-id="a9d6a-140">Se viene utilizzato un delimitatore di nuova riga, TimeGenerated viene popolato con data e ora che Analitica Log raccolti voce hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-140">If a new line delimiter is used, then TimeGenerated is populated with date and time that Log Analytics collected hello entry.</span></span>

> [!NOTE]
> <span data-ttu-id="a9d6a-141">Log Analitica considera attualmente hello data/ora raccolto da un file registro utilizzando un delimitatore di timestamp come UTC.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-141">Log Analytics currently treats hello date/time collected from a log using a timestamp delimiter as UTC.</span></span>  <span data-ttu-id="a9d6a-142">Non appena sarà modificato toouse hello fuso orario su agente hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-142">This will soon be changed toouse hello time zone on hello agent.</span></span>
>
>

1. <span data-ttu-id="a9d6a-143">Fare clic su **Sfoglia** e individuare il file di esempio tooa.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-143">Click **Browse** and browse tooa sample file.</span></span>  <span data-ttu-id="a9d6a-144">In alcuni browser, questo pulsante potrebbe essere denominato **Scegli file** .</span><span class="sxs-lookup"><span data-stu-id="a9d6a-144">Note that this may button may be labeled **Choose File** in some browsers.</span></span>
2. <span data-ttu-id="a9d6a-145">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-145">Click **Next**.</span></span>
3. <span data-ttu-id="a9d6a-146">Creazione guidata Registro personalizzata Hello caricherà hello file ed elenco hello record che identifica.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-146">hello Custom Log Wizard will upload hello file and list hello records that it identifies.</span></span>
4. <span data-ttu-id="a9d6a-147">Modificare il delimitatore hello è tooidentify utilizzato un nuovo record e delimitatore selezionare hello che identifica meglio record hello nel file di log.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-147">Change hello delimiter that is used tooidentify a new record and select hello delimiter that best identifies hello records in your log file.</span></span>
5. <span data-ttu-id="a9d6a-148">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-148">Click **Next**.</span></span>

### <a name="step-3-add-log-collection-paths"></a><span data-ttu-id="a9d6a-149">Passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-149">Step 3.</span></span> <span data-ttu-id="a9d6a-150">Aggiungere percorsi di raccolta di log</span><span class="sxs-lookup"><span data-stu-id="a9d6a-150">Add log collection paths</span></span>
<span data-ttu-id="a9d6a-151">È necessario definire uno o più percorsi nell'agente hello in cui si possono individuare i log personalizzati hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-151">You must define one or more paths on hello agent where it can locate hello custom log.</span></span>  <span data-ttu-id="a9d6a-152">È possibile fornire un percorso specifico e un nome per il file di log hello oppure è possibile specificare un percorso con un carattere jolly per nome hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-152">You can either provide a specific path and name for hello log file, or you can specify a path with a wildcard for hello name.</span></span>  <span data-ttu-id="a9d6a-153">Questa opzione è utile per le applicazioni che creano un nuovo file ogni giorno o quando un file raggiunge una determinata dimensione.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-153">This supports applications that create a new file each day or when one file reaches a certain size.</span></span>  <span data-ttu-id="a9d6a-154">È anche possibile fornire più percorsi per un singolo file di log.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-154">You can also provide multiple paths for a single log file.</span></span>

<span data-ttu-id="a9d6a-155">Ad esempio, un'applicazione potrebbe creare un file di log ogni giorno con data hello inclusa nel nome hello come log20100316.txt.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-155">For example, an application might create a log file each day with hello date included in hello name as in log20100316.txt.</span></span> <span data-ttu-id="a9d6a-156">Potrebbe essere un modello per questo tipo di un log *log\*. txt* che verrebbe applicata tooany file di log dopo l'applicazione hello di schema di denominazione.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-156">A pattern for such a log might be *log\*.txt* which would apply tooany log file following hello application’s naming scheme.</span></span>

<span data-ttu-id="a9d6a-157">Hello nella tabella seguente vengono forniti esempi di modelli validi toospecify diversi file di log.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-157">hello following table provides examples of valid patterns toospecify different log files.</span></span>

| <span data-ttu-id="a9d6a-158">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a9d6a-158">Description</span></span> | <span data-ttu-id="a9d6a-159">Path</span><span class="sxs-lookup"><span data-stu-id="a9d6a-159">Path</span></span> |
|:--- |:--- |
| <span data-ttu-id="a9d6a-160">Tutti i file in *C:\Logs* con estensione txt nell'agente Windows</span><span class="sxs-lookup"><span data-stu-id="a9d6a-160">All files in *C:\Logs* with .txt extension on Windows agent</span></span> |<span data-ttu-id="a9d6a-161">C:\Logs\\\*.txt</span><span class="sxs-lookup"><span data-stu-id="a9d6a-161">C:\Logs\\\*.txt</span></span> |
| <span data-ttu-id="a9d6a-162">Tutti i file in *C:\Logs* il cui nome inizia con log e aventi un'estensione txt nell'agente Windows</span><span class="sxs-lookup"><span data-stu-id="a9d6a-162">All files in *C:\Logs* with a name starting with log and a .txt extension on Windows agent</span></span> |<span data-ttu-id="a9d6a-163">C:\Logs\log\*.txt</span><span class="sxs-lookup"><span data-stu-id="a9d6a-163">C:\Logs\log\*.txt</span></span> |
| <span data-ttu-id="a9d6a-164">Tutti i file in */var/log/audit* con estensione txt nell'agente di Linux</span><span class="sxs-lookup"><span data-stu-id="a9d6a-164">All files in */var/log/audit* with .txt extension on Linux agent</span></span> |<span data-ttu-id="a9d6a-165">/var/log/audit/*.txt</span><span class="sxs-lookup"><span data-stu-id="a9d6a-165">/var/log/audit/*.txt</span></span> |
| <span data-ttu-id="a9d6a-166">Tutti i file in */var/log/audit* con un nome che inizia con log e con l'estensione .txt nell'agente di Linux</span><span class="sxs-lookup"><span data-stu-id="a9d6a-166">All files in */var/log/audit* with a name starting with log and a .txt extension on Linux agent</span></span> |<span data-ttu-id="a9d6a-167">/var/log/audit/log\*.txt</span><span class="sxs-lookup"><span data-stu-id="a9d6a-167">/var/log/audit/log\*.txt</span></span> |

1. <span data-ttu-id="a9d6a-168">Selezionare toospecify Windows o Linux, il formato di percorso si sta aggiungendo.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-168">Select Windows or Linux toospecify which path format you are adding.</span></span>
2. <span data-ttu-id="a9d6a-169">Digitare il percorso di hello e fare clic su hello  **+**  pulsante.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-169">Type in hello path and click hello **+** button.</span></span>
3. <span data-ttu-id="a9d6a-170">Ripetere il processo di hello per tutti i percorsi aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-170">Repeat hello process for any additional paths.</span></span>

### <a name="step-4-provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="a9d6a-171">Passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-171">Step 4.</span></span> <span data-ttu-id="a9d6a-172">Specificare un nome e una descrizione per il log di hello</span><span class="sxs-lookup"><span data-stu-id="a9d6a-172">Provide a name and description for hello log</span></span>
<span data-ttu-id="a9d6a-173">Hello nome specificato dall'utente da utilizzare per il tipo di log hello come descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-173">hello name that you specify will be used for hello log type as described above.</span></span>  <span data-ttu-id="a9d6a-174">Sempre terminerà con _CL toodistinguish, come un log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-174">It will always end with _CL toodistinguish it as a custom log.</span></span>

1. <span data-ttu-id="a9d6a-175">Digitare un nome per il log di hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-175">Type in a name for hello log.</span></span>  <span data-ttu-id="a9d6a-176">Hello  **\_CL** suffisso viene fornito automaticamente.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-176">hello **\_CL** suffix is automatically provided.</span></span>
2. <span data-ttu-id="a9d6a-177">Aggiungere una **Descrizione**facoltativa.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-177">Add an optional **Description**.</span></span>
3. <span data-ttu-id="a9d6a-178">Fare clic su **Avanti** definizione di toosave hello log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-178">Click **Next** toosave hello custom log definition.</span></span>

### <a name="step-5-validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="a9d6a-179">Passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-179">Step 5.</span></span> <span data-ttu-id="a9d6a-180">Convalida che vengono raccolti i log personalizzati hello</span><span class="sxs-lookup"><span data-stu-id="a9d6a-180">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="a9d6a-181">Potrebbe richiedere fino a ora tooan per i dati iniziali hello un tooappear nuovo log personalizzato nel Log Analitica.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-181">It may take up tooan hour for hello initial data from a new custom log tooappear in Log Analytics.</span></span>  <span data-ttu-id="a9d6a-182">Verrà avviata la raccolta di voci da hello i log disponibili nel percorso hello specificato dal punto di hello che è definito hello log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-182">It will start collecting entries from hello logs found in hello path you specified from hello point that you defined hello custom log.</span></span>  <span data-ttu-id="a9d6a-183">Non manterrà le voci di hello caricato durante la creazione di log personalizzato hello, ma verranno raccolte le voci già esistenti nei file di log hello che viene individuato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-183">It will not retain hello entries that you uploaded during hello custom log creation, but it will collect already existing entries in hello log files that it locates.</span></span>

<span data-ttu-id="a9d6a-184">Log Analitica inizia a raccogliere dati dal log personalizzato hello, i relativi record sarà disponibili con una ricerca di Log.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-184">Once Log Analytics starts collecting from hello custom log, its records will be available with a Log Search.</span></span>  <span data-ttu-id="a9d6a-185">Utilizza il nome di hello assegnato log personalizzato di hello come hello **tipo** nella query.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-185">Use hello name that you gave hello custom log as hello **Type** in your query.</span></span>

> [!NOTE]
> <span data-ttu-id="a9d6a-186">Se non è presente ricerca hello hello RawData proprietà, è possibile necessario tooclose e riaprire il browser.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-186">If hello RawData property is missing from hello search, you may need tooclose and reopen your browser.</span></span>
>
>

### <a name="step-6-parse-hello-custom-log-entries"></a><span data-ttu-id="a9d6a-187">Passaggio 6.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-187">Step 6.</span></span> <span data-ttu-id="a9d6a-188">Analizzare le voci di log personalizzato hello</span><span class="sxs-lookup"><span data-stu-id="a9d6a-188">Parse hello custom log entries</span></span>
<span data-ttu-id="a9d6a-189">voce del registro intera Hello verrà archiviati in una singola proprietà denominata **RawData**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-189">hello entire log entry will be stored in a single property called **RawData**.</span></span>  <span data-ttu-id="a9d6a-190">È probabile che si desideri tooseparate hello dei diversi componenti di informazioni in ogni voce in singole proprietà archiviata nel record di hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-190">You will most likely want tooseparate hello different pieces of information in each entry into individual properties stored in hello record.</span></span>  <span data-ttu-id="a9d6a-191">Eseguire questa operazione utilizzando hello [campi personalizzati](log-analytics-custom-fields.md) funzionalità di Log Analitica.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-191">You do this using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

<span data-ttu-id="a9d6a-192">I passaggi dettagliati per l'analisi di voce di log personalizzata hello non sono forniti di seguito.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-192">Detailed steps for parsing hello custom log entry are not provided here.</span></span>  <span data-ttu-id="a9d6a-193">Consultare toohello [campi personalizzati](log-analytics-custom-fields.md) documentazione relativa a queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-193">Please refer toohello [Custom Fields](log-analytics-custom-fields.md) documentation for this information.</span></span>

## <a name="disabling-a-custom-log"></a><span data-ttu-id="a9d6a-194">Disabilitazione di un log personalizzato</span><span class="sxs-lookup"><span data-stu-id="a9d6a-194">Disabling a custom log</span></span>
<span data-ttu-id="a9d6a-195">Dopo la creazione, la definizione del log personalizzato non può essere rimossa, ma può essere disabilitata rimuovendo tutti i relativi percorsi di raccolta.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-195">You cannot remove a custom log definition once it's been created, but you can disable it by removing all of its collection paths.</span></span>

1. <span data-ttu-id="a9d6a-196">Nel portale OMS hello, andare troppo**impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-196">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="a9d6a-197">Fare clic su **Dati**, quindi su **Log personalizzati**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-197">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="a9d6a-198">Fare clic su **dettagli** Avanti toohello log personalizzato definizione toodisable.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-198">Click **Details** next toohello custom log definition toodisable.</span></span>
4. <span data-ttu-id="a9d6a-199">Eliminare i percorsi di hello insieme per la definizione di log personalizzato hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-199">Remove each of hello collection paths for hello custom log definition.</span></span>

## <a name="data-collection"></a><span data-ttu-id="a9d6a-200">Raccolta dei dati</span><span class="sxs-lookup"><span data-stu-id="a9d6a-200">Data collection</span></span>
<span data-ttu-id="a9d6a-201">Log Analytics raccoglie nuove voci da ogni log personalizzato a intervalli di circa 5 minuti.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-201">Log Analytics will collect new entries from each custom log approximately every 5 minutes.</span></span>  <span data-ttu-id="a9d6a-202">agente Hello registrerà al suo posto in ogni file di log raccolti da.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-202">hello agent will record its place in each log file that it collects from.</span></span>  <span data-ttu-id="a9d6a-203">Se l'agente di hello passa alla modalità offline per un periodo di tempo, quindi Log Analitica raccoglierà voci dall'ultima libero, anche se sono stati creati i movimenti mentre hello agent era offline.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-203">If hello agent goes offline for a period of time, then Log Analytics will collect entries from where it last left off, even if those entries were created while hello agent was offline.</span></span>

<span data-ttu-id="a9d6a-204">Hello scritto intero contenuto della voce di log hello è tooa singola proprietà denominata **RawData**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-204">hello entire contents of hello log entry are written tooa single property called **RawData**.</span></span>  <span data-ttu-id="a9d6a-205">È possibile analizzare questa in più proprietà che possono essere analizzate e ricerca separatamente definendo [campi personalizzati](log-analytics-custom-fields.md) dopo la creazione di log personalizzato hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-205">You can parse this into multiple properties that can be analyzed and searched separately by defining [Custom Fields](log-analytics-custom-fields.md) after you have created hello custom log.</span></span>

## <a name="custom-log-record-properties"></a><span data-ttu-id="a9d6a-206">Proprietà dei record del log personalizzato</span><span class="sxs-lookup"><span data-stu-id="a9d6a-206">Custom log record properties</span></span>
<span data-ttu-id="a9d6a-207">I record di log personalizzato dispone di un tipo con il nome di registro hello che viene fornita e hello proprietà hello nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-207">Custom log records have a type with hello log name that you provide and hello properties in hello following table.</span></span>

| <span data-ttu-id="a9d6a-208">Proprietà</span><span class="sxs-lookup"><span data-stu-id="a9d6a-208">Property</span></span> | <span data-ttu-id="a9d6a-209">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a9d6a-209">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a9d6a-210">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="a9d6a-210">TimeGenerated</span></span> |<span data-ttu-id="a9d6a-211">Data e ora di hello record sono stati raccolti da Log Analitica.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-211">Date and time that hello record was collected by Log Analytics.</span></span>  <span data-ttu-id="a9d6a-212">Se il log di hello utilizza un delimitatore di limiti di tempo viene ora hello raccolto dalla voce hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-212">If hello log uses a time-based delimiter then this is hello time collected from hello entry.</span></span> |
| <span data-ttu-id="a9d6a-213">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="a9d6a-213">SourceSystem</span></span> |<span data-ttu-id="a9d6a-214">Tipo di agente hello record sono stati raccolti da.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-214">Type of agent hello record was collected from.</span></span> <br> <span data-ttu-id="a9d6a-215">OpsManager: agente Windows, con connessione diretta o System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="a9d6a-215">OpsManager – Windows agent, either direct connect or System Center Operations Manager</span></span> <br> <span data-ttu-id="a9d6a-216">Linux – Tutti gli agenti Linux</span><span class="sxs-lookup"><span data-stu-id="a9d6a-216">Linux – All Linux agents</span></span> |
| <span data-ttu-id="a9d6a-217">RawData</span><span class="sxs-lookup"><span data-stu-id="a9d6a-217">RawData</span></span> |<span data-ttu-id="a9d6a-218">Full-text di hello raccolti voce.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-218">Full text of hello collected entry.</span></span> |
| <span data-ttu-id="a9d6a-219">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="a9d6a-219">ManagementGroupName</span></span> |<span data-ttu-id="a9d6a-220">Nome del gruppo di gestione di hello per gli agenti di gestione di System Center Operations.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-220">Name of hello management group for System Center Operations Manage agents.</span></span>  <span data-ttu-id="a9d6a-221">Per gli altri agenti, corrisponde ad AOI-\<ID area di lavoro\></span><span class="sxs-lookup"><span data-stu-id="a9d6a-221">For other agents, this is AOI-\<workspace ID\></span></span> |

## <a name="log-searches-with-custom-log-records"></a><span data-ttu-id="a9d6a-222">Ricerche nei log con i record del log personalizzato</span><span class="sxs-lookup"><span data-stu-id="a9d6a-222">Log searches with custom log records</span></span>
<span data-ttu-id="a9d6a-223">Record di log personalizzati vengono archiviati nel repository OMS hello come record di qualsiasi altra origine dati.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-223">Records from custom logs are stored in hello OMS repository just like records from any other data source.</span></span>  <span data-ttu-id="a9d6a-224">È necessario un tipo corrispondente nome hello fornito quando si definisce il log di hello, pertanto è possibile utilizzare la proprietà di tipo hello nei record tooretrieve ricerca raccolti da un log specifico.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-224">They will have a type matching hello name that you provide when you define hello log, so you can use hello Type property in your search tooretrieve records collected from a specific log.</span></span>

<span data-ttu-id="a9d6a-225">Hello nella tabella seguente vengono forniti esempi di ricerche nei log che recuperano i record di log personalizzati.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-225">hello following table provides different examples of log searches that retrieve records from custom logs.</span></span>

| <span data-ttu-id="a9d6a-226">Query</span><span class="sxs-lookup"><span data-stu-id="a9d6a-226">Query</span></span> | <span data-ttu-id="a9d6a-227">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a9d6a-227">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a9d6a-228">Type=MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="a9d6a-228">Type=MyApp_CL</span></span> |<span data-ttu-id="a9d6a-229">Tutti gli eventi da un log personalizzato denominato MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-229">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="a9d6a-230">Type=MyApp_CL Severity_CF=error</span><span class="sxs-lookup"><span data-stu-id="a9d6a-230">Type=MyApp_CL Severity_CF=error</span></span> |<span data-ttu-id="a9d6a-231">Tutti gli eventi di un log personalizzato denominato MyApp_CL con un valore di *error* in un campo personalizzato denominato *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-231">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |

>[!NOTE]
> <span data-ttu-id="a9d6a-232">Se l'area di lavoro è stato aggiornato toohello [Analitica Log nuovo linguaggio di query](log-analytics-log-search-upgrade.md), quindi hello sopra query modificherebbe toohello seguente.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-232">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="a9d6a-233">Query</span><span class="sxs-lookup"><span data-stu-id="a9d6a-233">Query</span></span> | <span data-ttu-id="a9d6a-234">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a9d6a-234">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a9d6a-235">MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="a9d6a-235">MyApp_CL</span></span> |<span data-ttu-id="a9d6a-236">Tutti gli eventi da un log personalizzato denominato MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-236">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="a9d6a-237">MyApp_CL &#124; where Severity_CF=="error"</span><span class="sxs-lookup"><span data-stu-id="a9d6a-237">MyApp_CL &#124; where Severity_CF=="error"</span></span> |<span data-ttu-id="a9d6a-238">Tutti gli eventi di un log personalizzato denominato MyApp_CL con un valore di *error* in un campo personalizzato denominato *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-238">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |


## <a name="sample-walkthrough-of-adding-a-custom-log"></a><span data-ttu-id="a9d6a-239">Procedura dettagliata di esempio per l'aggiunta di un log personalizzato</span><span class="sxs-lookup"><span data-stu-id="a9d6a-239">Sample walkthrough of adding a custom log</span></span>
<span data-ttu-id="a9d6a-240">Hello nella sezione seguente viene illustrato un esempio di creazione di un log personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-240">hello following section walks through an example of creating a custom log.</span></span>  <span data-ttu-id="a9d6a-241">log di esempio Hello raccolti dispone di una singola voce per ogni riga a partire da una data e ora e quindi delimitato da virgole di campi per codice di stato e il messaggio.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-241">hello sample log being collected has a single entry on each line starting with a date and time and then comma-delimited fields for code, status, and message.</span></span>  <span data-ttu-id="a9d6a-242">Di seguito sono visualizzate alcune voci di esempio.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-242">Several sample entries are shown below.</span></span>

    2016-03-10 01:34:36 207,Success,Client 05a26a97-272a-4bc9-8f64-269d154b0e39 connected
    2016-03-10 01:33:33 208,Warning,Client ec53d95c-1c88-41ae-8174-92104212de5d disconnected
    2016-03-10 01:35:44 209,Success,Transaction 10d65890-b003-48f8-9cfc-9c74b51189c8 succeeded
    2016-03-10 01:38:22 302,Error,Application could not connect toodatabase
    2016-03-10 01:31:34 303,Error,Application lost connection toodatabase

### <a name="upload-and-parse-a-sample-log"></a><span data-ttu-id="a9d6a-243">Caricare e analizzare un log di esempio</span><span class="sxs-lookup"><span data-stu-id="a9d6a-243">Upload and parse a sample log</span></span>
<span data-ttu-id="a9d6a-244">È fornire uno dei file di log hello e possono visualizzare gli eventi di hello che vogliono raccogliere.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-244">We provide one of hello log files and can see hello events that it will be collecting.</span></span>  <span data-ttu-id="a9d6a-245">In questo caso Nuova riga è un delimitatore sufficiente.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-245">In this case New Line is a sufficient delimiter.</span></span>  <span data-ttu-id="a9d6a-246">Se una singola voce nel log di hello potrebbe estendersi su più righe tuttavia, un delimitatore di timestamp necessario toobe utilizzato.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-246">If a single entry in hello log could span multiple lines though, then a timestamp delimiter would need toobe used.</span></span>

![Caricare e analizzare un log di esempio](media/log-analytics-data-sources-custom-logs/delimiter.png)

### <a name="add-log-collection-paths"></a><span data-ttu-id="a9d6a-248">Aggiungere percorsi di raccolta di log</span><span class="sxs-lookup"><span data-stu-id="a9d6a-248">Add log collection paths</span></span>
<span data-ttu-id="a9d6a-249">i file di log Hello saranno posizionati *C:\MyApp\Logs*.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-249">hello log files will be located in *C:\MyApp\Logs*.</span></span>  <span data-ttu-id="a9d6a-250">Verrà creato un nuovo file ogni giorno con un nome che include data hello nel modello hello *appYYYYMMDD.log*.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-250">A new file will be created each day with a name that includes hello date in hello pattern *appYYYYMMDD.log*.</span></span>  <span data-ttu-id="a9d6a-251">Un modello sufficiente per questo registro è *C:\MyApp\Logs\\\*.log*.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-251">A sufficient pattern for this log would be *C:\MyApp\Logs\\\*.log*.</span></span>

![Percorso di raccolta di log](media/log-analytics-data-sources-custom-logs/collection-path.png)

### <a name="provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="a9d6a-253">Specificare un nome e una descrizione per il log di hello</span><span class="sxs-lookup"><span data-stu-id="a9d6a-253">Provide a name and description for hello log</span></span>
<span data-ttu-id="a9d6a-254">Viene usato il nome *MyApp_CL* e viene digitata una **descrizione**.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-254">We use a name of *MyApp_CL* and type in a **Description**.</span></span>

![Nome del log](media/log-analytics-data-sources-custom-logs/log-name.png)

### <a name="validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="a9d6a-256">Convalida che vengono raccolti i log personalizzati hello</span><span class="sxs-lookup"><span data-stu-id="a9d6a-256">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="a9d6a-257">Viene utilizzata una query di *tipo = MyApp_CL* tooreturn tutti i record dal log raccolti hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-257">We use a query of *Type=MyApp_CL* tooreturn all records from hello collected log.</span></span>

![Query di log senza campi personalizzati](media/log-analytics-data-sources-custom-logs/query-01.png)

### <a name="parse-hello-custom-log-entries"></a><span data-ttu-id="a9d6a-259">Analizzare le voci di log personalizzato hello</span><span class="sxs-lookup"><span data-stu-id="a9d6a-259">Parse hello custom log entries</span></span>
<span data-ttu-id="a9d6a-260">Utilizziamo hello toodefine campi personalizzati *EventTime*, *codice*, *stato*, e *messaggio* campi e si noterà differenza hello hello record restituiti dalla query hello.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-260">We use Custom Fields toodefine hello *EventTime*, *Code*, *Status*, and *Message* fields and we can see hello difference in hello records that are returned by hello query.</span></span>

![Query di log con campi personalizzati](media/log-analytics-data-sources-custom-logs/query-02.png)

## <a name="next-steps"></a><span data-ttu-id="a9d6a-262">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a9d6a-262">Next steps</span></span>
* <span data-ttu-id="a9d6a-263">Utilizzare [campi personalizzati](log-analytics-custom-fields.md) voci hello tooparse nel registro eventi personalizzato hello in tooindividual campi.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-263">Use [Custom Fields](log-analytics-custom-fields.md) tooparse hello entries in hello custom log in tooindividual fields.</span></span>
* <span data-ttu-id="a9d6a-264">Informazioni su [log ricerche](log-analytics-log-searches.md) tooanalyze hello dati raccolti da origini dati e le soluzioni.</span><span class="sxs-lookup"><span data-stu-id="a9d6a-264">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
