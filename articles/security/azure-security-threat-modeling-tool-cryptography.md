---
title: 'Crittografia: Microsoft Threat Modeling Tool - Azure | Microsoft Docs'
description: Procedure di mitigazione delle minacce esposte in Threat Modeling Tool
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 96e74371fe51a8050a91c86215e3eefab07bbed8
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-cryptography--mitigations"></a><span data-ttu-id="961f3-103">Infrastruttura di sicurezza: crittografia - Procedure di mitigazione</span><span class="sxs-lookup"><span data-stu-id="961f3-103">Security Frame: Cryptography | Mitigations</span></span> 
| <span data-ttu-id="961f3-104">Prodotto o servizio</span><span class="sxs-lookup"><span data-stu-id="961f3-104">Product/Service</span></span> | <span data-ttu-id="961f3-105">Articolo</span><span class="sxs-lookup"><span data-stu-id="961f3-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="961f3-106">**Applicazione Web**</span><span class="sxs-lookup"><span data-stu-id="961f3-106">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="961f3-107">Usare solo crittografie a blocchi simmetriche e lunghezze di chiave approvate</span><span class="sxs-lookup"><span data-stu-id="961f3-107">Use only approved symmetric block ciphers and key lengths</span></span>](#cipher-length)</li><li>[<span data-ttu-id="961f3-108">Usare modalità di crittografia a blocchi approvate e vettori di inizializzazione per crittografie simmetriche</span><span class="sxs-lookup"><span data-stu-id="961f3-108">Use approved block cipher modes and initialization vectors for symmetric ciphers</span></span>](#vector-ciphers)</li><li>[<span data-ttu-id="961f3-109">Usare riempimenti, lunghezze di chiave e algoritmi asimmetrici approvati</span><span class="sxs-lookup"><span data-stu-id="961f3-109">Use approved asymmetric algorithms, key lengths, and padding</span></span>](#padding)</li><li>[<span data-ttu-id="961f3-110">Usare generatori di numeri casuali approvati</span><span class="sxs-lookup"><span data-stu-id="961f3-110">Use approved random number generators</span></span>](#numgen)</li><li>[<span data-ttu-id="961f3-111">Non usare crittografie di flusso simmetriche</span><span class="sxs-lookup"><span data-stu-id="961f3-111">Do not use symmetric stream ciphers</span></span>](#stream-ciphers)</li><li>[<span data-ttu-id="961f3-112">Usare algoritmi MAC/HMAC/hash con chiave</span><span class="sxs-lookup"><span data-stu-id="961f3-112">Use approved MAC/HMAC/keyed hash algorithms</span></span>](#mac-hash)</li><li>[<span data-ttu-id="961f3-113">Usare solo funzioni hash crittografiche approvate</span><span class="sxs-lookup"><span data-stu-id="961f3-113">Use only approved cryptographic hash functions</span></span>](#hash-functions)</li></ul> |
| <span data-ttu-id="961f3-114">**Database**</span><span class="sxs-lookup"><span data-stu-id="961f3-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="961f3-115">Usare algoritmi di crittografia avanzata per crittografare i dati nel database</span><span class="sxs-lookup"><span data-stu-id="961f3-115">Use strong encryption algorithms to encrypt data in the database</span></span>](#strong-db)</li><li>[<span data-ttu-id="961f3-116">I pacchetti SSIS devono essere crittografati ed essere con firma digitale</span><span class="sxs-lookup"><span data-stu-id="961f3-116">SSIS packages should be encrypted and digitally signed</span></span>](#ssis-signed)</li><li>[<span data-ttu-id="961f3-117">Aggiungere la firma digitale alle entità a protezione diretta del database critiche</span><span class="sxs-lookup"><span data-stu-id="961f3-117">Add digital signature to critical database securables</span></span>](#securables-db)</li><li>[<span data-ttu-id="961f3-118">Usare EKM di SQL Server per proteggere le chiavi di crittografia</span><span class="sxs-lookup"><span data-stu-id="961f3-118">Use SQL server EKM to protect encryption keys</span></span>](#ekm-keys)</li><li>[<span data-ttu-id="961f3-119">Usare la funzionalità AlwaysEncrypted se le chiavi di crittografia non devono essere rivelate al motore di database</span><span class="sxs-lookup"><span data-stu-id="961f3-119">Use AlwaysEncrypted feature if encryption keys should not be revealed to Database engine</span></span>](#keys-engine)</li></ul> |
| <span data-ttu-id="961f3-120">**Dispositivo IoT**</span><span class="sxs-lookup"><span data-stu-id="961f3-120">**IoT Device**</span></span> | <ul><li>[<span data-ttu-id="961f3-121">Archiviare le chiavi di crittografia in modo sicuro nel dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="961f3-121">Store Cryptographic Keys securely on IoT Device</span></span>](#keys-iot)</li></ul> | 
| <span data-ttu-id="961f3-122">**Gateway IoT cloud**</span><span class="sxs-lookup"><span data-stu-id="961f3-122">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="961f3-123">Generare una chiave simmetrica casuale sufficientemente lunga per l'autenticazione nell'hub IoT</span><span class="sxs-lookup"><span data-stu-id="961f3-123">Generate a random symmetric key of sufficient length for authentication to IoT Hub</span></span>](#random-hub)</li></ul> | 
| <span data-ttu-id="961f3-124">**Client Dynamics CRM Mobile**</span><span class="sxs-lookup"><span data-stu-id="961f3-124">**Dynamics CRM Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="961f3-125">Assicurarsi che sia attivo un criterio di gestione dei dispositivi che richiede di usare il PIN e consente la cancellazione remota</span><span class="sxs-lookup"><span data-stu-id="961f3-125">Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span>](#pin-remote)</li></ul> | 
| <span data-ttu-id="961f3-126">**Client Dynamics CRM per Outlook**</span><span class="sxs-lookup"><span data-stu-id="961f3-126">**Dynamics CRM Outlook Client**</span></span> | <ul><li>[<span data-ttu-id="961f3-127">Assicurarsi che sia attivo un criterio di gestione dei dispositivi che richiede PIN/password/blocco automatico e crittografa tutti i dati (ad esempio, Bitlocker)</span><span class="sxs-lookup"><span data-stu-id="961f3-127">Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span>](#bitlocker)</li></ul> | 
| <span data-ttu-id="961f3-128">**Identity Server**</span><span class="sxs-lookup"><span data-stu-id="961f3-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="961f3-129">Assicurarsi che venga eseguito il rollover delle chiavi di firma quando si usa Identity Server</span><span class="sxs-lookup"><span data-stu-id="961f3-129">Ensure that signing keys are rolled over when using Identity Server</span></span>](#rolled-server)</li><li>[<span data-ttu-id="961f3-130">Assicurarsi che vengano usati un ID client e un segreto client con crittografia complessa in Identity Server</span><span class="sxs-lookup"><span data-stu-id="961f3-130">Ensure that cryptographically strong client ID, client secret are used in Identity Server</span></span>](#client-server)</li></ul> | 

## <span data-ttu-id="961f3-131"><a id="cipher-length"></a>Usare solo crittografie a blocchi simmetriche e lunghezze di chiave approvate</span><span class="sxs-lookup"><span data-stu-id="961f3-131"><a id="cipher-length"></a>Use only approved symmetric block ciphers and key lengths</span></span>

| <span data-ttu-id="961f3-132">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-132">Title</span></span>                   | <span data-ttu-id="961f3-133">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-133">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-134">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-134">**Component**</span></span>               | <span data-ttu-id="961f3-135">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="961f3-135">Web Application</span></span> | 
| <span data-ttu-id="961f3-136">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-136">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-137">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-137">Build</span></span> |  
| <span data-ttu-id="961f3-138">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-138">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-139">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-139">Generic</span></span> |
| <span data-ttu-id="961f3-140">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-140">**Attributes**</span></span>              | <span data-ttu-id="961f3-141">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-141">N/A</span></span>  |
| <span data-ttu-id="961f3-142">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-142">**References**</span></span>              | <span data-ttu-id="961f3-143">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-143">N/A</span></span>  |
| <span data-ttu-id="961f3-144">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-144">**Steps**</span></span> | <p><span data-ttu-id="961f3-145">I prodotti devono usare solo le crittografie a blocchi simmetriche e le lunghezze di chiave associate esplicitamente approvate dal consulente per la crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-145">Products must use only those symmetric block ciphers and associated key lengths which have been explicitly approved by the Crypto Advisor in your organization.</span></span> <span data-ttu-id="961f3-146">Gli algoritmi simmetrici approvati da Microsoft includono le crittografie a blocchi seguenti:</span><span class="sxs-lookup"><span data-stu-id="961f3-146">Approved symmetric algorithms at Microsoft include the following block ciphers:</span></span></p><ul><li><span data-ttu-id="961f3-147">Per il codice nuovo, sono accettabili AES-128, AES-192 e AES-256.</span><span class="sxs-lookup"><span data-stu-id="961f3-147">For new code AES-128, AES-192, and AES-256 are acceptable</span></span></li><li><span data-ttu-id="961f3-148">Per la compatibilità con le versioni precedenti del codice esistente, è accettabile 3DES a tre chiavi.</span><span class="sxs-lookup"><span data-stu-id="961f3-148">For backward compatibility with existing code, three-key 3DES is acceptable</span></span></li><li><span data-ttu-id="961f3-149">Per i prodotti che usano le crittografie a blocchi simmetriche:</span><span class="sxs-lookup"><span data-stu-id="961f3-149">For products using symmetric block ciphers:</span></span><ul><li><span data-ttu-id="961f3-150">Per il codice nuovo, è necessario Advanced Encryption Standard (AES).</span><span class="sxs-lookup"><span data-stu-id="961f3-150">Advanced Encryption Standard (AES) is required for new code</span></span></li><li><span data-ttu-id="961f3-151">Triple Data Encryption Standard (3DES) a tre chiavi è consentito nel codice esistente per la compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="961f3-151">Three-key triple Data Encryption Standard (3DES) is permissible in existing code for backward compatibility</span></span></li><li><span data-ttu-id="961f3-152">Tutte le altre crittografie a blocchi, incluse RC2, DES, 3DES a 2 chiavi, DESX e Skipjack, possono essere usate solo per decrittografare i dati precedenti e devono essere sostituite se usate per la crittografia.</span><span class="sxs-lookup"><span data-stu-id="961f3-152">All other block ciphers, including RC2, DES, 2 Key 3DES, DESX, and Skipjack, may only be used for decrypting old data, and must be replaced if used for encryption</span></span></li></ul></li><li><span data-ttu-id="961f3-153">Per gli algoritmi di crittografia a blocchi simmetrici, è necessaria una lunghezza minima della chiave di 128 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-153">For symmetric block encryption algorithms, a minimum key length of 128 bits is required.</span></span> <span data-ttu-id="961f3-154">L'unico algoritmo di crittografia a blocchi consigliato per il codice nuovo è AES (AES-128, AES-192 e AES-256 sono tutti accettabili)</span><span class="sxs-lookup"><span data-stu-id="961f3-154">The only block encryption algorithm recommended for new code is AES (AES-128, AES-192 and AES-256 are all acceptable)</span></span></li><li><span data-ttu-id="961f3-155">3DES a tre chiavi è attualmente accettabile se è già in uso nel codice esistente. È consigliata la transizione ad AES.</span><span class="sxs-lookup"><span data-stu-id="961f3-155">Three-key 3DES is currently acceptable if already in use in existing code; transition to AES is recommended.</span></span> <span data-ttu-id="961f3-156">DES, DESX, RC2 e Skipjack non sono più considerati sicuri.</span><span class="sxs-lookup"><span data-stu-id="961f3-156">DES, DESX, RC2, and Skipjack are no longer considered secure.</span></span> <span data-ttu-id="961f3-157">Questi algoritmi possono essere usati solo per decrittografare i dati esistenti ai fini della compatibilità con le versioni precedenti e i dati devono essere crittografati di nuovo con una crittografia a blocchi consigliata.</span><span class="sxs-lookup"><span data-stu-id="961f3-157">These algorithms may only be used for decrypting existing data for the sake of backward-compatibility, and data should be re-encrypted using a recommended block cipher</span></span></li></ul><p><span data-ttu-id="961f3-158">Si noti che tutte le crittografie a blocchi simmetriche devono essere usate con una modalità di crittografia approvata, che richiede l'uso di un vettore di inizializzazione appropriato.</span><span class="sxs-lookup"><span data-stu-id="961f3-158">Please note that all symmetric block ciphers must be used with an approved cipher mode, which requires use of an appropriate initialization vector (IV).</span></span> <span data-ttu-id="961f3-159">Un vettore di inizializzazione appropriato è in genere un numero casuale, mai un valore costante.</span><span class="sxs-lookup"><span data-stu-id="961f3-159">An appropriate IV, is typically a random number and never a constant value</span></span></p><p><span data-ttu-id="961f3-160">L'uso di algoritmi di crittografia legacy o comunque non approvati e di lunghezze di chiavi inferiori per la lettura dei dati esistenti (contrariamente alla scrittura di nuovi dati) può essere consentito dopo la revisione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-160">The use of legacy or otherwise unapproved crypto algorithms and smaller key lengths for reading existing data (as opposed to writing new data) may be permitted after your organization's Crypto Board review.</span></span> <span data-ttu-id="961f3-161">È tuttavia necessario prevedere un'eccezione per questo requisito.</span><span class="sxs-lookup"><span data-stu-id="961f3-161">However, you must file for an exception against this requirement.</span></span> <span data-ttu-id="961f3-162">Nelle distribuzioni aziendali inoltre si deve considerare per i prodotti la possibilità di avvisare gli amministratori quando viene usata una crittografia debole per leggere i dati.</span><span class="sxs-lookup"><span data-stu-id="961f3-162">Additionally, in enterprise deployments, products should consider warning administrators when weak crypto is used to read data.</span></span> <span data-ttu-id="961f3-163">Tali avvisi devono essere descrittivi e operativi.</span><span class="sxs-lookup"><span data-stu-id="961f3-163">Such warnings should be explanatory and actionable.</span></span> <span data-ttu-id="961f3-164">In alcuni casi, può essere appropriato che i Criteri di gruppo controllino l'uso della crittografia debole.</span><span class="sxs-lookup"><span data-stu-id="961f3-164">In some cases, it may be appropriate to have Group Policy control the use of weak crypto</span></span></p><p><span data-ttu-id="961f3-165">Algoritmi .NET consentiti per la flessibilità crittografica gestita (in ordine di preferenza):</span><span class="sxs-lookup"><span data-stu-id="961f3-165">Allowed .NET algorithms for managed crypto agility (in order of preference)</span></span></p><ul><li><span data-ttu-id="961f3-166">AesCng (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-166">AesCng (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-167">AuthenticatedAesCng (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-167">AuthenticatedAesCng (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-168">AESCryptoServiceProvider (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-168">AESCryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-169">AESManaged (non conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-169">AESManaged (non-FIPS-compliant)</span></span></li></ul><p><span data-ttu-id="961f3-170">Si noti che nessuno di questi algoritmi può essere specificato tramite i metodi `SymmetricAlgorithm.Create` o `CryptoConfig.CreateFromName` senza apportare modifiche al file machine.config.</span><span class="sxs-lookup"><span data-stu-id="961f3-170">Please note that none of these algorithms can be specified via the `SymmetricAlgorithm.Create` or `CryptoConfig.CreateFromName` methods without making changes to the machine.config file.</span></span> <span data-ttu-id="961f3-171">Tenere anche presente che AES nelle versioni di .NET precedenti a .NET 3.5 viene denominato `RijndaelManaged` e che `AesCng` e `AuthenticatedAesCng` sono disponibili in CodePlex e richiedono CNG nel sistema operativo sottostante.</span><span class="sxs-lookup"><span data-stu-id="961f3-171">Also, note that AES in versions of .NET prior to .NET 3.5 is named `RijndaelManaged`, and `AesCng` and `AuthenticatedAesCng` are >available through CodePlex and require CNG in the underlying OS</span></span></p>

## <span data-ttu-id="961f3-172"><a id="vector-ciphers"></a>Usare modalità di crittografia a blocchi approvate e vettori di inizializzazione per crittografie simmetriche</span><span class="sxs-lookup"><span data-stu-id="961f3-172"><a id="vector-ciphers"></a>Use approved block cipher modes and initialization vectors for symmetric ciphers</span></span>

| <span data-ttu-id="961f3-173">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-173">Title</span></span>                   | <span data-ttu-id="961f3-174">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-174">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-175">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-175">**Component**</span></span>               | <span data-ttu-id="961f3-176">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="961f3-176">Web Application</span></span> | 
| <span data-ttu-id="961f3-177">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-177">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-178">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-178">Build</span></span> |  
| <span data-ttu-id="961f3-179">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-179">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-180">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-180">Generic</span></span> |
| <span data-ttu-id="961f3-181">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-181">**Attributes**</span></span>              | <span data-ttu-id="961f3-182">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-182">N/A</span></span>  |
| <span data-ttu-id="961f3-183">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-183">**References**</span></span>              | <span data-ttu-id="961f3-184">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-184">N/A</span></span>  |
| <span data-ttu-id="961f3-185">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-185">**Steps**</span></span> | <span data-ttu-id="961f3-186">Tutte le crittografie a blocchi simmetriche devono essere usate con una modalità di crittografia a blocchi approvata.</span><span class="sxs-lookup"><span data-stu-id="961f3-186">All symmetric block ciphers must be used with an approved symmetric cipher mode.</span></span> <span data-ttu-id="961f3-187">Le sole modalità approvate sono CBC e CTS.</span><span class="sxs-lookup"><span data-stu-id="961f3-187">The only approved modes are CBC and CTS.</span></span> <span data-ttu-id="961f3-188">In particolare, è consigliabile evitare la modalità operativa ECB (Electronic Code Book). Per usare ECB, è necessaria la revisione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-188">In particular, the electronic code book (ECB) mode of operation should be avoided; use of ECB requires your organization's Crypto Board review.</span></span> <span data-ttu-id="961f3-189">Ogni utilizzo di OFB, CFB, CTR, CCM e GCM o di altre modalità di crittografia deve essere esaminato dal team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-189">All usage of OFB, CFB, CTR, CCM, and GCM or any other encryption mode must be reviewed by your organization's Crypto Board.</span></span> <span data-ttu-id="961f3-190">Con il riutilizzo dello stesso vettore di inizializzazione con crittografie a blocchi nelle "modalità di crittografia di flusso", ad esempio CTR, i dati crittografati potrebbero essere rivelati.</span><span class="sxs-lookup"><span data-stu-id="961f3-190">Reusing the same initialization vector (IV) with block ciphers in "streaming ciphers modes," such as CTR, may cause encrypted data to be revealed.</span></span> <span data-ttu-id="961f3-191">Tutte le crittografie a blocchi simmetriche devono anche essere usate con un vettore di inizializzazione appropriato.</span><span class="sxs-lookup"><span data-stu-id="961f3-191">All symmetric block ciphers must also be used with an appropriate initialization vector (IV).</span></span> <span data-ttu-id="961f3-192">Un vettore di inizializzazione appropriato è un numero casuale con una crittografia complessa, mai un valore costante.</span><span class="sxs-lookup"><span data-stu-id="961f3-192">An appropriate IV is a cryptographically strong, random number and never a constant value.</span></span> |

## <span data-ttu-id="961f3-193"><a id="padding"></a>Usare riempimenti, lunghezze di chiave e algoritmi asimmetrici approvati</span><span class="sxs-lookup"><span data-stu-id="961f3-193"><a id="padding"></a>Use approved asymmetric algorithms, key lengths, and padding</span></span>

| <span data-ttu-id="961f3-194">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-194">Title</span></span>                   | <span data-ttu-id="961f3-195">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-195">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-196">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-196">**Component**</span></span>               | <span data-ttu-id="961f3-197">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="961f3-197">Web Application</span></span> | 
| <span data-ttu-id="961f3-198">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-198">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-199">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-199">Build</span></span> |  
| <span data-ttu-id="961f3-200">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-200">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-201">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-201">Generic</span></span> |
| <span data-ttu-id="961f3-202">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-202">**Attributes**</span></span>              | <span data-ttu-id="961f3-203">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-203">N/A</span></span>  |
| <span data-ttu-id="961f3-204">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-204">**References**</span></span>              | <span data-ttu-id="961f3-205">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-205">N/A</span></span>  |
| <span data-ttu-id="961f3-206">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-206">**Steps**</span></span> | <p><span data-ttu-id="961f3-207">L'uso di algoritmi di crittografia vietati costituisce un grave rischio per la sicurezza dei prodotti e deve essere evitato.</span><span class="sxs-lookup"><span data-stu-id="961f3-207">The use of banned cryptographic algorithms introduces significant risk to product security and must be avoided.</span></span> <span data-ttu-id="961f3-208">I prodotti devono usare solo gli algoritmi di crittografia e le lunghezze di chiave e i riempimenti associati esplicitamente approvati dal team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-208">Products must use only those cryptographic algorithms and associated key lengths and padding that have been explicitly approved by your organization's Crypto Board.</span></span></p><ul><li><span data-ttu-id="961f3-209">**RSA**: può essere usato per la crittografia, lo scambio di chiave e la firma.</span><span class="sxs-lookup"><span data-stu-id="961f3-209">**RSA-** may be used for encryption, key exchange and signature.</span></span> <span data-ttu-id="961f3-210">La crittografia RSA deve usare solo le modalità di riempimento OAEP o RSA-KEM.</span><span class="sxs-lookup"><span data-stu-id="961f3-210">RSA encryption must use only the OAEP or RSA-KEM padding modes.</span></span> <span data-ttu-id="961f3-211">Il codice esistente può usare la modalità di riempimento PKCS #1 v1.5 solo per la compatibilità.</span><span class="sxs-lookup"><span data-stu-id="961f3-211">Existing code may use PKCS #1 v1.5 padding mode for compatibility only.</span></span> <span data-ttu-id="961f3-212">L'uso del riempimento null è esplicitamente vietato.</span><span class="sxs-lookup"><span data-stu-id="961f3-212">Use of null padding is explicitly banned.</span></span> <span data-ttu-id="961f3-213">Per il codice nuovo sono necessarie chiavi >= 2048 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-213">Keys >= 2048 bits is required for new code.</span></span> <span data-ttu-id="961f3-214">Il codice esistente può supportare chiavi < 2048 bit solo per la compatibilità con le versioni precedenti dopo una revisione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-214">Existing code may support keys < 2048 bits only for backwards compatibility after a review by your organization's Crypto Board.</span></span> <span data-ttu-id="961f3-215">Le chiavi < 1024 bit possono essere usate solo per decrittografare/verificare i dati precedenti e devono essere sostituite se usate per operazioni di crittografia o di firma.</span><span class="sxs-lookup"><span data-stu-id="961f3-215">Keys < 1024 bits may only be used for decrypting/verifying old data, and must be replaced if used for encryption or signing operations</span></span></li><li><span data-ttu-id="961f3-216">**ECDSA**: può essere usato solo per la firma.</span><span class="sxs-lookup"><span data-stu-id="961f3-216">**ECDSA-** may be used for signature only.</span></span> <span data-ttu-id="961f3-217">Per il codice nuovo è necessario ECDSA con chiavi >=256 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-217">ECDSA with >=256-bit keys is required for new code.</span></span> <span data-ttu-id="961f3-218">Le firme basate su ECDSA devono usare una delle tre curve approvate da NIST (P-256, P-384 o P521).</span><span class="sxs-lookup"><span data-stu-id="961f3-218">ECDSA-based signatures must use one of the three NIST approved curves (P-256, P-384, or P521).</span></span> <span data-ttu-id="961f3-219">Le curve che sono state analizzate a fondo possono essere usate solo dopo una revisione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-219">Curves that have been thoroughly analyzed may be used only after a review with your organization's Crypto Board.</span></span></li><li><span data-ttu-id="961f3-220">**ECDH**: può essere usato solo per lo scambio di chiave.</span><span class="sxs-lookup"><span data-stu-id="961f3-220">**ECDH-** may be used for key exchange only.</span></span> <span data-ttu-id="961f3-221">Per il codice nuovo è necessario ECDH con chiavi >=256 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-221">ECDH with >=256-bit keys is required for new code.</span></span> <span data-ttu-id="961f3-222">Lo scambio di chiave basato su ECDH deve usare una delle tre curve approvate da NIST (P-256, P-384 o P521).</span><span class="sxs-lookup"><span data-stu-id="961f3-222">ECDH-based key exchange must use one of the three NIST approved curves (P-256, P-384, or P521).</span></span> <span data-ttu-id="961f3-223">Le curve che sono state analizzate a fondo possono essere usate solo dopo una revisione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-223">Curves that have been thoroughly analyzed may be used only after a review with your organization's Crypto Board.</span></span></li><li><span data-ttu-id="961f3-224">**DSA**: può essere accettabile dopo la revisione e l'approvazione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-224">**DSA-** may be acceptable after review and approval from your organization's Crypto Board.</span></span> <span data-ttu-id="961f3-225">Contattare il consulente per la sicurezza per pianificare una revisione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-225">Contact your security advisor to schedule your organization's Crypto Board review.</span></span> <span data-ttu-id="961f3-226">Se l'uso di DSA è approvato, tenere presente che sarà necessario impedire l'uso di chiavi con una lunghezza inferiore a 2048 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-226">If your use of DSA is approved, note that you will need to prohibit use of keys less than 2048 bits in length.</span></span> <span data-ttu-id="961f3-227">CNG supporta chiavi di lunghezza pari e superiore a 2048 bit a partire da Windows 8.</span><span class="sxs-lookup"><span data-stu-id="961f3-227">CNG supports 2048-bit and greater key lengths as of Windows 8.</span></span></li><li><span data-ttu-id="961f3-228">**Diffie-Hellman**: può essere usato solo per la gestione delle chiavi della sessione.</span><span class="sxs-lookup"><span data-stu-id="961f3-228">**Diffie-Hellman-** may be used for session key management only.</span></span> <span data-ttu-id="961f3-229">Per il codice nuovo sono necessarie chiavi di lunghezza >= 2048 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-229">Key length >= 2048 bits is required for new code.</span></span> <span data-ttu-id="961f3-230">Il codice esistente può supportare chiavi di lunghezza < 2048 bit solo per la compatibilità con le versioni precedenti dopo una revisione da parte del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-230">Existing code may support key lengths < 2048 bits only for backwards compatibility after a review by your organization's Crypto Board.</span></span> <span data-ttu-id="961f3-231">Le chiavi < 1024 bit non possono essere usate.</span><span class="sxs-lookup"><span data-stu-id="961f3-231">Keys < 1024 bits may not be used.</span></span></li><ul>

## <span data-ttu-id="961f3-232"><a id="numgen"></a>Usare generatori di numeri casuali approvati</span><span class="sxs-lookup"><span data-stu-id="961f3-232"><a id="numgen"></a>Use approved random number generators</span></span>

| <span data-ttu-id="961f3-233">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-233">Title</span></span>                   | <span data-ttu-id="961f3-234">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-234">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-235">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-235">**Component**</span></span>               | <span data-ttu-id="961f3-236">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="961f3-236">Web Application</span></span> | 
| <span data-ttu-id="961f3-237">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-237">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-238">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-238">Build</span></span> |  
| <span data-ttu-id="961f3-239">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-239">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-240">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-240">Generic</span></span> |
| <span data-ttu-id="961f3-241">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-241">**Attributes**</span></span>              | <span data-ttu-id="961f3-242">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-242">N/A</span></span>  |
| <span data-ttu-id="961f3-243">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-243">**References**</span></span>              | <span data-ttu-id="961f3-244">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-244">N/A</span></span>  |
| <span data-ttu-id="961f3-245">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-245">**Steps**</span></span> | <p><span data-ttu-id="961f3-246">I prodotti devono usare generatori di numeri casuali approvati.</span><span class="sxs-lookup"><span data-stu-id="961f3-246">Products must use approved random number generators.</span></span> <span data-ttu-id="961f3-247">Le funzioni pseudocasuali, ad esempio la funzione runtime C rand, la classe .NET Framework System.Random o le funzioni di sistema come GetTickCount, non devono quindi mai essere usate in tale codice.</span><span class="sxs-lookup"><span data-stu-id="961f3-247">Pseudorandom functions such as the C runtime function rand, the .NET Framework class System.Random, or system functions such as GetTickCount must, therefore, never be used in such code.</span></span> <span data-ttu-id="961f3-248">L'uso dell'algoritmo DUAL_EC_DRBG (Dual Elliptic Curve Deterministic Random Bit Generator) è proibito.</span><span class="sxs-lookup"><span data-stu-id="961f3-248">Use of the dual elliptic curve random number generator (DUAL_EC_DRBG) algorithm is prohibited</span></span></p><ul><li><span data-ttu-id="961f3-249">**CNG**: BCryptGenRandom. È consigliato l'uso del flag BCRYPT_USE_SYSTEM_PREFERRED_RNG a meno che il chiamante non possa essere eseguito con un IRQL maggiore di 0, ovvero PASSIVE_LEVEL.</span><span class="sxs-lookup"><span data-stu-id="961f3-249">**CNG-** BCryptGenRandom(use of the BCRYPT_USE_SYSTEM_PREFERRED_RNG flag recommended unless the caller might run at any IRQL greater than 0 [that is, PASSIVE_LEVEL])</span></span></li><li><span data-ttu-id="961f3-250">**CAPI**: cryptGenRandom.</span><span class="sxs-lookup"><span data-stu-id="961f3-250">**CAPI-** cryptGenRandom</span></span></li><li><span data-ttu-id="961f3-251">**Win32/64**: RtlGenRandom (le nuove implementazioni devono usare BCryptGenRandom o CryptGenRandom) * rand_s * SystemPrng (per la modalità kernel)</span><span class="sxs-lookup"><span data-stu-id="961f3-251">**Win32/64-** RtlGenRandom (new implementations should use BCryptGenRandom or CryptGenRandom) * rand_s * SystemPrng (for kernel mode)</span></span></li><li><span data-ttu-id="961f3-252">**.NET**: RNGCryptoServiceProvider o RNGCng.</span><span class="sxs-lookup"><span data-stu-id="961f3-252">**.NET-** RNGCryptoServiceProvider or RNGCng</span></span></li><li><span data-ttu-id="961f3-253">**Applicazioni Windows Store**: Windows.Security.Cryptography.CryptographicBuffer.GenerateRandom o .GenerateRandomNumber.</span><span class="sxs-lookup"><span data-stu-id="961f3-253">**Windows Store Apps-** Windows.Security.Cryptography.CryptographicBuffer.GenerateRandom or .GenerateRandomNumber</span></span></li><li><span data-ttu-id="961f3-254">**Apple OS X (10.7+)/iOS(2.0+)**: int SecRandomCopyBytes (SecRandomRef random, size_t count, uint8_t *byte)</li><li>**Apple OS X (<10.7)-** Usare /dev/random per recuperare numeri casuali</span><span class="sxs-lookup"><span data-stu-id="961f3-254">**Apple OS X (10.7+)/iOS(2.0+)-** int SecRandomCopyBytes (SecRandomRef random, size_t count, uint8_t *bytes )</li><li>**Apple OS X (<10.7)-** Use /dev/random to retrieve random numbers</span></span></li><li><span data-ttu-id="961f3-255">**Java(compreso il codice Java di Google per Android) -** classe java.security.SecureRandom.</span><span class="sxs-lookup"><span data-stu-id="961f3-255">**Java(including Google Android Java code)-** java.security.SecureRandom class.</span></span> <span data-ttu-id="961f3-256">Tenere presente che, per Android 4.3 (Jelly Bean), gli sviluppatori devono seguire la soluzione alternativa consigliata da Android e aggiornare le applicazioni per inizializzare il generatore PRNG con l'entropia da /dev/urandom o /dev/random.</span><span class="sxs-lookup"><span data-stu-id="961f3-256">Note that for Android 4.3 (Jelly Bean), developers must follow the Android recommended workaround and update their applications to explicitly initialize the PRNG with entropy from /dev/urandom or /dev/random</span></span></li></ul>|

## <span data-ttu-id="961f3-257"><a id="stream-ciphers"></a>Non usare crittografie di flusso simmetriche</span><span class="sxs-lookup"><span data-stu-id="961f3-257"><a id="stream-ciphers"></a>Do not use symmetric stream ciphers</span></span>

| <span data-ttu-id="961f3-258">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-258">Title</span></span>                   | <span data-ttu-id="961f3-259">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-259">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-260">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-260">**Component**</span></span>               | <span data-ttu-id="961f3-261">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="961f3-261">Web Application</span></span> | 
| <span data-ttu-id="961f3-262">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-262">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-263">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-263">Build</span></span> |  
| <span data-ttu-id="961f3-264">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-264">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-265">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-265">Generic</span></span> |
| <span data-ttu-id="961f3-266">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-266">**Attributes**</span></span>              | <span data-ttu-id="961f3-267">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-267">N/A</span></span>  |
| <span data-ttu-id="961f3-268">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-268">**References**</span></span>              | <span data-ttu-id="961f3-269">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-269">N/A</span></span>  |
| <span data-ttu-id="961f3-270">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-270">**Steps**</span></span> | <span data-ttu-id="961f3-271">Non devono essere usate crittografie di flusso simmetriche, ad esempio RC4.</span><span class="sxs-lookup"><span data-stu-id="961f3-271">Symmetric stream ciphers, such as RC4, must not be used.</span></span> <span data-ttu-id="961f3-272">Invece delle crittografie di flusso simmetriche, i prodotti devono usare una crittografia a blocchi, in particolare AES con una lunghezza di chiave di almeno 128 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-272">Instead of symmetric stream ciphers, products should use a block cipher, specifically AES with a key length of at least 128 bits.</span></span> |

## <span data-ttu-id="961f3-273"><a id="mac-hash"></a>Usare algoritmi MAC/HMAC/hash con chiave</span><span class="sxs-lookup"><span data-stu-id="961f3-273"><a id="mac-hash"></a>Use approved MAC/HMAC/keyed hash algorithms</span></span>

| <span data-ttu-id="961f3-274">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-274">Title</span></span>                   | <span data-ttu-id="961f3-275">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-275">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-276">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-276">**Component**</span></span>               | <span data-ttu-id="961f3-277">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="961f3-277">Web Application</span></span> | 
| <span data-ttu-id="961f3-278">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-278">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-279">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-279">Build</span></span> |  
| <span data-ttu-id="961f3-280">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-280">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-281">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-281">Generic</span></span> |
| <span data-ttu-id="961f3-282">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-282">**Attributes**</span></span>              | <span data-ttu-id="961f3-283">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-283">N/A</span></span>  |
| <span data-ttu-id="961f3-284">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-284">**References**</span></span>              | <span data-ttu-id="961f3-285">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-285">N/A</span></span>  |
| <span data-ttu-id="961f3-286">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-286">**Steps**</span></span> | <p><span data-ttu-id="961f3-287">I prodotti devono usare solo algoritmi MAC (Message Authentication Code) o HMAC (Hash Message Authentication Code) approvati.</span><span class="sxs-lookup"><span data-stu-id="961f3-287">Products must use only approved message authentication code (MAC) or hash-based message authentication code (HMAC) algorithms.</span></span></p><p><span data-ttu-id="961f3-288">Un codice MAC è un'informazione allegata a un messaggio che consente ai destinatari di verificare sia l'autenticità del mittente che l'integrità del messaggio con una chiave privata.</span><span class="sxs-lookup"><span data-stu-id="961f3-288">A message authentication code (MAC) is a piece of information attached to a message that allows its recipient to verify both the authenticity of the sender and the integrity of the message using a secret key.</span></span> <span data-ttu-id="961f3-289">L'uso di codice MAC basato su hash ([HMAC](http://csrc.nist.gov/publications/nistpubs/800-107-rev1/sp800-107-rev1.pdf)) o di codice [MAC basato sulla crittografia a blocchi](http://csrc.nist.gov/publications/nistpubs/800-38B/SP_800-38B.pdf) è consentito purché anche tutti gli algoritmi di crittografia simmetrica o hash sottostanti siano approvati per l'uso. Attualmente sono inclusi i codici MAC basati sulla crittografia a blocchi CMAC/OMAC1 e OMAC2 (basati su AES) e le funzioni HMAC-SHA2 (HMAC-SHA256, HMAC-SHA384 e HMAC-SHA512).</span><span class="sxs-lookup"><span data-stu-id="961f3-289">The use of either a hash-based MAC ([HMAC](http://csrc.nist.gov/publications/nistpubs/800-107-rev1/sp800-107-rev1.pdf)) or [block-cipher-based MAC](http://csrc.nist.gov/publications/nistpubs/800-38B/SP_800-38B.pdf) is permissible as long as all underlying hash or symmetric encryption algorithms are also approved for use; currently this includes the HMAC-SHA2 functions (HMAC-SHA256, HMAC-SHA384 and HMAC-SHA512) and the CMAC/OMAC1 and OMAC2 block cipher-based MACs (these are based on AES).</span></span></p><p><span data-ttu-id="961f3-290">L'uso di HMAC-SHA1 può essere consentito per la compatibilità con la piattaforma, ma sarà necessario prevedere un'eccezione a questa procedura e superare la revisione del team di crittografia dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-290">Use of HMAC-SHA1 may be permissible for platform compatibility, but you will be required to file an exception to this procedure and undergo your organization's Crypto review.</span></span> <span data-ttu-id="961f3-291">Non è consentito il troncamento dei codici HMAC a meno di 128 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-291">Truncation of HMACs to less than 128 bits is not permitted.</span></span> <span data-ttu-id="961f3-292">L'uso dei metodi dei clienti per l'hash di una chiave e dei dati non è approvato e deve superare la revisione del team di crittografia dell'organizzazione prima di poter essere adottato.</span><span class="sxs-lookup"><span data-stu-id="961f3-292">Using customer methods to hash a key and data is not approved, and must undergo your organization's Crypto Board review prior to use.</span></span></p>|

## <span data-ttu-id="961f3-293"><a id="hash-functions"></a>Usare solo funzioni hash crittografiche approvate</span><span class="sxs-lookup"><span data-stu-id="961f3-293"><a id="hash-functions"></a>Use only approved cryptographic hash functions</span></span>

| <span data-ttu-id="961f3-294">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-294">Title</span></span>                   | <span data-ttu-id="961f3-295">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-295">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-296">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-296">**Component**</span></span>               | <span data-ttu-id="961f3-297">Applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="961f3-297">Web Application</span></span> | 
| <span data-ttu-id="961f3-298">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-298">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-299">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-299">Build</span></span> |  
| <span data-ttu-id="961f3-300">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-300">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-301">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-301">Generic</span></span> |
| <span data-ttu-id="961f3-302">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-302">**Attributes**</span></span>              | <span data-ttu-id="961f3-303">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-303">N/A</span></span>  |
| <span data-ttu-id="961f3-304">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-304">**References**</span></span>              | <span data-ttu-id="961f3-305">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-305">N/A</span></span>  |
| <span data-ttu-id="961f3-306">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-306">**Steps**</span></span> | <p><span data-ttu-id="961f3-307">I prodotti devono usare la famiglia SHA-2 di algoritmi (SHA256, SHA384 e SHA512).</span><span class="sxs-lookup"><span data-stu-id="961f3-307">Products must use the SHA-2 family of hash algorithms (SHA256, SHA384, and SHA512).</span></span> <span data-ttu-id="961f3-308">Se è necessario un hash più breve, ad esempio una lunghezza di output di 128 bit, per la corrispondenza con una struttura di dati progettata per il più breve hash MD5, i team dei prodotti possono troncare uno degli hash SHA-2 (in genere, SHA256).</span><span class="sxs-lookup"><span data-stu-id="961f3-308">If a shorter hash is needed, such as a 128-bit output length in order to fit a data structure designed with the shorter MD5 hash in mind, product teams may truncate one of the SHA2 hashes (typically SHA256).</span></span> <span data-ttu-id="961f3-309">Si noti che SHA384 è una versione troncata di SHA512.</span><span class="sxs-lookup"><span data-stu-id="961f3-309">Note that SHA384 is a truncated version of SHA512.</span></span> <span data-ttu-id="961f3-310">Il troncamento di hash crittografici per motivi di sicurezza a meno di 128 bit non è consentito.</span><span class="sxs-lookup"><span data-stu-id="961f3-310">Truncation of cryptographic hashes for security purposes to less than 128 bits is not permitted.</span></span> <span data-ttu-id="961f3-311">Il codice nuovo non deve usare gli algoritmi hash MD2, MD4, MD5, SHA-0, SHA-1 o RIPEMD.</span><span class="sxs-lookup"><span data-stu-id="961f3-311">New code must not use the MD2, MD4, MD5, SHA-0, SHA-1, or RIPEMD hash algorithms.</span></span> <span data-ttu-id="961f3-312">Da un punto di vista computazionale, le collisioni di hash sono possibili per questi algoritmi, che li interrompono in modo efficace.</span><span class="sxs-lookup"><span data-stu-id="961f3-312">Hash collisions are computationally feasible for these algorithms, which effectively breaks them.</span></span></p><p><span data-ttu-id="961f3-313">Algoritmi hash .NET consentiti per la flessibilità crittografica gestita (in ordine di preferenza):</span><span class="sxs-lookup"><span data-stu-id="961f3-313">Allowed .NET hash algorithms for managed crypto agility (in order of preference):</span></span></p><ul><li><span data-ttu-id="961f3-314">SHA512Cng (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-314">SHA512Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-315">SHA384Cng (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-315">SHA384Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-316">SHA256Cng (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-316">SHA256Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-317">SHA512Managed (non-conformi a FIPS) (utilizzare SHA512 come nome dell'algoritmo nelle chiamate a HashAlgorithm.Create o CryptoConfig.CreateFromName)</span><span class="sxs-lookup"><span data-stu-id="961f3-317">SHA512Managed (non-FIPS-compliant) (use SHA512 as algorithm name in calls to HashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="961f3-318">SHA384Managed (non-conformi a FIPS) (utilizzare SHA384 come nome dell'algoritmo nelle chiamate a HashAlgorithm.Create o CryptoConfig.CreateFromName)</span><span class="sxs-lookup"><span data-stu-id="961f3-318">SHA384Managed (non-FIPS-compliant) (use SHA384 as algorithm name in calls to HashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="961f3-319">SHA256Managed (non-conformi a FIPS) (utilizzare SHA256 come nome dell'algoritmo nelle chiamate a HashAlgorithm.Create o CryptoConfig.CreateFromName)</span><span class="sxs-lookup"><span data-stu-id="961f3-319">SHA256Managed (non-FIPS-compliant) (use SHA256 as algorithm name in calls to HashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="961f3-320">SHA512CryptoServiceProvider (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-320">SHA512CryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-321">SHA256CryptoServiceProvider (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-321">SHA256CryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="961f3-322">SHA384CryptoServiceProvider (conforme allo standard FIPS)</span><span class="sxs-lookup"><span data-stu-id="961f3-322">SHA384CryptoServiceProvider (FIPS compliant)</span></span></li></ul>| 

## <span data-ttu-id="961f3-323"><a id="strong-db"></a>Usare algoritmi di crittografia avanzata per crittografare i dati nel database</span><span class="sxs-lookup"><span data-stu-id="961f3-323"><a id="strong-db"></a>Use strong encryption algorithms to encrypt data in the database</span></span>

| <span data-ttu-id="961f3-324">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-324">Title</span></span>                   | <span data-ttu-id="961f3-325">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-325">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-326">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-326">**Component**</span></span>               | <span data-ttu-id="961f3-327">Database</span><span class="sxs-lookup"><span data-stu-id="961f3-327">Database</span></span> | 
| <span data-ttu-id="961f3-328">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-328">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-329">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-329">Build</span></span> |  
| <span data-ttu-id="961f3-330">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-330">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-331">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-331">Generic</span></span> |
| <span data-ttu-id="961f3-332">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-332">**Attributes**</span></span>              | <span data-ttu-id="961f3-333">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-333">N/A</span></span>  |
| <span data-ttu-id="961f3-334">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-334">**References**</span></span>              | <span data-ttu-id="961f3-335">[Scelta di un algoritmo di crittografia](https://technet.microsoft.com/library/ms345262(v=sql.130).aspx)</span><span class="sxs-lookup"><span data-stu-id="961f3-335">[Choosing an encryption algorithm](https://technet.microsoft.com/library/ms345262(v=sql.130).aspx)</span></span> |
| <span data-ttu-id="961f3-336">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-336">**Steps**</span></span> | <span data-ttu-id="961f3-337">Gli algoritmi di crittografia definiscono trasformazioni dei dati che non possono essere facilmente invertite da utenti non autorizzati.</span><span class="sxs-lookup"><span data-stu-id="961f3-337">Encryption algorithms define data transformations that cannot be easily reversed by unauthorized users.</span></span> <span data-ttu-id="961f3-338">SQL Server consente ad amministratori e sviluppatori di scegliere tra diversi algoritmi, inclusi DES, Triple DES, TRIPLE_DES_3KEY, RC2, RC4, RC4 a 128 bit, DESX, AES a 128 bit, AES a 192 bit e AES a 256 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-338">SQL Server allows administrators and developers to choose from among several algorithms, including DES, Triple DES, TRIPLE_DES_3KEY, RC2, RC4, 128-bit RC4, DESX, 128-bit AES, 192-bit AES, and 256-bit AES</span></span> |

## <span data-ttu-id="961f3-339"><a id="ssis-signed"></a>I pacchetti SSIS devono essere crittografati ed essere con firma digitale</span><span class="sxs-lookup"><span data-stu-id="961f3-339"><a id="ssis-signed"></a>SSIS packages should be encrypted and digitally signed</span></span>

| <span data-ttu-id="961f3-340">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-340">Title</span></span>                   | <span data-ttu-id="961f3-341">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-341">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-342">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-342">**Component**</span></span>               | <span data-ttu-id="961f3-343">Database</span><span class="sxs-lookup"><span data-stu-id="961f3-343">Database</span></span> | 
| <span data-ttu-id="961f3-344">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-344">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-345">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-345">Build</span></span> |  
| <span data-ttu-id="961f3-346">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-346">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-347">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-347">Generic</span></span> |
| <span data-ttu-id="961f3-348">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-348">**Attributes**</span></span>              | <span data-ttu-id="961f3-349">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-349">N/A</span></span>  |
| <span data-ttu-id="961f3-350">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-350">**References**</span></span>              | <span data-ttu-id="961f3-351">[Identificare l'origine dei pacchetti con firme digitali](https://msdn.microsoft.com/library/ms141174.aspx), [Mitigazione di minacce e vulnerabilità (Integration Services)](https://msdn.microsoft.com/library/bb522559.aspx)</span><span class="sxs-lookup"><span data-stu-id="961f3-351">[Identify the Source of Packages with Digital Signatures](https://msdn.microsoft.com/library/ms141174.aspx), [Threat and Vulnerability Mitigation (Integration Services)](https://msdn.microsoft.com/library/bb522559.aspx)</span></span> |
| <span data-ttu-id="961f3-352">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-352">**Steps**</span></span> | <span data-ttu-id="961f3-353">L'origine di un pacchetto è la persona o l'organizzazione che ha creato il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="961f3-353">The source of a package is the individual or organization that created the package.</span></span> <span data-ttu-id="961f3-354">Eseguire un pacchetto da un'origine sconosciuta o non attendibile può essere rischioso.</span><span class="sxs-lookup"><span data-stu-id="961f3-354">Running a package from an unknown or untrusted source might be risky.</span></span> <span data-ttu-id="961f3-355">Per impedire la manomissione non autorizzata dei pacchetti SSIS, è consigliabile usare le firme digitali.</span><span class="sxs-lookup"><span data-stu-id="961f3-355">To prevent unauthorized tampering of SSIS packages, digital signatures should be used.</span></span> <span data-ttu-id="961f3-356">Per garantire la riservatezza dei pacchetti durante l'archiviazione o il transito, i pacchetti SSIS devono anche essere crittografati.</span><span class="sxs-lookup"><span data-stu-id="961f3-356">Also, to ensure the confidentiality of the packages during storage/transit, SSIS packages have to be encrypted</span></span> |

## <span data-ttu-id="961f3-357"><a id="securables-db"></a>Aggiungere la firma digitale alle entità a protezione diretta del database critiche</span><span class="sxs-lookup"><span data-stu-id="961f3-357"><a id="securables-db"></a>Add digital signature to critical database securables</span></span>

| <span data-ttu-id="961f3-358">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-358">Title</span></span>                   | <span data-ttu-id="961f3-359">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-359">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-360">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-360">**Component**</span></span>               | <span data-ttu-id="961f3-361">Database</span><span class="sxs-lookup"><span data-stu-id="961f3-361">Database</span></span> | 
| <span data-ttu-id="961f3-362">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-362">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-363">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-363">Build</span></span> |  
| <span data-ttu-id="961f3-364">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-364">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-365">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-365">Generic</span></span> |
| <span data-ttu-id="961f3-366">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-366">**Attributes**</span></span>              | <span data-ttu-id="961f3-367">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-367">N/A</span></span>  |
| <span data-ttu-id="961f3-368">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-368">**References**</span></span>              | [<span data-ttu-id="961f3-369">ADD SIGNATURE (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="961f3-369">ADD SIGNATURE (Transact-SQL)</span></span>](https://msdn.microsoft.com/library/ms181700) |
| <span data-ttu-id="961f3-370">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-370">**Steps**</span></span> | <span data-ttu-id="961f3-371">Qualora sia necessario verificare l'integrità di un'entità a protezione diretta del database critica, è consigliabile usare le firme digitali.</span><span class="sxs-lookup"><span data-stu-id="961f3-371">In cases where the integrity of a critical database securable has to be verified, digital signatures should be used.</span></span> <span data-ttu-id="961f3-372">Le entità a protezione diretta del database critiche, ad esempio stored procedure, funzioni, assembly o trigger, possono essere con firma digitale.</span><span class="sxs-lookup"><span data-stu-id="961f3-372">Database securables such as a stored procedure, function, assembly, or trigger can be digitally signed.</span></span> <span data-ttu-id="961f3-373">Ecco un esempio di quando ciò può essere utile: si supponga che un fornitore di software indipendente (ISV) abbia fornito supporto per un software distribuito a uno dei clienti.</span><span class="sxs-lookup"><span data-stu-id="961f3-373">Below is an example of when this can be useful: Let us say an ISV (Independent Software Vendor) has provided support to a software delivered to one of their customers.</span></span> <span data-ttu-id="961f3-374">Prima di fornire il supporto, l'ISV vuole assicurarsi che un'entità a protezione diretta del database nel software non sia stata manomessa per errore o intenzionalmente.</span><span class="sxs-lookup"><span data-stu-id="961f3-374">Before providing support, the ISV would want to ensure that a database securable in the software was not tampered either by mistake or by a malicious attempt.</span></span> <span data-ttu-id="961f3-375">Se l'entità a protezione diretta è con firma digitale, l'ISV può verificarne la firma digitale e convalidarne l'integrità.</span><span class="sxs-lookup"><span data-stu-id="961f3-375">If the securable is digitally signed, the ISV can verify its digital signature and validate its integrity.</span></span>| 

## <span data-ttu-id="961f3-376"><a id="ekm-keys"></a>Usare EKM di SQL Server per proteggere le chiavi di crittografia</span><span class="sxs-lookup"><span data-stu-id="961f3-376"><a id="ekm-keys"></a>Use SQL server EKM to protect encryption keys</span></span>

| <span data-ttu-id="961f3-377">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-377">Title</span></span>                   | <span data-ttu-id="961f3-378">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-378">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-379">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-379">**Component**</span></span>               | <span data-ttu-id="961f3-380">Database</span><span class="sxs-lookup"><span data-stu-id="961f3-380">Database</span></span> | 
| <span data-ttu-id="961f3-381">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-381">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-382">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-382">Build</span></span> |  
| <span data-ttu-id="961f3-383">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-383">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-384">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-384">Generic</span></span> |
| <span data-ttu-id="961f3-385">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-385">**Attributes**</span></span>              | <span data-ttu-id="961f3-386">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-386">N/A</span></span>  |
| <span data-ttu-id="961f3-387">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-387">**References**</span></span>              | <span data-ttu-id="961f3-388">[Extensible Key Management (EKM) di SQL Server](https://msdn.microsoft.com/library/bb895340), [Extensible Key Management con Azure Key Vault (SQL Server)](https://msdn.microsoft.com/library/dn198405)</span><span class="sxs-lookup"><span data-stu-id="961f3-388">[SQL Server Extensible Key Management (EKM)](https://msdn.microsoft.com/library/bb895340), [Extensible Key Management Using Azure Key Vault (SQL Server)](https://msdn.microsoft.com/library/dn198405)</span></span> |
| <span data-ttu-id="961f3-389">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-389">**Steps**</span></span> | <span data-ttu-id="961f3-390">Extensible Key Management di SQL Server consente di archiviare le chiavi di crittografia che proteggono i file di database in un dispositivo off-box, ad esempio una smart card, un dispositivo USB o un modulo EKM/HSM.</span><span class="sxs-lookup"><span data-stu-id="961f3-390">SQL Server Extensible Key Management enables the encryption keys that protect the database files to be stored in an off-box device such as a smartcard, USB device, or EKM/HSM module.</span></span> <span data-ttu-id="961f3-391">Ciò consente anche la protezione dei dati agli amministratori del database, tranne ai membri del gruppo di amministratori di sistema.</span><span class="sxs-lookup"><span data-stu-id="961f3-391">This also enables data protection from database administrators (except members of the sysadmin group).</span></span> <span data-ttu-id="961f3-392">I dati possono essere crittografati usando le chiavi di crittografia a cui ha accesso solo l'utente del database nel modulo EKM/HSM esterno.</span><span class="sxs-lookup"><span data-stu-id="961f3-392">Data can be encrypted by using encryption keys that only the database user has access to on the external EKM/HSM module.</span></span> |

## <span data-ttu-id="961f3-393"><a id="keys-engine"></a>Usare la funzionalità AlwaysEncrypted se le chiavi di crittografia non devono essere rivelate al motore di database</span><span class="sxs-lookup"><span data-stu-id="961f3-393"><a id="keys-engine"></a>Use AlwaysEncrypted feature if encryption keys should not be revealed to Database engine</span></span>

| <span data-ttu-id="961f3-394">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-394">Title</span></span>                   | <span data-ttu-id="961f3-395">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-396">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-396">**Component**</span></span>               | <span data-ttu-id="961f3-397">Database</span><span class="sxs-lookup"><span data-stu-id="961f3-397">Database</span></span> | 
| <span data-ttu-id="961f3-398">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-398">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-399">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-399">Build</span></span> |  
| <span data-ttu-id="961f3-400">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-400">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-401">SQL Azure, locale</span><span class="sxs-lookup"><span data-stu-id="961f3-401">SQL Azure, OnPrem</span></span> |
| <span data-ttu-id="961f3-402">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-402">**Attributes**</span></span>              | <span data-ttu-id="961f3-403">Versione SQL: V12, MsSQL2016</span><span class="sxs-lookup"><span data-stu-id="961f3-403">SQL Version - V12, MsSQL2016</span></span> |
| <span data-ttu-id="961f3-404">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-404">**References**</span></span>              | [<span data-ttu-id="961f3-405">Always Encrypted (Motore di database)</span><span class="sxs-lookup"><span data-stu-id="961f3-405">Always Encrypted (Database Engine)</span></span>](https://msdn.microsoft.com/library/mt163865) |
| <span data-ttu-id="961f3-406">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-406">**Steps**</span></span> | <span data-ttu-id="961f3-407">Always Encrypted è una funzionalità progettata per proteggere i dati sensibili, ad esempio i numeri di carta di credito o i numeri di identificazione nazionale, come i codici fiscali, archiviati nei database SQL di Azure o nei database di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="961f3-407">Always Encrypted is a feature designed to protect sensitive data, such as credit card numbers or national identification numbers (e.g. U.S. social security numbers), stored in Azure SQL Database or SQL Server databases.</span></span> <span data-ttu-id="961f3-408">La funzionalità Always Encrypted consente ai client di crittografare i dati sensibili nelle applicazioni client e di non rivelare mai le chiavi di crittografia al motore di database (database SQL o SQL Server).</span><span class="sxs-lookup"><span data-stu-id="961f3-408">Always Encrypted allows clients to encrypt sensitive data inside client applications and never reveal the encryption keys to the Database Engine (SQL Database or SQL Server).</span></span> <span data-ttu-id="961f3-409">Di conseguenza, Always Encrypted consente di separare i proprietari dei dati (che possono visualizzarli) e le persone incaricate della gestione dei dati (che però non devono poter accedere ai dati).</span><span class="sxs-lookup"><span data-stu-id="961f3-409">As a result, Always Encrypted provides a separation between those who own the data (and can view it) and those who manage the data (but should have no access)</span></span> |

## <span data-ttu-id="961f3-410"><a id="keys-iot"></a>Archiviare le chiavi di crittografia in modo sicuro nel dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="961f3-410"><a id="keys-iot"></a>Store Cryptographic Keys securely on IoT Device</span></span>

| <span data-ttu-id="961f3-411">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-411">Title</span></span>                   | <span data-ttu-id="961f3-412">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-412">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-413">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-413">**Component**</span></span>               | <span data-ttu-id="961f3-414">Dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="961f3-414">IoT Device</span></span> | 
| <span data-ttu-id="961f3-415">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-415">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-416">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-416">Build</span></span> |  
| <span data-ttu-id="961f3-417">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-417">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-418">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-418">Generic</span></span> |
| <span data-ttu-id="961f3-419">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-419">**Attributes**</span></span>              | <span data-ttu-id="961f3-420">Sistema operativo dispositivo: Windows IoT Core, connettività dispositivo: Azure IoT SDK per dispositivi</span><span class="sxs-lookup"><span data-stu-id="961f3-420">Device OS - Windows IoT Core, Device Connectivity - Azure IoT device SDKs</span></span> |
| <span data-ttu-id="961f3-421">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-421">**References**</span></span>              | <span data-ttu-id="961f3-422">[TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/docs/tpm) (TPM in Windows IoT Core), [Set up TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/win10/setuptpm) (Configurare TPM in Windows IoT Core), [Azure IoT Device SDK TPM](https://github.com/Azure/azure-iot-hub-vs-cs/wiki/Device-Provisioning-with-TPM) (TPM di Azure IoT SDK per dispositivi)</span><span class="sxs-lookup"><span data-stu-id="961f3-422">[TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/docs/tpm), [Set up TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/win10/setuptpm), [Azure IoT Device SDK TPM](https://github.com/Azure/azure-iot-hub-vs-cs/wiki/Device-Provisioning-with-TPM)</span></span> |
| <span data-ttu-id="961f3-423">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-423">**Steps**</span></span> | <span data-ttu-id="961f3-424">Archiviare le chiavi private dei certificati o simmetriche in modo sicuro in una risorsa di archiviazione hardware protetta, ad esempio chip di smart card o TPM.</span><span class="sxs-lookup"><span data-stu-id="961f3-424">Symmetric or Certificate Private keys securely in a hardware protected storage like TPM or Smart Card chips.</span></span> <span data-ttu-id="961f3-425">Windows 10 IoT Core supporta l'uso di un modulo TPM. Sono diversi i moduli TPM compatibili che possono essere usati: https://developer.microsoft.com/windows/iot/win10/tpm.</span><span class="sxs-lookup"><span data-stu-id="961f3-425">Windows 10 IoT Core supports the user of a TPM and there are several compatible TPMs that can be used: https://developer.microsoft.com/windows/iot/win10/tpm.</span></span> <span data-ttu-id="961f3-426">È consigliabile usare un modulo TPM firmware o discreto.</span><span class="sxs-lookup"><span data-stu-id="961f3-426">It is recommended to use a Firmware or Discrete TPM.</span></span> <span data-ttu-id="961f3-427">Un modulo TPM software deve essere usato solo a scopo di sviluppo e test.</span><span class="sxs-lookup"><span data-stu-id="961f3-427">A Software TPM should only be used for development and testing purposes.</span></span> <span data-ttu-id="961f3-428">Quando un modulo TPM è disponibile ed è stato effettuato il provisioning delle chiavi, il codice che genera il token deve essere scritto senza codificare le informazioni sensibili.</span><span class="sxs-lookup"><span data-stu-id="961f3-428">Once a TPM is available and the keys are provisioned in it, the code that generates the token should be written without hard coding any sensitive information in it.</span></span> | 

### <a name="example"></a><span data-ttu-id="961f3-429">Esempio</span><span class="sxs-lookup"><span data-stu-id="961f3-429">Example</span></span>
```
TpmDevice myDevice = new TpmDevice(0);
// Use logical device 0 on the TPM 
string hubUri = myDevice.GetHostName(); 
string deviceId = myDevice.GetDeviceId(); 
string sasToken = myDevice.GetSASToken(); 

var deviceClient = DeviceClient.Create( hubUri, AuthenticationMethodFactory. CreateAuthenticationWithToken(deviceId, sasToken), TransportType.Amqp); 
```
<span data-ttu-id="961f3-430">Come si può osservare, la chiave primaria del dispositivo non è presente nel codice.</span><span class="sxs-lookup"><span data-stu-id="961f3-430">As can be seen, the device primary key is not present in the code.</span></span> <span data-ttu-id="961f3-431">Viene invece archiviata nello slot 0 del modulo TPM.</span><span class="sxs-lookup"><span data-stu-id="961f3-431">Instead, it is stored in the TPM at slot 0.</span></span> <span data-ttu-id="961f3-432">Il dispositivo TPM genera un token di firma di accesso condiviso temporaneo che viene quindi usato per connettersi all'hub IoT.</span><span class="sxs-lookup"><span data-stu-id="961f3-432">TPM device generates a short-lived SAS token that is then used to connect to the IoT Hub.</span></span> 

## <span data-ttu-id="961f3-433"><a id="random-hub"></a>Generare una chiave simmetrica casuale sufficientemente lunga per l'autenticazione nell'hub IoT</span><span class="sxs-lookup"><span data-stu-id="961f3-433"><a id="random-hub"></a>Generate a random symmetric key of sufficient length for authentication to IoT Hub</span></span>

| <span data-ttu-id="961f3-434">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-434">Title</span></span>                   | <span data-ttu-id="961f3-435">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-435">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-436">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-436">**Component**</span></span>               | <span data-ttu-id="961f3-437">Gateway IoT cloud</span><span class="sxs-lookup"><span data-stu-id="961f3-437">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="961f3-438">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-438">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-439">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-439">Build</span></span> |  
| <span data-ttu-id="961f3-440">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-440">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-441">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-441">Generic</span></span> |
| <span data-ttu-id="961f3-442">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-442">**Attributes**</span></span>              | <span data-ttu-id="961f3-443">Opzione gateway: Hub IoT di Azure</span><span class="sxs-lookup"><span data-stu-id="961f3-443">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="961f3-444">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-444">**References**</span></span>              | <span data-ttu-id="961f3-445">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-445">N/A</span></span>  |
| <span data-ttu-id="961f3-446">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-446">**Steps**</span></span> | <span data-ttu-id="961f3-447">L'hub IoT contiene un registro di identità del dispositivo e durante il provisioning genera automaticamente una chiave simmetrica casuale.</span><span class="sxs-lookup"><span data-stu-id="961f3-447">IoT Hub contains a device Identity Registry and while provisioning a device, automatically generates a random Symmetric key.</span></span> <span data-ttu-id="961f3-448">È consigliabile usare questa funzionalità del registro di identità dell'hub IoT di Azure per generare la chiave usata per l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="961f3-448">It is recommended to use this feature of the Azure IoT Hub Identity Registry to generate the key used for authentication.</span></span> <span data-ttu-id="961f3-449">L'hub IoT consente anche di specificare una chiave durante la creazione del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="961f3-449">IoT Hub also allows for a key to be specified while creating the device.</span></span> <span data-ttu-id="961f3-450">Se viene generata una chiave all'esterno dell'hub IoT durante il provisioning del dispositivo, è consigliabile creare una chiave simmetrica casuale o almeno a 256 bit.</span><span class="sxs-lookup"><span data-stu-id="961f3-450">If a key is generated outside of IoT Hub during device provisioning, it is recommended to create a random symmetric key or at least 256 bits.</span></span> |

## <span data-ttu-id="961f3-451"><a id="pin-remote"></a>Assicurarsi che sia attivo un criterio di gestione dei dispositivi che richiede di usare il PIN e consente la cancellazione remota</span><span class="sxs-lookup"><span data-stu-id="961f3-451"><a id="pin-remote"></a>Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span>

| <span data-ttu-id="961f3-452">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-452">Title</span></span>                   | <span data-ttu-id="961f3-453">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-453">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-454">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-454">**Component**</span></span>               | <span data-ttu-id="961f3-455">Client Dynamics CRM Mobile</span><span class="sxs-lookup"><span data-stu-id="961f3-455">Dynamics CRM Mobile Client</span></span> | 
| <span data-ttu-id="961f3-456">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-456">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-457">Distribuzione</span><span class="sxs-lookup"><span data-stu-id="961f3-457">Deployment</span></span> |  
| <span data-ttu-id="961f3-458">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-458">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-459">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-459">Generic</span></span> |
| <span data-ttu-id="961f3-460">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-460">**Attributes**</span></span>              | <span data-ttu-id="961f3-461">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-461">N/A</span></span>  |
| <span data-ttu-id="961f3-462">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-462">**References**</span></span>              | <span data-ttu-id="961f3-463">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-463">N/A</span></span>  |
| <span data-ttu-id="961f3-464">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-464">**Steps**</span></span> | <span data-ttu-id="961f3-465">Assicurarsi che sia attivo un criterio di gestione dei dispositivi che richiede di usare il PIN e consente la cancellazione remota.</span><span class="sxs-lookup"><span data-stu-id="961f3-465">Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span> |

## <span data-ttu-id="961f3-466"><a id="bitlocker"></a>Assicurarsi che sia attivo un criterio di gestione dei dispositivi che richiede PIN/password/blocco automatico e crittografa tutti i dati (ad esempio, Bitlocker)</span><span class="sxs-lookup"><span data-stu-id="961f3-466"><a id="bitlocker"></a>Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span>

| <span data-ttu-id="961f3-467">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-467">Title</span></span>                   | <span data-ttu-id="961f3-468">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-468">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-469">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-469">**Component**</span></span>               | <span data-ttu-id="961f3-470">Client Dynamics CRM per Outlook</span><span class="sxs-lookup"><span data-stu-id="961f3-470">Dynamics CRM Outlook Client</span></span> | 
| <span data-ttu-id="961f3-471">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-471">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-472">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-472">Build</span></span> |  
| <span data-ttu-id="961f3-473">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-473">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-474">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-474">Generic</span></span> |
| <span data-ttu-id="961f3-475">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-475">**Attributes**</span></span>              | <span data-ttu-id="961f3-476">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-476">N/A</span></span>  |
| <span data-ttu-id="961f3-477">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-477">**References**</span></span>              | <span data-ttu-id="961f3-478">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-478">N/A</span></span>  |
| <span data-ttu-id="961f3-479">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-479">**Steps**</span></span> | <span data-ttu-id="961f3-480">Assicurarsi che sia attivo un criterio di gestione dei dispositivi che richiede PIN/password/blocco automatico e crittografa tutti i dati (ad esempio, Bitlocker).</span><span class="sxs-lookup"><span data-stu-id="961f3-480">Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span> |

## <span data-ttu-id="961f3-481"><a id="rolled-server"></a>Assicurarsi che venga eseguito il rollover delle chiavi di firma quando si usa Identity Server</span><span class="sxs-lookup"><span data-stu-id="961f3-481"><a id="rolled-server"></a>Ensure that signing keys are rolled over when using Identity Server</span></span>

| <span data-ttu-id="961f3-482">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-482">Title</span></span>                   | <span data-ttu-id="961f3-483">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-483">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-484">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-484">**Component**</span></span>               | <span data-ttu-id="961f3-485">Identity Server</span><span class="sxs-lookup"><span data-stu-id="961f3-485">Identity Server</span></span> | 
| <span data-ttu-id="961f3-486">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-486">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-487">Distribuzione</span><span class="sxs-lookup"><span data-stu-id="961f3-487">Deployment</span></span> |  
| <span data-ttu-id="961f3-488">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-488">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-489">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-489">Generic</span></span> |
| <span data-ttu-id="961f3-490">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-490">**Attributes**</span></span>              | <span data-ttu-id="961f3-491">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-491">N/A</span></span>  |
| <span data-ttu-id="961f3-492">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-492">**References**</span></span>              | <span data-ttu-id="961f3-493">[Identity Server - Keys, Signatures and Cryptography](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html) (Identity Server: chiavi, firme e crittografia)</span><span class="sxs-lookup"><span data-stu-id="961f3-493">[Identity Server - Keys, Signatures and Cryptography ](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html)</span></span> |
| <span data-ttu-id="961f3-494">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-494">**Steps**</span></span> | <span data-ttu-id="961f3-495">Assicurarsi che venga eseguito il rollover delle chiavi di firma quando si usa Identity Server.</span><span class="sxs-lookup"><span data-stu-id="961f3-495">Ensure that signing keys are rolled over when using Identity Server.</span></span> <span data-ttu-id="961f3-496">Il collegamento nella sezione Riferimenti illustra come pianificarlo senza causare interruzioni delle applicazioni basate su Identity Server.</span><span class="sxs-lookup"><span data-stu-id="961f3-496">The link in the references section explains how this should be planned without causing outages to applications relying on Identity Server.</span></span> |

## <span data-ttu-id="961f3-497"><a id="client-server"></a>Assicurarsi che vengano usati un ID client e un segreto client con crittografia complessa in Identity Server</span><span class="sxs-lookup"><span data-stu-id="961f3-497"><a id="client-server"></a>Ensure that cryptographically strong client ID, client secret are used in Identity Server</span></span>

| <span data-ttu-id="961f3-498">Titolo</span><span class="sxs-lookup"><span data-stu-id="961f3-498">Title</span></span>                   | <span data-ttu-id="961f3-499">Dettagli</span><span class="sxs-lookup"><span data-stu-id="961f3-499">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="961f3-500">**Componente**</span><span class="sxs-lookup"><span data-stu-id="961f3-500">**Component**</span></span>               | <span data-ttu-id="961f3-501">Identity Server</span><span class="sxs-lookup"><span data-stu-id="961f3-501">Identity Server</span></span> | 
| <span data-ttu-id="961f3-502">**Fase SDL**</span><span class="sxs-lookup"><span data-stu-id="961f3-502">**SDL Phase**</span></span>               | <span data-ttu-id="961f3-503">Compilare</span><span class="sxs-lookup"><span data-stu-id="961f3-503">Build</span></span> |  
| <span data-ttu-id="961f3-504">**Tecnologie applicabili**</span><span class="sxs-lookup"><span data-stu-id="961f3-504">**Applicable Technologies**</span></span> | <span data-ttu-id="961f3-505">Generico</span><span class="sxs-lookup"><span data-stu-id="961f3-505">Generic</span></span> |
| <span data-ttu-id="961f3-506">**Attributes (Attributi) (Attributi)**</span><span class="sxs-lookup"><span data-stu-id="961f3-506">**Attributes**</span></span>              | <span data-ttu-id="961f3-507">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-507">N/A</span></span>  |
| <span data-ttu-id="961f3-508">**Riferimenti**</span><span class="sxs-lookup"><span data-stu-id="961f3-508">**References**</span></span>              | <span data-ttu-id="961f3-509">N/D</span><span class="sxs-lookup"><span data-stu-id="961f3-509">N/A</span></span>  |
| <span data-ttu-id="961f3-510">**Passaggi**</span><span class="sxs-lookup"><span data-stu-id="961f3-510">**Steps**</span></span> | <p><span data-ttu-id="961f3-511">Assicurarsi che vengano usati un ID client e un segreto client con crittografia complessa in Identity Server.</span><span class="sxs-lookup"><span data-stu-id="961f3-511">Ensure that cryptographically strong client ID, client secret are used in Identity Server.</span></span> <span data-ttu-id="961f3-512">È consigliabile seguire queste linee guida durante la generazione di un ID e un segreto client:</span><span class="sxs-lookup"><span data-stu-id="961f3-512">The following guidelines should be used while generating a client ID and secret:</span></span></p><ul><li><span data-ttu-id="961f3-513">Generare un GUID casuale come ID client</span><span class="sxs-lookup"><span data-stu-id="961f3-513">Generate a random GUID as the client ID</span></span></li><li><span data-ttu-id="961f3-514">Generare una chiave a 256 bit casuale tramite crittografia come segreto</span><span class="sxs-lookup"><span data-stu-id="961f3-514">Generate a cryptographically random 256-bit key as the secret</span></span></li></ul>|