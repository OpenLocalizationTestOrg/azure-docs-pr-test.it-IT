---
title: "Monitorare la disponibilità e la velocità di risposta dei siti Web | Microsoft Docs"
description: Configurare i test Web in Application Insights. Ottenere avvisi se un sito Web diventa non disponibile o risponde lentamente.
services: application-insights
documentationcenter: 
author: SoubhagyaDash
manager: carmonm
ms.assetid: 46dc13b4-eb2e-4142-a21c-94a156f760ee
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/25/2017
ms.author: bwren
ms.openlocfilehash: 6c7f52fc3998b0b29301206ffbc6a5a0c4134f6a
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="monitor-availability-and-responsiveness-of-any-web-site"></a><span data-ttu-id="542e2-104">Monitorare la disponibilità e la velocità di risposta dei siti Web</span><span class="sxs-lookup"><span data-stu-id="542e2-104">Monitor availability and responsiveness of any web site</span></span>
<span data-ttu-id="542e2-105">Dopo aver distribuito l'app Web o il sito Web in qualsiasi server, è possibile configurare alcuni test per monitorarne la disponibilità e la velocità di risposta.</span><span class="sxs-lookup"><span data-stu-id="542e2-105">After you've deployed your web app or web site to any server, you can set up tests to monitor its availability and responsiveness.</span></span> <span data-ttu-id="542e2-106">[Azure Application Insights](app-insights-overview.md) invia richieste Web all'applicazione a intervalli regolari da diversi punti in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="542e2-106">[Azure Application Insights](app-insights-overview.md) sends web requests to your application at regular intervals from points around the world.</span></span> <span data-ttu-id="542e2-107">Invia avvisi all'utente nel caso in cui l'applicazione risponda lentamente o non risponda affatto.</span><span class="sxs-lookup"><span data-stu-id="542e2-107">It alerts you if your application doesn't respond, or responds slowly.</span></span>

<span data-ttu-id="542e2-108">È possibile configurare test di disponibilità per qualsiasi endpoint HTTP o HTTPS accessibile dalla rete Internet pubblica.</span><span class="sxs-lookup"><span data-stu-id="542e2-108">You can set up availability tests for any HTTP or HTTPS endpoint that is accessible from the public internet.</span></span> <span data-ttu-id="542e2-109">Non è necessario aggiungere altro al sito Web che si sta testando.</span><span class="sxs-lookup"><span data-stu-id="542e2-109">You don't have to add anything to the web site you're testing.</span></span> <span data-ttu-id="542e2-110">Non deve necessariamente trattarsi del proprio sito: è possibile testare un servizio API REST da cui si dipende.</span><span class="sxs-lookup"><span data-stu-id="542e2-110">It doesn't even have to be your site: you could test a REST API service on which you depend.</span></span>

<span data-ttu-id="542e2-111">Sono disponibili due tipi di test di disponibilità:</span><span class="sxs-lookup"><span data-stu-id="542e2-111">There are two types of availability tests:</span></span>

* <span data-ttu-id="542e2-112">[Test di ping URL](#create): un semplice test che può essere creato nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="542e2-112">[URL ping test](#create): a simple test that you can create in the Azure portal.</span></span>
* <span data-ttu-id="542e2-113">[Test Web in più passi](#multi-step-web-tests): viene creato in Visual Studio Enterprise e caricato nel portale.</span><span class="sxs-lookup"><span data-stu-id="542e2-113">[Multi-step web test](#multi-step-web-tests): which you create in Visual Studio Enterprise and upload to the portal.</span></span>

<span data-ttu-id="542e2-114">È possibile creare fino a 25 test di disponibilità per ogni risorsa dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="542e2-114">You can create up to 25 availability tests per application resource.</span></span>

## <span data-ttu-id="542e2-115"><a name="create"></a>1. Aprire una risorsa per i report dei test di disponibilità</span><span class="sxs-lookup"><span data-stu-id="542e2-115"><a name="create"></a>1. Open a resource for your availability test reports</span></span>

<span data-ttu-id="542e2-116">**Se si è già configurato Application Insights** per l'app Web, aprire la risorsa di Application Insights nel [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="542e2-116">**If you have already configured Application Insights** for your web app, open its Application Insights resource in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="542e2-117">**Se invece si vogliono visualizzare i report in una nuova risorsa**, accedere a [Microsoft Azure](http://azure.com), passare al [portale di Azure](https://portal.azure.com) e creare una risorsa di Application Insights.</span><span class="sxs-lookup"><span data-stu-id="542e2-117">**Or, if you want to see your reports in a new resource,** sign up to [Microsoft Azure](http://azure.com), go to the [Azure portal](https://portal.azure.com), and create an Application Insights resource.</span></span>

![New > Application Insights](./media/app-insights-monitor-web-app-availability/11-new-app.png)

<span data-ttu-id="542e2-119">Fare clic su **Tutte le risorse** per aprire il pannello Panoramica per la nuova risorsa.</span><span class="sxs-lookup"><span data-stu-id="542e2-119">Click **All resources** to open the Overview blade for the new resource.</span></span>

## <span data-ttu-id="542e2-120"><a name="setup"></a>2. Creare un test di ping URL</span><span class="sxs-lookup"><span data-stu-id="542e2-120"><a name="setup"></a>2. Create a URL ping test</span></span>
<span data-ttu-id="542e2-121">Aprire il pannello Disponibilità e aggiungere un test.</span><span class="sxs-lookup"><span data-stu-id="542e2-121">Open the Availability blade and add a test.</span></span>

![Fill at least the URL of your website](./media/app-insights-monitor-web-app-availability/13-availability.png)

* <span data-ttu-id="542e2-123">**L'URL** può essere qualsiasi pagina Web che si vuole testare, ma deve essere visibile da Internet pubblico.</span><span class="sxs-lookup"><span data-stu-id="542e2-123">**The URL** can be any web page you want to test, but it must be visible from the public internet.</span></span> <span data-ttu-id="542e2-124">L'URL può includere una stringa di query.</span><span class="sxs-lookup"><span data-stu-id="542e2-124">The URL can include a query string.</span></span> <span data-ttu-id="542e2-125">In questo modo, ad esempio, è possibile esercitarsi nell'uso del database.</span><span class="sxs-lookup"><span data-stu-id="542e2-125">So, for example, you can exercise your database a little.</span></span> <span data-ttu-id="542e2-126">Se l'URL comporta un reindirizzamento, l'operazione viene effettuata fino a un numero massimo di 10 reindirizzamenti.</span><span class="sxs-lookup"><span data-stu-id="542e2-126">If the URL resolves to a redirect, we follow it up to 10 redirects.</span></span>
* <span data-ttu-id="542e2-127">**Analizza richieste dipendenti**: se questa opzione è selezionata, il test richiede immagini, script, file di stile e altri file che fanno parte della pagina Web sottoposta a test.</span><span class="sxs-lookup"><span data-stu-id="542e2-127">**Parse dependent requests**: If this option is checked, the test requests images, scripts, style files, and other files that are part of the web page under test.</span></span> <span data-ttu-id="542e2-128">Il tempo di risposta registrato include il tempo impiegato per ottenere questi file.</span><span class="sxs-lookup"><span data-stu-id="542e2-128">The recorded response time includes the time taken to get these files.</span></span> <span data-ttu-id="542e2-129">Il test avrà esito negativo se non è possibile scaricare tutte queste risorse entro il timeout definito per l'intero test.</span><span class="sxs-lookup"><span data-stu-id="542e2-129">The test fails if all these resources cannot be successfully downloaded within the timeout for the whole test.</span></span> 

    <span data-ttu-id="542e2-130">Se l'opzione non viene selezionata, il test richiede solo il file in corrispondenza dell'URL specificato.</span><span class="sxs-lookup"><span data-stu-id="542e2-130">If the option is not checked, the test only requests the file at the URL you specified.</span></span>
* <span data-ttu-id="542e2-131">**Abilita nuovi tentativi**: se questa opzione viene selezionata, quando il test ha esito negativo, viene eseguito un nuovo tentativo dopo un breve intervallo.</span><span class="sxs-lookup"><span data-stu-id="542e2-131">**Enable retries**:  If this option is checked, when the test fails, it is retried after a short interval.</span></span> <span data-ttu-id="542e2-132">Un errore viene segnalato solo se tre tentativi successivi non riescono.</span><span class="sxs-lookup"><span data-stu-id="542e2-132">A failure is reported only if three successive attempts fail.</span></span> <span data-ttu-id="542e2-133">I test successivi vengono quindi eseguiti in base alla frequenza di test normale.</span><span class="sxs-lookup"><span data-stu-id="542e2-133">Subsequent tests are then performed at the usual test frequency.</span></span> <span data-ttu-id="542e2-134">I nuovi tentativi saranno temporaneamente sospesi fino al completamento successivo.</span><span class="sxs-lookup"><span data-stu-id="542e2-134">Retry is temporarily suspended until the next success.</span></span> <span data-ttu-id="542e2-135">Questa regola viene applicata in modo indipendente in ogni località di test.</span><span class="sxs-lookup"><span data-stu-id="542e2-135">This rule is applied independently at each test location.</span></span> <span data-ttu-id="542e2-136">Questa opzione è consigliata.</span><span class="sxs-lookup"><span data-stu-id="542e2-136">We recommend this option.</span></span> <span data-ttu-id="542e2-137">In media, circa l'80% degli errori non si ripresenta al nuovo tentativo.</span><span class="sxs-lookup"><span data-stu-id="542e2-137">On average, about 80% of failures disappear on retry.</span></span>
* <span data-ttu-id="542e2-138">**Frequenza test**: impostare la frequenza di esecuzione del test da ogni località di test.</span><span class="sxs-lookup"><span data-stu-id="542e2-138">**Test frequency**: Sets how often the test is run from each test location.</span></span> <span data-ttu-id="542e2-139">Con una frequenza di cinque minuti e cinque località di test, il sito verrà testato in media ogni minuto.</span><span class="sxs-lookup"><span data-stu-id="542e2-139">With a frequency of five minutes and five test locations, your site is tested on average every minute.</span></span>
* <span data-ttu-id="542e2-140">**Località di test** : sono le posizioni da cui i server inviano richieste Web all'URL indicato.</span><span class="sxs-lookup"><span data-stu-id="542e2-140">**Test locations** are the places from where our servers send web requests to your URL.</span></span> <span data-ttu-id="542e2-141">Sceglierne più di una, per poter distinguere i problemi del sito Web dai problemi di rete.</span><span class="sxs-lookup"><span data-stu-id="542e2-141">Choose more than one so that you can distinguish problems in your website from network issues.</span></span> <span data-ttu-id="542e2-142">È possibile selezionare fino a 16 località.</span><span class="sxs-lookup"><span data-stu-id="542e2-142">You can select up to 16 locations.</span></span>
* <span data-ttu-id="542e2-143">**Criteri di successo**:</span><span class="sxs-lookup"><span data-stu-id="542e2-143">**Success criteria**:</span></span>

    <span data-ttu-id="542e2-144">**Timeout test**: ridurre questo valore per ricevere avvisi in merito alle risposte lente.</span><span class="sxs-lookup"><span data-stu-id="542e2-144">**Test timeout**: Decrease this value to be alerted about slow responses.</span></span> <span data-ttu-id="542e2-145">Il test viene conteggiato come non riuscito se le risposte dal sito non sono state ricevute entro questo periodo.</span><span class="sxs-lookup"><span data-stu-id="542e2-145">The test is counted as a failure if the responses from your site have not been received within this period.</span></span> <span data-ttu-id="542e2-146">Se è stata selezionata l'opzione **Analizza richieste dipendenti**, è necessario che tutti gli script, i file di stile, le immagini e le altre risorse dipendenti siano stati ricevuti entro questo periodo.</span><span class="sxs-lookup"><span data-stu-id="542e2-146">If you selected **Parse dependent requests**, then all the images, style files, scripts, and other dependent resources must have been received within this period.</span></span>

    <span data-ttu-id="542e2-147">**Risposta HTTP**: codice di stato restituito che viene conteggiato come operazione riuscita.</span><span class="sxs-lookup"><span data-stu-id="542e2-147">**HTTP response**: The returned status code that is counted as a success.</span></span> <span data-ttu-id="542e2-148">200 è il codice che indica che è stata restituita una normale pagina Web.</span><span class="sxs-lookup"><span data-stu-id="542e2-148">200 is the code that indicates that a normal web page has been returned.</span></span>

    <span data-ttu-id="542e2-149">**Il contenuto corrisponde a**: stringa, ad esempio "Benvenuto",</span><span class="sxs-lookup"><span data-stu-id="542e2-149">**Content match**: a string, like "Welcome!"</span></span> <span data-ttu-id="542e2-150">Verifichiamo che in ogni risposta ci una corrispondenza esatta di maiuscolo e minuscolo.</span><span class="sxs-lookup"><span data-stu-id="542e2-150">We test that an exact case-sensitive match occurs in every response.</span></span> <span data-ttu-id="542e2-151">Deve trattarsi di una stringa di testo normale, senza caratteri jolly.</span><span class="sxs-lookup"><span data-stu-id="542e2-151">It must be a plain string, without wildcards.</span></span> <span data-ttu-id="542e2-152">È importante ricordare che, se il contenuto cambia, potrebbe essere necessario aggiornare la stringa.</span><span class="sxs-lookup"><span data-stu-id="542e2-152">Don't forget that if your page content changes you might have to update it.</span></span>
* <span data-ttu-id="542e2-153">**Avvisi** vengono inviati se si verificano errori in tre posizioni in cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="542e2-153">**Alerts** are, by default, sent to you if there are failures in three locations over five minutes.</span></span> <span data-ttu-id="542e2-154">Un errore in una posizione può indicare un errore di rete e non un problema con il sito.</span><span class="sxs-lookup"><span data-stu-id="542e2-154">A failure in one location is likely to be a network problem, and not a problem with your site.</span></span> <span data-ttu-id="542e2-155">È comunque possibile modificare la soglia in modo da aumentare la sensibilità del test e modificare i destinatari a cui inviare i messaggi di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="542e2-155">But you can change the threshold to be more or less sensitive, and you can also change who the emails should be sent to.</span></span>

    <span data-ttu-id="542e2-156">È possibile configurare un [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) che verrà chiamato quando viene generato un avviso.</span><span class="sxs-lookup"><span data-stu-id="542e2-156">You can set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span> <span data-ttu-id="542e2-157">Si noti però che attualmente i parametri di query non vengono passati come proprietà.</span><span class="sxs-lookup"><span data-stu-id="542e2-157">(But note that, at present, query parameters are not passed through as Properties.)</span></span>

### <a name="test-more-urls"></a><span data-ttu-id="542e2-158">Testare più URL</span><span class="sxs-lookup"><span data-stu-id="542e2-158">Test more URLs</span></span>
<span data-ttu-id="542e2-159">Aggiungere altri test.</span><span class="sxs-lookup"><span data-stu-id="542e2-159">Add more tests.</span></span> <span data-ttu-id="542e2-160">Oltre a testare la home page, ad esempio, è possibile verificare che il database sia in esecuzione testando l'URL per una ricerca.</span><span class="sxs-lookup"><span data-stu-id="542e2-160">For example, In addition to testing your home page, you can make sure your database is running by testing the URL for a search.</span></span>


## <span data-ttu-id="542e2-161"><a name="monitor"></a>3. Visualizzare i risultati del test di disponibilità</span><span class="sxs-lookup"><span data-stu-id="542e2-161"><a name="monitor"></a>3. See your availability test results</span></span>

<span data-ttu-id="542e2-162">Dopo pochi minuti, fare clic su **Aggiorna** per visualizzare i risultati del test.</span><span class="sxs-lookup"><span data-stu-id="542e2-162">After a few minutes, click **Refresh** to see test results.</span></span> 

![Summary results on the home blade](./media/app-insights-monitor-web-app-availability/14-availSummary-3.png)

<span data-ttu-id="542e2-164">Il grafico a dispersione mostra alcuni campioni dei risultati del test che includono dettagli diagnostici sui passaggi del test.</span><span class="sxs-lookup"><span data-stu-id="542e2-164">The scatterplot shows samples of the test results that have diagnostic test-step detail in them.</span></span> <span data-ttu-id="542e2-165">Il motore di test archivia i dettagli diagnostici per i test che hanno restituito errori.</span><span class="sxs-lookup"><span data-stu-id="542e2-165">The test engine stores diagnostic detail for tests that have failures.</span></span> <span data-ttu-id="542e2-166">Per i test riusciti, vengono archiviati i dettagli diagnostici per un subset delle esecuzioni.</span><span class="sxs-lookup"><span data-stu-id="542e2-166">For successful tests, diagnostic details are stored for a subset of the executions.</span></span> <span data-ttu-id="542e2-167">Posizionare il puntatore del mouse su uno dei punti verdi/rossi per visualizzare il timestamp del test, la durata del test, la posizione e il nome del test.</span><span class="sxs-lookup"><span data-stu-id="542e2-167">Hover over any of the green/red dots to see the test timestamp, test duration, location, and test name.</span></span> <span data-ttu-id="542e2-168">Fare clic su qualsiasi punto del grafico a dispersione per visualizzare i dettagli del risultato del test.</span><span class="sxs-lookup"><span data-stu-id="542e2-168">Click through any dot in the scatter plot to see the details of the test result.</span></span>  

<span data-ttu-id="542e2-169">Selezionare una posizione o un test specifico oppure ridurre il periodo di tempo per visualizzare più risultati riguardo all'intervallo desiderato.</span><span class="sxs-lookup"><span data-stu-id="542e2-169">Select a particular test, location, or reduce the time period to see more results around the time period of interest.</span></span> <span data-ttu-id="542e2-170">Usare Esplora ricerche per visualizzare i risultati di tutte le esecuzioni oppure usare query di analisi per eseguire report personalizzati per i dati.</span><span class="sxs-lookup"><span data-stu-id="542e2-170">Use Search Explorer to see results from all executions, or use Analytics queries to run custom reports on this data.</span></span>

<span data-ttu-id="542e2-171">Oltre ai risultati non elaborati, Esplora metriche include due metriche di disponibilità:</span><span class="sxs-lookup"><span data-stu-id="542e2-171">In addition to the raw results, there are two Availability metrics in Metrics Explorer:</span></span> 

1. <span data-ttu-id="542e2-172">Disponibilità: percentuale dei test riusciti rispetto a tutte le esecuzioni di test.</span><span class="sxs-lookup"><span data-stu-id="542e2-172">Availability: Percentage of the tests that were successful, across all test executions.</span></span> 
2. <span data-ttu-id="542e2-173">Durata test: durata media dei test rispetto a tutte le esecuzioni di test.</span><span class="sxs-lookup"><span data-stu-id="542e2-173">Test Duration: Average test duration across all test executions.</span></span>

<span data-ttu-id="542e2-174">È possibile applicare filtri per il nome di test e la posizione per analizzare le tendenze per un test e/o una posizione specifici.</span><span class="sxs-lookup"><span data-stu-id="542e2-174">You can apply filters on the test name, location to analyze trends of a particular test and/or location.</span></span>

## <span data-ttu-id="542e2-175"><a name="edit"></a> Esaminare e modificare i test</span><span class="sxs-lookup"><span data-stu-id="542e2-175"><a name="edit"></a> Inspect and edit tests</span></span>

<span data-ttu-id="542e2-176">Nella pagina di riepilogo selezionare uno specifico test.</span><span class="sxs-lookup"><span data-stu-id="542e2-176">From the summary page, select a specific test.</span></span> <span data-ttu-id="542e2-177">Sarà possibile visualizzarne i risultati specifici e modificarlo o disabilitarlo temporaneamente.</span><span class="sxs-lookup"><span data-stu-id="542e2-177">There, you can see its specific results, and edit or temporarily disable it.</span></span>

![Modificare o disabilitare un test Web](./media/app-insights-monitor-web-app-availability/19-availEdit-3.png)

<span data-ttu-id="542e2-179">Può essere necessario disabilitare i test di disponibilità o le regole di avviso associate ai test durante le operazioni di manutenzione del servizio.</span><span class="sxs-lookup"><span data-stu-id="542e2-179">You might want to disable availability tests or the alert rules associated with them while you are performing maintenance on your service.</span></span> 

## <span data-ttu-id="542e2-180"><a name="failures"></a>In caso di errori</span><span class="sxs-lookup"><span data-stu-id="542e2-180"><a name="failures"></a>If you see failures</span></span>
<span data-ttu-id="542e2-181">Fare clic su un punto rosso.</span><span class="sxs-lookup"><span data-stu-id="542e2-181">Click a red dot.</span></span>

![Click a red dot](./media/app-insights-monitor-web-app-availability/open-instance-3.png)


<span data-ttu-id="542e2-183">Dal risultato di un test di disponibilità è possibile eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="542e2-183">From an availability test result, you can:</span></span>

* <span data-ttu-id="542e2-184">Controllare la risposta ricevuta dal server.</span><span class="sxs-lookup"><span data-stu-id="542e2-184">Inspect the response received from your server.</span></span>
* <span data-ttu-id="542e2-185">Aprire i dati di telemetria inviati dall'app server durante l'elaborazione dell'istanza della richiesta non riuscita.</span><span class="sxs-lookup"><span data-stu-id="542e2-185">Open the telemetry sent by your server app while processing the failed request instance.</span></span>
* <span data-ttu-id="542e2-186">Registrare un problema o elemento di lavoro in Git o VSTS per tenere traccia del problema.</span><span class="sxs-lookup"><span data-stu-id="542e2-186">Log an issue or work item in Git or VSTS to track the problem.</span></span> <span data-ttu-id="542e2-187">Il bug conterrà un collegamento a questo evento.</span><span class="sxs-lookup"><span data-stu-id="542e2-187">The bug will contain a link to this event.</span></span>
* <span data-ttu-id="542e2-188">Aprire il risultato del test Web in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="542e2-188">Open the web test result in Visual Studio.</span></span>


<span data-ttu-id="542e2-189">*Ha un aspetto corretto ma è segnalato come errore?*</span><span class="sxs-lookup"><span data-stu-id="542e2-189">*Looks OK but reported as a failure?*</span></span> <span data-ttu-id="542e2-190">Controllare tutte le immagini, gli script, i fogli di stile e qualsiasi altro file caricato dalla pagina.</span><span class="sxs-lookup"><span data-stu-id="542e2-190">Check all the images, scripts, style sheets, and any other files loaded by the page.</span></span> <span data-ttu-id="542e2-191">In caso di errore in uno di essi, il test verrà segnalato come non superato, anche se la pagina HTML principale viene caricata correttamente.</span><span class="sxs-lookup"><span data-stu-id="542e2-191">If any of them fails, the test is reported as failed, even if the main html page loads OK.</span></span>

<span data-ttu-id="542e2-192">*Nessun elemento correlato?*</span><span class="sxs-lookup"><span data-stu-id="542e2-192">*No related items?*</span></span> <span data-ttu-id="542e2-193">Se Application Insights è configurato per l'applicazione lato server, il motivo può essere l'esecuzione del [campionamento](app-insights-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="542e2-193">If you have Application Insights set up for your server-side application, that may be because [sampling](app-insights-sampling.md) is in operation.</span></span> 

## <a name="multi-step-web-tests"></a><span data-ttu-id="542e2-194">Test Web in più passaggi</span><span class="sxs-lookup"><span data-stu-id="542e2-194">Multi-step web tests</span></span>
<span data-ttu-id="542e2-195">È possibile monitorare uno scenario che comporta una sequenza di URL.</span><span class="sxs-lookup"><span data-stu-id="542e2-195">You can monitor a scenario that involves a sequence of URLs.</span></span> <span data-ttu-id="542e2-196">Ad esempio, se si monitora un sito Web di vendita, si potrebbe testare il corretto funzionamento dell'aggiunta di articoli al carrelli acquisti.</span><span class="sxs-lookup"><span data-stu-id="542e2-196">For example, if you are monitoring a sales website, you can test that adding items to the shopping cart works correctly.</span></span>

> [!NOTE] 
> <span data-ttu-id="542e2-197">È prevista una tariffa per i test Web in più passaggi.</span><span class="sxs-lookup"><span data-stu-id="542e2-197">There is a charge for multi-step web tests.</span></span> <span data-ttu-id="542e2-198">Vedere lo [schema dei prezzi](http://azure.microsoft.com/pricing/details/application-insights/).</span><span class="sxs-lookup"><span data-stu-id="542e2-198">[Pricing scheme](http://azure.microsoft.com/pricing/details/application-insights/).</span></span>
> 

<span data-ttu-id="542e2-199">Per creare un test in più passaggi, registrare lo scenario con Visual Studio Enterprise, quindi caricare la registrazione in Application Insights.</span><span class="sxs-lookup"><span data-stu-id="542e2-199">To create a multi-step test, you record the scenario by using Visual Studio Enterprise, and then upload the recording to Application Insights.</span></span> <span data-ttu-id="542e2-200">Application Insights riprodurrà lo scenario a intervalli e verificherà le risposte.</span><span class="sxs-lookup"><span data-stu-id="542e2-200">Application Insights replays the scenario at intervals and verifies the responses.</span></span>

> [!NOTE]
> <span data-ttu-id="542e2-201">Non è possibile usare funzioni codificate o cicli nei test.</span><span class="sxs-lookup"><span data-stu-id="542e2-201">You can't use coded functions or loops in your tests.</span></span> <span data-ttu-id="542e2-202">Il test deve essere interamente contenuto nello script con estensione webtest.</span><span class="sxs-lookup"><span data-stu-id="542e2-202">The test must be contained completely in the .webtest script.</span></span> <span data-ttu-id="542e2-203">È tuttavia possibile usare plug-in standard.</span><span class="sxs-lookup"><span data-stu-id="542e2-203">However, you can use standard plugins.</span></span>
>

#### <a name="1-record-a-scenario"></a><span data-ttu-id="542e2-204">1. Registrare uno scenario</span><span class="sxs-lookup"><span data-stu-id="542e2-204">1. Record a scenario</span></span>
<span data-ttu-id="542e2-205">Usare Visual Studio Enterprise per registrare una sessione Web.</span><span class="sxs-lookup"><span data-stu-id="542e2-205">Use Visual Studio Enterprise to record a web session.</span></span>

1. <span data-ttu-id="542e2-206">Creare un progetto di test delle prestazioni Web.</span><span class="sxs-lookup"><span data-stu-id="542e2-206">Create a Web performance test project.</span></span>

    ![In Visual Studio Enterprise creare un progetto dal modello di test di carico e prestazioni Web.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-create.png)

 * <span data-ttu-id="542e2-208">*Se il modello di test di carico e prestazioni Web non viene visualizzato*,</span><span class="sxs-lookup"><span data-stu-id="542e2-208">*Don't see the Web Performance and Load Test template?*</span></span> <span data-ttu-id="542e2-209">chiudere Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="542e2-209">- Close Visual Studio Enterprise.</span></span> <span data-ttu-id="542e2-210">Aprire il **programma di installazione di Visual Studio** per modificare l'installazione di Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="542e2-210">Open **Visual Studio Installer** to modify your Visual Studio Enterprise installation.</span></span> <span data-ttu-id="542e2-211">In **Singoli componenti** selezionare **Strumenti per test di carico e delle prestazioni Web**.</span><span class="sxs-lookup"><span data-stu-id="542e2-211">Under **Individual Components**, select **Web Performance and load testing tools**.</span></span>

2. <span data-ttu-id="542e2-212">Aprire il file con estensione webtest e iniziare la registrazione.</span><span class="sxs-lookup"><span data-stu-id="542e2-212">Open the .webtest file and start recording.</span></span>

    ![Aprire il file con estensione webtest e fare clic su Registra.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-start.png)
3. <span data-ttu-id="542e2-214">Eseguire le azioni utente che si vuole simulare nel test: aprire il sito Web, aggiungere un prodotto al carrello e così via.</span><span class="sxs-lookup"><span data-stu-id="542e2-214">Do the user actions you want to simulate in your test: open your website, add a product to the cart, and so on.</span></span> <span data-ttu-id="542e2-215">Quindi, arrestare il test.</span><span class="sxs-lookup"><span data-stu-id="542e2-215">Then stop your test.</span></span>

    ![Il registratore esecuzioni dei test Web viene eseguito in Internet Explorer.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-record.png)

    <span data-ttu-id="542e2-217">Non creare uno scenario lungo,</span><span class="sxs-lookup"><span data-stu-id="542e2-217">Don't make a long scenario.</span></span> <span data-ttu-id="542e2-218">in quanto è presente un limite di 100 passaggi e 2 minuti.</span><span class="sxs-lookup"><span data-stu-id="542e2-218">There's a limit of 100 steps and 2 minutes.</span></span>
4. <span data-ttu-id="542e2-219">Modificare il test per:</span><span class="sxs-lookup"><span data-stu-id="542e2-219">Edit the test to:</span></span>

   * <span data-ttu-id="542e2-220">Aggiungere convalide per verificare i codici di testo e di risposta ricevuti.</span><span class="sxs-lookup"><span data-stu-id="542e2-220">Add validations to check the received text and response codes.</span></span>
   * <span data-ttu-id="542e2-221">Rimuovere tutte le interazioni superflue.</span><span class="sxs-lookup"><span data-stu-id="542e2-221">Remove any superfluous interactions.</span></span> <span data-ttu-id="542e2-222">È inoltre possibile rimuovere le richieste dipendenti per le immagini o per Active Directory o i siti di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="542e2-222">You could also remove dependent requests for pictures or to ad or tracking sites.</span></span>

     <span data-ttu-id="542e2-223">Tenere presente che è possibile modificare solo lo script del test ma non è possibile aggiungere codice personalizzato o chiamare altri test web.</span><span class="sxs-lookup"><span data-stu-id="542e2-223">Remember that you can only edit the test script - you can't add custom code or call other web tests.</span></span> <span data-ttu-id="542e2-224">Non inserire cicli nel test.</span><span class="sxs-lookup"><span data-stu-id="542e2-224">Don't insert loops in the test.</span></span> <span data-ttu-id="542e2-225">È possibile utilizzare i plug-in del test web standard.</span><span class="sxs-lookup"><span data-stu-id="542e2-225">You can use standard web test plug-ins.</span></span>
5. <span data-ttu-id="542e2-226">Eseguire il test in Visual Studio per verificarne il corretto funzionamento.</span><span class="sxs-lookup"><span data-stu-id="542e2-226">Run the test in Visual Studio to make sure it works.</span></span>

    <span data-ttu-id="542e2-227">Il programma di esecuzione del test Web apre un browser Web e ripete le azioni registrate.</span><span class="sxs-lookup"><span data-stu-id="542e2-227">The web test runner opens a web browser and repeats the actions you recorded.</span></span> <span data-ttu-id="542e2-228">Verificare che funzioni come previsto.</span><span class="sxs-lookup"><span data-stu-id="542e2-228">Make sure it works as you expect.</span></span>

    ![In Visual Studio, aprire il file con estensione webtest e fare clic su Esegui.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-run.png)

#### <a name="2-upload-the-web-test-to-application-insights"></a><span data-ttu-id="542e2-230">2. Caricare il test Web in Application Insights</span><span class="sxs-lookup"><span data-stu-id="542e2-230">2. Upload the web test to Application Insights</span></span>
1. <span data-ttu-id="542e2-231">Nel portale di Application Insights creare un test Web.</span><span class="sxs-lookup"><span data-stu-id="542e2-231">In the Application Insights portal, create a web test.</span></span>

    ![Nel pannello Test Web, scegliere Aggiungi.](./media/app-insights-monitor-web-app-availability/16-another-test.png)
2. <span data-ttu-id="542e2-233">Selezionare un test in più passaggi e caricare il file con estensione webtest.</span><span class="sxs-lookup"><span data-stu-id="542e2-233">Select multi-step test, and upload the .webtest file.</span></span>

    ![Selezionare Test Web in più passaggi.](./media/app-insights-monitor-web-app-availability/appinsights-71webtestUpload.png)

    <span data-ttu-id="542e2-235">Impostare le posizioni di test, la frequenza e i parametri di avviso allo stesso modo dei test ping.</span><span class="sxs-lookup"><span data-stu-id="542e2-235">Set the test locations, frequency, and alert parameters in the same way as for ping tests.</span></span>

#### <a name="3-see-the-results"></a><span data-ttu-id="542e2-236">3. Visualizzare i risultati</span><span class="sxs-lookup"><span data-stu-id="542e2-236">3. See the results</span></span>

<span data-ttu-id="542e2-237">Visualizzare i risultati del test e gli eventuali errori nello stesso modo dei test con singolo URL.</span><span class="sxs-lookup"><span data-stu-id="542e2-237">View your test results and any failures in the same way as single-url tests.</span></span>

<span data-ttu-id="542e2-238">È anche possibile scaricare i risultati del test per visualizzarli in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="542e2-238">In addition, you can download the test results to view them in Visual Studio.</span></span>

#### <a name="too-many-failures"></a><span data-ttu-id="542e2-239">Numero di errori elevato</span><span class="sxs-lookup"><span data-stu-id="542e2-239">Too many failures?</span></span>

* <span data-ttu-id="542e2-240">Un motivo frequente di errore è l'eccessiva durata del test.</span><span class="sxs-lookup"><span data-stu-id="542e2-240">A common reason for failure is that the test runs too long.</span></span> <span data-ttu-id="542e2-241">L'esecuzione non deve superare i due minuti.</span><span class="sxs-lookup"><span data-stu-id="542e2-241">It mustn't run longer than two minutes.</span></span>

* <span data-ttu-id="542e2-242">Non dimenticare che, perché il test abbia esito positivo, tutte le risorse di una pagina devono essere caricate correttamente, inclusi script, fogli di stile, immagini e così via.</span><span class="sxs-lookup"><span data-stu-id="542e2-242">Don't forget that all the resources of a page must load correctly for the test to succeed, including scripts, style sheets, images, and so forth.</span></span>

* <span data-ttu-id="542e2-243">Il test Web deve essere interamente contenuto nello script con estensione webtest: non è possibile usare funzioni codificate nel test.</span><span class="sxs-lookup"><span data-stu-id="542e2-243">The web test must be entirely contained in the .webtest script: you can't use coded functions in the test.</span></span>

### <a name="plugging-time-and-random-numbers-into-your-multi-step-test"></a><span data-ttu-id="542e2-244">Inserimento di plug-in relativi a tempo e numeri casuali nel test in più passaggi</span><span class="sxs-lookup"><span data-stu-id="542e2-244">Plugging time and random numbers into your multi-step test</span></span>
<span data-ttu-id="542e2-245">Si supponga di voler testare uno strumento che riceva dati dipendenti dal tempo, come ad esempio valori di scorte da un feed esterno.</span><span class="sxs-lookup"><span data-stu-id="542e2-245">Suppose you're testing a tool that gets time-dependent data such as stocks from an external feed.</span></span> <span data-ttu-id="542e2-246">Quando si registra il test Web, è necessario usare tempi specifici impostandoli come parametri del test, StartTime e EndTime.</span><span class="sxs-lookup"><span data-stu-id="542e2-246">When you record your web test, you have to use specific times, but you set them as parameters of the test, StartTime and EndTime.</span></span>

![Un test Web con parametri.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-parameters.png)

<span data-ttu-id="542e2-248">Quando si esegue il test, si vuole che EndTime sia sempre l'ora corrente e StartTime 15 minuti fa.</span><span class="sxs-lookup"><span data-stu-id="542e2-248">When you run the test, you'd like EndTime always to be the present time, and StartTime should be 15 minutes ago.</span></span>

<span data-ttu-id="542e2-249">I plug-in del test Web consentono di impostare questi parametri.</span><span class="sxs-lookup"><span data-stu-id="542e2-249">Web Test Plug-ins provide the way to do parameterize times.</span></span>

1. <span data-ttu-id="542e2-250">Aggiungere un plug-in del test Web per ciascun valore di parametro desiderato.</span><span class="sxs-lookup"><span data-stu-id="542e2-250">Add a web test plug-in for each variable parameter value you want.</span></span> <span data-ttu-id="542e2-251">Nella barra degli strumenti del test Web scegliere **Aggiungi plug-in test Web**.</span><span class="sxs-lookup"><span data-stu-id="542e2-251">In the web test toolbar, choose **Add Web Test Plugin**.</span></span>

    ![Scegliere Aggiungi plug-in test Web e selezionare un tipo.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugins.png)

    <span data-ttu-id="542e2-253">In questo esempio vengono usate due istanze di Plug-in data e ora,</span><span class="sxs-lookup"><span data-stu-id="542e2-253">In this example, we use two instances of the Date Time Plug-in.</span></span> <span data-ttu-id="542e2-254">una per "15 minuti fa" e l'altra per "ora".</span><span class="sxs-lookup"><span data-stu-id="542e2-254">One instance is for "15 minutes ago" and another for "now."</span></span>
2. <span data-ttu-id="542e2-255">Aprire le proprietà di ciascun plug-in.</span><span class="sxs-lookup"><span data-stu-id="542e2-255">Open the properties of each plug-in.</span></span> <span data-ttu-id="542e2-256">Assegnare un nome al plug-in e impostarlo in modo che usi l'ora corrente.</span><span class="sxs-lookup"><span data-stu-id="542e2-256">Give it a name and set it to use the current time.</span></span> <span data-ttu-id="542e2-257">Per uno di essi, impostare Aggiungi minuti = -15.</span><span class="sxs-lookup"><span data-stu-id="542e2-257">For one of them, set Add Minutes = -15.</span></span>

    ![Set name, Use Current Time e Add Minutes.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-parameters.png)
3. <span data-ttu-id="542e2-259">Nei parametri del test Web, usare {{nome plug-in}} per fare riferimento a un nome di plug-in.</span><span class="sxs-lookup"><span data-stu-id="542e2-259">In the web test parameters, use {{plug-in name}} to reference a plug-in name.</span></span>

    ![Nel parametro di test usare {{nome plug-in}}.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-name.png)

<span data-ttu-id="542e2-261">Caricare quindi il test nel portale.</span><span class="sxs-lookup"><span data-stu-id="542e2-261">Now, upload your test to the portal.</span></span> <span data-ttu-id="542e2-262">Userà i valori dinamici ogni volta che verrà eseguito.</span><span class="sxs-lookup"><span data-stu-id="542e2-262">It uses the dynamic values on every run of the test.</span></span>

## <a name="dealing-with-sign-in"></a><span data-ttu-id="542e2-263">Gestione degli accessi</span><span class="sxs-lookup"><span data-stu-id="542e2-263">Dealing with sign-in</span></span>
<span data-ttu-id="542e2-264">Se gli utenti accedono all'app, è possibile simulare l'accesso in vari modi per testare le pagine usate per l'accesso.</span><span class="sxs-lookup"><span data-stu-id="542e2-264">If your users sign in to your app, you have various options for simulating sign-in so that you can test pages behind the sign-in.</span></span> <span data-ttu-id="542e2-265">L'approccio da preferire dipende dal tipo di sicurezza fornito dall'app.</span><span class="sxs-lookup"><span data-stu-id="542e2-265">The approach you use depends on the type of security provided by the app.</span></span>

<span data-ttu-id="542e2-266">In tutti i casi è consigliabile creare un account nell'applicazione solo a scopo di test.</span><span class="sxs-lookup"><span data-stu-id="542e2-266">In all cases, you should create an account in your application just for the purpose of testing.</span></span> <span data-ttu-id="542e2-267">Se possibile, limitare le autorizzazioni dell'account di test in modo che i test Web non possano influire in alcun modo sugli utenti reali.</span><span class="sxs-lookup"><span data-stu-id="542e2-267">If possible, restrict the permissions of this test account so that there's no possibility of the web tests affecting real users.</span></span>

### <a name="simple-username-and-password"></a><span data-ttu-id="542e2-268">Nome utente e password semplici</span><span class="sxs-lookup"><span data-stu-id="542e2-268">Simple username and password</span></span>
<span data-ttu-id="542e2-269">Registrare un test Web nel modo consueto.</span><span class="sxs-lookup"><span data-stu-id="542e2-269">Record a web test in the usual way.</span></span> <span data-ttu-id="542e2-270">Eliminare prima di tutto i cookie.</span><span class="sxs-lookup"><span data-stu-id="542e2-270">Delete cookies first.</span></span>

### <a name="saml-authentication"></a><span data-ttu-id="542e2-271">SAML Authentication</span><span class="sxs-lookup"><span data-stu-id="542e2-271">SAML authentication</span></span>
<span data-ttu-id="542e2-272">usare il plug-in SAML disponibile per i test Web.</span><span class="sxs-lookup"><span data-stu-id="542e2-272">Use the SAML plugin that is available for web tests.</span></span>

### <a name="client-secret"></a><span data-ttu-id="542e2-273">Segreto client</span><span class="sxs-lookup"><span data-stu-id="542e2-273">Client secret</span></span>
<span data-ttu-id="542e2-274">Se l'app ha un percorso di accesso che prevede un segreto client, usare tale percorso.</span><span class="sxs-lookup"><span data-stu-id="542e2-274">If your app has a sign-in route that involves a client secret, use that route.</span></span> <span data-ttu-id="542e2-275">Un servizio che offre l'accesso con segreto client è ad esempio Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="542e2-275">Azure Active Directory (AAD) is an example of a service that provides a client secret sign-in.</span></span> <span data-ttu-id="542e2-276">In AAD, il segreto client è la chiave dell'app.</span><span class="sxs-lookup"><span data-stu-id="542e2-276">In AAD, the client secret is the App Key.</span></span>

<span data-ttu-id="542e2-277">Ecco un test Web di esempio di un'app Web di Azure che usa una chiave dell'app:</span><span class="sxs-lookup"><span data-stu-id="542e2-277">Here's a sample web test of an Azure web app using an app key:</span></span>

![Esempio di segreto client](./media/app-insights-monitor-web-app-availability/110.png)

1. <span data-ttu-id="542e2-279">Ottenere il token da AAD usando il segreto client (AppKey).</span><span class="sxs-lookup"><span data-stu-id="542e2-279">Get token from AAD using client secret (AppKey).</span></span>
2. <span data-ttu-id="542e2-280">Estrarre il token di connessione dalla risposta.</span><span class="sxs-lookup"><span data-stu-id="542e2-280">Extract bearer token from response.</span></span>
3. <span data-ttu-id="542e2-281">Chiamare l'API usando il token di connessione nell'intestazione dell'autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="542e2-281">Call API using bearer token in the authorization header.</span></span>

<span data-ttu-id="542e2-282">Verificare che il test Web sia effettivamente un client, ovvero che abbia una propria app in AAD, e usare i relativi valori ClientId e AppKey.</span><span class="sxs-lookup"><span data-stu-id="542e2-282">Make sure that the web test is an actual client - that is, it has its own app in AAD - and use its clientId + appkey.</span></span> <span data-ttu-id="542e2-283">Anche il servizio sottoposto a test ha una propria app in AAD, il cui URI ID app è riportato nel campo "resource" del test Web.</span><span class="sxs-lookup"><span data-stu-id="542e2-283">Your service under test also has its own app in AAD: the appID URI of this app is reflected in the web test in the “resource” field.</span></span>

### <a name="open-authentication"></a><span data-ttu-id="542e2-284">Autenticazione aperta</span><span class="sxs-lookup"><span data-stu-id="542e2-284">Open Authentication</span></span>
<span data-ttu-id="542e2-285">Un esempio di autenticazione aperta è l'accesso con il proprio account Microsoft o Google.</span><span class="sxs-lookup"><span data-stu-id="542e2-285">An example of open authentication is signing in with your Microsoft or Google account.</span></span> <span data-ttu-id="542e2-286">Molte app che usano OAuth offrono l'alternativa del segreto client ed è quindi consigliabile ricercare prima di tutto tale possibilità.</span><span class="sxs-lookup"><span data-stu-id="542e2-286">Many apps that use OAuth provide the client secret alternative, so your first tactic should be to investigate that possibility.</span></span>

<span data-ttu-id="542e2-287">Se il test deve eseguire l'accesso con OAuth, procedere come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="542e2-287">If your test must sign in using OAuth, the general approach is:</span></span>

* <span data-ttu-id="542e2-288">Usare uno strumento come Fiddler per esaminare il traffico tra il Web browser, il sito di autenticazione e l'app.</span><span class="sxs-lookup"><span data-stu-id="542e2-288">Use a tool such as Fiddler to examine the traffic between your web browser, the authentication site, and your app.</span></span>
* <span data-ttu-id="542e2-289">Eseguire due o più accessi usando computer o browser diversi oppure a distanza di tempo, per lasciar scadere i token.</span><span class="sxs-lookup"><span data-stu-id="542e2-289">Perform two or more sign-ins using different machines or browsers, or at long intervals (to allow tokens to expire).</span></span>
* <span data-ttu-id="542e2-290">Mettendo a confronto le diverse sessioni, identificare il token restituito dal sito di autenticazione e poi passato al server applicazioni dopo l'accesso.</span><span class="sxs-lookup"><span data-stu-id="542e2-290">By comparing different sessions, identify the token passed back from the authenticating site, that is then passed to your app server after sign-in.</span></span>
* <span data-ttu-id="542e2-291">Registrare un test Web usando Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="542e2-291">Record a web test using Visual Studio.</span></span>
* <span data-ttu-id="542e2-292">Impostare i parametri dei token quando questi vengono restituiti dall'autenticatore e usarli per l'esecuzione di query nel sito.</span><span class="sxs-lookup"><span data-stu-id="542e2-292">Parameterize the tokens, setting the parameter when the token is returned from the authenticator, and using it in the query to the site.</span></span>
  <span data-ttu-id="542e2-293">Visual Studio prova a impostare i parametri del test, ma non imposta correttamente i parametri dei token.</span><span class="sxs-lookup"><span data-stu-id="542e2-293">(Visual Studio attempts to parameterize the test, but does not correctly parameterize the tokens.)</span></span>


## <a name="performance-tests"></a><span data-ttu-id="542e2-294">Test delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="542e2-294">Performance tests</span></span>
<span data-ttu-id="542e2-295">È possibile eseguire un test di carico nel sito Web.</span><span class="sxs-lookup"><span data-stu-id="542e2-295">You can run a load test on your website.</span></span> <span data-ttu-id="542e2-296">Analogamente al test di disponibilità, è possibile inviare semplici richieste o richieste in più passaggi da diversi punti in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="542e2-296">Like the availability test, you can send either simple requests or multi-step requests from our points around the world.</span></span> <span data-ttu-id="542e2-297">A differenza dei test di disponibilità, vengono inviate molte richieste, simulando più utenti simultanei.</span><span class="sxs-lookup"><span data-stu-id="542e2-297">Unlike an availability test, many requests are sent, simulating multiple simultaneous users.</span></span>

<span data-ttu-id="542e2-298">Dal pannello Panoramica aprire **Impostazioni**, **Test delle prestazioni**.</span><span class="sxs-lookup"><span data-stu-id="542e2-298">From the Overview blade, open **Settings**, **Performance Tests**.</span></span> <span data-ttu-id="542e2-299">Quando si crea un test, si è invitati a connettersi o a creare un account di Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="542e2-299">When you create a test, you are invited to connect to or create a Visual Studio Team Services account.</span></span>

<span data-ttu-id="542e2-300">Al termine del test verranno visualizzati i tempi di risposta e le percentuali di successo.</span><span class="sxs-lookup"><span data-stu-id="542e2-300">When the test is complete, you are shown response times and success rates.</span></span>


![Test delle prestazioni](./media/app-insights-monitor-web-app-availability/perf-test.png)

> [!TIP]
> <span data-ttu-id="542e2-302">Per osservare gli effetti di un test delle prestazioni, usare [Live Stream](app-insights-live-stream.md) e [Profiler](app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="542e2-302">To observe the effects of a performance test, use [Live Stream](app-insights-live-stream.md) and [Profiler](app-insights-profiler.md).</span></span>
>

## <a name="automation"></a><span data-ttu-id="542e2-303">Automazione</span><span class="sxs-lookup"><span data-stu-id="542e2-303">Automation</span></span>
* <span data-ttu-id="542e2-304">[Usare script di PowerShell per configurare un test di disponibilità](app-insights-powershell.md#add-an-availability-test) automaticamente.</span><span class="sxs-lookup"><span data-stu-id="542e2-304">[Use PowerShell scripts to set up an availability test](app-insights-powershell.md#add-an-availability-test) automatically.</span></span>
* <span data-ttu-id="542e2-305">Configurare un [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) che verrà chiamato quando viene generato un avviso.</span><span class="sxs-lookup"><span data-stu-id="542e2-305">Set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span>

## <span data-ttu-id="542e2-306"><a name="qna"></a>Domande?</span><span class="sxs-lookup"><span data-stu-id="542e2-306"><a name="qna"></a>Questions?</span></span> <span data-ttu-id="542e2-307">Problemi?</span><span class="sxs-lookup"><span data-stu-id="542e2-307">Problems?</span></span>
* <span data-ttu-id="542e2-308">*È possibile chiamare codice da un test Web?*</span><span class="sxs-lookup"><span data-stu-id="542e2-308">*Can I call code from my web test?*</span></span>

    <span data-ttu-id="542e2-309">No.</span><span class="sxs-lookup"><span data-stu-id="542e2-309">No.</span></span> <span data-ttu-id="542e2-310">I passaggi del test devono essere nel file con estensione webtest.</span><span class="sxs-lookup"><span data-stu-id="542e2-310">The steps of the test must be in the .webtest file.</span></span> <span data-ttu-id="542e2-311">Inoltre non è possibile chiamare altri test web o utilizzare cicli.</span><span class="sxs-lookup"><span data-stu-id="542e2-311">And you can't call other web tests or use loops.</span></span> <span data-ttu-id="542e2-312">Esistono diversi plug-in che potrebbero risultare utili.</span><span class="sxs-lookup"><span data-stu-id="542e2-312">But there are several plug-ins that you might find helpful.</span></span>
* <span data-ttu-id="542e2-313">*HTTPS è supportato?*</span><span class="sxs-lookup"><span data-stu-id="542e2-313">*Is HTTPS supported?*</span></span>

    <span data-ttu-id="542e2-314">Sono supportati TLS 1.1 e TLS 1.2.</span><span class="sxs-lookup"><span data-stu-id="542e2-314">We support TLS 1.1 and TLS 1.2.</span></span>
* <span data-ttu-id="542e2-315">*Esiste una differenza tra "test Web" e "test di disponibilità"?*</span><span class="sxs-lookup"><span data-stu-id="542e2-315">*Is there a difference between "web tests" and "availability tests"?*</span></span>

    <span data-ttu-id="542e2-316">I due termini vengono usati in modo intercambiabile.</span><span class="sxs-lookup"><span data-stu-id="542e2-316">The two terms may be referenced interchangeably.</span></span> <span data-ttu-id="542e2-317">Test di disponibilità è un termine più generico che include i singoli test di ping URL oltre ai test Web in più passaggi.</span><span class="sxs-lookup"><span data-stu-id="542e2-317">Availability tests is a more generic term that includes the single URL ping tests in addition to the multi-step web tests.</span></span>
* <span data-ttu-id="542e2-318">*È possibile usare test di disponibilità nel server interno protetto da un firewall?*</span><span class="sxs-lookup"><span data-stu-id="542e2-318">*I'd like to use availability tests on our internal server that runs behind a firewall.*</span></span>

    <span data-ttu-id="542e2-319">Le soluzioni possono essere due:</span><span class="sxs-lookup"><span data-stu-id="542e2-319">There are two possible solutions:</span></span>
    
    * <span data-ttu-id="542e2-320">Configurare il firewall per consentire richieste in ingresso dagli [indirizzi IP degli agenti di test Web](app-insights-ip-addresses.md).</span><span class="sxs-lookup"><span data-stu-id="542e2-320">Configure your firewall to permit incoming requests from the [IP addresses of our web test agents](app-insights-ip-addresses.md).</span></span>
    * <span data-ttu-id="542e2-321">Scrivere il proprio codice per testare periodicamente il server interno.</span><span class="sxs-lookup"><span data-stu-id="542e2-321">Write your own code to periodically test your internal server.</span></span> <span data-ttu-id="542e2-322">Eseguire il codice come processo in background in un server di prova protetto da firewall.</span><span class="sxs-lookup"><span data-stu-id="542e2-322">Run the code as a background process on a test server behind your firewall.</span></span> <span data-ttu-id="542e2-323">Il processo di test può inviare i risultati ad Application Insights tramite l'API [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) nel pacchetto SDK di base.</span><span class="sxs-lookup"><span data-stu-id="542e2-323">Your test process can send its results to Application Insights by using [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API in the core SDK package.</span></span> <span data-ttu-id="542e2-324">In questo modo è necessario testare il server per avere un accesso in uscita per l'endpoint di inserimento di Application Insights, ma questo rappresenta un minore rischio per la sicurezza rispetto all'alternativa di consentire le richieste in ingresso.</span><span class="sxs-lookup"><span data-stu-id="542e2-324">This requires your test server to have outgoing access to the Application Insights ingestion endpoint, but that is a much smaller security risk than the alternative of permitting incoming requests.</span></span> <span data-ttu-id="542e2-325">I risultati non verranno visualizzati nei pannelli dei test Web di disponibilità, ma verranno mostrati come risultati relativi alla disponibilità in Analisi, Ricerca ed Esplorazione metriche.</span><span class="sxs-lookup"><span data-stu-id="542e2-325">The results will not appear in the availability web tests blades, but appears as availability results in Analytics, Search, and Metric Explorer.</span></span>
* <span data-ttu-id="542e2-326">*Non è possibile caricare un test Web in più passi*</span><span class="sxs-lookup"><span data-stu-id="542e2-326">*Uploading a multi-step web test fails*</span></span>

    <span data-ttu-id="542e2-327">È previsto un limite di dimensioni pari a 300 KB.</span><span class="sxs-lookup"><span data-stu-id="542e2-327">There's a size limit of 300 K.</span></span>

    <span data-ttu-id="542e2-328">I cicli non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="542e2-328">Loops aren't supported.</span></span>

    <span data-ttu-id="542e2-329">I riferimenti ad altri test Web non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="542e2-329">References to other web tests aren't supported.</span></span>

    <span data-ttu-id="542e2-330">Le origini dati non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="542e2-330">Data sources aren't supported.</span></span>
* <span data-ttu-id="542e2-331">*Il test in più passi non viene completato*</span><span class="sxs-lookup"><span data-stu-id="542e2-331">*My multi-step test doesn't complete*</span></span>

    <span data-ttu-id="542e2-332">È previsto un limite di 100 richieste per ogni test.</span><span class="sxs-lookup"><span data-stu-id="542e2-332">There's a limit of 100 requests per test.</span></span>

    <span data-ttu-id="542e2-333">Il test viene arrestato se la durata dell'esecuzione è superiore a due minuti.</span><span class="sxs-lookup"><span data-stu-id="542e2-333">The test is stopped if it runs longer than two minutes.</span></span>
* <span data-ttu-id="542e2-334">*È possibile eseguire un test con certificati client?*</span><span class="sxs-lookup"><span data-stu-id="542e2-334">*How can I run a test with client certificates?*</span></span>

    <span data-ttu-id="542e2-335">Questa funzionalità non è supportata.</span><span class="sxs-lookup"><span data-stu-id="542e2-335">We don't support that, sorry.</span></span>


## <span data-ttu-id="542e2-336"><a name="next"></a>Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="542e2-336"><a name="next"></a>Next steps</span></span>
<span data-ttu-id="542e2-337">[Ricerca nei registri di diagnostica][diagnostic]</span><span class="sxs-lookup"><span data-stu-id="542e2-337">[Search diagnostic logs][diagnostic]</span></span>

<span data-ttu-id="542e2-338">[Risoluzione dei problemi][qna]</span><span class="sxs-lookup"><span data-stu-id="542e2-338">[Troubleshooting][qna]</span></span>

[<span data-ttu-id="542e2-339">Indirizzi IP degli agenti di test Web</span><span class="sxs-lookup"><span data-stu-id="542e2-339">IP addresses of web test agents</span></span>](app-insights-ip-addresses.md)

<!--Link references-->

[azure-availability]: ../insights-create-web-tests.md
[diagnostic]: app-insights-diagnostic-search.md
[qna]: app-insights-troubleshoot-faq.md
[start]: app-insights-overview.md
