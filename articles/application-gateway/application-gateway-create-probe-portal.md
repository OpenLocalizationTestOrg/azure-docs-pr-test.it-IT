---
title: Portale di Azure - Gateway applicazione Azure - probe di aaaCreate personalizzato | Documenti Microsoft
description: Informazioni su come toocreate personalizzato probe per il Gateway applicazione tramite il portale di hello
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 33fd5564-43a7-4c54-a9ec-b1235f661f97
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/26/2017
ms.author: gwallace
ms.openlocfilehash: 9e9309045ef33ba1010868783949b4fde31619ec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-custom-probe-for-application-gateway-by-using-hello-portal"></a><span data-ttu-id="945f3-103">Crea un probe personalizzato per il Gateway applicazione tramite il portale di hello</span><span class="sxs-lookup"><span data-stu-id="945f3-103">Create a custom probe for Application Gateway by using hello portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="945f3-104">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="945f3-104">Azure portal</span></span>](application-gateway-create-probe-portal.md)
> * [<span data-ttu-id="945f3-105">PowerShell per Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="945f3-105">Azure Resource Manager PowerShell</span></span>](application-gateway-create-probe-ps.md)
> * [<span data-ttu-id="945f3-106">PowerShell per Azure classico</span><span class="sxs-lookup"><span data-stu-id="945f3-106">Azure Classic PowerShell</span></span>](application-gateway-create-probe-classic-ps.md)

<span data-ttu-id="945f3-107">In questo articolo aggiungere un gateway di applicazione esistente probe personalizzato tooan tramite hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="945f3-107">In this article, you add a custom probe tooan existing application gateway through hello Azure portal.</span></span> <span data-ttu-id="945f3-108">Probe personalizzati sono utili per le applicazioni che dispone di una pagina di controllo di integrità specifico o per le applicazioni che non forniscono una risposta corretta in un'applicazione web predefinita hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-108">Custom probes are useful for applications that have a specific health check page or for applications that do not provide a successful response on hello default web application.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="945f3-109">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="945f3-109">Before you begin</span></span>

<span data-ttu-id="945f3-110">Se si dispone già di un gateway di applicazioni, visitare [creare un Gateway applicazione](application-gateway-create-gateway-portal.md) toocreate un toowork di gateway applicazione con.</span><span class="sxs-lookup"><span data-stu-id="945f3-110">If you do not already have an application gateway, visit [Create an Application Gateway](application-gateway-create-gateway-portal.md) toocreate an application gateway toowork with.</span></span>

## <span data-ttu-id="945f3-111"><a name="createprobe"></a>Creare il probe hello</span><span class="sxs-lookup"><span data-stu-id="945f3-111"><a name="createprobe"></a>Create hello probe</span></span>

<span data-ttu-id="945f3-112">Probe vengono configurati in un processo in due passaggi tramite il portale di hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-112">Probes are configured in a two-step process through hello portal.</span></span> <span data-ttu-id="945f3-113">primo passaggio Hello è di tipo probe hello toocreate.</span><span class="sxs-lookup"><span data-stu-id="945f3-113">hello first step is toocreate hello probe.</span></span> <span data-ttu-id="945f3-114">Nel secondo passaggio hello, aggiungere le impostazioni hello probe toohello back-end http di gateway applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-114">In hello second step, you add hello probe toohello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="945f3-115">Accedi toohello [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="945f3-115">Log in toohello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="945f3-116">Se non si dispone già di un account, è possibile iscriversi per ottenere una [versione di valutazione gratuita della durata di un mese](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="945f3-116">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>

1. <span data-ttu-id="945f3-117">Nel portale di Azure riquadro Preferiti hello, fare clic su tutte le risorse.</span><span class="sxs-lookup"><span data-stu-id="945f3-117">In hello Azure portal Favorites pane, click All resources.</span></span> <span data-ttu-id="945f3-118">Fare clic su gateway applicazione hello in hello tutti pannello risorse.</span><span class="sxs-lookup"><span data-stu-id="945f3-118">Click hello application gateway in hello All resources blade.</span></span> <span data-ttu-id="945f3-119">Se sottoscrizione hello selezionati sono già dispone di numerose risorse in essa contenuti, è possibile immettere partners.contoso.net in hello filtro in base al nome...</span><span class="sxs-lookup"><span data-stu-id="945f3-119">If hello subscription you selected already has several resources in it, you can enter partners.contoso.net in hello Filter by name…</span></span> <span data-ttu-id="945f3-120">gateway applicazione hello di accesso tooeasily di casella.</span><span class="sxs-lookup"><span data-stu-id="945f3-120">box tooeasily access hello application gateway.</span></span>

1. <span data-ttu-id="945f3-121">Fare clic su **probe** e fare clic su hello **Aggiungi** pulsante tooadd un probe.</span><span class="sxs-lookup"><span data-stu-id="945f3-121">Click **Probes** and click hello **Add** button tooadd a probe.</span></span>

  ![Pannello Aggiungi probe con informazioni inserite][1]

1. <span data-ttu-id="945f3-123">In hello **probe di integrità Aggiungi** pannello, immettere le informazioni di hello necessario per il probe hello e al termine fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="945f3-123">On hello **Add health probe** blade, fill out hello required information for hello probe, and when complete click **OK**.</span></span>

  |<span data-ttu-id="945f3-124">**Impostazione**</span><span class="sxs-lookup"><span data-stu-id="945f3-124">**Setting**</span></span> | <span data-ttu-id="945f3-125">**Valore**</span><span class="sxs-lookup"><span data-stu-id="945f3-125">**Value**</span></span> | <span data-ttu-id="945f3-126">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="945f3-126">**Details**</span></span>|
  |---|---|---|
  |<span data-ttu-id="945f3-127">**Nome**</span><span class="sxs-lookup"><span data-stu-id="945f3-127">**Name**</span></span>|<span data-ttu-id="945f3-128">customProbe</span><span class="sxs-lookup"><span data-stu-id="945f3-128">customProbe</span></span>|<span data-ttu-id="945f3-129">Questo valore è un probe toohello nome descrittivo che sia accessibile nel portale di hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-129">This value is a friendly name toohello probe that is accessible in hello portal.</span></span>|
  |<span data-ttu-id="945f3-130">**Protocollo**</span><span class="sxs-lookup"><span data-stu-id="945f3-130">**Protocol**</span></span>|<span data-ttu-id="945f3-131">HTTP o HTTPS</span><span class="sxs-lookup"><span data-stu-id="945f3-131">HTTP or HTTPS</span></span> | <span data-ttu-id="945f3-132">Usa il protocollo Hello hello probe di integrità.</span><span class="sxs-lookup"><span data-stu-id="945f3-132">hello protocol that hello health probe uses.</span></span>|
  |<span data-ttu-id="945f3-133">**Host**</span><span class="sxs-lookup"><span data-stu-id="945f3-133">**Host**</span></span>|<span data-ttu-id="945f3-134">vale a dire</span><span class="sxs-lookup"><span data-stu-id="945f3-134">i.e</span></span> <span data-ttu-id="945f3-135">contoso.com</span><span class="sxs-lookup"><span data-stu-id="945f3-135">contoso.com</span></span>|<span data-ttu-id="945f3-136">Questo valore è nome host hello che viene utilizzato per il probe hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-136">This value is hello host name that is used for hello probe.</span></span> <span data-ttu-id="945f3-137">Applicabile solo quando vengono configurati più siti nel gateway applicazione. In caso contrario, usare "127.0.0.1".</span><span class="sxs-lookup"><span data-stu-id="945f3-137">Applicable only when multi-site is configured on Application Gateway, otherwise use '127.0.0.1'.</span></span> <span data-ttu-id="945f3-138">Questo valore è diverso dal nome host della macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-138">This value is different from hello VM host name.</span></span>|
  |<span data-ttu-id="945f3-139">**Percorso**</span><span class="sxs-lookup"><span data-stu-id="945f3-139">**Path**</span></span>|<span data-ttu-id="945f3-140">/ o un altro percorso</span><span class="sxs-lookup"><span data-stu-id="945f3-140">/ or another path</span></span>|<span data-ttu-id="945f3-141">resto Hello di hello l'url completo per il probe personalizzato hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-141">hello remainder of hello full url for hello custom probe.</span></span> <span data-ttu-id="945f3-142">Un percorso valido inizia con "/".</span><span class="sxs-lookup"><span data-stu-id="945f3-142">A valid path starts with '/'.</span></span> <span data-ttu-id="945f3-143">Per il percorso predefinito hello di http://contoso.com semplicemente utilizzare '/'</span><span class="sxs-lookup"><span data-stu-id="945f3-143">For hello default path of http://contoso.com just use '/'</span></span> |
  |<span data-ttu-id="945f3-144">**Intervallo (sec)**</span><span class="sxs-lookup"><span data-stu-id="945f3-144">**Interval (secs)**</span></span>|<span data-ttu-id="945f3-145">30</span><span class="sxs-lookup"><span data-stu-id="945f3-145">30</span></span>|<span data-ttu-id="945f3-146">La frequenza con cui hello probe viene eseguito toocheck per l'integrità.</span><span class="sxs-lookup"><span data-stu-id="945f3-146">How often hello probe is run toocheck for health.</span></span> <span data-ttu-id="945f3-147">Non è consigliabile hello tooset inferiore a 30 secondi.</span><span class="sxs-lookup"><span data-stu-id="945f3-147">It is not recommended tooset hello lower than 30 seconds.</span></span>|
  |<span data-ttu-id="945f3-148">**Timeout (secondi)**</span><span class="sxs-lookup"><span data-stu-id="945f3-148">**Timeout (secs)**</span></span>|<span data-ttu-id="945f3-149">30</span><span class="sxs-lookup"><span data-stu-id="945f3-149">30</span></span>|<span data-ttu-id="945f3-150">quantità Hello di probe hello tempo di attesa prima del timeout. Hello timeout intervallo esigenze toobe sufficientemente elevato che può essere effettuata una chiamata http pagina di stato tooensure hello back-end è disponibile.</span><span class="sxs-lookup"><span data-stu-id="945f3-150">hello amount of time hello probe waits before timing out. hello timeout interval needs toobe high enough that an http call can be made tooensure hello backend health page is available.</span></span>|
  |<span data-ttu-id="945f3-151">**Soglia non integra**</span><span class="sxs-lookup"><span data-stu-id="945f3-151">**Unhealthy threshold**</span></span>|<span data-ttu-id="945f3-152">3</span><span class="sxs-lookup"><span data-stu-id="945f3-152">3</span></span>|<span data-ttu-id="945f3-153">Numero di errori toobe tentativi considerato non integro.</span><span class="sxs-lookup"><span data-stu-id="945f3-153">Number of failed attempts toobe considered unhealthy.</span></span> <span data-ttu-id="945f3-154">Una soglia di 0 significa che se si verifica un errore di un controllo di integrità hello back-end è determinata immediatamente non integro.</span><span class="sxs-lookup"><span data-stu-id="945f3-154">A threshold of 0 means that if a health check fails hello back-end is determined unhealthy immediately.</span></span>|

  > [!IMPORTANT]
  > <span data-ttu-id="945f3-155">nome host Hello è hello non corrisponde al nome di server.</span><span class="sxs-lookup"><span data-stu-id="945f3-155">hello host name is not hello same as server name.</span></span> <span data-ttu-id="945f3-156">Questo valore è il nome di hello dell'host di hello virtuale in esecuzione nel server di applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-156">This value is hello name of hello virtual host running on hello application server.</span></span> <span data-ttu-id="945f3-157">probe Hello viene inviato toohttp: / /(host name):(port from httpsetting)/urlPath</span><span class="sxs-lookup"><span data-stu-id="945f3-157">hello probe is sent toohttp://(host name):(port from httpsetting)/urlPath</span></span>

## <a name="add-probe-toohello-gateway"></a><span data-ttu-id="945f3-158">Aggiungi gateway toohello probe</span><span class="sxs-lookup"><span data-stu-id="945f3-158">Add probe toohello gateway</span></span>

<span data-ttu-id="945f3-159">Ora che hello probe è stato creato, è possibile ora tooadd è toohello gateway.</span><span class="sxs-lookup"><span data-stu-id="945f3-159">Now that hello probe has been created, it is time tooadd it toohello gateway.</span></span> <span data-ttu-id="945f3-160">Le impostazioni probe vengono impostate per le impostazioni http back-end di hello del gateway applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-160">Probe settings are set on hello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="945f3-161">Fare clic su **impostazioni HTTP** gateway applicazione hello, toobring backup pannello configurazione hello scegliere hello corrente back-end http impostazioni elencate nella finestra hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-161">Click **HTTP settings** on hello application gateway, toobring up hello configuration blade click hello current backend http settings listed in hello window.</span></span>

  ![Finestra delle impostazioni HTTP][2]

1. <span data-ttu-id="945f3-163">In hello **appGatewayBackEndHttpSettings** pannello impostazioni, controllo hello **probe personalizzato utilizzare** casella di controllo e scegliere probe hello creato in hello [probe hello crea](#createprobe) sezione in hello **probe personalizzato** elenco a discesa...</span><span class="sxs-lookup"><span data-stu-id="945f3-163">On hello **appGatewayBackEndHttpSettings** settings blade, check hello **Use custom probe** checkbox and choose hello probe created in hello [Create hello probe](#createprobe) section on hello **Custom probe** drop-down..</span></span>
<span data-ttu-id="945f3-164">Al termine, fare clic su **salvare** e vengono applicate le impostazioni di hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-164">When complete, click **Save** and hello settings are applied.</span></span>

<span data-ttu-id="945f3-165">probe predefinito Hello controlla l'applicazione web di hello predefinita accesso toohello.</span><span class="sxs-lookup"><span data-stu-id="945f3-165">hello default probe checks hello default access toohello web application.</span></span> <span data-ttu-id="945f3-166">Ora che è stato creato un probe personalizzato, gateway applicazione hello utilizza hello percorso personalizzato definito toomonitor integrità per i server back-end hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-166">Now that a custom probe has been created, hello application gateway uses hello custom path defined toomonitor health for hello backend servers.</span></span> <span data-ttu-id="945f3-167">In base ai criteri hello è definito, il gateway applicazione hello verifica percorso hello specificato in probe hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-167">Based on hello criteria that was defined, hello application gateway checks hello path specified in hello probe.</span></span> <span data-ttu-id="945f3-168">Se una chiamata a hello toohost:Port / percorso non viene restituito HTTP 200 399 risposta con stato, il server di hello viene escluso dalla rotazione una volta raggiunta la soglia non integra hello.</span><span class="sxs-lookup"><span data-stu-id="945f3-168">If hello call toohost:Port/path does not return an HTTP 200-399 status response, hello server is taken out of rotation after hello unhealthy threshold is reached.</span></span> <span data-ttu-id="945f3-169">Individuazione tramite probe continua su hello toodetermine di istanza non integro quando diventa nuovamente integro.</span><span class="sxs-lookup"><span data-stu-id="945f3-169">Probing continues on hello unhealthy instance toodetermine when it becomes healthy again.</span></span> <span data-ttu-id="945f3-170">Dopo aver aggiunto i pool di server back-toohealthy istanza hello, traffico inizia nuovamente tooit propagazione e probe toohello istanza continuerà nell'intervallo specificato di utente come al solito.</span><span class="sxs-lookup"><span data-stu-id="945f3-170">Once hello instance is added back toohealthy server pool, traffic begins flowing tooit again and probing toohello instance continues at user specified interval as normal.</span></span>

## <a name="next-steps"></a><span data-ttu-id="945f3-171">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="945f3-171">Next steps</span></span>

<span data-ttu-id="945f3-172">toolearn tooconfigure offload SSL con Gateway applicazione Azure, vedere [configurare Offload SSL](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="945f3-172">toolearn how tooconfigure SSL Offloading with Azure Application Gateway, see [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

[1]: ./media/application-gateway-create-probe-portal/figure1.png
[2]: ./media/application-gateway-create-probe-portal/figure2.png

