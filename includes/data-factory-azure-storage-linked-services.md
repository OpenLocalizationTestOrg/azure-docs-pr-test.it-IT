### <a name="azure-storage-linked-service"></a><span data-ttu-id="9cc45-101">Servizio collegato Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="9cc45-101">Azure Storage Linked Service</span></span>
<span data-ttu-id="9cc45-102">Il **servizio collegato ad Archiviazione di Azure** consente di collegare un account di Archiviazione di Azure a una data factory di Azure tramite la **chiave dell'account**, che fornisce alla data factory l'accesso globale ad Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9cc45-102">The **Azure Storage linked service** allows you to link an Azure storage account to an Azure data factory by using the **account key**, which provides the data factory with global access to the Azure Storage.</span></span> <span data-ttu-id="9cc45-103">La tabella seguente fornisce la descrizione degli elementi JSON specifici del servizio collegato Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9cc45-103">The following table provides description for JSON elements specific to Azure Storage linked service.</span></span>

| <span data-ttu-id="9cc45-104">Proprietà</span><span class="sxs-lookup"><span data-stu-id="9cc45-104">Property</span></span> | <span data-ttu-id="9cc45-105">Descrizione</span><span class="sxs-lookup"><span data-stu-id="9cc45-105">Description</span></span> | <span data-ttu-id="9cc45-106">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="9cc45-106">Required</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="9cc45-107">type</span><span class="sxs-lookup"><span data-stu-id="9cc45-107">type</span></span> |<span data-ttu-id="9cc45-108">La proprietà type deve essere impostata su: **AzureStorage**</span><span class="sxs-lookup"><span data-stu-id="9cc45-108">The type property must be set to: **AzureStorage**</span></span> |<span data-ttu-id="9cc45-109">Sì</span><span class="sxs-lookup"><span data-stu-id="9cc45-109">Yes</span></span> |
| <span data-ttu-id="9cc45-110">connectionString</span><span class="sxs-lookup"><span data-stu-id="9cc45-110">connectionString</span></span> |<span data-ttu-id="9cc45-111">Specificare le informazioni necessarie per connettersi all’archivio Azure per la proprietà connectionString.</span><span class="sxs-lookup"><span data-stu-id="9cc45-111">Specify information needed to connect to Azure storage for the connectionString property.</span></span> |<span data-ttu-id="9cc45-112">Sì</span><span class="sxs-lookup"><span data-stu-id="9cc45-112">Yes</span></span> |

<span data-ttu-id="9cc45-113">Per i passaggi da seguire per visualizzare o copiare la chiave dell'account per Archiviazione di Azure, vedere [Visualizzare, copiare e rigenerare le chiave di accesso alle risorse di archiviazione](../articles/storage/common/storage-create-storage-account.md#manage-your-storage-account).</span><span class="sxs-lookup"><span data-stu-id="9cc45-113">See the following article for steps to view/copy the account key for an Azure Storage: [View, copy, and regenerate storage access keys](../articles/storage/common/storage-create-storage-account.md#manage-your-storage-account).</span></span>

<span data-ttu-id="9cc45-114">**Esempio:**</span><span class="sxs-lookup"><span data-stu-id="9cc45-114">**Example:**</span></span>  

```json
{  
    "name": "StorageLinkedService",  
    "properties": {  
        "type": "AzureStorage",  
        "typeProperties": {  
            "connectionString": "DefaultEndpointsProtocol=https;AccountName=<accountname>;AccountKey=<accountkey>"  
        }  
    }  
}  
```

### <a name="azure-storage-sas-linked-service"></a><span data-ttu-id="9cc45-115">Servizio collegato di firma di accesso condiviso Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="9cc45-115">Azure Storage Sas Linked Service</span></span>
<span data-ttu-id="9cc45-116">Una firma di accesso condiviso (SAS) fornisce accesso delegato alle risorse nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9cc45-116">A shared access signature (SAS) provides delegated access to resources in your storage account.</span></span> <span data-ttu-id="9cc45-117">Consente di concedere a un client autorizzazioni limitate per BLOB, code o tabelle per un periodo di tempo specificato e con un set di autorizzazioni specificato senza dover condividere le chiavi di accesso dell'account.</span><span class="sxs-lookup"><span data-stu-id="9cc45-117">It allows you to grant a client limited permissions to objects in your storage account for a specified period of time and with a specified set of permissions, without having to share your account access keys.</span></span> <span data-ttu-id="9cc45-118">La firma di accesso condiviso è un URI che racchiude nei parametri di query tutte le informazioni necessarie per l'accesso autenticato a una risorsa di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9cc45-118">The SAS is a URI that encompasses in its query parameters all the information necessary for authenticated access to a storage resource.</span></span> <span data-ttu-id="9cc45-119">Per accedere alle risorse di archiviazione con la firma di accesso condiviso, il client deve solo passare la firma al costruttore o al metodo appropriato.</span><span class="sxs-lookup"><span data-stu-id="9cc45-119">To access storage resources with the SAS, the client only needs to pass in the SAS to the appropriate constructor or method.</span></span> <span data-ttu-id="9cc45-120">Per informazioni dettagliate sulle firme di accesso condiviso, vedere [Firme di accesso condiviso, parte 1: conoscere il modello di firma di accesso condiviso](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="9cc45-120">For detailed information about SAS, see [Shared Access Signatures: Understanding the SAS Model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md)</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9cc45-121">Azure Data Factory supporta attualmente solo il **servizio di firma di accesso condiviso**, ma non la firma di accesso condiviso dell'account.</span><span class="sxs-lookup"><span data-stu-id="9cc45-121">Azure Data Factory now only supports **Service SAS** but not Account SAS.</span></span> <span data-ttu-id="9cc45-122">Vedere [Tipi di firme di accesso condiviso](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md#types-of-shared-access-signatures) per informazioni dettagliate su questi due tipi e sulla modalità di costruzione.</span><span class="sxs-lookup"><span data-stu-id="9cc45-122">See [Types of Shared Access Signatures](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md#types-of-shared-access-signatures) for details about these two types and how to construct.</span></span> <span data-ttu-id="9cc45-123">Si noti che l'URL di firma di accesso condiviso generabile dal portale di Azure o da Storage Explorer è una firma di accesso condiviso dell'account, che non è supportata.</span><span class="sxs-lookup"><span data-stu-id="9cc45-123">Note the SAS URL generable from Azure portal or Storage Explorer is an Account SAS, which is not supported.</span></span>
> 

<span data-ttu-id="9cc45-124">Il servizio collegato di firma di accesso condiviso Archiviazione di Azure consente di collegare un account di Archiviazione di Azure a Data factory di Azure tramite una firma di accesso condiviso.</span><span class="sxs-lookup"><span data-stu-id="9cc45-124">The Azure Storage SAS linked service allows you to link an Azure Storage Account to an Azure data factory by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="9cc45-125">Offre a Data factory un accesso con restrizioni o limiti di tempo a tutte le risorse o a risorse specifiche (BLOB/contenitore) nella risorsa di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9cc45-125">It provides the data factory with restricted/time-bound access to all/specific resources (blob/container) in the storage.</span></span> <span data-ttu-id="9cc45-126">La tabella seguente fornisce la descrizione degli elementi JSON specifici del servizio collegato di firma di accesso condiviso Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9cc45-126">The following table provides description for JSON elements specific to Azure Storage SAS linked service.</span></span> 

| <span data-ttu-id="9cc45-127">Proprietà</span><span class="sxs-lookup"><span data-stu-id="9cc45-127">Property</span></span> | <span data-ttu-id="9cc45-128">Descrizione</span><span class="sxs-lookup"><span data-stu-id="9cc45-128">Description</span></span> | <span data-ttu-id="9cc45-129">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="9cc45-129">Required</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="9cc45-130">type</span><span class="sxs-lookup"><span data-stu-id="9cc45-130">type</span></span> |<span data-ttu-id="9cc45-131">La proprietà type deve essere impostata su: **AzureStorageSas**</span><span class="sxs-lookup"><span data-stu-id="9cc45-131">The type property must be set to: **AzureStorageSas**</span></span> |<span data-ttu-id="9cc45-132">Sì</span><span class="sxs-lookup"><span data-stu-id="9cc45-132">Yes</span></span> |
| <span data-ttu-id="9cc45-133">sasUri</span><span class="sxs-lookup"><span data-stu-id="9cc45-133">sasUri</span></span> |<span data-ttu-id="9cc45-134">Specificare l'URI della firma di accesso condiviso per le risorse di Archiviazione di Azure come BLOB, contenitore o tabella.</span><span class="sxs-lookup"><span data-stu-id="9cc45-134">Specify Shared Access Signature URI to the Azure Storage resources such as blob, container, or table.</span></span>  |<span data-ttu-id="9cc45-135">Sì</span><span class="sxs-lookup"><span data-stu-id="9cc45-135">Yes</span></span> |

<span data-ttu-id="9cc45-136">**Esempio:**</span><span class="sxs-lookup"><span data-stu-id="9cc45-136">**Example:**</span></span>

```json
{  
    "name": "StorageSasLinkedService",  
    "properties": {  
        "type": "AzureStorageSas",  
        "typeProperties": {  
            "sasUri": "<Specify SAS URI of the Azure Storage resource>"   
        }  
    }  
}  
```

<span data-ttu-id="9cc45-137">Quando si crea un **URI della firma di accesso condiviso**considerare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="9cc45-137">When creating an **SAS URI**, considering the following:</span></span>  

* <span data-ttu-id="9cc45-138">Impostare le **autorizzazioni** appropriate di lettura o scrittura per gli oggetti in base al modo in cui il servizio collegato (lettura, scrittura, lettura/scrittura) viene usato nella data factory.</span><span class="sxs-lookup"><span data-stu-id="9cc45-138">Set appropriate read/write **permissions** on objects based on how the linked service (read, write, read/write) is used in your data factory.</span></span>
* <span data-ttu-id="9cc45-139">Impostare **Ora di scadenza** in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="9cc45-139">Set **Expiry time** appropriately.</span></span> <span data-ttu-id="9cc45-140">L'accesso agli oggetti di Archiviazione di Azure non deve scadere nel periodo attivo della pipeline.</span><span class="sxs-lookup"><span data-stu-id="9cc45-140">Make sure that the access to Azure Storage objects does not expire within the active period of the pipeline.</span></span>
* <span data-ttu-id="9cc45-141">L'URI deve essere creato al giusto livello di contenitore/BLOB o tabella in base alla necessità.</span><span class="sxs-lookup"><span data-stu-id="9cc45-141">Uri should be created at the right container/blob or Table level based on the need.</span></span> <span data-ttu-id="9cc45-142">Un URI di firma di accesso condiviso per un BLOB di Azure consente al servizio Data factory di accedere a quel particolare BLOB.</span><span class="sxs-lookup"><span data-stu-id="9cc45-142">A SAS Uri to an Azure blob allows the Data Factory service to access that particular blob.</span></span> <span data-ttu-id="9cc45-143">Un URI di firma di accesso condiviso per un contenitore BLOB di Azure consente al servizio Data factory di eseguire l'iterazione tra i BLOB in quel contenitore.</span><span class="sxs-lookup"><span data-stu-id="9cc45-143">A SAS Uri to an Azure blob container allows the Data Factory service to iterate through blobs in that container.</span></span> <span data-ttu-id="9cc45-144">Se si deve consentire l'accesso a più o meno oggetti in un secondo momento o aggiornare l'URI di firma di accesso condiviso, ricordarsi di aggiornare il servizio collegato con il nuovo URI.</span><span class="sxs-lookup"><span data-stu-id="9cc45-144">If you need to provide access more/fewer objects later, or update the SAS URI, remember to update the linked service with the new URI.</span></span>   

