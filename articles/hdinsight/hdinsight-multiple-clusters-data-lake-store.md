---
title: "Usare più cluster HDInsight con un account Azure Data Lake Store - Azure | Microsoft Docs"
description: "Informazioni su come usare più di un cluster HDInsight con un singolo account Data Lake Store"
keywords: archiviazione hdinsight, hdfs, dati strutturati, dati non strutturati, data lake store
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="4f76a-104">Usare più cluster HDInsight con un account Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="4f76a-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="4f76a-105">A partire da HDInsight versione 3.5, è possibile creare cluster HDInsight con account Azure Data Lake Store come file system predefinito.</span><span class="sxs-lookup"><span data-stu-id="4f76a-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="4f76a-106">Supportando l'archiviazione illimitata, Data Lake Store è ideale non solo per l'hosting di grandi quantità di dati, ma anche per l'hosting di più cluster HDInsight che condividono un unico account Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="4f76a-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="4f76a-107">Per istruzioni su come creare un cluster HDInsight con Data Lake Store come risorsa di archiviazione, vedere [Creare cluster HDInsight con Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="4f76a-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="4f76a-108">Questo articolo fornisce agli amministratori di Data Lake Store le informazioni necessarie per configurare un singolo account Data Lake Store condiviso, che possa essere usato in più cluster HDInsight **attivi**.</span><span class="sxs-lookup"><span data-stu-id="4f76a-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="4f76a-109">Queste indicazioni valgono per l'hosting di più cluster Hadoop sicuri e non sicuri in un account Data Lake Store condiviso.</span><span class="sxs-lookup"><span data-stu-id="4f76a-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="4f76a-110">ACL a livello di file e cartella di Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="4f76a-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="4f76a-111">La parte rimanente di questo articolo presuppone una buona conoscenza degli ACL a livello di file e cartella in Azure Data Lake Store, descritte nel dettaglio in [Controllo di accesso in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="4f76a-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="4f76a-112">Configurazione di Data Lake Store per più cluster HDInsight</span><span class="sxs-lookup"><span data-stu-id="4f76a-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="4f76a-113">Si userà una gerarchia di cartelle a due livelli per spiegare i suggerimenti relativi all'uso di più cluster HDInsight con un account Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="4f76a-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="4f76a-114">Si consideri, ad esempio, di avere un account Data Lake Store con la struttura di cartelle **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="4f76a-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="4f76a-115">Con questa struttura, tutti i cluster necessari all'organizzazione Finanza possono usare /clusters/finance come percorso di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="4f76a-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="4f76a-116">Se un'altra organizzazione, ad esempio Marketing, volesse creare in futuro cluster HDInsight usando lo stesso account Data Lake Store, potrà creare il percorso cluster/marketing.</span><span class="sxs-lookup"><span data-stu-id="4f76a-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="4f76a-117">Per il momento si userà solo **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="4f76a-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="4f76a-118">Per far sì che questa struttura di cartelle venga usata dai cluster HDInsight in modo efficace, l'amministratore di Data Lake Store deve assegnare le autorizzazioni appropriate, come descritto nella tabella.</span><span class="sxs-lookup"><span data-stu-id="4f76a-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="4f76a-119">Le autorizzazioni illustrate nella tabella corrispondono ad ACL di accesso, non ad ACL predefiniti.</span><span class="sxs-lookup"><span data-stu-id="4f76a-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="4f76a-120">Cartella</span><span class="sxs-lookup"><span data-stu-id="4f76a-120">Folder</span></span>  |<span data-ttu-id="4f76a-121">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="4f76a-121">Permissions</span></span>  |<span data-ttu-id="4f76a-122">utente proprietario</span><span class="sxs-lookup"><span data-stu-id="4f76a-122">Owning user</span></span>  |<span data-ttu-id="4f76a-123">gruppo proprietario</span><span class="sxs-lookup"><span data-stu-id="4f76a-123">Owning group</span></span>  | <span data-ttu-id="4f76a-124">Utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-124">Named user</span></span> | <span data-ttu-id="4f76a-125">Autorizzazioni utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-125">Named user permissions</span></span> | <span data-ttu-id="4f76a-126">Gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-126">Named group</span></span> | <span data-ttu-id="4f76a-127">Autorizzazioni gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="4f76a-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="4f76a-128">rwxr-x--x</span></span>  |<span data-ttu-id="4f76a-129">admin</span><span class="sxs-lookup"><span data-stu-id="4f76a-129">admin</span></span> |<span data-ttu-id="4f76a-130">admin</span><span class="sxs-lookup"><span data-stu-id="4f76a-130">admin</span></span>  |<span data-ttu-id="4f76a-131">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="4f76a-131">Service principal</span></span> |<span data-ttu-id="4f76a-132">--x</span><span class="sxs-lookup"><span data-stu-id="4f76a-132">--x</span></span>  |<span data-ttu-id="4f76a-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4f76a-133">FINGRP</span></span>   |<span data-ttu-id="4f76a-134">r-x</span><span class="sxs-lookup"><span data-stu-id="4f76a-134">r-x</span></span>         |
|<span data-ttu-id="4f76a-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="4f76a-135">/clusters</span></span> | <span data-ttu-id="4f76a-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="4f76a-136">rwxr-x--x</span></span> |<span data-ttu-id="4f76a-137">admin</span><span class="sxs-lookup"><span data-stu-id="4f76a-137">admin</span></span> |<span data-ttu-id="4f76a-138">admin</span><span class="sxs-lookup"><span data-stu-id="4f76a-138">admin</span></span> |<span data-ttu-id="4f76a-139">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="4f76a-139">Service principal</span></span> |<span data-ttu-id="4f76a-140">--x</span><span class="sxs-lookup"><span data-stu-id="4f76a-140">--x</span></span>  |<span data-ttu-id="4f76a-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4f76a-141">FINGRP</span></span> |<span data-ttu-id="4f76a-142">r-x</span><span class="sxs-lookup"><span data-stu-id="4f76a-142">r-x</span></span>         |
|<span data-ttu-id="4f76a-143">/clusters/finance</span><span class="sxs-lookup"><span data-stu-id="4f76a-143">/clusters/finance</span></span> | <span data-ttu-id="4f76a-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="4f76a-144">rwxr-x--t</span></span> |<span data-ttu-id="4f76a-145">admin</span><span class="sxs-lookup"><span data-stu-id="4f76a-145">admin</span></span> |<span data-ttu-id="4f76a-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4f76a-146">FINGRP</span></span>  |<span data-ttu-id="4f76a-147">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="4f76a-147">Service principal</span></span> |<span data-ttu-id="4f76a-148">rwx</span><span class="sxs-lookup"><span data-stu-id="4f76a-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="4f76a-149">Nella tabella,</span><span class="sxs-lookup"><span data-stu-id="4f76a-149">In the table,</span></span>

- <span data-ttu-id="4f76a-150">**admin** è l'autore e amministratore dell'account Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="4f76a-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="4f76a-151">**Entità servizio** è l'entità servizio di Azure Active Directory (AAD) associata all'account.</span><span class="sxs-lookup"><span data-stu-id="4f76a-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="4f76a-152">**FINGRP** è un gruppo di utenti creato in AAD in cui sono contenuti gli utenti dell'organizzazione Finance.</span><span class="sxs-lookup"><span data-stu-id="4f76a-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="4f76a-153">Per istruzioni su come creare un'applicazione AAD (che crea anche un'entità servizio), vedere [Creare un'applicazione Azure Active Directory](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="4f76a-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="4f76a-154">Per istruzioni su come creare un gruppo di utenti in AAD, vedere [Gestione dei gruppi in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="4f76a-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="4f76a-155">Alcuni punti chiave di cui tener conto.</span><span class="sxs-lookup"><span data-stu-id="4f76a-155">Some key points to consider.</span></span>

- <span data-ttu-id="4f76a-156">La struttura di cartelle a due livelli (**/cluster/finance/**) deve essere creata e configurata con le autorizzazioni appropriate dall'amministratore di Data Lake Store **prima** di usare l'account di archiviazione per i cluster.</span><span class="sxs-lookup"><span data-stu-id="4f76a-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="4f76a-157">Questa struttura non viene creata automaticamente durante la creazione dei cluster.</span><span class="sxs-lookup"><span data-stu-id="4f76a-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="4f76a-158">Nell'esempio precedente si consiglia di impostare il gruppo proprietario di **/cluster/finance** come **FINGRP** e di fornire a FINGRP l'autorizzazione **r-x** per accedere all'intera gerarchia di cartelle, a partire dalla radice.</span><span class="sxs-lookup"><span data-stu-id="4f76a-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="4f76a-159">In questo modo, i membri di FINGRP possono esplorare la struttura di cartelle a partire dalla radice.</span><span class="sxs-lookup"><span data-stu-id="4f76a-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="4f76a-160">Nel caso in cui più entità servizio AAD possano creare cluster in **/cluster/finance**, lo sticky bit (se impostato sulla cartella **finance**) garantisce che le cartelle create da un'entità servizio non possano essere eliminate da altre entità servizio.</span><span class="sxs-lookup"><span data-stu-id="4f76a-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="4f76a-161">Dopo aver impostato la struttura di cartelle e le relative autorizzazioni, il processo di creazione di cluster HDInsight crea un percorso di archiviazione specifico del cluster in **/clusters/finance/**.</span><span class="sxs-lookup"><span data-stu-id="4f76a-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="4f76a-162">La risorsa di archiviazione per un cluster con nome fincluster01, ad esempio, può essere **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="4f76a-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="4f76a-163">La tabella seguente elenca la proprietà e le autorizzazioni relative alle cartelle create dal cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="4f76a-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="4f76a-164">Cartella</span><span class="sxs-lookup"><span data-stu-id="4f76a-164">Folder</span></span>  |<span data-ttu-id="4f76a-165">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="4f76a-165">Permissions</span></span>  |<span data-ttu-id="4f76a-166">utente proprietario</span><span class="sxs-lookup"><span data-stu-id="4f76a-166">Owning user</span></span>  |<span data-ttu-id="4f76a-167">gruppo proprietario</span><span class="sxs-lookup"><span data-stu-id="4f76a-167">Owning group</span></span>  | <span data-ttu-id="4f76a-168">Utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-168">Named user</span></span> | <span data-ttu-id="4f76a-169">Autorizzazioni utente non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-169">Named user permissions</span></span> | <span data-ttu-id="4f76a-170">Gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-170">Named group</span></span> | <span data-ttu-id="4f76a-171">Autorizzazioni gruppo non anonimo</span><span class="sxs-lookup"><span data-stu-id="4f76a-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="4f76a-172">/clusters/finanace/ fincluster01</span><span class="sxs-lookup"><span data-stu-id="4f76a-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="4f76a-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="4f76a-173">rwxr-x---</span></span>  |<span data-ttu-id="4f76a-174">Entità servizio</span><span class="sxs-lookup"><span data-stu-id="4f76a-174">Service Principal</span></span> |<span data-ttu-id="4f76a-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4f76a-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="4f76a-176">Suggerimenti per i dati di input e di output del processo</span><span class="sxs-lookup"><span data-stu-id="4f76a-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="4f76a-177">È consigliabile che i dati di input di un processo e i dati di output del processo vengano archiviati in una cartella esterna a **/cluster**.</span><span class="sxs-lookup"><span data-stu-id="4f76a-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="4f76a-178">In questo modo, anche se la cartella specifica del cluster viene eliminata per liberare spazio di archiviazione, gli input e gli output del processo rimangono disponibili per un utilizzo futuro.</span><span class="sxs-lookup"><span data-stu-id="4f76a-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="4f76a-179">In tal caso, assicurarsi che la gerarchia di cartelle per l'archiviazione dei dati di input e di output del processo consenta il livello di accesso appropriato per l'entità servizio.</span><span class="sxs-lookup"><span data-stu-id="4f76a-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="4f76a-180">Limite di cluster che condividono un unico account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="4f76a-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="4f76a-181">Il limite relativo al numero di cluster che possono condividere un singolo account Data Lake Store dipende dal carico di lavoro in esecuzione sui cluster.</span><span class="sxs-lookup"><span data-stu-id="4f76a-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="4f76a-182">La presenza di troppi cluster o di carichi di lavoro molto elevati nei cluster che condividono un account di archiviazione può causare una limitazione del traffico in ingresso/uscita dall'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="4f76a-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="4f76a-183">Supporto per gli ACL predefiniti</span><span class="sxs-lookup"><span data-stu-id="4f76a-183">Support for Default-ACLs</span></span>

<span data-ttu-id="4f76a-184">Quando si crea un'entità servizio con accesso utente non anonimo (come illustrato nella tabella precedente), è consigliabile **non** aggiungere l'utente non anonimo con un ACL predefinito.</span><span class="sxs-lookup"><span data-stu-id="4f76a-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="4f76a-185">L'assegnazione di un accesso utente non anonimo con ACL predefiniti determina l'assegnazione di 770 autorizzazioni per l'utente proprietario, il gruppo proprietario e altri membri.</span><span class="sxs-lookup"><span data-stu-id="4f76a-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="4f76a-186">Sebbene non sottragga autorizzazioni all'utente proprietario (7) o al gruppo proprietario (7), il valore predefinito di 770 sottrae tutte le autorizzazioni agli altri membri (0).</span><span class="sxs-lookup"><span data-stu-id="4f76a-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="4f76a-187">Questo genera un problema noto con un particolare caso d'uso analizzato in dettaglio nella sezione [Problemi noti e soluzioni alternative](#known-issues-and-workarounds).</span><span class="sxs-lookup"><span data-stu-id="4f76a-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="4f76a-188">Problemi noti e soluzioni alternative</span><span class="sxs-lookup"><span data-stu-id="4f76a-188">Known issues and workarounds</span></span>

<span data-ttu-id="4f76a-189">In questa sezione sono elencati i problemi noti relativi all'uso di HDInsight con Data Lake Store e le relative soluzioni alternative.</span><span class="sxs-lookup"><span data-stu-id="4f76a-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="4f76a-190">Risorse YARN localizzate visibili pubblicamente</span><span class="sxs-lookup"><span data-stu-id="4f76a-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="4f76a-191">Quando viene creato un nuovo account Azure Data Lake Store, la directory radice viene automaticamente configurata con i bit di autorizzazione dell'ACL di accesso impostati su 770.</span><span class="sxs-lookup"><span data-stu-id="4f76a-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="4f76a-192">L'utente proprietario della cartella radice è impostato sull'utente che ha creato l'account (l'amministratore di Data Lake Store) e il gruppo proprietario è impostato sul gruppo principale dell'utente che ha creato l'account.</span><span class="sxs-lookup"><span data-stu-id="4f76a-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="4f76a-193">Per gli altri membri non è previsto alcun tipo di acceso.</span><span class="sxs-lookup"><span data-stu-id="4f76a-193">No access is provided for "others".</span></span>

<span data-ttu-id="4f76a-194">Queste impostazioni influiscono su uno specifico caso d'uso di HDInsight acquisito in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="4f76a-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="4f76a-195">Gli invii di processi possono avere esito negativo con un messaggio di errore simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="4f76a-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="4f76a-196">Come indicato nel documento JIRA YARN citato in precedenza, durante la localizzazione delle risorse pubbliche il localizzatore verifica che tutte le risorse richieste siano realmente pubbliche controllandone le autorizzazioni sul file system remoto.</span><span class="sxs-lookup"><span data-stu-id="4f76a-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="4f76a-197">Eventuali LocalResource che non soddisfano questa condizione vengono rifiutate per la localizzazione.</span><span class="sxs-lookup"><span data-stu-id="4f76a-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="4f76a-198">Il controllo delle autorizzazioni include l'accesso in lettura al file per gli altri membri.</span><span class="sxs-lookup"><span data-stu-id="4f76a-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="4f76a-199">Questo scenario non può essere applicato direttamente per l'hosting di cluster HDInsight in Azure Data Lake, poiché Azure Data Lake nega agli altri membri l'accesso a livello di cartella radice.</span><span class="sxs-lookup"><span data-stu-id="4f76a-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="4f76a-200">Soluzione alternativa</span><span class="sxs-lookup"><span data-stu-id="4f76a-200">Workaround</span></span>
<span data-ttu-id="4f76a-201">Impostare le autorizzazioni di lettura ed esecuzione per gli **altri** membri attraverso la gerarchia, ad esempio in corrispondenza di **/**, **/clusters** e **/clusters/finance**, come illustrato nella tabella precedente.</span><span class="sxs-lookup"><span data-stu-id="4f76a-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="4f76a-202">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="4f76a-202">See also</span></span>

* [<span data-ttu-id="4f76a-203">Creare un cluster HDInsight con Archivio Data Lake</span><span class="sxs-lookup"><span data-stu-id="4f76a-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


