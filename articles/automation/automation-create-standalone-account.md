---
title: Creare un account di Automazione di Azure autonomo | Microsoft Docs
description: "Esercitazione che illustra come creare, testare e usare l'autenticazione dell'entità di sicurezza in Automazione di Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: 
ms.assetid: 2f783441-15c7-4ea0-ba27-d7daa39b1dd3
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 08/18/2017
ms.author: magoedte
ms.openlocfilehash: 6eadfb0c3f91c1f2c7783d70604b45d5dc9912a3
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="create-a-standalone-azure-automation-account"></a><span data-ttu-id="e9c1a-103">Creare un account di Automazione di Azure autonomo</span><span class="sxs-lookup"><span data-stu-id="e9c1a-103">Create a standalone Azure Automation account</span></span>
<span data-ttu-id="e9c1a-104">Questo argomento illustra come creare un account di Automazione dal portale di Azure se si vuole valutare e imparare a usare Automazione di Azure senza includere soluzioni di gestione aggiuntive o l'integrazione con OMS Log Analytics per offrire il monitoraggio avanzato dei processi dei runbook.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-104">This topic shows you how to create an Automation account from the Azure portal if you want to evaluate and learn Azure Automation without including the additional management solutions or integration with OMS Log Analytics to provide advanced monitoring of runbook jobs.</span></span>  <span data-ttu-id="e9c1a-105">È possibile aggiungere le soluzioni di gestione o eseguire l'integrazione con Log Analytics in qualsiasi momento in futuro.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-105">You can add those management solutions or integrate with Log Analytics at any point in the future.</span></span>  <span data-ttu-id="e9c1a-106">Con l'account di Automazione è possibile autenticare i runbook che gestiscono risorse in Azure Resource Manager o nella distribuzione classica di Azure.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-106">With the Automation account, you are able to authenticate runbooks managing resources in either Azure Resource Manager or Azure classic deployment.</span></span>

<span data-ttu-id="e9c1a-107">Quando si crea un account di Automazione nel portale di Azure, viene creato automaticamente quanto segue:</span><span class="sxs-lookup"><span data-stu-id="e9c1a-107">When you create an Automation account in the Azure portal, it automatically creates:</span></span>

* <span data-ttu-id="e9c1a-108">Account RunAs che crea una nuova entità servizio in Azure Active Directory e un certificato e assegna il ruolo Collaboratore per il controllo degli accessi in base al ruolo, che viene usato per gestire le risorse di Resource Manager con i runbook.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-108">Run As account, which creates a new service principal in Azure Active Directory, a certificate, and assigns the Contributor role-based access control (RBAC), which is used to manage Resource Manager resources using runbooks.</span></span>   
* <span data-ttu-id="e9c1a-109">Account RunAs classico, caricando un certificato di gestione che viene usato per gestire le risorse classiche con i runbook.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-109">Classic Run As account by uploading a management certificate, which is used to manage  classic resources using runbooks.</span></span>  

<span data-ttu-id="e9c1a-110">Questo semplifica il processo e consente di iniziare rapidamente la compilazione e distribuzione di runbook per supportare le esigenze di automazione.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-110">This simplifies the process for you and helps you quickly start building and deploying runbooks to support your automation needs.</span></span>  

## <a name="permissions-required-to-create-automation-account"></a><span data-ttu-id="e9c1a-111">Autorizzazioni necessarie per creare un account di Automazione</span><span class="sxs-lookup"><span data-stu-id="e9c1a-111">Permissions required to create Automation account</span></span>
<span data-ttu-id="e9c1a-112">Per creare o aggiornare un account di Automazione, è necessario avere le autorizzazioni e i privilegi specifici seguenti, necessari per il completamento di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-112">To create or update an Automation account, you must have the following specific privileges and permissions required to complete this topic.</span></span>   
 
* <span data-ttu-id="e9c1a-113">Per creare un account di Automazione, l'account utente di AD deve essere aggiunto a un ruolo con autorizzazioni equivalenti al ruolo Proprietario per le risorse di Microsoft.Automation, come indicato nell'articolo [Controllo degli accessi in base al ruolo in Automazione di Azure](automation-role-based-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="e9c1a-113">In order to create an Automation account, your AD user account needs to be added to a role with permissions equivalent to the Owner role for Microsoft.Automation resources as outlined in article [Role-based access control in Azure Automation](automation-role-based-access-control.md).</span></span>  
* <span data-ttu-id="e9c1a-114">Se le impostazioni delle registrazioni dell'app sono impostate su **Sì**, gli utenti non amministratori nel tenant di Azure AD possono [registrare le applicazioni di AD](../azure-resource-manager/resource-group-create-service-principal-portal.md#check-azure-subscription-permissions).</span><span class="sxs-lookup"><span data-stu-id="e9c1a-114">If the App registrations setting is set to **Yes**, non-admin users in your Azure AD tenant can [register AD applications](../azure-resource-manager/resource-group-create-service-principal-portal.md#check-azure-subscription-permissions).</span></span>  <span data-ttu-id="e9c1a-115">Se le impostazioni delle registrazioni dell'app sono impostate su **No**, l'utente che esegue questa azione deve essere un amministratore globale in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-115">If the app registrations setting is set to **No**, the user performing this action must be a global administrator in Azure AD.</span></span> 

<span data-ttu-id="e9c1a-116">Se l'utente non è membro dell'istanza di Active Directory della sottoscrizione prima dell'aggiunta al ruolo di amministratore globale/coamministratore della sottoscrizione, viene aggiunto ad Active Directory come guest.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-116">If you are not a member of the subscription’s Active Directory instance before you are added to the global administrator/co-administrator role of the subscription, you are added to Active Directory as a guest.</span></span> <span data-ttu-id="e9c1a-117">In questa situazione si riceve un avviso di tipo "L'utente non è autorizzato a creare..."</span><span class="sxs-lookup"><span data-stu-id="e9c1a-117">In this situation, you receive a “You do not have permissions to create…”</span></span> <span data-ttu-id="e9c1a-118">nel pannello **Aggiungi account di Automazione**.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-118">warning on the **Add Automation Account** blade.</span></span> <span data-ttu-id="e9c1a-119">Gli utenti che prima sono stati aggiunti al ruolo di amministratore globale/coamministratore possono essere rimossi dall'istanza di Active Directory della sottoscrizione e aggiunti nuovamente per renderli utenti completi in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-119">Users who were added to the global administrator/co-administrator role first can be removed from the subscription's Active Directory instance and readded to make them a full User in Active Directory.</span></span> <span data-ttu-id="e9c1a-120">Per verificare questa situazione dal riquadro **Azure Active Directory** nel portale di Azure selezionare **Utenti e gruppi**, **Tutti gli utenti** e, dopo avere selezionato l'utente specifico, selezionare **Profilo**.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-120">To verify this situation, from the **Azure Active Directory** pane in the Azure portal, select **Users and groups**, select **All users** and, after you select the specific user, select **Profile**.</span></span> <span data-ttu-id="e9c1a-121">Il valore dell'attributo **Tipo utente** nel profilo utente non deve essere **Guest**.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-121">The value of the **User type** attribute under the users profile should not equal **Guest**.</span></span>

## <a name="create-a-new-automation-account-from-the-azure-portal"></a><span data-ttu-id="e9c1a-122">Creare un account di Automazione dal Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="e9c1a-122">Create a new Automation Account from the Azure portal</span></span>
<span data-ttu-id="e9c1a-123">La procedura descritta in questa sezione consente di creare un account di Automazione di Azure nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-123">In this section, perform the following steps to create an Azure Automation account in the Azure portal.</span></span>    

1. <span data-ttu-id="e9c1a-124">Accedere al Portale di Azure con un account membro del ruolo Amministratori della sottoscrizione e coamministratore della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-124">Sign in to the Azure portal with an account that is a member of the Subscription Admins role and co-administrator of the subscription.</span></span>
2. <span data-ttu-id="e9c1a-125">Fare clic su **New**.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-125">Click **New**.</span></span><br><br> <span data-ttu-id="e9c1a-126">![Selezionare l'opzione Nuovo nel portale di Azure](media/automation-offering-get-started/automation-portal-martketplacestart.png)</span><span class="sxs-lookup"><span data-stu-id="e9c1a-126">![Select New option in Azure portal](media/automation-offering-get-started/automation-portal-martketplacestart.png)</span></span><br>  
3. <span data-ttu-id="e9c1a-127">Cercare **Automazione** e quindi nei risultati della ricerca selezionare **Automation & Control***.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-127">Search for **Automation** and then in the search results select **Automation & Control***.</span></span><br><br> <span data-ttu-id="e9c1a-128">![Cercare e selezionare Automazione nel Marketplace](media/automation-create-standalone-account/automation-marketplace-select-create-automationacct.png)</span><span class="sxs-lookup"><span data-stu-id="e9c1a-128">![Search and select Automation from Marketplace](media/automation-create-standalone-account/automation-marketplace-select-create-automationacct.png)</span></span><br> 
3. <span data-ttu-id="e9c1a-129">Nel pannello Account di automazione fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-129">In the Automation Accounts blade, click **Add**.</span></span><br><br><span data-ttu-id="e9c1a-130">![Aggiungi account di Automazione](media/automation-create-standalone-account/automation-create-automationacct-properties.png)</span><span class="sxs-lookup"><span data-stu-id="e9c1a-130">![Add Automation Account](media/automation-create-standalone-account/automation-create-automationacct-properties.png)</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="e9c1a-131">Se nel pannello **Aggiungi account di Automazione** viene visualizzato l'avviso seguente, l'account non è membro del ruolo Amministratori della sottoscrizione e coamministratore della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-131">If you see the following warning in the **Add Automation Account** blade, it is because your account is not a member of the Subscription Admins role and co-admin of the subscription.</span></span><br><br><span data-ttu-id="e9c1a-132">![Aggiungi account di Automazione, avviso](media/automation-create-standalone-account/create-account-without-perms.png)</span><span class="sxs-lookup"><span data-stu-id="e9c1a-132">![Add Automation Account Warning](media/automation-create-standalone-account/create-account-without-perms.png)</span></span>
   > 
   > 
4. <span data-ttu-id="e9c1a-133">Nella casella **Nome** del pannello **Aggiungi account di Automazione** digitare un nome per il nuovo account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-133">In the **Add Automation Account** blade, in the **Name** box type in a name for your new Automation account.</span></span>
5. <span data-ttu-id="e9c1a-134">Se si hanno più sottoscrizioni, specificarne una per il nuovo account, un **gruppo di risorse** nuovo o esistente e la **località** di un data center di Azure.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-134">If you have more than one subscription, specify one for the new account, a new or existing **Resource group** and an Azure datacenter **Location**.</span></span>
6. <span data-ttu-id="e9c1a-135">Verificare che sia selezionato il valore **Sì** per l'opzione **Crea un account RunAs di Azure** e fare clic sul pulsante **Crea**.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-135">Verify the value **Yes** is selected for the **Create Azure Run As account** option, and click the **Create** button.</span></span>  
   
   > [!NOTE]
   > <span data-ttu-id="e9c1a-136">Se si sceglie di non creare l'account RunAs selezionando l'opzione **No**, verrà visualizzato un messaggio di avviso nel pannello **Aggiungi account di Automazione**.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-136">If you choose to not create the Run As account by selecting the option **No**, you are  presented with a warning message in the **Add Automation Account** blade.</span></span>  <span data-ttu-id="e9c1a-137">L'account viene creato nel portale di Azure, ma non ha un'identità di autenticazione corrispondente nel servizio directory della sottoscrizione classica o Resource Manager e, di conseguenza, non avrà accesso alle risorse nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-137">While the account is created in the Azure portal, it doesn't have a corresponding authentication identity within your classic or Resource Manager subscription directory service and therefore, no access to resources in your subscription.</span></span>  <span data-ttu-id="e9c1a-138">Questo impedirà ai runbook che fanno riferimento a questo account di completare l'autenticazione ed eseguire attività sulle risorse in tali modelli di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-138">This prevents any runbooks referencing this account from being able to authenticate and perform tasks against resources in those deployment models.</span></span>
   > 
   > <span data-ttu-id="e9c1a-139">![Aggiungi account di Automazione, avviso](media/automation-create-standalone-account/create-account-decline-create-runas-msg.png)</span><span class="sxs-lookup"><span data-stu-id="e9c1a-139">![Add Automation Account Warning](media/automation-create-standalone-account/create-account-decline-create-runas-msg.png)</span></span><br>
   > <span data-ttu-id="e9c1a-140">Se non viene creata l'entità servizio, il ruolo Collaboratore non viene assegnato.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-140">When the service principal is not created the Contributor role is not assigned.</span></span>
   > 

7. <span data-ttu-id="e9c1a-141">Mentre Azure crea l'account di Automazione, è possibile tenere traccia dello stato di avanzamento in **Notifiche** dal menu.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-141">While Azure creates the Automation account, you can track the progress under **Notifications** from the menu.</span></span>

### <a name="resources-included"></a><span data-ttu-id="e9c1a-142">Risorse incluse</span><span class="sxs-lookup"><span data-stu-id="e9c1a-142">Resources included</span></span>
<span data-ttu-id="e9c1a-143">Quando la creazione dell'account di Automazione viene completata, vengono create automaticamente diverse risorse.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-143">When the Automation account is successfully created, several resources are automatically created for you.</span></span>  <span data-ttu-id="e9c1a-144">La tabella seguente offre un riepilogo delle risorse per l'account RunAs.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-144">The following table summarizes resources for the Run As account.</span></span><br>

| <span data-ttu-id="e9c1a-145">Risorsa</span><span class="sxs-lookup"><span data-stu-id="e9c1a-145">Resource</span></span> | <span data-ttu-id="e9c1a-146">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e9c1a-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e9c1a-147">Runbook AzureAutomationTutorial</span><span class="sxs-lookup"><span data-stu-id="e9c1a-147">AzureAutomationTutorial Runbook</span></span> |<span data-ttu-id="e9c1a-148">Runbook grafico di esempio che illustra come eseguire l'autenticazione con l'account RunAs e ottiene tutte le risorse di Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-148">An example Graphical runbook that demonstrates how to authenticate using the Run As account and gets all the Resource Manager resources.</span></span> |
| <span data-ttu-id="e9c1a-149">Runbook AzureAutomationTutorialScript</span><span class="sxs-lookup"><span data-stu-id="e9c1a-149">AzureAutomationTutorialScript Runbook</span></span> |<span data-ttu-id="e9c1a-150">Runbook di PowerShell di esempio che illustra come eseguire l'autenticazione con l'account RunAs e ottiene tutte le risorse di Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-150">An example PowerShell runbook that demonstrates how to authenticate using the Run As account and gets all the Resource Manager resources.</span></span> |
| <span data-ttu-id="e9c1a-151">AzureRunAsCertificate</span><span class="sxs-lookup"><span data-stu-id="e9c1a-151">AzureRunAsCertificate</span></span> |<span data-ttu-id="e9c1a-152">Asset di certificato creato automaticamente durante la creazione dell'account di Automazione oppure usando lo script di PowerShell riportato più avanti per un account esistente.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-152">Certificate asset automatically created during Automation account creation or using the PowerShell script below for an existing account.</span></span>  <span data-ttu-id="e9c1a-153">Consente di eseguire l'autenticazione con Azure per poter gestire le risorse di Azure Resource Manager con i runbook.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-153">It allows you to authenticate with Azure so that you can manage Azure Resource Manager resources from runbooks.</span></span>  <span data-ttu-id="e9c1a-154">La durata di questo certificato è di un anno.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-154">This certificate has a one-year lifespan.</span></span> |
| <span data-ttu-id="e9c1a-155">AzureRunAsConnection</span><span class="sxs-lookup"><span data-stu-id="e9c1a-155">AzureRunAsConnection</span></span> |<span data-ttu-id="e9c1a-156">Asset di connessione creato automaticamente durante la creazione dell'account di Automazione oppure usando lo script di PowerShell riportato più avanti per un account esistente.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-156">Connection asset automatically created during Automation account creation or using the PowerShell script below for an existing account.</span></span> |

<span data-ttu-id="e9c1a-157">La tabella seguente offre un riepilogo delle risorse per l'account RunAs classico.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-157">The following table summarizes resources for the Classic Run As account.</span></span><br>

| <span data-ttu-id="e9c1a-158">Risorsa</span><span class="sxs-lookup"><span data-stu-id="e9c1a-158">Resource</span></span> | <span data-ttu-id="e9c1a-159">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e9c1a-159">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e9c1a-160">Runbook AzureClassicAutomationTutorial</span><span class="sxs-lookup"><span data-stu-id="e9c1a-160">AzureClassicAutomationTutorial Runbook</span></span> |<span data-ttu-id="e9c1a-161">Runbook grafico di esempio che ottiene tutte le VM in modalità classica in una sottoscrizione usando l'account RunAs classico (certificato) e quindi restituisce il nome e lo stato delle VM.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-161">An example Graphical runbook, which gets all the Classic VMs in a subscription using the Classic Run As Account (certificate) and then outputs the VM name and status.</span></span> |
| <span data-ttu-id="e9c1a-162">Runbook di script AzureClassicAutomationTutorial</span><span class="sxs-lookup"><span data-stu-id="e9c1a-162">AzureClassicAutomationTutorial Script Runbook</span></span> |<span data-ttu-id="e9c1a-163">Runbook PowerShell di esempio che ottiene tutte le VM in modalità classica in una sottoscrizione usando l'account RunAs classico (certificato) e quindi restituisce il nome e lo stato delle VM.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-163">An example PowerShell runbook, which gets all the Classic VMs in a subscription using the Classic Run As Account (certificate) and then outputs the VM name and status.</span></span> |
| <span data-ttu-id="e9c1a-164">AzureClassicRunAsCertificate</span><span class="sxs-lookup"><span data-stu-id="e9c1a-164">AzureClassicRunAsCertificate</span></span> |<span data-ttu-id="e9c1a-165">Asset di certificato creato automaticamente e usato per eseguire l'autenticazione con Azure per poter gestire le risorse classiche di Azure con i runbook.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-165">Certificate asset automatically created that is used to authenticate with Azure so that you can manage Azure classic resources from runbooks.</span></span>  <span data-ttu-id="e9c1a-166">La durata di questo certificato è di un anno.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-166">This certificate has a one-year lifespan.</span></span> |
| <span data-ttu-id="e9c1a-167">AzureClassicRunAsConnection</span><span class="sxs-lookup"><span data-stu-id="e9c1a-167">AzureClassicRunAsConnection</span></span> |<span data-ttu-id="e9c1a-168">Asset di connessione creato automaticamente e usato per eseguire l'autenticazione con Azure per poter gestire le risorse classiche di Azure con i runbook.</span><span class="sxs-lookup"><span data-stu-id="e9c1a-168">Connection asset automatically created that is used to authenticate with Azure so that you can manage Azure classic resources from runbooks.</span></span> |


## <a name="next-steps"></a><span data-ttu-id="e9c1a-169">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="e9c1a-169">Next steps</span></span>
* <span data-ttu-id="e9c1a-170">Per altre informazioni sulla creazione grafica, vedere [Creazione grafica in Automazione di Azure](automation-graphical-authoring-intro.md).</span><span class="sxs-lookup"><span data-stu-id="e9c1a-170">To learn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md).</span></span>
* <span data-ttu-id="e9c1a-171">Per iniziare a usare i runbook PowerShell, vedere [Il primo runbook PowerShell](automation-first-runbook-textual-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="e9c1a-171">To get started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md).</span></span>
* <span data-ttu-id="e9c1a-172">Per iniziare a usare runbook del flusso di lavoro PowerShell, vedere [Il primo runbook del flusso di lavoro PowerShell](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="e9c1a-172">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md).</span></span>