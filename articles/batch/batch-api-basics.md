---
title: aaaOverview di Azure Batch per gli sviluppatori | Documenti Microsoft
description: "Informazioni su funzionalità hello del servizio Batch hello e le relative API da un punto di vista di sviluppo."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a><span data-ttu-id="9de09-103">Sviluppare soluzioni di calcolo parallele su larga scala con Batch</span><span class="sxs-lookup"><span data-stu-id="9de09-103">Develop large-scale parallel compute solutions with Batch</span></span>

<span data-ttu-id="9de09-104">In questa panoramica hello componenti di base del servizio Azure Batch hello, approfondiremo le funzionalità del servizio primario hello e risorse che gli sviluppatori di Batch possono utilizzare paralleli su larga scala toobuild soluzioni di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-104">In this overview of hello core components of hello Azure Batch service, we discuss hello primary service features and resources that Batch developers can use toobuild large-scale parallel compute solutions.</span></span>

<span data-ttu-id="9de09-105">Se si sta sviluppando un'applicazione di elaborazione distribuita o servizio che emette diretto [API REST] [ batch_rest_api] chiamate o si utilizza uno di hello [Batch SDK](batch-apis-tools.md#azure-accounts-for-batch-development), si userà molte delle risorse di hello e le funzionalità descritte in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-105">Whether you're developing a distributed computational application or service that issues direct [REST API][batch_rest_api] calls or you're using one of hello [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), you'll use many of hello resources and features discussed in this article.</span></span>

> [!TIP]
> <span data-ttu-id="9de09-106">Per un toohello introduzione livello superiore, il servizio Batch, vedere [nozioni di base di Azure Batch](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-106">For a higher-level introduction toohello Batch service, see [Basics of Azure Batch](batch-technical-overview.md).</span></span>
>
>

## <a name="batch-service-workflow"></a><span data-ttu-id="9de09-107">Flusso di lavoro servizio Batch</span><span class="sxs-lookup"><span data-stu-id="9de09-107">Batch service workflow</span></span>
<span data-ttu-id="9de09-108">Hello seguente flusso di lavoro generale è tipica di quasi tutte le applicazioni e servizi che utilizzano hello Batch per l'elaborazione parallele dei carichi di lavoro:</span><span class="sxs-lookup"><span data-stu-id="9de09-108">hello following high-level workflow is typical of nearly all applications and services that use hello Batch service for processing parallel workloads:</span></span>

1. <span data-ttu-id="9de09-109">Caricare hello **i file di dati** che si desidera tooprocess tooan [di archiviazione di Azure] [ azure_storage] account.</span><span class="sxs-lookup"><span data-stu-id="9de09-109">Upload hello **data files** that you want tooprocess tooan [Azure Storage][azure_storage] account.</span></span> <span data-ttu-id="9de09-110">Batch include supporto incorporato per l'accesso all'archiviazione Blob di Azure e le attività è possono scaricare questi file troppo[nodi di calcolo](#compute-node) quando si eseguono attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-110">Batch includes built-in support for accessing Azure Blob storage, and your tasks can download these files too[compute nodes](#compute-node) when hello tasks are run.</span></span>
2. <span data-ttu-id="9de09-111">Caricare hello **file dell'applicazione** che eseguiranno le attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-111">Upload hello **application files** that your tasks will run.</span></span> <span data-ttu-id="9de09-112">Questi file possono essere i file binari o gli script e le relative dipendenze e vengono eseguiti dalle attività hello nei processi utente.</span><span class="sxs-lookup"><span data-stu-id="9de09-112">These files can be binaries or scripts and their dependencies, and are executed by hello tasks in your jobs.</span></span> <span data-ttu-id="9de09-113">L'attività è possibile scaricare questi file dall'account di archiviazione oppure è possibile utilizzare hello [pacchetti di applicazioni](#application-packages) funzionalità di Batch per la gestione delle applicazioni e la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-113">Your tasks can download these files from your Storage account, or you can use hello [application packages](#application-packages) feature of Batch for application management and deployment.</span></span>
3. <span data-ttu-id="9de09-114">Creare un [pool](#pool) di nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-114">Create a [pool](#pool) of compute nodes.</span></span> <span data-ttu-id="9de09-115">Quando si crea un pool, viene specificato il numero di hello dei nodi di calcolo per il pool di hello, le dimensioni e del sistema operativo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-115">When you create a pool, you specify hello number of compute nodes for hello pool, their size, and hello operating system.</span></span> <span data-ttu-id="9de09-116">Quando viene eseguita ogni attività nel processo, viene assegnato tooexecute su uno dei nodi di hello del pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-116">When each task in your job runs, it's assigned tooexecute on one of hello nodes in your pool.</span></span>
4. <span data-ttu-id="9de09-117">Creare un [processo](#job).</span><span class="sxs-lookup"><span data-stu-id="9de09-117">Create a [job](#job).</span></span> <span data-ttu-id="9de09-118">Un processo gestisce una raccolta di attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-118">A job manages a collection of tasks.</span></span> <span data-ttu-id="9de09-119">Associare ogni processo tooa specifici del pool in cui si eseguiranno le attività del processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-119">You associate each job tooa specific pool where that job's tasks will run.</span></span>
5. <span data-ttu-id="9de09-120">Aggiungere [attività](#task) toohello processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-120">Add [tasks](#task) toohello job.</span></span> <span data-ttu-id="9de09-121">Ogni attività esegue un'applicazione hello o uno script caricato i file di dati hello tooprocess che il download dall'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-121">Each task runs hello application or script that you uploaded tooprocess hello data files it downloads from your Storage account.</span></span> <span data-ttu-id="9de09-122">Come completamento di ogni attività, è possibile caricare il tooAzure output archiviazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-122">As each task completes, it can upload its output tooAzure Storage.</span></span>
6. <span data-ttu-id="9de09-123">Monitorare lo stato del processo e recuperare l'output dell'attività hello dall'archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9de09-123">Monitor job progress and retrieve hello task output from Azure Storage.</span></span>

<span data-ttu-id="9de09-124">Hello sezioni seguenti descrivono queste e altre risorse del Batch che consentono di scenario di calcolo distribuito hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-124">hello following sections discuss these and hello other resources of Batch that enable your distributed computational scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="9de09-125">È necessario un [account Batch](#account) toouse hello servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-125">You need a [Batch account](#account) toouse hello Batch service.</span></span> <span data-ttu-id="9de09-126">La maggior parte delle soluzioni Batch usa anche un account di [Archiviazione di Azure][azure_storage] per il recupero e l'archiviazione dei file.</span><span class="sxs-lookup"><span data-stu-id="9de09-126">Most Batch solutions also use an [Azure Storage][azure_storage] account for file storage and retrieval.</span></span> <span data-ttu-id="9de09-127">Batch supporta attualmente solo hello **generica** tipo di account di archiviazione, come descritto nel passaggio 5 di [creare un account di archiviazione](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [gli account di archiviazione di Azure su](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-127">Batch currently supports only hello **general-purpose** storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>
>
>

## <a name="batch-service-resources"></a><span data-ttu-id="9de09-128">Risorse del servizio Batch</span><span class="sxs-lookup"><span data-stu-id="9de09-128">Batch service resources</span></span>
<span data-ttu-id="9de09-129">Alcune delle seguenti risorse, account, hello consente di calcolare i nodi, pool, processi e attività, sono richiesti per tutte le soluzioni che utilizzano il servizio Batch hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-129">Some of hello following resources--accounts, compute nodes, pools, jobs, and tasks--are required by all solutions that use hello Batch service.</span></span> <span data-ttu-id="9de09-130">Altre risorse, come le pianificazioni di processi e i pacchetti dell'applicazione, sono funzionalità utili ma facoltative.</span><span class="sxs-lookup"><span data-stu-id="9de09-130">Others, like job schedules and application packages, are helpful, but optional, features.</span></span>

* [<span data-ttu-id="9de09-131">Account</span><span class="sxs-lookup"><span data-stu-id="9de09-131">Account</span></span>](#account)
* [<span data-ttu-id="9de09-132">Nodo di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-132">Compute node</span></span>](#compute-node)
* [<span data-ttu-id="9de09-133">Pool</span><span class="sxs-lookup"><span data-stu-id="9de09-133">Pool</span></span>](#pool)
* [<span data-ttu-id="9de09-134">Processo</span><span class="sxs-lookup"><span data-stu-id="9de09-134">Job</span></span>](#job)

  * [<span data-ttu-id="9de09-135">Pianificazioni dei processi</span><span class="sxs-lookup"><span data-stu-id="9de09-135">Job schedules</span></span>](#scheduled-jobs)
* [<span data-ttu-id="9de09-136">Attività</span><span class="sxs-lookup"><span data-stu-id="9de09-136">Task</span></span>](#task)

  * [<span data-ttu-id="9de09-137">Attività di avvio</span><span class="sxs-lookup"><span data-stu-id="9de09-137">Start task</span></span>](#start-task)
  * [<span data-ttu-id="9de09-138">Attività di gestione dei processi</span><span class="sxs-lookup"><span data-stu-id="9de09-138">Job manager task</span></span>](#job-manager-task)
  * [<span data-ttu-id="9de09-139">Attività di preparazione e rilascio dei processi</span><span class="sxs-lookup"><span data-stu-id="9de09-139">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
  * [<span data-ttu-id="9de09-140">Attività a istanze multiple (MPI)</span><span class="sxs-lookup"><span data-stu-id="9de09-140">Multi-instance task (MPI)</span></span>](#multi-instance-tasks)
  * [<span data-ttu-id="9de09-141">Dipendenze dell'attività</span><span class="sxs-lookup"><span data-stu-id="9de09-141">Task dependencies</span></span>](#task-dependencies)
* [<span data-ttu-id="9de09-142">Pacchetti dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9de09-142">Application packages</span></span>](#application-packages)

## <a name="account"></a><span data-ttu-id="9de09-143">Account</span><span class="sxs-lookup"><span data-stu-id="9de09-143">Account</span></span>
<span data-ttu-id="9de09-144">Un account Batch è un'entità identificata in modo univoco all'interno di hello servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-144">A Batch account is a uniquely identified entity within hello Batch service.</span></span> <span data-ttu-id="9de09-145">Tutte le operazioni di elaborazione sono associata a un account Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-145">All processing is associated with a Batch account.</span></span>

<span data-ttu-id="9de09-146">È possibile creare un account Azure Batch utilizzando hello [portale di Azure](batch-account-create-portal.md) o a livello di codice, ad esempio con hello [libreria gestione .NET per Batch](batch-management-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-146">You can create an Azure Batch account using hello [Azure portal](batch-account-create-portal.md) or programmatically, such as with hello [Batch Management .NET library](batch-management-dotnet.md).</span></span> <span data-ttu-id="9de09-147">Durante la creazione di account hello, è possibile associare un account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="9de09-147">When creating hello account, you can associate an Azure storage account.</span></span>

### <a name="pool-allocation-mode"></a><span data-ttu-id="9de09-148">Modalità di allocazione pool</span><span class="sxs-lookup"><span data-stu-id="9de09-148">Pool allocation mode</span></span>

<span data-ttu-id="9de09-149">Quando si crea un account Batch, è possibile specificare in che modo vengono allocati i [pool](#pool) di nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-149">When you create a Batch account, you can specify how [pools](#pool) of compute nodes are allocated.</span></span> <span data-ttu-id="9de09-150">È possibile scegliere pool tooallocate di nodi di calcolo in una sottoscrizione gestita dal Batch di Azure, oppure è possibile allocare gli oggetti nella propria sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9de09-150">You can choose tooallocate pools of compute nodes in a subscription managed by Azure Batch, or you can allocate them in your own subscription.</span></span> <span data-ttu-id="9de09-151">Hello *modalità di allocazione del pool* proprietà per l'account di hello determina in cui vengono allocati i pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-151">hello *pool allocation mode* property for hello account determines where pools are allocated.</span></span> 

<span data-ttu-id="9de09-152">toodecide quale pool toouse modalità di allocazione, tenere presente che più adatto al proprio scenario:</span><span class="sxs-lookup"><span data-stu-id="9de09-152">toodecide which pool allocation mode toouse, consider which best fits your scenario:</span></span>

* <span data-ttu-id="9de09-153">**Batch servizio**: il servizio Batch è hello modalità predefinita per pool allocazione, in cui vengono allocati pool background hello in sottoscrizioni gestito di Azure.</span><span class="sxs-lookup"><span data-stu-id="9de09-153">**Batch Service**: Batch Service is hello default pool allocation mode, in which pools are allocated behind hello scenes in Azure-managed subscriptions.</span></span> <span data-ttu-id="9de09-154">Tenere presenti questi punti chiave sulla modalità di allocazione del pool di hello servizio Batch:</span><span class="sxs-lookup"><span data-stu-id="9de09-154">Keep in mind these key points about hello Batch Service pool allocation mode:</span></span>

    - <span data-ttu-id="9de09-155">modalità di allocazione del pool di Hello servizio Batch supporta pool sia il servizio Cloud e la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-155">hello Batch Service pool allocation mode supports both Cloud Service and Virtual Machine pools.</span></span>
    - <span data-ttu-id="9de09-156">modalità di allocazione del pool servizio Batch Hello supporta sia l'autenticazione chiave condivisa o [l'autenticazione di Azure Active Directory](batch-aad-auth.md) (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="9de09-156">hello Batch Service pool allocation mode supports both shared key authentication or [Azure Active Directory authentication](batch-aad-auth.md) (Azure AD).</span></span> 
    - <span data-ttu-id="9de09-157">È possibile utilizzare i nodi di calcolo dedicato o con priorità bassa in pool allocato con la modalità di allocazione del pool di hello servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-157">You can use either dedicated or low-priority compute nodes in pools allocated with hello Batch Service pool allocation mode.</span></span>
    - <span data-ttu-id="9de09-158">Non utilizzare modalità di allocazione del pool di hello servizio Batch se si prevede di pool di macchine virtuali di Azure toocreate da immagini di macchina virtuale personalizzate, o se si prevede di toouse una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-158">Do not use hello Batch Service pool allocation mode if you plan toocreate Azure virtual machine pools from custom VM images, or if you plan toouse a virtual network.</span></span> <span data-ttu-id="9de09-159">Creare invece l'account con la modalità di allocazione del pool di hello sottoscrizione utente.</span><span class="sxs-lookup"><span data-stu-id="9de09-159">Create your account with hello User Subscription pool allocation mode instead.</span></span>
    - <span data-ttu-id="9de09-160">Pool di macchine virtuali eseguito il provisioning in un account creato con la modalità di allocazione del pool di hello servizio Batch deve essere creato da [macchine virtuali di Azure Marketplace] [ vm_marketplace] immagini.</span><span class="sxs-lookup"><span data-stu-id="9de09-160">Virtual Machine pools provisioned in an account created with hello Batch Service pool allocation mode must be created from [Azure Virtual Machines Marketplace][vm_marketplace] images.</span></span>

* <span data-ttu-id="9de09-161">**Sottoscrizione utente**: con la modalità di allocazione del pool di sottoscrizione utente hello, pool di Batch vengono allocati nella sottoscrizione di Azure in cui viene creato l'account di hello hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-161">**User subscription**: With hello User Subscription pool allocation mode, Batch pools are allocated in hello Azure subscription where hello account is created.</span></span> <span data-ttu-id="9de09-162">Tenere presenti questi punti chiave sulla modalità di allocazione del pool di hello sottoscrizione utente:</span><span class="sxs-lookup"><span data-stu-id="9de09-162">Keep in mind these key points about hello User Subscription pool allocation mode:</span></span>
     
    - <span data-ttu-id="9de09-163">modalità di allocazione del pool di Hello sottoscrizione utente supporta solo i pool di macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-163">hello User Subscription pool allocation mode supports only Virtual Machine pools.</span></span> <span data-ttu-id="9de09-164">Non supporta pool di Servizi cloud.</span><span class="sxs-lookup"><span data-stu-id="9de09-164">It does not support Cloud Services pools.</span></span>
    - <span data-ttu-id="9de09-165">pool macchina virtuale toocreate da personalizzati immagini di macchina virtuale o toouse una rete virtuale con il pool di macchina virtuale, è necessario utilizzare modalità di allocazione del pool di hello sottoscrizione utente.</span><span class="sxs-lookup"><span data-stu-id="9de09-165">toocreate Virtual Machine pools from custom VM images or toouse a virtual network with Virtual Machine pools, you must use hello User Subscription pool allocation mode.</span></span>  
    - <span data-ttu-id="9de09-166">È necessario utilizzare [l'autenticazione di Azure Active Directory](batch-aad-auth.md) con pool allocati nella sottoscrizione utente hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-166">You must use [Azure Active Directory authentication](batch-aad-auth.md) with pools that are allocated in hello user subscription.</span></span> 
    - <span data-ttu-id="9de09-167">Se la modalità di allocazione del pool di hello è impostata tooUser sottoscrizione, è necessario impostare un insieme di credenziali chiave di Azure per l'account Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-167">You must set up an Azure key vault for your Batch account if hello pool allocation mode is set tooUser Subscription.</span></span> 
    - <span data-ttu-id="9de09-168">È possibile utilizzare i nodi di calcolo solo dedicati in pool in un account creato con la modalità di allocazione del pool di hello sottoscrizione utente.</span><span class="sxs-lookup"><span data-stu-id="9de09-168">You can use only dedicated compute nodes in pools in an account created with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="9de09-169">I nodi con priorità bassa non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="9de09-169">Low-priority nodes are not supported.</span></span>
    - <span data-ttu-id="9de09-170">È possibile creare un altro pool di macchina virtuale eseguito il provisioning in un account con la modalità di allocazione del pool di hello sottoscrizione utente [macchine virtuali di Azure Marketplace] [ vm_marketplace] immagini o personalizzate immagini che si fornire.</span><span class="sxs-lookup"><span data-stu-id="9de09-170">Virtual Machine pools provisioned in an account with hello User Subscription pool allocation mode can be created either from [Azure Virtual Machines Marketplace][vm_marketplace] images, or from custom images that you provide.</span></span>

<span data-ttu-id="9de09-171">Hello nella tabella seguente confronta hello servizio Batch e sottoscrizione utente pool allocazione modalità.</span><span class="sxs-lookup"><span data-stu-id="9de09-171">hello following table compares hello Batch Service and User Subscription pool allocation modes.</span></span>

| <span data-ttu-id="9de09-172">**Modalità di allocazione pool**</span><span class="sxs-lookup"><span data-stu-id="9de09-172">**Pool allocation mode**</span></span>                 | <span data-ttu-id="9de09-173">**Servizio Batch**</span><span class="sxs-lookup"><span data-stu-id="9de09-173">**Batch Service**</span></span>                                                                                       | <span data-ttu-id="9de09-174">**Sottoscrizione utente**</span><span class="sxs-lookup"><span data-stu-id="9de09-174">**User Subscription**</span></span>                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="9de09-175">**Posizione di allocazione dei pool**</span><span class="sxs-lookup"><span data-stu-id="9de09-175">**Pools are allocated in**</span></span>               | <span data-ttu-id="9de09-176">Sottoscrizione gestita da Azure</span><span class="sxs-lookup"><span data-stu-id="9de09-176">An Azure-managed subscription</span></span>                                                                           | <span data-ttu-id="9de09-177">sottoscrizione utente Hello in cui hello Batch viene creato l'account</span><span class="sxs-lookup"><span data-stu-id="9de09-177">hello user subscription in which hello Batch account is created</span></span>                        |
| <span data-ttu-id="9de09-178">**Configurazioni supportate**</span><span class="sxs-lookup"><span data-stu-id="9de09-178">**Supported configurations**</span></span>             | <ul><li><span data-ttu-id="9de09-179">Configurazione di tipo servizio cloud</span><span class="sxs-lookup"><span data-stu-id="9de09-179">Cloud Service Configuration</span></span></li><li><span data-ttu-id="9de09-180">Configurazione di tipo macchina virtuale (Linux e Windows)</span><span class="sxs-lookup"><span data-stu-id="9de09-180">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul> | <ul><li><span data-ttu-id="9de09-181">Configurazione di tipo macchina virtuale (Linux e Windows)</span><span class="sxs-lookup"><span data-stu-id="9de09-181">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul>                |
| <span data-ttu-id="9de09-182">**Immagini delle VM supportate**</span><span class="sxs-lookup"><span data-stu-id="9de09-182">**Supported VM images**</span></span>                  | <ul><li><span data-ttu-id="9de09-183">Immagini di Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="9de09-183">Azure Marketplace images</span></span></li></ul>                                                              | <ul><li><span data-ttu-id="9de09-184">Immagini di Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="9de09-184">Azure Marketplace images</span></span></li><li><span data-ttu-id="9de09-185">Immagini personalizzate</span><span class="sxs-lookup"><span data-stu-id="9de09-185">Custom images</span></span></li></ul>                   |
| <span data-ttu-id="9de09-186">**Tipi di nodi di calcolo supportati**</span><span class="sxs-lookup"><span data-stu-id="9de09-186">**Supported compute node types**</span></span>         | <ul><li><span data-ttu-id="9de09-187">Nodi dedicati</span><span class="sxs-lookup"><span data-stu-id="9de09-187">Dedicated nodes</span></span></li><li><span data-ttu-id="9de09-188">Nodi a priorità bassa</span><span class="sxs-lookup"><span data-stu-id="9de09-188">Low-priority nodes</span></span></li></ul>                                            | <ul><li><span data-ttu-id="9de09-189">Nodi dedicati</span><span class="sxs-lookup"><span data-stu-id="9de09-189">Dedicated nodes</span></span></li></ul>                                                  |
| <span data-ttu-id="9de09-190">**Autenticazione supportata**</span><span class="sxs-lookup"><span data-stu-id="9de09-190">**Supported authentication**</span></span>             | <ul><li><span data-ttu-id="9de09-191">Chiave condivisa</span><span class="sxs-lookup"><span data-stu-id="9de09-191">Shared Key</span></span></li><li><span data-ttu-id="9de09-192">Azure AD</span><span class="sxs-lookup"><span data-stu-id="9de09-192">Azure AD</span></span></li></ul>                                                           | <ul><li><span data-ttu-id="9de09-193">Azure AD</span><span class="sxs-lookup"><span data-stu-id="9de09-193">Azure AD</span></span></li></ul>                                                         |
| <span data-ttu-id="9de09-194">**Azure Key Vault necessario**</span><span class="sxs-lookup"><span data-stu-id="9de09-194">**Azure Key Vault required**</span></span>             | <span data-ttu-id="9de09-195">No</span><span class="sxs-lookup"><span data-stu-id="9de09-195">No</span></span>                                                                                                      | <span data-ttu-id="9de09-196">Sì</span><span class="sxs-lookup"><span data-stu-id="9de09-196">Yes</span></span>                                                                                |
| <span data-ttu-id="9de09-197">**Quota core**</span><span class="sxs-lookup"><span data-stu-id="9de09-197">**Core quota**</span></span>                           | <span data-ttu-id="9de09-198">Determinato dalla quota core del servizio Batch</span><span class="sxs-lookup"><span data-stu-id="9de09-198">Determined by Batch core quota</span></span>                                                                          | <span data-ttu-id="9de09-199">Determinato dalla quota core della sottoscrizione</span><span class="sxs-lookup"><span data-stu-id="9de09-199">Determined by subscription core quota</span></span>                                              |
| <span data-ttu-id="9de09-200">**Supporto per le reti virtuali di Azure**</span><span class="sxs-lookup"><span data-stu-id="9de09-200">**Azure Virtual Network (Vnet) support**</span></span> | <span data-ttu-id="9de09-201">Pool creati con hello configurazione del servizio Cloud</span><span class="sxs-lookup"><span data-stu-id="9de09-201">Pools created with hello Cloud Service Configuration</span></span>                                                      | <span data-ttu-id="9de09-202">Pool creati con hello configurazione della macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="9de09-202">Pools created with hello Virtual Machine Configuration</span></span>                               |
| <span data-ttu-id="9de09-203">**Modello di distribuzione supportato per le reti virtuali**</span><span class="sxs-lookup"><span data-stu-id="9de09-203">**Vnet deployment model supported**</span></span>      | <span data-ttu-id="9de09-204">Reti virtuali create con il modello di distribuzione classica</span><span class="sxs-lookup"><span data-stu-id="9de09-204">Vnets created with classic deployment model</span></span>                                                             | <span data-ttu-id="9de09-205">Reti virtuali create con il modello di distribuzione classica hello o Gestione risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="9de09-205">Vnets created with either hello classic deployment model or Azure   Resource Manager</span></span> |

## <a name="azure-storage-account"></a><span data-ttu-id="9de09-206">Account di archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="9de09-206">Azure Storage account</span></span>

<span data-ttu-id="9de09-207">La maggior parte delle soluzioni Batch usa l'Archiviazione di Azure per archiviare i file delle risorse e i file di output.</span><span class="sxs-lookup"><span data-stu-id="9de09-207">Most Batch solutions use Azure Storage for storing resource files and output files.</span></span>  

<span data-ttu-id="9de09-208">Batch supporta attualmente l'unico tipo di account archiviazione generica hello, come descritto nel passaggio 5 di [creare un account di archiviazione](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [gli account di archiviazione di Azure su](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-208">Batch currently supports only hello general-purpose storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span> <span data-ttu-id="9de09-209">Le attività di Batch, incluse le attività standard, le attività di avvio, le attività di preparazione del processo e le attività di rilascio del processo, devono specificare file di risorse che si trovano negli account di archiviazione per utilizzo generico.</span><span class="sxs-lookup"><span data-stu-id="9de09-209">Your Batch tasks (including standard tasks, start tasks, job preparation tasks, and job release tasks) must specify resource files that reside in general-purpose storage accounts.</span></span>


## <a name="compute-node"></a><span data-ttu-id="9de09-210">Nodo di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-210">Compute node</span></span>
<span data-ttu-id="9de09-211">Un nodo di calcolo è una macchina virtuale di Azure (VM) o di un servizio cloud VM dedicato tooprocessing una parte del carico di lavoro dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-211">A compute node is an Azure virtual machine (VM) or cloud service VM that is dedicated tooprocessing a portion of your application's workload.</span></span> <span data-ttu-id="9de09-212">dimensioni Hello di un nodo determinano il numero di hello di core CPU, memoria e dimensioni del file locale system allocata toohello nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-212">hello size of a node determines hello number of CPU cores, memory capacity, and local file system size that is allocated toohello node.</span></span> <span data-ttu-id="9de09-213">È possibile creare pool di nodi Windows o Linux con servizi Cloud di Azure, le immagini da hello [macchine virtuali di Azure Marketplace][vm_marketplace], o preparare immagini personalizzate.</span><span class="sxs-lookup"><span data-stu-id="9de09-213">You can create pools of Windows or Linux nodes by using Azure Cloud Services, images from hello [Azure Virtual Machines Marketplace][vm_marketplace], or custom images that you prepare.</span></span> <span data-ttu-id="9de09-214">Vedere l'esempio hello [Pool](#pool) sezione per ulteriori informazioni su queste opzioni.</span><span class="sxs-lookup"><span data-stu-id="9de09-214">See hello following [Pool](#pool) section for more information on these options.</span></span>

<span data-ttu-id="9de09-215">Nodi possono eseguire qualsiasi file eseguibile o script che è supportato dall'ambiente del sistema operativo hello del nodo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-215">Nodes can run any executable or script that is supported by hello operating system environment of hello node.</span></span> <span data-ttu-id="9de09-216">inclusi \*.exe, \*.cmd, \*.bat e script di PowerShell per Windows e file binari, shell e script di Python per Linux.</span><span class="sxs-lookup"><span data-stu-id="9de09-216">This includes \*.exe, \*.cmd, \*.bat and PowerShell scripts for Windows--and binaries, shell, and Python scripts for Linux.</span></span>

<span data-ttu-id="9de09-217">Tutti i nodi di Calcolo in Batch includono anche:</span><span class="sxs-lookup"><span data-stu-id="9de09-217">All compute nodes in Batch also include:</span></span>

* <span data-ttu-id="9de09-218">Una [struttura di cartelle](#files-and-directories) standard e le [variabili di ambiente](#environment-settings-for-tasks) associate disponibili come riferimento per le attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-218">A standard [folder structure](#files-and-directories) and associated [environment variables](#environment-settings-for-tasks) that are available for reference by tasks.</span></span>
* <span data-ttu-id="9de09-219">**Firewall** impostazioni che vengono configurate toocontrol accesso.</span><span class="sxs-lookup"><span data-stu-id="9de09-219">**Firewall** settings that are configured toocontrol access.</span></span>
* <span data-ttu-id="9de09-220">[Accesso remoto](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) e i nodi di Linux (Secure Shell (SSH)).</span><span class="sxs-lookup"><span data-stu-id="9de09-220">[Remote access](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) and Linux (Secure Shell (SSH)) nodes.</span></span>

## <a name="pool"></a><span data-ttu-id="9de09-221">pool</span><span class="sxs-lookup"><span data-stu-id="9de09-221">Pool</span></span>
<span data-ttu-id="9de09-222">Un pool è una raccolta di nodi in cui viene eseguita l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-222">A pool is a collection of nodes that your application runs on.</span></span> <span data-ttu-id="9de09-223">pool Hello possono essere create manualmente dall'utente, o automaticamente da hello servizio Batch quando si specifica toobe lavoro hello eseguita.</span><span class="sxs-lookup"><span data-stu-id="9de09-223">hello pool can be created manually by you, or automatically by hello Batch service when you specify hello work toobe done.</span></span> <span data-ttu-id="9de09-224">È possibile creare e gestire un pool che soddisfi i requisiti di risorse hello dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-224">You can create and manage a pool that meets hello resource requirements of your application.</span></span> <span data-ttu-id="9de09-225">Un pool può essere usato solo dall'account di Batch hello in cui è stato creato.</span><span class="sxs-lookup"><span data-stu-id="9de09-225">A pool can be used only by hello Batch account in which it was created.</span></span> <span data-ttu-id="9de09-226">Un account Batch può avere più pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-226">A Batch account can have more than one pool.</span></span>

<span data-ttu-id="9de09-227">Pool di Azure Batch compilate sulla piattaforma di calcolo di Azure hello principale.</span><span class="sxs-lookup"><span data-stu-id="9de09-227">Azure Batch pools build on top of hello core Azure compute platform.</span></span> <span data-ttu-id="9de09-228">Forniscono allocazione su larga scala, installare applicazioni, distribuzione dei dati, il monitoraggio dello stato e allineamento flessibile del numero di hello dei nodi di calcolo di un pool ([scalabilità](#scaling-compute-resources)).</span><span class="sxs-lookup"><span data-stu-id="9de09-228">They provide large-scale allocation, application installation, data distribution, health monitoring, and flexible adjustment of hello number of compute nodes within a pool ([scaling](#scaling-compute-resources)).</span></span>

<span data-ttu-id="9de09-229">Ogni nodo che viene aggiunto tooa pool viene assegnato un nome univoco e un indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="9de09-229">Every node that is added tooa pool is assigned a unique name and IP address.</span></span> <span data-ttu-id="9de09-230">Quando un nodo viene rimosso da un pool, le modifiche apportate al file o del sistema operativo toohello vanno perse e il nome e indirizzo IP vengono rilasciati per utilizzi futuri.</span><span class="sxs-lookup"><span data-stu-id="9de09-230">When a node is removed from a pool, any changes that are made toohello operating system or files are lost, and its name and IP address are released for future use.</span></span> <span data-ttu-id="9de09-231">Quando un nodo esce da un pool, la sua durata è terminata.</span><span class="sxs-lookup"><span data-stu-id="9de09-231">When a node leaves a pool, its lifetime is over.</span></span>

<span data-ttu-id="9de09-232">Quando si crea un pool, è possibile specificare gli attributi seguenti hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-232">When you create a pool, you can specify hello following attributes.</span></span> <span data-ttu-id="9de09-233">Alcune impostazioni sono diverse, a seconda della modalità di allocazione del pool di hello di hello Batch [account](#account):</span><span class="sxs-lookup"><span data-stu-id="9de09-233">Some settings differ, depending on hello pool allocation mode of hello Batch [account](#account):</span></span>

- <span data-ttu-id="9de09-234">Versione e sistema operativo dei nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-234">Compute node operating system and version</span></span>
- <span data-ttu-id="9de09-235">Tipo di nodo di calcolo e numero di nodi di destinazione</span><span class="sxs-lookup"><span data-stu-id="9de09-235">Compute node type and target number of nodes</span></span>
- <span data-ttu-id="9de09-236">Dimensioni dei nodi di calcolo hello</span><span class="sxs-lookup"><span data-stu-id="9de09-236">Size of hello compute nodes</span></span>
- <span data-ttu-id="9de09-237">Criteri di ridimensionamento</span><span class="sxs-lookup"><span data-stu-id="9de09-237">Scaling policy</span></span>
- <span data-ttu-id="9de09-238">Criteri di pianificazione attività</span><span class="sxs-lookup"><span data-stu-id="9de09-238">Task scheduling policy</span></span>
- <span data-ttu-id="9de09-239">Stato delle comunicazioni dei nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-239">Communication status for compute nodes</span></span>
- <span data-ttu-id="9de09-240">Attività di avvio per i nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-240">Start tasks for compute nodes</span></span>
- <span data-ttu-id="9de09-241">Pacchetti dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9de09-241">Application packages</span></span>
- <span data-ttu-id="9de09-242">Network configuration</span><span class="sxs-lookup"><span data-stu-id="9de09-242">Network configuration</span></span>

<span data-ttu-id="9de09-243">Ognuna di queste impostazioni è descritta in dettaglio nelle sezioni che seguono hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-243">Each of these settings is described in more detail in hello following sections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9de09-244">Gli account batch creati con la modalità di allocazione del pool servizio Batch hello dispongono di quote predefinito che limita il numero di hello di core in un account Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-244">Batch accounts created with hello Batch Service pool allocation mode have a default quota that limits hello number of cores in a Batch account.</span></span> <span data-ttu-id="9de09-245">numero di Hello di core corrisponde toohello numero di nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-245">hello number of cores corresponds toohello number of compute nodes.</span></span> <span data-ttu-id="9de09-246">È possibile trovare le quote predefinite hello e istruzioni su come troppo[aumentare la quota](batch-quota-limit.md#increase-a-quota) in [quote e limiti per il servizio Azure Batch hello](batch-quota-limit.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-246">You can find hello default quotas and instructions on how too[increase a quota](batch-quota-limit.md#increase-a-quota) in [Quotas and limits for hello Azure Batch service](batch-quota-limit.md).</span></span> <span data-ttu-id="9de09-247">Se il pool è non raggiungere il numero di nodi, quota core hello possibile motivo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-247">If your pool is not achieving its target number of nodes, hello core quota might be hello reason.</span></span>
>
><span data-ttu-id="9de09-248">Gli account batch creati con la modalità di allocazione hello sottoscrizione utente del pool non di osservare le quote del servizio Batch hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-248">Batch accounts created with hello User Subscription pool allocation mode do not observe hello Batch service quotas.</span></span> <span data-ttu-id="9de09-249">Al contrario, condividono in hello quota core per hello sottoscrizione specificata.</span><span class="sxs-lookup"><span data-stu-id="9de09-249">Instead, they share in hello core quota for hello specified subscription.</span></span> <span data-ttu-id="9de09-250">Per altre informazioni, vedere [Limiti relativi a Macchine virtuali](../azure-subscription-service-limits.md#virtual-machines-limits) in [Sottoscrizione di Azure e limiti, quote e vincoli dei servizi](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-250">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

### <a name="compute-node-operating-system-and-version"></a><span data-ttu-id="9de09-251">Versione e sistema operativo dei nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-251">Compute node operating system and version</span></span>

<span data-ttu-id="9de09-252">Quando si crea un pool di Batch, è possibile specificare una configurazione di macchina virtuale di Azure hello e il tipo di hello di desiderato toorun in ogni nodo di calcolo nel pool di hello sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="9de09-252">When you create a Batch pool, you can specify hello Azure virtual machine configuration and hello type of operating system you want toorun on each compute node in hello pool.</span></span> <span data-ttu-id="9de09-253">Hello due tipi di configurazioni disponibili nel Batch sono:</span><span class="sxs-lookup"><span data-stu-id="9de09-253">hello two types of configurations available in Batch are:</span></span>

- <span data-ttu-id="9de09-254">Hello **configurazione della macchina virtuale**, che consente di specificare il pool di hello è costituito da macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="9de09-254">hello **Virtual Machine Configuration**, which specifies that hello pool is comprised of Azure virtual machines.</span></span> <span data-ttu-id="9de09-255">È possibile creare queste VM da immagini Linux o Windows.</span><span class="sxs-lookup"><span data-stu-id="9de09-255">These VMs may be created from either Linux or Windows images.</span></span> 

    <span data-ttu-id="9de09-256">Quando si crea un pool in base alle hello configurazione della macchina virtuale, è necessario specificare non solo le dimensioni di hello dei nodi hello e origine hello di hello immagini utilizzate toocreate loro, ma anche hello **riferimento all'immagine di macchina virtuale** hello e Batch **agente nodo SKU** toobe installata nei nodi hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-256">When you create a pool based on hello Virtual Machine Configuration, you must specify not only hello size of hello nodes and hello source of hello images used toocreate them, but also hello **virtual machine image reference** and hello Batch **node agent SKU** toobe installed on hello nodes.</span></span> <span data-ttu-id="9de09-257">Per altre informazioni sulla specifica di queste proprietà del pool, vedere [Effettuare il provisioning di nodi di calcolo Linux nei pool di Azure Batch](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-257">For more information about specifying these pool properties, see [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md).</span></span>

- <span data-ttu-id="9de09-258">Hello **configurazione di servizi Cloud**, che consente di specificare il pool di hello è costituita da nodi di servizi Cloud di Azure.</span><span class="sxs-lookup"><span data-stu-id="9de09-258">hello **Cloud Services Configuration**, which specifies that hello pool is comprised of Azure Cloud Services nodes.</span></span> <span data-ttu-id="9de09-259">Servizi cloud fornisce *solo* nodi di calcolo di Windows.</span><span class="sxs-lookup"><span data-stu-id="9de09-259">Cloud Services provide Windows compute nodes *only*.</span></span>

    <span data-ttu-id="9de09-260">Sono elencati i sistemi operativi disponibili per i pool di configurazione di servizi Cloud in hello [versioni del sistema operativo Guest Azure e matrice di compatibilità SDK](../cloud-services/cloud-services-guestos-update-matrix.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-260">Available operating systems for Cloud Services Configuration pools are listed in hello [Azure Guest OS releases and SDK compatibility matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span></span> <span data-ttu-id="9de09-261">Quando si crea un pool che contiene i nodi di servizi Cloud, è necessario toospecify dimensione del nodo hello e il relativo *famiglia di sistemi operativi*.</span><span class="sxs-lookup"><span data-stu-id="9de09-261">When you create a pool that contains Cloud Services nodes, you need toospecify hello node size and its *OS Family*.</span></span> <span data-ttu-id="9de09-262">Servizi cloud sono tooAzure distribuito più rapidamente le macchine virtuali che eseguono Windows.</span><span class="sxs-lookup"><span data-stu-id="9de09-262">Cloud Services are deployed tooAzure more quickly than virtual machines running Windows.</span></span> <span data-ttu-id="9de09-263">Se si vuole disporre di pool di nodi di calcolo di Windows, le prestazioni di Servizi cloud in termini di tempo di distribuzione potrebbero essere migliori.</span><span class="sxs-lookup"><span data-stu-id="9de09-263">If you want pools of Windows compute nodes, you may find that Cloud Services provide a performance benefit in terms of deployment time.</span></span>

    * <span data-ttu-id="9de09-264">Hello *famiglia di sistemi operativi* determina anche le versioni di .NET installate con hello del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="9de09-264">hello *OS Family* also determines which versions of .NET are installed with hello OS.</span></span>
    * <span data-ttu-id="9de09-265">Come con i ruoli di lavoro all'interno di servizi Cloud, è possibile specificare un *versione del sistema operativo* (per ulteriori informazioni sui ruoli di lavoro, vedere hello [ulteriori informazioni sui servizi cloud](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) sezione hello [servizi Cloud Panoramica](../cloud-services/cloud-services-choose-me.md)).</span><span class="sxs-lookup"><span data-stu-id="9de09-265">As with worker roles within Cloud Services, you can specify an *OS Version* (for more information on worker roles, see hello [Tell me about cloud services](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) section in hello [Cloud Services overview](../cloud-services/cloud-services-choose-me.md)).</span></span>
    * <span data-ttu-id="9de09-266">Come con i ruoli di lavoro, è consigliabile specificare `*` per hello *versione del sistema operativo* in modo che i nodi hello vengono aggiornati automaticamente ed non è versioni rilasciate toonewly toocater alcun lavoro richiesto.</span><span class="sxs-lookup"><span data-stu-id="9de09-266">As with worker roles, we recommend that you specify `*` for hello *OS Version* so that hello nodes are automatically upgraded, and there is no work required toocater toonewly released versions.</span></span> <span data-ttu-id="9de09-267">Hello viene usata principalmente per la selezione di una specifica versione del sistema operativo tooensure compatibilità delle applicazioni, che consente di garantire la compatibilità toobe test eseguite prima di consentire toobe versione hello aggiornato.</span><span class="sxs-lookup"><span data-stu-id="9de09-267">hello primary use case for selecting a specific OS version is tooensure application compatibility, which allows backward compatibility testing toobe performed before allowing hello version toobe updated.</span></span> <span data-ttu-id="9de09-268">Dopo la convalida, hello *versione del sistema operativo* per pool hello possono essere aggiornate e può essere installato l'immagine del sistema operativo nuovo hello - tutte le attività in esecuzione vengono interrotti e reinserito nella coda.</span><span class="sxs-lookup"><span data-stu-id="9de09-268">After validation, hello *OS Version* for hello pool can be updated and hello new OS image can be installed--any running tasks are interrupted and requeued.</span></span>

<span data-ttu-id="9de09-269">Quando si crea un pool, è necessario tooselect hello appropriato **nodeAgentSkuId**, a seconda del sistema operativo di hello dell'immagine di base hello del disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-269">When you create a pool, you need tooselect hello appropriate **nodeAgentSkuId**, depending on hello OS of hello base image of your VHD.</span></span> <span data-ttu-id="9de09-270">È possibile ottenere un mapping del nodo disponibile agente ID SKU tootheir i riferimenti all'immagine del sistema operativo dal chiamante hello [elenco supportato nodo agente SKU](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-270">You can get a mapping of available node agent SKU ID's tootheir OS Image references by calling hello [List Supported Node Agent SKUs](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operation.</span></span>

<span data-ttu-id="9de09-271">Vedere hello [Account](#account) sezione per informazioni sull'impostazione di modalità di allocazione del pool di hello quando si crea un account Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-271">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

#### <a name="custom-images-for-virtual-machine-pools"></a><span data-ttu-id="9de09-272">Immagini personalizzate per pool di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="9de09-272">Custom images for Virtual Machine pools</span></span>

<span data-ttu-id="9de09-273">toouse un pool di macchine virtuali tooprovision immagine personalizzata, creare un account Batch con la modalità di allocazione del pool di hello sottoscrizione utente.</span><span class="sxs-lookup"><span data-stu-id="9de09-273">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="9de09-274">In questa modalità, il pool di Batch viene allocato nella sottoscrizione hello in cui risiede l'account di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-274">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="9de09-275">Vedere hello [Account](#account) sezione per informazioni sull'impostazione di modalità di allocazione del pool di hello quando si crea un account Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-275">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

<span data-ttu-id="9de09-276">toouse un'immagine personalizzata, è necessario immagine hello tooprepare generalizzandola.</span><span class="sxs-lookup"><span data-stu-id="9de09-276">toouse a custom image, you'll need tooprepare hello image by generalizing it.</span></span> <span data-ttu-id="9de09-277">Per informazioni sulla preparazione di immagini personalizzate di Linux da macchine virtuali di Azure, vedere [acquisire toouse una macchina virtuale Linux di Azure come modello](../virtual-machines/linux/capture-image-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-277">For information about preparing custom Linux images from Azure VMs, see [Capture an Azure Linux VM toouse as a template](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="9de09-278">Per informazioni sulla preparazione di immagini di Windows personalizzate dalle macchine virtuali di Azure, vedere [Creare immagini personalizzate di VM con Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-278">For information about preparing custom Windows images from Azure VMs, see [Create custom VM images with Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="9de09-279">Quando si prepara un'immagine personalizzata, tenere in seguito hello presente:</span><span class="sxs-lookup"><span data-stu-id="9de09-279">When preparing your custom image, keep in mind hello following:</span></span>
> - <span data-ttu-id="9de09-280">Garantire che un'immagine del sistema operativo base hello è utilizzare tooprovision i pool di Batch non sia una pre-installato le estensioni di Azure, ad esempio estensione Custom Script hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-280">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="9de09-281">Se l'immagine di hello contiene un'estensione di pre-installata, Azure potrebbe verificarsi problemi di distribuzione hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-281">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="9de09-282">Garantire che un'immagine del sistema operativo base hello che fornire utilizza hello unità temporanea predefinita, come hello agente nodo Batch attualmente prevista unità temporanea predefinita di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-282">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="9de09-283">toocreate un pool di configurazione della macchina virtuale usando un'immagine personalizzata, è necessario uno o più standard Azure gli account di archiviazione toostore immagini VHD personalizzate.</span><span class="sxs-lookup"><span data-stu-id="9de09-283">toocreate a Virtual Machine Configuration pool using a custom image, you'll need one or more standard Azure Storage accounts toostore your custom VHD images.</span></span> <span data-ttu-id="9de09-284">Le immagini personalizzate vengono archiviate come BLOB.</span><span class="sxs-lookup"><span data-stu-id="9de09-284">Custom images are stored as blobs.</span></span> <span data-ttu-id="9de09-285">tooreference personalizzato immagini quando si crea un pool, specificare l'URI del BLOB VHD immagine personalizzata di hello per hello hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) proprietà di hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) proprietà.</span><span class="sxs-lookup"><span data-stu-id="9de09-285">tooreference your custom images when you create a pool, specify hello URIs of hello custom image VHD blobs for hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) property of hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) property.</span></span>

<span data-ttu-id="9de09-286">Verificare che gli account di archiviazione soddisfino hello seguenti criteri:</span><span class="sxs-lookup"><span data-stu-id="9de09-286">Make sure that your storage accounts meet hello following criteria:</span></span>   

- <span data-ttu-id="9de09-287">gli account di archiviazione Hello contiene i BLOB VHD immagine personalizzata hello necessario toobe in hello stessa sottoscrizione come hello account Batch (sottoscrizione utente hello).</span><span class="sxs-lookup"><span data-stu-id="9de09-287">hello storage accounts containing hello custom image VHD blobs need toobe in hello same subscription as hello Batch account (hello user subscription).</span></span>
- <span data-ttu-id="9de09-288">Hello specificato gli account di archiviazione necessitano toobe in hello stessa area hello account Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-288">hello specified storage accounts need toobe in hello same region as hello Batch account.</span></span>
- <span data-ttu-id="9de09-289">Attualmente sono supportati solo gli account di archiviazione Standard per utilizzo generico.</span><span class="sxs-lookup"><span data-stu-id="9de09-289">Only standard general-purpose storage accounts are currently supported.</span></span> <span data-ttu-id="9de09-290">Archiviazione Premium di Azure sarà supportati in hello future.</span><span class="sxs-lookup"><span data-stu-id="9de09-290">Azure Premium storage will be supported in hello future.</span></span>
- <span data-ttu-id="9de09-291">È possibile specificare un account di archiviazione con più BLOB dei dischi rigidi virtuali personalizzati o più account di archiviazione ognuno con un singolo BLOB.</span><span class="sxs-lookup"><span data-stu-id="9de09-291">You can specify one storage account with multiple custom VHD blobs or multiple storage accounts each having a single blob.</span></span> <span data-ttu-id="9de09-292">È consigliabile toouse più gli account di archiviazione tooget migliori prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9de09-292">We recommend you toouse multiple storage accounts tooget a better performance.</span></span>
- <span data-ttu-id="9de09-293">Un blob di disco rigido virtuale univoco immagine personalizzata può supportare too40 che istanze VM Linux o 20 istanze di macchina virtuale di Windows.</span><span class="sxs-lookup"><span data-stu-id="9de09-293">One unique custom image VHD blob can support up too40 Linux VM instances or 20 Windows VM instances.</span></span> <span data-ttu-id="9de09-294">Sarà necessario toocreate copie dei pool di toocreate blob VHD hello con più macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="9de09-294">You will need toocreate copies of hello VHD blob toocreate pools with more VMs.</span></span> <span data-ttu-id="9de09-295">Ad esempio, è necessario un pool con 200 macchine virtuali di Windows 10 BLOB VHD univoco specificato per hello **osDisk** proprietà.</span><span class="sxs-lookup"><span data-stu-id="9de09-295">For example, a pool with 200 Windows VMs needs 10 unique VHD blobs specified for hello **osDisk** property.</span></span>

<span data-ttu-id="9de09-296">toocreate un pool da un'immagine personalizzata utilizzando hello portale di Azure:</span><span class="sxs-lookup"><span data-stu-id="9de09-296">toocreate a pool from a custom image using hello Azure portal:</span></span>

1. <span data-ttu-id="9de09-297">Passare l'account Batch tooyour in hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="9de09-297">Navigate tooyour Batch account in hello Azure portal.</span></span>
2. <span data-ttu-id="9de09-298">In hello **impostazioni** blade, seleziona hello **pool** voce di menu.</span><span class="sxs-lookup"><span data-stu-id="9de09-298">On hello **Settings** blade, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="9de09-299">In hello **pool** blade, seleziona hello **Aggiungi** comando; hello **aggiungere pool** pannello verrà visualizzato.</span><span class="sxs-lookup"><span data-stu-id="9de09-299">On hello **Pools** blade, select hello **Add** command; hello **Add pool** blade will be displayed.</span></span>
4. <span data-ttu-id="9de09-300">Selezionare **immagine personalizzata (Linux/Windows)** da hello **tipo di immagine** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="9de09-300">Select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="9de09-301">portale Hello Visualizza hello **immagine personalizzata** selezione.</span><span class="sxs-lookup"><span data-stu-id="9de09-301">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="9de09-302">Scegliere uno o più dischi rigidi virtuali da hello stesso hello contenitore e fare clic su **selezionare** pulsante.</span><span class="sxs-lookup"><span data-stu-id="9de09-302">Choose one or more VHDs from hello same container and click hello **Select** button.</span></span> 
    <span data-ttu-id="9de09-303">Verrà aggiunto il supporto per più dischi rigidi virtuali da diversi account di archiviazione e di contenitori diversi in hello future.</span><span class="sxs-lookup"><span data-stu-id="9de09-303">Support for multiple VHDs from different storage accounts and different containers will be added in hello future.</span></span>
5. <span data-ttu-id="9de09-304">Seleziona hello corretto **offerta/server di pubblicazione/Sku** per i dischi rigidi virtuali personalizzati, selezionare hello desiderato **la memorizzazione nella cache** modalità, quindi compilare tutti gli altri parametri per il pool di hello di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-304">Select hello correct **Publisher/Offer/Sku** for your custom VHDs, select hello desired **Caching** mode, then fill in all hello other parameters for hello pool.</span></span>
6. <span data-ttu-id="9de09-305">toocheck se un pool è basato su un'immagine personalizzata, vedere hello **del sistema operativo** proprietà nella sezione di riepilogo risorse hello di hello **Pool** blade.</span><span class="sxs-lookup"><span data-stu-id="9de09-305">toocheck if a pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** blade.</span></span> <span data-ttu-id="9de09-306">il valore di Hello di questa proprietà deve essere **immagine di macchina virtuale personalizzata**.</span><span class="sxs-lookup"><span data-stu-id="9de09-306">hello value of this property should be **Custom VM image**.</span></span>
7. <span data-ttu-id="9de09-307">Vengono visualizzati tutti i dischi rigidi virtuali personalizzati associati a un pool nel pool di hello **proprietà** blade.</span><span class="sxs-lookup"><span data-stu-id="9de09-307">All custom VHDs associated with a pool are displayed on hello pool's **Properties** blade.</span></span>

### <a name="compute-node-type-and-target-number-of-nodes"></a><span data-ttu-id="9de09-308">Tipo di nodo di calcolo e numero di nodi di destinazione</span><span class="sxs-lookup"><span data-stu-id="9de09-308">Compute node type and target number of nodes</span></span>

<span data-ttu-id="9de09-309">Quando si crea un pool, è possibile specificare quali tipi di nodi di calcolo desiderato e hello numero di destinazione per ognuno.</span><span class="sxs-lookup"><span data-stu-id="9de09-309">When you create a pool, you can specify which types of compute nodes you want and hello target number for each.</span></span> <span data-ttu-id="9de09-310">Hello due tipi di nodi di calcolo sono:</span><span class="sxs-lookup"><span data-stu-id="9de09-310">hello two types of compute nodes are:</span></span>

- <span data-ttu-id="9de09-311">**Nodi di calcolo dedicati.**</span><span class="sxs-lookup"><span data-stu-id="9de09-311">**Dedicated compute nodes.**</span></span> <span data-ttu-id="9de09-312">I nodi di calcolo dedicati sono riservati per i carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9de09-312">Dedicated compute nodes are reserved for your workloads.</span></span> <span data-ttu-id="9de09-313">Sono più costosi di nodi con priorità bassa, ma tali toonever essere superata.</span><span class="sxs-lookup"><span data-stu-id="9de09-313">They are more expensive than low-priority nodes, but they are guaranteed toonever be preempted.</span></span>

- <span data-ttu-id="9de09-314">**Nodi di calcolo con priorità bassa.**</span><span class="sxs-lookup"><span data-stu-id="9de09-314">**Low-priority compute nodes.**</span></span> <span data-ttu-id="9de09-315">Nodi con priorità bassa sfruttare surplus della capacità in Azure toorun i carichi di lavoro di Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-315">Low-priority nodes take advantage of surplus capacity in Azure toorun your Batch workloads.</span></span> <span data-ttu-id="9de09-316">I nodi con priorità bassa hanno un costo orario inferiore a quello dei nodi dedicati e supportano carichi di lavoro che richiedono una potenza di calcolo elevata.</span><span class="sxs-lookup"><span data-stu-id="9de09-316">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="9de09-317">Per altre informazioni, vedere [Usare le VM con priorità bassa in Batch](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-317">For more information, see [Use low-priority VMs with Batch](batch-low-pri-vms.md).</span></span>

    <span data-ttu-id="9de09-318">Può verificarsi il superamento dei nodi di calcolo con priorità bassa quando Azure ha capacità in eccesso insufficiente.</span><span class="sxs-lookup"><span data-stu-id="9de09-318">Low-priority compute nodes may be preempted when Azure has insufficient surplus capacity.</span></span> <span data-ttu-id="9de09-319">Se un nodo viene interrotto durante l'esecuzione di attività, attività hello reinserito nella coda ed eseguire nuovamente una volta che un nodo di calcolo diventa nuovamente disponibile.</span><span class="sxs-lookup"><span data-stu-id="9de09-319">If a node is preempted while running tasks, hello tasks are requeued and run again once a compute node becomes available again.</span></span> <span data-ttu-id="9de09-320">Nodi con priorità bassa sono un'opzione valida per i carichi di lavoro in cui tempo di completamento del processo di hello è flessibile e lavoro hello viene distribuito tra molti nodi.</span><span class="sxs-lookup"><span data-stu-id="9de09-320">Low-priority nodes are a good option for workloads where hello job completion time is flexible and hello work is distributed across many nodes.</span></span> <span data-ttu-id="9de09-321">Prima di decidere di nodi con priorità bassa toouse per lo scenario, assicurarsi che qualsiasi lavoro perso a causa di toopreemption sarà toorecreate minima e semplice.</span><span class="sxs-lookup"><span data-stu-id="9de09-321">Before you decide toouse low-priority nodes for your scenario, make sure that any work lost due toopreemption will be minimal and easy toorecreate.</span></span>

    <span data-ttu-id="9de09-322">Nodi di calcolo con priorità bassa sono disponibili solo per gli account Batch creati con la modalità di allocazione del pool di hello impostata troppo**servizio Batch**.</span><span class="sxs-lookup"><span data-stu-id="9de09-322">Low-priority compute nodes are available only for Batch accounts created with hello pool allocation mode set too**Batch Service**.</span></span>

<span data-ttu-id="9de09-323">È possibile avere entrambi i nodi di calcolo con priorità bassa e dedicato in hello stesso pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-323">You can have both low-priority and dedicated compute nodes in hello same pool.</span></span> <span data-ttu-id="9de09-324">Ogni tipo di nodo &mdash; con priorità bassa e dedicato &mdash; ha la propria impostazione di destinazione, per cui è possibile specificare il numero di hello desiderato di nodi.</span><span class="sxs-lookup"><span data-stu-id="9de09-324">Each type of node &mdash; low-priority and dedicated &mdash; has its own target setting, for which you can specify hello desired number of nodes.</span></span> 
    
<span data-ttu-id="9de09-325">numero di nodi di calcolo Hello è tooas di cui si fa riferimento un *destinazione* perché, in alcuni casi, il pool potrebbe non raggiungere il numero di hello desiderato di nodi.</span><span class="sxs-lookup"><span data-stu-id="9de09-325">hello number of compute nodes is referred tooas a *target* because, in some situations, your pool might not reach hello desired number of nodes.</span></span> <span data-ttu-id="9de09-326">Ad esempio, un pool potrebbe non ottenere destinazione hello raggiunge hello [quota core](batch-quota-limit.md) per il Batch account prima di tutto.</span><span class="sxs-lookup"><span data-stu-id="9de09-326">For example, a pool might not achieve hello target if it reaches hello [core quota](batch-quota-limit.md) for your Batch account first.</span></span> <span data-ttu-id="9de09-327">In alternativa, il pool di hello potrebbe non raggiungere destinazione hello se è stato applicato un ridimensionamento automatico pool toohello formula che limita hello il numero massimo di nodi.</span><span class="sxs-lookup"><span data-stu-id="9de09-327">Or, hello pool might not achieve hello target if you have applied an auto-scaling formula toohello pool that limits hello maximum number of nodes.</span></span>

<span data-ttu-id="9de09-328">Per informazioni sui prezzi per i nodi di calcolo dedicati e con priorità bassa, vedere [Prezzi di Batch](https://azure.microsoft.com/pricing/details/batch/).</span><span class="sxs-lookup"><span data-stu-id="9de09-328">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/).</span></span>

### <a name="size-of-hello-compute-nodes"></a><span data-ttu-id="9de09-329">Dimensioni dei nodi di calcolo hello</span><span class="sxs-lookup"><span data-stu-id="9de09-329">Size of hello compute nodes</span></span>

<span data-ttu-id="9de09-330">**Cloud Services Configuration** (Configurazione servizi cloud) sono elencate in [Dimensioni dei servizi cloud](../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-330">**Cloud Services Configuration** compute node sizes are listed in [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span></span> <span data-ttu-id="9de09-331">Batch supporta tutte le dimensioni dei servizi cloud tranne `ExtraSmall`, `STANDARD_A1_V2` e `STANDARD_A2_V2`.</span><span class="sxs-lookup"><span data-stu-id="9de09-331">Batch supports all Cloud Services sizes except `ExtraSmall`, `STANDARD_A1_V2`, and `STANDARD_A2_V2`.</span></span>

<span data-ttu-id="9de09-332">Le dimensioni disponibili per i nodi di calcolo **Configurazione macchina virtuale** sono elencate in [Dimensioni delle macchine virtuali in Azure](../virtual-machines/linux/sizes.md) (Linux) e [Dimensioni delle macchine virtuali in Azure](../virtual-machines/windows/sizes.md) (Windows).</span><span class="sxs-lookup"><span data-stu-id="9de09-332">**Virtual Machine Configuration** compute node sizes are listed in [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span></span> <span data-ttu-id="9de09-333">Batch supporta tutte le dimensioni delle VM di Azure tranne `STANDARD_A0` e quelle con l'archiviazione Premium (serie `STANDARD_GS`, `STANDARD_DS` e `STANDARD_DSV2`).</span><span class="sxs-lookup"><span data-stu-id="9de09-333">Batch supports all Azure VM sizes except `STANDARD_A0` and those with premium storage (`STANDARD_GS`, `STANDARD_DS`, and `STANDARD_DSV2` series).</span></span>

<span data-ttu-id="9de09-334">Quando si seleziona una dimensione del nodo di calcolo, prendere in considerazione le caratteristiche di hello e i requisiti delle applicazioni di hello che viene eseguita nei nodi hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-334">When selecting a compute node size, consider hello characteristics and requirements of hello applications you'll run on hello nodes.</span></span> <span data-ttu-id="9de09-335">Aspetti come se l'applicazione hello è multithreading e la quantità di memoria che consuma consente di determinano dimensione del nodo hello più adatto e a costi contenuti.</span><span class="sxs-lookup"><span data-stu-id="9de09-335">Aspects like whether hello application is multithreaded and how much memory it consumes can help determine hello most suitable and cost-effective node size.</span></span> <span data-ttu-id="9de09-336">È tipico tooselect una dimensione del nodo presupponendo un'attività verrà eseguita in un nodo alla volta.</span><span class="sxs-lookup"><span data-stu-id="9de09-336">It's typical tooselect a node size assuming one task will run on a node at a time.</span></span> <span data-ttu-id="9de09-337">Tuttavia, è possibile toohave più attività (e pertanto più istanze dell'applicazione) [eseguite in parallelo](batch-parallel-node-tasks.md) in nodi di calcolo durante l'esecuzione del processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-337">However, it is possible toohave multiple tasks (and therefore multiple application instances) [run in parallel](batch-parallel-node-tasks.md) on compute nodes during job execution.</span></span> <span data-ttu-id="9de09-338">In questo caso, è comune toochoose una maggiore richiesta hello aumentato tooaccommodate di dimensioni nodo dell'esecuzione di attività in parallelo.</span><span class="sxs-lookup"><span data-stu-id="9de09-338">In this case, it is common toochoose a larger node size tooaccommodate hello increased demand of parallel task execution.</span></span> <span data-ttu-id="9de09-339">Per altre informazioni, vedere [Criteri di pianificazione delle attività](#task-scheduling-policy).</span><span class="sxs-lookup"><span data-stu-id="9de09-339">See [Task scheduling policy](#task-scheduling-policy) for more information.</span></span>

<span data-ttu-id="9de09-340">Tutti i nodi di hello in un pool sono hello stessa dimensione.</span><span class="sxs-lookup"><span data-stu-id="9de09-340">All of hello nodes in a pool are hello same size.</span></span> <span data-ttu-id="9de09-341">Se si intendono toorun applicazioni con requisiti di sistema diversi e/o livelli di carico, è consigliabile utilizzare un pool separato.</span><span class="sxs-lookup"><span data-stu-id="9de09-341">If you intend toorun applications with differing system requirements and/or load levels, we recommend that you use separate pools.</span></span>

### <a name="scaling-policy"></a><span data-ttu-id="9de09-342">Criteri di ridimensionamento</span><span class="sxs-lookup"><span data-stu-id="9de09-342">Scaling policy</span></span>

<span data-ttu-id="9de09-343">Per i carichi di lavoro dinamici, è possibile scrivere e applicare un [formula di scalabilità automatica](#scaling-compute-resources) tooa pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-343">For dynamic workloads, you can write and apply an [auto-scaling formula](#scaling-compute-resources) tooa pool.</span></span> <span data-ttu-id="9de09-344">periodicamente, Hello servizio Batch restituisce la formula e regola hello numero di nodi all'interno di hello pool in base a diversi pool di processi e i parametri dell'attività che è possibile specificare.</span><span class="sxs-lookup"><span data-stu-id="9de09-344">hello Batch service periodically evaluates your formula and adjusts hello number of nodes within hello pool based on various pool, job, and task parameters that you can specify.</span></span>

### <a name="task-scheduling-policy"></a><span data-ttu-id="9de09-345">Criteri di pianificazione attività</span><span class="sxs-lookup"><span data-stu-id="9de09-345">Task scheduling policy</span></span>

<span data-ttu-id="9de09-346">Hello [numero massimo di attività per ogni nodo](batch-parallel-node-tasks.md) opzione di configurazione determina il numero massimo di hello di attività che possono essere eseguiti in parallelo in ogni nodo di calcolo nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-346">hello [max tasks per node](batch-parallel-node-tasks.md) configuration option determines hello maximum number of tasks that can be run in parallel on each compute node within hello pool.</span></span>

<span data-ttu-id="9de09-347">configurazione predefinita di Hello specifica che un'attività alla volta viene eseguito in un nodo, ma esistono scenari in cui è utile toohave due o più attività eseguite contemporaneamente su un nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-347">hello default configuration specifies that one task at a time runs on a node, but there are scenarios where it is beneficial toohave two or more tasks executed on a node simultaneously.</span></span> <span data-ttu-id="9de09-348">Vedere hello [nello scenario di esempio](batch-parallel-node-tasks.md#example-scenario) in hello [attività simultanee nodo](batch-parallel-node-tasks.md) toosee articolo come è possibile trarre vantaggio da più attività per ogni nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-348">See hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello [concurrent node tasks](batch-parallel-node-tasks.md) article toosee how you can benefit from multiple tasks per node.</span></span>

<span data-ttu-id="9de09-349">È inoltre possibile specificare un *tipo di riempimento* che determina se viene distribuita attività hello in modo uniforme in tutti i nodi in un pool di Batch o Pack ogni nodo con il numero massimo di hello di attività prima di assegnare nodo tooanother attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-349">You can also specify a *fill type* which determines whether Batch spreads hello tasks evenly across all nodes in a pool, or packs each node with hello maximum number of tasks before assigning tasks tooanother node.</span></span>

### <a name="communication-status-for-compute-nodes"></a><span data-ttu-id="9de09-350">Stato delle comunicazioni dei nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-350">Communication status for compute nodes</span></span>

<span data-ttu-id="9de09-351">Nella maggior parte degli scenari, attività funzionano in modo indipendente e non è necessario toocommunicate tra loro.</span><span class="sxs-lookup"><span data-stu-id="9de09-351">In most scenarios, tasks operate independently and do not need toocommunicate with one another.</span></span> <span data-ttu-id="9de09-352">È tuttavia possibile che siano presenti applicazioni in cui le attività devono comunicare, ad esempio negli [scenari MPI](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-352">However, there are some applications in which tasks must communicate, like [MPI scenarios](batch-mpi.md).</span></span>

<span data-ttu-id="9de09-353">È possibile configurare un pool tooallow **le comunicazioni**, in modo che i nodi all'interno di un pool possono comunicare in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-353">You can configure a pool tooallow **internode communication**, so that nodes within a pool can communicate at runtime.</span></span> <span data-ttu-id="9de09-354">Quando la comunicazione tra nodi è abilitata, i nodi nei pool Cloud Services Configuration (Configurazione servizi cloud) possono comunicare tra loro tramite porte superiori alla 1100 e i pool Configurazione macchina virtuale non limitano il traffico su nessuna porta.</span><span class="sxs-lookup"><span data-stu-id="9de09-354">When internode communication is enabled, nodes in Cloud Services Configuration pools can communicate with each other on ports greater than 1100, and Virtual Machine Configuration pools do not restrict traffic on any port.</span></span>

<span data-ttu-id="9de09-355">Si noti che anche abilitare le comunicazioni influisce sulla posizione hello dei nodi di hello all'interno dei cluster e potrebbe limitare il numero massimo di hello di nodi in un pool di a causa di restrizioni di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-355">Note that enabling internode communication also impacts hello placement of hello nodes within clusters and might limit hello maximum number of nodes in a pool because of deployment restrictions.</span></span> <span data-ttu-id="9de09-356">Se l'applicazione non richiede la comunicazione tra nodi, hello servizio Batch può allocare un numero potenzialmente elevato di nodi toohello pool dal numero di cluster diversi e i Data Center tooenable maggiore potenza di elaborazione parallela.</span><span class="sxs-lookup"><span data-stu-id="9de09-356">If your application does not require communication between nodes, hello Batch service can allocate a potentially large number of nodes toohello pool from many different clusters and datacenters tooenable increased parallel processing power.</span></span>

### <a name="start-tasks-for-compute-nodes"></a><span data-ttu-id="9de09-357">Attività di avvio per i nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-357">Start tasks for compute nodes</span></span>

<span data-ttu-id="9de09-358">Hello facoltativo *avviare attività* viene eseguito in ogni nodo come nodo aggiunto pool hello e ogni volta che un nodo viene riavviato o ricreata l'immagine.</span><span class="sxs-lookup"><span data-stu-id="9de09-358">hello optional *start task* executes on each node as that node joins hello pool, and each time a node is restarted or reimaged.</span></span> <span data-ttu-id="9de09-359">attività di avvio Hello è particolarmente utile per la preparazione dei nodi di calcolo per l'esecuzione di attività, come l'installazione di applicazioni hello le attività eseguite in nodi di calcolo hello hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-359">hello start task is especially useful for preparing compute nodes for hello execution of tasks, like installing hello applications that your tasks run on hello compute nodes.</span></span>

### <a name="application-packages"></a><span data-ttu-id="9de09-360">Pacchetti dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9de09-360">Application packages</span></span>

<span data-ttu-id="9de09-361">È possibile specificare [pacchetti di applicazioni](#application-packages) toodeploy toohello nodi di calcolo nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-361">You can specify [application packages](#application-packages) toodeploy toohello compute nodes in hello pool.</span></span> <span data-ttu-id="9de09-362">Pacchetti di applicazioni di fornire una distribuzione semplificata e controllo delle versioni delle applicazioni hello le attività eseguite.</span><span class="sxs-lookup"><span data-stu-id="9de09-362">Application packages provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="9de09-363">I pacchetti dell'applicazione specificati per un pool vengono installati in ogni nodo di calcolo aggiunto al pool e ogni volta che un nodo viene riavviato o ne viene ricreata l'immagine.</span><span class="sxs-lookup"><span data-stu-id="9de09-363">Application packages that you specify for a pool are installed on every node that joins that pool, and every time a node is rebooted or reimaged.</span></span>

> [!NOTE]
> <span data-ttu-id="9de09-364">I pacchetti dell'applicazione sono supportati in tutti i pool di Batch creati dopo il 5 luglio 2017.</span><span class="sxs-lookup"><span data-stu-id="9de09-364">Application packages are supported on all Batch pools created after 5 July 2017.</span></span> <span data-ttu-id="9de09-365">Sono supportate nei pool di Batch creato tra 10 marzo 2016 e 5 luglio 2017 solo se il pool di hello è stato creato utilizzando una configurazione del servizio Cloud.</span><span class="sxs-lookup"><span data-stu-id="9de09-365">They are supported on Batch pools created between 10 March 2016 and 5 July 2017 only if hello pool was created using a Cloud Service configuration.</span></span> <span data-ttu-id="9de09-366">Pool di batch creati too10 precedente marzo 2016 non supportano pacchetti di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9de09-366">Batch pools created prior too10 March 2016 do not support application packages.</span></span> <span data-ttu-id="9de09-367">Per ulteriori informazioni sull'utilizzo dell'applicazione pacchetti toodeploy i nodi di Batch tooyour applicazioni, vedere [distribuire applicazioni toocompute nodi con i pacchetti di applicazione di Batch](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-367">For more information about using application packages toodeploy your applications tooyour Batch nodes, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
>
>

### <a name="network-configuration"></a><span data-ttu-id="9de09-368">Network configuration</span><span class="sxs-lookup"><span data-stu-id="9de09-368">Network configuration</span></span>

<span data-ttu-id="9de09-369">È possibile specificare la subnet hello di un Azure [rete virtuale (VNet)](../virtual-network/virtual-networks-overview.md) nel calcolo del pool che hello nodi devono essere creati.</span><span class="sxs-lookup"><span data-stu-id="9de09-369">You can specify hello subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md) in which hello pool's compute nodes should be created.</span></span> <span data-ttu-id="9de09-370">Vedere hello [configurazione di rete Pool](#pool-network-configuration) sezione per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="9de09-370">See hello [Pool network configuration](#pool-network-configuration) section for more information.</span></span>


## <a name="job"></a><span data-ttu-id="9de09-371">Job</span><span class="sxs-lookup"><span data-stu-id="9de09-371">Job</span></span>
<span data-ttu-id="9de09-372">Un processo è una raccolta di attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-372">A job is a collection of tasks.</span></span> <span data-ttu-id="9de09-373">Gestisce modalità di calcolo per le attività sui nodi di calcolo hello in un pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-373">It manages how computation is performed by its tasks on hello compute nodes in a pool.</span></span>

* <span data-ttu-id="9de09-374">il processo di Hello specifica hello **pool** in cui hello lavoro è toobe eseguire.</span><span class="sxs-lookup"><span data-stu-id="9de09-374">hello job specifies hello **pool** in which hello work is toobe run.</span></span> <span data-ttu-id="9de09-375">È possibile creare un nuovo pool per ogni processo o usare un pool per più processi.</span><span class="sxs-lookup"><span data-stu-id="9de09-375">You can create a new pool for each job, or use one pool for many jobs.</span></span> <span data-ttu-id="9de09-376">È possibile creare un pool per ogni processo associato a una pianificazione o per tutti i processi associati a una pianificazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-376">You can create a pool for each job that is associated with a job schedule, or for all jobs that are associated with a job schedule.</span></span>
* <span data-ttu-id="9de09-377">È possibile specificare una **priorità del processo** facoltativa.</span><span class="sxs-lookup"><span data-stu-id="9de09-377">You can specify an optional **job priority**.</span></span> <span data-ttu-id="9de09-378">Quando un processo viene inviato con una priorità maggiore processi attualmente in corso, attività hello per il processo di priorità più alta hello vengono inserite nella coda hello avanti rispetto all'attività per i processi con priorità inferiore hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-378">When a job is submitted with a higher priority than jobs that are currently in progress, hello tasks for hello higher-priority job are inserted into hello queue ahead of tasks for hello lower-priority jobs.</span></span> <span data-ttu-id="9de09-379">Le attività nei processi con priorità più bassa già in esecuzione non vengono messe in attesa.</span><span class="sxs-lookup"><span data-stu-id="9de09-379">Tasks in lower-priority jobs that are already running are not preempted.</span></span>
* <span data-ttu-id="9de09-380">È possibile utilizzare processo **vincoli** toospecify determinati limiti per i processi di:</span><span class="sxs-lookup"><span data-stu-id="9de09-380">You can use job **constraints** toospecify certain limits for your jobs:</span></span>

    <span data-ttu-id="9de09-381">È possibile impostare un **tempo massimo wallclock**, in modo che se un processo viene eseguito per più di hello wallclock massima di tempo specificato, il processo di hello e di tutte le attività vengono terminate.</span><span class="sxs-lookup"><span data-stu-id="9de09-381">You can set a **maximum wallclock time**, so that if a job runs for longer than hello maximum wallclock time that is specified, hello job and all of its tasks are terminated.</span></span>

    <span data-ttu-id="9de09-382">Batch può rilevare e quindi provare a eseguire di nuovo le attività non riuscite.</span><span class="sxs-lookup"><span data-stu-id="9de09-382">Batch can detect and then retry failed tasks.</span></span> <span data-ttu-id="9de09-383">È possibile specificare hello **il numero massimo di tentativi dell'attività** come vincolo, ad esempio se un'attività è *sempre* o *mai* ripetuta.</span><span class="sxs-lookup"><span data-stu-id="9de09-383">You can specify hello **maximum number of task retries** as a constraint, including whether a task is *always* or *never* retried.</span></span> <span data-ttu-id="9de09-384">Nuovo tentativo in corso un'attività, significa che l'attività hello viene reinserito nella coda toobe, eseguire di nuovo.</span><span class="sxs-lookup"><span data-stu-id="9de09-384">Retrying a task means that hello task is requeued toobe run again.</span></span>
* <span data-ttu-id="9de09-385">L'applicazione client è possibile aggiungere il processo di tooa attività oppure è possibile specificare un [attività di gestione di processi](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="9de09-385">Your client application can add tasks tooa job, or you can specify a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="9de09-386">Un'attività di gestione di processi contiene informazioni hello toocreate necessarie attività di hello necessario per un processo, con l'attività del gestore hello processi in esecuzione in uno dei hello nodi di calcolo nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-386">A job manager task contains hello information that is necessary toocreate hello required tasks for a job, with hello job manager task being run on one of hello compute nodes in hello pool.</span></span> <span data-ttu-id="9de09-387">Hello attività di gestione di processi viene gestita in modo specifico dal Batch, viene accodato appena hello processo viene creato e viene riavviato, se si verifica un errore.</span><span class="sxs-lookup"><span data-stu-id="9de09-387">hello job manager task is handled specifically by Batch--it is queued as soon as hello job is created, and is restarted if it fails.</span></span> <span data-ttu-id="9de09-388">È un'attività di gestione di processi *obbligatorio* per i processi creati da un [pianificazione del processo](#scheduled-jobs) perché prima viene creata un'istanza di processo hello è hello solo modo toodefine hello le attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-388">A job manager task is *required* for jobs that are created by a [job schedule](#scheduled-jobs) because it is hello only way toodefine hello tasks before hello job is instantiated.</span></span>
* <span data-ttu-id="9de09-389">Per impostazione predefinita, i processi rimangono in stato attivo di hello quando vengono completate tutte le attività all'interno del processo di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-389">By default, jobs remain in hello active state when all tasks within hello job are complete.</span></span> <span data-ttu-id="9de09-390">È possibile modificare questo comportamento in modo che hello processo viene terminato automaticamente quando vengono completate tutte le attività nel processo di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-390">You can change this behavior so that hello job is automatically terminated when all tasks in hello job are complete.</span></span> <span data-ttu-id="9de09-391">Set hello processo **onAllTasksComplete** proprietà ([OnAllTasksComplete] [ net_onalltaskscomplete] in .NET per Batch) troppo*terminatejob* tooautomatically terminare il processo di hello quando di tutte le attività sono in stato di hello completata.</span><span class="sxs-lookup"><span data-stu-id="9de09-391">Set hello job's **onAllTasksComplete** property ([OnAllTasksComplete][net_onalltaskscomplete] in Batch .NET) too*terminatejob* tooautomatically terminate hello job when all of its tasks are in hello completed state.</span></span>

    <span data-ttu-id="9de09-392">Si noti che il servizio Batch hello considera un processo con *non* toohave attività di tutte le attività completate.</span><span class="sxs-lookup"><span data-stu-id="9de09-392">Note that hello Batch service considers a job with *no* tasks toohave all of its tasks completed.</span></span> <span data-ttu-id="9de09-393">Di conseguenza, questa opzione viene usata più comunemente con un' [attività del gestore di processi](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="9de09-393">Therefore, this option is most commonly used with a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="9de09-394">Se si desidera chiusura automatica di processi toouse senza un gestore di processi, è necessario impostare inizialmente un nuovo processo **onAllTasksComplete** proprietà troppo*noaction*, quindi impostare troppo*terminatejob* solo dopo aver completato il processo toohello attività di aggiunta.</span><span class="sxs-lookup"><span data-stu-id="9de09-394">If you want toouse automatic job termination without a job manager, you should initially set a new job's **onAllTasksComplete** property too*noaction*, then set it too*terminatejob* only after you've finished adding tasks toohello job.</span></span>

### <a name="job-priority"></a><span data-ttu-id="9de09-395">Priorità del processo</span><span class="sxs-lookup"><span data-stu-id="9de09-395">Job priority</span></span>
<span data-ttu-id="9de09-396">È possibile assegnare una priorità toojobs creati in Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-396">You can assign a priority toojobs that you create in Batch.</span></span> <span data-ttu-id="9de09-397">Hello servizio Batch utilizza il valore di priorità hello dell'ordine di hello processo toodetermine hello della pianificazione dei processi all'interno di un account (non toobe confuso con un [processo pianificato](#scheduled-jobs)).</span><span class="sxs-lookup"><span data-stu-id="9de09-397">hello Batch service uses hello priority value of hello job toodetermine hello order of job scheduling within an account (this is not toobe confused with a [scheduled job](#scheduled-jobs)).</span></span> <span data-ttu-id="9de09-398">i valori di priorità Hello compresi tra -1000 too1000, con -1000 come priorità più bassa hello e da 1000 hello più alta.</span><span class="sxs-lookup"><span data-stu-id="9de09-398">hello priority values range from -1000 too1000, with -1000 being hello lowest priority and 1000 being hello highest.</span></span> <span data-ttu-id="9de09-399">priorità di hello tooupdate di un processo, chiamata hello [aggiornare hello le proprietà di un processo] [ rest_update_job] operazione Batch REST (), o modificare hello [CloudJob.Priority] [ net_cloudjob_priority] proprietà (.NET per Batch).</span><span class="sxs-lookup"><span data-stu-id="9de09-399">tooupdate hello priority of a job, call hello [Update hello properties of a job][rest_update_job] operation (Batch REST), or modify hello [CloudJob.Priority][net_cloudjob_priority] property (Batch .NET).</span></span>

<span data-ttu-id="9de09-400">All'interno di hello stesso account, priorità più alta i processi richiedono la programmazione di precedenza tramite i processi a priorità più bassa.</span><span class="sxs-lookup"><span data-stu-id="9de09-400">Within hello same account, higher-priority jobs have scheduling precedence over lower-priority jobs.</span></span> <span data-ttu-id="9de09-401">Un processo con un valore di priorità più elevato in un account non ha tale precedenza di pianificazione rispetto a un altro processo con un valore di priorità inferiore in un account diverso.</span><span class="sxs-lookup"><span data-stu-id="9de09-401">A job with a higher-priority value in one account does not have scheduling precedence over another job with a lower-priority value in a different account.</span></span>

<span data-ttu-id="9de09-402">La pianificazione di attività dei pool è indipendente.</span><span class="sxs-lookup"><span data-stu-id="9de09-402">Job scheduling across pools is independent.</span></span> <span data-ttu-id="9de09-403">Tra pool diversi, non è garantito che un processo con priorità più elevato venga pianificato per primo se il relativo pool associato non ha un numero sufficiente di nodi inattivi.</span><span class="sxs-lookup"><span data-stu-id="9de09-403">Between different pools, it is not guaranteed that a higher-priority job is scheduled first if its associated pool is short of idle nodes.</span></span> <span data-ttu-id="9de09-404">In hello stesso pool, i processi con hello stesso livello di priorità hanno la stessa probabilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-404">In hello same pool, jobs with hello same priority level have an equal chance of being scheduled.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="9de09-405">Scheduled jobs</span><span class="sxs-lookup"><span data-stu-id="9de09-405">Scheduled jobs</span></span>
<span data-ttu-id="9de09-406">[Le pianificazioni di processo] [ rest_job_schedules] consentono toocreate processi ricorrenti all'interno di hello servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-406">[Job schedules][rest_job_schedules] enable you toocreate recurring jobs within hello Batch service.</span></span> <span data-ttu-id="9de09-407">Un processo di pianificazione specifica quando i processi di toorun e include specifiche hello per hello toobe di processi eseguiti.</span><span class="sxs-lookup"><span data-stu-id="9de09-407">A job schedule specifies when toorun jobs and includes hello specifications for hello jobs toobe run.</span></span> <span data-ttu-id="9de09-408">È possibile specificare per quanto tempo durata hello della pianificazione hello - quando pianificazione hello è attiva, e la frequenza con cui i processi vengono creati durante hello pianificata periodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-408">You can specify hello duration of hello schedule--how long and when hello schedule is in effect--and how frequently jobs are created during hello scheduled period.</span></span>

## <a name="task"></a><span data-ttu-id="9de09-409">Attività</span><span class="sxs-lookup"><span data-stu-id="9de09-409">Task</span></span>
<span data-ttu-id="9de09-410">Un'attività è un'unità di calcolo che viene associata a un processo</span><span class="sxs-lookup"><span data-stu-id="9de09-410">A task is a unit of computation that is associated with a job.</span></span> <span data-ttu-id="9de09-411">e viene eseguita su un nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-411">It runs on a node.</span></span> <span data-ttu-id="9de09-412">Le attività vengono assegnate tooa nodo per l'esecuzione o vengono messe in coda finché non diventa disponibile un nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-412">Tasks are assigned tooa node for execution, or are queued until a node becomes free.</span></span> <span data-ttu-id="9de09-413">In termini semplici, un'attività esegue uno o più programmi o script in un calcolo nodo tooperform hello lavoro da svolgere.</span><span class="sxs-lookup"><span data-stu-id="9de09-413">Put simply, a task runs one or more programs or scripts on a compute node tooperform hello work you need done.</span></span>

<span data-ttu-id="9de09-414">Quando si crea un'attività, è possibile specificare:</span><span class="sxs-lookup"><span data-stu-id="9de09-414">When you create a task, you can specify:</span></span>

* <span data-ttu-id="9de09-415">Hello **riga di comando** per attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-415">hello **command line** for hello task.</span></span> <span data-ttu-id="9de09-416">Si tratta di riga di comando di hello che esegue l'applicazione o script nel nodo di calcolo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-416">This is hello command line that runs your application or script on hello compute node.</span></span>

    <span data-ttu-id="9de09-417">È importante toonote che hello riga di comando non viene effettivamente eseguito da una shell.</span><span class="sxs-lookup"><span data-stu-id="9de09-417">It is important toonote that hello command line does not actually run under a shell.</span></span> <span data-ttu-id="9de09-418">Pertanto, si può in modo nativo usufruire di funzionalità della shell come [variabile di ambiente](#environment-settings-for-tasks) espansione (inclusi hello `PATH`).</span><span class="sxs-lookup"><span data-stu-id="9de09-418">Therefore, it cannot natively take advantage of shell features like [environment variable](#environment-settings-for-tasks) expansion (this includes hello `PATH`).</span></span> <span data-ttu-id="9de09-419">Il vantaggio di tootake di tali funzionalità, è necessario richiamare shell hello nella riga di comando hello, ad esempio, avviando `cmd.exe` nei nodi di Windows o `/bin/sh` in Linux:</span><span class="sxs-lookup"><span data-stu-id="9de09-419">tootake advantage of such features, you must invoke hello shell in hello command line--for example, by launching `cmd.exe` on Windows nodes or `/bin/sh` on Linux:</span></span>

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    <span data-ttu-id="9de09-420">Se l'attività deve toorun un'applicazione o script che non si trova in hello del nodo `PATH` o fare riferimento a variabili di ambiente, richiamare shell hello in modo esplicito nella riga di comando di hello attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-420">If your tasks need toorun an application or script that is not in hello node's `PATH` or reference environment variables, invoke hello shell explicitly in hello task command line.</span></span>
* <span data-ttu-id="9de09-421">**File di risorse** contenenti hello toobe di dati elaborati.</span><span class="sxs-lookup"><span data-stu-id="9de09-421">**Resource files** that contain hello data toobe processed.</span></span> <span data-ttu-id="9de09-422">Questi file sono nodo toohello automaticamente copiati dall'archiviazione Blob di un account di archiviazione di Azure generico prima che venga eseguita la riga di comando dell'attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-422">These files are automatically copied toohello node from Blob storage in a general-purpose Azure Storage account before hello task's command line is executed.</span></span> <span data-ttu-id="9de09-423">Per ulteriori informazioni, vedere le sezioni hello [attività di avvio](#start-task) e [file e directory](#files-and-directories).</span><span class="sxs-lookup"><span data-stu-id="9de09-423">For more information, see hello sections [Start task](#start-task) and [Files and directories](#files-and-directories).</span></span>
* <span data-ttu-id="9de09-424">Hello **le variabili di ambiente** richiesti dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-424">hello **environment variables** that are required by your application.</span></span> <span data-ttu-id="9de09-425">Per ulteriori informazioni, vedere hello [impostazioni di ambiente per l'attività](#environment-settings-for-tasks) sezione.</span><span class="sxs-lookup"><span data-stu-id="9de09-425">For more information, see hello [Environment settings for tasks](#environment-settings-for-tasks) section.</span></span>
* <span data-ttu-id="9de09-426">Hello **vincoli** in cui hello deve eseguire l'attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-426">hello **constraints** under which hello task should execute.</span></span> <span data-ttu-id="9de09-427">Ad esempio, i vincoli includono il tempo massimo di hello attività hello è consentito toorun, numero massimo di hello di tentativi di un'operazione non riuscita, e hello periodo massimo di tempo che i file nella directory di lavoro dell'attività hello verranno mantenuti.</span><span class="sxs-lookup"><span data-stu-id="9de09-427">For example, constraints include hello maximum time that hello task is allowed toorun, hello maximum number of times a failed task should be retried, and hello maximum time that files in hello task's working directory are retained.</span></span>
* <span data-ttu-id="9de09-428">**Pacchetti di applicazioni** toodeploy toohello nodo in cui hello è toorun pianificato l'attività di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-428">**Application packages** toodeploy toohello compute node on which hello task is scheduled toorun.</span></span> <span data-ttu-id="9de09-429">[Pacchetti di applicazioni](#application-packages) fornire una distribuzione semplificata e controllo delle versioni delle applicazioni hello le attività eseguite.</span><span class="sxs-lookup"><span data-stu-id="9de09-429">[Application packages](#application-packages) provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="9de09-430">Pacchetti di applicazioni a livello di attività sono particolarmente utili in ambienti pool condiviso, in cui diversi processi vengono eseguiti in un pool e pool hello non viene eliminato quando un processo viene completato.</span><span class="sxs-lookup"><span data-stu-id="9de09-430">Task-level application packages are especially useful in shared-pool environments, where different jobs are run on one pool, and hello pool is not deleted when a job is completed.</span></span> <span data-ttu-id="9de09-431">Se il processo è l'attività più o meno di nodi nel pool di hello, pacchetti di applicazioni di attività possono ridurre al minimo il trasferimento dei dati poiché l'applicazione viene distribuita toohello solo i nodi che eseguono attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-431">If your job has fewer tasks than nodes in hello pool, task application packages can minimize data transfer since your application is deployed only toohello nodes that run tasks.</span></span>

<span data-ttu-id="9de09-432">Inoltre tootasks definire tooperform calcolo in un nodo, hello attività speciali seguenti viene fornita dal servizio Batch hello:</span><span class="sxs-lookup"><span data-stu-id="9de09-432">In addition tootasks you define tooperform computation on a node, hello following special tasks are also provided by hello Batch service:</span></span>

* [<span data-ttu-id="9de09-433">Attività di avvio</span><span class="sxs-lookup"><span data-stu-id="9de09-433">Start task</span></span>](#start-task)
* [<span data-ttu-id="9de09-434">Attività di gestione dei processi</span><span class="sxs-lookup"><span data-stu-id="9de09-434">Job manager task</span></span>](#job-manager-task)
* [<span data-ttu-id="9de09-435">Attività di preparazione e rilascio dei processi</span><span class="sxs-lookup"><span data-stu-id="9de09-435">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
* [<span data-ttu-id="9de09-436">Attività a istanze multiple (MPI)</span><span class="sxs-lookup"><span data-stu-id="9de09-436">Multi-instance tasks (MPI)</span></span>](#multi-instance-tasks)
* [<span data-ttu-id="9de09-437">Dipendenze dell'attività</span><span class="sxs-lookup"><span data-stu-id="9de09-437">Task dependencies</span></span>](#task-dependencies)

### <a name="start-task"></a><span data-ttu-id="9de09-438">Attività di avvio</span><span class="sxs-lookup"><span data-stu-id="9de09-438">Start task</span></span>
<span data-ttu-id="9de09-439">Associando un **avviare attività** con un pool, è possibile preparare l'ambiente dei relativi nodi operativo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-439">By associating a **start task** with a pool, you can prepare hello operating environment of its nodes.</span></span> <span data-ttu-id="9de09-440">Ad esempio, è possibile eseguire azioni come l'installazione di applicazioni hello che eseguono le attività o l'avvio dei processi in background.</span><span class="sxs-lookup"><span data-stu-id="9de09-440">For example, you can perform actions like installing hello applications that your tasks run or starting background processes.</span></span> <span data-ttu-id="9de09-441">attività di avvio Hello viene eseguito ogni volta che viene avviato un nodo, purché rimane nel pool di hello - inclusi quando il nodo hello è aggiunto prima toohello pool e quando viene riavviato o ricreata l'immagine.</span><span class="sxs-lookup"><span data-stu-id="9de09-441">hello start task runs every time a node starts, for as long as it remains in hello pool--including when hello node is first added toohello pool and when it is restarted or reimaged.</span></span>

<span data-ttu-id="9de09-442">Il vantaggio principale dell'attività di avvio hello è che può contenere le informazioni di hello che sono necessario tooconfigure un nodo di calcolo e installare applicazioni hello necessari per l'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-442">A primary benefit of hello start task is that it can contain all of hello information that is necessary tooconfigure a compute node and install hello applications that are required for task execution.</span></span> <span data-ttu-id="9de09-443">Pertanto, è semplice come specificare il conteggio dei nodi hello nuova destinazione aumentando hello numero di nodi in un pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-443">Therefore, increasing hello number of nodes in a pool is as simple as specifying hello new target node count.</span></span> <span data-ttu-id="9de09-444">attività di avvio Hello informazioni hello Batch servizio hello tooconfigure necessari hello nuovi nodi e li prepararsi per l'accettazione delle attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-444">hello start task provides hello Batch service hello information that is needed tooconfigure hello new nodes and get them ready for accepting tasks.</span></span>

<span data-ttu-id="9de09-445">Come con qualsiasi attività di Azure Batch, è possibile specificare un elenco di **file di risorse** in [di archiviazione di Azure][azure_storage], inoltre tooa **riga di comando** toobe eseguito.</span><span class="sxs-lookup"><span data-stu-id="9de09-445">As with any Azure Batch task, you can specify a list of **resource files** in [Azure Storage][azure_storage], in addition tooa **command line** toobe executed.</span></span> <span data-ttu-id="9de09-446">servizio Batch Hello prima copia nodo toohello del file di risorse hello da archiviazione di Azure e quindi viene eseguita sulla riga di comando hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-446">hello Batch service first copies hello resource files toohello node from Azure Storage, and then runs hello command line.</span></span> <span data-ttu-id="9de09-447">Per un'attività di avvio del pool, elenco file hello contiene in genere un'applicazione hello attività e le relative dipendenze.</span><span class="sxs-lookup"><span data-stu-id="9de09-447">For a pool start task, hello file list typically contains hello task application and its dependencies.</span></span>

<span data-ttu-id="9de09-448">Tuttavia, attività di avvio hello può anche includere toobe di dati di riferimento utilizzato da tutte le attività in esecuzione nel nodo di calcolo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-448">However, hello start task could also include reference data toobe used by all tasks that are running on hello compute node.</span></span> <span data-ttu-id="9de09-449">Ad esempio, la riga di comando dell'attività di avvio è stato possibile eseguire un `robocopy` attività di avvio operazione toocopy file dell'applicazione (che sono stati specificati come file di risorse e scaricato nodo toohello) da hello [directory di lavoro](#files-and-directories) toohello [cartella condivisa](#files-and-directories), quindi eseguire un file MSI o `setup.exe`.</span><span class="sxs-lookup"><span data-stu-id="9de09-449">For example, a start task's command line could perform a `robocopy` operation toocopy application files (which were specified as resource files and downloaded toohello node) from hello start task's [working directory](#files-and-directories) toohello [shared folder](#files-and-directories), and then run an MSI or `setup.exe`.</span></span>

<span data-ttu-id="9de09-450">È in genere consigliabile hello Batch servizio toowait per hello inizio attività toocomplete prima che venga considerato hello attività toobe pronto assegnato nodo, ma è possibile eseguire questa configurazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-450">It is typically desirable for hello Batch service toowait for hello start task toocomplete before considering hello node ready toobe assigned tasks, but you can configure this.</span></span>

<span data-ttu-id="9de09-451">Se un'attività di avvio non riesce in un nodo di calcolo, quindi hello lo stato del nodo hello è aggiornato tooreflect hello errore e tutte le attività non è assegnato il nodo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-451">If a start task fails on a compute node, then hello state of hello node is updated tooreflect hello failure, and hello node is not assigned any tasks.</span></span> <span data-ttu-id="9de09-452">Un'attività di avvio può non riuscire se si verifica un problema copiando i file di risorse di archiviazione, o se il processo di hello eseguito dalla riga di comando restituisce un codice di uscita diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="9de09-452">A start task can fail if there is an issue copying its resource files from storage, or if hello process executed by its command line returns a nonzero exit code.</span></span>

<span data-ttu-id="9de09-453">Se si aggiunge o Aggiorna attività di avvio hello per un pool esistente, è necessario riavviare i relativi nodi di calcolo per i nodi toohello hello inizio attività toobe applicato.</span><span class="sxs-lookup"><span data-stu-id="9de09-453">If you add or update hello start task for an existing pool, you must reboot its compute nodes for hello start task toobe applied toohello nodes.</span></span>

>[!NOTE]
> <span data-ttu-id="9de09-454">Hello dimensione totale di un'attività di avvio deve essere minore o uguale too32768 caratteri, inclusi i file di risorse e le variabili di ambiente.</span><span class="sxs-lookup"><span data-stu-id="9de09-454">hello total size of a start task must be less than or equal too32768 characters, including resource files and environment variables.</span></span> <span data-ttu-id="9de09-455">tooensure che l'attività di avvio soddisfi questo requisito, è possibile utilizzare uno dei due approcci:</span><span class="sxs-lookup"><span data-stu-id="9de09-455">tooensure that your start task meets this requirement, you can use one of two approaches:</span></span>
>
> 1. <span data-ttu-id="9de09-456">È possibile utilizzare applicazioni toodistribute pacchetti di applicazione o i dati in ogni nodo nel pool di Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-456">You can use application packages toodistribute applications or data across each node in your Batch pool.</span></span> <span data-ttu-id="9de09-457">Per ulteriori informazioni sui pacchetti di applicazione, vedere [distribuire applicazioni toocompute nodi con i pacchetti di applicazione di Batch](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-457">For more information about application packages, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
> 2. <span data-ttu-id="9de09-458">È possibile creare manualmente un archivio compresso contenente i file delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9de09-458">You can manually create a zipped archive containing your applications files.</span></span> <span data-ttu-id="9de09-459">Caricare l'archiviazione di tooAzure archivio compresso come un blob.</span><span class="sxs-lookup"><span data-stu-id="9de09-459">Upload your zipped archive tooAzure Storage as a blob.</span></span> <span data-ttu-id="9de09-460">Specificare l'archivio hello compresso come un file di risorse per l'attività di avvio.</span><span class="sxs-lookup"><span data-stu-id="9de09-460">Specify hello zipped archive as a resource file for your start task.</span></span> <span data-ttu-id="9de09-461">Prima di eseguire la riga di comando hello per le attività di avvio, decomprimere l'archivio di hello dalla riga di comando hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-461">Before you run hello command line for your start task, unzip hello archive from hello command line.</span></span> 
>
>    <span data-ttu-id="9de09-462">archivio hello toounzip, è possibile utilizzare l'archiviazione dello strumento di propria scelta hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-462">toounzip hello archive, you can use hello archiving tool of your choice.</span></span> <span data-ttu-id="9de09-463">Sarà necessario strumento hello tooinclude utilizzare archivio hello toounzip come un file di risorse per attività di avvio hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-463">You will need tooinclude hello tool that you use toounzip hello archive as a resource file for hello start task.</span></span>
>
>

### <a name="job-manager-task"></a><span data-ttu-id="9de09-464">Attività di gestione dei processi</span><span class="sxs-lookup"><span data-stu-id="9de09-464">Job manager task</span></span>
<span data-ttu-id="9de09-465">In genere si usa un **attività di gestione di processi** toocontrol e/o monitoraggio processo di esecuzione, ad esempio, toocreate e inviare attività hello per un processo stabilire toorun attività aggiuntive e come determinare quando lavoro è stato completato.</span><span class="sxs-lookup"><span data-stu-id="9de09-465">You typically use a **job manager task** toocontrol and/or monitor job execution--for example, toocreate and submit hello tasks for a job, determine additional tasks toorun, and determine when work is complete.</span></span> <span data-ttu-id="9de09-466">Tuttavia, un'attività di gestione di processi non è limitato toothese attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-466">However, a job manager task is not restricted toothese activities.</span></span> <span data-ttu-id="9de09-467">È un'attività completamente competente che può eseguire azioni che sono necessari per il processo di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-467">It is a fully fledged task that can perform any actions that are required for hello job.</span></span> <span data-ttu-id="9de09-468">Ad esempio, un'attività di gestione di processi potrebbe scaricare un file che viene specificato come parametro, analizzare hello contenuto del file e inviare attività aggiuntive in base a tali contenuti.</span><span class="sxs-lookup"><span data-stu-id="9de09-468">For example, a job manager task might download a file that is specified as a parameter, analyze hello contents of that file, and submit additional tasks based on those contents.</span></span>

<span data-ttu-id="9de09-469">Un'attività di gestione dei processi viene avviata prima di tutte le altre attività</span><span class="sxs-lookup"><span data-stu-id="9de09-469">A job manager task is started before all other tasks.</span></span> <span data-ttu-id="9de09-470">Fornisce hello seguenti caratteristiche:</span><span class="sxs-lookup"><span data-stu-id="9de09-470">It provides hello following features:</span></span>

* <span data-ttu-id="9de09-471">Viene automaticamente inviato come un'attività dall'hello servizio Batch quando viene creato il processo di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-471">It is automatically submitted as a task by hello Batch service when hello job is created.</span></span>
* <span data-ttu-id="9de09-472">Si è pianificato tooexecute prima hello altre attività in un processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-472">It is scheduled tooexecute before hello other tasks in a job.</span></span>
* <span data-ttu-id="9de09-473">Il nodo associato resta toobe ultimo di hello rimosso da un pool quando il pool di hello è da downsized.</span><span class="sxs-lookup"><span data-stu-id="9de09-473">Its associated node is hello last toobe removed from a pool when hello pool is being downsized.</span></span>
* <span data-ttu-id="9de09-474">La terminazione può essere vincolata toohello chiusura di tutte le attività nel processo di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-474">Its termination can be tied toohello termination of all tasks in hello job.</span></span>
* <span data-ttu-id="9de09-475">Un'attività di gestione di processi ha la priorità più alta di hello quando è necessario riavviare toobe.</span><span class="sxs-lookup"><span data-stu-id="9de09-475">A job manager task is given hello highest priority when it needs toobe restarted.</span></span> <span data-ttu-id="9de09-476">Se un nodo inattivo non è disponibile, hello servizio Batch potrebbe causare uno di hello in hello pool toomake spazio hello processo Gestione attività toorun altre attività in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-476">If an idle node is not available, hello Batch service might terminate one of hello other running tasks in hello pool toomake room for hello job manager task toorun.</span></span>
* <span data-ttu-id="9de09-477">Un'attività di gestione di processi in un processo non hanno la priorità rispetto attività hello di altri processi.</span><span class="sxs-lookup"><span data-stu-id="9de09-477">A job manager task in one job does not have priority over hello tasks of other jobs.</span></span> <span data-ttu-id="9de09-478">Tra i processi vengono rispettate solo le priorità a livello di processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-478">Across jobs, only job-level priorities are observed.</span></span>

### <a name="job-preparation-and-release-tasks"></a><span data-ttu-id="9de09-479">Attività di preparazione e rilascio dei processi</span><span class="sxs-lookup"><span data-stu-id="9de09-479">Job preparation and release tasks</span></span>
<span data-ttu-id="9de09-480">Il servizio Batch offre attività di preparazione dei processi per la configurazione dell'esecuzione pre-processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-480">Batch provides job preparation tasks for pre-job execution setup.</span></span> <span data-ttu-id="9de09-481">Le attività di rilascio dei processi vengono usate per manutenzione o pulizia post-processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-481">Job release tasks are for post-job maintenance or cleanup.</span></span>

* <span data-ttu-id="9de09-482">**Attività di preparazione del processo**: un'attività di preparazione del processo viene eseguito in tutti i nodi di calcolo che sono attività pianificate toorun, prima di qualsiasi hello vengono eseguite altre attività di processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-482">**Job preparation task**: A job preparation task runs on all compute nodes that are scheduled toorun tasks, before any of hello other job tasks are executed.</span></span> <span data-ttu-id="9de09-483">È possibile utilizzare un processo preparazione toocopy dati dell'attività che viene condivisa da tutte le attività, ma è univoco toohello processo, ad esempio.</span><span class="sxs-lookup"><span data-stu-id="9de09-483">You can use a job preparation task toocopy data that is shared by all tasks, but is unique toohello job, for example.</span></span>
* <span data-ttu-id="9de09-484">**Attività di rilascio processo**: al termine di un processo, un'attività di rilascio del processo viene eseguito su ogni nodo nel pool di hello eseguita almeno un'attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-484">**Job release task**: When a job has completed, a job release task runs on each node in hello pool that executed at least one task.</span></span> <span data-ttu-id="9de09-485">È possibile utilizzare una versione attività toodelete dati del processo che viene copiati dall'attività di preparazione processo hello o toocompress e il caricamento dei dati diagnostici log, ad esempio.</span><span class="sxs-lookup"><span data-stu-id="9de09-485">You can use a job release task toodelete data that is copied by hello job preparation task, or toocompress and upload diagnostic log data, for example.</span></span>

<span data-ttu-id="9de09-486">Preparazione di entrambi i processi e attività di rilascio consentono di toospecify toorun una riga di comando quando viene richiamata l'attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-486">Both job preparation and release tasks allow you toospecify a command line toorun when hello task is invoked.</span></span> <span data-ttu-id="9de09-487">Le attività offrono funzionalità quali download di file, esecuzione con privilegi elevati, variabili di ambiente personalizzate, durata massima di esecuzione, numero di tentativi e periodo di conservazione dei file.</span><span class="sxs-lookup"><span data-stu-id="9de09-487">They offer features like file download, elevated execution, custom environment variables, maximum execution duration, retry count, and file retention time.</span></span>

<span data-ttu-id="9de09-488">Per altre informazioni sulle attività di preparazione e rilascio dei processi, vedere [Eseguire attività di preparazione e completamento dei processi nei nodi di calcolo di Azure Batch](batch-job-prep-release.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-488">For more information on job preparation and release tasks, see [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md).</span></span>

### <a name="multi-instance-task"></a><span data-ttu-id="9de09-489">Attività a istanze multiple</span><span class="sxs-lookup"><span data-stu-id="9de09-489">Multi-instance task</span></span>
<span data-ttu-id="9de09-490">Oggetto [attività multi-istanza](batch-mpi.md) è un'attività che può essere contemporaneamente toorun configurato in più di un nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-490">A [multi-instance task](batch-mpi.md) is a task that is configured toorun on more than one compute node simultaneously.</span></span> <span data-ttu-id="9de09-491">Con le attività di più istanze, è possibile abilitare ad alte prestazioni scenari di elaborazione che richiedono un gruppo di nodi di calcolo che sono è allocati insieme tooprocess un carico di lavoro singolo (ad esempio interfaccia MPI (Message Passing)).</span><span class="sxs-lookup"><span data-stu-id="9de09-491">With multi-instance tasks, you can enable high-performance computing scenarios that require a group of compute nodes that are allocated together tooprocess a single workload (like Message Passing Interface (MPI)).</span></span>

<span data-ttu-id="9de09-492">Per informazioni dettagliate sull'esecuzione di processi MPI in Batch tramite la libreria .NET di Batch di hello, estrarre [multi-istanza usare attività toorun applicazioni di interfaccia MPI (Message Passing) in Azure Batch](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-492">For a detailed discussion on running MPI jobs in Batch by using hello Batch .NET library, check out [Use multi-instance tasks toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span></span>

### <a name="task-dependencies"></a><span data-ttu-id="9de09-493">Dipendenze dell'attività</span><span class="sxs-lookup"><span data-stu-id="9de09-493">Task dependencies</span></span>
<span data-ttu-id="9de09-494">[Le relazioni tra attività](batch-task-dependencies.md), come hello suggerito dal nome, che consentono di toospecify che un'attività dipende dal completamento di hello di altre attività prima dell'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-494">[Task dependencies](batch-task-dependencies.md), as hello name implies, allow you toospecify that a task depends on hello completion of other tasks before its execution.</span></span> <span data-ttu-id="9de09-495">Questa funzionalità fornisce il supporto per le situazioni in cui un'attività "downstream" utilizza l'output di hello di un'attività "upstream", o quando un'attività upstream esegue un'inizializzazione richiesta da un'attività a valle.</span><span class="sxs-lookup"><span data-stu-id="9de09-495">This feature provides support for situations in which a "downstream" task consumes hello output of an "upstream" task--or when an upstream task performs some initialization that is required by a downstream task.</span></span> <span data-ttu-id="9de09-496">toouse questa funzionalità, è necessario le dipendenze di attività prima di abilitare il processo Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-496">toouse this feature, you must first enable task dependencies on your Batch job.</span></span> <span data-ttu-id="9de09-497">Quindi, per ogni attività che dipende da un altro (o molti altri), è possibile specificare attività hello che dipende da tale attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-497">Then, for each task that depends on another (or many others), you specify hello tasks which that task depends on.</span></span>

<span data-ttu-id="9de09-498">Con le dipendenze di attività, è possibile configurare scenari hello seguente:</span><span class="sxs-lookup"><span data-stu-id="9de09-498">With task dependencies, you can configure scenarios like hello following:</span></span>

* <span data-ttu-id="9de09-499">L'*attivitàB* dipende dall'*attivitàA*, ovvero l'esecuzione dell'*attivitàB* inizierà solo dopo il completamento dell'*attivitàA*.</span><span class="sxs-lookup"><span data-stu-id="9de09-499">*taskB* depends on *taskA* (*taskB* will not begin execution until *taskA* has completed).</span></span>
* <span data-ttu-id="9de09-500">L'*attivitàC* dipende sia dall'*attivitàA* che dall'*attivitàB*.</span><span class="sxs-lookup"><span data-stu-id="9de09-500">*taskC* depends on both *taskA* and *taskB*.</span></span>
* <span data-ttu-id="9de09-501">L'*attivitàD* dipende da un intervallo di attività, ad esempio le attività da *1* a *10*, prima che venga eseguita.</span><span class="sxs-lookup"><span data-stu-id="9de09-501">*taskD* depends on a range of tasks, such as tasks *1* through *10*, before it executes.</span></span>

<span data-ttu-id="9de09-502">Estrarre [attività le dipendenze in Azure Batch](batch-task-dependencies.md) hello e [TaskDependencies] [ github_sample_taskdeps] codice di esempio hello [esempi di azure batch] [ github_samples] Repository GitHub per ulteriori informazioni dettagliate su questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="9de09-502">Check out [Task dependencies in Azure Batch](batch-task-dependencies.md) and hello [TaskDependencies][github_sample_taskdeps] code sample in hello [azure-batch-samples][github_samples] GitHub repository for more in-depth details on this feature.</span></span>

## <a name="environment-settings-for-tasks"></a><span data-ttu-id="9de09-503">Impostazioni di ambiente per le attività</span><span class="sxs-lookup"><span data-stu-id="9de09-503">Environment settings for tasks</span></span>
<span data-ttu-id="9de09-504">Ogni attività eseguita dal servizio Batch hello dispone di variabili di tooenvironment di accesso che verrà impostato su nodi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-504">Each task executed by hello Batch service has access tooenvironment variables that it sets on compute nodes.</span></span> <span data-ttu-id="9de09-505">Ciò include le variabili di ambiente definite dal servizio Batch hello ([definito dal servizio][msdn_env_vars]) e le variabili di ambiente personalizzato che è possibile definire per le attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-505">This includes environment variables defined by hello Batch service ([service-defined][msdn_env_vars]) and custom environment variables that you can define for your tasks.</span></span> <span data-ttu-id="9de09-506">applicazioni Hello e script di che esecuzione delle attività sono variabili di ambiente toothese accesso durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-506">hello applications and scripts your tasks execute have access toothese environment variables during execution.</span></span>

<span data-ttu-id="9de09-507">È possibile impostare le variabili di ambiente personalizzate a livello di attività o processo hello popolando hello *le impostazioni di ambiente* proprietà per queste entità.</span><span class="sxs-lookup"><span data-stu-id="9de09-507">You can set custom environment variables at hello task or job level by populating hello *environment settings* property for these entities.</span></span> <span data-ttu-id="9de09-508">Ad esempio, vedere hello [aggiungere un processo tooa attività] [ rest_add_task] operazione (API REST di Batch) o hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] e [ CloudJob.CommonEnvironmentSettings] [ net_job_env] proprietà in .NET per Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-508">For example, see hello [Add a task tooa job][rest_add_task] operation (Batch REST API), or hello [CloudTask.EnvironmentSettings][net_cloudtask_env] and [CloudJob.CommonEnvironmentSettings][net_job_env] properties in Batch .NET.</span></span>

<span data-ttu-id="9de09-509">L'applicazione client o il servizio può ottenere le variabili di ambiente di un'attività, sia definito dal servizio e personalizzate, con hello [ottenere informazioni su un'attività] [ rest_get_task_info] operazione (Batch REST) o l'accesso Hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] proprietà (.NET per Batch).</span><span class="sxs-lookup"><span data-stu-id="9de09-509">Your client application or service can obtain a task's environment variables, both service-defined and custom, by using hello [Get information about a task][rest_get_task_info] operation (Batch REST) or by accessing hello [CloudTask.EnvironmentSettings][net_cloudtask_env] property (Batch .NET).</span></span> <span data-ttu-id="9de09-510">I processi in esecuzione su un nodo di calcolo possono accedere a queste e altre variabili di ambiente nel nodo hello, ad esempio, tramite hello familiarità `%VARIABLE_NAME%` (Windows) o `$VARIABLE_NAME` sintassi (Linux).</span><span class="sxs-lookup"><span data-stu-id="9de09-510">Processes executing on a compute node can access these and other environment variables on hello node, for example, by using hello familiar `%VARIABLE_NAME%` (Windows) or `$VARIABLE_NAME` (Linux) syntax.</span></span>

<span data-ttu-id="9de09-511">È possibile trovare un elenco completo di tutte le variabili di ambiente definite dal servizio in [Compute node environment variables][msdn_env_vars] (Variabili di ambiente dei nodi di calcolo).</span><span class="sxs-lookup"><span data-stu-id="9de09-511">You can find a full list of all service-defined environment variables in [Compute node environment variables][msdn_env_vars].</span></span>

## <a name="files-and-directories"></a><span data-ttu-id="9de09-512">File e directory</span><span class="sxs-lookup"><span data-stu-id="9de09-512">Files and directories</span></span>
<span data-ttu-id="9de09-513">Ogni attività ha una *directory di lavoro* in cui crea zero o più file e directory.</span><span class="sxs-lookup"><span data-stu-id="9de09-513">Each task has a *working directory* under which it creates zero or more files and directories.</span></span> <span data-ttu-id="9de09-514">Directory di lavoro può essere utilizzata per archiviare programma hello eseguito dall'attività hello, dati hello che vengono elaborati, e di output di hello di elaborazione hello che esegue.</span><span class="sxs-lookup"><span data-stu-id="9de09-514">This working directory can be used for storing hello program that is run by hello task, hello data that it processes, and hello output of hello processing it performs.</span></span> <span data-ttu-id="9de09-515">Tutti i file e directory di un'attività proprietà hello attività utente.</span><span class="sxs-lookup"><span data-stu-id="9de09-515">All files and directories of a task are owned by hello task user.</span></span>

<span data-ttu-id="9de09-516">il servizio Batch Hello espone una parte del file system di hello in un nodo come hello *directory radice*.</span><span class="sxs-lookup"><span data-stu-id="9de09-516">hello Batch service exposes a portion of hello file system on a node as hello *root directory*.</span></span> <span data-ttu-id="9de09-517">Attività possono accedere a directory radice hello facendo riferimento hello `AZ_BATCH_NODE_ROOT_DIR` variabile di ambiente.</span><span class="sxs-lookup"><span data-stu-id="9de09-517">Tasks can access hello root directory by referencing hello `AZ_BATCH_NODE_ROOT_DIR` environment variable.</span></span> <span data-ttu-id="9de09-518">Per altre informazioni sull'uso delle variabili di ambiente, vedere [Impostazioni di ambiente per le attività](#environment-settings-for-tasks).</span><span class="sxs-lookup"><span data-stu-id="9de09-518">For more information about using environment variables, see [Environment settings for tasks](#environment-settings-for-tasks).</span></span>

<span data-ttu-id="9de09-519">directory radice Hello contiene hello seguente struttura di directory:</span><span class="sxs-lookup"><span data-stu-id="9de09-519">hello root directory contains hello following directory structure:</span></span>

![Struttura di directory dei nodi di calcolo][1]

* <span data-ttu-id="9de09-521">**condiviso**: la directory fornisce l'accesso in lettura/scrittura troppo*tutti* attività in esecuzione in un nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-521">**shared**: This directory provides read/write access too*all* tasks that run on a node.</span></span> <span data-ttu-id="9de09-522">Qualsiasi attività che viene eseguita nel nodo hello è possibile creare, leggere, aggiornare ed eliminare i file in questa directory.</span><span class="sxs-lookup"><span data-stu-id="9de09-522">Any task that runs on hello node can create, read, update, and delete files in this directory.</span></span> <span data-ttu-id="9de09-523">Attività di accesso alla directory facendo riferimento hello `AZ_BATCH_NODE_SHARED_DIR` variabile di ambiente.</span><span class="sxs-lookup"><span data-stu-id="9de09-523">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_SHARED_DIR` environment variable.</span></span>
* <span data-ttu-id="9de09-524">**startup**: questa directory viene usata da un'attività di avvio come directory di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9de09-524">**startup**: This directory is used by a start task as its working directory.</span></span> <span data-ttu-id="9de09-525">Qui vengono archiviati tutti i file hello che vengono scaricati toohello nodo attività di avvio hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-525">All of hello files that are downloaded toohello node by hello start task are stored here.</span></span> <span data-ttu-id="9de09-526">attività di avvio Hello è possibile creare, leggere, aggiornare ed eliminare i file in questa directory.</span><span class="sxs-lookup"><span data-stu-id="9de09-526">hello start task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="9de09-527">Attività di accesso alla directory facendo riferimento hello `AZ_BATCH_NODE_STARTUP_DIR` variabile di ambiente.</span><span class="sxs-lookup"><span data-stu-id="9de09-527">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_STARTUP_DIR` environment variable.</span></span>
* <span data-ttu-id="9de09-528">**Attività**: viene creata una directory per ogni attività in esecuzione sul nodo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-528">**Tasks**: A directory is created for each task that runs on hello node.</span></span> <span data-ttu-id="9de09-529">È possibile accedervi facendo riferimento hello `AZ_BATCH_TASK_DIR` variabile di ambiente.</span><span class="sxs-lookup"><span data-stu-id="9de09-529">It is accessed by referencing hello `AZ_BATCH_TASK_DIR` environment variable.</span></span>

    <span data-ttu-id="9de09-530">All'interno di ogni directory di attività, hello servizio Batch crea una directory di lavoro (`wd`) il cui percorso univoco specificato da hello `AZ_BATCH_TASK_WORKING_DIR` variabile di ambiente.</span><span class="sxs-lookup"><span data-stu-id="9de09-530">Within each task directory, hello Batch service creates a working directory (`wd`) whose unique path is specified by hello `AZ_BATCH_TASK_WORKING_DIR` environment variable.</span></span> <span data-ttu-id="9de09-531">Questa directory fornisce attività toohello di accesso in lettura/scrittura.</span><span class="sxs-lookup"><span data-stu-id="9de09-531">This directory provides read/write access toohello task.</span></span> <span data-ttu-id="9de09-532">attività Hello è possibile creare, leggere, aggiornare ed eliminare i file in questa directory.</span><span class="sxs-lookup"><span data-stu-id="9de09-532">hello task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="9de09-533">Questa directory viene mantenuta in base a hello *RetentionTime* vincolo specificato per l'attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-533">This directory is retained based on hello *RetentionTime* constraint that is specified for hello task.</span></span>

    <span data-ttu-id="9de09-534">`stdout.txt`e `stderr.txt`: questi file vengono scritti cartella attività toohello durante l'esecuzione di hello dell'attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-534">`stdout.txt` and `stderr.txt`: These files are written toohello task folder during hello execution of hello task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9de09-535">Quando un nodo viene rimosso dal pool di hello, *tutti* di hello vengono rimossi i file archiviati nel nodo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-535">When a node is removed from hello pool, *all* of hello files that are stored on hello node are removed.</span></span>
>
>

## <a name="application-packages"></a><span data-ttu-id="9de09-536">Pacchetti dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9de09-536">Application packages</span></span>
<span data-ttu-id="9de09-537">Hello [pacchetti di applicazioni](batch-application-packages.md) funzionalità offre semplicità di gestione e distribuzione di applicazioni toohello nodi di calcolo nei pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-537">hello [application packages](batch-application-packages.md) feature provides easy management and deployment of applications toohello compute nodes in your pools.</span></span> <span data-ttu-id="9de09-538">È possibile caricare e gestire più versioni di hello applicazioni vengono eseguite le attività, inclusi i relativi file binari e i file di supporto.</span><span class="sxs-lookup"><span data-stu-id="9de09-538">You can upload and manage multiple versions of hello applications run by your tasks, including their binaries and support files.</span></span> <span data-ttu-id="9de09-539">Quindi è possibile distribuire automaticamente uno o più di queste applicazioni toohello nodi di calcolo nel pool di.</span><span class="sxs-lookup"><span data-stu-id="9de09-539">Then you can automatically deploy one or more of these applications toohello compute nodes in your pool.</span></span>

<span data-ttu-id="9de09-540">È possibile specificare i pacchetti di applicazioni a livello di pool e attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-540">You can specify application packages at hello pool and task level.</span></span> <span data-ttu-id="9de09-541">Quando si specificano i pacchetti di applicazioni del pool, un'applicazione hello è nodo tooevery distribuito nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-541">When you specify pool application packages, hello application is deployed tooevery node in hello pool.</span></span> <span data-ttu-id="9de09-542">Quando si specificano i pacchetti di applicazioni di attività, un'applicazione hello è distribuito toonodes solo che vengono pianificati toorun almeno una delle attività del processo di hello, appena prima hello esecuzione riga di comando dell'attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-542">When you specify task application packages, hello application is deployed only toonodes that are scheduled toorun at least one of hello job's tasks, just before hello task's command line is run.</span></span>

<span data-ttu-id="9de09-543">Gli handle di batch hello dettagli dell'utilizzo di archiviazione di Azure toostore i pacchetti di applicazioni e distribuirli toocompute nodi, in modo il codice e gestione overhead può essere semplificata.</span><span class="sxs-lookup"><span data-stu-id="9de09-543">Batch handles hello details of working with Azure Storage toostore your application packages and deploy them toocompute nodes, so both your code and management overhead can be simplified.</span></span>

<span data-ttu-id="9de09-544">toofind ulteriori informazioni sulle funzionalità di pacchetto dell'applicazione hello, estrarre [distribuire applicazioni toocompute nodi con i pacchetti di applicazione di Batch](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-544">toofind out more about hello application package feature, check out [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>

> [!NOTE]
> <span data-ttu-id="9de09-545">Se si aggiungono pool applicazioni pacchetti tooan *esistente* pool, è necessario riavviare i nodi di calcolo per un'applicazione hello pacchetti nodi toohello toobe distribuito.</span><span class="sxs-lookup"><span data-stu-id="9de09-545">If you add pool application packages tooan *existing* pool, you must reboot its compute nodes for hello application packages toobe deployed toohello nodes.</span></span>
>
>

## <a name="pool-and-compute-node-lifetime"></a><span data-ttu-id="9de09-546">Durata del pool e dei nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-546">Pool and compute node lifetime</span></span>
<span data-ttu-id="9de09-547">Quando si progetta la soluzione di Azure Batch, è toomake una decisione di progettazione su come e quando vengono creati pool e il tempo di calcolo nodi all'interno di tali pool vengono mantenuti disponibili.</span><span class="sxs-lookup"><span data-stu-id="9de09-547">When you design your Azure Batch solution, you have toomake a design decision about how and when pools are created, and how long compute nodes within those pools are kept available.</span></span>

<span data-ttu-id="9de09-548">A un'estremità dello spettro hello, è possibile creare un pool per ogni processo inviato ed eliminare il pool di hello appena terminata l'esecuzione le relative attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-548">On one end of hello spectrum, you can create a pool for each job that you submit, and delete hello pool as soon as its tasks finish execution.</span></span> <span data-ttu-id="9de09-549">Ciò Ottimizza l'utilizzo in quanto nodi hello vengono allocati solo quando necessario e arrestato come inattivo.</span><span class="sxs-lookup"><span data-stu-id="9de09-549">This maximizes utilization because hello nodes are only allocated when needed, and shut down as soon as they're idle.</span></span> <span data-ttu-id="9de09-550">Anche se questo significa che il processo di hello deve attendere hello nodi toobe allocata, è toonote importante che le attività sono pianificate per l'esecuzione non appena sono disponibili singolarmente, i nodi allocato e hello attività di avvio è stata completata.</span><span class="sxs-lookup"><span data-stu-id="9de09-550">While this means that hello job must wait for hello nodes toobe allocated, it's important toonote that tasks are scheduled for execution as soon as nodes are individually available, allocated, and hello start task has completed.</span></span> <span data-ttu-id="9de09-551">Batch *non* attendere che tutti i nodi all'interno di un pool siano disponibili prima dell'assegnazione attività toohello nodi.</span><span class="sxs-lookup"><span data-stu-id="9de09-551">Batch does *not* wait until all nodes within a pool are available before assigning tasks toohello nodes.</span></span> <span data-ttu-id="9de09-552">assicurando quindi il massimo utilizzo di tutti i nodi disponibili.</span><span class="sxs-lookup"><span data-stu-id="9de09-552">This ensures maximum utilization of all available nodes.</span></span>

<span data-ttu-id="9de09-553">In hello estremità dello spettro hello, se i processi di avviare immediatamente è prioritaria hello, è possibile creare un pool di anticipo e rendere disponibili i nodi prima di inviare i processi.</span><span class="sxs-lookup"><span data-stu-id="9de09-553">At hello other end of hello spectrum, if having jobs start immediately is hello highest priority, you can create a pool ahead of time and make its nodes available before jobs are submitted.</span></span> <span data-ttu-id="9de09-554">In questo scenario, le attività possono iniziare immediatamente, ma durante l'attesa per tali nodi potrebbero rimanere inattive toobe assegnato.</span><span class="sxs-lookup"><span data-stu-id="9de09-554">In this scenario, tasks can start immediately, but nodes might sit idle while waiting for them toobe assigned.</span></span>

<span data-ttu-id="9de09-555">Un approccio combinato viene in genere usato per la gestione di un carico variabile ma continuo.</span><span class="sxs-lookup"><span data-stu-id="9de09-555">A combined approach is typically used for handling a variable, but ongoing, load.</span></span> <span data-ttu-id="9de09-556">È possibile disporre di un pool che vengono inviati a più processi, ma possono scalare il numero di hello di nodi verso l'alto o verso il basso in base a carico di lavoro toohello (vedere [scalabilità delle risorse di calcolo](#scaling-compute-resources) nella seguente sezione hello).</span><span class="sxs-lookup"><span data-stu-id="9de09-556">You can have a pool that multiple jobs are submitted to, but can scale hello number of nodes up or down according toohello job load (see [Scaling compute resources](#scaling-compute-resources) in hello following section).</span></span> <span data-ttu-id="9de09-557">Questa operazione può essere eseguita in modo reattivo in base al carico corrente o in modo proattivo se è possibile prevedere il carico.</span><span class="sxs-lookup"><span data-stu-id="9de09-557">You can do this reactively, based on current load, or proactively, if load can be predicted.</span></span>

## <a name="virtual-network-vnet-and-firewall-configuration"></a><span data-ttu-id="9de09-558">Configurazione della rete virtuale e del firewall</span><span class="sxs-lookup"><span data-stu-id="9de09-558">Virtual network (VNet) and firewall configuration</span></span> 

<span data-ttu-id="9de09-559">Quando si esegue il provisioning di un pool di nodi di calcolo di Azure Batch, è possibile associare i pool di hello con una subnet di un Azure [rete virtuale (VNet)](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-559">When you provision a pool of compute nodes in Azure Batch, you can associate hello pool with a subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="9de09-560">toolearn informazioni sulla creazione di una rete virtuale con una subnet, vedere [creare una rete virtuale di Azure con subnet](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-560">toolearn more about creating a VNet with subnets, see [Create an Azure virtual network with subnets](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span></span> 

 * <span data-ttu-id="9de09-561">Hello rete virtuale associata a un pool deve essere:</span><span class="sxs-lookup"><span data-stu-id="9de09-561">hello VNet associated with a pool must be:</span></span>

   * <span data-ttu-id="9de09-562">In Azure stesso hello **area** come hello account Azure Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-562">In hello same Azure **region** as hello Azure Batch account.</span></span>
   * <span data-ttu-id="9de09-563">In hello stesso **sottoscrizione** come hello account Azure Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-563">In hello same **subscription** as hello Azure Batch account.</span></span>

* <span data-ttu-id="9de09-564">tipo di Hello di rete virtuale supportata dipende dal pool da allocare per hello account Batch:</span><span class="sxs-lookup"><span data-stu-id="9de09-564">hello type of VNet supported depends on how pools are being allocated for hello Batch account:</span></span>

    - <span data-ttu-id="9de09-565">Se la modalità di allocazione del pool di hello per l'account Batch è impostata tooBatch servizio, quindi è possibile assegnare un toopools solo tra reti virtuali create con hello **configurazione di servizi Cloud**.</span><span class="sxs-lookup"><span data-stu-id="9de09-565">If hello pool allocation mode for your Batch account is set tooBatch Service, then you can assign a VNet only toopools created with hello **Cloud Services Configuration**.</span></span> <span data-ttu-id="9de09-566">Inoltre, hello specificato di che rete virtuale deve essere creata con il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-566">Additionally, hello specified VNet must be created with hello classic deployment model.</span></span> <span data-ttu-id="9de09-567">Le reti virtuali create con modello di distribuzione Azure Resource Manager hello non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="9de09-567">VNets created with hello Azure Resource Manager deployment model are not supported.</span></span>
 
    - <span data-ttu-id="9de09-568">Se la modalità di allocazione del pool di hello per l'account Batch è impostata tooUser sottoscrizione, quindi è possibile assegnare un toopools solo tra reti virtuali create con hello **configurazione della macchina virtuale**.</span><span class="sxs-lookup"><span data-stu-id="9de09-568">If hello pool allocation mode for your Batch account is set tooUser Subscription, then you can assign a VNet only toopools created with hello **Virtual Machine Configuration**.</span></span> <span data-ttu-id="9de09-569">I pool creati con hello **configurazione del servizio Cloud** non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="9de09-569">Pools created with hello **Cloud Service Configuration** are not supported.</span></span> <span data-ttu-id="9de09-570">Hello che rete virtuale associata può essere creato con modello di distribuzione Azure Resource Manager hello o il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-570">hello associated VNet may be created with either hello Azure Resource Manager deployment model or hello classic deployment model.</span></span>

    <span data-ttu-id="9de09-571">Per una tabella di riepilogo di supporto di rete virtuale in base a modalità di allocazione toopool, vedere hello [modalità di allocazione del Pool](#pool-allocation-mode) sezione.</span><span class="sxs-lookup"><span data-stu-id="9de09-571">For a table summarizing VNet support according toopool allocation mode, see hello [Pool allocation mode](#pool-allocation-mode) section.</span></span>

* <span data-ttu-id="9de09-572">Se la modalità di allocazione del pool di hello per l'account Batch è impostata tooBatch servizio, è necessario fornire le autorizzazioni per hello tooaccess principale di servizio Batch hello rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-572">If hello pool allocation mode for your Batch account is set tooBatch Service, then you must provide permissions for hello Batch service principal tooaccess hello VNet.</span></span> <span data-ttu-id="9de09-573">Hello rete virtuale è necessario assegnare hello [Classic Virtual Machine Contributor Role-Based accesso controllo (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) dell'entità servizio di ruolo toohello Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-573">hello VNet must assign hello [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch service principal.</span></span> <span data-ttu-id="9de09-574">Se hello specificato non è stato specificato il ruolo RBAC, il servizio Batch hello restituisce 400 (richiesta non valida).</span><span class="sxs-lookup"><span data-stu-id="9de09-574">If hello specified RBAC role is not provided, hello Batch service returns 400 (Bad Request).</span></span> <span data-ttu-id="9de09-575">ruolo di hello tooadd in hello portale di Azure:</span><span class="sxs-lookup"><span data-stu-id="9de09-575">tooadd hello role in hello Azure portal:</span></span>

    1. <span data-ttu-id="9de09-576">Seleziona hello **VNet**, quindi **Access control (IAM)** > **ruoli** > **collaboratore alla macchina virtuale**  >  **Aggiungere**.</span><span class="sxs-lookup"><span data-stu-id="9de09-576">Select hello **VNet**, then **Access control (IAM)** > **Roles** > **Virtual Machine Contributor** > **Add**.</span></span>
    2. <span data-ttu-id="9de09-577">In hello **aggiungere autorizzazioni** blade, seleziona hello **collaboratore alla macchina virtuale** ruolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-577">On hello **Add permissions** blade, select hello **Virtual Machine Contributor** role.</span></span>
    3. <span data-ttu-id="9de09-578">In hello **aggiungere autorizzazioni** pannello, cercare hello API Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-578">On hello **Add permissions** blade, search for hello Batch API.</span></span> <span data-ttu-id="9de09-579">Ricerca per ognuna di queste stringhe, a sua volta fino a individuare hello API:</span><span class="sxs-lookup"><span data-stu-id="9de09-579">Search for each of these strings in turn until you find hello API:</span></span>
        1. <span data-ttu-id="9de09-580">**MicrosoftAzureBatch**.</span><span class="sxs-lookup"><span data-stu-id="9de09-580">**MicrosoftAzureBatch**.</span></span>
        2. <span data-ttu-id="9de09-581">**Microsoft Azure Batch**.</span><span class="sxs-lookup"><span data-stu-id="9de09-581">**Microsoft Azure Batch**.</span></span> <span data-ttu-id="9de09-582">I tenant di Azure AD più recenti potrebbero usare questo nome.</span><span class="sxs-lookup"><span data-stu-id="9de09-582">Newer Azure AD tenants may use this name.</span></span>
        3. <span data-ttu-id="9de09-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** ID hello per hello API Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** is hello ID for hello Batch API.</span></span> 
    3. <span data-ttu-id="9de09-584">Selezionare l'entità di servizio API Batch hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-584">Select hello Batch API service principal.</span></span> 
    4. <span data-ttu-id="9de09-585">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="9de09-585">Click **Save**.</span></span>

        ![Assegnare l'entità servizio tooBatch ruolo di collaboratore alla macchina virtuale](./media/batch-api-basics/iam-add-role.png)


* <span data-ttu-id="9de09-587">Hello specificato subnet deve essere sufficiente disponibile **gli indirizzi IP** tooaccommodate hello numero totale di nodi di destinazione; vale a dire hello somma di hello `targetDedicatedNodes` e `targetLowPriorityNodes` le proprietà del pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-587">hello specified subnet should have enough free **IP addresses** tooaccommodate hello total number of target nodes; that is, hello sum of hello `targetDedicatedNodes` and `targetLowPriorityNodes` properties of hello pool.</span></span> <span data-ttu-id="9de09-588">Se non dispone di subnet hello sufficiente indirizzi IP liberi, hello servizio Batch parzialmente alloca i nodi di calcolo hello nel pool di hello e restituisce un errore di ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="9de09-588">If hello subnet doesn't have enough free IP addresses, hello Batch service partially allocates hello compute nodes in hello pool and returns a resize error.</span></span>

* <span data-ttu-id="9de09-589">Hello specificato subnet deve consentire la comunicazione da hello Batch servizio toobe tooschedule in grado di operazioni sui nodi di calcolo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-589">hello specified subnet must allow communication from hello Batch service toobe able tooschedule tasks on hello compute nodes.</span></span> <span data-ttu-id="9de09-590">Se la comunicazione toohello nodi di calcolo viene negata da un **gruppo di sicurezza (rete)** associato hello rete virtuale, quindi hello servizio Batch Imposta stato hello dei nodi di calcolo hello troppo**inutilizzabile**.</span><span class="sxs-lookup"><span data-stu-id="9de09-590">If communication toohello compute nodes is denied by a **Network Security Group (NSG)** associated with hello VNet, then hello Batch service sets hello state of hello compute nodes too**unusable**.</span></span>

* <span data-ttu-id="9de09-591">Se hello specificato di rete virtuale associata **rete sicurezza gruppi** e/o un **firewall**, quindi è necessario abilitare alcune porte di sistema riservato per le comunicazioni in ingresso:</span><span class="sxs-lookup"><span data-stu-id="9de09-591">If hello specified VNet has associated **Network Security Groups (NSGs)** and/or a **firewall**, then a few reserved system ports must be enabled for inbound communication:</span></span>

- <span data-ttu-id="9de09-592">Per i pool creati con una configurazione di macchina virtuale, abilitare le porte 29876 e 29877, nonché la porta 22 per Linux e la porta 3389 per Windows.</span><span class="sxs-lookup"><span data-stu-id="9de09-592">For pools created with a virtual machine configuration, enable ports 29876 and 29877, as well as port 22 for Linux and port 3389 for Windows.</span></span> 
- <span data-ttu-id="9de09-593">Per i pool creati con una configurazione di servizio cloud, abilitare le porte 10100, 20100 e 30100.</span><span class="sxs-lookup"><span data-stu-id="9de09-593">For pools created with a cloud service configuration, enable ports 10100, 20100, and 30100.</span></span> 
- <span data-ttu-id="9de09-594">Abilitare le connessioni in uscita tooAzure archiviazione sulla porta 443.</span><span class="sxs-lookup"><span data-stu-id="9de09-594">Enable outbound connections tooAzure Storage on port 443.</span></span> <span data-ttu-id="9de09-595">Assicurarsi anche che l'endpoint di Archiviazione di Azure possa essere risolto da qualsiasi server DNS personalizzato che fornisce informazioni alla rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-595">Also, ensure that your Azure Storage endpoint can be resolved by any custom DNS servers that serve your VNET.</span></span> <span data-ttu-id="9de09-596">In particolare, un URL di form hello `<account>.table.core.windows.net` deve poter essere risolto.</span><span class="sxs-lookup"><span data-stu-id="9de09-596">Specifically, a URL of hello form `<account>.table.core.windows.net` should be resolvable.</span></span>

    <span data-ttu-id="9de09-597">Hello nella tabella seguente vengono descritti hello porte che è necessario tooenable per pool creati con la configurazione della macchina virtuale hello in ingresso:</span><span class="sxs-lookup"><span data-stu-id="9de09-597">hello following table describes hello inbound ports that you need tooenable for pools that you created with hello virtual machine configuration:</span></span>

    |    <span data-ttu-id="9de09-598">Porte di destinazione</span><span class="sxs-lookup"><span data-stu-id="9de09-598">Destination Port(s)</span></span>    |    <span data-ttu-id="9de09-599">Indirizzo IP di origine</span><span class="sxs-lookup"><span data-stu-id="9de09-599">Source IP address</span></span>      |    <span data-ttu-id="9de09-600">Batch aggiunge gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="9de09-600">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="9de09-601">Necessario per la macchina virtuale toobe utilizzabili?</span><span class="sxs-lookup"><span data-stu-id="9de09-601">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="9de09-602">Azione dell'utente</span><span class="sxs-lookup"><span data-stu-id="9de09-602">Action from user</span></span>   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li><span data-ttu-id="9de09-603">Per i pool creati con la configurazione della macchina virtuale hello: 29876, 29877</span><span class="sxs-lookup"><span data-stu-id="9de09-603">For pools created with hello virtual machine configuration: 29876, 29877</span></span></li><li><span data-ttu-id="9de09-604">Per i pool creati con la configurazione del servizio cloud hello: 10100, 20100, 30100</span><span class="sxs-lookup"><span data-stu-id="9de09-604">For pools created with hello cloud service configuration: 10100, 20100, 30100</span></span></li></ul>         |    <span data-ttu-id="9de09-605">Solo indirizzi IP del ruolo del servizio Batch</span><span class="sxs-lookup"><span data-stu-id="9de09-605">Only Batch service role IP addresses</span></span> |    <span data-ttu-id="9de09-606">Sì.</span><span class="sxs-lookup"><span data-stu-id="9de09-606">Yes.</span></span> <span data-ttu-id="9de09-607">Batch aggiunge NSGs hello livello di rete tooVMs di interfacce (NIC) collegate.</span><span class="sxs-lookup"><span data-stu-id="9de09-607">Batch adds NSGs at hello level of network interfaces (NIC) attached tooVMs.</span></span> <span data-ttu-id="9de09-608">Questi gruppi di sicurezza di rete consentono il traffico solo dagli indirizzi IP del ruolo del servizio Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-608">These NSGs allow traffic only from Batch service role IP addresses.</span></span> <span data-ttu-id="9de09-609">Anche se si aprono le porte per il web intera hello, traffico hello verrà bloccarsi in hello scheda di rete.</span><span class="sxs-lookup"><span data-stu-id="9de09-609">Even if you open these ports for hello  entire web, hello traffic will get blocked at hello NIC.</span></span> |    <span data-ttu-id="9de09-610">Sì</span><span class="sxs-lookup"><span data-stu-id="9de09-610">Yes</span></span>  |  <span data-ttu-id="9de09-611">Non è necessario toospecify un gruppo, in quanto Batch consente solo gli indirizzi IP di Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-611">You do not need toospecify an NSG, because Batch allows only Batch IP addresses.</span></span> <br /><br /> <span data-ttu-id="9de09-612">Se si specifica ugualmente un gruppo di sicurezza di rete, assicurarsi che queste porte siano aperte per il traffico in ingresso.</span><span class="sxs-lookup"><span data-stu-id="9de09-612">However, if you do specify an NSG, please ensure that these ports are open for inbound traffic.</span></span> <br /><br /> <span data-ttu-id="9de09-613">Se si specifica * come hello nel gruppo IP di origine, Batch aggiunge comunque NSGs a livello di hello del NIC associata tooVMs.</span><span class="sxs-lookup"><span data-stu-id="9de09-613">If you specify * as hello source IP in your NSG, Batch still adds NSGs at hello level of NIC attached tooVMs.</span></span> |
    |    <span data-ttu-id="9de09-614">3389, 22</span><span class="sxs-lookup"><span data-stu-id="9de09-614">3389, 22</span></span>               |    <span data-ttu-id="9de09-615">Computer di utenti, utilizzato per il debugging, in modo che è possibile accedere in remoto hello macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-615">User machines, used for debugging purposes, so that you can remotely access hello VM.</span></span>    |    <span data-ttu-id="9de09-616">No</span><span class="sxs-lookup"><span data-stu-id="9de09-616">No</span></span>                                    |    <span data-ttu-id="9de09-617">No</span><span class="sxs-lookup"><span data-stu-id="9de09-617">No</span></span>                     |    <span data-ttu-id="9de09-618">Aggiungere NSGs se si desidera toohello di accesso remoto (RDP/SSH) toopermit macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="9de09-618">Add NSGs if you want toopermit remote access (RDP/SSH) toohello VM.</span></span>   |                 

    <span data-ttu-id="9de09-619">Hello nella tabella seguente vengono descritti hello porta di trasmissione che è necessario tooenable toopermit accesso tooAzure archiviazione:</span><span class="sxs-lookup"><span data-stu-id="9de09-619">hello following table describes hello outbound port that you need tooenable toopermit access tooAzure Storage:</span></span>

    |    <span data-ttu-id="9de09-620">Porte in uscita</span><span class="sxs-lookup"><span data-stu-id="9de09-620">Outbound Port(s)</span></span>    |    <span data-ttu-id="9de09-621">Destination</span><span class="sxs-lookup"><span data-stu-id="9de09-621">Destination</span></span>    |    <span data-ttu-id="9de09-622">Batch aggiunge gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="9de09-622">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="9de09-623">Necessario per la macchina virtuale toobe utilizzabili?</span><span class="sxs-lookup"><span data-stu-id="9de09-623">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="9de09-624">Azione dell'utente</span><span class="sxs-lookup"><span data-stu-id="9de09-624">Action from user</span></span>    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    <span data-ttu-id="9de09-625">443</span><span class="sxs-lookup"><span data-stu-id="9de09-625">443</span></span>    |    <span data-ttu-id="9de09-626">Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="9de09-626">Azure Storage</span></span>    |    <span data-ttu-id="9de09-627">No</span><span class="sxs-lookup"><span data-stu-id="9de09-627">No</span></span>    |    <span data-ttu-id="9de09-628">Sì</span><span class="sxs-lookup"><span data-stu-id="9de09-628">Yes</span></span>    |    <span data-ttu-id="9de09-629">Se si aggiungono qualsiasi NSGs, verificare che la porta è aperta toooutbound traffico.</span><span class="sxs-lookup"><span data-stu-id="9de09-629">If you add any NSGs, then ensure that this port is open toooutbound   traffic.</span></span>    |


## <a name="scaling-compute-resources"></a><span data-ttu-id="9de09-630">Ridimensionamento delle risorse di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-630">Scaling compute resources</span></span>
<span data-ttu-id="9de09-631">Con [il ridimensionamento automatico](batch-automatic-scaling.md), è possibile che il servizio di Batch hello regoli dinamicamente il numero di hello dei nodi di calcolo in un pool in base toohello carico di lavoro e risorse utilizzo corrente del proprio scenario di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-631">With [automatic scaling](batch-automatic-scaling.md), you can have hello Batch service dynamically adjust hello number of compute nodes in a pool according toohello current workload and resource usage of your compute scenario.</span></span> <span data-ttu-id="9de09-632">In questo modo è hello toolower costo complessivo dell'esecuzione dell'applicazione utilizzando solo le risorse di hello è necessario, e il rilascio di quelli non necessari.</span><span class="sxs-lookup"><span data-stu-id="9de09-632">This allows you toolower hello overall cost of running your application by using only hello resources you need, and releasing those you don't need.</span></span>

<span data-ttu-id="9de09-633">Per abilitare il ridimensionamento automatico, scrivere una [formula di ridimensionamento automatico](batch-automatic-scaling.md#automatic-scaling-formulas) e associarla a un pool.</span><span class="sxs-lookup"><span data-stu-id="9de09-633">You enable automatic scaling by writing an [automatic scaling formula](batch-automatic-scaling.md#automatic-scaling-formulas) and associating that formula with a pool.</span></span> <span data-ttu-id="9de09-634">Hello servizio Batch utilizza hello toodetermine formula hello numero di nodi hello pool per l'intervallo di scala Avanti hello (un intervallo che è possibile configurare).</span><span class="sxs-lookup"><span data-stu-id="9de09-634">hello Batch service uses hello formula toodetermine hello target number of nodes in hello pool for hello next scaling interval (an interval that you can configure).</span></span> <span data-ttu-id="9de09-635">È possibile specificare impostazioni di scalabilità automatica hello per un pool quando viene creato o abilitare la scalabilità in un pool in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="9de09-635">You can specify hello automatic scaling settings for a pool when you create it, or enable scaling on a pool later.</span></span> <span data-ttu-id="9de09-636">È inoltre possibile aggiornare hello scalabilità impostazioni in un pool di scalabilità abilitata.</span><span class="sxs-lookup"><span data-stu-id="9de09-636">You can also update hello scaling settings on a scaling-enabled pool.</span></span>

<span data-ttu-id="9de09-637">Ad esempio, ad esempio un processo richiede che si invia un numero molto elevato di toobe attività eseguita.</span><span class="sxs-lookup"><span data-stu-id="9de09-637">As an example, perhaps a job requires that you submit a very large number of tasks toobe executed.</span></span> <span data-ttu-id="9de09-638">È possibile assegnare un pool toohello formula scalabilità che consente di regolare il numero di hello di nodi nel pool di hello in base a numero corrente di hello di attività in coda e la percentuale di completamento hello di attività hello hello processo.</span><span class="sxs-lookup"><span data-stu-id="9de09-638">You can assign a scaling formula toohello pool that adjusts hello number of nodes in hello pool based on hello current number of queued tasks and hello completion rate of hello tasks in hello job.</span></span> <span data-ttu-id="9de09-639">Hello servizio Batch restituisce formula hello e periodicamente Ridimensiona pool hello, in base a carico di lavoro e le altre impostazioni di formule.</span><span class="sxs-lookup"><span data-stu-id="9de09-639">hello Batch service periodically evaluates hello formula and resizes hello pool, based on workload and your other formula settings.</span></span> <span data-ttu-id="9de09-640">servizio Hello aggiunge i nodi in base alle esigenze quando sono presenti un numero elevato di attività in coda e rimuove i nodi, quando non sono presenti attività in coda o in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-640">hello service adds nodes as needed when there are a large number of queued tasks, and removes nodes when there are no queued or running tasks.</span></span>

<span data-ttu-id="9de09-641">Una formula di scalabilità può essere basata su hello seguenti metriche:</span><span class="sxs-lookup"><span data-stu-id="9de09-641">A scaling formula can be based on hello following metrics:</span></span>

* <span data-ttu-id="9de09-642">**Metriche temporali** basate sulle statistiche di raccolti ogni cinque minuti nella hello specificato numero di ore.</span><span class="sxs-lookup"><span data-stu-id="9de09-642">**Time metrics** are based on statistics collected every five minutes in hello specified number of hours.</span></span>
* <span data-ttu-id="9de09-643">**Metriche delle risorse** : basate su utilizzo di CPU, larghezza di banda, memoria e numero di nodi.</span><span class="sxs-lookup"><span data-stu-id="9de09-643">**Resource metrics** are based on CPU usage, bandwidth usage, memory usage, and number of nodes.</span></span>
* <span data-ttu-id="9de09-644">**Metriche delle attività**: basate sullo stato delle attività, ad esempio *Attiva* (in coda), *In esecuzione* o *Completata*.</span><span class="sxs-lookup"><span data-stu-id="9de09-644">**Task metrics** are based on task state, such as *Active* (queued), *Running*, or *Completed*.</span></span>

<span data-ttu-id="9de09-645">Quando la scalabilità automatica riduce il numero di hello dei nodi di calcolo in un pool, è necessario considerare come toohandle attività in esecuzione in fase di hello di hello diminuire l'operazione.</span><span class="sxs-lookup"><span data-stu-id="9de09-645">When automatic scaling decreases hello number of compute nodes in a pool, you must consider how toohandle tasks that are running at hello time of hello decrease operation.</span></span> <span data-ttu-id="9de09-646">tooaccommodate, Batch fornisce un *opzione deallocazione nodo* che è possibile includere nelle formule.</span><span class="sxs-lookup"><span data-stu-id="9de09-646">tooaccommodate this, Batch provides a *node deallocation option* that you can include in your formulas.</span></span> <span data-ttu-id="9de09-647">Ad esempio, è possibile specificare che le attività in esecuzione interrotta immediatamente, arrestate immediatamente e quindi reinserito nella coda per l'esecuzione in un altro nodo o consentite toofinish prima hello nodo viene rimosso dal pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-647">For example, you can specify that running tasks are stopped immediately, stopped immediately and then requeued for execution on another node, or allowed toofinish before hello node is removed from hello pool.</span></span>

<span data-ttu-id="9de09-648">Per altre informazioni sulla scalabilità automatica di un'applicazione, vedere [Ridimensionare automaticamente i nodi di calcolo in un pool di Azure Batch](batch-automatic-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-648">For more information about automatically scaling an application, see [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md).</span></span>

> [!TIP]
> <span data-ttu-id="9de09-649">toomaximize utilizzo delle risorse di calcolo, impostare il numero di destinazione hello di nodi toozero alla fine di hello di un processo, ma consentire toofinish attività in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9de09-649">toomaximize compute resource utilization, set hello target number of nodes toozero at hello end of a job, but allow running tasks toofinish.</span></span>
>
>

## <a name="security-with-certificates"></a><span data-ttu-id="9de09-650">Sicurezza con certificati</span><span class="sxs-lookup"><span data-stu-id="9de09-650">Security with certificates</span></span>
<span data-ttu-id="9de09-651">In genere necessario toouse certificati quando per crittografare o decrittografare informazioni riservate per l'attività, ad esempio hello chiave per un [account di archiviazione Azure][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="9de09-651">You typically need toouse certificates when you encrypt or decrypt sensitive information for tasks, like hello key for an [Azure Storage account][azure_storage].</span></span> <span data-ttu-id="9de09-652">toosupport, è possibile installare i certificati in nodi.</span><span class="sxs-lookup"><span data-stu-id="9de09-652">toosupport this, you can install certificates on nodes.</span></span> <span data-ttu-id="9de09-653">I segreti crittografati vengono passati tootasks tramite i parametri della riga di comando o incorporati in una delle risorse dell'attività hello e certificati hello installato possono essere utilizzato toodecrypt li.</span><span class="sxs-lookup"><span data-stu-id="9de09-653">Encrypted secrets are passed tootasks via command-line parameters or embedded in one of hello task resources, and hello installed certificates can be used toodecrypt them.</span></span>

<span data-ttu-id="9de09-654">Utilizzare hello [Aggiungi certificato] [ rest_add_cert] operazione (Batch REST) o [CertificateOperations.CreateCertificate] [ net_create_cert] (Batch .NET) (metodo) tooadd tooa un certificato account Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-654">You use hello [Add certificate][rest_add_cert] operation (Batch REST) or [CertificateOperations.CreateCertificate][net_create_cert] method (Batch .NET) tooadd a certificate tooa Batch account.</span></span> <span data-ttu-id="9de09-655">È quindi possibile associare il certificato di hello con un pool di nuovo o esistente.</span><span class="sxs-lookup"><span data-stu-id="9de09-655">You can then associate hello certificate with a new or existing pool.</span></span> <span data-ttu-id="9de09-656">Quando un certificato è associato a un pool, hello servizio Batch Installa certificato hello su ogni nodo nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-656">When a certificate is associated with a pool, hello Batch service installs hello certificate on each node in hello pool.</span></span> <span data-ttu-id="9de09-657">Hello servizio Batch installa certificati appropriati hello all'avvio nodo hello, prima di avviare le attività (attività di avvio hello e attività del gestore processi inclusi).</span><span class="sxs-lookup"><span data-stu-id="9de09-657">hello Batch service installs hello appropriate certificates when hello node starts up, before launching any tasks (including hello start task and job manager task).</span></span>

<span data-ttu-id="9de09-658">Se si aggiungono i certificati tooan *esistente* pool, è necessario riavviare i nodi di calcolo per hello certificati nodi toohello toobe applicato.</span><span class="sxs-lookup"><span data-stu-id="9de09-658">If you add certificates tooan *existing* pool, you must reboot its compute nodes for hello certificates toobe applied toohello nodes.</span></span>

## <a name="error-handling"></a><span data-ttu-id="9de09-659">Gestione degli errori</span><span class="sxs-lookup"><span data-stu-id="9de09-659">Error handling</span></span>
<span data-ttu-id="9de09-660">Potrebbe essere necessario toohandle errori di attività sia le applicazioni all'interno della soluzione di Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-660">You might find it necessary toohandle both task and application failures within your Batch solution.</span></span>

### <a name="task-failure-handling"></a><span data-ttu-id="9de09-661">Gestione degli errori delle attività</span><span class="sxs-lookup"><span data-stu-id="9de09-661">Task failure handling</span></span>
<span data-ttu-id="9de09-662">Gli errori delle attività rientrano nelle categorie seguenti:</span><span class="sxs-lookup"><span data-stu-id="9de09-662">Task failures fall into these categories:</span></span>

* <span data-ttu-id="9de09-663">**Errori di pre-elaborazione**</span><span class="sxs-lookup"><span data-stu-id="9de09-663">**Pre-processing failures**</span></span>

    <span data-ttu-id="9de09-664">Se un'attività non riesce toostart, un errore di pre-elaborazione è impostato per attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-664">If a task fails toostart, a pre-processing error is set for hello task.</span></span>  

    <span data-ttu-id="9de09-665">Errori di pre-elaborazione può verificarsi se sono stati spostati i file di risorse dell'attività hello, hello account di archiviazione non è più disponibile o si è verificato un altro problema che ha impedito hello corretta copia dei file toohello nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-665">Pre-processing errors can occur if hello task's resource files have moved, hello Storage account is no longer available, or another issue was encountered that prevented hello successful copying of files toohello node.</span></span>

* <span data-ttu-id="9de09-666">**Errori di caricamento file**</span><span class="sxs-lookup"><span data-stu-id="9de09-666">**File upload failures**</span></span>

    <span data-ttu-id="9de09-667">Se il caricamento di file specificati per un'attività non riesce per qualsiasi motivo, un errore di caricamento del file è impostato per attività hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-667">If uploading files that are specified for a task fails for any reason, a file upload error is set for hello task.</span></span>

    <span data-ttu-id="9de09-668">Caricamento possono verificarsi errori se hello SAS forniti per l'accesso all'archiviazione di Azure non è valido o non fornisce autorizzazioni di scrittura, se l'account di archiviazione hello non è più disponibile o se un altro problema è stato rilevato che ha impedito hello corretta copia dei file da file nodo Hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-668">File upload errors can occur if hello SAS supplied for accessing Azure Storage is invalid or does not provide write permissions, if hello storage account is no longer available, or if another issue was encountered that prevented hello successful copying of files from hello node.</span></span>    

* <span data-ttu-id="9de09-669">**Errori delle applicazioni**</span><span class="sxs-lookup"><span data-stu-id="9de09-669">**Application failures**</span></span>

    <span data-ttu-id="9de09-670">processo di Hello specificato dalla riga di comando dell'attività hello può non riuscire.</span><span class="sxs-lookup"><span data-stu-id="9de09-670">hello process that is specified by hello task's command line can also fail.</span></span> <span data-ttu-id="9de09-671">Hello processo viene considerato non riuscito quando viene restituito un codice di uscita diverso da zero dal processo hello che viene eseguita dall'attività hello toohave (vedere *codici di uscita attività* nella sezione successiva hello).</span><span class="sxs-lookup"><span data-stu-id="9de09-671">hello process is deemed toohave failed when a nonzero exit code is returned by hello process that is executed by hello task (see *Task exit codes* in hello next section).</span></span>

    <span data-ttu-id="9de09-672">Per errori dell'applicazione, è possibile configurare Batch attività hello di ripetizione tooautomatically backup tooa numero specificato di volte.</span><span class="sxs-lookup"><span data-stu-id="9de09-672">For application failures, you can configure Batch tooautomatically retry hello task up tooa specified number of times.</span></span>

* <span data-ttu-id="9de09-673">**Errori relativi ai vincoli**</span><span class="sxs-lookup"><span data-stu-id="9de09-673">**Constraint failures**</span></span>

    <span data-ttu-id="9de09-674">È possibile impostare un vincolo che specifica la durata di esecuzione massimo hello per un processo o un'attività, hello *maxWallClockTime*.</span><span class="sxs-lookup"><span data-stu-id="9de09-674">You can set a constraint that specifies hello maximum execution duration for a job or task, hello *maxWallClockTime*.</span></span> <span data-ttu-id="9de09-675">Questo può essere utile per terminare l'attività che non soddisfano tooprogress.</span><span class="sxs-lookup"><span data-stu-id="9de09-675">This can be useful for terminating tasks that fail tooprogress.</span></span>

    <span data-ttu-id="9de09-676">Quando viene superata hello periodo di tempo massimo, l'attività hello è contrassegnato come *completato*, ma il codice di uscita hello è impostato troppo`0xC000013A` hello e *schedulingError* campo viene contrassegnato come `{ category:"ServerError", code="TaskEnded"}`.</span><span class="sxs-lookup"><span data-stu-id="9de09-676">When hello maximum amount of time has been exceeded, hello task is marked as *completed*, but hello exit code is set too`0xC000013A` and hello *schedulingError* field is marked as `{ category:"ServerError", code="TaskEnded"}`.</span></span>

### <a name="debugging-application-failures"></a><span data-ttu-id="9de09-677">Debug degli errori delle applicazioni</span><span class="sxs-lookup"><span data-stu-id="9de09-677">Debugging application failures</span></span>
* <span data-ttu-id="9de09-678">`stderr` e `stdout`</span><span class="sxs-lookup"><span data-stu-id="9de09-678">`stderr` and `stdout`</span></span>

    <span data-ttu-id="9de09-679">Durante l'esecuzione, un'applicazione potrebbe produrre l'output di diagnostica che è possibile utilizzare tootroubleshoot problemi.</span><span class="sxs-lookup"><span data-stu-id="9de09-679">During execution, an application might produce diagnostic output that you can use tootroubleshoot issues.</span></span> <span data-ttu-id="9de09-680">Come accennato in hello precedente sezione [file e directory](#files-and-directories), hello servizio Batch scrive l'output standard e l'errore standard di output troppo`stdout.txt` e `stderr.txt` file nella directory attività hello in hello nodo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="9de09-680">As mentioned in hello earlier section [Files and directories](#files-and-directories), hello Batch service writes standard output and standard error output too`stdout.txt` and `stderr.txt` files in hello task directory on hello compute node.</span></span> <span data-ttu-id="9de09-681">È possibile utilizzare hello portale di Azure o uno dei toodownload Batch SDK hello questi file.</span><span class="sxs-lookup"><span data-stu-id="9de09-681">You can use hello Azure portal or one of hello Batch SDKs toodownload these files.</span></span> <span data-ttu-id="9de09-682">Ad esempio, è possibile recuperare questi e altri file per la risoluzione dei problemi tramite [ComputeNode.GetNodeFile] [ net_getfile_node] e [CloudTask.GetNodeFile] [ net_getfile_task] nella libreria .NET di Batch hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-682">For example, you can retrieve these and other files for troubleshooting purposes by using [ComputeNode.GetNodeFile][net_getfile_node] and [CloudTask.GetNodeFile][net_getfile_task] in hello Batch .NET library.</span></span>

* <span data-ttu-id="9de09-683">**Codici di uscita delle attività**</span><span class="sxs-lookup"><span data-stu-id="9de09-683">**Task exit codes**</span></span>

    <span data-ttu-id="9de09-684">Come accennato in precedenza, un'attività è contrassegnata come non superato dal servizio Batch hello se processo hello che viene eseguita dall'attività hello restituisce un codice di uscita diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="9de09-684">As mentioned earlier, a task is marked as failed by hello Batch service if hello process that is executed by hello task returns a nonzero exit code.</span></span> <span data-ttu-id="9de09-685">Quando un'attività esegue un processo, Batch popola proprietà codice di uscita dell'attività hello con hello *codice del processo di hello restituito*.</span><span class="sxs-lookup"><span data-stu-id="9de09-685">When a task executes a process, Batch populates hello task's exit code property with hello *return code of hello process*.</span></span> <span data-ttu-id="9de09-686">È importante toonote che il codice di uscita dell'attività è **non** determinato dal servizio Batch hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-686">It is important toonote that a task's exit code is **not** determined by hello Batch service.</span></span> <span data-ttu-id="9de09-687">Codice di uscita dell'attività è determinato dal processo di hello o sistema operativo hello quale processo hello eseguito.</span><span class="sxs-lookup"><span data-stu-id="9de09-687">A task's exit code is determined by hello process itself or hello operating system on which hello process executed.</span></span>

### <a name="accounting-for-task-failures-or-interruptions"></a><span data-ttu-id="9de09-688">Considerazioni sugli errori o sulle interruzioni delle attività</span><span class="sxs-lookup"><span data-stu-id="9de09-688">Accounting for task failures or interruptions</span></span>
<span data-ttu-id="9de09-689">In alcuni casi, le attività non riescono o vengono interrotte.</span><span class="sxs-lookup"><span data-stu-id="9de09-689">Tasks might occasionally fail or be interrupted.</span></span> <span data-ttu-id="9de09-690">Hello applicazione attività stessa potrebbe avere esito negativo, potrebbe essere riavviato nodo hello in cui hello attività è in esecuzione o nodo hello potrebbe essere rimossa dal pool hello durante un'operazione di ridimensionamento se i criteri di deallocazione del pool hello sono set di nodi tooremove immediatamente senza attendere attività toofinish.</span><span class="sxs-lookup"><span data-stu-id="9de09-690">hello task application itself might fail, hello node on which hello task is running might be rebooted, or hello node might be removed from hello pool during a resize operation if hello pool's deallocation policy is set tooremove nodes immediately without waiting for tasks toofinish.</span></span> <span data-ttu-id="9de09-691">In tutti i casi, attività hello possono essere automaticamente riaccodata dal Batch per l'esecuzione in un altro nodo.</span><span class="sxs-lookup"><span data-stu-id="9de09-691">In all cases, hello task can be automatically requeued by Batch for execution on another node.</span></span>

<span data-ttu-id="9de09-692">È inoltre possibile per un toocause problema saltuario toohang un'attività o richiedere tooexecute troppo lungo.</span><span class="sxs-lookup"><span data-stu-id="9de09-692">It is also possible for an intermittent issue toocause a task toohang or take too long tooexecute.</span></span> <span data-ttu-id="9de09-693">È possibile impostare l'intervallo di esecuzione massimo hello per un'attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-693">You can set hello maximum execution interval for a task.</span></span> <span data-ttu-id="9de09-694">Se viene superato l'intervallo di esecuzione massimo hello, hello servizio Batch consente di interrompere un'applicazione hello attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-694">If hello maximum execution interval is exceeded, hello Batch service interrupts hello task application.</span></span>

### <a name="connecting-toocompute-nodes"></a><span data-ttu-id="9de09-695">Connessione di nodi toocompute</span><span class="sxs-lookup"><span data-stu-id="9de09-695">Connecting toocompute nodes</span></span>
<span data-ttu-id="9de09-696">È possibile eseguire il debug e risoluzione dei problemi mediante l'accesso in remoto nel nodo di calcolo tooa aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="9de09-696">You can perform additional debugging and troubleshooting by signing in tooa compute node remotely.</span></span> <span data-ttu-id="9de09-697">È possibile utilizzare hello toodownload portale Azure un file Remote Desktop Protocol (RDP) per i nodi di Windows e ottenere informazioni di connessione Secure Shell (SSH) per i nodi di Linux.</span><span class="sxs-lookup"><span data-stu-id="9de09-697">You can use hello Azure portal toodownload a Remote Desktop Protocol (RDP) file for Windows nodes and obtain Secure Shell (SSH) connection information for Linux nodes.</span></span> <span data-ttu-id="9de09-698">È anche possibile farlo usando hello API Batch, ad esempio, con [.NET per Batch] [ net_rdpfile] o [Python Batch](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span><span class="sxs-lookup"><span data-stu-id="9de09-698">You can also do this by using hello Batch APIs--for example, with [Batch .NET][net_rdpfile] or [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9de09-699">nodo di tooa tooconnect tramite RDP o SSH, è necessario creare innanzitutto un utente nel nodo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-699">tooconnect tooa node via RDP or SSH, you must first create a user on hello node.</span></span> <span data-ttu-id="9de09-700">toodo, è possibile utilizzare il portale di Azure, hello [aggiungere un nodo tooa di account utente] [ rest_create_user] tramite hello API REST di Batch, chiamare hello [ComputeNode.CreateComputeNodeUser] [ net_create_user] metodo in .NET per Batch o chiamata hello [add_user] [ py_add_user] metodo hello Batch Python modulo.</span><span class="sxs-lookup"><span data-stu-id="9de09-700">toodo this, you can use hello Azure portal, [add a user account tooa node][rest_create_user] by using hello Batch REST API, call hello [ComputeNode.CreateComputeNodeUser][net_create_user] method in Batch .NET, or call hello [add_user][py_add_user] method in hello Batch Python module.</span></span>
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a><span data-ttu-id="9de09-701">Risoluzione dei problemi dei nodi di calcolo</span><span class="sxs-lookup"><span data-stu-id="9de09-701">Troubleshooting problematic compute nodes</span></span>
<span data-ttu-id="9de09-702">In situazioni in cui alcune attività non vengono superati, hello metadati di hello non è stato possibile attività tooidentify un comportamento errato di un nodo possono essere esaminati l'applicazione client di Batch o il servizio.</span><span class="sxs-lookup"><span data-stu-id="9de09-702">In situations where some of your tasks are failing, your Batch client application or service can examine hello metadata of hello failed tasks tooidentify a misbehaving node.</span></span> <span data-ttu-id="9de09-703">Ogni nodo in un pool viene assegnato un ID univoco e nodo hello in cui viene eseguita un'attività viene incluso nel hello metadati dell'attività.</span><span class="sxs-lookup"><span data-stu-id="9de09-703">Each node in a pool is given a unique ID, and hello node on which a task runs is included in hello task metadata.</span></span> <span data-ttu-id="9de09-704">Dopo avere identificato un "nodo problematico", è possibile intervenire in diversi modi:</span><span class="sxs-lookup"><span data-stu-id="9de09-704">After you've identified a problem node, you can take several actions with it:</span></span>

* <span data-ttu-id="9de09-705">**Riavviare il nodo hello** ([REST][rest_reboot] | [.NET][net_reboot])</span><span class="sxs-lookup"><span data-stu-id="9de09-705">**Reboot hello node** ([REST][rest_reboot] | [.NET][net_reboot])</span></span>

    <span data-ttu-id="9de09-706">Nodo hello riavviare può talvolta scompaiono latenti problemi come i processi bloccati o bloccati.</span><span class="sxs-lookup"><span data-stu-id="9de09-706">Restarting hello node can sometimes clear up latent issues like stuck or crashed processes.</span></span> <span data-ttu-id="9de09-707">Si noti che se il pool utilizza un'attività di avvio o il processo utilizza un'attività di preparazione del processo, vengono eseguiti quando il nodo hello viene riavviato.</span><span class="sxs-lookup"><span data-stu-id="9de09-707">Note that if your pool uses a start task or your job uses a job preparation task, they are executed when hello node restarts.</span></span>
* <span data-ttu-id="9de09-708">**Ricreare l'immagine di nodo hello** ([REST][rest_reimage] | [.NET][net_reimage])</span><span class="sxs-lookup"><span data-stu-id="9de09-708">**Reimage hello node** ([REST][rest_reimage] | [.NET][net_reimage])</span></span>

    <span data-ttu-id="9de09-709">Consente di reinstallare hello del sistema operativo nel nodo hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-709">This reinstalls hello operating system on hello node.</span></span> <span data-ttu-id="9de09-710">Come per il riavvio di un nodo, avviare le attività e attività di preparazione processo vengono eseguiti nuovamente nodo hello è stata ricreata l'immagine.</span><span class="sxs-lookup"><span data-stu-id="9de09-710">As with rebooting a node, start tasks and job preparation tasks are rerun after hello node has been reimaged.</span></span>
* <span data-ttu-id="9de09-711">**Rimuovere il nodo hello dal pool di hello** ([REST][rest_remove] | [.NET][net_remove])</span><span class="sxs-lookup"><span data-stu-id="9de09-711">**Remove hello node from hello pool** ([REST][rest_remove] | [.NET][net_remove])</span></span>

    <span data-ttu-id="9de09-712">Talvolta è necessario toocompletely Rimuovi nodo di hello dal pool hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-712">Sometimes it is necessary toocompletely remove hello node from hello pool.</span></span>
* <span data-ttu-id="9de09-713">**Disabilitare la pianificazione delle attività nel nodo hello** ([REST][rest_offline] | [.NET][net_offline])</span><span class="sxs-lookup"><span data-stu-id="9de09-713">**Disable task scheduling on hello node** ([REST][rest_offline] | [.NET][net_offline])</span></span>

    <span data-ttu-id="9de09-714">In modo efficace verrà nodo hello offline in modo che nessuna ulteriore attività vengono assegnati tooit, ma consente l'esecuzione di tooremain nodo hello e nel pool di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-714">This effectively takes hello node offline so that no further tasks are assigned tooit, but allows hello node tooremain running and in hello pool.</span></span> <span data-ttu-id="9de09-715">In questo modo si tooperform ulteriore analisi hello causa di errori di hello senza perdita di dati dell'attività non riuscita hello e senza nodo hello causando errori di attività aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="9de09-715">This enables you tooperform further investigation into hello cause of hello failures without losing hello failed task's data, and without hello node causing additional task failures.</span></span> <span data-ttu-id="9de09-716">Ad esempio, è possibile disabilitare pianificazione delle attività nel nodo hello, quindi [accesso remoto](#connecting-to-compute-nodes) tooexamine hello i registri eventi del nodo o eseguire altre risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="9de09-716">For example, you can disable task scheduling on hello node, then [sign in remotely](#connecting-to-compute-nodes) tooexamine hello node's event logs or perform other troubleshooting.</span></span> <span data-ttu-id="9de09-717">Dopo aver completato l'analisi, è possibile aprire nuovamente online nodo hello abilitando la pianificazione delle attività ([REST][rest_online] | [.NET] [ net_online]), o eseguire una delle hello altre azioni descritte in precedenza.</span><span class="sxs-lookup"><span data-stu-id="9de09-717">After you've finished your investigation, you can then bring hello node back online by enabling task scheduling ([REST][rest_online] | [.NET][net_online]), or perform one of hello other actions discussed earlier.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9de09-718">Con ogni azione di cui è descritto in questa sezione, il riavvio, ricreazione dell'immagine, remove e pianificazione delle attività di disattivazione: si è in grado di toospecify come attività attualmente in esecuzione nel nodo hello vengono gestite quando si esegue l'azione di hello.</span><span class="sxs-lookup"><span data-stu-id="9de09-718">With each action that is described in this section--reboot, reimage, remove, and disable task scheduling--you are able toospecify how tasks currently running on hello node are handled when you perform hello action.</span></span> <span data-ttu-id="9de09-719">Ad esempio, quando si disabilita pianificazione delle attività in un nodo utilizzando libreria client .NET di Batch di hello, è possibile specificare un [DisableComputeNodeSchedulingOption] [ net_offline_option] toospecify valore di enumerazione se troppo**Terminate** esecuzione delle attività, **riaccodare** per la programmazione in altri nodi, o consentire toocomplete attività in esecuzione prima di eseguire l'azione di hello (**TaskCompletion**).</span><span class="sxs-lookup"><span data-stu-id="9de09-719">For example, when you disable task scheduling on a node by using hello Batch .NET client library, you can specify a [DisableComputeNodeSchedulingOption][net_offline_option] enum value toospecify whether too**Terminate** running tasks, **Requeue** them for scheduling on other nodes, or allow running tasks toocomplete before performing hello action (**TaskCompletion**).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="9de09-720">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="9de09-720">Next steps</span></span>
* <span data-ttu-id="9de09-721">Informazioni su hello [Batch API e strumenti](batch-apis-tools.md) disponibili per la creazione di soluzioni di Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-721">Learn about hello [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="9de09-722">Scorrere un'applicazione di Batch di esempio illustrata dettagliatamente [introduzione hello libreria di Azure Batch per .NET](batch-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-722">Walk through a sample Batch application step-by-step in [Get started with hello Azure Batch Library for .NET](batch-dotnet-get-started.md).</span></span> <span data-ttu-id="9de09-723">È inoltre disponibile un [versione di Python](batch-python-tutorial.md) nodi di calcolo di esercitazione hello che esegue un carico di lavoro in Linux.</span><span class="sxs-lookup"><span data-stu-id="9de09-723">There is also a [Python version](batch-python-tutorial.md) of hello tutorial that runs a workload on Linux compute nodes.</span></span>
* <span data-ttu-id="9de09-724">Scaricare e compilare hello [Explorer Batch] [ github_batchexplorer] progetto di esempio per l'utilizzo durante lo sviluppo di soluzioni di Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-724">Download and build hello [Batch Explorer][github_batchexplorer] sample project for use while you develop your Batch solutions.</span></span> <span data-ttu-id="9de09-725">Usando Esplora Batch hello, è possibile eseguire seguente hello e altro ancora:</span><span class="sxs-lookup"><span data-stu-id="9de09-725">Using hello Batch Explorer, you can perform hello following and more:</span></span>

  * <span data-ttu-id="9de09-726">Monitorare e gestire pool, processi e attività nell'account Batch</span><span class="sxs-lookup"><span data-stu-id="9de09-726">Monitor and manipulate pools, jobs, and tasks within your Batch account</span></span>
  * <span data-ttu-id="9de09-727">Scaricare `stdout.txt`, `stderr.txt` e altri file dai nodi</span><span class="sxs-lookup"><span data-stu-id="9de09-727">Download `stdout.txt`, `stderr.txt`, and other files from nodes</span></span>
  * <span data-ttu-id="9de09-728">Creare utenti nei nodi e scaricare i file RDP per l'accesso remoto</span><span class="sxs-lookup"><span data-stu-id="9de09-728">Create users on nodes and download RDP files for remote login</span></span>
* <span data-ttu-id="9de09-729">Informazioni su come troppo[creare pool di nodi di calcolo Linux](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="9de09-729">Learn how too[create pools of Linux compute nodes](batch-linux-nodes.md).</span></span>
* <span data-ttu-id="9de09-730">Visitare hello [forum di Azure Batch] [ batch_forum] su MSDN.</span><span class="sxs-lookup"><span data-stu-id="9de09-730">Visit hello [Azure Batch forum][batch_forum] on MSDN.</span></span> <span data-ttu-id="9de09-731">forum di Hello è una buona inserire domande tooask, se si sta apprendendo o esperti di utilizzo di Batch.</span><span class="sxs-lookup"><span data-stu-id="9de09-731">hello forum is a good place tooask questions, whether you are just learning or are an expert in using Batch.</span></span>

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
