---
title: Account utente di Active Directory di Azure aaaCreate | Documenti Microsoft
description: In questo articolo viene descritto come credenziali di toocreate un account utente di Azure Active Directory per i runbook in automazione di Azure tooauthenticate in Azure e Azure classico.
services: automation
documentationcenter: 
author: MGoedtel
manager: jwhit
editor: tysonn
keywords: utente di Azure Active Directory, Azure Service Management, account utente Azure AD
ms.assetid: fcfe266d-b22e-4dfb-8272-adcab09fc0cf
ms.service: automation
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/13/2017
ms.author: magoedte
ms.openlocfilehash: 7c6ed4182dbab074d0bc5da7057f74ad321d8884
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="authenticate-runbooks-with-azure-classic-deployment-and-resource-manager"></a><span data-ttu-id="477d2-104">Autenticare i runbook con la distribuzione classica di Azure e Resource Manager</span><span class="sxs-lookup"><span data-stu-id="477d2-104">Authenticate Runbooks with Azure classic deployment and Resource Manager</span></span>
<span data-ttu-id="477d2-105">Questo articolo descrive i passaggi di hello che è necessario eseguire tooconfigure un account utente di Azure Active Directory per i runbook di automazione di Azure in esecuzione in base al modello di distribuzione classico di Azure o le risorse di gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="477d2-105">This article describes hello steps you must perform tooconfigure an Azure AD User account for Azure Automation runbooks running against Azure classic deployment model or Azure Resource Manager resources.</span></span>  <span data-ttu-id="477d2-106">Durante il processo continua toobe un'identità di autenticazione supportati per la gestione risorse di Azure basato su runbook, hello consigliabile metodo viene utilizzato un account RunAs di Azure.</span><span class="sxs-lookup"><span data-stu-id="477d2-106">While this continues toobe a supported authentication identity for your Azure Resource Manager based runbooks, hello recommended method is using an Azure Run As account.</span></span>       

## <a name="create-a-new-azure-active-directory-user"></a><span data-ttu-id="477d2-107">Creare un nuovo utente di Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="477d2-107">Create a new Azure Active Directory user</span></span>
1. <span data-ttu-id="477d2-108">Accedere come amministratore del servizio per la sottoscrizione di Azure da toomanage hello toohello portale di Azure classico.</span><span class="sxs-lookup"><span data-stu-id="477d2-108">Log in toohello Azure Classic portal as a service administrator for hello Azure subscription you want toomanage.</span></span>
2. <span data-ttu-id="477d2-109">Selezionare **Active Directory**, quindi selezionare il nome di hello della directory dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="477d2-109">Select **Active Directory**, and then select hello name of your organization directory.</span></span>
3. <span data-ttu-id="477d2-110">Seleziona hello **utenti** scheda e quindi, nell'area di comando hello, selezionare **Aggiungi utente**.</span><span class="sxs-lookup"><span data-stu-id="477d2-110">Select hello **Users** tab, and then, in hello command area, select **Add User**.</span></span>
4. <span data-ttu-id="477d2-111">In hello **informazioni sull'utente** pagina **tipo di utente**selezionare **nuovo utente nell'organizzazione**.</span><span class="sxs-lookup"><span data-stu-id="477d2-111">On hello **Tell us about this user** page, under **Type of user**, select **New user in your organization**.</span></span>
5. <span data-ttu-id="477d2-112">Immettere un nome utente.</span><span class="sxs-lookup"><span data-stu-id="477d2-112">Enter a user name.</span></span>  
6. <span data-ttu-id="477d2-113">Selezionare nome di directory hello è associato alla sottoscrizione Azure nella pagina di hello Active Directory.</span><span class="sxs-lookup"><span data-stu-id="477d2-113">Select hello directory name that is associated with your Azure subscription on hello Active Directory page.</span></span>
7. <span data-ttu-id="477d2-114">In hello **profilo utente** pagina, fornire un primo e ultimo nome, un nome descrittivo e utente da hello **ruoli** elenco.</span><span class="sxs-lookup"><span data-stu-id="477d2-114">On hello **user profile** page, provide a first and last name, a user-friendly name, and User from hello **Roles** list.</span></span>  <span data-ttu-id="477d2-115">Non selezionare **Abilita Multi-Factor Authentication**.</span><span class="sxs-lookup"><span data-stu-id="477d2-115">Do not **Enable Multi-Factor Authentication**.</span></span>
8. <span data-ttu-id="477d2-116">Si noti il nome completo dell'utente hello e la password temporanea.</span><span class="sxs-lookup"><span data-stu-id="477d2-116">Note hello user’s full name and temporary password.</span></span>
9. <span data-ttu-id="477d2-117">Selezionare **Impostazioni -> Amministratori > Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="477d2-117">Select **Settings > Administrators > Add**.</span></span>
10. <span data-ttu-id="477d2-118">Digitare il nome utente completo hello dell'utente hello creato.</span><span class="sxs-lookup"><span data-stu-id="477d2-118">Type hello full user name of hello user that you created.</span></span>
11. <span data-ttu-id="477d2-119">Selezionare hello sottoscrizione che si desidera hello toomanage utente.</span><span class="sxs-lookup"><span data-stu-id="477d2-119">Select hello subscription that you want hello user toomanage.</span></span>
12. <span data-ttu-id="477d2-120">Disconnettersi da Azure e ripetere l'accesso con account hello che appena creato.</span><span class="sxs-lookup"><span data-stu-id="477d2-120">Log out of Azure and then log back in with hello account you just created.</span></span> <span data-ttu-id="477d2-121">Sarà richiesto toochange hello password utente.</span><span class="sxs-lookup"><span data-stu-id="477d2-121">You will be prompted toochange hello user’s password.</span></span>

## <a name="create-an-automation-account-in-azure-classic-portal"></a><span data-ttu-id="477d2-122">Creare un account di Automazione nel portale di Azure classico</span><span class="sxs-lookup"><span data-stu-id="477d2-122">Create an Automation account in Azure Classic portal</span></span>
<span data-ttu-id="477d2-123">In questa sezione per eseguire hello seguenti passaggi toocreate un account di automazione di Azure nel portale di Azure per l'utilizzo di hello. i runbook di gestione delle risorse Azure distribuzione classica.</span><span class="sxs-lookup"><span data-stu-id="477d2-123">In this section, you perform hello following steps toocreate an Azure Automation account in hello Azure portal for use with your runbooks managing resources in Azure classic deployment.</span></span>  

> [!NOTE]
> <span data-ttu-id="477d2-124">Account di automazione creati con il portale di Azure classico hello possono essere gestiti sia hello Azure classico e portale di Azure e una serie di cmdlet.</span><span class="sxs-lookup"><span data-stu-id="477d2-124">Automation accounts created with hello Azure Classic portal can be managed by both hello Azure Classic and Azure portal and either set of cmdlets.</span></span> <span data-ttu-id="477d2-125">Una volta creato l'account di hello, influisce in alcun modo come creare e gestire le risorse nell'account hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-125">Once hello account is created, it makes no difference how you create and manage resources within hello account.</span></span> <span data-ttu-id="477d2-126">Se si intende toocontinue toouse hello Azure portale classico, si consiglia di utilizzare in sostituzione di hello toocreate portale Azure qualsiasi account di automazione.</span><span class="sxs-lookup"><span data-stu-id="477d2-126">If you are planning toocontinue toouse hello Azure Classic portal, then you should use it instead of hello Azure portal toocreate any Automation accounts.</span></span>
> 
> 

1. <span data-ttu-id="477d2-127">Accedere come amministratore del servizio per la sottoscrizione di Azure da toomanage hello toohello portale di Azure classico.</span><span class="sxs-lookup"><span data-stu-id="477d2-127">Log in toohello Azure Classic portal as a service administrator for hello Azure subscription you want toomanage.</span></span>
2. <span data-ttu-id="477d2-128">Selezionare **Automazione**.</span><span class="sxs-lookup"><span data-stu-id="477d2-128">Select **Automation**.</span></span>
3. <span data-ttu-id="477d2-129">In hello **automazione** selezionare **creare un Account di automazione**.</span><span class="sxs-lookup"><span data-stu-id="477d2-129">On hello **Automation** page, select **Create an Automation Account**.</span></span>
4. <span data-ttu-id="477d2-130">In hello **creare un Account di automazione** digitare un nome per il nuovo account di automazione, selezionare un **area** dall'elenco a discesa hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-130">In hello **Create an Automation Account** box, type in a name for your new Automation account and select a **Region** from hello drop-down list.</span></span>  
5. <span data-ttu-id="477d2-131">Fare clic su **OK** tooaccept le impostazioni e creare account hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-131">Click **OK** tooaccept your settings and create hello account.</span></span>
6. <span data-ttu-id="477d2-132">Dopo averlo creato verrà elencato in hello **automazione** pagina.</span><span class="sxs-lookup"><span data-stu-id="477d2-132">After it is created it will be listed on hello **Automation** page.</span></span>
7. <span data-ttu-id="477d2-133">Fare clic su account hello e apporterà si toohello pagina Dashboard.</span><span class="sxs-lookup"><span data-stu-id="477d2-133">Click on hello account and it will bring you toohello Dashboard page.</span></span>  
8. <span data-ttu-id="477d2-134">Nella pagina Dashboard di automazione hello selezionare **asset**.</span><span class="sxs-lookup"><span data-stu-id="477d2-134">On hello Automation Dashboard page, select **Assets**.</span></span>
9. <span data-ttu-id="477d2-135">In hello **asset** selezionare **Aggiungi impostazioni** si trova nella parte inferiore di hello della pagina hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-135">On hello **Assets** page, select **Add Settings** located at hello bottom of hello page.</span></span>
10. <span data-ttu-id="477d2-136">In hello **Aggiungi impostazioni** selezionare **Add Credential**.</span><span class="sxs-lookup"><span data-stu-id="477d2-136">On hello **Add Settings** page, select **Add Credential**.</span></span>
11. <span data-ttu-id="477d2-137">In hello **definire credenziali** selezionare **credenziali di Windows PowerShell** da hello **tipo di credenziale** elenco a discesa elenco e specificare un nome per la credenziale hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-137">On hello **Define Credential** page, select **Windows PowerShell Credential** from hello **Credential Type** drop-down list and provide a name for hello credential.</span></span>
12. <span data-ttu-id="477d2-138">In seguito hello **definire credenziali** pagina digitare nome utente hello dell'account utente di hello Active Directory creato in precedenza in hello **nome utente** password campo e hello in hello **Password**e **Conferma Password** campi.</span><span class="sxs-lookup"><span data-stu-id="477d2-138">On hello following **Define Credential** page type in hello username of hello AD user account created earlier in hello **User Name** field and hello password in hello **Password** and **Confirm Password** fields.</span></span> <span data-ttu-id="477d2-139">Fare clic su **OK** toosave le modifiche.</span><span class="sxs-lookup"><span data-stu-id="477d2-139">Click **OK** toosave your changes.</span></span>

## <a name="create-an-automation-account-in-hello-azure-portal"></a><span data-ttu-id="477d2-140">Creare un account di automazione in hello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="477d2-140">Create an Automation account in hello Azure portal</span></span>
<span data-ttu-id="477d2-141">In questa sezione, eseguire hello seguenti passaggi toocreate un account di automazione di Azure nel portale di Azure per l'utilizzo di hello. i runbook la gestione delle risorse in modalità Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="477d2-141">In this section, perform hello following steps toocreate an Azure Automation account in hello Azure portal for use with your runbooks managing resources in Azure Resource Manager mode.</span></span>  

1. <span data-ttu-id="477d2-142">Accedi toohello portale di Azure come amministratore del servizio per la sottoscrizione di Azure da toomanage hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-142">Log in toohello Azure portal as a service administrator for hello Azure subscription you want toomanage.</span></span>
2. <span data-ttu-id="477d2-143">Selezionare **Account di automazione**.</span><span class="sxs-lookup"><span data-stu-id="477d2-143">Select **Automation Accounts**.</span></span>
3. <span data-ttu-id="477d2-144">Nel Pannello di account di automazione hello, fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="477d2-144">In hello Automation Accounts blade, click **Add**.</span></span><br><br><span data-ttu-id="477d2-145">![Aggiungi account di Automazione](media/automation-create-aduser-account/add-automation-acct-properties.png)</span><span class="sxs-lookup"><span data-stu-id="477d2-145">![Add Automation Account](media/automation-create-aduser-account/add-automation-acct-properties.png)</span></span>
4. <span data-ttu-id="477d2-146">In hello **aggiungere Account di automazione** pannello in hello **nome** casella digitare un nome per il nuovo account di automazione.</span><span class="sxs-lookup"><span data-stu-id="477d2-146">In hello **Add Automation Account** blade, in hello **Name** box type in a name for your new Automation account.</span></span>
5. <span data-ttu-id="477d2-147">Se si dispone di più di una sottoscrizione, specificare hello per il nuovo account di hello, nonché un nuovo o esistente **gruppo di risorse** e un Data Center Azure **percorso**.</span><span class="sxs-lookup"><span data-stu-id="477d2-147">If you have more than one subscription, specify hello one for hello new account, as well as a new or existing **Resource group** and an Azure datacenter **Location**.</span></span>
6. <span data-ttu-id="477d2-148">Selezionare il valore di hello **Sì** per hello **creare account RunAs** opzione e fare clic su hello **crea** pulsante.</span><span class="sxs-lookup"><span data-stu-id="477d2-148">Select hello value **Yes** for hello **Create Azure Run As account** option, and click hello **Create** button.</span></span>  
   
    > [!NOTE]
    > <span data-ttu-id="477d2-149">Se si sceglie toonot creare account RunAs hello selezionando l'opzione hello **n**, verrà visualizzato un messaggio di avviso in hello **aggiungere Account di automazione** blade.</span><span class="sxs-lookup"><span data-stu-id="477d2-149">If you choose toonot create hello Run As account by selecting hello option **No**, you will be presented with a warning message in hello **Add Automation Account** blade.</span></span>  <span data-ttu-id="477d2-150">Mentre l'account di hello viene creato e assegnato toohello **collaboratore** ruolo nella sottoscrizione di hello, non disporrà di un'identità di autenticazione corrispondente all'interno del servizio directory di sottoscrizioni e di conseguenza, nessun accesso risorse nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="477d2-150">While hello account is created and assigned toohello **Contributor** role in hello subscription, it will not have a corresponding authentication identity within your subscriptions directory service and therefore, no access resources in your subscription.</span></span>  <span data-ttu-id="477d2-151">Questo impedirà tutti i runbook che fanno riferimento a questo account saranno in grado di tooauthenticate e operazioni sulle risorse di gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="477d2-151">This will prevent any runbooks referencing this account from being able tooauthenticate and perform tasks against Azure Resource Manager resources.</span></span>
    > 
    >

    <br>![Aggiungi account di Automazione, avviso](media/automation-create-aduser-account/add-automation-acct-properties-error.png)<br>  
7. <span data-ttu-id="477d2-153">Mentre Azure crea account di automazione hello, è possibile monitorare lo stato di avanzamento hello in **notifiche** dal menu di hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-153">While Azure creates hello Automation account, you can track hello progress under **Notifications** from hello menu.</span></span>

<span data-ttu-id="477d2-154">Quando viene completata la creazione di hello delle credenziali hello, è necessario toocreate hello di tooassociate un Asset delle credenziali Account di automazione con hello account utente di Active Directory creato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="477d2-154">When hello creation of hello credential is completed, you need toocreate a Credential Asset tooassociate hello Automation Account with hello AD User account created earlier.</span></span>  <span data-ttu-id="477d2-155">Tenere presente, viene creato solo account di automazione hello e non è associata a un'identità di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="477d2-155">Remember, we only created hello Automation account and it is not associated with an authentication identity.</span></span>  <span data-ttu-id="477d2-156">Effettuare i passaggi di hello descritti in hello [credenziali asset nell'articolo di automazione di Azure](automation-credentials.md#creating-a-new-credential-asset) e immettere il valore hello **username** in formato hello **dominio\utente**.</span><span class="sxs-lookup"><span data-stu-id="477d2-156">Perform hello steps outlined in hello [Credential assets in Azure Automation article](automation-credentials.md#creating-a-new-credential-asset) and enter hello value for **username** in hello format **domain\user**.</span></span>

## <a name="use-hello-credential-in-a-runbook"></a><span data-ttu-id="477d2-157">Utilizzare credenziali hello in un runbook</span><span class="sxs-lookup"><span data-stu-id="477d2-157">Use hello credential in a runbook</span></span>
<span data-ttu-id="477d2-158">È possibile recuperare hello credenziali in un runbook con hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/dn940015.aspx) attività e quindi utilizzarlo con [Add-AzureAccount](http://msdn.microsoft.com/library/azure/dn722528.aspx) tooconnect tooyour sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="477d2-158">You can retrieve hello credential in a runbook using hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/dn940015.aspx) activity and then use it with [Add-AzureAccount](http://msdn.microsoft.com/library/azure/dn722528.aspx) tooconnect tooyour Azure subscription.</span></span> <span data-ttu-id="477d2-159">Se credenziali hello sono un amministratore di più sottoscrizioni di Azure, quindi è consigliabile usare anche [Select-AzureSubscription](http://msdn.microsoft.com/library/dn495203.aspx) toospecify hello corretto.</span><span class="sxs-lookup"><span data-stu-id="477d2-159">If hello credential is an administrator of multiple Azure subscriptions, then you should also use [Select-AzureSubscription](http://msdn.microsoft.com/library/dn495203.aspx) toospecify hello correct one.</span></span> <span data-ttu-id="477d2-160">Come illustrato nell'esempio hello Windows PowerShell riportato di seguito in genere visualizzato nella parte superiore di hello della maggior parte dei runbook di automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="477d2-160">This is shown in hello sample Windows PowerShell below that will typically appear at hello top of most Azure Automation runbooks.</span></span>

    $cred = Get-AutomationPSCredential –Name "myuseraccount.onmicrosoft.com"
    Add-AzureAccount –Credential $cred
    Select-AzureSubscription –SubscriptionName "My Subscription"

<span data-ttu-id="477d2-161">È necessario ripetere queste righe dopo ogni [checkpoints](http://technet.microsoft.com/library/dn469257.aspx#bk_Checkpoints) del Runbook.</span><span class="sxs-lookup"><span data-stu-id="477d2-161">You should repeat these lines after any [checkpoints](http://technet.microsoft.com/library/dn469257.aspx#bk_Checkpoints) in your runbook.</span></span> <span data-ttu-id="477d2-162">Se hello runbook viene sospeso e quindi ripreso da un altro lavoro, sarà necessario tooperform nuovamente l'autenticazione hello.</span><span class="sxs-lookup"><span data-stu-id="477d2-162">If hello runbook is suspended and then resumes on another worker, then it will need tooperform hello authentication again.</span></span>

## <a name="next-steps"></a><span data-ttu-id="477d2-163">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="477d2-163">Next Steps</span></span>
* <span data-ttu-id="477d2-164">Revisione hello runbook diversi tipi e i passaggi per la creazione di runbook da hello articolo seguente [tipi di runbook di automazione di Azure](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="477d2-164">Review hello different runbook types and steps for creating your own runbooks from hello following article [Azure Automation runbook types](automation-runbook-types.md)</span></span>

