---
title: Soluzione Capacity and Performance in Azure Log Analytics | Microsoft Docs
description: "Usare la soluzione Capacity and Performance di Log Analytics per determinare la capacità dei server Hyper-V."
services: log-analytics
documentationcenter: 
author: bandersmsft
manager: carmonm
editor: 
ms.assetid: 51617a6f-ffdd-4ed2-8b74-1257149ce3d4
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: banders
ms.openlocfilehash: 5ca005127721092b8efcf0ac83cc967ab15fe72d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="plan-hyper-v-virtual-machine-capacity-with-the-capacity-and-performance-solution-preview"></a><span data-ttu-id="30248-103">Pianificare la capacità delle macchine virtuali Hyper-V con la soluzione Capacity and Performance (anteprima)</span><span class="sxs-lookup"><span data-stu-id="30248-103">Plan Hyper-V virtual machine capacity with the Capacity and Performance solution (Preview)</span></span>

![Simbolo di Capacità e prestazioni](./media/log-analytics-capacity/capacity-solution.png)

<span data-ttu-id="30248-105">È possibile usare la soluzione Capacity and Performance di Log Analytics per determinare la capacità dei server Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="30248-105">You can use the Capacity and Performance solution in Log Analytics to help you understand the capacity of your Hyper-V servers.</span></span> <span data-ttu-id="30248-106">La soluzione fornisce informazioni approfondite sull'ambiente Hyper-V illustrando l'utilizzo generale (CPU, memoria e disco) dell'host e delle macchine virtuali in esecuzione negli host Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="30248-106">The solution provides insights into your Hyper-V environment by showing you the overall utilization (CPU, memory, and disk) of the hosts and the VMs running on those Hyper-V hosts.</span></span> <span data-ttu-id="30248-107">Vengono acquisite le metriche relative a CPU, memoria e dischi di tutti gli host e delle macchine virtuali in esecuzione su tali server.</span><span class="sxs-lookup"><span data-stu-id="30248-107">Metrics are collected for CPU, memory, and disks across all your hosts and the VMs running on them.</span></span>

<span data-ttu-id="30248-108">La soluzione:</span><span class="sxs-lookup"><span data-stu-id="30248-108">The solution:</span></span>

-   <span data-ttu-id="30248-109">Visualizza gli host con l'utilizzo più alto e più basso di CPU e memoria</span><span class="sxs-lookup"><span data-stu-id="30248-109">Shows hosts with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="30248-110">Visualizza le VM con l'utilizzo più alto e più basso di CPU e memoria</span><span class="sxs-lookup"><span data-stu-id="30248-110">Shows VMs with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="30248-111">Visualizza le VM con l'utilizzo più alto e più basso di operazioni di I/O al secondo e velocità effettiva</span><span class="sxs-lookup"><span data-stu-id="30248-111">Shows VMs with highest and lowest IOPS and throughput utilization</span></span>
-   <span data-ttu-id="30248-112">Visualizza le VM in esecuzione nei diversi host</span><span class="sxs-lookup"><span data-stu-id="30248-112">Shows which VMs are running on which hosts</span></span>
-   <span data-ttu-id="30248-113">Visualizza i dischi con velocità effettiva, operazioni di I/O al secondo e latenza più elevate nei volumi condivisi cluster</span><span class="sxs-lookup"><span data-stu-id="30248-113">Shows the top disks with high throughput, IOPS, and latency in cluster shared volumes</span></span>
- <span data-ttu-id="30248-114">Consente di personalizzare e applicare filtri in base ai gruppi</span><span class="sxs-lookup"><span data-stu-id="30248-114">Allows you to customize and filter based on groups</span></span>

> [!NOTE]
> <span data-ttu-id="30248-115">La versione precedente della soluzione Capacity and Performance, denominata Gestione della capacità, richiede sia System Center Operations Manager che System Center Virtual Machine Manager.</span><span class="sxs-lookup"><span data-stu-id="30248-115">The previous version of the Capacity and Performance solution called Capacity Management required both System Center Operations Manager and System Center Virtual Machine Manager.</span></span> <span data-ttu-id="30248-116">Questa soluzione aggiornata non prevede tali dipendenze.</span><span class="sxs-lookup"><span data-stu-id="30248-116">This updated solution doesn't have those dependencies.</span></span>


## <a name="connected-sources"></a><span data-ttu-id="30248-117">Origini connesse</span><span class="sxs-lookup"><span data-stu-id="30248-117">Connected sources</span></span>

<span data-ttu-id="30248-118">La tabella seguente descrive le origini connesse che sono supportate da questa soluzione.</span><span class="sxs-lookup"><span data-stu-id="30248-118">The following table describes the connected sources that are supported by this solution.</span></span>

| <span data-ttu-id="30248-119">Origine connessa</span><span class="sxs-lookup"><span data-stu-id="30248-119">Connected Source</span></span> | <span data-ttu-id="30248-120">Supporto</span><span class="sxs-lookup"><span data-stu-id="30248-120">Support</span></span> | <span data-ttu-id="30248-121">Descrizione</span><span class="sxs-lookup"><span data-stu-id="30248-121">Description</span></span> |
|---|---|---|
| [<span data-ttu-id="30248-122">Agenti Windows</span><span class="sxs-lookup"><span data-stu-id="30248-122">Windows agents</span></span>](log-analytics-windows-agents.md) | <span data-ttu-id="30248-123">Sì</span><span class="sxs-lookup"><span data-stu-id="30248-123">Yes</span></span> | <span data-ttu-id="30248-124">La soluzione raccoglie informazioni su capacità e prestazioni dagli agenti Windows.</span><span class="sxs-lookup"><span data-stu-id="30248-124">The solution collects capacity and performance data information from Windows agents.</span></span> |
| [<span data-ttu-id="30248-125">Agenti Linux</span><span class="sxs-lookup"><span data-stu-id="30248-125">Linux agents</span></span>](log-analytics-linux-agents.md) | <span data-ttu-id="30248-126">No</span><span class="sxs-lookup"><span data-stu-id="30248-126">No</span></span>    | <span data-ttu-id="30248-127">La soluzione non raccoglie informazioni su capacità e prestazioni dagli agenti Linux diretti.</span><span class="sxs-lookup"><span data-stu-id="30248-127">The solution does not collect capacity and performance data information from direct Linux agents.</span></span>|
| [<span data-ttu-id="30248-128">Gruppo di gestione SCOM</span><span class="sxs-lookup"><span data-stu-id="30248-128">SCOM management group</span></span>](log-analytics-om-agents.md) | <span data-ttu-id="30248-129">Sì</span><span class="sxs-lookup"><span data-stu-id="30248-129">Yes</span></span> |<span data-ttu-id="30248-130">La soluzione raccoglie dati su capacità e prestazioni dagli agenti in un gruppo di gestione SCOM connesso.</span><span class="sxs-lookup"><span data-stu-id="30248-130">The solution collects capacity and performance data from agents in a connected SCOM management group.</span></span> <span data-ttu-id="30248-131">Non è necessaria una connessione diretta dall'agente SCOM a OMS.</span><span class="sxs-lookup"><span data-stu-id="30248-131">A direct connection from the SCOM agent to OMS is not required.</span></span> <span data-ttu-id="30248-132">I dati vengono inoltrati dal gruppo di gestione al repository OMS.</span><span class="sxs-lookup"><span data-stu-id="30248-132">Data is forwarded from the management group to the OMS repository.</span></span>|
| [<span data-ttu-id="30248-133">Account di archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="30248-133">Azure storage account</span></span>](log-analytics-azure-storage.md) | <span data-ttu-id="30248-134">No</span><span class="sxs-lookup"><span data-stu-id="30248-134">No</span></span> | <span data-ttu-id="30248-135">Archiviazione di Azure non include dati di capacità e prestazioni.</span><span class="sxs-lookup"><span data-stu-id="30248-135">Azure storage does not include capacity and performance data.</span></span>|

## <a name="prerequisites"></a><span data-ttu-id="30248-136">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="30248-136">Prerequisites</span></span>

- <span data-ttu-id="30248-137">Gli agenti Windows o Operations Manager devono essere installati in host Hyper-V Windows Server 2012 o versione successiva, non in macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="30248-137">Windows or Operations Manager agents must be installed on Windows Server 2012 or higher Hyper-V hosts, not virtual machines.</span></span>


## <a name="configuration"></a><span data-ttu-id="30248-138">Configurazione</span><span class="sxs-lookup"><span data-stu-id="30248-138">Configuration</span></span>

<span data-ttu-id="30248-139">Eseguire questo passaggio per aggiungere la soluzione Capacity and Performance all'area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="30248-139">Perform the following step to add the Capacity and Performance solution to your workspace.</span></span>

- <span data-ttu-id="30248-140">Aggiungere la soluzione Capacity and Performance all'area di lavoro di OMS usando la procedura descritta nell'articolo [Aggiungere soluzioni di Log Analytics dalla Raccolta soluzioni](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="30248-140">Add the Capacity and Performance solution to your OMS workspace using the process described in [Add Log Analytics solutions from the Solutions Gallery](log-analytics-add-solutions.md).</span></span>

## <a name="management-packs"></a><span data-ttu-id="30248-141">Management Pack</span><span class="sxs-lookup"><span data-stu-id="30248-141">Management packs</span></span>

<span data-ttu-id="30248-142">Se il gruppo di gestione SCOM è connesso all'area di lavoro di OMS, i Management Pack seguenti verranno installati in SCOM quando si aggiunge questa soluzione.</span><span class="sxs-lookup"><span data-stu-id="30248-142">If your SCOM management group is connected to your OMS workspace, then the following management packs will be installed in SCOM when you add this solution.</span></span> <span data-ttu-id="30248-143">Per questi Management Pack non è richiesta alcuna configurazione o manutenzione.</span><span class="sxs-lookup"><span data-stu-id="30248-143">There is no configuration or maintenance of these management packs required.</span></span>

- <span data-ttu-id="30248-144">Microsoft.IntelligencePacks.CapacityPerformance</span><span class="sxs-lookup"><span data-stu-id="30248-144">Microsoft.IntelligencePacks.CapacityPerformance</span></span>

<span data-ttu-id="30248-145">L'evento 1201 è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="30248-145">The 1201 event resembles:</span></span>


```
New Management Pack with id:"Microsoft.IntelligencePacks.CapacityPerformance", version:"1.10.3190.0" received.
```

<span data-ttu-id="30248-146">Quando la soluzione Capacity and Performance viene aggiornata, il numero di versione viene modificato.</span><span class="sxs-lookup"><span data-stu-id="30248-146">When the Capacity and Performance solution is updated, the version number will change.</span></span>

<span data-ttu-id="30248-147">Per maggiori informazioni sulla modalità di aggiornamento dei Management Pack, vedere [Connettere Operations Manager a Log Analytics](log-analytics-om-agents.md).</span><span class="sxs-lookup"><span data-stu-id="30248-147">For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](log-analytics-om-agents.md).</span></span>

## <a name="using-the-solution"></a><span data-ttu-id="30248-148">Uso della soluzione</span><span class="sxs-lookup"><span data-stu-id="30248-148">Using the solution</span></span>

<span data-ttu-id="30248-149">Quando si aggiunge la soluzione Capacity and Performance all'area di lavoro, Capacity and Performance viene aggiunta al dashboard Panoramica.</span><span class="sxs-lookup"><span data-stu-id="30248-149">When you add the Capacity and Performance solution to your workspace, the Capacity and Performance is added to the Overview dashboard.</span></span> <span data-ttu-id="30248-150">Questo riquadro visualizza un conteggio del numero degli host Hyper-V attualmente attivi e del numero di macchine virtuali monitorate nel periodo selezionato.</span><span class="sxs-lookup"><span data-stu-id="30248-150">This tile displays a count of the number of currently active Hyper-V hosts  and the number of active virtual machines that were monitored for the time period selected.</span></span>

![Riquadro Capacity and Performance](./media/log-analytics-capacity/capacity-tile.png)


### <a name="review-utilization"></a><span data-ttu-id="30248-152">Esaminare l'utilizzo</span><span class="sxs-lookup"><span data-stu-id="30248-152">Review utilization</span></span>

<span data-ttu-id="30248-153">Fare clic sul riquadro Capacity and Performance per aprire il dashboard Capacity and Performance.</span><span class="sxs-lookup"><span data-stu-id="30248-153">Click on the Capacity and Performance tile to open the Capacity and Performance dashboard.</span></span> <span data-ttu-id="30248-154">Il dashboard include le colonne nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="30248-154">The dashboard includes the columns in the following table.</span></span> <span data-ttu-id="30248-155">Ogni colonna elenca fino a dieci elementi corrispondenti ai criteri della colonna per l'ambito e l'intervallo di tempo specificati.</span><span class="sxs-lookup"><span data-stu-id="30248-155">Each column lists up to ten items matching that column's criteria for the specified scope and time range.</span></span> <span data-ttu-id="30248-156">È possibile eseguire una ricerca log per ottenere tutti i record facendo clic su **Vedi tutto** nella parte inferiore della colonna o facendo clic sull'intestazione di colonna.</span><span class="sxs-lookup"><span data-stu-id="30248-156">You can run a log search that returns all records by clicking **See all** at the bottom of the column or by clicking the column header.</span></span>

- <span data-ttu-id="30248-157">**Host**</span><span class="sxs-lookup"><span data-stu-id="30248-157">**Hosts**</span></span>
    - <span data-ttu-id="30248-158">**Utilizzo CPU host** Visualizza una tendenza grafica dell'utilizzo della CPU da parte dei computer host e un elenco di host, in base al periodo di tempo selezionato.</span><span class="sxs-lookup"><span data-stu-id="30248-158">**Host CPU Utilization** Shows a graphical trend of the CPU utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="30248-159">Passare il puntatore sul grafico a linee per visualizzare i dettagli di uno specifico punto nel tempo.</span><span class="sxs-lookup"><span data-stu-id="30248-159">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="30248-160">Fare clic sul grafico per visualizzare altri dettagli nella ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-160">Click the chart to view more details in log search.</span></span> <span data-ttu-id="30248-161">Fare clic su un nome host per aprire la ricerca log e visualizzare i dettagli dei contatori CPU per le VM ospitate.</span><span class="sxs-lookup"><span data-stu-id="30248-161">Click any host name to open log search and view CPU counter details for hosted VMs.</span></span>
    - <span data-ttu-id="30248-162">**Utilizzo memoria host** Visualizza una tendenza grafica dell'utilizzo della memoria da parte dei computer host e un elenco di host, in base al periodo di tempo selezionato.</span><span class="sxs-lookup"><span data-stu-id="30248-162">**Host Memory Utilization** Shows a graphical trend of the memory utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="30248-163">Passare il puntatore sul grafico a linee per visualizzare i dettagli di uno specifico punto nel tempo.</span><span class="sxs-lookup"><span data-stu-id="30248-163">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="30248-164">Fare clic sul grafico per visualizzare altri dettagli nella ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-164">Click the chart to view more details in log search.</span></span> <span data-ttu-id="30248-165">Fare clic su un nome host per aprire la ricerca log e visualizzare i dettagli del contatore della memoria per le VM ospitate.</span><span class="sxs-lookup"><span data-stu-id="30248-165">Click any host name to open log search and view memory counter details for hosted VMs.</span></span>
- <span data-ttu-id="30248-166">**Macchine virtuali**</span><span class="sxs-lookup"><span data-stu-id="30248-166">**Virtual Machines**</span></span>
    - <span data-ttu-id="30248-167">**Utilizzo CPU VM** Visualizza una tendenza grafica dell'utilizzo della CPU da parte delle macchine virtuali e un elenco di macchine virtuali, in base al periodo di tempo selezionato.</span><span class="sxs-lookup"><span data-stu-id="30248-167">**VM CPU Utilization** Shows a graphical trend of the CPU utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="30248-168">Passare il puntatore sul grafico a linee per visualizzare i dettagli di uno specifico punto nel tempo per le prime 3 VM.</span><span class="sxs-lookup"><span data-stu-id="30248-168">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="30248-169">Fare clic sul grafico per visualizzare altri dettagli nella ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-169">Click the chart to view more details in log search.</span></span> <span data-ttu-id="30248-170">Fare clic su un nome VM per aprire la ricerca log e visualizzare i dettagli dei contatori CPU aggregati per le VM.</span><span class="sxs-lookup"><span data-stu-id="30248-170">Click any VM name to open log search and view aggregated CPU counter details for the VM.</span></span>
    - <span data-ttu-id="30248-171">**Utilizzo memoria VM** Visualizza una tendenza grafica dell'utilizzo della memoria da parte delle macchine virtuali e un elenco di macchine virtuali, in base al periodo di tempo selezionato.</span><span class="sxs-lookup"><span data-stu-id="30248-171">**VM Memory Utilization** Shows a graphical trend of the memory utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="30248-172">Passare il puntatore sul grafico a linee per visualizzare i dettagli di uno specifico punto nel tempo per le prime 3 VM.</span><span class="sxs-lookup"><span data-stu-id="30248-172">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="30248-173">Fare clic sul grafico per visualizzare altri dettagli nella ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-173">Click the chart to view more details in log search.</span></span> <span data-ttu-id="30248-174">Fare clic su un nome VM per aprire la ricerca log e visualizzare i dettagli dei contatori della memoria aggregati per le VM.</span><span class="sxs-lookup"><span data-stu-id="30248-174">Click any VM name to open log search and view aggregated memory counter details for the VM.</span></span>
    - <span data-ttu-id="30248-175">**Totale operazioni di I/O al secondo del disco della macchina virtuale** Visualizza una tendenza grafica del totale delle operazioni di I/O al secondo del disco per le macchine virtuali e un elenco di macchine virtuali con le operazioni di I/O al secondo per ognuna, in base al periodo di tempo selezionato.</span><span class="sxs-lookup"><span data-stu-id="30248-175">**VM Total Disk IOPS** Shows a graphical trend of the total disk IOPS for virtual machines and a list of virtual machines with the IOPS for each, based on the selected time period.</span></span> <span data-ttu-id="30248-176">Passare il puntatore sul grafico a linee per visualizzare i dettagli di uno specifico punto nel tempo per le prime 3 VM.</span><span class="sxs-lookup"><span data-stu-id="30248-176">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="30248-177">Fare clic sul grafico per visualizzare altri dettagli nella ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-177">Click the chart to view more details in log search.</span></span> <span data-ttu-id="30248-178">Fare clic su un nome VM per aprire la ricerca log e visualizzare i dettagli dei contatori di operazioni di I/O al secondo del disco aggregati per le VM.</span><span class="sxs-lookup"><span data-stu-id="30248-178">Click any VM name to open log search and view aggregated disk IOPS counter details for the VM.</span></span>
    - <span data-ttu-id="30248-179">**Totale velocità effettiva del disco della macchina virtuale** Visualizza una tendenza grafica del totale della velocità effettiva del disco per le macchine virtuali e un elenco di macchine virtuali con il totale della velocità effettiva del disco per ognuna, in base al periodo di tempo selezionato.</span><span class="sxs-lookup"><span data-stu-id="30248-179">**VM Total Disk Throughput** Shows a graphical trend of the total disk throughput for virtual machines and a list of virtual machines with the total disk throughput for each, based on the selected time period.</span></span> <span data-ttu-id="30248-180">Passare il puntatore sul grafico a linee per visualizzare i dettagli di uno specifico punto nel tempo per le prime 3 VM.</span><span class="sxs-lookup"><span data-stu-id="30248-180">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="30248-181">Fare clic sul grafico per visualizzare altri dettagli nella ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-181">Click the chart to view more details in log search.</span></span> <span data-ttu-id="30248-182">Fare clic su un nome VM per aprire la ricerca log e visualizzare i dettagli dei contatori del totale della velocità effettiva del disco aggregati per le VM.</span><span class="sxs-lookup"><span data-stu-id="30248-182">Click any VM name to open log search and view aggregated total disk throughput counter details for the VM.</span></span>
- <span data-ttu-id="30248-183">**Volumi condivisi cluster**</span><span class="sxs-lookup"><span data-stu-id="30248-183">**Clustered Shared Volumes**</span></span>
    - <span data-ttu-id="30248-184">**Totale velocità effettiva** Visualizza la somma delle operazioni di lettura e di scrittura nei volumi condivisi cluster.</span><span class="sxs-lookup"><span data-stu-id="30248-184">**Total Throughput** Shows the sum of both reads and writes on clustered shared volumes.</span></span>
    - <span data-ttu-id="30248-185">**Totale operazioni di I/O al secondo** Visualizza la somma di operazioni di input/output al secondo nei volumi condivisi cluster.</span><span class="sxs-lookup"><span data-stu-id="30248-185">**Total IOPS** Shows the sum of input/output operations per second on clustered shared volumes.</span></span>
    - <span data-ttu-id="30248-186">**Totale latenza** Visualizza il totale della latenza nei volumi condivisi cluster.</span><span class="sxs-lookup"><span data-stu-id="30248-186">**Total Latency** Shows the total latency on clustered shared volumes.</span></span>
- <span data-ttu-id="30248-187">**Densità host** Il riquadro superiore visualizza il numero totale di host e di macchine virtuali disponibili per la soluzione.</span><span class="sxs-lookup"><span data-stu-id="30248-187">**Host Density** The top tile shows the total number of hosts and virtual machines available to the solution.</span></span> <span data-ttu-id="30248-188">Fare clic sul riquadro superiore per visualizzare altri dettagli nella ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-188">Click the top tile to view additional details in log search.</span></span> <span data-ttu-id="30248-189">Elenca anche tutti gli host e il numero di macchine virtuali ospitate.</span><span class="sxs-lookup"><span data-stu-id="30248-189">Also lists all hosts and the number of virtual machines that are hosted.</span></span> <span data-ttu-id="30248-190">Fare clic su un host per esaminare i risultati delle VM in una ricerca log.</span><span class="sxs-lookup"><span data-stu-id="30248-190">Click a host to drill into the VM results in a log search.</span></span>


![Pannello Host del dashboard](./media/log-analytics-capacity/dashboard-hosts.png)

![Pannello Macchine virtuali del dashboard](./media/log-analytics-capacity/dashboard-vms.png)


### <a name="evaluate-performance"></a><span data-ttu-id="30248-193">Valutare le prestazioni</span><span class="sxs-lookup"><span data-stu-id="30248-193">Evaluate performance</span></span>

<span data-ttu-id="30248-194">Gli ambienti di elaborazione di produzione sono molto diversi da un'organizzazione all'altra.</span><span class="sxs-lookup"><span data-stu-id="30248-194">Production computing environments differ greatly from one organization to another.</span></span> <span data-ttu-id="30248-195">Anche i carichi di lavoro di capacità e prestazioni possono dipendere da come vengono eseguite le VM e da che cosa si considera normale.</span><span class="sxs-lookup"><span data-stu-id="30248-195">Also, capacity and performance workloads might depend on how your VMs are running, and what you consider normal.</span></span> <span data-ttu-id="30248-196">È probabile che specifiche procedure per misurare le prestazioni non si applichino a tutti gli ambienti.</span><span class="sxs-lookup"><span data-stu-id="30248-196">Specific procedures to help you measure performance would probably not apply to your environment.</span></span> <span data-ttu-id="30248-197">Per questo è meglio presentare indicazioni prescrittive più generiche.</span><span class="sxs-lookup"><span data-stu-id="30248-197">So, more generalized prescriptive guidance is better suited to help.</span></span> <span data-ttu-id="30248-198">Microsoft pubblica svariati articoli con indicazioni prescrittive che consentono di misurare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="30248-198">Microsoft publishes a variety of prescriptive guidance articles to help you measure performance.</span></span>

<span data-ttu-id="30248-199">In sintesi, la soluzione raccogli i dati su capacità e prestazioni da svariate origini, inclusi i contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="30248-199">To summarize, the solution collects capacity and performance data from a variety of sources including performance counters.</span></span> <span data-ttu-id="30248-200">Usare tali dati su capacità e prestazioni che vengono presentati in diverse superfici della soluzione e confrontare i risultati con quelli dell'articolo [Measuring Performance on Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx) (Misurazione delle prestazioni in Hyper-V).</span><span class="sxs-lookup"><span data-stu-id="30248-200">Use that capacity and performance data that presented in various surfaces in the solution and compare your results to those at the [Measuring Performance on Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx) article.</span></span> <span data-ttu-id="30248-201">Anche se la pubblicazione dell'articolo non è recente, le metriche, le considerazioni e le linee guida sono ancora valide.</span><span class="sxs-lookup"><span data-stu-id="30248-201">Although the article was published some time ago, the metrics, considerations, and guidelines are still valid.</span></span> <span data-ttu-id="30248-202">L'articolo contiene collegamenti ad altre risorse utili.</span><span class="sxs-lookup"><span data-stu-id="30248-202">The article contains links to other useful resources.</span></span>


## <a name="sample-log-searches"></a><span data-ttu-id="30248-203">Ricerche di log di esempio</span><span class="sxs-lookup"><span data-stu-id="30248-203">Sample log searches</span></span>

<span data-ttu-id="30248-204">La tabella seguente presenta ricerche log di esempio per i dati su capacità e prestazioni raccolti e calcolati da questa soluzione.</span><span class="sxs-lookup"><span data-stu-id="30248-204">The following table provides sample log searches for capacity and performance data collected and calculated by this solution.</span></span>

| <span data-ttu-id="30248-205">Query</span><span class="sxs-lookup"><span data-stu-id="30248-205">Query</span></span> | <span data-ttu-id="30248-206">Descrizione</span><span class="sxs-lookup"><span data-stu-id="30248-206">Description</span></span> |
|---|---|
| <span data-ttu-id="30248-207">Tutte le configurazioni di memoria degli host</span><span class="sxs-lookup"><span data-stu-id="30248-207">All host memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="Host Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="30248-208">Tutte le configurazioni di memoria delle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="30248-208">All VM memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="VM Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="30248-209">Scomposizione totale IOPS dei dischi tra tutte le macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="30248-209">Breakdown of Total Disk IOPS across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Reads/s" OR CounterName="VHD Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="30248-210">Scomposizione totale velocità effettiva dei dischi tra tutte le macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="30248-210">Breakdown of Total Disk Throughput across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Read MB/s" OR CounterName="VHD Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="30248-211">Scomposizione totale IOPS tra tutti i CSV</span><span class="sxs-lookup"><span data-stu-id="30248-211">Breakdown of Total IOPS across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Reads/s" OR CounterName="CSV Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="30248-212">Scomposizione totale velocità effettiva tra tutti i CSV</span><span class="sxs-lookup"><span data-stu-id="30248-212">Breakdown of Total Throughput across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read MB/s" OR CounterName="CSV Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="30248-213">Scomposizione totale latenza tra tutti i CSV</span><span class="sxs-lookup"><span data-stu-id="30248-213">Breakdown of Total Latency across all CSVs</span></span> | <code> Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read Latency" OR CounterName="CSV Write Latency") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |

>[!NOTE]
> <span data-ttu-id="30248-214">Se l'area di lavoro è stata aggiornata al [nuovo linguaggio di query di Log Analytics](log-analytics-log-search-upgrade.md), le query precedenti verranno sostituite da quelle seguenti.</span><span class="sxs-lookup"><span data-stu-id="30248-214">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following.</span></span>

> | <span data-ttu-id="30248-215">Query</span><span class="sxs-lookup"><span data-stu-id="30248-215">Query</span></span> | <span data-ttu-id="30248-216">Descrizione</span><span class="sxs-lookup"><span data-stu-id="30248-216">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="30248-217">Tutte le configurazioni di memoria degli host</span><span class="sxs-lookup"><span data-stu-id="30248-217">All host memory configurations</span></span> | <span data-ttu-id="30248-218">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "Host Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="30248-218">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "Host Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="30248-219">Tutte le configurazioni di memoria delle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="30248-219">All VM memory configurations</span></span> | <span data-ttu-id="30248-220">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "VM Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="30248-220">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "VM Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="30248-221">Scomposizione totale IOPS dei dischi tra tutte le macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="30248-221">Breakdown of Total Disk IOPS across all VMs</span></span> | <span data-ttu-id="30248-222">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Reads/s" or CounterName == "VHD Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="30248-222">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Reads/s" or CounterName == "VHD Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="30248-223">Scomposizione totale velocità effettiva dei dischi tra tutte le macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="30248-223">Breakdown of Total Disk Throughput across all VMs</span></span> | <span data-ttu-id="30248-224">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Read MB/s" or CounterName == "VHD Write MB/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="30248-224">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Read MB/s" or CounterName == "VHD Write MB/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="30248-225">Scomposizione totale IOPS tra tutti i CSV</span><span class="sxs-lookup"><span data-stu-id="30248-225">Breakdown of Total IOPS across all CSVs</span></span> | <span data-ttu-id="30248-226">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="30248-226">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="30248-227">Scomposizione totale velocità effettiva tra tutti i CSV</span><span class="sxs-lookup"><span data-stu-id="30248-227">Breakdown of Total Throughput across all CSVs</span></span> | <span data-ttu-id="30248-228">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="30248-228">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="30248-229">Scomposizione totale latenza tra tutti i CSV</span><span class="sxs-lookup"><span data-stu-id="30248-229">Breakdown of Total Latency across all CSVs</span></span> | <span data-ttu-id="30248-230">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Read Latency" or CounterName == "CSV Write Latency") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="30248-230">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Read Latency" or CounterName == "CSV Write Latency") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |


## <a name="next-steps"></a><span data-ttu-id="30248-231">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="30248-231">Next steps</span></span>
* <span data-ttu-id="30248-232">Per visualizzare informazioni dettagliate su capacità e prestazioni, usare [Ricerche log in Log Analytics](log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="30248-232">Use [Log searches in Log Analytics](log-analytics-log-searches.md) to view detailed Capacity and Performance data.</span></span>
