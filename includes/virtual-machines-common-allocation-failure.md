
<span data-ttu-id="dd86a-101">Se il problema di Azure non viene risolto in questo articolo, visitare il [forum di Azure su MSDN e Overflow dello Stack](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-101">If your Azure issue is not addressed in this article, visit the [Azure forums on MSDN and Stack Overflow](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="dd86a-102">È possibile pubblicare il problema in questi forum o in @AzureSupport su Twitter.</span><span class="sxs-lookup"><span data-stu-id="dd86a-102">You can post your issue on these forums or to @AzureSupport on Twitter.</span></span> <span data-ttu-id="dd86a-103">È anche possibile inviare una richiesta di supporto tecnico di Azure selezionando **Ottieni supporto** nel sito del [supporto tecnico di Azure](https://azure.microsoft.com/support/options/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-103">Also, you can file an Azure support request by selecting **Get support** on the [Azure support](https://azure.microsoft.com/support/options/) site.</span></span>

## <a name="general-troubleshooting-steps"></a><span data-ttu-id="dd86a-104">Passaggi per la risoluzione dei problemi generali</span><span class="sxs-lookup"><span data-stu-id="dd86a-104">General troubleshooting steps</span></span>
### <a name="troubleshoot-common-allocation-failures-in-the-classic-deployment-model"></a><span data-ttu-id="dd86a-105">Risolvere i problemi relativi a errori comuni di allocazione nel modello di distribuzione classico</span><span class="sxs-lookup"><span data-stu-id="dd86a-105">Troubleshoot common allocation failures in the classic deployment model</span></span>
<span data-ttu-id="dd86a-106">Questi passaggi possono facilitare la risoluzione di molti errori di allocazione nelle macchine virtuali:</span><span class="sxs-lookup"><span data-stu-id="dd86a-106">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="dd86a-107">Ridimensionare la macchina virtuale con una dimensione diversa della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="dd86a-107">Resize the VM to a different VM size.</span></span><br>
    <span data-ttu-id="dd86a-108">Fare clic su **Sfoglia tutto** > **macchine virtuali (classico)** > la macchina virtuale > **impostazioni** > **dimensioni**.</span><span class="sxs-lookup"><span data-stu-id="dd86a-108">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Settings** > **Size**.</span></span> <span data-ttu-id="dd86a-109">Per i passaggi dettagliati, vedere l'articolo relativo al [Ridimensionamento della macchina virtuale](https://msdn.microsoft.com/library/dn168976.aspx).</span><span class="sxs-lookup"><span data-stu-id="dd86a-109">For detailed steps, see [Resize the virtual machine](https://msdn.microsoft.com/library/dn168976.aspx).</span></span>
* <span data-ttu-id="dd86a-110">Eliminare tutte le VM dal servizio cloud e ricrearle.</span><span class="sxs-lookup"><span data-stu-id="dd86a-110">Delete all VMs from the cloud service and re-create VMs.</span></span><br>
    <span data-ttu-id="dd86a-111">Fare clic su **Sfoglia tutto** > **macchine virtuali (classico)** > la macchina virtuale > **eliminare**.</span><span class="sxs-lookup"><span data-stu-id="dd86a-111">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Delete**.</span></span> <span data-ttu-id="dd86a-112">Fare quindi clic su **Nuovo** > **Calcolo** > [immagine macchina virtuale].</span><span class="sxs-lookup"><span data-stu-id="dd86a-112">Then, click **New** > **Compute** > [virtual machine image].</span></span>

### <a name="troubleshoot-common-allocation-failures-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="dd86a-113">Risolvere i problemi relativi a errori comuni di allocazione nel modello di distribuzione di Gestione risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="dd86a-113">Troubleshoot common allocation failures in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="dd86a-114">Questi passaggi possono facilitare la risoluzione di molti errori di allocazione nelle macchine virtuali:</span><span class="sxs-lookup"><span data-stu-id="dd86a-114">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="dd86a-115">Arrestare (deallocare) tutte le VM nello stesso set di disponibilità, quindi riavviarle tutte.</span><span class="sxs-lookup"><span data-stu-id="dd86a-115">Stop (deallocate) all VMs in the same availability set, then restart each one.</span></span><br>
    <span data-ttu-id="dd86a-116">Per arrestare: fare clic su **gruppi di risorse** > gruppo di risorse > **risorse** > set di disponibilità > **macchine virtuali** > la macchina virtuale >  **Arrestare**.</span><span class="sxs-lookup"><span data-stu-id="dd86a-116">To stop: Click **Resource groups** > your resource group > **Resources** > your availability set > **Virtual Machines** > your virtual machine > **Stop**.</span></span>
  
    <span data-ttu-id="dd86a-117">Dopo l'arresto di tutte le VM, selezionare la prima e fare clic su **Avvia**.</span><span class="sxs-lookup"><span data-stu-id="dd86a-117">After all VMs stop, select the first VM and click **Start**.</span></span>

## <a name="background-information"></a><span data-ttu-id="dd86a-118">Informazioni generali</span><span class="sxs-lookup"><span data-stu-id="dd86a-118">Background information</span></span>
### <a name="how-allocation-works"></a><span data-ttu-id="dd86a-119">Come funziona l'allocazione</span><span class="sxs-lookup"><span data-stu-id="dd86a-119">How allocation works</span></span>
<span data-ttu-id="dd86a-120">I server nei data center di Azure sono partizionati in cluster.</span><span class="sxs-lookup"><span data-stu-id="dd86a-120">The servers in Azure datacenters are partitioned into clusters.</span></span> <span data-ttu-id="dd86a-121">In genere, viene eseguita una richiesta di allocazione in più cluster, ma è possibile che determinati vincoli nella richiesta di allocazione impongano alla piattaforma Azure di eseguire la richiesta in un solo cluster.</span><span class="sxs-lookup"><span data-stu-id="dd86a-121">Normally, an allocation request is attempted in multiple clusters, but it's possible that certain constraints from the allocation request force the Azure platform to attempt the request in only one cluster.</span></span> <span data-ttu-id="dd86a-122">In questo articolo, si fa riferimento a questa operazione con l'espressione "bloccata su un cluster".</span><span class="sxs-lookup"><span data-stu-id="dd86a-122">In this article, we'll refer to this as "pinned to a cluster."</span></span> <span data-ttu-id="dd86a-123">Il diagramma 1 riportato di seguito illustra il caso di un'allocazione normale tentata in più cluster.</span><span class="sxs-lookup"><span data-stu-id="dd86a-123">Diagram 1 below illustrates the case of a normal allocation that is attempted in multiple clusters.</span></span> <span data-ttu-id="dd86a-124">Il diagramma 2 illustra il caso di un'allocazione bloccata sul cluster 2 perché è quello che ospita il servizio cloud CS_1 o il set di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-124">Diagram 2 illustrates the case of an allocation that's pinned to Cluster 2 because that's where the existing Cloud Service CS_1 or availability set is hosted.</span></span>
<span data-ttu-id="dd86a-125">![Diagramma di allocazione](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span><span class="sxs-lookup"><span data-stu-id="dd86a-125">![Allocation Diagram](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span></span>

### <a name="why-allocation-failures-happen"></a><span data-ttu-id="dd86a-126">Perché si verificano gli errori di allocazione</span><span class="sxs-lookup"><span data-stu-id="dd86a-126">Why allocation failures happen</span></span>
<span data-ttu-id="dd86a-127">Quando una richiesta di allocazione è bloccata su un cluster, la probabilità di non riuscire a trovare risorse disponibili è più alta, perché il pool di risorse disponibili è più ridotto.</span><span class="sxs-lookup"><span data-stu-id="dd86a-127">When an allocation request is pinned to a cluster, there's a higher chance of failing to find free resources since the available resource pool is smaller.</span></span> <span data-ttu-id="dd86a-128">Inoltre, se la richiesta di allocazione è bloccata su un cluster, ma il tipo di risorsa richiesto non è supportato da quel cluster, la richiesta non viene eseguita correttamente anche se nel cluster ci sono risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="dd86a-128">Furthermore, if your allocation request is pinned to a cluster but the type of resource you requested is not supported by that cluster, your request will fail even if the cluster has free resources.</span></span> <span data-ttu-id="dd86a-129">Il diagramma 3 seguente illustra un'allocazione bloccata non riuscita perché nel solo cluster candidato non ci sono risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="dd86a-129">Diagram 3 below illustrates the case where a pinned allocation fails because the only candidate cluster does not have free resources.</span></span> <span data-ttu-id="dd86a-130">Il diagramma 4 illustra un'allocazione bloccata non riuscita perché il solo cluster candidato non supporta le dimensioni della VM richieste, anche se nel cluster ci sono risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="dd86a-130">Diagram 4 illustrates the case where a pinned allocation fails because the only candidate cluster does not support the requested VM size, even though the cluster has free resources.</span></span>

![Errore di allocazione bloccata](./media/virtual-machines-common-allocation-failure/Allocation2.png)

## <a name="detailed-troubleshoot-steps-specific-allocation-failure-scenarios-in-the-classic-deployment-model"></a><span data-ttu-id="dd86a-132">Risolvere i problemi relativi a scenari di errori di allocazione specifici nel modello di distribuzione classico</span><span class="sxs-lookup"><span data-stu-id="dd86a-132">Detailed troubleshoot steps specific allocation failure scenarios in the classic deployment model</span></span>
<span data-ttu-id="dd86a-133">Ecco gli scenari di allocazione comuni che causano una richiesta di allocazione da bloccare.</span><span class="sxs-lookup"><span data-stu-id="dd86a-133">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="dd86a-134">Verrà esaminato ogni scenario più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="dd86a-134">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="dd86a-135">Ridimensionare una VM o aggiungere VM o istanze dei ruoli a un servizio cloud esistente</span><span class="sxs-lookup"><span data-stu-id="dd86a-135">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="dd86a-136">Riavviare VM arrestate (deallocate) parzialmente</span><span class="sxs-lookup"><span data-stu-id="dd86a-136">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="dd86a-137">Riavviare VM arrestate (deallocate) completamente</span><span class="sxs-lookup"><span data-stu-id="dd86a-137">Restart fully stopped (deallocated) VMs</span></span>
* <span data-ttu-id="dd86a-138">Distribuzioni di gestione temporanea o di produzione (solo Platform-as-a-Service)</span><span class="sxs-lookup"><span data-stu-id="dd86a-138">Staging/production deployments (platform as a service only)</span></span>
* <span data-ttu-id="dd86a-139">Gruppo di affinità (prossimità di VM o servizio)</span><span class="sxs-lookup"><span data-stu-id="dd86a-139">Affinity group (VM/service proximity)</span></span>
* <span data-ttu-id="dd86a-140">Rete virtuale basata su gruppi di affinità</span><span class="sxs-lookup"><span data-stu-id="dd86a-140">Affinity-group-based virtual network</span></span>

<span data-ttu-id="dd86a-141">Quando si riceve un errore di allocazione, verificare se uno degli scenari descritti è pertinente con questo errore.</span><span class="sxs-lookup"><span data-stu-id="dd86a-141">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="dd86a-142">Usare l'errore di allocazione restituito dalla piattaforma Azure per identificare lo scenario corrispondente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-142">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="dd86a-143">Se la richiesta è bloccata, rimuovere alcuni dei vincoli di blocco per aprire la richiesta a più cluster, aumentando quindi la possibilità di eseguire l'allocazione correttamente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-143">If your request is pinned, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="dd86a-144">In generale, finché l'errore non indica che le dimensioni della VM richieste non sono supportate, è sempre possibile riprovare in un secondo momento perché nel cluster potrebbero liberarsi risorse sufficienti per soddisfare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="dd86a-144">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="dd86a-145">Se il problema è che la dimensione della VM richiesta non è supportata, provare con una dimensione diversa di VM.</span><span class="sxs-lookup"><span data-stu-id="dd86a-145">If the problem is that the requested VM size is not supported, try a different VM size.</span></span> <span data-ttu-id="dd86a-146">In caso contrario, l'unica opzione consiste nel rimuovere il vincolo di blocco.</span><span class="sxs-lookup"><span data-stu-id="dd86a-146">Otherwise, the only option is to remove the pinning constraint.</span></span>

<span data-ttu-id="dd86a-147">Due scenari di errore comuni sono correlati ai gruppi di affinità.</span><span class="sxs-lookup"><span data-stu-id="dd86a-147">Two common failure scenarios are related to affinity groups.</span></span> <span data-ttu-id="dd86a-148">In passato, il gruppo di affinità veniva usato per fornire la prossimità alle istanze di VM o servizi o per abilitare la creazione della rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="dd86a-148">In the past, an affinity group was used to provide close proximity to VMs/service instances, or it was used to enable the creation of a virtual network.</span></span> <span data-ttu-id="dd86a-149">Con l'introduzione delle reti virtuali dell'area, i gruppi di affinità non sono più necessari per creare una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="dd86a-149">With the introduction of regional virtual networks, affinity groups are no longer required to create a virtual network.</span></span> <span data-ttu-id="dd86a-150">Con la riduzione della latenza di rete nell'infrastruttura di Azure, l'indicazione che riguarda l'uso dei gruppi di affinità per la prossimità di VM o servizi è stata modificata.</span><span class="sxs-lookup"><span data-stu-id="dd86a-150">With the reduction of network latency in Azure infrastructure, the recommendation to use affinity groups for VM/service proximity has changed.</span></span>

<span data-ttu-id="dd86a-151">Il diagramma 5 seguente illustra la tassonomia degli scenari di allocazione (bloccata).</span><span class="sxs-lookup"><span data-stu-id="dd86a-151">Diagram 5 below presents the taxonomy of the (pinned) allocation scenarios.</span></span>
<span data-ttu-id="dd86a-152">![Tassonomia di allocazione bloccata](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span><span class="sxs-lookup"><span data-stu-id="dd86a-152">![Pinned Allocation Taxonomy](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span></span>

> [!NOTE]
> <span data-ttu-id="dd86a-153">L'errore indicato in ogni scenario di allocazione è in forma breve.</span><span class="sxs-lookup"><span data-stu-id="dd86a-153">The error listed in each allocation scenario is a short form.</span></span> <span data-ttu-id="dd86a-154">Per le stringhe di errore dettagliate, vedere [Ricerca della stringa di errore](#Error string lookup).</span><span class="sxs-lookup"><span data-stu-id="dd86a-154">Refer to the [Error string lookup](#Error string lookup) for detailed error strings.</span></span>
> 
> 

## <a name="allocation-scenario-resize-a-vm-or-add-vms-or-role-instances-to-an-existing-cloud-service"></a><span data-ttu-id="dd86a-155">Scenario di allocazione: ridimensionare una VM o aggiungere altre VM o istanze dei ruoli a un servizio cloud esistente</span><span class="sxs-lookup"><span data-stu-id="dd86a-155">Allocation scenario: Resize a VM or add VMs or role instances to an existing cloud service</span></span>
<span data-ttu-id="dd86a-156">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-156">**Error**</span></span>

<span data-ttu-id="dd86a-157">Upgrade_VMSizeNotSupported o GeneralError</span><span class="sxs-lookup"><span data-stu-id="dd86a-157">Upgrade_VMSizeNotSupported or GeneralError</span></span>

<span data-ttu-id="dd86a-158">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-158">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-159">La richiesta di ridimensionamento di una VM o di aggiunta di una VM o di un'istanza del ruolo a un servizio cloud esistente deve essere eseguita nel cluster originale che ospita il servizio cloud esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-159">A request to resize a VM or add a VM or a role instance to an existing cloud service has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="dd86a-160">La creazione di un nuovo servizio cloud consente alla piattaforma Azure di trovare un altro cluster con risorse disponibili o che supporti le dimensioni della VM richieste.</span><span class="sxs-lookup"><span data-stu-id="dd86a-160">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="dd86a-161">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-161">**Workaround**</span></span>

<span data-ttu-id="dd86a-162">Se l'errore è Upgrade_VMSizeNotSupported*, provare con dimensioni della VM diverse.</span><span class="sxs-lookup"><span data-stu-id="dd86a-162">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="dd86a-163">Se l'uso di dimensioni della VM diverse non è possibile, ma è accettabile usare un indirizzo IP virtuale (indirizzo VIP) diverso, creare un nuovo servizio cloud per ospitare la nuova VM e aggiungere il nuovo servizio cloud alla rete virtuale dell'area in cui sono in esecuzione le VM esistenti.</span><span class="sxs-lookup"><span data-stu-id="dd86a-163">If using a different VM size is not an option, but if it's acceptable to use a different virtual IP address (VIP), create a new cloud service to host the new VM and add the new cloud service to the regional virtual network where the existing VMs are running.</span></span> <span data-ttu-id="dd86a-164">Se il servizio cloud esistente non usa una rete virtuale dell'area, è comunque possibile creare una nuova rete virtuale per il nuovo servizio cloud, quindi connettere la [rete virtuale esistente a quella nuova](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-164">If your existing cloud service does not use a regional virtual network, you can still create a new virtual network for the new cloud service, and then connect your [existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="dd86a-165">Altre informazioni sulle [reti virtuali a livello di area](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-165">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="dd86a-166">Se l'errore è GeneralError, è probabile che il tipo di risorsa (ad esempio, le dimensioni specifiche della VM) sia supportato dal cluster, che al momento non dispone di risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="dd86a-166">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="dd86a-167">Analogamente allo scenario riportato sopra, aggiungere la risorsa di calcolo desiderata tramite la creazione di un nuovo servizio cloud (notare che il nuovo servizio cloud deve usare un indirizzo VIP diverso) e usare una rete virtuale dell'area per connettere i servizi cloud.</span><span class="sxs-lookup"><span data-stu-id="dd86a-167">Similar to the above scenario, add the desired compute resource through creating a new cloud service (note that the new cloud service has to use a different VIP) and use a regional virtual network to connect your cloud services.</span></span>

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="dd86a-168">Scenario di allocazione: riavviare VM arrestate (deallocate) parzialmente</span><span class="sxs-lookup"><span data-stu-id="dd86a-168">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="dd86a-169">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-169">**Error**</span></span>

<span data-ttu-id="dd86a-170">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="dd86a-170">GeneralError*</span></span>

<span data-ttu-id="dd86a-171">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-171">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-172">La deallocazione parziale significa che una o più macchine virtuali in un servizio cloud sono state arrestate (deallocate), ma non tutte.</span><span class="sxs-lookup"><span data-stu-id="dd86a-172">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in a cloud service.</span></span> <span data-ttu-id="dd86a-173">Quando si arresta (viene deallocata) una VM, vengono rilasciate le risorse associate.</span><span class="sxs-lookup"><span data-stu-id="dd86a-173">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="dd86a-174">Il riavvio della VM arrestata (deallocata) è quindi una nuova richiesta di allocazione.</span><span class="sxs-lookup"><span data-stu-id="dd86a-174">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="dd86a-175">Riavviare le VM in un servizio cloud parzialmente deallocato equivale ad aggiungere VM a un servizio cloud esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-175">Restarting VMs in a partially deallocated cloud service is equivalent to adding VMs to an existing cloud service.</span></span> <span data-ttu-id="dd86a-176">La richiesta di allocazione deve essere eseguita nel cluster originale che ospita il servizio cloud esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-176">The allocation request has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="dd86a-177">La creazione di un servizio cloud diverso consente alla piattaforma Azure di trovare un altro cluster con risorse disponibili o che supporti le dimensioni della VM richieste.</span><span class="sxs-lookup"><span data-stu-id="dd86a-177">Creating a different cloud service allows the Azure platform to find another cluster that has free resource or supports the VM size that you requested.</span></span>

<span data-ttu-id="dd86a-178">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-178">**Workaround**</span></span>

<span data-ttu-id="dd86a-179">Se è accettabile usare un indirizzo VIP diverso, eliminare le VM arrestate (deallocate), mantenendo però i dischi associati, quindi riaggiungere le VM tramite un servizio cloud diverso.</span><span class="sxs-lookup"><span data-stu-id="dd86a-179">If it's acceptable to use a different VIP, delete the stopped (deallocated) VMs (but keep the associated disks) and add the VMs back through a different cloud service.</span></span> <span data-ttu-id="dd86a-180">Usare una rete virtuale dell'area per connettere i servizi cloud:</span><span class="sxs-lookup"><span data-stu-id="dd86a-180">Use a regional virtual network to connect your cloud services:</span></span>

* <span data-ttu-id="dd86a-181">Se il servizio cloud esistente usa una rete virtuale dell'area, è sufficiente aggiungere il nuovo servizio cloud alla stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="dd86a-181">If your existing cloud service uses a regional virtual network, simply add the new cloud service to the same virtual network.</span></span>
* <span data-ttu-id="dd86a-182">Se il servizio cloud esistente non usa una rete virtuale dell'area, creare una nuova rete virtuale per il nuovo servizio cloud, quindi connettere la [rete virtuale esistente a quella nuova](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-182">If your existing cloud service does not use a regional virtual network, create a new virtual network for the new cloud service, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="dd86a-183">Altre informazioni sulle [reti virtuali a livello di area](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-183">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated-vms"></a><span data-ttu-id="dd86a-184">Scenario di allocazione: riavviare VM arrestate (deallocate) completamente</span><span class="sxs-lookup"><span data-stu-id="dd86a-184">Allocation scenario: Restart fully stopped (deallocated) VMs</span></span>
<span data-ttu-id="dd86a-185">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-185">**Error**</span></span>

<span data-ttu-id="dd86a-186">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="dd86a-186">GeneralError*</span></span>

<span data-ttu-id="dd86a-187">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-187">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-188">La deallocazione completa significa che sono state arrestate (deallocate) tutte le VM da un servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="dd86a-188">Full deallocation means that you stopped (deallocated) all VMs from a cloud service.</span></span> <span data-ttu-id="dd86a-189">Le richieste di allocazione per il riavvio di queste VM devono essere eseguite nel cluster originale che ospita il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="dd86a-189">The allocation requests to restart these VMs have to be attempted at the original cluster that hosts the cloud service.</span></span> <span data-ttu-id="dd86a-190">La creazione di un nuovo servizio cloud consente alla piattaforma Azure di trovare un altro cluster con risorse disponibili o che supporti le dimensioni della VM richieste.</span><span class="sxs-lookup"><span data-stu-id="dd86a-190">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="dd86a-191">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-191">**Workaround**</span></span>

<span data-ttu-id="dd86a-192">Se è accettabile usare un indirizzo VIP diverso, eliminare le VM arrestate (deallocate) originali, mantenendo però i dischi associati, quindi eliminare il servizio cloud corrispondente. Le risorse di calcolo associate sono già state rilasciate al momento dell'arresto (deallocazione) delle VM.</span><span class="sxs-lookup"><span data-stu-id="dd86a-192">If it's acceptable to use a different VIP, delete the original stopped (deallocated) VMs (but keep the associated disks) and delete the corresponding cloud service (the associated compute resources were already released when you stopped (deallocated) the VMs).</span></span> <span data-ttu-id="dd86a-193">Creare un nuovo servizio cloud per riaggiungere le VM.</span><span class="sxs-lookup"><span data-stu-id="dd86a-193">Create a new cloud service to add the VMs back.</span></span>

## <a name="allocation-scenario-stagingproduction-deployments-platform-as-a-service-only"></a><span data-ttu-id="dd86a-194">Scenario di allocazione: distribuzioni di gestione temporanea/produzione (solo Platform-as-a-Service)</span><span class="sxs-lookup"><span data-stu-id="dd86a-194">Allocation scenario: Staging/production deployments (platform as a service only)</span></span>
<span data-ttu-id="dd86a-195">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-195">**Error**</span></span>

<span data-ttu-id="dd86a-196">New_General * o * New_VMSizeNotSupported</span><span class="sxs-lookup"><span data-stu-id="dd86a-196">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="dd86a-197">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-197">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-198">Le distribuzione di gestione temporanea e di produzione di un servizio cloud sono ospitate nello stesso cluster.</span><span class="sxs-lookup"><span data-stu-id="dd86a-198">The staging deployment and the production deployment of a cloud service are hosted in the same cluster.</span></span> <span data-ttu-id="dd86a-199">Quando si aggiunge la seconda distribuzione, la richiesta di allocazione corrispondente verrà eseguita nello stesso cluster che ospita la prima distribuzione.</span><span class="sxs-lookup"><span data-stu-id="dd86a-199">When you add the second deployment, the corresponding allocation request will be attempted in the same cluster that hosts the first deployment.</span></span>

<span data-ttu-id="dd86a-200">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-200">**Workaround**</span></span>

<span data-ttu-id="dd86a-201">Eliminare la prima distribuzione e il servizio cloud originale, quindi ridistribuire il servizio cloud.</span><span class="sxs-lookup"><span data-stu-id="dd86a-201">Delete the first deployment and the original cloud service and redeploy the cloud service.</span></span> <span data-ttu-id="dd86a-202">Questa azione potrebbe inserire la prima distribuzione in un cluster con risorse disponibili sufficienti per entrambe le distribuzioni o in un cluster che supporta le dimensioni della VM richieste.</span><span class="sxs-lookup"><span data-stu-id="dd86a-202">This action may land the first deployment in a cluster that has enough free resources to fit both deployments or in a cluster that supports the VM sizes that you requested.</span></span>

## <a name="allocation-scenario-affinity-group-vmservice-proximity"></a><span data-ttu-id="dd86a-203">Scenario di allocazione: gruppo di affinità (prossimità di VM o servizi)</span><span class="sxs-lookup"><span data-stu-id="dd86a-203">Allocation scenario: Affinity group (VM/service proximity)</span></span>
<span data-ttu-id="dd86a-204">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-204">**Error**</span></span>

<span data-ttu-id="dd86a-205">New_General * o * New_VMSizeNotSupported</span><span class="sxs-lookup"><span data-stu-id="dd86a-205">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="dd86a-206">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-206">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-207">Qualsiasi risorsa di calcolo assegnata a un gruppo di affinità è associata a un cluster.</span><span class="sxs-lookup"><span data-stu-id="dd86a-207">Any compute resource assigned to an affinity group is tied to one cluster.</span></span> <span data-ttu-id="dd86a-208">Le nuove richieste di risorse di calcolo in quel gruppo di affinità vengono eseguite nello stesso cluster in cui sono ospitate le risorse esistenti.</span><span class="sxs-lookup"><span data-stu-id="dd86a-208">New compute resource requests in that affinity group are attempted in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="dd86a-209">Questo vale indipendentemente dal fatto che le nuove risorse vengano create tramite un servizio cloud nuovo o esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-209">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="dd86a-210">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-210">**Workaround**</span></span>

<span data-ttu-id="dd86a-211">Se un gruppo di affinità non è necessario, non usare un gruppo di affinità o raggruppare le risorse di calcolo in più gruppi di affinità.</span><span class="sxs-lookup"><span data-stu-id="dd86a-211">If an affinity group is not necessary, do not use an affinity group, or group your compute resources into multiple affinity groups.</span></span>

## <a name="allocation-scenario-affinity-group-based-virtual-network"></a><span data-ttu-id="dd86a-212">Scenario di allocazione: rete virtuale basata su gruppi di affinità</span><span class="sxs-lookup"><span data-stu-id="dd86a-212">Allocation scenario: Affinity-group-based virtual network</span></span>
<span data-ttu-id="dd86a-213">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-213">**Error**</span></span>

<span data-ttu-id="dd86a-214">New_General * o * New_VMSizeNotSupported</span><span class="sxs-lookup"><span data-stu-id="dd86a-214">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="dd86a-215">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-215">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-216">Prima dell'introduzione delle reti virtuali dell'area, era necessario associare una rete virtuale a un gruppo di affinità.</span><span class="sxs-lookup"><span data-stu-id="dd86a-216">Before regional virtual networks were introduced, you were required to associate a virtual network with an affinity group.</span></span> <span data-ttu-id="dd86a-217">Di conseguenza, le risorse di calcolo inserite in un gruppo di affinità sono soggette agli stessi vincoli descritti nella sezione "Scenario di allocazione: gruppo di affinità (prossimità di VM o servizi)" riportata sopra.</span><span class="sxs-lookup"><span data-stu-id="dd86a-217">As a result, compute resources placed into an affinity group are bound by the same constraints as described in the "Allocation scenario: Affinity group (VM/service proximity)" section above.</span></span> <span data-ttu-id="dd86a-218">Le risorse di calcolo sono legate a un cluster.</span><span class="sxs-lookup"><span data-stu-id="dd86a-218">The compute resources are tied to one cluster.</span></span>

<span data-ttu-id="dd86a-219">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-219">**Workaround**</span></span>

<span data-ttu-id="dd86a-220">Se il gruppo di affinità non è necessario, creare una nuova rete virtuale dell'area per le nuove risorse aggiunte, quindi [connettere la rete virtuale esistente a quella nuova](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-220">If you do not need an affinity group, create a new regional virtual network for the new resources you're adding, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="dd86a-221">Altre informazioni sulle [reti virtuali a livello di area](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="dd86a-221">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="dd86a-222">In alternativa, è possibile [eseguire la migrazione della rete virtuale basata su gruppi di affinità alla rete virtuale dell'area](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), quindi aggiungere di nuovo le risorse desiderate.</span><span class="sxs-lookup"><span data-stu-id="dd86a-222">Alternatively, you can [migrate your affinity-group-based virtual network to a regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then add the desired resources again.</span></span>

## <a name="detailed-troubleshooting-steps-specific-allocation-failure-scenarios-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="dd86a-223">Procedura di risoluzione dei problemi dettagliata relativa a scenari con errori di allocazione nel modello di distribuzione Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="dd86a-223">Detailed troubleshooting steps specific allocation failure scenarios in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="dd86a-224">Ecco gli scenari di allocazione comuni che causano una richiesta di allocazione da bloccare.</span><span class="sxs-lookup"><span data-stu-id="dd86a-224">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="dd86a-225">Verrà esaminato ogni scenario più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="dd86a-225">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="dd86a-226">Ridimensionare una VM o aggiungere VM o istanze dei ruoli a un servizio cloud esistente</span><span class="sxs-lookup"><span data-stu-id="dd86a-226">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="dd86a-227">Riavviare VM arrestate (deallocate) parzialmente</span><span class="sxs-lookup"><span data-stu-id="dd86a-227">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="dd86a-228">Riavviare VM arrestate (deallocate) completamente</span><span class="sxs-lookup"><span data-stu-id="dd86a-228">Restart fully stopped (deallocated) VMs</span></span>

<span data-ttu-id="dd86a-229">Quando si riceve un errore di allocazione, verificare se uno degli scenari descritti è pertinente con questo errore.</span><span class="sxs-lookup"><span data-stu-id="dd86a-229">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="dd86a-230">Usare l'errore di allocazione restituito dalla piattaforma Azure per identificare lo scenario corrispondente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-230">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="dd86a-231">Se la richiesta è bloccata su un cluster esistente, rimuovere alcuni dei vincoli di blocco per aprire la richiesta a più cluster, aumentando quindi la possibilità di eseguire l'allocazione correttamente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-231">If your request is pinned to an existing cluster, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="dd86a-232">In generale, finché l'errore non indica che le dimensioni della VM richieste non sono supportate, è sempre possibile riprovare in un secondo momento perché nel cluster potrebbero liberarsi risorse sufficienti per soddisfare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="dd86a-232">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="dd86a-233">Se il problema consiste nel fatto che le dimensioni richieste per la VM non sono supportate, vedere di seguito le soluzioni alternative.</span><span class="sxs-lookup"><span data-stu-id="dd86a-233">If the problem is that the requested VM size is not supported, see below for workarounds.</span></span>

## <a name="allocation-scenario-resize-a-vm-or-add-vms-to-an-existing-availability-set"></a><span data-ttu-id="dd86a-234">Scenario di allocazione: ridimensionare una VM o aggiungere VM a un set di disponibilità esistente</span><span class="sxs-lookup"><span data-stu-id="dd86a-234">Allocation scenario: Resize a VM or add VMs to an existing availability set</span></span>
<span data-ttu-id="dd86a-235">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-235">**Error**</span></span>

<span data-ttu-id="dd86a-236">Upgrade_VMSizeNotSupported * o * GeneralError</span><span class="sxs-lookup"><span data-stu-id="dd86a-236">Upgrade_VMSizeNotSupported* or GeneralError*</span></span>

<span data-ttu-id="dd86a-237">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-237">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-238">La richiesta di ridimensionamento di una VM o di aggiunta di una VM a un set di disponibilità esistente deve essere eseguita nel cluster originale che ospita il set di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-238">A request to resize a VM or add a VM to an existing availability set has to be attempted at the original cluster that hosts the existing availability set.</span></span> <span data-ttu-id="dd86a-239">La creazione di un nuovo set di disponibilità consente alla piattaforma Azure di trovare un altro cluster con risorse disponibili o che supporti le dimensioni della VM richieste.</span><span class="sxs-lookup"><span data-stu-id="dd86a-239">Creating a new availability set allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="dd86a-240">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-240">**Workaround**</span></span>

<span data-ttu-id="dd86a-241">Se l'errore è Upgrade_VMSizeNotSupported*, provare con dimensioni della VM diverse.</span><span class="sxs-lookup"><span data-stu-id="dd86a-241">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="dd86a-242">Se non è possibile usare dimensioni della VM diverse, arrestare tutte le VM nel set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="dd86a-242">If using a different VM size is not an option, stop all VMs in the availability set.</span></span> <span data-ttu-id="dd86a-243">In questo modo, è possibile modificare le dimensioni della macchina virtuale che alloca la VM a un cluster che supporta le dimensioni della VM desiderate.</span><span class="sxs-lookup"><span data-stu-id="dd86a-243">You can then change the size of the virtual machine that will allocate the VM to a cluster that supports the desired VM size.</span></span>

<span data-ttu-id="dd86a-244">Se l'errore è GeneralError, è probabile che il tipo di risorsa (ad esempio, le dimensioni specifiche della VM) sia supportato dal cluster, che al momento non dispone di risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="dd86a-244">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="dd86a-245">Se la VM può far parte di un set di disponibilità diverso, creare una nuova VM in un altro set di disponibilità nella stessa area.</span><span class="sxs-lookup"><span data-stu-id="dd86a-245">If the VM can be part of a different availability set, create a new VM in a different availability set (in the same region).</span></span> <span data-ttu-id="dd86a-246">La nuova VM può quindi essere aggiunta alla stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="dd86a-246">This new VM can then be added to the same virtual network.</span></span>  

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="dd86a-247">Scenario di allocazione: riavviare VM arrestate (deallocate) parzialmente</span><span class="sxs-lookup"><span data-stu-id="dd86a-247">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="dd86a-248">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-248">**Error**</span></span>

<span data-ttu-id="dd86a-249">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="dd86a-249">GeneralError*</span></span>

<span data-ttu-id="dd86a-250">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-250">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-251">La deallocazione parziale significa che una o più VM in un set di disponibilità sono state arrestate (deallocate), ma non tutte.</span><span class="sxs-lookup"><span data-stu-id="dd86a-251">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in an availability set.</span></span> <span data-ttu-id="dd86a-252">Quando si arresta (viene deallocata) una VM, vengono rilasciate le risorse associate.</span><span class="sxs-lookup"><span data-stu-id="dd86a-252">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="dd86a-253">Il riavvio della VM arrestata (deallocata) è quindi una nuova richiesta di allocazione.</span><span class="sxs-lookup"><span data-stu-id="dd86a-253">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="dd86a-254">Riavviare le VM in un set di disponibilità parzialmente deallocato equivale ad aggiungere VM a un set di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-254">Restarting VMs in a partially deallocated availability set is equivalent to adding VMs to an existing availability set.</span></span> <span data-ttu-id="dd86a-255">La richiesta di allocazione deve essere eseguita nel cluster originale che ospita il set di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-255">The allocation request has to be attempted at the original cluster that hosts the existing availability set.</span></span>

<span data-ttu-id="dd86a-256">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-256">**Workaround**</span></span>

<span data-ttu-id="dd86a-257">Arrestare tutte le VM nel set di disponibilità prima di riavviare la prima.</span><span class="sxs-lookup"><span data-stu-id="dd86a-257">Stop all VMs in the availability set before restarting the first one.</span></span> <span data-ttu-id="dd86a-258">Questo garantisce che venga eseguito un nuovo tentativo di allocazione e che si possa selezionare un nuovo cluster con capacità disponibile.</span><span class="sxs-lookup"><span data-stu-id="dd86a-258">This will ensure that a new allocation attempt is run and that a new cluster can be selected that has available capacity.</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated"></a><span data-ttu-id="dd86a-259">Scenario di allocazione: riavviare in caso di arresto (deallocazione) completo</span><span class="sxs-lookup"><span data-stu-id="dd86a-259">Allocation scenario: Restart fully stopped (deallocated)</span></span>
<span data-ttu-id="dd86a-260">**Errore**</span><span class="sxs-lookup"><span data-stu-id="dd86a-260">**Error**</span></span>

<span data-ttu-id="dd86a-261">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="dd86a-261">GeneralError*</span></span>

<span data-ttu-id="dd86a-262">**Causa del blocco su un cluster**</span><span class="sxs-lookup"><span data-stu-id="dd86a-262">**Cause of cluster pinning**</span></span>

<span data-ttu-id="dd86a-263">La deallocazione completa significa che sono state arrestate (deallocate) tutte le VM in un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="dd86a-263">Full deallocation means that you stopped (deallocated) all VMs in an availability set.</span></span> <span data-ttu-id="dd86a-264">La richiesta di allocazione per il riavvio di queste VM viene eseguita in tutti i cluster che supportano le dimensioni desiderate.</span><span class="sxs-lookup"><span data-stu-id="dd86a-264">The allocation request to restart these VMs will target all clusters that support the desired size.</span></span>

<span data-ttu-id="dd86a-265">**Soluzione alternativa**</span><span class="sxs-lookup"><span data-stu-id="dd86a-265">**Workaround**</span></span>

<span data-ttu-id="dd86a-266">Selezionare una nuova dimensione di VM da allocare.</span><span class="sxs-lookup"><span data-stu-id="dd86a-266">Select a new VM size to allocate.</span></span> <span data-ttu-id="dd86a-267">Se non funziona, riprovare in seguito.</span><span class="sxs-lookup"><span data-stu-id="dd86a-267">If this does not work, please try again later.</span></span>

## <a name="error-string-lookup"></a><span data-ttu-id="dd86a-268">Ricerca della stringa di errore</span><span class="sxs-lookup"><span data-stu-id="dd86a-268">Error string lookup</span></span>
<span data-ttu-id="dd86a-269">**New_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="dd86a-269">**New_VMSizeNotSupported***</span></span>

<span data-ttu-id="dd86a-270">"Impossibile eseguire il provisioning delle dimensioni della macchina virtuale (o della combinazione di dimensioni delle macchine virtuali) richieste da questa distribuzione, a causa di vincoli della richiesta di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="dd86a-270">"The VM size (or combination of VM sizes) required by this deployment cannot be provisioned due to deployment request constraints.</span></span> <span data-ttu-id="dd86a-271">Se possibile, provare a rilasciare vincoli quali associazioni a reti virtuali, distribuzione a un servizio ospitato che non include alcun'altra distribuzione e a un gruppo di affinità diverso o senza alcun gruppo di affinità oppure provare a distribuire in un'area diversa".</span><span class="sxs-lookup"><span data-stu-id="dd86a-271">If possible, try relaxing constraints such as virtual network bindings, deploying to a hosted service with no other deployment in it and to a different affinity group or with no affinity group, or try deploying to a different region."</span></span>

<span data-ttu-id="dd86a-272">**New_General***</span><span class="sxs-lookup"><span data-stu-id="dd86a-272">**New_General***</span></span>

<span data-ttu-id="dd86a-273">Allocazione non riuscita. Impossibile soddisfare i vincoli nella richiesta.</span><span class="sxs-lookup"><span data-stu-id="dd86a-273">"Allocation failed; unable to satisfy constraints in request.</span></span> <span data-ttu-id="dd86a-274">La nuova distribuzione del servizio richiesta è vincolata a un gruppo di affinità, ha come destinazione una rete virtuale o è presente una distribuzione esistente in questo servizio ospitato.</span><span class="sxs-lookup"><span data-stu-id="dd86a-274">The requested new service deployment is bound to an affinity group, or it targets a virtual network, or there is an existing deployment under this hosted service.</span></span> <span data-ttu-id="dd86a-275">Una di queste condizioni vincola la nuova distribuzione a risorse Azure specifiche.</span><span class="sxs-lookup"><span data-stu-id="dd86a-275">Any of these conditions constrains the new deployment to specific Azure resources.</span></span> <span data-ttu-id="dd86a-276">Riprovare più tardi o provare a ridurre le dimensioni della macchina virtuale o il numero di istanze del ruolo.</span><span class="sxs-lookup"><span data-stu-id="dd86a-276">Please retry later or try reducing the VM size or number of role instances.</span></span> <span data-ttu-id="dd86a-277">In alternativa, è possibile rimuovere i vincoli sopra indicati o tentare di distribuire in un'area diversa".</span><span class="sxs-lookup"><span data-stu-id="dd86a-277">Alternatively, if possible, remove the aforementioned constraints or try deploying to a different region."</span></span>

<span data-ttu-id="dd86a-278">**Upgrade_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="dd86a-278">**Upgrade_VMSizeNotSupported***</span></span>

<span data-ttu-id="dd86a-279">"Non è possibile eseguire l'aggiornamento della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="dd86a-279">"Unable to upgrade the deployment.</span></span> <span data-ttu-id="dd86a-280">È possibile che la dimensione della macchina virtuale XXX richiesta non sia disponibile nella distribuzione esistente.</span><span class="sxs-lookup"><span data-stu-id="dd86a-280">The requested VM size XXX may not be available in the resources supporting the existing deployment.</span></span> <span data-ttu-id="dd86a-281">Riprovare più tardi, provare con una dimensione della macchina virtuale diversa o con un numero minore di istanze del ruolo oppure creare una distribuzione in un servizio ospitato vuoto con un nuovo gruppo di affinità o senza associazione a un gruppo di affinità".</span><span class="sxs-lookup"><span data-stu-id="dd86a-281">Please try again later, try with a different VM size or smaller number of role instances, or create a deployment under an empty hosted service with a new affinity group or no affinity group binding."</span></span>

<span data-ttu-id="dd86a-282">**GeneralError***</span><span class="sxs-lookup"><span data-stu-id="dd86a-282">**GeneralError***</span></span>

<span data-ttu-id="dd86a-283">"Errore interno del server.</span><span class="sxs-lookup"><span data-stu-id="dd86a-283">"The server encountered an internal error.</span></span> <span data-ttu-id="dd86a-284">Ritentare la richiesta"</span><span class="sxs-lookup"><span data-stu-id="dd86a-284">Please retry the request."</span></span> <span data-ttu-id="dd86a-285">o "Non è stato possibile produrre un'allocazione per il servizio".</span><span class="sxs-lookup"><span data-stu-id="dd86a-285">Or "Failed to produce an allocation for the service."</span></span>

