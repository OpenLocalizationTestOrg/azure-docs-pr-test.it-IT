---
title: Come mantenere un indirizzo IP virtuale costante per un servizio cloud di Azure | Microsoft Docs
description: Informazioni su come assicurare che l'indirizzo IP virtuale (indirizzo VIP) del servizio cloud di Azure non subisca modifiche.
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 4a58e2c6-7a79-4051-8a2c-99182ff8b881
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 03/21/2017
ms.author: kraigb
ms.openlocfilehash: a76bcba5ab4ca8e1a4899e4aa28f734c09af2aa9
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/29/2017
---
# <a name="retain-a-constant-virtual-ip-address-for-an-azure-cloud-service"></a><span data-ttu-id="d79e9-103">Mantenere un indirizzo IP virtuale costante per un servizio cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="d79e9-103">Retain a constant virtual IP address for an Azure cloud service</span></span>
<span data-ttu-id="d79e9-104">Quando si aggiorna un servizio cloud ospitato in Azure, potrebbe essere necessario assicurare che l'indirizzo IP virtuale (indirizzo VIP) del servizio non subisca modifiche.</span><span class="sxs-lookup"><span data-stu-id="d79e9-104">When you update a cloud service that's hosted in Azure, you might need to ensure that the virtual IP address (VIP) of the service doesn't change.</span></span> <span data-ttu-id="d79e9-105">Molti servizi di gestione di dominio usano DNS (Domain Name System) per la registrazione dei nomi di dominio.</span><span class="sxs-lookup"><span data-stu-id="d79e9-105">Many domain management services use the Domain Name System (DNS) for registering domain names.</span></span> <span data-ttu-id="d79e9-106">DNS funziona solo se l'indirizzo VIP rimane invariato.</span><span class="sxs-lookup"><span data-stu-id="d79e9-106">DNS works only if the VIP remains the same.</span></span> <span data-ttu-id="d79e9-107">È possibile usare la **Pubblicazione guidata** in Strumenti di Azure per assicurare che l'indirizzo VIP del servizio cloud non cambi in caso di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="d79e9-107">You can use the **Publish Wizard** in Azure Tools to ensure that the VIP of your cloud service doesn’t change when you update it.</span></span> <span data-ttu-id="d79e9-108">Per altre informazioni su come usare la gestione dei domini DNS per i servizi cloud, vedere [Configurazione di un nome di dominio personalizzato per un servizio cloud di Azure](cloud-services/cloud-services-custom-domain-name.md).</span><span class="sxs-lookup"><span data-stu-id="d79e9-108">For more information about how to use DNS domain management for cloud services, see [Configuring a custom domain name for an Azure cloud service](cloud-services/cloud-services-custom-domain-name.md).</span></span>

## <a name="publish-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="d79e9-109">Pubblicare un servizio cloud senza modifica dell'indirizzo VIP</span><span class="sxs-lookup"><span data-stu-id="d79e9-109">Publish a cloud service without changing its VIP</span></span>
<span data-ttu-id="d79e9-110">L'indirizzo VIP di un servizio cloud viene allocato alla prima distribuzione in Azure in un ambiente specifico, ad esempio l'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d79e9-110">The VIP of a cloud service is allocated when you first deploy it to Azure in a particular environment, such as the production environment.</span></span> <span data-ttu-id="d79e9-111">L'indirizzo VIP viene modificato solo se si elimina esplicitamente la distribuzione o se la si elimina implicitamente mediante il processo di aggiornamento della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d79e9-111">The VIP changes only if you delete the deployment explicitly or the deployment is implicitly deleted by the deployment update process.</span></span> <span data-ttu-id="d79e9-112">Per mantenere l'indirizzo VIP, è necessario non eliminare la distribuzione e assicurare che Visual Studio non la elimini automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d79e9-112">To retain the VIP, you must not delete your deployment, and you must make sure that Visual Studio doesn’t delete your deployment automatically.</span></span> 

<span data-ttu-id="d79e9-113">È possibile specificare le impostazioni di distribuzione nella **Pubblicazione guidata**, che supporta alcune opzioni di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d79e9-113">You can specify deployment settings in the **Publish Wizard**, which supports several deployment options.</span></span> <span data-ttu-id="d79e9-114">È possibile specificare una nuova distribuzione o una distribuzione di aggiornamento, che può essere incrementale o simultanea.</span><span class="sxs-lookup"><span data-stu-id="d79e9-114">You can specify a fresh deployment or an update deployment, which can be incremental or simultaneous.</span></span> <span data-ttu-id="d79e9-115">Entrambi i tipi di distribuzione di aggiornamento mantengono l'indirizzo VIP.</span><span class="sxs-lookup"><span data-stu-id="d79e9-115">Both kinds of update deployment retain the VIP.</span></span> <span data-ttu-id="d79e9-116">Per definizioni di questi diversi tipi di distribuzione, vedere [Procedura guidata Pubblica l'applicazione Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="d79e9-116">For definitions of these different types of deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span> <span data-ttu-id="d79e9-117">È anche possibile controllare se la distribuzione precedente di un servizio cloud viene eliminata in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="d79e9-117">In addition, you can control whether the previous deployment of a cloud service is deleted if an error occurs.</span></span> <span data-ttu-id="d79e9-118">Se l'opzione non viene impostata correttamente, è possibile che l'indirizzo VIP cambi in modo imprevisto.</span><span class="sxs-lookup"><span data-stu-id="d79e9-118">If you don't set that option correctly, the VIP might change unexpectedly.</span></span>

## <a name="update-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="d79e9-119">Aggiornare un servizio cloud senza modifica dell'indirizzo VIP</span><span class="sxs-lookup"><span data-stu-id="d79e9-119">Update a cloud service without changing its VIP</span></span>
1. <span data-ttu-id="d79e9-120">Creare o aprire un progetto del servizio cloud di Azure in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d79e9-120">Create or open an Azure cloud service project in Visual Studio.</span></span> 

2. <span data-ttu-id="d79e9-121">In **Esplora soluzioni** fare clic con il pulsante destro del mouse sul progetto.</span><span class="sxs-lookup"><span data-stu-id="d79e9-121">In **Solution Explorer**, right-click the project.</span></span> <span data-ttu-id="d79e9-122">Dal menu di scelta rapida selezionare **Pubblicare**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-122">On the shortcut menu, select **Publish**.</span></span>

    ![Menu Pubblica](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/solution-explorer-publish-menu.png)

3. <span data-ttu-id="d79e9-124">Nella finestra di dialogo **Pubblica applicazione Azure**, selezionare la sottoscrizione di Azure in cui si desidera distribuire.</span><span class="sxs-lookup"><span data-stu-id="d79e9-124">In the **Publish Azure Application** dialog box, select the Azure subscription to which you want to deploy.</span></span> <span data-ttu-id="d79e9-125">Effettuare l'accesso se necessario, quindi selezionare **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-125">Sign in if necessary, and select **Next**.</span></span>

    ![Pagina di accesso Pubblica applicazione Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-signin.png)

4. <span data-ttu-id="d79e9-127">Nella scheda **Impostazioni comuni** verificare che il nome del servizio cloud in cui si esegue la distribuzione e i valori per **Ambiente**, **Configurazione della build** e **Configurazione del servizio** siano corretti.</span><span class="sxs-lookup"><span data-stu-id="d79e9-127">On the **Common Settings** tab, verify that the name of the cloud service to which you’re deploying, the **Environment**, the **Build configuration**, and the **Service configuration** are all correct.</span></span>

    ![Scheda delle impostazioni comuni di Pubblica applicazione Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-common-settings.png)

5. <span data-ttu-id="d79e9-129">Nella scheda **Impostazioni avanzate** verificare che il **Etichetta distribuzione** e **Account di archiviazione** siano corretti.</span><span class="sxs-lookup"><span data-stu-id="d79e9-129">On the **Advanced Settings** tab, verify that the **Deployment label** and the **Storage account** are correct.</span></span> <span data-ttu-id="d79e9-130">Verificare che la casella di controllo **Elimina distribuzione in caso di errore** sia deselezionata e che sia selezionata la casella di controllo **Aggiornamento distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-130">Verify that the **Delete deployment on failure** check box is cleared, and verify that the **Deployment update** check box is selected.</span></span> <span data-ttu-id="d79e9-131">Deselezionando la casella di controllo **Elimina distribuzione in caso di errore**, si assicura che l'indirizzo VIP non andrà perso in caso di errore durante la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d79e9-131">By clearing the **Delete deployment on failure** check box, you ensure that your VIP isn't lost if an error occurs during deployment.</span></span> <span data-ttu-id="d79e9-132">Se si seleziona la casella di controllo **Aggiornamento distribuzione**, si assicura che la distribuzione non verrà eliminata e che l'indirizzo VIP non andrà perso quando si ripubblica l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d79e9-132">By selecting the **Deployment update** check box, you ensure that your deployment isn't deleted and your VIP isn't lost when you republish your application.</span></span> 

    ![Scheda delle impostazioni avanzate di Pubblica applicazione Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-advanced-settings.png)

6. <span data-ttu-id="d79e9-134">Per specificare ulteriormente come aggiornare i ruoli, selezionare **Impostazioni** accanto ad **Aggiornamento distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-134">To further specify how you want the roles to be updated, select **Settings** next to **Deployment update**.</span></span> <span data-ttu-id="d79e9-135">Selezionare **Aggiornamento incrementale** o **Simultaneous update** (Aggiornamento simultaneo) e scegliere **OK**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-135">Select either **Incremental update** or **Simultaneous update**, and select **OK**.</span></span> <span data-ttu-id="d79e9-136">Se si sceglie **Aggiornamento incrementale**, le istanze dell'applicazione vengono aggiornate una dopo l'altra, in modo che l'applicazione sia sempre disponibile.</span><span class="sxs-lookup"><span data-stu-id="d79e9-136">Choose **Incremental update** to update each instance of your application, one after another, so that the application is always available.</span></span> <span data-ttu-id="d79e9-137">Se si sceglie **Simultaneous update** (Aggiornamento simultaneo), tutte le istanze dell'applicazione vengono aggiornate contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="d79e9-137">Choose **Simultaneous update** to update all instances of your application at the same time.</span></span> <span data-ttu-id="d79e9-138">L'aggiornamento simultaneo è più veloce, ma è possibile che il servizio non sia disponibile durante il processo di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="d79e9-138">Simultaneous updating is faster, but your service might not be available during the update process.</span></span> <span data-ttu-id="d79e9-139">Al termine dell'operazione, scegliere **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-139">When you are finished, select **Next**.</span></span>

    ![Pagina delle impostazioni di distribuzione di Pubblica applicazione Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-deployment-update-settings.png)

7. <span data-ttu-id="d79e9-141">Quando si ritorna alla finestra di dialogo **Pubblica applicazione Azure**, selezionare **Avanti** fino a quando non viene visualizzata la pagina **Riepilogo**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-141">In the **Publish Azure Application** dialog box, select **Next** until the **Summary** page is displayed.</span></span> <span data-ttu-id="d79e9-142">Verificare le impostazioni e quindi selezionare **Pubblica**.</span><span class="sxs-lookup"><span data-stu-id="d79e9-142">Verify your settings, and then select **Publish**.</span></span>
   
    ![Pagina di riepilogo di Pubblica applicazione Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-summary.png)

## <a name="next-steps"></a><span data-ttu-id="d79e9-144">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="d79e9-144">Next steps</span></span>
- [<span data-ttu-id="d79e9-145">Usare della procedura guidata Pubblica l'applicazione Azure di Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d79e9-145">Using the Visual Studio Publish Azure Application Wizard</span></span>](vs-azure-tools-publish-azure-application-wizard.md)

