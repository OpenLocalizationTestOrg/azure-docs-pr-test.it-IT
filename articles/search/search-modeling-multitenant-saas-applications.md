---
title: aaaModeling multi-tenancy in ricerca di Azure | Documenti Microsoft
description: Informazioni sui modelli di progettazione comuni per le applicazioni SaaS multi-tenant quando si usa Ricerca di Azure.
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: dd46cda772d32566b9aaa18d407f12fdf178bd43
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="40a56-103">Modelli di progettazione per le applicazioni SaaS multi-tenant e Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="40a56-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="40a56-104">Un'applicazione multi-tenant è uno hello fornisce la stessa funzionalità e i servizi tooany svariati tenant che non possono vedere o condividere i dati di hello di un altro tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-104">A multitenant application is one that provides hello same services and capabilities tooany number of tenants who cannot see or share hello data of any other tenant.</span></span> <span data-ttu-id="40a56-105">Questo documento illustra le strategie di isolamento dei tenant per le applicazioni multi-tenant compilate con Ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40a56-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="40a56-106">Concetti di Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="40a56-106">Azure Search concepts</span></span>
<span data-ttu-id="40a56-107">Come soluzione ricerca-as-a-service, ricerca di Azure consente di ricerca avanzate di sviluppatori tooadd esperienze tooapplications senza gestire qualsiasi infrastruttura o diventare esperti di ricerca.</span><span class="sxs-lookup"><span data-stu-id="40a56-107">As a search-as-a-service solution, Azure Search allows developers tooadd rich search experiences tooapplications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="40a56-108">Dati caricati toohello servizio e quindi archiviate nel cloud hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-108">Data is uploaded toohello service and then stored in hello cloud.</span></span> <span data-ttu-id="40a56-109">Utilizza toohello semplici richieste API di ricerca di Azure, dati hello possono quindi essere modificati e la ricerca.</span><span class="sxs-lookup"><span data-stu-id="40a56-109">Using simple requests toohello Azure Search API, hello data can then be modified and searched.</span></span> <span data-ttu-id="40a56-110">Una panoramica del servizio hello è reperibile [questo articolo](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="40a56-110">An overview of hello service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="40a56-111">Prima di esaminare i modelli di progettazione, è importante toounderstand alcuni concetti nella ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40a56-111">Before discussing design patterns, it is important toounderstand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="40a56-112">Servizi di ricerca, indici, campi e documenti</span><span class="sxs-lookup"><span data-stu-id="40a56-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="40a56-113">Quando si usa ricerca di Azure, uno sottoscrive tooa *servizio di ricerca*.</span><span class="sxs-lookup"><span data-stu-id="40a56-113">When using Azure Search, one subscribes tooa *search service*.</span></span> <span data-ttu-id="40a56-114">Come dati caricati tooAzure ricerca, viene archiviata in un *indice* all'interno del servizio di ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-114">As data is uploaded tooAzure Search, it is stored in an *index* within hello search service.</span></span> <span data-ttu-id="40a56-115">In un solo servizio possono essere presenti molti indici.</span><span class="sxs-lookup"><span data-stu-id="40a56-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="40a56-116">toouse hello conoscere i concetti di database, il servizio di ricerca hello può essere paragonata tooa database mentre gli indici di hello all'interno di un servizio possono essere paragonate tootables all'interno di un database.</span><span class="sxs-lookup"><span data-stu-id="40a56-116">toouse hello familiar concepts of databases, hello search service can be likened tooa database while hello indexes within a service can be likened tootables within a database.</span></span>

<span data-ttu-id="40a56-117">Ogni indice all'interno di un servizio di ricerca ha un proprio schema, definito da un certo numero di *campi*personalizzabili.</span><span class="sxs-lookup"><span data-stu-id="40a56-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="40a56-118">Indice di ricerca di Azure tooan vengono aggiunti dati sotto forma di hello di singoli *documenti*.</span><span class="sxs-lookup"><span data-stu-id="40a56-118">Data is added tooan Azure Search index in hello form of individual *documents*.</span></span> <span data-ttu-id="40a56-119">Deve essere caricato tooa particolare indice di ogni documento e deve essere contenuta dello schema di tale indice.</span><span class="sxs-lookup"><span data-stu-id="40a56-119">Each document must be uploaded tooa particular index and must fit that index's schema.</span></span> <span data-ttu-id="40a56-120">Durante la ricerca di dati mediante ricerca di Azure, le query di ricerca full-text hello inviate a un particolare indice.</span><span class="sxs-lookup"><span data-stu-id="40a56-120">When searching data using Azure Search, hello full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="40a56-121">toocompare toothose questi concetti di un database, i campi possono essere paragonate toocolumns in una tabella e i documenti possono essere paragonate toorows.</span><span class="sxs-lookup"><span data-stu-id="40a56-121">toocompare these concepts toothose of a database, fields can be likened toocolumns in a table and documents can be likened toorows.</span></span>

### <a name="scalability"></a><span data-ttu-id="40a56-122">Scalabilità</span><span class="sxs-lookup"><span data-stu-id="40a56-122">Scalability</span></span>
<span data-ttu-id="40a56-123">Qualsiasi servizio di ricerca di Azure in hello Standard [tariffario](https://azure.microsoft.com/pricing/details/search/) possibile scalare in due dimensioni: archiviazione e la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="40a56-123">Any Azure Search service in hello Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="40a56-124">*Partizioni* possono essere aggiunti archiviazione hello tooincrease di un servizio di ricerca.</span><span class="sxs-lookup"><span data-stu-id="40a56-124">*Partitions* can be added tooincrease hello storage of a search service.</span></span>
* <span data-ttu-id="40a56-125">*Repliche* possono essere aggiunti tooa servizio tooincrease hello velocità di trasmissione di richieste in grado di gestire un servizio di ricerca.</span><span class="sxs-lookup"><span data-stu-id="40a56-125">*Replicas* can be added tooa service tooincrease hello throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="40a56-126">Aggiunta e rimozione di partizioni e repliche a consentirà la capacità di hello di hello ricerca servizio toogrow con quantità hello di dati e il traffico di richieste dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-126">Adding and removing partitions and replicas at will allow hello capacity of hello search service toogrow with hello amount of data and traffic hello application demands.</span></span> <span data-ttu-id="40a56-127">Per consentire un tooachieve servizio di ricerca una lettura [contratto di servizio](https://azure.microsoft.com/support/legal/sla/search/v1_0/), richiede due repliche.</span><span class="sxs-lookup"><span data-stu-id="40a56-127">In order for a search service tooachieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="40a56-128">In modo che un servizio tooachieve in lettura-scrittura [contratto di servizio](https://azure.microsoft.com/support/legal/sla/search/v1_0/), richiede tre repliche.</span><span class="sxs-lookup"><span data-stu-id="40a56-128">In order for a service tooachieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="40a56-129">Limiti dei servizi e degli indici in Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="40a56-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="40a56-130">Ci sono alcuni diversi [i livelli di prezzo](https://azure.microsoft.com/pricing/details/search/) in ricerca di Azure, ognuno dei livelli di hello presenta diversi [limiti e quote](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="40a56-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of hello tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="40a56-131">Alcuni di questi limiti sono hello a livello di servizio, alcune sono a livello di indice hello e alcuni sono a livello di partizione hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-131">Some of these limits are at hello service-level, some are at hello index-level, and some are at hello partition-level.</span></span>

|  | <span data-ttu-id="40a56-132">Basic</span><span class="sxs-lookup"><span data-stu-id="40a56-132">Basic</span></span> | <span data-ttu-id="40a56-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="40a56-133">Standard1</span></span> | <span data-ttu-id="40a56-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="40a56-134">Standard2</span></span> | <span data-ttu-id="40a56-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="40a56-135">Standard3</span></span> | <span data-ttu-id="40a56-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="40a56-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="40a56-137">Massimo numero di repliche per servizio</span><span class="sxs-lookup"><span data-stu-id="40a56-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="40a56-138">3</span><span class="sxs-lookup"><span data-stu-id="40a56-138">3</span></span> |<span data-ttu-id="40a56-139">12</span><span class="sxs-lookup"><span data-stu-id="40a56-139">12</span></span> |<span data-ttu-id="40a56-140">12</span><span class="sxs-lookup"><span data-stu-id="40a56-140">12</span></span> |<span data-ttu-id="40a56-141">12</span><span class="sxs-lookup"><span data-stu-id="40a56-141">12</span></span> |<span data-ttu-id="40a56-142">12</span><span class="sxs-lookup"><span data-stu-id="40a56-142">12</span></span> |
| <span data-ttu-id="40a56-143">Massimo numero di partizioni per servizio</span><span class="sxs-lookup"><span data-stu-id="40a56-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="40a56-144">1</span><span class="sxs-lookup"><span data-stu-id="40a56-144">1</span></span> |<span data-ttu-id="40a56-145">12</span><span class="sxs-lookup"><span data-stu-id="40a56-145">12</span></span> |<span data-ttu-id="40a56-146">12</span><span class="sxs-lookup"><span data-stu-id="40a56-146">12</span></span> |<span data-ttu-id="40a56-147">12</span><span class="sxs-lookup"><span data-stu-id="40a56-147">12</span></span> |<span data-ttu-id="40a56-148">1</span><span class="sxs-lookup"><span data-stu-id="40a56-148">1</span></span> |
| <span data-ttu-id="40a56-149">Massimo numero di unità di ricerca (repliche * partizioni) per servizio</span><span class="sxs-lookup"><span data-stu-id="40a56-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="40a56-150">3</span><span class="sxs-lookup"><span data-stu-id="40a56-150">3</span></span> |<span data-ttu-id="40a56-151">36</span><span class="sxs-lookup"><span data-stu-id="40a56-151">36</span></span> |<span data-ttu-id="40a56-152">36</span><span class="sxs-lookup"><span data-stu-id="40a56-152">36</span></span> |<span data-ttu-id="40a56-153">36</span><span class="sxs-lookup"><span data-stu-id="40a56-153">36</span></span> |<span data-ttu-id="40a56-154">36 (max 3 partizioni)</span><span class="sxs-lookup"><span data-stu-id="40a56-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="40a56-155">Massimo numero di documenti per servizio</span><span class="sxs-lookup"><span data-stu-id="40a56-155">Maximum Documents per Service</span></span> |<span data-ttu-id="40a56-156">1 milione</span><span class="sxs-lookup"><span data-stu-id="40a56-156">1 million</span></span> |<span data-ttu-id="40a56-157">180 milioni</span><span class="sxs-lookup"><span data-stu-id="40a56-157">180 million</span></span> |<span data-ttu-id="40a56-158">720 milioni</span><span class="sxs-lookup"><span data-stu-id="40a56-158">720 million</span></span> |<span data-ttu-id="40a56-159">1,4 miliardi</span><span class="sxs-lookup"><span data-stu-id="40a56-159">1.4 billion</span></span> |<span data-ttu-id="40a56-160">600 milioni</span><span class="sxs-lookup"><span data-stu-id="40a56-160">600 million</span></span> |
| <span data-ttu-id="40a56-161">Massimo spazio di archiviazione per servizio</span><span class="sxs-lookup"><span data-stu-id="40a56-161">Maximum Storage per Service</span></span> |<span data-ttu-id="40a56-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-162">2 GB</span></span> |<span data-ttu-id="40a56-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-163">300 GB</span></span> |<span data-ttu-id="40a56-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="40a56-164">1.2 TB</span></span> |<span data-ttu-id="40a56-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="40a56-165">2.4 TB</span></span> |<span data-ttu-id="40a56-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-166">600 GB</span></span> |
| <span data-ttu-id="40a56-167">Massimo numero di documenti per partizione</span><span class="sxs-lookup"><span data-stu-id="40a56-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="40a56-168">1 milione</span><span class="sxs-lookup"><span data-stu-id="40a56-168">1 million</span></span> |<span data-ttu-id="40a56-169">15 milioni</span><span class="sxs-lookup"><span data-stu-id="40a56-169">15 million</span></span> |<span data-ttu-id="40a56-170">60 milioni</span><span class="sxs-lookup"><span data-stu-id="40a56-170">60 million</span></span> |<span data-ttu-id="40a56-171">120 milioni</span><span class="sxs-lookup"><span data-stu-id="40a56-171">120 million</span></span> |<span data-ttu-id="40a56-172">200 milioni</span><span class="sxs-lookup"><span data-stu-id="40a56-172">200 million</span></span> |
| <span data-ttu-id="40a56-173">Massimo spazio di archiviazione per partizione</span><span class="sxs-lookup"><span data-stu-id="40a56-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="40a56-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-174">2 GB</span></span> |<span data-ttu-id="40a56-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-175">25 GB</span></span> |<span data-ttu-id="40a56-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-176">100 GB</span></span> |<span data-ttu-id="40a56-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-177">200 GB</span></span> |<span data-ttu-id="40a56-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="40a56-178">200 GB</span></span> |
| <span data-ttu-id="40a56-179">Massimo numero di indici per servizio</span><span class="sxs-lookup"><span data-stu-id="40a56-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="40a56-180">5</span><span class="sxs-lookup"><span data-stu-id="40a56-180">5</span></span> |<span data-ttu-id="40a56-181">50</span><span class="sxs-lookup"><span data-stu-id="40a56-181">50</span></span> |<span data-ttu-id="40a56-182">200</span><span class="sxs-lookup"><span data-stu-id="40a56-182">200</span></span> |<span data-ttu-id="40a56-183">200</span><span class="sxs-lookup"><span data-stu-id="40a56-183">200</span></span> |<span data-ttu-id="40a56-184">3000 (max 1000 indici/partizione)</span><span class="sxs-lookup"><span data-stu-id="40a56-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="40a56-185">S3 ad alta densità</span><span class="sxs-lookup"><span data-stu-id="40a56-185">S3 High Density'</span></span>
<span data-ttu-id="40a56-186">Nel livello di prezzo S3 della ricerca di Azure, è disponibile un'opzione per la modalità di densità elevata (HD) hello appositamente progettata per scenari multi-tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-186">In Azure Search’s S3 pricing tier, there is an option for hello High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="40a56-187">In molti casi, è necessario toosupport un numero elevato di tenant più piccoli in vantaggi di hello tooachieve un singolo servizio di semplicità e costi ridotti.</span><span class="sxs-lookup"><span data-stu-id="40a56-187">In many cases, it is necessary toosupport a large number of smaller tenants under a single service tooachieve hello benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="40a56-188">S3 HD consente hello molti indici di dimensioni toobe compressi in Gestione hello di un servizio di ricerca singola dal commerciali hello possibilità tooscale gli indici di utilizzo di partizioni per hello possibilità toohost più indici in un singolo servizio.</span><span class="sxs-lookup"><span data-stu-id="40a56-188">S3 HD allows for hello many small indexes toobe packed under hello management of a single search service by trading hello ability tooscale out indexes using partitions for hello ability toohost more indexes in a single service.</span></span>

<span data-ttu-id="40a56-189">In concreto, un servizio S3 potrebbe essere compresi tra 1 e 200 indici che può ospitare contemporaneamente i miliardi documenti too1.4.</span><span class="sxs-lookup"><span data-stu-id="40a56-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up too1.4 billion documents.</span></span> <span data-ttu-id="40a56-190">Un HD S3 su hello invece consentirebbe singoli indici tooonly salire too1 milioni documenti, ma in grado di gestire backup too1000 indici per ogni partizione (backup too3000 per ogni servizio) con un numero di documenti totale di 200 milioni per partizione (backup too600 milioni di servizio).</span><span class="sxs-lookup"><span data-stu-id="40a56-190">An S3 HD on hello other hand would allow individual indexes tooonly go up too1 million documents, but it can handle up too1000 indexes per partition (up too3000 per service) with a total document count of 200 million per partition (up too600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="40a56-191">Considerazioni per le applicazioni multi-tenant</span><span class="sxs-lookup"><span data-stu-id="40a56-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="40a56-192">Applicazioni multi-tenant devono distribuire efficacemente i risorse fra tenant hello mantenendo un certo livello di privacy tra hello tenant diversi.</span><span class="sxs-lookup"><span data-stu-id="40a56-192">Multitenant applications must effectively distribute resources among hello tenants while preserving some level of privacy between hello various tenants.</span></span> <span data-ttu-id="40a56-193">Quando si progetta l'architettura di hello per tale applicazione, esistono alcune considerazioni:</span><span class="sxs-lookup"><span data-stu-id="40a56-193">There are a few considerations when designing hello architecture for such an application:</span></span>

* <span data-ttu-id="40a56-194">*L'isolamento del tenant:* gli sviluppatori di applicazioni è necessario tootake le misure appropriate tooensure che nessun tenant non autorizzato o indesiderato di accedere ai dati toohello di altri tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-194">*Tenant isolation:* Application developers need tootake appropriate measures tooensure that no tenants have unauthorized or unwanted access toohello data of other tenants.</span></span> <span data-ttu-id="40a56-195">Oltre a prospettiva hello della privacy dei dati, strategie di isolamento tenant richiedono efficienti di gestione delle risorse condivise e la protezione da altre istanze rumore.</span><span class="sxs-lookup"><span data-stu-id="40a56-195">Beyond hello perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="40a56-196">*Costi delle risorse del cloud:* come con qualsiasi altra applicazione, le soluzioni software devono rimanere competitive quando sono componenti di un'applicazione multi-tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="40a56-197">*Facilità di operazioni:* durante lo sviluppo di un'architettura multi-tenant, hello impatto sulle operazioni dell'applicazione hello e complessità è importante tenere in considerazione.</span><span class="sxs-lookup"><span data-stu-id="40a56-197">*Ease of Operations:* When developing a multitenant architecture, hello impact on hello application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="40a56-198">Ricerca di Azure ha un [contratto di servizio del 99,9%](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="40a56-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="40a56-199">*Footprint globale:* applicazioni multi-tenant potrebbe essere necessario tooeffectively serve tenant che vengono distribuite tra globo hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-199">*Global footprint:* Multitenant applications may need tooeffectively serve tenants which are distributed across hello globe.</span></span>
* <span data-ttu-id="40a56-200">*Scalabilità:* gli sviluppatori di applicazioni è necessario tooconsider come cui risolvere le differenze tra un sufficientemente basso livello di complessità dell'applicazione di gestione e progettazione tooscale applicazione hello con numero di tenant e dimensioni dei dati dei tenant hello e carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="40a56-200">*Scalability:* Application developers need tooconsider how they reconcile between maintaining a sufficiently low level of application complexity and designing hello application tooscale with number of tenants and hello size of tenants' data and workload.</span></span>

<span data-ttu-id="40a56-201">Ricerca di Azure offre alcuni limiti che possono essere utilizzati tooisolate tenant dati e il carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="40a56-201">Azure Search offers a few boundaries that can be used tooisolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="40a56-202">Modellazione del multi-tenancy con Ricerca di Azure</span><span class="sxs-lookup"><span data-stu-id="40a56-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="40a56-203">In caso di hello di scenario multi-tenant, sviluppatore dell'applicazione hello utilizza uno o più servizi di ricerca e dividere i tenant tra servizi, gli indici o entrambi.</span><span class="sxs-lookup"><span data-stu-id="40a56-203">In hello case of a multitenant scenario, hello application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="40a56-204">Ricerca di Azure dispone di alcuni modelli comuni per la modellazione di uno scenario multi-tenant:</span><span class="sxs-lookup"><span data-stu-id="40a56-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="40a56-205">*Indice per tenant:* ogni tenant dispone di un proprio indice all'interno di un servizio di ricerca che è condiviso con altri tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="40a56-206">*Servizio per tenant:* ogni tenant dispone di un proprio servizio Ricerca di Azure dedicato, il che offre un livello più elevato di separazione dei dati e del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="40a56-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="40a56-207">*Combinazione di entrambi:* ai tenant più grandi e attivi vengono assegnati servizi dedicati mentre ai tenant più piccoli vengono assegnati singoli indici all'interno di servizi condivisi.</span><span class="sxs-lookup"><span data-stu-id="40a56-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="40a56-208">1. Indice per tenant</span><span class="sxs-lookup"><span data-stu-id="40a56-208">1. Index per tenant</span></span>
![Un'immagine del modello di indice per tenant hello](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="40a56-210">In un modello "indice per tenant", più tenant occupano un singolo servizio di Ricerca di Azure in cui ogni tenant dispone di un proprio indice.</span><span class="sxs-lookup"><span data-stu-id="40a56-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="40a56-211">I tenant ottengono l'isolamento dei dati perché tutte le richieste di ricerca e le operazioni sui documenti sono emesse a livello di indice in Ricerca di Azure.</span><span class="sxs-lookup"><span data-stu-id="40a56-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="40a56-212">Nel livello di applicazione hello, è a conoscenza necessità hello toodirect hello degli indici corretti vari tenant traffico toohello durante anche la gestione delle risorse a livello di servizio hello tra tutti i tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-212">In hello application layer, there is hello need awareness toodirect hello various tenants’ traffic toohello proper indexes while also managing resources at hello service level across all tenants.</span></span>

<span data-ttu-id="40a56-213">Un attributo chiave del modello di indice per tenant hello è il possibilità hello capacità hello applicazione developer toooversubscribe hello di un servizio di ricerca tra tenant dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-213">A key attribute of hello index-per-tenant model is hello ability for hello application developer toooversubscribe hello capacity of a search service among hello application’s tenants.</span></span> <span data-ttu-id="40a56-214">Se tenant hello dispone di una distribuzione non uniforme del carico di lavoro, la combinazione ottimale di hello di tenant possono essere distribuiti in un servizio di ricerca indici tooaccommodate un numero di elevata tenant attivo, un numero di risorse durante la gestione contemporaneamente una parte più consistente di tenant meno attivi.</span><span class="sxs-lookup"><span data-stu-id="40a56-214">If hello tenants have an uneven distribution of workload, hello optimal combination of tenants can be distributed across a search service’s indexes tooaccommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="40a56-215">compromesso di Hello è impossibilità hello hello modello toohandle situazioni in cui ogni tenant contemporaneamente attivi.</span><span class="sxs-lookup"><span data-stu-id="40a56-215">hello trade-off is hello inability of hello model toohandle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="40a56-216">modello di indice per tenant Hello fornisce base hello per un modello di costo variabile, in un intero servizio di ricerca di Azure viene acquistato anticipato e successivamente riempita con i tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-216">hello index-per-tenant model provides hello basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="40a56-217">In questo modo la capacità non usata toobe designato per le versioni di valutazione e gli account gratuiti.</span><span class="sxs-lookup"><span data-stu-id="40a56-217">This allows for unused capacity toobe designated for trials and free accounts.</span></span>

<span data-ttu-id="40a56-218">Per le applicazioni con un footprint globale, il modello di indice per tenant hello potrebbe non essere più efficiente hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-218">For applications with a global footprint, hello index-per-tenant model may not be hello most efficient.</span></span> <span data-ttu-id="40a56-219">Se i tenant di un'applicazione vengono distribuiti in globo hello, è possibile che un servizio distinto potrebbe essere necessario per ogni area in cui è possibile duplicare i costi per ognuno di essi.</span><span class="sxs-lookup"><span data-stu-id="40a56-219">If an application's tenants are distributed across hello globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="40a56-220">Ricerca di Azure consente di scala hello singoli indici hello sia hello totale toogrow indici.</span><span class="sxs-lookup"><span data-stu-id="40a56-220">Azure Search allows for hello scale of both hello individual indexes and hello total number of indexes toogrow.</span></span> <span data-ttu-id="40a56-221">Se un piano tariffario appropriato livello scelto, partizioni e repliche è possibile aggiungere servizio di ricerca completa toohello quando un singolo indice all'interno del servizio hello diventa troppo grande in termini di archiviazione o il traffico.</span><span class="sxs-lookup"><span data-stu-id="40a56-221">If an appropriate pricing tier is chosen, partitions and replicas can be added toohello entire search service when an individual index within hello service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="40a56-222">Se il numero totale di hello indici diventa troppo grande per un singolo servizio, un altro servizio ha tooaccommodate toobe provisioning hello nuovi tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-222">If hello total number of indexes grows too large for a single service, another service has toobe provisioned tooaccommodate hello new tenants.</span></span> <span data-ttu-id="40a56-223">Se gli indici toobe spostati tra i servizi di ricerca con l'aggiunta di nuovi servizi, dati hello dall'indice di hello sono toobe copiati manualmente da un indice toohello altri come ricerca di Azure non consente un toobe indice spostato.</span><span class="sxs-lookup"><span data-stu-id="40a56-223">If indexes have toobe moved between search services as new services are added, hello data from hello index has toobe manually copied from one index toohello other as Azure Search does not allow for an index toobe moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="40a56-224">2. Servizio per tenant</span><span class="sxs-lookup"><span data-stu-id="40a56-224">2. Service per tenant</span></span>
![Un'immagine del modello di servizio per tenant hello](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="40a56-226">In un'architettura "servizio per tenant" ogni tenant dispone di un proprio servizio di ricerca.</span><span class="sxs-lookup"><span data-stu-id="40a56-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="40a56-227">In questo modello, un'applicazione hello raggiunge il livello massimo di hello di isolamento per il tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-227">In this model, hello application achieves hello maximum level of isolation for its tenants.</span></span> <span data-ttu-id="40a56-228">Ogni servizio ha risorse di archiviazione e velocità effettiva dedicate per la gestione delle richiesta di ricerca nonché chiavi API diverse.</span><span class="sxs-lookup"><span data-stu-id="40a56-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="40a56-229">Per le applicazioni in cui ogni tenant dispone di un footprint di grandi dimensioni o il carico di lavoro di hello è minima variabilità da tootenant tenant, il modello di servizio per tenant hello è particolarmente efficace le risorse non vengono condivise tra i carichi di lavoro diversi tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-229">For applications where each tenant has a large footprint or hello workload has little variability from tenant tootenant, hello service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="40a56-230">Un servizio per ogni modello tenant offre inoltre il vantaggio di hello di un modello stimabile un costo fisso.</span><span class="sxs-lookup"><span data-stu-id="40a56-230">A service per tenant model also offers hello benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="40a56-231">Non vi è alcun investimento iniziale in un servizio di ricerca completa fino a quando non è presente un toofill tenant, tuttavia hello costo per tenant è superiore a un modello di indice per tenant.</span><span class="sxs-lookup"><span data-stu-id="40a56-231">There is no up-front investment in an entire search service until there is a tenant toofill it, however hello cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="40a56-232">modello di servizio per tenant Hello è particolarmente efficace per le applicazioni con un footprint globale.</span><span class="sxs-lookup"><span data-stu-id="40a56-232">hello service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="40a56-233">Con i tenant distribuiti geograficamente, è facile toohave servizio ogni tenant in paese appropriato hello.</span><span class="sxs-lookup"><span data-stu-id="40a56-233">With geographically-distributed tenants, it is easy toohave each tenant's service in hello appropriate region.</span></span>

<span data-ttu-id="40a56-234">difficoltà di Hello in questo modello di scalabilità sorgono quando i singoli tenant diventano troppo grandi per il servizio.</span><span class="sxs-lookup"><span data-stu-id="40a56-234">hello challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="40a56-235">Ricerca di Azure attualmente non supporta l'aggiornamento hello tariffario di un servizio di ricerca, in modo che tutti i dati verrebbero toobe copiati manualmente tooa nuovo servizio.</span><span class="sxs-lookup"><span data-stu-id="40a56-235">Azure Search does not currently support upgrading hello pricing tier of a search service, so all data would have toobe manually copied tooa new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="40a56-236">3. Valutazione di entrambi i modelli</span><span class="sxs-lookup"><span data-stu-id="40a56-236">3. Mixing both models</span></span>
<span data-ttu-id="40a56-237">Un'altra possibilità per la modellazione multi-tenancy consiste nell'unione delle due strategie "indice per tenant" e "servizio per tenant".</span><span class="sxs-lookup"><span data-stu-id="40a56-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="40a56-238">Da una combinazione di hello due modelli, i tenant più grande di un'applicazione possono occupare servizi dedicati mentre hello tempo parte finale del meno tenant attivo di piccole dimensioni può occupare indici in un servizio condiviso.</span><span class="sxs-lookup"><span data-stu-id="40a56-238">By mixing hello two patterns, an application's largest tenants can occupy dedicated services while hello long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="40a56-239">Questo modello garantisce che i tenant più grande di hello abbiano costantemente elevato delle prestazioni dal servizio hello proteggendo tooprotect hello tenant più piccolo da eventuali altre istanze di rumore.</span><span class="sxs-lookup"><span data-stu-id="40a56-239">This model ensures that hello largest tenants have consistently high performance from hello service while helping tooprotect hello smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="40a56-240">L'implementazione di questa strategia si basa tuttavia sulla previsione di quali tenant richiederanno un servizio dedicato e non un indice in un servizio condiviso.</span><span class="sxs-lookup"><span data-stu-id="40a56-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="40a56-241">La complessità dell'applicazione aumenta con hello necessità toomanage entrambi questi modelli multi-tenancy.</span><span class="sxs-lookup"><span data-stu-id="40a56-241">Application complexity increases with hello need toomanage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="40a56-242">Raggiungimento di una granularità ancora maggiore</span><span class="sxs-lookup"><span data-stu-id="40a56-242">Achieving even finer granularity</span></span>
<span data-ttu-id="40a56-243">Hello sopra scenari multi-tenant toomodel modelli di progettazione in ricerca di Azure si presuppone un uniform ambito in cui ogni tenant è un'intera istanza di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="40a56-243">hello above design patterns toomodel multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="40a56-244">Le applicazioni tuttavia possono gestire a volte numerosi ambiti più piccoli.</span><span class="sxs-lookup"><span data-stu-id="40a56-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="40a56-245">Se i modelli di servizio per tenant e di indice per tenant non sono sufficientemente piccoli ambiti, è possibile toomodel un tooachieve indice un livello di granularità ancora più preciso.</span><span class="sxs-lookup"><span data-stu-id="40a56-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible toomodel an index tooachieve an even finer degree of granularity.</span></span>

<span data-ttu-id="40a56-246">toohave un singolo indice si comportano in modo diverso per gli endpoint client diversi, un campo può essere aggiunto tooan indice che designa un determinato valore per ogni client possibili.</span><span class="sxs-lookup"><span data-stu-id="40a56-246">toohave a single index behave differently for different client endpoints, a field can be added tooan index which designates a certain value for each possible client.</span></span> <span data-ttu-id="40a56-247">Ogni volta che un client chiama tooquery di ricerca di Azure o modificare un indice, codice hello dall'applicazione client hello specifica hello appropriato valore per tale campo mediante ricerca di Azure [filtro](https://msdn.microsoft.com/library/azure/dn798921.aspx) funzionalità in fase di query.</span><span class="sxs-lookup"><span data-stu-id="40a56-247">Each time a client calls Azure Search tooquery or modify an index, hello code from hello client application specifies hello appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="40a56-248">Questo metodo può essere utilizzato tooachieve funzionalità dell'account utente separato, livelli di autorizzazione separati e applicazioni completamente separate.</span><span class="sxs-lookup"><span data-stu-id="40a56-248">This method can be used tooachieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="40a56-249">Hello approccio descritto in precedenza tooconfigure tooserve un singolo indice più pertinenti di hello interessa tenant dei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="40a56-249">Using hello approach described above tooconfigure a single index tooserve multiple tenants affects hello relevance of search results.</span></span> <span data-ttu-id="40a56-250">Punteggi di pertinenza di ricerca vengono calcolati in un ambito a livello di indice, non è un ambito a livello di tenant, in modo da dati di tutti i tenant viene incorporati nelle statistiche sottostanti dei punteggi di pertinenza hello, ad esempio la frequenza di termini.</span><span class="sxs-lookup"><span data-stu-id="40a56-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in hello relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="40a56-251">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="40a56-251">Next steps</span></span>
<span data-ttu-id="40a56-252">Ricerca di Azure è una soluzione interessante per molte applicazioni, [ulteriori informazioni sulla funzionalità affidabili del servizio hello](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="40a56-252">Azure Search is a compelling choice for many applications, [read more about hello service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="40a56-253">Quando la valutazione hello vari Progettazione modelli per applicazioni multi-tenant, prendere in considerazione hello [vari piani tariffari](https://azure.microsoft.com/pricing/details/search/) e rispettiva hello [i limiti del servizio](search-limits-quotas-capacity.md) toobest personalizzare toofit di ricerca di Azure architetture di tutte le dimensioni e i carichi di lavoro dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="40a56-253">When evaluating hello various design patterns for multitenant applications, consider hello [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and hello respective [service limits](search-limits-quotas-capacity.md) toobest tailor Azure Search toofit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="40a56-254">È possibile indirizzare eventuali domande sulla ricerca di Azure e scenari multi-tenant tooazuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="40a56-254">Any questions about Azure Search and multitenant scenarios can be directed tooazuresearch_contact@microsoft.com.</span></span>

