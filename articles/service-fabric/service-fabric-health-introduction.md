---
title: Monitoraggio dello stato in Service Fabric | Microsoft Docs
description: "Introduzione al modello di monitoraggio dell'integrità di Azure Service Fabric, che offre il monitoraggio del cluster e dei relativi servizi e applicazioni."
services: service-fabric
documentationcenter: .net
author: oanapl
manager: timlt
editor: 
ms.assetid: 1d979210-b1eb-4022-be24-799fd9d8e003
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/19/2017
ms.author: oanapl
ms.openlocfilehash: 598a4d35faebb592f840b1bec7e77c7a091ea2de
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="introduction-to-service-fabric-health-monitoring"></a><span data-ttu-id="6fbd4-103">Introduzione al monitoraggio dell'integrità di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6fbd4-103">Introduction to Service Fabric health monitoring</span></span>
<span data-ttu-id="6fbd4-104">Con Azure Service Fabric è stato introdotto un modello di integrità che offre funzionalità di valutazione e reporting dell'integrità dettagliate, flessibili ed estendibili.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-104">Azure Service Fabric introduces a health model that provides rich, flexible, and extensible health evaluation and reporting.</span></span> <span data-ttu-id="6fbd4-105">Il modello include il monitoraggio quasi in tempo reale dello stato del cluster e dei servizi in esso eseguiti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-105">The model allows near-real-time monitoring of the state of the cluster and the services running in it.</span></span> <span data-ttu-id="6fbd4-106">Questo consente di ottenere facilmente informazioni relative all'integrità e correggere i potenziali problemi prima che si propaghino a catena e causino un numero elevato di interruzioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-106">You can easily obtain health information and correct potential issues before they cascade and cause massive outages.</span></span> <span data-ttu-id="6fbd4-107">Nel modello tipico i servizi inviano report basati sulla situazione locale e le informazioni vengono aggregate per fornire una panoramica generale a livello di cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-107">In the typical model, services send reports based on their local views, and that information is aggregated to provide an overall cluster-level view.</span></span>

<span data-ttu-id="6fbd4-108">I componenti di Service Fabric usano questo dettagliato modello di integrità per segnalare il proprio stato corrente</span><span class="sxs-lookup"><span data-stu-id="6fbd4-108">Service Fabric components use this rich health model to report their current state.</span></span> <span data-ttu-id="6fbd4-109">ed è possibile avvalersi dello stesso meccanismo per segnalare l'integrità delle proprie applicazioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-109">You can use the same mechanism to report health from your applications.</span></span> <span data-ttu-id="6fbd4-110">Investendo nella creazione di report sull'integrità di alta qualità con acquisizione delle proprie condizioni personalizzate, è possibile rilevare e risolvere i problemi dell'applicazione in esecuzione con maggiore facilità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-110">If you invest in high-quality health reporting that captures your custom conditions, you can detect and fix issues for your running application much more easily.</span></span>

<span data-ttu-id="6fbd4-111">Il video seguente di Microsoft Virtual Academy descrive anche i concetti del modello di integrità di Service Fabric e il suo uso: <center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="6fbd4-111">The following Microsoft Virtual Academy video also describes the Service Fabric health model and how it's used: <center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

> [!NOTE]
> <span data-ttu-id="6fbd4-112">Il sottosistema di integrità è stato introdotto per rispondere alla necessità di aggiornamenti monitorati.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-112">We started the health subsystem to address a need for monitored upgrades.</span></span> <span data-ttu-id="6fbd4-113">Service Fabric offre aggiornamenti monitorati delle applicazioni e dei cluster che garantiscono disponibilità completa, senza tempi di inattività e con un intervento minimo o addirittura nessun intervento da parte dell'utente.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-113">Service Fabric provides monitored application and cluster upgrades that ensure full availability, no downtime and minimal to no user intervention.</span></span> <span data-ttu-id="6fbd4-114">Per raggiungere questi obiettivi, l'aggiornamento controlla l'integrità in base ai criteri di aggiornamento configurati.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-114">To achieve these goals, the upgrade checks health based on configured upgrade policies.</span></span> <span data-ttu-id="6fbd4-115">Un aggiornamento può continuare solo quando l'integrità rientra nelle soglie desiderate.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-115">An upgrade can proceed only when health respects desired thresholds.</span></span> <span data-ttu-id="6fbd4-116">In caso contrario, l'aggiornamento viene sottoposto a rollback o sospeso automaticamente per consentire agli amministratori di risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-116">Otherwise, the upgrade is either automatically rolled back or paused to give administrators a chance to fix the issues.</span></span> <span data-ttu-id="6fbd4-117">Per altre informazioni sugli aggiornamenti delle applicazioni, vedere [questo articolo](service-fabric-application-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-117">To learn more about application upgrades, see [this article](service-fabric-application-upgrade.md).</span></span>
> 
> 

## <a name="health-store"></a><span data-ttu-id="6fbd4-118">Archivio integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-118">Health store</span></span>
<span data-ttu-id="6fbd4-119">L'archivio integrità mantiene le informazioni di integrità relative alle entità del cluster per facilitarne il recupero e la valutazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-119">The health store keeps health-related information about entities in the cluster for easy retrieval and evaluation.</span></span> <span data-ttu-id="6fbd4-120">Viene implementato come servizio con stato persistente di Service Fabric per garantire la scalabilità e una disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-120">It is implemented as a Service Fabric persisted stateful service to ensure high availability and scalability.</span></span> <span data-ttu-id="6fbd4-121">L'archivio integrità fa parte dell'applicazione **fabric:/System** ed è disponibile quando il cluster è operativo.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-121">The health store is part of the **fabric:/System** application, and it is available when the cluster is up and running.</span></span>

## <a name="health-entities-and-hierarchy"></a><span data-ttu-id="6fbd4-122">Entità e gerarchia di integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-122">Health entities and hierarchy</span></span>
<span data-ttu-id="6fbd4-123">Le entità di integrità sono organizzate in una gerarchia logica che acquisisce le interazioni e le dipendenze tra le diverse entità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-123">The health entities are organized in a logical hierarchy that captures interactions and dependencies among different entities.</span></span> <span data-ttu-id="6fbd4-124">L'archivio integrità crea automaticamente la gerarchia e le entità di integrità in base ai report ricevuti dai componenti di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-124">The health store automatically builds health entities and hierarchy based on reports received from Service Fabric components.</span></span>

<span data-ttu-id="6fbd4-125">Le entità di integrità corrispondono alle entità di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-125">The health entities mirror the Service Fabric entities.</span></span> <span data-ttu-id="6fbd4-126">Ad esempio, un'**entità applicazione di integrità** corrisponde a un'istanza di applicazione distribuita nel cluster, mentre un'**entità nodo di integrità** corrisponde a un nodo del cluster di Service Fabric. La gerarchia di integrità acquisisce le interazioni delle entità di sistema e costituisce la base per una valutazione avanzata dell'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-126">(For example, **health application entity** matches an application instance deployed in the cluster, while **health node entity** matches a Service Fabric cluster node.) The health hierarchy captures the interactions of the system entities, and it is the basis for advanced health evaluation.</span></span> <span data-ttu-id="6fbd4-127">Per informazioni sui concetti chiave di Service Fabric, vedere la [panoramica tecnica di Service Fabric](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-127">You can learn about key Service Fabric concepts in [Service Fabric technical overview](service-fabric-technical-overview.md).</span></span> <span data-ttu-id="6fbd4-128">Per altre informazioni sull'applicazione, vedere il [modello di applicazione di Service Fabric](service-fabric-application-model.md).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-128">For more on application, see [Service Fabric application model](service-fabric-application-model.md).</span></span>

<span data-ttu-id="6fbd4-129">Le entità e la gerarchia di integrità consentono di eseguire in modo efficace la creazione di report, il debug e il monitoraggio del cluster e delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-129">The health entities and hierarchy allow the cluster and applications to be effectively reported, debugged, and monitored.</span></span> <span data-ttu-id="6fbd4-130">Il modello di integrità offre un'accurata rappresentazione *granulare* dell'integrità dei numerosi elementi mobili all'interno del cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-130">The health model provides an accurate, *granular* representation of the health of the many moving pieces in the cluster.</span></span>

<span data-ttu-id="6fbd4-131">![Entità di integrità.][1]</span><span class="sxs-lookup"><span data-stu-id="6fbd4-131">![Health entities.][1]</span></span>
<span data-ttu-id="6fbd4-132">Le entità di integrità, organizzate in una gerarchia basata su relazioni padre-figlio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-132">The health entities, organized in a hierarchy based on parent-child relationships.</span></span>

[1]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy.png

<span data-ttu-id="6fbd4-133">Le entità di integrità sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-133">The health entities are:</span></span>

* <span data-ttu-id="6fbd4-134">**Cluster**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-134">**Cluster**.</span></span> <span data-ttu-id="6fbd4-135">Rappresenta l'integrità di un cluster di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-135">Represents the health of a Service Fabric cluster.</span></span> <span data-ttu-id="6fbd4-136">I report sull'integrità del cluster illustrano le condizioni che interessano l'intero cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-136">Cluster health reports describe conditions that affect the entire cluster.</span></span> <span data-ttu-id="6fbd4-137">Queste condizioni interessano più entità nel cluster o il cluster stesso.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-137">These conditions affect multiple entities in the cluster or the cluster itself.</span></span> <span data-ttu-id="6fbd4-138">In base alla condizione, il reporter non può restringere il problema a uno o più elementi figlio non integri.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-138">Based on the condition, the reporter can't narrow the issue down to one or more unhealthy children.</span></span> <span data-ttu-id="6fbd4-139">ad esempio lo split brain del cluster a causa di problemi di comunicazione o di partizionamento della rete.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-139">Examples include the brain of the cluster splitting due to network partitioning or communication issues.</span></span>
* <span data-ttu-id="6fbd4-140">**Nodo**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-140">**Node**.</span></span> <span data-ttu-id="6fbd4-141">Rappresenta l'integrità di un nodo di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-141">Represents the health of a Service Fabric node.</span></span> <span data-ttu-id="6fbd4-142">I report sull'integrità del nodo illustrano le condizioni che influiscono sulla funzionalità del nodo.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-142">Node health reports describe conditions that affect the node functionality.</span></span> <span data-ttu-id="6fbd4-143">In genere influiscono su tutte le entità distribuite in esecuzione su di esso.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-143">They typically affect all the deployed entities running on it.</span></span> <span data-ttu-id="6fbd4-144">Ad esempio, un nodo con spazio su disco non sufficiente o con problemi relativi ad altre proprietà a livello di computer, come la memoria o le connessioni, oppure la presenza di un nodo non attivo.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-144">Examples include node out of disk space (or other machine-wide properties, such as memory, connections) and when a node is down.</span></span> <span data-ttu-id="6fbd4-145">L'entità nodo è identificata dal nome del nodo (stringa).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-145">The node entity is identified by the node name (string).</span></span>
* <span data-ttu-id="6fbd4-146">**Applicazione**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-146">**Application**.</span></span> <span data-ttu-id="6fbd4-147">Rappresenta l'integrità di un'istanza di applicazione in esecuzione nel cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-147">Represents the health of an application instance running in the cluster.</span></span> <span data-ttu-id="6fbd4-148">I report sull'integrità dell'applicazione illustrano le condizioni che influiscono sull'integrità generale dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="6fbd4-148">Application health reports describe conditions that affect the overall health of the application.</span></span> <span data-ttu-id="6fbd4-149">e non possono essere limitati a singoli elementi figlio, servizi o applicazioni distribuite.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-149">They can't be narrowed down to individual children (services or deployed applications).</span></span> <span data-ttu-id="6fbd4-150">Ad esempio, indicano l'interazione end-to-end tra diversi servizi nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-150">Examples include the end-to-end interaction among different services in the application.</span></span> <span data-ttu-id="6fbd4-151">L'entità applicazione è identificata dal nome dell'applicazione (URI).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-151">The application entity is identified by the application name (URI).</span></span>
* <span data-ttu-id="6fbd4-152">**Servizio**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-152">**Service**.</span></span> <span data-ttu-id="6fbd4-153">Rappresenta l'integrità di un servizio in esecuzione nel cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-153">Represents the health of a service running in the cluster.</span></span> <span data-ttu-id="6fbd4-154">I report sull'integrità del servizio illustrano le condizioni che interessano l'integrità generale del servizio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-154">Service health reports describe conditions that affect the overall health of the service.</span></span> <span data-ttu-id="6fbd4-155">Il reporter non può restringere il problema a una partizione o una replica non integra.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-155">The reporter can't narrow down the issue to an unhealthy partition or replica.</span></span> <span data-ttu-id="6fbd4-156">Ad esempio, indicano una configurazione del servizio, una porta o una condivisione file esterna, che causa problemi a tutte le partizioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-156">Examples include a service configuration (such as port or external file share) that is causing issues for all partitions.</span></span> <span data-ttu-id="6fbd4-157">L'entità servizio è identificata dal nome del servizio (URI).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-157">The service entity is identified by the service name (URI).</span></span>
* <span data-ttu-id="6fbd4-158">**Partizione**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-158">**Partition**.</span></span> <span data-ttu-id="6fbd4-159">Rappresenta l'integrità di una partizione del servizio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-159">Represents the health of a service partition.</span></span> <span data-ttu-id="6fbd4-160">I report sull'integrità della partizione illustrano le condizioni che influiscono sull'intero set di repliche.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-160">Partition health reports describe conditions that affect the entire replica set.</span></span> <span data-ttu-id="6fbd4-161">Ad esempio, indicano quando un numero di repliche è al di sotto del conteggio target o quando una partizione mostra una perdita di quorum.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-161">Examples include when the number of replicas is below target count and when a partition is in quorum loss.</span></span> <span data-ttu-id="6fbd4-162">L'entità partizione è identificata dall'ID partizione (GUID).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-162">The partition entity is identified by the partition ID (GUID).</span></span>
* <span data-ttu-id="6fbd4-163">**Replica**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-163">**Replica**.</span></span> <span data-ttu-id="6fbd4-164">Rappresenta l'integrità di una replica di un servizio con stato o di un'istanza di un servizio senza stato.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-164">Represents the health of a stateful service replica or a stateless service instance.</span></span> <span data-ttu-id="6fbd4-165">La replica è l'unità più piccola di cui i watchdog e i componenti di sistema possono segnalare la condizione per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-165">The replica is the smallest unit that watchdogs and system components can report on for an application.</span></span> <span data-ttu-id="6fbd4-166">Nel caso di servizi con stato, ad esempio, una replica primaria che non è in grado di replicare le operazioni nelle repliche secondarie oppure un processo di replica lento.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-166">For stateful services, examples include a primary replica that can't replicate operations to secondaries and slow replication.</span></span> <span data-ttu-id="6fbd4-167">Un'istanza senza stato può segnalare se le risorse si stanno esaurendo o se presenta problemi di connettività.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-167">Also, a stateless instance can report when it is running out of resources or has connectivity issues.</span></span> <span data-ttu-id="6fbd4-168">L'entità replica è identificata dall'ID partizione (GUID) e dall'ID replica o dall'ID istanza (long).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-168">The replica entity is identified by the partition ID (GUID) and the replica or instance ID (long).</span></span>
* <span data-ttu-id="6fbd4-169">**Applicazione distribuita**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-169">**DeployedApplication**.</span></span> <span data-ttu-id="6fbd4-170">Rappresenta l'integrità di un' *applicazione in esecuzione in un nodo*.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-170">Represents the health of an *application running on a node*.</span></span> <span data-ttu-id="6fbd4-171">I report sull'integrità dell'applicazione distribuita illustrano le condizioni specifiche dell'applicazione nel nodo che non possono essere ricondotte ai pacchetti servizio distribuiti nello stesso nodo.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-171">Deployed application health reports describe conditions specific to the application on the node that can't be narrowed down to service packages deployed on the same node.</span></span> <span data-ttu-id="6fbd4-172">Ad esempio, errori a causa dei quali non è possibile scaricare il pacchetto dell'applicazione nel nodo e problemi di configurazione delle entità di sicurezza dell'applicazione nel nodo.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-172">Examples include errors when application package can't be downloaded on that node and issues setting up application security principals on the node.</span></span> <span data-ttu-id="6fbd4-173">L'applicazione distribuita è identificata dal nome dell'applicazione (URI) e dal nome del nodo (stringa).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-173">The deployed application is identified by application name (URI) and node name (string).</span></span>
* <span data-ttu-id="6fbd4-174">**Pacchetto servizio distribuito**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-174">**DeployedServicePackage**.</span></span> <span data-ttu-id="6fbd4-175">Rappresenta l'integrità di un pacchetto servizio in esecuzione in un nodo del cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-175">Represents the health of a service package running on a node in the cluster.</span></span> <span data-ttu-id="6fbd4-176">Illustra le condizioni specifiche di un pacchetto servizio che non influiscono sugli altri pacchetti servizio nello stesso nodo per la stessa applicazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-176">It describes conditions specific to a service package that do not affect the other service packages on the same node for the same application.</span></span> <span data-ttu-id="6fbd4-177">Ad esempio, indica che non è possibile avviare un pacchetto di codice nel pacchetto del servizio o leggere un pacchetto di configurazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-177">Examples include a code package in the service package that cannot be started and a configuration package that cannot be read.</span></span> <span data-ttu-id="6fbd4-178">Il pacchetto del servizio distribuito è identificato dal nome dell'applicazione (URI), dal nome del nodo (stringa), dal nome del manifesto del servizio (stringa) e dall'ID di attivazione del pacchetto del servizio (stringa).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-178">The deployed service package is identified by application name (URI), node name (string), service manifest name (string), and service package activation ID (string).</span></span>

<span data-ttu-id="6fbd4-179">La granularità del modello di integrità facilita il rilevamento e l'eliminazione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-179">The granularity of the health model makes it easy to detect and correct issues.</span></span> <span data-ttu-id="6fbd4-180">Ad esempio, se un servizio non risponde, è possibile segnalare che l'istanza dell'applicazione non è integra.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-180">For example, if a service is not responding, it is feasible to report that the application instance is unhealthy.</span></span> <span data-ttu-id="6fbd4-181">La segnalazione a tale livello non è tuttavia l'approccio ideale, perché il problema potrebbe non riguardare tutti i servizi all'interno dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-181">Reporting at that level is not ideal, however, because the issue might not be affecting all the services within that application.</span></span> <span data-ttu-id="6fbd4-182">Il report dovrebbe essere applicato al servizio non integro oppure a una partizione figlio specifica a cui eventualmente puntano altre informazioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-182">The report should be applied to the unhealthy service or to a specific child partition, if more information points to that partition.</span></span> <span data-ttu-id="6fbd4-183">I dati vengono esposti automaticamente attraverso la gerarchia e la partizione non integra sarà visibile a livello di servizio e di applicazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-183">The data automatically surfaces through the hierarchy, and an unhealthy partition is made visible at service and application levels.</span></span> <span data-ttu-id="6fbd4-184">Questa aggregazione di individuare e risolvere più rapidamente la causa radice del problema.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-184">This aggregation helps to pinpoint and resolve the root cause of the issue more quickly.</span></span>

<span data-ttu-id="6fbd4-185">La gerarchia di integrità è costituita da relazioni padre-figlio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-185">The health hierarchy is composed of parent-child relationships.</span></span> <span data-ttu-id="6fbd4-186">Un cluster è costituito da nodi e applicazioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-186">A cluster is composed of nodes and applications.</span></span> <span data-ttu-id="6fbd4-187">Le applicazioni hanno servizi e applicazioni distribuite</span><span class="sxs-lookup"><span data-stu-id="6fbd4-187">Applications have services and deployed applications.</span></span> <span data-ttu-id="6fbd4-188">e le applicazioni distribuite hanno pacchetti del servizio distribuiti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-188">Deployed applications have deployed service packages.</span></span> <span data-ttu-id="6fbd4-189">I servizi dispongono di partizioni e ogni partizione dispone di una o più repliche.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-189">Services have partitions, and each partition has one or more replicas.</span></span> <span data-ttu-id="6fbd4-190">Tra i nodi e le entità distribuite esiste una relazione speciale.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-190">There is a special relationship between nodes and deployed entities.</span></span> <span data-ttu-id="6fbd4-191">Un nodo non integro in base alla segnalazione effettuata dal relativo componente di sistema autorevole (servizio Gestione failover) influisce sulle applicazioni distribuite, sui pacchetti del servizio e sulle repliche distribuite.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-191">An unhealthy node as reported by its authority system component, the Failover Manager service, affects the deployed applications, service packages, and replicas deployed on it.</span></span>

<span data-ttu-id="6fbd4-192">La gerarchia di integrità rappresenta lo stato più recente del sistema in base agli ultimi report sull'integrità, che forniscono informazioni quasi in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-192">The health hierarchy represents the latest state of the system based on the latest health reports, which is almost real-time information.</span></span>
<span data-ttu-id="6fbd4-193">I watchdog interni ed esterni possono segnalare la condizione delle stesse entità in base alla logica specifica dell'applicazione o a condizioni monitorate personalizzate.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-193">Internal and external watchdogs can report on the same entities based on application-specific logic or custom monitored conditions.</span></span> <span data-ttu-id="6fbd4-194">I report utente coesistono con i report di sistema.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-194">User reports coexist with the system reports.</span></span>

<span data-ttu-id="6fbd4-195">Durante la progettazione di un servizio cloud di grandi dimensioni, pianificare un investimento per i report e gli interventi relativi all'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-195">Plan to invest in how to report and respond to health during the design of a large cloud service.</span></span> <span data-ttu-id="6fbd4-196">Questo investimento iniziale semplifica il debug, il monitoraggio e la gestione del servizio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-196">This up-front investement makes the service easier to debug, monitor, and operate.</span></span>

## <a name="health-states"></a><span data-ttu-id="6fbd4-197">Stati di integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-197">Health states</span></span>
<span data-ttu-id="6fbd4-198">Service Fabric usa tre stati di integrità per indicare se un'entità è integra o meno: OK, Warning ed Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-198">Service Fabric uses three health states to describe whether an entity is healthy or not: OK, warning, and error.</span></span> <span data-ttu-id="6fbd4-199">Tutti i report inviati all'archivio integrità devono specificare uno di questi stati.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-199">Any report sent to the health store must specify one of these states.</span></span> <span data-ttu-id="6fbd4-200">Come risultato della valutazione dell'integrità viene restituito uno di tali stati.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-200">The health evaluation result is one of these states.</span></span>

<span data-ttu-id="6fbd4-201">I possibili [stati di integrità](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) sono:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-201">The possible [health states](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) are:</span></span>

* <span data-ttu-id="6fbd4-202">**OK**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-202">**OK**.</span></span> <span data-ttu-id="6fbd4-203">L'entità è integra.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-203">The entity is healthy.</span></span> <span data-ttu-id="6fbd4-204">Non vengono segnalati problemi noti per l'entità o i relativi elementi figlio (se esistenti).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-204">There are no known issues reported on it or its children (when applicable).</span></span>
* <span data-ttu-id="6fbd4-205">**Avviso**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-205">**Warning**.</span></span> <span data-ttu-id="6fbd4-206">L'entità ha alcuni problemi, ma può comunque funzionare correttamente.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-206">The entity has some issues, but it can still function correctly.</span></span> <span data-ttu-id="6fbd4-207">Ad esempio, si verificano ritardi che però non causano ancora problemi funzionali.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-207">For example, there are delays, but they do not cause any functional issues yet.</span></span> <span data-ttu-id="6fbd4-208">In alcuni casi, la condizione di avviso potrebbe risolversi automaticamente senza l'intervento esterno.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-208">In some cases, the warning condition may fix itself without external intervention.</span></span> <span data-ttu-id="6fbd4-209">In questi casi, i report sull'integrità forniscono informazioni e visibilità sulla situazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-209">In these cases, health reports raise awareness and provide visibility into what is going on.</span></span> <span data-ttu-id="6fbd4-210">In altri casi tale condizione può trasformarsi in un problema serio senza l'intervento dell'utente.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-210">In other cases, the warning condition may degrade into a severe problem without user intervention.</span></span>
* <span data-ttu-id="6fbd4-211">**Error**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-211">**Error**.</span></span> <span data-ttu-id="6fbd4-212">L'entità non è integra.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-212">The entity is unhealthy.</span></span> <span data-ttu-id="6fbd4-213">È necessario intervenire per correggere lo stato dell'entità, che non può funzionare correttamente.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-213">Action should be taken to fix the state of the entity, because it can't function properly.</span></span>
* <span data-ttu-id="6fbd4-214">**Unknown**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-214">**Unknown**.</span></span> <span data-ttu-id="6fbd4-215">L'entità non è presente nell'archivio integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-215">The entity doesn't exist in the health store.</span></span> <span data-ttu-id="6fbd4-216">È possibile ottenere questo risultato dalle query distribuite che uniscono i risultati da più componenti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-216">This result can be obtained from the distributed queries that merge results from multiple components.</span></span> <span data-ttu-id="6fbd4-217">Ad esempio, la query per ottenere l'elenco dei nodi passa a **FailoverManager**, **ClusterManager** e **HealthManager**, mentre la query per ottenere l'elenco delle applicazioni passa a **ClusterManager** e **HealthManager**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-217">For example, the get node list query goes to **FailoverManager**, **ClusterManager**, and **HealthManager**; get application list query goes to **ClusterManager** and **HealthManager**.</span></span> <span data-ttu-id="6fbd4-218">Tali query uniscono i risultati provenienti da più componenti di sistema.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-218">These queries merge results from multiple system components.</span></span> <span data-ttu-id="6fbd4-219">Se un altro componente di sistema restituisce un'entità non presente nell'archivio integrità, il risultato unito ha uno stato di integrità sconosciuto.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-219">If another system component returns an entity that is not present in health store, the merged result has unknown health state.</span></span> <span data-ttu-id="6fbd4-220">Un'entità non è nell'archivio perché non sono ancora stati elaborati i report sull'integrità o è stata eseguita la pulizia dell'entità dopo l'eliminazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-220">An entity is not in store because health reports have not yet been processed or the entity has been cleaned up after deletion.</span></span>

## <a name="health-policies"></a><span data-ttu-id="6fbd4-221">Criteri di integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-221">Health policies</span></span>
<span data-ttu-id="6fbd4-222">L'archivio integrità applica criteri di integrità per determinare se un'entità è integra in base ai relativi report e agli elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-222">The health store applies health policies to determine whether an entity is healthy based on its reports and its children.</span></span>

> [!NOTE]
> <span data-ttu-id="6fbd4-223">I criteri di integrità possono essere specificati nel manifesto del cluster, per la valutazione dell'integrità del cluster e dei nodi, o nel manifesto dell'applicazione, per la valutazione dell'applicazione e degli eventuali elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-223">Health policies can be specified in the cluster manifest (for cluster and node health evaluation) or in the application manifest (for application evaluation and any of its children).</span></span> <span data-ttu-id="6fbd4-224">Le richieste di valutazione dell'integrità possono anche passare criteri personalizzati, usati solo per la valutazione in questione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-224">Health evaluation requests can also pass in custom health evaluation policies, which are used only for that evaluation.</span></span>
> 
> 

<span data-ttu-id="6fbd4-225">Per impostazione predefinita, per la relazione gerarchica padre-figlio Service Fabric applica regole severe, in base alle quali tutti gli elementi devono essere integri.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-225">By default, Service Fabric applies strict rules (everything must be healthy) for the parent-child hierarchical relationship.</span></span> <span data-ttu-id="6fbd4-226">Se anche uno solo degli elementi figlio presenta un evento non integro, l'elemento padre è considerato non integro.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-226">If even one of the children has one unhealthy event, the parent is considered unhealthy.</span></span>

### <a name="cluster-health-policy"></a><span data-ttu-id="6fbd4-227">Criteri di integrità del cluster</span><span class="sxs-lookup"><span data-stu-id="6fbd4-227">Cluster health policy</span></span>
<span data-ttu-id="6fbd4-228">I [criteri di integrità del cluster](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) vengono usati per valutare lo stato di integrità del cluster e dei nodi.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-228">The [cluster health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) is used to evaluate the cluster health state and node health states.</span></span> <span data-ttu-id="6fbd4-229">e possono essere definiti nel manifesto del cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-229">The policy can be defined in the cluster manifest.</span></span> <span data-ttu-id="6fbd4-230">Se non sono definiti, vengono usati i criteri predefiniti, in base ai quali non sono tollerati errori.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-230">If it is not present, the default policy (zero tolerated failures) is used.</span></span>
<span data-ttu-id="6fbd4-231">I criteri di integrità del cluster includono:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-231">The cluster health policy contains:</span></span>

* <span data-ttu-id="6fbd4-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span></span> <span data-ttu-id="6fbd4-233">Specifica se considerare i report sull'integrità di tipo Warning come errori durante la valutazione dell'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-233">Specifies whether to treat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="6fbd4-234">Valore predefinito: false.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-234">Default: false.</span></span>
* <span data-ttu-id="6fbd4-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span></span> <span data-ttu-id="6fbd4-236">Specifica la percentuale massima tollerata di applicazioni che possono risultare non integre prima che per il cluster venga impostato lo stato Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-236">Specifies the maximum tolerated percentage of applications that can be unhealthy before the cluster is considered in error.</span></span>
* <span data-ttu-id="6fbd4-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span></span> <span data-ttu-id="6fbd4-238">Specifica la percentuale massima tollerata di nodi che possono risultare non integri prima che per il cluster venga impostato lo stato Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-238">Specifies the maximum tolerated percentage of nodes that can be unhealthy before the cluster is considered in error.</span></span> <span data-ttu-id="6fbd4-239">Questa percentuale dovrà essere configurata in modo da tenere conto del fatto che in cluster di grandi dimensioni sono sempre presenti nodi inattivi o in fase di riparazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-239">In large clusters, some nodes are always down or out for repairs, so this percentage should be configured to tolerate that.</span></span>
* <span data-ttu-id="6fbd4-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span></span> <span data-ttu-id="6fbd4-241">La mappa dei criteri di integrità dei tipi di applicazioni può essere usata durante la valutazione dell'integrità del cluster per descrivere i tipi di applicazioni speciali.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-241">The application type health policy map can be used during cluster health evaluation to describe special application types.</span></span> <span data-ttu-id="6fbd4-242">Per impostazione predefinita, tutte le applicazioni vengono inserite in un pool e valutate con MaxPercentUnhealthyApplications.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-242">By default, all applications are put into a pool and evaluated with MaxPercentUnhealthyApplications.</span></span> <span data-ttu-id="6fbd4-243">I tipi di applicazioni che devono essere trattati in modo diverso possono essere estratti dal pool globale</span><span class="sxs-lookup"><span data-stu-id="6fbd4-243">If some application types should be treated differently, they can be taken out of the global pool.</span></span> <span data-ttu-id="6fbd4-244">ed essere invece valutati in base alle percentuali associate al nome del tipo di applicazione nella mappa.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-244">Instead, they are evaluated against the percentages associated with their application type name in the map.</span></span> <span data-ttu-id="6fbd4-245">Ad esempio, in un cluster esistono migliaia di applicazioni di tipi diversi e alcune istanze di applicazioni di controllo di un tipo di applicazione speciale.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-245">For example, in a cluster there are thousands of applications of different types, and a few control application instances of a special application type.</span></span> <span data-ttu-id="6fbd4-246">Le applicazioni di controllo non devono mai riscontrare errori.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-246">The control applications should never be in error.</span></span> <span data-ttu-id="6fbd4-247">È possibile specificare l'impostazione globale di MaxPercentUnhealthyApplications al 20% per tollerare alcuni errori, impostando però MaxPercentUnhealthyApplications su 0 per il tipo di applicazione "ControlApplicationType".</span><span class="sxs-lookup"><span data-stu-id="6fbd4-247">You can specify global MaxPercentUnhealthyApplications to 20% to tolerate some failures, but for the application type "ControlApplicationType" set the MaxPercentUnhealthyApplications to 0.</span></span> <span data-ttu-id="6fbd4-248">In questo modo, se alcune delle numerose applicazioni non sono integre, ma si trovano al di sotto della percentuale di non integrità globale, il cluster verrà valutato come Warning.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-248">This way, if some of the many applications are unhealthy, but below the global unhealthy percentage, the cluster would be evaluated to Warning.</span></span> <span data-ttu-id="6fbd4-249">Uno stato di integrità Warning non influisce sull'aggiornamento del cluster o su altri tipi di monitoraggio attivati dallo stato di integrità Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-249">A warning health state does not impact cluster upgrade or other monitoring triggered by Error health state.</span></span> <span data-ttu-id="6fbd4-250">Una sola applicazione di controllo in errore rende tuttavia il cluster non integro attivando, a seconda della configurazione di aggiornamento, il rollback o la sospensione dell'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-250">But even one control application in error would make cluster unhealthy, which triggers roll back or pauses the cluster upgrade, depending on the upgrade configuration.</span></span>
  <span data-ttu-id="6fbd4-251">Per i tipi di applicazioni definiti nella mappa, tutte le istanze delle applicazioni vengono estratte dal pool globale di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-251">For the application types defined in the map, all application instances are taken out of the global pool of applications.</span></span> <span data-ttu-id="6fbd4-252">Vengono valutate in base al numero totale di applicazioni del tipo di applicazione, usando il valore MaxPercentUnhealthyApplications specifico della mappa.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-252">They are evaluated based on the total number of applications of the application type, using the specific MaxPercentUnhealthyApplications from the map.</span></span> <span data-ttu-id="6fbd4-253">Tutte le altre applicazioni rimangono nel pool globale e vengono valutate con MaxPercentUnhealthyApplications.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-253">All the rest of the applications remain in the global pool and are evaluated with MaxPercentUnhealthyApplications.</span></span>

<span data-ttu-id="6fbd4-254">L'esempio seguente è un estratto del manifesto di un cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-254">The following example is an excerpt from a cluster manifest.</span></span> <span data-ttu-id="6fbd4-255">Per definire le voci nella mappa dei tipi di applicazioni, anteporre "ApplicationTypeMaxPercentUnhealthyApplications-" al nome del parametro, seguito dal nome del tipo di applicazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-255">To define entries in the application type map, prefix the parameter name with "ApplicationTypeMaxPercentUnhealthyApplications-", followed by the application type name.</span></span>

```xml
<FabricSettings>
  <Section Name="HealthManager/ClusterHealthPolicy">
    <Parameter Name="ConsiderWarningAsError" Value="False" />
    <Parameter Name="MaxPercentUnhealthyApplications" Value="20" />
    <Parameter Name="MaxPercentUnhealthyNodes" Value="20" />
    <Parameter Name="ApplicationTypeMaxPercentUnhealthyApplications-ControlApplicationType" Value="0" />
  </Section>
</FabricSettings>
```

### <a name="application-health-policy"></a><span data-ttu-id="6fbd4-256">Criteri di integrità dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="6fbd4-256">Application health policy</span></span>
<span data-ttu-id="6fbd4-257">I [criteri di integrità delle applicazioni](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) descrivono come viene eseguita la valutazione dell'aggregazione degli eventi e degli stati degli elementi figlio per le applicazioni e i relativi elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-257">The [application health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) describes how the evaluation of events and child-states aggregation is done for applications and their children.</span></span> <span data-ttu-id="6fbd4-258">Possono essere definiti nel manifesto delle applicazioni, **ApplicationManifest.xml**, nel pacchetto delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-258">It can be defined in the application manifest, **ApplicationManifest.xml**, in the application package.</span></span> <span data-ttu-id="6fbd4-259">Se non vengono specificati criteri, Service Fabric considera l'entità come non integra se presenta un report sull'integrità o un elemento figlio con stato Warning o Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-259">If no policies are specified, Service Fabric assumes that the entity is unhealthy if it has a health report or a child at the warning or error health state.</span></span>
<span data-ttu-id="6fbd4-260">I criteri configurabili sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-260">The configurable policies are:</span></span>

* <span data-ttu-id="6fbd4-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span></span> <span data-ttu-id="6fbd4-262">Specifica se considerare i report sull'integrità di tipo Warning come errori durante la valutazione dell'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-262">Specifies whether to treat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="6fbd4-263">Valore predefinito: false.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-263">Default: false.</span></span>
* <span data-ttu-id="6fbd4-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span></span> <span data-ttu-id="6fbd4-265">Specifica la percentuale massima tollerata di applicazioni distribuite che possono risultare non integre prima che per l'applicazione venga impostato lo stato Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-265">Specifies the maximum tolerated percentage of deployed applications that can be unhealthy before the application is considered in error.</span></span> <span data-ttu-id="6fbd4-266">Tale percentuale viene calcolata dividendo il numero delle applicazioni distribuite non integre per il numero dei nodi in cui tali applicazioni sono attualmente distribuite nel cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-266">This percentage is calculated by dividing the number of unhealthy deployed applications over the number of nodes that the applications are currently deployed on in the cluster.</span></span> <span data-ttu-id="6fbd4-267">Il calcolo viene arrotondato per eccesso per tollerare un errore su un numero limitato di nodi.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-267">The computation rounds up to tolerate one failure on small numbers of nodes.</span></span> <span data-ttu-id="6fbd4-268">Percentuale predefinita: zero.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-268">Default percentage: zero.</span></span>
* <span data-ttu-id="6fbd4-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span></span> <span data-ttu-id="6fbd4-270">Specifica i criteri di integrità predefiniti per il tipo di servizio, che sostituiscono i criteri di integrità predefiniti usati per tutti i tipi di servizi nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-270">Specifies the default service type health policy, which replaces the default health policy for all service types in the application.</span></span>
* <span data-ttu-id="6fbd4-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span></span> <span data-ttu-id="6fbd4-272">Fornisce una mappa dei criteri di integrità del servizio per tipo di servizio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-272">Provides a map of service health policies per service type.</span></span> <span data-ttu-id="6fbd4-273">Questi criteri sostituiscono i criteri di integrità del tipo di servizio predefiniti per ogni tipo di servizio specificato.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-273">These policies replace the default service type health policies for each specified service type.</span></span> <span data-ttu-id="6fbd4-274">Se un'applicazione include un tipo di servizio gateway senza stato e un tipo di servizio motore con stato, ad esempio, è possibile configurare in modo diverso i criteri di integrità per la relativa valutazione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-274">For example, if an application has a stateless gateway service type and a stateful engine service type, you can configure the health policies for their evaluation differently.</span></span> <span data-ttu-id="6fbd4-275">Specificando i criteri in base al tipo di servizio è possibile ottenere un controllo più granulare sull'integrità del servizio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-275">When you specify policy per service type, you can gain more granular control of the health of the service.</span></span>

### <a name="service-type-health-policy"></a><span data-ttu-id="6fbd4-276">Criteri di integrità del tipo di servizio</span><span class="sxs-lookup"><span data-stu-id="6fbd4-276">Service type health policy</span></span>
<span data-ttu-id="6fbd4-277">I [criteri di integrità dei tipi di servizi](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) specificano come valutare e aggregare i servizi e i relativi elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-277">The [service type health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) specifies how to evaluate and aggregate the services and the children of services.</span></span> <span data-ttu-id="6fbd4-278">I criteri includono:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-278">The policy contains:</span></span>

* <span data-ttu-id="6fbd4-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span></span> <span data-ttu-id="6fbd4-280">Specifica la percentuale massima tollerata di partizioni che possono risultare non integre prima che un servizio venga considerato non integro.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-280">Specifies the maximum tolerated percentage of unhealthy partitions before a service is considered unhealthy.</span></span> <span data-ttu-id="6fbd4-281">Percentuale predefinita: zero.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-281">Default percentage: zero.</span></span>
* <span data-ttu-id="6fbd4-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span></span> <span data-ttu-id="6fbd4-283">Specifica la percentuale massima tollerata di repliche che possono risultare non integre prima che una partizione venga considerata non integra.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-283">Specifies the maximum tolerated percentage of unhealthy replicas before a partition is considered unhealthy.</span></span> <span data-ttu-id="6fbd4-284">Percentuale predefinita: zero.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-284">Default percentage: zero.</span></span>
* <span data-ttu-id="6fbd4-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span></span> <span data-ttu-id="6fbd4-286">Specifica la percentuale massima tollerata di servizi che possono risultare non integri prima che l'applicazione venga considerata non integra.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-286">Specifies the maximum tolerated percentage of unhealthy services before the application is considered unhealthy.</span></span> <span data-ttu-id="6fbd4-287">Percentuale predefinita: zero.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-287">Default percentage: zero.</span></span>

<span data-ttu-id="6fbd4-288">L'esempio seguente è un estratto del manifesto di un'applicazione:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-288">The following example is an excerpt from an application manifest:</span></span>

```xml
    <Policies>
        <HealthPolicy ConsiderWarningAsError="true" MaxPercentUnhealthyDeployedApplications="20">
            <DefaultServiceTypeHealthPolicy
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="10"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="FrontEndServiceType"
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="20"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="BackEndServiceType"
                   MaxPercentUnhealthyServices="20"
                   MaxPercentUnhealthyPartitionsPerService="0"
                   MaxPercentUnhealthyReplicasPerPartition="0">
            </ServiceTypeHealthPolicy>
        </HealthPolicy>
    </Policies>
```

## <a name="health-evaluation"></a><span data-ttu-id="6fbd4-289">Valutazione dell'integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-289">Health evaluation</span></span>
<span data-ttu-id="6fbd4-290">Gli utenti e i servizi automatizzati possono valutare l'integrità di qualsiasi entità in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-290">Users and automated services can evaluate health for any entity at any time.</span></span> <span data-ttu-id="6fbd4-291">Per valutare l'integrità di un'entità, l'archivio integrità aggrega tutti i report sull'integrità di tale entità e valuta tutti i relativi elementi figlio (se esistenti).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-291">To evaluate an entity's health, the health store aggregates all health reports on the entity and evaluates all its children (when applicable).</span></span> <span data-ttu-id="6fbd4-292">L'algoritmo di aggregazione dell'integrità usa criteri di integrità che specificano come valutare i report e come aggregare gli stati di integrità degli elementi figlio (se disponibili).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-292">The health aggregation algorithm uses health policies that specify how to evaluate health reports and how to aggregate child health states (when applicable).</span></span>

### <a name="health-report-aggregation"></a><span data-ttu-id="6fbd4-293">Aggregazione dei report sull'integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-293">Health report aggregation</span></span>
<span data-ttu-id="6fbd4-294">Per una stessa entità possono essere disponibili più report sull'integrità inviati da generatori diversi (componenti di sistema o watchdog) relativamente a proprietà diverse.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-294">One entity can have multiple health reports sent by different reporters (system components or watchdogs) on different properties.</span></span> <span data-ttu-id="6fbd4-295">L'aggregazione usa i criteri di integrità associati, in particolare il membro ConsiderWarningAsError dei criteri di integrità dell'applicazione o del cluster,</span><span class="sxs-lookup"><span data-stu-id="6fbd4-295">The aggregation uses the associated health policies, in particular the ConsiderWarningAsError member of application or cluster health policy.</span></span> <span data-ttu-id="6fbd4-296">che specifica come valutare i report di tipo Warning.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-296">ConsiderWarningAsError specifies how to evaluate warnings.</span></span>

<span data-ttu-id="6fbd4-297">Lo stato di integrità aggregato viene attivato dai report sull'integrità *peggiori* relativi all'entità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-297">The aggregated health state is triggered by the *worst* health reports on the entity.</span></span> <span data-ttu-id="6fbd4-298">Se è presente almeno un report sull'integrità di tipo Error, lo stato di integrità aggregato sarà Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-298">If there is at least one error health report, the aggregated health state is an error.</span></span>

![Aggregazione dei report sull'integrità con report di tipo Error.][2]

<span data-ttu-id="6fbd4-300">Un'entità di integrità con uno o più report sull'integrità di tipo Error viene valutata come Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-300">A health entity that has one or more error health reports is evaluated as Error.</span></span> <span data-ttu-id="6fbd4-301">La stesso accade in caso di report sull'integrità scaduto, indipendentemente dallo stato di integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-301">The same is true for an expired health report, regardless of its health state.</span></span>

[2]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-error.png

<span data-ttu-id="6fbd4-302">Se non sono presenti report di tipo Error ma uno o più report di tipo Warning, lo stato di integrità aggregato sarà Warning o Error, a seconda del flag dei criteri ConsiderWarningAsError.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-302">If there are no error reports and one or more warnings, the aggregated health state is either warning or error, depending on the ConsiderWarningAsError policy flag.</span></span>

![Aggregazione dei report sull'integrità con report di tipo Warning e ConsiderWarningAsError impostato su false.][3]

<span data-ttu-id="6fbd4-304">Aggregazione dei report sull'integrità con report di tipo Warning e ConsiderWarningAsError impostato su false (valore predefinito).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-304">Health report aggregation with warning report and ConsiderWarningAsError set to false (default).</span></span>

[3]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-warning.png

### <a name="child-health-aggregation"></a><span data-ttu-id="6fbd4-305">Aggregazione dell'integrità degli elementi figlio</span><span class="sxs-lookup"><span data-stu-id="6fbd4-305">Child health aggregation</span></span>
<span data-ttu-id="6fbd4-306">Lo stato di integrità aggregato di un'entità riflette gli stati di integrità degli elementi figlio (se esistenti).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-306">The aggregated health state of an entity reflects the child health states (when applicable).</span></span> <span data-ttu-id="6fbd4-307">Per l'algoritmo di aggregazione degli stati degli elementi figlio vengono usati i criteri di integrità applicabili in base al tipo di entità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-307">The algorithm for aggregating child health states uses the health policies applicable based on the entity type.</span></span>

![Aggregazione dell'integrità delle entità figlio.][4]

<span data-ttu-id="6fbd4-309">Aggregazione degli elementi figlio in base ai criteri di integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-309">Child aggregation based on health policies.</span></span>

[4]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy-eval.png

<span data-ttu-id="6fbd4-310">Dopo aver eseguito la valutazione di tutti gli elementi figlio, l'archivio integrità ne aggrega gli stati di integrità in base alla percentuale massima configurata di elementi figlio non integri.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-310">After the health store has evaluated all the children, it aggregates their health states based on the configured maximum percentage of unhealthy children.</span></span> <span data-ttu-id="6fbd4-311">Tale percentuale è ricavata dai criteri in base al tipo di entità e di elemento figlio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-311">This percentage is taken from the policy based on the entity and child type.</span></span>

* <span data-ttu-id="6fbd4-312">Se lo stato è OK per tutti gli elementi figlio, lo stato di integrità aggregato di tali elementi sarà OK.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-312">If all children have OK states, the child aggregated health state is OK.</span></span>
* <span data-ttu-id="6fbd4-313">Se insieme a elementi figlio con stato OK sono presenti elementi figlio con stato Warning, lo stato di integrità aggregato di tali elementi sarà Warning.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-313">If children have both OK and warning states, the child aggregated health state is warning.</span></span>
* <span data-ttu-id="6fbd4-314">Se sono presenti elementi figlio con stato Error che non rientrano nella percentuale massima di elementi figlio non integri consentita, lo stato di integrità aggregato sarà Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-314">If there are children with error states that do not respect the maximum allowed percentage of unhealthy children, the aggregated health state is an error.</span></span>
* <span data-ttu-id="6fbd4-315">Se gli elementi figlio con stato Error non superano la percentuale massima di elementi figlio non integri consentita, lo stato di integrità aggregato sarà Warning.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-315">If the children with error states respect the maximum allowed percentage of unhealthy children, the aggregated health state is warning.</span></span>

## <a name="health-reporting"></a><span data-ttu-id="6fbd4-316">Creazione di report sull'integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-316">Health reporting</span></span>
<span data-ttu-id="6fbd4-317">I componenti di sistema, le applicazioni Fabric di sistema e i watchdog interni/esterni possono generare report in relazione alle entità di Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-317">System components, System Fabric applications, and internal/external watchdogs can report against Service Fabric entities.</span></span> <span data-ttu-id="6fbd4-318">I generatori di report determinano *localmente* l'integrità delle entità monitorate in base alle condizioni sottoposte a monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-318">The reporters make *local* determinations of the health of the monitored entities, based on the conditions they are monitoring.</span></span> <span data-ttu-id="6fbd4-319">Non considerano alcuno stato globale o dato aggregato</span><span class="sxs-lookup"><span data-stu-id="6fbd4-319">They don't need to look at any global state or aggregate data.</span></span> <span data-ttu-id="6fbd4-320">Il comportamento desiderato prevede generatori di report semplici e non organismi complessi che devono tenere conto di numerosi aspetti per decidere quali informazioni inviare.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-320">The desired behavior is to have simple reporters, and not complex organisms that need to look at many things to infer what information to send.</span></span>

<span data-ttu-id="6fbd4-321">Per inviare i dati di integrità all'archivio integrità, i generatori di report devono identificare l'entità interessata e creare un report sull'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-321">To send health data to the health store, a reporter needs to identify the affected entity and create a health report.</span></span> <span data-ttu-id="6fbd4-322">Per inviare il report, usare l'API [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth), le API di integrità dei report esposte negli oggetti `Partition` o `CodePackageActivationContext`, i cmdlet di PowerShell o REST.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-322">To send the report, use the [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth) API, report health APIs exposed on the `Partition` or `CodePackageActivationContext` objects, PowerShell cmdlets, or REST.</span></span>

### <a name="health-reports"></a><span data-ttu-id="6fbd4-323">Report sull'integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-323">Health reports</span></span>
<span data-ttu-id="6fbd4-324">I [report sull'integrità](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) per ognuna delle entità incluse nel cluster contengono le informazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-324">The [health reports](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) for each of the entities in the cluster contain the following information:</span></span>

* <span data-ttu-id="6fbd4-325">**SourceId**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-325">**SourceId**.</span></span> <span data-ttu-id="6fbd4-326">Stringa che identifica in modo univoco il generatore di report per l'evento di integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-326">A string that uniquely identifies the reporter of the health event.</span></span>
* <span data-ttu-id="6fbd4-327">**Entity identifier**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-327">**Entity identifier**.</span></span> <span data-ttu-id="6fbd4-328">Identifica l'entità a cui viene applicato il report.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-328">Identifies the entity where the report is applied.</span></span> <span data-ttu-id="6fbd4-329">Varia in base al [tipo di entità](service-fabric-health-introduction.md#health-entities-and-hierarchy):</span><span class="sxs-lookup"><span data-stu-id="6fbd4-329">It differs based on the [entity type](service-fabric-health-introduction.md#health-entities-and-hierarchy):</span></span>
  
  * <span data-ttu-id="6fbd4-330">Cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-330">Cluster.</span></span> <span data-ttu-id="6fbd4-331">Nessuna.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-331">None.</span></span>
  * <span data-ttu-id="6fbd4-332">Node.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-332">Node.</span></span> <span data-ttu-id="6fbd4-333">Nome del nodo (stringa).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-333">Node name  (string).</span></span>
  * <span data-ttu-id="6fbd4-334">Application.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-334">Application.</span></span> <span data-ttu-id="6fbd4-335">Nome dell'applicazione (URI).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-335">Application name (URI).</span></span> <span data-ttu-id="6fbd4-336">Rappresenta il nome dell'istanza di applicazione distribuita nel cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-336">Represents the name of the application instance deployed in the cluster.</span></span>
  * <span data-ttu-id="6fbd4-337">Service.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-337">Service.</span></span> <span data-ttu-id="6fbd4-338">Nome del servizio (URI).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-338">Service name (URI).</span></span> <span data-ttu-id="6fbd4-339">Rappresenta il nome dell'istanza di servizio distribuita nel cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-339">Represents the name of the service instance deployed in the cluster.</span></span>
  * <span data-ttu-id="6fbd4-340">Partition.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-340">Partition.</span></span> <span data-ttu-id="6fbd4-341">ID della partizione (GUID).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-341">Partition ID (GUID).</span></span> <span data-ttu-id="6fbd4-342">Rappresenta l'identificatore univoco della partizione.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-342">Represents the partition unique identifier.</span></span>
  * <span data-ttu-id="6fbd4-343">Replica.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-343">Replica.</span></span> <span data-ttu-id="6fbd4-344">ID della replica del servizio con stato o ID dell'istanza del servizio senza stato (INT64).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-344">The stateful service replica ID or the stateless service instance ID (INT64).</span></span>
  * <span data-ttu-id="6fbd4-345">DeployedApplication.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-345">DeployedApplication.</span></span> <span data-ttu-id="6fbd4-346">Nome dell'applicazione (URI) e nome del nodo (stringa).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-346">Application name (URI) and node name (string).</span></span>
  * <span data-ttu-id="6fbd4-347">DeployedServicePackage.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-347">DeployedServicePackage.</span></span> <span data-ttu-id="6fbd4-348">Nome dell'applicazione (URI), nome del nodo (stringa) e nome del manifesto del servizio (stringa).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-348">Application name (URI), node name (string), and service manifest name (string).</span></span>
* <span data-ttu-id="6fbd4-349">**Property**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-349">**Property**.</span></span> <span data-ttu-id="6fbd4-350">*Stringa* (non un'enumerazione fissa) che consente al generatore di report di categorizzare l'evento di integrità per una proprietà specifica dell'entità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-350">A *string* (not a fixed enumeration) that allows the reporter to categorize the health event for a specific property of the entity.</span></span> <span data-ttu-id="6fbd4-351">Ad esempio, il reporter A può segnalare l'integrità di Node01 in base alla proprietà "Storage", mentre il reporter B può segnalare l'integrità di Node01 in base alla proprietà "Connectivity".</span><span class="sxs-lookup"><span data-stu-id="6fbd4-351">For example, reporter A can report the health of the Node01 "Storage" property and reporter B can report the health of the Node01 "Connectivity" property.</span></span> <span data-ttu-id="6fbd4-352">Entrambi questi report vengono considerati come eventi di integrità separati nell'archivio integrità per l'entità Node01.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-352">In the health store, these reports are treated as separate health events for the Node01 entity.</span></span>
* <span data-ttu-id="6fbd4-353">**Description**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-353">**Description**.</span></span> <span data-ttu-id="6fbd4-354">Stringa che consente a un generatore di report di fornire informazioni dettagliate sull'evento di integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-354">A string that allows a reporter to provide detailed information about the health event.</span></span> <span data-ttu-id="6fbd4-355">**SourceId**, **Property** e **HealthState** descrivono il report in modo esauriente.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-355">**SourceId**, **Property**, and **HealthState** should fully describe the report.</span></span> <span data-ttu-id="6fbd4-356">Description aggiunge informazioni leggibili sul report</span><span class="sxs-lookup"><span data-stu-id="6fbd4-356">The description adds human-readable information about the report.</span></span> <span data-ttu-id="6fbd4-357">semplificando la comprensione del report sull'integrità da parte di amministratori e utenti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-357">The text makes it easier for administrators and users to understand the health report.</span></span>
* <span data-ttu-id="6fbd4-358">**HealthState**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-358">**HealthState**.</span></span> <span data-ttu-id="6fbd4-359">[Enumerazione](service-fabric-health-introduction.md#health-states) che descrive lo stato di integrità del report.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-359">An [enumeration](service-fabric-health-introduction.md#health-states) that describes the health state of the report.</span></span> <span data-ttu-id="6fbd4-360">I valori accettati sono OK, Warning ed Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-360">The accepted values are OK, Warning, and Error.</span></span>
* <span data-ttu-id="6fbd4-361">**TimeToLive**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-361">**TimeToLive**.</span></span> <span data-ttu-id="6fbd4-362">Intervallo di tempo che indica per quanto è valido il report sull'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-362">A timespan that indicates how long the health report is valid.</span></span> <span data-ttu-id="6fbd4-363">Insieme a **RemoveWhenExpired**, indica all'archivio integrità come valutare gli eventi scaduti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-363">Coupled with **RemoveWhenExpired**, it lets the health store know how to evaluate expired events.</span></span> <span data-ttu-id="6fbd4-364">Per impostazione predefinita, il valore è infinito e quindi il report è sempre valido.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-364">By default, the value is infinite, and the report is valid forever.</span></span>
* <span data-ttu-id="6fbd4-365">**RemoveWhenExpired**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-365">**RemoveWhenExpired**.</span></span> <span data-ttu-id="6fbd4-366">Valore booleano.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-366">A Boolean.</span></span> <span data-ttu-id="6fbd4-367">Se è impostato su true, il report sull'integrità scaduto viene rimosso automaticamente dall'archivio integrità e non incide sulla valutazione dell'integrità dell'entità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-367">If set to true, the expired health report is automatically removed from the health store, and the report doesn't impact entity health evaluation.</span></span> <span data-ttu-id="6fbd4-368">Viene usato quando il report è valido solo per un periodo di tempo specificato e non deve essere eliminato esplicitamente dal generatore di report. Viene usato anche per eliminare i report dall'archivio integrità. Ad esempio, se un watchdog viene modificato e smette di inviare report con la proprietà e l'origine precedenti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-368">Used when the report is valid for a specified period of time only, and the reporter doesn't need to explicitly clear it out. It's also used to delete reports from the health store (for example, a watchdog is changed and stops sending reports with previous source and property).</span></span> <span data-ttu-id="6fbd4-369">Può inviare un report con un valore TimeToLive basso e RemoveWhenExpired per cancellare qualsiasi stato precedente dall'archivio integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-369">It can send a report with a brief TimeToLive along with RemoveWhenExpired to clear up any previous state from the health store.</span></span> <span data-ttu-id="6fbd4-370">Se il valore è impostato su false, il report scaduto viene considerato come un errore nella valutazione dell'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-370">If the value is set to false, the expired report is treated as an error on the health evaluation.</span></span> <span data-ttu-id="6fbd4-371">Il valore false indica all'archivio integrità che l'origine dovrebbe inviare periodicamente informazioni su questa proprietà.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-371">The false value signals to the health store that the source should report periodically on this property.</span></span> <span data-ttu-id="6fbd4-372">In caso contrario, il watchdog potrebbe avere un problema.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-372">If it doesn't, then there must be something wrong with the watchdog.</span></span> <span data-ttu-id="6fbd4-373">L'integrità del watchdog viene acquisita considerando l'evento come un errore.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-373">The watchdog's health is captured by considering the event as an error.</span></span>
* <span data-ttu-id="6fbd4-374">**SequenceNumber**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-374">**SequenceNumber**.</span></span> <span data-ttu-id="6fbd4-375">Numero intero positivo che deve essere sempre crescente, perché rappresenta l'ordine dei report.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-375">A positive integer that needs to be ever-increasing, it represents the order of the reports.</span></span> <span data-ttu-id="6fbd4-376">Viene usato dall'archivio integrità per rilevare i report non aggiornati, ricevuti in ritardo a causa di ritardi sulla rete o di altri problemi.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-376">It is used by the health store to detect stale reports that are received late because of network delays or other issues.</span></span> <span data-ttu-id="6fbd4-377">I report vengono rifiutati se il numero di sequenza è minore o uguale all'ultimo numero applicato per la stessa entità, origine e proprietà.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-377">A report is rejected if the sequence number is less than or equal to the most recently applied number for the same entity, source, and property.</span></span> <span data-ttu-id="6fbd4-378">Se non è specificato, il numero di sequenza viene generato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-378">If it is not specified, the sequence number is generated automatically.</span></span> <span data-ttu-id="6fbd4-379">È necessario inserire il numero di sequenza solo quando si inviano report sulle transizioni di stato.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-379">It is necessary to put in the sequence number only when reporting on state transitions.</span></span> <span data-ttu-id="6fbd4-380">In questo caso, l'origine deve ricordare i report inviati e mantenere le informazioni per recuperarle in caso di failover.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-380">In this situation, the source needs to remember which reports it sent and keep the information for recovery on failover.</span></span>

<span data-ttu-id="6fbd4-381">SourceId, l'identificatore dell'entità, Property e HealthState sono dati obbligatori per tutti i report sull'integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-381">These four pieces of information--SourceId, entity identifier, Property, and HealthState--are required for every health report.</span></span> <span data-ttu-id="6fbd4-382">La stringa SourceId non può iniziare con il prefisso "**System.**", che è riservato ai report di sistema.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-382">The SourceId string is not allowed to start with the prefix "**System.**", which is reserved for system reports.</span></span> <span data-ttu-id="6fbd4-383">Per la stessa entità è disponibile un solo report per la stessa origine e la stessa proprietà.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-383">For the same entity, there is only one report for the same source and property.</span></span> <span data-ttu-id="6fbd4-384">Più report per la stessa origine e la stessa proprietà si sostituiscono l'uno all'altro sul lato del client di integrità (se sono in batch) o sul lato dell'archivio integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-384">Multiple reports for the same source and property override each other, either on the health client side (if they are batched) or on the health store side.</span></span> <span data-ttu-id="6fbd4-385">La sostituzione avviene in base al numero di sequenza, quindi i report più recenti con un numero di sequenza più alto sostituiscono quelli meno recenti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-385">The replacement is based on sequence numbers; newer reports (with higher sequence numbers) replace older reports.</span></span>

### <a name="health-events"></a><span data-ttu-id="6fbd4-386">Eventi di integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-386">Health events</span></span>
<span data-ttu-id="6fbd4-387">Internamente, l'archivio integrità mantiene [eventi di integrità](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent)contenenti tutte le informazioni provenienti dai report e metadati aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-387">Internally, the health store keeps [health events](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent), which contain all the information from the reports, and additional metadata.</span></span> <span data-ttu-id="6fbd4-388">I metadati includono l'ora in cui un report è stato consegnato al client di integrità e l'ora in cui è stato modificato sul lato server.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-388">The metadata includes the time the report was given to the health client and the time it was modified on the server side.</span></span> <span data-ttu-id="6fbd4-389">Gli eventi di integrità vengono restituiti dalle [query sull'integrità](service-fabric-view-entities-aggregated-health.md#health-queries).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-389">The health events are returned by [health queries](service-fabric-view-entities-aggregated-health.md#health-queries).</span></span>

<span data-ttu-id="6fbd4-390">I metadati aggiunti includono quanto segue:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-390">The added metadata contains:</span></span>

* <span data-ttu-id="6fbd4-391">**SourceUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-391">**SourceUtcTimestamp**.</span></span> <span data-ttu-id="6fbd4-392">Ora in cui il report è stato fornito al client di integrità (UTC).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-392">The time the report was given to the health client (Coordinated Universal Time).</span></span>
* <span data-ttu-id="6fbd4-393">**LastModifiedUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-393">**LastModifiedUtcTimestamp**.</span></span> <span data-ttu-id="6fbd4-394">Ora in cui il report è stato modificato l'ultima volta sul lato server (UTC).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-394">The time the report was last modified on the server side (Coordinated Universal Time).</span></span>
* <span data-ttu-id="6fbd4-395">**IsExpired**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-395">**IsExpired**.</span></span> <span data-ttu-id="6fbd4-396">Flag che indica se il report era scaduto quando la query è stata eseguita dall'archivio integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-396">A flag to indicate whether the report was expired when the query was executed by the health store.</span></span> <span data-ttu-id="6fbd4-397">Un evento può risultare scaduto solo se RemoveWhenExpired è false.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-397">An event can be expired only if RemoveWhenExpired is false.</span></span> <span data-ttu-id="6fbd4-398">In caso contrario, l'evento non viene restituito dalla query e viene rimosso dall'archivio.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-398">Otherwise, the event is not returned by query and is removed from the store.</span></span>
* <span data-ttu-id="6fbd4-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span></span> <span data-ttu-id="6fbd4-400">Ultima volta in cui si sono verificate transizioni OK/Warning/Error.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-400">The last time for OK/warning/error transitions.</span></span> <span data-ttu-id="6fbd4-401">Questi campi forniscono la cronologia delle transizioni degli stati di integrità per l'evento.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-401">These fields give the history of the health state transitions for the event.</span></span>

<span data-ttu-id="6fbd4-402">I campi di transizione dello stato possono essere usati per ottenere avvisi più intelligenti o informazioni "cronologiche" sull'evento di integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-402">The state transition fields can be used for smarter alerts or "historical" health event information.</span></span> <span data-ttu-id="6fbd4-403">Consentono l'uso di scenari simili ai seguenti:</span><span class="sxs-lookup"><span data-stu-id="6fbd4-403">They enable scenarios such as:</span></span>

* <span data-ttu-id="6fbd4-404">Avviso quando lo stato di una proprietà è impostato su Warning/Error da più di X minuti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-404">Alert when a property has been at warning/error for more than X minutes.</span></span> <span data-ttu-id="6fbd4-405">Controllando la condizione per un determinato periodo di tempo si evitano avvisi per condizioni temporanee.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-405">Checking the condition for a period of time avoids alerts on temporary conditions.</span></span> <span data-ttu-id="6fbd4-406">Ad esempio, se si vuole un avviso quando lo stato di integrità rimane impostato su Warning per più di 5 minuti, è possibile usare: (HealthState == Warning and Now - LastWarningTransitionTime > 5 minutes).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-406">For example, an alert if the health state has been warning for more than five minutes can be translated into (HealthState == Warning and Now - LastWarningTransitionTime > 5 minutes).</span></span>
* <span data-ttu-id="6fbd4-407">Avviso solo per le condizioni cambiate negli ultimi X minuti.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-407">Alert only on conditions that have changed in the last X minutes.</span></span> <span data-ttu-id="6fbd4-408">Se un report segnalava lo stato Error anche prima dell'ora specificata, può essere ignorato perché il problema era già stato segnalato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-408">If a report was already at error before the specified time, it can be ignored because it was already signaled previously.</span></span>
* <span data-ttu-id="6fbd4-409">Se una proprietà si alterna tra lo stato Warning e lo stato Error, determinare per quanto tempo è risultata non integra, ovvero non OK.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-409">If a property is toggling between warning and error, determine how long it has been unhealthy (that is, not OK).</span></span> <span data-ttu-id="6fbd4-410">Ad esempio, se si vuole un avviso quando la proprietà non risulta integra da più di 5 minuti, è possibile usare: (HealthState != Ok and Now - LastOkTransitionTime > 5 minutes).</span><span class="sxs-lookup"><span data-stu-id="6fbd4-410">For example, an alert if the property hasn't been healthy for more than five minutes can be translated into (HealthState != Ok and Now - LastOkTransitionTime > 5 minutes).</span></span>

## <a name="example-report-and-evaluate-application-health"></a><span data-ttu-id="6fbd4-411">Esempio: Report e valutazione dell'integrità dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="6fbd4-411">Example: Report and evaluate application health</span></span>
<span data-ttu-id="6fbd4-412">L'esempio seguente invia tramite PowerShell un report sull'integrità dell'applicazione **fabric:/WordCount** dall'origine **MyWatchdog**.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-412">The following example sends a health report through PowerShell on the application **fabric:/WordCount** from the source **MyWatchdog**.</span></span> <span data-ttu-id="6fbd4-413">Il report sull'integrità contiene informazioni sulla "disponibilità" della proprietà di integrità con stato di integrità Error e TimeToLive infinito.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-413">The health report contains information about the health property "availability" in an error health state, with infinite TimeToLive.</span></span> <span data-ttu-id="6fbd4-414">Viene quindi eseguita una query sull'integrità dell'applicazione che restituisce Error come stato di integrità aggregato e gli eventi di integrità segnalati nell'elenco degli eventi di integrità.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-414">Then it queries the application health, which returns aggregated health state errors and the reported health events in the list of health events.</span></span>

```powershell
PS C:\> Send-ServiceFabricApplicationHealthReport –ApplicationName fabric:/WordCount –SourceId "MyWatchdog" –HealthProperty "Availability" –HealthState Error

PS C:\> Get-ServiceFabricApplicationHealth fabric:/WordCount -ExcludeHealthStatistics


ApplicationName                 : fabric:/WordCount
AggregatedHealthState           : Error
UnhealthyEvaluations            :
                                  Error event: SourceId='MyWatchdog', Property='Availability'.

ServiceHealthStates             :
                                  ServiceName           : fabric:/WordCount/WordCountService
                                  AggregatedHealthState : Error

                                  ServiceName           : fabric:/WordCount/WordCountWebService
                                  AggregatedHealthState : Ok

DeployedApplicationHealthStates :
                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_0
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_2
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_3
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_4
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_1
                                  AggregatedHealthState : Ok

HealthEvents                    :
                                  SourceId              : System.CM
                                  Property              : State
                                  HealthState           : Ok
                                  SequenceNumber        : 360
                                  SentAt                : 3/22/2016 7:56:53 PM
                                  ReceivedAt            : 3/22/2016 7:56:53 PM
                                  TTL                   : Infinite
                                  Description           : Application has been created.
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Error->Ok = 3/22/2016 7:56:53 PM, LastWarning = 1/1/0001 12:00:00 AM

                                  SourceId              : MyWatchdog
                                  Property              : Availability
                                  HealthState           : Error
                                  SequenceNumber        : 131032204762818013
                                  SentAt                : 3/23/2016 3:27:56 PM
                                  ReceivedAt            : 3/23/2016 3:27:56 PM
                                  TTL                   : Infinite
                                  Description           :
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Ok->Error = 3/23/2016 3:27:56 PM, LastWarning = 1/1/0001 12:00:00 AM
```

## <a name="health-model-usage"></a><span data-ttu-id="6fbd4-415">Uso del modello di integrità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-415">Health model usage</span></span>
<span data-ttu-id="6fbd4-416">Il modello di integrità consente la scalabilità dei servizi cloud e della piattaforma Service Fabric sottostante perché il monitoraggio e la determinazione dell'integrità vengono distribuiti tra i diversi monitor all'interno del cluster.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-416">The health model allows cloud services and the underlying Service Fabric platform to scale, because monitoring and health determinations are distributed among the different monitors within the cluster.</span></span>
<span data-ttu-id="6fbd4-417">Altri sistemi hanno un unico servizio centralizzato a livello di cluster che analizza tutte le *informazioni potenzialmente utili generate dai servizi*.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-417">Other systems have a single, centralized service at the cluster level that parses all the *potentially* useful information emitted by services.</span></span> <span data-ttu-id="6fbd4-418">Questo approccio ne impedisce la scalabilità</span><span class="sxs-lookup"><span data-stu-id="6fbd4-418">This approach hinders their scalability.</span></span> <span data-ttu-id="6fbd4-419">e non consente la raccolta di informazioni specifiche per identificare i problemi effettivi e potenziali risalendo alla causa principale.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-419">It also doesn't allow them to collect specific information to help identify issues and potential issues as close to the root cause as possible.</span></span>

<span data-ttu-id="6fbd4-420">Il modello di integrità viene usato in larga misura per il monitoraggio e la diagnosi, per la valutazione dell'integrità del cluster e dell'applicazione e per aggiornamenti monitorati.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-420">The health model is used heavily for monitoring and diagnosis, for evaluating cluster and application health, and for monitored upgrades.</span></span> <span data-ttu-id="6fbd4-421">Altri servizi usano i dati di integrità per eseguire riparazioni automatiche, generare la cronologia dell'integrità del cluster e inviare avvisi in determinate condizioni.</span><span class="sxs-lookup"><span data-stu-id="6fbd4-421">Other services use health data to perform automatic repairs, build cluster health history, and issue alerts on certain conditions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6fbd4-422">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="6fbd4-422">Next steps</span></span>
[<span data-ttu-id="6fbd4-423">Come visualizzare i report sull'integrità di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6fbd4-423">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

[<span data-ttu-id="6fbd4-424">Uso dei report sull'integrità del sistema per la risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="6fbd4-424">Use system health reports for troubleshooting</span></span>](service-fabric-understand-and-troubleshoot-with-system-health-reports.md)

[<span data-ttu-id="6fbd4-425">Creare report e verificare l'integrità dei servizi</span><span class="sxs-lookup"><span data-stu-id="6fbd4-425">How to report and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)

[<span data-ttu-id="6fbd4-426">Aggiungere report sull'integrità di Service Fabric personalizzati</span><span class="sxs-lookup"><span data-stu-id="6fbd4-426">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)

[<span data-ttu-id="6fbd4-427">Monitorare e diagnosticare servizi in locale</span><span class="sxs-lookup"><span data-stu-id="6fbd4-427">Monitor and diagnose services locally</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)

[<span data-ttu-id="6fbd4-428">Aggiornamento di un'applicazione di infrastruttura di servizi</span><span class="sxs-lookup"><span data-stu-id="6fbd4-428">Service Fabric application upgrade</span></span>](service-fabric-application-upgrade.md)

