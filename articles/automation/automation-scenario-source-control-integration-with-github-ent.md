---
title: Integrazione del controllo del codice sorgente di Automazione di Azure con GitHub Enterprise | Documentazione Microsoft
description: Descrive nei dettagli come configurare l'integrazione con GitHub Enterprise per il controllo del codice sorgente dei runbook di Automazione.
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 62793dcdbbf4c83161e95d1c165d5c231245f7c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/03/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="ef9d9-103">Scenario di Automazione di Azure - Integrazione del controllo del codice sorgente di Automazione con GitHub Enterprise</span><span class="sxs-lookup"><span data-stu-id="ef9d9-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="ef9d9-104">Automazione supporta attualmente l'integrazione del controllo del codice sorgente che consente di associare i runbook dell'account di Automazione a un repository di controllo del codice sorgente su GitHub.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-104">Automation currently supports source control integration, which allows you to associate runbooks in your Automation account to a GitHub source control repository.</span></span>  <span data-ttu-id="ef9d9-105">Tuttavia, i clienti che hanno distribuito [GitHub Enterprise](https://enterprise.github.com/home) per supportare le procedure DevOps vogliono anche usarlo per gestire il ciclo di vita dei runbook sviluppati per automatizzare i processi aziendali e le operazioni di gestione dei servizi.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) to support their DevOps practices, also want to use it to manage the lifecycle of runbooks that are developed to automate business processes and service management operations.</span></span>  

<span data-ttu-id="ef9d9-106">In questo scenario è necessario un computer Windows nel data center configurato come un ruolo di lavoro ibrido per runbook con i moduli di Azure Resource Manager e gli strumenti Git installati.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with the Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="ef9d9-107">Il computer con ruolo di lavoro ibrido avrà un clone del repository Git locale.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-107">The Hybrid worker machine has a clone of the local Git repository.</span></span>  <span data-ttu-id="ef9d9-108">Quando il runbook viene eseguito nel ruolo di lavoro ibrido, la directory Git viene sincronizzata e il contenuto del file runbook viene importato nell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-108">When the runbook is run on the hybrid worker, the Git directory is synchronized and the runbook file contents are imported into the Automation account.</span></span>

<span data-ttu-id="ef9d9-109">Questo articolo descrive come eseguire questa configurazione nell'ambiente di Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-109">This article describes how to set up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="ef9d9-110">Si inizierà configurando Automazione con le credenziali di sicurezza, i runbook necessari per supportare questo scenario e la distribuzione di un ruolo di lavoro ibrido per runbook nel data center per eseguire i runbook e accedere al repository GitHub Enterprise al fine di sincronizzare i runbook con l'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-110">We start by configuring Automation with the security credentials, runbooks required to support this scenario, and deployment of a Hybrid Runbook Worker in your data center to run the runbooks and access your GitHub Enterprise repository to synchronize runbooks with your Automation account.</span></span>  


## <a name="getting-the-scenario"></a><span data-ttu-id="ef9d9-111">Come ottenere lo scenario</span><span class="sxs-lookup"><span data-stu-id="ef9d9-111">Getting the scenario</span></span>

<span data-ttu-id="ef9d9-112">Questo scenario è costituito da due runbook di PowerShell che è possibile importare direttamente dalla [raccolta di runbook](automation-runbook-gallery.md) nel portale di Azure o scaricare da [PowerShell Gallery](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="ef9d9-112">This scenario consists of two PowerShell runbooks that you can import directly from the [Runbook Gallery](automation-runbook-gallery.md) in the Azure portal or download from the [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="ef9d9-113">Runbook</span><span class="sxs-lookup"><span data-stu-id="ef9d9-113">Runbooks</span></span>

<span data-ttu-id="ef9d9-114">Runbook</span><span class="sxs-lookup"><span data-stu-id="ef9d9-114">Runbook</span></span> | <span data-ttu-id="ef9d9-115">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef9d9-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="ef9d9-116">Export-RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="ef9d9-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="ef9d9-117">Runbook esporta un certificato RunAs da un account di Automazione in un ruolo di lavoro ibrido, in modo che i runbook nel ruolo di lavoro possano eseguire l'autenticazione con Azure per importare i runbook nell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-117">Runbook exports a RunAs certificate from an Automation account to a hybrid worker so that runbooks on the worker can authenticate with Azure in order to import runbooks into the Automation account.</span></span>| 
<span data-ttu-id="ef9d9-118">Sync-LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="ef9d9-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="ef9d9-119">Runbook sincronizza la cartella Git locale nel computer ibrido e quindi importa i file runbook (con estensione ps1) nell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-119">Runbook syncs the local Git folder on the hybrid machine and then import the runbook files (*.ps1) into the Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="ef9d9-120">Credenziali</span><span class="sxs-lookup"><span data-stu-id="ef9d9-120">Credentials</span></span>

<span data-ttu-id="ef9d9-121">Credenziali</span><span class="sxs-lookup"><span data-stu-id="ef9d9-121">Credential</span></span> | <span data-ttu-id="ef9d9-122">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef9d9-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="ef9d9-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="ef9d9-123">GitHRWCredential</span></span> | <span data-ttu-id="ef9d9-124">Asset credenziali che viene creato per contenere il nome utente e la password per un utente dotato delle autorizzazioni per il ruolo di lavoro ibrido.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-124">Credential asset you create to contain the username and password for a user with permissions to the hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="ef9d9-125">Installazione e configurazione dello scenario</span><span class="sxs-lookup"><span data-stu-id="ef9d9-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="ef9d9-126">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="ef9d9-126">Prerequisites</span></span>

1. <span data-ttu-id="ef9d9-127">Il runbook Sync-LocalGitFolderToAutomationAccount esegue l'autenticazione usando l'[account RunAs di Azure](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="ef9d9-127">The Sync-LocalGitFolderToAutomationAccount runbook authenticates using the [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="ef9d9-128">È inoltre necessaria un'area di lavoro di Microsoft Operations Management Suite (OMS) in cui sia abilitata e configurata la soluzione Automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-128">A Microsoft Operations Management Suite (OMS) workspace with the Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="ef9d9-129">Se non si ha un'area di lavoro associata all'account di Automazione usato per installare e configurare questo scenario, viene creata e configurata automaticamente quando si esegue lo script **New-OnPremiseHybridWorker.ps1** dal ruolo di lavoro ibrido per runbook.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-129">If you do not have one that is associated with the Automation account used to install and configure this scenario, it is created and configured for you when you execute the **New-OnPremiseHybridWorker.ps1** script from the hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="ef9d9-130">Attualmente, l'integrazione di Automazione con OMS è supportata solo nelle aree seguenti: **Australia sud-orientale**, **Stati Uniti orientali 2**, **Asia sud-orientale** ed **Europa occidentale**.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-130">Currently the following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="ef9d9-131">Un computer che può essere usato come ruolo di lavoro ibrido per runbook dedicato che ospiterà anche il software GitHub e manterrà i file runbook (*runbook*.ps1) in una directory di origine nel file system per la sincronizzazione tra GitHub e l'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host the GitHub software and maintain the runbook files (*runbook*.ps1) in a source directory on the file system to synchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-the-runbooks"></a><span data-ttu-id="ef9d9-132">Importare e pubblicare i runbook</span><span class="sxs-lookup"><span data-stu-id="ef9d9-132">Import and publish the runbooks</span></span>

<span data-ttu-id="ef9d9-133">Per importare i runbook *Export-RunAsCertificateToHybridWorker* e *Sync-LocalGitFolderToAutomationAccount* dalla raccolta di runbook dell'account di Automazione nel portale di Azure, seguire le procedure descritte in [Importare un runbook dalla raccolta di runbook](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="ef9d9-133">To import the *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from the Runbook Gallery from your Automation account in the Azure portal, follow the procedures in [Import Runbook from the Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="ef9d9-134">Pubblicare i runbook dopo che sono stati importati correttamente nell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-134">Publish the runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="ef9d9-135">Distribuire e configurare un ruolo di lavoro ibrido per runbook</span><span class="sxs-lookup"><span data-stu-id="ef9d9-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="ef9d9-136">Se un ruolo di lavoro ibrido per runbook non è già stato distribuito nel data center, è necessario esaminare i requisiti e seguire i passaggi di installazione automatica utilizzando la procedura descritta in [Funzionalità Hybrid Runbook Workers di Automazione di Azure](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="ef9d9-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review the requirements and follow the automated installation steps using the procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="ef9d9-137">Dopo aver installato il ruolo di lavoro ibrido nel computer, eseguire i passaggi seguenti per completare la configurazione in modo da supportare questo scenario.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-137">Once you have successfully installed the hybrid worker on a computer, perform the following steps to complete its configuration to support this scenario.</span></span>

1. <span data-ttu-id="ef9d9-138">Accedere al computer che ospita il ruolo di lavoro ibrido per runbook con un account dotato di diritti amministrativi locali e creare una directory in cui inserire i file runbook di Git.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-138">Sign on to the computer hosting the Hybrid Runbook Worker role with an account that has local administrative rights and create a directory to hold the Git runbook files.</span></span>  <span data-ttu-id="ef9d9-139">Clonare il repository Git interno nella directory.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-139">Clone  the internal Git repository to the directory.</span></span>
2. <span data-ttu-id="ef9d9-140">Se non si dispone di un account RunAs o si vuole crearne uno nuovo dedicato a questo scopo, dal portale di Azure passare agli account di Automazione, selezionare l'account di Automazione e creare un [asset credenziali](automation-credentials.md) contenente il nome utente e la password per un utente dotato delle autorizzazioni per il ruolo di lavoro ibrido.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-140">If you do not already have a RunAs account created or you want to create a new one dedicated for this purpose, from the Azure portal navigate to Automation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains the username and password for a user with permissions to the hybrid worker.</span></span>  
3. <span data-ttu-id="ef9d9-141">Dall'account di Automazione [modificare il runbook](automation-edit-textual-runbook.md) **Export-RunAsCertificateToHybridWorker** e cambiare il valore della variabile *$Password* con una password complessa.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-141">From your Automation account, [edit the runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify the value for the variable *$Password* with a strong password.</span></span>  <span data-ttu-id="ef9d9-142">Dopo aver modificato il valore, fare clic su **Pubblica** per pubblicare la versione bozza del runbook.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-142">After you modify the value, click **Publish** to have the draft version of the runbook published.</span></span> 
5. <span data-ttu-id="ef9d9-143">Avviare il runbook **Export-RunAsCertificateToHybridWorker** e, nel pannello **Avvia runbook**, in **Impostazioni di esecuzione**, selezionare l'opzione **Ruolo di lavoro ibrido** quindi, nell'elenco a discesa, selezionare il gruppo ruolo di lavoro ibrido creato in precedenza per questo scenario.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-143">Start the runbook **Export-RunAsCertificateToHybridWorker**, and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="ef9d9-144">Viene così esportato un certificato nel ruolo di lavoro ibrido, in modo che i runbook del ruolo di lavoro possano eseguire l'autenticazione con Azure usando la connessione RunAs per gestire le risorse di Azure (in particolare, per questo scenario, importare i runbook nell'account di Automazione).</span><span class="sxs-lookup"><span data-stu-id="ef9d9-144">This exports a certificate to the hybrid worker so that runbooks on the worker can authenticate with Azure using the Run As connection in order to manage Azure resources (in particular for this scenario - import runbooks to the Automation account).</span></span>

4. <span data-ttu-id="ef9d9-145">Dall'account di Automazione selezionare il gruppo ruolo di lavoro ibrido creato in precedenza, [specificare un account RunAs](automation-hrw-run-runbooks.md#runas-account) per il gruppo e scegliere l'asset credenziali creato.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-145">From your Automation account, select the Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for the Hybrid worker group, and chose the credential asset you just or already have created.</span></span>  <span data-ttu-id="ef9d9-146">Questo assicura che il runbook Sync possa eseguire i comandi Git.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-146">This assures that the Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="ef9d9-147">Avviare il runbook **Sync-LocalGitFolderToAutomationAccount**, fornire i seguenti valori richiesti per i parametri di input e, nel pannello **Avvia runbook**, in **Impostazioni di esecuzione**, selezionare l'opzione **Ruolo di lavoro ibrido** quindi, nell'elenco a discesa, selezionare il gruppo ruolo di lavoro ibrido creato in precedenza per questo scenario:</span><span class="sxs-lookup"><span data-stu-id="ef9d9-147">Start the runbook **Sync-LocalGitFolderToAutomationAccount**, provide the following required input parameter values and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="ef9d9-148">*ResourceGroupName*: nome del gruppo di risorse associato all'account di Automazione</span><span class="sxs-lookup"><span data-stu-id="ef9d9-148">*ResourceGroup* - the name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="ef9d9-149">*AutomationAccountName* : nome dell'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-149">*AutomationAccountName* - the name of your Automation account</span></span>
    * <span data-ttu-id="ef9d9-150">*GitPath*: cartella o file locale del ruolo di lavoro ibrido per runbook configurato per ricevere le ultime modifiche da Git</span><span class="sxs-lookup"><span data-stu-id="ef9d9-150">*GitPath* - The local folder or file on the Hybrid Runbook Worker where Git is set up to pull latest changes into</span></span>

    <span data-ttu-id="ef9d9-151">In questo modo la cartella Git locale nel computer con ruolo di lavoro ibrido verrà sincronizzata e quindi i file con estensione .ps1 saranno importati dalla directory di origine all'account di Automazione.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-151">This will sync the local Git folder on the hybrid worker computer and then import the .ps1 files from the source directory to the Automation account.</span></span>

    ![Avviare Sync-LocalGitFolderToAutomationAccount Runbook](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="ef9d9-153">Visualizzare i dettagli di riepilogo dei processi per il runbook nel pannello **Runbook** nel proprio account di Automazione e, successivamente, selezionare il riquadro **Processi**.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-153">View job summary details for the runbook by selecting it from the **Runbooks** blade in your Automation account, and then select the **Jobs** tile.</span></span>  <span data-ttu-id="ef9d9-154">Verificare che la procedura è stata completata con successo selezionando il riquadro **Tutti i log** ed esaminando il flusso di registrazione dettagliato.</span><span class="sxs-lookup"><span data-stu-id="ef9d9-154">Confirm it completed successfully by selecting the **All logs** tile and reviewing the detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="ef9d9-155">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="ef9d9-155">Next steps</span></span>

-  <span data-ttu-id="ef9d9-156">Per altre informazioni sui tipi di runbook, i relativi vantaggi e le limitazioni, vedere [Tipi di runbook di Automazione di Azure](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="ef9d9-156">To know more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="ef9d9-157">Per altre informazioni sulla funzionalità di supporto degli script PowerShell, vedere il blog relativo al [supporto di script PowerShell nativi in Automazione di Azure](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="ef9d9-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
