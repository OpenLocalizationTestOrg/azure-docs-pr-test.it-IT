---
title: Panoramica della delega di DNS di Azure | Microsoft Docs
description: Informazioni su come modificare la delega di dominio e usare server dei nomi DNS di Azure per fornire hosting di dominio.
services: dns
documentationcenter: na
author: georgewallace
manager: timlt
ms.assetid: 257da6ec-d6e2-4b6f-ad76-ee2dde4efbcc
ms.service: dns
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/12/2017
ms.author: gwallace
ms.openlocfilehash: 31a500502a4d3e729ecb79929ed6c1de156d6259
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="delegation-of-dns-zones-with-azure-dns"></a><span data-ttu-id="34c26-103">Delega di zone DNS con DNS di Azure</span><span class="sxs-lookup"><span data-stu-id="34c26-103">Delegation of DNS zones with Azure DNS</span></span>

<span data-ttu-id="34c26-104">DNS di Azure consente di ospitare una zona DNS e gestire i record DNS per un dominio in Azure.</span><span class="sxs-lookup"><span data-stu-id="34c26-104">Azure DNS allows you to host a DNS zone and manage the DNS records for a domain in Azure.</span></span> <span data-ttu-id="34c26-105">Per consentire l'esecuzione di query DNS in modo che un dominio raggiunga DNS di Azure, il dominio deve essere delegato a DNS di Azure dal dominio padre.</span><span class="sxs-lookup"><span data-stu-id="34c26-105">In order for DNS queries for a domain to reach Azure DNS, the domain has to be delegated to Azure DNS from the parent domain.</span></span> <span data-ttu-id="34c26-106">Tenere presente che DNS di Azure non è il registrar.</span><span class="sxs-lookup"><span data-stu-id="34c26-106">Keep in mind Azure DNS is not the domain registrar.</span></span> <span data-ttu-id="34c26-107">Questo articolo illustra il funzionamento della delega di dominio e come delegare domini a DNS di Azure.</span><span class="sxs-lookup"><span data-stu-id="34c26-107">This article explains how domain delegation works and how to delegate domains to Azure DNS.</span></span>

## <a name="how-dns-delegation-works"></a><span data-ttu-id="34c26-108">Funzionamento della delega DNS</span><span class="sxs-lookup"><span data-stu-id="34c26-108">How DNS delegation works</span></span>

### <a name="domains-and-zones"></a><span data-ttu-id="34c26-109">Domini e zone</span><span class="sxs-lookup"><span data-stu-id="34c26-109">Domains and zones</span></span>

<span data-ttu-id="34c26-110">Domain Name System è una gerarchia di domini.</span><span class="sxs-lookup"><span data-stu-id="34c26-110">The Domain Name System is a hierarchy of domains.</span></span> <span data-ttu-id="34c26-111">La gerarchia inizia dal dominio "radice", il cui nome è semplicemente "**.**",</span><span class="sxs-lookup"><span data-stu-id="34c26-111">The hierarchy starts from the 'root' domain, whose name is simply '**.**'.</span></span>  <span data-ttu-id="34c26-112">seguito dai domini di primo livello, come "com", "net", "org", "uk" o "jp",</span><span class="sxs-lookup"><span data-stu-id="34c26-112">Below this come top-level domains, such as 'com', 'net', 'org', 'uk' or 'jp'.</span></span>  <span data-ttu-id="34c26-113">e quindi dai domini di secondo livello, come "org.uk" o "co.jp"</span><span class="sxs-lookup"><span data-stu-id="34c26-113">Below these top-level domains are second-level domains, such as 'org.uk' or 'co.jp'.</span></span>  <span data-ttu-id="34c26-114">e così via.</span><span class="sxs-lookup"><span data-stu-id="34c26-114">And so on.</span></span> <span data-ttu-id="34c26-115">I domini nella gerarchia DNS sono ospitati usando zone DNS separate.</span><span class="sxs-lookup"><span data-stu-id="34c26-115">The domains in the DNS hierarchy are hosted using separate DNS zones.</span></span> <span data-ttu-id="34c26-116">Queste zone vengono distribuite a livello globale, ospitate dai server dei nomi DNS in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="34c26-116">These zones are globally distributed, hosted by DNS name servers around the world.</span></span>

<span data-ttu-id="34c26-117">**Zona DNS**: un dominio è un nome univoco nel Domain Name System, ad esempio "contoso.com".</span><span class="sxs-lookup"><span data-stu-id="34c26-117">**DNS zone** - A domain is a unique name in the Domain Name System, for example 'contoso.com'.</span></span> <span data-ttu-id="34c26-118">Una zona DNS viene usata per ospitare i record DNS per un particolare dominio.</span><span class="sxs-lookup"><span data-stu-id="34c26-118">A DNS zone is used to host the DNS records for a particular domain.</span></span> <span data-ttu-id="34c26-119">Il dominio "contoso.com", ad esempio, può contenere diversi record DNS, come "mail.contoso.com" (per un server di posta) e "www.contoso.com" (per un sito Web).</span><span class="sxs-lookup"><span data-stu-id="34c26-119">For example, the domain 'contoso.com' may contain several DNS records such as 'mail.contoso.com' (for a mail server) and 'www.contoso.com' (for a website).</span></span>

<span data-ttu-id="34c26-120">**Registrar**: un registrar è una società che può fornire nomi di dominio Internet.</span><span class="sxs-lookup"><span data-stu-id="34c26-120">**Domain registrar** - A domain registrar is a company who can provide Internet domain names.</span></span> <span data-ttu-id="34c26-121">e verificare se il dominio Internet richiesto è disponibile, consentendo all'utente di acquistarlo.</span><span class="sxs-lookup"><span data-stu-id="34c26-121">They verify if the Internet domain you want to use is available and allow you to purchase it.</span></span> <span data-ttu-id="34c26-122">Dopo che il nome di dominio è stato registrato, si diventa il legittimo proprietario del nome di dominio.</span><span class="sxs-lookup"><span data-stu-id="34c26-122">Once the domain name is registered, you are the legal owner for the domain name.</span></span> <span data-ttu-id="34c26-123">Se si ha già un dominio Internet, si userà il registrar corrente per delegare al NS di Azure.</span><span class="sxs-lookup"><span data-stu-id="34c26-123">If you already have an Internet domain, you will use the current domain registrar to delegate to Azure DNS.</span></span>

<span data-ttu-id="34c26-124">Per altre informazioni sul proprietario di un determinato nome di dominio o su come acquistare un dominio, vedere [Gestione dei domini Internet in Azure AD](https://msdn.microsoft.com/library/azure/hh969248.aspx).</span><span class="sxs-lookup"><span data-stu-id="34c26-124">To find out more information on who owns a given domain name, or for information on how to buy a domain, see [Internet domain management in Azure AD](https://msdn.microsoft.com/library/azure/hh969248.aspx).</span></span>

### <a name="resolution-and-delegation"></a><span data-ttu-id="34c26-125">Risoluzione e delega</span><span class="sxs-lookup"><span data-stu-id="34c26-125">Resolution and delegation</span></span>

<span data-ttu-id="34c26-126">Esistono due tipi di server DNS:</span><span class="sxs-lookup"><span data-stu-id="34c26-126">There are two types of DNS servers:</span></span>

* <span data-ttu-id="34c26-127">Un server DNS *autorevole* ospita le zone DNS</span><span class="sxs-lookup"><span data-stu-id="34c26-127">An *authoritative* DNS server hosts DNS zones.</span></span> <span data-ttu-id="34c26-128">e risponde alle query DNS solo per i record presenti in tali zone.</span><span class="sxs-lookup"><span data-stu-id="34c26-128">It answers DNS queries for records in those zones only.</span></span>
* <span data-ttu-id="34c26-129">Un server DNS *ricorsivo* non ospita zone DNS,</span><span class="sxs-lookup"><span data-stu-id="34c26-129">A *recursive* DNS server does not host DNS zones.</span></span> <span data-ttu-id="34c26-130">ma risponde a tutte le query DNS, chiamando i server DNS autorevoli per raccogliere tutti i dati necessari.</span><span class="sxs-lookup"><span data-stu-id="34c26-130">It answers all DNS queries by calling authoritative DNS servers to gather the data it needs.</span></span>

<span data-ttu-id="34c26-131">Il servizio DNS di Azure fornisce un servizio DNS autorevole.</span><span class="sxs-lookup"><span data-stu-id="34c26-131">Azure DNS provides an authoritative DNS service.</span></span>  <span data-ttu-id="34c26-132">Non fornisce un servizio DNS ricorsivo.</span><span class="sxs-lookup"><span data-stu-id="34c26-132">It does not provide a recursive DNS service.</span></span> <span data-ttu-id="34c26-133">I servizi cloud e le macchine virtuali in Azure vengono configurati automaticamente per l'uso di un servizio DNS ricorsivo fornito separatamente come parte dell'infrastruttura di Azure.</span><span class="sxs-lookup"><span data-stu-id="34c26-133">Cloud Services and VMs in Azure are automatically configured to use a recursive DNS service that is provided separately as part of Azure's infrastructure.</span></span> <span data-ttu-id="34c26-134">Per informazioni su come modificare queste impostazioni DNS, vedere [Risoluzione dei nomi usando il server DNS](../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="34c26-134">For information on how to change these DNS settings, see [Name Resolution in Azure](../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

<span data-ttu-id="34c26-135">I client DNS nei computer o dispositivi mobili in genere chiamano un server DNS ricorsivo per eseguire tutte le query DNS necessarie per le applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="34c26-135">DNS clients in PCs or mobile devices typically call a recursive DNS server to perform any DNS queries the client applications need.</span></span>

<span data-ttu-id="34c26-136">Quando un server DNS ricorsivo riceve una query per un record DNS, ad esempio "www.contoso.com", deve prima trovare il server dei nomi che ospita la zona per il dominio "contoso.com".</span><span class="sxs-lookup"><span data-stu-id="34c26-136">When a recursive DNS server receives a query for a DNS record such as 'www.contoso.com', it first needs to find the name server hosting the zone for the 'contoso.com' domain.</span></span> <span data-ttu-id="34c26-137">Per trovare il server di nomi, inizia dal server dei nomi radice e da lì rileva il server dei nomi che ospita la zona "com".</span><span class="sxs-lookup"><span data-stu-id="34c26-137">To find the name server, it starts at the root name servers, and from there finds the name servers hosting the 'com' zone.</span></span> <span data-ttu-id="34c26-138">Esegue quindi la query sui server dei nomi "com" per trovare i server dei nomi che ospitano la zona "contoso.com".</span><span class="sxs-lookup"><span data-stu-id="34c26-138">It then queries the 'com' name servers to find the name servers hosting the 'contoso.com' zone.</span></span>  <span data-ttu-id="34c26-139">Sarà infine possibile eseguire la query su questi server dei nomi per "www.contoso.com".</span><span class="sxs-lookup"><span data-stu-id="34c26-139">Finally, it is able to query these name servers for 'www.contoso.com'.</span></span>

<span data-ttu-id="34c26-140">Questa procedura è definita risoluzione del nome DNS.</span><span class="sxs-lookup"><span data-stu-id="34c26-140">This procedure is called resolving the DNS name.</span></span> <span data-ttu-id="34c26-141">In modo più specifico, la risoluzione DNS include passaggi aggiuntivi, ad esempio seguire i CNAME, ma questo aspetto non è importante per comprendere il funzionamento della delega DNS.</span><span class="sxs-lookup"><span data-stu-id="34c26-141">Strictly speaking, DNS resolution includes additional steps such as following CNAMEs, but that's not important to understanding how DNS delegation works.</span></span>

<span data-ttu-id="34c26-142">In che modo una zona padre "punta" ai server dei nomi per una zona figlio?</span><span class="sxs-lookup"><span data-stu-id="34c26-142">How does a parent zone 'point' to the name servers for a child zone?</span></span> <span data-ttu-id="34c26-143">Usando un tipo speciale di record DNS, denominato record NS (Name Server, server dei nomi).</span><span class="sxs-lookup"><span data-stu-id="34c26-143">It does this using a special type of DNS record called an NS record (NS stands for 'name server').</span></span> <span data-ttu-id="34c26-144">Ad esempio, la zona radice contiene record NS per "com" e mostra i server dei nomi per la zona "com".</span><span class="sxs-lookup"><span data-stu-id="34c26-144">For example, the root zone contains NS records for 'com' and shows the name servers for the 'com' zone.</span></span> <span data-ttu-id="34c26-145">A sua volta, la zona "com" contiene record NS per "contoso.com" che mostra i server dei nomi per la zona "contoso.com".</span><span class="sxs-lookup"><span data-stu-id="34c26-145">In turn, the 'com' zone contains NS records for 'contoso.com', which shows the name servers for the 'contoso.com' zone.</span></span> <span data-ttu-id="34c26-146">La configurazione di record NS per una zona figlio in una zona padre è definita delega del dominio.</span><span class="sxs-lookup"><span data-stu-id="34c26-146">Setting up the NS records for a child zone in a parent zone is called delegating the domain.</span></span>

<span data-ttu-id="34c26-147">La figura seguente mostra una query DNS di esempio:</span><span class="sxs-lookup"><span data-stu-id="34c26-147">The following image shows an example DNS query.</span></span> <span data-ttu-id="34c26-148">I valori contoso.net e partners.contoso.net indicano zone DNS di Azure.</span><span class="sxs-lookup"><span data-stu-id="34c26-148">The contoso.net and partners.contoso.net are Azure DNS zones.</span></span>

![Dns-nameserver](./media/dns-domain-delegation/image1.png)

1. <span data-ttu-id="34c26-150">Il client richiede `www.partners.contoso.net` dal proprio server DNS locale.</span><span class="sxs-lookup"><span data-stu-id="34c26-150">The client requests `www.partners.contoso.net` from their local DNS server.</span></span>
1. <span data-ttu-id="34c26-151">Il server DNS locale non ha il record, quindi invia una richiesta al rispettivo server dei nomi radice.</span><span class="sxs-lookup"><span data-stu-id="34c26-151">The local DNS server does not have the record so it makes a request to their root name server.</span></span>
1. <span data-ttu-id="34c26-152">Il server dei nomi radice non ha il record, ma conosce l'indirizzo del server dei nomi `.net` e fornisce tale indirizzo al server DNS.</span><span class="sxs-lookup"><span data-stu-id="34c26-152">The root name server does not have the record, but knows the address of the `.net` name server, it provides that address to the DNS server</span></span>
1. <span data-ttu-id="34c26-153">Il server DNS invia la richiesta al server dei nomi `.net`. Non ha il record ma conosce l'indirizzo del server dei nomi contoso.net.</span><span class="sxs-lookup"><span data-stu-id="34c26-153">The DNS sends the request to the `.net` name server, it does not have the record but does know the address of the contoso.net name server.</span></span> <span data-ttu-id="34c26-154">In questo caso si tratta di una zona DNS ospitata in DNS di Azure.</span><span class="sxs-lookup"><span data-stu-id="34c26-154">In this case it is a DNS zone hosted in Azure DNS.</span></span>
1. <span data-ttu-id="34c26-155">La zona `contoso.net` non ha il record ma conosce il server dei nomi per `partners.contoso.net` e invia tale risposta.</span><span class="sxs-lookup"><span data-stu-id="34c26-155">The zone `contoso.net` does not have the record but knows the name server for `partners.contoso.net` and responds with that.</span></span> <span data-ttu-id="34c26-156">In questo caso si tratta di una zona DNS ospitata in DNS di Azure.</span><span class="sxs-lookup"><span data-stu-id="34c26-156">In this case it is a DNS zone hosted in Azure DNS.</span></span>
1. <span data-ttu-id="34c26-157">Il server DNS richiede l'indirizzo IP di `partners.contoso.net` dalla zona `partners.contoso.net`.</span><span class="sxs-lookup"><span data-stu-id="34c26-157">The DNS server requests the IP address of `partners.contoso.net` from the `partners.contoso.net` zone.</span></span> <span data-ttu-id="34c26-158">Contiene il record A e risponde con l'indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="34c26-158">It contains the A record and responds with the IP address.</span></span>
1. <span data-ttu-id="34c26-159">Il server DNS fornisce l'indirizzo IP al client.</span><span class="sxs-lookup"><span data-stu-id="34c26-159">The DNS server provides the IP address to the client</span></span>
1. <span data-ttu-id="34c26-160">Il client si connette al sito Web `www.partners.contoso.net`.</span><span class="sxs-lookup"><span data-stu-id="34c26-160">The client connects to the website `www.partners.contoso.net`.</span></span>

<span data-ttu-id="34c26-161">Ogni delega include effettivamente due copie dei record NS, una nella zona padre, che punta al figlio, e un'altra nella stessa zona figlio.</span><span class="sxs-lookup"><span data-stu-id="34c26-161">Each delegation actually has two copies of the NS records; one in the parent zone pointing to the child, and another in the child zone itself.</span></span> <span data-ttu-id="34c26-162">La zona "contoso.net" contiene i record NS per "contoso.net" (oltre ai record NS contenuti in "net").</span><span class="sxs-lookup"><span data-stu-id="34c26-162">The 'contoso.net' zone contains the NS records for 'contoso.net' (in addition to the NS records in 'net').</span></span> <span data-ttu-id="34c26-163">Questi record sono denominati record NS autorevoli e si trovano al vertice della zona figlio.</span><span class="sxs-lookup"><span data-stu-id="34c26-163">These records are called authoritative NS records and they sit at the apex of the child zone.</span></span>

## <a name="next-steps"></a><span data-ttu-id="34c26-164">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="34c26-164">Next steps</span></span>

<span data-ttu-id="34c26-165">Informazioni su come [delegare il dominio al servizio DNS di Azure](dns-delegate-domain-azure-dns.md).</span><span class="sxs-lookup"><span data-stu-id="34c26-165">Learn how to [delegate your domain to Azure DNS](dns-delegate-domain-azure-dns.md)</span></span>

