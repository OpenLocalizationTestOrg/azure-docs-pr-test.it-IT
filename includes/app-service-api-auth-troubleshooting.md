<span data-ttu-id="56f26-101">Spesso la maggior parte degli errori di autenticazione sono causati da impostazioni di configurazione non corrette o incoerenti.</span><span class="sxs-lookup"><span data-stu-id="56f26-101">Most of the time authentication errors result from incorrect or inconsistent configuration settings.</span></span> <span data-ttu-id="56f26-102">Ecco alcuni suggerimenti specifici per gli elementi da verificare.</span><span class="sxs-lookup"><span data-stu-id="56f26-102">Here are some specific suggestions for things to check.</span></span>

* <span data-ttu-id="56f26-103">Assicurarsi di aver selezionato il pulsante **Salva** .</span><span class="sxs-lookup"><span data-stu-id="56f26-103">Make sure that you didn't miss the **Save** button anywhere.</span></span> <span data-ttu-id="56f26-104">Questa operazione non è scontata e capita spesso di visualizzare i valori correnti nella pagina del portale senza averli effettivamente salvanti nell'ambiente Azure o nell'applicazione Azure AD.</span><span class="sxs-lookup"><span data-stu-id="56f26-104">This is often easy to do, and the result is that you'll be looking at the correct values on a portal page but they haven't actually been saved in the Azure environment or Azure AD application.</span></span>
* <span data-ttu-id="56f26-105">Per le impostazioni configurate nel pannello **Impostazioni applicazione** del portale di Azure, verificare che sia stata selezionata l'app per le API o l'app Web corretta quando sono state immesse le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="56f26-105">For settings configured in the **Application Settings** blade of the Azure portal, make sure that the correct API app or web app was selected when the settings were entered.</span></span>  <span data-ttu-id="56f26-106">Assicurarsi inoltre che le impostazioni siano state immesse come **Impostazioni app** e non come **Stringhe di connessione**, poiché il formato delle due sezioni è simile.</span><span class="sxs-lookup"><span data-stu-id="56f26-106">Also make sure that the settings were entered as **App settings** and not **Connection strings**, as the format of the two sections is similar.</span></span>
* <span data-ttu-id="56f26-107">Per l'autenticazione a un front-end JavaScript, scaricare nuovamente il manifesto per verificare che `oauth2AllowImplicitFlow` sia stato modificato correttamente in `true`.</span><span class="sxs-lookup"><span data-stu-id="56f26-107">For authentication to a JavaScript front end, download the manifest again to verify that `oauth2AllowImplicitFlow` was successfully changed to `true`.</span></span>
* <span data-ttu-id="56f26-108">Verificare di avere usato HTTPS ogni volta che sono stati configurati gli URL:</span><span class="sxs-lookup"><span data-stu-id="56f26-108">Verify that you used HTTPS wherever you configured URLs:</span></span>
  
  * <span data-ttu-id="56f26-109">Nel codice del progetto</span><span class="sxs-lookup"><span data-stu-id="56f26-109">In project code</span></span>
  * <span data-ttu-id="56f26-110">In CORS</span><span class="sxs-lookup"><span data-stu-id="56f26-110">In CORS</span></span>
  * <span data-ttu-id="56f26-111">Nelle impostazioni dell'app dell'ambiente Azure per ogni app per le API e app Web</span><span class="sxs-lookup"><span data-stu-id="56f26-111">In Azure environment App settings for each API app and web app</span></span>
  * <span data-ttu-id="56f26-112">Nelle impostazioni dell'applicazione di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="56f26-112">In Azure AD application settings.</span></span>
    
    <span data-ttu-id="56f26-113">Si noti che se si copia l'URL dell'app per le API dal portale, l'URL include spesso `http://` ed è necessario modificarlo manualmente in `https://`.</span><span class="sxs-lookup"><span data-stu-id="56f26-113">Note that if you copy an API app's URL from the portal, it often has `http://` and you have to manually change it to `https://`.</span></span>
* <span data-ttu-id="56f26-114">Assicurarsi che tutte le modifiche del codice sono state correttamente distribuite.</span><span class="sxs-lookup"><span data-stu-id="56f26-114">Make sure that any code changes were successfully deployed.</span></span> <span data-ttu-id="56f26-115">In una soluzione multiprogetto, ad esempio, è possibile modificare il codice del progetto e scegliere per errore uno tra questi quando si prevede di distribuire la modifica.</span><span class="sxs-lookup"><span data-stu-id="56f26-115">For example, in a multiple-project solution it's possible to change a project's code and accidentally choose one of the others when you intend to deploy the change.</span></span>
* <span data-ttu-id="56f26-116">Verificare che si stia passando a URL HTTPS nel browser e non a URL HTTP.</span><span class="sxs-lookup"><span data-stu-id="56f26-116">Make sure that you are going to HTTPS URLs in your browser, not HTTP URLs.</span></span> <span data-ttu-id="56f26-117">Per impostazione predefinita, Visual Studio crea profili di pubblicazione con URL HTTP, che verranno poi aperti nel browser dopo aver distribuito un progetto.</span><span class="sxs-lookup"><span data-stu-id="56f26-117">By default, Visual Studio creates publish profiles with HTTP URLs, and that's what opens in the browser after you deploy a project.</span></span>
* <span data-ttu-id="56f26-118">Per l'autenticazione a un front-end JavaScript, assicurarsi che CORS sia configurato correttamente nell'app per le API che chiama il codice JavaScript.</span><span class="sxs-lookup"><span data-stu-id="56f26-118">For authentication to a JavaScript front end, make sure that CORS is correctly configured on the API app that the JavaScript code calls.</span></span> <span data-ttu-id="56f26-119">In caso di dubbio che il problema sia correlato a CORS, provare "*" come URL di origine consentito.</span><span class="sxs-lookup"><span data-stu-id="56f26-119">If in doubt about whether the problem is CORS-related, try "*" as the allowed origin URL.</span></span> 
* <span data-ttu-id="56f26-120">Per un front-end JavaScript, aprire la scheda relativa alla console degli strumenti di sviluppo del browser per visualizzare altre informazioni sugli errori ed esaminare le richieste HTTP in rete.</span><span class="sxs-lookup"><span data-stu-id="56f26-120">For a JavaScript front end, open your browser's Developer Tools Console tab to get more error information, and examine HTTP requests on the Network.</span></span> <span data-ttu-id="56f26-121">Tuttavia, i messaggi di errore della console possono essere fuorvianti.</span><span class="sxs-lookup"><span data-stu-id="56f26-121">However, Console error messages may be misleading.</span></span> <span data-ttu-id="56f26-122">Se viene visualizzato un messaggio che indica un errore CORS, il vero problema potrebbe essere l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="56f26-122">If you get a message indicating a CORS error, the real issue may be authentication.</span></span> <span data-ttu-id="56f26-123">È possibile verificare il problema eseguendo l'app con l'autenticazione temporaneamente disabilitata.</span><span class="sxs-lookup"><span data-stu-id="56f26-123">You can check if this is the case by running the app with authentication temporarily temporarily disabled.</span></span>
* <span data-ttu-id="56f26-124">Per un'app per le API .NET, assicurarsi di ottenere il maggior numero possibile di informazioni nei messaggi di errore impostando [customErrors mode su Off](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remoteview).</span><span class="sxs-lookup"><span data-stu-id="56f26-124">For a .NET API app, make sure you are getting as much information in error messages as possible by setting [customErrors mode to Off](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remoteview).</span></span>
* <span data-ttu-id="56f26-125">Per un'app per le API .NET, avviare una [sessione di debug remoto](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug) ed esaminare i valori delle variabili che vengono passati al codice che usa ADAL per acquisire un token di connessione o al codice che verifica le attestazioni rispetto all'ID entità servizio previsto.</span><span class="sxs-lookup"><span data-stu-id="56f26-125">For a .NET API app, start a [remote debugging session](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug), and examine the values of the variables that are passed to code that uses ADAL to acquire a bearer token, or code that checks claims against the expected service principal ID.</span></span> <span data-ttu-id="56f26-126">Si noti che il codice può ottenere i valori di configurazione da più origini diverse, quindi è possibile che questo metodo restituisca risultati non previsti.</span><span class="sxs-lookup"><span data-stu-id="56f26-126">Note that your code can pick up configuration values from many different sources, so it's possible to find surprises this way.</span></span> <span data-ttu-id="56f26-127">Se, ad esempio, si inserisce per errore `ida:ClientId` invece di `ida:ClientID` quando si configurano le impostazioni dell'ambiente del servizio app di Azure, è possibile che il codice ottenga il valore `ida:ClientId` che sta cercando dal file Web.config, ignorando l'impostazione del servizio app di Azure.</span><span class="sxs-lookup"><span data-stu-id="56f26-127">For example, if you mistype `ida:ClientId` as `ida:ClientID` when configuring Azure App Service environment settings, the code might get the `ida:ClientId` value that it's looking for from the Web.config file, ignoring the Azure App Service setting.</span></span> 
* <span data-ttu-id="56f26-128">Se ciò non funziona in una normale finestra di Internet Explorer, gli accessi esistenti potrebbero interferire. Provare quindi la modalità InPrivate e Firefox o Chrome.</span><span class="sxs-lookup"><span data-stu-id="56f26-128">If things don't work in a normal Internet Explorer window, an existing log-in may be interfering; try InPrivate and try Chrome or Firefox.</span></span>

