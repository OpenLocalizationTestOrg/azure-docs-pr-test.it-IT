---
title: un peering di rete virtuale di Azure - aaaCreate distribuzione diversi modelli - diverse sottoscrizioni | Documenti Microsoft
description: Informazioni su come toocreate creata una rete virtuale peering tra reti virtuali tramite i modelli di distribuzione di Azure diversi presenti in diverse sottoscrizioni di Azure.
services: virtual-network
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/17/2017
ms.author: jdial;narayan;annahar
ms.openlocfilehash: 865bdabb5b87523ba943d7b5dcbdc2475b78bdb5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-virtual-network-peering---different-deployment-models-and-subscriptions"></a><span data-ttu-id="0e0bf-103">Creare un peering di rete virtuale: diversi modelli di distribuzione e sottoscrizioni</span><span class="sxs-lookup"><span data-stu-id="0e0bf-103">Create a virtual network peering - different deployment models and subscriptions</span></span>

<span data-ttu-id="0e0bf-104">In questa esercitazione viene illustrato toocreate una rete virtuale peering tra reti virtuali create tramite diversi modelli di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-104">In this tutorial, you learn toocreate a virtual network peering between virtual networks created through different deployment models.</span></span> <span data-ttu-id="0e0bf-105">reti virtuali Hello si trovano in diverse sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-105">hello virtual networks exist in different subscriptions.</span></span> <span data-ttu-id="0e0bf-106">Peering due risorse di consente di reti virtuali in reti virtuali diverse toocommunicate reciprocamente con hello stessa larghezza di banda e latenza, come se fosse di risorse hello in hello stessa rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-106">Peering two virtual networks enables resources in different virtual networks toocommunicate with each other with hello same bandwidth and latency as though hello resources were in hello same virtual network.</span></span> <span data-ttu-id="0e0bf-107">Altre informazioni sul [Peering di rete virtuale](virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-107">Learn more about [Virtual network peering](virtual-network-peering-overview.md).</span></span> 

<span data-ttu-id="0e0bf-108">Hello passaggi toocreate un peering di reti virtuali sono diversi, a seconda che le reti virtuali hello siano hello uguale o diverso, sottoscrizioni e che [modello di distribuzione Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) vengono create le reti virtuali hello tramite.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-108">hello steps toocreate a virtual network peering are different, depending on whether hello virtual networks are in hello same, or different, subscriptions, and which [Azure deployment model](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello virtual networks are created through.</span></span> <span data-ttu-id="0e0bf-109">Informazioni su come toocreate un virtuale rete peering in altri scenari, fare clic su uno scenario di hello di hello nella tabella seguente:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-109">Learn how toocreate a virtual network peering in other scenarios by clicking hello scenario from hello following table:</span></span>

|<span data-ttu-id="0e0bf-110">Modello di distribuzione di Azure</span><span class="sxs-lookup"><span data-stu-id="0e0bf-110">Azure deployment model</span></span>  | <span data-ttu-id="0e0bf-111">Sottoscrizione di Azure</span><span class="sxs-lookup"><span data-stu-id="0e0bf-111">Azure subscription</span></span>  |
|--------- |---------|
|[<span data-ttu-id="0e0bf-112">Entrambi con Resource Manager</span><span class="sxs-lookup"><span data-stu-id="0e0bf-112">Both Resource Manager</span></span>](virtual-network-create-peering.md) |<span data-ttu-id="0e0bf-113">Uguale</span><span class="sxs-lookup"><span data-stu-id="0e0bf-113">Same</span></span>|
|[<span data-ttu-id="0e0bf-114">Entrambi con Resource Manager</span><span class="sxs-lookup"><span data-stu-id="0e0bf-114">Both Resource Manager</span></span>](create-peering-different-subscriptions.md) |<span data-ttu-id="0e0bf-115">Diversa</span><span class="sxs-lookup"><span data-stu-id="0e0bf-115">Different</span></span>|
|[<span data-ttu-id="0e0bf-116">Uno con Resource Manager, uno con una distribuzione classica</span><span class="sxs-lookup"><span data-stu-id="0e0bf-116">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models.md) |<span data-ttu-id="0e0bf-117">Uguale</span><span class="sxs-lookup"><span data-stu-id="0e0bf-117">Same</span></span>|

<span data-ttu-id="0e0bf-118">Impossibile creare una rete virtuale peering tra due reti virtuali distribuite tramite il modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-118">A virtual network peering cannot be created between two virtual networks deployed through hello classic deployment model.</span></span> <span data-ttu-id="0e0bf-119">Un peering di reti virtuali può essere creato solo tra due reti virtuali presenti in hello stessa regione di Azure.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-119">A virtual network peering can only be created between two virtual networks that exist in hello same Azure region.</span></span> <span data-ttu-id="0e0bf-120">Quando la creazione di una rete virtuale peering tra reti virtuali presenti in diverse sottoscrizioni, le sottoscrizioni devono essere entrambi hello associata toohello stesso tenant Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-120">When creating a virtual network peering between virtual networks that exist in different subscriptions, hello subscriptions must both be associated toohello same Azure Active Directory tenant.</span></span> <span data-ttu-id="0e0bf-121">Se non si ha già un tenant di Azure Active Directory, è possibile [crearne uno](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch) rapidamente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-121">If you don't already have an Azure Active Directory tenant, you can quickly [create one](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch).</span></span> <span data-ttu-id="0e0bf-122">Se è necessario tooconnect virtuale reti che sono stati creati tramite il modello di distribuzione classica hello, che esistono in diverse aree di Azure o che esistono nelle sottoscrizioni associate toodifferent tenant di Azure Active Directory, è possibile usare un Azure [Gateway VPN](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) tooconnect hello reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-122">If you need tooconnect virtual networks that were both created through hello classic deployment model, or that exist in different Azure regions, or that exist in subscriptions associated toodifferent Azure Active Directory tenants, you can use an Azure [VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) tooconnect hello virtual networks.</span></span> 

> [!WARNING]
> <span data-ttu-id="0e0bf-123">La creazione di un peering di rete virtuale tra reti virtuali create con modelli di distribuzione di Azure diversi e incluse in sottoscrizioni di Azure diverse è attualmente in anteprima.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-123">Creating a virtual network peering between virtual networks in created through different Azure deployment models that exist in different subscriptions is currently in preview.</span></span> <span data-ttu-id="0e0bf-124">Peering di reti virtuali create in questo scenario potrebbe non essere hello dello stesso livello di disponibilità e affidabilità come la creazione di una rete virtuale peering in genere negli scenari di rilascio di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-124">Virtual network peerings created in this scenario may not have hello same level of availability and reliability as creating a virtual network peering in scenarios in general availability release.</span></span> <span data-ttu-id="0e0bf-125">I peering di rete virtuale creati in questo scenario non sono supportati, possono presentare funzionalità limitate e potrebbero non essere disponibili in tutte le aree di Azure.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-125">Virtual network peerings created in this scenario are not supported, may have constrained capabilities, and may not be available in all Azure regions.</span></span> <span data-ttu-id="0e0bf-126">Per hello più notifiche su disponibilità e lo stato di questa funzionalità, vedere hello [Aggiorna rete virtuale di Azure](https://azure.microsoft.com/updates/?product=virtual-network) pagina.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-126">For hello most up-to-date notifications on availability and status of this feature, check hello [Azure Virtual Network updates](https://azure.microsoft.com/updates/?product=virtual-network) page.</span></span>

<span data-ttu-id="0e0bf-127">È possibile utilizzare hello [portale di Azure](#portal), hello Azure [interfaccia della riga di comando](#cli) (CLI), o Azure [PowerShell](#powershell) toocreate un peering di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-127">You can use hello [Azure portal](#portal), hello Azure [command-line interface](#cli) (CLI), or Azure [PowerShell](#powershell) toocreate a virtual network peering.</span></span> <span data-ttu-id="0e0bf-128">Fare clic su uno qualsiasi dei hello precedente dello strumento collegamenti toogo direttamente toohello i passaggi per la creazione di una rete virtuale peering utilizzando lo strumento di scelta.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-128">Click any of hello previous tool links toogo directly toohello steps for creating a virtual network peering using your tool of choice.</span></span>

## <span data-ttu-id="0e0bf-129"><a name="register"></a>Registro per l'anteprima di hello</span><span class="sxs-lookup"><span data-stu-id="0e0bf-129"><a name="register"></a>Register for hello preview</span></span>

<span data-ttu-id="0e0bf-130">tooregister per l'anteprima di hello, hello completo passaggi successivi per entrambe le sottoscrizioni che contengono le reti virtuali hello si desidera toopeer.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-130">tooregister for hello preview, complete hello steps that follow for both subscriptions that contain hello virtual networks you want toopeer.</span></span> <span data-ttu-id="0e0bf-131">Hello solo lo strumento è possibile utilizzare tooregister per l'anteprima di hello è PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-131">hello only tool you can use tooregister for hello preview is PowerShell.</span></span>

1. <span data-ttu-id="0e0bf-132">Installare hello l'ultima versione di hello PowerShell [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modulo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-132">Install hello latest version of hello PowerShell [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) module.</span></span> <span data-ttu-id="0e0bf-133">Se si tooAzure nuovo PowerShell, vedere [Panoramica di Azure PowerShell](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-133">If you're new tooAzure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="0e0bf-134">Avviare una sessione di PowerShell e accedere utilizzando hello tooAzure `login-azurermaccount` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-134">Start a PowerShell session and log in tooAzure using hello `login-azurermaccount` command.</span></span>
3. <span data-ttu-id="0e0bf-135">Registrare la sottoscrizione per l'anteprima di hello immettendo hello seguenti comandi:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-135">Register your subscription for hello preview by entering hello following commands:</span></span>

    ```powershell
    Register-AzureRmProviderFeature `
      -FeatureName AllowClassicCrossSubscriptionPeering `
      -ProviderNamespace Microsoft.Network
    
    Register-AzureRmResourceProvider `
      -ProviderNamespace Microsoft.Network
    ```
    <span data-ttu-id="0e0bf-136">Non attenersi hello hello portale, CLI di Azure o PowerShell sezioni di questo articolo finché hello **RegistrationState** output viene visualizzato dopo l'immissione di comando seguente hello è **registrati** per entrambe le sottoscrizioni:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-136">Do not complete hello steps in hello Portal, Azure CLI, or PowerShell sections of this article until hello **RegistrationState** output you receive after entering hello following command is **Registered** for both subscriptions:</span></span>

    ```powershell    
    Get-AzureRmProviderFeature `
      -FeatureName AllowClassicCrossSubscriptionPeering `
      -ProviderNamespace Microsoft.Network
    ```

## <span data-ttu-id="0e0bf-137"><a name="portal"></a>Creare un peering - Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="0e0bf-137"><a name="portal"></a>Create peering - Azure portal</span></span>

<span data-ttu-id="0e0bf-138">Questa esercitazione usa account diversi per ogni sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-138">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="0e0bf-139">Se si utilizza un account che dispone di autorizzazioni tooboth sottoscrizioni, è possibile utilizzare hello stesso account per tutti i passaggi, ignorare i passaggi di hello per la registrazione dal portale hello e ignorare i passaggi di hello per l'assegnazione di reti virtuali toohello di autorizzazioni di un altro utente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-139">If you're using an account that has permissions tooboth subscriptions, you can use hello same account for all steps, skip hello steps for logging out of hello portal, and skip hello steps for assigning another user permissions toohello virtual networks.</span></span> <span data-ttu-id="0e0bf-140">Prima di completare i passaggi hello, è necessario registrare per l'anteprima di hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-140">Before completing any of hello following steps, you must register for hello preview.</span></span> <span data-ttu-id="0e0bf-141">tooregister, hello completato i passaggi in hello [registrazione per l'anteprima di hello](#register) sezione di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-141">tooregister, complete hello steps in hello [Register for hello preview](#register) section of this article.</span></span> <span data-ttu-id="0e0bf-142">Non proseguire con hello rimanenti passaggi fino a quando non sono registrate entrambe le sottoscrizioni per l'anteprima di hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-142">Do not continue with hello remaining steps until both subscriptions are registered for hello preview.</span></span>
 
1. <span data-ttu-id="0e0bf-143">Accedi toohello [portale di Azure](https://portal.azure.com) come utente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-143">Log in toohello [Azure portal](https://portal.azure.com) as UserA.</span></span> <span data-ttu-id="0e0bf-144">account Hello che si accede è necessario hello delle autorizzazioni necessarie toocreate un peering di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-144">hello account you log in with must have hello necessary permissions toocreate a virtual network peering.</span></span> <span data-ttu-id="0e0bf-145">Vedere hello [autorizzazioni](#permissions) sezione di questo articolo per informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-145">See hello [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="0e0bf-146">Fare clic su **+ Nuovo**, **Rete** e quindi **Rete virtuale**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-146">Click **+ New**, click **Networking**, then click **Virtual network**.</span></span>
3. <span data-ttu-id="0e0bf-147">In hello **crea rete virtuale** pannello, immettere o selezionare i valori per hello seguenti impostazioni, quindi fare clic su **crea**:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-147">In hello **Create virtual network** blade, enter, or select values for hello following settings, then click **Create**:</span></span>
    - <span data-ttu-id="0e0bf-148">**Nome**: *myVnetA*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-148">**Name**: *myVnetA*</span></span>
    - <span data-ttu-id="0e0bf-149">**Spazio indirizzi**: *10.0.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-149">**Address space**: *10.0.0.0/16*</span></span>
    - <span data-ttu-id="0e0bf-150">**Nome subnet**: *predefinito*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-150">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="0e0bf-151">**Intervallo di indirizzi subnet**: *10.0.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-151">**Subnet address range**: *10.0.0.0/24*</span></span>
    - <span data-ttu-id="0e0bf-152">**Sottoscrizione**: selezionare la sottoscrizione A.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-152">**Subscription**: Select subscription A.</span></span>
    - <span data-ttu-id="0e0bf-153">**Gruppo di risorse**: selezionare **Crea nuovo** e immettere *myResourceGroupA*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-153">**Resource group**: Select **Create new** and enter *myResourceGroupA*</span></span>
    - <span data-ttu-id="0e0bf-154">**Località**: *Stati Uniti orientali*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-154">**Location**: *East US*</span></span>
4. <span data-ttu-id="0e0bf-155">In hello **individuare risorse** casella nella parte superiore di hello del portale di hello, tipo *myVnetA*.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-155">In hello **Search resources** box at hello top of hello portal, type *myVnetA*.</span></span> <span data-ttu-id="0e0bf-156">Fare clic su **myVnetA** quando viene visualizzato nei risultati della ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-156">Click **myVnetA** when it appears in hello search results.</span></span> <span data-ttu-id="0e0bf-157">Viene visualizzato un pannello per hello **myVnetA** rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-157">A blade appears for hello **myVnetA** virtual network.</span></span>
5. <span data-ttu-id="0e0bf-158">In hello **myVnetA** pannello visualizzato, fare clic su **Access control (IAM)** elenco verticale di hello di opzioni sul lato sinistro di blade hello hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-158">In hello **myVnetA** blade that appears, click **Access control (IAM)** from hello vertical list of options on hello left side of hello blade.</span></span>
6. <span data-ttu-id="0e0bf-159">In hello **myVnetA - controllo di accesso (IAM)** pannello visualizzato, fare clic su **+ Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-159">In hello **myVnetA - Access control (IAM)** blade that appears, click **+ Add**.</span></span>
7. <span data-ttu-id="0e0bf-160">In hello **aggiungere autorizzazioni** pannello viene visualizzato, selezionare **collaboratore rete** in hello **ruolo** casella.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-160">In hello **Add permissions** blade that appears, select **Network contributor** in hello **Role** box.</span></span>
8. <span data-ttu-id="0e0bf-161">In hello **selezionare** selezionare UserB o digitare toosearch indirizzo di posta elettronica dell'utente b.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-161">In hello **Select** box, select UserB, or type UserB's email address toosearch for it.</span></span> <span data-ttu-id="0e0bf-162">Hello elenco di utenti illustrato proviene da hello stesso tenant di Azure Active Directory come la rete virtuale hello si sta configurando hello peering per.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-162">hello list of users shown is from hello same Azure Active Directory tenant as hello virtual network you're setting up hello peering for.</span></span> <span data-ttu-id="0e0bf-163">Fare clic su UserB quando viene visualizzato nell'elenco di hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-163">Click UserB when it appears in hello list.</span></span>
9. <span data-ttu-id="0e0bf-164">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-164">Click **Save**.</span></span>
10. <span data-ttu-id="0e0bf-165">Disconnettersi da portale hello come UtenteA, quindi accedere come utente b.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-165">Log out of hello portal as UserA, then log in as UserB.</span></span>
11. <span data-ttu-id="0e0bf-166">Fare clic su **+ nuovo**, tipo *rete virtuale* in hello **hello ricerca Marketplace** casella, quindi fare clic su **rete virtuale** nei risultati della ricerca hello .</span><span class="sxs-lookup"><span data-stu-id="0e0bf-166">Click **+ New**, type *Virtual network* in hello **Search hello Marketplace** box, then click **Virtual network** in hello search results.</span></span>
12. <span data-ttu-id="0e0bf-167">In hello **rete virtuale** pannello viene visualizzato, selezionare **classico** in hello **selezionare un modello di distribuzione** casella, quindi fare clic su **crea**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-167">In hello **Virtual Network** blade that appears, select **Classic** in hello **Select a deployment model** box, then click **Create**.</span></span>
13.   <span data-ttu-id="0e0bf-168">Nella finestra hello crea rete virtuale (classico) che viene visualizzata, immettere hello seguenti valori:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-168">In hello Create virtual network (classic) box that appears, enter hello following values:</span></span>

    - <span data-ttu-id="0e0bf-169">**Nome**: *myVnetB*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-169">**Name**: *myVnetB*</span></span>
    - <span data-ttu-id="0e0bf-170">**Spazio indirizzi**: *10.1.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-170">**Address space**: *10.1.0.0/16*</span></span>
    - <span data-ttu-id="0e0bf-171">**Nome subnet**: *predefinito*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-171">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="0e0bf-172">**Intervallo di indirizzi subnet**: *10.1.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-172">**Subnet address range**: *10.1.0.0/24*</span></span>
    - <span data-ttu-id="0e0bf-173">**Sottoscrizione**: selezionare la sottoscrizione B.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-173">**Subscription**: Select subscription B.</span></span>
    - <span data-ttu-id="0e0bf-174">**Gruppo di risorse**: selezionare **Crea nuovo** e immettere *myResourceGroupB*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-174">**Resource group**: Select **Create new** and enter *myResourceGroupB*</span></span>
    - <span data-ttu-id="0e0bf-175">**Località**: *Stati Uniti orientali*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-175">**Location**: *East US*</span></span>

14. <span data-ttu-id="0e0bf-176">In hello **individuare risorse** casella nella parte superiore di hello del portale di hello, tipo *myVnetB*.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-176">In hello **Search resources** box at hello top of hello portal, type *myVnetB*.</span></span> <span data-ttu-id="0e0bf-177">Fare clic su **myVnetB** quando viene visualizzato nei risultati della ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-177">Click **myVnetB** when it appears in hello search results.</span></span> <span data-ttu-id="0e0bf-178">Viene visualizzato un pannello per hello **myVnetB** rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-178">A blade appears for hello **myVnetB** virtual network.</span></span>
15. <span data-ttu-id="0e0bf-179">In hello **myVnetB** pannello visualizzato, fare clic su **proprietà** elenco verticale di hello di opzioni sul lato sinistro di blade hello hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-179">In hello **myVnetB** blade that appears, click **Properties** from hello vertical list of options on hello left side of hello blade.</span></span> <span data-ttu-id="0e0bf-180">Hello copia **ID risorsa**, che viene utilizzato in un passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-180">Copy hello **RESOURCE ID**, which is used in a later step.</span></span> <span data-ttu-id="0e0bf-181">ID della risorsa Hello è simile toohello seguente esempio: /Subscriptions/<ID<Susbscription ID>/resourceGroups/myResoureGroupB/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB</span><span class="sxs-lookup"><span data-stu-id="0e0bf-181">hello resource ID is similar toohello following example: /subscriptions/<Susbscription ID>/resourceGroups/myResoureGroupB/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB</span></span>
16. <span data-ttu-id="0e0bf-182">Completare i passaggi da 5 a 9 per myVnetB immettendo **UserA** nel passaggio 8.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-182">Complete steps 5-9 for myVnetB, entering **UserA** in step 8.</span></span>
17. <span data-ttu-id="0e0bf-183">Disconnettersi da portale hello come utente b e accedere come utente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-183">Log out of hello portal as UserB and log in as UserA.</span></span>
18. <span data-ttu-id="0e0bf-184">In hello **individuare risorse** casella nella parte superiore di hello del portale di hello, tipo *myVnetA*.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-184">In hello **Search resources** box at hello top of hello portal, type *myVnetA*.</span></span> <span data-ttu-id="0e0bf-185">Fare clic su **myVnetA** quando viene visualizzato nei risultati della ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-185">Click **myVnetA** when it appears in hello search results.</span></span> <span data-ttu-id="0e0bf-186">Viene visualizzato un pannello per hello **myVnet** rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-186">A blade appears for hello **myVnet** virtual network.</span></span>
19. <span data-ttu-id="0e0bf-187">Fare clic su **myVnetA**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-187">Click **myVnetA**.</span></span>
20. <span data-ttu-id="0e0bf-188">In hello **myVnetA** pannello visualizzato, fare clic su **peering** elenco verticale di hello di opzioni sul lato sinistro di blade hello hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-188">In hello **myVnetA** blade that appears, click **Peerings** from hello vertical list of options on hello left side of hello blade.</span></span>
21. <span data-ttu-id="0e0bf-189">In hello **myVnetA - peering** blade che venivano visualizzate, fare clic su **+ Aggiungi**</span><span class="sxs-lookup"><span data-stu-id="0e0bf-189">In hello **myVnetA - Peerings** blade that appeared, click **+ Add**</span></span>
22. <span data-ttu-id="0e0bf-190">In hello **Aggiungi peering** blade che viene visualizzata, immettere o selezionare hello le opzioni seguenti, quindi fare clic su **OK**:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-190">In hello **Add peering** blade that appears, enter, or select hello following options, then click **OK**:</span></span>
     - <span data-ttu-id="0e0bf-191">**Nome**: *myVnetAToMyVnetB*</span><span class="sxs-lookup"><span data-stu-id="0e0bf-191">**Name**: *myVnetAToMyVnetB*</span></span>
     - <span data-ttu-id="0e0bf-192">**Modello di distribuzione della rete virtuale**: selezionare **Classica**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-192">**Virtual network deployment model**:  Select **Classic**.</span></span>
     - <span data-ttu-id="0e0bf-193">**Conosco l'ID della risorsa**: selezionare questa casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-193">**I know my resource ID**: Check this box.</span></span>
     - <span data-ttu-id="0e0bf-194">**ID di risorsa**: immettere l'ID risorsa hello myVnetB dal passaggio 15.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-194">**Resource ID**: Enter hello resource ID of myVnetB from step 15.</span></span>
     - <span data-ttu-id="0e0bf-195">**Consenti accesso alla rete virtuale:** assicurarsi che sia selezionato **Abilitato**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-195">**Allow virtual network access:** Ensure that **Enabled** is selected.</span></span>
    <span data-ttu-id="0e0bf-196">Questa esercitazione non prevede l'uso di altre impostazioni.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-196">No other settings are used in this tutorial.</span></span> <span data-ttu-id="0e0bf-197">lettura toolearn su tutte le impostazioni peer, [gestire peering di reti virtuali](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-197">toolearn about all peering settings, read [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering).</span></span>
23. <span data-ttu-id="0e0bf-198">Dopo aver fatto clic **OK** nel passaggio precedente hello, hello **Aggiungi peering** pannello chiude e viene visualizzato hello **myVnetA - peering** pannello nuovamente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-198">After clicking **OK** in hello previous step, hello **Add peering** blade closes and you see hello **myVnetA - Peerings** blade again.</span></span> <span data-ttu-id="0e0bf-199">Dopo alcuni secondi, hello peering creato viene visualizzato nel pannello hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-199">After a few seconds, hello peering you created appears in hello blade.</span></span> <span data-ttu-id="0e0bf-200">**Connesso** è elencato nella hello **stato PEERING** colonna per hello **myVnetAToMyVnetB** peering è creato.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-200">**Connected** is listed in hello **PEERING STATUS** column for hello **myVnetAToMyVnetB** peering you created.</span></span> <span data-ttu-id="0e0bf-201">Hello peering viene stabilito ora.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-201">hello peering is now established.</span></span> <span data-ttu-id="0e0bf-202">È presente alcuna necessità toopeer hello rete virtuale (classico) toohello virtuale rete Gestione risorse ().</span><span class="sxs-lookup"><span data-stu-id="0e0bf-202">There is no need toopeer hello virtual network (classic) toohello virtual network (Resource Manager).</span></span>

    <span data-ttu-id="0e0bf-203">Tutte le risorse di Azure che crei in entrambe le reti virtuali sono ora in grado di toocommunicate tra loro tramite i relativi indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-203">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="0e0bf-204">Se si utilizza la risoluzione dei nomi di Azure predefinito per le reti virtuali hello, hello risorse nelle reti virtuali hello non sono in grado di tooresolve nomi tra reti virtuali hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-204">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="0e0bf-205">Se si desidera tooresolve nomi tra reti virtuali in un peering, è necessario creare il proprio server DNS.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-205">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="0e0bf-206">Informazioni su come tooset backup [risoluzione dei nomi utilizzando il proprio server DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-206">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

24. <span data-ttu-id="0e0bf-207">**Parametro facoltativo**: anche se la creazione di macchine virtuali non viene descritta in questa esercitazione, è possibile creare una macchina virtuale in ogni rete virtuale e connettersi da una macchina virtuale toohello altre toovalidate connettività.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-207">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
25. <span data-ttu-id="0e0bf-208">**Facoltativo**: le risorse di hello toodelete creati in questa esercitazione, hello completo di passaggi di hello [eliminare risorse](#delete-portal) sezione di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-208">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in hello [Delete resources](#delete-portal) section of this article.</span></span>

## <span data-ttu-id="0e0bf-209"><a name="cli"></a>Creare un peering - Interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="0e0bf-209"><a name="cli"></a>Create peering - Azure CLI</span></span>

<span data-ttu-id="0e0bf-210">Questa esercitazione usa account diversi per ogni sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-210">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="0e0bf-211">Se si utilizza un account che dispone di autorizzazioni tooboth sottoscrizioni, è possibile utilizzare hello stesso account per tutti i passaggi, ignorare i passaggi di hello per la registrazione all'esterno di Azure e rimuovere righe hello di script che creano le assegnazioni di ruolo di utente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-211">If you're using an account that has permissions tooboth subscriptions, you can use hello same account for all steps, skip hello steps for logging out of Azure, and remove hello lines of script that create user role assignments.</span></span> <span data-ttu-id="0e0bf-212">Sostituire UserA@azure.com e UserB@azure.com in tutti i seguenti script con i nomi utente hello in uso per UserA e UserB hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-212">Replace UserA@azure.com and UserB@azure.com in all of hello following scripts with hello usernames you're using for UserA and UserB.</span></span> 

<span data-ttu-id="0e0bf-213">Prima di completare i passaggi hello, è necessario registrare per l'anteprima di hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-213">Before completing any of hello following steps, you must register for hello preview.</span></span> <span data-ttu-id="0e0bf-214">tooregister, hello completato i passaggi in hello [registrazione per l'anteprima di hello](#register) sezione di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-214">tooregister, complete hello steps in hello [Register for hello preview](#register) section of this article.</span></span> <span data-ttu-id="0e0bf-215">Non proseguire con hello rimanenti passaggi fino a quando non sono registrate entrambe le sottoscrizioni per l'anteprima di hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-215">Do not continue with hello remaining steps until both subscriptions are registered for hello preview.</span></span>

1. <span data-ttu-id="0e0bf-216">[Installare](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) rete virtuale di hello toocreate hello Azure CLI 1.0 (classico).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-216">[Install](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello Azure CLI 1.0 toocreate hello virtual network (classic).</span></span>
2. <span data-ttu-id="0e0bf-217">Aprire una sessione CLI e accedere come utente b utilizzando hello tooAzure `azure login` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-217">Open a CLI session and log in tooAzure as UserB using hello `azure login` command.</span></span>
3. <span data-ttu-id="0e0bf-218">Eseguire hello CLI in modalità di gestione del servizio immettendo hello `azure config mode asm` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-218">Run hello CLI in Service Management mode by entering hello `azure config mode asm` command.</span></span>
4. <span data-ttu-id="0e0bf-219">Immettere hello comando toocreate hello rete virtuale (classico) seguente:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-219">Enter hello following command toocreate hello virtual network (classic):</span></span>
 
    ```azurecli
    azure network vnet create --vnet myVnetB --address-space 10.1.0.0 --cidr 16 --location "East US"
    ```
5. <span data-ttu-id="0e0bf-220">Hello rimanenti passaggi deve essere completata con una shell bash hello Azure CLI 2.0.4 o versioni successive [installato](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json), oppure utilizzando hello Shell di Cloud di Azure.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-220">hello remaining steps must be completed using a bash shell with hello Azure CLI 2.0.4 or later [installed](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json), or by using hello Azure Cloud Shell.</span></span> <span data-ttu-id="0e0bf-221">Hello Azure Cloud Shell è una shell Bash gratuita che è possibile eseguire direttamente all'interno di hello portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-221">hello Azure Cloud Shell is a free Bash shell that you can run directly within hello Azure portal.</span></span> <span data-ttu-id="0e0bf-222">Ha hello CLI di Azure preinstallato e configurato toouse con l'account.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-222">It has hello Azure CLI preinstalled and configured toouse with your account.</span></span> <span data-ttu-id="0e0bf-223">Fare clic su hello **provarla** pulsante hello gli script seguenti, che consente di aprire una Shell di Cloud che consente l'accesso tooyour account Azure.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-223">Click hello **Try it** button in hello scripts that follow, which opens a Cloud Shell that logs you in tooyour Azure account.</span></span> <span data-ttu-id="0e0bf-224">Per le opzioni di esecuzione bash gli script CLI in un client Windows, vedere [in esecuzione hello CLI di Azure in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-224">For options on running bash CLI scripts on a Windows client, see [Running hello Azure CLI in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> 
6. <span data-ttu-id="0e0bf-225">Lo script seguente hello copia viene tooa editor di testo sul PC.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-225">Copy hello following script tooa text editor on your PC.</span></span> <span data-ttu-id="0e0bf-226">Sostituire `<SubscriptionB-Id>` con l'ID della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-226">Replace `<SubscriptionB-Id>` with your subscription ID.</span></span> <span data-ttu-id="0e0bf-227">Se non si conosce l'Id sottoscrizione, immettere hello `az account show` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-227">If you don't know your subscription Id, enter hello `az account show` command.</span></span> <span data-ttu-id="0e0bf-228">valore per Hello **id** in hello l'output è l'ID sottoscrizione. Copiare script hello modificato, incollarlo nella sessione tooyour CLI 2.0 e quindi premere `Enter`.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-228">hello value for **id** in hello output is your subscription Id. Copy hello modified script, paste it in tooyour CLI 2.0 session, and then press `Enter`.</span></span> 

    ```azurecli-interactive
    az role assignment create \
      --assignee UserA@azure.com \
      --role "Classic Network Contributor" \
      --scope /subscriptions/<SubscriptionB-Id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB
    ```

    <span data-ttu-id="0e0bf-229">Al momento della creazione rete virtuale hello (classico) nel passaggio 4, Azure creato rete virtuale hello in hello *predefinito rete* gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-229">When you created hello virtual network (classic) in step 4, Azure created hello virtual network in hello *Default-Networking* resource group.</span></span>
7. <span data-ttu-id="0e0bf-230">Accedi hello CLI 2.0 UserB da Azure e accedere come utente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-230">Log UserB out of Azure and log in as UserA in hello CLI 2.0.</span></span>
8. <span data-ttu-id="0e0bf-231">Creare un gruppo di risorse e una rete virtuale con Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-231">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="0e0bf-232">Esempio hello copia script, incollarlo in una sessione CLI tooyour e quindi premere `Enter`.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-232">Copy hello following script, paste it in tooyour CLI session, and then press `Enter`.</span></span> 

    ```azurecli-interactive
    #!/bin/bash

    # Variables for common values used throughout hello script.
    rgName="myResourceGroupA"
    location="eastus"

    # Create a resource group.
    az group create \
      --name $rgName \
      --location $location

    # Create virtual network A (Resource Manager).
    az network vnet create \
      --name myVnetA \
      --resource-group $rgName \
      --location $location \
      --address-prefix 10.0.0.0/16

    # Get hello id for myVnetA.
    vNetAId=$(az network vnet show \
      --resource-group $rgName \
      --name myVnetA \
      --query id --out tsv)

    # Assign UserB permissions toomyVnetA.
    az role assignment create \
      --assignee UserB@azure.com \
      --role "Network Contributor" \
      --scope $vNetAId
    ```

9. <span data-ttu-id="0e0bf-233">Creare una rete virtuale peering tra hello due reti virtuali create tramite hello diversi modelli di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-233">Create a virtual network peering between hello two virtual networks created through hello different deployment models.</span></span> <span data-ttu-id="0e0bf-234">Lo script seguente hello copia viene tooa editor di testo sul PC.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-234">Copy hello following script tooa text editor on your PC.</span></span> <span data-ttu-id="0e0bf-235">Sostituire `<SubscriptionB-id>` con l'ID della sottoscrizione. Se non si conosce l'Id sottoscrizione, immettere hello `az account show` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-235">Replace `<SubscriptionB-id>` with your subscription Id. If you don't know your subscription Id, enter hello `az account show` command.</span></span> <span data-ttu-id="0e0bf-236">valore per Hello **id** in hello l'output è l'ID sottoscrizione. Azure creato rete virtuale a hello (classico) creato nel passaggio 4 in un gruppo di risorse denominato *predefinito rete*.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-236">hello value for **id** in hello output is your subscription Id. Azure created hello virtual network (classic) you created in step 4 in a resource group named *Default-Networking*.</span></span> <span data-ttu-id="0e0bf-237">Incollare hello modificato script nella sessione CLI e quindi premere `Enter`.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-237">Paste hello modified script in your CLI session, and then press `Enter`.</span></span>

    ```azurecli-interactive
    # Peer VNet1 tooVNet2.
    az network vnet peering create \
      --name myVnetAToMyVnetB \
      --resource-group $rgName \
      --vnet-name myVnetA \
      --remote-vnet-id  /subscriptions/<SubscriptionB-id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB \
      --allow-vnet-access
    ```

10. <span data-ttu-id="0e0bf-238">Dopo l'esecuzione di script hello esaminare hello peering per la rete virtuale hello Gestione risorse ().</span><span class="sxs-lookup"><span data-stu-id="0e0bf-238">After hello script executes, review hello peering for hello virtual network (Resource Manager).</span></span> <span data-ttu-id="0e0bf-239">Copiare lo script seguente hello e quindi incollarlo nella sessione CLI:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-239">Copy hello following script, and then paste it in your CLI session:</span></span>

    ```azurecli-interactive
    az network vnet peering list \
      --resource-group $rgName \
      --vnet-name myVnetA \
      --output table
    ```
    <span data-ttu-id="0e0bf-240">output di Hello Visualizza **connesso** in hello **PeeringState** colonna.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-240">hello output shows **Connected** in hello **PeeringState** column.</span></span>

    <span data-ttu-id="0e0bf-241">Tutte le risorse di Azure che crei in entrambe le reti virtuali sono ora in grado di toocommunicate tra loro tramite i relativi indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-241">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="0e0bf-242">Se si utilizza la risoluzione dei nomi di Azure predefinito per le reti virtuali hello, hello risorse nelle reti virtuali hello non sono in grado di tooresolve nomi tra reti virtuali hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-242">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="0e0bf-243">Se si desidera tooresolve nomi tra reti virtuali in un peering, è necessario creare il proprio server DNS.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-243">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="0e0bf-244">Informazioni su come tooset backup [risoluzione dei nomi utilizzando il proprio server DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-244">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

11. <span data-ttu-id="0e0bf-245">**Parametro facoltativo**: anche se la creazione di macchine virtuali non viene descritta in questa esercitazione, è possibile creare una macchina virtuale in ogni rete virtuale e connettersi da una macchina virtuale toohello altre toovalidate connettività.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-245">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
12. <span data-ttu-id="0e0bf-246">**Parametro facoltativo**: risorse hello toodelete create in questa esercitazione, hello completato i passaggi [eliminare risorse](#delete-cli) in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-246">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in [Delete resources](#delete-cli) in this article.</span></span>

## <span data-ttu-id="0e0bf-247"><a name="powershell"></a>Creare un peering - PowerShell</span><span class="sxs-lookup"><span data-stu-id="0e0bf-247"><a name="powershell"></a>Create peering - PowerShell</span></span>

<span data-ttu-id="0e0bf-248">Questa esercitazione usa account diversi per ogni sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-248">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="0e0bf-249">Se si utilizza un account che dispone di autorizzazioni tooboth sottoscrizioni, è possibile utilizzare hello stesso account per tutti i passaggi, ignorare i passaggi di hello per la registrazione all'esterno di Azure e rimuovere righe hello di script che creano le assegnazioni di ruolo di utente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-249">If you're using an account that has permissions tooboth subscriptions, you can use hello same account for all steps, skip hello steps for logging out of Azure, and remove hello lines of script that create user role assignments.</span></span> <span data-ttu-id="0e0bf-250">Sostituire UserA@azure.com e UserB@azure.com in tutti i seguenti script con i nomi utente hello in uso per UserA e UserB hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-250">Replace UserA@azure.com and UserB@azure.com in all of hello following scripts with hello usernames you're using for UserA and UserB.</span></span> 

<span data-ttu-id="0e0bf-251">Prima di completare i passaggi hello, è necessario registrare per l'anteprima di hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-251">Before completing any of hello following steps, you must register for hello preview.</span></span> <span data-ttu-id="0e0bf-252">tooregister, hello completato i passaggi in hello [registrazione per l'anteprima di hello](#register) sezione di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-252">tooregister, complete hello steps in hello [Register for hello preview](#register) section of this article.</span></span> <span data-ttu-id="0e0bf-253">Non proseguire con hello rimanenti passaggi fino a quando non sono registrate entrambe le sottoscrizioni per l'anteprima di hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-253">Do not continue with hello remaining steps until both subscriptions are registered for hello preview.</span></span>

1. <span data-ttu-id="0e0bf-254">Installare hello l'ultima versione di hello PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) e [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) moduli.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-254">Install hello latest version of hello PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) and [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modules.</span></span> <span data-ttu-id="0e0bf-255">Se si tooAzure nuovo PowerShell, vedere [Panoramica di Azure PowerShell](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-255">If you're new tooAzure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="0e0bf-256">Avviare una sessione di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-256">Start a PowerShell session.</span></span>
3. <span data-ttu-id="0e0bf-257">In PowerShell, accedere nella sottoscrizione di tooUserB UserB immettendo hello `Add-AzureAccount` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-257">In PowerShell, log in tooUserB's subscription as UserB by entering hello `Add-AzureAccount` command.</span></span>
4. <span data-ttu-id="0e0bf-258">toocreate una rete virtuale (classica) con PowerShell, è necessario creare una nuova o modificarne un esistente, il file di configurazione di rete.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-258">toocreate a virtual network (classic) with PowerShell, you must create a new, or modify an existing, network configuration file.</span></span> <span data-ttu-id="0e0bf-259">Informazioni su come troppo[esportare, aggiornare e importare il file di configurazione di rete](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-259">Learn how too[export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="0e0bf-260">Hello file deve includere il seguente hello **VirtualNetworkSite** elemento per la rete virtuale di hello utilizzati in questa esercitazione:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-260">hello file should include hello following **VirtualNetworkSite** element for hello virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnetB" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="0e0bf-261">L'importazione di un file di configurazione di rete modificato può causare modifiche tooexisting reti virtuali (classiche) nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-261">Importing a changed network configuration file can cause changes tooexisting virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="0e0bf-262">Assicurarsi di aggiungere solo reti virtuali precedente hello e di non modificare o rimuovere qualsiasi rete virtuale esistente dalla sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-262">Ensure you only add hello previous virtual network and that you don't change or remove any existing virtual networks from your subscription.</span></span> 

5. <span data-ttu-id="0e0bf-263">Accedere nella sottoscrizione di tooUserB i comandi di gestione risorse di UserB toouse immettendo hello `login-azurermaccount` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-263">Log in tooUserB's subscription as UserB toouse Resource Manager commands by entering hello `login-azurermaccount` command.</span></span>
6. <span data-ttu-id="0e0bf-264">Assegnare a UserA autorizzazioni toovirtual rete seguente hello B. copia dello script di editor di testo tooa nel PC e sostituire `<SubscriptionB-id>` con ID hello sottoscrizione B. Se non si conosce l'Id sottoscrizione hello, immettere hello `Get-AzureRmSubscription` tooview comando è.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-264">Assign UserA permissions toovirtual network B. Copy hello following script tooa text editor on your PC and replace `<SubscriptionB-id>` with hello ID of subscription B. If you don't know hello subscription Id, enter hello `Get-AzureRmSubscription` command tooview it.</span></span> <span data-ttu-id="0e0bf-265">valore per Hello **Id** in hello restituito l'output è l'ID sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-265">hello value for **Id** in hello returned output is your subscription ID.</span></span> <span data-ttu-id="0e0bf-266">Azure creato rete virtuale a hello (classico) creato nel passaggio 4 in un gruppo di risorse denominato *predefinito rete*.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-266">Azure created hello virtual network (classic) you created in step 4 in a resource group named *Default-Networking*.</span></span> <span data-ttu-id="0e0bf-267">script di hello tooexecute, lo script modificato hello copia, incollarlo in tooPowerShell e quindi premere `Enter`.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-267">tooexecute hello script, copy hello modified script, paste it in tooPowerShell, and then press `Enter`.</span></span>
    
    ```powershell 
    New-AzureRmRoleAssignment `
      -SignInName UserA@azure.com `
      -RoleDefinitionName "Classic Network Contributor" `
      -Scope /subscriptions/<SubscriptionB-id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB
    ```

7. <span data-ttu-id="0e0bf-268">Disconnettersi da Azure come utente b e riconnettersi nella sottoscrizione di tooUserA UserA immettendo hello `login-azurermaccount` comando.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-268">Log out of Azure as UserB and log in tooUserA's subscription as UserA by entering hello `login-azurermaccount` command.</span></span> <span data-ttu-id="0e0bf-269">account Hello che si accede è necessario hello delle autorizzazioni necessarie toocreate un peering di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-269">hello account you log in with must have hello necessary permissions toocreate a virtual network peering.</span></span> <span data-ttu-id="0e0bf-270">Vedere hello [autorizzazioni](#permissions) sezione di questo articolo per informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-270">See hello [Permissions](#permissions) section of this article for details.</span></span>
8. <span data-ttu-id="0e0bf-271">Creare una rete virtuale hello (gestione delle risorse) copiando lo script, incollarlo in tooPowerShell e premendo quindi seguente hello `Enter`:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-271">Create hello virtual network (Resource Manager) by copying hello following script, pasting it in tooPowerShell, and then pressing `Enter`:</span></span>

    ```powershell
    # Variables for common values
      $rgName='MyResourceGroupA'
      $location='eastus'

    # Create a resource group.
    New-AzureRmResourceGroup `
      -Name $rgName `
      -Location $location

    # Create virtual network A.
    $vnetA = New-AzureRmVirtualNetwork `
      -ResourceGroupName $rgName `
      -Name 'myVnetA' `
      -AddressPrefix '10.0.0.0/16' `
      -Location $location
    ```

9. <span data-ttu-id="0e0bf-272">Assegnare UserB toomyVnetA di autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-272">Assign UserB permissions toomyVnetA.</span></span> <span data-ttu-id="0e0bf-273">Esempio hello copia script editor di testo tooa nel PC e sostituire `<SubscriptionA-Id>` con hello ID della sottoscrizione A. Se non si conosce l'Id sottoscrizione hello, immettere hello `Get-AzureRmSubscription` tooview comando è.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-273">Copy hello following script tooa text editor on your PC and replace `<SubscriptionA-Id>` with hello ID of subscription A. If you don't know hello subscription Id, enter hello `Get-AzureRmSubscription` command tooview it.</span></span> <span data-ttu-id="0e0bf-274">valore per Hello **Id** in hello restituito l'output è l'ID sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-274">hello value for **Id** in hello returned output is your subscription ID.</span></span> <span data-ttu-id="0e0bf-275">Incollare hello versione modificata dello script hello in PowerShell e quindi premere `Enter` tooexecute è.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-275">Paste hello modified version of hello script in PowerShell, and then press `Enter` tooexecute it.</span></span>

    ```powershell
    New-AzureRmRoleAssignment `
      -SignInName UserB@azure.com `
      -RoleDefinitionName "Network Contributor" `
      -Scope /subscriptions/<SubscriptionA-Id>/resourceGroups/myResourceGroupA/providers/Microsoft.Network/VirtualNetworks/myVnetA
    ```

10. <span data-ttu-id="0e0bf-276">Copia hello seguente script di editor di testo tooa nel PC e sostituire `<SubscriptionB-id>` con hello l'ID di sottoscrizione B. toopeer myVnetA toomyVNetB, copiare script hello modificato, incollarlo in tooPowerShell e quindi premere `Enter`.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-276">Copy hello following script tooa text editor on your PC, and replace `<SubscriptionB-id>` with hello ID of subscription B. toopeer myVnetA toomyVNetB, copy hello modified script, paste it in tooPowerShell, and then press `Enter`.</span></span>

    ```powershell
    Add-AzureRmVirtualNetworkPeering `
      -Name 'myVnetAToMyVnetB' `
      -VirtualNetwork $vnetA `
      -RemoteVirtualNetworkId /subscriptions/<SubscriptionB-id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB
    ```

11. <span data-ttu-id="0e0bf-277">Visualizzare lo stato di peering hello di myVnetA copiando lo script, incollarlo in PowerShell e quindi premendo seguente hello `Enter`.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-277">View hello peering state of myVnetA by copying hello following script, pasting it into PowerShell, and pressing `Enter`.</span></span>

    ```powershell
    Get-AzureRmVirtualNetworkPeering `
      -ResourceGroupName $rgName `
      -VirtualNetworkName myVnetA `
      | Format-Table VirtualNetworkName, PeeringState
    ```

    <span data-ttu-id="0e0bf-278">è stato Hello **connesso**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-278">hello state is **Connected**.</span></span> <span data-ttu-id="0e0bf-279">Diventa troppo**connesso** quando si configura hello toomyVnetA peering da myVnetB.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-279">It changes too**Connected** once you setup hello peering toomyVnetA from myVnetB.</span></span>

    <span data-ttu-id="0e0bf-280">Tutte le risorse di Azure che crei in entrambe le reti virtuali sono ora in grado di toocommunicate tra loro tramite i relativi indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-280">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="0e0bf-281">Se si utilizza la risoluzione dei nomi di Azure predefinito per le reti virtuali hello, hello risorse nelle reti virtuali hello non sono in grado di tooresolve nomi tra reti virtuali hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-281">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="0e0bf-282">Se si desidera tooresolve nomi tra reti virtuali in un peering, è necessario creare il proprio server DNS.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-282">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="0e0bf-283">Informazioni su come tooset backup [risoluzione dei nomi utilizzando il proprio server DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-283">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

12. <span data-ttu-id="0e0bf-284">**Parametro facoltativo**: anche se la creazione di macchine virtuali non viene descritta in questa esercitazione, è possibile creare una macchina virtuale in ogni rete virtuale e connettersi da una macchina virtuale toohello altre toovalidate connettività.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-284">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
13. <span data-ttu-id="0e0bf-285">**Parametro facoltativo**: risorse hello toodelete create in questa esercitazione, hello completato i passaggi [eliminare risorse](#delete-powershell) in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-285">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in [Delete resources](#delete-powershell) in this article.</span></span>

## <span data-ttu-id="0e0bf-286"><a name="permissions"></a>Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="0e0bf-286"><a name="permissions"></a>Permissions</span></span>

<span data-ttu-id="0e0bf-287">Hello che è utilizzare una rete virtuale peering toocreate devono disporre hello necessarie ruolo o autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-287">hello accounts you use toocreate a virtual network peering must have hello necessary role or permissions.</span></span> <span data-ttu-id="0e0bf-288">Ad esempio, se si sono stati peering due reti virtuali denominate myVnetA e myVnetB, all'account deve essere assegnato hello seguente ruolo minimo o autorizzazioni per ogni rete virtuale:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-288">For example, if you were peering two virtual networks named myVnetA and myVnetB, your account must be assigned hello following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="0e0bf-289">Rete virtuale</span><span class="sxs-lookup"><span data-stu-id="0e0bf-289">Virtual network</span></span>|<span data-ttu-id="0e0bf-290">Modello di distribuzione</span><span class="sxs-lookup"><span data-stu-id="0e0bf-290">Deployment model</span></span>|<span data-ttu-id="0e0bf-291">Ruolo</span><span class="sxs-lookup"><span data-stu-id="0e0bf-291">Role</span></span>|<span data-ttu-id="0e0bf-292">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="0e0bf-292">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="0e0bf-293">myVnetA</span><span class="sxs-lookup"><span data-stu-id="0e0bf-293">myVnetA</span></span>|<span data-ttu-id="0e0bf-294">Gestione risorse</span><span class="sxs-lookup"><span data-stu-id="0e0bf-294">Resource Manager</span></span>|[<span data-ttu-id="0e0bf-295">Collaboratore di rete</span><span class="sxs-lookup"><span data-stu-id="0e0bf-295">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="0e0bf-296">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="0e0bf-296">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="0e0bf-297">Classico</span><span class="sxs-lookup"><span data-stu-id="0e0bf-297">Classic</span></span>|[<span data-ttu-id="0e0bf-298">Collaboratore reti virtuali classiche</span><span class="sxs-lookup"><span data-stu-id="0e0bf-298">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="0e0bf-299">N/D</span><span class="sxs-lookup"><span data-stu-id="0e0bf-299">N/A</span></span>|
|<span data-ttu-id="0e0bf-300">myVnetB</span><span class="sxs-lookup"><span data-stu-id="0e0bf-300">myVnetB</span></span>|<span data-ttu-id="0e0bf-301">Gestione risorse</span><span class="sxs-lookup"><span data-stu-id="0e0bf-301">Resource Manager</span></span>|[<span data-ttu-id="0e0bf-302">Collaboratore di rete</span><span class="sxs-lookup"><span data-stu-id="0e0bf-302">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="0e0bf-303">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="0e0bf-303">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="0e0bf-304">Classico</span><span class="sxs-lookup"><span data-stu-id="0e0bf-304">Classic</span></span>|[<span data-ttu-id="0e0bf-305">Collaboratore reti virtuali classiche</span><span class="sxs-lookup"><span data-stu-id="0e0bf-305">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="0e0bf-306">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="0e0bf-306">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="0e0bf-307">Altre informazioni, vedere [ruoli predefiniti](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) e l'assegnazione di autorizzazioni specifiche troppo[ruoli personalizzati](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) Gestione risorse (solo).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-307">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions too[custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="0e0bf-308"><a name="delete"></a>Eliminare risorse</span><span class="sxs-lookup"><span data-stu-id="0e0bf-308"><a name="delete"></a>Delete resources</span></span>
<span data-ttu-id="0e0bf-309">Al termine di questa esercitazione, è possibile risorse hello toodelete creato nell'esercitazione di hello, in modo non si incorrere in costi di utilizzo.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-309">When you've finished this tutorial, you might want toodelete hello resources you created in hello tutorial, so you don't incur usage charges.</span></span> <span data-ttu-id="0e0bf-310">Un gruppo di risorse anche se si elimina tutte le risorse che si trovano nel gruppo di risorse hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-310">Deleting a resource group also deletes all resources that are in hello resource group.</span></span>

### <span data-ttu-id="0e0bf-311"><a name="delete-portal"></a>Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="0e0bf-311"><a name="delete-portal"></a>Azure portal</span></span>

1. <span data-ttu-id="0e0bf-312">Nella casella di ricerca portale hello, immettere **myResourceGroupA**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-312">In hello portal search box, enter **myResourceGroupA**.</span></span> <span data-ttu-id="0e0bf-313">Nei risultati della ricerca hello, fare clic su **myResourceGroupA**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-313">In hello search results, click **myResourceGroupA**.</span></span>
2. <span data-ttu-id="0e0bf-314">In hello **myResourceGroupA** pannello, fare clic su hello **eliminare** icona.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-314">On hello **myResourceGroupA** blade, click hello **Delete** icon.</span></span>
3. <span data-ttu-id="0e0bf-315">l'eliminazione di hello tooconfirm, in hello **hello di tipo nome gruppo di risorse** immettere **myResourceGroupA**, quindi fare clic su **eliminare**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-315">tooconfirm hello deletion, in hello **TYPE hello RESOURCE GROUP NAME** box, enter **myResourceGroupA**, and then click **Delete**.</span></span>
4. <span data-ttu-id="0e0bf-316">In hello **individuare risorse** casella nella parte superiore di hello del portale di hello, tipo *myVnetB*.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-316">In hello **Search resources** box at hello top of hello portal, type *myVnetB*.</span></span> <span data-ttu-id="0e0bf-317">Fare clic su **myVnetB** quando viene visualizzato nei risultati della ricerca hello.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-317">Click **myVnetB** when it appears in hello search results.</span></span> <span data-ttu-id="0e0bf-318">Viene visualizzato un pannello per hello **myVnetB** rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-318">A blade appears for hello **myVnetB** virtual network.</span></span>
5. <span data-ttu-id="0e0bf-319">In hello **myVnetB** pannello, fare clic su **eliminare**.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-319">In hello **myVnetB** blade, click **Delete**.</span></span>
6. <span data-ttu-id="0e0bf-320">l'eliminazione di hello tooconfirm, fare clic su **Sì** in hello **rete virtuale Delete** casella.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-320">tooconfirm hello deletion, click **Yes** in hello **Delete virtual network** box.</span></span>

### <span data-ttu-id="0e0bf-321"><a name="delete-cli"></a></span><span class="sxs-lookup"><span data-stu-id="0e0bf-321"><a name="delete-cli"></a>Azure CLI</span></span>

1. <span data-ttu-id="0e0bf-322">Accedere utilizzando hello tooAzure rete virtuale di hello toodelete 2.0 CLI Gestione risorse () con hello comando seguente:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-322">Log in tooAzure using hello CLI 2.0 toodelete hello virtual network (Resource Manager) with hello following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroupA --yes
    ```

2. <span data-ttu-id="0e0bf-323">Accedere utilizzando hello tooAzure rete virtuale di hello toodelete 1.0 CLI di Azure (versione classica) con hello seguenti comandi:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-323">Log in tooAzure using hello Azure CLI 1.0 toodelete hello virtual network (classic) with hello following commands:</span></span>

    ```azurecli
    azure config mode asm 

    azure network vnet delete --vnet myVnetB --quiet
    ```

### <span data-ttu-id="0e0bf-324"><a name="delete-powershell"></a>PowerShell</span><span class="sxs-lookup"><span data-stu-id="0e0bf-324"><a name="delete-powershell"></a>PowerShell</span></span>

1. <span data-ttu-id="0e0bf-325">Al prompt dei comandi di PowerShell hello, immettere hello comando toodelete hello (Resource Manager) di rete virtuale seguente:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-325">At hello PowerShell command prompt, enter hello following command toodelete hello virtual network (Resource Manager):</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroupA -Force
    ```

2. <span data-ttu-id="0e0bf-326">toodelete hello rete virtuale (classico) con PowerShell, è necessario modificare un file di configurazione di rete esistente.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-326">toodelete hello virtual network (classic) with PowerShell, you must modify an existing network configuration file.</span></span> <span data-ttu-id="0e0bf-327">Informazioni su come troppo[esportare, aggiornare e importare il file di configurazione di rete](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-327">Learn how too[export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="0e0bf-328">Rimuovere hello elemento VirtualNetworkSite per la rete virtuale di hello utilizzati in questa esercitazione seguente:</span><span class="sxs-lookup"><span data-stu-id="0e0bf-328">Remove hello following VirtualNetworkSite element for hello virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnetB" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="0e0bf-329">L'importazione di un file di configurazione di rete modificato può causare modifiche tooexisting reti virtuali (classiche) nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-329">Importing a changed network configuration file can cause changes tooexisting virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="0e0bf-330">Assicurarsi di rimuovere solo la rete virtuale precedente di hello e di non modificare o rimuovere qualsiasi altra rete virtuale esistente dalla sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-330">Ensure you only remove hello previous virtual network and that you don't change or remove any other existing virtual networks from your subscription.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="0e0bf-331">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="0e0bf-331">Next steps</span></span>

- <span data-ttu-id="0e0bf-332">Acquisire familiarità con importanti [vincoli e comportamenti del peering di rete virtuale](virtual-network-manage-peering.md#requirements-and-constraints) prima di creare un peering di rete virtuale per l'uso in produzione.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-332">Thoroughly familiarize yourself with important [virtual network peering constraints and behaviors](virtual-network-manage-peering.md#requirements-and-constraints) before creating a virtual network peering for production use.</span></span>
- <span data-ttu-id="0e0bf-333">Acquisire informazioni più dettagliate su tutte le [impostazioni per il peering di rete virtuale](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="0e0bf-333">Learn about all [virtual network peering settings](virtual-network-manage-peering.md#create-a-peering).</span></span>
- <span data-ttu-id="0e0bf-334">Informazioni su come troppo[creare un hub e spoke topologia di rete](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) con peering di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="0e0bf-334">Learn how too[create a hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) with virtual network peering.</span></span>
