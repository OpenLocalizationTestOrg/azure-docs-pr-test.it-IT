---
title: Creare piani di ripristino per il failover e il ripristino in Azure Site Recovery | Microsoft Docs
description: Descrive come creare e personalizzare i piani di ripristino in Azure Site Recovery, eseguire il failover e ripristinare le macchine virtuali e i server fisici
services: site-recovery
documentationcenter: 
author: rayne-wiselman
manager: carmonm
editor: 
ms.assetid: 72408c62-fcb6-4ee2-8ff5-cab1218773f2
ms.service: site-recovery
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/23/2017
ms.author: raynew
ms.openlocfilehash: 1b0d64cd592c4738311797b826e490639340f92a
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="create-recovery-plans"></a><span data-ttu-id="73625-103">Creare piani di ripristino</span><span class="sxs-lookup"><span data-stu-id="73625-103">Create recovery plans</span></span>


<span data-ttu-id="73625-104">L'articolo contiene informazioni sulla creazione e la personalizzazione dei piani di ripristino in [Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="73625-104">This article provides information about creating and customizing recovery plans in [Azure Site Recovery](site-recovery-overview.md).</span></span>

<span data-ttu-id="73625-105">Per inviare commenti o domande, è possibile usare la parte inferiore di questo articolo oppure il [forum sui Servizi di ripristino di Azure](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span><span class="sxs-lookup"><span data-stu-id="73625-105">Post any comments or questions at the bottom of this article, or on the [Azure Recovery Services Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span></span>

 <span data-ttu-id="73625-106">Per creare i piani di ripristino, procedere come segue:</span><span class="sxs-lookup"><span data-stu-id="73625-106">Create recovery plans to do the following:</span></span>

* <span data-ttu-id="73625-107">Definire gruppi di computer che eseguono il failover insieme e quindi si avviano contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="73625-107">Define groups of machines that fail over together, and then start up together.</span></span>
* <span data-ttu-id="73625-108">Creare le dipendenze tra i computer raggruppandoli in un gruppo di piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-108">Model dependencies between machines, by grouping them together into a recovery plan group.</span></span> <span data-ttu-id="73625-109">Ad esempio, per eseguire il failover e visualizzare un'applicazione specifica, raggruppare tutte le macchine virtuali per l'applicazione nello stesso gruppo di piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-109">For example, to fail over and bring up a specific application, you group all of the VMs for that application into the same recovery plan group.</span></span>
* <span data-ttu-id="73625-110">Eseguire un failover.</span><span class="sxs-lookup"><span data-stu-id="73625-110">Run a failover.</span></span> <span data-ttu-id="73625-111">È possibile eseguire un failover non pianificato o un test, pianificato, in un piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-111">You can run a test, planned, or unplanned failover on a recovery plan.</span></span>


## <a name="create-a-recovery-plan"></a><span data-ttu-id="73625-112">Creare un piano di ripristino</span><span class="sxs-lookup"><span data-stu-id="73625-112">Create a recovery plan</span></span>

1. <span data-ttu-id="73625-113">Fare clic su **Piani di ripristino** > **Crea piano di ripristino**.</span><span class="sxs-lookup"><span data-stu-id="73625-113">Click **Recovery Plans** > **Create Recovery Plan**.</span></span>
   <span data-ttu-id="73625-114">Specificare un nome per il piano di ripristino, nonché per il server di origine e di destinazione</span><span class="sxs-lookup"><span data-stu-id="73625-114">Specify a name for the recovery plan, and a source and target.</span></span> <span data-ttu-id="73625-115">Nella posizione di origine devono essere eseguite macchine virtuali abilitate per il failover e il ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-115">The source location must have virtual machines that are enabled for failover and recovery.</span></span>

    - <span data-ttu-id="73625-116">Per la replica da un server VMM in un altro server VMM, selezionare **Tipo origine** > **VMM**, nonché i server VMM di origine e destinazione.</span><span class="sxs-lookup"><span data-stu-id="73625-116">For VMM to VMM replication, select **Source Type** > **VMM**, and the source and target VMM servers.</span></span> <span data-ttu-id="73625-117">Fare clic su **Hyper-V** per visualizzare i cloud protetti.</span><span class="sxs-lookup"><span data-stu-id="73625-117">Click **Hyper-V** to see clouds that are protected.</span></span>
    - <span data-ttu-id="73625-118">Per la replica da VMM ad Azure, selezionare **Tipo origine** > **VMM**.</span><span class="sxs-lookup"><span data-stu-id="73625-118">For VMM to Azure, select **Source Type** > **VMM**.</span></span>  <span data-ttu-id="73625-119">Selezionare il server VMM di origine e **Azure** come destinazione.</span><span class="sxs-lookup"><span data-stu-id="73625-119">Select the source VMM server, and **Azure** as the target.</span></span>
    - <span data-ttu-id="73625-120">Per la replica Hyper-V in Azure (senza VMM), selezionare **Tipo origine** > **Sito Hyper-V**.</span><span class="sxs-lookup"><span data-stu-id="73625-120">For Hyper-V replication to Azure (without VMM), select **Source Type** > **Hyper-V site**.</span></span> <span data-ttu-id="73625-121">Selezionare il sito come origine e **Azure**come destinazione.</span><span class="sxs-lookup"><span data-stu-id="73625-121">Select the site as the source, and **Azure** as the target.</span></span>
    - <span data-ttu-id="73625-122">Per una VM VMware o un server fisico locale in Azure, selezionare un server di configurazione come origine e **Azure** come destinazione.</span><span class="sxs-lookup"><span data-stu-id="73625-122">For a VMware VM or a physical on-premises server to Azure, select a configuration server as the source, and **Azure** as the target.</span></span>
    - <span data-ttu-id="73625-123">Per un piano di ripristino di Azure in Azure, selezionare un'area di Azure come origine e un'area secondaria di Azure come destinazione.</span><span class="sxs-lookup"><span data-stu-id="73625-123">For a Azure to Azure recovery plan, select a Azure region as the source, and a secondary Azure region as the target.</span></span> <span data-ttu-id="73625-124">Le aree secondarie di Azure sono solo quelle in cui le macchine virtuali sono protette.</span><span class="sxs-lookup"><span data-stu-id="73625-124">The secondary Azure regions are only those to which virtual machines are protected.</span></span>
2. <span data-ttu-id="73625-125">In **Seleziona macchine virtuali** selezionare le macchine virtuali (o il gruppo di replica) che si vuole aggiungere al gruppo predefinito (gruppo 1) nel piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-125">In **Select virtual machines**, select the virtual machines (or replication group) that you want to add to the default group (Group 1) in the recovery plan.</span></span>

## <a name="customize-and-extend-recovery-plans"></a><span data-ttu-id="73625-126">Personalizzare ed estendere i piani di ripristino</span><span class="sxs-lookup"><span data-stu-id="73625-126">Customize and extend recovery plans</span></span>

<span data-ttu-id="73625-127">È possibile personalizzare ed estendere i piani di ripristino:</span><span class="sxs-lookup"><span data-stu-id="73625-127">You can customize and extend recovery plans:</span></span>

- <span data-ttu-id="73625-128">**Aggiungere nuovi gruppi**: è possibile aggiungere gruppi del piano di ripristino aggiuntivi (fino a sette) al gruppo predefinito e quindi aggiungere più computer o gruppi di replica ai gruppi del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-128">**Add new groups**—Add additional recovery plan groups (up to seven) to the default group, and then add more machines or replication groups to those recovery plan groups.</span></span> <span data-ttu-id="73625-129">I gruppi vengono numerati nell'ordine in cui vengono aggiunti.</span><span class="sxs-lookup"><span data-stu-id="73625-129">Groups are numbered in the order in which you add them.</span></span> <span data-ttu-id="73625-130">Una macchina virtuale o un gruppo di replica può essere incluso solo in un gruppo del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-130">A virtual machine, or replication group, can only be included in one recovery plan group.</span></span>
- <span data-ttu-id="73625-131">**Aggiungere un'azione manuale**: è possibile aggiungere azioni manuali da eseguire prima o dopo un gruppo del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-131">**Add a manual action**—You can add manual actions that run before or after a recovery plan group.</span></span> <span data-ttu-id="73625-132">Quando viene eseguito il piano di ripristino, questo si interrompe in corrispondenza del punto in cui è stata inserita l'azione manuale.</span><span class="sxs-lookup"><span data-stu-id="73625-132">When the recovery plan runs, it stops at the point at which you inserted the manual action.</span></span> <span data-ttu-id="73625-133">Una finestra di dialogo richiede all'utente di specificare che l'azione manuale è stata completata.</span><span class="sxs-lookup"><span data-stu-id="73625-133">A dialog box prompts you to specify that the manual action was completed.</span></span>
- <span data-ttu-id="73625-134">**Aggiungere uno script**: è possibile aggiungere script che vengono eseguiti prima o dopo un gruppo del piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-134">**Add a script**—You can add scripts that run before or after a recovery plan group.</span></span> <span data-ttu-id="73625-135">Quando si aggiunge uno script, viene aggiunto un nuovo set di azioni per il gruppo.</span><span class="sxs-lookup"><span data-stu-id="73625-135">When you add a script, it adds a new set of actions for the group.</span></span> <span data-ttu-id="73625-136">Ad esempio, verrà creato un set di passaggi preliminari per il gruppo 1 denominato: Gruppo 1: passaggi preliminari.</span><span class="sxs-lookup"><span data-stu-id="73625-136">For example, a set of pre-steps for Group 1 will be created with the name: Group 1: pre-steps.</span></span> <span data-ttu-id="73625-137">Tutti i passaggi preliminari verranno elencati in questo set.</span><span class="sxs-lookup"><span data-stu-id="73625-137">All pre-steps will be listed inside this set.</span></span> <span data-ttu-id="73625-138">Se si dispone di un server VMM distribuito, è possibile aggiungere solo uno script nel sito primario.</span><span class="sxs-lookup"><span data-stu-id="73625-138">You can only add a script on the primary site if you have a VMM server deployed.</span></span>
- <span data-ttu-id="73625-139">**Aggiungere runbook di Azure**: è possibile estendere i piani di ripristino con i runbook di Azure.</span><span class="sxs-lookup"><span data-stu-id="73625-139">**Add Azure runbooks**—You can extend recovery plans with Azure runbooks.</span></span> <span data-ttu-id="73625-140">Ad esempio, per automatizzare le attività o per creare un ripristino in un solo passaggio.</span><span class="sxs-lookup"><span data-stu-id="73625-140">For example, to automate tasks, or to create single-step recovery.</span></span> <span data-ttu-id="73625-141">[Altre informazioni](site-recovery-runbook-automation.md).</span><span class="sxs-lookup"><span data-stu-id="73625-141">[Learn more](site-recovery-runbook-automation.md).</span></span>

## <a name="add-scripts"></a><span data-ttu-id="73625-142">Aggiungere script</span><span class="sxs-lookup"><span data-stu-id="73625-142">Add scripts</span></span>

<span data-ttu-id="73625-143">È possibile usare gli script di PowerShell nei piani di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-143">You can use PowerShell scripts in your recovery plans.</span></span>

 - <span data-ttu-id="73625-144">Assicurarsi di usare blocchi try-catch in modo che le eccezioni vengano gestite normalmente.</span><span class="sxs-lookup"><span data-stu-id="73625-144">Ensure that scripts use try-catch blocks so that the exceptions are handled gracefully.</span></span>
    - <span data-ttu-id="73625-145">Se si verifica un'eccezione nello script, l'esecuzione viene interrotta e l'attività viene mostrata come non riuscita.</span><span class="sxs-lookup"><span data-stu-id="73625-145">If there is an exception in the script, it stops running and the task shows as failed.</span></span>
    - <span data-ttu-id="73625-146">Se si verifica un errore, qualsiasi parte rimanente dello script non viene eseguita.</span><span class="sxs-lookup"><span data-stu-id="73625-146">If an error occurs, any remaining part of the script doesn't run.</span></span>
    - <span data-ttu-id="73625-147">Se si verifica un errore quando si esegue un failover non pianificato, il piano di ripristino continua.</span><span class="sxs-lookup"><span data-stu-id="73625-147">If an error occurs when you run an unplanned failover, the recovery plan continues.</span></span>
    - <span data-ttu-id="73625-148">Se si verifica un errore quando si esegue un failover pianificato, il piano di ripristino si interrompe.</span><span class="sxs-lookup"><span data-stu-id="73625-148">If an error occurs when you run a planned failover, the recovery plan stops.</span></span> <span data-ttu-id="73625-149">È necessario correggere lo script, verificare che venga eseguito come previsto e quindi eseguire nuovamente il piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-149">You need to fix the script, check that it runs as expected, and then run the recovery plan again.</span></span>
- <span data-ttu-id="73625-150">Il comando Write-Host non funziona in uno script del piano di ripristino e lo script avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="73625-150">The Write-Host command doesn’t work in a recovery plan script, and the script will fail.</span></span> <span data-ttu-id="73625-151">Per creare l'output, creare uno script del proxy che a sua volta esegue lo script principale.</span><span class="sxs-lookup"><span data-stu-id="73625-151">To create output, create a proxy script that in turn runs your main script.</span></span> <span data-ttu-id="73625-152">Assicurarsi che tutto l'output venga reindirizzato utilizzando il comando >>.</span><span class="sxs-lookup"><span data-stu-id="73625-152">Make sure that all output is piped out using the >> command.</span></span>
  * <span data-ttu-id="73625-153">Lo script si interrompe se non viene restituito in 600 secondi.</span><span class="sxs-lookup"><span data-stu-id="73625-153">The script times out if it doesn't return within 600 seconds.</span></span>
  * <span data-ttu-id="73625-154">Se viene scritto qualcosa in STDERR, lo script viene classificato come non completato.</span><span class="sxs-lookup"><span data-stu-id="73625-154">If anything is written out to STDERR, the script is classified as failed.</span></span> <span data-ttu-id="73625-155">Queste informazioni vengono visualizzate nei dettagli dell'esecuzione di script.</span><span class="sxs-lookup"><span data-stu-id="73625-155">This information is displayed in the script execution details.</span></span>

<span data-ttu-id="73625-156">Se si usa VMM nella distribuzione:</span><span class="sxs-lookup"><span data-stu-id="73625-156">If you're using VMM in your deployment:</span></span>

* <span data-ttu-id="73625-157">Gli script in un piano di ripristino vengono eseguiti nel contesto dell'account del servizio VMM.</span><span class="sxs-lookup"><span data-stu-id="73625-157">Scripts in a recovery plan run in the context of the VMM Service account.</span></span> <span data-ttu-id="73625-158">Assicurarsi che questo account disponga delle autorizzazioni di lettura per la condivisione remota in cui si trova lo script.</span><span class="sxs-lookup"><span data-stu-id="73625-158">Make sure this account has Read permissions for the remote share on which the script is located.</span></span> <span data-ttu-id="73625-159">Testare lo script da eseguire a livello di privilegi dell'account di servizio VMM.</span><span class="sxs-lookup"><span data-stu-id="73625-159">Test the script to run at the VMM service account privilege level.</span></span>
* <span data-ttu-id="73625-160">I cmdlet di VMM vengono forniti in un modulo di Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="73625-160">VMM cmdlets are delivered in a Windows PowerShell module.</span></span> <span data-ttu-id="73625-161">Il modulo viene installato quando si installa la console VMM.</span><span class="sxs-lookup"><span data-stu-id="73625-161">The module is installed when you install the VMM console.</span></span> <span data-ttu-id="73625-162">È possibile caricarlo nello script, usando il comando seguente nello script:</span><span class="sxs-lookup"><span data-stu-id="73625-162">It can be loaded into your script, using the following command in the script:</span></span>
   - <span data-ttu-id="73625-163">Import-Module -Name virtualmachinemanager.</span><span class="sxs-lookup"><span data-stu-id="73625-163">Import-Module -Name virtualmachinemanager.</span></span> <span data-ttu-id="73625-164">[Altre informazioni](https://technet.microsoft.com/library/hh875013.aspx).</span><span class="sxs-lookup"><span data-stu-id="73625-164">[Learn more](https://technet.microsoft.com/library/hh875013.aspx).</span></span>
* <span data-ttu-id="73625-165">Assicurarsi di disporre di almeno un server di libreria nella distribuzione di VMM.</span><span class="sxs-lookup"><span data-stu-id="73625-165">Ensure you have at least one library server in your VMM deployment.</span></span> <span data-ttu-id="73625-166">Per impostazione predefinita il percorso della condivisione di libreria per un server VMM si trova in locale nel server VMM con il nome di cartella MSCVMMLibrary.</span><span class="sxs-lookup"><span data-stu-id="73625-166">By default, the library share path for a VMM server is located locally on the VMM server, with the folder name MSCVMMLibrary.</span></span>
    * <span data-ttu-id="73625-167">Se il percorso della condivisione di libreria è remoto (o locale ma non condiviso con MSCVMMLibrary), configurare la condivisione come segue (usando \\libserver2.contoso.com\share\ come esempio):</span><span class="sxs-lookup"><span data-stu-id="73625-167">If your library share path is remote (or local but not shared with MSCVMMLibrary), configure the share as follows (using \\libserver2.contoso.com\share\ as an example):</span></span>
      * <span data-ttu-id="73625-168">Aprire l'editor del Registro di sistema e passare a **HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure Site Recovery\Registration**.</span><span class="sxs-lookup"><span data-stu-id="73625-168">Open the Registry Editor and navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure Site Recovery\Registration**.</span></span>
      * <span data-ttu-id="73625-169">Modificare il valore **ScriptLibraryPath** e inserirlo come \\libserver2.contoso.com\share\.</span><span class="sxs-lookup"><span data-stu-id="73625-169">Edit the value **ScriptLibraryPath** and place it as \\libserver2.contoso.com\share\.</span></span> <span data-ttu-id="73625-170">Specificare il nome di dominio completo.</span><span class="sxs-lookup"><span data-stu-id="73625-170">Specify the full FQDN.</span></span> <span data-ttu-id="73625-171">Fornire le autorizzazioni per il percorso di condivisione.</span><span class="sxs-lookup"><span data-stu-id="73625-171">Provide permissions to the share location.</span></span>
      * <span data-ttu-id="73625-172">Assicurarsi di testare lo script con un account utente che disponga delle stesse autorizzazioni come account del servizio VMM.</span><span class="sxs-lookup"><span data-stu-id="73625-172">Ensure that you test the script with a user account that has the same permissions as the VMM service account.</span></span> <span data-ttu-id="73625-173">In questo modo si verifica che gli script testati autonomamente vengano eseguiti nello stesso modo in cui verrebbero eseguiti nei piani di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-173">This checks that standalone tested scripts run in the same way as they will in recovery plans.</span></span> <span data-ttu-id="73625-174">Nel server VMM, impostare i criteri di esecuzione in modo venga ignorato quanto segue:</span><span class="sxs-lookup"><span data-stu-id="73625-174">On the VMM server, set the execution policy to bypass as follows:</span></span>
        * <span data-ttu-id="73625-175">Aprire la console di Windows PowerShell a 64 bit con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="73625-175">Open the 64-bit Windows PowerShell console using elevated privileges.</span></span>
        * <span data-ttu-id="73625-176">Digitare: **Set-executionpolicy bypass**.</span><span class="sxs-lookup"><span data-stu-id="73625-176">Type: **Set-executionpolicy bypass**.</span></span> <span data-ttu-id="73625-177">[Altre informazioni](https://technet.microsoft.com/library/ee176961.aspx).</span><span class="sxs-lookup"><span data-stu-id="73625-177">[Learn more](https://technet.microsoft.com/library/ee176961.aspx).</span></span>

## <a name="add-a-script-or-manual-action-to-a-plan"></a><span data-ttu-id="73625-178">Aggiungere uno script o un'azione manuale a un piano</span><span class="sxs-lookup"><span data-stu-id="73625-178">Add a script or manual action to a plan</span></span>

<span data-ttu-id="73625-179">Dopo aver aggiunto macchine virtuali o gruppi di replica al gruppo del piano di ripristino predefinito e dopo aver creato il piano, è possibile aggiungere uno script.</span><span class="sxs-lookup"><span data-stu-id="73625-179">You can add a script to the default recovery plan group after you've added VMs or replication groups to it, and created the plan.</span></span>

1. <span data-ttu-id="73625-180">Aprire il piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-180">Open the recovery plan.</span></span>
2. <span data-ttu-id="73625-181">Fare clic su un elemento nell'elenco **Passaggio**, quindi fare clic su **Script** o **Azione manuale**.</span><span class="sxs-lookup"><span data-stu-id="73625-181">Click an item in the **Step** list, and then click **Script** or **Manual Action**.</span></span>
3. <span data-ttu-id="73625-182">Specificare se si desidera aggiungere lo script o l’azione prima o dopo l'elemento selezionato.</span><span class="sxs-lookup"><span data-stu-id="73625-182">Specify whether to want to add the script or action before or after the selected item.</span></span> <span data-ttu-id="73625-183">Usare i pulsanti **Move Up** (Sposta su) e **Sposta giù** per spostare la posizione dello script verso l'alto o verso il basso.</span><span class="sxs-lookup"><span data-stu-id="73625-183">Use the **Move Up** and **Move Down**  buttons, to move the position of the script up or down.</span></span>
4. <span data-ttu-id="73625-184">Se si aggiunge uno script VMM, selezionare **Failover to VMM script** (Failover nello script VMM).</span><span class="sxs-lookup"><span data-stu-id="73625-184">If you add a VMM script, select **Failover to VMM script**.</span></span> <span data-ttu-id="73625-185">In **Percorso script**, digitare il percorso relativo alla condivisione.</span><span class="sxs-lookup"><span data-stu-id="73625-185">In **Script Path**, type the relative path to the share.</span></span> <span data-ttu-id="73625-186">Nell'esempio VMM di seguito specificare il percorso: **\RPScripts\RPScript.PS1**.</span><span class="sxs-lookup"><span data-stu-id="73625-186">In the VMM example below, you specify the path: **\RPScripts\RPScript.PS1**.</span></span>
5. <span data-ttu-id="73625-187">Se si aggiunge un runbook di automazione di Azure, specificare l'account di Automazione di Azure in cui si trova il runbook e selezionare lo script di runbook di Azure appropriato.</span><span class="sxs-lookup"><span data-stu-id="73625-187">If you add an Azure automation run book, specify the Azure Automation account in which the runbook is located, and select the appropriate Azure runbook script.</span></span>
6. <span data-ttu-id="73625-188">Eseguire un failover del piano di ripristino per assicurarsi che lo script funzioni come previsto.</span><span class="sxs-lookup"><span data-stu-id="73625-188">Do a failover of the recovery plan, to make sure the script works as expected.</span></span>


### <a name="add-a-vmm-script"></a><span data-ttu-id="73625-189">Aggiungere uno script VMM</span><span class="sxs-lookup"><span data-stu-id="73625-189">Add a VMM script</span></span>

<span data-ttu-id="73625-190">Se si dispone di un sito di origine VMM, è possibile creare uno script nel server VMM e includerlo nel piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="73625-190">If you have a VMM source site, you can create a script on the VMM server, and include it in your recovery plan.</span></span>

1. <span data-ttu-id="73625-191">Creare una nuova cartella nella condivisione di libreria.</span><span class="sxs-lookup"><span data-stu-id="73625-191">Create a new folder in the library share.</span></span> <span data-ttu-id="73625-192">Ad esempio, \<VMMServerName>\MSSCVMMLibrary\RPScripts.</span><span class="sxs-lookup"><span data-stu-id="73625-192">For example, \<VMMServerName>\MSSCVMMLibrary\RPScripts.</span></span> <span data-ttu-id="73625-193">Posizionarla nei server VMM di origine e destinazione.</span><span class="sxs-lookup"><span data-stu-id="73625-193">Place it on the source and target VMM servers.</span></span>
2. <span data-ttu-id="73625-194">Creare lo script (ad esempio RPScript) e verificare che funzioni come previsto.</span><span class="sxs-lookup"><span data-stu-id="73625-194">Create the script (for example RPScript), and check it works as expected.</span></span>
3. <span data-ttu-id="73625-195">Inserire lo script nel percorso \<VMMServerName>\MSSCVMMLibrary nei server VMM di origine e di destinazione.</span><span class="sxs-lookup"><span data-stu-id="73625-195">Place the script in the location \<VMMServerName>\MSSCVMMLibrary, on the source and target VMM servers.</span></span>


## <a name="next-steps"></a><span data-ttu-id="73625-196">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="73625-196">Next steps</span></span>

<span data-ttu-id="73625-197">[Altre informazioni](site-recovery-failover.md) sull'esecuzione dei failover.</span><span class="sxs-lookup"><span data-stu-id="73625-197">[Learn more](site-recovery-failover.md) about running failovers.</span></span>
