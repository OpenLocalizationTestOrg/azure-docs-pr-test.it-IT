---
title: "Disponibilità dei servizi di Service Fabric | Microsoft Docs"
description: Descrive il rilevamento degli errori, il failover e il ripristino dei servizi
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 279ba4a4-f2ef-4e4e-b164-daefd10582e4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 41ff2c3129facb0eea9d896ce75d7343ae2a018e
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/18/2017
---
# <a name="availability-of-service-fabric-services"></a><span data-ttu-id="8c1f4-103">Disponibilità dei servizi di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="8c1f4-103">Availability of Service Fabric services</span></span>
<span data-ttu-id="8c1f4-104">Questo articolo contiene una panoramica sul modo in cui Service Fabric gestisce la disponibilità di un servizio.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-104">This article gives an overview of how Service Fabric maintains availability of a service.</span></span>

## <a name="availability-of-service-fabric-stateless-services"></a><span data-ttu-id="8c1f4-105">Disponibilità dei servizi di Service Fabric senza stato</span><span class="sxs-lookup"><span data-stu-id="8c1f4-105">Availability of Service Fabric stateless services</span></span>
<span data-ttu-id="8c1f4-106">I servizi Service Fabric di Azure possono essere con o senza stato.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-106">Azure Service Fabric services can be either stateful or stateless.</span></span> <span data-ttu-id="8c1f4-107">Un servizio senza stato è un servizio dell'applicazione che non dispone di uno [stato locale](service-fabric-concepts-state.md) che necessita di essere altamente disponibile o affidabile.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-107">A stateless service is an application service that does not have any [local state](service-fabric-concepts-state.md) that needs to be highly available or reliable.</span></span>

<span data-ttu-id="8c1f4-108">La creazione di un servizio senza stato richiede la definizione di un `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-108">Creating a stateless service requires defining an `InstanceCount`.</span></span> <span data-ttu-id="8c1f4-109">per il numero di istanze di logica dell'applicazione del servizio senza stato da eseguire nel cluster.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-109">The instance count defines the number of instances of the stateless service's application logic that should be running in the cluster.</span></span> <span data-ttu-id="8c1f4-110">L'aumento del numero di istanze è la soluzione consigliata per implementare la scalabilità orizzontale di un servizio senza stato.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-110">Increasing the number of instances is the recommended way of scaling out a stateless service.</span></span>

<span data-ttu-id="8c1f4-111">Quando un'istanza di un servizio denominato senza stato ha esito negativo, viene creata una nuova istanza in un nodo idoneo del cluster.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-111">When an instance of a stateless named service fails, a new instance is created on some eligible node in the cluster.</span></span> <span data-ttu-id="8c1f4-112">Ad esempio, un'istanza del servizio senza stato potrebbe non riuscire in Node1 ed essere ricreata in Node5.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-112">For example, a stateless service instance might fail on Node1 and be recreated on Node5.</span></span>

## <a name="availability-of-service-fabric-stateful-services"></a><span data-ttu-id="8c1f4-113">Disponibilità dei servizi di Service Fabric con stato</span><span class="sxs-lookup"><span data-stu-id="8c1f4-113">Availability of Service Fabric stateful services</span></span>
<span data-ttu-id="8c1f4-114">Un servizio con stato dispone di uno stato associato.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-114">A stateful service has some state associated with it.</span></span> <span data-ttu-id="8c1f4-115">In Service Fabric un servizio con stato è modellato come set di repliche.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-115">In Service Fabric, a stateful service is modeled as a set of replicas.</span></span> <span data-ttu-id="8c1f4-116">Ogni replica è un'istanza in esecuzione del codice del servizio che ha anche una copia dello stato per tale servizio.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-116">Each replica is a running instance of the code of the service that also has a copy of the state for that service.</span></span> <span data-ttu-id="8c1f4-117">Le operazioni di lettura e scrittura vengono eseguite in una replica (denominata replica primaria).</span><span class="sxs-lookup"><span data-stu-id="8c1f4-117">Read and write operations are performed at one replica (called the Primary).</span></span> <span data-ttu-id="8c1f4-118">I cambiamenti di stato dovuti a operazioni di scrittura vengono *replicati* in altre repliche nel set di repliche, denominate repliche secondarie attive, e applicati.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-118">Changes to state from write operations are *replicated* to the other replicas in the replica set (called Active Secondaries) and applied.</span></span> 

<span data-ttu-id="8c1f4-119">Può esistere solo una replica primaria, ma possono esistere più repliche secondarie attive.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-119">There can be only one Primary replica, but there can be multiple Active Secondary replicas.</span></span> <span data-ttu-id="8c1f4-120">Il numero di repliche secondarie attive è configurabile. Più alto è il numero di repliche, maggiore è il numero di errori hardware e software simultanei che è possibile tollerare.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-120">The number of Active Secondary replicas is configurable, and a higher number of replicas can tolerate a greater number of concurrent software and hardware failures.</span></span>

<span data-ttu-id="8c1f4-121">Se la replica primaria diventa inattiva, Service Fabric crea come nuova replica primaria una delle repliche secondarie attive.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-121">If the Primary replica goes down, Service Fabric makes one of the Active Secondary replicas the new Primary replica.</span></span> <span data-ttu-id="8c1f4-122">La replica secondaria attiva ha già la versione aggiornata dello stato (mediante il *processo di replica*) e può continuare a elaborare altre operazioni di lettura e scrittura.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-122">This Active Secondary replica already has the updated version of the state (via *replication*), and it can continue processing further read and write operations.</span></span>

<span data-ttu-id="8c1f4-123">Il concetto di replica primaria o replica secondaria attiva è noto come ruolo di replica.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-123">This concept, of a replica being either a Primary or Active Secondary, is known as the Replica Role.</span></span>

### <a name="replica-roles"></a><span data-ttu-id="8c1f4-124">Ruoli di replica</span><span class="sxs-lookup"><span data-stu-id="8c1f4-124">Replica roles</span></span>
<span data-ttu-id="8c1f4-125">Il ruolo di una replica viene usato per gestire il ciclo di vita dello stato gestito da tale replica.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-125">The role of a replica is used to manage the life cycle of the state being managed by that replica.</span></span> <span data-ttu-id="8c1f4-126">Una replica con ruolo primario gestisce le richieste di lettura.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-126">A replica whose role is Primary services read requests.</span></span> <span data-ttu-id="8c1f4-127">La replica primaria gestisce anche tutte le richieste di scrittura aggiornandone lo stato e replicando le modifiche</span><span class="sxs-lookup"><span data-stu-id="8c1f4-127">The Primary also handles all write requests by updating its state and replicating the changes.</span></span> <span data-ttu-id="8c1f4-128">che vengono applicate alle repliche secondarie attive nel set di repliche.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-128">These changes are applied to the Active Secondaries in the replica set.</span></span> <span data-ttu-id="8c1f4-129">Il compito di una replica secondaria attiva è quello di ricevere i cambiamenti di stato che la primaria ha replicato e di aggiornarne la visualizzazione dello stato.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-129">The job of an Active Secondary is to receive state changes that the Primary replica has replicated and update its view of the state.</span></span>

> [!NOTE]
> <span data-ttu-id="8c1f4-130">Modelli di programmazione di livello superiore, come [Reliable Actors](service-fabric-reliable-actors-introduction.md) e [Reliable Services](service-fabric-reliable-services-introduction.md) nascondono il concetto di ruolo di replica allo sviluppatore.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-130">Higher-level programming models such as [Reliable Actors](service-fabric-reliable-actors-introduction.md) and [Reliable Services](service-fabric-reliable-services-introduction.md) hide the concept of replica role from the developer.</span></span> <span data-ttu-id="8c1f4-131">In Reliable Actors la nozione di ruolo non è necessaria, mentre in Reliable Services è estremamente semplificata per la maggior parte degli scenari.</span><span class="sxs-lookup"><span data-stu-id="8c1f4-131">In Actors, the notion of role is unnecessary, while in Services it is largely simplified for most scenarios.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="8c1f4-132">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="8c1f4-132">Next steps</span></span>
<span data-ttu-id="8c1f4-133">Per altre informazioni sui concetti relativi a Service Fabric, vedere gli articoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="8c1f4-133">For more information on Service Fabric concepts, see the following articles:</span></span>

- [<span data-ttu-id="8c1f4-134">Scalabilità dei servizi di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="8c1f4-134">Scaling Service Fabric services</span></span>](service-fabric-concepts-scalability.md)
- [<span data-ttu-id="8c1f4-135">Partizionamento dei servizi di Service Fabric</span><span class="sxs-lookup"><span data-stu-id="8c1f4-135">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
- [<span data-ttu-id="8c1f4-136">Definizione e gestione dello stato</span><span class="sxs-lookup"><span data-stu-id="8c1f4-136">Defining and managing state</span></span>](service-fabric-concepts-state.md)
- [<span data-ttu-id="8c1f4-137">Reliable Services</span><span class="sxs-lookup"><span data-stu-id="8c1f4-137">Reliable Services</span></span>](service-fabric-reliable-services-introduction.md)
