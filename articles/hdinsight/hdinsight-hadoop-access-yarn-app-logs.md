---
title: aaaAccess applicazione YARN Hadoop a livello di codice - log di Azure | Documenti Microsoft
description: Accedere ai log applicazioni a livello di codice su un cluster Hadoop in HDInsight.
services: hdinsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: 0198d6c9-7767-4682-bd34-42838cf48fc5
ms.service: hdinsight
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: jgao
ROBOTS: NOINDEX
ms.openlocfilehash: 064efee1ea6a864c29ab897692ead0152c926c0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-windows-based-hdinsight"></a><span data-ttu-id="8c3be-103">Accesso ai log applicazioni YARN in HDInsight basato su Windows</span><span class="sxs-lookup"><span data-stu-id="8c3be-103">Access YARN application logs on Windows-based HDInsight</span></span>
<span data-ttu-id="8c3be-104">Questo argomento viene illustrato come tooaccess hello registri per le applicazioni di YARN (ancora un'altra risorsa negoziatore) che vengono completate in un cluster basato su Windows Hadoop in HDInsight di Azure</span><span class="sxs-lookup"><span data-stu-id="8c3be-104">This topic explains how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications that have finished on a Windows-based Hadoop cluster in Azure HDInsight</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8c3be-105">informazioni di Hello in questo documento si applicano solo tooWindows basato su cluster di HDInsight.</span><span class="sxs-lookup"><span data-stu-id="8c3be-105">hello information in this document applies only tooWindows-based HDInsight clusters.</span></span> <span data-ttu-id="8c3be-106">Linux è hello solo sistema operativo utilizzato in HDInsight versione 3.4 o successiva.</span><span class="sxs-lookup"><span data-stu-id="8c3be-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="8c3be-107">Per altre informazioni, vedere la sezione relativa al [ritiro di HDInsight in Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="8c3be-107">For more information, see [HDInsight retirement on Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span> <span data-ttu-id="8c3be-108">Per informazioni sull'accesso ai log YARN in cluster HDInsight basati su Linux, vedere [Accedere ai log delle applicazioni YARN su Hadoop basato su Linux in HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span><span class="sxs-lookup"><span data-stu-id="8c3be-108">For information on accessing YARN logs on Linux-based HDInsight clusters, see [Access YARN application logs on Linux-based Hadoop on HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span></span>
>


### <a name="prerequisites"></a><span data-ttu-id="8c3be-109">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="8c3be-109">Prerequisites</span></span>
* <span data-ttu-id="8c3be-110">Un cluster HDInsight basato su Windows.</span><span class="sxs-lookup"><span data-stu-id="8c3be-110">A Windows-based HDInsight cluster.</span></span>  <span data-ttu-id="8c3be-111">Vedere [Creare cluster Hadoop basati su Windows in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="8c3be-111">See [Create Windows-based Hadoop clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

## <a name="yarn-timeline-server"></a><span data-ttu-id="8c3be-112">Server di sequenza temporale YARN</span><span class="sxs-lookup"><span data-stu-id="8c3be-112">YARN Timeline Server</span></span>
<span data-ttu-id="8c3be-113">Hello <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN sequenza temporale Server</a> fornisce informazioni generiche in applicazioni completate anche come informazioni specifiche del framework applicazione tramite due interfacce diverse.</span><span class="sxs-lookup"><span data-stu-id="8c3be-113">hello <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN Timeline Server</a> provides generic information on completed applications as well as framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="8c3be-114">In particolare:</span><span class="sxs-lookup"><span data-stu-id="8c3be-114">Specifically:</span></span>

* <span data-ttu-id="8c3be-115">L'archiviazione e il recupero di informazioni generiche sulle applicazioni nei cluster HDInsight sono stati abilitati a partire dalla versione 3.1.1.374.</span><span class="sxs-lookup"><span data-stu-id="8c3be-115">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="8c3be-116">componente di informazioni specifiche del framework applicazione Hello di hello Server sequenza temporale non è attualmente disponibile nel cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="8c3be-116">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="8c3be-117">Informazioni generiche sulle applicazioni includono hello molti tipi di dati seguenti:</span><span class="sxs-lookup"><span data-stu-id="8c3be-117">Generic information on applications includes hello following sorts of data:</span></span>

* <span data-ttu-id="8c3be-118">ID dell'applicazione Hello, un identificatore univoco di un'applicazione</span><span class="sxs-lookup"><span data-stu-id="8c3be-118">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="8c3be-119">utente Hello che ha avviato l'applicazione hello</span><span class="sxs-lookup"><span data-stu-id="8c3be-119">hello user who started hello application</span></span>
* <span data-ttu-id="8c3be-120">Informazioni sui tentativi rese applicazione hello toocomplete</span><span class="sxs-lookup"><span data-stu-id="8c3be-120">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="8c3be-121">contenitori di Hello utilizzati da qualsiasi tentativo di applicazione specifico</span><span class="sxs-lookup"><span data-stu-id="8c3be-121">hello containers used by any given application attempt</span></span>

<span data-ttu-id="8c3be-122">Nei cluster di HDInsight, queste informazioni verranno archiviate dall'archivio di cronologia tooa Gestione risorse di Azure nel contenitore predefinito hello di account di archiviazione di Azure predefinito.</span><span class="sxs-lookup"><span data-stu-id="8c3be-122">On your HDInsight clusters, this information will be stored by Azure Resource Manager tooa history store in hello default container of your default Azure Storage account.</span></span> <span data-ttu-id="8c3be-123">Questi dati generici sulle applicazioni completate possono essere recuperati tramite un'API REST:</span><span class="sxs-lookup"><span data-stu-id="8c3be-123">This generic data on completed applications can be retrieved through a REST API:</span></span>

    GET on https://<cluster-dns-name>.azurehdinsight.net/ws/v1/applicationhistory/apps


## <a name="yarn-applications-and-logs"></a><span data-ttu-id="8c3be-124">Log e applicazioni YARN</span><span class="sxs-lookup"><span data-stu-id="8c3be-124">YARN applications and logs</span></span>
<span data-ttu-id="8c3be-125">YARN supporta diversi modelli di programmazione, tra cui MapReduce, separando la gestione delle risorse dalla pianificazione e dal monitoraggio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8c3be-125">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="8c3be-126">A tale scopo, vengono usati un oggetto *ResourceManager* (RM) globale, oggetti *NodeManagers* (NM) per ogni nodo di lavoro e oggetti *ApplicationMasters* (AM) per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="8c3be-126">This is done through a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="8c3be-127">Hello AM per ogni applicazione viene negoziato da risorse (CPU, memoria, disco, rete) per eseguire l'applicazione con RM. hello</span><span class="sxs-lookup"><span data-stu-id="8c3be-127">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="8c3be-128">Hello RM funziona con toogrant NMs queste risorse, che vengono concesse a *contenitori*.</span><span class="sxs-lookup"><span data-stu-id="8c3be-128">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="8c3be-129">è responsabile per tenere traccia dello stato di hello di hello tooit di contenitori assegnati da RM. hello Hello AM</span><span class="sxs-lookup"><span data-stu-id="8c3be-129">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="8c3be-130">Un'applicazione potrebbe richiedere molti contenitori, a seconda della natura hello di un'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="8c3be-130">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="8c3be-131">Inoltre, ogni applicazione può essere costituito più *tentativi di applicazione* in ordine toofinish in presenza di hello di arresti anomali del sistema o a causa di toohello perdita di comunicazione tra un AM e un RM.</span><span class="sxs-lookup"><span data-stu-id="8c3be-131">Furthermore, each application may consist of multiple *application attempts* in order toofinish in hello presence of crashes or due toohello loss of communication between an AM and an RM.</span></span> <span data-ttu-id="8c3be-132">Di conseguenza, i contenitori vengono concesse tooa tentativo specifici di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8c3be-132">Hence, containers are granted tooa specific attempt of an application.</span></span> <span data-ttu-id="8c3be-133">In un certo senso, un contenitore fornisce il contesto di hello per le unità di base delle operazioni eseguite da un'applicazione di YARN e tutte le operazioni che viene eseguita nel contesto di hello di un contenitore viene eseguita nel nodo singolo lavoro hello in cui hello contenitore è stato allocato.</span><span class="sxs-lookup"><span data-stu-id="8c3be-133">In a sense, a container provides hello context for basic unit of work performed by a YARN application, and all work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="8c3be-134">Per altri riferimenti, vedere [Concetti YARN][YARN-concepts].</span><span class="sxs-lookup"><span data-stu-id="8c3be-134">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="8c3be-135">Registri (registri applicazioni e hello associata contenitore) sono fondamentali per il debug di applicazioni di Hadoop problematiche.</span><span class="sxs-lookup"><span data-stu-id="8c3be-135">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="8c3be-136">YARN fornisce un framework utile per raccogliere, aggregare e l'archiviazione dei log applicazione con hello [Log aggregazione] [ log-aggregation] funzionalità.</span><span class="sxs-lookup"><span data-stu-id="8c3be-136">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="8c3be-137">funzione di aggregazione Log Hello rende più deterministiche, l'accesso ai log di applicazioni come aggrega i log in tutti i contenitori in un nodo di lavoro e li archivia come un aggregato file di log per ogni nodo di lavoro nel file system predefinito hello dopo il completamento di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8c3be-137">hello Log Aggregation feature makes accessing application logs more deterministic, as it aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node on hello default file system after an application finishes.</span></span> <span data-ttu-id="8c3be-138">L'applicazione può utilizzare centinaia o migliaia di contenitori, ma i log per tutti i contenitori devono essere eseguiti in un nodo singolo lavoro sarà sempre tooa aggregato singolo file, risultante in un file di log per ogni nodo di lavoro utilizzata dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8c3be-138">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node will always be aggregated tooa single file, resulting in one log file per worker node used by your application.</span></span> <span data-ttu-id="8c3be-139">Aggregazione di log è abilitato per impostazione predefinita nei cluster HDInsight (versione 3.0 e versioni successive), e aggregati i log si trovano nel contenitore predefinito hello del cluster in hello seguente posizione:</span><span class="sxs-lookup"><span data-stu-id="8c3be-139">Log Aggregation is enabled by default on HDInsight clusters (version 3.0 and above), and aggregated logs can be found in hello default container of your cluster at hello following location:</span></span>

    wasb:///app-logs/<user>/logs/<applicationId>

<span data-ttu-id="8c3be-140">In questa posizione, *utente* hello nome dell'utente hello che ha avviato l'applicazione hello, e *applicationId* è l'identificatore univoco di hello di un'applicazione assegnato da RM. YARN hello</span><span class="sxs-lookup"><span data-stu-id="8c3be-140">In that location, *user* is hello name of hello user who started hello application, and *applicationId* is hello unique identifier of an application as assigned by hello YARN RM.</span></span>

<span data-ttu-id="8c3be-141">Hello aggregati i registri non sono direttamente leggibili, quando vengono scritti un [TFile][T-file], [formato binario] [ binary-format] indicizzato dal contenitore.</span><span class="sxs-lookup"><span data-stu-id="8c3be-141">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="8c3be-142">YARN fornisce CLI strumenti toodump questi log come testo normale per applicazioni o i contenitori di interesse.</span><span class="sxs-lookup"><span data-stu-id="8c3be-142">YARN provides CLI tools toodump these logs as plain text for applications or containers of interest.</span></span> <span data-ttu-id="8c3be-143">È possibile visualizzare questi log come testo normale eseguendo uno dei seguenti comandi YARN direttamente nei nodi del cluster hello (dopo la connessione tooit tramite RDP) hello:</span><span class="sxs-lookup"><span data-stu-id="8c3be-143">You can view these logs as plain text by running one of hello following YARN commands directly on hello cluster nodes (after connecting tooit through RDP):</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>


## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="8c3be-144">Interfaccia utente di ResourceManager YARN</span><span class="sxs-lookup"><span data-stu-id="8c3be-144">YARN ResourceManager UI</span></span>
<span data-ttu-id="8c3be-145">Ciao YARN ResourceManager UI viene eseguito sul nodo head cluster hello e sono accessibili tramite hello dashboard del portale di Azure:</span><span class="sxs-lookup"><span data-stu-id="8c3be-145">hello YARN ResourceManager UI runs on hello cluster headnode, and can be accessed through hello Azure portal dashboard:</span></span>

1. <span data-ttu-id="8c3be-146">Accedi troppo[portale di Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="8c3be-146">Sign in too[Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="8c3be-147">Scegliere dal menu a sinistra, hello **Sfoglia**, fare clic su **cluster HDInsight**, fare clic su un cluster basato su Windows che si desidera tooaccess hello YARN registri delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="8c3be-147">On hello left menu, click **Browse**, click **HDInsight Clusters**, click a Windows-based cluster that you want tooaccess hello YARN application logs.</span></span>
3. <span data-ttu-id="8c3be-148">Scegliere dal menu superiore hello **Dashboard**.</span><span class="sxs-lookup"><span data-stu-id="8c3be-148">On hello top menu, click **Dashboard**.</span></span> <span data-ttu-id="8c3be-149">Verrà aperta una pagina in una nuova scheda del browser denominata **Console query HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="8c3be-149">You will see a page opened on a new browser tab called **HDInsight Query Console**.</span></span>
4. <span data-ttu-id="8c3be-150">In **HDInsight Query Console** (Console query HDInsight) fare clic su **Yarn UI** (UI YARN).</span><span class="sxs-lookup"><span data-stu-id="8c3be-150">From **HDInsight Query Console**, click **Yarn UI**.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
