---
title: aaaProvision e distribuire microservizi in modo prevedibile in Azure
description: "Informazioni su come toodeploy un'applicazione è costituito da microservizi nel servizio App di Azure come unità singola e prevedibile utilizzando modelli di gruppo di risorse JSON e script di PowerShell."
services: app-service
documentationcenter: 
author: cephalin
manager: erikre
editor: jimbe
ms.assetid: bb51e565-e462-4c60-929a-2ff90121f41d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/06/2016
ms.author: cephalin
ms.openlocfilehash: d32c2fc82a8b09e89224ec437e5819b65b2e9e78
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="provision-and-deploy-microservices-predictably-in-azure"></a><span data-ttu-id="3ef83-103">Effettuare il provisioning di microservizi e distribuirli in modo prevedibile in Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-103">Provision and deploy microservices predictably in Azure</span></span>
<span data-ttu-id="3ef83-104">Questa esercitazione viene illustrato come tooprovision e distribuire un'applicazione composta da [microservizi](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) come unità singola e prevedibile utilizzando modelli di gruppo di risorse JSON e Creazione di script di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3ef83-104">This tutorial shows how tooprovision and deploy an application composed of [microservices](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) as a single unit and in a predictable manner using JSON resource group templates and PowerShell scripting.</span></span> 

<span data-ttu-id="3ef83-105">Quando il provisioning e la distribuzione di applicazioni a scalabilità elevata che sono composti di microservizi estremamente separata, ripetibilità e la prevedibilità sono toosuccess fondamentale.</span><span class="sxs-lookup"><span data-stu-id="3ef83-105">When provisioning and deploying high-scale applications that are composed of highly decoupled microservices, repeatability and predictability are crucial toosuccess.</span></span> <span data-ttu-id="3ef83-106">[Servizio App di Azure](/services/app-service/) consente microservizi toocreate che includono le app web, App mobile, App per le API e App per la logica.</span><span class="sxs-lookup"><span data-stu-id="3ef83-106">[Azure App Service](/services/app-service/) enables you toocreate microservices that include web apps, mobile apps, API apps, and logic apps.</span></span> <span data-ttu-id="3ef83-107">[Gestione risorse di Azure](../azure-resource-manager/resource-group-overview.md) consente si toomanage microservizi hello tutti come un'unità, insieme alle dipendenze delle risorse, ad esempio impostazioni di controllo di origine e del database.</span><span class="sxs-lookup"><span data-stu-id="3ef83-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) enables you toomanage all hello microservices as a unit, together with resource dependencies such as database and source control settings.</span></span> <span data-ttu-id="3ef83-108">A questo punto è possibile distribuire l'applicazione usando modelli JSON e semplici script di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3ef83-108">Now, you can also deploy such an application using JSON templates and simple PowerShell scripting.</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="what-you-will-do"></a><span data-ttu-id="3ef83-109">Contenuto dell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="3ef83-109">What you will do</span></span>
<span data-ttu-id="3ef83-110">Nell'esercitazione di hello, distribuire un'applicazione che comprende:</span><span class="sxs-lookup"><span data-stu-id="3ef83-110">In hello tutorial, you will deploy an application that includes:</span></span>

* <span data-ttu-id="3ef83-111">Due app Web (ovvero due microservizi)</span><span class="sxs-lookup"><span data-stu-id="3ef83-111">Two web apps (i.e. two microservices)</span></span>
* <span data-ttu-id="3ef83-112">Un database SQL di back-end</span><span class="sxs-lookup"><span data-stu-id="3ef83-112">A backend SQL Database</span></span>
* <span data-ttu-id="3ef83-113">Impostazioni dell'app, stringhe di connessione e controllo del codice sorgente</span><span class="sxs-lookup"><span data-stu-id="3ef83-113">App settings, connection strings, and source control</span></span>
* <span data-ttu-id="3ef83-114">Application Insights, avvisi, impostazioni di scalabilità automatica</span><span class="sxs-lookup"><span data-stu-id="3ef83-114">Application insights, alerts, autoscaling settings</span></span>

## <a name="tools-you-will-use"></a><span data-ttu-id="3ef83-115">Strumenti da usare</span><span class="sxs-lookup"><span data-stu-id="3ef83-115">Tools you will use</span></span>
<span data-ttu-id="3ef83-116">In questa esercitazione si utilizzerà hello gli strumenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="3ef83-116">In this tutorial, you will use hello following tools.</span></span> <span data-ttu-id="3ef83-117">Poiché non si tratta di informazioni complete sugli strumenti, si verrà scenario end-to-end di toostick toohello e fornirle tooeach una breve introduzione, e in cui è possibile trovare ulteriori informazioni su di esso.</span><span class="sxs-lookup"><span data-stu-id="3ef83-117">Since it’s not comprehensive discussion on tools, I’m going toostick toohello end-to-end scenario and just give you a brief intro tooeach, and where you can find more information on it.</span></span> 

### <a name="azure-resource-manager-templates-json"></a><span data-ttu-id="3ef83-118">Modelli di Gestione risorse di Azure (JSON)</span><span class="sxs-lookup"><span data-stu-id="3ef83-118">Azure Resource Manager templates (JSON)</span></span>
<span data-ttu-id="3ef83-119">Ogni volta che si crea un'app web in Azure App Service, ad esempio, Gestione risorse di Azure Usa un gruppo JSON modello toocreate hello intera risorsa con le risorse del componente hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-119">Every time you create a web app in Azure App Service, for example, Azure Resource Manager uses a JSON template toocreate hello entire resource group with hello component resources.</span></span> <span data-ttu-id="3ef83-120">Un modello complesso da hello [Azure Marketplace](/marketplace) come hello [WordPress scalabile](/marketplace/partners/wordpress/scalablewordpress/) app può includere database MySQL hello, gli account di archiviazione, hello piano di servizio App, hello web app stessa, le regole di avviso, app impostazioni, le impostazioni di scalabilità automatica e altre e tutti questi modelli sono disponibili tooyou tramite PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3ef83-120">A complex template from hello [Azure Marketplace](/marketplace) like hello [Scalable WordPress](/marketplace/partners/wordpress/scalablewordpress/) app can include hello MySQL database, storage accounts, hello App Service plan, hello web app itself, alert rules, app settings, autoscale settings, and more, and all these templates are available tooyou through PowerShell.</span></span> <span data-ttu-id="3ef83-121">Per informazioni su come toodownload e utilizzare tali modelli, vedere [tramite Azure PowerShell con Azure Resource Manager](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="3ef83-121">For information on how toodownload and use these templates, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>

<span data-ttu-id="3ef83-122">Per ulteriori informazioni sui modelli di hello Azure Resource Manager, vedere [la creazione di modelli di gestione risorse di Azure](../azure-resource-manager/resource-group-authoring-templates.md)</span><span class="sxs-lookup"><span data-stu-id="3ef83-122">For more information on hello Azure Resource Manager templates, see [Authoring Azure Resource Manager Templates](../azure-resource-manager/resource-group-authoring-templates.md)</span></span>

### <a name="azure-sdk-26-for-visual-studio"></a><span data-ttu-id="3ef83-123">Azure SDK 2.6 per Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3ef83-123">Azure SDK 2.6 for Visual Studio</span></span>
<span data-ttu-id="3ef83-124">Hello SDK più recenti contiene miglioramenti toohello il supporto del modello di gestione delle risorse nell'editor di JSON hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-124">hello newest SDK contains improvements toohello Resource Manager template support in hello JSON editor.</span></span> <span data-ttu-id="3ef83-125">È possibile utilizzare questo tooquickly creare un modello di gruppo di risorse da zero o aprire un modello JSON esistente (ad esempio, un modello di raccolta scaricato) per la modifica, compilare i file dei parametri hello e distribuire anche il gruppo di risorse hello direttamente da di Azure Soluzione di gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3ef83-125">You can use this tooquickly create a resource group template from scratch or open an existing JSON template (such as a downloaded gallery template) for modification, populate hello parameters file, and even deploy hello resource group directly from an Azure Resource Group solution.</span></span>

<span data-ttu-id="3ef83-126">Per altre informazioni, vedere [Azure SDK 2.6 per Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span><span class="sxs-lookup"><span data-stu-id="3ef83-126">For more information, see [Azure SDK 2.6 for Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span></span>

### <a name="azure-powershell-080-or-later"></a><span data-ttu-id="3ef83-127">Azure PowerShell 0.8.0 o versione successiva</span><span class="sxs-lookup"><span data-stu-id="3ef83-127">Azure PowerShell 0.8.0 or later</span></span>
<span data-ttu-id="3ef83-128">A partire dalla versione 0.8.0, hello Azure PowerShell installazione include il modulo di gestione risorse di Azure hello in aggiunta toohello modulo di Azure.</span><span class="sxs-lookup"><span data-stu-id="3ef83-128">Beginning in version 0.8.0, hello Azure PowerShell installation includes hello Azure Resource Manager module in addition toohello Azure module.</span></span> <span data-ttu-id="3ef83-129">Questo nuovo modulo consente la distribuzione di hello tooscript di gruppi di risorse.</span><span class="sxs-lookup"><span data-stu-id="3ef83-129">This new module enables you tooscript hello deployment of resource groups.</span></span>

<span data-ttu-id="3ef83-130">Per altre informazioni, vedere [Uso di Azure PowerShell con Gestione risorse di Azure](../powershell-azure-resource-manager.md)</span><span class="sxs-lookup"><span data-stu-id="3ef83-130">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md)</span></span>

### <a name="azure-resource-explorer"></a><span data-ttu-id="3ef83-131">Esplora risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-131">Azure Resource Explorer</span></span>
<span data-ttu-id="3ef83-132">Questo [strumento anteprima](https://resources.azure.com) consente le definizioni di tooexplore hello JSON di tutti i gruppi di risorse hello le singole risorse hello e di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="3ef83-132">This [preview tool](https://resources.azure.com) enables you tooexplore hello JSON definitions of all hello resource groups in your subscription and hello individual resources.</span></span> <span data-ttu-id="3ef83-133">Nello strumento di hello, è possibile modificare le definizioni di hello JSON di una risorsa, eliminare un'intera gerarchia di risorse e creare nuove risorse.</span><span class="sxs-lookup"><span data-stu-id="3ef83-133">In hello tool, you can edit hello JSON definitions of a resource, delete an entire hierarchy of resources, and create new resources.</span></span>  <span data-ttu-id="3ef83-134">informazioni di Hello immediatamente disponibili in questo strumento sono molto utile per la creazione di un modello quanto mostra ciò che occorre tooset per un particolare tipo di risorsa, hello proprietà correggere i valori e così via. È anche possibile creare il gruppo di risorse in hello [portale Azure](https://portal.azure.com/), quindi controllare le relative definizioni JSON in hello Esplora strumento toohelp creare un template da gruppo di risorse hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-134">hello information readily available in this tool is very helpful for template authoring because it shows you what properties you need tooset for a particular type of resource, hello correct values, etc. You can even create your resource group in hello [Azure Portal](https://portal.azure.com/), then inspect its JSON definitions in hello explorer tool toohelp you templatize hello resource group.</span></span>

### <a name="deploy-tooazure-button"></a><span data-ttu-id="3ef83-135">Pulsante tooAzure di distribuzione</span><span class="sxs-lookup"><span data-stu-id="3ef83-135">Deploy tooAzure button</span></span>
<span data-ttu-id="3ef83-136">Se si utilizzano GitHub per controllo del codice sorgente, è possibile inserire un [pulsante tooAzure Distribuisci](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) nel file Leggimi. MD, che consente un tooAzure dell'interfaccia utente di distribuzione di chiavi in mano.</span><span class="sxs-lookup"><span data-stu-id="3ef83-136">If you use GitHub for source control, you can put a [Deploy tooAzure button](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) into your README.MD, which enables a turn-key deployment UI tooAzure.</span></span> <span data-ttu-id="3ef83-137">Mentre è possibile farlo per qualsiasi applicazione web semplice, è possibile estendere questo tooenable la distribuzione di un intero gruppo di risorse mediante l'inserimento di un file azuredeploy.json nella radice del repository hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-137">While you can do this for any simple web app, you can extend this tooenable deploying an entire resource group by putting an azuredeploy.json file in hello repository root.</span></span> <span data-ttu-id="3ef83-138">Questo file JSON, che contiene il modello di gruppo di hello risorse, verrà utilizzato dal gruppo di risorse di hello Distribuisci tooAzure pulsante toocreate hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-138">This JSON file, which contains hello resource group template, will be used by hello Deploy tooAzure button toocreate hello resource group.</span></span> <span data-ttu-id="3ef83-139">Per un esempio, vedere hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) esempio, che verrà utilizzato in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="3ef83-139">For an example, see hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) sample, which you will use in this tutorial.</span></span>

## <a name="get-hello-sample-resource-group-template"></a><span data-ttu-id="3ef83-140">Modello di gruppo di risorse di esempio hello ottenere</span><span class="sxs-lookup"><span data-stu-id="3ef83-140">Get hello sample resource group template</span></span>
<span data-ttu-id="3ef83-141">Ora entriamo tooit destra.</span><span class="sxs-lookup"><span data-stu-id="3ef83-141">So now let’s get right tooit.</span></span>

1. <span data-ttu-id="3ef83-142">Passare toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) esempio di servizio App.</span><span class="sxs-lookup"><span data-stu-id="3ef83-142">Navigate toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) App Service sample.</span></span>
2. <span data-ttu-id="3ef83-143">Nel file readme.md, fare clic su **distribuire tooAzure**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-143">In readme.md, click **Deploy tooAzure**.</span></span>
3. <span data-ttu-id="3ef83-144">Si è eseguito toohello [distribuire in azure](https://deploy.azure.com) del sito e i parametri della distribuzione tooinput frequenti.</span><span class="sxs-lookup"><span data-stu-id="3ef83-144">You’re taken toohello [deploy-to-azure](https://deploy.azure.com) site and asked tooinput deployment parameters.</span></span> <span data-ttu-id="3ef83-145">Si noti che la maggior parte dei campi hello sono popolata con il nome di repository hello e alcune stringhe casuali.</span><span class="sxs-lookup"><span data-stu-id="3ef83-145">Notice that most of hello fields are populated with hello repository name and some random strings for you.</span></span> <span data-ttu-id="3ef83-146">Se si desidera, ma ciò hello è tooenter accesso amministrativo di SQL Server hello e una password di hello, quindi fare clic su, è possibile modificare tutti i campi di hello **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-146">You can change all hello fields if you want, but hello only things you have tooenter are hello SQL Server administrative login and hello password, then click **Next**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-1-deploybuttonui.png)
4. <span data-ttu-id="3ef83-147">Successivamente, fare clic su **Distribuisci** toostart processo di distribuzione hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-147">Next, click **Deploy** toostart hello deployment process.</span></span> <span data-ttu-id="3ef83-148">Dopo l'esecuzione del processo di hello toocompletion, fare clic su hello http://todoapp*XXXX*. hello toobrowse di collegamento azurewebsites.net applicazione distribuita.</span><span class="sxs-lookup"><span data-stu-id="3ef83-148">Once hello process runs toocompletion, click hello http://todoapp*XXXX*.azurewebsites.net link toobrowse hello deployed application.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-2-deployprogress.png)
   
   <span data-ttu-id="3ef83-149">Hello dell'interfaccia utente potrebbe essere leggermente più lenta quando si Sfoglia innanzitutto tooit hello App appena avvio, poiché convincere manualmente che si tratta di un'applicazione completamente funzionale.</span><span class="sxs-lookup"><span data-stu-id="3ef83-149">hello UI would be a little slow when you first browse tooit because hello apps are just starting up, but convince yourself that it’s a fully-functional application.</span></span>
5. <span data-ttu-id="3ef83-150">Nella pagina distribuzione hello, fare clic su hello **Gestisci** collegare la nuova applicazione hello toosee nel portale di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-150">Back in hello Deploy page, click hello **Manage** link toosee hello new application in hello Azure Portal.</span></span>
6. <span data-ttu-id="3ef83-151">In hello **Essentials** elenco a discesa, fare clic sul collegamento di gruppo di risorse hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-151">In hello **Essentials** dropdown, click hello resource group link.</span></span> <span data-ttu-id="3ef83-152">Si noti inoltre che app web hello è già connesso repository GitHub toohello in **progetto esterno**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-152">Note also that hello web app is already connected toohello GitHub repository under **External Project**.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-3-portalresourcegroup.png)
7. <span data-ttu-id="3ef83-153">Nel Pannello di gruppo di risorse hello, si noti che esistono già due App web e un Database SQL nel gruppo di risorse hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-153">In hello resource group blade, note that there are already two web apps and one SQL Database in hello resource group.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-4-portalresourcegroupclicked.png)

<span data-ttu-id="3ef83-154">Tutto ciò che si è visto solo in pochi minuti breve è un'applicazione di due-microservizio completamente distribuito, con tutti i componenti di hello, dipendenze, le impostazioni, database e la pubblicazione continua, impostare da un'orchestrazione automatizzata in Gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="3ef83-154">Everything that you just saw in a few short minutes is a fully deployed two-microservice application, with all hello components, dependencies, settings, database, and continuous publishing, set up by an automated orchestration in Azure Resource Manager.</span></span> <span data-ttu-id="3ef83-155">Tutte le operazioni sono state eseguite da due elementi:</span><span class="sxs-lookup"><span data-stu-id="3ef83-155">All this was done by two things:</span></span>

* <span data-ttu-id="3ef83-156">pulsante di Hello Distribuisci tooAzure</span><span class="sxs-lookup"><span data-stu-id="3ef83-156">hello Deploy tooAzure button</span></span>
* <span data-ttu-id="3ef83-157">azuredeploy.JSON nella radice del repository hello</span><span class="sxs-lookup"><span data-stu-id="3ef83-157">azuredeploy.json in hello repo root</span></span>

<span data-ttu-id="3ef83-158">È possibile distribuire l'applicazione stessa decine, centinaia o migliaia di volte e hello utilizzare la stessa configurazione ogni volta.</span><span class="sxs-lookup"><span data-stu-id="3ef83-158">You can deploy this same application tens, hundreds, or thousands of times and have hello exact same configuration every time.</span></span> <span data-ttu-id="3ef83-159">la prevedibilità ripetibilità e hello Hello di questo approccio consente applicazioni a scalabilità elevata toodeploy con maggiore facilità e affidabilità.</span><span class="sxs-lookup"><span data-stu-id="3ef83-159">hello repeatability and hello predictability of this approach enables you toodeploy high-scale applications with ease and confidence.</span></span>

## <a name="examine-or-edit-azuredeployjson"></a><span data-ttu-id="3ef83-160">Esaminare (o modificare) AZUREDEPLOY.JSON</span><span class="sxs-lookup"><span data-stu-id="3ef83-160">Examine (or edit) AZUREDEPLOY.JSON</span></span>
<span data-ttu-id="3ef83-161">Ora esaminiamo come repository di GitHub hello è stato impostato.</span><span class="sxs-lookup"><span data-stu-id="3ef83-161">Now let’s look at how hello GitHub repository was set up.</span></span> <span data-ttu-id="3ef83-162">Si utilizzerà editor JSON hello in hello Azure .NET SDK, pertanto se è stato ancora installato [Azure .NET SDK 2.6](/downloads/), farlo ora.</span><span class="sxs-lookup"><span data-stu-id="3ef83-162">You will be using hello JSON editor in hello Azure .NET SDK, so if you haven’t already installed [Azure .NET SDK 2.6](/downloads/), do it now.</span></span>

1. <span data-ttu-id="3ef83-163">Hello clone [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repository utilizzando lo strumento preferito git.</span><span class="sxs-lookup"><span data-stu-id="3ef83-163">Clone hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repository using your favorite git tool.</span></span> <span data-ttu-id="3ef83-164">Nella schermata di hello riportata di seguito, questa scelta in Team Explorer in Visual Studio 2013 hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-164">In hello screenshot below, I’m doing this in hello Team Explorer in Visual Studio 2013.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-1-vsclone.png)
2. <span data-ttu-id="3ef83-165">Dalla radice del repository hello, aprire azuredeploy.json in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3ef83-165">From hello repository root, open azuredeploy.json in Visual Studio.</span></span> <span data-ttu-id="3ef83-166">Se non viene visualizzato il riquadro di struttura JSON hello, è necessario tooinstall Azure .NET SDK.</span><span class="sxs-lookup"><span data-stu-id="3ef83-166">If you don’t see hello JSON Outline pane, you need tooinstall Azure .NET SDK.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-2-vsjsoneditor.png)

<span data-ttu-id="3ef83-167">È consapevole di non passare toodescribe ogni dettaglio del formato JSON hello ma hello [più risorse](#resources) sezione vengono forniti i collegamenti per l'apprendimento di linguaggio del modello gruppo di risorse hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-167">I’m not going toodescribe every detail of hello JSON format, but hello [More Resources](#resources) section has links for learning hello resource group template language.</span></span> <span data-ttu-id="3ef83-168">In questo caso, faccio clic tooshow hello interessanti funzionalità che consentono di iniziare a rendere il proprio modello personalizzato per la distribuzione di app.</span><span class="sxs-lookup"><span data-stu-id="3ef83-168">Here, I’m just going tooshow you hello interesting features that can help you get started in making your own custom template for app deployment.</span></span>

### <a name="parameters"></a><span data-ttu-id="3ef83-169">parameters</span><span class="sxs-lookup"><span data-stu-id="3ef83-169">Parameters</span></span>
<span data-ttu-id="3ef83-170">Esaminiamo hello parametri sezione toosee che molti di questi parametri sono quali hello **distribuire tooAzure** pulsante richiede tooinput.</span><span class="sxs-lookup"><span data-stu-id="3ef83-170">Take a look at hello parameters section toosee that most of these parameters are what hello **Deploy tooAzure** button prompts you tooinput.</span></span> <span data-ttu-id="3ef83-171">sito Hello dietro hello **distribuire tooAzure** pulsante Popola hello input dell'interfaccia utente utilizzando i parametri di hello definiti nel azuredeploy.json.</span><span class="sxs-lookup"><span data-stu-id="3ef83-171">hello site behind hello **Deploy tooAzure** button populates hello input UI using hello parameters defined in azuredeploy.json.</span></span> <span data-ttu-id="3ef83-172">Questi parametri sono utilizzati in definizioni di risorse hello, ad esempio i nomi delle risorse, i valori delle proprietà e così via.</span><span class="sxs-lookup"><span data-stu-id="3ef83-172">These parameters are used throughout hello resource definitions, such as resource names, property values, etc.</span></span>

### <a name="resources"></a><span data-ttu-id="3ef83-173">Risorse</span><span class="sxs-lookup"><span data-stu-id="3ef83-173">Resources</span></span>
<span data-ttu-id="3ef83-174">Nel nodo risorse hello, si noterà che le risorse di primo livello 4 vengono definite, tra cui un'istanza di SQL Server, un piano di servizio App e due le app web.</span><span class="sxs-lookup"><span data-stu-id="3ef83-174">In hello resources node, you can see that 4 top-level resources are defined, including a SQL Server instance, an App Service plan, and two web apps.</span></span> 

#### <a name="app-service-plan"></a><span data-ttu-id="3ef83-175">Piano di servizio app</span><span class="sxs-lookup"><span data-stu-id="3ef83-175">App Service plan</span></span>
<span data-ttu-id="3ef83-176">Iniziamo con una risorsa a livello di radice semplice in hello JSON.</span><span class="sxs-lookup"><span data-stu-id="3ef83-176">Let’s start with a simple root-level resource in hello JSON.</span></span> <span data-ttu-id="3ef83-177">Selezionare il piano di servizio App hello denominato hello struttura JSON, **[hostingPlanName]** toohighlight hello codice JSON corrispondente.</span><span class="sxs-lookup"><span data-stu-id="3ef83-177">In hello JSON Outline, click hello App Service plan named **[hostingPlanName]** toohighlight hello corresponding JSON code.</span></span> 

![](./media/app-service-deploy-complex-application-predictably/examinejson-3-appserviceplan.png)

<span data-ttu-id="3ef83-178">Si noti che hello `type` elemento specifica la stringa hello per un piano di servizio App (è stata chiamata una server farm fa volta long, long) e altri elementi e le proprietà vengono compilate utilizzando parametri hello definiti nel file JSON hello e non dispone di questa risorsa le risorse annidate.</span><span class="sxs-lookup"><span data-stu-id="3ef83-178">Note that hello `type` element specifies hello string for an App Service plan (it was called a server farm a long, long time ago), and other elements and properties are filled in using hello parameters defined in hello JSON file, and this resource doesn’t have any nested resources.</span></span>

> [!NOTE]
> <span data-ttu-id="3ef83-179">Si noti inoltre il valore di hello di `apiVersion` indica quale versione di definizione di risorsa JSON per la hello toouse hello API REST con e può influire sulle modalità di formattazione all'interno di hello risorse hello Azure `{}`.</span><span class="sxs-lookup"><span data-stu-id="3ef83-179">Note also that hello value of `apiVersion` tells Azure which version of hello REST API toouse hello JSON resource definition with, and it can affect how hello resource should be formatted inside hello `{}`.</span></span> 
> 
> 

#### <a name="sql-server"></a><span data-ttu-id="3ef83-180">SQL Server</span><span class="sxs-lookup"><span data-stu-id="3ef83-180">SQL Server</span></span>
<span data-ttu-id="3ef83-181">Successivamente, fare clic sulla risorsa di SQL Server hello denominata **SQLServer** in hello struttura JSON.</span><span class="sxs-lookup"><span data-stu-id="3ef83-181">Next, click on hello SQL Server resource named **SQLServer** in hello JSON Outline.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-4-sqlserver.png)

<span data-ttu-id="3ef83-182">Hello nota seguente su hello evidenziato codice JSON:</span><span class="sxs-lookup"><span data-stu-id="3ef83-182">Note hello following about hello highlighted JSON code:</span></span>

* <span data-ttu-id="3ef83-183">utilizzo di Hello dei parametri assicura che siano denominate risorse hello creato e configurate in modo che li rende più coerenti tra loro.</span><span class="sxs-lookup"><span data-stu-id="3ef83-183">hello use of parameters ensures that hello created resources are named and configured in a way that makes them consistent with one another.</span></span>
* <span data-ttu-id="3ef83-184">Hello risorse di SQL Server ha due risorse annidate, ognuno ha un valore diverso per `type`.</span><span class="sxs-lookup"><span data-stu-id="3ef83-184">hello SQLServer resource has two nested resources, each has a different value for `type`.</span></span>
* <span data-ttu-id="3ef83-185">Hello annidati risorse all'interno di `“resources”: […]`, in cui sono definite database hello e regole del firewall hello, hanno un `dependsOn` elemento che specifica l'ID della risorsa di SQL Server a livello di radice di hello risorsa hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-185">hello nested resources inside `“resources”: […]`, where hello database and hello firewall rules are defined, have a `dependsOn` element that specifies hello resource ID of hello root-level SQLServer resource.</span></span> <span data-ttu-id="3ef83-186">In questo modo Azure Resource Manager, "prima di creare la risorsa, che deve essere già presente un'altra risorsa; e, se tale altra risorsa è definita nel modello di hello, quindi creare che uno prima di tutto".</span><span class="sxs-lookup"><span data-stu-id="3ef83-186">This tells Azure Resource Manager, “before you create this resource, that other resource must already exist; and if that other resource is defined in hello template, then create that one first”.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="3ef83-187">Per informazioni dettagliate su come hello toouse `resourceId()` funzione, vedere [funzioni di modello di gestione risorse di Azure](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span><span class="sxs-lookup"><span data-stu-id="3ef83-187">For detailed information on how toouse hello `resourceId()` function, see [Azure Resource Manager Template Functions](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span></span>
  > 
  > 
* <span data-ttu-id="3ef83-188">effetto di hello Hello `dependsOn` elemento è di che Gestione risorse di Azure può sapere quali risorse possono essere create in parallelo e quali risorse devono essere create in sequenza.</span><span class="sxs-lookup"><span data-stu-id="3ef83-188">hello effect of hello `dependsOn` element is that Azure Resource Manager can know which resources can be created in parallel and which resources must be created sequentially.</span></span> 

#### <a name="web-app"></a><span data-ttu-id="3ef83-189">App Web</span><span class="sxs-lookup"><span data-stu-id="3ef83-189">Web app</span></span>
<span data-ttu-id="3ef83-190">A questo punto, passiamo toohello effettivo App web, che sono più complesse.</span><span class="sxs-lookup"><span data-stu-id="3ef83-190">Now, let’s move on toohello actual web apps themselves, which are more complicated.</span></span> <span data-ttu-id="3ef83-191">Fare clic su app web hello [variables('apiSiteName')] in hello struttura JSON toohighlight il codice JSON.</span><span class="sxs-lookup"><span data-stu-id="3ef83-191">Click hello [variables(‘apiSiteName’)] web app in hello JSON Outline toohighlight its JSON code.</span></span> <span data-ttu-id="3ef83-192">Come si noterà, diventa tutto molto più interessante.</span><span class="sxs-lookup"><span data-stu-id="3ef83-192">You’ll notice that things are getting much more interesting.</span></span> <span data-ttu-id="3ef83-193">A tale scopo, parlerò funzionalità hello uno alla volta:</span><span class="sxs-lookup"><span data-stu-id="3ef83-193">For this purpose, I’ll talk about hello features one by one:</span></span>

##### <a name="root-resource"></a><span data-ttu-id="3ef83-194">Risorsa radice</span><span class="sxs-lookup"><span data-stu-id="3ef83-194">Root resource</span></span>
<span data-ttu-id="3ef83-195">app web Hello dipende da due diverse risorse.</span><span class="sxs-lookup"><span data-stu-id="3ef83-195">hello web app depends on two different resources.</span></span> <span data-ttu-id="3ef83-196">Ciò significa che Gestione risorse di Azure consente di creare app web hello solo dopo che entrambi hello piano di servizio App e hello istanza di SQL Server vengono creati.</span><span class="sxs-lookup"><span data-stu-id="3ef83-196">This means that Azure Resource Manager will create hello web app only after both hello App Service plan and hello SQL Server instance are created.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-5-webapproot.png)

##### <a name="app-settings"></a><span data-ttu-id="3ef83-197">Impostazioni app</span><span class="sxs-lookup"><span data-stu-id="3ef83-197">App settings</span></span>
<span data-ttu-id="3ef83-198">le impostazioni dell'app Hello sono anche definite come una risorsa annidata.</span><span class="sxs-lookup"><span data-stu-id="3ef83-198">hello app settings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-6-webappsettings.png)

<span data-ttu-id="3ef83-199">In hello `properties` elemento per `config/appsettings`, si dispone di due impostazioni di app in formato hello `“<name>” : “<value>”`.</span><span class="sxs-lookup"><span data-stu-id="3ef83-199">In hello `properties` element for `config/appsettings`, you have two app settings in hello format `“<name>” : “<value>”`.</span></span>

* <span data-ttu-id="3ef83-200">`PROJECT`è un [impostazione KUDU](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) distribuzione di Azure che indica quale toouse progetto in una soluzione di Visual Studio multiprogetto.</span><span class="sxs-lookup"><span data-stu-id="3ef83-200">`PROJECT` is a [KUDU setting](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) that tells Azure deployment which project toouse in a multi-project Visual Studio solution.</span></span> <span data-ttu-id="3ef83-201">Visualizzerà in un secondo momento come controllo del codice sorgente è configurato, ma poiché hello ToDoApp codice si trova in una soluzione di Visual Studio più progetti, è necessario che questa impostazione.</span><span class="sxs-lookup"><span data-stu-id="3ef83-201">I will show you later how source control is configured, but since hello ToDoApp code is in a multi-project Visual Studio solution, we need this setting.</span></span>
* <span data-ttu-id="3ef83-202">`clientUrl`è semplicemente un'app di cui l'impostazione di tale codice dell'applicazione hello Usa.</span><span class="sxs-lookup"><span data-stu-id="3ef83-202">`clientUrl` is simply an app setting that hello application code uses.</span></span>

##### <a name="connection-strings"></a><span data-ttu-id="3ef83-203">Stringhe di connessione</span><span class="sxs-lookup"><span data-stu-id="3ef83-203">Connection strings</span></span>
<span data-ttu-id="3ef83-204">le stringhe di connessione Hello sono anche definite come una risorsa annidata.</span><span class="sxs-lookup"><span data-stu-id="3ef83-204">hello connection strings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-7-webappconnstr.png)

<span data-ttu-id="3ef83-205">In hello `properties` elemento per `config/connectionstrings`, ogni stringa di connessione è definita come una coppia nome-valore, con formato specifico di hello di `“<name>” : {“value”: “…”, “type”: “…”}`.</span><span class="sxs-lookup"><span data-stu-id="3ef83-205">In hello `properties` element for `config/connectionstrings`, each connection string is also defined as a name:value pair, with hello specific format of `“<name>” : {“value”: “…”, “type”: “…”}`.</span></span> <span data-ttu-id="3ef83-206">Per hello `type` elemento, i valori possibili sono `MySql`, `SQLServer`, `SQLAzure`, e `Custom`.</span><span class="sxs-lookup"><span data-stu-id="3ef83-206">For hello `type` element, possible values are `MySql`, `SQLServer`, `SQLAzure`, and `Custom`.</span></span>

> [!TIP]
> <span data-ttu-id="3ef83-207">Per un elenco dei tipi di stringa di connessione hello definitivo, eseguire hello comando in Azure PowerShell seguente: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span><span class="sxs-lookup"><span data-stu-id="3ef83-207">For a definitive list of hello connection string types, run hello following command in Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span></span>
> 
> 

##### <a name="source-control"></a><span data-ttu-id="3ef83-208">Controllo del codice sorgente</span><span class="sxs-lookup"><span data-stu-id="3ef83-208">Source control</span></span>
<span data-ttu-id="3ef83-209">le impostazioni di codice sorgente Hello sono anche definite come una risorsa annidata.</span><span class="sxs-lookup"><span data-stu-id="3ef83-209">hello source control settings are also defined as a nested resource.</span></span> <span data-ttu-id="3ef83-210">Gestione risorse di Azure Usa questa risorsa tooconfigure continua la pubblicazione (vedere però `IsManualIntegration` in un secondo momento) e anche tookick la distribuzione di hello del codice dell'applicazione automaticamente durante l'elaborazione di hello del file JSON hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-210">Azure Resource Manager uses this resource tooconfigure continuous publishing (see caveat on `IsManualIntegration` later) and also tookick off hello deployment of application code automatically during hello processing of hello JSON file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-8-webappsourcecontrol.png)

<span data-ttu-id="3ef83-211">`RepoUrl`e `branch` deve essere molto intuitivo e deve puntare toohello Git repository e hello il nome di hello ramo toopublish da.</span><span class="sxs-lookup"><span data-stu-id="3ef83-211">`RepoUrl` and `branch` should be pretty intuitive and should point toohello Git repository and hello name of hello branch toopublish from.</span></span> <span data-ttu-id="3ef83-212">Anche in questo caso, sono definite dai parametri di input.</span><span class="sxs-lookup"><span data-stu-id="3ef83-212">Again, these are defined by input parameters.</span></span> 

<span data-ttu-id="3ef83-213">Nota in hello `dependsOn` elemento che, in aggiunta toohello web risorsa app stessa, `sourcecontrols/web` dipende anche dalla `config/appsettings` e `config/connectionstrings`.</span><span class="sxs-lookup"><span data-stu-id="3ef83-213">Note in hello `dependsOn` element that, in addition toohello web app resource itself, `sourcecontrols/web` also depends on `config/appsettings` and `config/connectionstrings`.</span></span> <span data-ttu-id="3ef83-214">Infatti, una volta `sourcecontrols/web` è configurato, il processo di distribuzione di Azure hello tenterà automaticamente toodeploy, compilare e avviare il codice dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-214">This is because once `sourcecontrols/web` is configured, hello Azure deployment process will automatically attempt toodeploy, build, and start hello application code.</span></span> <span data-ttu-id="3ef83-215">Pertanto, inserimento consente questa dipendenza è assicurarsi che tale applicazione hello con accesso toohello necessarie app impostazioni e le stringhe di connessione prima di eseguita il codice dell'applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-215">Therefore, inserting this dependency helps you make sure that hello application has access toohello required app settings and connection strings before hello application code is run.</span></span> 

> [!NOTE]
> <span data-ttu-id="3ef83-216">Si noti inoltre che `IsManualIntegration` è troppo`true`.</span><span class="sxs-lookup"><span data-stu-id="3ef83-216">Note also that `IsManualIntegration` is set too`true`.</span></span> <span data-ttu-id="3ef83-217">Questa proprietà è necessaria in questa esercitazione perché non sono effettivamente proprietari repository GitHub hello e pertanto non è effettivamente concedere autorizzazioni tooAzure tooconfigure la pubblicazione continua da [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (ad esempio push automatico repository aggiornato tooAzure).</span><span class="sxs-lookup"><span data-stu-id="3ef83-217">This property is necessary in this tutorial because you do not actually own hello GitHub repository, and thus cannot actually grant permission tooAzure tooconfigure continuous publishing from [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (i.e. push automatic repository updates tooAzure).</span></span> <span data-ttu-id="3ef83-218">È possibile utilizzare il valore di predefinito hello `false` per il repository specificato di hello solo se è stato configurato credenziali per GitHub del proprietario hello hello [portale di Azure](https://portal.azure.com/) prima.</span><span class="sxs-lookup"><span data-stu-id="3ef83-218">You can use hello default value `false` for hello specified repository only if you have configured hello owner’s GitHub credentials in hello [Azure portal](https://portal.azure.com/) before.</span></span> <span data-ttu-id="3ef83-219">In altre parole, se è stata impostata una origine controllo tooGitHub o BitBucket per qualsiasi app in hello [portale Azure](https://portal.azure.com/) in precedenza, l'utente con credenziali, Azure verrà Memorizza credenziali hello e usarli ogni volta che si distribuisce un'app dello GitHub o BitBucket in hello future.</span><span class="sxs-lookup"><span data-stu-id="3ef83-219">In other words, if you have set up source control tooGitHub or BitBucket for any app in hello [Azure Portal](https://portal.azure.com/) previously, using your user credentials, then Azure will remember hello credentials and use them whenever you deploy any app from GitHub or BitBucket in hello future.</span></span> <span data-ttu-id="3ef83-220">Tuttavia, se questo non già, la distribuzione del modello JSON hello avrà esito negativo quando Gestione risorse di Azure tenta le impostazioni di codice sorgente dell'app di tooconfigure hello web perché Impossibile accedere a GitHub o BitBucket con credenziali del proprietario del repository hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-220">However, if you haven’t done this already, deployment of hello JSON template will fail when Azure Resource Manager tries tooconfigure hello web app’s source control settings because it cannot log into GitHub or BitBucket with hello repository owner’s credentials.</span></span>
> 
> 

## <a name="compare-hello-json-template-with-deployed-resource-group"></a><span data-ttu-id="3ef83-221">Confrontare il modello JSON hello con gruppo di risorse distribuite</span><span class="sxs-lookup"><span data-stu-id="3ef83-221">Compare hello JSON template with deployed resource group</span></span>
<span data-ttu-id="3ef83-222">In questo caso, è possibile passare attraverso pannelli tutti hello dell'app web in hello [portale Azure](https://portal.azure.com/), ma non esiste un altro strumento che come utile, se non è più.</span><span class="sxs-lookup"><span data-stu-id="3ef83-222">Here, you can go through all hello web app’s blades in hello [Azure Portal](https://portal.azure.com/), but there’s another tool that’s just as useful, if not more.</span></span> <span data-ttu-id="3ef83-223">Passare toohello [Esplora inventario risorse di Azure](https://resources.azure.com) strumento di anteprima, che offre una rappresentazione JSON di tutti i gruppi di risorse hello le sottoscrizioni, in cui si trovano in realtà in hello Azure back-end.</span><span class="sxs-lookup"><span data-stu-id="3ef83-223">Go toohello [Azure Resource Explorer](https://resources.azure.com) preview tool, which gives you a JSON representation of all hello resource groups in your subscriptions, as they actually exist in hello Azure backend.</span></span> <span data-ttu-id="3ef83-224">È possibile anche informazioni sulla gerarchia JSON del gruppo di risorse hello in Azure con gerarchia hello nel file di modello hello utilizzati toocreate.</span><span class="sxs-lookup"><span data-stu-id="3ef83-224">You can also see how hello resource group’s JSON hierarchy in Azure corresponds with hello hierarchy in hello template file that’s used toocreate it.</span></span>

<span data-ttu-id="3ef83-225">Ad esempio, quando passa toohello [Esplora inventario risorse di Azure](https://resources.azure.com) strumento ed espandere i nodi di hello in Esplora hello, è possibile visualizzare il gruppo di risorse di hello e le risorse a livello di radice hello che vengono raccolti con i relativi tipi di risorse corrispondente.</span><span class="sxs-lookup"><span data-stu-id="3ef83-225">For example, when I go toohello [Azure Resource Explorer](https://resources.azure.com) tool and expand hello nodes in hello explorer, I can see hello resource group and hello root-level resources that are collected under their respective resource types.</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-1-treeview.png)

<span data-ttu-id="3ef83-226">Se il drill-down tooa web app, dovrebbe essere in grado di toosee web app configurazione dettagli simili toohello seguente schermata:</span><span class="sxs-lookup"><span data-stu-id="3ef83-226">If you drill down tooa web app, you should be able toosee web app configuration details similar toohello below screenshot:</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-2-jsonview.png)

<span data-ttu-id="3ef83-227">Nuovamente, hello risorse annidate devono avere un toothose molto simili gerarchia nel file di modello JSON e dovrebbe essere impostazioni app hello, le stringhe di connessione e così via, adeguatamente riflesso nel riquadro di hello JSON.</span><span class="sxs-lookup"><span data-stu-id="3ef83-227">Again, hello nested resources should have a hierarchy very similar toothose in your JSON template file, and you should see hello app settings, connection strings, etc., properly reflected in hello JSON pane.</span></span> <span data-ttu-id="3ef83-228">Hello l'assenza di impostazioni può indicare un problema con il file JSON e può consentire di risolvere il file di modello JSON.</span><span class="sxs-lookup"><span data-stu-id="3ef83-228">hello absence of settings here may indicate an issue with your JSON file and can help you troubleshoot your JSON template file.</span></span>

## <a name="deploy-hello-resource-group-template-yourself"></a><span data-ttu-id="3ef83-229">Distribuire modello gruppo di risorse hello manualmente</span><span class="sxs-lookup"><span data-stu-id="3ef83-229">Deploy hello resource group template yourself</span></span>
<span data-ttu-id="3ef83-230">Hello **distribuire tooAzure** pulsante è molto utile, ma consente modello gruppo di risorse hello toodeploy in azuredeploy.json solo se si dispone già inserito azuredeploy.json tooGitHub.</span><span class="sxs-lookup"><span data-stu-id="3ef83-230">hello **Deploy tooAzure** button is great, but it allows you toodeploy hello resource group template in azuredeploy.json only if you have already pushed azuredeploy.json tooGitHub.</span></span> <span data-ttu-id="3ef83-231">Hello Azure .NET SDK fornisce inoltre strumenti hello per si toodeploy qualsiasi file di modello JSON direttamente dal computer locale.</span><span class="sxs-lookup"><span data-stu-id="3ef83-231">hello Azure .NET SDK also provides hello tools for you toodeploy any JSON template file directly from your local machine.</span></span> <span data-ttu-id="3ef83-232">toodo, questa procedura hello seguire seguente:</span><span class="sxs-lookup"><span data-stu-id="3ef83-232">toodo this, follow hello steps below:</span></span>

1. <span data-ttu-id="3ef83-233">In Visual Studio fare clic su **File** > **Nuovo** > **Progetto**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-233">In Visual Studio, click **File** > **New** > **Project**.</span></span>
2. <span data-ttu-id="3ef83-234">Fare clic su **Visual C#** > **Cloud** > **Gruppo di risorse di Azure**, quindi su **OK**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-234">Click **Visual C#** > **Cloud** > **Azure Resource Group**, then click **OK**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-1-vsproject.png)
3. <span data-ttu-id="3ef83-235">In **Seleziona modello di Azure** selezionare **Modello vuoto** e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-235">In **Select Azure Template**, select **Blank Template** and click **OK**.</span></span>
4. <span data-ttu-id="3ef83-236">Trascinare azuredeploy.json in hello **modello** cartella del nuovo progetto.</span><span class="sxs-lookup"><span data-stu-id="3ef83-236">Drag azuredeploy.json into hello **Template** folder of your new project.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-2-copyjson.png)
5. <span data-ttu-id="3ef83-237">In Esplora soluzioni, aprire azuredeploy.json hello copiato.</span><span class="sxs-lookup"><span data-stu-id="3ef83-237">From Solution Explorer, open hello copied azuredeploy.json.</span></span>
6. <span data-ttu-id="3ef83-238">Solo per i migliori risultati hello di dimostrazione hello, aggiungere alcuni standard Application Insights tooour JSON file di risorse, fare clic su **Aggiungi risorsa**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-238">Just for hello sake of hello demonstration, let’s add some standard Application Insight resources tooour JSON file, by clicking **Add Resource**.</span></span> <span data-ttu-id="3ef83-239">Se si è interessati solo nella distribuzione di file JSON hello, ignorare i passaggi di distribuzione toohello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-239">If you’re just interested in deploying hello JSON file, skip toohello deploy steps.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-3-newresource.png)
7. <span data-ttu-id="3ef83-240">Selezionare **Application Insights per app Web**, assicurarsi che siano selezionati un piano di servizio app esistente e un'app Web e quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-240">Select **Application Insights for Web Apps**, then make sure an existing App Service plan and web app is selected, and then click **Add**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-4-newappinsight.png)
   
   <span data-ttu-id="3ef83-241">Sarà ora essere in grado di toosee diverse nuove risorse che, a seconda della risorsa hello e funzionalità, presentano dipendenze entrambi hello app web del piano o hello servizio App.</span><span class="sxs-lookup"><span data-stu-id="3ef83-241">You’ll now be able toosee several new resources that, depending on hello resource and what it does, have dependencies on either hello App Service plan or hello web app.</span></span> <span data-ttu-id="3ef83-242">Queste risorse non sono abilitate per la definizione esistente e sarà toochange che.</span><span class="sxs-lookup"><span data-stu-id="3ef83-242">These resources are not enabled by their existing definition and you’re going toochange that.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-5-appinsightresources.png)
8. <span data-ttu-id="3ef83-243">Nella struttura JSON hello, fare clic su **appInsights scalabilità automatica** toohighlight il codice JSON.</span><span class="sxs-lookup"><span data-stu-id="3ef83-243">In hello JSON Outline, click **appInsights AutoScale** toohighlight its JSON code.</span></span> <span data-ttu-id="3ef83-244">Si tratta di hello scalabilità impostazione per il piano di servizio App.</span><span class="sxs-lookup"><span data-stu-id="3ef83-244">This is hello scaling setting for your App Service plan.</span></span>
9. <span data-ttu-id="3ef83-245">Nel codice evidenziato di JSON hello, individuare hello `location` e `enabled` proprietà e impostarli come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="3ef83-245">In hello highlighted JSON code, locate hello `location` and `enabled` properties and set them as shown below.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-6-autoscalesettings.png)
10. <span data-ttu-id="3ef83-246">Nella struttura JSON hello, fare clic su **CPUHigh appInsights** toohighlight il codice JSON.</span><span class="sxs-lookup"><span data-stu-id="3ef83-246">In hello JSON Outline, click **CPUHigh appInsights** toohighlight its JSON code.</span></span> <span data-ttu-id="3ef83-247">Si tratta di un avviso.</span><span class="sxs-lookup"><span data-stu-id="3ef83-247">This is an alert.</span></span>
11. <span data-ttu-id="3ef83-248">Individuare hello `location` e `isEnabled` proprietà e impostarli come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="3ef83-248">Locate hello `location` and `isEnabled` properties and set them as shown below.</span></span> <span data-ttu-id="3ef83-249">Hello stesso per hello altri tre avvisi (lampadine viola).</span><span class="sxs-lookup"><span data-stu-id="3ef83-249">Do hello same for hello other three alerts (purple bulbs).</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-7-alerts.png)
12. <span data-ttu-id="3ef83-250">A questo punto si toodeploy pronto.</span><span class="sxs-lookup"><span data-stu-id="3ef83-250">You’re now ready toodeploy.</span></span> <span data-ttu-id="3ef83-251">Fare clic sul progetto hello e selezionare **Distribuisci** > **nuova distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-251">Right-click hello project and select **Deploy** > **New Deployment**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-8-newdeployment.png)
13. <span data-ttu-id="3ef83-252">Accedere al proprio account Azure, se non si è già connessi.</span><span class="sxs-lookup"><span data-stu-id="3ef83-252">Log into your Azure account if you haven’t already done so.</span></span>
14. <span data-ttu-id="3ef83-253">Selezionare un gruppo di risorse esistente nella sottoscrizione o creare un nuovo gruppo, selezionare **azuredeploy.json**, quindi fare clic su **Modifica parametri**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-253">Select an existing resource group in your subscription or create a new one, select **azuredeploy.json**, and then click **Edit Parameters**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-9-deployconfig.png)
    
    <span data-ttu-id="3ef83-254">Sarà ora in grado di tooedit tutti i parametri di hello è definiti nel file di modello hello in una tabella nice.</span><span class="sxs-lookup"><span data-stu-id="3ef83-254">You’ll now be able tooedit all hello parameters defined in hello template file in a nice table.</span></span> <span data-ttu-id="3ef83-255">I parametri che definiscono i valori predefiniti avranno già i relativi valori predefiniti e i parametri che definiscono un elenco di valori consentiti saranno visualizzati come elenchi a discesa.</span><span class="sxs-lookup"><span data-stu-id="3ef83-255">Parameters that define defaults will already have their default values, and parameters that define a list of allowed values will be shown as dropdowns.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-10-parametereditor.png)
15. <span data-ttu-id="3ef83-256">Compilare tutti i parametri vuoto hello e utilizzare hello [indirizzo repository GitHub per ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **URL repository**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-256">Fill in all hello empty parameters, and use hello [GitHub repo address for ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **repoUrl**.</span></span> <span data-ttu-id="3ef83-257">Fare quindi clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-257">Then, click **Save**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-11-parametereditorfilled.png)
    
    > [!NOTE]
    > <span data-ttu-id="3ef83-258">La scalabilità automatica è una funzionalità disponibile in **Standard** livello o superiore, a livello di piano e gli avvisi sono funzionalità offerte da **base** livello o superiore, è necessario hello tooset **sku** parametro troppo**Standard** o **Premium** in ordine toosee tutte le nuove App Insights risorse chiara backup.</span><span class="sxs-lookup"><span data-stu-id="3ef83-258">Autoscaling is a feature offered in **Standard** tier or higher, and plan-level alerts are features offered in **Basic** tier or higher, you’ll need tooset hello **sku** parameter too**Standard** or **Premium** in order toosee all your new App Insights resources light up.</span></span>
    > 
    > 
16. <span data-ttu-id="3ef83-259">Fare clic su **Distribuisci**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-259">Click **Deploy**.</span></span> <span data-ttu-id="3ef83-260">Se si seleziona **salvare le password**, hello password verrà salvata nel file di parametro hello **in testo normale**.</span><span class="sxs-lookup"><span data-stu-id="3ef83-260">If you selected **Save passwords**, hello password will be saved in hello parameter file **in plain text**.</span></span> <span data-ttu-id="3ef83-261">In caso contrario, verrà chiesto password del database hello tooinput durante il processo di distribuzione hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-261">Otherwise, you’ll be asked tooinput hello database password during hello deployment process.</span></span>

<span data-ttu-id="3ef83-262">La procedura è terminata.</span><span class="sxs-lookup"><span data-stu-id="3ef83-262">That’s it!</span></span> <span data-ttu-id="3ef83-263">Ora è sufficiente toogo toohello [portale Azure](https://portal.azure.com/) hello e [Esplora inventario risorse di Azure](https://resources.azure.com) toosee strumento hello nuovi avvisi e impostazioni di scalabilità automatica aggiunto tooyour JSON applicazione distribuita.</span><span class="sxs-lookup"><span data-stu-id="3ef83-263">Now you just need toogo toohello [Azure Portal](https://portal.azure.com/) and hello [Azure Resource Explorer](https://resources.azure.com) tool toosee hello new alerts and autoscale settings added tooyour JSON deployed application.</span></span>

<span data-ttu-id="3ef83-264">I passaggi in questa sezione viene eseguita principalmente seguente hello:</span><span class="sxs-lookup"><span data-stu-id="3ef83-264">Your steps in this section mainly accomplished hello following:</span></span>

1. <span data-ttu-id="3ef83-265">File di modello hello preparata</span><span class="sxs-lookup"><span data-stu-id="3ef83-265">Prepared hello template file</span></span>
2. <span data-ttu-id="3ef83-266">Creare un toogo di file di parametro con file di modello hello</span><span class="sxs-lookup"><span data-stu-id="3ef83-266">Created a parameter file toogo with hello template file</span></span>
3. <span data-ttu-id="3ef83-267">File di modello hello distribuito con il file di parametro hello</span><span class="sxs-lookup"><span data-stu-id="3ef83-267">Deployed hello template file with hello parameter file</span></span>

<span data-ttu-id="3ef83-268">ultimo passaggio Hello avviene facilmente da un cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3ef83-268">hello last step is easily done by a PowerShell cmdlet.</span></span> <span data-ttu-id="3ef83-269">toosee cosa ha Visual Studio quando distribuito il AzureResourceGroup.ps1 dell'applicazione, aprire Scripts\Deploy.</span><span class="sxs-lookup"><span data-stu-id="3ef83-269">toosee what Visual Studio did when it deployed your application, open Scripts\Deploy-AzureResourceGroup.ps1.</span></span> <span data-ttu-id="3ef83-270">È una grande quantità di codice non esiste, ma aggiungo toohighlight tutto il codice pertinente hello toodeploy hello modello file con file di parametro hello è necessario.</span><span class="sxs-lookup"><span data-stu-id="3ef83-270">There’s a lot of code there, but I’m just going toohighlight all hello pertinent code you need toodeploy hello template file with hello parameter file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/deploy-12-powershellsnippet.png)

<span data-ttu-id="3ef83-271">Hello ultimo cmdlet, `New-AzureResourceGroup`, è hello che effettivamente esegue hello azione.</span><span class="sxs-lookup"><span data-stu-id="3ef83-271">hello last cmdlet, `New-AzureResourceGroup`, is hello one that actually performs hello action.</span></span> <span data-ttu-id="3ef83-272">Tutte queste deve dimostrare che, con l'aiuto di hello di strumenti, è relativamente semplice toodeploy tooyou l'applicazione del cloud in modo prevedibile.</span><span class="sxs-lookup"><span data-stu-id="3ef83-272">All this should demonstrate tooyou that, with hello help of tooling, it is relatively straightforward toodeploy your cloud application predictably.</span></span> <span data-ttu-id="3ef83-273">Ogni volta che si esegue il cmdlet di hello in hello stesso modello con hello stesso file di parametro, si userà tooget hello stesso risultato.</span><span class="sxs-lookup"><span data-stu-id="3ef83-273">Every time you run hello cmdlet on hello same template with hello same parameter file, you’re going tooget hello same result.</span></span>

## <a name="summary"></a><span data-ttu-id="3ef83-274">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="3ef83-274">Summary</span></span>
<span data-ttu-id="3ef83-275">DevOps, ripetibilità e la prevedibilità di distribuzione tooany le chiavi di un'applicazione a scalabilità elevata composta da microservizi.</span><span class="sxs-lookup"><span data-stu-id="3ef83-275">In DevOps, repeatability and predictability are keys tooany successful deployment of a high-scale application composed of microservices.</span></span> <span data-ttu-id="3ef83-276">In questa esercitazione è stato distribuito un tooAzure applicazione due microservizio come un singolo gruppo di risorse utilizzando il modello di gestione risorse di Azure hello.</span><span class="sxs-lookup"><span data-stu-id="3ef83-276">In this tutorial, you have deployed a two-microservice application tooAzure as a single resource group using hello Azure Resource Manager template.</span></span> <span data-ttu-id="3ef83-277">Probabilmente, riceve hello Knowledge Base, è necessario in ordine toostart conversione dell'applicazione in Azure in un modello e può eseguire il provisioning e distribuirlo in modo prevedibile.</span><span class="sxs-lookup"><span data-stu-id="3ef83-277">Hopefully, it has given you hello knowledge you need in order toostart converting your application in Azure into a template and can provision and deploy it predictably.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="3ef83-278">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="3ef83-278">Next Steps</span></span>
<span data-ttu-id="3ef83-279">Scoprire come troppo[si applicano le metodologie agile e pubblicare l'applicazione di microservizi con facilità](app-service-agile-software-development.md) e tecniche di distribuzione come avanzate [anteprima distribuzione](app-service-web-test-in-production-controlled-test-flight.md) facilmente.</span><span class="sxs-lookup"><span data-stu-id="3ef83-279">Find out how too[apply agile methodologies and continuously publish your microservices application with ease](app-service-agile-software-development.md) and advanced deployment techniques like [flighting deployment](app-service-web-test-in-production-controlled-test-flight.md) easily.</span></span>

<a name="resources"></a>

## <a name="more-resources"></a><span data-ttu-id="3ef83-280">Altre risorse</span><span class="sxs-lookup"><span data-stu-id="3ef83-280">More resources</span></span>
* [<span data-ttu-id="3ef83-281">Linguaggio del modello di Gestione risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-281">Azure Resource Manager Template Language</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="3ef83-282">Creazione di modelli di Gestione risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-282">Authoring Azure Resource Manager Templates</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="3ef83-283">Funzioni del modello di Gestione risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-283">Azure Resource Manager Template Functions</span></span>](../azure-resource-manager/resource-group-template-functions.md)
* [<span data-ttu-id="3ef83-284">Distribuire un'applicazione con un modello di Gestione risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-284">Deploy an application with Azure Resource Manager template</span></span>](../azure-resource-manager/resource-group-template-deploy.md)
* [<span data-ttu-id="3ef83-285">Uso di Azure PowerShell con Gestione risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-285">Using Azure PowerShell with Azure Resource Manager</span></span>](../azure-resource-manager/powershell-azure-resource-manager.md)
* [<span data-ttu-id="3ef83-286">Risoluzione dei problemi relativi alle distribuzioni di gruppi di risorse in Azure</span><span class="sxs-lookup"><span data-stu-id="3ef83-286">Troubleshooting Resource Group Deployments in Azure</span></span>](../azure-resource-manager/resource-manager-common-deployment-errors.md)

