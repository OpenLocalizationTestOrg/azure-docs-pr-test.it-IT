---
title: Cosa fare in caso di interruzione di Archiviazione di Azure | Microsoft Docs
description: Cosa fare in caso di interruzione di Archiviazione di Azure
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 8f040b0f-8926-4831-ac07-79f646f31926
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 1/19/2017
ms.author: robinsh
ms.openlocfilehash: 83ab487f382eb84aa64b927bdf5560eec5cbbd6d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2017
---
# <a name="what-to-do-if-an-azure-storage-outage-occurs"></a><span data-ttu-id="e2405-103">Cosa fare se si verifica un'interruzione di Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="e2405-103">What to do if an Azure Storage outage occurs</span></span>
<span data-ttu-id="e2405-104">Microsoft si impegna costantemente per verificare che i servizi siano sempre disponibili.</span><span class="sxs-lookup"><span data-stu-id="e2405-104">At Microsoft, we work hard to make sure our services are always available.</span></span> <span data-ttu-id="e2405-105">A volte si verificano eventi al di fuori del controllo di Microsoft, che causano interruzioni non pianificate dei servizi in una o più aree.</span><span class="sxs-lookup"><span data-stu-id="e2405-105">Sometimes, forces beyond our control impact us in ways that cause unplanned service outages in one or more regions.</span></span> <span data-ttu-id="e2405-106">Per riuscire a gestire questi sporadici avvenimenti, viene fornita la guida generale seguente per i servizi di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="e2405-106">To help you handle these rare occurrences, we provide the following high-level guidance for Azure Storage services.</span></span>

## <a name="how-to-prepare"></a><span data-ttu-id="e2405-107">Come prepararsi</span><span class="sxs-lookup"><span data-stu-id="e2405-107">How to prepare</span></span>
<span data-ttu-id="e2405-108">È fondamentale che ogni cliente prepari il proprio piano di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="e2405-108">It is critical for every customer to prepare their own disaster recovery plan.</span></span> <span data-ttu-id="e2405-109">Il processo per eseguire il ripristino dopo un'interruzione dell'archiviazione comporta in genere sia il coinvolgimento del personale addetto alle attività operative che procedure automatizzate per riattivare le applicazioni in uno stato funzionante.</span><span class="sxs-lookup"><span data-stu-id="e2405-109">The effort to recover from a storage outage typically involves both operations personnel and automated procedures in order to reactivate your applications in a functioning state.</span></span> <span data-ttu-id="e2405-110">Per creare un piano di ripristino di emergenza, vedere la documentazione di Azure seguente:</span><span class="sxs-lookup"><span data-stu-id="e2405-110">Please refer to the Azure documentation below to build your own disaster recovery plan:</span></span>

* [<span data-ttu-id="e2405-111">Ripristino di emergenza e disponibilità elevata per le applicazioni Azure</span><span class="sxs-lookup"><span data-stu-id="e2405-111">Disaster recovery and high availability for Azure applications</span></span>](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)
* [<span data-ttu-id="e2405-112">Indicazioni tecniche sulla resilienza di Azure</span><span class="sxs-lookup"><span data-stu-id="e2405-112">Azure resiliency technical guidance</span></span>](../resiliency/resiliency-technical-guidance.md)
* [<span data-ttu-id="e2405-113">Servizio Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="e2405-113">Azure Site Recovery service</span></span>](https://azure.microsoft.com/services/site-recovery/)
* [<span data-ttu-id="e2405-114">Replica di Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="e2405-114">Azure Storage replication</span></span>](storage-redundancy.md)
* [<span data-ttu-id="e2405-115">Servizio Backup di Azure</span><span class="sxs-lookup"><span data-stu-id="e2405-115">Azure Backup service</span></span>](https://azure.microsoft.com/services/backup/)

## <a name="how-to-detect"></a><span data-ttu-id="e2405-116">Come rilevare il problema</span><span class="sxs-lookup"><span data-stu-id="e2405-116">How to detect</span></span>
<span data-ttu-id="e2405-117">Il modo consigliato per determinare lo stato dei servizi di Azure consiste nel sottoscrivere il [Dashboard per l'integrità dei servizi di Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="e2405-117">The recommended way to determine the Azure service status is to subscribe to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

## <a name="what-to-do-if-a-storage-outage-occurs"></a><span data-ttu-id="e2405-118">Cosa fare se si verifica un'interruzione dell'archiviazione</span><span class="sxs-lookup"><span data-stu-id="e2405-118">What to do if a Storage outage occurs</span></span>
<span data-ttu-id="e2405-119">Se uno o più servizi di archiviazione sono temporaneamente non disponibili in una o più aree, è possibile prendere considerazione due opzioni.</span><span class="sxs-lookup"><span data-stu-id="e2405-119">If one or more Storage services are temporarily unavailable at one or more regions, there are two options for you to consider.</span></span> <span data-ttu-id="e2405-120">Per accedere immediatamente ai dati, prendere in considerazione l'opzione 2.</span><span class="sxs-lookup"><span data-stu-id="e2405-120">If you desire immediate access to your data, please consider Option 2.</span></span>

### <a name="option-1-wait-for-recovery"></a><span data-ttu-id="e2405-121">Opzione 1: Attendere il ripristino</span><span class="sxs-lookup"><span data-stu-id="e2405-121">Option 1: Wait for recovery</span></span>
<span data-ttu-id="e2405-122">In tal caso, non è necessaria alcuna azione da parte dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e2405-122">In this case, no action on your part is required.</span></span> <span data-ttu-id="e2405-123">Si sta lavorando per ripristinare la disponibilità dei servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="e2405-123">We are working diligently to restore the Azure service availability.</span></span> <span data-ttu-id="e2405-124">È possibile monitorare lo stato dei servizi nel [Dashboard per l'integrità dei servizi di Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="e2405-124">You can monitor the service status on the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

### <a name="option-2-copy-data-from-secondary"></a><span data-ttu-id="e2405-125">Opzione 2: Copiare i dati dall'area secondaria</span><span class="sxs-lookup"><span data-stu-id="e2405-125">Option 2: Copy data from secondary</span></span>
<span data-ttu-id="e2405-126">Se si è scelto [Archiviazione con ridondanza geografica e accesso in lettura](storage-redundancy.md#read-access-geo-redundant-storage) (consigliato) per gli account di archiviazione, si avrà l'accesso in lettura ai dati dall'area secondaria.</span><span class="sxs-lookup"><span data-stu-id="e2405-126">If you chose [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended) for your storage accounts, you will have read access to your data from the secondary region.</span></span> <span data-ttu-id="e2405-127">È possibile usare strumenti come [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md) e la [libreria di spostamento dei dati di Azure](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) per copiare i dati dall'area secondaria in un altro account di archiviazione in un'area non interessata e quindi indirizzare le applicazioni a tale account di archiviazione per la disponibilità sia in lettura che in scrittura.</span><span class="sxs-lookup"><span data-stu-id="e2405-127">You can use tools such as [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), and the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) to copy data from the secondary region into another storage account in an unimpacted region, and then point your applications to that storage account for both read and write availability.</span></span>

## <a name="what-to-expect-if-a-storage-failover-occurs"></a><span data-ttu-id="e2405-128">Cosa aspettarsi se si verifica un failover dell'archiviazione</span><span class="sxs-lookup"><span data-stu-id="e2405-128">What to expect if a Storage failover occurs</span></span>
<span data-ttu-id="e2405-129">Se si è scelta l'opzione [Archiviazione con ridondanza geografica](storage-redundancy.md#geo-redundant-storage) o [Archiviazione con ridondanza geografica e accesso in lettura](storage-redundancy.md#read-access-geo-redundant-storage) (consigliato), Archiviazione di Azure manterrà i dati persistenti in due aree (primaria e secondaria).</span><span class="sxs-lookup"><span data-stu-id="e2405-129">If you chose [Geo-redundant storage (GRS)](storage-redundancy.md#geo-redundant-storage) or [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended), Azure Storage will keep your data durable in two regions (primary and secondary).</span></span> <span data-ttu-id="e2405-130">In entrambe le aree Archiviazione di Azure mantiene costantemente più repliche dei dati.</span><span class="sxs-lookup"><span data-stu-id="e2405-130">In both regions, Azure Storage constantly maintains multiple replicas of your data.</span></span>

<span data-ttu-id="e2405-131">Quando un'emergenza locale colpisce l'area primaria, per prima cosa si cercherà di ripristinare il servizio in tale area.</span><span class="sxs-lookup"><span data-stu-id="e2405-131">When a regional disaster affects your primary region, we will first try to restore the service in that region.</span></span> <span data-ttu-id="e2405-132">A seconda della natura e delle conseguenze dell'emergenza, in alcuni rari casi potrebbe non essere possibile ripristinare l'area primaria.</span><span class="sxs-lookup"><span data-stu-id="e2405-132">Dependent upon the nature of the disaster and its impacts, in some rare occasions we may not be able to restore the primary region.</span></span> <span data-ttu-id="e2405-133">A quel punto, verrà eseguito un failover geografico.</span><span class="sxs-lookup"><span data-stu-id="e2405-133">At that point, we will perform a geo-failover.</span></span> <span data-ttu-id="e2405-134">La replica dei dati tra aree è un processo asincrono che può comportare un ritardo, quindi è possibile che le modifiche non ancora replicate nell'area secondaria vadano perse.</span><span class="sxs-lookup"><span data-stu-id="e2405-134">The cross-region data replication is an asynchronous process which can involve a delay, so it is possible that changes that have not yet been replicated to the secondary region may be lost.</span></span> <span data-ttu-id="e2405-135">È possibile effettuare una query del valore ["Ora ultima sincronizzazione" dell'account di archiviazione](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) per ottenere i dettagli sullo stato di replica.</span><span class="sxs-lookup"><span data-stu-id="e2405-135">You can query the ["Last Sync Time" of your storage account](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) to get details on the replication status.</span></span>

<span data-ttu-id="e2405-136">È necessario tenere presenti alcuni aspetti relativi all'esperienza di failover geografico di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="e2405-136">A couple of points regarding the storage geo-failover experience:</span></span>

* <span data-ttu-id="e2405-137">Il failover geografico di archiviazione verrà attivato solo dal team di Archiviazione di Azure. Non è necessaria alcuna azione da parte del cliente.</span><span class="sxs-lookup"><span data-stu-id="e2405-137">Storage geo-failover will only be triggered by the Azure Storage team – there is no customer action required.</span></span>
* <span data-ttu-id="e2405-138">Gli endpoint di servizio di archiviazione esistenti per BLOB, tabelle, code e file rimarranno gli stessi dopo il failover. La voce DNS dovrà essere aggiornata per passare dall'area primaria all'area secondaria.</span><span class="sxs-lookup"><span data-stu-id="e2405-138">Your existing storage service endpoints for blobs, tables, queues, and files will remain the same after the failover; the DNS entry will need to be updated to switch from the primary region to the secondary region.</span></span>
* <span data-ttu-id="e2405-139">Prima e durante il failover geografico, in conseguenza dell'emergenza non si avrà accesso in scrittura all'account di archiviazione, ma sarà possibile leggere dall'area secondaria se l'account di archiviazione è stato configurato come RA-GRS.</span><span class="sxs-lookup"><span data-stu-id="e2405-139">Before and during the geo-failover, you won't have write access to your storage account due to the impact of the disaster but you can still read from the secondary if your storage account has been configured as RA-GRS.</span></span>
* <span data-ttu-id="e2405-140">Dopo il completamento del failover geografico e la propagazione delle modifiche DNS, verrà ripristinato l'accesso in lettura e scrittura all'account di archiviazione, che punterà a quello che in precedenza era l'endpoint secondario.</span><span class="sxs-lookup"><span data-stu-id="e2405-140">When the geo-failover has been completed and the DNS changes propagated, read and write access to your storage account will be resumed; this points to what used to be your secondary endpoint.</span></span> 
* <span data-ttu-id="e2405-141">L'accesso in scrittura sarà disponibile se per l'account di archiviazione è configurata l'archiviazione con ridondanza geografica oppure l'archiviazione con ridondanza geografica e accesso in lettura (RA-GRS).</span><span class="sxs-lookup"><span data-stu-id="e2405-141">Note that you will have write access if you have GRS or RA-GRS configured for the storage account.</span></span> 
* <span data-ttu-id="e2405-142">Per informazioni più dettagliate, è possibile cercare l'[ora dell'ultimo failover replica geografica dell'account di archiviazione](https://msdn.microsoft.com/library/azure/ee460802.aspx).</span><span class="sxs-lookup"><span data-stu-id="e2405-142">You can query ["Last Geo Failover Time" of your storage account](https://msdn.microsoft.com/library/azure/ee460802.aspx) to get more details.</span></span>
* <span data-ttu-id="e2405-143">Dopo il failover, l'account di archiviazione sarà completamente funzionante, ma in uno stato "danneggiato", perché in realtà è ospitato in un'area autonoma senza possibilità di replica geografica.</span><span class="sxs-lookup"><span data-stu-id="e2405-143">After the failover, your storage account will be fully functioning, but in a "degraded" status, as it is actually hosted in a standalone region with no geo-replication possible.</span></span> <span data-ttu-id="e2405-144">Per ridurre questo rischio, verrà ripristinata l'area primaria originale e quindi verrà eseguito un failback geografico per ripristinare lo stato originale.</span><span class="sxs-lookup"><span data-stu-id="e2405-144">To mitigate this risk, we will restore the original primary region and then do a geo-failback to restore the original state.</span></span> <span data-ttu-id="e2405-145">Se l'area primaria originale non è recuperabile, verrà allocata un'altra area secondaria.</span><span class="sxs-lookup"><span data-stu-id="e2405-145">If the original primary region is unrecoverable, we will allocate another secondary region.</span></span>
  <span data-ttu-id="e2405-146">Per altri dettagli sull'infrastruttura della replica geografica di Archiviazione di Azure, vedere l'articolo nel blog del team di archiviazione sulle [opzioni di ridondanza e RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="e2405-146">For more details on the infrastructure of Azure Storage geo replication, please refer to the article on the Storage team blog about [Redundancy Options and RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

## <a name="best-practices-for-protecting-your-data"></a><span data-ttu-id="e2405-147">Procedure consigliate per la protezione dei dati</span><span class="sxs-lookup"><span data-stu-id="e2405-147">Best Practices for protecting your data</span></span>
<span data-ttu-id="e2405-148">Esistono alcuni approcci consigliati per il backup periodico dei dati di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="e2405-148">There are some recommended approaches to back up your storage data on a regular basis.</span></span>

* <span data-ttu-id="e2405-149">Disk di VM: usare il [servizio Backup di Azure](https://azure.microsoft.com/services/backup/) per eseguire il backup dei dischi delle VM usati dalle macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="e2405-149">VM Disks – Use the [Azure Backup service](https://azure.microsoft.com/services/backup/) to back up the VM disks used by your Azure virtual machines.</span></span>
* <span data-ttu-id="e2405-150">BLOB in blocchi: creare uno [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) di ogni BLOB in blocchi o copiare i BLOB in un altro account di archiviazione in un'altra area usando [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md) o la [libreria di spostamento dei dati di Azure](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span><span class="sxs-lookup"><span data-stu-id="e2405-150">Block blobs –Create a [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) of each block blob, or copy the blobs to another storage account in another region using [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), or the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span></span>
* <span data-ttu-id="e2405-151">Tabelle: usare [AzCopy](storage-use-azcopy.md) per esportare i dati delle tabelle in un altro account di archiviazione in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="e2405-151">Tables – use [AzCopy](storage-use-azcopy.md) to export the table data into another storage account in another region.</span></span>
* <span data-ttu-id="e2405-152">File: usare [AzCopy](storage-use-azcopy.md) o [Azure PowerShell](storage-powershell-guide-full.md) per copiare i file in un altro account di archiviazione in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="e2405-152">Files – use [AzCopy](storage-use-azcopy.md) or [Azure PowerShell](storage-powershell-guide-full.md) to copy your files to another storage account in another region.</span></span>

<span data-ttu-id="e2405-153">Per informazioni sulla creazione di applicazioni che sfruttano al meglio la funzionalità RA-GRS, vedere l'articolo relativo alla [progettazione di applicazioni a disponibilità elevata con archiviazione RA-GRS](storage-designing-ha-apps-with-ragrs.md)</span><span class="sxs-lookup"><span data-stu-id="e2405-153">For information about creating applications that take full advantage of the RA-GRS feature, please check out [Designing Highly Available Applications using RA-GRS Storage](storage-designing-ha-apps-with-ragrs.md)</span></span>

