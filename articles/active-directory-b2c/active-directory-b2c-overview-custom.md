---
title: 'Azure Active Directory B2C: attributi personalizzati | Microsoft Docs'
description: Un argomento sui criteri personalizzati di Azure Active Directory B2C
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: bada9cf5f1a86f3dd047536f6fd9359c0231a384
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="63d39-103">Azure Active Directory B2C: criteri personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="63d39-104">Definizione di criteri personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-104">What are custom policies?</span></span>

<span data-ttu-id="63d39-105">Criteri personalizzati sono file di configurazione che definiscono il comportamento di hello del tenant di Azure Active Directory B2C.</span><span class="sxs-lookup"><span data-stu-id="63d39-105">Custom policies are configuration files that define hello behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="63d39-106">Mentre **criteri predefiniti** sono predefiniti nel portale di Azure Active Directory B2C hello per hello attività più comuni di identità, i criteri personalizzati può essere modificato completamente da un toocomplete developer identità un numero illimitato vicino di attività.</span><span class="sxs-lookup"><span data-stu-id="63d39-106">Whereas **built-in policies** are predefined in hello Azure AD B2C portal for hello most common identity tasks, custom policies can be fully edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="63d39-107">Continuare a leggere toodetermine se i criteri personalizzati sono adatta all'utente e lo scenario di identità.</span><span class="sxs-lookup"><span data-stu-id="63d39-107">Read on toodetermine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="63d39-108">**La modifica dei criteri personalizzati non è adatta a tutti gli utenti.**</span><span class="sxs-lookup"><span data-stu-id="63d39-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="63d39-109">curva di apprendimento Hello complesse, tempo di avvio hello è più lungo e criteri toocustom modifiche future richiederà toomaintain esperienza simile.</span><span class="sxs-lookup"><span data-stu-id="63d39-109">hello learning curve is demanding, hello startup time is longer, and future changes toocustom policies will require similar expertise toomaintain.</span></span> <span data-ttu-id="63d39-110">I criteri predefiniti devono essere considerati attentamente per lo scenario prima di usare i criteri personalizzati.</span><span class="sxs-lookup"><span data-stu-id="63d39-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="63d39-111">Confronto tra criteri predefiniti e personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="63d39-112">Criteri predefiniti</span><span class="sxs-lookup"><span data-stu-id="63d39-112">Built-in policies</span></span> | <span data-ttu-id="63d39-113">Criteri personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="63d39-114">Utenti di destinazione</span><span class="sxs-lookup"><span data-stu-id="63d39-114">Target users</span></span> | <span data-ttu-id="63d39-115">Tutti gli sviluppatori di app con o senza competenze di identità</span><span class="sxs-lookup"><span data-stu-id="63d39-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="63d39-116">Professionisti di identità: integratori di sistemi, consulenti e team di identità interni.</span><span class="sxs-lookup"><span data-stu-id="63d39-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="63d39-117">Hanno familiarità con i flussi OpenIDConnect e comprendono i provider di identità e l'autenticazione basata sulle attestazioni</span><span class="sxs-lookup"><span data-stu-id="63d39-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="63d39-118">Metodo di configurazione</span><span class="sxs-lookup"><span data-stu-id="63d39-118">Configuration method</span></span> | <span data-ttu-id="63d39-119">Portale di Azure con un'interfaccia utente intuitiva</span><span class="sxs-lookup"><span data-stu-id="63d39-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="63d39-120">Modificare direttamente i file XML e quindi caricare toohello portale di Azure</span><span class="sxs-lookup"><span data-stu-id="63d39-120">Directly editing XML files and then uploading toohello Azure portal</span></span> |
|<span data-ttu-id="63d39-121">Personalizzazione dell'interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="63d39-121">UI customization</span></span> | <span data-ttu-id="63d39-122">Personalizzazione completa dell'interfaccia utente, che include il supporto HTML, CSS e jscript, che richiede il dominio personalizzato</span><span class="sxs-lookup"><span data-stu-id="63d39-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="63d39-123">Supporto multilingue con stringhe personalizzate</span><span class="sxs-lookup"><span data-stu-id="63d39-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="63d39-124">Uguale</span><span class="sxs-lookup"><span data-stu-id="63d39-124">Same</span></span> |
| <span data-ttu-id="63d39-125">Personalizzazione degli attributi</span><span class="sxs-lookup"><span data-stu-id="63d39-125">Attribute customization</span></span> | <span data-ttu-id="63d39-126">Attributi standard e personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-126">Standard and custom attributes</span></span> | <span data-ttu-id="63d39-127">Uguale</span><span class="sxs-lookup"><span data-stu-id="63d39-127">Same</span></span> |
|<span data-ttu-id="63d39-128">Gestione delle sessioni e dei token</span><span class="sxs-lookup"><span data-stu-id="63d39-128">Token and session management</span></span> | <span data-ttu-id="63d39-129">Token personalizzato e opzioni di sessione multiple</span><span class="sxs-lookup"><span data-stu-id="63d39-129">Custom token and multiple session options</span></span> | <span data-ttu-id="63d39-130">Uguale</span><span class="sxs-lookup"><span data-stu-id="63d39-130">Same</span></span> |
|<span data-ttu-id="63d39-131">Provider di identità</span><span class="sxs-lookup"><span data-stu-id="63d39-131">Identity Providers</span></span>| <span data-ttu-id="63d39-132">**Oggi**: provider social, predefinito, locale</span><span class="sxs-lookup"><span data-stu-id="63d39-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="63d39-133">**Futuro**: OIDC, SAML, OAuth basati su standard</span><span class="sxs-lookup"><span data-stu-id="63d39-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="63d39-134">**Oggi**: OIDC, SAML, OAuth basati su standard</span><span class="sxs-lookup"><span data-stu-id="63d39-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="63d39-135">**Futuro**: WsFed</span><span class="sxs-lookup"><span data-stu-id="63d39-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="63d39-136">Attività relative all'identità: esempi</span><span class="sxs-lookup"><span data-stu-id="63d39-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="63d39-137">Iscrizione o accesso ad account social e locali multipli</span><span class="sxs-lookup"><span data-stu-id="63d39-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="63d39-138">Reimpostazione della password self-service</span><span class="sxs-lookup"><span data-stu-id="63d39-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="63d39-139">Modifica del profilo</span><span class="sxs-lookup"><span data-stu-id="63d39-139">Profile Edit</span></span><br><br><span data-ttu-id="63d39-140">Scenari con autenticazione a più fattori</span><span class="sxs-lookup"><span data-stu-id="63d39-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="63d39-141">Personalizzare token e sessioni</span><span class="sxs-lookup"><span data-stu-id="63d39-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="63d39-142">Flussi di accesso ai token</span><span class="sxs-lookup"><span data-stu-id="63d39-142">Access Token flows</span></span> | <span data-ttu-id="63d39-143">Completare hello stessa attività come criteri predefiniti utilizzando provider di identità personalizzati o utilizzare gli ambiti personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-143">Complete hello same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="63d39-144">Utente di effettuare il provisioning in un altro sistema in fase di hello della registrazione</span><span class="sxs-lookup"><span data-stu-id="63d39-144">Provision user in another system at hello time of registration</span></span><br><br><span data-ttu-id="63d39-145">Inviare un messaggio di posta elettronica di benvenuto con il proprio provider di servizi di posta elettronica</span><span class="sxs-lookup"><span data-stu-id="63d39-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="63d39-146">Usare un archivio utente esterno B2C</span><span class="sxs-lookup"><span data-stu-id="63d39-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="63d39-147">Convalidare le informazioni date dall'utente con un sistema attendibile tramite API</span><span class="sxs-lookup"><span data-stu-id="63d39-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="63d39-148">File dei criteri</span><span class="sxs-lookup"><span data-stu-id="63d39-148">Policy files</span></span>

<span data-ttu-id="63d39-149">Un criterio personalizzato è rappresentato come una o più file di formato XML che fanno riferimento altri in una catena gerarchica tooeach.</span><span class="sxs-lookup"><span data-stu-id="63d39-149">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="63d39-150">definiscono gli elementi XML Hello: schema di attestazioni, le attestazioni trasformazioni, le definizioni di contenuto, attestazioni provider o tecnico profili e i passaggi di orchestrazione Userjourney, tra gli altri elementi.</span><span class="sxs-lookup"><span data-stu-id="63d39-150">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="63d39-151">È consigliabile utilizzare hello dei tre tipi di file dei criteri:</span><span class="sxs-lookup"><span data-stu-id="63d39-151">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="63d39-152">**Un file di BASE**, che contiene la maggior parte delle definizioni di hello e per cui Azure fornisce un esempio completo.</span><span class="sxs-lookup"><span data-stu-id="63d39-152">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="63d39-153">Si consiglia di che fare un numero minimo di modifiche toothis file toohelp la risoluzione dei problemi e manutenzione a lungo termine dei criteri di</span><span class="sxs-lookup"><span data-stu-id="63d39-153">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="63d39-154">**un file con estensioni** che contiene le modifiche di configurazione univoco hello per il tenant</span><span class="sxs-lookup"><span data-stu-id="63d39-154">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="63d39-155">**un file di Relying Party (RP)** ovvero hello singolo incentrato sulle attività e file che viene richiamata direttamente da un'applicazione hello o un servizio (noto anche come Relying Party).</span><span class="sxs-lookup"><span data-stu-id="63d39-155">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="63d39-156">Leggere l'articolo hello alle definizioni dei file di criteri per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="63d39-156">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="63d39-157">Ogni attività univoco richiede il proprio RP e a seconda di branding requisiti numero hello potrebbe essere "totale delle applicazioni x numero totale di casi di utilizzo".</span><span class="sxs-lookup"><span data-stu-id="63d39-157">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="63d39-158">Criteri predefiniti in Azure Active Directory B2C seguono il modello di 3 file hello illustrato sopra, ma per sviluppatori di hello solo vede hello file Relying Party (RP), mentre il portale di hello apporta modifiche nel file di hello background toohello estensioni.</span><span class="sxs-lookup"><span data-stu-id="63d39-158">Built-in policies in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="63d39-159">Concetti di base che è necessario conoscere quando si usano i criteri personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="63d39-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="63d39-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="63d39-161">Azure è dotato del servizio di identità del cliente e gestione dell'accesso, CIAM.</span><span class="sxs-lookup"><span data-stu-id="63d39-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="63d39-162">servizio Hello include:</span><span class="sxs-lookup"><span data-stu-id="63d39-162">hello service includes:</span></span>

1. <span data-ttu-id="63d39-163">Una directory utente sotto forma di hello di accessibile tramite Microsoft Graph e che contiene i dati utente per gli account locali e account federati una speciale Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="63d39-163">A user directory in hello form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="63d39-164">Accesso toohello **identità esperienza Framework** che gestisce la relazione di trust tra utenti e le entità e la passa le attestazioni tra di essi toocomplete un'attività di gestione di identità o l'accesso</span><span class="sxs-lookup"><span data-stu-id="63d39-164">Access toohello **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them toocomplete an identity/access management task</span></span> 
3. <span data-ttu-id="63d39-165">Un servizio token di sicurezza (STS) emissione id token, aggiorna i token e accesso token (e asserzioni SAML equivalente) e convalida di tali risorse tooprotect.</span><span class="sxs-lookup"><span data-stu-id="63d39-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them tooprotect resources.</span></span>

<span data-ttu-id="63d39-166">Azure Active Directory B2C interagisce con i provider di identità, gli utenti, altri sistemi e all'elenco di utenti locale hello in sequenza tooachieve un'attività di identità (ad esempio account di accesso di un utente, registrare un nuovo utente, reimpostare una password).</span><span class="sxs-lookup"><span data-stu-id="63d39-166">Azure AD B2C interacts with identity providers, users, other systems, and with hello local user directory in sequence tooachieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="63d39-167">Hello piattaforma sottostante che stabilisce relazioni di trust più parti ed esegue questa procedura viene chiamata hello Framework esperienza di identità e criteri (detto anche il passaggio di un utente o un criterio di attendibilità framework) definisce in modo esplicito gli attori hello, azioni di hello, hello protocolli e hello sequenza di passaggi toocomplete.</span><span class="sxs-lookup"><span data-stu-id="63d39-167">hello underlying platform which establishes multi-party trust and executes these steps is called hello Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines hello actors, hello actions, hello protocols, and hello sequence of steps toocomplete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="63d39-168">Framework dell'esperienza di gestione delle identità</span><span class="sxs-lookup"><span data-stu-id="63d39-168">Identity Experience Framework</span></span>

<span data-ttu-id="63d39-169">Una piattaforma Azure completamente configurabile, basato sui criteri e su cloud che orchestra le relazioni di trust tra le entità, in modo più ampio i provider di attestazioni, in formati di protocollo standard, ad esempio OpenIDConnect, OAuth, SAML, standard WSFed e alcuni formati non standard, ad esempio, scambi di attestazioni basati su API REST da sistema a sistema.</span><span class="sxs-lookup"><span data-stu-id="63d39-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="63d39-170">Hello I2E crea intuitiva, whitelabelled esperienze che supportano HTML, CSS e jscript.</span><span class="sxs-lookup"><span data-stu-id="63d39-170">hello I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="63d39-171">Oggi, hello identità esperienza Framework è disponibile solo nel contesto di hello del servizio di Azure Active Directory B2C hello e priorità per le attività correlate tooCIAM.</span><span class="sxs-lookup"><span data-stu-id="63d39-171">Today, hello Identity Experience Framework is available only in hello context of hello Azure AD B2C service and prioritized for tasks related tooCIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="63d39-172">Criteri predefiniti</span><span class="sxs-lookup"><span data-stu-id="63d39-172">Built-in policies</span></span>

<span data-ttu-id="63d39-173">File di configurazione che il comportamento di hello diretto dell'identità di Azure Active Directory B2C tooperform hello più diffuse attività (ad esempio la registrazione utente, accesso, la reimpostazione della password) e interagire con le parti attendibili a cui la relazione è predefinita anche in Azure Active Directory B2C (predefinite ad esempio provider di identità Facebook, LinkedIn, Account Microsoft, gli account di Google).</span><span class="sxs-lookup"><span data-stu-id="63d39-173">Predefined configuration files that direct hello behavior of Azure AD B2C tooperform hello most commonly used identity tasks (i.e. user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="63d39-174">In futuro hello, i criteri predefiniti possono anche fornire per la personalizzazione del provider di identità che sono in genere nell'area di autenticazione enterprise hello, ad esempio Azure Active Directory Premium, Active Directory o ADFS, Salesforce ID Provider via.</span><span class="sxs-lookup"><span data-stu-id="63d39-174">In hello future, built-in policies may also provide for customization of identity providers which are typically in hello enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="63d39-175">Criteri personalizzati</span><span class="sxs-lookup"><span data-stu-id="63d39-175">Custom policies</span></span>

<span data-ttu-id="63d39-176">File di configurazione che definiscono il comportamento di hello del Framework di esperienza di identità nel tenant di Azure Active Directory B2C.</span><span class="sxs-lookup"><span data-stu-id="63d39-176">Configuration files that define hello behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="63d39-177">Un criterio personalizzato non è accessibile come uno o più file XML (vedere le definizioni di file di criteri) che vengono eseguiti dall'hello identità esperienza Framework quando viene richiamato per una relying party (ad esempio, un'applicazione).</span><span class="sxs-lookup"><span data-stu-id="63d39-177">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by hello Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="63d39-178">Criteri personalizzati possono essere modificato direttamente da un toocomplete developer identità un numero illimitato vicino di attività.</span><span class="sxs-lookup"><span data-stu-id="63d39-178">Custom policies can be directly edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="63d39-179">Gli sviluppatori devono definire la configurazione di criteri personalizzati hello relazioni attendibili nell'endpoint dei metadati di dettaglio attenzione tooinclude, esatte attestazioni definizioni di exchange e configurare i certificati, chiavi e segreti in base alle esigenze di ogni provider di identità.</span><span class="sxs-lookup"><span data-stu-id="63d39-179">Developers configuring custom policies must define hello trusted relationships in careful detail tooinclude metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="63d39-180">Definizione di file di criteri per i framework di attendibilità per il Framework di esperienza di identità</span><span class="sxs-lookup"><span data-stu-id="63d39-180">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="63d39-181">File dei criteri</span><span class="sxs-lookup"><span data-stu-id="63d39-181">Policy Files</span></span>

<span data-ttu-id="63d39-182">Un criterio personalizzato è rappresentato come una o più file di formato XML che fanno riferimento altri in una catena gerarchica tooeach.</span><span class="sxs-lookup"><span data-stu-id="63d39-182">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="63d39-183">definiscono gli elementi XML Hello: schema di attestazioni, le attestazioni trasformazioni, le definizioni di contenuto, attestazioni provider o tecnico profili e i passaggi di orchestrazione Userjourney, tra gli altri elementi.</span><span class="sxs-lookup"><span data-stu-id="63d39-183">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="63d39-184">È consigliabile utilizzare hello dei tre tipi di file dei criteri:</span><span class="sxs-lookup"><span data-stu-id="63d39-184">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="63d39-185">**Un file di BASE**, che contiene la maggior parte delle definizioni di hello e per cui Azure fornisce un esempio completo.</span><span class="sxs-lookup"><span data-stu-id="63d39-185">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="63d39-186">Si consiglia di che fare un numero minimo di modifiche toothis file toohelp la risoluzione dei problemi e manutenzione a lungo termine dei criteri di</span><span class="sxs-lookup"><span data-stu-id="63d39-186">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="63d39-187">**un file con estensioni** che contiene le modifiche di configurazione univoco hello per il tenant</span><span class="sxs-lookup"><span data-stu-id="63d39-187">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="63d39-188">**un file di Relying Party (RP)** ovvero hello singolo incentrato sulle attività e file che viene richiamata direttamente da un'applicazione hello o un servizio (noto anche come Relying Party).</span><span class="sxs-lookup"><span data-stu-id="63d39-188">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="63d39-189">Leggere l'articolo hello alle definizioni dei file di criteri per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="63d39-189">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="63d39-190">Ogni attività univoco richiede il proprio RP e a seconda di branding requisiti numero hello potrebbe essere "totale delle applicazioni x numero totale di casi di utilizzo".</span><span class="sxs-lookup"><span data-stu-id="63d39-190">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>

![Tipi di file di criteri](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="63d39-192">Tipo di file di criteri</span><span class="sxs-lookup"><span data-stu-id="63d39-192">Type of policy file</span></span> | <span data-ttu-id="63d39-193">Nome del file di esempio</span><span class="sxs-lookup"><span data-stu-id="63d39-193">Examples file name</span></span> | <span data-ttu-id="63d39-194">Uso consigliato</span><span class="sxs-lookup"><span data-stu-id="63d39-194">Recommended use</span></span> | <span data-ttu-id="63d39-195">Eredito da</span><span class="sxs-lookup"><span data-stu-id="63d39-195">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="63d39-196">BASE</span><span class="sxs-lookup"><span data-stu-id="63d39-196">BASE</span></span> |<span data-ttu-id="63d39-197">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="63d39-197">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="63d39-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="63d39-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="63d39-199">Include nello schema di attestazioni di hello principale, le trasformazioni di attestazioni, provider di attestazioni e i percorsi utente configurati da Microsoft</span><span class="sxs-lookup"><span data-stu-id="63d39-199">Includes hello core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="63d39-200">Verificare il file toothis modifiche minime</span><span class="sxs-lookup"><span data-stu-id="63d39-200">Make minimal changes toothis file</span></span> | <span data-ttu-id="63d39-201">Nessuno</span><span class="sxs-lookup"><span data-stu-id="63d39-201">None</span></span> |
| <span data-ttu-id="63d39-202">Estensione (RXT)</span><span class="sxs-lookup"><span data-stu-id="63d39-202">Extension (EXT)</span></span> | <span data-ttu-id="63d39-203">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="63d39-203">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="63d39-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="63d39-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="63d39-205">Consolidare le modifiche toohello BASE file qui</span><span class="sxs-lookup"><span data-stu-id="63d39-205">Consolidate your changes toohello BASE file here</span></span><br><br><span data-ttu-id="63d39-206">Provider di attestazioni modificati</span><span class="sxs-lookup"><span data-stu-id="63d39-206">Modified claims providers</span></span><br><br><span data-ttu-id="63d39-207">Percorsi utente modificati</span><span class="sxs-lookup"><span data-stu-id="63d39-207">Modified user journeys</span></span><br><br><span data-ttu-id="63d39-208">Definizioni dello schema personalizzato</span><span class="sxs-lookup"><span data-stu-id="63d39-208">Your own custom schema definitions</span></span> | <span data-ttu-id="63d39-209">File di BASE</span><span class="sxs-lookup"><span data-stu-id="63d39-209">BASE file</span></span> |
| <span data-ttu-id="63d39-210">Relying Party (RP)</span><span class="sxs-lookup"><span data-stu-id="63d39-210">Relying Party (RP)</span></span> | <span data-ttu-id="63d39-211">B2C_1A_sign_up_sign_in.xml</span><span class="sxs-lookup"><span data-stu-id="63d39-211">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="63d39-212">Modificare la forma del token e le impostazioni della sessione qui</span><span class="sxs-lookup"><span data-stu-id="63d39-212">Change token shape and session settings here</span></span>| <span data-ttu-id="63d39-213">File Extensions(Ext)</span><span class="sxs-lookup"><span data-stu-id="63d39-213">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="63d39-214">Modello di ereditarietà</span><span class="sxs-lookup"><span data-stu-id="63d39-214">Inheritance model</span></span>

<span data-ttu-id="63d39-215">Quando un'applicazione chiama il file dei criteri RP hello, hello Identity Framework esperienza in B2C aggiungere tutti gli elementi di hello di BASE, quindi dalle estensioni e infine da hello RP criteri file tooassemble hello criteri correnti attive.</span><span class="sxs-lookup"><span data-stu-id="63d39-215">When an application calls hello RP Policy file, hello Identity Experience Framework in B2C will add all hello elements from BASE, then from EXTENSIONS, and lastly from hello RP policy file tooassemble hello current policy in effect.</span></span>  <span data-ttu-id="63d39-216">Gli elementi di hello stesso tipo e nome file RP hello sostituiranno quelle hello estensioni e gli override delle estensioni della BASE.</span><span class="sxs-lookup"><span data-stu-id="63d39-216">Elements of hello same type and name in hello RP file will override those in hello EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="63d39-217">**Criteri predefiniti** in Azure Active Directory B2C seguono il modello di 3 file hello illustrato sopra, ma per sviluppatori di hello solo vede hello file Relying Party (RP), mentre il portale di hello apporta modifiche nel file di hello background toohello estensioni.</span><span class="sxs-lookup"><span data-stu-id="63d39-217">**Built-in policies** in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>  <span data-ttu-id="63d39-218">Tutti di Azure Active Directory B2C condivide un file dei criteri BASE che è incluso nel controllo del team di hello Azure B2C hello e viene aggiornato di frequente.</span><span class="sxs-lookup"><span data-stu-id="63d39-218">All of Azure AD B2C shares a BASE policy file that is under hello control of hello Azure B2C team and is updated frequently.</span></span>
