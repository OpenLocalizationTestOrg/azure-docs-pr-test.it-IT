---
title: aaaMulti-Factor authentication - SQL di Azure | Documenti Microsoft
description: Utilizzare Multi-Factored Authentication con SSMS per il database SQL e SQL Data Warehouse.
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: fbd6e644-0520-439c-8304-2e4fb6d6eb91
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/19/2017
ms.author: rickbyh
ms.openlocfilehash: 57ef63b7c7f2c5cf64c3e1ee194d865ee5b14177
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="universal-authentication-with-sql-database-and-sql-data-warehouse-ssms-support-for-mfa"></a><span data-ttu-id="80875-103">Autenticazione universale con database SQL e SQL Data Warehouse (supporto SSMS per MFA)</span><span class="sxs-lookup"><span data-stu-id="80875-103">Universal Authentication with SQL Database and SQL Data Warehouse (SSMS support for MFA)</span></span>
<span data-ttu-id="80875-104">Il database SQL e Azure SQL Data Warehouse supportano le connessioni da SQL Server Management Studio (SSMS) tramite l'*autenticazione universale di Active Directory*.</span><span class="sxs-lookup"><span data-stu-id="80875-104">Azure SQL Database and Azure SQL Data Warehouse support connections from SQL Server Management Studio (SSMS) using *Active Directory Universal Authentication*.</span></span> 
<span data-ttu-id="80875-105">**Scaricare hello SSMS più recente** - computer client hello scaricare hello la versione più recente di SSMS, da [scaricare SQL Server Management Studio (SQL Server Management Studio)](https://msdn.microsoft.com/library/mt238290.aspx).</span><span class="sxs-lookup"><span data-stu-id="80875-105">**Download hello latest SSMS** - On hello client computer, download hello latest version of SSMS, from [Download SQL Server Management Studio (SSMS)](https://msdn.microsoft.com/library/mt238290.aspx).</span></span> <span data-ttu-id="80875-106">Per tutte le funzionalità di hello in questo argomento, usare almeno luglio 2017, versione 17,2.</span><span class="sxs-lookup"><span data-stu-id="80875-106">For all hello features in this topic, use at least July 2017, version 17.2.</span></span>  <span data-ttu-id="80875-107">Hello più recente connessione della finestra di dialogo simile al seguente: ![1mfa universal connessione](./media/sql-database-ssms-mfa-auth/1mfa-universal-connect.png "casella del nome utente hello viene completata.")</span><span class="sxs-lookup"><span data-stu-id="80875-107">hello most recent connection dialog box, looks like this: ![1mfa-universal-connect](./media/sql-database-ssms-mfa-auth/1mfa-universal-connect.png "Completes hello User name box.")</span></span>  

## <a name="hello-five-authentication-options"></a><span data-ttu-id="80875-108">opzioni di autenticazione Hello cinque</span><span class="sxs-lookup"><span data-stu-id="80875-108">hello five authentication options</span></span>  
- <span data-ttu-id="80875-109">Autenticazione universale di Active Directory supporta due metodi di autenticazione non interattivo hello (`Active Directory - Password` l'autenticazione e `Active Directory - Integrated` autenticazione).</span><span class="sxs-lookup"><span data-stu-id="80875-109">Active Directory Universal Authentication supports hello two non-interactive authentication methods (`Active Directory - Password` authentication and `Active Directory - Integrated` authentication).</span></span> <span data-ttu-id="80875-110">I metodi di autenticazione `Active Directory - Password` e `Active Directory - Integrated` non interattivi possono essere usati in svariate applicazioni (ADO.NET, JDBC, ODBC e così via).</span><span class="sxs-lookup"><span data-stu-id="80875-110">Non-interactive `Active Directory - Password` and `Active Directory - Integrated` Authentication methods can be used in many different applications (ADO.NET, JDBC, ODBC, etc.).</span></span> <span data-ttu-id="80875-111">Questi due metodi non aprono mai finestre di dialogo popup.</span><span class="sxs-lookup"><span data-stu-id="80875-111">These two methods never result in pop-up dialog boxes.</span></span>

- <span data-ttu-id="80875-112">L'autenticazione `Active Directory - Universal with MFA` è un metodo interattivo che supporta anche *Azure Multi-Factor Authentication* (MFA).</span><span class="sxs-lookup"><span data-stu-id="80875-112">`Active Directory - Universal with MFA` authentication is an interactive method that also supports *Azure Multi-Factor Authentication* (MFA).</span></span> <span data-ttu-id="80875-113">Azure MFA consente di salvaguardare accesso toodata e applicazioni rispettando richiesta dell'utente per un semplice processo.</span><span class="sxs-lookup"><span data-stu-id="80875-113">Azure MFA helps safeguard access toodata and applications while meeting user demand for a simple sign-in process.</span></span> <span data-ttu-id="80875-114">Fornisce l'autenticazione avanzata con una gamma di opzioni di verifica semplice (telefonata, SMS, le smart card con pin, o la notifica dell'app mobile), che consente agli utenti toochoose hello (metodo) preferiscono.</span><span class="sxs-lookup"><span data-stu-id="80875-114">It delivers strong authentication with a range of easy verification options (phone call, text message, smart cards with pin, or mobile app notification), allowing users toochoose hello method they prefer.</span></span> <span data-ttu-id="80875-115">La convalida di MFA interattiva con Azure AD può avvenire attraverso una finestra popup.</span><span class="sxs-lookup"><span data-stu-id="80875-115">Interactive MFA with Azure AD can result in a pop-up dialog box for validation.</span></span>

<span data-ttu-id="80875-116">Per una descrizione di Multi-Factor Authentication (autenticazione a più fattori), consultare [Multi-Factor Authentication](../multi-factor-authentication/multi-factor-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="80875-116">For a description of Multi-Factor Authentication, see [Multi-Factor Authentication](../multi-factor-authentication/multi-factor-authentication.md).</span></span>
<span data-ttu-id="80875-117">Per la procedura di configurazione, vedere [Configurare Multi-Factor Authentication con database SQL di Azure per SQL Server Management Studio](sql-database-ssms-mfa-authentication-configure.md).</span><span class="sxs-lookup"><span data-stu-id="80875-117">For configuration steps, see [Configure Azure SQL Database multi-factor authentication for SQL Server Management Studio](sql-database-ssms-mfa-authentication-configure.md).</span></span>

### <a name="azure-ad-domain-name-or-tenant-id-parameter"></a><span data-ttu-id="80875-118">Parametro nome di dominio o ID tenant di Azure AD</span><span class="sxs-lookup"><span data-stu-id="80875-118">Azure AD domain name or tenant ID parameter</span></span>   

<span data-ttu-id="80875-119">A partire da [SSMS versione 17](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms), gli utenti che vengono importati in hello corrente di Active Directory da altre directory di Azure Active Directory come utenti guest, possono fornire il nome di dominio hello Azure AD, o ID tenant al momento della connessione.</span><span class="sxs-lookup"><span data-stu-id="80875-119">Beginning with [SSMS version 17](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms), users that are imported into hello current Active Directory from other Azure Active Directories as guest users, can provide hello Azure AD domain name, or tenant ID when they connect.</span></span> <span data-ttu-id="80875-120">Gli utenti guest includono quelli invitati da altre istanze di Azure AD, gli account Microsoft, ad esempio outlook.com, hotmail.com, live.com, o altri account come gmail.com. Queste informazioni consente **universali Active Directory con l'autenticazione MFA** tooidentify hello corretto l'autorità di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="80875-120">Guest users include users invited from other Azure ADs, Microsoft accounts such as outlook.com, hotmail.com, live.com, or other accounts like gmail.com. This information, allows **Active Directory Universal with MFA Authentication** tooidentify hello correct authenticating authority.</span></span> <span data-ttu-id="80875-121">Questa opzione è inoltre necessario toosupport account di Microsoft (MSA), ad esempio outlook.com, hotmail.com, live.com o account non MSA.</span><span class="sxs-lookup"><span data-stu-id="80875-121">This option is also required toosupport Microsoft accounts (MSA) such as outlook.com, hotmail.com, live.com, or non-MSA accounts.</span></span> <span data-ttu-id="80875-122">Tutti questi utenti che desiderano toobe autenticato tramite l'autenticazione universale deve immettere il proprio nome di dominio Active Directory di Azure o di un tenant ID.</span><span class="sxs-lookup"><span data-stu-id="80875-122">All these users who want toobe authenticated using Universal Authentication must enter their Azure AD domain name or tenant ID.</span></span> <span data-ttu-id="80875-123">Questo parametro rappresenta hello di hello Azure AD corrente dominio nome tenant ID che server Azure non è collegato.</span><span class="sxs-lookup"><span data-stu-id="80875-123">This parameter represents hello current Azure AD domain name/tenant ID hello Azure Server is linked with.</span></span> <span data-ttu-id="80875-124">Ad esempio, se il Server di Azure è associato al dominio di Azure AD `contosotest.onmicrosoft.com` dove utente `joe@contosodev.onmicrosoft.com` è ospitato come un utente importato dal dominio di Azure AD `contosodev.onmicrosoft.com`, hello tooauthenticate necessario un nome di dominio è l'utente `contosotest.onmicrosoft.com`.</span><span class="sxs-lookup"><span data-stu-id="80875-124">For example, if Azure Server is associated with Azure AD domain `contosotest.onmicrosoft.com` where user `joe@contosodev.onmicrosoft.com` is hosted as an imported user from Azure AD domain `contosodev.onmicrosoft.com`, hello domain name required tooauthenticate this user is `contosotest.onmicrosoft.com`.</span></span> <span data-ttu-id="80875-125">Quando l'utente hello è un utente di hello Azure AD collegato tooAzure Server nativo e non è un account del servizio gestito, non è necessario alcun ID tenant o nome di dominio.</span><span class="sxs-lookup"><span data-stu-id="80875-125">When hello user is a native user of hello Azure AD linked tooAzure Server, and is not an MSA account, no domain name or tenant ID is required.</span></span> <span data-ttu-id="80875-126">parametro hello tooenter (a partire da SQL Server Management Studio versione 17,2), hello **connettersi tooDatabase** della finestra di dialogo hello completo della finestra di dialogo selezione **Active Directory - Universal con autenticazione a più fattori** l'autenticazione, Fare clic su **opzioni**, hello completo **nome utente** casella e quindi fare clic su hello **le proprietà di connessione** scheda. Controllare hello **ID tenant o nome di dominio Active Directory** e specificare l'autorità di autenticazione, ad esempio il nome di dominio hello (**contosotest.onmicrosoft.com**) o hello GUID dell'ID del tenant hello.</span><span class="sxs-lookup"><span data-stu-id="80875-126">tooenter hello parameter (beginning with SSMS version 17.2), in hello **Connect tooDatabase** dialog box, complete hello dialog box, selecting **Active Directory - Universal with MFA** authentication, click **Options**, complete hello **User name** box, and then click hello **Connection Properties** tab. Check hello **AD domain name or tenant ID** box, and provide authenticating authority, such as hello domain name (**contosotest.onmicrosoft.com**) or hello GUID of hello tenant ID.</span></span>  
   <span data-ttu-id="80875-127">![mfa-tenant-ssms](./media/sql-database-ssms-mfa-auth/mfa-tenant-ssms.png)</span><span class="sxs-lookup"><span data-stu-id="80875-127">![mfa-tenant-ssms](./media/sql-database-ssms-mfa-auth/mfa-tenant-ssms.png)</span></span>   

### <a name="azure-ad-business-toobusiness-support"></a><span data-ttu-id="80875-128">Supporto di Azure AD business toobusiness</span><span class="sxs-lookup"><span data-stu-id="80875-128">Azure AD business toobusiness support</span></span>   
<span data-ttu-id="80875-129">Gli utenti di Azure AD è supportati negli scenari B2B di Azure Active Directory come utenti guest (vedere [cosa è collaborazione B2B di Azure](../active-directory/active-directory-b2b-what-is-azure-ad-b2b.md)) può connettersi tooSQL Database e SQL Data Warehouse solo come parte dei membri di un gruppo creato in Azure AD corrente e il mapping manualmente utilizzo di Transact-SQL hello `CREATE USER` istruzione in un database specifico.</span><span class="sxs-lookup"><span data-stu-id="80875-129">Azure AD users supported for Azure AD B2B scenarios as guest users (see [What is Azure B2B collaboration](../active-directory/active-directory-b2b-what-is-azure-ad-b2b.md)) can connect tooSQL Database and SQL Data Warehouse only as part of members of a group created in current Azure AD and mapped manually using hello Transact-SQL `CREATE USER` statement in a given database.</span></span> <span data-ttu-id="80875-130">Ad esempio, se `steve@gmail.com` è tooAzure invitati AD `contosotest` (con il dominio di Active Directory di Azure hello `contosotest.onmicrosoft.com`), gruppo di Azure Active Directory, ad esempio `usergroup` deve essere creato in Azure Active Directory che contiene hello hello `steve@gmail.com` membro.</span><span class="sxs-lookup"><span data-stu-id="80875-130">For example, if `steve@gmail.com` is invited tooAzure AD `contosotest` (with hello Azure Ad domain `contosotest.onmicrosoft.com`), an Azure AD group, such as `usergroup` must be created in hello Azure AD that contains hello `steve@gmail.com` member.</span></span> <span data-ttu-id="80875-131">Questo gruppo deve quindi essere creato per un database specifico, ad esempio MyDatabase, dall'amministratore del database SQL o dal DBO di Azure AD tramite un'istruzione Transact-SQL `CREATE USER [usergroup] FROM EXTERNAL PROVIDER`.</span><span class="sxs-lookup"><span data-stu-id="80875-131">Then, this group must be created for a specific  database (i.e. MyDatabase) by Azure AD SQL admin or Azure AD DBO  by executing a Transact-SQL `CREATE USER [usergroup] FROM EXTERNAL PROVIDER` statement.</span></span> <span data-ttu-id="80875-132">Dopo aver creato l'utente del database hello, quindi hello utente `steve@gmail.com` può eseguire l'accesso troppo`MyDatabase` utilizzando l'opzione di autenticazione di SQL Server Management Studio hello `Active Directory – Universal with MFA support`.</span><span class="sxs-lookup"><span data-stu-id="80875-132">After hello database user is created, then hello user `steve@gmail.com` can login too`MyDatabase` using hello SSMS authentication option `Active Directory – Universal with MFA support`.</span></span> <span data-ttu-id="80875-133">Hello usergroup, per impostazione predefinita, dispone solo di hello connettersi autorizzazione e qualsiasi ulteriore accesso ai dati che sarà necessario concedere in hello toobe modo normale.</span><span class="sxs-lookup"><span data-stu-id="80875-133">hello usergroup, by default, has only hello connect permission and any further data access that will need toobe granted in hello normal way.</span></span> <span data-ttu-id="80875-134">Si noti che l'utente `steve@gmail.com` come utente guest deve hello casella di controllo e aggiungere il nome di dominio Active Directory hello `contosotest.onmicrosoft.com` in SSMS hello **proprietà di connessione** la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="80875-134">Please note that user `steve@gmail.com` as a guest user must check hello box and add hello AD domain name `contosotest.onmicrosoft.com` in hello SSMS **Connection Property** dialog box.</span></span> <span data-ttu-id="80875-135">Hello **ID tenant o nome di dominio Active Directory** opzione è supportata solo per hello Universal con le opzioni di connessione di autenticazione a più fattori, in caso contrario è disattivata.</span><span class="sxs-lookup"><span data-stu-id="80875-135">hello **AD domain name or tenant ID** option is only supported for hello Universal with MFA connection options, otherwise it is greyed out.</span></span>

## <a name="universal-authentication-limitations-for-sql-database-and-sql-data-warehouse"></a><span data-ttu-id="80875-136">Limitazioni dell'autenticazione universale per il database SQL e SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="80875-136">Universal Authentication limitations for SQL Database and SQL Data Warehouse</span></span>
* <span data-ttu-id="80875-137">SQL Server Management Studio e SqlPackage.exe sono strumenti solo a hello attualmente abilitati per l'autenticazione a più fattori tramite l'autenticazione universale di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="80875-137">SSMS and SqlPackage.exe are hello only tools currently enabled for MFA through Active Directory Universal Authentication.</span></span>
* <span data-ttu-id="80875-138">La versione 17.2 di SSMS supporta l'accesso simultaneo di più utenti tramite l'autenticazione universale con supporto MFA.</span><span class="sxs-lookup"><span data-stu-id="80875-138">SSMS version 17.2, supports multi-user concurrent access using Universal Authentication with MFA.</span></span> <span data-ttu-id="80875-139">Versione 17,0 e 17.1, può essere un log in un'istanza di SQL Server Management Studio utilizzando l'account di Azure Active Directory singola autenticazione universale tooa.</span><span class="sxs-lookup"><span data-stu-id="80875-139">Version 17.0 and 17.1, restricted a log in for an instance of SSMS using Universal Authentication tooa single Azure Active Directory account.</span></span> <span data-ttu-id="80875-140">toolog in un altro account di Azure AD, è necessario utilizzare un'altra istanza di SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="80875-140">toolog in as another Azure AD account, you must use another instance of SSMS.</span></span> <span data-ttu-id="80875-141">(Questa restrizione è limitato tooActive autenticazione universale di Directory, è possibile registrare nei server di toodifferent utilizzando l'autenticazione di Password di Active Directory, l'autenticazione integrata di Active Directory o l'autenticazione di SQL Server).</span><span class="sxs-lookup"><span data-stu-id="80875-141">(This restriction is limited tooActive Directory Universal Authentication; you can log in toodifferent servers using Active Directory Password Authentication, Active Directory Integrated Authentication, or SQL Server Authentication).</span></span>
* <span data-ttu-id="80875-142">SSMS supporta l'autenticazione universale di Active Directory per la visualizzazione di Esplora oggetti, Editor di query e Archivio query.</span><span class="sxs-lookup"><span data-stu-id="80875-142">SSMS supports Active Directory Universal Authentication for Object Explorer, Query Editor, and Query Store visualization.</span></span>
* <span data-ttu-id="80875-143">La versione 17.2 di SSMS fornisce il supporto di DacFx Wizard per le funzioni di esportazione, estrazione e distribuzione dei dati del database.</span><span class="sxs-lookup"><span data-stu-id="80875-143">SSMS version 17.2 provides DacFx Wizard support for Export/Extract/Deploy Data database.</span></span> <span data-ttu-id="80875-144">Una volta autenticato un utente specifico tramite autenticazione universale dalla finestra di dialogo hello l'autenticazione iniziale, hello funzioni DacFx guidata hello stesso modo utilizzato per tutti gli altri metodi di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="80875-144">Once a specific user is authenticated through hello initial authentication dialog using Universal Authentication, hello DacFx Wizard functions hello same way it does for all other authentication methods.</span></span>
* <span data-ttu-id="80875-145">Hello Progettazione tabelle SQL Server Management Studio non supporta l'autenticazione universale.</span><span class="sxs-lookup"><span data-stu-id="80875-145">hello SSMS Table Designer does not support Universal Authentication.</span></span>
* <span data-ttu-id="80875-146">Non ci sono requisiti software aggiuntivi per l'autenticazione universale di Active Directory ad eccezione del fatto che si utilizzi una versione supportata di SSMS.</span><span class="sxs-lookup"><span data-stu-id="80875-146">There are no additional software requirements for Active Directory Universal Authentication except that you must use a supported version of SSMS.</span></span>  
* <span data-ttu-id="80875-147">versione di Hello Active Directory Authentication Library (ADAL) per l'autenticazione universale è stato aggiornato tooits versione ADAL.dll 3.13.9 disponibili rilasciato.</span><span class="sxs-lookup"><span data-stu-id="80875-147">hello Active Directory Authentication Library (ADAL) version for Universal authentication was updated tooits latest ADAL.dll 3.13.9 available released version.</span></span> <span data-ttu-id="80875-148">Vedere [Active Directory Authentication Library 3.14.1](http://www.nuget.org/packages/Microsoft.IdentityModel.Clients.ActiveDirectory/).</span><span class="sxs-lookup"><span data-stu-id="80875-148">See [Active Directory Authentication Library 3.14.1](http://www.nuget.org/packages/Microsoft.IdentityModel.Clients.ActiveDirectory/).</span></span>


## <a name="next-steps"></a><span data-ttu-id="80875-149">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="80875-149">Next steps</span></span>

- <span data-ttu-id="80875-150">Per la procedura di configurazione, vedere [Configurare Multi-Factor Authentication con database SQL di Azure per SQL Server Management Studio](sql-database-ssms-mfa-authentication-configure.md).</span><span class="sxs-lookup"><span data-stu-id="80875-150">For configuration steps, see [Configure Azure SQL Database multi-factor authentication for SQL Server Management Studio](sql-database-ssms-mfa-authentication-configure.md).</span></span>
- <span data-ttu-id="80875-151">Concedere ad altri utenti di accesso database tooyour: [SQL Database autenticazione e autorizzazione: concessione dell'accesso](sql-database-manage-logins.md)</span><span class="sxs-lookup"><span data-stu-id="80875-151">Grant others access tooyour database: [SQL Database Authentication and Authorization: Granting Access](sql-database-manage-logins.md)</span></span>  
- <span data-ttu-id="80875-152">Verificare che altri utenti possono connettersi tramite firewall hello: [regola firewall di configurare un server a livello di Database SQL di Azure utilizzando hello portale di Azure](sql-database-configure-firewall-settings.md)</span><span class="sxs-lookup"><span data-stu-id="80875-152">Make sure others can connect through hello firewall: [Configure an Azure SQL Database server-level firewall rule using hello Azure portal](sql-database-configure-firewall-settings.md)</span></span>  
- [<span data-ttu-id="80875-153">Configurare e gestire l'autenticazione di Azure Active Directory con il database SQL oppure con SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="80875-153">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>](sql-database-aad-authentication-configure.md)  
- [<span data-ttu-id="80875-154">Microsoft SQL Server Data-Tier Application Framework (17.0.0 GA)</span><span class="sxs-lookup"><span data-stu-id="80875-154">Microsoft SQL Server Data-Tier Application Framework (17.0.0 GA)</span></span>](https://www.microsoft.com/download/details.aspx?id=55088)  
- [<span data-ttu-id="80875-155">SQLPackage.exe</span><span class="sxs-lookup"><span data-stu-id="80875-155">SQLPackage.exe</span></span>](https://msdn.microsoft.com/library/hh550080.aspx)  
- [<span data-ttu-id="80875-156">Importare un tooa file BACPAC Nuovo Database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="80875-156">Import a BACPAC file tooa new Azure SQL Database</span></span>](../sql-database/sql-database-import.md)  
- [<span data-ttu-id="80875-157">Esportare un file BACPAC tooa database di SQL Azure</span><span class="sxs-lookup"><span data-stu-id="80875-157">Export an Azure SQL database tooa BACPAC file</span></span>](../sql-database/sql-database-export.md)  
- <span data-ttu-id="80875-158">Interfaccia C# [IUniversalAuthProvider](https://msdn.microsoft.com/library/microsoft.sqlserver.dac.iuniversalauthprovider.aspx)</span><span class="sxs-lookup"><span data-stu-id="80875-158">C# interface [IUniversalAuthProvider Interface](https://msdn.microsoft.com/library/microsoft.sqlserver.dac.iuniversalauthprovider.aspx)</span></span>  
