---
title: stringa di connessione di Service Fabric immagine archivio aaaAzure | Documenti Microsoft
description: Comprendere una stringa di connessione archivio hello immagine
services: service-fabric
documentationcenter: .net
author: alexwun
manager: timlt
editor: 
ms.assetid: 00f8059d-9d53-4cb8-b44a-b25149de3030
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/07/2017
ms.author: alexwun
ms.openlocfilehash: 83f5ad75b5df07726997da3173722028255b8cae
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="understand-hello-imagestoreconnectionstring-setting"></a><span data-ttu-id="287a3-103">Comprendere l'impostazione ImageStoreConnectionString hello</span><span class="sxs-lookup"><span data-stu-id="287a3-103">Understand hello ImageStoreConnectionString setting</span></span>

<span data-ttu-id="287a3-104">In alcuni documentazione è indicato brevemente esistenza hello di un parametro "ImageStoreConnectionString" senza che descrive il significato.</span><span class="sxs-lookup"><span data-stu-id="287a3-104">In some of our documentation, we briefly mention hello existence of an "ImageStoreConnectionString" parameter without describing what it really means.</span></span> <span data-ttu-id="287a3-105">E dopo aver esaminato un articolo come [distribuire e rimuovere le applicazioni con PowerShell][10], sembra che non è il valore di hello Copia/Incolla, così come viene visualizzato nel manifesto del cluster di destinazione hello hello cluster.</span><span class="sxs-lookup"><span data-stu-id="287a3-105">And after going through an article like [Deploy and remove applications using PowerShell][10], it looks like all you do is copy/paste hello value as it appears in hello cluster manifest of hello target cluster.</span></span> <span data-ttu-id="287a3-106">Impostazione di hello devono pertanto essere configurabili per ogni cluster, ma quando si crea un cluster tramite hello [portale di Azure][11], non vi è alcun tooconfigure opzione questa impostazione e i relativi sempre "fabric: ImageStore".</span><span class="sxs-lookup"><span data-stu-id="287a3-106">So hello setting must be configurable per cluster, but when you create a cluster through hello [Azure portal][11], there's no option tooconfigure this setting and it's always "fabric:ImageStore".</span></span> <span data-ttu-id="287a3-107">Qual è la funzione hello di quindi questa impostazione?</span><span class="sxs-lookup"><span data-stu-id="287a3-107">What's hello purpose of this setting then?</span></span>

![Manifesto del cluster][img_cm]

<span data-ttu-id="287a3-109">Service Fabric iniziato come piattaforma per l'utilizzo Microsoft interno per molti team diversi, pertanto alcuni aspetti sono altamente personalizzabili: hello, "Image Store" è un aspetto di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="287a3-109">Service Fabric started off as a platform for internal Microsoft consumption by many diverse teams, so some aspects of it are highly customizable - hello "Image Store" is one such aspect.</span></span> <span data-ttu-id="287a3-110">In pratica, hello Image Store è un repository di collegamento per l'archiviazione dei pacchetti di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="287a3-110">Essentially, hello Image Store is a pluggable repository for storing application packages.</span></span> <span data-ttu-id="287a3-111">Quando l'applicazione è distribuita tooa nodo cluster hello, tale nodo Scarica il contenuto di hello del pacchetto di applicazione da hello archivio immagini.</span><span class="sxs-lookup"><span data-stu-id="287a3-111">When your application is deployed tooa node in hello cluster, that node downloads hello contents of your application package from hello Image Store.</span></span> <span data-ttu-id="287a3-112">ImageStoreConnectionString Hello è un'impostazione che include tutte le informazioni necessarie hello per i client e i nodi toofind hello corretto archivio immagini per un determinato cluster.</span><span class="sxs-lookup"><span data-stu-id="287a3-112">hello ImageStoreConnectionString is a setting that includes all hello necessary information for both clients and nodes toofind hello correct Image Store for a given cluster.</span></span>

<span data-ttu-id="287a3-113">Esistono attualmente tre tipi possibili di provider i Archivio immagini e le relative stringhe di connessione sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="287a3-113">There are currently three possible kinds of Image Store providers and their corresponding connection strings are as follows:</span></span>

1. <span data-ttu-id="287a3-114">Servizio di archiviazione immagini: "fabric:ImageStore"</span><span class="sxs-lookup"><span data-stu-id="287a3-114">Image Store Service: "fabric:ImageStore"</span></span>

2. <span data-ttu-id="287a3-115">File System: "file:[file system path]"</span><span class="sxs-lookup"><span data-stu-id="287a3-115">File System: "file:[file system path]"</span></span>

3. <span data-ttu-id="287a3-116">Archiviazione di Azure: "xstore:DefaultEndpointsProtocol=https;AccountName=[...];AccountKey=[...];Container=[...]"</span><span class="sxs-lookup"><span data-stu-id="287a3-116">Azure Storage: "xstore:DefaultEndpointsProtocol=https;AccountName=[...];AccountKey=[...];Container=[...]"</span></span>

<span data-ttu-id="287a3-117">tipo di provider Hello utilizzato nell'ambiente di produzione è hello immagine il servizio di archiviazione, un servizio di sistema persistente con stato che si può vedere dal Service Fabric Explorer.</span><span class="sxs-lookup"><span data-stu-id="287a3-117">hello provider type used in production is hello Image Store Service, which is a stateful persisted system service that you can see from Service Fabric Explorer.</span></span> 

![Servizio di archiviazione immagini][img_is]

<span data-ttu-id="287a3-119">Hosting hello Image Store in un servizio di sistema all'interno di cluster hello stesso Elimina dipendenze esterne per il repository di pacchetti hello e offre maggiore controllo sulla località hello di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="287a3-119">Hosting hello Image Store in a system service within hello cluster itself eliminates external dependencies for hello package repository and gives us more control over hello locality of storage.</span></span> <span data-ttu-id="287a3-120">Futuri miglioramenti intorno hello Image Store sono provider dell'archivio di immagini tootarget probabilmente hello in primo luogo, se non in modo esclusivo.</span><span class="sxs-lookup"><span data-stu-id="287a3-120">Future improvements around hello Image Store are likely tootarget hello Image Store provider first, if not exclusively.</span></span> <span data-ttu-id="287a3-121">stringa di connessione Hello per provider di servizio di archiviazione immagine hello non dispone di informazioni univoche perché il client di hello è già connesso toohello cluster di destinazione.</span><span class="sxs-lookup"><span data-stu-id="287a3-121">hello connection string for hello Image Store Service provider doesn't have any unique information since hello client is already connected toohello target cluster.</span></span> <span data-ttu-id="287a3-122">client Hello deve solo tooknow che devono essere utilizzati i protocolli hello servizio di sistema di destinazione.</span><span class="sxs-lookup"><span data-stu-id="287a3-122">hello client only needs tooknow that protocols targeting hello system service should be used.</span></span>

<span data-ttu-id="287a3-123">Hello File System provider viene utilizzato anziché hello immagine il servizio di archiviazione per i cluster di una casella locali durante il cluster di sviluppo toobootstrap hello leggermente superiore.</span><span class="sxs-lookup"><span data-stu-id="287a3-123">hello File System provider is used instead of hello Image Store Service for local one-box clusters during development toobootstrap hello cluster slightly faster.</span></span> <span data-ttu-id="287a3-124">differenza Hello è tipicamente piccola, ma è un'ottimizzazione per la maggior parte delle utile durante lo sviluppo.</span><span class="sxs-lookup"><span data-stu-id="287a3-124">hello difference is typically small, but it's a useful optimization for most folks during development.</span></span> <span data-ttu-id="287a3-125">È possibile toodeploy una casella locale di un cluster con hello anche altri tipi di provider di archiviazione, ma non è in genere toodo così poiché il flusso di lavoro di hello sviluppo/test non hello uguali indipendentemente dal provider.</span><span class="sxs-lookup"><span data-stu-id="287a3-125">It's possible toodeploy a local one-box cluster with hello other storage provider types as well, but there's usually no reason toodo so since hello develop/test workflow remains hello same regardless of provider.</span></span> <span data-ttu-id="287a3-126">Diverso da questo utilizzo, il provider di archiviazione di Azure e File System hello esiste solo per il supporto legacy.</span><span class="sxs-lookup"><span data-stu-id="287a3-126">Other than this usage, hello File System and Azure Storage providers only exist for legacy support.</span></span>

<span data-ttu-id="287a3-127">Pertanto, mentre hello ImageStoreConnectionString è configurabile, è in genere solo utilizzare hello impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="287a3-127">So while hello ImageStoreConnectionString is configurable, you generally just use hello default setting.</span></span> <span data-ttu-id="287a3-128">Quando si pubblicano tooAzure tramite [Visual Studio][12], parametro hello viene impostato automaticamente di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="287a3-128">When publishing tooAzure through [Visual Studio][12], hello parameter is automatically set for you accordingly.</span></span> <span data-ttu-id="287a3-129">Per la distribuzione a livello di codice tooclusters ospitato in Azure, la stringa di connessione hello è sempre "fabric: ImageStore".</span><span class="sxs-lookup"><span data-stu-id="287a3-129">For programmatic deployment tooclusters hosted in Azure, hello connection string is always "fabric:ImageStore".</span></span> <span data-ttu-id="287a3-130">Anche se in caso di dubbi, il relativo valore può essere verificato sempre recuperando hello manifesto del cluster da [PowerShell](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricclustermanifest), [.NET](https://msdn.microsoft.com/library/azure/mt161375.aspx), o [REST](https://docs.microsoft.com/rest/api/servicefabric/get-a-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="287a3-130">Though when in doubt, its value can always be verified by retrieving hello cluster manifest by [PowerShell](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricclustermanifest), [.NET](https://msdn.microsoft.com/library/azure/mt161375.aspx), or [REST](https://docs.microsoft.com/rest/api/servicefabric/get-a-cluster-manifest).</span></span> <span data-ttu-id="287a3-131">Test sia in locale e i cluster di produzione devono essere sempre anche provider di servizio di archiviazione immagine hello toouse configurato.</span><span class="sxs-lookup"><span data-stu-id="287a3-131">Both on-premises test and production clusters should always be configured toouse hello Image Store Service provider as well.</span></span>

### <a name="next-steps"></a><span data-ttu-id="287a3-132">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="287a3-132">Next steps</span></span>
<span data-ttu-id="287a3-133">[Deploy and remove applications using PowerShell][10] (Distribuire e rimuovere applicazioni con PowerShell)</span><span class="sxs-lookup"><span data-stu-id="287a3-133">[Deploy and remove applications using PowerShell][10]</span></span>

<!--Image references-->
[img_is]: ./media/service-fabric-image-store-connection-string/image_store_service.png
[img_cm]: ./media/service-fabric-image-store-connection-string/cluster_manifest.png

[10]: service-fabric-deploy-remove-applications.md
[11]: service-fabric-cluster-creation-via-portal.md
[12]: service-fabric-publish-app-remote-cluster.md
