---
title: aaaGranting accesso tooAzure Database SQL | Documenti Microsoft
description: Informazioni sulla concessione dell'accesso tooMicrosoft Database SQL di Azure.
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 8e71b04c-bc38-4153-8f83-f2b14faa31d9
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 02/06/2017
ms.author: rickbyh
ms.openlocfilehash: 4c32fafa7e98b731ff2f9bf4666da7e4a3145286
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-access-control"></a><span data-ttu-id="7da8b-103">Controllo dell'accesso al database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="7da8b-103">Azure SQL Database access control</span></span>
<span data-ttu-id="7da8b-104">sicurezza tooprovide, Database SQL controlla l'accesso con la limitazione di connettività utilizzando un indirizzo IP, i meccanismi di autenticazione che richiede agli utenti tooprove regole del firewall, identità e meccanismi di autorizzazione, limitando gli utenti toospecific azioni e i dati.</span><span class="sxs-lookup"><span data-stu-id="7da8b-104">tooprovide security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users tooprove their identity, and authorization mechanisms limiting users toospecific actions and data.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="7da8b-105">Per una panoramica delle funzionalità di sicurezza di hello Database SQL, vedere [Cenni preliminari sulla sicurezza SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-105">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span> <span data-ttu-id="7da8b-106">Per un'esercitazione, vedere [Proteggere il database SQL di Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-106">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>

## <a name="firewall-and-firewall-rules"></a><span data-ttu-id="7da8b-107">Firewall e regole del firewall</span><span class="sxs-lookup"><span data-stu-id="7da8b-107">Firewall and firewall rules</span></span>
<span data-ttu-id="7da8b-108">Il database SQL di Microsoft Azure fornisce un servizio di database relazionale per Azure e altre applicazioni basate su Internet.</span><span class="sxs-lookup"><span data-stu-id="7da8b-108">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="7da8b-109">toohelp proteggere i dati, i firewall impediscono tutti i server di database di access tooyour finché non si specifica quali computer dispongono di autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="7da8b-109">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="7da8b-110">firewall Hello concede accesso toodatabases in base a hello provenienti dall'indirizzo IP di ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="7da8b-110">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span> <span data-ttu-id="7da8b-111">Per altre informazioni, vedere [Panoramica sulle regole del firewall per il database SQL di Azure](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-111">For more information, see [Overview of Azure SQL Database firewall rules](sql-database-firewall-configure.md)</span></span>

<span data-ttu-id="7da8b-112">Hello servizio Database SQL di Azure è disponibile solo tramite la porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="7da8b-112">hello Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="7da8b-113">tooaccess un Database SQL da questo computer, verificare che il firewall del computer client consenta la comunicazione TCP in uscita sulla porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="7da8b-113">tooaccess a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="7da8b-114">Se non sono necessarie per altre applicazioni, bloccare le connessioni in ingresso sulla porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="7da8b-114">If not needed for other applications, block inbound connections on TCP port 1433.</span></span> 

<span data-ttu-id="7da8b-115">Come parte del processo di connessione hello, le connessioni da macchine virtuali di Azure vengono reindirizzate tooa diverso indirizzo IP e la porta, univoca per ogni ruolo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="7da8b-115">As part of hello connection process, connections from Azure virtual machines are redirected tooa different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="7da8b-116">numero di porta Hello è compreso nell'intervallo di hello da too11999 11000.</span><span class="sxs-lookup"><span data-stu-id="7da8b-116">hello port number is in hello range from 11000 too11999.</span></span> <span data-ttu-id="7da8b-117">Per altre informazioni sulle porte TCP, vedere [Porte superiori a 1433 per ADO.NET 4.5 e il database SQL](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-117">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>

## <a name="authentication"></a><span data-ttu-id="7da8b-118">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="7da8b-118">Authentication</span></span>

<span data-ttu-id="7da8b-119">Il database SQL supporta due tipi di autenticazione:</span><span class="sxs-lookup"><span data-stu-id="7da8b-119">SQL Database supports two types of authentication:</span></span>

* <span data-ttu-id="7da8b-120">**Autenticazione SQL**, che usa nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="7da8b-120">**SQL Authentication**, which uses a username and password.</span></span> <span data-ttu-id="7da8b-121">Durante la creazione di server logico hello per il database, è specificato un account di accesso "amministratore del server" con un nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="7da8b-121">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="7da8b-122">Utilizzando queste credenziali, è possibile autenticare tooany database su tale server come proprietario del database hello o "dbo".</span><span class="sxs-lookup"><span data-stu-id="7da8b-122">Using these credentials, you can authenticate tooany database on that server as hello database owner, or "dbo."</span></span> 
* <span data-ttu-id="7da8b-123">**Autenticazione di Azure Active Directory**, che usa identità gestite da Azure Active Directory ed è supportata per domini gestiti e integrati.</span><span class="sxs-lookup"><span data-stu-id="7da8b-123">**Azure Active Directory Authentication**, which uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="7da8b-124">[Quando possibile](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode), usare l'autenticazione di Active Directory (sicurezza integrata).</span><span class="sxs-lookup"><span data-stu-id="7da8b-124">Use Active Directory authentication (integrated security) [whenever possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span></span> <span data-ttu-id="7da8b-125">Se si desidera toouse autenticazione di Azure Active Directory, è necessario creare un altro amministratore del server denominato "Azure AD admin", che è consentito gruppi e utenti di Azure AD tooadminister hello.</span><span class="sxs-lookup"><span data-stu-id="7da8b-125">If you want toouse Azure Active Directory Authentication, you must create another server admin called hello "Azure AD admin," which is allowed tooadminister Azure AD users and groups.</span></span> <span data-ttu-id="7da8b-126">Questo amministratore può inoltre eseguire tutte le operazioni che un amministratore del server regolare può fare.</span><span class="sxs-lookup"><span data-stu-id="7da8b-126">This admin can also perform all operations that a regular server admin can.</span></span> <span data-ttu-id="7da8b-127">Vedere [connessione tooSQL Database usando Azure Active Directory l'autenticazione](sql-database-aad-authentication.md) per una procedura dettagliata relativa toocreate un tooenable di amministrazione di Azure AD autenticazione di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7da8b-127">See [Connecting tooSQL Database By Using Azure Active Directory Authentication](sql-database-aad-authentication.md) for a walkthrough of how toocreate an Azure AD admin tooenable Azure Active Directory Authentication.</span></span>

<span data-ttu-id="7da8b-128">Motore di Database Hello chiude le connessioni che rimangano inattive per più di 30 minuti.</span><span class="sxs-lookup"><span data-stu-id="7da8b-128">hello Database Engine closes connections that remain idle for more than 30 minutes.</span></span> <span data-ttu-id="7da8b-129">connessione Hello prima nuovo account di accesso può essere utilizzato.</span><span class="sxs-lookup"><span data-stu-id="7da8b-129">hello connection must login again before it can be used.</span></span> <span data-ttu-id="7da8b-130">In modo continuo tooSQL connessioni attive del Database richiedono la riautorizzazione (eseguita dal motore di database hello) almeno ogni 10 ore.</span><span class="sxs-lookup"><span data-stu-id="7da8b-130">Continuously active connections tooSQL Database require reauthorization (performed by hello database engine) at least every 10 hours.</span></span> <span data-ttu-id="7da8b-131">il motore di database Hello prova la nuova autorizzazione tramite password inviato hello e nessun input utente viene richiesto.</span><span class="sxs-lookup"><span data-stu-id="7da8b-131">hello database engine attempts reauthorization using hello originally submitted password and no user input is required.</span></span> <span data-ttu-id="7da8b-132">Per motivi di prestazioni quando si reimposta una password nel Database SQL, hello connessione non è riautenticare, anche se hello connessione viene reimpostata a causa di limitazione delle richieste tooconnection.</span><span class="sxs-lookup"><span data-stu-id="7da8b-132">For performance reasons, when a password is reset in SQL Database, hello connection is not be reauthenticated, even if hello connection is reset due tooconnection pooling.</span></span> <span data-ttu-id="7da8b-133">Ciò è diverso dal comportamento di hello del Server SQL locale.</span><span class="sxs-lookup"><span data-stu-id="7da8b-133">This is different from hello behavior of on-premises SQL Server.</span></span> <span data-ttu-id="7da8b-134">Se password hello è stata modificata dopo la connessione hello inizialmente è stata autorizzata, è necessario terminare la connessione hello e stabilire una nuova connessione utilizzando hello nuova password.</span><span class="sxs-lookup"><span data-stu-id="7da8b-134">If hello password has been changed since hello connection was initially authorized, hello connection must be terminated and a new connection made using hello new password.</span></span> <span data-ttu-id="7da8b-135">Un utente con hello `KILL DATABASE CONNECTION` autorizzazione possa terminare in modo esplicito un tooSQL di connessione del Database tramite hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) comando.</span><span class="sxs-lookup"><span data-stu-id="7da8b-135">A user with hello `KILL DATABASE CONNECTION` permission can explicitly terminate a connection tooSQL Database by using hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) command.</span></span>

<span data-ttu-id="7da8b-136">Gli account utente possono essere creati nel database master hello e possono essere concesse le autorizzazioni in tutti i database nel server di hello o possono essere creati nel database di hello stesso (denominato utenti indipendenti).</span><span class="sxs-lookup"><span data-stu-id="7da8b-136">User accounts can be created in hello master database and can be granted permissions in all databases on hello server, or they can be created in hello database itself (called contained users).</span></span> <span data-ttu-id="7da8b-137">Per informazioni sulla creazione e sulla gestione, vedere l'articolo su come [gestire gli account di accesso](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-137">For information on creating and managing logins, see [Manage logins](sql-database-manage-logins.md).</span></span> <span data-ttu-id="7da8b-138">portabilità tooenhance e scalabilty, utilizzare la scalabilità tooenhance agli utenti di database indipendente.</span><span class="sxs-lookup"><span data-stu-id="7da8b-138">tooenhance portability and scalabilty, use contained database users tooenhance scalability.</span></span> <span data-ttu-id="7da8b-139">Per altre informazioni sugli utenti indipendenti, vedere [Utenti di database indipendente: rendere portabile un database](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql) e [Database indipendenti](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span><span class="sxs-lookup"><span data-stu-id="7da8b-139">For more information on contained users, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql), and [Contained Databases](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span></span>

<span data-ttu-id="7da8b-140">Come procedura consigliata l'applicazione deve utilizzare un account dedicato di tooauthenticate: in questo modo è possibile limitare le autorizzazioni di hello concesse toohello applicazione e ridurre i rischi di hello di attività dannose nel caso in cui il codice dell'applicazione è vulnerabile tooa SQL injection attacco.</span><span class="sxs-lookup"><span data-stu-id="7da8b-140">As a best practice your application should use a dedicated account tooauthenticate -- this way you can limit hello permissions granted toohello application and reduce hello risks of malicious activity in case your application code is vulnerable tooa SQL injection attack.</span></span> <span data-ttu-id="7da8b-141">Hello approccio migliore consiste toocreate un [utente del database indipendente](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), che consente il tooauthenticate app direttamente toohello database.</span><span class="sxs-lookup"><span data-stu-id="7da8b-141">hello recommended approach is toocreate a [contained database user](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), which allows your app tooauthenticate directly toohello database.</span></span> 

## <a name="authorization"></a><span data-ttu-id="7da8b-142">Authorization</span><span class="sxs-lookup"><span data-stu-id="7da8b-142">Authorization</span></span>

<span data-ttu-id="7da8b-143">L'autorizzazione fa riferimento toowhat un utente può eseguire all'interno di un Database SQL di Azure e questa funzionalità è controllata dal database dell'account utente [le appartenenze ai ruoli](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) e [autorizzazioni a livello di oggetto](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span><span class="sxs-lookup"><span data-stu-id="7da8b-143">Authorization refers toowhat a user can do within an Azure SQL Database, and this is controlled by your user account's database [role memberships](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) and [object-level permissions](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span></span> <span data-ttu-id="7da8b-144">Come procedura consigliata, è necessario concedere privilegi minimi necessari hello gli utenti.</span><span class="sxs-lookup"><span data-stu-id="7da8b-144">As a best practice, you should grant users hello least privileges necessary.</span></span> <span data-ttu-id="7da8b-145">si è connessi con account amministratore del server Hello è un membro del ruolo db_owner, con le operazioni nel database di hello toodo autorità.</span><span class="sxs-lookup"><span data-stu-id="7da8b-145">hello server admin account you are connecting with is a member of db_owner, which has authority toodo anything within hello database.</span></span> <span data-ttu-id="7da8b-146">Salvare questo account per la distribuzione degli aggiornamenti allo schema e altre operazioni di gestione.</span><span class="sxs-lookup"><span data-stu-id="7da8b-146">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="7da8b-147">Utilizzare l'account "ApplicationUser" hello con tooconnect più limitato di autorizzazioni dal database dell'applicazione toohello con hello privilegi minimi necessari per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7da8b-147">Use hello "ApplicationUser" account with more limited permissions tooconnect from your application toohello database with hello least privileges needed by your application.</span></span> <span data-ttu-id="7da8b-148">Per altre informazioni, vedere l'articolo su come [gestire gli account di accesso](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-148">For more information, see [Manage logins](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="7da8b-149">In genere, solo gli amministratori devono accedere toohello `master` database.</span><span class="sxs-lookup"><span data-stu-id="7da8b-149">Typically, only administrators need access toohello `master` database.</span></span> <span data-ttu-id="7da8b-150">Database di access di routine tooeach utente deve essere tramite gli utenti non amministratori di database indipendente in ogni database creati.</span><span class="sxs-lookup"><span data-stu-id="7da8b-150">Routine access tooeach user database should be through non-administrator contained database users created in each database.</span></span> <span data-ttu-id="7da8b-151">Quando si usano utenti del database indipendente, non è necessario toocreate gli account di accesso in hello `master` database.</span><span class="sxs-lookup"><span data-stu-id="7da8b-151">When you use contained database users, you do not need toocreate logins in hello `master` database.</span></span> <span data-ttu-id="7da8b-152">Per altre informazioni, vedere [Utenti di database indipendente: rendere portabile un database](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span><span class="sxs-lookup"><span data-stu-id="7da8b-152">For more information, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span></span>

<span data-ttu-id="7da8b-153">È opportuno acquisire familiarità con hello funzionalità che possono essere utilizzati toolimit o elevare le autorizzazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="7da8b-153">You should familiarize yourself with hello following features that can be used toolimit or elevate permissions:</span></span>   
* <span data-ttu-id="7da8b-154">[Rappresentazione](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) e [firma modulo](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) possono essere utilizzati toosecurely elevare le autorizzazioni temporaneamente.</span><span class="sxs-lookup"><span data-stu-id="7da8b-154">[Impersonation](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) and [module-signing](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) can be used toosecurely elevate permissions temporarily.</span></span>
* <span data-ttu-id="7da8b-155">[Sicurezza a livello di riga](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) può essere utilizzato come limite alle cui righe un utente può accedere.</span><span class="sxs-lookup"><span data-stu-id="7da8b-155">[Row-Level Security](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) can be used limit which rows a user can access.</span></span>
* <span data-ttu-id="7da8b-156">[La maschera dati](sql-database-dynamic-data-masking-get-started.md) può essere utilizzato toolimit l'esposizione dei dati sensibili.</span><span class="sxs-lookup"><span data-stu-id="7da8b-156">[Data Masking](sql-database-dynamic-data-masking-get-started.md) can be used toolimit exposure of sensitive data.</span></span>
* <span data-ttu-id="7da8b-157">[Stored procedure](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) può essere utilizzato toolimit azioni hello che possono essere eseguite sul database hello.</span><span class="sxs-lookup"><span data-stu-id="7da8b-157">[Stored procedures](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) can be used toolimit hello actions that can be taken on hello database.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7da8b-158">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="7da8b-158">Next steps</span></span>

- <span data-ttu-id="7da8b-159">Per una panoramica delle funzionalità di sicurezza di hello Database SQL, vedere [Cenni preliminari sulla sicurezza SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-159">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span>
- <span data-ttu-id="7da8b-160">toolearn più sulle regole del firewall, vedere [regole del Firewall](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-160">toolearn more about firewall rules, see [Firewall rules](sql-database-firewall-configure.md).</span></span>
- <span data-ttu-id="7da8b-161">toolearn sugli utenti e account di accesso, vedere [gestire gli account di accesso](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-161">toolearn about users and logins, see [Manage logins](sql-database-manage-logins.md).</span></span> 
- <span data-ttu-id="7da8b-162">Per informazioni sul monitoraggio proattivo, vedere [controllo del database ](sql-database-auditing.md) e [Rilevamento delle minacce nel database SQL](sql-database-threat-detection.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-162">For a discussion of proactive monitoring, see [Database Auditing](sql-database-auditing.md) and [SQL Database Threat Detection](sql-database-threat-detection.md).</span></span>
- <span data-ttu-id="7da8b-163">Per un'esercitazione, vedere [Proteggere il database SQL di Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="7da8b-163">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>
