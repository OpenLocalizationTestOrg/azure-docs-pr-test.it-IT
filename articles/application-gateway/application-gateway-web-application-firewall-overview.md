---
title: firewall applicazione aaaIntroduction tooweb (WAF) per il Gateway applicazione Azure | Documenti Microsoft
description: Questa pagina offre una panoramica di Web application firewall (WAF) per il gateway applicazione
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="661c2-103">Web application firewall (WAF)</span><span class="sxs-lookup"><span data-stu-id="661c2-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="661c2-104">Web application firewall (WAF) è una funzionalità del gateway applicazione che offre una protezione centralizzata delle applicazioni Web da exploit e vulnerabilità comuni.</span><span class="sxs-lookup"><span data-stu-id="661c2-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="661c2-105">Firewall applicazione Web è in base alle regole da hello [set di regole di base OWASP](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 o 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="661c2-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="661c2-106">Le applicazioni Web sono sempre più vittime di attacchi che sfruttano le più comuni vulnerabilità note.</span><span class="sxs-lookup"><span data-stu-id="661c2-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="661c2-107">Comuni tra questi attacchi sono gli attacchi SQL injection, cross-site scripting attacchi tooname alcuni.</span><span class="sxs-lookup"><span data-stu-id="661c2-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="661c2-108">Impedire gli attacchi nel codice dell'applicazione può risultare complessa e potrebbe richiedere manutenzione rigorosa, l'applicazione di patch e il monitoraggio a più livelli della topologia applicazione hello.</span><span class="sxs-lookup"><span data-stu-id="661c2-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="661c2-109">Firewall applicazione web centralizzata rende molto più semplice gestione della sicurezza e offre migliorato garanzia agli amministratori di tooapplication contro minacce o intrusioni.</span><span class="sxs-lookup"><span data-stu-id="661c2-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="661c2-110">Una soluzione WAF può inoltre riflettere minaccia alla sicurezza tooa più veloce per l'applicazione di patch una vulnerabilità nota in una posizione centrale e la protezione di ognuna delle singole applicazioni web.</span><span class="sxs-lookup"><span data-stu-id="661c2-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="661c2-111">Gateway applicazione esistente può essere facilmente convertito tooa web applicazione firewall abilitato applicazioni gateway.</span><span class="sxs-lookup"><span data-stu-id="661c2-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="661c2-113">Gateway applicazione funziona come un'applicazione recapito controller e offerte terminazione SSL, l'affinità di sessione basato su cookie, distribuzione del carico round robin, il routing basato sul contenuto, toohost possibilità più miglioramenti di siti Web e di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="661c2-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="661c2-114">Miglioramenti apportati alla sicurezza offerta da Gateway applicazione includono Gestione criteri di SSL, fine tooend supporto SSL.</span><span class="sxs-lookup"><span data-stu-id="661c2-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="661c2-115">Sicurezza dell'applicazione è ora rafforzata da WAF (firewall applicazione web) viene integrato direttamente offerta hello ADC.</span><span class="sxs-lookup"><span data-stu-id="661c2-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="661c2-116">Fornisce un toomanage posizione centrale tooconfigure semplice e proteggere le applicazioni web comuni alle vulnerabilità di web.</span><span class="sxs-lookup"><span data-stu-id="661c2-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="661c2-117">Vantaggi</span><span class="sxs-lookup"><span data-stu-id="661c2-117">Benefits</span></span>

<span data-ttu-id="661c2-118">di seguito Hello sono i vantaggi principali hello che forniscono firewall applicazione web e di Gateway applicazione:</span><span class="sxs-lookup"><span data-stu-id="661c2-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="661c2-119">Protezione</span><span class="sxs-lookup"><span data-stu-id="661c2-119">Protection</span></span>

* <span data-ttu-id="661c2-120">Proteggere l'applicazione web da attacchi senza codice toobackend modifica e vulnerabilità di web.</span><span class="sxs-lookup"><span data-stu-id="661c2-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="661c2-121">Web più proteggere le applicazioni di hello stesso tempo dietro un gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="661c2-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="661c2-122">Gateway applicazione supporta l'hosting di siti Web too20 dietro un singolo gateway che possono essere protette da attacchi web con WAF.</span><span class="sxs-lookup"><span data-stu-id="661c2-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="661c2-123">Monitoraggio</span><span class="sxs-lookup"><span data-stu-id="661c2-123">Monitoring</span></span>

* <span data-ttu-id="661c2-124">Monitorare l'applicazione Web contro gli attacchi tramite un log di Web application firewall in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="661c2-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="661c2-125">Questo file di registro è integrato con [Monitor Azure](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF degli avvisi e registri e monitorare facilmente le tendenze.</span><span class="sxs-lookup"><span data-stu-id="661c2-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="661c2-126">Web application firewall sarà presto integrato con il Centro sicurezza di Azure.</span><span class="sxs-lookup"><span data-stu-id="661c2-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="661c2-127">Centro sicurezza di Azure consente la visualizzazione centrale dello stato di sicurezza hello di tutte le risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="661c2-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="661c2-128">Personalizzazione</span><span class="sxs-lookup"><span data-stu-id="661c2-128">Customization</span></span>

* <span data-ttu-id="661c2-129">Hello possibilità toocustomize WAF regole e regole gruppi toosuit dei requisiti dell'applicazione ed eliminare i falsi positivi.</span><span class="sxs-lookup"><span data-stu-id="661c2-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="661c2-130">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="661c2-130">Features</span></span>

<span data-ttu-id="661c2-131">Firewall applicazione Web è preconfigurato con CRS 3.0 per impostazione predefinita, oppure è possibile scegliere toouse 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="661c2-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="661c2-132">CRS 3.0 offre meno falsi positivi rispetto alla versione 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="661c2-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="661c2-133">Hello possibilità troppo[personalizzare regole toosuit esigenze](application-gateway-customize-waf-rules-portal.md) viene fornito.</span><span class="sxs-lookup"><span data-stu-id="661c2-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="661c2-134">Alcune delle vulnerabilità web comuni hello firewall applicazione web consente di proteggere include:</span><span class="sxs-lookup"><span data-stu-id="661c2-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="661c2-135">Protezione dagli attacchi SQL injection</span><span class="sxs-lookup"><span data-stu-id="661c2-135">SQL injection protection</span></span>
* <span data-ttu-id="661c2-136">Protezione dagli attacchi di scripting intersito</span><span class="sxs-lookup"><span data-stu-id="661c2-136">Cross site scripting protection</span></span>
* <span data-ttu-id="661c2-137">Protezione dai comuni attacchi Web, ad esempio attacchi di iniezione di comandi, richieste HTTP non valide, attacchi HTTP Response Splitting e Remote File Inclusion</span><span class="sxs-lookup"><span data-stu-id="661c2-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="661c2-138">Protezione dalle violazioni del protocollo HTTP</span><span class="sxs-lookup"><span data-stu-id="661c2-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="661c2-139">Protezione contro eventuali anomalie del protocollo HTTP, ad esempio user agent host mancante e accept header</span><span class="sxs-lookup"><span data-stu-id="661c2-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="661c2-140">Prevenzione contro robot, crawler e scanner</span><span class="sxs-lookup"><span data-stu-id="661c2-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="661c2-141">Rilevamento di errori di configurazione comuni dell'applicazione (ad esempio, Apache, IIS e così via)</span><span class="sxs-lookup"><span data-stu-id="661c2-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="661c2-142">Per un elenco dettagliato delle regole e le protezioni vedere seguente hello [set di regole di base](#core-rule-sets).</span><span class="sxs-lookup"><span data-stu-id="661c2-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="661c2-143">Set di regole principali</span><span class="sxs-lookup"><span data-stu-id="661c2-143">Core rule sets</span></span>

<span data-ttu-id="661c2-144">Il gateway applicazione supporta due set di regole, ovvero CRS 3.0 e CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="661c2-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="661c2-145">Questi set di regole principali sono raccolte di regole che proteggono le applicazioni Web da attività dannose.</span><span class="sxs-lookup"><span data-stu-id="661c2-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="661c2-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="661c2-146">OWASP_3.0</span></span>

<span data-ttu-id="661c2-147">set di regole di base Hello 3.0 fornito è 13 gruppi di regole come illustrato nella seguente tabella hello.</span><span class="sxs-lookup"><span data-stu-id="661c2-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="661c2-148">Ognuno di questi gruppi di regole contiene più regole che possono essere disabilitate.</span><span class="sxs-lookup"><span data-stu-id="661c2-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="661c2-149">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="661c2-149">RuleGroup</span></span>|<span data-ttu-id="661c2-150">Descrizione</span><span class="sxs-lookup"><span data-stu-id="661c2-150">Description</span></span>|
|---|---|
|<span data-ttu-id="661c2-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="661c2-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="661c2-152">Contiene le regole tooprotect contro spamming noti o attività dannose.</span><span class="sxs-lookup"><span data-stu-id="661c2-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="661c2-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="661c2-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="661c2-154">Contiene le regole toolock metodi inattivi (PUT, PATCH <...)</span><span class="sxs-lookup"><span data-stu-id="661c2-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="661c2-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="661c2-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="661c2-156">Contiene le regole tooprotect contro gli attacchi Denial of Service (DoS).</span><span class="sxs-lookup"><span data-stu-id="661c2-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="661c2-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="661c2-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="661c2-158">Contiene le regole tooprotect contro gli scanner di porta e l'ambiente.</span><span class="sxs-lookup"><span data-stu-id="661c2-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="661c2-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="661c2-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="661c2-160">Contiene regole tooprotect rispetto al protocollo e problemi di codifica.</span><span class="sxs-lookup"><span data-stu-id="661c2-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="661c2-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="661c2-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="661c2-162">Contiene le regole tooprotect contro injection di intestazione, richieste non valide e nella suddivisione della risposta</span><span class="sxs-lookup"><span data-stu-id="661c2-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="661c2-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="661c2-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="661c2-164">Contiene le regole tooprotect contro gli attacchi di tipo e il percorso file.</span><span class="sxs-lookup"><span data-stu-id="661c2-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="661c2-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="661c2-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="661c2-166">Contiene le regole tooprotect in remoto File di inclusione (RFI)</span><span class="sxs-lookup"><span data-stu-id="661c2-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="661c2-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="661c2-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="661c2-168">Contiene le regole tooprotect nuovamente l'esecuzione di codice.</span><span class="sxs-lookup"><span data-stu-id="661c2-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="661c2-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="661c2-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="661c2-170">Contiene le regole tooprotect da attacchi injection di PHP.</span><span class="sxs-lookup"><span data-stu-id="661c2-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="661c2-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="661c2-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="661c2-172">Contiene le regole per la protezione da cross site scripting.</span><span class="sxs-lookup"><span data-stu-id="661c2-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="661c2-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="661c2-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="661c2-174">Contiene le regole per la protezione da attacchi SQL injection.</span><span class="sxs-lookup"><span data-stu-id="661c2-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="661c2-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="661c2-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="661c2-176">Contiene le regole tooprotect contro gli attacchi di determinazione di sessione.</span><span class="sxs-lookup"><span data-stu-id="661c2-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="661c2-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="661c2-177">OWASP_2.2.9</span></span>

<span data-ttu-id="661c2-178">set di regole di base Hello 2.2.9 fornito dispone di 10 gruppi di regole come illustrato nella seguente tabella hello.</span><span class="sxs-lookup"><span data-stu-id="661c2-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="661c2-179">Ognuno di questi gruppi di regole contiene più regole che possono essere disabilitate.</span><span class="sxs-lookup"><span data-stu-id="661c2-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="661c2-180">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="661c2-180">RuleGroup</span></span>|<span data-ttu-id="661c2-181">Descrizione</span><span class="sxs-lookup"><span data-stu-id="661c2-181">Description</span></span>|
|---|---|
|<span data-ttu-id="661c2-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="661c2-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="661c2-183">Contiene le regole tooprotect contro le violazioni di protocollo (caratteri non validi, GET con un corpo della richiesta, ecc.)</span><span class="sxs-lookup"><span data-stu-id="661c2-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="661c2-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="661c2-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="661c2-185">Contiene le regole tooprotect con le informazioni di intestazione non corretta.</span><span class="sxs-lookup"><span data-stu-id="661c2-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="661c2-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="661c2-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="661c2-187">Contiene le regole tooprotect contro argomenti o i file che superano i limiti.</span><span class="sxs-lookup"><span data-stu-id="661c2-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="661c2-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="661c2-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="661c2-189">Contiene le regole tooprotect da metodi con restrizioni, le intestazioni e i tipi di file.</span><span class="sxs-lookup"><span data-stu-id="661c2-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="661c2-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="661c2-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="661c2-191">Contiene le regole tooprotect contro crawler e gli scanner.</span><span class="sxs-lookup"><span data-stu-id="661c2-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="661c2-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="661c2-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="661c2-193">Contiene le regole tooprotect attacchi generico (complemento di sessione, inclusione di file remoto, attacco intrusivo nel codice PHP e così via)</span><span class="sxs-lookup"><span data-stu-id="661c2-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="661c2-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="661c2-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="661c2-195">Contiene le regole tooprotect da attacchi SQL injection</span><span class="sxs-lookup"><span data-stu-id="661c2-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="661c2-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="661c2-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="661c2-197">Contiene le regole tooprotect contro cross-site scripting.</span><span class="sxs-lookup"><span data-stu-id="661c2-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="661c2-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="661c2-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="661c2-199">Contiene una regola tooprotect contro gli attacchi di attraversamento di percorso</span><span class="sxs-lookup"><span data-stu-id="661c2-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="661c2-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="661c2-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="661c2-201">Contiene le regole tooprotect contro backdoor Trojan.</span><span class="sxs-lookup"><span data-stu-id="661c2-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="661c2-202">Modalità del WAF</span><span class="sxs-lookup"><span data-stu-id="661c2-202">WAF Modes</span></span>

<span data-ttu-id="661c2-203">WAF di Gateway applicazione può essere configurato toorun in hello due modalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="661c2-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="661c2-204">**Modalità di rilevamento** : quando toorun configurato in modalità di rilevamento, WAF di Gateway applicazione monitora e registra tutti gli avvisi nel file di log tooa.</span><span class="sxs-lookup"><span data-stu-id="661c2-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="661c2-205">Registrazione della diagnostica per il Gateway applicazione deve essere attivata utilizzando hello **diagnostica** sezione.</span><span class="sxs-lookup"><span data-stu-id="661c2-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="661c2-206">È inoltre necessario tooensure che hello WAF log è selezionato e attivato.</span><span class="sxs-lookup"><span data-stu-id="661c2-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="661c2-207">Quando viene eseguito in modalità di rilevamento, Web application firewall non blocca le richieste in ingresso.</span><span class="sxs-lookup"><span data-stu-id="661c2-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="661c2-208">**Modalità di prevenzione** : quando toorun configurato in modalità di prevenzione, Gateway applicazione blocca attivamente intrusioni e attacchi rilevati da regole.</span><span class="sxs-lookup"><span data-stu-id="661c2-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="661c2-209">autore dell'attacco Hello riceve un'eccezione di accesso non autorizzato 403 e hello connessione viene terminata.</span><span class="sxs-lookup"><span data-stu-id="661c2-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="661c2-210">Modalità di prevenzione continua toolog tali attacchi hello WAF log.</span><span class="sxs-lookup"><span data-stu-id="661c2-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="661c2-211"><a name="application-gateway-waf-reports"></a>Monitoraggio WAF</span><span class="sxs-lookup"><span data-stu-id="661c2-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="661c2-212">Monitoraggio dell'integrità di hello del gateway applicazione è importante.</span><span class="sxs-lookup"><span data-stu-id="661c2-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="661c2-213">Monitoraggio dell'integrità di hello le applicazioni web application firewall e hello che protegge vengono forniti tramite la registrazione e l'integrazione con Monitor di Azure, il centro di sicurezza di Azure (presto disponibile) e Log Analitica.</span><span class="sxs-lookup"><span data-stu-id="661c2-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![diagnostica](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="661c2-215">Monitoraggio di Azure</span><span class="sxs-lookup"><span data-stu-id="661c2-215">Azure Monitor</span></span>

<span data-ttu-id="661c2-216">Ogni log del gateway applicazione è integrato con [Monitoraggio di Azure](../monitoring-and-diagnostics/monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="661c2-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="661c2-217">In questo modo le informazioni di diagnostica tootrack inclusi WAF avvisi e registri.</span><span class="sxs-lookup"><span data-stu-id="661c2-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="661c2-218">Questa funzionalità viene fornita all'interno delle risorse di Gateway applicazione nel portale di hello in hello hello **diagnostica** scheda o tramite hello Azure monitoraggio del servizio direttamente.</span><span class="sxs-lookup"><span data-stu-id="661c2-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="661c2-219">informazioni su come abilitare i log di diagnostica per il gateway applicazione visitare toolearn [diagnostica del Gateway applicazione](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="661c2-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="661c2-220">Centro sicurezza di Azure</span><span class="sxs-lookup"><span data-stu-id="661c2-220">Azure Security Center</span></span>

<span data-ttu-id="661c2-221">[Centro sicurezza di Azure](../security-center/security-center-intro.md) consente di impedire, rilevare e rispondere toothreats con una maggiore visibilità e controllo sui hello protezione delle risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="661c2-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="661c2-222">Il gateway applicazione è ora [integrato nel Centro sicurezza di Azure](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="661c2-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="661c2-223">Centro sicurezza di Azure esegue l'analisi delle applicazioni web di ambiente toodetect non protetto.</span><span class="sxs-lookup"><span data-stu-id="661c2-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="661c2-224">Ora possibile consigliabile tooprotect WAF di gateway applicazione queste risorse vulnerabili.</span><span class="sxs-lookup"><span data-stu-id="661c2-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="661c2-225">È possibile creare applicazioni gateway WAF direttamente da hello Centro sicurezza di Azure.</span><span class="sxs-lookup"><span data-stu-id="661c2-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="661c2-226">Queste istanze WAF sono integrate con Centro sicurezza di Azure e restituiscono avvisi e informazioni sull'integrità tooAzure centro di sicurezza per i report.</span><span class="sxs-lookup"><span data-stu-id="661c2-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![Figura 1](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="661c2-228">Registrazione</span><span class="sxs-lookup"><span data-stu-id="661c2-228">Logging</span></span>

<span data-ttu-id="661c2-229">Il WAF del gateway applicazione fornisce rapporti dettagliati su ogni minaccia rilevata.</span><span class="sxs-lookup"><span data-stu-id="661c2-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="661c2-230">La registrazione è integrata con i log di diagnostica di Azure e gli avvisi vengono registrati in formato JSON.</span><span class="sxs-lookup"><span data-stu-id="661c2-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="661c2-231">Questi log possono essere integrati con [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="661c2-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="661c2-233">Prezzi dello SKU WAF del gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="661c2-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="661c2-234">Web application firewall è disponibile in un nuovo SKU del WAF.</span><span class="sxs-lookup"><span data-stu-id="661c2-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="661c2-235">Questo prodotto è disponibile solo nel modello di provisioning di gestione risorse di Azure e non nel modello di distribuzione classica hello.</span><span class="sxs-lookup"><span data-stu-id="661c2-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="661c2-236">Lo SKU del WAF è disponibile solo in istanze del gateway applicazione di medie e grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="661c2-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="661c2-237">Tutti i limiti di hello per il gateway applicazione si applicano anche toohello WAF SKU.</span><span class="sxs-lookup"><span data-stu-id="661c2-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="661c2-238">I prezzi sono basati su una tariffa oraria per istanza del gateway e una tariffa di elaborazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="661c2-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="661c2-239">I prezzi orari del gateway per lo SKU del WAF sono diversi dalle tariffe dello SKU standard e sono indicati nella pagina relativa ai [dettagli sui prezzi del gateway applicazione](https://azure.microsoft.com/pricing/details/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="661c2-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="661c2-240">L'elaborazione dati rimangono addebiti hello stesso.</span><span class="sxs-lookup"><span data-stu-id="661c2-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="661c2-241">Non sono presenti tariffe per regola o gruppo di regole.</span><span class="sxs-lookup"><span data-stu-id="661c2-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="661c2-242">È possibile proteggere più applicazioni web dietro hello stesso web firewall applicazione e non sono previsti costi aggiuntivi per il supporto di più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="661c2-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="661c2-243">La fatturazione per WAF inizia in modo efficace 5/5/2017, fino a quando hello quindi gateway SKU WAF continua toobe addebitato in base alle tariffe standard.</span><span class="sxs-lookup"><span data-stu-id="661c2-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="661c2-244">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="661c2-244">Next steps</span></span>

<span data-ttu-id="661c2-245">Dopo aver appreso informazioni sulle funzionalità di hello di WAF, visitare [come tooconfigure web firewall applicazione Gateway applicazione](application-gateway-web-application-firewall-portal.md).</span><span class="sxs-lookup"><span data-stu-id="661c2-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

