---
title: aaaMy primo grafica runbook di automazione di Azure | Documenti Microsoft
description: Esercitazione viene illustrata la creazione di hello, test e la pubblicazione di un runbook grafico semplice.
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: runbook, modello di runbook, automazione runbook, runbook di Azure
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 964cf8bae75ca597959bfc39b2b07c22bbc9acb5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="e1d9d-104">Il primo runbook grafico</span><span class="sxs-lookup"><span data-stu-id="e1d9d-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="e1d9d-105">Grafico</span><span class="sxs-lookup"><span data-stu-id="e1d9d-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="e1d9d-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="e1d9d-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="e1d9d-107">Flusso di lavoro PowerShell</span><span class="sxs-lookup"><span data-stu-id="e1d9d-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="e1d9d-108">In questa esercitazione viene illustrata la creazione hello di un [runbook grafico](automation-runbook-types.md#graphical-runbooks) in automazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-108">This tutorial walks you through hello creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="e1d9d-109">Si inizia con un runbook semplice che verifica e pubblica mentre spiegheremo come tootrack hello lo stato di processo del runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-109">We start with a simple runbook that tests and publishes while we explain how tootrack hello status of hello runbook job.</span></span>  <span data-ttu-id="e1d9d-110">È modificare runbook hello tooactually Gestione risorse di Azure, in questo caso, avviare una macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="e1d9d-111">Verrà quindi completato esercitazione hello rendendo più affidabile hello runbook tramite l'aggiunta di parametri del runbook e collegamenti condizionali.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-111">Then we complete hello tutorial by making hello runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e1d9d-112">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="e1d9d-112">Prerequisites</span></span>
<span data-ttu-id="e1d9d-113">toocomplete questa esercitazione, è necessario hello seguente.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-113">toocomplete this tutorial, you will need hello following.</span></span>

* <span data-ttu-id="e1d9d-114">Sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-114">Azure subscription.</span></span>  <span data-ttu-id="e1d9d-115">Se non si ha ancora una sottoscrizione, è possibile [attivare i vantaggi della sottoscrizione MSDN](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) oppure <a href="/pricing/free-account/" target="_blank">[iscriversi per ottenere un account gratuito](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="e1d9d-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="e1d9d-116">[Account di automazione di Azure](automation-sec-configure-azure-runas-account.md) toohold hello runbook ed eseguire l'autenticazione tooAzure risorse.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="e1d9d-117">Questo account deve disporre dell'autorizzazione toostart e arrestare la macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="e1d9d-118">Macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-118">An Azure virtual machine.</span></span>  <span data-ttu-id="e1d9d-119">Si arresterà e si avvierà la macchina virtuale in modo che non sia di produzione.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="e1d9d-120">Passaggio 1: Creare un runbook</span><span class="sxs-lookup"><span data-stu-id="e1d9d-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="e1d9d-121">Viene innanzitutto creato un runbook semplice che restituisce testo hello *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-121">We start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="e1d9d-122">Nel portale di Azure hello, aprire l'account di automazione.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="e1d9d-123">pagina account di automazione Hello offre una rapida panoramica delle risorse hello in questo account.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span>  <span data-ttu-id="e1d9d-124">Dovrebbero essere già disponibili alcuni asset.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-124">You should already have some Assets.</span></span>  <span data-ttu-id="e1d9d-125">La maggior parte di questi sono i moduli di hello che vengono inclusi automaticamente in un nuovo account di automazione.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="e1d9d-126">È inoltre necessario avere asset delle credenziali hello menzionato in hello [prerequisiti](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="e1d9d-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="e1d9d-127">Fare clic su hello **runbook** riquadro tooopen hello elenco di runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-127">Click hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br> <span data-ttu-id="e1d9d-128">![Controllo Runbook](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="e1d9d-129">Creare un nuovo runbook facendo clic su hello **aggiungere un runbook** pulsante e quindi **creare un nuovo runbook**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-129">Create a new runbook by clicking on hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="e1d9d-130">Nome di hello runbook hello *MyFirstRunbook grafica*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-130">Give hello runbook hello name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="e1d9d-131">In questo caso, verrà toocreate un [runbook grafico](automation-graphical-authoring-intro.md) pertanto selezionare **Graphical** per **tipo Runbook**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-131">In this case, we're going toocreate a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="e1d9d-132">![Nuovo runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="e1d9d-133">Fare clic su **crea** toocreate hello runbook e l'editor grafico hello aperto.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-133">Click **Create** toocreate hello runbook and open hello graphical editor.</span></span>

## <a name="step-2---add-activities-toohello-runbook"></a><span data-ttu-id="e1d9d-134">Passaggio 2: aggiungere attività toohello runbook</span><span class="sxs-lookup"><span data-stu-id="e1d9d-134">Step 2 - Add activities toohello runbook</span></span>
<span data-ttu-id="e1d9d-135">controllo della raccolta sul lato sinistro di hello dell'editor di hello Hello consente tooselect attività tooadd tooyour runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-135">hello Library control on hello left side of hello editor allows you tooselect activities tooadd tooyour runbook.</span></span>  <span data-ttu-id="e1d9d-136">Stiamo tooadd un **Write-Output** cmdlet toooutput testo hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-136">We're going tooadd a **Write-Output** cmdlet toooutput text from hello runbook.</span></span>

1. <span data-ttu-id="e1d9d-137">In hello controllo della raccolta, fare clic nella casella di testo hello ricerca e digitare **Write-Output**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-137">In hello Library control, click in hello search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="e1d9d-138">i risultati della ricerca Hello verranno visualizzati di seguito.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-138">hello search results will be displayed below.</span></span> <br> <span data-ttu-id="e1d9d-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="e1d9d-140">Scorrere verso il basso toohello inferiore dell'elenco di hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-140">Scroll down toohello bottom of hello list.</span></span>  <span data-ttu-id="e1d9d-141">È possibile una rapida **Write-Output** e selezionare **aggiungere toocanvas** o fare clic su Avanti toohello cmdlet di hello puntini di sospensione e quindi selezionare **aggiungere toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-141">You can either right-click **Write-Output** and select **Add toocanvas** or click hello ellipse next toohello cmdlet and then select **Add toocanvas**.</span></span>
3. <span data-ttu-id="e1d9d-142">Fare clic su hello **Write-Output** attività nell'area di disegno hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-142">Click hello **Write-Output** activity on hello canvas.</span></span>  <span data-ttu-id="e1d9d-143">Consente di aprire Pannello di controllo configurazione hello, che consente attività hello tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-143">This opens hello Configuration control blade, which allows you tooconfigure hello activity.</span></span>
4. <span data-ttu-id="e1d9d-144">Hello **etichetta** predefinito toohello nome del cmdlet hello, ma è possibile modificare toosomething più descrittivo.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-144">hello **Label** defaults toohello name of hello cmdlet, but we can change it toosomething more friendly.</span></span> <span data-ttu-id="e1d9d-145">Modificarlo troppo*toooutput scrivere Hello World*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-145">Change it too*Write Hello World toooutput*.</span></span>
5. <span data-ttu-id="e1d9d-146">Fare clic su **parametri** tooprovide valori per parametri del cmdlet hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-146">Click **Parameters** tooprovide values for hello cmdlet's parameters.</span></span>  
   <span data-ttu-id="e1d9d-147">Alcuni cmdlet avere più set di parametri ed è necessario tooselect quali uno toouse è.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-147">Some cmdlets have multiple parameter sets, and you need tooselect which you one toouse.</span></span> <span data-ttu-id="e1d9d-148">In questo caso, **Write-Output** ha un solo set di parametri, pertanto non è necessario tooselect uno.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-148">In this case, **Write-Output** has only one parameter set, so you don't need tooselect one.</span></span> <br> <span data-ttu-id="e1d9d-149">![Proprietà Write-Output](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="e1d9d-150">Seleziona hello **InputObject** parametro.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-150">Select hello **InputObject** parameter.</span></span>  <span data-ttu-id="e1d9d-151">Questo è il parametro hello in cui si specifica flusso di output di hello testo toosend toohello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-151">This is hello parameter where we specify hello text toosend toohello output stream.</span></span>
7. <span data-ttu-id="e1d9d-152">In hello **origine dati** elenco a discesa Seleziona **espressione PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-152">In hello **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="e1d9d-153">Hello **origine dati** elenco a discesa sono disponibili varie origini utilizzare toopopulate un valore di parametro.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-153">hello **Data source** dropdown provides different sources that you use toopopulate a parameter value.</span></span>  
   <span data-ttu-id="e1d9d-154">È possibile usare l'output da tali origini, ad esempio un'altra attività, un asset di automazione o un'espressione di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="e1d9d-155">In questo caso, è sufficiente a testo hello toooutput *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-155">In this case, we just want toooutput hello text *Hello World*.</span></span> <span data-ttu-id="e1d9d-156">È possibile usare un'espressione di PowerShell e specificare una stringa.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="e1d9d-157">In hello **espressione** digitare *"Hello World"* e quindi fare clic su **OK** due volte tooreturn toohello canvas.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-157">In hello **Expression** box, type *"Hello World"* and then click **OK** twice tooreturn toohello canvas.</span></span><br> <span data-ttu-id="e1d9d-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="e1d9d-159">Salvare il runbook hello facendo **salvare**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-159">Save hello runbook by clicking **Save**.</span></span><br> <span data-ttu-id="e1d9d-160">![Salvataggio del runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="e1d9d-161">Passaggio 3: Test hello runbook</span><span class="sxs-lookup"><span data-stu-id="e1d9d-161">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="e1d9d-162">Prima Pubblichiamo toomake runbook hello è disponibile nell'ambiente di produzione, è necessario tootest è toomake assicurarsi che funzioni correttamente.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-162">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span>  <span data-ttu-id="e1d9d-163">Quando si testa un runbook, è necessario eseguire la versione **Bozza** e visualizzarne l'output in modo interattivo.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="e1d9d-164">Fare clic su **riquadro Test** blade di Test tooopen hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-164">Click **Test pane** tooopen hello Test blade.</span></span><br> <span data-ttu-id="e1d9d-165">![Riquadro Test](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="e1d9d-166">Fare clic su **avviare** test hello toostart.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-166">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="e1d9d-167">Deve trattarsi di opzione hello solo abilitato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-167">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="e1d9d-168">Oggetto [processo del runbook](automation-runbook-execution.md) viene creato e il relativo stato visualizzati nel riquadro di hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in hello pane.</span></span>  
   <span data-ttu-id="e1d9d-169">lo stato del processo Hello viene avviato come *in coda* che indica che è in attesa per un runbook worker in hello cloud toobecome disponibili.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-169">hello job status starts as *Queued* indicating that it is waiting for a runbook worker in hello cloud toobecome available.</span></span>  <span data-ttu-id="e1d9d-170">Viene quindi spostata troppo*iniziale* quando un thread di lavoro attestazioni processo hello e quindi *esecuzione* quando runbook hello effettivamente avviata l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-170">It then moves too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="e1d9d-171">Al termine del processo del runbook hello, viene visualizzato l'output.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-171">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="e1d9d-172">In questo caso, dovrebbe essere visualizzato *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="e1d9d-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="e1d9d-174">Chiudere l'area di disegno hello Test pannello tooreturn toohello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-174">Close hello Test blade tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="e1d9d-175">Passaggio 4: pubblicare e avviare runbook hello</span><span class="sxs-lookup"><span data-stu-id="e1d9d-175">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="e1d9d-176">runbook Hello creata è ancora in modalità bozza.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-176">hello runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="e1d9d-177">È necessario toopublish prima di poterlo eseguire nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-177">We need toopublish it before we can run it in production.</span></span>  <span data-ttu-id="e1d9d-178">Quando si pubblica un runbook, con la versione bozza hello sovrascrivere versione hello già pubblicata.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-178">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span>  <span data-ttu-id="e1d9d-179">In questo caso, non abbiamo una versione pubblicata ancora poiché runbook hello appena creato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-179">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="e1d9d-180">Fare clic su **pubblica** toopublish hello runbook e quindi **Sì** quando richiesto.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-180">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="e1d9d-181">![Pubblica](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="e1d9d-182">Se si scorre tooview sinistro hello runbook hello **runbook** pannello mostra un **stato di creazione** di **pubblicato**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-182">If you scroll left tooview hello runbook in hello **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="e1d9d-183">Scorrimento toohello indietro tooview destra hello pannello **MyFirstRunbook**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-183">Scroll back toohello right tooview hello blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="e1d9d-184">Hello opzioni in alto hello consentono toostart hello runbook, pianificarlo toostart in un momento nel futuro hello o creare un [webhook](automation-webhooks.md) in modo da poter essere avviato tramite una chiamata HTTP.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-184">hello options across hello top allow us toostart hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="e1d9d-185">È sufficiente toostart hello runbook, fare clic sul **avviare** e quindi **Sì** quando richiesto.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-185">We just want toostart hello runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="e1d9d-186">![Avvia runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="e1d9d-187">Un pannello del processo è stato aperto per processo del runbook hello creati.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-187">A job blade is opened for hello runbook job that we created.</span></span>  <span data-ttu-id="e1d9d-188">È possibile chiudere questo pannello, ma in questo caso viene lasciato aperto in modo è possibile controllare lo stato di avanzamento del processo di hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-188">We can close this blade, but in this case we leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="e1d9d-189">viene visualizzato lo stato del processo Hello in **riepilogo** e corrispondenze hello gli Stati che abbiamo visto quando è stato testato hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-189">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br> <span data-ttu-id="e1d9d-190">![Riepilogo dei processi](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="e1d9d-191">Una volta hello Mostra lo stato runbook *completato*, fare clic su **Output**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-191">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="e1d9d-192">Hello **Output** pannello è aperto ed è possibile osservare il nostro *Hello World* nel riquadro di hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-192">hello **Output** blade is opened, and we can see our *Hello World* in hello pane.</span></span><br> <span data-ttu-id="e1d9d-193">![Riepilogo dei processi](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="e1d9d-194">Pannello di Output di hello Chiudi.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-194">Close hello Output blade.</span></span>
9. <span data-ttu-id="e1d9d-195">Fare clic su **tutti i log** tooopen hello flussi pannello processo del runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-195">Click **All Logs** tooopen hello Streams blade for hello runbook job.</span></span>  <span data-ttu-id="e1d9d-196">Solo dovremmo vedere *Hello World* nell'output di hello flusso, tuttavia questa operazione consente di visualizzare i flussi per un processo del runbook, ad esempio dettagliati e di errore se runbook hello scrive toothem.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-196">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br> <span data-ttu-id="e1d9d-197">![Riepilogo dei processi](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="e1d9d-198">Chiudere il pannello di tutti i log hello e blade di hello processo pannello tooreturn toohello MyFirstRunbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-198">Close hello All Logs blade and hello Job blade tooreturn toohello MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="e1d9d-199">Fare clic su **processi** pannello processi di hello tooopen per questo runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-199">Click **Jobs** tooopen hello Jobs blade for this runbook.</span></span>  <span data-ttu-id="e1d9d-200">Elenca tutti i processi di hello creati da questo runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-200">This lists all hello jobs created by this runbook.</span></span> <span data-ttu-id="e1d9d-201">Dovremmo vedere solo un processo elencato in quanto è solo esecuzione hello processo una volta.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-201">We should only see one job listed since we only ran hello job once.</span></span><br> <span data-ttu-id="e1d9d-202">![Processi](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="e1d9d-203">È possibile fare clic su questo processo tooopen hello stesso riquadro processo che abbiamo visto quando è stato avviato il runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-203">You can click this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span>  <span data-ttu-id="e1d9d-204">In questo modo si toogo indietro nel tempo e visualizzarne i dettagli di hello di qualsiasi processo che è stato creato per un runbook specifico.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-204">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="e1d9d-205">Passaggio 5: Creare asset di variabile</span><span class="sxs-lookup"><span data-stu-id="e1d9d-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="e1d9d-206">Il runbook è stato testato e pubblicato, ma finora non esegue alcuna attività utile.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="e1d9d-207">Vogliamo toohave Gestione risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-207">We want toohave it manage Azure resources.</span></span>  <span data-ttu-id="e1d9d-208">Prima è stato possibile configurare tooauthenticate runbook hello, si crea un ID di sottoscrizione hello toohold variabile e farvi riferimento dopo che sono stati impostati hello attività tooauthenticate nel passaggio 6 seguente.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-208">Before we configure hello runbook tooauthenticate, we  create a variable toohold hello subscription ID and reference it after we set up hello activity tooauthenticate in step 6 below.</span></span>  <span data-ttu-id="e1d9d-209">Incluso un contesto di riferimento toohello sottoscrizione consente tooeasily lavoro tra più sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-209">Including a reference toohello subscription context allows you tooeasily work between multiple subscriptions.</span></span>  <span data-ttu-id="e1d9d-210">Prima di procedere, copiare l'ID sottoscrizione dal riquadro di spostamento hello opzione sottoscrizioni hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-210">Before proceeding, copy your subscription ID from hello Subscriptions option off hello Navigation pane.</span></span>  

1. <span data-ttu-id="e1d9d-211">Nel Pannello di account di automazione hello, fare clic su hello **asset** riquadro e hello **asset** pannello viene aperto.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-211">In hello Automation Accounts blade, click hello **Assets** tile and hello **Assets** blade is opened.</span></span>
2. <span data-ttu-id="e1d9d-212">Nel pannello asset hello, fare clic su hello **variabili** riquadro.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-212">In hello Assets blade, click hello **Variables** tile.</span></span>
3. <span data-ttu-id="e1d9d-213">Nel pannello variabili hello, fare clic su **aggiungere una variabile**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-213">On hello Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="e1d9d-214">![Variabile di Automazione](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="e1d9d-215">In hello nuova variabile pannello in hello **nome** immettere **AzureSubscriptionId** e hello **valore** casella immettere l'ID sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-215">In hello New variable blade, in hello **Name** box, enter **AzureSubscriptionId** and in hello **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="e1d9d-216">Mantenere *stringa* per hello **tipo** e il valore predefinito hello per **crittografia**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-216">Keep *string* for hello **Type** and hello default value for **Encryption**.</span></span>  
5. <span data-ttu-id="e1d9d-217">Fare clic su **crea** variabile hello toocreate.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-217">Click **Create** toocreate hello variable.</span></span>  

## <a name="step-6---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="e1d9d-218">Passaggio 6: aggiungere l'autenticazione toomanage risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="e1d9d-218">Step 6 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="e1d9d-219">Ora che è disponibile una variabile toohold l'ID sottoscrizione, è possibile configurare tooauthenticate i runbook con hello Esegui come credenziali di cui viene fatto riferimento tooin hello [prerequisiti](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="e1d9d-219">Now that we have a variable toohold our subscription ID, we can configure our runbook tooauthenticate with hello Run As credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="e1d9d-220">Facciamo aggiungendo hello Azure runas connessione **Asset** e **Aggiungi AzureRMAccount** cmdlet toohello canvas.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-220">We do that by adding hello Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet toohello canvas.</span></span>  

1. <span data-ttu-id="e1d9d-221">Editor grafico di hello aperto facendo **modifica** nel pannello MyFirstRunbook hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-221">Open hello graphical editor by clicking **Edit** on hello MyFirstRunbook blade.</span></span><br> <span data-ttu-id="e1d9d-222">![Modificare il runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="e1d9d-223">Non è necessario hello **scrivere Hello World toooutput** più, pertanto pulsante destro del mouse e selezionare **eliminare**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-223">We don't need hello **Write Hello World toooutput** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="e1d9d-224">Nel controllo della raccolta hello, espandere **connessioni** e aggiungere **AzureRunAsConnection** toohello area di disegno selezionando **aggiungere toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-224">In hello Library control, expand **Connections** and add **AzureRunAsConnection** toohello canvas by selecting **Add toocanvas**.</span></span>
4. <span data-ttu-id="e1d9d-225">Nell'area di disegno hello, selezionare **AzureRunAsConnection** e nel riquadro di controllo configurazione di hello, digitare **ottenere eseguire come connessione** in hello **etichetta** casella di testo.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-225">On hello canvas, select **AzureRunAsConnection** and in hello Configuration control pane, type **Get Run As Connection** in hello **Label** textbox.</span></span>  <span data-ttu-id="e1d9d-226">Si tratta di hello connessione</span><span class="sxs-lookup"><span data-stu-id="e1d9d-226">This is hello connection</span></span>
5. <span data-ttu-id="e1d9d-227">Nel controllo della raccolta hello, digitare **Aggiungi AzureRmAccount** nella casella di ricerca testo hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-227">In hello Library control, type **Add-AzureRmAccount** in hello search textbox.</span></span>
6. <span data-ttu-id="e1d9d-228">Aggiungi **Aggiungi AzureRmAccount** toohello area di disegno.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-228">Add **Add-AzureRmAccount** toohello canvas.</span></span><br> <span data-ttu-id="e1d9d-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="e1d9d-230">Passare il mouse su **ottenere eseguire come connessione** fino a quando non viene visualizzato un cerchio nella parte inferiore di hello della forma hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-230">Hover over **Get Run As Connection** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="e1d9d-231">Fare clic su cerchio hello e trascinare la freccia hello troppo**Aggiungi AzureRmAccount**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-231">Click hello circle and drag hello arrow too**Add-AzureRmAccount**.</span></span>  <span data-ttu-id="e1d9d-232">freccia Hello creato è un *collegamento*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-232">hello arrow that you created is a *link*.</span></span>  <span data-ttu-id="e1d9d-233">Hello runbook viene avviato con **ottenere eseguire come connessione** e quindi eseguire **Aggiungi AzureRmAccount**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-233">hello runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="e1d9d-234">![Creare un collegamento tra le attività](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="e1d9d-235">Nell'area di disegno hello, selezionare **Aggiungi AzureRmAccount** e in configurazione hello controllo tipo di riquadro **accesso tooAzure** in hello **etichetta** casella di testo.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-235">On hello canvas, select **Add-AzureRmAccount** and in hello Configuration control pane type **Login tooAzure** in hello **Label** textbox.</span></span>
9. <span data-ttu-id="e1d9d-236">Fare clic su **parametri** e viene visualizzato il pannello di configurazione dei parametri attività hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-236">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="e1d9d-237">**AzureRmAccount aggiungere** dispone di più set di parametri, pertanto è necessario tooselect uno prima che possiamo fornire i valori dei parametri.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-237">**Add-AzureRmAccount** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="e1d9d-238">Fare clic su **parametro impostato** e quindi selezionare hello **ServicePrincipalCertificatewithSubscriptionId** set di parametri.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-238">Click **Parameter Set** and then select hello **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="e1d9d-239">Dopo aver selezionato il set di parametri di hello, parametri di hello vengono visualizzati nel Pannello di configurazione dei parametri attività hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-239">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="e1d9d-240">Fare clic su **APPLICATIONID**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="e1d9d-241">![Aggiungere parametri all'account Azure RM](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="e1d9d-242">Nel Pannello di valore del parametro hello, selezionare **output attività** per hello **origine dati** e selezionare **ottenere eseguire come connessione** elenco hello in hello **campo percorso** tipo textbox **ApplicationId**, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-242">In hello Parameter Value blade, select **Activity output** for hello **Data source** and select **Get Run As Connection** from hello list, in hello **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="e1d9d-243">Si sta specificando nome di hello della proprietà hello per percorso campo hello perché l'attività hello restituisce un oggetto con proprietà più.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-243">We are specifying hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="e1d9d-244">Fare clic su **CERTIFICATETHUMBPRINT**e nel Pannello di valore del parametro hello, selezionare **output attività** per hello **origine dati**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-244">Click **CERTIFICATETHUMBPRINT**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="e1d9d-245">Selezionare **ottenere eseguire come connessione** dall'elenco hello, hello **percorso campo** tipo textbox **CertificateThumbprint**, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-245">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="e1d9d-246">Fare clic su **SERVICEPRINCIPAL**e nel Pannello di valore del parametro hello, selezionare **ConstantValue** per hello **origine dati**, fare clic su opzione hello **True**, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-246">Click **SERVICEPRINCIPAL**, and in hello Parameter Value blade, select **ConstantValue** for hello **Data source**, click hello option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="e1d9d-247">Fare clic su **TENANTID**e nel Pannello di valore del parametro hello, selezionare **output attività** per hello **origine dati**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-247">Click **TENANTID**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="e1d9d-248">Selezionare **ottenere eseguire come connessione** dall'elenco hello, hello **percorso campo** tipo textbox **TenantId**, quindi fare clic su **OK** due volte.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-248">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="e1d9d-249">Nel controllo della raccolta hello, digitare **Set AzureRmContext** nella casella di ricerca testo hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-249">In hello Library control, type **Set-AzureRmContext** in hello search textbox.</span></span>
17. <span data-ttu-id="e1d9d-250">Aggiungere **Set AzureRmContext** toohello area di disegno.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-250">Add **Set-AzureRmContext** toohello canvas.</span></span>
18. <span data-ttu-id="e1d9d-251">Nell'area di disegno hello, selezionare **Set AzureRmContext** e in configurazione hello controllo tipo di riquadro **specificare Id sottoscrizione** in hello **etichetta** casella di testo.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-251">On hello canvas, select **Set-AzureRmContext** and in hello Configuration control pane type **Specify Subscription Id** in hello **Label** textbox.</span></span>
19. <span data-ttu-id="e1d9d-252">Fare clic su **parametri** e viene visualizzato il pannello di configurazione dei parametri attività hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-252">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="e1d9d-253">**Set-AzureRmContext** dispone di più set di parametri, pertanto è necessario tooselect uno prima che possiamo fornire i valori dei parametri.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-253">**Set-AzureRmContext** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="e1d9d-254">Fare clic su **parametro impostato** e quindi selezionare hello **SubscriptionId** set di parametri.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-254">Click **Parameter Set** and then select hello **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="e1d9d-255">Dopo aver selezionato il set di parametri di hello, parametri di hello vengono visualizzati nel Pannello di configurazione dei parametri attività hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-255">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="e1d9d-256">Fare clic su **SubscriptionID**</span><span class="sxs-lookup"><span data-stu-id="e1d9d-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="e1d9d-257">Nel Pannello di valore del parametro hello, selezionare **Asset della variabile** per hello **origine dati** e selezionare **AzureSubscriptionId** dall'elenco di hello e quindi fare clic su **OK**  due volte.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-257">In hello Parameter Value blade, select **Variable Asset** for hello **Data source** and select **AzureSubscriptionId** from hello list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="e1d9d-258">Passare il mouse su **tooAzure accesso** fino a quando non viene visualizzato un cerchio nella parte inferiore di hello della forma hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-258">Hover over **Login tooAzure** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="e1d9d-259">Fare clic su cerchio hello e trascinare la freccia hello troppo**specificare Id sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-259">Click hello circle and drag hello arrow too**Specify Subscription Id**.</span></span>

<span data-ttu-id="e1d9d-260">Il runbook dovrebbe essere simile hello seguente a questo punto:</span><span class="sxs-lookup"><span data-stu-id="e1d9d-260">Your runbook should look like hello following at this point:</span></span> <br>![Configurazione dell'autenticazione runbook](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-toostart-a-virtual-machine"></a><span data-ttu-id="e1d9d-262">Passaggio 7: aggiungere attività toostart una macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="e1d9d-262">Step 7 - Add activity toostart a virtual machine</span></span>
<span data-ttu-id="e1d9d-263">Di seguito viene aggiunta una **inizio AzureRmVM** attività toostart una macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-263">Here we add a **Start-AzureRmVM** activity toostart a virtual machine.</span></span>  <span data-ttu-id="e1d9d-264">È possibile selezionare qualsiasi macchina virtuale nella sottoscrizione di Azure e per ora è hardcoded di nome nel cmdlet hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into hello cmdlet.</span></span>

1. <span data-ttu-id="e1d9d-265">Nel controllo della raccolta hello, digitare **inizio AzureRm** nella casella di ricerca testo hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-265">In hello Library control, type **Start-AzureRm** in hello search textbox.</span></span>
2. <span data-ttu-id="e1d9d-266">Aggiungere **inizio AzureRmVM** toohello area di disegno e quindi fare clic e trascinarlo sotto **specificare Id sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-266">Add **Start-AzureRmVM** toohello canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="e1d9d-267">Passare il mouse su **specificare Id sottoscrizione** fino a quando non viene visualizzato un cerchio nella parte inferiore di hello della forma hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-267">Hover over **Specify Subscription Id** until a circle appears on hello bottom of hello shape.</span></span>  <span data-ttu-id="e1d9d-268">Fare clic su cerchio hello e trascinare la freccia hello troppo**inizio AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-268">Click hello circle and drag hello arrow too**Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="e1d9d-269">Selezionare **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="e1d9d-270">Fare clic su **parametri** e quindi **parametro impostato** tooview hello imposta per **inizio AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-270">Click **Parameters** and then **Parameter Set** tooview hello sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="e1d9d-271">Seleziona hello **ResourceGroupNameParameterSetName** set di parametri.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-271">Select hello **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="e1d9d-272">Si noti che accanto a **ResourceGroupName** e **Name** sono presenti punti esclamativi.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="e1d9d-273">Indicano che si tratta di parametri obbligatori.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="e1d9d-274">Si noti anche che i valori previsti per entrambi sono stringhe.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="e1d9d-275">Selezionare **Name**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-275">Select **Name**.</span></span>  <span data-ttu-id="e1d9d-276">Selezionare **espressione PowerShell** per hello **origine dati** e digitare il nome di hello della macchina virtuale hello racchiuso tra virgolette doppie che si iniziano con il runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-276">Select **PowerShell expression** for hello **Data source** and type in hello name of hello virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="e1d9d-277">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-277">Click **OK**.</span></span><br><span data-ttu-id="e1d9d-278">![Valore del parametro Name di Start-AzureRmVM](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="e1d9d-279">Selezionare **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="e1d9d-280">Utilizzare **espressione PowerShell** per hello **origine dati** e digitare il nome di hello hello del gruppo di risorse racchiuso tra virgolette doppie.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-280">Use **PowerShell expression** for hello **Data source** and type in hello name of hello resource group surrounded with double quotes.</span></span>  <span data-ttu-id="e1d9d-281">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-281">Click **OK**.</span></span><br> <span data-ttu-id="e1d9d-282">![Parametri di Start-AzureRmVM](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="e1d9d-283">Fare clic su riquadro Test in modo che sia possibile testare il runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-283">Click Test pane so that we can test hello runbook.</span></span>
8. <span data-ttu-id="e1d9d-284">Fare clic su **avviare** test hello toostart.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-284">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="e1d9d-285">Una volta che è stata completata, verificare che la macchina virtuale hello è stata avviata.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-285">Once it completes, check that hello virtual machine was started.</span></span>

<span data-ttu-id="e1d9d-286">Il runbook dovrebbe essere simile hello seguente a questo punto:</span><span class="sxs-lookup"><span data-stu-id="e1d9d-286">Your runbook should look like hello following at this point:</span></span> <br>![Configurazione dell'autenticazione runbook](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-toohello-runbook"></a><span data-ttu-id="e1d9d-288">Passaggio 8: aggiungere altri parametri di input toohello runbook</span><span class="sxs-lookup"><span data-stu-id="e1d9d-288">Step 8 - Add additional input parameters toohello runbook</span></span>
<span data-ttu-id="e1d9d-289">I runbook attualmente avvia macchina virtuale hello nel gruppo di risorse hello che sono state specificate nella hello **inizio AzureRmVM** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-289">Our runbook currently starts hello virtual machine in hello resource group that we specified in hello **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="e1d9d-290">I runbook sarebbe più utile se è stato possibile specificarli entrambi durante hello runbook viene avviato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-290">Our runbook would be more useful if we could specify both when hello runbook is started.</span></span>  <span data-ttu-id="e1d9d-291">È ora aggiungere parametri di input toohello runbook tooprovide tale funzionalità.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-291">We now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="e1d9d-292">Editor grafico di hello aperto facendo **modifica** su hello **MyFirstRunbook** riquadro.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-292">Open hello graphical editor by clicking **Edit** on hello **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="e1d9d-293">Fare clic su **Input e output** e quindi **aggiungere input** riquadro dei parametri di Input Runbook hello tooopen.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-293">Click **Input and output** and then **Add input** tooopen hello Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="e1d9d-294">![Input e output del runbook](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="e1d9d-295">Specificare *VMName* per hello **nome**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-295">Specify *VMName* for hello **Name**.</span></span>  <span data-ttu-id="e1d9d-296">Mantenere *stringa* per hello **tipo**, ma modificare **obbligatorio** troppo*Sì*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-296">Keep *string* for hello **Type**, but change **Mandatory** too*Yes*.</span></span>  <span data-ttu-id="e1d9d-297">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-297">Click **OK**.</span></span>
4. <span data-ttu-id="e1d9d-298">Creare un parametro di input obbligatorio secondo chiamato *ResourceGroupName* e quindi fare clic su **OK** tooclose hello **di Input e Output** riquadro.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** tooclose hello **Input and Output** pane.</span></span><br> <span data-ttu-id="e1d9d-299">![Parametri di input del runbook](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="e1d9d-300">Seleziona hello **inizio AzureRmVM** attività e quindi fare clic su **parametri**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-300">Select hello **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="e1d9d-301">Hello modifica **origine dati** per **nome** troppo**input Runbook** e quindi selezionare **VMName**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-301">Change hello **Data source** for **Name** too**Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="e1d9d-302">Hello modifica **origine dati** per **ResourceGroupName** troppo**input Runbook** e quindi selezionare **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-302">Change hello **Data source** for **ResourceGroupName** too**Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="e1d9d-303">![Parametri Start-AzureVM](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="e1d9d-304">Salvare il runbook hello e aprire il riquadro di Test hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-304">Save hello runbook and open hello Test pane.</span></span>  <span data-ttu-id="e1d9d-305">Si noti che è possibile ora specificare valori per hello due variabili di input utilizzati nel test hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-305">Note that you can now provide values for hello two input variables that you use in hello test.</span></span>
9. <span data-ttu-id="e1d9d-306">Riquadro Test hello Chiudi.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-306">Close hello Test pane.</span></span>
10. <span data-ttu-id="e1d9d-307">Fare clic su **pubblica** la nuova versione hello toopublish di hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-307">Click **Publish** toopublish hello new version of hello runbook.</span></span>
11. <span data-ttu-id="e1d9d-308">Arrestare la macchina virtuale hello che è stato avviato nel passaggio precedente hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-308">Stop hello virtual machine that you started in hello previous step.</span></span>
12. <span data-ttu-id="e1d9d-309">Fare clic su **avviare** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-309">Click **Start** toostart hello runbook.</span></span>  <span data-ttu-id="e1d9d-310">Tipo di hello **VMName** e **ResourceGroupName** per la macchina virtuale hello che sarà toostart.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-310">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br> <span data-ttu-id="e1d9d-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="e1d9d-312">Al termine del processo di runbook hello, verificare che la macchina virtuale hello è stata avviata.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-312">When hello runbook completes, check that hello virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="e1d9d-313">Passaggio 9: Creare un collegamento condizionale</span><span class="sxs-lookup"><span data-stu-id="e1d9d-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="e1d9d-314">È ora possibile modificare runbook hello in modo che cerca solo macchina virtuale di hello toostart se non è già stato avviato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-314">We now modify hello runbook so that it only attempts toostart hello virtual machine if it is not already started.</span></span>  <span data-ttu-id="e1d9d-315">Questo scopo, aggiungere un **Get AzureRmVM** runbook toohello cmdlet che ottiene hello istanza lo stato del livello di macchina virtuale hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-315">You do this by adding a **Get-AzureRmVM** cmdlet toohello runbook that gets hello instance level status of hello virtual machine.</span></span> <span data-ttu-id="e1d9d-316">Quindi aggiungere un modulo di codice del flusso di lavoro di PowerShell denominato **Ottieni stato** con un frammento di PowerShell codice toodetermine se hello macchina virtuale sia in esecuzione o arrestato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code toodetermine if hello virtual machine state is running or stopped.</span></span>  <span data-ttu-id="e1d9d-317">Un collegamento condizionale da hello **Ottieni stato** modulo viene eseguito solo **inizio AzureRmVM** se lo stato di esecuzione corrente di hello viene arrestato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-317">A conditional link from hello **Get Status** module only runs **Start-AzureRmVM** if hello current running state is stopped.</span></span>  <span data-ttu-id="e1d9d-318">Infine, abbiamo output tooinform un messaggio se hello VM è stato avviato correttamente o non deterministica tramite i cmdlet di PowerShell. Write-Output di hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-318">Finally, we output a message tooinform you if hello VM was successfully started or not using hello PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="e1d9d-319">Aprire **MyFirstRunbook** nell'editor grafico hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-319">Open **MyFirstRunbook** in hello graphical editor.</span></span>
2. <span data-ttu-id="e1d9d-320">Rimuovi collegamento hello tra **specificare Id sottoscrizione** e **inizio AzureRmVM** facendo clic su di esso e quindi premendo hello *eliminare* chiave.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-320">Remove hello link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing hello *Delete* key.</span></span>
3. <span data-ttu-id="e1d9d-321">Nel controllo della raccolta hello, digitare **Get AzureRm** nella casella di ricerca testo hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-321">In hello Library control, type **Get-AzureRm** in hello search textbox.</span></span>
4. <span data-ttu-id="e1d9d-322">Aggiungere **Get AzureRmVM** toohello area di disegno.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-322">Add **Get-AzureRmVM** toohello canvas.</span></span>
5. <span data-ttu-id="e1d9d-323">Selezionare **Get AzureRmVM** e quindi **parametro impostato** tooview hello imposta per **Get AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-323">Select **Get-AzureRmVM** and then **Parameter Set** tooview hello sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="e1d9d-324">Seleziona hello **GetVirtualMachineInResourceGroupNameParamSet** set di parametri.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-324">Select hello **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="e1d9d-325">Si noti che accanto a **ResourceGroupName** e **Name** sono presenti punti esclamativi.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="e1d9d-326">Indicano che si tratta di parametri obbligatori.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="e1d9d-327">Si noti anche che i valori previsti per entrambi sono stringhe.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="e1d9d-328">In **Origine dati** per **Nome** selezionare **Input runbook** e quindi selezionare **VMName**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="e1d9d-329">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-329">Click **OK**.</span></span>
7. <span data-ttu-id="e1d9d-330">In **Origine dati** per **ResourceGroupName** selezionare **Input runbook** e quindi selezionare **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="e1d9d-331">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-331">Click **OK**.</span></span>
8. <span data-ttu-id="e1d9d-332">In **Origine dati** per **Stato** selezionare **Valore costante** e quindi fare clic su **True**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="e1d9d-333">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-333">Click **OK**.</span></span>  
9. <span data-ttu-id="e1d9d-334">Creare un collegamento da **specificare Id sottoscrizione** troppo**Get AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-334">Create a link from **Specify Subscription Id** too**Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="e1d9d-335">Nel controllo libreria hello espandere **controllo Runbook** e aggiungere **codice** toohello area di disegno.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-335">In hello library control, expand **Runbook Control** and add **Code** toohello canvas.</span></span>  
11. <span data-ttu-id="e1d9d-336">Creare un collegamento da **Get AzureRmVM** troppo**codice**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-336">Create a link from **Get-AzureRmVM** too**Code**.</span></span>  
12. <span data-ttu-id="e1d9d-337">Fare clic su **codice** e nel riquadro di configurazione hello, modificare l'etichetta troppo**Ottieni stato**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-337">Click **Code** and in hello Configuration pane, change label too**Get Status**.</span></span>
13. <span data-ttu-id="e1d9d-338">Selezionare **codice** parametro e hello **Editor di codice** pannello viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-338">Select **Code** parameter, and hello **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="e1d9d-339">Nell'editor di codice hello, incollare il seguente frammento di codice hello:</span><span class="sxs-lookup"><span data-stu-id="e1d9d-339">In hello code editor, paste hello following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="e1d9d-340">Creare un collegamento da **Ottieni stato** troppo**inizio AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-340">Create a link from **Get Status** too**Start-AzureRmVM**.</span></span><br> <span data-ttu-id="e1d9d-341">![Runbook con il modulo Code](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="e1d9d-342">Selezionare il collegamento di hello e nel riquadro Configurazione hello modificare **applicare una condizione di** troppo**Sì**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-342">Select hello link and in hello Configuration pane, change **Apply condition** too**Yes**.</span></span>   <span data-ttu-id="e1d9d-343">Collegamento hello nota attiva riga tooa tratteggiato che indica l'attività di destinazione hello viene eseguito solo se la condizione hello risolve tootrue.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-343">Note hello link turns tooa dashed line indicating that hello target activity only runs if hello condition resolves tootrue.</span></span>  
17. <span data-ttu-id="e1d9d-344">Per hello **espressione di condizione**, tipo *$ActivityOutput ['Ottieni stato'] - eq "Stopped"*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-344">For hello **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="e1d9d-345">**Inizio AzureRmVM** viene eseguita solo se macchina virtuale hello è stato arrestato.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-345">**Start-AzureRmVM** now only runs if hello virtual machine is stopped.</span></span>
18. <span data-ttu-id="e1d9d-346">Nel controllo della raccolta hello, espandere **cmdlet** e quindi **utility**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-346">In hello Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="e1d9d-347">Aggiungere **Write-Output** canvas toohello due volte.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-347">Add **Write-Output** toohello canvas twice.</span></span><br> <span data-ttu-id="e1d9d-348">![Runbook con Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="e1d9d-349">In hello prima **Write-Output** controllo, fare clic su **parametri** e modificare hello **etichetta** valore troppo*notificare macchina virtuale avviata*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-349">On hello first **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Started*.</span></span>
21. <span data-ttu-id="e1d9d-350">Per **InputObject**, modificare **origine dati** troppo**espressione PowerShell** e tipo di espressione hello *"$VMName avviato correttamente."* .</span><span class="sxs-lookup"><span data-stu-id="e1d9d-350">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="e1d9d-351">In hello secondo **Write-Output** controllo, fare clic su **parametri** e modificare hello **etichetta** valore troppo*notificare VM Start non è riuscita*</span><span class="sxs-lookup"><span data-stu-id="e1d9d-351">On hello second **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Start Failed*</span></span>
23. <span data-ttu-id="e1d9d-352">Per **InputObject**, modificare **origine dati** troppo**espressione PowerShell** e tipo di espressione hello *"$VMName non è stato possibile avviare."* .</span><span class="sxs-lookup"><span data-stu-id="e1d9d-352">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="e1d9d-353">Creare un collegamento da **inizio AzureRmVM** troppo**notificare macchina virtuale avviata** e **notifica non riuscita di VM avviare**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-353">Create a link from **Start-AzureRmVM** too**Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="e1d9d-354">Selezionare il collegamento hello troppo**notificare macchina virtuale avviata** e modificare **applicare una condizione di** troppo**True**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-354">Select hello link too**Notify VM Started** and change **Apply condition** too**True**.</span></span>
26. <span data-ttu-id="e1d9d-355">Per hello **espressione di condizione**, tipo *$ActivityOutput ['Start-AzureRmVM']. IsSuccessStatusCode - eq $true*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-355">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="e1d9d-356">Questo Write-Output il controllo viene eseguito solo se macchina virtuale hello sia stato avviato correttamente.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-356">This Write-Output control now only runs if hello virtual machine is successfully started.</span></span>
27. <span data-ttu-id="e1d9d-357">Selezionare il collegamento hello troppo**notifica non riuscita di VM avviare** e modificare **applicare una condizione di** troppo**True**.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-357">Select hello link too**Notify VM Start Failed** and change **Apply condition** too**True**.</span></span>
28. <span data-ttu-id="e1d9d-358">Per hello **espressione di condizione**, tipo *$ActivityOutput ['Start-AzureRmVM']. IsSuccessStatusCode - ne $true*.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-358">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="e1d9d-359">Questo Write-Output controllo ora solo viene eseguito se macchina virtuale hello non sia stato avviato correttamente.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-359">This Write-Output control now only runs if hello virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="e1d9d-360">Salvare il runbook hello e aprire il riquadro di Test hello.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-360">Save hello runbook and open hello Test pane.</span></span>
30. <span data-ttu-id="e1d9d-361">Avviare runbook hello con macchina virtuale hello arrestato e deve iniziare.</span><span class="sxs-lookup"><span data-stu-id="e1d9d-361">Start hello runbook with hello virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e1d9d-362">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="e1d9d-362">Next steps</span></span>
* <span data-ttu-id="e1d9d-363">toolearn ulteriori informazioni sui grafici per la modifica, vedere [grafici per la modifica in automazione di Azure](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-363">toolearn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="e1d9d-364">tooget avviato con runbook PowerShell, vedere [il runbook prima di PowerShell](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-364">tooget started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="e1d9d-365">tooget avviato con runbook del flusso di lavoro di PowerShell, vedere [il primo runbook del flusso di lavoro di PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="e1d9d-365">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

